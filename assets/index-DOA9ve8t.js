function sZ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function OV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dk={exports:{}},E1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function lZ(){if(ZO)return E1;ZO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:t,type:n,key:c,ref:i!==void 0?i:null,props:o}}return E1.Fragment=e,E1.jsx=r,E1.jsxs=r,E1}var QO;function cZ(){return QO||(QO=1,dk.exports=lZ()),dk.exports}var Yt=cZ(),fk={exports:{}},Aa={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function uZ(){if(JO)return Aa;JO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.iterator;function S(_t){return _t===null||typeof _t!="object"?null:(_t=I&&_t[I]||_t["@@iterator"],typeof _t=="function"?_t:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function H(_t,lt,Tt){this.props=_t,this.context=lt,this.refs=U,this.updater=Tt||P}H.prototype.isReactComponent={},H.prototype.setState=function(_t,lt){if(typeof _t!="object"&&typeof _t!="function"&&_t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_t,lt,"setState")},H.prototype.forceUpdate=function(_t){this.updater.enqueueForceUpdate(this,_t,"forceUpdate")};function G(){}G.prototype=H.prototype;function z(_t,lt,Tt){this.props=_t,this.context=lt,this.refs=U,this.updater=Tt||P}var j=z.prototype=new G;j.constructor=z,D(j,H.prototype),j.isPureReactComponent=!0;var X=Array.isArray;function Y(){}var et={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function it(_t,lt,Tt){var kt=Tt.ref;return{$$typeof:t,type:_t,key:lt,ref:kt!==void 0?kt:null,props:Tt}}function vt(_t,lt){return it(_t.type,lt,_t.props)}function at(_t){return typeof _t=="object"&&_t!==null&&_t.$$typeof===t}function V(_t){var lt={"=":"=0",":":"=2"};return"$"+_t.replace(/[=:]/g,function(Tt){return lt[Tt]})}var dt=/\/+/g;function mt(_t,lt){return typeof _t=="object"&&_t!==null&&_t.key!=null?V(""+_t.key):lt.toString(36)}function wt(_t){switch(_t.status){case"fulfilled":return _t.value;case"rejected":throw _t.reason;default:switch(typeof _t.status=="string"?_t.then(Y,Y):(_t.status="pending",_t.then(function(lt){_t.status==="pending"&&(_t.status="fulfilled",_t.value=lt)},function(lt){_t.status==="pending"&&(_t.status="rejected",_t.reason=lt)})),_t.status){case"fulfilled":return _t.value;case"rejected":throw _t.reason}}throw _t}function pt(_t,lt,Tt,kt,Rt){var Ut=typeof _t;(Ut==="undefined"||Ut==="boolean")&&(_t=null);var ie=!1;if(_t===null)ie=!0;else switch(Ut){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(_t.$$typeof){case t:case e:ie=!0;break;case x:return ie=_t._init,pt(ie(_t._payload),lt,Tt,kt,Rt)}}if(ie)return Rt=Rt(_t),ie=kt===""?"."+mt(_t,0):kt,X(Rt)?(Tt="",ie!=null&&(Tt=ie.replace(dt,"$&/")+"/"),pt(Rt,lt,Tt,"",function(de){return de})):Rt!=null&&(at(Rt)&&(Rt=vt(Rt,Tt+(Rt.key==null||_t&&_t.key===Rt.key?"":(""+Rt.key).replace(dt,"$&/")+"/")+ie)),lt.push(Rt)),1;ie=0;var Ht=kt===""?".":kt+":";if(X(_t))for(var ce=0;ce<_t.length;ce++)kt=_t[ce],Ut=Ht+mt(kt,ce),ie+=pt(kt,lt,Tt,Ut,Rt);else if(ce=S(_t),typeof ce=="function")for(_t=ce.call(_t),ce=0;!(kt=_t.next()).done;)kt=kt.value,Ut=Ht+mt(kt,ce++),ie+=pt(kt,lt,Tt,Ut,Rt);else if(Ut==="object"){if(typeof _t.then=="function")return pt(wt(_t),lt,Tt,kt,Rt);throw lt=String(_t),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return ie}function At(_t,lt,Tt){if(_t==null)return _t;var kt=[],Rt=0;return pt(_t,kt,"","",function(Ut){return lt.call(Tt,Ut,Rt++)}),kt}function St(_t){if(_t._status===-1){var lt=_t._result;lt=lt(),lt.then(function(Tt){(_t._status===0||_t._status===-1)&&(_t._status=1,_t._result=Tt)},function(Tt){(_t._status===0||_t._status===-1)&&(_t._status=2,_t._result=Tt)}),_t._status===-1&&(_t._status=0,_t._result=lt)}if(_t._status===1)return _t._result.default;throw _t._result}var Lt=typeof reportError=="function"?reportError:function(_t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _t=="object"&&_t!==null&&typeof _t.message=="string"?String(_t.message):String(_t),error:_t});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_t);return}console.error(_t)},jt={map:At,forEach:function(_t,lt,Tt){At(_t,function(){lt.apply(this,arguments)},Tt)},count:function(_t){var lt=0;return At(_t,function(){lt++}),lt},toArray:function(_t){return At(_t,function(lt){return lt})||[]},only:function(_t){if(!at(_t))throw Error("React.Children.only expected to receive a single React element child.");return _t}};return Aa.Activity=k,Aa.Children=jt,Aa.Component=H,Aa.Fragment=r,Aa.Profiler=i,Aa.PureComponent=z,Aa.StrictMode=n,Aa.Suspense=g,Aa.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Aa.__COMPILER_RUNTIME={__proto__:null,c:function(_t){return et.H.useMemoCache(_t)}},Aa.cache=function(_t){return function(){return _t.apply(null,arguments)}},Aa.cacheSignal=function(){return null},Aa.cloneElement=function(_t,lt,Tt){if(_t==null)throw Error("The argument must be a React element, but you passed "+_t+".");var kt=D({},_t.props),Rt=_t.key;if(lt!=null)for(Ut in lt.key!==void 0&&(Rt=""+lt.key),lt)!st.call(lt,Ut)||Ut==="key"||Ut==="__self"||Ut==="__source"||Ut==="ref"&&lt.ref===void 0||(kt[Ut]=lt[Ut]);var Ut=arguments.length-2;if(Ut===1)kt.children=Tt;else if(1<Ut){for(var ie=Array(Ut),Ht=0;Ht<Ut;Ht++)ie[Ht]=arguments[Ht+2];kt.children=ie}return it(_t.type,Rt,kt)},Aa.createContext=function(_t){return _t={$$typeof:c,_currentValue:_t,_currentValue2:_t,_threadCount:0,Provider:null,Consumer:null},_t.Provider=_t,_t.Consumer={$$typeof:o,_context:_t},_t},Aa.createElement=function(_t,lt,Tt){var kt,Rt={},Ut=null;if(lt!=null)for(kt in lt.key!==void 0&&(Ut=""+lt.key),lt)st.call(lt,kt)&&kt!=="key"&&kt!=="__self"&&kt!=="__source"&&(Rt[kt]=lt[kt]);var ie=arguments.length-2;if(ie===1)Rt.children=Tt;else if(1<ie){for(var Ht=Array(ie),ce=0;ce<ie;ce++)Ht[ce]=arguments[ce+2];Rt.children=Ht}if(_t&&_t.defaultProps)for(kt in ie=_t.defaultProps,ie)Rt[kt]===void 0&&(Rt[kt]=ie[kt]);return it(_t,Ut,Rt)},Aa.createRef=function(){return{current:null}},Aa.forwardRef=function(_t){return{$$typeof:a,render:_t}},Aa.isValidElement=at,Aa.lazy=function(_t){return{$$typeof:x,_payload:{_status:-1,_result:_t},_init:St}},Aa.memo=function(_t,lt){return{$$typeof:v,type:_t,compare:lt===void 0?null:lt}},Aa.startTransition=function(_t){var lt=et.T,Tt={};et.T=Tt;try{var kt=_t(),Rt=et.S;Rt!==null&&Rt(Tt,kt),typeof kt=="object"&&kt!==null&&typeof kt.then=="function"&&kt.then(Y,Lt)}catch(Ut){Lt(Ut)}finally{lt!==null&&Tt.types!==null&&(lt.types=Tt.types),et.T=lt}},Aa.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Aa.use=function(_t){return et.H.use(_t)},Aa.useActionState=function(_t,lt,Tt){return et.H.useActionState(_t,lt,Tt)},Aa.useCallback=function(_t,lt){return et.H.useCallback(_t,lt)},Aa.useContext=function(_t){return et.H.useContext(_t)},Aa.useDebugValue=function(){},Aa.useDeferredValue=function(_t,lt){return et.H.useDeferredValue(_t,lt)},Aa.useEffect=function(_t,lt){return et.H.useEffect(_t,lt)},Aa.useEffectEvent=function(_t){return et.H.useEffectEvent(_t)},Aa.useId=function(){return et.H.useId()},Aa.useImperativeHandle=function(_t,lt,Tt){return et.H.useImperativeHandle(_t,lt,Tt)},Aa.useInsertionEffect=function(_t,lt){return et.H.useInsertionEffect(_t,lt)},Aa.useLayoutEffect=function(_t,lt){return et.H.useLayoutEffect(_t,lt)},Aa.useMemo=function(_t,lt){return et.H.useMemo(_t,lt)},Aa.useOptimistic=function(_t,lt){return et.H.useOptimistic(_t,lt)},Aa.useReducer=function(_t,lt,Tt){return et.H.useReducer(_t,lt,Tt)},Aa.useRef=function(_t){return et.H.useRef(_t)},Aa.useState=function(_t){return et.H.useState(_t)},Aa.useSyncExternalStore=function(_t,lt,Tt){return et.H.useSyncExternalStore(_t,lt,Tt)},Aa.useTransition=function(){return et.H.useTransition()},Aa.version="19.2.0",Aa}var tD;function OM(){return tD||(tD=1,fk.exports=uZ()),fk.exports}var ut=OM();const we=OV(ut),$_=sZ({__proto__:null,default:we},[ut]);var pk={exports:{}},T1={},mk={exports:{}},gk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function hZ(){return eD||(eD=1,(function(t){function e(pt,At){var St=pt.length;pt.push(At);t:for(;0<St;){var Lt=St-1>>>1,jt=pt[Lt];if(0<i(jt,At))pt[Lt]=At,pt[St]=jt,St=Lt;else break t}}function r(pt){return pt.length===0?null:pt[0]}function n(pt){if(pt.length===0)return null;var At=pt[0],St=pt.pop();if(St!==At){pt[0]=St;t:for(var Lt=0,jt=pt.length,_t=jt>>>1;Lt<_t;){var lt=2*(Lt+1)-1,Tt=pt[lt],kt=lt+1,Rt=pt[kt];if(0>i(Tt,St))kt<jt&&0>i(Rt,Tt)?(pt[Lt]=Rt,pt[kt]=St,Lt=kt):(pt[Lt]=Tt,pt[lt]=St,Lt=lt);else if(kt<jt&&0>i(Rt,St))pt[Lt]=Rt,pt[kt]=St,Lt=kt;else break t}}return At}function i(pt,At){var St=pt.sortIndex-At.sortIndex;return St!==0?St:pt.id-At.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,a=c.now();t.unstable_now=function(){return c.now()-a}}var g=[],v=[],x=1,k=null,I=3,S=!1,P=!1,D=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function j(pt){for(var At=r(v);At!==null;){if(At.callback===null)n(v);else if(At.startTime<=pt)n(v),At.sortIndex=At.expirationTime,e(g,At);else break;At=r(v)}}function X(pt){if(D=!1,j(pt),!P)if(r(g)!==null)P=!0,Y||(Y=!0,V());else{var At=r(v);At!==null&&wt(X,At.startTime-pt)}}var Y=!1,et=-1,st=5,it=-1;function vt(){return U?!0:!(t.unstable_now()-it<st)}function at(){if(U=!1,Y){var pt=t.unstable_now();it=pt;var At=!0;try{t:{P=!1,D&&(D=!1,G(et),et=-1),S=!0;var St=I;try{e:{for(j(pt),k=r(g);k!==null&&!(k.expirationTime>pt&&vt());){var Lt=k.callback;if(typeof Lt=="function"){k.callback=null,I=k.priorityLevel;var jt=Lt(k.expirationTime<=pt);if(pt=t.unstable_now(),typeof jt=="function"){k.callback=jt,j(pt),At=!0;break e}k===r(g)&&n(g),j(pt)}else n(g);k=r(g)}if(k!==null)At=!0;else{var _t=r(v);_t!==null&&wt(X,_t.startTime-pt),At=!1}}break t}finally{k=null,I=St,S=!1}At=void 0}}finally{At?V():Y=!1}}}var V;if(typeof z=="function")V=function(){z(at)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,mt=dt.port2;dt.port1.onmessage=at,V=function(){mt.postMessage(null)}}else V=function(){H(at,0)};function wt(pt,At){et=H(function(){pt(t.unstable_now())},At)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(pt){pt.callback=null},t.unstable_forceFrameRate=function(pt){0>pt||125<pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<pt?Math.floor(1e3/pt):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_next=function(pt){switch(I){case 1:case 2:case 3:var At=3;break;default:At=I}var St=I;I=At;try{return pt()}finally{I=St}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(pt,At){switch(pt){case 1:case 2:case 3:case 4:case 5:break;default:pt=3}var St=I;I=pt;try{return At()}finally{I=St}},t.unstable_scheduleCallback=function(pt,At,St){var Lt=t.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?Lt+St:Lt):St=Lt,pt){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=St+jt,pt={id:x++,callback:At,priorityLevel:pt,startTime:St,expirationTime:jt,sortIndex:-1},St>Lt?(pt.sortIndex=St,e(v,pt),r(g)===null&&pt===r(v)&&(D?(G(et),et=-1):D=!0,wt(X,St-Lt))):(pt.sortIndex=jt,e(g,pt),P||S||(P=!0,Y||(Y=!0,V()))),pt},t.unstable_shouldYield=vt,t.unstable_wrapCallback=function(pt){var At=I;return function(){var St=I;I=At;try{return pt.apply(this,arguments)}finally{I=St}}}})(gk)),gk}var rD;function dZ(){return rD||(rD=1,mk.exports=hZ()),mk.exports}var yk={exports:{}},Th={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD;function fZ(){if(nD)return Th;nD=1;var t=OM();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(g,v,x){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:k==null?null:""+k,children:g,containerInfo:v,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Th.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Th.createPortal=function(g,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return o(g,v,null,x)},Th.flushSync=function(g){var v=c.T,x=n.p;try{if(c.T=null,n.p=2,g)return g()}finally{c.T=v,n.p=x,n.d.f()}},Th.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,n.d.C(g,v))},Th.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},Th.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var x=v.as,k=a(x,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?n.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:k,integrity:I,fetchPriority:S}):x==="script"&&n.d.X(g,{crossOrigin:k,integrity:I,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Th.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=a(v.as,v.crossOrigin);n.d.M(g,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&n.d.M(g)},Th.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,k=a(x,v.crossOrigin);n.d.L(g,x,{crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Th.preloadModule=function(g,v){if(typeof g=="string")if(v){var x=a(v.as,v.crossOrigin);n.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else n.d.m(g)},Th.requestFormReset=function(g){n.d.r(g)},Th.unstable_batchedUpdates=function(g,v){return g(v)},Th.useFormState=function(g,v,x){return c.H.useFormState(g,v,x)},Th.useFormStatus=function(){return c.H.useHostTransitionStatus()},Th.version="19.2.0",Th}var iD;function DV(){if(iD)return yk.exports;iD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yk.exports=fZ(),yk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function pZ(){if(aD)return T1;aD=1;var t=dZ(),e=OM(),r=DV();function n(u){var p="https://react.dev/errors/"+u;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function o(u){var p=u,w=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(w=p.return),u=p.return;while(u)}return p.tag===3?w:null}function c(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function a(u){if(u.tag===31){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function g(u){if(o(u)!==u)throw Error(n(188))}function v(u){var p=u.alternate;if(!p){if(p=o(u),p===null)throw Error(n(188));return p!==u?null:u}for(var w=u,R=p;;){var W=w.return;if(W===null)break;var rt=W.alternate;if(rt===null){if(R=W.return,R!==null){w=R;continue}break}if(W.child===rt.child){for(rt=W.child;rt;){if(rt===w)return g(W),u;if(rt===R)return g(W),p;rt=rt.sibling}throw Error(n(188))}if(w.return!==R.return)w=W,R=rt;else{for(var Ot=!1,se=W.child;se;){if(se===w){Ot=!0,w=W,R=rt;break}if(se===R){Ot=!0,R=W,w=rt;break}se=se.sibling}if(!Ot){for(se=rt.child;se;){if(se===w){Ot=!0,w=rt,R=W;break}if(se===R){Ot=!0,R=rt,w=W;break}se=se.sibling}if(!Ot)throw Error(n(189))}}if(w.alternate!==R)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?u:p}function x(u){var p=u.tag;if(p===5||p===26||p===27||p===6)return u;for(u=u.child;u!==null;){if(p=x(u),p!==null)return p;u=u.sibling}return null}var k=Object.assign,I=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),vt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function V(u){return u===null||typeof u!="object"?null:(u=at&&u[at]||u["@@iterator"],typeof u=="function"?u:null)}var dt=Symbol.for("react.client.reference");function mt(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===dt?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case D:return"Fragment";case H:return"Profiler";case U:return"StrictMode";case X:return"Suspense";case Y:return"SuspenseList";case it:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case P:return"Portal";case z:return u.displayName||"Context";case G:return(u._context.displayName||"Context")+".Consumer";case j:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case et:return p=u.displayName||null,p!==null?p:mt(u.type)||"Memo";case st:p=u._payload,u=u._init;try{return mt(u(p))}catch{}}return null}var wt=Array.isArray,pt=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Lt=[],jt=-1;function _t(u){return{current:u}}function lt(u){0>jt||(u.current=Lt[jt],Lt[jt]=null,jt--)}function Tt(u,p){jt++,Lt[jt]=u.current,u.current=p}var kt=_t(null),Rt=_t(null),Ut=_t(null),ie=_t(null);function Ht(u,p){switch(Tt(Ut,p),Tt(Rt,u),Tt(kt,null),p.nodeType){case 9:case 11:u=(u=p.documentElement)&&(u=u.namespaceURI)?g1(u):0;break;default:if(u=p.tagName,p=p.namespaceURI)p=g1(p),u=hv(p,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}lt(kt),Tt(kt,u)}function ce(){lt(kt),lt(Rt),lt(Ut)}function de(u){u.memoizedState!==null&&Tt(ie,u);var p=kt.current,w=hv(p,u.type);p!==w&&(Tt(Rt,u),Tt(kt,w))}function Se(u){Rt.current===u&&(lt(kt),lt(Rt)),ie.current===u&&(lt(ie),ci._currentValue=St)}var Vt,He;function ke(u){if(Vt===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Vt=p&&p[1]||"",He=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+u+He}var Jt=!1;function $r(u,p){if(!u||Jt)return"";Jt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var pn=function(){throw Error()};if(Object.defineProperty(pn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pn,[])}catch(Ur){var Cr=Ur}Reflect.construct(u,[],pn)}else{try{pn.call()}catch(Ur){Cr=Ur}u.call(pn.prototype)}}else{try{throw Error()}catch(Ur){Cr=Ur}(pn=u())&&typeof pn.catch=="function"&&pn.catch(function(){})}}catch(Ur){if(Ur&&Cr&&typeof Ur.stack=="string")return[Ur.stack,Cr.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var W=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");W&&W.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var rt=R.DetermineComponentFrameRoot(),Ot=rt[0],se=rt[1];if(Ot&&se){var Ye=Ot.split(`
`),Br=se.split(`
`);for(W=R=0;R<Ye.length&&!Ye[R].includes("DetermineComponentFrameRoot");)R++;for(;W<Br.length&&!Br[W].includes("DetermineComponentFrameRoot");)W++;if(R===Ye.length||W===Br.length)for(R=Ye.length-1,W=Br.length-1;1<=R&&0<=W&&Ye[R]!==Br[W];)W--;for(;1<=R&&0<=W;R--,W--)if(Ye[R]!==Br[W]){if(R!==1||W!==1)do if(R--,W--,0>W||Ye[R]!==Br[W]){var Jr=`
`+Ye[R].replace(" at new "," at ");return u.displayName&&Jr.includes("<anonymous>")&&(Jr=Jr.replace("<anonymous>",u.displayName)),Jr}while(1<=R&&0<=W);break}}}finally{Jt=!1,Error.prepareStackTrace=w}return(w=u?u.displayName||u.name:"")?ke(w):""}function vr(u,p){switch(u.tag){case 26:case 27:case 5:return ke(u.type);case 16:return ke("Lazy");case 13:return u.child!==p&&p!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return $r(u.type,!1);case 11:return $r(u.type.render,!1);case 1:return $r(u.type,!0);case 31:return ke("Activity");default:return""}}function Dr(u){try{var p="",w=null;do p+=vr(u,w),w=u,u=u.return;while(u);return p}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var Ie=Object.prototype.hasOwnProperty,Mr=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,Rr=t.unstable_shouldYield,Pr=t.unstable_requestPaint,Ir=t.unstable_now,dr=t.unstable_getCurrentPriorityLevel,ar=t.unstable_ImmediatePriority,Or=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,Fr=t.unstable_LowPriority,Ze=t.unstable_IdlePriority,rr=t.log,Me=t.unstable_setDisableYieldValue,Ft=null,Mt=null;function Bt(u){if(typeof rr=="function"&&Me(u),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Ft,u)}catch{}}var oe=Math.clz32?Math.clz32:Ge,ye=Math.log,je=Math.LN2;function Ge(u){return u>>>=0,u===0?32:31-(ye(u)/je|0)|0}var Ue=256,fr=262144,Ke=4194304;function Pe(u){var p=u&42;if(p!==0)return p;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ur(u,p,w){var R=u.pendingLanes;if(R===0)return 0;var W=0,rt=u.suspendedLanes,Ot=u.pingedLanes;u=u.warmLanes;var se=R&134217727;return se!==0?(R=se&~rt,R!==0?W=Pe(R):(Ot&=se,Ot!==0?W=Pe(Ot):w||(w=se&~u,w!==0&&(W=Pe(w))))):(se=R&~rt,se!==0?W=Pe(se):Ot!==0?W=Pe(Ot):w||(w=R&~u,w!==0&&(W=Pe(w)))),W===0?0:p!==0&&p!==W&&(p&rt)===0&&(rt=W&-W,w=p&-p,rt>=w||rt===32&&(w&4194048)!==0)?p:W}function Oe(u,p){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&p)===0}function Wr(u,p){switch(u){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(){var u=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),u}function bn(u){for(var p=[],w=0;31>w;w++)p.push(u);return p}function Kr(u,p){u.pendingLanes|=p,p!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Zn(u,p,w,R,W,rt){var Ot=u.pendingLanes;u.pendingLanes=w,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=w,u.entangledLanes&=w,u.errorRecoveryDisabledLanes&=w,u.shellSuspendCounter=0;var se=u.entanglements,Ye=u.expirationTimes,Br=u.hiddenUpdates;for(w=Ot&~w;0<w;){var Jr=31-oe(w),pn=1<<Jr;se[Jr]=0,Ye[Jr]=-1;var Cr=Br[Jr];if(Cr!==null)for(Br[Jr]=null,Jr=0;Jr<Cr.length;Jr++){var Ur=Cr[Jr];Ur!==null&&(Ur.lane&=-536870913)}w&=~pn}R!==0&&Pt(u,R,0),rt!==0&&W===0&&u.tag!==0&&(u.suspendedLanes|=rt&~(Ot&~p))}function Pt(u,p,w){u.pendingLanes|=p,u.suspendedLanes&=~p;var R=31-oe(p);u.entangledLanes|=p,u.entanglements[R]=u.entanglements[R]|1073741824|w&261930}function Xt(u,p){var w=u.entangledLanes|=p;for(u=u.entanglements;w;){var R=31-oe(w),W=1<<R;W&p|u[R]&p&&(u[R]|=p),w&=~W}}function be(u,p){var w=p&-p;return w=(w&42)!==0?1:ze(w),(w&(u.suspendedLanes|p))!==0?0:w}function ze(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Lr(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function vn(){var u=At.p;return u!==0?u:(u=window.event,u===void 0?32:Fu(u.type))}function Vr(u,p){var w=At.p;try{return At.p=u,p()}finally{At.p=w}}var fi=Math.random().toString(36).slice(2),On="__reactFiber$"+fi,li="__reactProps$"+fi,Ji="__reactContainer$"+fi,en="__reactEvents$"+fi,Rn="__reactListeners$"+fi,Wn="__reactHandles$"+fi,Ra="__reactResources$"+fi,xo="__reactMarker$"+fi;function Na(u){delete u[On],delete u[li],delete u[en],delete u[Rn],delete u[Wn]}function Mn(u){var p=u[On];if(p)return p;for(var w=u.parentNode;w;){if(p=w[Ji]||w[On]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(u=x1(u);u!==null;){if(w=u[On])return w;u=x1(u)}return p}u=w,w=u.parentNode}return null}function io(u){if(u=u[On]||u[Ji]){var p=u.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return u}return null}function rl(u){var p=u.tag;if(p===5||p===26||p===27||p===6)return u.stateNode;throw Error(n(33))}function oa(u){var p=u[Ra];return p||(p=u[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function ha(u){u[xo]=!0}var uc=new Set,Vi={};function nl(u,p){Xo(u,p),Xo(u+"Capture",p)}function Xo(u,p){for(Vi[u]=p,u=0;u<p.length;u++)uc.add(p[u])}var Pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},Fl={};function Ks(u){return Ie.call(Fl,u)?!0:Ie.call(xs,u)?!1:Pi.test(u)?Fl[u]=!0:(xs[u]=!0,!1)}function Do(u,p,w){if(Ks(p))if(w===null)u.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":u.removeAttribute(p);return;case"boolean":var R=p.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){u.removeAttribute(p);return}}u.setAttribute(p,""+w)}}function jl(u,p,w){if(w===null)u.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttribute(p,""+w)}}function Ha(u,p,w,R){if(R===null)u.removeAttribute(w);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(w);return}u.setAttributeNS(p,w,""+R)}}function fl(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Gu(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function pl(u,p,w){var R=Object.getOwnPropertyDescriptor(u.constructor.prototype,p);if(!u.hasOwnProperty(p)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var W=R.get,rt=R.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return W.call(this)},set:function(Ot){w=""+Ot,rt.call(this,Ot)}}),Object.defineProperty(u,p,{enumerable:R.enumerable}),{getValue:function(){return w},setValue:function(Ot){w=""+Ot},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function El(u){if(!u._valueTracker){var p=Gu(u)?"checked":"value";u._valueTracker=pl(u,p,""+u[p])}}function Wo(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var w=p.getValue(),R="";return u&&(R=Gu(u)?u.checked?"true":"false":u.value),u=R,u!==w?(p.setValue(u),!0):!1}function Yo(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Ko=/[\n"\\]/g;function Zo(u){return u.replace(Ko,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function iu(u,p,w,R,W,rt,Ot,se){u.name="",Ot!=null&&typeof Ot!="function"&&typeof Ot!="symbol"&&typeof Ot!="boolean"?u.type=Ot:u.removeAttribute("type"),p!=null?Ot==="number"?(p===0&&u.value===""||u.value!=p)&&(u.value=""+fl(p)):u.value!==""+fl(p)&&(u.value=""+fl(p)):Ot!=="submit"&&Ot!=="reset"||u.removeAttribute("value"),p!=null?Q(u,Ot,fl(p)):w!=null?Q(u,Ot,fl(w)):R!=null&&u.removeAttribute("value"),W==null&&rt!=null&&(u.defaultChecked=!!rt),W!=null&&(u.checked=W&&typeof W!="function"&&typeof W!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?u.name=""+fl(se):u.removeAttribute("name")}function yu(u,p,w,R,W,rt,Ot,se){if(rt!=null&&typeof rt!="function"&&typeof rt!="symbol"&&typeof rt!="boolean"&&(u.type=rt),p!=null||w!=null){if(!(rt!=="submit"&&rt!=="reset"||p!=null)){El(u);return}w=w!=null?""+fl(w):"",p=p!=null?""+fl(p):w,se||p===u.value||(u.value=p),u.defaultValue=p}R=R??W,R=typeof R!="function"&&typeof R!="symbol"&&!!R,u.checked=se?u.checked:!!R,u.defaultChecked=!!R,Ot!=null&&typeof Ot!="function"&&typeof Ot!="symbol"&&typeof Ot!="boolean"&&(u.name=Ot),El(u)}function Q(u,p,w){p==="number"&&Yo(u.ownerDocument)===u||u.defaultValue===""+w||(u.defaultValue=""+w)}function gt(u,p,w,R){if(u=u.options,p){p={};for(var W=0;W<w.length;W++)p["$"+w[W]]=!0;for(w=0;w<u.length;w++)W=p.hasOwnProperty("$"+u[w].value),u[w].selected!==W&&(u[w].selected=W),W&&R&&(u[w].defaultSelected=!0)}else{for(w=""+fl(w),p=null,W=0;W<u.length;W++){if(u[W].value===w){u[W].selected=!0,R&&(u[W].defaultSelected=!0);return}p!==null||u[W].disabled||(p=u[W])}p!==null&&(p.selected=!0)}}function ee(u,p,w){if(p!=null&&(p=""+fl(p),p!==u.value&&(u.value=p),w==null)){u.defaultValue!==p&&(u.defaultValue=p);return}u.defaultValue=w!=null?""+fl(w):""}function Re(u,p,w,R){if(p==null){if(R!=null){if(w!=null)throw Error(n(92));if(wt(R)){if(1<R.length)throw Error(n(93));R=R[0]}w=R}w==null&&(w=""),p=w}w=fl(p),u.defaultValue=w,R=u.textContent,R===w&&R!==""&&R!==null&&(u.value=R),El(u)}function qe(u,p){if(p){var w=u.firstChild;if(w&&w===u.lastChild&&w.nodeType===3){w.nodeValue=p;return}}u.textContent=p}var Fe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nr(u,p,w){var R=p.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?R?u.setProperty(p,""):p==="float"?u.cssFloat="":u[p]="":R?u.setProperty(p,w):typeof w!="number"||w===0||Fe.has(p)?p==="float"?u.cssFloat=w:u[p]=(""+w).trim():u[p]=w+"px"}function rn(u,p,w){if(p!=null&&typeof p!="object")throw Error(n(62));if(u=u.style,w!=null){for(var R in w)!w.hasOwnProperty(R)||p!=null&&p.hasOwnProperty(R)||(R.indexOf("--")===0?u.setProperty(R,""):R==="float"?u.cssFloat="":u[R]="");for(var W in p)R=p[W],p.hasOwnProperty(W)&&w[W]!==R&&nr(u,W,R)}else for(var rt in p)p.hasOwnProperty(rt)&&nr(u,rt,p[rt])}function mn(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),En=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fn(u){return En.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Yn(){}var Nn=null;function ti(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var jn=null,Zr=null;function Ln(u){var p=io(u);if(p&&(u=p.stateNode)){var w=u[li]||null;t:switch(u=p.stateNode,p.type){case"input":if(iu(u,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),p=w.name,w.type==="radio"&&p!=null){for(w=u;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+Zo(""+p)+'"][type="radio"]'),p=0;p<w.length;p++){var R=w[p];if(R!==u&&R.form===u.form){var W=R[li]||null;if(!W)throw Error(n(90));iu(R,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name)}}for(p=0;p<w.length;p++)R=w[p],R.form===u.form&&Wo(R)}break t;case"textarea":ee(u,w.value,w.defaultValue);break t;case"select":p=w.value,p!=null&&gt(u,!!w.multiple,p,!1)}}}var yi=!1;function sa(u,p,w){if(yi)return u(p,w);yi=!0;try{var R=u(p);return R}finally{if(yi=!1,(jn!==null||Zr!==null)&&(Xp(),jn&&(p=jn,u=Zr,Zr=jn=null,Ln(p),u)))for(p=0;p<u.length;p++)Ln(u[p])}}function Ii(u,p){var w=u.stateNode;if(w===null)return null;var R=w[li]||null;if(R===null)return null;w=R[p];t:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(u=u.type,R=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!R;break t;default:u=!1}if(u)return null;if(w&&typeof w!="function")throw Error(n(231,p,typeof w));return w}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(zi)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){da=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{da=!1}var Xa=null,pi=null,ei=null;function Tl(){if(ei)return ei;var u,p=pi,w=p.length,R,W="value"in Xa?Xa.value:Xa.textContent,rt=W.length;for(u=0;u<w&&p[u]===W[u];u++);var Ot=w-u;for(R=1;R<=Ot&&p[w-R]===W[rt-R];R++);return ei=W.slice(u,1<R?1-R:void 0)}function zn(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function $l(){return!0}function No(){return!1}function wo(u){function p(w,R,W,rt,Ot){this._reactName=w,this._targetInst=W,this.type=R,this.nativeEvent=rt,this.target=Ot,this.currentTarget=null;for(var se in u)u.hasOwnProperty(se)&&(w=u[se],this[se]=w?w(rt):rt[se]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?$l:No,this.isPropagationStopped=No,this}return k(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),p}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=wo(po),Ms=k({},po,{view:0,detail:0}),Cl=wo(Ms),xc,Vl,So,Bo=k({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==So&&(So&&u.type==="mousemove"?(xc=u.screenX-So.screenX,Vl=u.screenY-So.screenY):Vl=xc=0,So=u),xc)},movementY:function(u){return"movementY"in u?u.movementY:Vl}}),Ba=wo(Bo),zo=k({},Bo,{dataTransfer:0}),ct=wo(zo),Kt=k({},Ms,{relatedTarget:0}),ve=wo(Kt),Xe=k({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),pr=wo(Xe),Yr=k({},po,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),gn=wo(Yr),Vn=k({},po,{data:0}),ri=wo(Vn),Ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ji={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=wi[u])?!!p[u]:!1}function Oi(){return xa}var Ui=k({},Ms,{key:function(u){if(u.key){var p=Ti[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=zn(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ji[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(u){return u.type==="keypress"?zn(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?zn(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Lo=wo(Ui),Ja=k({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=wo(Ja),Ul=k({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),wc=wo(Ul),Iu=k({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),ql=wo(Iu),Ru=k({},Bo,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=wo(Ru),Sc=k({},po,{newState:0,oldState:0}),vu=wo(Sc),Gl=[9,13,27,32],Eo=zi&&"CompositionEvent"in window,Fo=null;zi&&"documentMode"in document&&(Fo=document.documentMode);var to=zi&&"TextEvent"in window&&!Fo,hc=zi&&(!Eo||Fo&&8<Fo&&11>=Fo),Vc=" ",oo=!1;function bu(u,p){switch(u){case"keyup":return Gl.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var il=!1;function ws(u,p){switch(u){case"compositionend":return Uc(p);case"keypress":return p.which!==32?null:(oo=!0,Vc);case"textInput":return u=p.data,u===Vc&&oo?null:u;default:return null}}function Zs(u,p){if(il)return u==="compositionend"||!Eo&&bu(u,p)?(u=Tl(),ei=pi=Xa=null,il=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return hc&&p.locale!=="ko"?null:p.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!mh[u.type]:p==="textarea"}function qc(u,p,w,R){jn?Zr?Zr.push(R):Zr=[R]:jn=R,p=uv(p,"onChange"),0<p.length&&(w=new _c("onChange","change",null,w,R),u.push({event:w,listeners:p}))}var Hl=null,jo=null;function Ss(u){f1(u,0)}function Gc(u){var p=rl(u);if(Wo(p))return u}function Es(u,p){if(u==="change")return p}var Hc=!1;if(zi){var Ps;if(zi){var dc="oninput"in document;if(!dc){var To=document.createElement("div");To.setAttribute("oninput","return;"),dc=typeof To.oninput=="function"}Ps=dc}else Ps=!1;Hc=Ps&&(!document.documentMode||9<document.documentMode)}function fc(){Hl&&(Hl.detachEvent("onpropertychange",pc),jo=Hl=null)}function pc(u){if(u.propertyName==="value"&&Gc(jo)){var p=[];qc(p,jo,u,ti(u)),sa(Ss,p)}}function Al(u,p,w){u==="focusin"?(fc(),Hl=p,jo=w,Hl.attachEvent("onpropertychange",pc)):u==="focusout"&&fc()}function _u(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Gc(jo)}function Xu(u,p){if(u==="click")return Gc(p)}function Ec(u,p){if(u==="input"||u==="change")return Gc(p)}function xu(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var Ts=typeof Object.is=="function"?Object.is:xu;function lr(u,p){if(Ts(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var w=Object.keys(u),R=Object.keys(p);if(w.length!==R.length)return!1;for(R=0;R<w.length;R++){var W=w[R];if(!Ie.call(p,W)||!Ts(u[W],p[W]))return!1}return!0}function mr(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function An(u,p){var w=mr(u);u=0;for(var R;w;){if(w.nodeType===3){if(R=u+w.textContent.length,u<=p&&R>=p)return{node:w,offset:p-u};u=R}t:{for(;w;){if(w.nextSibling){w=w.nextSibling;break t}w=w.parentNode}w=void 0}w=mr(w)}}function Dn(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?Dn(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function Ni(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var p=Yo(u.document);p instanceof u.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)u=p.contentWindow;else break;p=Yo(u.document)}return p}function $n(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}var A=zi&&"documentMode"in document&&11>=document.documentMode,m=null,y=null,C=null,F=!1;function nt(u,p,w){var R=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;F||m==null||m!==Yo(R)||(R=m,"selectionStart"in R&&$n(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),C&&lr(C,R)||(C=R,R=uv(y,"onSelect"),0<R.length&&(p=new _c("onSelect","select",null,p,w),u.push({event:p,listeners:R}),p.target=m)))}function xt(u,p){var w={};return w[u.toLowerCase()]=p.toLowerCase(),w["Webkit"+u]="webkit"+p,w["Moz"+u]="moz"+p,w}var Dt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionrun:xt("Transition","TransitionRun"),transitionstart:xt("Transition","TransitionStart"),transitioncancel:xt("Transition","TransitionCancel"),transitionend:xt("Transition","TransitionEnd")},re={},_e={};zi&&(_e=document.createElement("div").style,"AnimationEvent"in window||(delete Dt.animationend.animation,delete Dt.animationiteration.animation,delete Dt.animationstart.animation),"TransitionEvent"in window||delete Dt.transitionend.transition);function sr(u){if(re[u])return re[u];if(!Dt[u])return u;var p=Dt[u],w;for(w in p)if(p.hasOwnProperty(w)&&w in _e)return re[u]=p[w];return u}var _r=sr("animationend"),tn=sr("animationiteration"),In=sr("animationstart"),Qn=sr("transitionrun"),hi=sr("transitionstart"),Kn=sr("transitioncancel"),Hn=sr("transitionend"),ma=new Map,qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qi.push("scrollEnd");function Va(u,p){ma.set(u,p),nl(p,[u])}var $o=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},so=[],ls=0,Tc=0;function Cc(){for(var u=ls,p=Tc=ls=0;p<u;){var w=so[p];so[p++]=null;var R=so[p];so[p++]=null;var W=so[p];so[p++]=null;var rt=so[p];if(so[p++]=null,R!==null&&W!==null){var Ot=R.pending;Ot===null?W.next=W:(W.next=Ot.next,Ot.next=W),R.pending=W}rt!==0&&Il(w,W,rt)}}function kl(u,p,w,R){so[ls++]=u,so[ls++]=p,so[ls++]=w,so[ls++]=R,Tc|=R,u.lanes|=R,u=u.alternate,u!==null&&(u.lanes|=R)}function ml(u,p,w,R){return kl(u,p,w,R),Co(u)}function Ac(u,p){return kl(u,null,null,p),Co(u)}function Il(u,p,w){u.lanes|=w;var R=u.alternate;R!==null&&(R.lanes|=w);for(var W=!1,rt=u.return;rt!==null;)rt.childLanes|=w,R=rt.alternate,R!==null&&(R.childLanes|=w),rt.tag===22&&(u=rt.stateNode,u===null||u._visibility&1||(W=!0)),u=rt,rt=rt.return;return u.tag===3?(rt=u.stateNode,W&&p!==null&&(W=31-oe(w),u=rt.hiddenUpdates,R=u[W],R===null?u[W]=[p]:R.push(p),p.lane=w|536870912),rt):null}function Co(u){if(50<Yg)throw Yg=0,mf=null,Error(n(185));for(var p=u.return;p!==null;)u=p,p=u.return;return u.tag===3?u.stateNode:null}var Cs={};function Wu(u,p,w,R){this.tag=u,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(u,p,w,R){return new Wu(u,p,w,R)}function Xc(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Xl(u,p){var w=u.alternate;return w===null?(w=mi(u.tag,p,u.key,u.mode),w.elementType=u.elementType,w.type=u.type,w.stateNode=u.stateNode,w.alternate=u,u.alternate=w):(w.pendingProps=p,w.type=u.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=u.flags&65011712,w.childLanes=u.childLanes,w.lanes=u.lanes,w.child=u.child,w.memoizedProps=u.memoizedProps,w.memoizedState=u.memoizedState,w.updateQueue=u.updateQueue,p=u.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=u.sibling,w.index=u.index,w.ref=u.ref,w.refCleanup=u.refCleanup,w}function lf(u,p){u.flags&=65011714;var w=u.alternate;return w===null?(u.childLanes=0,u.lanes=p,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=w.childLanes,u.lanes=w.lanes,u.child=w.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=w.memoizedProps,u.memoizedState=w.memoizedState,u.updateQueue=w.updateQueue,u.type=w.type,p=w.dependencies,u.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),u}function gh(u,p,w,R,W,rt){var Ot=0;if(R=u,typeof u=="function")Xc(u)&&(Ot=1);else if(typeof u=="string")Ot=dn(u,w,kt.current)?26:u==="html"||u==="head"||u==="body"?27:5;else t:switch(u){case it:return u=mi(31,w,p,W),u.elementType=it,u.lanes=rt,u;case D:return td(w.children,W,rt,p);case U:Ot=8,W|=24;break;case H:return u=mi(12,w,p,W|2),u.elementType=H,u.lanes=rt,u;case X:return u=mi(13,w,p,W),u.elementType=X,u.lanes=rt,u;case Y:return u=mi(19,w,p,W),u.elementType=Y,u.lanes=rt,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case z:Ot=10;break t;case G:Ot=9;break t;case j:Ot=11;break t;case et:Ot=14;break t;case st:Ot=16,R=null;break t}Ot=29,w=Error(n(130,u===null?"null":typeof u,"")),R=null}return p=mi(Ot,w,p,W),p.elementType=u,p.type=R,p.lanes=rt,p}function td(u,p,w,R){return u=mi(7,u,R,p),u.lanes=w,u}function Gf(u,p,w){return u=mi(6,u,null,p),u.lanes=w,u}function Hf(u){var p=mi(18,null,null,0);return p.stateNode=u,p}function Td(u,p,w){return p=mi(4,u.children!==null?u.children:[],u.key,p),p.lanes=w,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}var Cd=new WeakMap;function Wc(u,p){if(typeof u=="object"&&u!==null){var w=Cd.get(u);return w!==void 0?w:(p={value:u,source:p,stack:Dr(p)},Cd.set(u,p),p)}return{value:u,source:p,stack:Dr(p)}}var Dh=[],Yu=0,Ad=null,kd=0,kc=[],mc=0,wu=null,Ic=1,au="";function gl(u,p){Dh[Yu++]=kd,Dh[Yu++]=Ad,Ad=u,kd=p}function Bg(u,p,w){kc[mc++]=Ic,kc[mc++]=au,kc[mc++]=wu,wu=u;var R=Ic;u=au;var W=32-oe(R)-1;R&=~(1<<W),w+=1;var rt=32-oe(p)+W;if(30<rt){var Ot=W-W%5;rt=(R&(1<<Ot)-1).toString(32),R>>=Ot,W-=Ot,Ic=1<<32-oe(p)+W|w<<W|R,au=rt+u}else Ic=1<<rt|w<<W|R,au=u}function Mp(u){u.return!==null&&(gl(u,1),Bg(u,1,0))}function Id(u){for(;u===Ad;)Ad=Dh[--Yu],Dh[Yu]=null,kd=Dh[--Yu],Dh[Yu]=null;for(;u===wu;)wu=kc[--mc],kc[mc]=null,au=kc[--mc],kc[mc]=null,Ic=kc[--mc],kc[mc]=null}function Pp(u,p){kc[mc++]=Ic,kc[mc++]=au,kc[mc++]=wu,Ic=p.id,au=p.overflow,wu=u}var Wl=null,Qo=null,wa=!1,Yl=null,cs=!1,Nu=Error(n(519));function go(u){var p=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zu(Wc(p,u)),Nu}function yh(u){var p=u.stateNode,w=u.type,R=u.memoizedProps;switch(p[On]=u,p[li]=R,w){case"dialog":Oa("cancel",p),Oa("close",p);break;case"iframe":case"object":case"embed":Oa("load",p);break;case"video":case"audio":for(w=0;w<Qg.length;w++)Oa(Qg[w],p);break;case"source":Oa("error",p);break;case"img":case"image":case"link":Oa("error",p),Oa("load",p);break;case"details":Oa("toggle",p);break;case"input":Oa("invalid",p),yu(p,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":Oa("invalid",p);break;case"textarea":Oa("invalid",p),Re(p,R.value,R.defaultValue,R.children)}w=R.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||p.textContent===""+w||R.suppressHydrationWarning===!0||op(p.textContent,w)?(R.popover!=null&&(Oa("beforetoggle",p),Oa("toggle",p)),R.onScroll!=null&&Oa("scroll",p),R.onScrollEnd!=null&&Oa("scrollend",p),R.onClick!=null&&(p.onclick=Yn),p=!0):p=!1,p||go(u,!0)}function yl(u){for(Wl=u.return;Wl;)switch(Wl.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:Wl=Wl.return}}function vl(u){if(u!==Wl)return!1;if(!wa)return yl(u),wa=!0,!1;var p=u.tag,w;if((w=p!==3&&p!==27)&&((w=p===5)&&(w=u.type,w=!(w!=="form"&&w!=="button")||ty(u.type,u.memoizedProps)),w=!w),w&&Qo&&go(u),yl(u),p===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));Qo=cb(u)}else if(p===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));Qo=cb(u)}else p===27?(p=Qo,sp(u.type)?(u=Qm,Qm=null,Qo=u):Qo=p):Qo=Wl?qh(u.stateNode.nextSibling):null;return!0}function Ku(){Qo=Wl=null,wa=!1}function ed(){var u=Yl;return u!==null&&(eh===null?eh=u:eh.push.apply(eh,u),Yl=null),u}function Zu(u){Yl===null?Yl=[u]:Yl.push(u)}var cf=_t(null),Lu=null,Mu=null;function Bh(u,p,w){Tt(cf,p._currentValue),p._currentValue=w}function Su(u){u._currentValue=cf.current,lt(cf)}function Qu(u,p,w){for(;u!==null;){var R=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),u===w)break;u=u.return}}function Pu(u,p,w,R){var W=u.child;for(W!==null&&(W.return=u);W!==null;){var rt=W.dependencies;if(rt!==null){var Ot=W.child;rt=rt.firstContext;t:for(;rt!==null;){var se=rt;rt=W;for(var Ye=0;Ye<p.length;Ye++)if(se.context===p[Ye]){rt.lanes|=w,se=rt.alternate,se!==null&&(se.lanes|=w),Qu(rt.return,w,u),R||(Ot=null);break t}rt=se.next}}else if(W.tag===18){if(Ot=W.return,Ot===null)throw Error(n(341));Ot.lanes|=w,rt=Ot.alternate,rt!==null&&(rt.lanes|=w),Qu(Ot,w,u),Ot=null}else Ot=W.child;if(Ot!==null)Ot.return=W;else for(Ot=W;Ot!==null;){if(Ot===u){Ot=null;break}if(W=Ot.sibling,W!==null){W.return=Ot.return,Ot=W;break}Ot=Ot.return}W=Ot}}function al(u,p,w,R){u=null;for(var W=p,rt=!1;W!==null;){if(!rt){if((W.flags&524288)!==0)rt=!0;else if((W.flags&262144)!==0)break}if(W.tag===10){var Ot=W.alternate;if(Ot===null)throw Error(n(387));if(Ot=Ot.memoizedProps,Ot!==null){var se=W.type;Ts(W.pendingProps.value,Ot.value)||(u!==null?u.push(se):u=[se])}}else if(W===ie.current){if(Ot=W.alternate,Ot===null)throw Error(n(387));Ot.memoizedState.memoizedState!==W.memoizedState.memoizedState&&(u!==null?u.push(ci):u=[ci])}W=W.return}u!==null&&Pu(p,u,w,R),p.flags|=262144}function ou(u){for(u=u.firstContext;u!==null;){if(!Ts(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function vh(u){Lu=u,Mu=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Kl(u){return Rd(Lu,u)}function Xf(u,p){return Lu===null&&vh(u),Rd(u,p)}function Rd(u,p){var w=p._currentValue;if(p={context:p,memoizedValue:w,next:null},Mu===null){if(u===null)throw Error(n(308));Mu=p,u.dependencies={lanes:0,firstContext:p},u.flags|=524288}else Mu=Mu.next=p;return w}var Vm=typeof AbortController<"u"?AbortController:function(){var u=[],p=this.signal={aborted:!1,addEventListener:function(w,R){u.push(R)}};this.abort=function(){p.aborted=!0,u.forEach(function(w){return w()})}},Op=t.unstable_scheduleCallback,zg=t.unstable_NormalPriority,As={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new Vm,data:new Map,refCount:0}}function bh(u){u.refCount--,u.refCount===0&&Op(zg,function(){u.controller.abort()})}var Rc=null,su=0,$=0,Z=null;function yt(u,p){if(Rc===null){var w=Rc=[];su=0,$=h1(),Z={status:"pending",value:void 0,then:function(R){w.push(R)}}}return su++,p.then(Nt,Nt),p}function Nt(){if(--su===0&&Rc!==null){Z!==null&&(Z.status="fulfilled");var u=Rc;Rc=null,$=0,Z=null;for(var p=0;p<u.length;p++)(0,u[p])()}}function Zt(u,p){var w=[],R={status:"pending",value:null,reason:null,then:function(W){w.push(W)}};return u.then(function(){R.status="fulfilled",R.value=p;for(var W=0;W<w.length;W++)(0,w[W])(p)},function(W){for(R.status="rejected",R.reason=W,W=0;W<w.length;W++)(0,w[W])(void 0)}),R}var ne=pt.S;pt.S=function(u,p){NS=Ir(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&yt(u,p),ne!==null&&ne(u,p)};var ae=_t(null);function ue(){var u=ae.current;return u!==null?u:Go.pooledCache}function ge(u,p){p===null?Tt(ae,ae.current):Tt(ae,p.pool)}function Te(){var u=ue();return u===null?null:{parent:As._currentValue,pool:u}}var Ce=Error(n(460)),Nr=Error(n(474)),Ae=Error(n(542)),hr={then:function(){}};function br(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Xr(u,p,w){switch(w=u[w],w===void 0?u.push(p):w!==p&&(p.then(Yn,Yn),p=w),p.status){case"fulfilled":return p.value;case"rejected":throw u=p.reason,Sn(u),u;default:if(typeof p.status=="string")p.then(Yn,Yn);else{if(u=Go,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=p,u.status="pending",u.then(function(R){if(p.status==="pending"){var W=p;W.status="fulfilled",W.value=R}},function(R){if(p.status==="pending"){var W=p;W.status="rejected",W.reason=R}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw u=p.reason,Sn(u),u}throw wr=p,Ce}}function Er(u){try{var p=u._init;return p(u._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(wr=w,Ce):w}}var wr=null;function Qr(){if(wr===null)throw Error(n(459));var u=wr;return wr=null,u}function Sn(u){if(u===Ce||u===Ae)throw Error(n(483))}var ln=null,ui=0;function ni(u){var p=ui;return ui+=1,ln===null&&(ln=[]),Xr(ln,u,p)}function Fi(u,p){p=p.props.ref,u.ref=p!==void 0?p:null}function ai(u,p){throw p.$$typeof===I?Error(n(525)):(u=Object.prototype.toString.call(p),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u)))}function Ea(u){function p(gr,cr){if(u){var zr=gr.deletions;zr===null?(gr.deletions=[cr],gr.flags|=16):zr.push(cr)}}function w(gr,cr){if(!u)return null;for(;cr!==null;)p(gr,cr),cr=cr.sibling;return null}function R(gr){for(var cr=new Map;gr!==null;)gr.key!==null?cr.set(gr.key,gr):cr.set(gr.index,gr),gr=gr.sibling;return cr}function W(gr,cr){return gr=Xl(gr,cr),gr.index=0,gr.sibling=null,gr}function rt(gr,cr,zr){return gr.index=zr,u?(zr=gr.alternate,zr!==null?(zr=zr.index,zr<cr?(gr.flags|=67108866,cr):zr):(gr.flags|=67108866,cr)):(gr.flags|=1048576,cr)}function Ot(gr){return u&&gr.alternate===null&&(gr.flags|=67108866),gr}function se(gr,cr,zr,hn){return cr===null||cr.tag!==6?(cr=Gf(zr,gr.mode,hn),cr.return=gr,cr):(cr=W(cr,zr),cr.return=gr,cr)}function Ye(gr,cr,zr,hn){var Bi=zr.type;return Bi===D?Jr(gr,cr,zr.props.children,hn,zr.key):cr!==null&&(cr.elementType===Bi||typeof Bi=="object"&&Bi!==null&&Bi.$$typeof===st&&Er(Bi)===cr.type)?(cr=W(cr,zr.props),Fi(cr,zr),cr.return=gr,cr):(cr=gh(zr.type,zr.key,zr.props,null,gr.mode,hn),Fi(cr,zr),cr.return=gr,cr)}function Br(gr,cr,zr,hn){return cr===null||cr.tag!==4||cr.stateNode.containerInfo!==zr.containerInfo||cr.stateNode.implementation!==zr.implementation?(cr=Td(zr,gr.mode,hn),cr.return=gr,cr):(cr=W(cr,zr.children||[]),cr.return=gr,cr)}function Jr(gr,cr,zr,hn,Bi){return cr===null||cr.tag!==7?(cr=td(zr,gr.mode,hn,Bi),cr.return=gr,cr):(cr=W(cr,zr),cr.return=gr,cr)}function pn(gr,cr,zr){if(typeof cr=="string"&&cr!==""||typeof cr=="number"||typeof cr=="bigint")return cr=Gf(""+cr,gr.mode,zr),cr.return=gr,cr;if(typeof cr=="object"&&cr!==null){switch(cr.$$typeof){case S:return zr=gh(cr.type,cr.key,cr.props,null,gr.mode,zr),Fi(zr,cr),zr.return=gr,zr;case P:return cr=Td(cr,gr.mode,zr),cr.return=gr,cr;case st:return cr=Er(cr),pn(gr,cr,zr)}if(wt(cr)||V(cr))return cr=td(cr,gr.mode,zr,null),cr.return=gr,cr;if(typeof cr.then=="function")return pn(gr,ni(cr),zr);if(cr.$$typeof===z)return pn(gr,Xf(gr,cr),zr);ai(gr,cr)}return null}function Cr(gr,cr,zr,hn){var Bi=cr!==null?cr.key:null;if(typeof zr=="string"&&zr!==""||typeof zr=="number"||typeof zr=="bigint")return Bi!==null?null:se(gr,cr,""+zr,hn);if(typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case S:return zr.key===Bi?Ye(gr,cr,zr,hn):null;case P:return zr.key===Bi?Br(gr,cr,zr,hn):null;case st:return zr=Er(zr),Cr(gr,cr,zr,hn)}if(wt(zr)||V(zr))return Bi!==null?null:Jr(gr,cr,zr,hn,null);if(typeof zr.then=="function")return Cr(gr,cr,ni(zr),hn);if(zr.$$typeof===z)return Cr(gr,cr,Xf(gr,zr),hn);ai(gr,zr)}return null}function Ur(gr,cr,zr,hn,Bi){if(typeof hn=="string"&&hn!==""||typeof hn=="number"||typeof hn=="bigint")return gr=gr.get(zr)||null,se(cr,gr,""+hn,Bi);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case S:return gr=gr.get(hn.key===null?zr:hn.key)||null,Ye(cr,gr,hn,Bi);case P:return gr=gr.get(hn.key===null?zr:hn.key)||null,Br(cr,gr,hn,Bi);case st:return hn=Er(hn),Ur(gr,cr,zr,hn,Bi)}if(wt(hn)||V(hn))return gr=gr.get(zr)||null,Jr(cr,gr,hn,Bi,null);if(typeof hn.then=="function")return Ur(gr,cr,zr,ni(hn),Bi);if(hn.$$typeof===z)return Ur(gr,cr,zr,Xf(cr,hn),Bi);ai(cr,hn)}return null}function si(gr,cr,zr,hn){for(var Bi=null,ns=null,Si=cr,za=cr=0,_o=null;Si!==null&&za<zr.length;za++){Si.index>za?(_o=Si,Si=null):_o=Si.sibling;var is=Cr(gr,Si,zr[za],hn);if(is===null){Si===null&&(Si=_o);break}u&&Si&&is.alternate===null&&p(gr,Si),cr=rt(is,cr,za),ns===null?Bi=is:ns.sibling=is,ns=is,Si=_o}if(za===zr.length)return w(gr,Si),wa&&gl(gr,za),Bi;if(Si===null){for(;za<zr.length;za++)Si=pn(gr,zr[za],hn),Si!==null&&(cr=rt(Si,cr,za),ns===null?Bi=Si:ns.sibling=Si,ns=Si);return wa&&gl(gr,za),Bi}for(Si=R(Si);za<zr.length;za++)_o=Ur(Si,gr,za,zr[za],hn),_o!==null&&(u&&_o.alternate!==null&&Si.delete(_o.key===null?za:_o.key),cr=rt(_o,cr,za),ns===null?Bi=_o:ns.sibling=_o,ns=_o);return u&&Si.forEach(function(ny){return p(gr,ny)}),wa&&gl(gr,za),Bi}function xi(gr,cr,zr,hn){if(zr==null)throw Error(n(151));for(var Bi=null,ns=null,Si=cr,za=cr=0,_o=null,is=zr.next();Si!==null&&!is.done;za++,is=zr.next()){Si.index>za?(_o=Si,Si=null):_o=Si.sibling;var ny=Cr(gr,Si,is.value,hn);if(ny===null){Si===null&&(Si=_o);break}u&&Si&&ny.alternate===null&&p(gr,Si),cr=rt(ny,cr,za),ns===null?Bi=ny:ns.sibling=ny,ns=ny,Si=_o}if(is.done)return w(gr,Si),wa&&gl(gr,za),Bi;if(Si===null){for(;!is.done;za++,is=zr.next())is=pn(gr,is.value,hn),is!==null&&(cr=rt(is,cr,za),ns===null?Bi=is:ns.sibling=is,ns=is);return wa&&gl(gr,za),Bi}for(Si=R(Si);!is.done;za++,is=zr.next())is=Ur(Si,gr,za,is.value,hn),is!==null&&(u&&is.alternate!==null&&Si.delete(is.key===null?za:is.key),cr=rt(is,cr,za),ns===null?Bi=is:ns.sibling=is,ns=is);return u&&Si.forEach(function(oZ){return p(gr,oZ)}),wa&&gl(gr,za),Bi}function bo(gr,cr,zr,hn){if(typeof zr=="object"&&zr!==null&&zr.type===D&&zr.key===null&&(zr=zr.props.children),typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case S:t:{for(var Bi=zr.key;cr!==null;){if(cr.key===Bi){if(Bi=zr.type,Bi===D){if(cr.tag===7){w(gr,cr.sibling),hn=W(cr,zr.props.children),hn.return=gr,gr=hn;break t}}else if(cr.elementType===Bi||typeof Bi=="object"&&Bi!==null&&Bi.$$typeof===st&&Er(Bi)===cr.type){w(gr,cr.sibling),hn=W(cr,zr.props),Fi(hn,zr),hn.return=gr,gr=hn;break t}w(gr,cr);break}else p(gr,cr);cr=cr.sibling}zr.type===D?(hn=td(zr.props.children,gr.mode,hn,zr.key),hn.return=gr,gr=hn):(hn=gh(zr.type,zr.key,zr.props,null,gr.mode,hn),Fi(hn,zr),hn.return=gr,gr=hn)}return Ot(gr);case P:t:{for(Bi=zr.key;cr!==null;){if(cr.key===Bi)if(cr.tag===4&&cr.stateNode.containerInfo===zr.containerInfo&&cr.stateNode.implementation===zr.implementation){w(gr,cr.sibling),hn=W(cr,zr.children||[]),hn.return=gr,gr=hn;break t}else{w(gr,cr);break}else p(gr,cr);cr=cr.sibling}hn=Td(zr,gr.mode,hn),hn.return=gr,gr=hn}return Ot(gr);case st:return zr=Er(zr),bo(gr,cr,zr,hn)}if(wt(zr))return si(gr,cr,zr,hn);if(V(zr)){if(Bi=V(zr),typeof Bi!="function")throw Error(n(150));return zr=Bi.call(zr),xi(gr,cr,zr,hn)}if(typeof zr.then=="function")return bo(gr,cr,ni(zr),hn);if(zr.$$typeof===z)return bo(gr,cr,Xf(gr,zr),hn);ai(gr,zr)}return typeof zr=="string"&&zr!==""||typeof zr=="number"||typeof zr=="bigint"?(zr=""+zr,cr!==null&&cr.tag===6?(w(gr,cr.sibling),hn=W(cr,zr),hn.return=gr,gr=hn):(w(gr,cr),hn=Gf(zr,gr.mode,hn),hn.return=gr,gr=hn),Ot(gr)):w(gr,cr)}return function(gr,cr,zr,hn){try{ui=0;var Bi=bo(gr,cr,zr,hn);return ln=null,Bi}catch(Si){if(Si===Ce||Si===Ae)throw Si;var ns=mi(29,Si,null,gr.mode);return ns.lanes=hn,ns.return=gr,ns}finally{}}}var Jo=Ea(!0),$i=Ea(!1),ii=!1;function Pn(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Gn(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Gi(u,p,w){var R=u.updateQueue;if(R===null)return null;if(R=R.shared,(qo&2)!==0){var W=R.pending;return W===null?p.next=p:(p.next=W.next,W.next=p),R.pending=p,p=Co(u),Il(u,null,w),p}return kl(u,R,p,w),Co(u)}function eo(u,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194048)!==0)){var R=p.lanes;R&=u.pendingLanes,w|=R,p.lanes=w,Xt(u,w)}}function ol(u,p){var w=u.updateQueue,R=u.alternate;if(R!==null&&(R=R.updateQueue,w===R)){var W=null,rt=null;if(w=w.firstBaseUpdate,w!==null){do{var Ot={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};rt===null?W=rt=Ot:rt=rt.next=Ot,w=w.next}while(w!==null);rt===null?W=rt=p:rt=rt.next=p}else W=rt=p;w={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:rt,shared:R.shared,callbacks:R.callbacks},u.updateQueue=w;return}u=w.lastBaseUpdate,u===null?w.firstBaseUpdate=p:u.next=p,w.lastBaseUpdate=p}var Zl=!1;function Vo(){if(Zl){var u=Z;if(u!==null)throw u}}function bl(u,p,w,R){Zl=!1;var W=u.updateQueue;ii=!1;var rt=W.firstBaseUpdate,Ot=W.lastBaseUpdate,se=W.shared.pending;if(se!==null){W.shared.pending=null;var Ye=se,Br=Ye.next;Ye.next=null,Ot===null?rt=Br:Ot.next=Br,Ot=Ye;var Jr=u.alternate;Jr!==null&&(Jr=Jr.updateQueue,se=Jr.lastBaseUpdate,se!==Ot&&(se===null?Jr.firstBaseUpdate=Br:se.next=Br,Jr.lastBaseUpdate=Ye))}if(rt!==null){var pn=W.baseState;Ot=0,Jr=Br=Ye=null,se=rt;do{var Cr=se.lane&-536870913,Ur=Cr!==se.lane;if(Ur?(ro&Cr)===Cr:(R&Cr)===Cr){Cr!==0&&Cr===$&&(Zl=!0),Jr!==null&&(Jr=Jr.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});t:{var si=u,xi=se;Cr=p;var bo=w;switch(xi.tag){case 1:if(si=xi.payload,typeof si=="function"){pn=si.call(bo,pn,Cr);break t}pn=si;break t;case 3:si.flags=si.flags&-65537|128;case 0:if(si=xi.payload,Cr=typeof si=="function"?si.call(bo,pn,Cr):si,Cr==null)break t;pn=k({},pn,Cr);break t;case 2:ii=!0}}Cr=se.callback,Cr!==null&&(u.flags|=64,Ur&&(u.flags|=8192),Ur=W.callbacks,Ur===null?W.callbacks=[Cr]:Ur.push(Cr))}else Ur={lane:Cr,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Jr===null?(Br=Jr=Ur,Ye=pn):Jr=Jr.next=Ur,Ot|=Cr;if(se=se.next,se===null){if(se=W.shared.pending,se===null)break;Ur=se,se=Ur.next,Ur.next=null,W.lastBaseUpdate=Ur,W.shared.pending=null}}while(!0);Jr===null&&(Ye=pn),W.baseState=Ye,W.firstBaseUpdate=Br,W.lastBaseUpdate=Jr,rt===null&&(W.shared.lanes=0),Jf|=Ot,u.lanes=Ot,u.memoizedState=pn}}function us(u,p){if(typeof u!="function")throw Error(n(191,u));u.call(p)}function Os(u,p){var w=u.callbacks;if(w!==null)for(u.callbacks=null,u=0;u<w.length;u++)us(w[u],p)}var yn=_t(null),kn=_t(0);function ts(u,p){u=ff,Tt(kn,u),Tt(yn,p),ff=u|p.baseLanes}function Wa(){Tt(kn,ff),Tt(yn,yn.current)}function Ds(){ff=kn.current,lt(yn),lt(kn)}var La=_t(null),Ya=null;function Ma(u){var p=u.alternate;Tt(Ua,Ua.current&1),Tt(La,u),Ya===null&&(p===null||yn.current!==null||p.memoizedState!==null)&&(Ya=u)}function vo(u){Tt(Ua,Ua.current),Tt(La,u),Ya===null&&(Ya=u)}function es(u){u.tag===22?(Tt(Ua,Ua.current),Tt(La,u),Ya===null&&(Ya=u)):la()}function la(){Tt(Ua,Ua.current),Tt(La,La.current)}function Di(u){lt(La),Ya===u&&(Ya=null),lt(Ua)}var Ua=_t(0);function Bs(u){for(var p=u;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||lb(w)||dv(w)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ao=0,bi=null,_i=null,Ta=null,Ql=!1,lu=!1,Jl=!1,Qs=0,N=0,s=null,d=0;function _(){throw Error(n(321))}function E(u,p){if(p===null)return!1;for(var w=0;w<p.length&&w<u.length;w++)if(!Ts(u[w],p[w]))return!1;return!0}function L(u,p,w,R,W,rt){return Ao=rt,bi=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,pt.H=u===null||u.memoizedState===null?Rx:Nx,Jl=!1,rt=w(R,W),Jl=!1,lu&&(rt=K(p,w,R,W)),B(u),rt}function B(u){pt.H=Pd;var p=_i!==null&&_i.next!==null;if(Ao=0,Ta=_i=bi=null,Ql=!1,N=0,s=null,p)throw Error(n(300));u===null||gc||(u=u.dependencies,u!==null&&ou(u)&&(gc=!0))}function K(u,p,w,R){bi=u;var W=0;do{if(lu&&(s=null),N=0,lu=!1,25<=W)throw Error(n(301));if(W+=1,Ta=_i=null,u.updateQueue!=null){var rt=u.updateQueue;rt.lastEffect=null,rt.events=null,rt.stores=null,rt.memoCache!=null&&(rt.memoCache.index=0)}pt.H=A0,rt=p(w,R)}while(lu);return rt}function tt(){var u=pt.H,p=u.useState()[0];return p=typeof p.then=="function"?fe(p):p,u=u.useState()[0],(_i!==null?_i.memoizedState:null)!==u&&(bi.flags|=1024),p}function ht(){var u=Qs!==0;return Qs=0,u}function bt(u,p,w){p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~w}function It(u){if(Ql){for(u=u.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}Ql=!1}Ao=0,Ta=_i=bi=null,lu=!1,N=Qs=0,s=null}function Ct(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ta===null?bi.memoizedState=Ta=u:Ta=Ta.next=u,Ta}function zt(){if(_i===null){var u=bi.alternate;u=u!==null?u.memoizedState:null}else u=_i.next;var p=Ta===null?bi.memoizedState:Ta.next;if(p!==null)Ta=p,_i=u;else{if(u===null)throw bi.alternate===null?Error(n(467)):Error(n(310));_i=u,u={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},Ta===null?bi.memoizedState=Ta=u:Ta=Ta.next=u}return Ta}function Qt(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fe(u){var p=N;return N+=1,s===null&&(s=[]),u=Xr(s,u,p),p=bi,(Ta===null?p.memoizedState:Ta.next)===null&&(p=p.alternate,pt.H=p===null||p.memoizedState===null?Rx:Nx),u}function pe(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return fe(u);if(u.$$typeof===z)return Kl(u)}throw Error(n(438,String(u)))}function me(u){var p=null,w=bi.updateQueue;if(w!==null&&(p=w.memoCache),p==null){var R=bi.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(p={data:R.data.map(function(W){return W.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),w===null&&(w=Qt(),bi.updateQueue=w),w.memoCache=p,w=p.data[p.index],w===void 0)for(w=p.data[p.index]=Array(u),R=0;R<u;R++)w[R]=vt;return p.index++,w}function xe(u,p){return typeof p=="function"?p(u):p}function Be(u){var p=zt();return Le(p,_i,u)}function Le(u,p,w){var R=u.queue;if(R===null)throw Error(n(311));R.lastRenderedReducer=w;var W=u.baseQueue,rt=R.pending;if(rt!==null){if(W!==null){var Ot=W.next;W.next=rt.next,rt.next=Ot}p.baseQueue=W=rt,R.pending=null}if(rt=u.baseState,W===null)u.memoizedState=rt;else{p=W.next;var se=Ot=null,Ye=null,Br=p,Jr=!1;do{var pn=Br.lane&-536870913;if(pn!==Br.lane?(ro&pn)===pn:(Ao&pn)===pn){var Cr=Br.revertLane;if(Cr===0)Ye!==null&&(Ye=Ye.next={lane:0,revertLane:0,gesture:null,action:Br.action,hasEagerState:Br.hasEagerState,eagerState:Br.eagerState,next:null}),pn===$&&(Jr=!0);else if((Ao&Cr)===Cr){Br=Br.next,Cr===$&&(Jr=!0);continue}else pn={lane:0,revertLane:Br.revertLane,gesture:null,action:Br.action,hasEagerState:Br.hasEagerState,eagerState:Br.eagerState,next:null},Ye===null?(se=Ye=pn,Ot=rt):Ye=Ye.next=pn,bi.lanes|=Cr,Jf|=Cr;pn=Br.action,Jl&&w(rt,pn),rt=Br.hasEagerState?Br.eagerState:w(rt,pn)}else Cr={lane:pn,revertLane:Br.revertLane,gesture:Br.gesture,action:Br.action,hasEagerState:Br.hasEagerState,eagerState:Br.eagerState,next:null},Ye===null?(se=Ye=Cr,Ot=rt):Ye=Ye.next=Cr,bi.lanes|=pn,Jf|=pn;Br=Br.next}while(Br!==null&&Br!==p);if(Ye===null?Ot=rt:Ye.next=se,!Ts(rt,u.memoizedState)&&(gc=!0,Jr&&(w=Z,w!==null)))throw w;u.memoizedState=rt,u.baseState=Ot,u.baseQueue=Ye,R.lastRenderedState=rt}return W===null&&(R.lanes=0),[u.memoizedState,R.dispatch]}function Ve(u){var p=zt(),w=p.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=u;var R=w.dispatch,W=w.pending,rt=p.memoizedState;if(W!==null){w.pending=null;var Ot=W=W.next;do rt=u(rt,Ot.action),Ot=Ot.next;while(Ot!==W);Ts(rt,p.memoizedState)||(gc=!0),p.memoizedState=rt,p.baseQueue===null&&(p.baseState=rt),w.lastRenderedState=rt}return[rt,R]}function We(u,p,w){var R=bi,W=zt(),rt=wa;if(rt){if(w===void 0)throw Error(n(407));w=w()}else w=p();var Ot=!Ts((_i||W).memoizedState,w);if(Ot&&(W.memoizedState=w,gc=!0),W=W.queue,rd(Ar.bind(null,R,W,u),[u]),W.getSnapshot!==p||Ot||Ta!==null&&Ta.memoizedState.tag&1){if(R.flags|=2048,fa(9,{destroy:void 0},tr.bind(null,R,W,w,p),null),Go===null)throw Error(n(349));rt||(Ao&127)!==0||Ne(R,p,w)}return w}function Ne(u,p,w){u.flags|=16384,u={getSnapshot:p,value:w},p=bi.updateQueue,p===null?(p=Qt(),bi.updateQueue=p,p.stores=[u]):(w=p.stores,w===null?p.stores=[u]:w.push(u))}function tr(u,p,w,R){p.value=w,p.getSnapshot=R,xr(p)&&Sr(u)}function Ar(u,p,w){return w(function(){xr(p)&&Sr(u)})}function xr(u){var p=u.getSnapshot;u=u.value;try{var w=p();return!Ts(u,w)}catch{return!0}}function Sr(u){var p=Ac(u,2);p!==null&&Sh(p,u,2)}function kr(u){var p=Ct();if(typeof u=="function"){var w=u;if(u=w(),Jl){Bt(!0);try{w()}finally{Bt(!1)}}}return p.memoizedState=p.baseState=u,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xe,lastRenderedState:u},p}function Cn(u,p,w,R){return u.baseState=w,Le(u,_i,typeof R=="function"?R:xe)}function Tn(u,p,w,R,W){if(df(u))throw Error(n(485));if(u=p.action,u!==null){var rt={payload:W,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ot){rt.listeners.push(Ot)}};pt.T!==null?w(!0):rt.isTransition=!1,R(rt),w=p.pending,w===null?(rt.next=p.pending=rt,on(p,rt)):(rt.next=w.next,p.pending=w.next=rt)}}function on(u,p){var w=p.action,R=p.payload,W=u.state;if(p.isTransition){var rt=pt.T,Ot={};pt.T=Ot;try{var se=w(W,R),Ye=pt.S;Ye!==null&&Ye(Ot,se),Un(u,p,se)}catch(Br){Sa(u,p,Br)}finally{rt!==null&&Ot.types!==null&&(rt.types=Ot.types),pt.T=rt}}else try{rt=w(W,R),Un(u,p,rt)}catch(Br){Sa(u,p,Br)}}function Un(u,p,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(R){Hi(u,p,R)},function(R){return Sa(u,p,R)}):Hi(u,p,w)}function Hi(u,p,w){p.status="fulfilled",p.value=w,Uo(p),u.state=w,p=u.pending,p!==null&&(w=p.next,w===p?u.pending=null:(w=w.next,p.next=w,on(u,w)))}function Sa(u,p,w){var R=u.pending;if(u.pending=null,R!==null){R=R.next;do p.status="rejected",p.reason=w,Uo(p),p=p.next;while(p!==R)}u.action=null}function Uo(u){u=u.listeners;for(var p=0;p<u.length;p++)(0,u[p])()}function Ka(u,p){return p}function Za(u,p){if(wa){var w=Go.formState;if(w!==null){t:{var R=bi;if(wa){if(Qo){e:{for(var W=Qo,rt=cs;W.nodeType!==8;){if(!rt){W=null;break e}if(W=qh(W.nextSibling),W===null){W=null;break e}}rt=W.data,W=rt==="F!"||rt==="F"?W:null}if(W){Qo=qh(W.nextSibling),R=W.data==="F!";break t}}go(R)}R=!1}R&&(p=w[0])}}return w=Ct(),w.memoizedState=w.baseState=p,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:p},w.queue=R,w=Md.bind(null,bi,R),R.dispatch=w,R=kr(!1),rt=Um.bind(null,bi,!1,R.queue),R=Ct(),W={state:p,dispatch:null,action:u,pending:null},R.queue=W,w=Tn.bind(null,bi,W,rt,w),W.dispatch=w,R.memoizedState=u,[p,w,!1]}function Da(u){var p=zt();return Pa(p,_i,u)}function Pa(u,p,w){if(p=Le(u,p,Ka)[0],u=Be(xe)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var R=fe(p)}catch(Ot){throw Ot===Ce?Ae:Ot}else R=p;p=zt();var W=p.queue,rt=W.dispatch;return w!==p.memoizedState&&(bi.flags|=2048,fa(9,{destroy:void 0},lo.bind(null,W,w),null)),[R,rt,u]}function lo(u,p){u.action=p}function _l(u){var p=zt(),w=_i;if(w!==null)return Pa(p,w,u);zt(),p=p.memoizedState,w=zt();var R=w.queue.dispatch;return w.memoizedState=u,[p,R,!1]}function fa(u,p,w,R){return u={tag:u,create:w,deps:R,inst:p,next:null},p=bi.updateQueue,p===null&&(p=Qt(),bi.updateQueue=p),w=p.lastEffect,w===null?p.lastEffect=u.next=u:(R=w.next,w.next=u,u.next=R,p.lastEffect=u),u}function Rl(){return zt().memoizedState}function sl(u,p,w,R){var W=Ct();bi.flags|=u,W.memoizedState=fa(1|p,{destroy:void 0},w,R===void 0?null:R)}function Eu(u,p,w,R){var W=zt();R=R===void 0?null:R;var rt=W.memoizedState.inst;_i!==null&&R!==null&&E(R,_i.memoizedState.deps)?W.memoizedState=fa(p,rt,w,R):(bi.flags|=u,W.memoizedState=fa(1|p,rt,w,R))}function Nd(u,p){sl(8390656,8,u,p)}function rd(u,p){Eu(2048,8,u,p)}function nd(u){bi.flags|=4;var p=bi.updateQueue;if(p===null)p=Qt(),bi.updateQueue=p,p.events=[u];else{var w=p.events;w===null?p.events=[u]:w.push(u)}}function Dp(u){var p=zt().memoizedState;return nd({ref:p,nextImpl:u}),function(){if((qo&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}function Bp(u,p){return Eu(4,2,u,p)}function Wf(u,p){return Eu(4,4,u,p)}function Tu(u,p){if(typeof p=="function"){u=u();var w=p(u);return function(){typeof w=="function"?w():p(null)}}if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function _h(u,p,w){w=w!=null?w.concat([u]):null,Eu(4,4,Tu.bind(null,p,u),w)}function id(){}function uf(u,p){var w=zt();p=p===void 0?null:p;var R=w.memoizedState;return p!==null&&E(p,R[1])?R[0]:(w.memoizedState=[u,p],u)}function ll(u,p){var w=zt();p=p===void 0?null:p;var R=w.memoizedState;if(p!==null&&E(p,R[1]))return R[0];if(R=u(),Jl){Bt(!0);try{u()}finally{Bt(!1)}}return w.memoizedState=[R,p],R}function rs(u,p,w){return w===void 0||(Ao&1073741824)!==0&&(ro&261930)===0?u.memoizedState=p:(u.memoizedState=w,u=MS(),bi.lanes|=u,Jf|=u,w)}function cu(u,p,w,R){return Ts(w,p)?w:yn.current!==null?(u=rs(u,w,R),Ts(u,p)||(gc=!0),u):(Ao&42)===0||(Ao&1073741824)!==0&&(ro&261930)===0?(gc=!0,u.memoizedState=w):(u=MS(),bi.lanes|=u,Jf|=u,p)}function tc(u,p,w,R,W){var rt=At.p;At.p=rt!==0&&8>rt?rt:8;var Ot=pt.T,se={};pt.T=se,Um(u,!1,p,w);try{var Ye=W(),Br=pt.S;if(Br!==null&&Br(se,Ye),Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var Jr=Zt(Ye,R);Yf(u,p,Jr,rh(u))}else Yf(u,p,R,rh(u))}catch(pn){Yf(u,p,{then:function(){},status:"rejected",reason:pn},rh())}finally{At.p=rt,Ot!==null&&se.types!==null&&(Ot.types=se.types),pt.T=Ot}}function C0(){}function Vy(u,p,w,R){if(u.tag!==5)throw Error(n(476));var W=Fg(u).queue;tc(u,W,p,St,w===null?C0:function(){return zp(u),w(R)})}function Fg(u){var p=u.memoizedState;if(p!==null)return p;p={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xe,lastRenderedState:St},next:null};var w={};return p.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xe,lastRenderedState:w},next:null},u.memoizedState=p,u=u.alternate,u!==null&&(u.memoizedState=p),p}function zp(u){var p=Fg(u);p.next===null&&(p=u.alternate.memoizedState),Yf(u,p.next.queue,{},rh())}function hf(){return Kl(ci)}function ad(){return zt().memoizedState}function Nc(){return zt().memoizedState}function Ld(u){for(var p=u.return;p!==null;){switch(p.tag){case 24:case 3:var w=rh();u=Gn(w);var R=Gi(p,u,w);R!==null&&(Sh(R,p,w),eo(R,p,w)),p={cache:zh()},u.payload=p;return}p=p.return}}function Uy(u,p,w){var R=rh();w={lane:R,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},df(u)?Ix(p,w):(w=ml(u,p,w,R),w!==null&&(Sh(w,u,R),Fp(w,p,R)))}function Md(u,p,w){var R=rh();Yf(u,p,w,R)}function Yf(u,p,w,R){var W={lane:R,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(df(u))Ix(p,W);else{var rt=u.alternate;if(u.lanes===0&&(rt===null||rt.lanes===0)&&(rt=p.lastRenderedReducer,rt!==null))try{var Ot=p.lastRenderedState,se=rt(Ot,w);if(W.hasEagerState=!0,W.eagerState=se,Ts(se,Ot))return kl(u,p,W,0),Go===null&&Cc(),!1}catch{}finally{}if(w=ml(u,p,W,R),w!==null)return Sh(w,u,R),Fp(w,p,R),!0}return!1}function Um(u,p,w,R){if(R={lane:2,revertLane:h1(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},df(u)){if(p)throw Error(n(479))}else p=ml(u,w,R,2),p!==null&&Sh(p,u,2)}function df(u){var p=u.alternate;return u===bi||p!==null&&p===bi}function Ix(u,p){lu=Ql=!0;var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}function Fp(u,p,w){if((w&4194048)!==0){var R=p.lanes;R&=u.pendingLanes,w|=R,p.lanes=w,Xt(u,w)}}var Pd={readContext:Kl,use:pe,useCallback:_,useContext:_,useEffect:_,useImperativeHandle:_,useLayoutEffect:_,useInsertionEffect:_,useMemo:_,useReducer:_,useRef:_,useState:_,useDebugValue:_,useDeferredValue:_,useTransition:_,useSyncExternalStore:_,useId:_,useHostTransitionStatus:_,useFormState:_,useActionState:_,useOptimistic:_,useMemoCache:_,useCacheRefresh:_};Pd.useEffectEvent=_;var Rx={readContext:Kl,use:pe,useCallback:function(u,p){return Ct().memoizedState=[u,p===void 0?null:p],u},useContext:Kl,useEffect:Nd,useImperativeHandle:function(u,p,w){w=w!=null?w.concat([u]):null,sl(4194308,4,Tu.bind(null,p,u),w)},useLayoutEffect:function(u,p){return sl(4194308,4,u,p)},useInsertionEffect:function(u,p){sl(4,2,u,p)},useMemo:function(u,p){var w=Ct();p=p===void 0?null:p;var R=u();if(Jl){Bt(!0);try{u()}finally{Bt(!1)}}return w.memoizedState=[R,p],R},useReducer:function(u,p,w){var R=Ct();if(w!==void 0){var W=w(p);if(Jl){Bt(!0);try{w(p)}finally{Bt(!1)}}}else W=p;return R.memoizedState=R.baseState=W,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:W},R.queue=u,u=u.dispatch=Uy.bind(null,bi,u),[R.memoizedState,u]},useRef:function(u){var p=Ct();return u={current:u},p.memoizedState=u},useState:function(u){u=kr(u);var p=u.queue,w=Md.bind(null,bi,p);return p.dispatch=w,[u.memoizedState,w]},useDebugValue:id,useDeferredValue:function(u,p){var w=Ct();return rs(w,u,p)},useTransition:function(){var u=kr(!1);return u=tc.bind(null,bi,u.queue,!0,!1),Ct().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,p,w){var R=bi,W=Ct();if(wa){if(w===void 0)throw Error(n(407));w=w()}else{if(w=p(),Go===null)throw Error(n(349));(ro&127)!==0||Ne(R,p,w)}W.memoizedState=w;var rt={value:w,getSnapshot:p};return W.queue=rt,Nd(Ar.bind(null,R,rt,u),[u]),R.flags|=2048,fa(9,{destroy:void 0},tr.bind(null,R,rt,w,p),null),w},useId:function(){var u=Ct(),p=Go.identifierPrefix;if(wa){var w=au,R=Ic;w=(R&~(1<<32-oe(R)-1)).toString(32)+w,p="_"+p+"R_"+w,w=Qs++,0<w&&(p+="H"+w.toString(32)),p+="_"}else w=d++,p="_"+p+"r_"+w.toString(32)+"_";return u.memoizedState=p},useHostTransitionStatus:hf,useFormState:Za,useActionState:Za,useOptimistic:function(u){var p=Ct();p.memoizedState=p.baseState=u;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=w,p=Um.bind(null,bi,!0,w),w.dispatch=p,[u,p]},useMemoCache:me,useCacheRefresh:function(){return Ct().memoizedState=Ld.bind(null,bi)},useEffectEvent:function(u){var p=Ct(),w={impl:u};return p.memoizedState=w,function(){if((qo&2)!==0)throw Error(n(440));return w.impl.apply(void 0,arguments)}}},Nx={readContext:Kl,use:pe,useCallback:uf,useContext:Kl,useEffect:rd,useImperativeHandle:_h,useInsertionEffect:Bp,useLayoutEffect:Wf,useMemo:ll,useReducer:Be,useRef:Rl,useState:function(){return Be(xe)},useDebugValue:id,useDeferredValue:function(u,p){var w=zt();return cu(w,_i.memoizedState,u,p)},useTransition:function(){var u=Be(xe)[0],p=zt().memoizedState;return[typeof u=="boolean"?u:fe(u),p]},useSyncExternalStore:We,useId:ad,useHostTransitionStatus:hf,useFormState:Da,useActionState:Da,useOptimistic:function(u,p){var w=zt();return Cn(w,_i,u,p)},useMemoCache:me,useCacheRefresh:Nc};Nx.useEffectEvent=Dp;var A0={readContext:Kl,use:pe,useCallback:uf,useContext:Kl,useEffect:rd,useImperativeHandle:_h,useInsertionEffect:Bp,useLayoutEffect:Wf,useMemo:ll,useReducer:Ve,useRef:Rl,useState:function(){return Ve(xe)},useDebugValue:id,useDeferredValue:function(u,p){var w=zt();return _i===null?rs(w,u,p):cu(w,_i.memoizedState,u,p)},useTransition:function(){var u=Ve(xe)[0],p=zt().memoizedState;return[typeof u=="boolean"?u:fe(u),p]},useSyncExternalStore:We,useId:ad,useHostTransitionStatus:hf,useFormState:_l,useActionState:_l,useOptimistic:function(u,p){var w=zt();return _i!==null?Cn(w,_i,u,p):(w.baseState=u,[u,w.queue.dispatch])},useMemoCache:me,useCacheRefresh:Nc};A0.useEffectEvent=Dp;function k0(u,p,w,R){p=u.memoizedState,w=w(R,p),w=w==null?p:k({},p,w),u.memoizedState=w,u.lanes===0&&(u.updateQueue.baseState=w)}var Lx={enqueueSetState:function(u,p,w){u=u._reactInternals;var R=rh(),W=Gn(R);W.payload=p,w!=null&&(W.callback=w),p=Gi(u,W,R),p!==null&&(Sh(p,u,R),eo(p,u,R))},enqueueReplaceState:function(u,p,w){u=u._reactInternals;var R=rh(),W=Gn(R);W.tag=1,W.payload=p,w!=null&&(W.callback=w),p=Gi(u,W,R),p!==null&&(Sh(p,u,R),eo(p,u,R))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var w=rh(),R=Gn(w);R.tag=2,p!=null&&(R.callback=p),p=Gi(u,R,w),p!==null&&(Sh(p,u,w),eo(p,u,w))}};function Mx(u,p,w,R,W,rt,Ot){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(R,rt,Ot):p.prototype&&p.prototype.isPureReactComponent?!lr(w,R)||!lr(W,rt):!0}function vS(u,p,w,R){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,R),p.state!==u&&Lx.enqueueReplaceState(p,p.state,null)}function Kf(u,p){var w=p;if("ref"in p){w={};for(var R in p)R!=="ref"&&(w[R]=p[R])}if(u=u.defaultProps){w===p&&(w=k({},w));for(var W in u)w[W]===void 0&&(w[W]=u[W])}return w}function bS(u){$o(u)}function I0(u){console.error(u)}function Px(u){$o(u)}function qy(u,p){try{var w=u.onUncaughtError;w(p.value,{componentStack:p.stack})}catch(R){setTimeout(function(){throw R})}}function qm(u,p,w){try{var R=u.onCaughtError;R(w.value,{componentStack:w.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(W){setTimeout(function(){throw W})}}function Ox(u,p,w){return w=Gn(w),w.tag=3,w.payload={element:null},w.callback=function(){qy(u,p)},w}function jg(u){return u=Gn(u),u.tag=3,u}function Gy(u,p,w,R){var W=w.type.getDerivedStateFromError;if(typeof W=="function"){var rt=R.value;u.payload=function(){return W(rt)},u.callback=function(){qm(p,w,R)}}var Ot=w.stateNode;Ot!==null&&typeof Ot.componentDidCatch=="function"&&(u.callback=function(){qm(p,w,R),typeof W!="function"&&(Gp===null?Gp=new Set([this]):Gp.add(this));var se=R.stack;this.componentDidCatch(R.value,{componentStack:se!==null?se:""})})}function R0(u,p,w,R,W){if(w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(p=w.alternate,p!==null&&al(p,w,W,!0),w=La.current,w!==null){switch(w.tag){case 31:case 13:return Ya===null?ov():w.alternate===null&&wl===0&&(wl=3),w.flags&=-257,w.flags|=65536,w.lanes=W,R===hr?w.flags|=16384:(p=w.updateQueue,p===null?w.updateQueue=new Set([R]):p.add(R),s1(u,R,W)),!1;case 22:return w.flags|=65536,R===hr?w.flags|=16384:(p=w.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([R])},w.updateQueue=p):(w=p.retryQueue,w===null?p.retryQueue=new Set([R]):w.add(R)),s1(u,R,W)),!1}throw Error(n(435,w.tag))}return s1(u,R,W),ov(),!1}if(wa)return p=La.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=W,R!==Nu&&(u=Error(n(422),{cause:R}),Zu(Wc(u,w)))):(R!==Nu&&(p=Error(n(423),{cause:R}),Zu(Wc(p,w))),u=u.current.alternate,u.flags|=65536,W&=-W,u.lanes|=W,R=Wc(R,w),W=Ox(u.stateNode,R,W),ol(u,W),wl!==4&&(wl=2)),!1;var rt=Error(n(520),{cause:R});if(rt=Wc(rt,w),rv===null?rv=[rt]:rv.push(rt),wl!==4&&(wl=2),p===null)return!0;R=Wc(R,w),w=p;do{switch(w.tag){case 3:return w.flags|=65536,u=W&-W,w.lanes|=u,u=Ox(w.stateNode,R,u),ol(w,u),!1;case 1:if(p=w.type,rt=w.stateNode,(w.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(Gp===null||!Gp.has(rt))))return w.flags|=65536,W&=-W,w.lanes|=W,W=jg(W),Gy(W,u,w,R),ol(w,W),!1}w=w.return}while(w!==null);return!1}var N0=Error(n(461)),gc=!1;function Cu(u,p,w,R){p.child=u===null?$i(p,null,w,R):Jo(p,u.child,w,R)}function _S(u,p,w,R,W){w=w.render;var rt=p.ref;if("ref"in R){var Ot={};for(var se in R)se!=="ref"&&(Ot[se]=R[se])}else Ot=R;return vh(p),R=L(u,p,w,Ot,rt,W),se=ht(),u!==null&&!gc?(bt(u,p,W),Od(u,p,W)):(wa&&se&&Mp(p),p.flags|=1,Cu(u,p,R,W),p.child)}function Dx(u,p,w,R,W){if(u===null){var rt=w.type;return typeof rt=="function"&&!Xc(rt)&&rt.defaultProps===void 0&&w.compare===null?(p.tag=15,p.type=rt,Bx(u,p,rt,R,W)):(u=gh(w.type,null,R,p,p.mode,W),u.ref=p.ref,u.return=p,p.child=u)}if(rt=u.child,!Zy(u,W)){var Ot=rt.memoizedProps;if(w=w.compare,w=w!==null?w:lr,w(Ot,R)&&u.ref===p.ref)return Od(u,p,W)}return p.flags|=1,u=Xl(rt,R),u.ref=p.ref,u.return=p,p.child=u}function Bx(u,p,w,R,W){if(u!==null){var rt=u.memoizedProps;if(lr(rt,R)&&u.ref===p.ref)if(gc=!1,p.pendingProps=R=rt,Zy(u,W))(u.flags&131072)!==0&&(gc=!0);else return p.lanes=u.lanes,Od(u,p,W)}return P0(u,p,w,R,W)}function zx(u,p,w,R){var W=R.children,rt=u!==null?u.memoizedState:null;if(u===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((p.flags&128)!==0){if(rt=rt!==null?rt.baseLanes|w:w,u!==null){for(R=p.child=u.child,W=0;R!==null;)W=W|R.lanes|R.childLanes,R=R.sibling;R=W&~rt}else R=0,p.child=null;return L0(u,p,rt,w,R)}if((w&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},u!==null&&ge(p,rt!==null?rt.cachePool:null),rt!==null?ts(p,rt):Wa(),es(p);else return R=p.lanes=536870912,L0(u,p,rt!==null?rt.baseLanes|w:w,w,R)}else rt!==null?(ge(p,rt.cachePool),ts(p,rt),la(),p.memoizedState=null):(u!==null&&ge(p,null),Wa(),la());return Cu(u,p,W,w),p.child}function Hy(u,p){return u!==null&&u.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function L0(u,p,w,R,W){var rt=ue();return rt=rt===null?null:{parent:As._currentValue,pool:rt},p.memoizedState={baseLanes:w,cachePool:rt},u!==null&&ge(p,null),Wa(),es(p),u!==null&&al(u,p,R,!0),p.childLanes=W,null}function Xy(u,p){return p=Ky({mode:p.mode,children:p.children},u.mode),p.ref=u.ref,u.child=p,p.return=u,p}function M0(u,p,w){return Jo(p,u.child,null,w),u=Xy(p,p.pendingProps),u.flags|=2,Di(p),p.memoizedState=null,u}function Wy(u,p,w){var R=p.pendingProps,W=(p.flags&128)!==0;if(p.flags&=-129,u===null){if(wa){if(R.mode==="hidden")return u=Xy(p,R),p.lanes=536870912,Hy(null,u);if(vo(p),(u=Qo)?(u=n5(u,cs),u=u!==null&&u.data==="&"?u:null,u!==null&&(p.memoizedState={dehydrated:u,treeContext:wu!==null?{id:Ic,overflow:au}:null,retryLane:536870912,hydrationErrors:null},w=Hf(u),w.return=p,p.child=w,Wl=p,Qo=null)):u=null,u===null)throw go(p);return p.lanes=536870912,null}return Xy(p,R)}var rt=u.memoizedState;if(rt!==null){var Ot=rt.dehydrated;if(vo(p),W)if(p.flags&256)p.flags&=-257,p=M0(u,p,w);else if(p.memoizedState!==null)p.child=u.child,p.flags|=128,p=null;else throw Error(n(558));else if(gc||al(u,p,w,!1),W=(w&u.childLanes)!==0,gc||W){if(R=Go,R!==null&&(Ot=be(R,w),Ot!==0&&Ot!==rt.retryLane))throw rt.retryLane=Ot,Ac(u,Ot),Sh(R,u,Ot),N0;ov(),p=M0(u,p,w)}else u=rt.treeContext,Qo=qh(Ot.nextSibling),Wl=p,wa=!0,Yl=null,cs=!1,u!==null&&Pp(p,u),p=Xy(p,R),p.flags|=4096;return p}return u=Xl(u.child,{mode:R.mode,children:R.children}),u.ref=p.ref,p.child=u,u.return=p,u}function uu(u,p){var w=p.ref;if(w===null)u!==null&&u.ref!==null&&(p.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(n(284));(u===null||u.ref!==w)&&(p.flags|=4194816)}}function P0(u,p,w,R,W){return vh(p),w=L(u,p,w,R,void 0,W),R=ht(),u!==null&&!gc?(bt(u,p,W),Od(u,p,W)):(wa&&R&&Mp(p),p.flags|=1,Cu(u,p,w,W),p.child)}function O0(u,p,w,R,W,rt){return vh(p),p.updateQueue=null,w=K(p,R,w,W),B(u),R=ht(),u!==null&&!gc?(bt(u,p,rt),Od(u,p,rt)):(wa&&R&&Mp(p),p.flags|=1,Cu(u,p,w,rt),p.child)}function xS(u,p,w,R,W){if(vh(p),p.stateNode===null){var rt=Cs,Ot=w.contextType;typeof Ot=="object"&&Ot!==null&&(rt=Kl(Ot)),rt=new w(R,rt),p.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,rt.updater=Lx,p.stateNode=rt,rt._reactInternals=p,rt=p.stateNode,rt.props=R,rt.state=p.memoizedState,rt.refs={},Pn(p),Ot=w.contextType,rt.context=typeof Ot=="object"&&Ot!==null?Kl(Ot):Cs,rt.state=p.memoizedState,Ot=w.getDerivedStateFromProps,typeof Ot=="function"&&(k0(p,w,Ot,R),rt.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(Ot=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),Ot!==rt.state&&Lx.enqueueReplaceState(rt,rt.state,null),bl(p,R,rt,W),Vo(),rt.state=p.memoizedState),typeof rt.componentDidMount=="function"&&(p.flags|=4194308),R=!0}else if(u===null){rt=p.stateNode;var se=p.memoizedProps,Ye=Kf(w,se);rt.props=Ye;var Br=rt.context,Jr=w.contextType;Ot=Cs,typeof Jr=="object"&&Jr!==null&&(Ot=Kl(Jr));var pn=w.getDerivedStateFromProps;Jr=typeof pn=="function"||typeof rt.getSnapshotBeforeUpdate=="function",se=p.pendingProps!==se,Jr||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(se||Br!==Ot)&&vS(p,rt,R,Ot),ii=!1;var Cr=p.memoizedState;rt.state=Cr,bl(p,R,rt,W),Vo(),Br=p.memoizedState,se||Cr!==Br||ii?(typeof pn=="function"&&(k0(p,w,pn,R),Br=p.memoizedState),(Ye=ii||Mx(p,w,Ye,R,Cr,Br,Ot))?(Jr||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(p.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=Br),rt.props=R,rt.state=Br,rt.context=Ot,R=Ye):(typeof rt.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{rt=p.stateNode,yo(u,p),Ot=p.memoizedProps,Jr=Kf(w,Ot),rt.props=Jr,pn=p.pendingProps,Cr=rt.context,Br=w.contextType,Ye=Cs,typeof Br=="object"&&Br!==null&&(Ye=Kl(Br)),se=w.getDerivedStateFromProps,(Br=typeof se=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(Ot!==pn||Cr!==Ye)&&vS(p,rt,R,Ye),ii=!1,Cr=p.memoizedState,rt.state=Cr,bl(p,R,rt,W),Vo();var Ur=p.memoizedState;Ot!==pn||Cr!==Ur||ii||u!==null&&u.dependencies!==null&&ou(u.dependencies)?(typeof se=="function"&&(k0(p,w,se,R),Ur=p.memoizedState),(Jr=ii||Mx(p,w,Jr,R,Cr,Ur,Ye)||u!==null&&u.dependencies!==null&&ou(u.dependencies))?(Br||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(R,Ur,Ye),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(R,Ur,Ye)),typeof rt.componentDidUpdate=="function"&&(p.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof rt.componentDidUpdate!="function"||Ot===u.memoizedProps&&Cr===u.memoizedState||(p.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||Ot===u.memoizedProps&&Cr===u.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=Ur),rt.props=R,rt.state=Ur,rt.context=Ye,R=Jr):(typeof rt.componentDidUpdate!="function"||Ot===u.memoizedProps&&Cr===u.memoizedState||(p.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||Ot===u.memoizedProps&&Cr===u.memoizedState||(p.flags|=1024),R=!1)}return rt=R,uu(u,p),R=(p.flags&128)!==0,rt||R?(rt=p.stateNode,w=R&&typeof w.getDerivedStateFromError!="function"?null:rt.render(),p.flags|=1,u!==null&&R?(p.child=Jo(p,u.child,null,W),p.child=Jo(p,null,w,W)):Cu(u,p,w,W),p.memoizedState=rt.state,u=p.child):u=Od(u,p,W),u}function Fx(u,p,w,R){return Ku(),p.flags|=256,Cu(u,p,w,R),p.child}var jx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $x(u){return{baseLanes:u,cachePool:Te()}}function D0(u,p,w){return u=u!==null?u.childLanes&~w:0,p&&(u|=Vh),u}function wS(u,p,w){var R=p.pendingProps,W=!1,rt=(p.flags&128)!==0,Ot;if((Ot=rt)||(Ot=u!==null&&u.memoizedState===null?!1:(Ua.current&2)!==0),Ot&&(W=!0,p.flags&=-129),Ot=(p.flags&32)!==0,p.flags&=-33,u===null){if(wa){if(W?Ma(p):la(),(u=Qo)?(u=n5(u,cs),u=u!==null&&u.data!=="&"?u:null,u!==null&&(p.memoizedState={dehydrated:u,treeContext:wu!==null?{id:Ic,overflow:au}:null,retryLane:536870912,hydrationErrors:null},w=Hf(u),w.return=p,p.child=w,Wl=p,Qo=null)):u=null,u===null)throw go(p);return dv(u)?p.lanes=32:p.lanes=536870912,null}var se=R.children;return R=R.fallback,W?(la(),W=p.mode,se=Ky({mode:"hidden",children:se},W),R=td(R,W,w,null),se.return=p,R.return=p,se.sibling=R,p.child=se,R=p.child,R.memoizedState=$x(w),R.childLanes=D0(u,Ot,w),p.memoizedState=jx,Hy(null,R)):(Ma(p),Yy(p,se))}var Ye=u.memoizedState;if(Ye!==null&&(se=Ye.dehydrated,se!==null)){if(rt)p.flags&256?(Ma(p),p.flags&=-257,p=B0(u,p,w)):p.memoizedState!==null?(la(),p.child=u.child,p.flags|=128,p=null):(la(),se=R.fallback,W=p.mode,R=Ky({mode:"visible",children:R.children},W),se=td(se,W,w,null),se.flags|=2,R.return=p,se.return=p,R.sibling=se,p.child=R,Jo(p,u.child,null,w),R=p.child,R.memoizedState=$x(w),R.childLanes=D0(u,Ot,w),p.memoizedState=jx,p=Hy(null,R));else if(Ma(p),dv(se)){if(Ot=se.nextSibling&&se.nextSibling.dataset,Ot)var Br=Ot.dgst;Ot=Br,R=Error(n(419)),R.stack="",R.digest=Ot,Zu({value:R,source:null,stack:null}),p=B0(u,p,w)}else if(gc||al(u,p,w,!1),Ot=(w&u.childLanes)!==0,gc||Ot){if(Ot=Go,Ot!==null&&(R=be(Ot,w),R!==0&&R!==Ye.retryLane))throw Ye.retryLane=R,Ac(u,R),Sh(Ot,u,R),N0;lb(se)||ov(),p=B0(u,p,w)}else lb(se)?(p.flags|=192,p.child=u.child,p=null):(u=Ye.treeContext,Qo=qh(se.nextSibling),Wl=p,wa=!0,Yl=null,cs=!1,u!==null&&Pp(p,u),p=Yy(p,R.children),p.flags|=4096);return p}return W?(la(),se=R.fallback,W=p.mode,Ye=u.child,Br=Ye.sibling,R=Xl(Ye,{mode:"hidden",children:R.children}),R.subtreeFlags=Ye.subtreeFlags&65011712,Br!==null?se=Xl(Br,se):(se=td(se,W,w,null),se.flags|=2),se.return=p,R.return=p,R.sibling=se,p.child=R,Hy(null,R),R=p.child,se=u.child.memoizedState,se===null?se=$x(w):(W=se.cachePool,W!==null?(Ye=As._currentValue,W=W.parent!==Ye?{parent:Ye,pool:Ye}:W):W=Te(),se={baseLanes:se.baseLanes|w,cachePool:W}),R.memoizedState=se,R.childLanes=D0(u,Ot,w),p.memoizedState=jx,Hy(u.child,R)):(Ma(p),w=u.child,u=w.sibling,w=Xl(w,{mode:"visible",children:R.children}),w.return=p,w.sibling=null,u!==null&&(Ot=p.deletions,Ot===null?(p.deletions=[u],p.flags|=16):Ot.push(u)),p.child=w,p.memoizedState=null,w)}function Yy(u,p){return p=Ky({mode:"visible",children:p},u.mode),p.return=u,u.child=p}function Ky(u,p){return u=mi(22,u,null,p),u.lanes=0,u}function B0(u,p,w){return Jo(p,u.child,null,w),u=Yy(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function SS(u,p,w){u.lanes|=p;var R=u.alternate;R!==null&&(R.lanes|=p),Qu(u.return,p,w)}function Vx(u,p,w,R,W,rt){var Ot=u.memoizedState;Ot===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:w,tailMode:W,treeForkCount:rt}:(Ot.isBackwards=p,Ot.rendering=null,Ot.renderingStartTime=0,Ot.last=R,Ot.tail=w,Ot.tailMode=W,Ot.treeForkCount=rt)}function ES(u,p,w){var R=p.pendingProps,W=R.revealOrder,rt=R.tail;R=R.children;var Ot=Ua.current,se=(Ot&2)!==0;if(se?(Ot=Ot&1|2,p.flags|=128):Ot&=1,Tt(Ua,Ot),Cu(u,p,R,w),R=wa?kd:0,!se&&u!==null&&(u.flags&128)!==0)t:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&SS(u,w,p);else if(u.tag===19)SS(u,w,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break t;for(;u.sibling===null;){if(u.return===null||u.return===p)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(W){case"forwards":for(w=p.child,W=null;w!==null;)u=w.alternate,u!==null&&Bs(u)===null&&(W=w),w=w.sibling;w=W,w===null?(W=p.child,p.child=null):(W=w.sibling,w.sibling=null),Vx(p,!1,W,w,rt,R);break;case"backwards":case"unstable_legacy-backwards":for(w=null,W=p.child,p.child=null;W!==null;){if(u=W.alternate,u!==null&&Bs(u)===null){p.child=W;break}u=W.sibling,W.sibling=w,w=W,W=u}Vx(p,!0,w,null,rt,R);break;case"together":Vx(p,!1,null,null,void 0,R);break;default:p.memoizedState=null}return p.child}function Od(u,p,w){if(u!==null&&(p.dependencies=u.dependencies),Jf|=p.lanes,(w&p.childLanes)===0)if(u!==null){if(al(u,p,w,!1),(w&p.childLanes)===0)return null}else return null;if(u!==null&&p.child!==u.child)throw Error(n(153));if(p.child!==null){for(u=p.child,w=Xl(u,u.pendingProps),p.child=w,w.return=p;u.sibling!==null;)u=u.sibling,w=w.sibling=Xl(u,u.pendingProps),w.return=p;w.sibling=null}return p.child}function Zy(u,p){return(u.lanes&p)!==0?!0:(u=u.dependencies,!!(u!==null&&ou(u)))}function TS(u,p,w){switch(p.tag){case 3:Ht(p,p.stateNode.containerInfo),Bh(p,As,u.memoizedState.cache),Ku();break;case 27:case 5:de(p);break;case 4:Ht(p,p.stateNode.containerInfo);break;case 10:Bh(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,vo(p),null;break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(Ma(p),p.flags|=128,null):(w&p.child.childLanes)!==0?wS(u,p,w):(Ma(p),u=Od(u,p,w),u!==null?u.sibling:null);Ma(p);break;case 19:var W=(u.flags&128)!==0;if(R=(w&p.childLanes)!==0,R||(al(u,p,w,!1),R=(w&p.childLanes)!==0),W){if(R)return ES(u,p,w);p.flags|=128}if(W=p.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Tt(Ua,Ua.current),R)break;return null;case 22:return p.lanes=0,zx(u,p,w,p.pendingProps);case 24:Bh(p,As,u.memoizedState.cache)}return Od(u,p,w)}function jp(u,p,w){if(u!==null)if(u.memoizedProps!==p.pendingProps)gc=!0;else{if(!Zy(u,w)&&(p.flags&128)===0)return gc=!1,TS(u,p,w);gc=(u.flags&131072)!==0}else gc=!1,wa&&(p.flags&1048576)!==0&&Bg(p,kd,p.index);switch(p.lanes=0,p.tag){case 16:t:{var R=p.pendingProps;if(u=Er(p.elementType),p.type=u,typeof u=="function")Xc(u)?(R=Kf(u,R),p.tag=1,p=xS(null,p,u,R,w)):(p.tag=0,p=P0(null,p,u,R,w));else{if(u!=null){var W=u.$$typeof;if(W===j){p.tag=11,p=_S(null,p,u,R,w);break t}else if(W===et){p.tag=14,p=Dx(null,p,u,R,w);break t}}throw p=mt(u)||u,Error(n(306,p,""))}}return p;case 0:return P0(u,p,p.type,p.pendingProps,w);case 1:return R=p.type,W=Kf(R,p.pendingProps),xS(u,p,R,W,w);case 3:t:{if(Ht(p,p.stateNode.containerInfo),u===null)throw Error(n(387));R=p.pendingProps;var rt=p.memoizedState;W=rt.element,yo(u,p),bl(p,R,null,w);var Ot=p.memoizedState;if(R=Ot.cache,Bh(p,As,R),R!==rt.cache&&Pu(p,[As],w,!0),Vo(),R=Ot.element,rt.isDehydrated)if(rt={element:R,isDehydrated:!1,cache:Ot.cache},p.updateQueue.baseState=rt,p.memoizedState=rt,p.flags&256){p=Fx(u,p,R,w);break t}else if(R!==W){W=Wc(Error(n(424)),p),Zu(W),p=Fx(u,p,R,w);break t}else{switch(u=p.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Qo=qh(u.firstChild),Wl=p,wa=!0,Yl=null,cs=!0,w=$i(p,null,R,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(Ku(),R===W){p=Od(u,p,w);break t}Cu(u,p,R,w)}p=p.child}return p;case 26:return uu(u,p),u===null?(w=ft(p.type,null,p.pendingProps,null))?p.memoizedState=w:wa||(w=p.type,u=p.pendingProps,R=Km(Ut.current).createElement(w),R[On]=p,R[li]=u,hu(R,w,u),ha(R),p.stateNode=R):p.memoizedState=ft(p.type,u.memoizedProps,p.pendingProps,u.memoizedState),null;case 27:return de(p),u===null&&wa&&(R=p.stateNode=ub(p.type,p.pendingProps,Ut.current),Wl=p,cs=!0,W=Qo,sp(p.type)?(Qm=W,Qo=qh(R.firstChild)):Qo=W),Cu(u,p,p.pendingProps.children,w),uu(u,p),u===null&&(p.flags|=4194304),p.child;case 5:return u===null&&wa&&((W=R=Qo)&&(R=e5(R,p.type,p.pendingProps,cs),R!==null?(p.stateNode=R,Wl=p,Qo=qh(R.firstChild),cs=!1,W=!0):W=!1),W||go(p)),de(p),W=p.type,rt=p.pendingProps,Ot=u!==null?u.memoizedProps:null,R=rt.children,ty(W,rt)?R=null:Ot!==null&&ty(W,Ot)&&(p.flags|=32),p.memoizedState!==null&&(W=L(u,p,tt,null,null,w),ci._currentValue=W),uu(u,p),Cu(u,p,R,w),p.child;case 6:return u===null&&wa&&((u=w=Qo)&&(w=r5(w,p.pendingProps,cs),w!==null?(p.stateNode=w,Wl=p,Qo=null,u=!0):u=!1),u||go(p)),null;case 13:return wS(u,p,w);case 4:return Ht(p,p.stateNode.containerInfo),R=p.pendingProps,u===null?p.child=Jo(p,null,R,w):Cu(u,p,R,w),p.child;case 11:return _S(u,p,p.type,p.pendingProps,w);case 7:return Cu(u,p,p.pendingProps,w),p.child;case 8:return Cu(u,p,p.pendingProps.children,w),p.child;case 12:return Cu(u,p,p.pendingProps.children,w),p.child;case 10:return R=p.pendingProps,Bh(p,p.type,R.value),Cu(u,p,R.children,w),p.child;case 9:return W=p.type._context,R=p.pendingProps.children,vh(p),W=Kl(W),R=R(W),p.flags|=1,Cu(u,p,R,w),p.child;case 14:return Dx(u,p,p.type,p.pendingProps,w);case 15:return Bx(u,p,p.type,p.pendingProps,w);case 19:return ES(u,p,w);case 31:return Wy(u,p,w);case 22:return zx(u,p,w,p.pendingProps);case 24:return vh(p),R=Kl(As),u===null?(W=ue(),W===null&&(W=Go,rt=zh(),W.pooledCache=rt,rt.refCount++,rt!==null&&(W.pooledCacheLanes|=w),W=rt),p.memoizedState={parent:R,cache:W},Pn(p),Bh(p,As,W)):((u.lanes&w)!==0&&(yo(u,p),bl(p,null,null,w),Vo()),W=u.memoizedState,rt=p.memoizedState,W.parent!==R?(W={parent:R,cache:R},p.memoizedState=W,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=W),Bh(p,As,R)):(R=rt.cache,Bh(p,As,R),R!==W.cache&&Pu(p,[As],w,!0))),Cu(u,p,p.pendingProps.children,w),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function Fh(u){u.flags|=4}function Ux(u,p,w,R,W){if((p=(u.mode&32)!==0)&&(p=!1),p){if(u.flags|=16777216,(W&335544128)===W)if(u.stateNode.complete)u.flags|=8192;else if(OS())u.flags|=8192;else throw wr=hr,Nr}else u.flags&=-16777217}function CS(u,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!jr(p))if(OS())u.flags|=8192;else throw wr=hr,Nr}function z0(u,p){p!==null&&(u.flags|=4),u.flags&16384&&(p=u.tag!==22?or():536870912,u.lanes|=p,tp|=p)}function Qy(u,p){if(!wa)switch(u.tailMode){case"hidden":p=u.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?u.tail=null:w.sibling=null;break;case"collapsed":w=u.tail;for(var R=null;w!==null;)w.alternate!==null&&(R=w),w=w.sibling;R===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:R.sibling=null}}function cl(u){var p=u.alternate!==null&&u.alternate.child===u.child,w=0,R=0;if(p)for(var W=u.child;W!==null;)w|=W.lanes|W.childLanes,R|=W.subtreeFlags&65011712,R|=W.flags&65011712,W.return=u,W=W.sibling;else for(W=u.child;W!==null;)w|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=u,W=W.sibling;return u.subtreeFlags|=R,u.childLanes=w,p}function ZA(u,p,w){var R=p.pendingProps;switch(Id(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cl(p),null;case 1:return cl(p),null;case 3:return w=p.stateNode,R=null,u!==null&&(R=u.memoizedState.cache),p.memoizedState.cache!==R&&(p.flags|=2048),Su(As),ce(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(vl(p)?Fh(p):u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ed())),cl(p),null;case 26:var W=p.type,rt=p.memoizedState;return u===null?(Fh(p),rt!==null?(cl(p),CS(p,rt)):(cl(p),Ux(p,W,null,R,w))):rt?rt!==u.memoizedState?(Fh(p),cl(p),CS(p,rt)):(cl(p),p.flags&=-16777217):(u=u.memoizedProps,u!==R&&Fh(p),cl(p),Ux(p,W,u,R,w)),null;case 27:if(Se(p),w=Ut.current,W=p.type,u!==null&&p.stateNode!=null)u.memoizedProps!==R&&Fh(p);else{if(!R){if(p.stateNode===null)throw Error(n(166));return cl(p),null}u=kt.current,vl(p)?yh(p):(u=ub(W,R,w),p.stateNode=u,Fh(p))}return cl(p),null;case 5:if(Se(p),W=p.type,u!==null&&p.stateNode!=null)u.memoizedProps!==R&&Fh(p);else{if(!R){if(p.stateNode===null)throw Error(n(166));return cl(p),null}if(rt=kt.current,vl(p))yh(p);else{var Ot=Km(Ut.current);switch(rt){case 1:rt=Ot.createElementNS("http://www.w3.org/2000/svg",W);break;case 2:rt=Ot.createElementNS("http://www.w3.org/1998/Math/MathML",W);break;default:switch(W){case"svg":rt=Ot.createElementNS("http://www.w3.org/2000/svg",W);break;case"math":rt=Ot.createElementNS("http://www.w3.org/1998/Math/MathML",W);break;case"script":rt=Ot.createElement("div"),rt.innerHTML="<script><\/script>",rt=rt.removeChild(rt.firstChild);break;case"select":rt=typeof R.is=="string"?Ot.createElement("select",{is:R.is}):Ot.createElement("select"),R.multiple?rt.multiple=!0:R.size&&(rt.size=R.size);break;default:rt=typeof R.is=="string"?Ot.createElement(W,{is:R.is}):Ot.createElement(W)}}rt[On]=p,rt[li]=R;t:for(Ot=p.child;Ot!==null;){if(Ot.tag===5||Ot.tag===6)rt.appendChild(Ot.stateNode);else if(Ot.tag!==4&&Ot.tag!==27&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===p)break t;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===p)break t;Ot=Ot.return}Ot.sibling.return=Ot.return,Ot=Ot.sibling}p.stateNode=rt;t:switch(hu(rt,W,R),W){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break t;case"img":R=!0;break t;default:R=!1}R&&Fh(p)}}return cl(p),Ux(p,p.type,u===null?null:u.memoizedProps,p.pendingProps,w),null;case 6:if(u&&p.stateNode!=null)u.memoizedProps!==R&&Fh(p);else{if(typeof R!="string"&&p.stateNode===null)throw Error(n(166));if(u=Ut.current,vl(p)){if(u=p.stateNode,w=p.memoizedProps,R=null,W=Wl,W!==null)switch(W.tag){case 27:case 5:R=W.memoizedProps}u[On]=p,u=!!(u.nodeValue===w||R!==null&&R.suppressHydrationWarning===!0||op(u.nodeValue,w)),u||go(p,!0)}else u=Km(u).createTextNode(R),u[On]=p,p.stateNode=u}return cl(p),null;case 31:if(w=p.memoizedState,u===null||u.memoizedState!==null){if(R=vl(p),w!==null){if(u===null){if(!R)throw Error(n(318));if(u=p.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(557));u[On]=p}else Ku(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;cl(p),u=!1}else w=ed(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=w),u=!0;if(!u)return p.flags&256?(Di(p),p):(Di(p),null);if((p.flags&128)!==0)throw Error(n(558))}return cl(p),null;case 13:if(R=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(W=vl(p),R!==null&&R.dehydrated!==null){if(u===null){if(!W)throw Error(n(318));if(W=p.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(n(317));W[On]=p}else Ku(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;cl(p),W=!1}else W=ed(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=W),W=!0;if(!W)return p.flags&256?(Di(p),p):(Di(p),null)}return Di(p),(p.flags&128)!==0?(p.lanes=w,p):(w=R!==null,u=u!==null&&u.memoizedState!==null,w&&(R=p.child,W=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(W=R.alternate.memoizedState.cachePool.pool),rt=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(rt=R.memoizedState.cachePool.pool),rt!==W&&(R.flags|=2048)),w!==u&&w&&(p.child.flags|=8192),z0(p,p.updateQueue),cl(p),null);case 4:return ce(),u===null&&nb(p.stateNode.containerInfo),cl(p),null;case 10:return Su(p.type),cl(p),null;case 19:if(lt(Ua),R=p.memoizedState,R===null)return cl(p),null;if(W=(p.flags&128)!==0,rt=R.rendering,rt===null)if(W)Qy(R,!1);else{if(wl!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(rt=Bs(u),rt!==null){for(p.flags|=128,Qy(R,!1),u=rt.updateQueue,p.updateQueue=u,z0(p,u),p.subtreeFlags=0,u=w,w=p.child;w!==null;)lf(w,u),w=w.sibling;return Tt(Ua,Ua.current&1|2),wa&&gl(p,R.treeForkCount),p.child}u=u.sibling}R.tail!==null&&Ir()>nv&&(p.flags|=128,W=!0,Qy(R,!1),p.lanes=4194304)}else{if(!W)if(u=Bs(rt),u!==null){if(p.flags|=128,W=!0,u=u.updateQueue,p.updateQueue=u,z0(p,u),Qy(R,!0),R.tail===null&&R.tailMode==="hidden"&&!rt.alternate&&!wa)return cl(p),null}else 2*Ir()-R.renderingStartTime>nv&&w!==536870912&&(p.flags|=128,W=!0,Qy(R,!1),p.lanes=4194304);R.isBackwards?(rt.sibling=p.child,p.child=rt):(u=R.last,u!==null?u.sibling=rt:p.child=rt,R.last=rt)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.renderingStartTime=Ir(),u.sibling=null,w=Ua.current,Tt(Ua,W?w&1|2:w&1),wa&&gl(p,R.treeForkCount),u):(cl(p),null);case 22:case 23:return Di(p),Ds(),R=p.memoizedState!==null,u!==null?u.memoizedState!==null!==R&&(p.flags|=8192):R&&(p.flags|=8192),R?(w&536870912)!==0&&(p.flags&128)===0&&(cl(p),p.subtreeFlags&6&&(p.flags|=8192)):cl(p),w=p.updateQueue,w!==null&&z0(p,w.retryQueue),w=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),R=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(R=p.memoizedState.cachePool.pool),R!==w&&(p.flags|=2048),u!==null&&lt(ae),null;case 24:return w=null,u!==null&&(w=u.memoizedState.cache),p.memoizedState.cache!==w&&(p.flags|=2048),Su(As),cl(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function QA(u,p){switch(Id(p),p.tag){case 1:return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return Su(As),ce(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 26:case 27:case 5:return Se(p),null;case 31:if(p.memoizedState!==null){if(Di(p),p.alternate===null)throw Error(n(340));Ku()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 13:if(Di(p),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Ku()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return lt(Ua),null;case 4:return ce(),null;case 10:return Su(p.type),null;case 22:case 23:return Di(p),Ds(),u!==null&&lt(ae),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 24:return Su(As),null;case 25:return null;default:return null}}function F0(u,p){switch(Id(p),p.tag){case 3:Su(As),ce();break;case 26:case 27:case 5:Se(p);break;case 4:ce();break;case 31:p.memoizedState!==null&&Di(p);break;case 13:Di(p);break;case 19:lt(Ua);break;case 10:Su(p.type);break;case 22:case 23:Di(p),Ds(),u!==null&&lt(ae);break;case 24:Su(As)}}function Jy(u,p){try{var w=p.updateQueue,R=w!==null?w.lastEffect:null;if(R!==null){var W=R.next;w=W;do{if((w.tag&u)===u){R=void 0;var rt=w.create,Ot=w.inst;R=rt(),Ot.destroy=R}w=w.next}while(w!==W)}}catch(se){Ho(p,p.return,se)}}function Zf(u,p,w){try{var R=p.updateQueue,W=R!==null?R.lastEffect:null;if(W!==null){var rt=W.next;R=rt;do{if((R.tag&u)===u){var Ot=R.inst,se=Ot.destroy;if(se!==void 0){Ot.destroy=void 0,W=p;var Ye=w,Br=se;try{Br()}catch(Jr){Ho(W,Ye,Jr)}}}R=R.next}while(R!==rt)}}catch(Jr){Ho(p,p.return,Jr)}}function $g(u){var p=u.updateQueue;if(p!==null){var w=u.stateNode;try{Os(p,w)}catch(R){Ho(u,u.return,R)}}}function AS(u,p,w){w.props=Kf(u.type,u.memoizedProps),w.state=u.memoizedState;try{w.componentWillUnmount()}catch(R){Ho(u,p,R)}}function zs(u,p){try{var w=u.ref;if(w!==null){switch(u.tag){case 26:case 27:case 5:var R=u.stateNode;break;case 30:R=u.stateNode;break;default:R=u.stateNode}typeof w=="function"?u.refCleanup=w(R):w.current=R}}catch(W){Ho(u,p,W)}}function Ju(u,p){var w=u.ref,R=u.refCleanup;if(w!==null)if(typeof R=="function")try{R()}catch(W){Ho(u,p,W)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(W){Ho(u,p,W)}else w.current=null}function qx(u){var p=u.type,w=u.memoizedProps,R=u.stateNode;try{t:switch(p){case"button":case"input":case"select":case"textarea":w.autoFocus&&R.focus();break t;case"img":w.src?R.src=w.src:w.srcSet&&(R.srcset=w.srcSet)}}catch(W){Ho(u,u.return,W)}}function Vg(u,p,w){try{var R=u.stateNode;QS(R,u.type,w,p),R[li]=p}catch(W){Ho(u,u.return,W)}}function tv(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&sp(u.type)||u.tag===4}function Gm(u){t:for(;;){for(;u.sibling===null;){if(u.return===null||tv(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&sp(u.type)||u.flags&2||u.child===null||u.tag===4)continue t;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function j0(u,p,w){var R=u.tag;if(R===5||R===6)u=u.stateNode,p?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(u,p):(p=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,p.appendChild(u),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=Yn));else if(R!==4&&(R===27&&sp(u.type)&&(w=u.stateNode,p=null),u=u.child,u!==null))for(j0(u,p,w),u=u.sibling;u!==null;)j0(u,p,w),u=u.sibling}function ev(u,p,w){var R=u.tag;if(R===5||R===6)u=u.stateNode,p?w.insertBefore(u,p):w.appendChild(u);else if(R!==4&&(R===27&&sp(u.type)&&(w=u.stateNode),u=u.child,u!==null))for(ev(u,p,w),u=u.sibling;u!==null;)ev(u,p,w),u=u.sibling}function Ug(u){var p=u.stateNode,w=u.memoizedProps;try{for(var R=u.type,W=p.attributes;W.length;)p.removeAttributeNode(W[0]);hu(p,R,w),p[On]=u,p[li]=w}catch(rt){Ho(u,u.return,rt)}}var Dd=!1,ul=!1,qg=!1,Hm=typeof WeakSet=="function"?WeakSet:Set,ec=null;function JA(u,p){if(u=u.containerInfo,ab=fs,u=Ni(u),$n(u)){if("selectionStart"in u)var w={start:u.selectionStart,end:u.selectionEnd};else t:{w=(w=u.ownerDocument)&&w.defaultView||window;var R=w.getSelection&&w.getSelection();if(R&&R.rangeCount!==0){w=R.anchorNode;var W=R.anchorOffset,rt=R.focusNode;R=R.focusOffset;try{w.nodeType,rt.nodeType}catch{w=null;break t}var Ot=0,se=-1,Ye=-1,Br=0,Jr=0,pn=u,Cr=null;e:for(;;){for(var Ur;pn!==w||W!==0&&pn.nodeType!==3||(se=Ot+W),pn!==rt||R!==0&&pn.nodeType!==3||(Ye=Ot+R),pn.nodeType===3&&(Ot+=pn.nodeValue.length),(Ur=pn.firstChild)!==null;)Cr=pn,pn=Ur;for(;;){if(pn===u)break e;if(Cr===w&&++Br===W&&(se=Ot),Cr===rt&&++Jr===R&&(Ye=Ot),(Ur=pn.nextSibling)!==null)break;pn=Cr,Cr=pn.parentNode}pn=Ur}w=se===-1||Ye===-1?null:{start:se,end:Ye}}else w=null}w=w||{start:0,end:0}}else w=null;for(ob={focusedElem:u,selectionRange:w},fs=!1,ec=p;ec!==null;)if(p=ec,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,ec=u;else for(;ec!==null;){switch(p=ec,rt=p.alternate,u=p.flags,p.tag){case 0:if((u&4)!==0&&(u=p.updateQueue,u=u!==null?u.events:null,u!==null))for(w=0;w<u.length;w++)W=u[w],W.ref.impl=W.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&rt!==null){u=void 0,w=p,W=rt.memoizedProps,rt=rt.memoizedState,R=w.stateNode;try{var si=Kf(w.type,W);u=R.getSnapshotBeforeUpdate(si,rt),R.__reactInternalSnapshotBeforeUpdate=u}catch(xi){Ho(w,w.return,xi)}}break;case 3:if((u&1024)!==0){if(u=p.stateNode.containerInfo,w=u.nodeType,w===9)b1(u);else if(w===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":b1(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=p.sibling,u!==null){u.return=p.return,ec=u;break}ec=p.return}}function Gx(u,p,w){var R=w.flags;switch(w.tag){case 0:case 11:case 15:zd(u,w),R&4&&Jy(5,w);break;case 1:if(zd(u,w),R&4)if(u=w.stateNode,p===null)try{u.componentDidMount()}catch(Ot){Ho(w,w.return,Ot)}else{var W=Kf(w.type,p.memoizedProps);p=p.memoizedState;try{u.componentDidUpdate(W,p,u.__reactInternalSnapshotBeforeUpdate)}catch(Ot){Ho(w,w.return,Ot)}}R&64&&$g(w),R&512&&zs(w,w.return);break;case 3:if(zd(u,w),R&64&&(u=w.updateQueue,u!==null)){if(p=null,w.child!==null)switch(w.child.tag){case 27:case 5:p=w.child.stateNode;break;case 1:p=w.child.stateNode}try{Os(u,p)}catch(Ot){Ho(w,w.return,Ot)}}break;case 27:p===null&&R&4&&Ug(w);case 26:case 5:zd(u,w),p===null&&R&4&&qx(w),R&512&&zs(w,w.return);break;case 12:zd(u,w);break;case 31:zd(u,w),R&4&&Hx(u,w);break;case 13:zd(u,w),R&4&&Xx(u,w),R&64&&(u=w.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(w=l1.bind(null,w),_1(u,w))));break;case 22:if(R=w.memoizedState!==null||Dd,!R){p=p!==null&&p.memoizedState!==null||ul,W=Dd;var rt=ul;Dd=R,(ul=p)&&!rt?Fd(u,w,(w.subtreeFlags&8772)!==0):zd(u,w),Dd=W,ul=rt}break;case 30:break;default:zd(u,w)}}function $p(u){var p=u.alternate;p!==null&&(u.alternate=null,$p(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&Na(p)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var xl=null,th=!1;function jh(u,p,w){for(w=w.child;w!==null;)$0(u,p,w),w=w.sibling}function $0(u,p,w){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Ft,w)}catch{}switch(w.tag){case 26:ul||Ju(w,p),jh(u,p,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:ul||Ju(w,p);var R=xl,W=th;sp(w.type)&&(xl=w.stateNode,th=!1),jh(u,p,w),Zp(w.stateNode),xl=R,th=W;break;case 5:ul||Ju(w,p);case 6:if(R=xl,W=th,xl=null,jh(u,p,w),xl=R,th=W,xl!==null)if(th)try{(xl.nodeType===9?xl.body:xl.nodeName==="HTML"?xl.ownerDocument.body:xl).removeChild(w.stateNode)}catch(rt){Ho(w,p,rt)}else try{xl.removeChild(w.stateNode)}catch(rt){Ho(w,p,rt)}break;case 18:xl!==null&&(th?(u=xl,v1(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,w.stateNode),Qp(u)):v1(xl,w.stateNode));break;case 4:R=xl,W=th,xl=w.stateNode.containerInfo,th=!0,jh(u,p,w),xl=R,th=W;break;case 0:case 11:case 14:case 15:Zf(2,w,p),ul||Zf(4,w,p),jh(u,p,w);break;case 1:ul||(Ju(w,p),R=w.stateNode,typeof R.componentWillUnmount=="function"&&AS(w,p,R)),jh(u,p,w);break;case 21:jh(u,p,w);break;case 22:ul=(R=ul)||w.memoizedState!==null,jh(u,p,w),ul=R;break;default:jh(u,p,w)}}function Hx(u,p){if(p.memoizedState===null&&(u=p.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Qp(u)}catch(w){Ho(p,p.return,w)}}}function Xx(u,p){if(p.memoizedState===null&&(u=p.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Qp(u)}catch(w){Ho(p,p.return,w)}}function tk(u){switch(u.tag){case 31:case 13:case 19:var p=u.stateNode;return p===null&&(p=u.stateNode=new Hm),p;case 22:return u=u.stateNode,p=u._retryCache,p===null&&(p=u._retryCache=new Hm),p;default:throw Error(n(435,u.tag))}}function V0(u,p){var w=tk(u);p.forEach(function(R){if(!w.has(R)){w.add(R);var W=nk.bind(null,u,R);R.then(W,W)}})}function xh(u,p){var w=p.deletions;if(w!==null)for(var R=0;R<w.length;R++){var W=w[R],rt=u,Ot=p,se=Ot;t:for(;se!==null;){switch(se.tag){case 27:if(sp(se.type)){xl=se.stateNode,th=!1;break t}break;case 5:xl=se.stateNode,th=!1;break t;case 3:case 4:xl=se.stateNode.containerInfo,th=!0;break t}se=se.return}if(xl===null)throw Error(n(160));$0(rt,Ot,W),xl=null,th=!1,rt=W.alternate,rt!==null&&(rt.return=null),W.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)kS(p,u),p=p.sibling}var Bd=null;function kS(u,p){var w=u.alternate,R=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:xh(p,u),Ou(u),R&4&&(Zf(3,u,u.return),Jy(3,u),Zf(5,u,u.return));break;case 1:xh(p,u),Ou(u),R&512&&(ul||w===null||Ju(w,w.return)),R&64&&Dd&&(u=u.updateQueue,u!==null&&(R=u.callbacks,R!==null&&(w=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=w===null?R:w.concat(R))));break;case 26:var W=Bd;if(xh(p,u),Ou(u),R&512&&(ul||w===null||Ju(w,w.return)),R&4){var rt=w!==null?w.memoizedState:null;if(R=u.memoizedState,w===null)if(R===null)if(u.stateNode===null){t:{R=u.type,w=u.memoizedProps,W=W.ownerDocument||W;e:switch(R){case"title":rt=W.getElementsByTagName("title")[0],(!rt||rt[xo]||rt[On]||rt.namespaceURI==="http://www.w3.org/2000/svg"||rt.hasAttribute("itemprop"))&&(rt=W.createElement(R),W.head.insertBefore(rt,W.querySelector("head > title"))),hu(rt,R,w),rt[On]=u,ha(rt),R=rt;break t;case"link":var Ot=$e("link","href",W).get(R+(w.href||""));if(Ot){for(var se=0;se<Ot.length;se++)if(rt=Ot[se],rt.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&rt.getAttribute("rel")===(w.rel==null?null:w.rel)&&rt.getAttribute("title")===(w.title==null?null:w.title)&&rt.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){Ot.splice(se,1);break e}}rt=W.createElement(R),hu(rt,R,w),W.head.appendChild(rt);break;case"meta":if(Ot=$e("meta","content",W).get(R+(w.content||""))){for(se=0;se<Ot.length;se++)if(rt=Ot[se],rt.getAttribute("content")===(w.content==null?null:""+w.content)&&rt.getAttribute("name")===(w.name==null?null:w.name)&&rt.getAttribute("property")===(w.property==null?null:w.property)&&rt.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&rt.getAttribute("charset")===(w.charSet==null?null:w.charSet)){Ot.splice(se,1);break e}}rt=W.createElement(R),hu(rt,R,w),W.head.appendChild(rt);break;default:throw Error(n(468,R))}rt[On]=u,ha(rt),R=rt}u.stateNode=R}else Tr(W,u.type,u.stateNode);else u.stateNode=Ee(W,R,u.memoizedProps);else rt!==R?(rt===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):rt.count--,R===null?Tr(W,u.type,u.stateNode):Ee(W,R,u.memoizedProps)):R===null&&u.stateNode!==null&&Vg(u,u.memoizedProps,w.memoizedProps)}break;case 27:xh(p,u),Ou(u),R&512&&(ul||w===null||Ju(w,w.return)),w!==null&&R&4&&Vg(u,u.memoizedProps,w.memoizedProps);break;case 5:if(xh(p,u),Ou(u),R&512&&(ul||w===null||Ju(w,w.return)),u.flags&32){W=u.stateNode;try{qe(W,"")}catch(si){Ho(u,u.return,si)}}R&4&&u.stateNode!=null&&(W=u.memoizedProps,Vg(u,W,w!==null?w.memoizedProps:W)),R&1024&&(qg=!0);break;case 6:if(xh(p,u),Ou(u),R&4){if(u.stateNode===null)throw Error(n(162));R=u.memoizedProps,w=u.stateNode;try{w.nodeValue=R}catch(si){Ho(u,u.return,si)}}break;case 3:if(le=null,W=Bd,Bd=ry(p.containerInfo),xh(p,u),Bd=W,Ou(u),R&4&&w!==null&&w.memoizedState.isDehydrated)try{Qp(p.containerInfo)}catch(si){Ho(u,u.return,si)}qg&&(qg=!1,Wx(u));break;case 4:R=Bd,Bd=ry(u.stateNode.containerInfo),xh(p,u),Ou(u),Bd=R;break;case 12:xh(p,u),Ou(u);break;case 31:xh(p,u),Ou(u),R&4&&(R=u.updateQueue,R!==null&&(u.updateQueue=null,V0(u,R)));break;case 13:xh(p,u),Ou(u),u.child.flags&8192&&u.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(W0=Ir()),R&4&&(R=u.updateQueue,R!==null&&(u.updateQueue=null,V0(u,R)));break;case 22:W=u.memoizedState!==null;var Ye=w!==null&&w.memoizedState!==null,Br=Dd,Jr=ul;if(Dd=Br||W,ul=Jr||Ye,xh(p,u),ul=Jr,Dd=Br,Ou(u),R&8192)t:for(p=u.stateNode,p._visibility=W?p._visibility&-2:p._visibility|1,W&&(w===null||Ye||Dd||ul||Vp(u)),w=null,p=u;;){if(p.tag===5||p.tag===26){if(w===null){Ye=w=p;try{if(rt=Ye.stateNode,W)Ot=rt.style,typeof Ot.setProperty=="function"?Ot.setProperty("display","none","important"):Ot.display="none";else{se=Ye.stateNode;var pn=Ye.memoizedProps.style,Cr=pn!=null&&pn.hasOwnProperty("display")?pn.display:null;se.style.display=Cr==null||typeof Cr=="boolean"?"":(""+Cr).trim()}}catch(si){Ho(Ye,Ye.return,si)}}}else if(p.tag===6){if(w===null){Ye=p;try{Ye.stateNode.nodeValue=W?"":Ye.memoizedProps}catch(si){Ho(Ye,Ye.return,si)}}}else if(p.tag===18){if(w===null){Ye=p;try{var Ur=Ye.stateNode;W?sb(Ur,!0):sb(Ye.stateNode,!1)}catch(si){Ho(Ye,Ye.return,si)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===u)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break t;for(;p.sibling===null;){if(p.return===null||p.return===u)break t;w===p&&(w=null),p=p.return}w===p&&(w=null),p.sibling.return=p.return,p=p.sibling}R&4&&(R=u.updateQueue,R!==null&&(w=R.retryQueue,w!==null&&(R.retryQueue=null,V0(u,w))));break;case 19:xh(p,u),Ou(u),R&4&&(R=u.updateQueue,R!==null&&(u.updateQueue=null,V0(u,R)));break;case 30:break;case 21:break;default:xh(p,u),Ou(u)}}function Ou(u){var p=u.flags;if(p&2){try{for(var w,R=u.return;R!==null;){if(tv(R)){w=R;break}R=R.return}if(w==null)throw Error(n(160));switch(w.tag){case 27:var W=w.stateNode,rt=Gm(u);ev(u,rt,W);break;case 5:var Ot=w.stateNode;w.flags&32&&(qe(Ot,""),w.flags&=-33);var se=Gm(u);ev(u,se,Ot);break;case 3:case 4:var Ye=w.stateNode.containerInfo,Br=Gm(u);j0(u,Br,Ye);break;default:throw Error(n(161))}}catch(Jr){Ho(u,u.return,Jr)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function Wx(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var p=u;Wx(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),u=u.sibling}}function zd(u,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Gx(u,p.alternate,p),p=p.sibling}function Vp(u){for(u=u.child;u!==null;){var p=u;switch(p.tag){case 0:case 11:case 14:case 15:Zf(4,p,p.return),Vp(p);break;case 1:Ju(p,p.return);var w=p.stateNode;typeof w.componentWillUnmount=="function"&&AS(p,p.return,w),Vp(p);break;case 27:Zp(p.stateNode);case 26:case 5:Ju(p,p.return),Vp(p);break;case 22:p.memoizedState===null&&Vp(p);break;case 30:Vp(p);break;default:Vp(p)}u=u.sibling}}function Fd(u,p,w){for(w=w&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var R=p.alternate,W=u,rt=p,Ot=rt.flags;switch(rt.tag){case 0:case 11:case 15:Fd(W,rt,w),Jy(4,rt);break;case 1:if(Fd(W,rt,w),R=rt,W=R.stateNode,typeof W.componentDidMount=="function")try{W.componentDidMount()}catch(Br){Ho(R,R.return,Br)}if(R=rt,W=R.updateQueue,W!==null){var se=R.stateNode;try{var Ye=W.shared.hiddenCallbacks;if(Ye!==null)for(W.shared.hiddenCallbacks=null,W=0;W<Ye.length;W++)us(Ye[W],se)}catch(Br){Ho(R,R.return,Br)}}w&&Ot&64&&$g(rt),zs(rt,rt.return);break;case 27:Ug(rt);case 26:case 5:Fd(W,rt,w),w&&R===null&&Ot&4&&qx(rt),zs(rt,rt.return);break;case 12:Fd(W,rt,w);break;case 31:Fd(W,rt,w),w&&Ot&4&&Hx(W,rt);break;case 13:Fd(W,rt,w),w&&Ot&4&&Xx(W,rt);break;case 22:rt.memoizedState===null&&Fd(W,rt,w),zs(rt,rt.return);break;case 30:break;default:Fd(W,rt,w)}p=p.sibling}}function U0(u,p){var w=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),u=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(u=p.memoizedState.cachePool.pool),u!==w&&(u!=null&&u.refCount++,w!=null&&bh(w))}function q0(u,p){u=null,p.alternate!==null&&(u=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==u&&(p.refCount++,u!=null&&bh(u))}function wh(u,p,w,R){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Yx(u,p,w,R),p=p.sibling}function Yx(u,p,w,R){var W=p.flags;switch(p.tag){case 0:case 11:case 15:wh(u,p,w,R),W&2048&&Jy(9,p);break;case 1:wh(u,p,w,R);break;case 3:wh(u,p,w,R),W&2048&&(u=null,p.alternate!==null&&(u=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==u&&(p.refCount++,u!=null&&bh(u)));break;case 12:if(W&2048){wh(u,p,w,R),u=p.stateNode;try{var rt=p.memoizedProps,Ot=rt.id,se=rt.onPostCommit;typeof se=="function"&&se(Ot,p.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ye){Ho(p,p.return,Ye)}}else wh(u,p,w,R);break;case 31:wh(u,p,w,R);break;case 13:wh(u,p,w,R);break;case 23:break;case 22:rt=p.stateNode,Ot=p.alternate,p.memoizedState!==null?rt._visibility&2?wh(u,p,w,R):Gg(u,p):rt._visibility&2?wh(u,p,w,R):(rt._visibility|=2,Xm(u,p,w,R,(p.subtreeFlags&10256)!==0||!1)),W&2048&&U0(Ot,p);break;case 24:wh(u,p,w,R),W&2048&&q0(p.alternate,p);break;default:wh(u,p,w,R)}}function Xm(u,p,w,R,W){for(W=W&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var rt=u,Ot=p,se=w,Ye=R,Br=Ot.flags;switch(Ot.tag){case 0:case 11:case 15:Xm(rt,Ot,se,Ye,W),Jy(8,Ot);break;case 23:break;case 22:var Jr=Ot.stateNode;Ot.memoizedState!==null?Jr._visibility&2?Xm(rt,Ot,se,Ye,W):Gg(rt,Ot):(Jr._visibility|=2,Xm(rt,Ot,se,Ye,W)),W&&Br&2048&&U0(Ot.alternate,Ot);break;case 24:Xm(rt,Ot,se,Ye,W),W&&Br&2048&&q0(Ot.alternate,Ot);break;default:Xm(rt,Ot,se,Ye,W)}p=p.sibling}}function Gg(u,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var w=u,R=p,W=R.flags;switch(R.tag){case 22:Gg(w,R),W&2048&&U0(R.alternate,R);break;case 24:Gg(w,R),W&2048&&q0(R.alternate,R);break;default:Gg(w,R)}p=p.sibling}}var Qf=8192;function Hg(u,p,w){if(u.subtreeFlags&Qf)for(u=u.child;u!==null;)G0(u,p,w),u=u.sibling}function G0(u,p,w){switch(u.tag){case 26:Hg(u,p,w),u.flags&Qf&&u.memoizedState!==null&&Gr(w,Bd,u.memoizedState,u.memoizedProps);break;case 5:Hg(u,p,w);break;case 3:case 4:var R=Bd;Bd=ry(u.stateNode.containerInfo),Hg(u,p,w),Bd=R;break;case 22:u.memoizedState===null&&(R=u.alternate,R!==null&&R.memoizedState!==null?(R=Qf,Qf=16777216,Hg(u,p,w),Qf=R):Hg(u,p,w));break;default:Hg(u,p,w)}}function Xg(u){var p=u.alternate;if(p!==null&&(u=p.child,u!==null)){p.child=null;do p=u.sibling,u.sibling=null,u=p;while(u!==null)}}function Wm(u){var p=u.deletions;if((u.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var R=p[w];ec=R,Kx(R,u)}Xg(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)IS(u),u=u.sibling}function IS(u){switch(u.tag){case 0:case 11:case 15:Wm(u),u.flags&2048&&Zf(9,u,u.return);break;case 3:Wm(u);break;case 12:Wm(u);break;case 22:var p=u.stateNode;u.memoizedState!==null&&p._visibility&2&&(u.return===null||u.return.tag!==13)?(p._visibility&=-3,H0(u)):Wm(u);break;default:Wm(u)}}function H0(u){var p=u.deletions;if((u.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var R=p[w];ec=R,Kx(R,u)}Xg(u)}for(u=u.child;u!==null;){switch(p=u,p.tag){case 0:case 11:case 15:Zf(8,p,p.return),H0(p);break;case 22:w=p.stateNode,w._visibility&2&&(w._visibility&=-3,H0(p));break;default:H0(p)}u=u.sibling}}function Kx(u,p){for(;ec!==null;){var w=ec;switch(w.tag){case 0:case 11:case 15:Zf(8,w,p);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var R=w.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:bh(w.memoizedState.cache)}if(R=w.child,R!==null)R.return=w,ec=R;else t:for(w=u;ec!==null;){R=ec;var W=R.sibling,rt=R.return;if($p(R),R===w){ec=null;break t}if(W!==null){W.return=rt,ec=W;break t}ec=rt}}}var RS={getCacheForType:function(u){var p=Kl(As),w=p.data.get(u);return w===void 0&&(w=u(),p.data.set(u,w)),w},cacheSignal:function(){return Kl(As).controller.signal}},ek=typeof WeakMap=="function"?WeakMap:Map,qo=0,Go=null,qa=null,ro=0,hs=0,$h=null,Up=!1,Wg=!1,Zx=!1,ff=0,wl=0,Jf=0,qp=0,X0=0,Vh=0,tp=0,rv=null,eh=null,Qx=!1,W0=0,NS=0,nv=1/0,Y0=null,Gp=null,Nl=0,ep=null,Hp=null,pf=0,rc=0,iv=null,LS=null,Yg=0,mf=null;function rh(){return(qo&2)!==0&&ro!==0?ro&-ro:pt.T!==null?h1():vn()}function MS(){if(Vh===0)if((ro&536870912)===0||wa){var u=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),Vh=u}else Vh=536870912;return u=La.current,u!==null&&(u.flags|=32),Vh}function Sh(u,p,w){(u===Go&&(hs===2||hs===9)||u.cancelPendingCommit!==null)&&(np(u,0),rp(u,ro,Vh,!1)),Kr(u,w),((qo&2)===0||u!==Go)&&(u===Go&&((qo&2)===0&&(qp|=w),wl===4&&rp(u,ro,Vh,!1)),Uh(u))}function PS(u,p,w){if((qo&6)!==0)throw Error(n(327));var R=!w&&(p&127)===0&&(p&u.expiredLanes)===0||Oe(u,p),W=R?zS(u,p):r1(u,p,!0),rt=R;do{if(W===0){Wg&&!R&&rp(u,p,0,!1);break}else{if(w=u.current.alternate,rt&&!t1(w)){W=r1(u,p,!1),rt=!1;continue}if(W===2){if(rt=p,u.errorRecoveryDisabledLanes&rt)var Ot=0;else Ot=u.pendingLanes&-536870913,Ot=Ot!==0?Ot:Ot&536870912?536870912:0;if(Ot!==0){p=Ot;t:{var se=u;W=rv;var Ye=se.current.memoizedState.isDehydrated;if(Ye&&(np(se,Ot).flags|=256),Ot=r1(se,Ot,!1),Ot!==2){if(Zx&&!Ye){se.errorRecoveryDisabledLanes|=rt,qp|=rt,W=4;break t}rt=eh,eh=W,rt!==null&&(eh===null?eh=rt:eh.push.apply(eh,rt))}W=Ot}if(rt=!1,W!==2)continue}}if(W===1){np(u,0),rp(u,p,0,!0);break}t:{switch(R=u,rt=W,rt){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:rp(R,p,Vh,!Up);break t;case 2:eh=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(W=W0+300-Ir(),10<W)){if(rp(R,p,Vh,!Up),ur(R,0,!0)!==0)break t;pf=p,R.timeoutHandle=t5(Jx.bind(null,R,w,eh,Y0,Qx,p,Vh,qp,tp,Up,rt,"Throttled",-0,0),W);break t}Jx(R,w,eh,Y0,Qx,p,Vh,qp,tp,Up,rt,null,-0,0)}}break}while(!0);Uh(u)}function Jx(u,p,w,R,W,rt,Ot,se,Ye,Br,Jr,pn,Cr,Ur){if(u.timeoutHandle=-1,pn=p.subtreeFlags,pn&8192||(pn&16785408)===16785408){pn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},G0(p,rt,pn);var si=(rt&62914560)===rt?W0-Ir():(rt&4194048)===rt?NS-Ir():0;if(si=sn(pn,si),si!==null){pf=rt,u.cancelPendingCommit=si($S.bind(null,u,p,rt,w,R,W,Ot,se,Ye,Jr,pn,null,Cr,Ur)),rp(u,rt,Ot,!Br);return}}$S(u,p,rt,w,R,W,Ot,se,Ye)}function t1(u){for(var p=u;;){var w=p.tag;if((w===0||w===11||w===15)&&p.flags&16384&&(w=p.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var R=0;R<w.length;R++){var W=w[R],rt=W.getSnapshot;W=W.value;try{if(!Ts(rt(),W))return!1}catch{return!1}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function rp(u,p,w,R){p&=~X0,p&=~qp,u.suspendedLanes|=p,u.pingedLanes&=~p,R&&(u.warmLanes|=p),R=u.expirationTimes;for(var W=p;0<W;){var rt=31-oe(W),Ot=1<<rt;R[rt]=-1,W&=~Ot}w!==0&&Pt(u,w,p)}function Xp(){return(qo&6)===0?(Zg(0),!1):!0}function Wp(){if(qa!==null){if(hs===0)var u=qa.return;else u=qa,Mu=Lu=null,It(u),ln=null,ui=0,u=qa;for(;u!==null;)F0(u.alternate,u),u=u.return;qa=null}}function np(u,p){var w=u.timeoutHandle;w!==-1&&(u.timeoutHandle=-1,ck(w)),w=u.cancelPendingCommit,w!==null&&(u.cancelPendingCommit=null,w()),pf=0,Wp(),Go=u,qa=w=Xl(u.current,null),ro=p,hs=0,$h=null,Up=!1,Wg=Oe(u,p),Zx=!1,tp=Vh=X0=qp=Jf=wl=0,eh=rv=null,Qx=!1,(p&8)!==0&&(p|=p&32);var R=u.entangledLanes;if(R!==0)for(u=u.entanglements,R&=p;0<R;){var W=31-oe(R),rt=1<<W;p|=u[W],R&=~rt}return ff=p,Cc(),w}function av(u,p){bi=null,pt.H=Pd,p===Ce||p===Ae?(p=Qr(),hs=3):p===Nr?(p=Qr(),hs=4):hs=p===N0?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,$h=p,qa===null&&(wl=1,qy(u,Wc(p,u.current)))}function OS(){var u=La.current;return u===null?!0:(ro&4194048)===ro?Ya===null:(ro&62914560)===ro||(ro&536870912)!==0?u===Ya:!1}function DS(){var u=pt.H;return pt.H=Pd,u===null?Pd:u}function e1(){var u=pt.A;return pt.A=RS,u}function ov(){wl=4,Up||(ro&4194048)!==ro&&La.current!==null||(Wg=!0),(Jf&134217727)===0&&(qp&134217727)===0||Go===null||rp(Go,ro,Vh,!1)}function r1(u,p,w){var R=qo;qo|=2;var W=DS(),rt=e1();(Go!==u||ro!==p)&&(Y0=null,np(u,p)),p=!1;var Ot=wl;t:do try{if(hs!==0&&qa!==null){var se=qa,Ye=$h;switch(hs){case 8:Wp(),Ot=6;break t;case 3:case 2:case 9:case 6:La.current===null&&(p=!0);var Br=hs;if(hs=0,$h=null,Ym(u,se,Ye,Br),w&&Wg){Ot=0;break t}break;default:Br=hs,hs=0,$h=null,Ym(u,se,Ye,Br)}}BS(),Ot=wl;break}catch(Jr){av(u,Jr)}while(!0);return p&&u.shellSuspendCounter++,Mu=Lu=null,qo=R,pt.H=W,pt.A=rt,qa===null&&(Go=null,ro=0,Cc()),Ot}function BS(){for(;qa!==null;)K0(qa)}function zS(u,p){var w=qo;qo|=2;var R=DS(),W=e1();Go!==u||ro!==p?(Y0=null,nv=Ir()+500,np(u,p)):Wg=Oe(u,p);t:do try{if(hs!==0&&qa!==null){p=qa;var rt=$h;e:switch(hs){case 1:hs=0,$h=null,Ym(u,p,rt,1);break;case 2:case 9:if(br(rt)){hs=0,$h=null,FS(p);break}p=function(){hs!==2&&hs!==9||Go!==u||(hs=7),Uh(u)},rt.then(p,p);break t;case 3:hs=7;break t;case 4:hs=5;break t;case 7:br(rt)?(hs=0,$h=null,FS(p)):(hs=0,$h=null,Ym(u,p,rt,7));break;case 5:var Ot=null;switch(qa.tag){case 26:Ot=qa.memoizedState;case 5:case 27:var se=qa;if(Ot?jr(Ot):se.stateNode.complete){hs=0,$h=null;var Ye=se.sibling;if(Ye!==null)qa=Ye;else{var Br=se.return;Br!==null?(qa=Br,Z0(Br)):qa=null}break e}}hs=0,$h=null,Ym(u,p,rt,5);break;case 6:hs=0,$h=null,Ym(u,p,rt,6);break;case 8:Wp(),wl=6;break t;default:throw Error(n(462))}}n1();break}catch(Jr){av(u,Jr)}while(!0);return Mu=Lu=null,pt.H=R,pt.A=W,qo=w,qa!==null?0:(Go=null,ro=0,Cc(),wl)}function n1(){for(;qa!==null&&!Rr();)K0(qa)}function K0(u){var p=jp(u.alternate,u,ff);u.memoizedProps=u.pendingProps,p===null?Z0(u):qa=p}function FS(u){var p=u,w=p.alternate;switch(p.tag){case 15:case 0:p=O0(w,p,p.pendingProps,p.type,void 0,ro);break;case 11:p=O0(w,p,p.pendingProps,p.type.render,p.ref,ro);break;case 5:It(p);default:F0(w,p),p=qa=lf(p,ff),p=jp(w,p,ff)}u.memoizedProps=u.pendingProps,p===null?Z0(u):qa=p}function Ym(u,p,w,R){Mu=Lu=null,It(p),ln=null,ui=0;var W=p.return;try{if(R0(u,W,p,w,ro)){wl=1,qy(u,Wc(w,u.current)),qa=null;return}}catch(rt){if(W!==null)throw qa=W,rt;wl=1,qy(u,Wc(w,u.current)),qa=null;return}p.flags&32768?(wa||R===1?u=!0:Wg||(ro&536870912)!==0?u=!1:(Up=u=!0,(R===2||R===9||R===3||R===6)&&(R=La.current,R!==null&&R.tag===13&&(R.flags|=16384))),jS(p,u)):Z0(p)}function Z0(u){var p=u;do{if((p.flags&32768)!==0){jS(p,Up);return}u=p.return;var w=ZA(p.alternate,p,ff);if(w!==null){qa=w;return}if(p=p.sibling,p!==null){qa=p;return}qa=p=u}while(p!==null);wl===0&&(wl=5)}function jS(u,p){do{var w=QA(u.alternate,u);if(w!==null){w.flags&=32767,qa=w;return}if(w=u.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!p&&(u=u.sibling,u!==null)){qa=u;return}qa=u=w}while(u!==null);wl=6,qa=null}function $S(u,p,w,R,W,rt,Ot,se,Ye){u.cancelPendingCommit=null;do od();while(Nl!==0);if((qo&6)!==0)throw Error(n(327));if(p!==null){if(p===u.current)throw Error(n(177));if(rt=p.lanes|p.childLanes,rt|=Tc,Zn(u,w,rt,Ot,se,Ye),u===Go&&(qa=Go=null,ro=0),Hp=p,ep=u,pf=w,rc=rt,iv=W,LS=R,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,c1(er,function(){return ip(),null})):(u.callbackNode=null,u.callbackPriority=0),R=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||R){R=pt.T,pt.T=null,W=At.p,At.p=2,Ot=qo,qo|=4;try{JA(u,p,w)}finally{qo=Ot,At.p=W,pt.T=R}}Nl=1,VS(),US(),i1()}}function VS(){if(Nl===1){Nl=0;var u=ep,p=Hp,w=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||w){w=pt.T,pt.T=null;var R=At.p;At.p=2;var W=qo;qo|=4;try{kS(p,u);var rt=ob,Ot=Ni(u.containerInfo),se=rt.focusedElem,Ye=rt.selectionRange;if(Ot!==se&&se&&se.ownerDocument&&Dn(se.ownerDocument.documentElement,se)){if(Ye!==null&&$n(se)){var Br=Ye.start,Jr=Ye.end;if(Jr===void 0&&(Jr=Br),"selectionStart"in se)se.selectionStart=Br,se.selectionEnd=Math.min(Jr,se.value.length);else{var pn=se.ownerDocument||document,Cr=pn&&pn.defaultView||window;if(Cr.getSelection){var Ur=Cr.getSelection(),si=se.textContent.length,xi=Math.min(Ye.start,si),bo=Ye.end===void 0?xi:Math.min(Ye.end,si);!Ur.extend&&xi>bo&&(Ot=bo,bo=xi,xi=Ot);var gr=An(se,xi),cr=An(se,bo);if(gr&&cr&&(Ur.rangeCount!==1||Ur.anchorNode!==gr.node||Ur.anchorOffset!==gr.offset||Ur.focusNode!==cr.node||Ur.focusOffset!==cr.offset)){var zr=pn.createRange();zr.setStart(gr.node,gr.offset),Ur.removeAllRanges(),xi>bo?(Ur.addRange(zr),Ur.extend(cr.node,cr.offset)):(zr.setEnd(cr.node,cr.offset),Ur.addRange(zr))}}}}for(pn=[],Ur=se;Ur=Ur.parentNode;)Ur.nodeType===1&&pn.push({element:Ur,left:Ur.scrollLeft,top:Ur.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<pn.length;se++){var hn=pn[se];hn.element.scrollLeft=hn.left,hn.element.scrollTop=hn.top}}fs=!!ab,ob=ab=null}finally{qo=W,At.p=R,pt.T=w}}u.current=p,Nl=2}}function US(){if(Nl===2){Nl=0;var u=ep,p=Hp,w=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||w){w=pt.T,pt.T=null;var R=At.p;At.p=2;var W=qo;qo|=4;try{Gx(u,p.alternate,p)}finally{qo=W,At.p=R,pt.T=w}}Nl=3}}function i1(){if(Nl===4||Nl===3){Nl=0,Pr();var u=ep,p=Hp,w=pf,R=LS;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Nl=5:(Nl=0,Hp=ep=null,a1(u,u.pendingLanes));var W=u.pendingLanes;if(W===0&&(Gp=null),Lr(w),p=p.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Ft,p,void 0,(p.current.flags&128)===128)}catch{}if(R!==null){p=pt.T,W=At.p,At.p=2,pt.T=null;try{for(var rt=u.onRecoverableError,Ot=0;Ot<R.length;Ot++){var se=R[Ot];rt(se.value,{componentStack:se.stack})}}finally{pt.T=p,At.p=W}}(pf&3)!==0&&od(),Uh(u),W=u.pendingLanes,(w&261930)!==0&&(W&42)!==0?u===mf?Yg++:(Yg=0,mf=u):Yg=0,Zg(0)}}function a1(u,p){(u.pooledCacheLanes&=p)===0&&(p=u.pooledCache,p!=null&&(u.pooledCache=null,bh(p)))}function od(){return VS(),US(),i1(),ip()}function ip(){if(Nl!==5)return!1;var u=ep,p=rc;rc=0;var w=Lr(pf),R=pt.T,W=At.p;try{At.p=32>w?32:w,pt.T=null,w=iv,iv=null;var rt=ep,Ot=pf;if(Nl=0,Hp=ep=null,pf=0,(qo&6)!==0)throw Error(n(331));var se=qo;if(qo|=4,IS(rt.current),Yx(rt,rt.current,Ot,w),qo=se,Zg(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Ft,rt)}catch{}return!0}finally{At.p=W,pt.T=R,a1(u,p)}}function o1(u,p,w){p=Wc(w,p),p=Ox(u.stateNode,p,2),u=Gi(u,p,2),u!==null&&(Kr(u,2),Uh(u))}function Ho(u,p,w){if(u.tag===3)o1(u,u,w);else for(;p!==null;){if(p.tag===3){o1(p,u,w);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Gp===null||!Gp.has(R))){u=Wc(w,u),w=jg(2),R=Gi(p,w,2),R!==null&&(Gy(w,R,p,u),Kr(R,2),Uh(R));break}}p=p.return}}function s1(u,p,w){var R=u.pingCache;if(R===null){R=u.pingCache=new ek;var W=new Set;R.set(p,W)}else W=R.get(p),W===void 0&&(W=new Set,R.set(p,W));W.has(w)||(Zx=!0,W.add(w),u=rk.bind(null,u,p,w),p.then(u,u))}function rk(u,p,w){var R=u.pingCache;R!==null&&R.delete(p),u.pingedLanes|=u.suspendedLanes&w,u.warmLanes&=~w,Go===u&&(ro&w)===w&&(wl===4||wl===3&&(ro&62914560)===ro&&300>Ir()-W0?(qo&2)===0&&np(u,0):X0|=w,tp===ro&&(tp=0)),Uh(u)}function sv(u,p){p===0&&(p=or()),u=Ac(u,p),u!==null&&(Kr(u,p),Uh(u))}function l1(u){var p=u.memoizedState,w=0;p!==null&&(w=p.retryLane),sv(u,w)}function nk(u,p){var w=0;switch(u.tag){case 31:case 13:var R=u.stateNode,W=u.memoizedState;W!==null&&(w=W.retryLane);break;case 19:R=u.stateNode;break;case 22:R=u.stateNode._retryCache;break;default:throw Error(n(314))}R!==null&&R.delete(p),sv(u,w)}function c1(u,p){return Mr(u,p)}var Kg=null,jd=null,Q0=!1,lv=!1,cv=!1,ap=0;function Uh(u){u!==jd&&u.next===null&&(jd===null?Kg=jd=u:jd=jd.next=u),lv=!0,Q0||(Q0=!0,ak())}function Zg(u,p){if(!cv&&lv){cv=!0;do for(var w=!1,R=Kg;R!==null;){if(u!==0){var W=R.pendingLanes;if(W===0)var rt=0;else{var Ot=R.suspendedLanes,se=R.pingedLanes;rt=(1<<31-oe(42|u)+1)-1,rt&=W&~(Ot&~se),rt=rt&201326741?rt&201326741|1:rt?rt|2:0}rt!==0&&(w=!0,HS(R,rt))}else rt=ro,rt=ur(R,R===Go?rt:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(rt&3)===0||Oe(R,rt)||(w=!0,HS(R,rt));R=R.next}while(w);cv=!1}}function ik(){qS()}function qS(){lv=Q0=!1;var u=0;ap!==0&&lk()&&(u=ap);for(var p=Ir(),w=null,R=Kg;R!==null;){var W=R.next,rt=u1(R,p);rt===0?(R.next=null,w===null?Kg=W:w.next=W,W===null&&(jd=w)):(w=R,(u!==0||(rt&3)!==0)&&(lv=!0)),R=W}Nl!==0&&Nl!==5||Zg(u),ap!==0&&(ap=0)}function u1(u,p){for(var w=u.suspendedLanes,R=u.pingedLanes,W=u.expirationTimes,rt=u.pendingLanes&-62914561;0<rt;){var Ot=31-oe(rt),se=1<<Ot,Ye=W[Ot];Ye===-1?((se&w)===0||(se&R)!==0)&&(W[Ot]=Wr(se,p)):Ye<=p&&(u.expiredLanes|=se),rt&=~se}if(p=Go,w=ro,w=ur(u,u===p?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),R=u.callbackNode,w===0||u===p&&(hs===2||hs===9)||u.cancelPendingCommit!==null)return R!==null&&R!==null&&ir(R),u.callbackNode=null,u.callbackPriority=0;if((w&3)===0||Oe(u,w)){if(p=w&-w,p===u.callbackPriority)return p;switch(R!==null&&ir(R),Lr(w)){case 2:case 8:w=Or;break;case 32:w=er;break;case 268435456:w=Ze;break;default:w=er}return R=GS.bind(null,u),w=Mr(w,R),u.callbackPriority=p,u.callbackNode=w,p}return R!==null&&R!==null&&ir(R),u.callbackPriority=2,u.callbackNode=null,2}function GS(u,p){if(Nl!==0&&Nl!==5)return u.callbackNode=null,u.callbackPriority=0,null;var w=u.callbackNode;if(od()&&u.callbackNode!==w)return null;var R=ro;return R=ur(u,u===Go?R:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),R===0?null:(PS(u,R,p),u1(u,Ir()),u.callbackNode!=null&&u.callbackNode===w?GS.bind(null,u):null)}function HS(u,p){if(od())return null;PS(u,p,!0)}function ak(){du(function(){(qo&6)!==0?Mr(ar,ik):qS()})}function h1(){if(ap===0){var u=$;u===0&&(u=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),ap=u}return ap}function XS(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:fn(""+u)}function J0(u,p){var w=p.ownerDocument.createElement("input");return w.name=p.name,w.value=p.value,u.id&&w.setAttribute("form",u.id),p.parentNode.insertBefore(w,p),u=new FormData(u),w.parentNode.removeChild(w),u}function Yp(u,p,w,R,W){if(p==="submit"&&w&&w.stateNode===W){var rt=XS((W[li]||null).action),Ot=R.submitter;Ot&&(p=(p=Ot[li]||null)?XS(p.formAction):Ot.getAttribute("formAction"),p!==null&&(rt=p,Ot=null));var se=new _c("action","action",null,R,W);u.push({event:se,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(ap!==0){var Ye=Ot?J0(W,Ot):new FormData(W);Vy(w,{pending:!0,data:Ye,method:W.method,action:rt},null,Ye)}}else typeof rt=="function"&&(se.preventDefault(),Ye=Ot?J0(W,Ot):new FormData(W),Vy(w,{pending:!0,data:Ye,method:W.method,action:rt},rt,Ye))},currentTarget:W}]})}}for(var tb=0;tb<qi.length;tb++){var eb=qi[tb],WS=eb.toLowerCase(),YS=eb[0].toUpperCase()+eb.slice(1);Va(WS,"on"+YS)}Va(_r,"onAnimationEnd"),Va(tn,"onAnimationIteration"),Va(In,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(Qn,"onTransitionRun"),Va(hi,"onTransitionStart"),Va(Kn,"onTransitionCancel"),Va(Hn,"onTransitionEnd"),Xo("onMouseEnter",["mouseout","mouseover"]),Xo("onMouseLeave",["mouseout","mouseover"]),Xo("onPointerEnter",["pointerout","pointerover"]),Xo("onPointerLeave",["pointerout","pointerover"]),nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nl("onBeforeInput",["compositionend","keypress","textInput","paste"]),nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qg));function f1(u,p){p=(p&4)!==0;for(var w=0;w<u.length;w++){var R=u[w],W=R.event;R=R.listeners;t:{var rt=void 0;if(p)for(var Ot=R.length-1;0<=Ot;Ot--){var se=R[Ot],Ye=se.instance,Br=se.currentTarget;if(se=se.listener,Ye!==rt&&W.isPropagationStopped())break t;rt=se,W.currentTarget=Br;try{rt(W)}catch(Jr){$o(Jr)}W.currentTarget=null,rt=Ye}else for(Ot=0;Ot<R.length;Ot++){if(se=R[Ot],Ye=se.instance,Br=se.currentTarget,se=se.listener,Ye!==rt&&W.isPropagationStopped())break t;rt=se,W.currentTarget=Br;try{rt(W)}catch(Jr){$o(Jr)}W.currentTarget=null,rt=Ye}}}}function Oa(u,p){var w=p[en];w===void 0&&(w=p[en]=new Set);var R=u+"__bubble";w.has(R)||(Eh(p,u,2,!1),w.add(R))}function rb(u,p,w){var R=0;p&&(R|=4),Eh(w,u,R,p)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function nb(u){if(!u[Jg]){u[Jg]=!0,uc.forEach(function(w){w!=="selectionchange"&&(d1.has(w)||rb(w,!1,u),rb(w,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[Jg]||(p[Jg]=!0,rb("selectionchange",!1,p))}}function Eh(u,p,w,R){switch(Fu(p)){case 2:var W=Mc;break;case 8:W=Kc;break;default:W=yc}w=W.bind(null,p,w,u),W=void 0,!da||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(W=!0),R?W!==void 0?u.addEventListener(p,w,{capture:!0,passive:W}):u.addEventListener(p,w,!0):W!==void 0?u.addEventListener(p,w,{passive:W}):u.addEventListener(p,w,!1)}function Kp(u,p,w,R,W){var rt=R;if((p&1)===0&&(p&2)===0&&R!==null)t:for(;;){if(R===null)return;var Ot=R.tag;if(Ot===3||Ot===4){var se=R.stateNode.containerInfo;if(se===W)break;if(Ot===4)for(Ot=R.return;Ot!==null;){var Ye=Ot.tag;if((Ye===3||Ye===4)&&Ot.stateNode.containerInfo===W)return;Ot=Ot.return}for(;se!==null;){if(Ot=Mn(se),Ot===null)return;if(Ye=Ot.tag,Ye===5||Ye===6||Ye===26||Ye===27){R=rt=Ot;continue t}se=se.parentNode}}R=R.return}sa(function(){var Br=rt,Jr=ti(w),pn=[];t:{var Cr=ma.get(u);if(Cr!==void 0){var Ur=_c,si=u;switch(u){case"keypress":if(zn(w)===0)break t;case"keydown":case"keyup":Ur=Lo;break;case"focusin":si="focus",Ur=ve;break;case"focusout":si="blur",Ur=ve;break;case"beforeblur":case"afterblur":Ur=ve;break;case"click":if(w.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ur=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ur=ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ur=wc;break;case _r:case tn:case In:Ur=pr;break;case Hn:Ur=ql;break;case"scroll":case"scrollend":Ur=Cl;break;case"wheel":Ur=mo;break;case"copy":case"cut":case"paste":Ur=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ur=ao;break;case"toggle":case"beforetoggle":Ur=vu}var xi=(p&4)!==0,bo=!xi&&(u==="scroll"||u==="scrollend"),gr=xi?Cr!==null?Cr+"Capture":null:Cr;xi=[];for(var cr=Br,zr;cr!==null;){var hn=cr;if(zr=hn.stateNode,hn=hn.tag,hn!==5&&hn!==26&&hn!==27||zr===null||gr===null||(hn=Ii(cr,gr),hn!=null&&xi.push($d(cr,hn,zr))),bo)break;cr=cr.return}0<xi.length&&(Cr=new Ur(Cr,si,null,w,Jr),pn.push({event:Cr,listeners:xi}))}}if((p&7)===0){t:{if(Cr=u==="mouseover"||u==="pointerover",Ur=u==="mouseout"||u==="pointerout",Cr&&w!==Nn&&(si=w.relatedTarget||w.fromElement)&&(Mn(si)||si[Ji]))break t;if((Ur||Cr)&&(Cr=Jr.window===Jr?Jr:(Cr=Jr.ownerDocument)?Cr.defaultView||Cr.parentWindow:window,Ur?(si=w.relatedTarget||w.toElement,Ur=Br,si=si?Mn(si):null,si!==null&&(bo=o(si),xi=si.tag,si!==bo||xi!==5&&xi!==27&&xi!==6)&&(si=null)):(Ur=null,si=Br),Ur!==si)){if(xi=Ba,hn="onMouseLeave",gr="onMouseEnter",cr="mouse",(u==="pointerout"||u==="pointerover")&&(xi=ao,hn="onPointerLeave",gr="onPointerEnter",cr="pointer"),bo=Ur==null?Cr:rl(Ur),zr=si==null?Cr:rl(si),Cr=new xi(hn,cr+"leave",Ur,w,Jr),Cr.target=bo,Cr.relatedTarget=zr,hn=null,Mn(Jr)===Br&&(xi=new xi(gr,cr+"enter",si,w,Jr),xi.target=zr,xi.relatedTarget=bo,hn=xi),bo=hn,Ur&&si)e:{for(xi=KS,gr=Ur,cr=si,zr=0,hn=gr;hn;hn=xi(hn))zr++;hn=0;for(var Bi=cr;Bi;Bi=xi(Bi))hn++;for(;0<zr-hn;)gr=xi(gr),zr--;for(;0<hn-zr;)cr=xi(cr),hn--;for(;zr--;){if(gr===cr||cr!==null&&gr===cr.alternate){xi=gr;break e}gr=xi(gr),cr=xi(cr)}xi=null}else xi=null;Ur!==null&&p1(pn,Cr,Ur,xi,!1),si!==null&&bo!==null&&p1(pn,bo,si,xi,!0)}}t:{if(Cr=Br?rl(Br):window,Ur=Cr.nodeName&&Cr.nodeName.toLowerCase(),Ur==="select"||Ur==="input"&&Cr.type==="file")var ns=Es;else if(Hu(Cr))if(Hc)ns=Ec;else{ns=_u;var Si=Al}else Ur=Cr.nodeName,!Ur||Ur.toLowerCase()!=="input"||Cr.type!=="checkbox"&&Cr.type!=="radio"?Br&&mn(Br.elementType)&&(ns=Es):ns=Xu;if(ns&&(ns=ns(u,Br))){qc(pn,ns,w,Jr);break t}Si&&Si(u,Cr,Br),u==="focusout"&&Br&&Cr.type==="number"&&Br.memoizedProps.value!=null&&Q(Cr,"number",Cr.value)}switch(Si=Br?rl(Br):window,u){case"focusin":(Hu(Si)||Si.contentEditable==="true")&&(m=Si,y=Br,C=null);break;case"focusout":C=y=m=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,nt(pn,w,Jr);break;case"selectionchange":if(A)break;case"keydown":case"keyup":nt(pn,w,Jr)}var za;if(Eo)t:{switch(u){case"compositionstart":var _o="onCompositionStart";break t;case"compositionend":_o="onCompositionEnd";break t;case"compositionupdate":_o="onCompositionUpdate";break t}_o=void 0}else il?bu(u,w)&&(_o="onCompositionEnd"):u==="keydown"&&w.keyCode===229&&(_o="onCompositionStart");_o&&(hc&&w.locale!=="ko"&&(il||_o!=="onCompositionStart"?_o==="onCompositionEnd"&&il&&(za=Tl()):(Xa=Jr,pi="value"in Xa?Xa.value:Xa.textContent,il=!0)),Si=uv(Br,_o),0<Si.length&&(_o=new ri(_o,u,null,w,Jr),pn.push({event:_o,listeners:Si}),za?_o.data=za:(za=Uc(w),za!==null&&(_o.data=za)))),(za=to?ws(u,w):Zs(u,w))&&(_o=uv(Br,"onBeforeInput"),0<_o.length&&(Si=new ri("onBeforeInput","beforeinput",null,w,Jr),pn.push({event:Si,listeners:_o}),Si.data=za)),Yp(pn,u,Br,w,Jr)}f1(pn,p)})}function $d(u,p,w){return{instance:u,listener:p,currentTarget:w}}function uv(u,p){for(var w=p+"Capture",R=[];u!==null;){var W=u,rt=W.stateNode;if(W=W.tag,W!==5&&W!==26&&W!==27||rt===null||(W=Ii(u,w),W!=null&&R.unshift($d(u,W,rt)),W=Ii(u,p),W!=null&&R.push($d(u,W,rt))),u.tag===3)return R;u=u.return}return[]}function KS(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function p1(u,p,w,R,W){for(var rt=p._reactName,Ot=[];w!==null&&w!==R;){var se=w,Ye=se.alternate,Br=se.stateNode;if(se=se.tag,Ye!==null&&Ye===R)break;se!==5&&se!==26&&se!==27||Br===null||(Ye=Br,W?(Br=Ii(w,rt),Br!=null&&Ot.unshift($d(w,Br,Ye))):W||(Br=Ii(w,rt),Br!=null&&Ot.push($d(w,Br,Ye)))),w=w.return}Ot.length!==0&&u.push({event:p,listeners:Ot})}var ZS=/\r\n?/g,ok=/\u0000|\uFFFD/g;function m1(u){return(typeof u=="string"?u:""+u).replace(ZS,`
`).replace(ok,"")}function op(u,p){return p=m1(p),m1(u)===p}function ds(u,p,w,R,W,rt){switch(w){case"children":typeof R=="string"?p==="body"||p==="textarea"&&R===""||qe(u,R):(typeof R=="number"||typeof R=="bigint")&&p!=="body"&&qe(u,""+R);break;case"className":jl(u,"class",R);break;case"tabIndex":jl(u,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(u,w,R);break;case"style":rn(u,R,rt);break;case"data":if(p!=="object"){jl(u,"data",R);break}case"src":case"href":if(R===""&&(p!=="a"||w!=="href")){u.removeAttribute(w);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){u.removeAttribute(w);break}R=fn(""+R),u.setAttribute(w,R);break;case"action":case"formAction":if(typeof R=="function"){u.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof rt=="function"&&(w==="formAction"?(p!=="input"&&ds(u,p,"name",W.name,W,null),ds(u,p,"formEncType",W.formEncType,W,null),ds(u,p,"formMethod",W.formMethod,W,null),ds(u,p,"formTarget",W.formTarget,W,null)):(ds(u,p,"encType",W.encType,W,null),ds(u,p,"method",W.method,W,null),ds(u,p,"target",W.target,W,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){u.removeAttribute(w);break}R=fn(""+R),u.setAttribute(w,R);break;case"onClick":R!=null&&(u.onclick=Yn);break;case"onScroll":R!=null&&Oa("scroll",u);break;case"onScrollEnd":R!=null&&Oa("scrollend",u);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(n(61));if(w=R.__html,w!=null){if(W.children!=null)throw Error(n(60));u.innerHTML=w}}break;case"multiple":u.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":u.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){u.removeAttribute("xlink:href");break}w=fn(""+R),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?u.setAttribute(w,""+R):u.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?u.setAttribute(w,""):u.removeAttribute(w);break;case"capture":case"download":R===!0?u.setAttribute(w,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?u.setAttribute(w,R):u.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?u.setAttribute(w,R):u.removeAttribute(w);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?u.removeAttribute(w):u.setAttribute(w,R);break;case"popover":Oa("beforetoggle",u),Oa("toggle",u),Do(u,"popover",R);break;case"xlinkActuate":Ha(u,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":Ha(u,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":Ha(u,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":Ha(u,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":Ha(u,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":Ha(u,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":Ha(u,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":Ha(u,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":Ha(u,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":Do(u,"is",R);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=un.get(w)||w,Do(u,w,R))}}function ib(u,p,w,R,W,rt){switch(w){case"style":rn(u,R,rt);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(n(61));if(w=R.__html,w!=null){if(W.children!=null)throw Error(n(60));u.innerHTML=w}}break;case"children":typeof R=="string"?qe(u,R):(typeof R=="number"||typeof R=="bigint")&&qe(u,""+R);break;case"onScroll":R!=null&&Oa("scroll",u);break;case"onScrollEnd":R!=null&&Oa("scrollend",u);break;case"onClick":R!=null&&(u.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vi.hasOwnProperty(w))t:{if(w[0]==="o"&&w[1]==="n"&&(W=w.endsWith("Capture"),p=w.slice(2,W?w.length-7:void 0),rt=u[li]||null,rt=rt!=null?rt[w]:null,typeof rt=="function"&&u.removeEventListener(p,rt,W),typeof R=="function")){typeof rt!="function"&&rt!==null&&(w in u?u[w]=null:u.hasAttribute(w)&&u.removeAttribute(w)),u.addEventListener(p,R,W);break t}w in u?u[w]=R:R===!0?u.setAttribute(w,""):Do(u,w,R)}}}function hu(u,p,w){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oa("error",u),Oa("load",u);var R=!1,W=!1,rt;for(rt in w)if(w.hasOwnProperty(rt)){var Ot=w[rt];if(Ot!=null)switch(rt){case"src":R=!0;break;case"srcSet":W=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:ds(u,p,rt,Ot,w,null)}}W&&ds(u,p,"srcSet",w.srcSet,w,null),R&&ds(u,p,"src",w.src,w,null);return;case"input":Oa("invalid",u);var se=rt=Ot=W=null,Ye=null,Br=null;for(R in w)if(w.hasOwnProperty(R)){var Jr=w[R];if(Jr!=null)switch(R){case"name":W=Jr;break;case"type":Ot=Jr;break;case"checked":Ye=Jr;break;case"defaultChecked":Br=Jr;break;case"value":rt=Jr;break;case"defaultValue":se=Jr;break;case"children":case"dangerouslySetInnerHTML":if(Jr!=null)throw Error(n(137,p));break;default:ds(u,p,R,Jr,w,null)}}yu(u,rt,se,Ye,Br,Ot,W,!1);return;case"select":Oa("invalid",u),R=Ot=rt=null;for(W in w)if(w.hasOwnProperty(W)&&(se=w[W],se!=null))switch(W){case"value":rt=se;break;case"defaultValue":Ot=se;break;case"multiple":R=se;default:ds(u,p,W,se,w,null)}p=rt,w=Ot,u.multiple=!!R,p!=null?gt(u,!!R,p,!1):w!=null&&gt(u,!!R,w,!0);return;case"textarea":Oa("invalid",u),rt=W=R=null;for(Ot in w)if(w.hasOwnProperty(Ot)&&(se=w[Ot],se!=null))switch(Ot){case"value":R=se;break;case"defaultValue":W=se;break;case"children":rt=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:ds(u,p,Ot,se,w,null)}Re(u,R,W,rt);return;case"option":for(Ye in w)if(w.hasOwnProperty(Ye)&&(R=w[Ye],R!=null))switch(Ye){case"selected":u.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:ds(u,p,Ye,R,w,null)}return;case"dialog":Oa("beforetoggle",u),Oa("toggle",u),Oa("cancel",u),Oa("close",u);break;case"iframe":case"object":Oa("load",u);break;case"video":case"audio":for(R=0;R<Qg.length;R++)Oa(Qg[R],u);break;case"image":Oa("error",u),Oa("load",u);break;case"details":Oa("toggle",u);break;case"embed":case"source":case"link":Oa("error",u),Oa("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Br in w)if(w.hasOwnProperty(Br)&&(R=w[Br],R!=null))switch(Br){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:ds(u,p,Br,R,w,null)}return;default:if(mn(p)){for(Jr in w)w.hasOwnProperty(Jr)&&(R=w[Jr],R!==void 0&&ib(u,p,Jr,R,w,void 0));return}}for(se in w)w.hasOwnProperty(se)&&(R=w[se],R!=null&&ds(u,p,se,R,w,null))}function QS(u,p,w,R){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var W=null,rt=null,Ot=null,se=null,Ye=null,Br=null,Jr=null;for(Ur in w){var pn=w[Ur];if(w.hasOwnProperty(Ur)&&pn!=null)switch(Ur){case"checked":break;case"value":break;case"defaultValue":Ye=pn;default:R.hasOwnProperty(Ur)||ds(u,p,Ur,null,R,pn)}}for(var Cr in R){var Ur=R[Cr];if(pn=w[Cr],R.hasOwnProperty(Cr)&&(Ur!=null||pn!=null))switch(Cr){case"type":rt=Ur;break;case"name":W=Ur;break;case"checked":Br=Ur;break;case"defaultChecked":Jr=Ur;break;case"value":Ot=Ur;break;case"defaultValue":se=Ur;break;case"children":case"dangerouslySetInnerHTML":if(Ur!=null)throw Error(n(137,p));break;default:Ur!==pn&&ds(u,p,Cr,Ur,R,pn)}}iu(u,Ot,se,Ye,Br,Jr,rt,W);return;case"select":Ur=Ot=se=Cr=null;for(rt in w)if(Ye=w[rt],w.hasOwnProperty(rt)&&Ye!=null)switch(rt){case"value":break;case"multiple":Ur=Ye;default:R.hasOwnProperty(rt)||ds(u,p,rt,null,R,Ye)}for(W in R)if(rt=R[W],Ye=w[W],R.hasOwnProperty(W)&&(rt!=null||Ye!=null))switch(W){case"value":Cr=rt;break;case"defaultValue":se=rt;break;case"multiple":Ot=rt;default:rt!==Ye&&ds(u,p,W,rt,R,Ye)}p=se,w=Ot,R=Ur,Cr!=null?gt(u,!!w,Cr,!1):!!R!=!!w&&(p!=null?gt(u,!!w,p,!0):gt(u,!!w,w?[]:"",!1));return;case"textarea":Ur=Cr=null;for(se in w)if(W=w[se],w.hasOwnProperty(se)&&W!=null&&!R.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:ds(u,p,se,null,R,W)}for(Ot in R)if(W=R[Ot],rt=w[Ot],R.hasOwnProperty(Ot)&&(W!=null||rt!=null))switch(Ot){case"value":Cr=W;break;case"defaultValue":Ur=W;break;case"children":break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:W!==rt&&ds(u,p,Ot,W,R,rt)}ee(u,Cr,Ur);return;case"option":for(var si in w)if(Cr=w[si],w.hasOwnProperty(si)&&Cr!=null&&!R.hasOwnProperty(si))switch(si){case"selected":u.selected=!1;break;default:ds(u,p,si,null,R,Cr)}for(Ye in R)if(Cr=R[Ye],Ur=w[Ye],R.hasOwnProperty(Ye)&&Cr!==Ur&&(Cr!=null||Ur!=null))switch(Ye){case"selected":u.selected=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;default:ds(u,p,Ye,Cr,R,Ur)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xi in w)Cr=w[xi],w.hasOwnProperty(xi)&&Cr!=null&&!R.hasOwnProperty(xi)&&ds(u,p,xi,null,R,Cr);for(Br in R)if(Cr=R[Br],Ur=w[Br],R.hasOwnProperty(Br)&&Cr!==Ur&&(Cr!=null||Ur!=null))switch(Br){case"children":case"dangerouslySetInnerHTML":if(Cr!=null)throw Error(n(137,p));break;default:ds(u,p,Br,Cr,R,Ur)}return;default:if(mn(p)){for(var bo in w)Cr=w[bo],w.hasOwnProperty(bo)&&Cr!==void 0&&!R.hasOwnProperty(bo)&&ib(u,p,bo,void 0,R,Cr);for(Jr in R)Cr=R[Jr],Ur=w[Jr],!R.hasOwnProperty(Jr)||Cr===Ur||Cr===void 0&&Ur===void 0||ib(u,p,Jr,Cr,R,Ur);return}}for(var gr in w)Cr=w[gr],w.hasOwnProperty(gr)&&Cr!=null&&!R.hasOwnProperty(gr)&&ds(u,p,gr,null,R,Cr);for(pn in R)Cr=R[pn],Ur=w[pn],!R.hasOwnProperty(pn)||Cr===Ur||Cr==null&&Ur==null||ds(u,p,pn,Cr,R,Ur)}function JS(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sk(){if(typeof performance.getEntriesByType=="function"){for(var u=0,p=0,w=performance.getEntriesByType("resource"),R=0;R<w.length;R++){var W=w[R],rt=W.transferSize,Ot=W.initiatorType,se=W.duration;if(rt&&se&&JS(Ot)){for(Ot=0,se=W.responseEnd,R+=1;R<w.length;R++){var Ye=w[R],Br=Ye.startTime;if(Br>se)break;var Jr=Ye.transferSize,pn=Ye.initiatorType;Jr&&JS(pn)&&(Ye=Ye.responseEnd,Ot+=Jr*(Ye<se?1:(se-Br)/(Ye-Br)))}if(--R,p+=8*(rt+Ot)/(W.duration/1e3),u++,10<u)break}}if(0<u)return p/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var ab=null,ob=null;function Km(u){return u.nodeType===9?u:u.ownerDocument}function g1(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(u,p){if(u===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&p==="foreignObject"?0:u}function ty(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ey=null;function lk(){var u=window.event;return u&&u.type==="popstate"?u===ey?!1:(ey=u,!0):(ey=null,!1)}var t5=typeof setTimeout=="function"?setTimeout:void 0,ck=typeof clearTimeout=="function"?clearTimeout:void 0,Zm=typeof Promise=="function"?Promise:void 0,du=typeof queueMicrotask=="function"?queueMicrotask:typeof Zm<"u"?function(u){return Zm.resolve(null).then(u).catch(y1)}:t5;function y1(u){setTimeout(function(){throw u})}function sp(u){return u==="head"}function v1(u,p){var w=p,R=0;do{var W=w.nextSibling;if(u.removeChild(w),W&&W.nodeType===8)if(w=W.data,w==="/$"||w==="/&"){if(R===0){u.removeChild(W),Qp(p);return}R--}else if(w==="$"||w==="$?"||w==="$~"||w==="$!"||w==="&")R++;else if(w==="html")Zp(u.ownerDocument.documentElement);else if(w==="head"){w=u.ownerDocument.head,Zp(w);for(var rt=w.firstChild;rt;){var Ot=rt.nextSibling,se=rt.nodeName;rt[xo]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&rt.rel.toLowerCase()==="stylesheet"||w.removeChild(rt),rt=Ot}}else w==="body"&&Zp(u.ownerDocument.body);w=W}while(w);Qp(p)}function sb(u,p){var w=u;u=0;do{var R=w.nextSibling;if(w.nodeType===1?p?(w._stashedDisplay=w.style.display,w.style.display="none"):(w.style.display=w._stashedDisplay||"",w.getAttribute("style")===""&&w.removeAttribute("style")):w.nodeType===3&&(p?(w._stashedText=w.nodeValue,w.nodeValue=""):w.nodeValue=w._stashedText||""),R&&R.nodeType===8)if(w=R.data,w==="/$"){if(u===0)break;u--}else w!=="$"&&w!=="$?"&&w!=="$~"&&w!=="$!"||u++;w=R}while(w)}function b1(u){var p=u.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var w=p;switch(p=p.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":b1(w),Na(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}u.removeChild(w)}}function e5(u,p,w,R){for(;u.nodeType===1;){var W=w;if(u.nodeName.toLowerCase()!==p.toLowerCase()){if(!R&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(R){if(!u[xo])switch(p){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(rt=u.getAttribute("rel"),rt==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(rt!==W.rel||u.getAttribute("href")!==(W.href==null||W.href===""?null:W.href)||u.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin)||u.getAttribute("title")!==(W.title==null?null:W.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(rt=u.getAttribute("src"),(rt!==(W.src==null?null:W.src)||u.getAttribute("type")!==(W.type==null?null:W.type)||u.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin))&&rt&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(p==="input"&&u.type==="hidden"){var rt=W.name==null?null:""+W.name;if(W.type==="hidden"&&u.getAttribute("name")===rt)return u}else return u;if(u=qh(u.nextSibling),u===null)break}return null}function r5(u,p,w){if(p==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!w||(u=qh(u.nextSibling),u===null))return null;return u}function n5(u,p){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!p||(u=qh(u.nextSibling),u===null))return null;return u}function lb(u){return u.data==="$?"||u.data==="$~"}function dv(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function _1(u,p){var w=u.ownerDocument;if(u.data==="$~")u._reactRetry=p;else if(u.data!=="$?"||w.readyState!=="loading")p();else{var R=function(){p(),w.removeEventListener("DOMContentLoaded",R)};w.addEventListener("DOMContentLoaded",R),u._reactRetry=R}}function qh(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return u}var Qm=null;function cb(u){u=u.nextSibling;for(var p=0;u;){if(u.nodeType===8){var w=u.data;if(w==="/$"||w==="/&"){if(p===0)return qh(u.nextSibling);p--}else w!=="$"&&w!=="$!"&&w!=="$?"&&w!=="$~"&&w!=="&"||p++}u=u.nextSibling}return null}function x1(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var w=u.data;if(w==="$"||w==="$!"||w==="$?"||w==="$~"||w==="&"){if(p===0)return u;p--}else w!=="/$"&&w!=="/&"||p++}u=u.previousSibling}return null}function ub(u,p,w){switch(p=Km(w),u){case"html":if(u=p.documentElement,!u)throw Error(n(452));return u;case"head":if(u=p.head,!u)throw Error(n(453));return u;case"body":if(u=p.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function Zp(u){for(var p=u.attributes;p.length;)u.removeAttributeNode(p[0]);Na(u)}var Du=new Map,hb=new Set;function ry(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Vd=At.d;At.d={f:uk,r:f,D:b,C:T,L:M,m:O,X:J,S:q,M:ot};function uk(){var u=Vd.f(),p=Xp();return u||p}function f(u){var p=io(u);p!==null&&p.tag===5&&p.type==="form"?zp(p):Vd.r(u)}var l=typeof document>"u"?null:document;function h(u,p,w){var R=l;if(R&&typeof p=="string"&&p){var W=Zo(p);W='link[rel="'+u+'"][href="'+W+'"]',typeof w=="string"&&(W+='[crossorigin="'+w+'"]'),hb.has(W)||(hb.add(W),u={rel:u,crossOrigin:w,href:p},R.querySelector(W)===null&&(p=R.createElement("link"),hu(p,"link",u),ha(p),R.head.appendChild(p)))}}function b(u){Vd.D(u),h("dns-prefetch",u,null)}function T(u,p){Vd.C(u,p),h("preconnect",u,p)}function M(u,p,w){Vd.L(u,p,w);var R=l;if(R&&u&&p){var W='link[rel="preload"][as="'+Zo(p)+'"]';p==="image"&&w&&w.imageSrcSet?(W+='[imagesrcset="'+Zo(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(W+='[imagesizes="'+Zo(w.imageSizes)+'"]')):W+='[href="'+Zo(u)+'"]';var rt=W;switch(p){case"style":rt=Et(u);break;case"script":rt=te(u)}Du.has(rt)||(u=k({rel:"preload",href:p==="image"&&w&&w.imageSrcSet?void 0:u,as:p},w),Du.set(rt,u),R.querySelector(W)!==null||p==="style"&&R.querySelector($t(rt))||p==="script"&&R.querySelector(he(rt))||(p=R.createElement("link"),hu(p,"link",u),ha(p),R.head.appendChild(p)))}}function O(u,p){Vd.m(u,p);var w=l;if(w&&u){var R=p&&typeof p.as=="string"?p.as:"script",W='link[rel="modulepreload"][as="'+Zo(R)+'"][href="'+Zo(u)+'"]',rt=W;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":rt=te(u)}if(!Du.has(rt)&&(u=k({rel:"modulepreload",href:u},p),Du.set(rt,u),w.querySelector(W)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(he(rt)))return}R=w.createElement("link"),hu(R,"link",u),ha(R),w.head.appendChild(R)}}}function q(u,p,w){Vd.S(u,p,w);var R=l;if(R&&u){var W=oa(R).hoistableStyles,rt=Et(u);p=p||"default";var Ot=W.get(rt);if(!Ot){var se={loading:0,preload:null};if(Ot=R.querySelector($t(rt)))se.loading=5;else{u=k({rel:"stylesheet",href:u,"data-precedence":p},w),(w=Du.get(rt))&&De(u,w);var Ye=Ot=R.createElement("link");ha(Ye),hu(Ye,"link",u),Ye._p=new Promise(function(Br,Jr){Ye.onload=Br,Ye.onerror=Jr}),Ye.addEventListener("load",function(){se.loading|=1}),Ye.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Je(Ot,p,R)}Ot={type:"stylesheet",instance:Ot,count:1,state:se},W.set(rt,Ot)}}}function J(u,p){Vd.X(u,p);var w=l;if(w&&u){var R=oa(w).hoistableScripts,W=te(u),rt=R.get(W);rt||(rt=w.querySelector(he(W)),rt||(u=k({src:u,async:!0},p),(p=Du.get(W))&&qt(u,p),rt=w.createElement("script"),ha(rt),hu(rt,"link",u),w.head.appendChild(rt)),rt={type:"script",instance:rt,count:1,state:null},R.set(W,rt))}}function ot(u,p){Vd.M(u,p);var w=l;if(w&&u){var R=oa(w).hoistableScripts,W=te(u),rt=R.get(W);rt||(rt=w.querySelector(he(W)),rt||(u=k({src:u,async:!0,type:"module"},p),(p=Du.get(W))&&qt(u,p),rt=w.createElement("script"),ha(rt),hu(rt,"link",u),w.head.appendChild(rt)),rt={type:"script",instance:rt,count:1,state:null},R.set(W,rt))}}function ft(u,p,w,R){var W=(W=Ut.current)?ry(W):null;if(!W)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(p=Et(w.href),w=oa(W).hoistableStyles,R=w.get(p),R||(R={type:"style",instance:null,count:0,state:null},w.set(p,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){u=Et(w.href);var rt=oa(W).hoistableStyles,Ot=rt.get(u);if(Ot||(W=W.ownerDocument||W,Ot={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},rt.set(u,Ot),(rt=W.querySelector($t(u)))&&!rt._p&&(Ot.instance=rt,Ot.state.loading=5),Du.has(u)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},Du.set(u,w),rt||Wt(W,u,w,Ot.state))),p&&R===null)throw Error(n(528,""));return Ot}if(p&&R!==null)throw Error(n(529,""));return null;case"script":return p=w.async,w=w.src,typeof w=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=te(w),w=oa(W).hoistableScripts,R=w.get(p),R||(R={type:"script",instance:null,count:0,state:null},w.set(p,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function Et(u){return'href="'+Zo(u)+'"'}function $t(u){return'link[rel="stylesheet"]['+u+"]"}function Gt(u){return k({},u,{"data-precedence":u.precedence,precedence:null})}function Wt(u,p,w,R){u.querySelector('link[rel="preload"][as="style"]['+p+"]")?R.loading=1:(p=u.createElement("link"),R.preload=p,p.addEventListener("load",function(){return R.loading|=1}),p.addEventListener("error",function(){return R.loading|=2}),hu(p,"link",w),ha(p),u.head.appendChild(p))}function te(u){return'[src="'+Zo(u)+'"]'}function he(u){return"script[async]"+u}function Ee(u,p,w){if(p.count++,p.instance===null)switch(p.type){case"style":var R=u.querySelector('style[data-href~="'+Zo(w.href)+'"]');if(R)return p.instance=R,ha(R),R;var W=k({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return R=(u.ownerDocument||u).createElement("style"),ha(R),hu(R,"style",W),Je(R,w.precedence,u),p.instance=R;case"stylesheet":W=Et(w.href);var rt=u.querySelector($t(W));if(rt)return p.state.loading|=4,p.instance=rt,ha(rt),rt;R=Gt(w),(W=Du.get(W))&&De(R,W),rt=(u.ownerDocument||u).createElement("link"),ha(rt);var Ot=rt;return Ot._p=new Promise(function(se,Ye){Ot.onload=se,Ot.onerror=Ye}),hu(rt,"link",R),p.state.loading|=4,Je(rt,w.precedence,u),p.instance=rt;case"script":return rt=te(w.src),(W=u.querySelector(he(rt)))?(p.instance=W,ha(W),W):(R=w,(W=Du.get(rt))&&(R=k({},w),qt(R,W)),u=u.ownerDocument||u,W=u.createElement("script"),ha(W),hu(W,"link",R),u.head.appendChild(W),p.instance=W);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(R=p.instance,p.state.loading|=4,Je(R,w.precedence,u));return p.instance}function Je(u,p,w){for(var R=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),W=R.length?R[R.length-1]:null,rt=W,Ot=0;Ot<R.length;Ot++){var se=R[Ot];if(se.dataset.precedence===p)rt=se;else if(rt!==W)break}rt?rt.parentNode.insertBefore(u,rt.nextSibling):(p=w.nodeType===9?w.head:w,p.insertBefore(u,p.firstChild))}function De(u,p){u.crossOrigin==null&&(u.crossOrigin=p.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=p.referrerPolicy),u.title==null&&(u.title=p.title)}function qt(u,p){u.crossOrigin==null&&(u.crossOrigin=p.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=p.referrerPolicy),u.integrity==null&&(u.integrity=p.integrity)}var le=null;function $e(u,p,w){if(le===null){var R=new Map,W=le=new Map;W.set(w,R)}else W=le,R=W.get(w),R||(R=new Map,W.set(w,R));if(R.has(u))return R;for(R.set(u,null),w=w.getElementsByTagName(u),W=0;W<w.length;W++){var rt=w[W];if(!(rt[xo]||rt[On]||u==="link"&&rt.getAttribute("rel")==="stylesheet")&&rt.namespaceURI!=="http://www.w3.org/2000/svg"){var Ot=rt.getAttribute(p)||"";Ot=u+Ot;var se=R.get(Ot);se?se.push(rt):R.set(Ot,[rt])}}return R}function Tr(u,p,w){u=u.ownerDocument||u,u.head.insertBefore(w,p==="title"?u.querySelector("head > title"):null)}function dn(u,p,w){if(w===1||p.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return u=p.disabled,typeof p.precedence=="string"&&u==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function jr(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Gr(u,p,w,R){if(w.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(w.state.loading&4)===0){if(w.instance===null){var W=Et(R.href),rt=p.querySelector($t(W));if(rt){p=rt._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(u.count++,u=_n.bind(u),p.then(u,u)),w.state.loading|=4,w.instance=rt,ha(rt);return}rt=p.ownerDocument||p,R=Gt(R),(W=Du.get(W))&&De(R,W),rt=rt.createElement("link"),ha(rt);var Ot=rt;Ot._p=new Promise(function(se,Ye){Ot.onload=se,Ot.onerror=Ye}),hu(rt,"link",R),w.instance=rt}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(w,p),(p=w.state.preload)&&(w.state.loading&3)===0&&(u.count++,w=_n.bind(u),p.addEventListener("load",w),p.addEventListener("error",w))}}var wn=0;function sn(u,p){return u.stylesheets&&u.count===0&&qn(u,u.stylesheets),0<u.count||0<u.imgCount?function(w){var R=setTimeout(function(){if(u.stylesheets&&qn(u,u.stylesheets),u.unsuspend){var rt=u.unsuspend;u.unsuspend=null,rt()}},6e4+p);0<u.imgBytes&&wn===0&&(wn=62500*sk());var W=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&qn(u,u.stylesheets),u.unsuspend)){var rt=u.unsuspend;u.unsuspend=null,rt()}},(u.imgBytes>wn?50:800)+p);return u.unsuspend=w,function(){u.unsuspend=null,clearTimeout(R),clearTimeout(W)}}:null}function _n(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qn(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Hr=null;function qn(u,p){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Hr=new Map,p.forEach(vi,u),Hr=null,_n.call(u))}function vi(u,p){if(!(p.state.loading&4)){var w=Hr.get(u);if(w)var R=w.get(null);else{w=new Map,Hr.set(u,w);for(var W=u.querySelectorAll("link[data-precedence],style[data-precedence]"),rt=0;rt<W.length;rt++){var Ot=W[rt];(Ot.nodeName==="LINK"||Ot.getAttribute("media")!=="not all")&&(w.set(Ot.dataset.precedence,Ot),R=Ot)}R&&w.set(null,R)}W=p.instance,Ot=W.getAttribute("data-precedence"),rt=w.get(Ot)||R,rt===R&&w.set(null,W),w.set(Ot,W),this.count++,R=_n.bind(this),W.addEventListener("load",R),W.addEventListener("error",R),rt?rt.parentNode.insertBefore(W,rt.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(W,u.firstChild)),p.state.loading|=4}}var ci={$$typeof:z,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function oi(u,p,w,R,W,rt,Ot,se,Ye){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.hiddenUpdates=bn(null),this.identifierPrefix=R,this.onUncaughtError=W,this.onCaughtError=rt,this.onRecoverableError=Ot,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ye,this.incompleteTransitions=new Map}function Ca(u,p,w,R,W,rt,Ot,se,Ye,Br,Jr,pn){return u=new oi(u,p,w,Ot,Ye,Br,Jr,pn,se),p=1,rt===!0&&(p|=24),rt=mi(3,null,null,p),u.current=rt,rt.stateNode=u,p=zh(),p.refCount++,u.pooledCache=p,p.refCount++,rt.memoizedState={element:R,isDehydrated:w,cache:p},Pn(rt),u}function Js(u){return u?(u=Cs,u):Cs}function nc(u,p,w,R,W,rt){W=Js(W),R.context===null?R.context=W:R.pendingContext=W,R=Gn(p),R.payload={element:w},rt=rt===void 0?null:rt,rt!==null&&(R.callback=rt),w=Gi(u,R,p),w!==null&&(Sh(w,u,p),eo(w,u,p))}function Yc(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var w=u.retryLane;u.retryLane=w!==0&&w<p?w:p}}function nh(u,p){Yc(u,p),(u=u.alternate)&&Yc(u,p)}function Bu(u){if(u.tag===13||u.tag===31){var p=Ac(u,67108864);p!==null&&Sh(p,u,67108864),nh(u,67108864)}}function Lc(u){if(u.tag===13||u.tag===31){var p=rh();p=ze(p);var w=Ac(u,p);w!==null&&Sh(w,u,p),nh(u,p)}}var fs=!0;function Mc(u,p,w,R){var W=pt.T;pt.T=null;var rt=At.p;try{At.p=2,yc(u,p,w,R)}finally{At.p=rt,pt.T=W}}function Kc(u,p,w,R){var W=pt.T;pt.T=null;var rt=At.p;try{At.p=8,yc(u,p,w,R)}finally{At.p=rt,pt.T=W}}function yc(u,p,w,R){if(fs){var W=fu(R);if(W===null)Kp(u,p,R,zu,w),i5(u,R);else if(Jm(W,u,p,w,R))R.stopPropagation();else if(i5(u,R),p&4&&-1<Ud.indexOf(u)){for(;W!==null;){var rt=io(W);if(rt!==null)switch(rt.tag){case 3:if(rt=rt.stateNode,rt.current.memoizedState.isDehydrated){var Ot=Pe(rt.pendingLanes);if(Ot!==0){var se=rt;for(se.pendingLanes|=2,se.entangledLanes|=2;Ot;){var Ye=1<<31-oe(Ot);se.entanglements[1]|=Ye,Ot&=~Ye}Uh(rt),(qo&6)===0&&(nv=Ir()+500,Zg(0))}}break;case 31:case 13:se=Ac(rt,2),se!==null&&Sh(se,rt,2),Xp(),nh(rt,2)}if(rt=fu(R),rt===null&&Kp(u,p,R,zu,w),rt===W)break;W=rt}W!==null&&R.stopPropagation()}else Kp(u,p,R,null,w)}}function fu(u){return u=ti(u),ic(u)}var zu=null;function ic(u){if(zu=null,u=Mn(u),u!==null){var p=o(u);if(p===null)u=null;else{var w=p.tag;if(w===13){if(u=c(p),u!==null)return u;u=null}else if(w===31){if(u=a(p),u!==null)return u;u=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null)}}return zu=u,null}function Fu(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case ar:return 2;case Or:return 8;case er:case Fr:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Ll=!1,Fs=null,js=null,ps=null,Mo=new Map,ih=new Map,Gh=[],Ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i5(u,p){switch(u){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Mo.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(p.pointerId)}}function gf(u,p,w,R,W,rt){return u===null||u.nativeEvent!==rt?(u={blockedOn:p,domEventName:w,eventSystemFlags:R,nativeEvent:rt,targetContainers:[W]},p!==null&&(p=io(p),p!==null&&Bu(p)),u):(u.eventSystemFlags|=R,p=u.targetContainers,W!==null&&p.indexOf(W)===-1&&p.push(W),u)}function Jm(u,p,w,R,W){switch(p){case"focusin":return Fs=gf(Fs,u,p,w,R,W),!0;case"dragenter":return js=gf(js,u,p,w,R,W),!0;case"mouseover":return ps=gf(ps,u,p,w,R,W),!0;case"pointerover":var rt=W.pointerId;return Mo.set(rt,gf(Mo.get(rt)||null,u,p,w,R,W)),!0;case"gotpointercapture":return rt=W.pointerId,ih.set(rt,gf(ih.get(rt)||null,u,p,w,R,W)),!0}return!1}function tg(u){var p=Mn(u.target);if(p!==null){var w=o(p);if(w!==null){if(p=w.tag,p===13){if(p=c(w),p!==null){u.blockedOn=p,Vr(u.priority,function(){Lc(w)});return}}else if(p===31){if(p=a(w),p!==null){u.blockedOn=p,Vr(u.priority,function(){Lc(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){u.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}u.blockedOn=null}function lp(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var w=fu(u.nativeEvent);if(w===null){w=u.nativeEvent;var R=new w.constructor(w.type,w);Nn=R,w.target.dispatchEvent(R),Nn=null}else return p=io(w),p!==null&&Bu(p),u.blockedOn=w,!1;p.shift()}return!0}function eg(u,p,w){lp(u)&&w.delete(p)}function a5(){Ll=!1,Fs!==null&&lp(Fs)&&(Fs=null),js!==null&&lp(js)&&(js=null),ps!==null&&lp(ps)&&(ps=null),Mo.forEach(eg),ih.forEach(eg)}function fv(u,p){u.blockedOn===p&&(u.blockedOn=null,Ll||(Ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a5)))}var pv=null;function w1(u){pv!==u&&(pv=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pv===u&&(pv=null);for(var p=0;p<u.length;p+=3){var w=u[p],R=u[p+1],W=u[p+2];if(typeof R!="function"){if(ic(R||w)===null)continue;break}var rt=io(w);rt!==null&&(u.splice(p,3),p-=3,Vy(rt,{pending:!0,data:W,method:w.method,action:R},R,W))}}))}function Qp(u){function p(Ye){return fv(Ye,u)}Fs!==null&&fv(Fs,u),js!==null&&fv(js,u),ps!==null&&fv(ps,u),Mo.forEach(p),ih.forEach(p);for(var w=0;w<Gh.length;w++){var R=Gh[w];R.blockedOn===u&&(R.blockedOn=null)}for(;0<Gh.length&&(w=Gh[0],w.blockedOn===null);)tg(w),w.blockedOn===null&&Gh.shift();if(w=(u.ownerDocument||u).$$reactFormReplay,w!=null)for(R=0;R<w.length;R+=3){var W=w[R],rt=w[R+1],Ot=W[li]||null;if(typeof rt=="function")Ot||w1(w);else if(Ot){var se=null;if(rt&&rt.hasAttribute("formAction")){if(W=rt,Ot=rt[li]||null)se=Ot.formAction;else if(ic(W)!==null)continue}else se=Ot.action;typeof se=="function"?w[R+1]=se:(w.splice(R,3),R-=3),w1(w)}}}function db(){function u(rt){rt.canIntercept&&rt.info==="react-transition"&&rt.intercept({handler:function(){return new Promise(function(Ot){return W=Ot})},focusReset:"manual",scroll:"manual"})}function p(){W!==null&&(W(),W=null),R||setTimeout(w,20)}function w(){if(!R&&!navigation.transition){var rt=navigation.currentEntry;rt&&rt.url!=null&&navigation.navigate(rt.url,{state:rt.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,W=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(w,100),function(){R=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),W!==null&&(W(),W=null)}}}function qd(u){this._internalRoot=u}mv.prototype.render=qd.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(n(409));var w=p.current,R=rh();nc(w,R,u,p,null,null)},mv.prototype.unmount=qd.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;nc(u.current,2,null,u,null,null),Xp(),p[Ji]=null}};function mv(u){this._internalRoot=u}mv.prototype.unstable_scheduleHydration=function(u){if(u){var p=vn();u={blockedOn:null,target:u,priority:p};for(var w=0;w<Gh.length&&p!==0&&p<Gh[w].priority;w++);Gh.splice(w,0,u),w===0&&tg(u)}};var S1=e.version;if(S1!=="19.2.0")throw Error(n(527,S1,"19.2.0"));At.findDOMNode=function(u){var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=v(p),u=u!==null?x(u):null,u=u===null?null:u.stateNode,u};var hk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:pt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fb.isDisabled&&fb.supportsFiber)try{Ft=fb.inject(hk),Mt=fb}catch{}}return T1.createRoot=function(u,p){if(!i(u))throw Error(n(299));var w=!1,R="",W=bS,rt=I0,Ot=Px;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onUncaughtError!==void 0&&(W=p.onUncaughtError),p.onCaughtError!==void 0&&(rt=p.onCaughtError),p.onRecoverableError!==void 0&&(Ot=p.onRecoverableError)),p=Ca(u,1,!1,null,null,w,R,null,W,rt,Ot,db),u[Ji]=p.current,nb(u),new qd(p)},T1.hydrateRoot=function(u,p,w){if(!i(u))throw Error(n(299));var R=!1,W="",rt=bS,Ot=I0,se=Px,Ye=null;return w!=null&&(w.unstable_strictMode===!0&&(R=!0),w.identifierPrefix!==void 0&&(W=w.identifierPrefix),w.onUncaughtError!==void 0&&(rt=w.onUncaughtError),w.onCaughtError!==void 0&&(Ot=w.onCaughtError),w.onRecoverableError!==void 0&&(se=w.onRecoverableError),w.formState!==void 0&&(Ye=w.formState)),p=Ca(u,1,!0,p,w??null,R,W,Ye,rt,Ot,se,db),p.context=Js(null),w=p.current,R=rh(),R=ze(R),W=Gn(R),W.callback=null,Gi(w,W,R),w=R,p.current.lanes=w,Kr(p,w),Uh(p),u[Ji]=p.current,nb(u),new mv(p)},T1.version="19.2.0",T1}var oD;function mZ(){if(oD)return pk.exports;oD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pk.exports=pZ(),pk.exports}var gZ=mZ();const yZ="modulepreload",vZ=function(t){return"/wms-map-viewer/"+t},sD={},vk=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(x=>Promise.resolve(x).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),a=c?.nonce||c?.getAttribute("nonce");i=g(r.map(v=>{if(v=vZ(v),v in sD)return;sD[v]=!0;const x=v.endsWith(".css"),k=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${k}`))return;const I=document.createElement("link");if(I.rel=x?"stylesheet":yZ,x||(I.as="script"),I.crossOrigin="",I.href=v,a&&I.setAttribute("nonce",a),document.head.appendChild(I),x)return new Promise((S,P)=>{I.addEventListener("load",S),I.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(c){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=c,window.dispatchEvent(a),!a.defaultPrevented)throw c}return i.then(c=>{for(const a of c||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var DM=DV();const py=OV(DM);var bZ={value:()=>{}};function BV(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new lE(r)}function lE(t){this._=t}function _Z(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}lE.prototype=BV.prototype={constructor:lE,on:function(t,e){var r=this._,n=_Z(t+"",r),i,o=-1,c=n.length;if(arguments.length<2){for(;++o<c;)if((i=(t=n[o]).type)&&(i=xZ(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<c;)if(i=(t=n[o]).type)r[i]=lD(r[i],t.name,e);else if(e==null)for(i in r)r[i]=lD(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new lE(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,i=o.length;n<i;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};function xZ(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function lD(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=bZ,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var FN="http://www.w3.org/1999/xhtml";const cD={svg:"http://www.w3.org/2000/svg",xhtml:FN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wC(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),cD.hasOwnProperty(e)?{space:cD[e],local:t}:t}function wZ(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===FN&&e.documentElement.namespaceURI===FN?e.createElement(t):e.createElementNS(r,t)}}function SZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zV(t){var e=wC(t);return(e.local?SZ:wZ)(e)}function EZ(){}function BM(t){return t==null?EZ:function(){return this.querySelector(t)}}function TZ(t){typeof t!="function"&&(t=BM(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],c=o.length,a=n[i]=new Array(c),g,v,x=0;x<c;++x)(g=o[x])&&(v=t.call(g,g.__data__,x,o))&&("__data__"in g&&(v.__data__=g.__data__),a[x]=v);return new xp(n,this._parents)}function CZ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function AZ(){return[]}function FV(t){return t==null?AZ:function(){return this.querySelectorAll(t)}}function kZ(t){return function(){return CZ(t.apply(this,arguments))}}function IZ(t){typeof t=="function"?t=kZ(t):t=FV(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var c=e[o],a=c.length,g,v=0;v<a;++v)(g=c[v])&&(n.push(t.call(g,g.__data__,v,c)),i.push(g));return new xp(n,i)}function jV(t){return function(){return this.matches(t)}}function $V(t){return function(e){return e.matches(t)}}var RZ=Array.prototype.find;function NZ(t){return function(){return RZ.call(this.children,t)}}function LZ(){return this.firstElementChild}function MZ(t){return this.select(t==null?LZ:NZ(typeof t=="function"?t:$V(t)))}var PZ=Array.prototype.filter;function OZ(){return Array.from(this.children)}function DZ(t){return function(){return PZ.call(this.children,t)}}function BZ(t){return this.selectAll(t==null?OZ:DZ(typeof t=="function"?t:$V(t)))}function zZ(t){typeof t!="function"&&(t=jV(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],c=o.length,a=n[i]=[],g,v=0;v<c;++v)(g=o[v])&&t.call(g,g.__data__,v,o)&&a.push(g);return new xp(n,this._parents)}function VV(t){return new Array(t.length)}function FZ(){return new xp(this._enter||this._groups.map(VV),this._parents)}function WE(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}WE.prototype={constructor:WE,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jZ(t){return function(){return t}}function $Z(t,e,r,n,i,o){for(var c=0,a,g=e.length,v=o.length;c<v;++c)(a=e[c])?(a.__data__=o[c],n[c]=a):r[c]=new WE(t,o[c]);for(;c<g;++c)(a=e[c])&&(i[c]=a)}function VZ(t,e,r,n,i,o,c){var a,g,v=new Map,x=e.length,k=o.length,I=new Array(x),S;for(a=0;a<x;++a)(g=e[a])&&(I[a]=S=c.call(g,g.__data__,a,e)+"",v.has(S)?i[a]=g:v.set(S,g));for(a=0;a<k;++a)S=c.call(t,o[a],a,o)+"",(g=v.get(S))?(n[a]=g,g.__data__=o[a],v.delete(S)):r[a]=new WE(t,o[a]);for(a=0;a<x;++a)(g=e[a])&&v.get(I[a])===g&&(i[a]=g)}function UZ(t){return t.__data__}function qZ(t,e){if(!arguments.length)return Array.from(this,UZ);var r=e?VZ:$Z,n=this._parents,i=this._groups;typeof t!="function"&&(t=jZ(t));for(var o=i.length,c=new Array(o),a=new Array(o),g=new Array(o),v=0;v<o;++v){var x=n[v],k=i[v],I=k.length,S=GZ(t.call(x,x&&x.__data__,v,n)),P=S.length,D=a[v]=new Array(P),U=c[v]=new Array(P),H=g[v]=new Array(I);r(x,k,D,U,H,S,e);for(var G=0,z=0,j,X;G<P;++G)if(j=D[G]){for(G>=z&&(z=G+1);!(X=U[z])&&++z<P;);j._next=X||null}}return c=new xp(c,n),c._enter=a,c._exit=g,c}function GZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HZ(){return new xp(this._exit||this._groups.map(VV),this._parents)}function XZ(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function WZ(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,c=Math.min(i,o),a=new Array(i),g=0;g<c;++g)for(var v=r[g],x=n[g],k=v.length,I=a[g]=new Array(k),S,P=0;P<k;++P)(S=v[P]||x[P])&&(I[P]=S);for(;g<i;++g)a[g]=r[g];return new xp(a,this._parents)}function YZ(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,o=n[i],c;--i>=0;)(c=n[i])&&(o&&c.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(c,o),o=c);return this}function KZ(t){t||(t=ZZ);function e(k,I){return k&&I?t(k.__data__,I.__data__):!k-!I}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var c=r[o],a=c.length,g=i[o]=new Array(a),v,x=0;x<a;++x)(v=c[x])&&(g[x]=v);g.sort(e)}return new xp(i,this._parents).order()}function ZZ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function QZ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function JZ(){return Array.from(this)}function tQ(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var c=n[i];if(c)return c}return null}function eQ(){let t=0;for(const e of this)++t;return t}function rQ(){return!this.node()}function nQ(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,c=i.length,a;o<c;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function iQ(t){return function(){this.removeAttribute(t)}}function aQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oQ(t,e){return function(){this.setAttribute(t,e)}}function sQ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lQ(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function cQ(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function uQ(t,e){var r=wC(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?aQ:iQ:typeof e=="function"?r.local?cQ:lQ:r.local?sQ:oQ)(r,e))}function UV(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function hQ(t){return function(){this.style.removeProperty(t)}}function dQ(t,e,r){return function(){this.style.setProperty(t,e,r)}}function fQ(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function pQ(t,e,r){return arguments.length>1?this.each((e==null?hQ:typeof e=="function"?fQ:dQ)(t,e,r??"")):V_(this.node(),t)}function V_(t,e){return t.style.getPropertyValue(e)||UV(t).getComputedStyle(t,null).getPropertyValue(e)}function mQ(t){return function(){delete this[t]}}function gQ(t,e){return function(){this[t]=e}}function yQ(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function vQ(t,e){return arguments.length>1?this.each((e==null?mQ:typeof e=="function"?yQ:gQ)(t,e)):this.node()[t]}function qV(t){return t.trim().split(/^|\s+/)}function zM(t){return t.classList||new GV(t)}function GV(t){this._node=t,this._names=qV(t.getAttribute("class")||"")}GV.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function HV(t,e){for(var r=zM(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function XV(t,e){for(var r=zM(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function bQ(t){return function(){HV(this,t)}}function _Q(t){return function(){XV(this,t)}}function xQ(t,e){return function(){(e.apply(this,arguments)?HV:XV)(this,t)}}function wQ(t,e){var r=qV(t+"");if(arguments.length<2){for(var n=zM(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?xQ:e?bQ:_Q)(r,e))}function SQ(){this.textContent=""}function EQ(t){return function(){this.textContent=t}}function TQ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function CQ(t){return arguments.length?this.each(t==null?SQ:(typeof t=="function"?TQ:EQ)(t)):this.node().textContent}function AQ(){this.innerHTML=""}function kQ(t){return function(){this.innerHTML=t}}function IQ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function RQ(t){return arguments.length?this.each(t==null?AQ:(typeof t=="function"?IQ:kQ)(t)):this.node().innerHTML}function NQ(){this.nextSibling&&this.parentNode.appendChild(this)}function LQ(){return this.each(NQ)}function MQ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function PQ(){return this.each(MQ)}function OQ(t){var e=typeof t=="function"?t:zV(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function DQ(){return null}function BQ(t,e){var r=typeof t=="function"?t:zV(t),n=e==null?DQ:typeof e=="function"?e:BM(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function zQ(){var t=this.parentNode;t&&t.removeChild(this)}function FQ(){return this.each(zQ)}function jQ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $Q(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function VQ(t){return this.select(t?$Q:jQ)}function UQ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function qQ(t){return function(e){t.call(this,e,this.__data__)}}function GQ(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function HQ(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,o;r<i;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function XQ(t,e,r){return function(){var n=this.__on,i,o=qQ(e);if(n){for(var c=0,a=n.length;c<a;++c)if((i=n[c]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=e;return}}this.addEventListener(t.type,o,r),i={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(i):this.__on=[i]}}function WQ(t,e,r){var n=GQ(t+""),i,o=n.length,c;if(arguments.length<2){var a=this.node().__on;if(a){for(var g=0,v=a.length,x;g<v;++g)for(i=0,x=a[g];i<o;++i)if((c=n[i]).type===x.type&&c.name===x.name)return x.value}return}for(a=e?XQ:HQ,i=0;i<o;++i)this.each(a(n[i],e,r));return this}function WV(t,e,r){var n=UV(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function YQ(t,e){return function(){return WV(this,t,e)}}function KQ(t,e){return function(){return WV(this,t,e.apply(this,arguments))}}function ZQ(t,e){return this.each((typeof e=="function"?KQ:YQ)(t,e))}function*QQ(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length,c;i<o;++i)(c=n[i])&&(yield c)}var JQ=[null];function xp(t,e){this._groups=t,this._parents=e}function Nw(){return new xp([[document.documentElement]],JQ)}function tJ(){return this}xp.prototype=Nw.prototype={constructor:xp,select:TZ,selectAll:IZ,selectChild:MZ,selectChildren:BZ,filter:zZ,data:qZ,enter:FZ,exit:HZ,join:XZ,merge:WZ,selection:tJ,order:YZ,sort:KZ,call:QZ,nodes:JZ,node:tQ,size:eQ,empty:rQ,each:nQ,attr:uQ,style:pQ,property:vQ,classed:wQ,text:CQ,html:RQ,raise:LQ,lower:PQ,append:OQ,insert:BQ,remove:FQ,clone:VQ,datum:UQ,on:WQ,dispatch:ZQ,[Symbol.iterator]:QQ};function FM(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function YV(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Lw(){}var K2=.7,YE=1/K2,C_="\\s*([+-]?\\d+)\\s*",Z2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eJ=/^#([0-9a-f]{3,8})$/,rJ=new RegExp(`^rgb\\(${C_},${C_},${C_}\\)$`),nJ=new RegExp(`^rgb\\(${Cm},${Cm},${Cm}\\)$`),iJ=new RegExp(`^rgba\\(${C_},${C_},${C_},${Z2}\\)$`),aJ=new RegExp(`^rgba\\(${Cm},${Cm},${Cm},${Z2}\\)$`),oJ=new RegExp(`^hsl\\(${Z2},${Cm},${Cm}\\)$`),sJ=new RegExp(`^hsla\\(${Z2},${Cm},${Cm},${Z2}\\)$`),uD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FM(Lw,Q2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hD,formatHex:hD,formatHex8:lJ,formatHsl:cJ,formatRgb:dD,toString:dD});function hD(){return this.rgb().formatHex()}function lJ(){return this.rgb().formatHex8()}function cJ(){return KV(this).formatHsl()}function dD(){return this.rgb().formatRgb()}function Q2(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?fD(e):r===3?new fd(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?o5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?o5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rJ.exec(t))?new fd(e[1],e[2],e[3],1):(e=nJ.exec(t))?new fd(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iJ.exec(t))?o5(e[1],e[2],e[3],e[4]):(e=aJ.exec(t))?o5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oJ.exec(t))?gD(e[1],e[2]/100,e[3]/100,1):(e=sJ.exec(t))?gD(e[1],e[2]/100,e[3]/100,e[4]):uD.hasOwnProperty(t)?fD(uD[t]):t==="transparent"?new fd(NaN,NaN,NaN,0):null}function fD(t){return new fd(t>>16&255,t>>8&255,t&255,1)}function o5(t,e,r,n){return n<=0&&(t=e=r=NaN),new fd(t,e,r,n)}function uJ(t){return t instanceof Lw||(t=Q2(t)),t?(t=t.rgb(),new fd(t.r,t.g,t.b,t.opacity)):new fd}function jN(t,e,r,n){return arguments.length===1?uJ(t):new fd(t,e,r,n??1)}function fd(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}FM(fd,jN,YV(Lw,{brighter(t){return t=t==null?YE:Math.pow(YE,t),new fd(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?K2:Math.pow(K2,t),new fd(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fd(qv(this.r),qv(this.g),qv(this.b),KE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pD,formatHex:pD,formatHex8:hJ,formatRgb:mD,toString:mD}));function pD(){return`#${Dv(this.r)}${Dv(this.g)}${Dv(this.b)}`}function hJ(){return`#${Dv(this.r)}${Dv(this.g)}${Dv(this.b)}${Dv((isNaN(this.opacity)?1:this.opacity)*255)}`}function mD(){const t=KE(this.opacity);return`${t===1?"rgb(":"rgba("}${qv(this.r)}, ${qv(this.g)}, ${qv(this.b)}${t===1?")":`, ${t})`}`}function KE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qv(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dv(t){return t=qv(t),(t<16?"0":"")+t.toString(16)}function gD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pp(t,e,r,n)}function KV(t){if(t instanceof pp)return new pp(t.h,t.s,t.l,t.opacity);if(t instanceof Lw||(t=Q2(t)),!t)return new pp;if(t instanceof pp)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),c=NaN,a=o-i,g=(o+i)/2;return a?(e===o?c=(r-n)/a+(r<n)*6:r===o?c=(n-e)/a+2:c=(e-r)/a+4,a/=g<.5?o+i:2-o-i,c*=60):a=g>0&&g<1?0:c,new pp(c,a,g,t.opacity)}function dJ(t,e,r,n){return arguments.length===1?KV(t):new pp(t,e,r,n??1)}function pp(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}FM(pp,dJ,YV(Lw,{brighter(t){return t=t==null?YE:Math.pow(YE,t),new pp(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?K2:Math.pow(K2,t),new pp(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new fd(bk(t>=240?t-240:t+120,i,n),bk(t,i,n),bk(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pp(yD(this.h),s5(this.s),s5(this.l),KE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=KE(this.opacity);return`${t===1?"hsl(":"hsla("}${yD(this.h)}, ${s5(this.s)*100}%, ${s5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yD(t){return t=(t||0)%360,t<0?t+360:t}function s5(t){return Math.max(0,Math.min(1,t||0))}function bk(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ZV=t=>()=>t;function fJ(t,e){return function(r){return t+r*e}}function pJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function mJ(t){return(t=+t)==1?QV:function(e,r){return r-e?pJ(e,r,t):ZV(isNaN(e)?r:e)}}function QV(t,e){var r=e-t;return r?fJ(t,r):ZV(isNaN(t)?e:t)}const vD=(function t(e){var r=mJ(e);function n(i,o){var c=r((i=jN(i)).r,(o=jN(o)).r),a=r(i.g,o.g),g=r(i.b,o.b),v=QV(i.opacity,o.opacity);return function(x){return i.r=c(x),i.g=a(x),i.b=g(x),i.opacity=v(x),i+""}}return n.gamma=t,n})(1);function uy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var $N=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_k=new RegExp($N.source,"g");function gJ(t){return function(){return t}}function yJ(t){return function(e){return t(e)+""}}function vJ(t,e){var r=$N.lastIndex=_k.lastIndex=0,n,i,o,c=-1,a=[],g=[];for(t=t+"",e=e+"";(n=$N.exec(t))&&(i=_k.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[c]?a[c]+=o:a[++c]=o),(n=n[0])===(i=i[0])?a[c]?a[c]+=i:a[++c]=i:(a[++c]=null,g.push({i:c,x:uy(n,i)})),r=_k.lastIndex;return r<e.length&&(o=e.slice(r),a[c]?a[c]+=o:a[++c]=o),a.length<2?g[0]?yJ(g[0].x):gJ(e):(e=g.length,function(v){for(var x=0,k;x<e;++x)a[(k=g[x]).i]=k.x(v);return a.join("")})}var bD=180/Math.PI,VN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JV(t,e,r,n,i,o){var c,a,g;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(g=t*r+e*n)&&(r-=t*g,n-=e*g),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,g/=a),t*n<e*r&&(t=-t,e=-e,g=-g,c=-c),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*bD,skewX:Math.atan(g)*bD,scaleX:c,scaleY:a}}var l5;function bJ(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?VN:JV(e.a,e.b,e.c,e.d,e.e,e.f)}function _J(t){return t==null||(l5||(l5=document.createElementNS("http://www.w3.org/2000/svg","g")),l5.setAttribute("transform",t),!(t=l5.transform.baseVal.consolidate()))?VN:(t=t.matrix,JV(t.a,t.b,t.c,t.d,t.e,t.f))}function tU(t,e,r,n){function i(v){return v.length?v.pop()+" ":""}function o(v,x,k,I,S,P){if(v!==k||x!==I){var D=S.push("translate(",null,e,null,r);P.push({i:D-4,x:uy(v,k)},{i:D-2,x:uy(x,I)})}else(k||I)&&S.push("translate("+k+e+I+r)}function c(v,x,k,I){v!==x?(v-x>180?x+=360:x-v>180&&(v+=360),I.push({i:k.push(i(k)+"rotate(",null,n)-2,x:uy(v,x)})):x&&k.push(i(k)+"rotate("+x+n)}function a(v,x,k,I){v!==x?I.push({i:k.push(i(k)+"skewX(",null,n)-2,x:uy(v,x)}):x&&k.push(i(k)+"skewX("+x+n)}function g(v,x,k,I,S,P){if(v!==k||x!==I){var D=S.push(i(S)+"scale(",null,",",null,")");P.push({i:D-4,x:uy(v,k)},{i:D-2,x:uy(x,I)})}else(k!==1||I!==1)&&S.push(i(S)+"scale("+k+","+I+")")}return function(v,x){var k=[],I=[];return v=t(v),x=t(x),o(v.translateX,v.translateY,x.translateX,x.translateY,k,I),c(v.rotate,x.rotate,k,I),a(v.skewX,x.skewX,k,I),g(v.scaleX,v.scaleY,x.scaleX,x.scaleY,k,I),v=x=null,function(S){for(var P=-1,D=I.length,U;++P<D;)k[(U=I[P]).i]=U.x(S);return k.join("")}}}var xJ=tU(bJ,"px, ","px)","deg)"),wJ=tU(_J,", ",")",")"),U_=0,l2=0,C1=0,eU=1e3,ZE,c2,QE=0,Qv=0,SC=0,J2=typeof performance=="object"&&performance.now?performance:Date,rU=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function jM(){return Qv||(rU(SJ),Qv=J2.now()+SC)}function SJ(){Qv=0}function JE(){this._call=this._time=this._next=null}JE.prototype=nU.prototype={constructor:JE,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?jM():+r)+(e==null?0:+e),!this._next&&c2!==this&&(c2?c2._next=this:ZE=this,c2=this),this._call=t,this._time=r,UN()},stop:function(){this._call&&(this._call=null,this._time=1/0,UN())}};function nU(t,e,r){var n=new JE;return n.restart(t,e,r),n}function EJ(){jM(),++U_;for(var t=ZE,e;t;)(e=Qv-t._time)>=0&&t._call.call(void 0,e),t=t._next;--U_}function _D(){Qv=(QE=J2.now())+SC,U_=l2=0;try{EJ()}finally{U_=0,CJ(),Qv=0}}function TJ(){var t=J2.now(),e=t-QE;e>eU&&(SC-=e,QE=t)}function CJ(){for(var t,e=ZE,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:ZE=r);c2=t,UN(n)}function UN(t){if(!U_){l2&&(l2=clearTimeout(l2));var e=t-Qv;e>24?(t<1/0&&(l2=setTimeout(_D,t-J2.now()-SC)),C1&&(C1=clearInterval(C1))):(C1||(QE=J2.now(),C1=setInterval(TJ,eU)),U_=1,rU(_D))}}function xD(t,e,r){var n=new JE;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var AJ=BV("start","end","cancel","interrupt"),kJ=[],iU=0,wD=1,qN=2,cE=3,SD=4,GN=5,uE=6;function EC(t,e,r,n,i,o){var c=t.__transition;if(!c)t.__transition={};else if(r in c)return;IJ(t,r,{name:e,index:n,group:i,on:AJ,tween:kJ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:iU})}function $M(t,e){var r=Cp(t,e);if(r.state>iU)throw new Error("too late; already scheduled");return r}function Fm(t,e){var r=Cp(t,e);if(r.state>cE)throw new Error("too late; already running");return r}function Cp(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function IJ(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=nU(o,0,r.time);function o(v){r.state=wD,r.timer.restart(c,r.delay,r.time),r.delay<=v&&c(v-r.delay)}function c(v){var x,k,I,S;if(r.state!==wD)return g();for(x in n)if(S=n[x],S.name===r.name){if(S.state===cE)return xD(c);S.state===SD?(S.state=uE,S.timer.stop(),S.on.call("interrupt",t,t.__data__,S.index,S.group),delete n[x]):+x<e&&(S.state=uE,S.timer.stop(),S.on.call("cancel",t,t.__data__,S.index,S.group),delete n[x])}if(xD(function(){r.state===cE&&(r.state=SD,r.timer.restart(a,r.delay,r.time),a(v))}),r.state=qN,r.on.call("start",t,t.__data__,r.index,r.group),r.state===qN){for(r.state=cE,i=new Array(I=r.tween.length),x=0,k=-1;x<I;++x)(S=r.tween[x].value.call(t,t.__data__,r.index,r.group))&&(i[++k]=S);i.length=k+1}}function a(v){for(var x=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart(g),r.state=GN,1),k=-1,I=i.length;++k<I;)i[k].call(t,x);r.state===GN&&(r.on.call("end",t,t.__data__,r.index,r.group),g())}function g(){r.state=uE,r.timer.stop(),delete n[e];for(var v in n)return;delete t.__transition}}function RJ(t,e){var r=t.__transition,n,i,o=!0,c;if(r){e=e==null?null:e+"";for(c in r){if((n=r[c]).name!==e){o=!1;continue}i=n.state>qN&&n.state<GN,n.state=uE,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[c]}o&&delete t.__transition}}function NJ(t){return this.each(function(){RJ(this,t)})}function LJ(t,e){var r,n;return function(){var i=Fm(this,t),o=i.tween;if(o!==r){n=r=o;for(var c=0,a=n.length;c<a;++c)if(n[c].name===e){n=n.slice(),n.splice(c,1);break}}i.tween=n}}function MJ(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Fm(this,t),c=o.tween;if(c!==n){i=(n=c).slice();for(var a={name:e,value:r},g=0,v=i.length;g<v;++g)if(i[g].name===e){i[g]=a;break}g===v&&i.push(a)}o.tween=i}}function PJ(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Cp(this.node(),r).tween,i=0,o=n.length,c;i<o;++i)if((c=n[i]).name===t)return c.value;return null}return this.each((e==null?LJ:MJ)(r,t,e))}function VM(t,e,r){var n=t._id;return t.each(function(){var i=Fm(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return Cp(i,n).value[e]}}function aU(t,e){var r;return(typeof e=="number"?uy:e instanceof Q2?vD:(r=Q2(e))?(e=r,vD):vJ)(t,e)}function OJ(t){return function(){this.removeAttribute(t)}}function DJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function BJ(t,e,r){var n,i=r+"",o;return function(){var c=this.getAttribute(t);return c===i?null:c===n?o:o=e(n=c,r)}}function zJ(t,e,r){var n,i=r+"",o;return function(){var c=this.getAttributeNS(t.space,t.local);return c===i?null:c===n?o:o=e(n=c,r)}}function FJ(t,e,r){var n,i,o;return function(){var c,a=r(this),g;return a==null?void this.removeAttribute(t):(c=this.getAttribute(t),g=a+"",c===g?null:c===n&&g===i?o:(i=g,o=e(n=c,a)))}}function jJ(t,e,r){var n,i,o;return function(){var c,a=r(this),g;return a==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),g=a+"",c===g?null:c===n&&g===i?o:(i=g,o=e(n=c,a)))}}function $J(t,e){var r=wC(t),n=r==="transform"?wJ:aU;return this.attrTween(t,typeof e=="function"?(r.local?jJ:FJ)(r,n,VM(this,"attr."+t,e)):e==null?(r.local?DJ:OJ)(r):(r.local?zJ:BJ)(r,n,e))}function VJ(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function UJ(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function qJ(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&UJ(t,o)),r}return i._value=e,i}function GJ(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&VJ(t,o)),r}return i._value=e,i}function HJ(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=wC(t);return this.tween(r,(n.local?qJ:GJ)(n,e))}function XJ(t,e){return function(){$M(this,t).delay=+e.apply(this,arguments)}}function WJ(t,e){return e=+e,function(){$M(this,t).delay=e}}function YJ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?XJ:WJ)(e,t)):Cp(this.node(),e).delay}function KJ(t,e){return function(){Fm(this,t).duration=+e.apply(this,arguments)}}function ZJ(t,e){return e=+e,function(){Fm(this,t).duration=e}}function QJ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KJ:ZJ)(e,t)):Cp(this.node(),e).duration}function JJ(t,e){if(typeof e!="function")throw new Error;return function(){Fm(this,t).ease=e}}function ttt(t){var e=this._id;return arguments.length?this.each(JJ(e,t)):Cp(this.node(),e).ease}function ett(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Fm(this,t).ease=r}}function rtt(t){if(typeof t!="function")throw new Error;return this.each(ett(this._id,t))}function ntt(t){typeof t!="function"&&(t=jV(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],c=o.length,a=n[i]=[],g,v=0;v<c;++v)(g=o[v])&&t.call(g,g.__data__,v,o)&&a.push(g);return new _g(n,this._parents,this._name,this._id)}function itt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),c=new Array(n),a=0;a<o;++a)for(var g=e[a],v=r[a],x=g.length,k=c[a]=new Array(x),I,S=0;S<x;++S)(I=g[S]||v[S])&&(k[S]=I);for(;a<n;++a)c[a]=e[a];return new _g(c,this._parents,this._name,this._id)}function att(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function ott(t,e,r){var n,i,o=att(e)?$M:Fm;return function(){var c=o(this,t),a=c.on;a!==n&&(i=(n=a).copy()).on(e,r),c.on=i}}function stt(t,e){var r=this._id;return arguments.length<2?Cp(this.node(),r).on.on(t):this.each(ott(r,t,e))}function ltt(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function ctt(){return this.on("end.remove",ltt(this._id))}function utt(t){var e=this._name,r=this._id;typeof t!="function"&&(t=BM(t));for(var n=this._groups,i=n.length,o=new Array(i),c=0;c<i;++c)for(var a=n[c],g=a.length,v=o[c]=new Array(g),x,k,I=0;I<g;++I)(x=a[I])&&(k=t.call(x,x.__data__,I,a))&&("__data__"in x&&(k.__data__=x.__data__),v[I]=k,EC(v[I],e,r,I,v,Cp(x,r)));return new _g(o,this._parents,e,r)}function htt(t){var e=this._name,r=this._id;typeof t!="function"&&(t=FV(t));for(var n=this._groups,i=n.length,o=[],c=[],a=0;a<i;++a)for(var g=n[a],v=g.length,x,k=0;k<v;++k)if(x=g[k]){for(var I=t.call(x,x.__data__,k,g),S,P=Cp(x,r),D=0,U=I.length;D<U;++D)(S=I[D])&&EC(S,e,r,D,I,P);o.push(I),c.push(x)}return new _g(o,c,e,r)}var dtt=Nw.prototype.constructor;function ftt(){return new dtt(this._groups,this._parents)}function ptt(t,e){var r,n,i;return function(){var o=V_(this,t),c=(this.style.removeProperty(t),V_(this,t));return o===c?null:o===r&&c===n?i:i=e(r=o,n=c)}}function oU(t){return function(){this.style.removeProperty(t)}}function mtt(t,e,r){var n,i=r+"",o;return function(){var c=V_(this,t);return c===i?null:c===n?o:o=e(n=c,r)}}function gtt(t,e,r){var n,i,o;return function(){var c=V_(this,t),a=r(this),g=a+"";return a==null&&(g=a=(this.style.removeProperty(t),V_(this,t))),c===g?null:c===n&&g===i?o:(i=g,o=e(n=c,a))}}function ytt(t,e){var r,n,i,o="style."+e,c="end."+o,a;return function(){var g=Fm(this,t),v=g.on,x=g.value[o]==null?a||(a=oU(e)):void 0;(v!==r||i!==x)&&(n=(r=v).copy()).on(c,i=x),g.on=n}}function vtt(t,e,r){var n=(t+="")=="transform"?xJ:aU;return e==null?this.styleTween(t,ptt(t,n)).on("end.style."+t,oU(t)):typeof e=="function"?this.styleTween(t,gtt(t,n,VM(this,"style."+t,e))).each(ytt(this._id,t)):this.styleTween(t,mtt(t,n,e),r).on("end.style."+t,null)}function btt(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function _tt(t,e,r){var n,i;function o(){var c=e.apply(this,arguments);return c!==i&&(n=(i=c)&&btt(t,c,r)),n}return o._value=e,o}function xtt(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,_tt(t,e,r??""))}function wtt(t){return function(){this.textContent=t}}function Stt(t){return function(){var e=t(this);this.textContent=e??""}}function Ett(t){return this.tween("text",typeof t=="function"?Stt(VM(this,"text",t)):wtt(t==null?"":t+""))}function Ttt(t){return function(e){this.textContent=t.call(this,e)}}function Ctt(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&Ttt(i)),e}return n._value=t,n}function Att(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ctt(t))}function ktt(){for(var t=this._name,e=this._id,r=sU(),n=this._groups,i=n.length,o=0;o<i;++o)for(var c=n[o],a=c.length,g,v=0;v<a;++v)if(g=c[v]){var x=Cp(g,e);EC(g,t,r,v,c,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new _g(n,this._parents,t,r)}function Itt(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,c){var a={value:c},g={value:function(){--i===0&&o()}};r.each(function(){var v=Fm(this,n),x=v.on;x!==t&&(e=(t=x).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(g)),v.on=e}),i===0&&o()})}var Rtt=0;function _g(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function sU(){return++Rtt}var rg=Nw.prototype;_g.prototype={constructor:_g,select:utt,selectAll:htt,selectChild:rg.selectChild,selectChildren:rg.selectChildren,filter:ntt,merge:itt,selection:ftt,transition:ktt,call:rg.call,nodes:rg.nodes,node:rg.node,size:rg.size,empty:rg.empty,each:rg.each,on:stt,attr:$J,attrTween:HJ,style:vtt,styleTween:xtt,text:Ett,textTween:Att,remove:ctt,tween:PJ,delay:YJ,duration:QJ,ease:ttt,easeVarying:rtt,end:Itt,[Symbol.iterator]:rg[Symbol.iterator]};function Ntt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ltt={time:null,delay:0,duration:250,ease:Ntt};function Mtt(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Ptt(t){var e,r;t instanceof _g?(e=t._id,t=t._name):(e=sU(),(r=Ltt).time=jM(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var c=n[o],a=c.length,g,v=0;v<a;++v)(g=c[v])&&EC(g,t,e,v,c,r||Mtt(g,e));return new _g(n,this._parents,t,e)}Nw.prototype.interrupt=NJ;Nw.prototype.transition=Ptt;function u2(t,e,r){this.k=t,this.x=e,this.y=r}u2.prototype={constructor:u2,scale:function(t){return t===1?this:new u2(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new u2(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};u2.prototype;var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var HN={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.6.0/LICENSE.txt
 */var Ott=HN.exports,ED;function Dtt(){return ED||(ED=1,(function(t,e){(function(r,n){t.exports=n()})(Ott,(function(){var r={},n={};function i(c,a,g){if(n[c]=g,c==="index"){var v="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",x={};return n.shared(x),n.index(r,x),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([v],{type:"text/javascript"}))),r}}i("shared",["exports"],(function(c){function a(f,l,h,b){return new(h||(h=Promise))((function(T,M){function O(ot){try{J(b.next(ot))}catch(ft){M(ft)}}function q(ot){try{J(b.throw(ot))}catch(ft){M(ft)}}function J(ot){var ft;ot.done?T(ot.value):(ft=ot.value,ft instanceof h?ft:new h((function(Et){Et(ft)}))).then(O,q)}J((b=b.apply(f,l||[])).next())}))}function g(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var v,x;function k(){if(x)return v;function f(l,h){this.x=l,this.y=h}return x=1,v=f,f.prototype={clone:function(){return new f(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,h){return this.clone()._rotateAround(l,h)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var h=l.x-this.x,b=l.y-this.y;return h*h+b*b},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,h){return Math.atan2(this.x*h-this.y*l,this.x*l+this.y*h)},_matMult:function(l){var h=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=h,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var h=Math.cos(l),b=Math.sin(l),T=b*this.x+h*this.y;return this.x=h*this.x-b*this.y,this.y=T,this},_rotateAround:function(l,h){var b=Math.cos(l),T=Math.sin(l),M=h.y+T*(this.x-h.x)+b*(this.y-h.y);return this.x=h.x+b*(this.x-h.x)-T*(this.y-h.y),this.y=M,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},f.convert=function(l){return l instanceof f?l:Array.isArray(l)?new f(l[0],l[1]):l},v}typeof SuppressedError=="function"&&SuppressedError;var I,S,P=g(k()),D=(function(){if(S)return I;function f(l,h,b,T){this.cx=3*l,this.bx=3*(b-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(T-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=b,this.p2y=T}return S=1,I=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var b=l,T=0;T<8;T++){var M=this.sampleCurveX(b)-l;if(Math.abs(M)<h)return b;var O=this.sampleCurveDerivativeX(b);if(Math.abs(O)<1e-6)break;b-=M/O}var q=0,J=1;for(b=l,T=0;T<20&&(M=this.sampleCurveX(b),!(Math.abs(M-l)<h));T++)l>M?q=b:J=b,b=.5*(J-q)+q;return b},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},I})(),U=g(D);let H,G;function z(){return H==null&&(H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),H}function j(){if(G==null&&(G=!1,z())){const f=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(f){for(let h=0;h<25;h++){const b=4*h;f.fillStyle=`rgb(${b},${b+1},${b+2})`,f.fillRect(h%5,Math.floor(h/5),1,1)}const l=f.getImageData(0,0,5,5).data;for(let h=0;h<100;h++)if(h%4!=3&&l[h]!==h){G=!0;break}}}return G||!1}var X=1e-6,Y=typeof Float32Array<"u"?Float32Array:Array;function et(){var f=new Y(9);return Y!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function st(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function it(){var f=new Y(3);return Y!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function vt(f){return Math.hypot(f[0],f[1],f[2])}function at(f,l,h){var b=new Y(3);return b[0]=f,b[1]=l,b[2]=h,b}function V(f,l,h){return f[0]=l[0]+h[0],f[1]=l[1]+h[1],f[2]=l[2]+h[2],f}function dt(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f}function mt(f,l,h){var b=l[0],T=l[1],M=l[2],O=h[0],q=h[1],J=h[2];return f[0]=T*J-M*q,f[1]=M*O-b*J,f[2]=b*q-T*O,f}Math.hypot||(Math.hypot=function(){for(var f=0,l=arguments.length;l--;)f+=arguments[l]*arguments[l];return Math.sqrt(f)});var wt,pt=vt;function At(f,l,h){var b=l[0],T=l[1],M=l[2],O=l[3];return f[0]=h[0]*b+h[4]*T+h[8]*M+h[12]*O,f[1]=h[1]*b+h[5]*T+h[9]*M+h[13]*O,f[2]=h[2]*b+h[6]*T+h[10]*M+h[14]*O,f[3]=h[3]*b+h[7]*T+h[11]*M+h[15]*O,f}function St(){var f=new Y(4);return Y!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f[3]=1,f}function Lt(f,l,h,b){var T=.5*Math.PI/180;l*=T,h*=T,b*=T;var M=Math.sin(l),O=Math.cos(l),q=Math.sin(h),J=Math.cos(h),ot=Math.sin(b),ft=Math.cos(b);return f[0]=M*J*ft-O*q*ot,f[1]=O*q*ft+M*J*ot,f[2]=O*J*ot-M*q*ft,f[3]=O*J*ft+M*q*ot,f}function jt(){var f=new Y(2);return Y!=Float32Array&&(f[0]=0,f[1]=0),f}function _t(f,l){var h=new Y(2);return h[0]=f,h[1]=l,h}it(),wt=new Y(4),Y!=Float32Array&&(wt[0]=0,wt[1]=0,wt[2]=0,wt[3]=0),it(),at(1,0,0),at(0,1,0),St(),St(),et(),jt();const lt=8192;function Tt(f,l,h){return l*(lt/(f.tileSize*Math.pow(2,h-f.tileID.overscaledZ)))}function kt(f,l){return(f%l+l)%l}function Rt(f,l,h){return f*(1-h)+l*h}function Ut(f){if(f<=0)return 0;if(f>=1)return 1;const l=f*f,h=l*f;return 4*(f<.5?h:3*(f-l)+h-.75)}function ie(f,l,h,b){const T=new U(f,l,h,b);return M=>T.solve(M)}const Ht=ie(.25,.1,.25,1);function ce(f,l,h){return Math.min(h,Math.max(l,f))}function de(f,l,h){const b=h-l,T=((f-l)%b+b)%b+l;return T===l?h:T}function Se(f,...l){for(const h of l)for(const b in h)f[b]=h[b];return f}let Vt=1;function He(f,l,h){const b={};for(const T in f)b[T]=l.call(this,f[T],T,f);return b}function ke(f,l,h){const b={};for(const T in f)l.call(this,f[T],T,f)&&(b[T]=f[T]);return b}function Jt(f){return Array.isArray(f)?f.map(Jt):typeof f=="object"&&f?He(f,Jt):f}const $r={};function vr(f){$r[f]||(typeof console<"u"&&console.warn(f),$r[f]=!0)}function Dr(f,l,h){return(h.y-f.y)*(l.x-f.x)>(l.y-f.y)*(h.x-f.x)}function Ie(f){return typeof WorkerGlobalScope<"u"&&f!==void 0&&f instanceof WorkerGlobalScope}let Mr=null;function ir(f){return typeof ImageBitmap<"u"&&f instanceof ImageBitmap}const Rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Pr(f,l,h,b,T){return a(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const M=new VideoFrame(f,{timestamp:0});try{const O=M?.format;if(!O||!O.startsWith("BGR")&&!O.startsWith("RGB"))throw new Error(`Unrecognized format ${O}`);const q=O.startsWith("BGR"),J=new Uint8ClampedArray(b*T*4);if(yield M.copyTo(J,(function(ot,ft,Et,$t,Gt){const Wt=4*Math.max(1,0),te=(Math.max(0,Et)-Et)*$t*4+Wt,he=4*$t,Ee=Math.max(0,ft),Je=Math.max(0,Et);return{rect:{x:Ee,y:Je,width:Math.min(ot.width,ft+$t)-Ee,height:Math.min(ot.height,Et+Gt)-Je},layout:[{offset:te,stride:he}]}})(f,l,h,b,T)),q)for(let ot=0;ot<J.length;ot+=4){const ft=J[ot];J[ot]=J[ot+2],J[ot+2]=ft}return J}finally{M.close()}}))}let Ir,dr;function ar(f,l,h,b){return f.addEventListener(l,h,b),{unsubscribe:()=>{f.removeEventListener(l,h,b)}}}function Or(f){return f*Math.PI/180}function er(f){return f/Math.PI*180}const Fr={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Ze={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},rr="AbortError";function Me(){return new Error(rr)}const Ft={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Mt(f){return Ft.REGISTERED_PROTOCOLS[f.substring(0,f.indexOf("://"))]}const Bt="global-dispatcher";class oe extends Error{constructor(l,h,b,T){super(`AJAXError: ${h} (${l}): ${b}`),this.status=l,this.statusText=h,this.url=b,this.body=T}}const ye=()=>Ie(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,je=function(f,l){if(/:\/\//.test(f.url)&&!/^https?:|^file:/.test(f.url)){const b=Mt(f.url);if(b)return b(f,l);if(Ie(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,targetMapId:Bt},l)}if(!(/^file:/.test(h=f.url)||/^file:/.test(ye())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(b,T){return a(this,void 0,void 0,(function*(){const M=new Request(b.url,{method:b.method||"GET",body:b.body,credentials:b.credentials,headers:b.headers,cache:b.cache,referrer:ye(),signal:T.signal});let O,q;b.type!=="json"||M.headers.has("Accept")||M.headers.set("Accept","application/json");try{O=yield fetch(M)}catch(ot){throw new oe(0,ot.message,b.url,new Blob)}if(!O.ok){const ot=yield O.blob();throw new oe(O.status,O.statusText,b.url,ot)}q=b.type==="arrayBuffer"||b.type==="image"?O.arrayBuffer():b.type==="json"?O.json():O.text();const J=yield q;if(T.signal.aborted)throw Me();return{data:J,cacheControl:O.headers.get("Cache-Control"),expires:O.headers.get("Expires")}}))})(f,l);if(Ie(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,mustQueue:!0,targetMapId:Bt},l)}var h;return(function(b,T){return new Promise(((M,O)=>{var q;const J=new XMLHttpRequest;J.open(b.method||"GET",b.url,!0),b.type!=="arrayBuffer"&&b.type!=="image"||(J.responseType="arraybuffer");for(const ot in b.headers)J.setRequestHeader(ot,b.headers[ot]);b.type==="json"&&(J.responseType="text",!((q=b.headers)===null||q===void 0)&&q.Accept||J.setRequestHeader("Accept","application/json")),J.withCredentials=b.credentials==="include",J.onerror=()=>{O(new Error(J.statusText))},J.onload=()=>{if(!T.signal.aborted)if((J.status>=200&&J.status<300||J.status===0)&&J.response!==null){let ot=J.response;if(b.type==="json")try{ot=JSON.parse(J.response)}catch(ft){return void O(ft)}M({data:ot,cacheControl:J.getResponseHeader("Cache-Control"),expires:J.getResponseHeader("Expires")})}else{const ot=new Blob([J.response],{type:J.getResponseHeader("Content-Type")});O(new oe(J.status,J.statusText,b.url,ot))}},T.signal.addEventListener("abort",(()=>{J.abort(),O(Me())})),J.send(b.body)}))})(f,l)};function Ge(f){if(!f||f.indexOf("://")<=0||f.indexOf("data:image/")===0||f.indexOf("blob:")===0)return!0;const l=new URL(f),h=window.location;return l.protocol===h.protocol&&l.host===h.host}function Ue(f,l,h){h[f]&&h[f].indexOf(l)!==-1||(h[f]=h[f]||[],h[f].push(l))}function fr(f,l,h){if(h&&h[f]){const b=h[f].indexOf(l);b!==-1&&h[f].splice(b,1)}}class Ke{constructor(l,h={}){Se(this,h),this.type=l}}class Pe extends Ke{constructor(l,h={}){super("error",Se({error:l},h))}}class ur{on(l,h){return this._listeners=this._listeners||{},Ue(l,h,this._listeners),{unsubscribe:()=>{this.off(l,h)}}}off(l,h){return fr(l,h,this._listeners),fr(l,h,this._oneTimeListeners),this}once(l,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},Ue(l,h,this._oneTimeListeners),this):new Promise((b=>this.once(l,b)))}fire(l,h){typeof l=="string"&&(l=new Ke(l,h||{}));const b=l.type;if(this.listens(b)){l.target=this;const T=this._listeners&&this._listeners[b]?this._listeners[b].slice():[];for(const q of T)q.call(this,l);const M=this._oneTimeListeners&&this._oneTimeListeners[b]?this._oneTimeListeners[b].slice():[];for(const q of M)fr(b,q,this._oneTimeListeners),q.call(this,l);const O=this._eventedParent;O&&(Se(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),O.fire(l))}else l instanceof Pe&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,h){return this._eventedParent=l,this._eventedParentData=h,this}}var Oe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Wr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function or(f,l){const h={};for(const b in f)b!=="ref"&&(h[b]=f[b]);return Wr.forEach((b=>{b in l&&(h[b]=l[b])})),h}function bn(f,l){if(Array.isArray(f)){if(!Array.isArray(l)||f.length!==l.length)return!1;for(let h=0;h<f.length;h++)if(!bn(f[h],l[h]))return!1;return!0}if(typeof f=="object"&&f!==null&&l!==null){if(typeof l!="object"||Object.keys(f).length!==Object.keys(l).length)return!1;for(const h in f)if(!bn(f[h],l[h]))return!1;return!0}return f===l}function Kr(f,l){f.push(l)}function Zn(f,l,h){Kr(h,{command:"addSource",args:[f,l[f]]})}function Pt(f,l,h){Kr(l,{command:"removeSource",args:[f]}),h[f]=!0}function Xt(f,l,h,b){Pt(f,h,b),Zn(f,l,h)}function be(f,l,h){let b;for(b in f[h])if(Object.prototype.hasOwnProperty.call(f[h],b)&&b!=="data"&&!bn(f[h][b],l[h][b]))return!1;for(b in l[h])if(Object.prototype.hasOwnProperty.call(l[h],b)&&b!=="data"&&!bn(f[h][b],l[h][b]))return!1;return!0}function ze(f,l,h,b,T,M){f=f||{},l=l||{};for(const O in f)Object.prototype.hasOwnProperty.call(f,O)&&(bn(f[O],l[O])||h.push({command:M,args:[b,O,l[O],T]}));for(const O in l)Object.prototype.hasOwnProperty.call(l,O)&&!Object.prototype.hasOwnProperty.call(f,O)&&(bn(f[O],l[O])||h.push({command:M,args:[b,O,l[O],T]}))}function Lr(f){return f.id}function vn(f,l){return f[l.id]=l,f}class Vr{constructor(l,h,b,T){this.message=(l?`${l}: `:"")+b,T&&(this.identifier=T),h!=null&&h.__line__&&(this.line=h.__line__)}}function fi(f,...l){for(const h of l)for(const b in h)f[b]=h[b];return f}class On extends Error{constructor(l,h){super(h),this.message=h,this.key=l}}class li{constructor(l,h=[]){this.parent=l,this.bindings={};for(const[b,T]of h)this.bindings[b]=T}concat(l){return new li(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Ji={kind:"null"},en={kind:"number"},Rn={kind:"string"},Wn={kind:"boolean"},Ra={kind:"color"},xo={kind:"projectionDefinition"},Na={kind:"object"},Mn={kind:"value"},io={kind:"collator"},rl={kind:"formatted"},oa={kind:"padding"},ha={kind:"colorArray"},uc={kind:"numberArray"},Vi={kind:"resolvedImage"},nl={kind:"variableAnchorOffsetCollection"};function Xo(f,l){return{kind:"array",itemType:f,N:l}}function Pi(f){if(f.kind==="array"){const l=Pi(f.itemType);return typeof f.N=="number"?`array<${l}, ${f.N}>`:f.itemType.kind==="value"?"array":`array<${l}>`}return f.kind}const xs=[Ji,en,Rn,Wn,Ra,xo,rl,Na,Xo(Mn),oa,uc,ha,Vi,nl];function Fl(f,l){if(l.kind==="error")return null;if(f.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Fl(f.itemType,l.itemType))&&(typeof f.N!="number"||f.N===l.N))return null}else{if(f.kind===l.kind)return null;if(f.kind==="value"){for(const h of xs)if(!Fl(h,l))return null}}return`Expected ${Pi(f)} but found ${Pi(l)} instead.`}function Ks(f,l){return l.some((h=>h.kind===f.kind))}function Do(f,l){return l.some((h=>h==="null"?f===null:h==="array"?Array.isArray(f):h==="object"?f&&!Array.isArray(f)&&typeof f=="object":h===typeof f))}function jl(f,l){return f.kind==="array"&&l.kind==="array"?f.itemType.kind===l.itemType.kind&&typeof f.N=="number":f.kind===l.kind}const Ha=.96422,fl=.82521,Gu=4/29,pl=6/29,El=3*pl*pl,Wo=pl*pl*pl,Yo=Math.PI/180,Ko=180/Math.PI;function Zo(f){return(f%=360)<0&&(f+=360),f}function iu([f,l,h,b]){let T,M;const O=Q((.2225045*(f=yu(f))+.7168786*(l=yu(l))+.0606169*(h=yu(h)))/1);f===l&&l===h?T=M=O:(T=Q((.4360747*f+.3850649*l+.1430804*h)/Ha),M=Q((.0139322*f+.0971045*l+.7141733*h)/fl));const q=116*O-16;return[q<0?0:q,500*(T-O),200*(O-M),b]}function yu(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Q(f){return f>Wo?Math.pow(f,1/3):f/El+Gu}function gt([f,l,h,b]){let T=(f+16)/116,M=isNaN(l)?T:T+l/500,O=isNaN(h)?T:T-h/200;return T=1*Re(T),M=Ha*Re(M),O=fl*Re(O),[ee(3.1338561*M-1.6168667*T-.4906146*O),ee(-.9787684*M+1.9161415*T+.033454*O),ee(.0719453*M-.2289914*T+1.4052427*O),b]}function ee(f){return(f=f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055)<0?0:f>1?1:f}function Re(f){return f>pl?f*f*f:El*(f-Gu)}const qe=Object.hasOwn||function(f,l){return Object.prototype.hasOwnProperty.call(f,l)};function Fe(f,l){return qe(f,l)?f[l]:void 0}function nr(f){return parseInt(f.padEnd(2,f),16)/255}function rn(f,l){return mn(l?f/100:f,0,1)}function mn(f,l,h){return Math.min(Math.max(l,f),h)}function un(f){return!f.some(Number.isNaN)}const En={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function fn(f,l,h){return f+h*(l-f)}function Yn(f,l,h){return f.map(((b,T)=>fn(b,l[T],h)))}class Nn{constructor(l,h,b,T=1,M=!0){this.r=l,this.g=h,this.b=b,this.a=T,M||(this.r*=T,this.g*=T,this.b*=T,T||this.overwriteGetter("rgb",[l,h,b,T]))}static parse(l){if(l instanceof Nn)return l;if(typeof l!="string")return;const h=(function(b){if((b=b.toLowerCase().trim())==="transparent")return[0,0,0,0];const T=Fe(En,b);if(T){const[O,q,J]=T;return[O/255,q/255,J/255,1]}if(b.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(b)){const O=b.length<6?1:2;let q=1;return[nr(b.slice(q,q+=O)),nr(b.slice(q,q+=O)),nr(b.slice(q,q+=O)),nr(b.slice(q,q+O)||"ff")]}if(b.startsWith("rgb")){const O=b.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(O){const[q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee,Je]=O,De=[ft||" ",Gt||" ",he].join("");if(De==="  "||De==="  /"||De===",,"||De===",,,"){const qt=[ot,$t,te].join(""),le=qt==="%%%"?100:qt===""?255:0;if(le){const $e=[mn(+J/le,0,1),mn(+Et/le,0,1),mn(+Wt/le,0,1),Ee?rn(+Ee,Je):1];if(un($e))return $e}}return}}const M=b.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(M){const[O,q,J,ot,ft,Et,$t,Gt,Wt]=M,te=[J||" ",ft||" ",$t].join("");if(te==="  "||te==="  /"||te===",,"||te===",,,"){const he=[+q,mn(+ot,0,100),mn(+Et,0,100),Gt?rn(+Gt,Wt):1];if(un(he))return(function([Ee,Je,De,qt]){function le($e){const Tr=($e+Ee/30)%12,dn=Je*Math.min(De,1-De);return De-dn*Math.max(-1,Math.min(Tr-3,9-Tr,1))}return Ee=Zo(Ee),Je/=100,De/=100,[le(0),le(8),le(4),qt]})(he)}}})(l);return h?new Nn(...h,!1):void 0}get rgb(){const{r:l,g:h,b,a:T}=this,M=T||1/0;return this.overwriteGetter("rgb",[l/M,h/M,b/M,T])}get hcl(){return this.overwriteGetter("hcl",(function(l){const[h,b,T,M]=iu(l),O=Math.sqrt(b*b+T*T);return[Math.round(1e4*O)?Zo(Math.atan2(T,b)*Ko):NaN,O,h,M]})(this.rgb))}get lab(){return this.overwriteGetter("lab",iu(this.rgb))}overwriteGetter(l,h){return Object.defineProperty(this,l,{value:h}),h}toString(){const[l,h,b,T]=this.rgb;return`rgba(${[l,h,b].map((M=>Math.round(255*M))).join(",")},${T})`}static interpolate(l,h,b,T="rgb"){switch(T){case"rgb":{const[M,O,q,J]=Yn(l.rgb,h.rgb,b);return new Nn(M,O,q,J,!1)}case"hcl":{const[M,O,q,J]=l.hcl,[ot,ft,Et,$t]=h.hcl;let Gt,Wt;if(isNaN(M)||isNaN(ot))isNaN(M)?isNaN(ot)?Gt=NaN:(Gt=ot,q!==1&&q!==0||(Wt=ft)):(Gt=M,Et!==1&&Et!==0||(Wt=O));else{let De=ot-M;ot>M&&De>180?De-=360:ot<M&&M-ot>180&&(De+=360),Gt=M+b*De}const[te,he,Ee,Je]=(function([De,qt,le,$e]){return De=isNaN(De)?0:De*Yo,gt([le,Math.cos(De)*qt,Math.sin(De)*qt,$e])})([Gt,Wt??fn(O,ft,b),fn(q,Et,b),fn(J,$t,b)]);return new Nn(te,he,Ee,Je,!1)}case"lab":{const[M,O,q,J]=gt(Yn(l.lab,h.lab,b));return new Nn(M,O,q,J,!1)}}}}Nn.black=new Nn(0,0,0,1),Nn.white=new Nn(1,1,1,1),Nn.transparent=new Nn(0,0,0,0),Nn.red=new Nn(1,0,0,1);class ti{constructor(l,h,b){this.sensitivity=l?h?"variant":"case":h?"accent":"base",this.locale=b,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,h){return this.collator.compare(l,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const jn=["bottom","center","top"];class Zr{constructor(l,h,b,T,M,O){this.text=l,this.image=h,this.scale=b,this.fontStack=T,this.textColor=M,this.verticalAlign=O}}class Ln{constructor(l){this.sections=l}static fromString(l){return new Ln([new Zr(l,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((l=>l.text.length!==0||l.image&&l.image.name.length!==0))}static factory(l){return l instanceof Ln?l:Ln.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map((l=>l.text)).join("")}}class yi{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof yi)return l;if(typeof l=="number")return new yi([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const h of l)if(typeof h!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new yi(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b){return new yi(Yn(l.values,h.values,b))}}class sa{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof sa)return l;if(typeof l=="number")return new sa([l]);if(Array.isArray(l)){for(const h of l)if(typeof h!="number")return;return new sa(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b){return new sa(Yn(l.values,h.values,b))}}class Ii{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ii)return l;if(typeof l=="string"){const b=Nn.parse(l);return b?new Ii([b]):void 0}if(!Array.isArray(l))return;const h=[];for(const b of l){if(typeof b!="string")return;const T=Nn.parse(b);if(!T)return;h.push(T)}return new Ii(h)}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b,T="rgb"){const M=[];if(l.values.length!=h.values.length)throw new Error(`colorArray: Arrays have mismatched length (${l.values.length} vs. ${h.values.length}), cannot interpolate.`);for(let O=0;O<l.values.length;O++)M.push(Nn.interpolate(l.values[O],h.values[O],b,T));return new Ii(M)}}class zi extends Error{constructor(l){super(l),this.name="RuntimeError"}toJSON(){return this.message}}const da=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Bn{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Bn)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let h=0;h<l.length;h+=2){const b=l[h],T=l[h+1];if(typeof b!="string"||!da.has(b)||!Array.isArray(T)||T.length!==2||typeof T[0]!="number"||typeof T[1]!="number")return}return new Bn(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b){const T=l.values,M=h.values;if(T.length!==M.length)throw new zi(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${h.toString()}`);const O=[];for(let q=0;q<T.length;q+=2){if(T[q]!==M[q])throw new zi(`Cannot interpolate values containing mismatched anchors. from[${q}]: ${T[q]}, to[${q}]: ${M[q]}`);O.push(T[q]);const[J,ot]=T[q+1],[ft,Et]=M[q+1];O.push([fn(J,ft,b),fn(ot,Et,b)])}return new Bn(O)}}class Xa{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Xa({name:l,available:!1}):null}}class pi{constructor(l,h,b){this.from=l,this.to=h,this.transition=b}static interpolate(l,h,b){return new pi(l,h,b)}static parse(l){return l instanceof pi?l:Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"?new pi(l[0],l[1],l[2]):typeof l=="object"&&typeof l.from=="string"&&typeof l.to=="string"&&typeof l.transition=="number"?new pi(l.from,l.to,l.transition):typeof l=="string"?new pi(l,l,1):void 0}}function ei(f,l,h,b){return typeof f=="number"&&f>=0&&f<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof h=="number"&&h>=0&&h<=255?b===void 0||typeof b=="number"&&b>=0&&b<=1?null:`Invalid rgba value [${[f,l,h,b].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof b=="number"?[f,l,h,b]:[f,l,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Tl(f){if(f===null||typeof f=="string"||typeof f=="boolean"||typeof f=="number"||f instanceof pi||f instanceof Nn||f instanceof ti||f instanceof Ln||f instanceof yi||f instanceof sa||f instanceof Ii||f instanceof Bn||f instanceof Xa)return!0;if(Array.isArray(f)){for(const l of f)if(!Tl(l))return!1;return!0}if(typeof f=="object"){for(const l in f)if(!Tl(f[l]))return!1;return!0}return!1}function zn(f){if(f===null)return Ji;if(typeof f=="string")return Rn;if(typeof f=="boolean")return Wn;if(typeof f=="number")return en;if(f instanceof Nn)return Ra;if(f instanceof pi)return xo;if(f instanceof ti)return io;if(f instanceof Ln)return rl;if(f instanceof yi)return oa;if(f instanceof sa)return uc;if(f instanceof Ii)return ha;if(f instanceof Bn)return nl;if(f instanceof Xa)return Vi;if(Array.isArray(f)){const l=f.length;let h;for(const b of f){const T=zn(b);if(h){if(h===T)continue;h=Mn;break}h=T}return Xo(h||Mn,l)}return Na}function $l(f){const l=typeof f;return f===null?"":l==="string"||l==="number"||l==="boolean"?String(f):f instanceof Nn||f instanceof pi||f instanceof Ln||f instanceof yi||f instanceof sa||f instanceof Ii||f instanceof Bn||f instanceof Xa?f.toString():JSON.stringify(f)}class No{constructor(l,h){this.type=l,this.value=h}static parse(l,h){if(l.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Tl(l[1]))return h.error("invalid value");const b=l[1];let T=zn(b);const M=h.expectedType;return T.kind!=="array"||T.N!==0||!M||M.kind!=="array"||typeof M.N=="number"&&M.N!==0||(T=M),new No(T,b)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const wo={string:Rn,number:en,boolean:Wn,object:Na};class po{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let b,T=1;const M=l[0];if(M==="array"){let q,J;if(l.length>2){const ot=l[1];if(typeof ot!="string"||!(ot in wo)||ot==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);q=wo[ot],T++}else q=Mn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return h.error('The length argument to "array" must be a positive integer literal',2);J=l[2],T++}b=Xo(q,J)}else{if(!wo[M])throw new Error(`Types doesn't contain name = ${M}`);b=wo[M]}const O=[];for(;T<l.length;T++){const q=h.parse(l[T],T,Mn);if(!q)return null;O.push(q)}return new po(b,O)}evaluate(l){for(let h=0;h<this.args.length;h++){const b=this.args[h].evaluate(l);if(!Fl(this.type,zn(b)))return b;if(h===this.args.length-1)throw new zi(`Expected value to be of type ${Pi(this.type)}, but found ${Pi(zn(b))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const _c={"to-boolean":Wn,"to-color":Ra,"to-number":en,"to-string":Rn};class Ms{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const b=l[0];if(!_c[b])throw new Error(`Can't parse ${b} as it is not part of the known types`);if((b==="to-boolean"||b==="to-string")&&l.length!==2)return h.error("Expected one argument.");const T=_c[b],M=[];for(let O=1;O<l.length;O++){const q=h.parse(l[O],O,Mn);if(!q)return null;M.push(q)}return new Ms(T,M)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let h,b;for(const T of this.args){if(h=T.evaluate(l),b=null,h instanceof Nn)return h;if(typeof h=="string"){const M=l.parseColor(h);if(M)return M}else if(Array.isArray(h)&&(b=h.length<3||h.length>4?`Invalid rgba value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:ei(h[0],h[1],h[2],h[3]),!b))return new Nn(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new zi(b||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const b of this.args){h=b.evaluate(l);const T=yi.parse(h);if(T)return T}throw new zi(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"numberArray":{let h;for(const b of this.args){h=b.evaluate(l);const T=sa.parse(h);if(T)return T}throw new zi(`Could not parse numberArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"colorArray":{let h;for(const b of this.args){h=b.evaluate(l);const T=Ii.parse(h);if(T)return T}throw new zi(`Could not parse colorArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const b of this.args){h=b.evaluate(l);const T=Bn.parse(h);if(T)return T}throw new zi(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const b of this.args){if(h=b.evaluate(l),h===null)return 0;const T=Number(h);if(!isNaN(T))return T}throw new zi(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return Ln.fromString($l(this.args[0].evaluate(l)));case"resolvedImage":return Xa.fromString($l(this.args[0].evaluate(l)));case"projectionDefinition":return this.args[0].evaluate(l);default:return $l(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const Cl=["Unknown","Point","LineString","Polygon"];class xc{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Cl[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let h=this._parseColorCache.get(l);return h||(h=Nn.parse(l),this._parseColorCache.set(l,h)),h}}class Vl{constructor(l,h,b=[],T,M=new li,O=[]){this.registry=l,this.path=b,this.key=b.map((q=>`[${q}]`)).join(""),this.scope=M,this.errors=O,this.expectedType=T,this._isConstant=h}parse(l,h,b,T,M={}){return h?this.concat(h,b,T)._parse(l,M):this._parse(l,M)}_parse(l,h){function b(T,M,O){return O==="assert"?new po(M,[T]):O==="coerce"?new Ms(M,[T]):T}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const T=l[0];if(typeof T!="string")return this.error(`Expression name must be a string, but found ${typeof T} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const M=this.registry[T];if(M){let O=M.parse(l,this);if(!O)return null;if(this.expectedType){const q=this.expectedType,J=O.type;if(q.kind!=="string"&&q.kind!=="number"&&q.kind!=="boolean"&&q.kind!=="object"&&q.kind!=="array"||J.kind!=="value"){if(q.kind==="projectionDefinition"&&["string","array"].includes(J.kind)||["color","formatted","resolvedImage"].includes(q.kind)&&["value","string"].includes(J.kind)||["padding","numberArray"].includes(q.kind)&&["value","number","array"].includes(J.kind)||q.kind==="colorArray"&&["value","string","array"].includes(J.kind)||q.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(J.kind))O=b(O,q,h.typeAnnotation||"coerce");else if(this.checkSubtype(q,J))return null}else O=b(O,q,h.typeAnnotation||"assert")}if(!(O instanceof No)&&O.type.kind!=="resolvedImage"&&this._isConstant(O)){const q=new xc;try{O=new No(O.type,O.evaluate(q))}catch(J){return this.error(J.message),null}}return O}return this.error(`Unknown expression "${T}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,h,b){const T=typeof l=="number"?this.path.concat(l):this.path,M=b?this.scope.concat(b):this.scope;return new Vl(this.registry,this._isConstant,T,h||null,M,this.errors)}error(l,...h){const b=`${this.key}${h.map((T=>`[${T}]`)).join("")}`;this.errors.push(new On(b,l))}checkSubtype(l,h){const b=Fl(l,h);return b&&this.error(b),b}}class So{constructor(l,h){this.type=h.type,this.bindings=[].concat(l),this.result=h}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const h of this.bindings)l(h[1]);l(this.result)}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const b=[];for(let M=1;M<l.length-1;M+=2){const O=l[M];if(typeof O!="string")return h.error(`Expected string, but found ${typeof O} instead.`,M);if(/[^a-zA-Z0-9_]/.test(O))return h.error("Variable names must contain only alphanumeric characters or '_'.",M);const q=h.parse(l[M+1],M+1);if(!q)return null;b.push([O,q])}const T=h.parse(l[l.length-1],l.length-1,h.expectedType,b);return T?new So(b,T):null}outputDefined(){return this.result.outputDefined()}}class Bo{constructor(l,h){this.type=h.type,this.name=l,this.boundExpression=h}static parse(l,h){if(l.length!==2||typeof l[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const b=l[1];return h.scope.has(b)?new Bo(b,h.scope.get(b)):h.error(`Unknown variable "${b}". Make sure "${b}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Ba{constructor(l,h,b){this.type=l,this.index=h,this.input=b}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,en),T=h.parse(l[2],2,Xo(h.expectedType||Mn));return b&&T?new Ba(T.type.itemType,b,T):null}evaluate(l){const h=this.index.evaluate(l),b=this.input.evaluate(l);if(h<0)throw new zi(`Array index out of bounds: ${h} < 0.`);if(h>=b.length)throw new zi(`Array index out of bounds: ${h} > ${b.length-1}.`);if(h!==Math.floor(h))throw new zi(`Array index must be an integer, but found ${h} instead.`);return b[h]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class zo{constructor(l,h){this.type=Wn,this.needle=l,this.haystack=h}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Mn),T=h.parse(l[2],2,Mn);return b&&T?Ks(b.type,[Wn,Rn,en,Ji,Mn])?new zo(b,T):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(b.type)} instead`):null}evaluate(l){const h=this.needle.evaluate(l),b=this.haystack.evaluate(l);if(!b)return!1;if(!Do(h,["boolean","string","number","null"]))throw new zi(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(zn(h))} instead.`);if(!Do(b,["string","array"]))throw new zi(`Expected second argument to be of type array or string, but found ${Pi(zn(b))} instead.`);return b.indexOf(h)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class ct{constructor(l,h,b){this.type=en,this.needle=l,this.haystack=h,this.fromIndex=b}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Mn),T=h.parse(l[2],2,Mn);if(!b||!T)return null;if(!Ks(b.type,[Wn,Rn,en,Ji,Mn]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(b.type)} instead`);if(l.length===4){const M=h.parse(l[3],3,en);return M?new ct(b,T,M):null}return new ct(b,T)}evaluate(l){const h=this.needle.evaluate(l),b=this.haystack.evaluate(l);if(!Do(h,["boolean","string","number","null"]))throw new zi(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(zn(h))} instead.`);let T;if(this.fromIndex&&(T=this.fromIndex.evaluate(l)),Do(b,["string"])){const M=b.indexOf(h,T);return M===-1?-1:[...b.slice(0,M)].length}if(Do(b,["array"]))return b.indexOf(h,T);throw new zi(`Expected second argument to be of type array or string, but found ${Pi(zn(b))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Kt{constructor(l,h,b,T,M,O){this.inputType=l,this.type=h,this.input=b,this.cases=T,this.outputs=M,this.otherwise=O}static parse(l,h){if(l.length<5)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return h.error("Expected an even number of arguments.");let b,T;h.expectedType&&h.expectedType.kind!=="value"&&(T=h.expectedType);const M={},O=[];for(let ot=2;ot<l.length-1;ot+=2){let ft=l[ot];const Et=l[ot+1];Array.isArray(ft)||(ft=[ft]);const $t=h.concat(ot);if(ft.length===0)return $t.error("Expected at least one branch label.");for(const Wt of ft){if(typeof Wt!="number"&&typeof Wt!="string")return $t.error("Branch labels must be numbers or strings.");if(typeof Wt=="number"&&Math.abs(Wt)>Number.MAX_SAFE_INTEGER)return $t.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Wt=="number"&&Math.floor(Wt)!==Wt)return $t.error("Numeric branch labels must be integer values.");if(b){if($t.checkSubtype(b,zn(Wt)))return null}else b=zn(Wt);if(M[String(Wt)]!==void 0)return $t.error("Branch labels must be unique.");M[String(Wt)]=O.length}const Gt=h.parse(Et,ot,T);if(!Gt)return null;T=T||Gt.type,O.push(Gt)}const q=h.parse(l[1],1,Mn);if(!q)return null;const J=h.parse(l[l.length-1],l.length-1,T);return J?q.type.kind!=="value"&&h.concat(1).checkSubtype(b,q.type)?null:new Kt(b,T,q,M,O,J):null}evaluate(l){const h=this.input.evaluate(l);return(zn(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))&&this.otherwise.outputDefined()}}class ve{constructor(l,h,b){this.type=l,this.branches=h,this.otherwise=b}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return h.error("Expected an odd number of arguments.");let b;h.expectedType&&h.expectedType.kind!=="value"&&(b=h.expectedType);const T=[];for(let O=1;O<l.length-1;O+=2){const q=h.parse(l[O],O,Wn);if(!q)return null;const J=h.parse(l[O+1],O+1,b);if(!J)return null;T.push([q,J]),b=b||J.type}const M=h.parse(l[l.length-1],l.length-1,b);if(!M)return null;if(!b)throw new Error("Can't infer output type");return new ve(b,T,M)}evaluate(l){for(const[h,b]of this.branches)if(h.evaluate(l))return b.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[h,b]of this.branches)l(h),l(b);l(this.otherwise)}outputDefined(){return this.branches.every((([l,h])=>h.outputDefined()))&&this.otherwise.outputDefined()}}class Xe{constructor(l,h,b,T){this.type=l,this.input=h,this.beginIndex=b,this.endIndex=T}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Mn),T=h.parse(l[2],2,en);if(!b||!T)return null;if(!Ks(b.type,[Xo(Mn),Rn,Mn]))return h.error(`Expected first argument to be of type array or string, but found ${Pi(b.type)} instead`);if(l.length===4){const M=h.parse(l[3],3,en);return M?new Xe(b.type,b,T,M):null}return new Xe(b.type,b,T)}evaluate(l){const h=this.input.evaluate(l),b=this.beginIndex.evaluate(l);let T;if(this.endIndex&&(T=this.endIndex.evaluate(l)),Do(h,["string"]))return[...h].slice(b,T).join("");if(Do(h,["array"]))return h.slice(b,T);throw new zi(`Expected first argument to be of type array or string, but found ${Pi(zn(h))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function pr(f,l){const h=f.length-1;let b,T,M=0,O=h,q=0;for(;M<=O;)if(q=Math.floor((M+O)/2),b=f[q],T=f[q+1],b<=l){if(q===h||l<T)return q;M=q+1}else{if(!(b>l))throw new zi("Input is not a number.");O=q-1}return 0}class Yr{constructor(l,h,b){this.type=l,this.input=h,this.labels=[],this.outputs=[];for(const[T,M]of b)this.labels.push(T),this.outputs.push(M)}static parse(l,h){if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");const b=h.parse(l[1],1,en);if(!b)return null;const T=[];let M=null;h.expectedType&&h.expectedType.kind!=="value"&&(M=h.expectedType);for(let O=1;O<l.length;O+=2){const q=O===1?-1/0:l[O],J=l[O+1],ot=O,ft=O+1;if(typeof q!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ot);if(T.length&&T[T.length-1][0]>=q)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ot);const Et=h.parse(J,ft,M);if(!Et)return null;M=M||Et.type,T.push([q,Et])}return new Yr(M,b,T)}evaluate(l){const h=this.labels,b=this.outputs;if(h.length===1)return b[0].evaluate(l);const T=this.input.evaluate(l);if(T<=h[0])return b[0].evaluate(l);const M=h.length;return T>=h[M-1]?b[M-1].evaluate(l):b[pr(h,T)].evaluate(l)}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function gn(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Vn,ri,Ti=(function(){if(ri)return Vn;function f(l,h,b,T){this.cx=3*l,this.bx=3*(b-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(T-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=b,this.p2y=T}return ri=1,Vn=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var b=l,T=0;T<8;T++){var M=this.sampleCurveX(b)-l;if(Math.abs(M)<h)return b;var O=this.sampleCurveDerivativeX(b);if(Math.abs(O)<1e-6)break;b-=M/O}var q=0,J=1;for(b=l,T=0;T<20&&(M=this.sampleCurveX(b),!(Math.abs(M-l)<h));T++)l>M?q=b:J=b,b=.5*(J-q)+q;return b},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},Vn})(),ji=gn(Ti);class wi{constructor(l,h,b,T,M){this.type=l,this.operator=h,this.interpolation=b,this.input=T,this.labels=[],this.outputs=[];for(const[O,q]of M)this.labels.push(O),this.outputs.push(q)}static interpolationFactor(l,h,b,T){let M=0;if(l.name==="exponential")M=xa(h,l.base,b,T);else if(l.name==="linear")M=xa(h,1,b,T);else if(l.name==="cubic-bezier"){const O=l.controlPoints;M=new ji(O[0],O[1],O[2],O[3]).solve(xa(h,1,b,T))}return M}static parse(l,h){let[b,T,M,...O]=l;if(!Array.isArray(T)||T.length===0)return h.error("Expected an interpolation type expression.",1);if(T[0]==="linear")T={name:"linear"};else if(T[0]==="exponential"){const ot=T[1];if(typeof ot!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);T={name:"exponential",base:ot}}else{if(T[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(T[0])}`,1,0);{const ot=T.slice(1);if(ot.length!==4||ot.some((ft=>typeof ft!="number"||ft<0||ft>1)))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);T={name:"cubic-bezier",controlPoints:ot}}}if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(M=h.parse(M,2,en),!M)return null;const q=[];let J=null;b!=="interpolate-hcl"&&b!=="interpolate-lab"||h.expectedType==ha?h.expectedType&&h.expectedType.kind!=="value"&&(J=h.expectedType):J=Ra;for(let ot=0;ot<O.length;ot+=2){const ft=O[ot],Et=O[ot+1],$t=ot+3,Gt=ot+4;if(typeof ft!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$t);if(q.length&&q[q.length-1][0]>=ft)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$t);const Wt=h.parse(Et,Gt,J);if(!Wt)return null;J=J||Wt.type,q.push([ft,Wt])}return jl(J,en)||jl(J,xo)||jl(J,Ra)||jl(J,oa)||jl(J,uc)||jl(J,ha)||jl(J,nl)||jl(J,Xo(en))?new wi(J,b,T,M,q):h.error(`Type ${Pi(J)} is not interpolatable.`)}evaluate(l){const h=this.labels,b=this.outputs;if(h.length===1)return b[0].evaluate(l);const T=this.input.evaluate(l);if(T<=h[0])return b[0].evaluate(l);const M=h.length;if(T>=h[M-1])return b[M-1].evaluate(l);const O=pr(h,T),q=wi.interpolationFactor(this.interpolation,T,h[O],h[O+1]),J=b[O].evaluate(l),ot=b[O+1].evaluate(l);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return fn(J,ot,q);case"color":return Nn.interpolate(J,ot,q);case"padding":return yi.interpolate(J,ot,q);case"colorArray":return Ii.interpolate(J,ot,q);case"numberArray":return sa.interpolate(J,ot,q);case"variableAnchorOffsetCollection":return Bn.interpolate(J,ot,q);case"array":return Yn(J,ot,q);case"projectionDefinition":return pi.interpolate(J,ot,q)}case"interpolate-hcl":switch(this.type.kind){case"color":return Nn.interpolate(J,ot,q,"hcl");case"colorArray":return Ii.interpolate(J,ot,q,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Nn.interpolate(J,ot,q,"lab");case"colorArray":return Ii.interpolate(J,ot,q,"lab")}}}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function xa(f,l,h,b){const T=b-h,M=f-h;return T===0?0:l===1?M/T:(Math.pow(l,M)-1)/(Math.pow(l,T)-1)}const Oi={color:Nn.interpolate,number:fn,padding:yi.interpolate,numberArray:sa.interpolate,colorArray:Ii.interpolate,variableAnchorOffsetCollection:Bn.interpolate,array:Yn};class Ui{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let b=null;const T=h.expectedType;T&&T.kind!=="value"&&(b=T);const M=[];for(const q of l.slice(1)){const J=h.parse(q,1+M.length,b,void 0,{typeAnnotation:"omit"});if(!J)return null;b=b||J.type,M.push(J)}if(!b)throw new Error("No output type");const O=T&&M.some((q=>Fl(T,q.type)));return new Ui(O?Mn:b,M)}evaluate(l){let h,b=null,T=0;for(const M of this.args)if(T++,b=M.evaluate(l),b&&b instanceof Xa&&!b.available&&(h||(h=b.name),b=null,T===this.args.length&&(b=h)),b!==null)break;return b}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}function Lo(f,l){return f==="=="||f==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Ja(f,l,h,b){return b.compare(l,h)===0}function ao(f,l,h){const b=f!=="=="&&f!=="!=";return class cU{constructor(M,O,q){this.type=Wn,this.lhs=M,this.rhs=O,this.collator=q,this.hasUntypedArgument=M.type.kind==="value"||O.type.kind==="value"}static parse(M,O){if(M.length!==3&&M.length!==4)return O.error("Expected two or three arguments.");const q=M[0];let J=O.parse(M[1],1,Mn);if(!J)return null;if(!Lo(q,J.type))return O.concat(1).error(`"${q}" comparisons are not supported for type '${Pi(J.type)}'.`);let ot=O.parse(M[2],2,Mn);if(!ot)return null;if(!Lo(q,ot.type))return O.concat(2).error(`"${q}" comparisons are not supported for type '${Pi(ot.type)}'.`);if(J.type.kind!==ot.type.kind&&J.type.kind!=="value"&&ot.type.kind!=="value")return O.error(`Cannot compare types '${Pi(J.type)}' and '${Pi(ot.type)}'.`);b&&(J.type.kind==="value"&&ot.type.kind!=="value"?J=new po(ot.type,[J]):J.type.kind!=="value"&&ot.type.kind==="value"&&(ot=new po(J.type,[ot])));let ft=null;if(M.length===4){if(J.type.kind!=="string"&&ot.type.kind!=="string"&&J.type.kind!=="value"&&ot.type.kind!=="value")return O.error("Cannot use collator to compare non-string types.");if(ft=O.parse(M[3],3,io),!ft)return null}return new cU(J,ot,ft)}evaluate(M){const O=this.lhs.evaluate(M),q=this.rhs.evaluate(M);if(b&&this.hasUntypedArgument){const J=zn(O),ot=zn(q);if(J.kind!==ot.kind||J.kind!=="string"&&J.kind!=="number")throw new zi(`Expected arguments for "${f}" to be (string, string) or (number, number), but found (${J.kind}, ${ot.kind}) instead.`)}if(this.collator&&!b&&this.hasUntypedArgument){const J=zn(O),ot=zn(q);if(J.kind!=="string"||ot.kind!=="string")return l(M,O,q)}return this.collator?h(M,O,q,this.collator.evaluate(M)):l(M,O,q)}eachChild(M){M(this.lhs),M(this.rhs),this.collator&&M(this.collator)}outputDefined(){return!0}}}const Ul=ao("==",(function(f,l,h){return l===h}),Ja),wc=ao("!=",(function(f,l,h){return l!==h}),(function(f,l,h,b){return!Ja(0,l,h,b)})),Iu=ao("<",(function(f,l,h){return l<h}),(function(f,l,h,b){return b.compare(l,h)<0})),ql=ao(">",(function(f,l,h){return l>h}),(function(f,l,h,b){return b.compare(l,h)>0})),Ru=ao("<=",(function(f,l,h){return l<=h}),(function(f,l,h,b){return b.compare(l,h)<=0})),mo=ao(">=",(function(f,l,h){return l>=h}),(function(f,l,h,b){return b.compare(l,h)>=0}));class Sc{constructor(l,h,b){this.type=io,this.locale=b,this.caseSensitive=l,this.diacriticSensitive=h}static parse(l,h){if(l.length!==2)return h.error("Expected one argument.");const b=l[1];if(typeof b!="object"||Array.isArray(b))return h.error("Collator options argument must be an object.");const T=h.parse(b["case-sensitive"]!==void 0&&b["case-sensitive"],1,Wn);if(!T)return null;const M=h.parse(b["diacritic-sensitive"]!==void 0&&b["diacritic-sensitive"],1,Wn);if(!M)return null;let O=null;return b.locale&&(O=h.parse(b.locale,1,Rn),!O)?null:new Sc(T,M,O)}evaluate(l){return new ti(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class vu{constructor(l,h,b,T,M){this.type=Rn,this.number=l,this.locale=h,this.currency=b,this.minFractionDigits=T,this.maxFractionDigits=M}static parse(l,h){if(l.length!==3)return h.error("Expected two arguments.");const b=h.parse(l[1],1,en);if(!b)return null;const T=l[2];if(typeof T!="object"||Array.isArray(T))return h.error("NumberFormat options argument must be an object.");let M=null;if(T.locale&&(M=h.parse(T.locale,1,Rn),!M))return null;let O=null;if(T.currency&&(O=h.parse(T.currency,1,Rn),!O))return null;let q=null;if(T["min-fraction-digits"]&&(q=h.parse(T["min-fraction-digits"],1,en),!q))return null;let J=null;return T["max-fraction-digits"]&&(J=h.parse(T["max-fraction-digits"],1,en),!J)?null:new vu(b,M,O,q,J)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Gl{constructor(l){this.type=rl,this.sections=l}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const b=l[1];if(!Array.isArray(b)&&typeof b=="object")return h.error("First argument must be an image or text section.");const T=[];let M=!1;for(let O=1;O<=l.length-1;++O){const q=l[O];if(M&&typeof q=="object"&&!Array.isArray(q)){M=!1;let J=null;if(q["font-scale"]&&(J=h.parse(q["font-scale"],1,en),!J))return null;let ot=null;if(q["text-font"]&&(ot=h.parse(q["text-font"],1,Xo(Rn)),!ot))return null;let ft=null;if(q["text-color"]&&(ft=h.parse(q["text-color"],1,Ra),!ft))return null;let Et=null;if(q["vertical-align"]){if(typeof q["vertical-align"]=="string"&&!jn.includes(q["vertical-align"]))return h.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${q["vertical-align"]}' instead.`);if(Et=h.parse(q["vertical-align"],1,Rn),!Et)return null}const $t=T[T.length-1];$t.scale=J,$t.font=ot,$t.textColor=ft,$t.verticalAlign=Et}else{const J=h.parse(l[O],1,Mn);if(!J)return null;const ot=J.type.kind;if(ot!=="string"&&ot!=="value"&&ot!=="null"&&ot!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");M=!0,T.push({content:J,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Gl(T)}evaluate(l){return new Ln(this.sections.map((h=>{const b=h.content.evaluate(l);return zn(b)===Vi?new Zr("",b,null,null,null,h.verticalAlign?h.verticalAlign.evaluate(l):null):new Zr($l(b),null,h.scale?h.scale.evaluate(l):null,h.font?h.font.evaluate(l).join(","):null,h.textColor?h.textColor.evaluate(l):null,h.verticalAlign?h.verticalAlign.evaluate(l):null)})))}eachChild(l){for(const h of this.sections)l(h.content),h.scale&&l(h.scale),h.font&&l(h.font),h.textColor&&l(h.textColor),h.verticalAlign&&l(h.verticalAlign)}outputDefined(){return!1}}class Eo{constructor(l){this.type=Vi,this.input=l}static parse(l,h){if(l.length!==2)return h.error("Expected two arguments.");const b=h.parse(l[1],1,Rn);return b?new Eo(b):h.error("No image name provided.")}evaluate(l){const h=this.input.evaluate(l),b=Xa.fromString(h);return b&&l.availableImages&&(b.available=l.availableImages.indexOf(h)>-1),b}eachChild(l){l(this.input)}outputDefined(){return!1}}class Fo{constructor(l){this.type=en,this.input=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const b=h.parse(l[1],1);return b?b.type.kind!=="array"&&b.type.kind!=="string"&&b.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${Pi(b.type)} instead.`):new Fo(b):null}evaluate(l){const h=this.input.evaluate(l);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new zi(`Expected value to be of type string or array, but found ${Pi(zn(h))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const to=8192;function hc(f,l){const h=(180+f[0])/360,b=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f[1]*Math.PI/360)))/360,T=Math.pow(2,l.z);return[Math.round(h*T*to),Math.round(b*T*to)]}function Vc(f,l){const h=Math.pow(2,l.z);return[(T=(f[0]/to+l.x)/h,360*T-180),(b=(f[1]/to+l.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*b)*Math.PI/180))-90)];var b,T}function oo(f,l){f[0]=Math.min(f[0],l[0]),f[1]=Math.min(f[1],l[1]),f[2]=Math.max(f[2],l[0]),f[3]=Math.max(f[3],l[1])}function bu(f,l){return!(f[0]<=l[0]||f[2]>=l[2]||f[1]<=l[1]||f[3]>=l[3])}function Uc(f,l,h){const b=f[0]-l[0],T=f[1]-l[1],M=f[0]-h[0],O=f[1]-h[1];return b*O-M*T==0&&b*M<=0&&T*O<=0}function il(f,l,h,b){return(T=[b[0]-h[0],b[1]-h[1]])[0]*(M=[l[0]-f[0],l[1]-f[1]])[1]-T[1]*M[0]!=0&&!(!Hl(f,l,h,b)||!Hl(h,b,f,l));var T,M}function ws(f,l,h){for(const b of h)for(let T=0;T<b.length-1;++T)if(il(f,l,b[T],b[T+1]))return!0;return!1}function Zs(f,l,h=!1){let b=!1;for(const q of l)for(let J=0;J<q.length-1;J++){if(Uc(f,q[J],q[J+1]))return h;(M=q[J])[1]>(T=f)[1]!=(O=q[J+1])[1]>T[1]&&T[0]<(O[0]-M[0])*(T[1]-M[1])/(O[1]-M[1])+M[0]&&(b=!b)}var T,M,O;return b}function mh(f,l){for(const h of l)if(Zs(f,h))return!0;return!1}function Hu(f,l){for(const h of f)if(!Zs(h,l))return!1;for(let h=0;h<f.length-1;++h)if(ws(f[h],f[h+1],l))return!1;return!0}function qc(f,l){for(const h of l)if(Hu(f,h))return!0;return!1}function Hl(f,l,h,b){const T=b[0]-h[0],M=b[1]-h[1],O=(f[0]-h[0])*M-T*(f[1]-h[1]),q=(l[0]-h[0])*M-T*(l[1]-h[1]);return O>0&&q<0||O<0&&q>0}function jo(f,l,h){const b=[];for(let T=0;T<f.length;T++){const M=[];for(let O=0;O<f[T].length;O++){const q=hc(f[T][O],h);oo(l,q),M.push(q)}b.push(M)}return b}function Ss(f,l,h){const b=[];for(let T=0;T<f.length;T++){const M=jo(f[T],l,h);b.push(M)}return b}function Gc(f,l,h,b){if(f[0]<h[0]||f[0]>h[2]){const T=.5*b;let M=f[0]-h[0]>T?-b:h[0]-f[0]>T?b:0;M===0&&(M=f[0]-h[2]>T?-b:h[2]-f[0]>T?b:0),f[0]+=M}oo(l,f)}function Es(f,l,h,b){const T=Math.pow(2,b.z)*to,M=[b.x*to,b.y*to],O=[];for(const q of f)for(const J of q){const ot=[J.x+M[0],J.y+M[1]];Gc(ot,l,h,T),O.push(ot)}return O}function Hc(f,l,h,b){const T=Math.pow(2,b.z)*to,M=[b.x*to,b.y*to],O=[];for(const J of f){const ot=[];for(const ft of J){const Et=[ft.x+M[0],ft.y+M[1]];oo(l,Et),ot.push(Et)}O.push(ot)}if(l[2]-l[0]<=T/2){(q=l)[0]=q[1]=1/0,q[2]=q[3]=-1/0;for(const J of O)for(const ot of J)Gc(ot,l,h,T)}var q;return O}class Ps{constructor(l,h){this.type=Wn,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Tl(l[1])){const b=l[1];if(b.type==="FeatureCollection"){const T=[];for(const M of b.features){const{type:O,coordinates:q}=M.geometry;O==="Polygon"&&T.push(q),O==="MultiPolygon"&&T.push(...q)}if(T.length)return new Ps(b,{type:"MultiPolygon",coordinates:T})}else if(b.type==="Feature"){const T=b.geometry.type;if(T==="Polygon"||T==="MultiPolygon")return new Ps(b,b.geometry)}else if(b.type==="Polygon"||b.type==="MultiPolygon")return new Ps(b,b)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,b){const T=[1/0,1/0,-1/0,-1/0],M=[1/0,1/0,-1/0,-1/0],O=h.canonicalID();if(b.type==="Polygon"){const q=jo(b.coordinates,M,O),J=Es(h.geometry(),T,M,O);if(!bu(T,M))return!1;for(const ot of J)if(!Zs(ot,q))return!1}if(b.type==="MultiPolygon"){const q=Ss(b.coordinates,M,O),J=Es(h.geometry(),T,M,O);if(!bu(T,M))return!1;for(const ot of J)if(!mh(ot,q))return!1}return!0})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,b){const T=[1/0,1/0,-1/0,-1/0],M=[1/0,1/0,-1/0,-1/0],O=h.canonicalID();if(b.type==="Polygon"){const q=jo(b.coordinates,M,O),J=Hc(h.geometry(),T,M,O);if(!bu(T,M))return!1;for(const ot of J)if(!Hu(ot,q))return!1}if(b.type==="MultiPolygon"){const q=Ss(b.coordinates,M,O),J=Hc(h.geometry(),T,M,O);if(!bu(T,M))return!1;for(const ot of J)if(!qc(ot,q))return!1}return!0})(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let dc=class{constructor(f=[],l=(h,b)=>h<b?-1:h>b?1:0){if(this.data=f,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(f){this.data.push(f),this._up(this.length++)}pop(){if(this.length===0)return;const f=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),f}peek(){return this.data[0]}_up(f){const{data:l,compare:h}=this,b=l[f];for(;f>0;){const T=f-1>>1,M=l[T];if(h(b,M)>=0)break;l[f]=M,f=T}l[f]=b}_down(f){const{data:l,compare:h}=this,b=this.length>>1,T=l[f];for(;f<b;){let M=1+(f<<1);const O=M+1;if(O<this.length&&h(l[O],l[M])<0&&(M=O),h(l[M],T)>=0)break;l[f]=l[M],f=M}l[f]=T}};function To(f,l,h=0,b=f.length-1,T=pc){for(;b>h;){if(b-h>600){const J=b-h+1,ot=l-h+1,ft=Math.log(J),Et=.5*Math.exp(2*ft/3),$t=.5*Math.sqrt(ft*Et*(J-Et)/J)*(ot-J/2<0?-1:1);To(f,l,Math.max(h,Math.floor(l-ot*Et/J+$t)),Math.min(b,Math.floor(l+(J-ot)*Et/J+$t)),T)}const M=f[l];let O=h,q=b;for(fc(f,h,l),T(f[b],M)>0&&fc(f,h,b);O<q;){for(fc(f,O,q),O++,q--;T(f[O],M)<0;)O++;for(;T(f[q],M)>0;)q--}T(f[h],M)===0?fc(f,h,q):(q++,fc(f,q,b)),q<=l&&(h=q+1),l<=q&&(b=q-1)}}function fc(f,l,h){const b=f[l];f[l]=f[h],f[h]=b}function pc(f,l){return f<l?-1:f>l?1:0}function Al(f,l){if(f.length<=1)return[f];const h=[];let b,T;for(const M of f){const O=Xu(M);O!==0&&(M.area=Math.abs(O),T===void 0&&(T=O<0),T===O<0?(b&&h.push(b),b=[M]):b.push(M))}if(b&&h.push(b),l>1)for(let M=0;M<h.length;M++)h[M].length<=l||(To(h[M],l,1,h[M].length-1,_u),h[M]=h[M].slice(0,l));return h}function _u(f,l){return l.area-f.area}function Xu(f){let l=0;for(let h,b,T=0,M=f.length,O=M-1;T<M;O=T++)h=f[T],b=f[O],l+=(b.x-h.x)*(h.y+b.y);return l}const Ec=1/298.257223563,xu=Ec*(2-Ec),Ts=Math.PI/180;class lr{constructor(l){const h=6378.137*Ts*1e3,b=Math.cos(l*Ts),T=1/(1-xu*(1-b*b)),M=Math.sqrt(T);this.kx=h*M*b,this.ky=h*M*T*(1-xu)}distance(l,h){const b=this.wrap(l[0]-h[0])*this.kx,T=(l[1]-h[1])*this.ky;return Math.sqrt(b*b+T*T)}pointOnLine(l,h){let b,T,M,O,q=1/0;for(let J=0;J<l.length-1;J++){let ot=l[J][0],ft=l[J][1],Et=this.wrap(l[J+1][0]-ot)*this.kx,$t=(l[J+1][1]-ft)*this.ky,Gt=0;Et===0&&$t===0||(Gt=(this.wrap(h[0]-ot)*this.kx*Et+(h[1]-ft)*this.ky*$t)/(Et*Et+$t*$t),Gt>1?(ot=l[J+1][0],ft=l[J+1][1]):Gt>0&&(ot+=Et/this.kx*Gt,ft+=$t/this.ky*Gt)),Et=this.wrap(h[0]-ot)*this.kx,$t=(h[1]-ft)*this.ky;const Wt=Et*Et+$t*$t;Wt<q&&(q=Wt,b=ot,T=ft,M=J,O=Gt)}return{point:[b,T],index:M,t:Math.max(0,Math.min(1,O))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function mr(f,l){return l[0]-f[0]}function An(f){return f[1]-f[0]+1}function Dn(f,l){return f[1]>=f[0]&&f[1]<l}function Ni(f,l){if(f[0]>f[1])return[null,null];const h=An(f);if(l){if(h===2)return[f,null];const T=Math.floor(h/2);return[[f[0],f[0]+T],[f[0]+T,f[1]]]}if(h===1)return[f,null];const b=Math.floor(h/2)-1;return[[f[0],f[0]+b],[f[0]+b+1,f[1]]]}function $n(f,l){if(!Dn(l,f.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let b=l[0];b<=l[1];++b)oo(h,f[b]);return h}function A(f){const l=[1/0,1/0,-1/0,-1/0];for(const h of f)for(const b of h)oo(l,b);return l}function m(f){return f[0]!==-1/0&&f[1]!==-1/0&&f[2]!==1/0&&f[3]!==1/0}function y(f,l,h){if(!m(f)||!m(l))return NaN;let b=0,T=0;return f[2]<l[0]&&(b=l[0]-f[2]),f[0]>l[2]&&(b=f[0]-l[2]),f[1]>l[3]&&(T=f[1]-l[3]),f[3]<l[1]&&(T=l[1]-f[3]),h.distance([0,0],[b,T])}function C(f,l,h){const b=h.pointOnLine(l,f);return h.distance(f,b.point)}function F(f,l,h,b,T){const M=Math.min(C(f,[h,b],T),C(l,[h,b],T)),O=Math.min(C(h,[f,l],T),C(b,[f,l],T));return Math.min(M,O)}function nt(f,l,h,b,T){if(!Dn(l,f.length)||!Dn(b,h.length))return 1/0;let M=1/0;for(let O=l[0];O<l[1];++O){const q=f[O],J=f[O+1];for(let ot=b[0];ot<b[1];++ot){const ft=h[ot],Et=h[ot+1];if(il(q,J,ft,Et))return 0;M=Math.min(M,F(q,J,ft,Et,T))}}return M}function xt(f,l,h,b,T){if(!Dn(l,f.length)||!Dn(b,h.length))return NaN;let M=1/0;for(let O=l[0];O<=l[1];++O)for(let q=b[0];q<=b[1];++q)if(M=Math.min(M,T.distance(f[O],h[q])),M===0)return M;return M}function Dt(f,l,h){if(Zs(f,l,!0))return 0;let b=1/0;for(const T of l){const M=T[0],O=T[T.length-1];if(M!==O&&(b=Math.min(b,C(f,[O,M],h)),b===0))return b;const q=h.pointOnLine(T,f);if(b=Math.min(b,h.distance(f,q.point)),b===0)return b}return b}function re(f,l,h,b){if(!Dn(l,f.length))return NaN;for(let M=l[0];M<=l[1];++M)if(Zs(f[M],h,!0))return 0;let T=1/0;for(let M=l[0];M<l[1];++M){const O=f[M],q=f[M+1];for(const J of h)for(let ot=0,ft=J.length,Et=ft-1;ot<ft;Et=ot++){const $t=J[Et],Gt=J[ot];if(il(O,q,$t,Gt))return 0;T=Math.min(T,F(O,q,$t,Gt,b))}}return T}function _e(f,l){for(const h of f)for(const b of h)if(Zs(b,l,!0))return!0;return!1}function sr(f,l,h,b=1/0){const T=A(f),M=A(l);if(b!==1/0&&y(T,M,h)>=b)return b;if(bu(T,M)){if(_e(f,l))return 0}else if(_e(l,f))return 0;let O=1/0;for(const q of f)for(let J=0,ot=q.length,ft=ot-1;J<ot;ft=J++){const Et=q[ft],$t=q[J];for(const Gt of l)for(let Wt=0,te=Gt.length,he=te-1;Wt<te;he=Wt++){const Ee=Gt[he],Je=Gt[Wt];if(il(Et,$t,Ee,Je))return 0;O=Math.min(O,F(Et,$t,Ee,Je,h))}}return O}function _r(f,l,h,b,T,M){if(!M)return;const O=y($n(b,M),T,h);O<l&&f.push([O,M,[0,0]])}function tn(f,l,h,b,T,M,O){if(!M||!O)return;const q=y($n(b,M),$n(T,O),h);q<l&&f.push([q,M,O])}function In(f,l,h,b,T=1/0){let M=Math.min(b.distance(f[0],h[0][0]),T);if(M===0)return M;const O=new dc([[0,[0,f.length-1],[0,0]]],mr),q=A(h);for(;O.length>0;){const J=O.pop();if(J[0]>=M)continue;const ot=J[1],ft=l?50:100;if(An(ot)<=ft){if(!Dn(ot,f.length))return NaN;if(l){const Et=re(f,ot,h,b);if(isNaN(Et)||Et===0)return Et;M=Math.min(M,Et)}else for(let Et=ot[0];Et<=ot[1];++Et){const $t=Dt(f[Et],h,b);if(M=Math.min(M,$t),M===0)return 0}}else{const Et=Ni(ot,l);_r(O,M,b,f,q,Et[0]),_r(O,M,b,f,q,Et[1])}}return M}function Qn(f,l,h,b,T,M=1/0){let O=Math.min(M,T.distance(f[0],h[0]));if(O===0)return O;const q=new dc([[0,[0,f.length-1],[0,h.length-1]]],mr);for(;q.length>0;){const J=q.pop();if(J[0]>=O)continue;const ot=J[1],ft=J[2],Et=l?50:100,$t=b?50:100;if(An(ot)<=Et&&An(ft)<=$t){if(!Dn(ot,f.length)&&Dn(ft,h.length))return NaN;let Gt;if(l&&b)Gt=nt(f,ot,h,ft,T),O=Math.min(O,Gt);else if(l&&!b){const Wt=f.slice(ot[0],ot[1]+1);for(let te=ft[0];te<=ft[1];++te)if(Gt=C(h[te],Wt,T),O=Math.min(O,Gt),O===0)return O}else if(!l&&b){const Wt=h.slice(ft[0],ft[1]+1);for(let te=ot[0];te<=ot[1];++te)if(Gt=C(f[te],Wt,T),O=Math.min(O,Gt),O===0)return O}else Gt=xt(f,ot,h,ft,T),O=Math.min(O,Gt)}else{const Gt=Ni(ot,l),Wt=Ni(ft,b);tn(q,O,T,f,h,Gt[0],Wt[0]),tn(q,O,T,f,h,Gt[0],Wt[1]),tn(q,O,T,f,h,Gt[1],Wt[0]),tn(q,O,T,f,h,Gt[1],Wt[1])}}return O}function hi(f){return f.type==="MultiPolygon"?f.coordinates.map((l=>({type:"Polygon",coordinates:l}))):f.type==="MultiLineString"?f.coordinates.map((l=>({type:"LineString",coordinates:l}))):f.type==="MultiPoint"?f.coordinates.map((l=>({type:"Point",coordinates:l}))):[f]}class Kn{constructor(l,h){this.type=en,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Tl(l[1])){const b=l[1];if(b.type==="FeatureCollection")return new Kn(b,b.features.map((T=>hi(T.geometry))).flat());if(b.type==="Feature")return new Kn(b,hi(b.geometry));if("type"in b&&"coordinates"in b)return new Kn(b,hi(b))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,b){const T=h.geometry(),M=T.flat().map((J=>Vc([J.x,J.y],h.canonical)));if(T.length===0)return NaN;const O=new lr(M[0][1]);let q=1/0;for(const J of b){switch(J.type){case"Point":q=Math.min(q,Qn(M,!1,[J.coordinates],!1,O,q));break;case"LineString":q=Math.min(q,Qn(M,!1,J.coordinates,!0,O,q));break;case"Polygon":q=Math.min(q,In(M,!1,J.coordinates,O,q))}if(q===0)return q}return q})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,b){const T=h.geometry(),M=T.flat().map((J=>Vc([J.x,J.y],h.canonical)));if(T.length===0)return NaN;const O=new lr(M[0][1]);let q=1/0;for(const J of b){switch(J.type){case"Point":q=Math.min(q,Qn(M,!0,[J.coordinates],!1,O,q));break;case"LineString":q=Math.min(q,Qn(M,!0,J.coordinates,!0,O,q));break;case"Polygon":q=Math.min(q,In(M,!0,J.coordinates,O,q))}if(q===0)return q}return q})(l,this.geometries);if(l.geometryType()==="Polygon")return(function(h,b){const T=h.geometry();if(T.length===0||T[0].length===0)return NaN;const M=Al(T,0).map((J=>J.map((ot=>ot.map((ft=>Vc([ft.x,ft.y],h.canonical))))))),O=new lr(M[0][0][0][1]);let q=1/0;for(const J of b)for(const ot of M){switch(J.type){case"Point":q=Math.min(q,In([J.coordinates],!1,ot,O,q));break;case"LineString":q=Math.min(q,In(J.coordinates,!0,ot,O,q));break;case"Polygon":q=Math.min(q,sr(ot,J.coordinates,O,q))}if(q===0)return q}return q})(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Hn{constructor(l){this.type=Mn,this.key=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const b=l[1];return b==null?h.error("Global state property must be defined."):typeof b!="string"?h.error(`Global state property must be string, but found ${typeof l[1]} instead.`):new Hn(b)}evaluate(l){var h;const b=(h=l.globals)===null||h===void 0?void 0:h.globalState;return b&&Object.keys(b).length!==0?Fe(b,this.key):null}eachChild(){}outputDefined(){return!1}}const ma={"==":Ul,"!=":wc,">":ql,"<":Iu,">=":mo,"<=":Ru,array:po,at:Ba,boolean:po,case:ve,coalesce:Ui,collator:Sc,format:Gl,image:Eo,in:zo,"index-of":ct,interpolate:wi,"interpolate-hcl":wi,"interpolate-lab":wi,length:Fo,let:So,literal:No,match:Kt,number:po,"number-format":vu,object:po,slice:Xe,step:Yr,string:po,"to-boolean":Ms,"to-color":Ms,"to-number":Ms,"to-string":Ms,var:Bo,within:Ps,distance:Kn,"global-state":Hn};class qi{constructor(l,h,b,T){this.name=l,this.type=h,this._evaluate=b,this.args=T}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,h){const b=l[0],T=qi.definitions[b];if(!T)return h.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0);const M=Array.isArray(T)?T[0]:T.type,O=Array.isArray(T)?[[T[1],T[2]]]:T.overloads,q=O.filter((([ot])=>!Array.isArray(ot)||ot.length===l.length-1));let J=null;for(const[ot,ft]of q){J=new Vl(h.registry,Tc,h.path,null,h.scope);const Et=[];let $t=!1;for(let Gt=1;Gt<l.length;Gt++){const Wt=l[Gt],te=Array.isArray(ot)?ot[Gt-1]:ot.type,he=J.parse(Wt,1+Et.length,te);if(!he){$t=!0;break}Et.push(he)}if(!$t)if(Array.isArray(ot)&&ot.length!==Et.length)J.error(`Expected ${ot.length} arguments, but found ${Et.length} instead.`);else{for(let Gt=0;Gt<Et.length;Gt++){const Wt=Array.isArray(ot)?ot[Gt]:ot.type,te=Et[Gt];J.concat(Gt+1).checkSubtype(Wt,te.type)}if(J.errors.length===0)return new qi(b,M,ft,Et)}}if(q.length===1)h.errors.push(...J.errors);else{const ot=(q.length?q:O).map((([Et])=>{return $t=Et,Array.isArray($t)?`(${$t.map(Pi).join(", ")})`:`(${Pi($t.type)}...)`;var $t})).join(" | "),ft=[];for(let Et=1;Et<l.length;Et++){const $t=h.parse(l[Et],1+ft.length);if(!$t)return null;ft.push(Pi($t.type))}h.error(`Expected arguments of type ${ot}, but found (${ft.join(", ")}) instead.`)}return null}static register(l,h){qi.definitions=h;for(const b in h)l[b]=qi}}function Va(f,[l,h,b,T]){l=l.evaluate(f),h=h.evaluate(f),b=b.evaluate(f);const M=T?T.evaluate(f):1,O=ei(l,h,b,M);if(O)throw new zi(O);return new Nn(l/255,h/255,b/255,M,!1)}function $o(f,l){return f in l}function so(f,l){const h=l[f];return h===void 0?null:h}function ls(f){return{type:f}}function Tc(f){if(f instanceof Bo)return Tc(f.boundExpression);if(f instanceof qi&&f.name==="error"||f instanceof Sc||f instanceof Ps||f instanceof Kn||f instanceof Hn)return!1;const l=f instanceof Ms||f instanceof po;let h=!0;return f.eachChild((b=>{h=l?h&&Tc(b):h&&b instanceof No})),!!h&&Cc(f)&&ml(f,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Cc(f){if(f instanceof qi&&(f.name==="get"&&f.args.length===1||f.name==="feature-state"||f.name==="has"&&f.args.length===1||f.name==="properties"||f.name==="geometry-type"||f.name==="id"||/^filter-/.test(f.name))||f instanceof Ps||f instanceof Kn)return!1;let l=!0;return f.eachChild((h=>{l&&!Cc(h)&&(l=!1)})),l}function kl(f){if(f instanceof qi&&f.name==="feature-state")return!1;let l=!0;return f.eachChild((h=>{l&&!kl(h)&&(l=!1)})),l}function ml(f,l){if(f instanceof qi&&l.indexOf(f.name)>=0)return!1;let h=!0;return f.eachChild((b=>{h&&!ml(b,l)&&(h=!1)})),h}function Ac(f){return{result:"success",value:f}}function Il(f){return{result:"error",value:f}}function Co(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function Cs(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function Wu(f){return!!f.expression&&f.expression.interpolated}function mi(f){return f instanceof Number?"number":f instanceof String?"string":f instanceof Boolean?"boolean":Array.isArray(f)?"array":f===null?"null":typeof f}function Xc(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)&&zn(f)===Na}function Xl(f){return f}function lf(f,l){const h=f.stops&&typeof f.stops[0][0]=="object",b=h||!(h||f.property!==void 0),T=f.type||(Wu(l)?"exponential":"interval"),M=(function(ft){switch(ft.type){case"color":return Nn.parse;case"padding":return yi.parse;case"numberArray":return sa.parse;case"colorArray":return Ii.parse;default:return null}})(l);if(M&&((f=fi({},f)).stops&&(f.stops=f.stops.map((ft=>[ft[0],M(ft[1])]))),f.default=M(f.default?f.default:l.default)),f.colorSpace&&(O=f.colorSpace)!=="rgb"&&O!=="hcl"&&O!=="lab")throw new Error(`Unknown color space: "${f.colorSpace}"`);var O;const q=(function(ft){switch(ft){case"exponential":return Hf;case"interval":return Gf;case"categorical":return td;case"identity":return Td;default:throw new Error(`Unknown function type "${ft}"`)}})(T);let J,ot;if(T==="categorical"){J=Object.create(null);for(const ft of f.stops)J[ft[0]]=ft[1];ot=typeof f.stops[0][0]}if(h){const ft={},Et=[];for(let Wt=0;Wt<f.stops.length;Wt++){const te=f.stops[Wt],he=te[0].zoom;ft[he]===void 0&&(ft[he]={zoom:he,type:f.type,property:f.property,default:f.default,stops:[]},Et.push(he)),ft[he].stops.push([te[0].value,te[1]])}const $t=[];for(const Wt of Et)$t.push([ft[Wt].zoom,lf(ft[Wt],l)]);const Gt={name:"linear"};return{kind:"composite",interpolationType:Gt,interpolationFactor:wi.interpolationFactor.bind(void 0,Gt),zoomStops:$t.map((Wt=>Wt[0])),evaluate:({zoom:Wt},te)=>Hf({stops:$t,base:f.base},l,Wt).evaluate(Wt,te)}}if(b){const ft=T==="exponential"?{name:"exponential",base:f.base!==void 0?f.base:1}:null;return{kind:"camera",interpolationType:ft,interpolationFactor:wi.interpolationFactor.bind(void 0,ft),zoomStops:f.stops.map((Et=>Et[0])),evaluate:({zoom:Et})=>q(f,l,Et,J,ot)}}return{kind:"source",evaluate(ft,Et){const $t=Et&&Et.properties?Et.properties[f.property]:void 0;return $t===void 0?gh(f.default,l.default):q(f,l,$t,J,ot)}}}function gh(f,l,h){return f!==void 0?f:l!==void 0?l:h!==void 0?h:void 0}function td(f,l,h,b,T){return gh(typeof h===T?b[h]:void 0,f.default,l.default)}function Gf(f,l,h){if(mi(h)!=="number")return gh(f.default,l.default);const b=f.stops.length;if(b===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[b-1][0])return f.stops[b-1][1];const T=pr(f.stops.map((M=>M[0])),h);return f.stops[T][1]}function Hf(f,l,h){const b=f.base!==void 0?f.base:1;if(mi(h)!=="number")return gh(f.default,l.default);const T=f.stops.length;if(T===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[T-1][0])return f.stops[T-1][1];const M=pr(f.stops.map((ft=>ft[0])),h),O=(function(ft,Et,$t,Gt){const Wt=Gt-$t,te=ft-$t;return Wt===0?0:Et===1?te/Wt:(Math.pow(Et,te)-1)/(Math.pow(Et,Wt)-1)})(h,b,f.stops[M][0],f.stops[M+1][0]),q=f.stops[M][1],J=f.stops[M+1][1],ot=Oi[l.type]||Xl;return typeof q.evaluate=="function"?{evaluate(...ft){const Et=q.evaluate.apply(void 0,ft),$t=J.evaluate.apply(void 0,ft);if(Et!==void 0&&$t!==void 0)return ot(Et,$t,O,f.colorSpace)}}:ot(q,J,O,f.colorSpace)}function Td(f,l,h){switch(l.type){case"color":h=Nn.parse(h);break;case"formatted":h=Ln.fromString(h.toString());break;case"resolvedImage":h=Xa.fromString(h.toString());break;case"padding":h=yi.parse(h);break;case"colorArray":h=Ii.parse(h);break;case"numberArray":h=sa.parse(h);break;default:mi(h)===l.type||l.type==="enum"&&l.values[h]||(h=void 0)}return gh(h,f.default,l.default)}qi.register(ma,{error:[{kind:"error"},[Rn],(f,[l])=>{throw new zi(l.evaluate(f))}],typeof:[Rn,[Mn],(f,[l])=>Pi(zn(l.evaluate(f)))],"to-rgba":[Xo(en,4),[Ra],(f,[l])=>{const[h,b,T,M]=l.evaluate(f).rgb;return[255*h,255*b,255*T,M]}],rgb:[Ra,[en,en,en],Va],rgba:[Ra,[en,en,en,en],Va],has:{type:Wn,overloads:[[[Rn],(f,[l])=>$o(l.evaluate(f),f.properties())],[[Rn,Na],(f,[l,h])=>$o(l.evaluate(f),h.evaluate(f))]]},get:{type:Mn,overloads:[[[Rn],(f,[l])=>so(l.evaluate(f),f.properties())],[[Rn,Na],(f,[l,h])=>so(l.evaluate(f),h.evaluate(f))]]},"feature-state":[Mn,[Rn],(f,[l])=>so(l.evaluate(f),f.featureState||{})],properties:[Na,[],f=>f.properties()],"geometry-type":[Rn,[],f=>f.geometryType()],id:[Mn,[],f=>f.id()],zoom:[en,[],f=>f.globals.zoom],"heatmap-density":[en,[],f=>f.globals.heatmapDensity||0],elevation:[en,[],f=>f.globals.elevation||0],"line-progress":[en,[],f=>f.globals.lineProgress||0],accumulated:[Mn,[],f=>f.globals.accumulated===void 0?null:f.globals.accumulated],"+":[en,ls(en),(f,l)=>{let h=0;for(const b of l)h+=b.evaluate(f);return h}],"*":[en,ls(en),(f,l)=>{let h=1;for(const b of l)h*=b.evaluate(f);return h}],"-":{type:en,overloads:[[[en,en],(f,[l,h])=>l.evaluate(f)-h.evaluate(f)],[[en],(f,[l])=>-l.evaluate(f)]]},"/":[en,[en,en],(f,[l,h])=>l.evaluate(f)/h.evaluate(f)],"%":[en,[en,en],(f,[l,h])=>l.evaluate(f)%h.evaluate(f)],ln2:[en,[],()=>Math.LN2],pi:[en,[],()=>Math.PI],e:[en,[],()=>Math.E],"^":[en,[en,en],(f,[l,h])=>Math.pow(l.evaluate(f),h.evaluate(f))],sqrt:[en,[en],(f,[l])=>Math.sqrt(l.evaluate(f))],log10:[en,[en],(f,[l])=>Math.log(l.evaluate(f))/Math.LN10],ln:[en,[en],(f,[l])=>Math.log(l.evaluate(f))],log2:[en,[en],(f,[l])=>Math.log(l.evaluate(f))/Math.LN2],sin:[en,[en],(f,[l])=>Math.sin(l.evaluate(f))],cos:[en,[en],(f,[l])=>Math.cos(l.evaluate(f))],tan:[en,[en],(f,[l])=>Math.tan(l.evaluate(f))],asin:[en,[en],(f,[l])=>Math.asin(l.evaluate(f))],acos:[en,[en],(f,[l])=>Math.acos(l.evaluate(f))],atan:[en,[en],(f,[l])=>Math.atan(l.evaluate(f))],min:[en,ls(en),(f,l)=>Math.min(...l.map((h=>h.evaluate(f))))],max:[en,ls(en),(f,l)=>Math.max(...l.map((h=>h.evaluate(f))))],abs:[en,[en],(f,[l])=>Math.abs(l.evaluate(f))],round:[en,[en],(f,[l])=>{const h=l.evaluate(f);return h<0?-Math.round(-h):Math.round(h)}],floor:[en,[en],(f,[l])=>Math.floor(l.evaluate(f))],ceil:[en,[en],(f,[l])=>Math.ceil(l.evaluate(f))],"filter-==":[Wn,[Rn,Mn],(f,[l,h])=>f.properties()[l.value]===h.value],"filter-id-==":[Wn,[Mn],(f,[l])=>f.id()===l.value],"filter-type-==":[Wn,[Rn],(f,[l])=>f.geometryType()===l.value],"filter-<":[Wn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],T=h.value;return typeof b==typeof T&&b<T}],"filter-id-<":[Wn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h<b}],"filter->":[Wn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],T=h.value;return typeof b==typeof T&&b>T}],"filter-id->":[Wn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h>b}],"filter-<=":[Wn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],T=h.value;return typeof b==typeof T&&b<=T}],"filter-id-<=":[Wn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h<=b}],"filter->=":[Wn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],T=h.value;return typeof b==typeof T&&b>=T}],"filter-id->=":[Wn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h>=b}],"filter-has":[Wn,[Mn],(f,[l])=>l.value in f.properties()],"filter-has-id":[Wn,[],f=>f.id()!==null&&f.id()!==void 0],"filter-type-in":[Wn,[Xo(Rn)],(f,[l])=>l.value.indexOf(f.geometryType())>=0],"filter-id-in":[Wn,[Xo(Mn)],(f,[l])=>l.value.indexOf(f.id())>=0],"filter-in-small":[Wn,[Rn,Xo(Mn)],(f,[l,h])=>h.value.indexOf(f.properties()[l.value])>=0],"filter-in-large":[Wn,[Rn,Xo(Mn)],(f,[l,h])=>(function(b,T,M,O){for(;M<=O;){const q=M+O>>1;if(T[q]===b)return!0;T[q]>b?O=q-1:M=q+1}return!1})(f.properties()[l.value],h.value,0,h.value.length-1)],all:{type:Wn,overloads:[[[Wn,Wn],(f,[l,h])=>l.evaluate(f)&&h.evaluate(f)],[ls(Wn),(f,l)=>{for(const h of l)if(!h.evaluate(f))return!1;return!0}]]},any:{type:Wn,overloads:[[[Wn,Wn],(f,[l,h])=>l.evaluate(f)||h.evaluate(f)],[ls(Wn),(f,l)=>{for(const h of l)if(h.evaluate(f))return!0;return!1}]]},"!":[Wn,[Wn],(f,[l])=>!l.evaluate(f)],"is-supported-script":[Wn,[Rn],(f,[l])=>{const h=f.globals&&f.globals.isSupportedScript;return!h||h(l.evaluate(f))}],upcase:[Rn,[Rn],(f,[l])=>l.evaluate(f).toUpperCase()],downcase:[Rn,[Rn],(f,[l])=>l.evaluate(f).toLowerCase()],concat:[Rn,ls(Mn),(f,l)=>l.map((h=>$l(h.evaluate(f)))).join("")],"resolved-locale":[Rn,[io],(f,[l])=>l.evaluate(f).resolvedLocale()]});class Cd{constructor(l,h){this.expression=l,this._warningHistory={},this._evaluator=new xc,this._defaultValue=h?(function(b){if(b.type==="color"&&Xc(b.default))return new Nn(0,0,0,0);switch(b.type){case"color":return Nn.parse(b.default)||null;case"padding":return yi.parse(b.default)||null;case"numberArray":return sa.parse(b.default)||null;case"colorArray":return Ii.parse(b.default)||null;case"variableAnchorOffsetCollection":return Bn.parse(b.default)||null;case"projectionDefinition":return pi.parse(b.default)||null;default:return b.default===void 0?null:b.default}})(h):null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(l,h,b,T,M,O){return this._evaluator.globals=l,this._evaluator.feature=h,this._evaluator.featureState=b,this._evaluator.canonical=T,this._evaluator.availableImages=M||null,this._evaluator.formattedSection=O,this.expression.evaluate(this._evaluator)}evaluate(l,h,b,T,M,O){this._evaluator.globals=l,this._evaluator.feature=h||null,this._evaluator.featureState=b||null,this._evaluator.canonical=T,this._evaluator.availableImages=M||null,this._evaluator.formattedSection=O||null;try{const q=this.expression.evaluate(this._evaluator);if(q==null||typeof q=="number"&&q!=q)return this._defaultValue;if(this._enumValues&&!(q in this._enumValues))throw new zi(`Expected value to be one of ${Object.keys(this._enumValues).map((J=>JSON.stringify(J))).join(", ")}, but found ${JSON.stringify(q)} instead.`);return q}catch(q){return this._warningHistory[q.message]||(this._warningHistory[q.message]=!0,typeof console<"u"&&console.warn(q.message)),this._defaultValue}}}function Wc(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in ma}function Dh(f,l){const h=new Vl(ma,Tc,[],l?(function(T){const M={color:Ra,string:Rn,number:en,enum:Rn,boolean:Wn,formatted:rl,padding:oa,numberArray:uc,colorArray:ha,projectionDefinition:xo,resolvedImage:Vi,variableAnchorOffsetCollection:nl};return T.type==="array"?Xo(M[T.value]||Mn,T.length):M[T.type]})(l):void 0),b=h.parse(f,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?Ac(new Cd(b,l)):Il(h.errors)}class Yu{constructor(l,h){this.kind=l,this._styleExpression=h,this.isStateDependent=l!=="constant"&&!kl(h.expression),this.globalStateRefs=wu(h.expression)}evaluateWithoutErrorHandling(l,h,b,T,M,O){return this._styleExpression.evaluateWithoutErrorHandling(l,h,b,T,M,O)}evaluate(l,h,b,T,M,O){return this._styleExpression.evaluate(l,h,b,T,M,O)}}class Ad{constructor(l,h,b,T){this.kind=l,this.zoomStops=b,this._styleExpression=h,this.isStateDependent=l!=="camera"&&!kl(h.expression),this.globalStateRefs=wu(h.expression),this.interpolationType=T}evaluateWithoutErrorHandling(l,h,b,T,M,O){return this._styleExpression.evaluateWithoutErrorHandling(l,h,b,T,M,O)}evaluate(l,h,b,T,M,O){return this._styleExpression.evaluate(l,h,b,T,M,O)}interpolationFactor(l,h,b){return this.interpolationType?wi.interpolationFactor(this.interpolationType,l,h,b):0}}function kd(f,l){const h=Dh(f,l);if(h.result==="error")return h;const b=h.value.expression,T=Cc(b);if(!T&&!Co(l))return Il([new On("","data expressions not supported")]);const M=ml(b,["zoom"]);if(!M&&!Cs(l))return Il([new On("","zoom expressions not supported")]);const O=mc(b);return O||M?O instanceof On?Il([O]):O instanceof wi&&!Wu(l)?Il([new On("",'"interpolate" expressions cannot be used with this property')]):Ac(O?new Ad(T?"camera":"composite",h.value,O.labels,O instanceof wi?O.interpolation:void 0):new Yu(T?"constant":"source",h.value)):Il([new On("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class kc{constructor(l,h){this._parameters=l,this._specification=h,fi(this,lf(this._parameters,this._specification))}static deserialize(l){return new kc(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function mc(f){let l=null;if(f instanceof So)l=mc(f.result);else if(f instanceof Ui){for(const h of f.args)if(l=mc(h),l)break}else(f instanceof Yr||f instanceof wi)&&f.input instanceof qi&&f.input.name==="zoom"&&(l=f);return l instanceof On||f.eachChild((h=>{const b=mc(h);b instanceof On?l=b:!l&&b?l=new On("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&b&&l!==b&&(l=new On("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),l}function wu(f,l=new Set){return f instanceof Hn&&l.add(f.key),f.eachChild((h=>{wu(h,l)})),l}function Ic(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(const l of f.slice(1))if(!Ic(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const au={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gl(f){if(f==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Ic(f)||(f=Id(f));const l=Dh(f,au);if(l.result==="error")throw new Error(l.value.map((h=>`${h.key}: ${h.message}`)).join(", "));return{filter:(h,b,T)=>l.value.evaluate(h,b,{},T),needGeometry:Mp(f),getGlobalStateRefs:()=>wu(l.value.expression)}}function Bg(f,l){return f<l?-1:f>l?1:0}function Mp(f){if(!Array.isArray(f))return!1;if(f[0]==="within"||f[0]==="distance")return!0;for(let l=1;l<f.length;l++)if(Mp(f[l]))return!0;return!1}function Id(f){if(!f)return!0;const l=f[0];return f.length<=1?l!=="any":l==="=="?Pp(f[1],f[2],"=="):l==="!="?wa(Pp(f[1],f[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Pp(f[1],f[2],l):l==="any"?(h=f.slice(1),["any"].concat(h.map(Id))):l==="all"?["all"].concat(f.slice(1).map(Id)):l==="none"?["all"].concat(f.slice(1).map(Id).map(wa)):l==="in"?Wl(f[1],f.slice(2)):l==="!in"?wa(Wl(f[1],f.slice(2))):l==="has"?Qo(f[1]):l!=="!has"||wa(Qo(f[1]));var h}function Pp(f,l,h){switch(f){case"$type":return[`filter-type-${h}`,l];case"$id":return[`filter-id-${h}`,l];default:return[`filter-${h}`,f,l]}}function Wl(f,l){if(l.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some((h=>typeof h!=typeof l[0]))?["filter-in-large",f,["literal",l.sort(Bg)]]:["filter-in-small",f,["literal",l]]}}function Qo(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function wa(f){return["!",f]}function Yl(f){const l=typeof f;if(l==="number"||l==="boolean"||l==="string"||f==null)return JSON.stringify(f);if(Array.isArray(f)){let T="[";for(const M of f)T+=`${Yl(M)},`;return`${T}]`}const h=Object.keys(f).sort();let b="{";for(let T=0;T<h.length;T++)b+=`${JSON.stringify(h[T])}:${Yl(f[h[T]])},`;return`${b}}`}function cs(f){let l="";for(const h of Wr)l+=`/${Yl(f[h])}`;return l}function Nu(f){const l=f.value;return l?[new Vr(f.key,l,"constants have been deprecated as of v8")]:[]}function go(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function yh(f){if(Array.isArray(f))return f.map(yh);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){const l={};for(const h in f)l[h]=yh(f[h]);return l}return go(f)}function yl(f){const l=f.key,h=f.value,b=f.valueSpec||{},T=f.objectElementValidators||{},M=f.style,O=f.styleSpec,q=f.validateSpec;let J=[];const ot=mi(h);if(ot!=="object")return[new Vr(l,h,`object expected, ${ot} found`)];for(const ft in h){const Et=ft.split(".")[0],$t=Fe(b,Et)||b["*"];let Gt;if(Fe(T,Et))Gt=T[Et];else if(Fe(b,Et))Gt=q;else if(T["*"])Gt=T["*"];else{if(!b["*"]){J.push(new Vr(l,h[ft],`unknown property "${ft}"`));continue}Gt=q}J=J.concat(Gt({key:(l&&`${l}.`)+ft,value:h[ft],valueSpec:$t,style:M,styleSpec:O,object:h,objectKey:ft,validateSpec:q},h))}for(const ft in b)T[ft]||b[ft].required&&b[ft].default===void 0&&h[ft]===void 0&&J.push(new Vr(l,h,`missing required property "${ft}"`));return J}function vl(f){const l=f.value,h=f.valueSpec,b=f.style,T=f.styleSpec,M=f.key,O=f.arrayElementValidator||f.validateSpec;if(mi(l)!=="array")return[new Vr(M,l,`array expected, ${mi(l)} found`)];if(h.length&&l.length!==h.length)return[new Vr(M,l,`array length ${h.length} expected, length ${l.length} found`)];if(h["min-length"]&&l.length<h["min-length"])return[new Vr(M,l,`array length at least ${h["min-length"]} expected, length ${l.length} found`)];let q={type:h.value,values:h.values};T.$version<7&&(q.function=h.function),mi(h.value)==="object"&&(q=h.value);let J=[];for(let ot=0;ot<l.length;ot++)J=J.concat(O({array:l,arrayIndex:ot,value:l[ot],valueSpec:q,validateSpec:f.validateSpec,style:b,styleSpec:T,key:`${M}[${ot}]`}));return J}function Ku(f){const l=f.key,h=f.value,b=f.valueSpec;let T=mi(h);return T==="number"&&h!=h&&(T="NaN"),T!=="number"?[new Vr(l,h,`number expected, ${T} found`)]:"minimum"in b&&h<b.minimum?[new Vr(l,h,`${h} is less than the minimum value ${b.minimum}`)]:"maximum"in b&&h>b.maximum?[new Vr(l,h,`${h} is greater than the maximum value ${b.maximum}`)]:[]}function ed(f){const l=f.valueSpec,h=go(f.value.type);let b,T,M,O={};const q=h!=="categorical"&&f.value.property===void 0,J=!q,ot=mi(f.value.stops)==="array"&&mi(f.value.stops[0])==="array"&&mi(f.value.stops[0][0])==="object",ft=yl({key:f.key,value:f.value,valueSpec:f.styleSpec.function,validateSpec:f.validateSpec,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{stops:function(Gt){if(h==="identity")return[new Vr(Gt.key,Gt.value,'identity function may not have a "stops" property')];let Wt=[];const te=Gt.value;return Wt=Wt.concat(vl({key:Gt.key,value:te,valueSpec:Gt.valueSpec,validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec,arrayElementValidator:Et})),mi(te)==="array"&&te.length===0&&Wt.push(new Vr(Gt.key,te,"array must have at least one stop")),Wt},default:function(Gt){return Gt.validateSpec({key:Gt.key,value:Gt.value,valueSpec:l,validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec})}}});return h==="identity"&&q&&ft.push(new Vr(f.key,f.value,'missing required property "property"')),h==="identity"||f.value.stops||ft.push(new Vr(f.key,f.value,'missing required property "stops"')),h==="exponential"&&f.valueSpec.expression&&!Wu(f.valueSpec)&&ft.push(new Vr(f.key,f.value,"exponential functions not supported")),f.styleSpec.$version>=8&&(J&&!Co(f.valueSpec)?ft.push(new Vr(f.key,f.value,"property functions not supported")):q&&!Cs(f.valueSpec)&&ft.push(new Vr(f.key,f.value,"zoom functions not supported"))),h!=="categorical"&&!ot||f.value.property!==void 0||ft.push(new Vr(f.key,f.value,'"property" property is required')),ft;function Et(Gt){let Wt=[];const te=Gt.value,he=Gt.key;if(mi(te)!=="array")return[new Vr(he,te,`array expected, ${mi(te)} found`)];if(te.length!==2)return[new Vr(he,te,`array length 2 expected, length ${te.length} found`)];if(ot){if(mi(te[0])!=="object")return[new Vr(he,te,`object expected, ${mi(te[0])} found`)];if(te[0].zoom===void 0)return[new Vr(he,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new Vr(he,te,"object stop key must have value")];if(M&&M>go(te[0].zoom))return[new Vr(he,te[0].zoom,"stop zoom values must appear in ascending order")];go(te[0].zoom)!==M&&(M=go(te[0].zoom),T=void 0,O={}),Wt=Wt.concat(yl({key:`${he}[0]`,value:te[0],valueSpec:{zoom:{}},validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec,objectElementValidators:{zoom:Ku,value:$t}}))}else Wt=Wt.concat($t({key:`${he}[0]`,value:te[0],validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec},te));return Wc(yh(te[1]))?Wt.concat([new Vr(`${he}[1]`,te[1],"expressions are not allowed in function stops.")]):Wt.concat(Gt.validateSpec({key:`${he}[1]`,value:te[1],valueSpec:l,validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec}))}function $t(Gt,Wt){const te=mi(Gt.value),he=go(Gt.value),Ee=Gt.value!==null?Gt.value:Wt;if(b){if(te!==b)return[new Vr(Gt.key,Ee,`${te} stop domain type must match previous stop domain type ${b}`)]}else b=te;if(te!=="number"&&te!=="string"&&te!=="boolean")return[new Vr(Gt.key,Ee,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&h!=="categorical"){let Je=`number expected, ${te} found`;return Co(l)&&h===void 0&&(Je+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Vr(Gt.key,Ee,Je)]}return h!=="categorical"||te!=="number"||isFinite(he)&&Math.floor(he)===he?h!=="categorical"&&te==="number"&&T!==void 0&&he<T?[new Vr(Gt.key,Ee,"stop domain values must appear in ascending order")]:(T=he,h==="categorical"&&he in O?[new Vr(Gt.key,Ee,"stop domain values must be unique")]:(O[he]=!0,[])):[new Vr(Gt.key,Ee,`integer expected, found ${he}`)]}}function Zu(f){const l=(f.expressionContext==="property"?kd:Dh)(yh(f.value),f.valueSpec);if(l.result==="error")return l.value.map((b=>new Vr(`${f.key}${b.key}`,f.value,b.message)));const h=l.value.expression||l.value._styleExpression.expression;if(f.expressionContext==="property"&&f.propertyKey==="text-font"&&!h.outputDefined())return[new Vr(f.key,f.value,`Invalid data expression for "${f.propertyKey}". Output values must be contained as literals within the expression.`)];if(f.expressionContext==="property"&&f.propertyType==="layout"&&!kl(h))return[new Vr(f.key,f.value,'"feature-state" data expressions are not supported with layout properties.')];if(f.expressionContext==="filter"&&!kl(h))return[new Vr(f.key,f.value,'"feature-state" data expressions are not supported with filters.')];if(f.expressionContext&&f.expressionContext.indexOf("cluster")===0){if(!ml(h,["zoom","feature-state"]))return[new Vr(f.key,f.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(f.expressionContext==="cluster-initial"&&!Cc(h))return[new Vr(f.key,f.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function cf(f){const l=f.key,h=f.value,b=mi(h);return b!=="string"?[new Vr(l,h,`color expected, ${b} found`)]:Nn.parse(String(h))?[]:[new Vr(l,h,`color expected, "${h}" found`)]}function Lu(f){const l=f.key,h=f.value,b=f.valueSpec,T=[];return Array.isArray(b.values)?b.values.indexOf(go(h))===-1&&T.push(new Vr(l,h,`expected one of [${b.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(b.values).indexOf(go(h))===-1&&T.push(new Vr(l,h,`expected one of [${Object.keys(b.values).join(", ")}], ${JSON.stringify(h)} found`)),T}function Mu(f){return Ic(yh(f.value))?Zu(fi({},f,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Bh(f)}function Bh(f){const l=f.value,h=f.key;if(mi(l)!=="array")return[new Vr(h,l,`array expected, ${mi(l)} found`)];const b=f.styleSpec;let T,M=[];if(l.length<1)return[new Vr(h,l,"filter array must have at least 1 element")];switch(M=M.concat(Lu({key:`${h}[0]`,value:l[0],valueSpec:b.filter_operator,style:f.style,styleSpec:f.styleSpec})),go(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&go(l[1])==="$type"&&M.push(new Vr(h,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&M.push(new Vr(h,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(T=mi(l[1]),T!=="string"&&M.push(new Vr(`${h}[1]`,l[1],`string expected, ${T} found`)));for(let O=2;O<l.length;O++)T=mi(l[O]),go(l[1])==="$type"?M=M.concat(Lu({key:`${h}[${O}]`,value:l[O],valueSpec:b.geometry_type,style:f.style,styleSpec:f.styleSpec})):T!=="string"&&T!=="number"&&T!=="boolean"&&M.push(new Vr(`${h}[${O}]`,l[O],`string, number, or boolean expected, ${T} found`));break;case"any":case"all":case"none":for(let O=1;O<l.length;O++)M=M.concat(Bh({key:`${h}[${O}]`,value:l[O],style:f.style,styleSpec:f.styleSpec}));break;case"has":case"!has":T=mi(l[1]),l.length!==2?M.push(new Vr(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):T!=="string"&&M.push(new Vr(`${h}[1]`,l[1],`string expected, ${T} found`))}return M}function Su(f,l){const h=f.key,b=f.validateSpec,T=f.style,M=f.styleSpec,O=f.value,q=f.objectKey,J=M[`${l}_${f.layerType}`];if(!J)return[];const ot=q.match(/^(.*)-transition$/);if(l==="paint"&&ot&&J[ot[1]]&&J[ot[1]].transition)return b({key:h,value:O,valueSpec:M.transition,style:T,styleSpec:M});const ft=f.valueSpec||J[q];if(!ft)return[new Vr(h,O,`unknown property "${q}"`)];let Et;if(mi(O)==="string"&&Co(ft)&&!ft.tokens&&(Et=/^{([^}]+)}$/.exec(O)))return[new Vr(h,O,`"${q}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Et[1])} }\`.`)];const $t=[];return f.layerType==="symbol"&&(q==="text-field"&&T&&!T.glyphs&&$t.push(new Vr(h,O,'use of "text-field" requires a style "glyphs" property')),q==="text-font"&&Xc(yh(O))&&go(O.type)==="identity"&&$t.push(new Vr(h,O,'"text-font" does not support identity functions'))),$t.concat(b({key:f.key,value:O,valueSpec:ft,style:T,styleSpec:M,expressionContext:"property",propertyType:l,propertyKey:q}))}function Qu(f){return Su(f,"paint")}function Pu(f){return Su(f,"layout")}function al(f){let l=[];const h=f.value,b=f.key,T=f.style,M=f.styleSpec;if(mi(h)!=="object")return[new Vr(b,h,`object expected, ${mi(h)} found`)];h.type||h.ref||l.push(new Vr(b,h,'either "type" or "ref" is required'));let O=go(h.type);const q=go(h.ref);if(h.id){const J=go(h.id);for(let ot=0;ot<f.arrayIndex;ot++){const ft=T.layers[ot];go(ft.id)===J&&l.push(new Vr(b,h.id,`duplicate layer id "${h.id}", previously used at line ${ft.id.__line__}`))}}if("ref"in h){let J;["type","source","source-layer","filter","layout"].forEach((ot=>{ot in h&&l.push(new Vr(b,h[ot],`"${ot}" is prohibited for ref layers`))})),T.layers.forEach((ot=>{go(ot.id)===q&&(J=ot)})),J?J.ref?l.push(new Vr(b,h.ref,"ref cannot reference another ref layer")):O=go(J.type):l.push(new Vr(b,h.ref,`ref layer "${q}" not found`))}else if(O!=="background")if(h.source){const J=T.sources&&T.sources[h.source],ot=J&&go(J.type);J?ot==="vector"&&O==="raster"?l.push(new Vr(b,h.source,`layer "${h.id}" requires a raster source`)):ot!=="raster-dem"&&O==="hillshade"||ot!=="raster-dem"&&O==="color-relief"?l.push(new Vr(b,h.source,`layer "${h.id}" requires a raster-dem source`)):ot==="raster"&&O!=="raster"?l.push(new Vr(b,h.source,`layer "${h.id}" requires a vector source`)):ot!=="vector"||h["source-layer"]?ot==="raster-dem"&&O!=="hillshade"&&O!=="color-relief"?l.push(new Vr(b,h.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):O!=="line"||!h.paint||!h.paint["line-gradient"]||ot==="geojson"&&J.lineMetrics||l.push(new Vr(b,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Vr(b,h,`layer "${h.id}" must specify a "source-layer"`)):l.push(new Vr(b,h.source,`source "${h.source}" not found`))}else l.push(new Vr(b,h,'missing required property "source"'));return l=l.concat(yl({key:b,value:h,valueSpec:M.layer,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*":()=>[],type:()=>f.validateSpec({key:`${b}.type`,value:h.type,valueSpec:M.layer.type,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,object:h,objectKey:"type"}),filter:Mu,layout:J=>yl({layer:h,key:J.key,value:J.value,style:J.style,styleSpec:J.styleSpec,validateSpec:J.validateSpec,objectElementValidators:{"*":ot=>Pu(fi({layerType:O},ot))}}),paint:J=>yl({layer:h,key:J.key,value:J.value,style:J.style,styleSpec:J.styleSpec,validateSpec:J.validateSpec,objectElementValidators:{"*":ot=>Qu(fi({layerType:O},ot))}})}})),l}function ou(f){const l=f.value,h=f.key,b=mi(l);return b!=="string"?[new Vr(h,l,`string expected, ${b} found`)]:[]}const vh={promoteId:function({key:f,value:l}){if(mi(l)==="string")return ou({key:f,value:l});{const h=[];for(const b in l)h.push(...ou({key:`${f}.${b}`,value:l[b]}));return h}}};function Kl(f){const l=f.value,h=f.key,b=f.styleSpec,T=f.style,M=f.validateSpec;if(!l.type)return[new Vr(h,l,'"type" is required')];const O=go(l.type);let q;switch(O){case"vector":case"raster":return q=yl({key:h,value:l,valueSpec:b[`source_${O.replace("-","_")}`],style:f.style,styleSpec:b,objectElementValidators:vh,validateSpec:M}),q;case"raster-dem":return q=(function(J){var ot;const ft=(ot=J.sourceName)!==null&&ot!==void 0?ot:"",Et=J.value,$t=J.styleSpec,Gt=$t.source_raster_dem,Wt=J.style;let te=[];const he=mi(Et);if(Et===void 0)return te;if(he!=="object")return te.push(new Vr("source_raster_dem",Et,`object expected, ${he} found`)),te;const Ee=go(Et.encoding)==="custom",Je=["redFactor","greenFactor","blueFactor","baseShift"],De=J.value.encoding?`"${J.value.encoding}"`:"Default";for(const qt in Et)!Ee&&Je.includes(qt)?te.push(new Vr(qt,Et[qt],`In "${ft}": "${qt}" is only valid when "encoding" is set to "custom". ${De} encoding found`)):Gt[qt]?te=te.concat(J.validateSpec({key:qt,value:Et[qt],valueSpec:Gt[qt],validateSpec:J.validateSpec,style:Wt,styleSpec:$t})):te.push(new Vr(qt,Et[qt],`unknown property "${qt}"`));return te})({sourceName:h,value:l,style:f.style,styleSpec:b,validateSpec:M}),q;case"geojson":if(q=yl({key:h,value:l,valueSpec:b.source_geojson,style:T,styleSpec:b,validateSpec:M,objectElementValidators:vh}),l.cluster)for(const J in l.clusterProperties){const[ot,ft]=l.clusterProperties[J],Et=typeof ot=="string"?[ot,["accumulated"],["get",J]]:ot;q.push(...Zu({key:`${h}.${J}.map`,value:ft,expressionContext:"cluster-map"})),q.push(...Zu({key:`${h}.${J}.reduce`,value:Et,expressionContext:"cluster-reduce"}))}return q;case"video":return yl({key:h,value:l,valueSpec:b.source_video,style:T,validateSpec:M,styleSpec:b});case"image":return yl({key:h,value:l,valueSpec:b.source_image,style:T,validateSpec:M,styleSpec:b});case"canvas":return[new Vr(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Lu({key:`${h}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Xf(f){const l=f.value,h=f.styleSpec,b=h.light,T=f.style;let M=[];const O=mi(l);if(l===void 0)return M;if(O!=="object")return M=M.concat([new Vr("light",l,`object expected, ${O} found`)]),M;for(const q in l){const J=q.match(/^(.*)-transition$/);M=M.concat(J&&b[J[1]]&&b[J[1]].transition?f.validateSpec({key:q,value:l[q],valueSpec:h.transition,validateSpec:f.validateSpec,style:T,styleSpec:h}):b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],validateSpec:f.validateSpec,style:T,styleSpec:h}):[new Vr(q,l[q],`unknown property "${q}"`)])}return M}function Rd(f){const l=f.value,h=f.styleSpec,b=h.sky,T=f.style,M=mi(l);if(l===void 0)return[];if(M!=="object")return[new Vr("sky",l,`object expected, ${M} found`)];let O=[];for(const q in l)O=O.concat(b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],style:T,styleSpec:h}):[new Vr(q,l[q],`unknown property "${q}"`)]);return O}function Vm(f){const l=f.value,h=f.styleSpec,b=h.terrain,T=f.style;let M=[];const O=mi(l);if(l===void 0)return M;if(O!=="object")return M=M.concat([new Vr("terrain",l,`object expected, ${O} found`)]),M;for(const q in l)M=M.concat(b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],validateSpec:f.validateSpec,style:T,styleSpec:h}):[new Vr(q,l[q],`unknown property "${q}"`)]);return M}function Op(f){let l=[];const h=f.value,b=f.key;if(Array.isArray(h)){const T=[],M=[];for(const O in h)h[O].id&&T.includes(h[O].id)&&l.push(new Vr(b,h,`all the sprites' ids must be unique, but ${h[O].id} is duplicated`)),T.push(h[O].id),h[O].url&&M.includes(h[O].url)&&l.push(new Vr(b,h,`all the sprites' URLs must be unique, but ${h[O].url} is duplicated`)),M.push(h[O].url),l=l.concat(yl({key:`${b}[${O}]`,value:h[O],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:f.validateSpec}));return l}return ou({key:b,value:h})}function zg(f){return l=f.value,l&&l.constructor===Object?[]:[new Vr(f.key,f.value,`object expected, ${mi(f.value)} found`)];var l}const As={"*":()=>[],array:vl,boolean:function(f){const l=f.value,h=f.key,b=mi(l);return b!=="boolean"?[new Vr(h,l,`boolean expected, ${b} found`)]:[]},number:Ku,color:cf,constants:Nu,enum:Lu,filter:Mu,function:ed,layer:al,object:yl,source:Kl,light:Xf,sky:Rd,terrain:Vm,projection:function(f){const l=f.value,h=f.styleSpec,b=h.projection,T=f.style,M=mi(l);if(l===void 0)return[];if(M!=="object")return[new Vr("projection",l,`object expected, ${M} found`)];let O=[];for(const q in l)O=O.concat(b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],style:T,styleSpec:h}):[new Vr(q,l[q],`unknown property "${q}"`)]);return O},projectionDefinition:function(f){const l=f.key;let h=f.value;h=h instanceof String?h.valueOf():h;const b=mi(h);return b!=="array"||(function(T){return Array.isArray(T)&&T.length===3&&typeof T[0]=="string"&&typeof T[1]=="string"&&typeof T[2]=="number"})(h)||(function(T){return!!["interpolate","step","literal"].includes(T[0])})(h)?["array","string"].includes(b)?[]:[new Vr(l,h,`projection expected, invalid type "${b}" found`)]:[new Vr(l,h,`projection expected, invalid array ${JSON.stringify(h)} found`)]},string:ou,formatted:function(f){return ou(f).length===0?[]:Zu(f)},resolvedImage:function(f){return ou(f).length===0?[]:Zu(f)},padding:function(f){const l=f.key,h=f.value;if(mi(h)==="array"){if(h.length<1||h.length>4)return[new Vr(l,h,`padding requires 1 to 4 values; ${h.length} values found`)];const b={type:"number"};let T=[];for(let M=0;M<h.length;M++)T=T.concat(f.validateSpec({key:`${l}[${M}]`,value:h[M],validateSpec:f.validateSpec,valueSpec:b}));return T}return Ku({key:l,value:h,valueSpec:{}})},numberArray:function(f){const l=f.key,h=f.value;if(mi(h)==="array"){const b={type:"number"};if(h.length<1)return[new Vr(l,h,"array length at least 1 expected, length 0 found")];let T=[];for(let M=0;M<h.length;M++)T=T.concat(f.validateSpec({key:`${l}[${M}]`,value:h[M],validateSpec:f.validateSpec,valueSpec:b}));return T}return Ku({key:l,value:h,valueSpec:{}})},colorArray:function(f){const l=f.key,h=f.value;if(mi(h)==="array"){if(h.length<1)return[new Vr(l,h,"array length at least 1 expected, length 0 found")];let b=[];for(let T=0;T<h.length;T++)b=b.concat(cf({key:`${l}[${T}]`,value:h[T]}));return b}return cf({key:l,value:h})},variableAnchorOffsetCollection:function(f){const l=f.key,h=f.value,b=mi(h),T=f.styleSpec;if(b!=="array"||h.length<1||h.length%2!=0)return[new Vr(l,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let M=[];for(let O=0;O<h.length;O+=2)M=M.concat(Lu({key:`${l}[${O}]`,value:h[O],valueSpec:T.layout_symbol["text-anchor"]})),M=M.concat(vl({key:`${l}[${O+1}]`,value:h[O+1],valueSpec:{length:2,value:"number"},validateSpec:f.validateSpec,style:f.style,styleSpec:T}));return M},sprite:Op,state:zg};function zh(f){const l=f.value,h=f.valueSpec,b=f.styleSpec;return f.validateSpec=zh,h.expression&&Xc(go(l))?ed(f):h.expression&&Wc(yh(l))?Zu(f):h.type&&As[h.type]?As[h.type](f):yl(fi({},f,{valueSpec:h.type?b[h.type]:h}))}function bh(f){const l=f.value,h=f.key,b=ou(f);return b.length||(l.indexOf("{fontstack}")===-1&&b.push(new Vr(h,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&b.push(new Vr(h,l,'"glyphs" url must include a "{range}" token'))),b}function Rc(f,l=Oe){let h=[];return h=h.concat(zh({key:"",value:f,valueSpec:l.$root,styleSpec:l,style:f,validateSpec:zh,objectElementValidators:{glyphs:bh,"*":()=>[]}})),f.constants&&(h=h.concat(Nu({key:"constants",value:f.constants}))),$(h)}function su(f){return function(l){return f({...l,validateSpec:zh})}}function $(f){return[].concat(f).sort(((l,h)=>l.line-h.line))}function Z(f){return function(...l){return $(f.apply(this,l))}}Rc.source=Z(su(Kl)),Rc.sprite=Z(su(Op)),Rc.glyphs=Z(su(bh)),Rc.light=Z(su(Xf)),Rc.sky=Z(su(Rd)),Rc.terrain=Z(su(Vm)),Rc.state=Z(su(zg)),Rc.layer=Z(su(al)),Rc.filter=Z(su(Mu)),Rc.paintProperty=Z(su(Qu)),Rc.layoutProperty=Z(su(Pu));const yt=Rc,Nt=yt.light,Zt=yt.sky,ne=yt.paintProperty,ae=yt.layoutProperty;function ue(f,l){let h=!1;if(l&&l.length)for(const b of l)f.fire(new Pe(new Error(b.message))),h=!0;return h}class ge{constructor(l,h,b){const T=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const O=new Int32Array(this.arrayBuffer);l=O[0],this.d=(h=O[1])+2*(b=O[2]);for(let J=0;J<this.d*this.d;J++){const ot=O[3+J],ft=O[3+J+1];T.push(ot===ft?null:O.subarray(ot,ft))}const q=O[3+T.length+1];this.keys=O.subarray(O[3+T.length],q),this.bboxes=O.subarray(q),this.insert=this._insertReadonly}else{this.d=h+2*b;for(let O=0;O<this.d*this.d;O++)T.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=l,this.padding=b,this.scale=h/l,this.uid=0;const M=b/h*l;this.min=-M,this.max=l+M}insert(l,h,b,T,M){this._forEachCell(h,b,T,M,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(h),this.bboxes.push(b),this.bboxes.push(T),this.bboxes.push(M)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,h,b,T,M,O){this.cells[M].push(O)}query(l,h,b,T,M){const O=this.min,q=this.max;if(l<=O&&h<=O&&q<=b&&q<=T&&!M)return Array.prototype.slice.call(this.keys);{const J=[];return this._forEachCell(l,h,b,T,this._queryCell,J,{},M),J}}_queryCell(l,h,b,T,M,O,q,J){const ot=this.cells[M];if(ot!==null){const ft=this.keys,Et=this.bboxes;for(let $t=0;$t<ot.length;$t++){const Gt=ot[$t];if(q[Gt]===void 0){const Wt=4*Gt;(J?J(Et[Wt+0],Et[Wt+1],Et[Wt+2],Et[Wt+3]):l<=Et[Wt+2]&&h<=Et[Wt+3]&&b>=Et[Wt+0]&&T>=Et[Wt+1])?(q[Gt]=!0,O.push(ft[Gt])):q[Gt]=!1}}}}_forEachCell(l,h,b,T,M,O,q,J){const ot=this._convertToCellCoord(l),ft=this._convertToCellCoord(h),Et=this._convertToCellCoord(b),$t=this._convertToCellCoord(T);for(let Gt=ot;Gt<=Et;Gt++)for(let Wt=ft;Wt<=$t;Wt++){const te=this.d*Wt+Gt;if((!J||J(this._convertFromCellCoord(Gt),this._convertFromCellCoord(Wt),this._convertFromCellCoord(Gt+1),this._convertFromCellCoord(Wt+1)))&&M.call(this,l,h,b,T,te,O,q,J))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,h=3+this.cells.length+1+1;let b=0;for(let O=0;O<this.cells.length;O++)b+=this.cells[O].length;const T=new Int32Array(h+b+this.keys.length+this.bboxes.length);T[0]=this.extent,T[1]=this.n,T[2]=this.padding;let M=h;for(let O=0;O<l.length;O++){const q=l[O];T[3+O]=M,T.set(q,M),M+=q.length}return T[3+l.length]=M,T.set(this.keys,M),M+=this.keys.length,T[3+l.length+1]=M,T.set(this.bboxes,M),M+=this.bboxes.length,T.buffer}static serialize(l,h){const b=l.toArrayBuffer();return h&&h.push(b),{buffer:b}}static deserialize(l){return new ge(l.buffer)}}const Te={};function Ce(f,l,h={}){if(Te[f])throw new Error(`${f} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:f,writeable:!1}),Te[f]={klass:l,omit:h.omit||[],shallow:h.shallow||[]}}Ce("Object",Object),Ce("Set",Set),Ce("TransferableGridIndex",ge),Ce("Color",Nn),Ce("Error",Error),Ce("AJAXError",oe),Ce("ResolvedImage",Xa),Ce("StylePropertyFunction",kc),Ce("StyleExpression",Cd,{omit:["_evaluator"]}),Ce("ZoomDependentExpression",Ad),Ce("ZoomConstantExpression",Yu),Ce("CompoundExpression",qi,{omit:["_evaluate"]});for(const f in ma)ma[f]._classRegistryKey||Ce(`Expression_${f}`,ma[f]);function Nr(f){return f&&typeof ArrayBuffer<"u"&&(f instanceof ArrayBuffer||f.constructor&&f.constructor.name==="ArrayBuffer")}function Ae(f){return f.$name||f.constructor._classRegistryKey}function hr(f){return!(function(l){if(l===null||typeof l!="object")return!1;const h=Ae(l);return!(!h||h==="Object")})(f)&&(f==null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f instanceof Boolean||f instanceof Number||f instanceof String||f instanceof Date||f instanceof RegExp||f instanceof Blob||f instanceof Error||Nr(f)||ir(f)||ArrayBuffer.isView(f)||f instanceof ImageData)}function br(f,l){if(hr(f))return(Nr(f)||ir(f))&&l&&l.push(f),ArrayBuffer.isView(f)&&l&&l.push(f.buffer),f instanceof ImageData&&l&&l.push(f.data.buffer),f;if(Array.isArray(f)){const M=[];for(const O of f)M.push(br(O,l));return M}if(typeof f!="object")throw new Error("can't serialize object of type "+typeof f);const h=Ae(f);if(!h)throw new Error(`can't serialize object of unregistered class ${f.constructor.name}`);if(!Te[h])throw new Error(`${h} is not registered.`);const{klass:b}=Te[h],T=b.serialize?b.serialize(f,l):{};if(b.serialize){if(l&&T===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const M in f){if(!f.hasOwnProperty(M)||Te[h].omit.indexOf(M)>=0)continue;const O=f[M];T[M]=Te[h].shallow.indexOf(M)>=0?O:br(O,l)}f instanceof Error&&(T.message=f.message)}if(T.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(T.$name=h),T}function Xr(f){if(hr(f))return f;if(Array.isArray(f))return f.map(Xr);if(typeof f!="object")throw new Error("can't deserialize object of type "+typeof f);const l=Ae(f)||"Object";if(!Te[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:h}=Te[l];if(!h)throw new Error(`can't deserialize unregistered class ${l}`);if(h.deserialize)return h.deserialize(f);const b=Object.create(h.prototype);for(const T of Object.keys(f)){if(T==="$name")continue;const M=f[T];b[T]=Te[l].shallow.indexOf(T)>=0?M:Xr(M)}return b}class Er{constructor(){this.first=!0}update(l,h){const b=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=b,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=b,!0):(this.lastFloorZoom>b?(this.lastIntegerZoom=b+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<b&&(this.lastIntegerZoom=b,this.lastIntegerZoomTime=h),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=b,!0))}}const wr={"Latin-1 Supplement":f=>f>=128&&f<=255,"Hangul Jamo":f=>f>=4352&&f<=4607,Khmer:f=>f>=6016&&f<=6143,"General Punctuation":f=>f>=8192&&f<=8303,"Letterlike Symbols":f=>f>=8448&&f<=8527,"Number Forms":f=>f>=8528&&f<=8591,"Miscellaneous Technical":f=>f>=8960&&f<=9215,"Control Pictures":f=>f>=9216&&f<=9279,"Optical Character Recognition":f=>f>=9280&&f<=9311,"Enclosed Alphanumerics":f=>f>=9312&&f<=9471,"Geometric Shapes":f=>f>=9632&&f<=9727,"Miscellaneous Symbols":f=>f>=9728&&f<=9983,"Miscellaneous Symbols and Arrows":f=>f>=11008&&f<=11263,"Ideographic Description Characters":f=>f>=12272&&f<=12287,"CJK Symbols and Punctuation":f=>f>=12288&&f<=12351,Hiragana:f=>f>=12352&&f<=12447,Katakana:f=>f>=12448&&f<=12543,Kanbun:f=>f>=12688&&f<=12703,"CJK Strokes":f=>f>=12736&&f<=12783,"Enclosed CJK Letters and Months":f=>f>=12800&&f<=13055,"CJK Compatibility":f=>f>=13056&&f<=13311,"Yijing Hexagram Symbols":f=>f>=19904&&f<=19967,"CJK Unified Ideographs":f=>f>=19968&&f<=40959,"Hangul Syllables":f=>f>=44032&&f<=55215,"Private Use Area":f=>f>=57344&&f<=63743,"Vertical Forms":f=>f>=65040&&f<=65055,"CJK Compatibility Forms":f=>f>=65072&&f<=65103,"Small Form Variants":f=>f>=65104&&f<=65135,"Halfwidth and Fullwidth Forms":f=>f>=65280&&f<=65519};function Qr(f){for(const l of f)if(ai(l.charCodeAt(0)))return!0;return!1}function Sn(f){for(const l of f)if(!ni(l.charCodeAt(0)))return!1;return!0}function ln(f){const l=f.map((h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}})).filter((h=>h));return new RegExp(l.join("|"),"u")}const ui=ln(["Arab","Dupl","Mong","Ougr","Syrc"]);function ni(f){return!ui.test(String.fromCodePoint(f))}const Fi=ln(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function ai(f){return!(f!==746&&f!==747&&(f<4352||!(wr["CJK Compatibility Forms"](f)&&!(f>=65097&&f<=65103)||wr["CJK Compatibility"](f)||wr["CJK Strokes"](f)||!(!wr["CJK Symbols and Punctuation"](f)||f>=12296&&f<=12305||f>=12308&&f<=12319||f===12336)||wr["Enclosed CJK Letters and Months"](f)||wr["Ideographic Description Characters"](f)||wr.Kanbun(f)||wr.Katakana(f)&&f!==12540||!(!wr["Halfwidth and Fullwidth Forms"](f)||f===65288||f===65289||f===65293||f>=65306&&f<=65310||f===65339||f===65341||f===65343||f>=65371&&f<=65503||f===65507||f>=65512&&f<=65519)||!(!wr["Small Form Variants"](f)||f>=65112&&f<=65118||f>=65123&&f<=65126)||wr["Vertical Forms"](f)||wr["Yijing Hexagram Symbols"](f)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(f))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(f))||Fi.test(String.fromCodePoint(f)))))}function Ea(f){return!(ai(f)||(function(l){return!!(wr["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||wr["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||wr["Letterlike Symbols"](l)||wr["Number Forms"](l)||wr["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||wr["Control Pictures"](l)&&l!==9251||wr["Optical Character Recognition"](l)||wr["Enclosed Alphanumerics"](l)||wr["Geometric Shapes"](l)||wr["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||wr["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||wr["CJK Symbols and Punctuation"](l)||wr.Katakana(l)||wr["Private Use Area"](l)||wr["CJK Compatibility Forms"](l)||wr["Small Form Variants"](l)||wr["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)})(f))}const Jo=ln(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function $i(f){return Jo.test(String.fromCodePoint(f))}function ii(f,l){return!(!l&&$i(f)||f>=2304&&f<=3583||f>=3840&&f<=4255||wr.Khmer(f))}function Pn(f){for(const l of f)if($i(l.charCodeAt(0)))return!0;return!1}const yo=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(f){this.pluginStatus=f.pluginStatus,this.pluginURL=f.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(f){if(yo.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=f.applyArabicShaping,this.processBidirectionalText=f.processBidirectionalText,this.processStyledBidirectionalText=f.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(f,l){return a(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(f.pluginStatus!=="loading")return this.setState(f),f;const h=f.pluginURL,b=new Promise((M=>{this.loadScriptResolve=M}));l(h);const T=new Promise((M=>setTimeout((()=>M()),this.TIMEOUT)));if(yield Promise.race([b,T]),this.isParsed()){const M={pluginStatus:"loaded",pluginURL:h};return this.setState(M),M}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${h}`)}))}};class Gn{constructor(l,h){this.zoom=l,h?(this.now=h.now||0,this.fadeDuration=h.fadeDuration||0,this.zoomHistory=h.zoomHistory||new Er,this.transition=h.transition||{},this.globalState=h.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Er,this.transition={},this.globalState={})}isSupportedScript(l){return(function(h,b){for(const T of h)if(!ii(T.charCodeAt(0),b))return!1;return!0})(l,yo.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,h=l-Math.floor(l),b=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*b}:{fromScale:.5,toScale:1,t:1-(1-b)*h}}}class Gi{constructor(l,h){this.property=l,this.value=h,this.expression=(function(b,T){if(Xc(b))return new kc(b,T);if(Wc(b)){const M=kd(b,T);if(M.result==="error")throw new Error(M.value.map((O=>`${O.key}: ${O.message}`)).join(", "));return M.value}{let M=b;return T.type==="color"&&typeof b=="string"?M=Nn.parse(b):T.type!=="padding"||typeof b!="number"&&!Array.isArray(b)?T.type!=="numberArray"||typeof b!="number"&&!Array.isArray(b)?T.type!=="colorArray"||typeof b!="string"&&!Array.isArray(b)?T.type==="variableAnchorOffsetCollection"&&Array.isArray(b)?M=Bn.parse(b):T.type==="projectionDefinition"&&typeof b=="string"&&(M=pi.parse(b)):M=Ii.parse(b):M=sa.parse(b):M=yi.parse(b),{globalStateRefs:new Set,kind:"constant",evaluate:()=>M}}})(h===void 0?l.specification.default:h,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(l,h,b){return this.property.possiblyEvaluate(this,l,h,b)}}class eo{constructor(l){this.property=l,this.value=new Gi(l,void 0)}transitioned(l,h){return new Zl(this.property,this.value,h,Se({},l.transition,this.transition),l.now)}untransitioned(){return new Zl(this.property,this.value,null,{},0)}}class ol{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return Jt(this._values[l].value.value)}setValue(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new eo(this._values[l].property)),this._values[l].value=new Gi(this._values[l].property,h===null?void 0:Jt(h))}getTransition(l){return Jt(this._values[l].transition)}setTransition(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new eo(this._values[l].property)),this._values[l].transition=Jt(h)||void 0}serialize(){const l={};for(const h of Object.keys(this._values)){const b=this.getValue(h);b!==void 0&&(l[h]=b);const T=this.getTransition(h);T!==void 0&&(l[`${h}-transition`]=T)}return l}transitioned(l,h){const b=new Vo(this._properties);for(const T of Object.keys(this._values))b._values[T]=this._values[T].transitioned(l,h._values[T]);return b}untransitioned(){const l=new Vo(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].untransitioned();return l}}class Zl{constructor(l,h,b,T,M){this.property=l,this.value=h,this.begin=M+T.delay||0,this.end=this.begin+T.duration||0,l.specification.transition&&(T.delay||T.duration)&&(this.prior=b)}possiblyEvaluate(l,h,b){const T=l.now||0,M=this.value.possiblyEvaluate(l,h,b),O=this.prior;if(O){if(T>this.end)return this.prior=null,M;if(this.value.isDataDriven())return this.prior=null,M;if(T<this.begin)return O.possiblyEvaluate(l,h,b);{const q=(T-this.begin)/(this.end-this.begin);return this.property.interpolate(O.possiblyEvaluate(l,h,b),M,Ut(q))}}return M}}class Vo{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,h,b){const T=new Os(this._properties);for(const M of Object.keys(this._values))T._values[M]=this._values[M].possiblyEvaluate(l,h,b);return T}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class bl{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return Jt(this._values[l].value)}setValue(l,h){this._values[l]=new Gi(this._values[l].property,h===null?void 0:Jt(h))}serialize(){const l={};for(const h of Object.keys(this._values)){const b=this.getValue(h);b!==void 0&&(l[h]=b)}return l}possiblyEvaluate(l,h,b){const T=new Os(this._properties);for(const M of Object.keys(this._values))T._values[M]=this._values[M].possiblyEvaluate(l,h,b);return T}}class us{constructor(l,h,b){this.property=l,this.value=h,this.parameters=b}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,h,b,T){return this.property.evaluate(this.value,this.parameters,l,h,b,T)}}class Os{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class yn{constructor(l){this.specification=l}possiblyEvaluate(l,h){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(h)}interpolate(l,h,b){const T=Oi[this.specification.type];return T?T(l,h,b):l}}class kn{constructor(l,h){this.specification=l,this.overrides=h}possiblyEvaluate(l,h,b,T){return new us(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(h,null,{},b,T)}:l.expression,h)}interpolate(l,h,b){if(l.value.kind!=="constant"||h.value.kind!=="constant")return l;if(l.value.value===void 0||h.value.value===void 0)return new us(this,{kind:"constant",value:void 0},l.parameters);const T=Oi[this.specification.type];if(T){const M=T(l.value.value,h.value.value,b);return new us(this,{kind:"constant",value:M},l.parameters)}return l}evaluate(l,h,b,T,M,O){return l.kind==="constant"?l.value:l.evaluate(h,b,T,M,O)}}class ts extends kn{possiblyEvaluate(l,h,b,T){if(l.value===void 0)return new us(this,{kind:"constant",value:void 0},h);if(l.expression.kind==="constant"){const M=l.expression.evaluate(h,null,{},b,T),O=l.property.specification.type==="resolvedImage"&&typeof M!="string"?M.name:M,q=this._calculate(O,O,O,h);return new us(this,{kind:"constant",value:q},h)}if(l.expression.kind==="camera"){const M=this._calculate(l.expression.evaluate({zoom:h.zoom-1}),l.expression.evaluate({zoom:h.zoom}),l.expression.evaluate({zoom:h.zoom+1}),h);return new us(this,{kind:"constant",value:M},h)}return new us(this,l.expression,h)}evaluate(l,h,b,T,M,O){if(l.kind==="source"){const q=l.evaluate(h,b,T,M,O);return this._calculate(q,q,q,h)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(h.zoom)-1},b,T),l.evaluate({zoom:Math.floor(h.zoom)},b,T),l.evaluate({zoom:Math.floor(h.zoom)+1},b,T),h):l.value}_calculate(l,h,b,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:b,to:h}}interpolate(l){return l}}class Wa{constructor(l){this.specification=l}possiblyEvaluate(l,h,b,T){if(l.value!==void 0){if(l.expression.kind==="constant"){const M=l.expression.evaluate(h,null,{},b,T);return this._calculate(M,M,M,h)}return this._calculate(l.expression.evaluate(new Gn(Math.floor(h.zoom-1),h)),l.expression.evaluate(new Gn(Math.floor(h.zoom),h)),l.expression.evaluate(new Gn(Math.floor(h.zoom+1),h)),h)}}_calculate(l,h,b,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:b,to:h}}interpolate(l){return l}}class Ds{constructor(l){this.specification=l}possiblyEvaluate(l,h,b,T){return!!l.expression.evaluate(h,null,{},b,T)}interpolate(){return!1}}class La{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in l){const b=l[h];b.specification.overridable&&this.overridableProperties.push(h);const T=this.defaultPropertyValues[h]=new Gi(b,void 0),M=this.defaultTransitionablePropertyValues[h]=new eo(b);this.defaultTransitioningPropertyValues[h]=M.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=T.possiblyEvaluate({})}}}Ce("DataDrivenProperty",kn),Ce("DataConstantProperty",yn),Ce("CrossFadedDataDrivenProperty",ts),Ce("CrossFadedProperty",Wa),Ce("ColorRampProperty",Ds);const Ya="-transition";class Ma extends ur{constructor(l,h){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter,this._featureFilter=gl(l.filter)),h.layout&&(this._unevaluatedLayout=new bl(h.layout)),h.paint)){this._transitionablePaint=new ol(h.paint);for(const b in l.paint)this.setPaintProperty(b,l.paint[b],{validate:!1});for(const b in l.layout)this.setLayoutProperty(b,l.layout[b],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Os(h.paint)}}setFilter(l){this.filter=l,this._featureFilter=gl(l)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}getLayoutAffectingGlobalStateRefs(){const l=new Set;if(this._unevaluatedLayout)for(const h in this._unevaluatedLayout._values){const b=this._unevaluatedLayout._values[h];for(const T of b.getGlobalStateRefs())l.add(T)}for(const h of this._featureFilter.getGlobalStateRefs())l.add(h);return l}setLayoutProperty(l,h,b={}){h!=null&&this._validate(ae,`layers.${this.id}.layout.${l}`,l,h,b)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,h):this.visibility=h)}getPaintProperty(l){return l.endsWith(Ya)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,h,b={}){if(h!=null&&this._validate(ne,`layers.${this.id}.paint.${l}`,l,h,b))return!1;if(l.endsWith(Ya))return this._transitionablePaint.setTransition(l.slice(0,-11),h||void 0),!1;{const T=this._transitionablePaint._values[l],M=T.property.specification["property-type"]==="cross-faded-data-driven",O=T.value.isDataDriven(),q=T.value;this._transitionablePaint.setValue(l,h),this._handleSpecialPaintPropertyUpdate(l);const J=this._transitionablePaint._values[l].value;return J.isDataDriven()||O||M||this._handleOverridablePaintPropertyUpdate(l,q,J)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,h,b){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,h){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,h)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ke(l,((h,b)=>!(h===void 0||b==="layout"&&!Object.keys(h).length||b==="paint"&&!Object.keys(h).length)))}_validate(l,h,b,T,M={}){return(!M||M.validate!==!1)&&ue(this,l.call(yt,{key:h,layerType:this.type,objectKey:b,value:T,styleSpec:Oe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const h=this.paint.get(l);if(h instanceof us&&Co(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}const vo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class es{constructor(l,h){this._structArray=l,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class la{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,h){return l._trim(),h&&(l.isTransferred=!0,h.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const h=Object.create(this.prototype);return h.arrayBuffer=l.arrayBuffer,h.length=l.length,h.capacity=l.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Di(f,l=1){let h=0,b=0;return{members:f.map((T=>{const M=vo[T.type].BYTES_PER_ELEMENT,O=h=Ua(h,Math.max(l,M)),q=T.components||1;return b=Math.max(b,M),h+=M*q,{name:T.name,type:T.type,components:q,offset:O}})),size:Ua(h,Math.max(b,l)),alignment:l}}function Ua(f,l){return Math.ceil(f/l)*l}class Bs extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const T=2*l;return this.int16[T+0]=h,this.int16[T+1]=b,l}}Bs.prototype.bytesPerElement=4,Ce("StructArrayLayout2i4",Bs);class Ao extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,b)}emplace(l,h,b,T){const M=3*l;return this.int16[M+0]=h,this.int16[M+1]=b,this.int16[M+2]=T,l}}Ao.prototype.bytesPerElement=6,Ce("StructArrayLayout3i6",Ao);class bi extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,T){const M=this.length;return this.resize(M+1),this.emplace(M,l,h,b,T)}emplace(l,h,b,T,M){const O=4*l;return this.int16[O+0]=h,this.int16[O+1]=b,this.int16[O+2]=T,this.int16[O+3]=M,l}}bi.prototype.bytesPerElement=8,Ce("StructArrayLayout4i8",bi);class _i extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,T,M,O)}emplace(l,h,b,T,M,O,q){const J=6*l;return this.int16[J+0]=h,this.int16[J+1]=b,this.int16[J+2]=T,this.int16[J+3]=M,this.int16[J+4]=O,this.int16[J+5]=q,l}}_i.prototype.bytesPerElement=12,Ce("StructArrayLayout2i4i12",_i);class Ta extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,T,M,O)}emplace(l,h,b,T,M,O,q){const J=4*l,ot=8*l;return this.int16[J+0]=h,this.int16[J+1]=b,this.uint8[ot+4]=T,this.uint8[ot+5]=M,this.uint8[ot+6]=O,this.uint8[ot+7]=q,l}}Ta.prototype.bytesPerElement=8,Ce("StructArrayLayout2i4ub8",Ta);class Ql extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const T=2*l;return this.float32[T+0]=h,this.float32[T+1]=b,l}}Ql.prototype.bytesPerElement=8,Ce("StructArrayLayout2f8",Ql);class lu extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O,q,J,ot,ft){const Et=this.length;return this.resize(Et+1),this.emplace(Et,l,h,b,T,M,O,q,J,ot,ft)}emplace(l,h,b,T,M,O,q,J,ot,ft,Et){const $t=10*l;return this.uint16[$t+0]=h,this.uint16[$t+1]=b,this.uint16[$t+2]=T,this.uint16[$t+3]=M,this.uint16[$t+4]=O,this.uint16[$t+5]=q,this.uint16[$t+6]=J,this.uint16[$t+7]=ot,this.uint16[$t+8]=ft,this.uint16[$t+9]=Et,l}}lu.prototype.bytesPerElement=20,Ce("StructArrayLayout10ui20",lu);class Jl extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O,q,J,ot,ft,Et,$t){const Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,l,h,b,T,M,O,q,J,ot,ft,Et,$t)}emplace(l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt){const Wt=12*l;return this.int16[Wt+0]=h,this.int16[Wt+1]=b,this.int16[Wt+2]=T,this.int16[Wt+3]=M,this.uint16[Wt+4]=O,this.uint16[Wt+5]=q,this.uint16[Wt+6]=J,this.uint16[Wt+7]=ot,this.int16[Wt+8]=ft,this.int16[Wt+9]=Et,this.int16[Wt+10]=$t,this.int16[Wt+11]=Gt,l}}Jl.prototype.bytesPerElement=24,Ce("StructArrayLayout4i4ui4i24",Jl);class Qs extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,b)}emplace(l,h,b,T){const M=3*l;return this.float32[M+0]=h,this.float32[M+1]=b,this.float32[M+2]=T,l}}Qs.prototype.bytesPerElement=12,Ce("StructArrayLayout3f12",Qs);class N extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint32[1*l+0]=h,l}}N.prototype.bytesPerElement=4,Ce("StructArrayLayout1ul4",N);class s extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O,q,J,ot){const ft=this.length;return this.resize(ft+1),this.emplace(ft,l,h,b,T,M,O,q,J,ot)}emplace(l,h,b,T,M,O,q,J,ot,ft){const Et=10*l,$t=5*l;return this.int16[Et+0]=h,this.int16[Et+1]=b,this.int16[Et+2]=T,this.int16[Et+3]=M,this.int16[Et+4]=O,this.int16[Et+5]=q,this.uint32[$t+3]=J,this.uint16[Et+8]=ot,this.uint16[Et+9]=ft,l}}s.prototype.bytesPerElement=20,Ce("StructArrayLayout6i1ul2ui20",s);class d extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,T,M,O)}emplace(l,h,b,T,M,O,q){const J=6*l;return this.int16[J+0]=h,this.int16[J+1]=b,this.int16[J+2]=T,this.int16[J+3]=M,this.int16[J+4]=O,this.int16[J+5]=q,l}}d.prototype.bytesPerElement=12,Ce("StructArrayLayout2i2i2i12",d);class _ extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M){const O=this.length;return this.resize(O+1),this.emplace(O,l,h,b,T,M)}emplace(l,h,b,T,M,O){const q=4*l,J=8*l;return this.float32[q+0]=h,this.float32[q+1]=b,this.float32[q+2]=T,this.int16[J+6]=M,this.int16[J+7]=O,l}}_.prototype.bytesPerElement=16,Ce("StructArrayLayout2f1f2i16",_);class E extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,T,M,O)}emplace(l,h,b,T,M,O,q){const J=16*l,ot=4*l,ft=8*l;return this.uint8[J+0]=h,this.uint8[J+1]=b,this.float32[ot+1]=T,this.float32[ot+2]=M,this.int16[ft+6]=O,this.int16[ft+7]=q,l}}E.prototype.bytesPerElement=16,Ce("StructArrayLayout2ub2f2i16",E);class L extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,b)}emplace(l,h,b,T){const M=3*l;return this.uint16[M+0]=h,this.uint16[M+1]=b,this.uint16[M+2]=T,l}}L.prototype.bytesPerElement=6,Ce("StructArrayLayout3ui6",L);class B extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee){const Je=this.length;return this.resize(Je+1),this.emplace(Je,l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee)}emplace(l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee,Je){const De=24*l,qt=12*l,le=48*l;return this.int16[De+0]=h,this.int16[De+1]=b,this.uint16[De+2]=T,this.uint16[De+3]=M,this.uint32[qt+2]=O,this.uint32[qt+3]=q,this.uint32[qt+4]=J,this.uint16[De+10]=ot,this.uint16[De+11]=ft,this.uint16[De+12]=Et,this.float32[qt+7]=$t,this.float32[qt+8]=Gt,this.uint8[le+36]=Wt,this.uint8[le+37]=te,this.uint8[le+38]=he,this.uint32[qt+10]=Ee,this.int16[De+22]=Je,l}}B.prototype.bytesPerElement=48,Ce("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",B);class K extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee,Je,De,qt,le,$e,Tr,dn,jr,Gr,wn,sn){const _n=this.length;return this.resize(_n+1),this.emplace(_n,l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee,Je,De,qt,le,$e,Tr,dn,jr,Gr,wn,sn)}emplace(l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee,Je,De,qt,le,$e,Tr,dn,jr,Gr,wn,sn,_n){const Hr=32*l,qn=16*l;return this.int16[Hr+0]=h,this.int16[Hr+1]=b,this.int16[Hr+2]=T,this.int16[Hr+3]=M,this.int16[Hr+4]=O,this.int16[Hr+5]=q,this.int16[Hr+6]=J,this.int16[Hr+7]=ot,this.uint16[Hr+8]=ft,this.uint16[Hr+9]=Et,this.uint16[Hr+10]=$t,this.uint16[Hr+11]=Gt,this.uint16[Hr+12]=Wt,this.uint16[Hr+13]=te,this.uint16[Hr+14]=he,this.uint16[Hr+15]=Ee,this.uint16[Hr+16]=Je,this.uint16[Hr+17]=De,this.uint16[Hr+18]=qt,this.uint16[Hr+19]=le,this.uint16[Hr+20]=$e,this.uint16[Hr+21]=Tr,this.uint16[Hr+22]=dn,this.uint32[qn+12]=jr,this.float32[qn+13]=Gr,this.float32[qn+14]=wn,this.uint16[Hr+30]=sn,this.uint16[Hr+31]=_n,l}}K.prototype.bytesPerElement=64,Ce("StructArrayLayout8i15ui1ul2f2ui64",K);class tt extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.float32[1*l+0]=h,l}}tt.prototype.bytesPerElement=4,Ce("StructArrayLayout1f4",tt);class ht extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,b)}emplace(l,h,b,T){const M=3*l;return this.uint16[6*l+0]=h,this.float32[M+1]=b,this.float32[M+2]=T,l}}ht.prototype.bytesPerElement=12,Ce("StructArrayLayout1ui2f12",ht);class bt extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,b)}emplace(l,h,b,T){const M=4*l;return this.uint32[2*l+0]=h,this.uint16[M+2]=b,this.uint16[M+3]=T,l}}bt.prototype.bytesPerElement=8,Ce("StructArrayLayout1ul2ui8",bt);class It extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const T=2*l;return this.uint16[T+0]=h,this.uint16[T+1]=b,l}}It.prototype.bytesPerElement=4,Ce("StructArrayLayout2ui4",It);class Ct extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint16[1*l+0]=h,l}}Ct.prototype.bytesPerElement=2,Ce("StructArrayLayout1ui2",Ct);class zt extends la{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,T){const M=this.length;return this.resize(M+1),this.emplace(M,l,h,b,T)}emplace(l,h,b,T,M){const O=4*l;return this.float32[O+0]=h,this.float32[O+1]=b,this.float32[O+2]=T,this.float32[O+3]=M,l}}zt.prototype.bytesPerElement=16,Ce("StructArrayLayout4f16",zt);class Qt extends es{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new P(this.anchorPointX,this.anchorPointY)}}Qt.prototype.size=20;class fe extends s{get(l){return new Qt(this,l)}}Ce("CollisionBoxArray",fe);class pe extends es{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}pe.prototype.size=48;class me extends B{get(l){return new pe(this,l)}}Ce("PlacedSymbolArray",me);class xe extends es{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}xe.prototype.size=64;class Be extends K{get(l){return new xe(this,l)}}Ce("SymbolInstanceArray",Be);class Le extends tt{getoffsetX(l){return this.float32[1*l+0]}}Ce("GlyphOffsetArray",Le);class Ve extends Ao{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Ce("SymbolLineVertexArray",Ve);class We extends es{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}We.prototype.size=12;class Ne extends ht{get(l){return new We(this,l)}}Ce("TextAnchorOffsetArray",Ne);class tr extends es{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}tr.prototype.size=8;class Ar extends bt{get(l){return new tr(this,l)}}Ce("FeatureIndexArray",Ar);class xr extends Bs{}class Sr extends Bs{}class kr extends Bs{}class Cn extends _i{}class Tn extends Ta{}class on extends Ql{}class Un extends lu{}class Hi extends Jl{}class Sa extends Qs{}class Uo extends N{}class Ka extends d{}class Za extends E{}class Da extends L{}class Pa extends It{}const lo=Di([{name:"a_pos",components:2,type:"Int16"}],4),{members:_l}=lo;class fa{constructor(l=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=l}prepareSegment(l,h,b,T){const M=this.segments[this.segments.length-1];return l>fa.MAX_VERTEX_ARRAY_LENGTH&&vr(`Max vertices per segment is ${fa.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${fa.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!M||M.vertexLength+l>fa.MAX_VERTEX_ARRAY_LENGTH||M.sortKey!==T?this.createNewSegment(h,b,T):M}createNewSegment(l,h,b){const T={vertexOffset:l.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0,vaos:{}};return b!==void 0&&(T.sortKey=b),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(T),T}getOrCreateLatestSegment(l,h,b){return this.prepareSegment(0,l,h,b)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const l of this.segments)for(const h in l.vaos)l.vaos[h].destroy()}static simpleSegment(l,h,b,T){return new fa([{vertexOffset:l,primitiveOffset:h,vertexLength:b,primitiveLength:T,vaos:{},sortKey:0}])}}function Rl(f,l){return 256*(f=ce(Math.floor(f),0,255))+ce(Math.floor(l),0,255)}fa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ce("SegmentVector",fa);const sl=Di([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Eu,Nd,rd,nd={exports:{}},Dp={exports:{}},Bp={exports:{}},Wf=(function(){if(rd)return nd.exports;rd=1;var f=(Eu||(Eu=1,Dp.exports=function(h,b){var T,M,O,q,J,ot,ft,Et;for(M=h.length-(T=3&h.length),O=b,J=3432918353,ot=461845907,Et=0;Et<M;)ft=255&h.charCodeAt(Et)|(255&h.charCodeAt(++Et))<<8|(255&h.charCodeAt(++Et))<<16|(255&h.charCodeAt(++Et))<<24,++Et,O=27492+(65535&(q=5*(65535&(O=(O^=ft=(65535&(ft=(ft=(65535&ft)*J+(((ft>>>16)*J&65535)<<16)&4294967295)<<15|ft>>>17))*ot+(((ft>>>16)*ot&65535)<<16)&4294967295)<<13|O>>>19))+((5*(O>>>16)&65535)<<16)&4294967295))+((58964+(q>>>16)&65535)<<16);switch(ft=0,T){case 3:ft^=(255&h.charCodeAt(Et+2))<<16;case 2:ft^=(255&h.charCodeAt(Et+1))<<8;case 1:O^=ft=(65535&(ft=(ft=(65535&(ft^=255&h.charCodeAt(Et)))*J+(((ft>>>16)*J&65535)<<16)&4294967295)<<15|ft>>>17))*ot+(((ft>>>16)*ot&65535)<<16)&4294967295}return O^=h.length,O=2246822507*(65535&(O^=O>>>16))+((2246822507*(O>>>16)&65535)<<16)&4294967295,O=3266489909*(65535&(O^=O>>>13))+((3266489909*(O>>>16)&65535)<<16)&4294967295,(O^=O>>>16)>>>0}),Dp.exports),l=(Nd||(Nd=1,Bp.exports=function(h,b){for(var T,M=h.length,O=b^M,q=0;M>=4;)T=1540483477*(65535&(T=255&h.charCodeAt(q)|(255&h.charCodeAt(++q))<<8|(255&h.charCodeAt(++q))<<16|(255&h.charCodeAt(++q))<<24))+((1540483477*(T>>>16)&65535)<<16),O=1540483477*(65535&O)+((1540483477*(O>>>16)&65535)<<16)^(T=1540483477*(65535&(T^=T>>>24))+((1540483477*(T>>>16)&65535)<<16)),M-=4,++q;switch(M){case 3:O^=(255&h.charCodeAt(q+2))<<16;case 2:O^=(255&h.charCodeAt(q+1))<<8;case 1:O=1540483477*(65535&(O^=255&h.charCodeAt(q)))+((1540483477*(O>>>16)&65535)<<16)}return O=1540483477*(65535&(O^=O>>>13))+((1540483477*(O>>>16)&65535)<<16),(O^=O>>>15)>>>0}),Bp.exports);return nd.exports=f,nd.exports.murmur3=f,nd.exports.murmur2=l,nd.exports})(),Tu=g(Wf);class _h{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,h,b,T){this.ids.push(id(l)),this.positions.push(h,b,T)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=id(l);let b=0,T=this.ids.length-1;for(;b<T;){const O=b+T>>1;this.ids[O]>=h?T=O:b=O+1}const M=[];for(;this.ids[b]===h;)M.push({index:this.positions[3*b],start:this.positions[3*b+1],end:this.positions[3*b+2]}),b++;return M}static serialize(l,h){const b=new Float64Array(l.ids),T=new Uint32Array(l.positions);return uf(b,T,0,b.length-1),h&&h.push(b.buffer,T.buffer),{ids:b,positions:T}}static deserialize(l){const h=new _h;return h.ids=l.ids,h.positions=l.positions,h.indexed=!0,h}}function id(f){const l=+f;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Tu(String(f))}function uf(f,l,h,b){for(;h<b;){const T=f[h+b>>1];let M=h-1,O=b+1;for(;;){do M++;while(f[M]<T);do O--;while(f[O]>T);if(M>=O)break;ll(f,M,O),ll(l,3*M,3*O),ll(l,3*M+1,3*O+1),ll(l,3*M+2,3*O+2)}O-h<b-O?(uf(f,l,h,O),h=O+1):(uf(f,l,O+1,b),b=O)}}function ll(f,l,h){const b=f[l];f[l]=f[h],f[h]=b}Ce("FeaturePositionMap",_h);class rs{constructor(l,h){this.gl=l.gl,this.location=h}}class cu extends rs{constructor(l,h){super(l,h),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class tc extends rs{constructor(l,h){super(l,h),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class C0 extends rs{constructor(l,h){super(l,h),this.current=Nn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Vy=new Float32Array(16);function Fg(f){return[Rl(255*f.r,255*f.g),Rl(255*f.b,255*f.a)]}class zp{constructor(l,h,b){this.value=l,this.uniformNames=h.map((T=>`u_${T}`)),this.type=b}setUniform(l,h,b){l.set(b.constantOr(this.value))}getBinding(l,h,b){return this.type==="color"?new C0(l,h):new cu(l,h)}}class hf{constructor(l,h){this.uniformNames=h.map((b=>`u_${b}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=l.tlbr}setUniform(l,h,b,T){const M=T==="u_pattern_to"?this.patternTo:T==="u_pattern_from"?this.patternFrom:T==="u_pixel_ratio_to"?this.pixelRatioTo:T==="u_pixel_ratio_from"?this.pixelRatioFrom:null;M&&l.set(M)}getBinding(l,h,b){return b.substr(0,9)==="u_pattern"?new tc(l,h):new cu(l,h)}}class ad{constructor(l,h,b,T){this.expression=l,this.type=b,this.maxValue=0,this.paintVertexAttributes=h.map((M=>({name:`a_${M}`,type:"Float32",components:b==="color"?2:1,offset:0}))),this.paintVertexArray=new T}populatePaintArray(l,h,b,T,M){const O=this.paintVertexArray.length,q=this.expression.evaluate(new Gn(0),h,{},T,[],M);this.paintVertexArray.resize(l),this._setPaintValue(O,l,q)}updatePaintArray(l,h,b,T){const M=this.expression.evaluate({zoom:0},b,T);this._setPaintValue(l,h,M)}_setPaintValue(l,h,b){if(this.type==="color"){const T=Fg(b);for(let M=l;M<h;M++)this.paintVertexArray.emplace(M,T[0],T[1])}else{for(let T=l;T<h;T++)this.paintVertexArray.emplace(T,b);this.maxValue=Math.max(this.maxValue,Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Nc{constructor(l,h,b,T,M,O){this.expression=l,this.uniformNames=h.map((q=>`u_${q}_t`)),this.type=b,this.useIntegerZoom=T,this.zoom=M,this.maxValue=0,this.paintVertexAttributes=h.map((q=>({name:`a_${q}`,type:"Float32",components:b==="color"?4:2,offset:0}))),this.paintVertexArray=new O}populatePaintArray(l,h,b,T,M){const O=this.expression.evaluate(new Gn(this.zoom),h,{},T,[],M),q=this.expression.evaluate(new Gn(this.zoom+1),h,{},T,[],M),J=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(J,l,O,q)}updatePaintArray(l,h,b,T){const M=this.expression.evaluate({zoom:this.zoom},b,T),O=this.expression.evaluate({zoom:this.zoom+1},b,T);this._setPaintValue(l,h,M,O)}_setPaintValue(l,h,b,T){if(this.type==="color"){const M=Fg(b),O=Fg(T);for(let q=l;q<h;q++)this.paintVertexArray.emplace(q,M[0],M[1],O[0],O[1])}else{for(let M=l;M<h;M++)this.paintVertexArray.emplace(M,b,T);this.maxValue=Math.max(this.maxValue,Math.abs(b),Math.abs(T))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,h){const b=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,T=ce(this.expression.interpolationFactor(b,this.zoom,this.zoom+1),0,1);l.set(T)}getBinding(l,h,b){return new cu(l,h)}}class Ld{constructor(l,h,b,T,M,O){this.expression=l,this.type=h,this.useIntegerZoom=b,this.zoom=T,this.layerId=O,this.zoomInPaintVertexArray=new M,this.zoomOutPaintVertexArray=new M}populatePaintArray(l,h,b){const T=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(T,l,h.patterns&&h.patterns[this.layerId],b)}updatePaintArray(l,h,b,T,M){this._setPaintValues(l,h,b.patterns&&b.patterns[this.layerId],M)}_setPaintValues(l,h,b,T){if(!T||!b)return;const{min:M,mid:O,max:q}=b,J=T[M],ot=T[O],ft=T[q];if(J&&ot&&ft)for(let Et=l;Et<h;Et++)this.zoomInPaintVertexArray.emplace(Et,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],J.tl[0],J.tl[1],J.br[0],J.br[1],ot.pixelRatio,J.pixelRatio),this.zoomOutPaintVertexArray.emplace(Et,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1],ot.pixelRatio,ft.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,sl.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,sl.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Uy{constructor(l,h,b){this.binders={},this._buffers=[];const T=[];for(const M in l.paint._values){if(!b(M))continue;const O=l.paint.get(M);if(!(O instanceof us&&Co(O.property.specification)))continue;const q=Yf(M,l.type),J=O.value,ot=O.property.specification.type,ft=O.property.useIntegerZoom,Et=O.property.specification["property-type"],$t=Et==="cross-faded"||Et==="cross-faded-data-driven";if(J.kind==="constant")this.binders[M]=$t?new hf(J.value,q):new zp(J.value,q,ot),T.push(`/u_${M}`);else if(J.kind==="source"||$t){const Gt=Um(M,ot,"source");this.binders[M]=$t?new Ld(J,ot,ft,h,Gt,l.id):new ad(J,q,ot,Gt),T.push(`/a_${M}`)}else{const Gt=Um(M,ot,"composite");this.binders[M]=new Nc(J,q,ot,ft,h,Gt),T.push(`/z_${M}`)}}this.cacheKey=T.sort().join("")}getMaxValue(l){const h=this.binders[l];return h instanceof ad||h instanceof Nc?h.maxValue:0}populatePaintArrays(l,h,b,T,M){for(const O in this.binders){const q=this.binders[O];(q instanceof ad||q instanceof Nc||q instanceof Ld)&&q.populatePaintArray(l,h,b,T,M)}}setConstantPatternPositions(l,h){for(const b in this.binders){const T=this.binders[b];T instanceof hf&&T.setConstantPatternPositions(l,h)}}updatePaintArrays(l,h,b,T,M){let O=!1;for(const q in l){const J=h.getPositions(q);for(const ot of J){const ft=b.feature(ot.index);for(const Et in this.binders){const $t=this.binders[Et];if(($t instanceof ad||$t instanceof Nc||$t instanceof Ld)&&$t.expression.isStateDependent===!0){const Gt=T.paint.get(Et);$t.expression=Gt.value,$t.updatePaintArray(ot.start,ot.end,ft,l[q],M),O=!0}}}}return O}defines(){const l=[];for(const h in this.binders){const b=this.binders[h];(b instanceof zp||b instanceof hf)&&l.push(...b.uniformNames.map((T=>`#define HAS_UNIFORM_${T}`)))}return l}getBinderAttributes(){const l=[];for(const h in this.binders){const b=this.binders[h];if(b instanceof ad||b instanceof Nc)for(let T=0;T<b.paintVertexAttributes.length;T++)l.push(b.paintVertexAttributes[T].name);else if(b instanceof Ld)for(let T=0;T<sl.members.length;T++)l.push(sl.members[T].name)}return l}getBinderUniforms(){const l=[];for(const h in this.binders){const b=this.binders[h];if(b instanceof zp||b instanceof hf||b instanceof Nc)for(const T of b.uniformNames)l.push(T)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,h){const b=[];for(const T in this.binders){const M=this.binders[T];if(M instanceof zp||M instanceof hf||M instanceof Nc){for(const O of M.uniformNames)if(h[O]){const q=M.getBinding(l,h[O],O);b.push({name:O,property:T,binding:q})}}}return b}setUniforms(l,h,b,T){for(const{name:M,property:O,binding:q}of h)this.binders[O].setUniform(q,T,b.get(O),M)}updatePaintBuffers(l){this._buffers=[];for(const h in this.binders){const b=this.binders[h];if(l&&b instanceof Ld){const T=l.fromScale===2?b.zoomInPaintVertexBuffer:b.zoomOutPaintVertexBuffer;T&&this._buffers.push(T)}else(b instanceof ad||b instanceof Nc)&&b.paintVertexBuffer&&this._buffers.push(b.paintVertexBuffer)}}upload(l){for(const h in this.binders){const b=this.binders[h];(b instanceof ad||b instanceof Nc||b instanceof Ld)&&b.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const h=this.binders[l];(h instanceof ad||h instanceof Nc||h instanceof Ld)&&h.destroy()}}}class Md{constructor(l,h,b=()=>!0){this.programConfigurations={};for(const T of l)this.programConfigurations[T.id]=new Uy(T,h,b);this.needsUpload=!1,this._featureMap=new _h,this._bufferOffset=0}populatePaintArrays(l,h,b,T,M,O){for(const q in this.programConfigurations)this.programConfigurations[q].populatePaintArrays(l,h,T,M,O);h.id!==void 0&&this._featureMap.add(h.id,b,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,h,b,T){for(const M of b)this.needsUpload=this.programConfigurations[M.id].updatePaintArrays(l,this._featureMap,h,M,T)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function Yf(f,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[f]||[f.replace(`${l}-`,"").replace(/-/g,"_")]}function Um(f,l,h){const b={color:{source:Ql,composite:zt},number:{source:tt,composite:Ql}},T=(function(M){return{"line-pattern":{source:Un,composite:Un},"fill-pattern":{source:Un,composite:Un},"fill-extrusion-pattern":{source:Un,composite:Un}}[M]})(f);return T&&T[h]||b[l][h]}Ce("ConstantBinder",zp),Ce("CrossFadedConstantBinder",hf),Ce("SourceExpressionBinder",ad),Ce("CrossFadedCompositeBinder",Ld),Ce("CompositeExpressionBinder",Nc),Ce("ProgramConfiguration",Uy,{omit:["_buffers"]}),Ce("ProgramConfigurationSet",Md);const df=Math.pow(2,14)-1,Ix=-df-1;function Fp(f){const l=lt/f.extent,h=f.loadGeometry();for(let b=0;b<h.length;b++){const T=h[b];for(let M=0;M<T.length;M++){const O=T[M],q=Math.round(O.x*l),J=Math.round(O.y*l);O.x=ce(q,Ix,df),O.y=ce(J,Ix,df),(q<O.x||q>O.x+1||J<O.y||J>O.y+1)&&vr("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function Pd(f,l){return{type:f.type,id:f.id,properties:f.properties,geometry:l?Fp(f):[]}}const Rx=-32768;function Nx(f,l,h,b,T){f.emplaceBack(Rx+8*l+b,Rx+8*h+T)}class A0{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Sr,this.indexArray=new Da,this.segments=new fa,this.programConfigurations=new Md(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){const T=this.layers[0],M=[];let O=null,q=!1,J=T.type==="heatmap";if(T.type==="circle"){const ft=T;O=ft.layout.get("circle-sort-key"),q=!O.isConstant(),J=J||ft.paint.get("circle-pitch-alignment")==="map"}const ot=J?h.subdivisionGranularity.circle:1;for(const{feature:ft,id:Et,index:$t,sourceLayerIndex:Gt}of l){const Wt=this.layers[0]._featureFilter.needGeometry,te=Pd(ft,Wt);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),te,b))continue;const he=q?O.evaluate(te,{},b):void 0,Ee={id:Et,properties:ft.properties,type:ft.type,sourceLayerIndex:Gt,index:$t,geometry:Wt?te.geometry:Fp(ft),patterns:{},sortKey:he};M.push(Ee)}q&&M.sort(((ft,Et)=>ft.sortKey-Et.sortKey));for(const ft of M){const{geometry:Et,index:$t,sourceLayerIndex:Gt}=ft,Wt=l[$t].feature;this.addFeature(ft,Et,$t,b,ot),h.featureIndex.insert(Wt,Et,$t,Gt,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,_l),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,h,b,T,M=1){let O;switch(M){case 1:O=[0,7];break;case 3:O=[0,2,5,7];break;case 5:O=[0,1,3,4,6,7];break;case 7:O=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${M}; valid values are 1, 3, 5, 7.`)}const q=O.length;for(const J of h)for(const ot of J){const ft=ot.x,Et=ot.y;if(ft<0||ft>=lt||Et<0||Et>=lt)continue;const $t=this.segments.prepareSegment(q*q,this.layoutVertexArray,this.indexArray,l.sortKey),Gt=$t.vertexLength;for(let Wt=0;Wt<q;Wt++)for(let te=0;te<q;te++)Nx(this.layoutVertexArray,ft,Et,O[te],O[Wt]);for(let Wt=0;Wt<q-1;Wt++)for(let te=0;te<q-1;te++){const he=Gt+Wt*q+te,Ee=Gt+(Wt+1)*q+te;this.indexArray.emplaceBack(he,Ee+1,he+1),this.indexArray.emplaceBack(he,Ee,Ee+1)}$t.vertexLength+=q*q,$t.primitiveLength+=(q-1)*(q-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,{},T)}}function k0(f,l){for(let h=0;h<f.length;h++)if(qm(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(qm(f,l[h]))return!0;return!!Kf(f,l)}function Lx(f,l,h){return!!qm(f,l)||!!I0(l,f,h)}function Mx(f,l){if(f.length===1)return qy(l,f[0]);for(let h=0;h<l.length;h++){const b=l[h];for(let T=0;T<b.length;T++)if(qm(f,b[T]))return!0}for(let h=0;h<f.length;h++)if(qy(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(Kf(f,l[h]))return!0;return!1}function vS(f,l,h){if(f.length>1){if(Kf(f,l))return!0;for(let b=0;b<l.length;b++)if(I0(l[b],f,h))return!0}for(let b=0;b<f.length;b++)if(I0(f[b],l,h))return!0;return!1}function Kf(f,l){if(f.length===0||l.length===0)return!1;for(let h=0;h<f.length-1;h++){const b=f[h],T=f[h+1];for(let M=0;M<l.length-1;M++)if(bS(b,T,l[M],l[M+1]))return!0}return!1}function bS(f,l,h,b){return Dr(f,h,b)!==Dr(l,h,b)&&Dr(f,l,h)!==Dr(f,l,b)}function I0(f,l,h){const b=h*h;if(l.length===1)return f.distSqr(l[0])<b;for(let T=1;T<l.length;T++)if(Px(f,l[T-1],l[T])<b)return!0;return!1}function Px(f,l,h){const b=l.distSqr(h);if(b===0)return f.distSqr(l);const T=((f.x-l.x)*(h.x-l.x)+(f.y-l.y)*(h.y-l.y))/b;return f.distSqr(T<0?l:T>1?h:h.sub(l)._mult(T)._add(l))}function qy(f,l){let h,b,T,M=!1;for(let O=0;O<f.length;O++){h=f[O];for(let q=0,J=h.length-1;q<h.length;J=q++)b=h[q],T=h[J],b.y>l.y!=T.y>l.y&&l.x<(T.x-b.x)*(l.y-b.y)/(T.y-b.y)+b.x&&(M=!M)}return M}function qm(f,l){let h=!1;for(let b=0,T=f.length-1;b<f.length;T=b++){const M=f[b],O=f[T];M.y>l.y!=O.y>l.y&&l.x<(O.x-M.x)*(l.y-M.y)/(O.y-M.y)+M.x&&(h=!h)}return h}function Ox(f,l,h){const b=h[0],T=h[2];if(f.x<b.x&&l.x<b.x||f.x>T.x&&l.x>T.x||f.y<b.y&&l.y<b.y||f.y>T.y&&l.y>T.y)return!1;const M=Dr(f,l,h[0]);return M!==Dr(f,l,h[1])||M!==Dr(f,l,h[2])||M!==Dr(f,l,h[3])}function jg(f,l,h){const b=l.paint.get(f).value;return b.kind==="constant"?b.value:h.programConfigurations.get(l.id).getMaxValue(f)}function Gy(f){return Math.sqrt(f[0]*f[0]+f[1]*f[1])}function R0(f,l,h,b,T){if(!l[0]&&!l[1])return f;const M=P.convert(l)._mult(T);h==="viewport"&&M._rotate(-b);const O=[];for(let q=0;q<f.length;q++)O.push(f[q].sub(M));return O}let N0,gc;Ce("CircleBucket",A0,{omit:["layers"]});var Cu={get paint(){return gc=gc||new La({"circle-radius":new kn(Oe.paint_circle["circle-radius"]),"circle-color":new kn(Oe.paint_circle["circle-color"]),"circle-blur":new kn(Oe.paint_circle["circle-blur"]),"circle-opacity":new kn(Oe.paint_circle["circle-opacity"]),"circle-translate":new yn(Oe.paint_circle["circle-translate"]),"circle-translate-anchor":new yn(Oe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yn(Oe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yn(Oe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kn(Oe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kn(Oe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kn(Oe.paint_circle["circle-stroke-opacity"])})},get layout(){return N0=N0||new La({"circle-sort-key":new kn(Oe.layout_circle["circle-sort-key"])})}};class _S extends Ma{constructor(l){super(l,Cu)}createBucket(l){return new A0(l)}queryRadius(l){const h=l;return jg("circle-radius",this,h)+jg("circle-stroke-width",this,h)+Gy(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:b,geometry:T,transform:M,pixelsToTileUnits:O,unwrappedTileID:q,getElevation:J}){const ot=R0(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-M.bearingInRadians,O),ft=this.paint.get("circle-radius").evaluate(h,b)+this.paint.get("circle-stroke-width").evaluate(h,b),Et=this.paint.get("circle-pitch-alignment")==="map",$t=Et?ot:(function(Wt,te,he,Ee){return Wt.map((Je=>Dx(Je,te,he,Ee)))})(ot,M,q,J),Gt=Et?ft*O:ft;for(const Wt of T)for(const te of Wt){const he=Et?te:Dx(te,M,q,J);let Ee=Gt;const Je=M.projectTileCoordinates(te.x,te.y,q,J).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ee*=Je/M.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ee*=M.cameraToCenterDistance/Je),Lx($t,he,Ee))return!0}return!1}}function Dx(f,l,h,b){const T=l.projectTileCoordinates(f.x,f.y,h,b).point;return new P((.5*T.x+.5)*l.width,(.5*-T.y+.5)*l.height)}class Bx extends A0{}let zx;Ce("HeatmapBucket",Bx,{omit:["layers"]});var Hy={get paint(){return zx=zx||new La({"heatmap-radius":new kn(Oe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kn(Oe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yn(Oe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ds(Oe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yn(Oe.paint_heatmap["heatmap-opacity"])})}};function L0(f,{width:l,height:h},b,T){if(T){if(T instanceof Uint8ClampedArray)T=new Uint8Array(T.buffer);else if(T.length!==l*h*b)throw new RangeError(`mismatched image size. expected: ${T.length} but got: ${l*h*b}`)}else T=new Uint8Array(l*h*b);return f.width=l,f.height=h,f.data=T,f}function Xy(f,{width:l,height:h},b){if(l===f.width&&h===f.height)return;const T=L0({},{width:l,height:h},b);M0(f,T,{x:0,y:0},{x:0,y:0},{width:Math.min(f.width,l),height:Math.min(f.height,h)},b),f.width=l,f.height=h,f.data=T.data}function M0(f,l,h,b,T,M){if(T.width===0||T.height===0)return l;if(T.width>f.width||T.height>f.height||h.x>f.width-T.width||h.y>f.height-T.height)throw new RangeError("out of range source coordinates for image copy");if(T.width>l.width||T.height>l.height||b.x>l.width-T.width||b.y>l.height-T.height)throw new RangeError("out of range destination coordinates for image copy");const O=f.data,q=l.data;if(O===q)throw new Error("srcData equals dstData, so image is already copied");for(let J=0;J<T.height;J++){const ot=((h.y+J)*f.width+h.x)*M,ft=((b.y+J)*l.width+b.x)*M;for(let Et=0;Et<T.width*M;Et++)q[ft+Et]=O[ot+Et]}return l}class Wy{constructor(l,h){L0(this,l,1,h)}resize(l){Xy(this,l,1)}clone(){return new Wy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,b,T,M){M0(l,h,b,T,M,1)}}class uu{constructor(l,h){L0(this,l,4,h)}resize(l){Xy(this,l,4)}replace(l,h){h?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new uu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,b,T,M){M0(l,h,b,T,M,4)}setPixel(l,h,b){const T=4*(l*this.width+h);this.data[T+0]=Math.round(255*b.r/b.a),this.data[T+1]=Math.round(255*b.g/b.a),this.data[T+2]=Math.round(255*b.b/b.a),this.data[T+3]=Math.round(255*b.a)}}function P0(f){const l={},h=f.resolution||256,b=f.clips?f.clips.length:1,T=f.image||new uu({width:h,height:b});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const M=(O,q,J)=>{l[f.evaluationKey]=J;const ot=f.expression.evaluate(l);T.setPixel(O/4/h,q/4,ot)};if(f.clips)for(let O=0,q=0;O<b;++O,q+=4*h)for(let J=0,ot=0;J<h;J++,ot+=4){const ft=J/(h-1),{start:Et,end:$t}=f.clips[O];M(q,ot,Et*(1-ft)+$t*ft)}else for(let O=0,q=0;O<h;O++,q+=4)M(0,q,O/(h-1));return T}Ce("AlphaImage",Wy),Ce("RGBAImage",uu);const O0="big-fb";class xS extends Ma{createBucket(l){return new Bx(l)}constructor(l){super(l,Hy),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=P0({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(O0)&&this.heatmapFbos.delete(O0)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Fx;var jx={get paint(){return Fx=Fx||new La({"hillshade-illumination-direction":new yn(Oe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new yn(Oe.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new yn(Oe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yn(Oe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yn(Oe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yn(Oe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yn(Oe.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new yn(Oe.paint_hillshade["hillshade-method"])})}};class $x extends Ma{constructor(l){super(l,jx),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let l=this.paint.get("hillshade-illumination-direction").values,h=this.paint.get("hillshade-illumination-altitude").values,b=this.paint.get("hillshade-highlight-color").values,T=this.paint.get("hillshade-shadow-color").values;const M=Math.max(l.length,h.length,b.length,T.length);l=l.concat(Array(M-l.length).fill(l.at(-1))),h=h.concat(Array(M-h.length).fill(h.at(-1))),b=b.concat(Array(M-b.length).fill(b.at(-1))),T=T.concat(Array(M-T.length).fill(T.at(-1)));const O=h.map(Or);return{directionRadians:l.map(Or),altitudeRadians:O,shadowColor:T,highlightColor:b}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let D0;var wS={get paint(){return D0=D0||new La({"color-relief-opacity":new yn(Oe["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Ds(Oe["paint_color-relief"]["color-relief-color"])})}};class Yy{constructor(l,h,b,T){this.context=l,this.format=b,this.texture=l.gl.createTexture(),this.update(h,T)}update(l,h,b){const{width:T,height:M}=l,O=!(this.size&&this.size[0]===T&&this.size[1]===M||b),{context:q}=this,{gl:J}=q;if(this.useMipmap=!!(h&&h.useMipmap),J.bindTexture(J.TEXTURE_2D,this.texture),q.pixelStoreUnpackFlipY.set(!1),q.pixelStoreUnpack.set(1),q.pixelStoreUnpackPremultiplyAlpha.set(this.format===J.RGBA&&(!h||h.premultiply!==!1)),O)this.size=[T,M],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||ir(l)?J.texImage2D(J.TEXTURE_2D,0,this.format,this.format,J.UNSIGNED_BYTE,l):J.texImage2D(J.TEXTURE_2D,0,this.format,T,M,0,this.format,J.UNSIGNED_BYTE,l.data);else{const{x:ot,y:ft}=b||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||ir(l)?J.texSubImage2D(J.TEXTURE_2D,0,ot,ft,J.RGBA,J.UNSIGNED_BYTE,l):J.texSubImage2D(J.TEXTURE_2D,0,ot,ft,T,M,J.RGBA,J.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&J.generateMipmap(J.TEXTURE_2D),q.pixelStoreUnpackFlipY.setDefault(),q.pixelStoreUnpack.setDefault(),q.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(l,h,b){const{context:T}=this,{gl:M}=T;M.bindTexture(M.TEXTURE_2D,this.texture),b!==M.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(b=M.LINEAR),l!==this.filter&&(M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,l),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,b||l),this.filter=l),h!==this.wrap&&(M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,h),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class Ky{constructor(l,h,b,T=1,M=1,O=1,q=0){if(this.uid=l,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(b&&!["mapbox","terrarium","custom"].includes(b))return void vr(`"${b}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const J=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),b){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=T,this.greenFactor=M,this.blueFactor=O,this.baseShift=q;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let ot=0;ot<J;ot++)this.data[this._idx(-1,ot)]=this.data[this._idx(0,ot)],this.data[this._idx(J,ot)]=this.data[this._idx(J-1,ot)],this.data[this._idx(ot,-1)]=this.data[this._idx(ot,0)],this.data[this._idx(ot,J)]=this.data[this._idx(ot,J-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(J,-1)]=this.data[this._idx(J-1,0)],this.data[this._idx(-1,J)]=this.data[this._idx(0,J-1)],this.data[this._idx(J,J)]=this.data[this._idx(J-1,J-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let ot=0;ot<J;ot++)for(let ft=0;ft<J;ft++){const Et=this.get(ot,ft);Et>this.max&&(this.max=Et),Et<this.min&&(this.min=Et)}}get(l,h){const b=new Uint8Array(this.data.buffer),T=4*this._idx(l,h);return this.unpack(b[T],b[T+1],b[T+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,h){if(l<-1||l>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(l+1)}unpack(l,h,b){return l*this.redFactor+h*this.greenFactor+b*this.blueFactor-this.baseShift}pack(l){return B0(l,this.getUnpackVector())}getPixels(){return new uu({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,h,b){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let T=h*this.dim,M=h*this.dim+this.dim,O=b*this.dim,q=b*this.dim+this.dim;switch(h){case-1:T=M-1;break;case 1:M=T+1}switch(b){case-1:O=q-1;break;case 1:q=O+1}const J=-h*this.dim,ot=-b*this.dim;for(let ft=O;ft<q;ft++)for(let Et=T;Et<M;Et++)this.data[this._idx(Et,ft)]=l.data[this._idx(Et+J,ft+ot)]}}function B0(f,l){const h=l[0],b=l[1],T=l[2],M=l[3],O=Math.min(h,b,T),q=Math.round((f+M)/O);return{r:Math.floor(q*O/h)%256,g:Math.floor(q*O/b)%256,b:Math.floor(q*O/T)%256}}Ce("DEMData",Ky);class SS extends Ma{constructor(l){super(l,wS)}_createColorRamp(l){const h={elevationStops:[],colorStops:[]},b=this._transitionablePaint._values["color-relief-color"].value.expression;if(b instanceof Yu&&b._styleExpression.expression instanceof wi){this.colorRampExpression=b;const O=b._styleExpression.expression;h.elevationStops=O.labels,h.colorStops=[];for(const q of h.elevationStops)h.colorStops.push(O.evaluate({globals:{elevation:q}}))}if(h.elevationStops.length<1&&(h.elevationStops=[0],h.colorStops=[Nn.transparent]),h.elevationStops.length<2&&(h.elevationStops.push(h.elevationStops[0]+1),h.colorStops.push(h.colorStops[0])),h.elevationStops.length<=l)return h;const T={elevationStops:[],colorStops:[]},M=(h.elevationStops.length-1)/(l-1);for(let O=0;O<h.elevationStops.length-.5;O+=M)T.elevationStops.push(h.elevationStops[Math.round(O)]),T.colorStops.push(h.colorStops[Math.round(O)]);return vr(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),T}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(l,h,b){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const T=this._createColorRamp(h),M=new uu({width:T.colorStops.length,height:1}),O=new uu({width:T.colorStops.length,height:1});for(let q=0;q<T.elevationStops.length;q++){const J=B0(T.elevationStops[q],b);O.setPixel(0,q,new Nn(J.r/255,J.g/255,J.b/255,1)),M.setPixel(0,q,T.colorStops[q])}return this.colorRampTextures={elevationTexture:new Yy(l,O,l.gl.RGBA),colorTexture:new Yy(l,M,l.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const Vx=Di([{name:"a_pos",components:2,type:"Int16"}],4),{members:ES}=Vx;function Od(f,l,h){const b=h.patternDependencies;let T=!1;for(const M of l){const O=M.paint.get(`${f}-pattern`);O.isConstant()||(T=!0);const q=O.constantOr(null);q&&(T=!0,b[q.to]=!0,b[q.from]=!0)}return T}function Zy(f,l,h,b,T){const M=T.patternDependencies;for(const O of l){const q=O.paint.get(`${f}-pattern`).value;if(q.kind!=="constant"){let J=q.evaluate({zoom:b-1},h,{},T.availableImages),ot=q.evaluate({zoom:b},h,{},T.availableImages),ft=q.evaluate({zoom:b+1},h,{},T.availableImages);J=J&&J.name?J.name:J,ot=ot&&ot.name?ot.name:ot,ft=ft&&ft.name?ft.name:ft,M[J]=!0,M[ot]=!0,M[ft]=!0,h.patterns[O.id]={min:J,mid:ot,max:ft}}}return h}function TS(f,l,h,b,T){let M;if(T===(function(O,q,J,ot){let ft=0;for(let Et=q,$t=J-ot;Et<J;Et+=ot)ft+=(O[$t]-O[Et])*(O[Et+1]+O[$t+1]),$t=Et;return ft})(f,l,h,b)>0)for(let O=l;O<h;O+=b)M=ev(O/b|0,f[O],f[O+1],M);else for(let O=h-b;O>=l;O-=b)M=ev(O/b|0,f[O],f[O+1],M);return M&&Ju(M,M.next)&&(Ug(M),M=M.next),M}function jp(f,l){if(!f)return f;l||(l=f);let h,b=f;do if(h=!1,b.steiner||!Ju(b,b.next)&&zs(b.prev,b,b.next)!==0)b=b.next;else{if(Ug(b),b=l=b.prev,b===b.next)break;h=!0}while(h||b!==l);return l}function Fh(f,l,h,b,T,M,O){if(!f)return;!O&&M&&(function(J,ot,ft,Et){let $t=J;do $t.z===0&&($t.z=F0($t.x,$t.y,ot,ft,Et)),$t.prevZ=$t.prev,$t.nextZ=$t.next,$t=$t.next;while($t!==J);$t.prevZ.nextZ=null,$t.prevZ=null,(function(Gt){let Wt,te=1;do{let he,Ee=Gt;Gt=null;let Je=null;for(Wt=0;Ee;){Wt++;let De=Ee,qt=0;for(let $e=0;$e<te&&(qt++,De=De.nextZ,De);$e++);let le=te;for(;qt>0||le>0&&De;)qt!==0&&(le===0||!De||Ee.z<=De.z)?(he=Ee,Ee=Ee.nextZ,qt--):(he=De,De=De.nextZ,le--),Je?Je.nextZ=he:Gt=he,he.prevZ=Je,Je=he;Ee=De}Je.nextZ=null,te*=2}while(Wt>1)})($t)})(f,b,T,M);let q=f;for(;f.prev!==f.next;){const J=f.prev,ot=f.next;if(M?CS(f,b,T,M):Ux(f))l.push(J.i,f.i,ot.i),Ug(f),f=ot.next,q=ot.next;else if((f=ot)===q){O?O===1?Fh(f=z0(jp(f),l),l,h,b,T,M,2):O===2&&Qy(f,l,h,b,T,M):Fh(jp(f),l,h,b,T,M,1);break}}}function Ux(f){const l=f.prev,h=f,b=f.next;if(zs(l,h,b)>=0)return!1;const T=l.x,M=h.x,O=b.x,q=l.y,J=h.y,ot=b.y,ft=Math.min(T,M,O),Et=Math.min(q,J,ot),$t=Math.max(T,M,O),Gt=Math.max(q,J,ot);let Wt=b.next;for(;Wt!==l;){if(Wt.x>=ft&&Wt.x<=$t&&Wt.y>=Et&&Wt.y<=Gt&&$g(T,q,M,J,O,ot,Wt.x,Wt.y)&&zs(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.next}return!0}function CS(f,l,h,b){const T=f.prev,M=f,O=f.next;if(zs(T,M,O)>=0)return!1;const q=T.x,J=M.x,ot=O.x,ft=T.y,Et=M.y,$t=O.y,Gt=Math.min(q,J,ot),Wt=Math.min(ft,Et,$t),te=Math.max(q,J,ot),he=Math.max(ft,Et,$t),Ee=F0(Gt,Wt,l,h,b),Je=F0(te,he,l,h,b);let De=f.prevZ,qt=f.nextZ;for(;De&&De.z>=Ee&&qt&&qt.z<=Je;){if(De.x>=Gt&&De.x<=te&&De.y>=Wt&&De.y<=he&&De!==T&&De!==O&&$g(q,ft,J,Et,ot,$t,De.x,De.y)&&zs(De.prev,De,De.next)>=0||(De=De.prevZ,qt.x>=Gt&&qt.x<=te&&qt.y>=Wt&&qt.y<=he&&qt!==T&&qt!==O&&$g(q,ft,J,Et,ot,$t,qt.x,qt.y)&&zs(qt.prev,qt,qt.next)>=0))return!1;qt=qt.nextZ}for(;De&&De.z>=Ee;){if(De.x>=Gt&&De.x<=te&&De.y>=Wt&&De.y<=he&&De!==T&&De!==O&&$g(q,ft,J,Et,ot,$t,De.x,De.y)&&zs(De.prev,De,De.next)>=0)return!1;De=De.prevZ}for(;qt&&qt.z<=Je;){if(qt.x>=Gt&&qt.x<=te&&qt.y>=Wt&&qt.y<=he&&qt!==T&&qt!==O&&$g(q,ft,J,Et,ot,$t,qt.x,qt.y)&&zs(qt.prev,qt,qt.next)>=0)return!1;qt=qt.nextZ}return!0}function z0(f,l){let h=f;do{const b=h.prev,T=h.next.next;!Ju(b,T)&&qx(b,h,h.next,T)&&Gm(b,T)&&Gm(T,b)&&(l.push(b.i,h.i,T.i),Ug(h),Ug(h.next),h=f=T),h=h.next}while(h!==f);return jp(h)}function Qy(f,l,h,b,T,M){let O=f;do{let q=O.next.next;for(;q!==O.prev;){if(O.i!==q.i&&AS(O,q)){let J=j0(O,q);return O=jp(O,O.next),J=jp(J,J.next),Fh(O,l,h,b,T,M,0),void Fh(J,l,h,b,T,M,0)}q=q.next}O=O.next}while(O!==f)}function cl(f,l){let h=f.x-l.x;return h===0&&(h=f.y-l.y,h===0)&&(h=(f.next.y-f.y)/(f.next.x-f.x)-(l.next.y-l.y)/(l.next.x-l.x)),h}function ZA(f,l){const h=(function(T,M){let O=M;const q=T.x,J=T.y;let ot,ft=-1/0;if(Ju(T,O))return O;do{if(Ju(T,O.next))return O.next;if(J<=O.y&&J>=O.next.y&&O.next.y!==O.y){const te=O.x+(J-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(te<=q&&te>ft&&(ft=te,ot=O.x<O.next.x?O:O.next,te===q))return ot}O=O.next}while(O!==M);if(!ot)return null;const Et=ot,$t=ot.x,Gt=ot.y;let Wt=1/0;O=ot;do{if(q>=O.x&&O.x>=$t&&q!==O.x&&Zf(J<Gt?q:ft,J,$t,Gt,J<Gt?ft:q,J,O.x,O.y)){const te=Math.abs(J-O.y)/(q-O.x);Gm(O,T)&&(te<Wt||te===Wt&&(O.x>ot.x||O.x===ot.x&&QA(ot,O)))&&(ot=O,Wt=te)}O=O.next}while(O!==Et);return ot})(f,l);if(!h)return l;const b=j0(h,f);return jp(b,b.next),jp(h,h.next)}function QA(f,l){return zs(f.prev,f,l.prev)<0&&zs(l.next,f,f.next)<0}function F0(f,l,h,b,T){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=(f-h)*T|0)|f<<8))|f<<4))|f<<2))|f<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-b)*T|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function Jy(f){let l=f,h=f;do(l.x<h.x||l.x===h.x&&l.y<h.y)&&(h=l),l=l.next;while(l!==f);return h}function Zf(f,l,h,b,T,M,O,q){return(T-O)*(l-q)>=(f-O)*(M-q)&&(f-O)*(b-q)>=(h-O)*(l-q)&&(h-O)*(M-q)>=(T-O)*(b-q)}function $g(f,l,h,b,T,M,O,q){return!(f===O&&l===q)&&Zf(f,l,h,b,T,M,O,q)}function AS(f,l){return f.next.i!==l.i&&f.prev.i!==l.i&&!(function(h,b){let T=h;do{if(T.i!==h.i&&T.next.i!==h.i&&T.i!==b.i&&T.next.i!==b.i&&qx(T,T.next,h,b))return!0;T=T.next}while(T!==h);return!1})(f,l)&&(Gm(f,l)&&Gm(l,f)&&(function(h,b){let T=h,M=!1;const O=(h.x+b.x)/2,q=(h.y+b.y)/2;do T.y>q!=T.next.y>q&&T.next.y!==T.y&&O<(T.next.x-T.x)*(q-T.y)/(T.next.y-T.y)+T.x&&(M=!M),T=T.next;while(T!==h);return M})(f,l)&&(zs(f.prev,f,l.prev)||zs(f,l.prev,l))||Ju(f,l)&&zs(f.prev,f,f.next)>0&&zs(l.prev,l,l.next)>0)}function zs(f,l,h){return(l.y-f.y)*(h.x-l.x)-(l.x-f.x)*(h.y-l.y)}function Ju(f,l){return f.x===l.x&&f.y===l.y}function qx(f,l,h,b){const T=tv(zs(f,l,h)),M=tv(zs(f,l,b)),O=tv(zs(h,b,f)),q=tv(zs(h,b,l));return T!==M&&O!==q||!(T!==0||!Vg(f,h,l))||!(M!==0||!Vg(f,b,l))||!(O!==0||!Vg(h,f,b))||!(q!==0||!Vg(h,l,b))}function Vg(f,l,h){return l.x<=Math.max(f.x,h.x)&&l.x>=Math.min(f.x,h.x)&&l.y<=Math.max(f.y,h.y)&&l.y>=Math.min(f.y,h.y)}function tv(f){return f>0?1:f<0?-1:0}function Gm(f,l){return zs(f.prev,f,f.next)<0?zs(f,l,f.next)>=0&&zs(f,f.prev,l)>=0:zs(f,l,f.prev)<0||zs(f,f.next,l)<0}function j0(f,l){const h=Dd(f.i,f.x,f.y),b=Dd(l.i,l.x,l.y),T=f.next,M=l.prev;return f.next=l,l.prev=f,h.next=T,T.prev=h,b.next=h,h.prev=b,M.next=b,b.prev=M,b}function ev(f,l,h,b){const T=Dd(f,l,h);return b?(T.next=b.next,T.prev=b,b.next.prev=T,b.next=T):(T.prev=T,T.next=T),T}function Ug(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function Dd(f,l,h){return{i:f,x:l,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ul{constructor(l,h){if(h>l)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=l,this._minGranularity=h}getGranularityForZoomLevel(l){return Math.max(Math.floor(this._baseZoomGranularity/(1<<l)),this._minGranularity,1)}}class qg{constructor(l){this.fill=l.fill,this.line=l.line,this.tile=l.tile,this.stencil=l.stencil,this.circle=l.circle}}qg.noSubdivision=new qg({fill:new ul(0,0),line:new ul(0,0),tile:new ul(0,0),stencil:new ul(0,0),circle:1}),Ce("SubdivisionGranularityExpression",ul),Ce("SubdivisionGranularitySetting",qg);const Hm=-32768,ec=32767;class JA{constructor(l,h){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=l,this._granularityCellSize=lt/l,this._canonical=h}_getKey(l,h){return(l+=32768)<<16|h+32768}_vertexToIndex(l,h){if(l<-32768||h<-32768||l>32767||h>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const b=0|Math.round(l),T=0|Math.round(h),M=this._getKey(b,T);if(this._vertexDictionary.has(M))return this._vertexDictionary.get(M);const O=this._vertexBuffer.length/2;return this._vertexDictionary.set(M,O),this._vertexBuffer.push(b,T),O}_subdivideTrianglesScanline(l){if(this._granularity<2)return(function(T,M){const O=[];for(let q=0;q<M.length;q+=3){const J=M[q],ot=M[q+1],ft=M[q+2],Et=T[2*J],$t=T[2*J+1];(T[2*ot]-Et)*(T[2*ft+1]-$t)-(T[2*ot+1]-$t)*(T[2*ft]-Et)>0?(O.push(J),O.push(ft),O.push(ot)):(O.push(J),O.push(ot),O.push(ft))}return O})(this._vertexBuffer,l);const h=[],b=l.length;for(let T=0;T<b;T+=3){const M=[l[T+0],l[T+1],l[T+2]],O=[this._vertexBuffer[2*l[T+0]+0],this._vertexBuffer[2*l[T+0]+1],this._vertexBuffer[2*l[T+1]+0],this._vertexBuffer[2*l[T+1]+1],this._vertexBuffer[2*l[T+2]+0],this._vertexBuffer[2*l[T+2]+1]];let q=1/0,J=1/0,ot=-1/0,ft=-1/0;for(let te=0;te<3;te++){const he=O[2*te],Ee=O[2*te+1];q=Math.min(q,he),ot=Math.max(ot,he),J=Math.min(J,Ee),ft=Math.max(ft,Ee)}if(q===ot||J===ft)continue;const Et=Math.floor(q/this._granularityCellSize),$t=Math.ceil(ot/this._granularityCellSize),Gt=Math.floor(J/this._granularityCellSize),Wt=Math.ceil(ft/this._granularityCellSize);if(Et!==$t||Gt!==Wt)for(let te=Gt;te<Wt;te++){const he=this._scanlineGenerateVertexRingForCellRow(te,O,M);xl(this._vertexBuffer,he,h)}else h.push(...M)}return h}_scanlineGenerateVertexRingForCellRow(l,h,b){const T=l*this._granularityCellSize,M=T+this._granularityCellSize,O=[];for(let q=0;q<3;q++){const J=h[2*q],ot=h[2*q+1],ft=h[2*(q+1)%6],Et=h[(2*(q+1)+1)%6],$t=h[2*(q+2)%6],Gt=h[(2*(q+2)+1)%6],Wt=ft-J,te=Et-ot,he=Wt===0,Ee=te===0,Je=(T-ot)/te,De=(M-ot)/te,qt=Math.min(Je,De),le=Math.max(Je,De);if(!Ee&&(qt>=1||le<=0)||Ee&&(ot<T||ot>M)){Et>=T&&Et<=M&&O.push(b[(q+1)%3]);continue}!Ee&&qt>0&&O.push(this._vertexToIndex(J+Wt*qt,ot+te*qt));const $e=J+Wt*Math.max(qt,0),Tr=J+Wt*Math.min(le,1);he||this._generateIntraEdgeVertices(O,J,ot,ft,Et,$e,Tr),!Ee&&le<1&&O.push(this._vertexToIndex(J+Wt*le,ot+te*le)),(Ee||Et>=T&&Et<=M)&&O.push(b[(q+1)%3]),!Ee&&(Et<=T||Et>=M)&&this._generateInterEdgeVertices(O,J,ot,ft,Et,$t,Gt,Tr,T,M)}return O}_generateIntraEdgeVertices(l,h,b,T,M,O,q){const J=T-h,ot=M-b,ft=ot===0,Et=ft?Math.min(h,T):Math.min(O,q),$t=ft?Math.max(h,T):Math.max(O,q),Gt=Math.floor(Et/this._granularityCellSize)+1,Wt=Math.ceil($t/this._granularityCellSize)-1;if(ft?h<T:O<q)for(let te=Gt;te<=Wt;te++){const he=te*this._granularityCellSize;l.push(this._vertexToIndex(he,b+ot*(he-h)/J))}else for(let te=Wt;te>=Gt;te--){const he=te*this._granularityCellSize;l.push(this._vertexToIndex(he,b+ot*(he-h)/J))}}_generateInterEdgeVertices(l,h,b,T,M,O,q,J,ot,ft){const Et=M-b,$t=O-T,Gt=q-M,Wt=(ot-M)/Gt,te=(ft-M)/Gt,he=Math.min(Wt,te),Ee=Math.max(Wt,te),Je=T+$t*he;let De=Math.floor(Math.min(Je,J)/this._granularityCellSize)+1,qt=Math.ceil(Math.max(Je,J)/this._granularityCellSize)-1,le=J<Je;const $e=Gt===0;if($e&&(q===ot||q===ft))return;if($e||he>=1||Ee<=0){const dn=b-q,jr=O+(h-O)*Math.min((ot-q)/dn,(ft-q)/dn);De=Math.floor(Math.min(jr,J)/this._granularityCellSize)+1,qt=Math.ceil(Math.max(jr,J)/this._granularityCellSize)-1,le=J<jr}const Tr=Et>0?ft:ot;if(le)for(let dn=De;dn<=qt;dn++)l.push(this._vertexToIndex(dn*this._granularityCellSize,Tr));else for(let dn=qt;dn>=De;dn--)l.push(this._vertexToIndex(dn*this._granularityCellSize,Tr))}_generateOutline(l){const h=[];for(const b of l){const T=$p(b,this._granularity,!0),M=this._pointArrayToIndices(T),O=[];for(let q=1;q<M.length;q++)O.push(M[q-1]),O.push(M[q]);h.push(O)}return h}_handlePoles(l){let h=!1,b=!1;this._canonical&&(this._canonical.y===0&&(h=!0),this._canonical.y===(1<<this._canonical.z)-1&&(b=!0)),(h||b)&&this._fillPoles(l,h,b)}_ensureNoPoleVertices(){const l=this._vertexBuffer;for(let h=0;h<l.length;h+=2){const b=l[h+1];b===Hm&&(l[h+1]=-32767),b===ec&&(l[h+1]=32766)}}_generatePoleQuad(l,h,b,T,M,O){T>M!=(O===Hm)?(l.push(h),l.push(b),l.push(this._vertexToIndex(T,O)),l.push(b),l.push(this._vertexToIndex(M,O)),l.push(this._vertexToIndex(T,O))):(l.push(b),l.push(h),l.push(this._vertexToIndex(T,O)),l.push(this._vertexToIndex(M,O)),l.push(b),l.push(this._vertexToIndex(T,O)))}_fillPoles(l,h,b){const T=this._vertexBuffer,M=lt,O=l.length;for(let q=2;q<O;q+=3){const J=l[q-2],ot=l[q-1],ft=l[q],Et=T[2*J],$t=T[2*J+1],Gt=T[2*ot],Wt=T[2*ot+1],te=T[2*ft],he=T[2*ft+1];h&&($t===0&&Wt===0&&this._generatePoleQuad(l,J,ot,Et,Gt,Hm),Wt===0&&he===0&&this._generatePoleQuad(l,ot,ft,Gt,te,Hm),he===0&&$t===0&&this._generatePoleQuad(l,ft,J,te,Et,Hm)),b&&($t===M&&Wt===M&&this._generatePoleQuad(l,J,ot,Et,Gt,ec),Wt===M&&he===M&&this._generatePoleQuad(l,ot,ft,Gt,te,ec),he===M&&$t===M&&this._generatePoleQuad(l,ft,J,te,Et,ec))}}_initializeVertices(l){for(let h=0;h<l.length;h+=2)this._vertexToIndex(l[h],l[h+1])}subdividePolygonInternal(l,h){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:b,holeIndices:T}=(function(q){const J=[],ot=[];for(const ft of q)if(ft.length!==0){ft!==q[0]&&J.push(ot.length/2);for(let Et=0;Et<ft.length;Et++)ot.push(ft[Et].x),ot.push(ft[Et].y)}return{flattened:ot,holeIndices:J}})(l);let M;this._initializeVertices(b);try{const q=(function(ot,ft,Et=2){const $t=ft&&ft.length,Gt=$t?ft[0]*Et:ot.length;let Wt=TS(ot,0,Gt,Et,!0);const te=[];if(!Wt||Wt.next===Wt.prev)return te;let he,Ee,Je;if($t&&(Wt=(function(De,qt,le,$e){const Tr=[];for(let dn=0,jr=qt.length;dn<jr;dn++){const Gr=TS(De,qt[dn]*$e,dn<jr-1?qt[dn+1]*$e:De.length,$e,!1);Gr===Gr.next&&(Gr.steiner=!0),Tr.push(Jy(Gr))}Tr.sort(cl);for(let dn=0;dn<Tr.length;dn++)le=ZA(Tr[dn],le);return le})(ot,ft,Wt,Et)),ot.length>80*Et){he=1/0,Ee=1/0;let De=-1/0,qt=-1/0;for(let le=Et;le<Gt;le+=Et){const $e=ot[le],Tr=ot[le+1];$e<he&&(he=$e),Tr<Ee&&(Ee=Tr),$e>De&&(De=$e),Tr>qt&&(qt=Tr)}Je=Math.max(De-he,qt-Ee),Je=Je!==0?32767/Je:0}return Fh(Wt,te,Et,he,Ee,Je,0),te})(b,T),J=this._convertIndices(b,q);M=this._subdivideTrianglesScanline(J)}catch(q){console.error(q)}let O=[];return h&&(O=this._generateOutline(l)),this._ensureNoPoleVertices(),this._handlePoles(M),{verticesFlattened:this._vertexBuffer,indicesTriangles:M,indicesLineList:O}}_convertIndices(l,h){const b=[];for(let T=0;T<h.length;T++)b.push(this._vertexToIndex(l[2*h[T]],l[2*h[T]+1]));return b}_pointArrayToIndices(l){const h=[];for(let b=0;b<l.length;b++){const T=l[b];h.push(this._vertexToIndex(T.x,T.y))}return h}}function Gx(f,l,h,b=!0){return new JA(h,l).subdividePolygonInternal(f,b)}function $p(f,l,h=!1){if(!f||f.length<1)return[];if(f.length<2)return[];const b=f[0],T=f[f.length-1],M=h&&(b.x!==T.x||b.y!==T.y);if(l<2)return M?[...f,f[0]]:[...f];const O=Math.floor(lt/l),q=[];q.push(new P(f[0].x,f[0].y));const J=f.length,ot=M?J:J-1;for(let ft=0;ft<ot;ft++){const Et=f[ft],$t=ft<J-1?f[ft+1]:f[0],Gt=Et.x,Wt=Et.y,te=$t.x,he=$t.y,Ee=Gt!==te,Je=Wt!==he;if(!Ee&&!Je)continue;const De=te-Gt,qt=he-Wt,le=Math.abs(De),$e=Math.abs(qt);let Tr=Gt,dn=Wt;for(;;){const Gr=De>0?(Math.floor(Tr/O)+1)*O:(Math.ceil(Tr/O)-1)*O,wn=qt>0?(Math.floor(dn/O)+1)*O:(Math.ceil(dn/O)-1)*O,sn=Math.abs(Tr-Gr),_n=Math.abs(dn-wn),Hr=Math.abs(Tr-te),qn=Math.abs(dn-he),vi=Ee?sn/le:Number.POSITIVE_INFINITY,ci=Je?_n/$e:Number.POSITIVE_INFINITY;if((Hr<=sn||!Ee)&&(qn<=_n||!Je))break;if(vi<ci&&Ee||!Je){Tr=Gr,dn+=qt*vi;const oi=new P(Tr,Math.round(dn));q[q.length-1].x===oi.x&&q[q.length-1].y===oi.y||q.push(oi)}else{Tr+=De*ci,dn=wn;const oi=new P(Math.round(Tr),dn);q[q.length-1].x===oi.x&&q[q.length-1].y===oi.y||q.push(oi)}}const jr=new P(te,he);q[q.length-1].x===jr.x&&q[q.length-1].y===jr.y||q.push(jr)}return q}function xl(f,l,h){if(l.length===0)throw new Error("Subdivision vertex ring is empty.");let b=0,T=f[2*l[0]];for(let J=1;J<l.length;J++){const ot=f[2*l[J]];ot<T&&(T=ot,b=J)}const M=l.length;let O=b,q=(O+1)%M;for(;;){const J=O-1>=0?O-1:M-1,ot=(q+1)%M,ft=f[2*l[J]],Et=f[2*l[ot]],$t=f[2*l[O]],Gt=f[2*l[O]+1],Wt=f[2*l[q]+1];let te=!1;if(ft<Et)te=!0;else if(ft>Et)te=!1;else{const he=Wt-Gt,Ee=-(f[2*l[q]]-$t),Je=Gt<Wt?1:-1;((ft-$t)*he+(f[2*l[J]+1]-Gt)*Ee)*Je>((Et-$t)*he+(f[2*l[ot]+1]-Gt)*Ee)*Je&&(te=!0)}if(te){const he=l[J],Ee=l[O],Je=l[q];he!==Ee&&he!==Je&&Ee!==Je&&h.push(Je,Ee,he),O--,O<0&&(O=M-1)}else{const he=l[ot],Ee=l[O],Je=l[q];he!==Ee&&he!==Je&&Ee!==Je&&h.push(Je,Ee,he),q++,q>=M&&(q=0)}if(J===ot)break}}function th(f,l,h,b,T,M,O,q,J){const ot=T.length/2,ft=O&&q&&J;if(ot<fa.MAX_VERTEX_ARRAY_LENGTH){const Et=l.prepareSegment(ot,h,b),$t=Et.vertexLength;for(let te=0;te<M.length;te+=3)b.emplaceBack($t+M[te],$t+M[te+1],$t+M[te+2]);let Gt,Wt;Et.vertexLength+=ot,Et.primitiveLength+=M.length/3,ft&&(Wt=O.prepareSegment(ot,h,q),Gt=Wt.vertexLength,Wt.vertexLength+=ot);for(let te=0;te<T.length;te+=2)f(T[te],T[te+1]);if(ft)for(let te=0;te<J.length;te++){const he=J[te];for(let Ee=1;Ee<he.length;Ee+=2)q.emplaceBack(Gt+he[Ee-1],Gt+he[Ee]);Wt.primitiveLength+=he.length/2}}else(function(Et,$t,Gt,Wt,te,he){const Ee=[];for(let $e=0;$e<Wt.length/2;$e++)Ee.push(-1);const Je={count:0};let De=0,qt=Et.getOrCreateLatestSegment($t,Gt),le=qt.vertexLength;for(let $e=2;$e<te.length;$e+=3){const Tr=te[$e-2],dn=te[$e-1],jr=te[$e];let Gr=Ee[Tr]<De,wn=Ee[dn]<De,sn=Ee[jr]<De;qt.vertexLength+((Gr?1:0)+(wn?1:0)+(sn?1:0))>fa.MAX_VERTEX_ARRAY_LENGTH&&(qt=Et.createNewSegment($t,Gt),De=Je.count,Gr=!0,wn=!0,sn=!0,le=0);const _n=jh(Ee,Wt,he,Je,Tr,Gr,qt),Hr=jh(Ee,Wt,he,Je,dn,wn,qt),qn=jh(Ee,Wt,he,Je,jr,sn,qt);Gt.emplaceBack(le+_n-De,le+Hr-De,le+qn-De),qt.primitiveLength++}})(l,h,b,T,M,f),ft&&(function(Et,$t,Gt,Wt,te,he){const Ee=[];for(let $e=0;$e<Wt.length/2;$e++)Ee.push(-1);const Je={count:0};let De=0,qt=Et.getOrCreateLatestSegment($t,Gt),le=qt.vertexLength;for(let $e=0;$e<te.length;$e++){const Tr=te[$e];for(let dn=1;dn<te[$e].length;dn+=2){const jr=Tr[dn-1],Gr=Tr[dn];let wn=Ee[jr]<De,sn=Ee[Gr]<De;qt.vertexLength+((wn?1:0)+(sn?1:0))>fa.MAX_VERTEX_ARRAY_LENGTH&&(qt=Et.createNewSegment($t,Gt),De=Je.count,wn=!0,sn=!0,le=0);const _n=jh(Ee,Wt,he,Je,jr,wn,qt),Hr=jh(Ee,Wt,he,Je,Gr,sn,qt);Gt.emplaceBack(le+_n-De,le+Hr-De),qt.primitiveLength++}}})(O,h,q,T,J,f),l.forceNewSegmentOnNextPrepare(),O?.forceNewSegmentOnNextPrepare()}function jh(f,l,h,b,T,M,O){if(M){const q=b.count;return h(l[2*T],l[2*T+1]),f[T]=b.count,b.count++,O.vertexLength++,q}return f[T]}class $0{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new kr,this.indexArray=new Da,this.indexArray2=new Pa,this.programConfigurations=new Md(l.layers,l.zoom),this.segments=new fa,this.segments2=new fa,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){this.hasPattern=Od("fill",this.layers,h);const T=this.layers[0].layout.get("fill-sort-key"),M=!T.isConstant(),O=[];for(const{feature:q,id:J,index:ot,sourceLayerIndex:ft}of l){const Et=this.layers[0]._featureFilter.needGeometry,$t=Pd(q,Et);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),$t,b))continue;const Gt=M?T.evaluate($t,{},b,h.availableImages):void 0,Wt={id:J,properties:q.properties,type:q.type,sourceLayerIndex:ft,index:ot,geometry:Et?$t.geometry:Fp(q),patterns:{},sortKey:Gt};O.push(Wt)}M&&O.sort(((q,J)=>q.sortKey-J.sortKey));for(const q of O){const{geometry:J,index:ot,sourceLayerIndex:ft}=q;if(this.hasPattern){const Et=Zy("fill",this.layers,q,this.zoom,h);this.patternFeatures.push(Et)}else this.addFeature(q,J,ot,b,{},h.subdivisionGranularity);h.featureIndex.insert(l[ot].feature,J,ot,ft,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}addFeatures(l,h,b){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,h,b,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ES),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,h,b,T,M,O){for(const q of Al(h,500)){const J=Gx(q,T,O.fill.getGranularityForZoomLevel(T.z)),ot=this.layoutVertexArray;th(((ft,Et)=>{ot.emplaceBack(ft,Et)}),this.segments,this.layoutVertexArray,this.indexArray,J.verticesFlattened,J.indicesTriangles,this.segments2,this.indexArray2,J.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,M,T)}}let Hx,Xx;Ce("FillBucket",$0,{omit:["layers","patternFeatures"]});var tk={get paint(){return Xx=Xx||new La({"fill-antialias":new yn(Oe.paint_fill["fill-antialias"]),"fill-opacity":new kn(Oe.paint_fill["fill-opacity"]),"fill-color":new kn(Oe.paint_fill["fill-color"]),"fill-outline-color":new kn(Oe.paint_fill["fill-outline-color"]),"fill-translate":new yn(Oe.paint_fill["fill-translate"]),"fill-translate-anchor":new yn(Oe.paint_fill["fill-translate-anchor"]),"fill-pattern":new ts(Oe.paint_fill["fill-pattern"])})},get layout(){return Hx=Hx||new La({"fill-sort-key":new kn(Oe.layout_fill["fill-sort-key"])})}};class V0 extends Ma{constructor(l){super(l,tk)}recalculate(l,h){super.recalculate(l,h);const b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new $0(l)}queryRadius(){return Gy(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:l,geometry:h,transform:b,pixelsToTileUnits:T}){return Mx(R0(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-b.bearingInRadians,T),h)}isTileClipped(){return!0}}const xh=Di([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Bd=Di([{name:"a_centroid",components:2,type:"Int16"}],4),{members:kS}=xh;var Ou,Wx,zd,Vp,Fd,U0,q0,wh={};function Yx(){if(Wx)return Ou;Wx=1;var f=k();function l(T,M,O,q,J){this.properties={},this.extent=O,this.type=0,this._pbf=T,this._geometry=-1,this._keys=q,this._values=J,T.readFields(h,this,M)}function h(T,M,O){T==1?M.id=O.readVarint():T==2?(function(q,J){for(var ot=q.readVarint()+q.pos;q.pos<ot;){var ft=J._keys[q.readVarint()],Et=J._values[q.readVarint()];J.properties[ft]=Et}})(O,M):T==3?M.type=O.readVarint():T==4&&(M._geometry=O.pos)}function b(T){for(var M,O,q=0,J=0,ot=T.length,ft=ot-1;J<ot;ft=J++)q+=((O=T[ft]).x-(M=T[J]).x)*(M.y+O.y);return q}return Ou=l,l.types=["Unknown","Point","LineString","Polygon"],l.prototype.loadGeometry=function(){var T=this._pbf;T.pos=this._geometry;for(var M,O=T.readVarint()+T.pos,q=1,J=0,ot=0,ft=0,Et=[];T.pos<O;){if(J<=0){var $t=T.readVarint();q=7&$t,J=$t>>3}if(J--,q===1||q===2)ot+=T.readSVarint(),ft+=T.readSVarint(),q===1&&(M&&Et.push(M),M=[]),M.push(new f(ot,ft));else{if(q!==7)throw new Error("unknown command "+q);M&&M.push(M[0].clone())}}return M&&Et.push(M),Et},l.prototype.bbox=function(){var T=this._pbf;T.pos=this._geometry;for(var M=T.readVarint()+T.pos,O=1,q=0,J=0,ot=0,ft=1/0,Et=-1/0,$t=1/0,Gt=-1/0;T.pos<M;){if(q<=0){var Wt=T.readVarint();O=7&Wt,q=Wt>>3}if(q--,O===1||O===2)(J+=T.readSVarint())<ft&&(ft=J),J>Et&&(Et=J),(ot+=T.readSVarint())<$t&&($t=ot),ot>Gt&&(Gt=ot);else if(O!==7)throw new Error("unknown command "+O)}return[ft,$t,Et,Gt]},l.prototype.toGeoJSON=function(T,M,O){var q,J,ot=this.extent*Math.pow(2,O),ft=this.extent*T,Et=this.extent*M,$t=this.loadGeometry(),Gt=l.types[this.type];function Wt(Ee){for(var Je=0;Je<Ee.length;Je++){var De=Ee[Je];Ee[Je]=[360*(De.x+ft)/ot-180,360/Math.PI*Math.atan(Math.exp((180-360*(De.y+Et)/ot)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(q=0;q<$t.length;q++)te[q]=$t[q][0];Wt($t=te);break;case 2:for(q=0;q<$t.length;q++)Wt($t[q]);break;case 3:for($t=(function(Ee){var Je=Ee.length;if(Je<=1)return[Ee];for(var De,qt,le=[],$e=0;$e<Je;$e++){var Tr=b(Ee[$e]);Tr!==0&&(qt===void 0&&(qt=Tr<0),qt===Tr<0?(De&&le.push(De),De=[Ee[$e]]):De.push(Ee[$e]))}return De&&le.push(De),le})($t),q=0;q<$t.length;q++)for(J=0;J<$t[q].length;J++)Wt($t[q][J])}$t.length===1?$t=$t[0]:Gt="Multi"+Gt;var he={type:"Feature",geometry:{type:Gt,coordinates:$t},properties:this.properties};return"id"in this&&(he.id=this.id),he},Ou}function Xm(){if(Vp)return zd;Vp=1;var f=Yx();function l(b,T){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=b,this._keys=[],this._values=[],this._features=[],b.readFields(h,this,T),this.length=this._features.length}function h(b,T,M){b===15?T.version=M.readVarint():b===1?T.name=M.readString():b===5?T.extent=M.readVarint():b===2?T._features.push(M.pos):b===3?T._keys.push(M.readString()):b===4&&T._values.push((function(O){for(var q=null,J=O.readVarint()+O.pos;O.pos<J;){var ot=O.readVarint()>>3;q=ot===1?O.readString():ot===2?O.readFloat():ot===3?O.readDouble():ot===4?O.readVarint64():ot===5?O.readVarint():ot===6?O.readSVarint():ot===7?O.readBoolean():null}return q})(M))}return zd=l,l.prototype.feature=function(b){if(b<0||b>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[b];var T=this._pbf.readVarint()+this._pbf.pos;return new f(this._pbf,T,this.extent,this._keys,this._values)},zd}function Gg(){return q0||(q0=1,wh.VectorTile=(function(){if(U0)return Fd;U0=1;var f=Xm();function l(h,b,T){if(h===3){var M=new f(T,T.readVarint()+T.pos);M.length&&(b[M.name]=M)}}return Fd=function(h,b){this.layers=h.readFields(l,{},b)},Fd})(),wh.VectorTileFeature=Yx(),wh.VectorTileLayer=Xm()),wh}var Qf=g(Gg());const Hg=Qf.VectorTileFeature.types,G0=Math.pow(2,13);function Xg(f,l,h,b,T,M,O,q){f.emplaceBack(l,h,2*Math.floor(b*G0)+O,T*G0*2,M*G0*2,Math.round(q))}class Wm{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Cn,this.centroidVertexArray=new xr,this.indexArray=new Da,this.programConfigurations=new Md(l.layers,l.zoom),this.segments=new fa,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){this.features=[],this.hasPattern=Od("fill-extrusion",this.layers,h);for(const{feature:T,id:M,index:O,sourceLayerIndex:q}of l){const J=this.layers[0]._featureFilter.needGeometry,ot=Pd(T,J);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),ot,b))continue;const ft={id:M,sourceLayerIndex:q,index:O,geometry:J?ot.geometry:Fp(T),properties:T.properties,type:T.type,patterns:{}};this.hasPattern?this.features.push(Zy("fill-extrusion",this.layers,ft,this.zoom,h)):this.addFeature(ft,ft.geometry,O,b,{},h.subdivisionGranularity),h.featureIndex.insert(T,ft.geometry,O,q,this.index,!0)}}addFeatures(l,h,b){for(const T of this.features){const{geometry:M}=T;this.addFeature(T,M,T.index,h,b,l.subdivisionGranularity)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,kS),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,Bd.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,h,b,T,M,O){for(const q of Al(h,500)){const J={x:0,y:0,sampleCount:0},ot=this.layoutVertexArray.length;this.processPolygon(J,T,l,q,O);const ft=this.layoutVertexArray.length-ot,Et=Math.floor(J.x/J.sampleCount),$t=Math.floor(J.y/J.sampleCount);for(let Gt=0;Gt<ft;Gt++)this.centroidVertexArray.emplaceBack(Et,$t)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,M,T)}processPolygon(l,h,b,T,M){if(T.length<1||Kx(T[0]))return;for(const Et of T)Et.length!==0&&IS(l,Et);const O={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},q=M.fill.getGranularityForZoomLevel(h.z),J=Hg[b.type]==="Polygon";for(const Et of T){if(Et.length===0||Kx(Et))continue;const $t=$p(Et,q,J);this._generateSideFaces($t,O)}if(!J)return;const ot=Gx(T,h,q,!1),ft=this.layoutVertexArray;th(((Et,$t)=>{Xg(ft,Et,$t,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,ot.verticesFlattened,ot.indicesTriangles)}_generateSideFaces(l,h){let b=0;for(let T=1;T<l.length;T++){const M=l[T],O=l[T-1];if(H0(M,O))continue;h.segment.vertexLength+4>fa.MAX_VERTEX_ARRAY_LENGTH&&(h.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const q=M.sub(O)._perp()._unit(),J=O.dist(M);b+J>32768&&(b=0),Xg(this.layoutVertexArray,M.x,M.y,q.x,q.y,0,0,b),Xg(this.layoutVertexArray,M.x,M.y,q.x,q.y,0,1,b),b+=J,Xg(this.layoutVertexArray,O.x,O.y,q.x,q.y,0,0,b),Xg(this.layoutVertexArray,O.x,O.y,q.x,q.y,0,1,b);const ot=h.segment.vertexLength;this.indexArray.emplaceBack(ot,ot+2,ot+1),this.indexArray.emplaceBack(ot+1,ot+2,ot+3),h.segment.vertexLength+=4,h.segment.primitiveLength+=2}}}function IS(f,l){for(let h=0;h<l.length;h++){const b=l[h];h===l.length-1&&l[0].x===b.x&&l[0].y===b.y||(f.x+=b.x,f.y+=b.y,f.sampleCount++)}}function H0(f,l){return f.x===l.x&&(f.x<0||f.x>lt)||f.y===l.y&&(f.y<0||f.y>lt)}function Kx(f){return f.every((l=>l.x<0))||f.every((l=>l.x>lt))||f.every((l=>l.y<0))||f.every((l=>l.y>lt))}let RS;Ce("FillExtrusionBucket",Wm,{omit:["layers","features"]});var ek={get paint(){return RS=RS||new La({"fill-extrusion-opacity":new yn(Oe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kn(Oe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yn(Oe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yn(Oe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ts(Oe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kn(Oe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kn(Oe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yn(Oe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class qo extends Ma{constructor(l){super(l,ek)}createBucket(l){return new Wm(l)}queryRadius(){return Gy(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:b,geometry:T,transform:M,pixelsToTileUnits:O,pixelPosMatrix:q}){const J=R0(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-M.bearingInRadians,O),ot=this.paint.get("fill-extrusion-height").evaluate(h,b),ft=this.paint.get("fill-extrusion-base").evaluate(h,b),Et=(function(Gt,Wt){const te=[];for(const he of Gt){const Ee=[he.x,he.y,0,1];At(Ee,Ee,Wt),te.push(new P(Ee[0]/Ee[3],Ee[1]/Ee[3]))}return te})(J,q),$t=(function(Gt,Wt,te,he){const Ee=[],Je=[],De=he[8]*Wt,qt=he[9]*Wt,le=he[10]*Wt,$e=he[11]*Wt,Tr=he[8]*te,dn=he[9]*te,jr=he[10]*te,Gr=he[11]*te;for(const wn of Gt){const sn=[],_n=[];for(const Hr of wn){const qn=Hr.x,vi=Hr.y,ci=he[0]*qn+he[4]*vi+he[12],oi=he[1]*qn+he[5]*vi+he[13],Ca=he[2]*qn+he[6]*vi+he[14],Js=he[3]*qn+he[7]*vi+he[15],nc=Ca+le,Yc=Js+$e,nh=ci+Tr,Bu=oi+dn,Lc=Ca+jr,fs=Js+Gr,Mc=new P((ci+De)/Yc,(oi+qt)/Yc);Mc.z=nc/Yc,sn.push(Mc);const Kc=new P(nh/fs,Bu/fs);Kc.z=Lc/fs,_n.push(Kc)}Ee.push(sn),Je.push(_n)}return[Ee,Je]})(T,ft,ot,q);return(function(Gt,Wt,te){let he=1/0;Mx(te,Wt)&&(he=qa(te,Wt[0]));for(let Ee=0;Ee<Wt.length;Ee++){const Je=Wt[Ee],De=Gt[Ee];for(let qt=0;qt<Je.length-1;qt++){const le=Je[qt],$e=[le,Je[qt+1],De[qt+1],De[qt],le];k0(te,$e)&&(he=Math.min(he,qa(te,$e)))}}return he!==1/0&&he})($t[0],$t[1],Et)}}function Go(f,l){return f.x*l.x+f.y*l.y}function qa(f,l){if(f.length===1){let h=0;const b=l[h++];let T;for(;!T||b.equals(T);)if(T=l[h++],!T)return 1/0;for(;h<l.length;h++){const M=l[h],O=f[0],q=T.sub(b),J=M.sub(b),ot=O.sub(b),ft=Go(q,q),Et=Go(q,J),$t=Go(J,J),Gt=Go(ot,q),Wt=Go(ot,J),te=ft*$t-Et*Et,he=($t*Gt-Et*Wt)/te,Ee=(ft*Wt-Et*Gt)/te,Je=b.z*(1-he-Ee)+T.z*he+M.z*Ee;if(isFinite(Je))return Je}return 1/0}{let h=1/0;for(const b of l)h=Math.min(h,b.z);return h}}const ro=Di([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:hs}=ro,$h=Di([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Up}=$h,Wg=Qf.VectorTileFeature.types,Zx=Math.cos(Math.PI/180*37.5),ff=Math.pow(2,14)/.5;class wl{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((h=>{this.gradients[h.id]={}})),this.layoutVertexArray=new Tn,this.layoutVertexArray2=new on,this.indexArray=new Da,this.programConfigurations=new Md(l.layers,l.zoom),this.segments=new fa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){this.hasPattern=Od("line",this.layers,h);const T=this.layers[0].layout.get("line-sort-key"),M=!T.isConstant(),O=[];for(const{feature:q,id:J,index:ot,sourceLayerIndex:ft}of l){const Et=this.layers[0]._featureFilter.needGeometry,$t=Pd(q,Et);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),$t,b))continue;const Gt=M?T.evaluate($t,{},b):void 0,Wt={id:J,properties:q.properties,type:q.type,sourceLayerIndex:ft,index:ot,geometry:Et?$t.geometry:Fp(q),patterns:{},sortKey:Gt};O.push(Wt)}M&&O.sort(((q,J)=>q.sortKey-J.sortKey));for(const q of O){const{geometry:J,index:ot,sourceLayerIndex:ft}=q;if(this.hasPattern){const Et=Zy("line",this.layers,q,this.zoom,h);this.patternFeatures.push(Et)}else this.addFeature(q,J,ot,b,{},h.subdivisionGranularity);h.featureIndex.insert(l[ot].feature,J,ot,ft,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}addFeatures(l,h,b){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,h,b,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Up)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,hs),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,h,b,T,M,O){const q=this.layers[0].layout,J=q.get("line-join").evaluate(l,{}),ot=q.get("line-cap"),ft=q.get("line-miter-limit"),Et=q.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const $t of h)this.addLine($t,l,J,ot,ft,Et,T,O);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,M,T)}addLine(l,h,b,T,M,O,q,J){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,l=$p(l,q?J.line.getGranularityForZoomLevel(q.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let De=0;De<l.length-1;De++)this.totalDistance+=l[De].dist(l[De+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ot=Wg[h.type]==="Polygon";let ft=l.length;for(;ft>=2&&l[ft-1].equals(l[ft-2]);)ft--;let Et=0;for(;Et<ft-1&&l[Et].equals(l[Et+1]);)Et++;if(ft<(ot?3:2))return;b==="bevel"&&(M=1.05);const $t=this.overscaling<=16?122880/(512*this.overscaling):0,Gt=this.segments.prepareSegment(10*ft,this.layoutVertexArray,this.indexArray);let Wt,te,he,Ee,Je;this.e1=this.e2=-1,ot&&(Wt=l[ft-2],Je=l[Et].sub(Wt)._unit()._perp());for(let De=Et;De<ft;De++){if(he=De===ft-1?ot?l[Et+1]:void 0:l[De+1],he&&l[De].equals(he))continue;Je&&(Ee=Je),Wt&&(te=Wt),Wt=l[De],Je=he?he.sub(Wt)._unit()._perp():Ee,Ee=Ee||Je;let qt=Ee.add(Je);qt.x===0&&qt.y===0||qt._unit();const le=Ee.x*Je.x+Ee.y*Je.y,$e=qt.x*Je.x+qt.y*Je.y,Tr=$e!==0?1/$e:1/0,dn=2*Math.sqrt(2-2*$e),jr=$e<Zx&&te&&he,Gr=Ee.x*Je.y-Ee.y*Je.x>0;if(jr&&De>Et){const _n=Wt.dist(te);if(_n>2*$t){const Hr=Wt.sub(Wt.sub(te)._mult($t/_n)._round());this.updateDistance(te,Hr),this.addCurrentVertex(Hr,Ee,0,0,Gt),te=Hr}}const wn=te&&he;let sn=wn?b:ot?"butt":T;if(wn&&sn==="round"&&(Tr<O?sn="miter":Tr<=2&&(sn="fakeround")),sn==="miter"&&Tr>M&&(sn="bevel"),sn==="bevel"&&(Tr>2&&(sn="flipbevel"),Tr<M&&(sn="miter")),te&&this.updateDistance(te,Wt),sn==="miter")qt._mult(Tr),this.addCurrentVertex(Wt,qt,0,0,Gt);else if(sn==="flipbevel"){if(Tr>100)qt=Je.mult(-1);else{const _n=Tr*Ee.add(Je).mag()/Ee.sub(Je).mag();qt._perp()._mult(_n*(Gr?-1:1))}this.addCurrentVertex(Wt,qt,0,0,Gt),this.addCurrentVertex(Wt,qt.mult(-1),0,0,Gt)}else if(sn==="bevel"||sn==="fakeround"){const _n=-Math.sqrt(Tr*Tr-1),Hr=Gr?_n:0,qn=Gr?0:_n;if(te&&this.addCurrentVertex(Wt,Ee,Hr,qn,Gt),sn==="fakeround"){const vi=Math.round(180*dn/Math.PI/20);for(let ci=1;ci<vi;ci++){let oi=ci/vi;if(oi!==.5){const Js=oi-.5;oi+=oi*Js*(oi-1)*((1.0904+le*(le*(3.55645-1.43519*le)-3.2452))*Js*Js+(.848013+le*(.215638*le-1.06021)))}const Ca=Je.sub(Ee)._mult(oi)._add(Ee)._unit()._mult(Gr?-1:1);this.addHalfVertex(Wt,Ca.x,Ca.y,!1,Gr,0,Gt)}}he&&this.addCurrentVertex(Wt,Je,-Hr,-qn,Gt)}else if(sn==="butt")this.addCurrentVertex(Wt,qt,0,0,Gt);else if(sn==="square"){const _n=te?1:-1;this.addCurrentVertex(Wt,qt,_n,_n,Gt)}else sn==="round"&&(te&&(this.addCurrentVertex(Wt,Ee,0,0,Gt),this.addCurrentVertex(Wt,Ee,1,1,Gt,!0)),he&&(this.addCurrentVertex(Wt,Je,-1,-1,Gt,!0),this.addCurrentVertex(Wt,Je,0,0,Gt)));if(jr&&De<ft-1){const _n=Wt.dist(he);if(_n>2*$t){const Hr=Wt.add(he.sub(Wt)._mult($t/_n)._round());this.updateDistance(Wt,Hr),this.addCurrentVertex(Hr,Je,0,0,Gt),Wt=Hr}}}}addCurrentVertex(l,h,b,T,M,O=!1){const q=h.y*T-h.x,J=-h.y-h.x*T;this.addHalfVertex(l,h.x+h.y*b,h.y-h.x*b,O,!1,b,M),this.addHalfVertex(l,q,J,O,!0,-T,M),this.distance>ff/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,h,b,T,M,O))}addHalfVertex({x:l,y:h},b,T,M,O,q,J){const ot=.5*(this.lineClips?this.scaledDistance*(ff-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(M?1:0),(h<<1)+(O?1:0),Math.round(63*b)+128,Math.round(63*T)+128,1+(q===0?0:q<0?-1:1)|(63&ot)<<2,ot>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ft=J.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,ft,this.e2),J.primitiveLength++),O?this.e2=ft:this.e1=ft}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,h){this.distance+=l.dist(h),this.updateScaledDistance()}}let Jf,qp;Ce("LineBucket",wl,{omit:["layers","patternFeatures"]});var X0={get paint(){return qp=qp||new La({"line-opacity":new kn(Oe.paint_line["line-opacity"]),"line-color":new kn(Oe.paint_line["line-color"]),"line-translate":new yn(Oe.paint_line["line-translate"]),"line-translate-anchor":new yn(Oe.paint_line["line-translate-anchor"]),"line-width":new kn(Oe.paint_line["line-width"]),"line-gap-width":new kn(Oe.paint_line["line-gap-width"]),"line-offset":new kn(Oe.paint_line["line-offset"]),"line-blur":new kn(Oe.paint_line["line-blur"]),"line-dasharray":new Wa(Oe.paint_line["line-dasharray"]),"line-pattern":new ts(Oe.paint_line["line-pattern"]),"line-gradient":new Ds(Oe.paint_line["line-gradient"])})},get layout(){return Jf=Jf||new La({"line-cap":new yn(Oe.layout_line["line-cap"]),"line-join":new kn(Oe.layout_line["line-join"]),"line-miter-limit":new yn(Oe.layout_line["line-miter-limit"]),"line-round-limit":new yn(Oe.layout_line["line-round-limit"]),"line-sort-key":new kn(Oe.layout_line["line-sort-key"])})}};class Vh extends kn{possiblyEvaluate(l,h){return h=new Gn(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(l,h)}evaluate(l,h,b,T){return h=Se({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(l,h,b,T)}}let tp;class rv extends Ma{constructor(l){super(l,X0),this.gradientVersion=0,tp||(tp=new Vh(X0.paint.properties["line-width"].specification),tp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!(function(b){return b._styleExpression!==void 0})(h)&&h._styleExpression.expression instanceof Yr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,h){super.recalculate(l,h),this.paint._values["line-floorwidth"]=tp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new wl(l)}queryRadius(l){const h=l,b=eh(jg("line-width",this,h),jg("line-gap-width",this,h)),T=jg("line-offset",this,h);return b/2+Math.abs(T)+Gy(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:b,geometry:T,transform:M,pixelsToTileUnits:O}){const q=R0(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-M.bearingInRadians,O),J=O/2*eh(this.paint.get("line-width").evaluate(h,b),this.paint.get("line-gap-width").evaluate(h,b)),ot=this.paint.get("line-offset").evaluate(h,b);return ot&&(T=(function(ft,Et){const $t=[];for(let Gt=0;Gt<ft.length;Gt++){const Wt=ft[Gt],te=[];for(let he=0;he<Wt.length;he++){const Ee=Wt[he-1],Je=Wt[he],De=Wt[he+1],qt=he===0?new P(0,0):Je.sub(Ee)._unit()._perp(),le=he===Wt.length-1?new P(0,0):De.sub(Je)._unit()._perp(),$e=qt._add(le)._unit(),Tr=$e.x*le.x+$e.y*le.y;Tr!==0&&$e._mult(1/Tr),te.push($e._mult(Et)._add(Je))}$t.push(te)}return $t})(T,ot*O)),(function(ft,Et,$t){for(let Gt=0;Gt<Et.length;Gt++){const Wt=Et[Gt];if(ft.length>=3){for(let te=0;te<Wt.length;te++)if(qm(ft,Wt[te]))return!0}if(vS(ft,Wt,$t))return!0}return!1})(q,T,J)}isTileClipped(){return!0}}function eh(f,l){return l>0?l+2*f:f}const Qx=Di([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),W0=Di([{name:"a_projected_pos",components:3,type:"Float32"}],4);Di([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const NS=Di([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Di([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const nv=Di([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Y0=Di([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gp(f,l,h){return f.sections.forEach((b=>{b.text=(function(T,M,O){const q=M.layout.get("text-transform").evaluate(O,{});return q==="uppercase"?T=T.toLocaleUpperCase():q==="lowercase"&&(T=T.toLocaleLowerCase()),yo.applyArabicShaping&&(T=yo.applyArabicShaping(T)),T})(b.text,l,h)})),f}Di([{name:"triangle",components:3,type:"Uint16"}]),Di([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Di([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Di([{type:"Float32",name:"offsetX"}]),Di([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Di([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Nl={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ep,Hp,pf,rc=24,iv={};function LS(){return ep||(ep=1,iv.read=function(f,l,h,b,T){var M,O,q=8*T-b-1,J=(1<<q)-1,ot=J>>1,ft=-7,Et=h?T-1:0,$t=h?-1:1,Gt=f[l+Et];for(Et+=$t,M=Gt&(1<<-ft)-1,Gt>>=-ft,ft+=q;ft>0;M=256*M+f[l+Et],Et+=$t,ft-=8);for(O=M&(1<<-ft)-1,M>>=-ft,ft+=b;ft>0;O=256*O+f[l+Et],Et+=$t,ft-=8);if(M===0)M=1-ot;else{if(M===J)return O?NaN:1/0*(Gt?-1:1);O+=Math.pow(2,b),M-=ot}return(Gt?-1:1)*O*Math.pow(2,M-b)},iv.write=function(f,l,h,b,T,M){var O,q,J,ot=8*M-T-1,ft=(1<<ot)-1,Et=ft>>1,$t=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,Gt=b?0:M-1,Wt=b?1:-1,te=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(q=isNaN(l)?1:0,O=ft):(O=Math.floor(Math.log(l)/Math.LN2),l*(J=Math.pow(2,-O))<1&&(O--,J*=2),(l+=O+Et>=1?$t/J:$t*Math.pow(2,1-Et))*J>=2&&(O++,J/=2),O+Et>=ft?(q=0,O=ft):O+Et>=1?(q=(l*J-1)*Math.pow(2,T),O+=Et):(q=l*Math.pow(2,Et-1)*Math.pow(2,T),O=0));T>=8;f[h+Gt]=255&q,Gt+=Wt,q/=256,T-=8);for(O=O<<T|q,ot+=T;ot>0;f[h+Gt]=255&O,Gt+=Wt,O/=256,ot-=8);f[h+Gt-Wt]|=128*te}),iv}function Yg(){if(pf)return Hp;pf=1,Hp=l;var f=LS();function l(qt){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(qt)?qt:new Uint8Array(qt||0),this.pos=0,this.type=0,this.length=this.buf.length}l.Varint=0,l.Fixed64=1,l.Bytes=2,l.Fixed32=5;var h=4294967296,b=1/h,T=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function M(qt){return qt.type===l.Bytes?qt.readVarint()+qt.pos:qt.pos+1}function O(qt,le,$e){return $e?4294967296*le+(qt>>>0):4294967296*(le>>>0)+(qt>>>0)}function q(qt,le,$e){var Tr=le<=16383?1:le<=2097151?2:le<=268435455?3:Math.floor(Math.log(le)/(7*Math.LN2));$e.realloc(Tr);for(var dn=$e.pos-1;dn>=qt;dn--)$e.buf[dn+Tr]=$e.buf[dn]}function J(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeVarint(qt[$e])}function ot(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeSVarint(qt[$e])}function ft(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeFloat(qt[$e])}function Et(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeDouble(qt[$e])}function $t(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeBoolean(qt[$e])}function Gt(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeFixed32(qt[$e])}function Wt(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeSFixed32(qt[$e])}function te(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeFixed64(qt[$e])}function he(qt,le){for(var $e=0;$e<qt.length;$e++)le.writeSFixed64(qt[$e])}function Ee(qt,le){return(qt[le]|qt[le+1]<<8|qt[le+2]<<16)+16777216*qt[le+3]}function Je(qt,le,$e){qt[$e]=le,qt[$e+1]=le>>>8,qt[$e+2]=le>>>16,qt[$e+3]=le>>>24}function De(qt,le){return(qt[le]|qt[le+1]<<8|qt[le+2]<<16)+(qt[le+3]<<24)}return l.prototype={destroy:function(){this.buf=null},readFields:function(qt,le,$e){for($e=$e||this.length;this.pos<$e;){var Tr=this.readVarint(),dn=Tr>>3,jr=this.pos;this.type=7&Tr,qt(dn,le,this),this.pos===jr&&this.skip(Tr)}return le},readMessage:function(qt,le){return this.readFields(qt,le,this.readVarint()+this.pos)},readFixed32:function(){var qt=Ee(this.buf,this.pos);return this.pos+=4,qt},readSFixed32:function(){var qt=De(this.buf,this.pos);return this.pos+=4,qt},readFixed64:function(){var qt=Ee(this.buf,this.pos)+Ee(this.buf,this.pos+4)*h;return this.pos+=8,qt},readSFixed64:function(){var qt=Ee(this.buf,this.pos)+De(this.buf,this.pos+4)*h;return this.pos+=8,qt},readFloat:function(){var qt=f.read(this.buf,this.pos,!0,23,4);return this.pos+=4,qt},readDouble:function(){var qt=f.read(this.buf,this.pos,!0,52,8);return this.pos+=8,qt},readVarint:function(qt){var le,$e,Tr=this.buf;return le=127&($e=Tr[this.pos++]),$e<128?le:(le|=(127&($e=Tr[this.pos++]))<<7,$e<128?le:(le|=(127&($e=Tr[this.pos++]))<<14,$e<128?le:(le|=(127&($e=Tr[this.pos++]))<<21,$e<128?le:(function(dn,jr,Gr){var wn,sn,_n=Gr.buf;if(wn=(112&(sn=_n[Gr.pos++]))>>4,sn<128||(wn|=(127&(sn=_n[Gr.pos++]))<<3,sn<128)||(wn|=(127&(sn=_n[Gr.pos++]))<<10,sn<128)||(wn|=(127&(sn=_n[Gr.pos++]))<<17,sn<128)||(wn|=(127&(sn=_n[Gr.pos++]))<<24,sn<128)||(wn|=(1&(sn=_n[Gr.pos++]))<<31,sn<128))return O(dn,wn,jr);throw new Error("Expected varint not more than 10 bytes")})(le|=(15&($e=Tr[this.pos]))<<28,qt,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var qt=this.readVarint();return qt%2==1?(qt+1)/-2:qt/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var qt=this.readVarint()+this.pos,le=this.pos;return this.pos=qt,qt-le>=12&&T?(function($e,Tr,dn){return T.decode($e.subarray(Tr,dn))})(this.buf,le,qt):(function($e,Tr,dn){for(var jr="",Gr=Tr;Gr<dn;){var wn,sn,_n,Hr=$e[Gr],qn=null,vi=Hr>239?4:Hr>223?3:Hr>191?2:1;if(Gr+vi>dn)break;vi===1?Hr<128&&(qn=Hr):vi===2?(192&(wn=$e[Gr+1]))==128&&(qn=(31&Hr)<<6|63&wn)<=127&&(qn=null):vi===3?(sn=$e[Gr+2],(192&(wn=$e[Gr+1]))==128&&(192&sn)==128&&((qn=(15&Hr)<<12|(63&wn)<<6|63&sn)<=2047||qn>=55296&&qn<=57343)&&(qn=null)):vi===4&&(sn=$e[Gr+2],_n=$e[Gr+3],(192&(wn=$e[Gr+1]))==128&&(192&sn)==128&&(192&_n)==128&&((qn=(15&Hr)<<18|(63&wn)<<12|(63&sn)<<6|63&_n)<=65535||qn>=1114112)&&(qn=null)),qn===null?(qn=65533,vi=1):qn>65535&&(qn-=65536,jr+=String.fromCharCode(qn>>>10&1023|55296),qn=56320|1023&qn),jr+=String.fromCharCode(qn),Gr+=vi}return jr})(this.buf,le,qt)},readBytes:function(){var qt=this.readVarint()+this.pos,le=this.buf.subarray(this.pos,qt);return this.pos=qt,le},readPackedVarint:function(qt,le){if(this.type!==l.Bytes)return qt.push(this.readVarint(le));var $e=M(this);for(qt=qt||[];this.pos<$e;)qt.push(this.readVarint(le));return qt},readPackedSVarint:function(qt){if(this.type!==l.Bytes)return qt.push(this.readSVarint());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readSVarint());return qt},readPackedBoolean:function(qt){if(this.type!==l.Bytes)return qt.push(this.readBoolean());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readBoolean());return qt},readPackedFloat:function(qt){if(this.type!==l.Bytes)return qt.push(this.readFloat());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readFloat());return qt},readPackedDouble:function(qt){if(this.type!==l.Bytes)return qt.push(this.readDouble());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readDouble());return qt},readPackedFixed32:function(qt){if(this.type!==l.Bytes)return qt.push(this.readFixed32());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readFixed32());return qt},readPackedSFixed32:function(qt){if(this.type!==l.Bytes)return qt.push(this.readSFixed32());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readSFixed32());return qt},readPackedFixed64:function(qt){if(this.type!==l.Bytes)return qt.push(this.readFixed64());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readFixed64());return qt},readPackedSFixed64:function(qt){if(this.type!==l.Bytes)return qt.push(this.readSFixed64());var le=M(this);for(qt=qt||[];this.pos<le;)qt.push(this.readSFixed64());return qt},skip:function(qt){var le=7&qt;if(le===l.Varint)for(;this.buf[this.pos++]>127;);else if(le===l.Bytes)this.pos=this.readVarint()+this.pos;else if(le===l.Fixed32)this.pos+=4;else{if(le!==l.Fixed64)throw new Error("Unimplemented type: "+le);this.pos+=8}},writeTag:function(qt,le){this.writeVarint(qt<<3|le)},realloc:function(qt){for(var le=this.length||16;le<this.pos+qt;)le*=2;if(le!==this.length){var $e=new Uint8Array(le);$e.set(this.buf),this.buf=$e,this.length=le}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(qt){this.realloc(4),Je(this.buf,qt,this.pos),this.pos+=4},writeSFixed32:function(qt){this.realloc(4),Je(this.buf,qt,this.pos),this.pos+=4},writeFixed64:function(qt){this.realloc(8),Je(this.buf,-1&qt,this.pos),Je(this.buf,Math.floor(qt*b),this.pos+4),this.pos+=8},writeSFixed64:function(qt){this.realloc(8),Je(this.buf,-1&qt,this.pos),Je(this.buf,Math.floor(qt*b),this.pos+4),this.pos+=8},writeVarint:function(qt){(qt=+qt||0)>268435455||qt<0?(function(le,$e){var Tr,dn;if(le>=0?(Tr=le%4294967296|0,dn=le/4294967296|0):(dn=~(-le/4294967296),4294967295^(Tr=~(-le%4294967296))?Tr=Tr+1|0:(Tr=0,dn=dn+1|0)),le>=18446744073709552e3||le<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");$e.realloc(10),(function(jr,Gr,wn){wn.buf[wn.pos++]=127&jr|128,jr>>>=7,wn.buf[wn.pos++]=127&jr|128,jr>>>=7,wn.buf[wn.pos++]=127&jr|128,jr>>>=7,wn.buf[wn.pos++]=127&jr|128,wn.buf[wn.pos]=127&(jr>>>=7)})(Tr,0,$e),(function(jr,Gr){var wn=(7&jr)<<4;Gr.buf[Gr.pos++]|=wn|((jr>>>=3)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr)))))})(dn,$e)})(qt,this):(this.realloc(4),this.buf[this.pos++]=127&qt|(qt>127?128:0),qt<=127||(this.buf[this.pos++]=127&(qt>>>=7)|(qt>127?128:0),qt<=127||(this.buf[this.pos++]=127&(qt>>>=7)|(qt>127?128:0),qt<=127||(this.buf[this.pos++]=qt>>>7&127))))},writeSVarint:function(qt){this.writeVarint(qt<0?2*-qt-1:2*qt)},writeBoolean:function(qt){this.writeVarint(!!qt)},writeString:function(qt){qt=String(qt),this.realloc(4*qt.length),this.pos++;var le=this.pos;this.pos=(function(Tr,dn,jr){for(var Gr,wn,sn=0;sn<dn.length;sn++){if((Gr=dn.charCodeAt(sn))>55295&&Gr<57344){if(!wn){Gr>56319||sn+1===dn.length?(Tr[jr++]=239,Tr[jr++]=191,Tr[jr++]=189):wn=Gr;continue}if(Gr<56320){Tr[jr++]=239,Tr[jr++]=191,Tr[jr++]=189,wn=Gr;continue}Gr=wn-55296<<10|Gr-56320|65536,wn=null}else wn&&(Tr[jr++]=239,Tr[jr++]=191,Tr[jr++]=189,wn=null);Gr<128?Tr[jr++]=Gr:(Gr<2048?Tr[jr++]=Gr>>6|192:(Gr<65536?Tr[jr++]=Gr>>12|224:(Tr[jr++]=Gr>>18|240,Tr[jr++]=Gr>>12&63|128),Tr[jr++]=Gr>>6&63|128),Tr[jr++]=63&Gr|128)}return jr})(this.buf,qt,this.pos);var $e=this.pos-le;$e>=128&&q(le,$e,this),this.pos=le-1,this.writeVarint($e),this.pos+=$e},writeFloat:function(qt){this.realloc(4),f.write(this.buf,qt,this.pos,!0,23,4),this.pos+=4},writeDouble:function(qt){this.realloc(8),f.write(this.buf,qt,this.pos,!0,52,8),this.pos+=8},writeBytes:function(qt){var le=qt.length;this.writeVarint(le),this.realloc(le);for(var $e=0;$e<le;$e++)this.buf[this.pos++]=qt[$e]},writeRawMessage:function(qt,le){this.pos++;var $e=this.pos;qt(le,this);var Tr=this.pos-$e;Tr>=128&&q($e,Tr,this),this.pos=$e-1,this.writeVarint(Tr),this.pos+=Tr},writeMessage:function(qt,le,$e){this.writeTag(qt,l.Bytes),this.writeRawMessage(le,$e)},writePackedVarint:function(qt,le){le.length&&this.writeMessage(qt,J,le)},writePackedSVarint:function(qt,le){le.length&&this.writeMessage(qt,ot,le)},writePackedBoolean:function(qt,le){le.length&&this.writeMessage(qt,$t,le)},writePackedFloat:function(qt,le){le.length&&this.writeMessage(qt,ft,le)},writePackedDouble:function(qt,le){le.length&&this.writeMessage(qt,Et,le)},writePackedFixed32:function(qt,le){le.length&&this.writeMessage(qt,Gt,le)},writePackedSFixed32:function(qt,le){le.length&&this.writeMessage(qt,Wt,le)},writePackedFixed64:function(qt,le){le.length&&this.writeMessage(qt,te,le)},writePackedSFixed64:function(qt,le){le.length&&this.writeMessage(qt,he,le)},writeBytesField:function(qt,le){this.writeTag(qt,l.Bytes),this.writeBytes(le)},writeFixed32Field:function(qt,le){this.writeTag(qt,l.Fixed32),this.writeFixed32(le)},writeSFixed32Field:function(qt,le){this.writeTag(qt,l.Fixed32),this.writeSFixed32(le)},writeFixed64Field:function(qt,le){this.writeTag(qt,l.Fixed64),this.writeFixed64(le)},writeSFixed64Field:function(qt,le){this.writeTag(qt,l.Fixed64),this.writeSFixed64(le)},writeVarintField:function(qt,le){this.writeTag(qt,l.Varint),this.writeVarint(le)},writeSVarintField:function(qt,le){this.writeTag(qt,l.Varint),this.writeSVarint(le)},writeStringField:function(qt,le){this.writeTag(qt,l.Bytes),this.writeString(le)},writeFloatField:function(qt,le){this.writeTag(qt,l.Fixed32),this.writeFloat(le)},writeDoubleField:function(qt,le){this.writeTag(qt,l.Fixed64),this.writeDouble(le)},writeBooleanField:function(qt,le){this.writeVarintField(qt,!!le)}},Hp}var mf,rh=g(Yg());function MS(f,l,h){f===1&&h.readMessage(Sh,l)}function Sh(f,l,h){if(f===3){const{id:b,bitmap:T,width:M,height:O,left:q,top:J,advance:ot}=h.readMessage(PS,{});l.push({id:b,bitmap:new Wy({width:M+6,height:O+6},T),metrics:{width:M,height:O,left:q,top:J,advance:ot}})}}function PS(f,l,h){f===1?l.id=h.readVarint():f===2?l.bitmap=h.readBytes():f===3?l.width=h.readVarint():f===4?l.height=h.readVarint():f===5?l.left=h.readSVarint():f===6?l.top=h.readSVarint():f===7&&(l.advance=h.readVarint())}function Jx(f){let l=0,h=0;for(const O of f)l+=O.w*O.h,h=Math.max(h,O.w);f.sort(((O,q)=>q.h-O.h));const b=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),h),h:1/0}];let T=0,M=0;for(const O of f)for(let q=b.length-1;q>=0;q--){const J=b[q];if(!(O.w>J.w||O.h>J.h)){if(O.x=J.x,O.y=J.y,M=Math.max(M,O.y+O.h),T=Math.max(T,O.x+O.w),O.w===J.w&&O.h===J.h){const ot=b.pop();q<b.length&&(b[q]=ot)}else O.h===J.h?(J.x+=O.w,J.w-=O.w):O.w===J.w?(J.y+=O.h,J.h-=O.h):(b.push({x:J.x+O.w,y:J.y,w:J.w-O.w,h:O.h}),J.y+=O.h,J.h-=O.h);break}}return{w:T,h:M,fill:l/(T*M)||0}}class t1{constructor(l,{pixelRatio:h,version:b,stretchX:T,stretchY:M,content:O,textFitWidth:q,textFitHeight:J}){this.paddedRect=l,this.pixelRatio=h,this.stretchX=T,this.stretchY=M,this.content=O,this.version=b,this.textFitWidth=q,this.textFitHeight=J}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class rp{constructor(l,h){const b={},T={};this.haveRenderCallbacks=[];const M=[];this.addImages(l,b,M),this.addImages(h,T,M);const{w:O,h:q}=Jx(M),J=new uu({width:O||1,height:q||1});for(const ot in l){const ft=l[ot],Et=b[ot].paddedRect;uu.copy(ft.data,J,{x:0,y:0},{x:Et.x+1,y:Et.y+1},ft.data)}for(const ot in h){const ft=h[ot],Et=T[ot].paddedRect,$t=Et.x+1,Gt=Et.y+1,Wt=ft.data.width,te=ft.data.height;uu.copy(ft.data,J,{x:0,y:0},{x:$t,y:Gt},ft.data),uu.copy(ft.data,J,{x:0,y:te-1},{x:$t,y:Gt-1},{width:Wt,height:1}),uu.copy(ft.data,J,{x:0,y:0},{x:$t,y:Gt+te},{width:Wt,height:1}),uu.copy(ft.data,J,{x:Wt-1,y:0},{x:$t-1,y:Gt},{width:1,height:te}),uu.copy(ft.data,J,{x:0,y:0},{x:$t+Wt,y:Gt},{width:1,height:te})}this.image=J,this.iconPositions=b,this.patternPositions=T}addImages(l,h,b){for(const T in l){const M=l[T],O={x:0,y:0,w:M.data.width+2,h:M.data.height+2};b.push(O),h[T]=new t1(O,M),M.hasRenderCallback&&this.haveRenderCallbacks.push(T)}}patchUpdatedImages(l,h){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const b in l.updatedImages)this.patchUpdatedImage(this.iconPositions[b],l.getImage(b),h),this.patchUpdatedImage(this.patternPositions[b],l.getImage(b),h)}patchUpdatedImage(l,h,b){if(!l||!h||l.version===h.version)return;l.version=h.version;const[T,M]=l.tl;b.update(h.data,void 0,{x:T,y:M})}}Ce("ImagePosition",t1),Ce("ImageAtlas",rp),c.an=void 0,(mf=c.an||(c.an={}))[mf.none=0]="none",mf[mf.horizontal=1]="horizontal",mf[mf.vertical=2]="vertical",mf[mf.horizontalOnly=3]="horizontalOnly";class Xp{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(l,h,b){const T=new Xp;return T.scale=l||1,T.fontStack=h,T.verticalAlign=b||"bottom",T}static forImage(l,h){const b=new Xp;return b.imageName=l,b.verticalAlign=h||"bottom",b}}class Wp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,h){const b=new Wp;for(let T=0;T<l.sections.length;T++){const M=l.sections[T];M.image?b.addImageSection(M):b.addTextSection(M,h)}return b}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=(function(l){let h="";for(let b=0;b<l.length;b++){const T=l.charCodeAt(b+1)||null,M=l.charCodeAt(b-1)||null;h+=T&&Ea(T)&&!Nl[l[b+1]]||M&&Ea(M)&&!Nl[l[b-1]]||!Nl[l[b]]?l[b]:Nl[l[b]]}return h})(this.text)}trim(){let l=0;for(let b=0;b<this.text.length&&av[this.text.charCodeAt(b)];b++)l++;let h=this.text.length;for(let b=this.text.length-1;b>=0&&b>=l&&av[this.text.charCodeAt(b)];b--)h--;this.text=this.text.substring(l,h),this.sectionIndex=this.sectionIndex.slice(l,h)}substring(l,h){const b=new Wp;return b.text=this.text.substring(l,h),b.sectionIndex=this.sectionIndex.slice(l,h),b.sections=this.sections,b}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((l,h)=>Math.max(l,this.sections[h].scale)),0)}getMaxImageSize(l){let h=0,b=0;for(let T=0;T<this.length();T++){const M=this.getSection(T);if(M.imageName){const O=l[M.imageName];if(!O)continue;const q=O.displaySize;h=Math.max(h,q[0]),b=Math.max(b,q[1])}}return{maxImageWidth:h,maxImageHeight:b}}addTextSection(l,h){this.text+=l.text,this.sections.push(Xp.forText(l.scale,l.fontStack||h,l.verticalAlign));const b=this.sections.length-1;for(let T=0;T<l.text.length;++T)this.sectionIndex.push(b)}addImageSection(l){const h=l.image?l.image.name:"";if(h.length===0)return void vr("Can't add FormattedSection with an empty image.");const b=this.getNextImageSectionCharCode();b?(this.text+=String.fromCharCode(b),this.sections.push(Xp.forImage(h,l.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):vr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function np(f,l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt){const te=Wp.fromFeature(f,T);let he;Et===c.an.vertical&&te.verticalizePunctuation();const{processBidirectionalText:Ee,processStyledBidirectionalText:Je}=yo;if(Ee&&te.sections.length===1){he=[];const le=Ee(te.toString(),n1(te,ot,M,l,b,Gt));for(const $e of le){const Tr=new Wp;Tr.text=$e,Tr.sections=te.sections;for(let dn=0;dn<$e.length;dn++)Tr.sectionIndex.push(0);he.push(Tr)}}else if(Je){he=[];const le=Je(te.text,te.sectionIndex,n1(te,ot,M,l,b,Gt));for(const $e of le){const Tr=new Wp;Tr.text=$e[0],Tr.sectionIndex=$e[1],Tr.sections=te.sections,he.push(Tr)}}else he=(function(le,$e){const Tr=[],dn=le.text;let jr=0;for(const Gr of $e)Tr.push(le.substring(jr,Gr)),jr=Gr;return jr<dn.length&&Tr.push(le.substring(jr,dn.length)),Tr})(te,n1(te,ot,M,l,b,Gt));const De=[],qt={positionedLines:De,text:te.toString(),top:ft[1],bottom:ft[1],left:ft[0],right:ft[0],writingMode:Et,iconsInText:!1,verticalizable:!1};return(function(le,$e,Tr,dn,jr,Gr,wn,sn,_n,Hr,qn,vi){let ci=0,oi=0,Ca=0,Js=0;const nc=sn==="right"?1:sn==="left"?0:.5,Yc=rc/vi;let nh=0;for(const fs of jr){fs.trim();const Mc=fs.getMaxScale(),Kc={positionedGlyphs:[],lineOffset:0};le.positionedLines[nh]=Kc;const yc=Kc.positionedGlyphs;let fu=0;if(!fs.length()){oi+=Gr,++nh;continue}const zu=FS(dn,fs,Yc);for(let Fu=0;Fu<fs.length();Fu++){const Ll=fs.getSection(Fu),Fs=fs.getSectionIndex(Fu),js=fs.getCharCode(Fu),ps=Z0(_n,qn,js);let Mo;if(Ll.imageName){if(le.iconsInText=!0,Ll.scale=Ll.scale*Yc,Mo=$S(Ll,ps,Mc,zu,dn),!Mo)continue;fu=Math.max(fu,Mo.imageOffset)}else if(Mo=jS(Ll,js,ps,zu,$e,Tr),!Mo)continue;const{rect:ih,metrics:Gh,baselineOffset:Ud}=Mo;yc.push({glyph:js,imageName:Ll.imageName,x:ci,y:oi+Ud+-17,vertical:ps,scale:Ll.scale,fontStack:Ll.fontStack,sectionIndex:Fs,metrics:Gh,rect:ih}),ps?(le.verticalizable=!0,ci+=(Ll.imageName?Gh.advance:rc)*Ll.scale+Hr):ci+=Gh.advance*Ll.scale+Hr}yc.length!==0&&(Ca=Math.max(ci-Hr,Ca),VS(yc,0,yc.length-1,nc)),ci=0,Kc.lineOffset=Math.max(fu,(Mc-1)*rc);const ic=Gr*Mc+fu;oi+=ic,Js=Math.max(ic,Js),++nh}const{horizontalAlign:Bu,verticalAlign:Lc}=K0(wn);(function(fs,Mc,Kc,yc,fu,zu,ic,Fu,Ll){const Fs=(Mc-Kc)*fu;let js=0;js=zu!==ic?-Fu*yc- -17:-yc*Ll*ic+.5*ic;for(const ps of fs)for(const Mo of ps.positionedGlyphs)Mo.x+=Fs,Mo.y+=js})(le.positionedLines,nc,Bu,Lc,Ca,Js,Gr,oi,jr.length),le.top+=-Lc*oi,le.bottom=le.top+oi,le.left+=-Bu*Ca,le.right=le.left+Ca})(qt,l,h,b,he,O,q,J,Et,ot,$t,Wt),!(function(le){for(const $e of le)if($e.positionedGlyphs.length!==0)return!1;return!0})(De)&&qt}const av={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},OS={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},DS={40:!0};function e1(f,l,h,b,T,M){if(l.imageName){const O=b[l.imageName];return O?O.displaySize[0]*l.scale*rc/M+T:0}{const O=h[l.fontStack],q=O&&O[f];return q?q.metrics.advance*l.scale+T:0}}function ov(f,l,h,b){const T=Math.pow(f-l,2);return b?f<l?T/2:2*T:T+Math.abs(h)*h}function r1(f,l,h){let b=0;return f===10&&(b-=1e4),h&&(b+=150),f!==40&&f!==65288||(b+=50),l!==41&&l!==65289||(b+=50),b}function BS(f,l,h,b,T,M){let O=null,q=ov(l,h,T,M);for(const J of b){const ot=ov(l-J.x,h,T,M)+J.badness;ot<=q&&(O=J,q=ot)}return{index:f,x:l,priorBreak:O,badness:q}}function zS(f){return f?zS(f.priorBreak).concat(f.index):[]}function n1(f,l,h,b,T,M){if(!f)return[];const O=[],q=(function(Et,$t,Gt,Wt,te,he){let Ee=0;for(let Je=0;Je<Et.length();Je++){const De=Et.getSection(Je);Ee+=e1(Et.getCharCode(Je),De,Wt,te,$t,he)}return Ee/Math.max(1,Math.ceil(Ee/Gt))})(f,l,h,b,T,M),J=f.text.indexOf("​")>=0;let ot=0;for(let Et=0;Et<f.length();Et++){const $t=f.getSection(Et),Gt=f.getCharCode(Et);if(av[Gt]||(ot+=e1(Gt,$t,b,T,l,M)),Et<f.length()-1){const Wt=!((ft=Gt)<11904)&&(!!wr["CJK Compatibility Forms"](ft)||!!wr["CJK Compatibility"](ft)||!!wr["CJK Strokes"](ft)||!!wr["CJK Symbols and Punctuation"](ft)||!!wr["Enclosed CJK Letters and Months"](ft)||!!wr["Halfwidth and Fullwidth Forms"](ft)||!!wr["Ideographic Description Characters"](ft)||!!wr["Vertical Forms"](ft)||Fi.test(String.fromCodePoint(ft)));(OS[Gt]||Wt||$t.imageName||Et!==f.length()-2&&DS[f.getCharCode(Et+1)])&&O.push(BS(Et+1,ot,q,O,r1(Gt,f.getCharCode(Et+1),Wt&&J),!1))}}var ft;return zS(BS(f.length(),ot,q,O,0,!0))}function K0(f){let l=.5,h=.5;switch(f){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(f){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:l,verticalAlign:h}}function FS(f,l,h){const b=l.getMaxScale()*rc,{maxImageWidth:T,maxImageHeight:M}=l.getMaxImageSize(f),O=Math.max(b,M*h);return{verticalLineContentWidth:Math.max(b,T*h),horizontalLineContentHeight:O}}function Ym(f){switch(f){case"top":return 0;case"center":return .5;default:return 1}}function Z0(f,l,h){return!(f===c.an.horizontal||!l&&!ai(h)||l&&(av[h]||(b=h,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(b)))));var b}function jS(f,l,h,b,T,M){const O=M[f.fontStack],q=(function(ot,ft,Et,$t){if(ot&&ot.rect)return ot;const Gt=ft[Et.fontStack],Wt=Gt&&Gt[$t];return Wt?{rect:null,metrics:Wt.metrics}:null})(O&&O[l],T,f,l);if(q===null)return null;let J;if(h)J=b.verticalLineContentWidth-f.scale*rc;else{const ot=Ym(f.verticalAlign);J=(b.horizontalLineContentHeight-f.scale*rc)*ot}return{rect:q.rect,metrics:q.metrics,baselineOffset:J}}function $S(f,l,h,b,T){const M=T[f.imageName];if(!M)return null;const O=M.paddedRect,q=M.displaySize,J={width:q[0],height:q[1],left:1,top:-3,advance:l?q[1]:q[0]};let ot;if(l)ot=b.verticalLineContentWidth-q[1]*f.scale;else{const ft=Ym(f.verticalAlign);ot=(b.horizontalLineContentHeight-q[1]*f.scale)*ft}return{rect:O,metrics:J,baselineOffset:ot,imageOffset:(l?q[0]:q[1])*f.scale-rc*h}}function VS(f,l,h,b){if(b===0)return;const T=f[h],M=(f[h].x+T.metrics.advance*T.scale)*b;for(let O=l;O<=h;O++)f[O].x-=M}function US(f,l,h){const{horizontalAlign:b,verticalAlign:T}=K0(h),M=l[0]-f.displaySize[0]*b,O=l[1]-f.displaySize[1]*T;return{image:f,top:O,bottom:O+f.displaySize[1],left:M,right:M+f.displaySize[0]}}function i1(f){var l,h;let b=f.left,T=f.top,M=f.right-b,O=f.bottom-T;const q=(l=f.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",J=(h=f.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",ot=(f.image.content[2]-f.image.content[0])/(f.image.content[3]-f.image.content[1]);if(J==="proportional"){if(q==="stretchOnly"&&M/O<ot||q==="proportional"){const ft=Math.ceil(O*ot);b*=ft/M,M=ft}}else if(q==="proportional"&&J==="stretchOnly"&&ot!==0&&M/O>ot){const ft=Math.ceil(M/ot);T*=ft/O,O=ft}return{x1:b,y1:T,x2:b+M,y2:T+O}}function a1(f,l,h,b,T,M){const O=f.image;let q;if(O.content){const he=O.content,Ee=O.pixelRatio||1;q=[he[0]/Ee,he[1]/Ee,O.displaySize[0]-he[2]/Ee,O.displaySize[1]-he[3]/Ee]}const J=l.left*M,ot=l.right*M;let ft,Et,$t,Gt;h==="width"||h==="both"?(Gt=T[0]+J-b[3],Et=T[0]+ot+b[1]):(Gt=T[0]+(J+ot-O.displaySize[0])/2,Et=Gt+O.displaySize[0]);const Wt=l.top*M,te=l.bottom*M;return h==="height"||h==="both"?(ft=T[1]+Wt-b[0],$t=T[1]+te+b[2]):(ft=T[1]+(Wt+te-O.displaySize[1])/2,$t=ft+O.displaySize[1]),{image:O,top:ft,right:Et,bottom:$t,left:Gt,collisionPadding:q}}const od=128,ip=32640;function o1(f,l){const{expression:h}=l;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Gn(f+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:b,interpolationType:T}=h;let M=0;for(;M<b.length&&b[M]<=f;)M++;M=Math.max(0,M-1);let O=M;for(;O<b.length&&b[O]<f+1;)O++;O=Math.min(b.length-1,O);const q=b[M],J=b[O];return h.kind==="composite"?{kind:"composite",minZoom:q,maxZoom:J,interpolationType:T}:{kind:"camera",minZoom:q,maxZoom:J,minSize:h.evaluate(new Gn(q)),maxSize:h.evaluate(new Gn(J)),interpolationType:T}}}function Ho(f,l,h){let b="never";const T=f.get(l);return T?b=T:f.get(h)&&(b="always"),b}const s1=Qf.VectorTileFeature.types,rk=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function sv(f,l,h,b,T,M,O,q,J,ot,ft,Et,$t){const Gt=q?Math.min(ip,Math.round(q[0])):0,Wt=q?Math.min(ip,Math.round(q[1])):0;f.emplaceBack(l,h,Math.round(32*b),Math.round(32*T),M,O,(Gt<<1)+(J?1:0),Wt,16*ot,16*ft,256*Et,256*$t)}function l1(f,l,h){f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h)}function nk(f){for(const l of f.sections)if(Pn(l.text))return!0;return!1}class c1{constructor(l){this.layoutVertexArray=new Hi,this.indexArray=new Da,this.programConfigurations=l,this.segments=new fa,this.dynamicLayoutVertexArray=new Sa,this.opacityVertexArray=new Uo,this.hasVisibleVertices=!1,this.placedSymbolArray=new me}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,h,b,T){this.isEmpty()||(b&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Qx.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,W0.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,rk,!0),this.opacityVertexBuffer.itemSize=1),(b||T)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ce("SymbolBuffers",c1);class Kg{constructor(l,h,b){this.layoutVertexArray=new l,this.layoutAttributes=h,this.indexArray=new b,this.segments=new fa,this.collisionVertexArray=new Za}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,NS.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ce("CollisionBuffers",Kg);class jd{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((O=>O.id)),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=o1(this.zoom,h["text-size"]),this.iconSizeData=o1(this.zoom,h["icon-size"]);const b=this.layers[0].layout,T=b.get("symbol-sort-key"),M=b.get("symbol-z-order");this.canOverlap=Ho(b,"text-overlap","text-allow-overlap")!=="never"||Ho(b,"icon-overlap","icon-allow-overlap")!=="never"||b.get("text-ignore-placement")||b.get("icon-ignore-placement"),this.sortFeaturesByKey=M!=="viewport-y"&&!T.isConstant(),this.sortFeaturesByY=(M==="viewport-y"||M==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,b.get("symbol-placement")==="point"&&(this.writingModes=b.get("text-writing-mode").map((O=>c.an[O]))),this.stateDependentLayerIds=this.layers.filter((O=>O.isStateDependent())).map((O=>O.id)),this.sourceID=l.sourceID}createArrays(){this.text=new c1(new Md(this.layers,this.zoom,(l=>/^text/.test(l)))),this.icon=new c1(new Md(this.layers,this.zoom,(l=>/^icon/.test(l)))),this.glyphOffsetArray=new Le,this.lineVertexArray=new Ve,this.symbolInstances=new Be,this.textAnchorOffsets=new Ne}calculateGlyphDependencies(l,h,b,T,M){for(let O=0;O<l.length;O++)if(h[l.charCodeAt(O)]=!0,(b||T)&&M){const q=Nl[l.charAt(O)];q&&(h[q.charCodeAt(0)]=!0)}}populate(l,h,b){const T=this.layers[0],M=T.layout,O=M.get("text-font"),q=M.get("text-field"),J=M.get("icon-image"),ot=(q.value.kind!=="constant"||q.value.value instanceof Ln&&!q.value.value.isEmpty()||q.value.value.toString().length>0)&&(O.value.kind!=="constant"||O.value.value.length>0),ft=J.value.kind!=="constant"||!!J.value.value||Object.keys(J.parameters).length>0,Et=M.get("symbol-sort-key");if(this.features=[],!ot&&!ft)return;const $t=h.iconDependencies,Gt=h.glyphDependencies,Wt=h.availableImages,te=new Gn(this.zoom,{globalState:this.globalState});for(const{feature:he,id:Ee,index:Je,sourceLayerIndex:De}of l){const qt=T._featureFilter.needGeometry,le=Pd(he,qt);if(!T._featureFilter.filter(te,le,b))continue;let $e,Tr;if(qt||(le.geometry=Fp(he)),ot){const jr=T.getValueAndResolveTokens("text-field",le,b,Wt),Gr=Ln.factory(jr),wn=this.hasRTLText=this.hasRTLText||nk(Gr);(!wn||yo.getRTLTextPluginStatus()==="unavailable"||wn&&yo.isParsed())&&($e=Gp(Gr,T,le))}if(ft){const jr=T.getValueAndResolveTokens("icon-image",le,b,Wt);Tr=jr instanceof Xa?jr:Xa.fromString(jr)}if(!$e&&!Tr)continue;const dn=this.sortFeaturesByKey?Et.evaluate(le,{},b):void 0;if(this.features.push({id:Ee,text:$e,icon:Tr,index:Je,sourceLayerIndex:De,geometry:le.geometry,properties:he.properties,type:s1[he.type],sortKey:dn}),Tr&&($t[Tr.name]=!0),$e){const jr=O.evaluate(le,{},b).join(","),Gr=M.get("text-rotation-alignment")!=="viewport"&&M.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(c.an.vertical)>=0;for(const wn of $e.sections)if(wn.image)$t[wn.image.name]=!0;else{const sn=Qr($e.toString()),_n=wn.fontStack||jr,Hr=Gt[_n]=Gt[_n]||{};this.calculateGlyphDependencies(wn.text,Hr,Gr,this.allowVerticalPlacement,sn)}}}M.get("symbol-placement")==="line"&&(this.features=(function(he){const Ee={},Je={},De=[];let qt=0;function le(jr){De.push(he[jr]),qt++}function $e(jr,Gr,wn){const sn=Je[jr];return delete Je[jr],Je[Gr]=sn,De[sn].geometry[0].pop(),De[sn].geometry[0]=De[sn].geometry[0].concat(wn[0]),sn}function Tr(jr,Gr,wn){const sn=Ee[Gr];return delete Ee[Gr],Ee[jr]=sn,De[sn].geometry[0].shift(),De[sn].geometry[0]=wn[0].concat(De[sn].geometry[0]),sn}function dn(jr,Gr,wn){const sn=wn?Gr[0][Gr[0].length-1]:Gr[0][0];return`${jr}:${sn.x}:${sn.y}`}for(let jr=0;jr<he.length;jr++){const Gr=he[jr],wn=Gr.geometry,sn=Gr.text?Gr.text.toString():null;if(!sn){le(jr);continue}const _n=dn(sn,wn),Hr=dn(sn,wn,!0);if(_n in Je&&Hr in Ee&&Je[_n]!==Ee[Hr]){const qn=Tr(_n,Hr,wn),vi=$e(_n,Hr,De[qn].geometry);delete Ee[_n],delete Je[Hr],Je[dn(sn,De[vi].geometry,!0)]=vi,De[qn].geometry=null}else _n in Je?$e(_n,Hr,wn):Hr in Ee?Tr(_n,Hr,wn):(le(jr),Ee[_n]=qt-1,Je[Hr]=qt-1)}return De.filter((jr=>jr.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((he,Ee)=>he.sortKey-Ee.sortKey))}update(l,h,b){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,h,this.layers,b),this.icon.programConfigurations.updatePaintArrays(l,h,this.layers,b))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,h){const b=this.lineVertexArray.length;if(l.segment!==void 0){let T=l.dist(h[l.segment+1]),M=l.dist(h[l.segment]);const O={};for(let q=l.segment+1;q<h.length;q++)O[q]={x:h[q].x,y:h[q].y,tileUnitDistanceFromAnchor:T},q<h.length-1&&(T+=h[q+1].dist(h[q]));for(let q=l.segment||0;q>=0;q--)O[q]={x:h[q].x,y:h[q].y,tileUnitDistanceFromAnchor:M},q>0&&(M+=h[q-1].dist(h[q]));for(let q=0;q<h.length;q++){const J=O[q];this.lineVertexArray.emplaceBack(J.x,J.y,J.tileUnitDistanceFromAnchor)}}return{lineStartIndex:b,lineLength:this.lineVertexArray.length-b}}addSymbols(l,h,b,T,M,O,q,J,ot,ft,Et,$t){const Gt=l.indexArray,Wt=l.layoutVertexArray,te=l.segments.prepareSegment(4*h.length,Wt,Gt,this.canOverlap?O.sortKey:void 0),he=this.glyphOffsetArray.length,Ee=te.vertexLength,Je=this.allowVerticalPlacement&&q===c.an.vertical?Math.PI/2:0,De=O.text&&O.text.sections;for(let qt=0;qt<h.length;qt++){const{tl:le,tr:$e,bl:Tr,br:dn,tex:jr,pixelOffsetTL:Gr,pixelOffsetBR:wn,minFontScaleX:sn,minFontScaleY:_n,glyphOffset:Hr,isSDF:qn,sectionIndex:vi}=h[qt],ci=te.vertexLength,oi=Hr[1];sv(Wt,J.x,J.y,le.x,oi+le.y,jr.x,jr.y,b,qn,Gr.x,Gr.y,sn,_n),sv(Wt,J.x,J.y,$e.x,oi+$e.y,jr.x+jr.w,jr.y,b,qn,wn.x,Gr.y,sn,_n),sv(Wt,J.x,J.y,Tr.x,oi+Tr.y,jr.x,jr.y+jr.h,b,qn,Gr.x,wn.y,sn,_n),sv(Wt,J.x,J.y,dn.x,oi+dn.y,jr.x+jr.w,jr.y+jr.h,b,qn,wn.x,wn.y,sn,_n),l1(l.dynamicLayoutVertexArray,J,Je),Gt.emplaceBack(ci,ci+2,ci+1),Gt.emplaceBack(ci+1,ci+2,ci+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Hr[0]),qt!==h.length-1&&vi===h[qt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Wt.length,O,O.index,{},$t,De&&De[vi])}l.placedSymbolArray.emplaceBack(J.x,J.y,he,this.glyphOffsetArray.length-he,Ee,ot,ft,J.segment,b?b[0]:0,b?b[1]:0,T[0],T[1],q,0,!1,0,Et)}_addCollisionDebugVertex(l,h,b,T,M,O){return h.emplaceBack(0,0),l.emplaceBack(b.x,b.y,T,M,Math.round(O.x),Math.round(O.y))}addCollisionDebugVertices(l,h,b,T,M,O,q){const J=M.segments.prepareSegment(4,M.layoutVertexArray,M.indexArray),ot=J.vertexLength,ft=M.layoutVertexArray,Et=M.collisionVertexArray,$t=q.anchorX,Gt=q.anchorY;this._addCollisionDebugVertex(ft,Et,O,$t,Gt,new P(l,h)),this._addCollisionDebugVertex(ft,Et,O,$t,Gt,new P(b,h)),this._addCollisionDebugVertex(ft,Et,O,$t,Gt,new P(b,T)),this._addCollisionDebugVertex(ft,Et,O,$t,Gt,new P(l,T)),J.vertexLength+=4;const Wt=M.indexArray;Wt.emplaceBack(ot,ot+1),Wt.emplaceBack(ot+1,ot+2),Wt.emplaceBack(ot+2,ot+3),Wt.emplaceBack(ot+3,ot),J.primitiveLength+=4}addDebugCollisionBoxes(l,h,b,T){for(let M=l;M<h;M++){const O=this.collisionBoxArray.get(M);this.addCollisionDebugVertices(O.x1,O.y1,O.x2,O.y2,T?this.textCollisionBox:this.iconCollisionBox,O.anchorPoint,b)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Kg(Ka,nv.members,Pa),this.iconCollisionBox=new Kg(Ka,nv.members,Pa);for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(l,h,b,T,M,O,q,J,ot){const ft={};for(let Et=h;Et<b;Et++){const $t=l.get(Et);ft.textBox={x1:$t.x1,y1:$t.y1,x2:$t.x2,y2:$t.y2,anchorPointX:$t.anchorPointX,anchorPointY:$t.anchorPointY},ft.textFeatureIndex=$t.featureIndex;break}for(let Et=T;Et<M;Et++){const $t=l.get(Et);ft.verticalTextBox={x1:$t.x1,y1:$t.y1,x2:$t.x2,y2:$t.y2,anchorPointX:$t.anchorPointX,anchorPointY:$t.anchorPointY},ft.verticalTextFeatureIndex=$t.featureIndex;break}for(let Et=O;Et<q;Et++){const $t=l.get(Et);ft.iconBox={x1:$t.x1,y1:$t.y1,x2:$t.x2,y2:$t.y2,anchorPointX:$t.anchorPointX,anchorPointY:$t.anchorPointY},ft.iconFeatureIndex=$t.featureIndex;break}for(let Et=J;Et<ot;Et++){const $t=l.get(Et);ft.verticalIconBox={x1:$t.x1,y1:$t.y1,x2:$t.x2,y2:$t.y2,anchorPointX:$t.anchorPointX,anchorPointY:$t.anchorPointY},ft.verticalIconFeatureIndex=$t.featureIndex;break}return ft}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const b=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,b.textBoxStartIndex,b.textBoxEndIndex,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b.iconBoxStartIndex,b.iconBoxEndIndex,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,h){const b=l.placedSymbolArray.get(h),T=b.vertexStartIndex+4*b.numGlyphs;for(let M=b.vertexStartIndex;M<T;M+=4)l.indexArray.emplaceBack(M,M+2,M+1),l.indexArray.emplaceBack(M+1,M+2,M+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(l),b=Math.cos(l),T=[],M=[],O=[];for(let q=0;q<this.symbolInstances.length;++q){O.push(q);const J=this.symbolInstances.get(q);T.push(0|Math.round(h*J.anchorX+b*J.anchorY)),M.push(J.featureIndex)}return O.sort(((q,J)=>T[q]-T[J]||M[J]-M[q])),O}addToSortKeyRanges(l,h){const b=this.sortKeyRanges[this.sortKeyRanges.length-1];b&&b.sortKey===h?b.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const b=this.symbolInstances.get(h);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(((T,M,O)=>{T>=0&&O.indexOf(T)===M&&this.addIndicesForPlacedSymbol(this.text,T)})),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Q0,lv;Ce("SymbolBucket",jd,{omit:["layers","collisionBoxArray","features","compareText"]}),jd.MAX_GLYPHS=65535,jd.addDynamicAttributes=l1;var cv={get paint(){return lv=lv||new La({"icon-opacity":new kn(Oe.paint_symbol["icon-opacity"]),"icon-color":new kn(Oe.paint_symbol["icon-color"]),"icon-halo-color":new kn(Oe.paint_symbol["icon-halo-color"]),"icon-halo-width":new kn(Oe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kn(Oe.paint_symbol["icon-halo-blur"]),"icon-translate":new yn(Oe.paint_symbol["icon-translate"]),"icon-translate-anchor":new yn(Oe.paint_symbol["icon-translate-anchor"]),"text-opacity":new kn(Oe.paint_symbol["text-opacity"]),"text-color":new kn(Oe.paint_symbol["text-color"],{runtimeType:Ra,getOverride:f=>f.textColor,hasOverride:f=>!!f.textColor}),"text-halo-color":new kn(Oe.paint_symbol["text-halo-color"]),"text-halo-width":new kn(Oe.paint_symbol["text-halo-width"]),"text-halo-blur":new kn(Oe.paint_symbol["text-halo-blur"]),"text-translate":new yn(Oe.paint_symbol["text-translate"]),"text-translate-anchor":new yn(Oe.paint_symbol["text-translate-anchor"])})},get layout(){return Q0=Q0||new La({"symbol-placement":new yn(Oe.layout_symbol["symbol-placement"]),"symbol-spacing":new yn(Oe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yn(Oe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kn(Oe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yn(Oe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yn(Oe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new yn(Oe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new yn(Oe.layout_symbol["icon-ignore-placement"]),"icon-optional":new yn(Oe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yn(Oe.layout_symbol["icon-rotation-alignment"]),"icon-size":new kn(Oe.layout_symbol["icon-size"]),"icon-text-fit":new yn(Oe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yn(Oe.layout_symbol["icon-text-fit-padding"]),"icon-image":new kn(Oe.layout_symbol["icon-image"]),"icon-rotate":new kn(Oe.layout_symbol["icon-rotate"]),"icon-padding":new kn(Oe.layout_symbol["icon-padding"]),"icon-keep-upright":new yn(Oe.layout_symbol["icon-keep-upright"]),"icon-offset":new kn(Oe.layout_symbol["icon-offset"]),"icon-anchor":new kn(Oe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yn(Oe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yn(Oe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yn(Oe.layout_symbol["text-rotation-alignment"]),"text-field":new kn(Oe.layout_symbol["text-field"]),"text-font":new kn(Oe.layout_symbol["text-font"]),"text-size":new kn(Oe.layout_symbol["text-size"]),"text-max-width":new kn(Oe.layout_symbol["text-max-width"]),"text-line-height":new yn(Oe.layout_symbol["text-line-height"]),"text-letter-spacing":new kn(Oe.layout_symbol["text-letter-spacing"]),"text-justify":new kn(Oe.layout_symbol["text-justify"]),"text-radial-offset":new kn(Oe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yn(Oe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new kn(Oe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new kn(Oe.layout_symbol["text-anchor"]),"text-max-angle":new yn(Oe.layout_symbol["text-max-angle"]),"text-writing-mode":new yn(Oe.layout_symbol["text-writing-mode"]),"text-rotate":new kn(Oe.layout_symbol["text-rotate"]),"text-padding":new yn(Oe.layout_symbol["text-padding"]),"text-keep-upright":new yn(Oe.layout_symbol["text-keep-upright"]),"text-transform":new kn(Oe.layout_symbol["text-transform"]),"text-offset":new kn(Oe.layout_symbol["text-offset"]),"text-allow-overlap":new yn(Oe.layout_symbol["text-allow-overlap"]),"text-overlap":new yn(Oe.layout_symbol["text-overlap"]),"text-ignore-placement":new yn(Oe.layout_symbol["text-ignore-placement"]),"text-optional":new yn(Oe.layout_symbol["text-optional"])})}};class ap{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Ji,this.defaultValue=l}evaluate(l){if(l.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(l.formattedSection))return h.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ce("FormatSectionOverride",ap,{omit:["defaultValue"]});class Uh extends Ma{constructor(l){super(l,cv)}recalculate(l,h){if(super.recalculate(l,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const b=this.layout.get("text-writing-mode");if(b){const T=[];for(const M of b)T.indexOf(M)<0&&T.push(M);this.layout._values["text-writing-mode"]=T}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,h,b,T){const M=this.layout.get(l).evaluate(h,{},b,T),O=this._unevaluatedLayout._values[l];return O.isDataDriven()||Wc(O.value)||!M?M:(function(q,J){return J.replace(/{([^{}]+)}/g,((ot,ft)=>q&&ft in q?String(q[ft]):""))})(h.properties,M)}createBucket(l){return new jd(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of cv.paint.overridableProperties){if(!Uh.hasPaintOverride(this.layout,l))continue;const h=this.paint.get(l),b=new ap(h),T=new Cd(b,h.property.specification);let M=null;M=h.value.kind==="constant"||h.value.kind==="source"?new Yu("source",T):new Ad("composite",T,h.value.zoomStops),this.paint._values[l]=new us(h.property,M,h.parameters)}}_handleOverridablePaintPropertyUpdate(l,h,b){return!(!this.layout||h.isDataDriven()||b.isDataDriven())&&Uh.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,h){const b=l.get("text-field"),T=cv.paint.properties[h];let M=!1;const O=q=>{for(const J of q)if(T.overrides&&T.overrides.hasOverride(J))return void(M=!0)};if(b.value.kind==="constant"&&b.value.value instanceof Ln)O(b.value.value.sections);else if(b.value.kind==="source"){const q=ot=>{M||(ot instanceof No&&zn(ot.value)===rl?O(ot.value.sections):ot instanceof Gl?O(ot.sections):ot.eachChild(q))},J=b.value;J._styleExpression&&q(J._styleExpression.expression)}return M}}let Zg;var ik={get paint(){return Zg=Zg||new La({"background-color":new yn(Oe.paint_background["background-color"]),"background-pattern":new Wa(Oe.paint_background["background-pattern"]),"background-opacity":new yn(Oe.paint_background["background-opacity"])})}};class qS extends Ma{constructor(l){super(l,ik)}}let u1;var GS={get paint(){return u1=u1||new La({"raster-opacity":new yn(Oe.paint_raster["raster-opacity"]),"raster-hue-rotate":new yn(Oe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yn(Oe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yn(Oe.paint_raster["raster-brightness-max"]),"raster-saturation":new yn(Oe.paint_raster["raster-saturation"]),"raster-contrast":new yn(Oe.paint_raster["raster-contrast"]),"raster-resampling":new yn(Oe.paint_raster["raster-resampling"]),"raster-fade-duration":new yn(Oe.paint_raster["raster-fade-duration"])})}};class HS extends Ma{constructor(l){super(l,GS)}}class ak extends Ma{constructor(l){super(l,{}),this.onAdd=h=>{this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},this.onRemove=h=>{this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class h1{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const XS={once:!0},J0=63710088e-1;class Yp{constructor(l,h){if(isNaN(l)||isNaN(h))throw new Error(`Invalid LngLat object: (${l}, ${h})`);if(this.lng=+l,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Yp(de(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const h=Math.PI/180,b=this.lat*h,T=l.lat*h,M=Math.sin(b)*Math.sin(T)+Math.cos(b)*Math.cos(T)*Math.cos((l.lng-this.lng)*h);return J0*Math.acos(Math.min(M,1))}static convert(l){if(l instanceof Yp)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Yp(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Yp(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const tb=2*Math.PI*J0;function eb(f){return tb*Math.cos(f*Math.PI/180)}function WS(f){return(180+f)/360}function YS(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function Qg(f,l){return f/eb(l)}function d1(f){return 360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90}function f1(f,l){return f*eb(d1(l))}class Oa{constructor(l,h,b=0){this.x=+l,this.y=+h,this.z=+b}static fromLngLat(l,h=0){const b=Yp.convert(l);return new Oa(WS(b.lng),YS(b.lat),Qg(h,b.lat))}toLngLat(){return new Yp(360*this.x-180,d1(this.y))}toAltitude(){return f1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/tb*(l=d1(this.y),1/Math.cos(l*Math.PI/180));var l}}function rb(f,l,h){var b=2*Math.PI*6378137/256/Math.pow(2,h);return[f*b-2*Math.PI*6378137/2,l*b-2*Math.PI*6378137/2]}class Jg{constructor(l,h,b){if(!(function(T,M,O){return!(T<0||T>25||O<0||O>=Math.pow(2,T)||M<0||M>=Math.pow(2,T))})(l,h,b))throw new Error(`x=${h}, y=${b}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=h,this.y=b,this.key=Kp(0,l,l,h,b)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,h,b){const T=(O=this.y,q=this.z,J=rb(256*(M=this.x),256*(O=Math.pow(2,q)-O-1),q),ot=rb(256*(M+1),256*(O+1),q),J[0]+","+J[1]+","+ot[0]+","+ot[1]);var M,O,q,J,ot;const ft=(function(Et,$t,Gt){let Wt,te="";for(let he=Et;he>0;he--)Wt=1<<he-1,te+=($t&Wt?1:0)+(Gt&Wt?2:0);return te})(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(b==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,ft).replace(/{bbox-epsg-3857}/g,T)}isChildOf(l){const h=this.z-l.z;return h>0&&l.x===this.x>>h&&l.y===this.y>>h}getTilePoint(l){const h=Math.pow(2,this.z);return new P((l.x*h-this.x)*lt,(l.y*h-this.y)*lt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class nb{constructor(l,h){this.wrap=l,this.canonical=h,this.key=Kp(l,h.z,h.z,h.x,h.y)}}class Eh{constructor(l,h,b,T,M){if(this.terrainRttPosMatrix32f=null,l<b)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${b}`);this.overscaledZ=l,this.wrap=h,this.canonical=new Jg(b,+T,+M),this.key=Kp(h,l,b,T,M)}clone(){return new Eh(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-l;return l>this.canonical.z?new Eh(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Eh(l,this.wrap,l,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(l,h){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const b=this.canonical.z-l;return l>this.canonical.z?Kp(this.wrap*+h,l,this.canonical.z,this.canonical.x,this.canonical.y):Kp(this.wrap*+h,l,l,this.canonical.x>>b,this.canonical.y>>b)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const h=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>h&&l.canonical.y===this.canonical.y>>h}children(l){if(this.overscaledZ>=l)return[new Eh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,b=2*this.canonical.x,T=2*this.canonical.y;return[new Eh(h,this.wrap,h,b,T),new Eh(h,this.wrap,h,b+1,T),new Eh(h,this.wrap,h,b,T+1),new Eh(h,this.wrap,h,b+1,T+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Eh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Eh(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new nb(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Oa(l.x-this.wrap,l.y))}}function Kp(f,l,h,b,T){(f*=2)<0&&(f=-1*f-1);const M=1<<h;return(M*M*f+M*T+b).toString(36)+h.toString(36)+l.toString(36)}Ce("CanonicalTileID",Jg),Ce("OverscaledTileID",Eh,{omit:["terrainRttPosMatrix32f"]});class $d{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(l){return this.minX=Math.min(this.minX,l.x),this.minY=Math.min(this.minY,l.y),this.maxX=Math.max(this.maxX,l.x),this.maxY=Math.max(this.maxY,l.y),this}expandBy(l){return this.minX-=l,this.minY-=l,this.maxX+=l,this.maxY+=l,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(l){return this.expandBy(-l)}map(l){const h=new $d;return h.extend(l(new P(this.minX,this.minY))),h.extend(l(new P(this.maxX,this.minY))),h.extend(l(new P(this.minX,this.maxY))),h.extend(l(new P(this.maxX,this.maxY))),h}static fromPoints(l){const h=new $d;for(const b of l)h.extend(b);return h}contains(l){return l.x>=this.minX&&l.x<=this.maxX&&l.y>=this.minY&&l.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(l){return!this.empty()&&!l.empty()&&l.minX>=this.minX&&l.maxX<=this.maxX&&l.minY>=this.minY&&l.maxY<=this.maxY}intersects(l){return!this.empty()&&!l.empty()&&l.minX<=this.maxX&&l.maxX>=this.minX&&l.minY<=this.maxY&&l.maxY>=this.minY}}class uv{constructor(l){this._stringToNumber={},this._numberToString=[];for(let h=0;h<l.length;h++){const b=l[h];this._stringToNumber[b]=h,this._numberToString[h]=b}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class KS{constructor(l,h,b,T,M){this.type="Feature",this._vectorTileFeature=l,l._z=h,l._x=b,l._y=T,this.properties=l.properties,this.id=M}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&(l[h]=this[h]);return l}}class p1{constructor(l,h){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new ge(lt,16,0),this.grid3D=new ge(lt,16,0),this.featureIndexArray=new Ar,this.promoteId=h}insert(l,h,b,T,M,O){const q=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(b,T,M);const J=O?this.grid3D:this.grid;for(let ot=0;ot<h.length;ot++){const ft=h[ot],Et=[1/0,1/0,-1/0,-1/0];for(let $t=0;$t<ft.length;$t++){const Gt=ft[$t];Et[0]=Math.min(Et[0],Gt.x),Et[1]=Math.min(Et[1],Gt.y),Et[2]=Math.max(Et[2],Gt.x),Et[3]=Math.max(Et[3],Gt.y)}Et[0]<lt&&Et[1]<lt&&Et[2]>=0&&Et[3]>=0&&J.insert(q,Et[0],Et[1],Et[2],Et[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Qf.VectorTile(new rh(this.rawTileData)).layers,this.sourceLayerCoder=new uv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,h,b,T){this.loadVTLayers();const M=l.params,O=lt/l.tileSize/l.scale,q=gl(M.filter),J=l.queryGeometry,ot=l.queryPadding*O,ft=$d.fromPoints(J),Et=this.grid.query(ft.minX-ot,ft.minY-ot,ft.maxX+ot,ft.maxY+ot),$t=$d.fromPoints(l.cameraQueryGeometry).expandBy(ot),Gt=this.grid3D.query($t.minX,$t.minY,$t.maxX,$t.maxY,((he,Ee,Je,De)=>(function(qt,le,$e,Tr,dn){for(const Gr of qt)if(le<=Gr.x&&$e<=Gr.y&&Tr>=Gr.x&&dn>=Gr.y)return!0;const jr=[new P(le,$e),new P(le,dn),new P(Tr,dn),new P(Tr,$e)];if(qt.length>2){for(const Gr of jr)if(qm(qt,Gr))return!0}for(let Gr=0;Gr<qt.length-1;Gr++)if(Ox(qt[Gr],qt[Gr+1],jr))return!0;return!1})(l.cameraQueryGeometry,he-ot,Ee-ot,Je+ot,De+ot)));for(const he of Gt)Et.push(he);Et.sort(ok);const Wt={};let te;for(let he=0;he<Et.length;he++){const Ee=Et[he];if(Ee===te)continue;te=Ee;const Je=this.featureIndexArray.get(Ee);let De=null;this.loadMatchingFeature(Wt,Je.bucketIndex,Je.sourceLayerIndex,Je.featureIndex,q,M.layers,M.availableImages,h,b,T,((qt,le,$e)=>(De||(De=Fp(qt)),le.queryIntersectsFeature({queryGeometry:J,feature:qt,featureState:$e,geometry:De,zoom:this.z,transform:l.transform,pixelsToTileUnits:O,pixelPosMatrix:l.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:l.getElevation}))))}return Wt}loadMatchingFeature(l,h,b,T,M,O,q,J,ot,ft,Et){const $t=this.bucketLayerIDs[h];if(O&&!$t.some((he=>O.has(he))))return;const Gt=this.sourceLayerCoder.decode(b),Wt=this.vtLayers[Gt].feature(T);if(M.needGeometry){const he=Pd(Wt,!0);if(!M.filter(new Gn(this.tileID.overscaledZ),he,this.tileID.canonical))return}else if(!M.filter(new Gn(this.tileID.overscaledZ),Wt))return;const te=this.getId(Wt,Gt);for(let he=0;he<$t.length;he++){const Ee=$t[he];if(O&&!O.has(Ee))continue;const Je=J[Ee];if(!Je)continue;let De={};te&&ft&&(De=ft.getState(Je.sourceLayer||"_geojsonTileLayer",te));const qt=Se({},ot[Ee]);qt.paint=ZS(qt.paint,Je.paint,Wt,De,q),qt.layout=ZS(qt.layout,Je.layout,Wt,De,q);const le=!Et||Et(Wt,Je,De);if(!le)continue;const $e=new KS(Wt,this.z,this.x,this.y,te);$e.layer=qt;let Tr=l[Ee];Tr===void 0&&(Tr=l[Ee]=[]),Tr.push({featureIndex:T,feature:$e,intersectionZ:le})}}lookupSymbolFeatures(l,h,b,T,M,O,q,J){const ot={};this.loadVTLayers();const ft=gl(M);for(const Et of l)this.loadMatchingFeature(ot,b,T,Et,ft,O,q,J,h);return ot}hasLayer(l){for(const h of this.bucketLayerIDs)for(const b of h)if(l===b)return!0;return!1}getId(l,h){var b;let T=l.id;return this.promoteId&&(T=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof T=="boolean"&&(T=Number(T)),T===void 0&&!((b=l.properties)===null||b===void 0)&&b.cluster&&this.promoteId&&(T=Number(l.properties.cluster_id))),T}}function ZS(f,l,h,b,T){return He(f,((M,O)=>{const q=l instanceof Os?l.get(O):null;return q&&q.evaluate?q.evaluate(h,b,T):q}))}function ok(f,l){return l-f}function m1(f,l,h,b,T){const M=[];for(let O=0;O<f.length;O++){const q=f[O];let J;for(let ot=0;ot<q.length-1;ot++){let ft=q[ot],Et=q[ot+1];ft.x<l&&Et.x<l||(ft.x<l?ft=new P(l,ft.y+(l-ft.x)/(Et.x-ft.x)*(Et.y-ft.y))._round():Et.x<l&&(Et=new P(l,ft.y+(l-ft.x)/(Et.x-ft.x)*(Et.y-ft.y))._round()),ft.y<h&&Et.y<h||(ft.y<h?ft=new P(ft.x+(h-ft.y)/(Et.y-ft.y)*(Et.x-ft.x),h)._round():Et.y<h&&(Et=new P(ft.x+(h-ft.y)/(Et.y-ft.y)*(Et.x-ft.x),h)._round()),ft.x>=b&&Et.x>=b||(ft.x>=b?ft=new P(b,ft.y+(b-ft.x)/(Et.x-ft.x)*(Et.y-ft.y))._round():Et.x>=b&&(Et=new P(b,ft.y+(b-ft.x)/(Et.x-ft.x)*(Et.y-ft.y))._round()),ft.y>=T&&Et.y>=T||(ft.y>=T?ft=new P(ft.x+(T-ft.y)/(Et.y-ft.y)*(Et.x-ft.x),T)._round():Et.y>=T&&(Et=new P(ft.x+(T-ft.y)/(Et.y-ft.y)*(Et.x-ft.x),T)._round()),J&&ft.equals(J[J.length-1])||(J=[ft],M.push(J)),J.push(Et)))))}}return M}Ce("FeatureIndex",p1,{omit:["rawTileData","sourceLayerCoder"]});class op extends P{constructor(l,h,b,T){super(l,h),this.angle=b,T!==void 0&&(this.segment=T)}clone(){return new op(this.x,this.y,this.angle,this.segment)}}function ds(f,l,h,b,T){if(l.segment===void 0||h===0)return!0;let M=l,O=l.segment+1,q=0;for(;q>-h/2;){if(O--,O<0)return!1;q-=f[O].dist(M),M=f[O]}q+=f[O].dist(f[O+1]),O++;const J=[];let ot=0;for(;q<h/2;){const ft=f[O],Et=f[O+1];if(!Et)return!1;let $t=f[O-1].angleTo(ft)-ft.angleTo(Et);for($t=Math.abs(($t+3*Math.PI)%(2*Math.PI)-Math.PI),J.push({distance:q,angleDelta:$t}),ot+=$t;q-J[0].distance>b;)ot-=J.shift().angleDelta;if(ot>T)return!1;O++,q+=ft.dist(Et)}return!0}function ib(f){let l=0;for(let h=0;h<f.length-1;h++)l+=f[h].dist(f[h+1]);return l}function hu(f,l,h){return f?.6*l*h:0}function QS(f,l){return Math.max(f?f.right-f.left:0,l?l.right-l.left:0)}function JS(f,l,h,b,T,M){const O=hu(h,T,M),q=QS(h,b)*M;let J=0;const ot=ib(f)/2;for(let ft=0;ft<f.length-1;ft++){const Et=f[ft],$t=f[ft+1],Gt=Et.dist($t);if(J+Gt>ot){const Wt=(ot-J)/Gt,te=Oi.number(Et.x,$t.x,Wt),he=Oi.number(Et.y,$t.y,Wt),Ee=new op(te,he,$t.angleTo(Et),ft);return Ee._round(),!O||ds(f,Ee,q,O,l)?Ee:void 0}J+=Gt}}function sk(f,l,h,b,T,M,O,q,J){const ot=hu(b,M,O),ft=QS(b,T),Et=ft*O,$t=f[0].x===0||f[0].x===J||f[0].y===0||f[0].y===J;return l-Et<l/4&&(l=Et+l/4),ab(f,$t?l/2*q%l:(ft/2+2*M)*O*q%l,l,ot,h,Et,$t,!1,J)}function ab(f,l,h,b,T,M,O,q,J){const ot=M/2,ft=ib(f);let Et=0,$t=l-h,Gt=[];for(let Wt=0;Wt<f.length-1;Wt++){const te=f[Wt],he=f[Wt+1],Ee=te.dist(he),Je=he.angleTo(te);for(;$t+h<Et+Ee;){$t+=h;const De=($t-Et)/Ee,qt=Oi.number(te.x,he.x,De),le=Oi.number(te.y,he.y,De);if(qt>=0&&qt<J&&le>=0&&le<J&&$t-ot>=0&&$t+ot<=ft){const $e=new op(qt,le,Je,Wt);$e._round(),b&&!ds(f,$e,M,b,T)||Gt.push($e)}}Et+=Ee}return q||Gt.length||O||(Gt=ab(f,Et/2,h,b,T,M,O,!0,J)),Gt}function ob(f,l,h,b){const T=[],M=f.image,O=M.pixelRatio,q=M.paddedRect.w-2,J=M.paddedRect.h-2;let ot={x1:f.left,y1:f.top,x2:f.right,y2:f.bottom};const ft=M.stretchX||[[0,q]],Et=M.stretchY||[[0,J]],$t=(Hr,qn)=>Hr+qn[1]-qn[0],Gt=ft.reduce($t,0),Wt=Et.reduce($t,0),te=q-Gt,he=J-Wt;let Ee=0,Je=Gt,De=0,qt=Wt,le=0,$e=te,Tr=0,dn=he;if(M.content&&b){const Hr=M.content,qn=Hr[2]-Hr[0],vi=Hr[3]-Hr[1];(M.textFitWidth||M.textFitHeight)&&(ot=i1(f)),Ee=Km(ft,0,Hr[0]),De=Km(Et,0,Hr[1]),Je=Km(ft,Hr[0],Hr[2]),qt=Km(Et,Hr[1],Hr[3]),le=Hr[0]-Ee,Tr=Hr[1]-De,$e=qn-Je,dn=vi-qt}const jr=ot.x1,Gr=ot.y1,wn=ot.x2-jr,sn=ot.y2-Gr,_n=(Hr,qn,vi,ci)=>{const oi=hv(Hr.stretch-Ee,Je,wn,jr),Ca=ty(Hr.fixed-le,$e,Hr.stretch,Gt),Js=hv(qn.stretch-De,qt,sn,Gr),nc=ty(qn.fixed-Tr,dn,qn.stretch,Wt),Yc=hv(vi.stretch-Ee,Je,wn,jr),nh=ty(vi.fixed-le,$e,vi.stretch,Gt),Bu=hv(ci.stretch-De,qt,sn,Gr),Lc=ty(ci.fixed-Tr,dn,ci.stretch,Wt),fs=new P(oi,Js),Mc=new P(Yc,Js),Kc=new P(Yc,Bu),yc=new P(oi,Bu),fu=new P(Ca/O,nc/O),zu=new P(nh/O,Lc/O),ic=l*Math.PI/180;if(ic){const Fs=Math.sin(ic),js=Math.cos(ic),ps=[js,-Fs,Fs,js];fs._matMult(ps),Mc._matMult(ps),yc._matMult(ps),Kc._matMult(ps)}const Fu=Hr.stretch+Hr.fixed,Ll=qn.stretch+qn.fixed;return{tl:fs,tr:Mc,bl:yc,br:Kc,tex:{x:M.paddedRect.x+1+Fu,y:M.paddedRect.y+1+Ll,w:vi.stretch+vi.fixed-Fu,h:ci.stretch+ci.fixed-Ll},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:fu,pixelOffsetBR:zu,minFontScaleX:$e/O/wn,minFontScaleY:dn/O/sn,isSDF:h}};if(b&&(M.stretchX||M.stretchY)){const Hr=g1(ft,te,Gt),qn=g1(Et,he,Wt);for(let vi=0;vi<Hr.length-1;vi++){const ci=Hr[vi],oi=Hr[vi+1];for(let Ca=0;Ca<qn.length-1;Ca++)T.push(_n(ci,qn[Ca],oi,qn[Ca+1]))}}else T.push(_n({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:q+1},{fixed:0,stretch:J+1}));return T}function Km(f,l,h){let b=0;for(const T of f)b+=Math.max(l,Math.min(h,T[1]))-Math.max(l,Math.min(h,T[0]));return b}function g1(f,l,h){const b=[{fixed:-1,stretch:0}];for(const[T,M]of f){const O=b[b.length-1];b.push({fixed:T-O.stretch,stretch:O.stretch}),b.push({fixed:T-O.stretch,stretch:O.stretch+(M-T)})}return b.push({fixed:l+1,stretch:h}),b}function hv(f,l,h,b){return f/l*h+b}function ty(f,l,h,b){return f-l*h/b}Ce("Anchor",op);class ey{constructor(l,h,b,T,M,O,q,J,ot,ft){var Et;if(this.boxStartIndex=l.length,ot){let $t=O.top,Gt=O.bottom;const Wt=O.collisionPadding;Wt&&($t-=Wt[1],Gt+=Wt[3]);let te=Gt-$t;te>0&&(te=Math.max(10,te),this.circleDiameter=te)}else{const $t=!((Et=O.image)===null||Et===void 0)&&Et.content&&(O.image.textFitWidth||O.image.textFitHeight)?i1(O):{x1:O.left,y1:O.top,x2:O.right,y2:O.bottom};$t.y1=$t.y1*q-J[0],$t.y2=$t.y2*q+J[2],$t.x1=$t.x1*q-J[3],$t.x2=$t.x2*q+J[1];const Gt=O.collisionPadding;if(Gt&&($t.x1-=Gt[0]*q,$t.y1-=Gt[1]*q,$t.x2+=Gt[2]*q,$t.y2+=Gt[3]*q),ft){const Wt=new P($t.x1,$t.y1),te=new P($t.x2,$t.y1),he=new P($t.x1,$t.y2),Ee=new P($t.x2,$t.y2),Je=ft*Math.PI/180;Wt._rotate(Je),te._rotate(Je),he._rotate(Je),Ee._rotate(Je),$t.x1=Math.min(Wt.x,te.x,he.x,Ee.x),$t.x2=Math.max(Wt.x,te.x,he.x,Ee.x),$t.y1=Math.min(Wt.y,te.y,he.y,Ee.y),$t.y2=Math.max(Wt.y,te.y,he.y,Ee.y)}l.emplaceBack(h.x,h.y,$t.x1,$t.y1,$t.x2,$t.y2,b,T,M)}this.boxEndIndex=l.length}}class lk{constructor(l=[],h=(b,T)=>b<T?-1:b>T?1:0){if(this.data=l,this.length=this.data.length,this.compare=h,this.length>0)for(let b=(this.length>>1)-1;b>=0;b--)this._down(b)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:h,compare:b}=this,T=h[l];for(;l>0;){const M=l-1>>1,O=h[M];if(b(T,O)>=0)break;h[l]=O,l=M}h[l]=T}_down(l){const{data:h,compare:b}=this,T=this.length>>1,M=h[l];for(;l<T;){let O=1+(l<<1);const q=O+1;if(q<this.length&&b(h[q],h[O])<0&&(O=q),b(h[O],M)>=0)break;h[l]=h[O],l=O}h[l]=M}}function t5(f,l=1,h=!1){const b=$d.fromPoints(f[0]),T=Math.min(b.width(),b.height());let M=T/2;const O=new lk([],ck),{minX:q,minY:J,maxX:ot,maxY:ft}=b;if(T===0)return new P(q,J);for(let Gt=q;Gt<ot;Gt+=T)for(let Wt=J;Wt<ft;Wt+=T)O.push(new Zm(Gt+M,Wt+M,M,f));let Et=(function(Gt){let Wt=0,te=0,he=0;const Ee=Gt[0];for(let Je=0,De=Ee.length,qt=De-1;Je<De;qt=Je++){const le=Ee[Je],$e=Ee[qt],Tr=le.x*$e.y-$e.x*le.y;te+=(le.x+$e.x)*Tr,he+=(le.y+$e.y)*Tr,Wt+=3*Tr}return new Zm(te/Wt,he/Wt,0,Gt)})(f),$t=O.length;for(;O.length;){const Gt=O.pop();(Gt.d>Et.d||!Et.d)&&(Et=Gt,h&&console.log("found best %d after %d probes",Math.round(1e4*Gt.d)/1e4,$t)),Gt.max-Et.d<=l||(M=Gt.h/2,O.push(new Zm(Gt.p.x-M,Gt.p.y-M,M,f)),O.push(new Zm(Gt.p.x+M,Gt.p.y-M,M,f)),O.push(new Zm(Gt.p.x-M,Gt.p.y+M,M,f)),O.push(new Zm(Gt.p.x+M,Gt.p.y+M,M,f)),$t+=4)}return h&&(console.log(`num probes: ${$t}`),console.log(`best distance: ${Et.d}`)),Et.p}function ck(f,l){return l.max-f.max}function Zm(f,l,h,b){this.p=new P(f,l),this.h=h,this.d=(function(T,M){let O=!1,q=1/0;for(let J=0;J<M.length;J++){const ot=M[J];for(let ft=0,Et=ot.length,$t=Et-1;ft<Et;$t=ft++){const Gt=ot[ft],Wt=ot[$t];Gt.y>T.y!=Wt.y>T.y&&T.x<(Wt.x-Gt.x)*(T.y-Gt.y)/(Wt.y-Gt.y)+Gt.x&&(O=!O),q=Math.min(q,Px(T,Gt,Wt))}}return(O?1:-1)*Math.sqrt(q)})(this.p,b),this.max=this.d+this.h*Math.SQRT2}var du;c.aD=void 0,(du=c.aD||(c.aD={}))[du.center=1]="center",du[du.left=2]="left",du[du.right=3]="right",du[du.top=4]="top",du[du.bottom=5]="bottom",du[du["top-left"]=6]="top-left",du[du["top-right"]=7]="top-right",du[du["bottom-left"]=8]="bottom-left",du[du["bottom-right"]=9]="bottom-right";const y1=Number.POSITIVE_INFINITY;function sp(f,l){return l[1]!==y1?(function(h,b,T){let M=0,O=0;switch(b=Math.abs(b),T=Math.abs(T),h){case"top-right":case"top-left":case"top":O=T-7;break;case"bottom-right":case"bottom-left":case"bottom":O=7-T}switch(h){case"top-right":case"bottom-right":case"right":M=-b;break;case"top-left":case"bottom-left":case"left":M=b}return[M,O]})(f,l[0],l[1]):(function(h,b){let T=0,M=0;b<0&&(b=0);const O=b/Math.SQRT2;switch(h){case"top-right":case"top-left":M=O-7;break;case"bottom-right":case"bottom-left":M=7-O;break;case"bottom":M=7-b;break;case"top":M=b-7}switch(h){case"top-right":case"bottom-right":T=-O;break;case"top-left":case"bottom-left":T=O;break;case"left":T=b;break;case"right":T=-b}return[T,M]})(f,l[0])}function v1(f,l,h){var b;const T=f.layout,M=(b=T.get("text-variable-anchor-offset"))===null||b===void 0?void 0:b.evaluate(l,{},h);if(M){const q=M.values,J=[];for(let ot=0;ot<q.length;ot+=2){const ft=J[ot]=q[ot],Et=q[ot+1].map(($t=>$t*rc));ft.startsWith("top")?Et[1]-=7:ft.startsWith("bottom")&&(Et[1]+=7),J[ot+1]=Et}return new Bn(J)}const O=T.get("text-variable-anchor");if(O){let q;q=f._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[T.get("text-radial-offset").evaluate(l,{},h)*rc,y1]:T.get("text-offset").evaluate(l,{},h).map((ot=>ot*rc));const J=[];for(const ot of O)J.push(ot,sp(ot,q));return new Bn(J)}return null}function sb(f){switch(f){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function b1(f,l,h,b,T,M,O,q,J,ot,ft,Et){let $t=M.textMaxSize.evaluate(l,{});$t===void 0&&($t=O);const Gt=f.layers[0].layout,Wt=Gt.get("icon-offset").evaluate(l,{},ft),te=r5(h.horizontal),he=O/24,Ee=f.tilePixelRatio*he,Je=f.tilePixelRatio*$t/24,De=f.tilePixelRatio*q,qt=f.tilePixelRatio*Gt.get("symbol-spacing"),le=Gt.get("text-padding")*f.tilePixelRatio,$e=(function(vi,ci,oi,Ca=1){const Js=vi.get("icon-padding").evaluate(ci,{},oi),nc=Js&&Js.values;return[nc[0]*Ca,nc[1]*Ca,nc[2]*Ca,nc[3]*Ca]})(Gt,l,ft,f.tilePixelRatio),Tr=Gt.get("text-max-angle")/180*Math.PI,dn=Gt.get("text-rotation-alignment")!=="viewport"&&Gt.get("symbol-placement")!=="point",jr=Gt.get("icon-rotation-alignment")==="map"&&Gt.get("symbol-placement")!=="point",Gr=Gt.get("symbol-placement"),wn=qt/2,sn=Gt.get("icon-text-fit");let _n;b&&sn!=="none"&&(f.allowVerticalPlacement&&h.vertical&&(_n=a1(b,h.vertical,sn,Gt.get("icon-text-fit-padding"),Wt,he)),te&&(b=a1(b,te,sn,Gt.get("icon-text-fit-padding"),Wt,he)));const Hr=ft?Et.line.getGranularityForZoomLevel(ft.z):1,qn=(vi,ci)=>{ci.x<0||ci.x>=lt||ci.y<0||ci.y>=lt||(function(oi,Ca,Js,nc,Yc,nh,Bu,Lc,fs,Mc,Kc,yc,fu,zu,ic,Fu,Ll,Fs,js,ps,Mo,ih,Gh,Ud,i5){const gf=oi.addToLineVertexArray(Ca,Js);let Jm,tg,lp,eg,a5=0,fv=0,pv=0,w1=0,Qp=-1,db=-1;const qd={};let mv=Tu("");if(oi.allowVerticalPlacement&&nc.vertical){const Cr=Lc.layout.get("text-rotate").evaluate(Mo,{},Ud)+90;lp=new ey(fs,Ca,Mc,Kc,yc,nc.vertical,fu,zu,ic,Cr),Bu&&(eg=new ey(fs,Ca,Mc,Kc,yc,Bu,Ll,Fs,ic,Cr))}if(Yc){const Cr=Lc.layout.get("icon-rotate").evaluate(Mo,{}),Ur=Lc.layout.get("icon-text-fit")!=="none",si=ob(Yc,Cr,Gh,Ur),xi=Bu?ob(Bu,Cr,Gh,Ur):void 0;tg=new ey(fs,Ca,Mc,Kc,yc,Yc,Ll,Fs,!1,Cr),a5=4*si.length;const bo=oi.iconSizeData;let gr=null;bo.kind==="source"?(gr=[od*Lc.layout.get("icon-size").evaluate(Mo,{})],gr[0]>ip&&vr(`${oi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):bo.kind==="composite"&&(gr=[od*ih.compositeIconSizes[0].evaluate(Mo,{},Ud),od*ih.compositeIconSizes[1].evaluate(Mo,{},Ud)],(gr[0]>ip||gr[1]>ip)&&vr(`${oi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),oi.addSymbols(oi.icon,si,gr,ps,js,Mo,c.an.none,Ca,gf.lineStartIndex,gf.lineLength,-1,Ud),Qp=oi.icon.placedSymbolArray.length-1,xi&&(fv=4*xi.length,oi.addSymbols(oi.icon,xi,gr,ps,js,Mo,c.an.vertical,Ca,gf.lineStartIndex,gf.lineLength,-1,Ud),db=oi.icon.placedSymbolArray.length-1)}const S1=Object.keys(nc.horizontal);for(const Cr of S1){const Ur=nc.horizontal[Cr];if(!Jm){mv=Tu(Ur.text);const xi=Lc.layout.get("text-rotate").evaluate(Mo,{},Ud);Jm=new ey(fs,Ca,Mc,Kc,yc,Ur,fu,zu,ic,xi)}const si=Ur.positionedLines.length===1;if(pv+=e5(oi,Ca,Ur,nh,Lc,ic,Mo,Fu,gf,nc.vertical?c.an.horizontal:c.an.horizontalOnly,si?S1:[Cr],qd,Qp,ih,Ud),si)break}nc.vertical&&(w1+=e5(oi,Ca,nc.vertical,nh,Lc,ic,Mo,Fu,gf,c.an.vertical,["vertical"],qd,db,ih,Ud));const hk=Jm?Jm.boxStartIndex:oi.collisionBoxArray.length,fb=Jm?Jm.boxEndIndex:oi.collisionBoxArray.length,u=lp?lp.boxStartIndex:oi.collisionBoxArray.length,p=lp?lp.boxEndIndex:oi.collisionBoxArray.length,w=tg?tg.boxStartIndex:oi.collisionBoxArray.length,R=tg?tg.boxEndIndex:oi.collisionBoxArray.length,W=eg?eg.boxStartIndex:oi.collisionBoxArray.length,rt=eg?eg.boxEndIndex:oi.collisionBoxArray.length;let Ot=-1;const se=(Cr,Ur)=>Cr&&Cr.circleDiameter?Math.max(Cr.circleDiameter,Ur):Ur;Ot=se(Jm,Ot),Ot=se(lp,Ot),Ot=se(tg,Ot),Ot=se(eg,Ot);const Ye=Ot>-1?1:0;Ye&&(Ot*=i5/rc),oi.glyphOffsetArray.length>=jd.MAX_GLYPHS&&vr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mo.sortKey!==void 0&&oi.addToSortKeyRanges(oi.symbolInstances.length,Mo.sortKey);const Br=v1(Lc,Mo,Ud),[Jr,pn]=(function(Cr,Ur){const si=Cr.length,xi=Ur?.values;if(xi?.length>0)for(let bo=0;bo<xi.length;bo+=2){const gr=xi[bo+1];Cr.emplaceBack(c.aD[xi[bo]],gr[0],gr[1])}return[si,Cr.length]})(oi.textAnchorOffsets,Br);oi.symbolInstances.emplaceBack(Ca.x,Ca.y,qd.right>=0?qd.right:-1,qd.center>=0?qd.center:-1,qd.left>=0?qd.left:-1,qd.vertical||-1,Qp,db,mv,hk,fb,u,p,w,R,W,rt,Mc,pv,w1,a5,fv,Ye,0,fu,Ot,Jr,pn)})(f,ci,vi,h,b,T,_n,f.layers[0],f.collisionBoxArray,l.index,l.sourceLayerIndex,f.index,Ee,[le,le,le,le],dn,J,De,$e,jr,Wt,l,M,ot,ft,O)};if(Gr==="line")for(const vi of m1(l.geometry,0,0,lt,lt)){const ci=$p(vi,Hr),oi=sk(ci,qt,Tr,h.vertical||te,b,24,Je,f.overscaling,lt);for(const Ca of oi)te&&n5(f,te.text,wn,Ca)||qn(ci,Ca)}else if(Gr==="line-center"){for(const vi of l.geometry)if(vi.length>1){const ci=$p(vi,Hr),oi=JS(ci,Tr,h.vertical||te,b,24,Je);oi&&qn(ci,oi)}}else if(l.type==="Polygon")for(const vi of Al(l.geometry,0)){const ci=t5(vi,16);qn($p(vi[0],Hr,!0),new op(ci.x,ci.y,0))}else if(l.type==="LineString")for(const vi of l.geometry){const ci=$p(vi,Hr);qn(ci,new op(ci[0].x,ci[0].y,0))}else if(l.type==="Point")for(const vi of l.geometry)for(const ci of vi)qn([ci],new op(ci.x,ci.y,0))}function e5(f,l,h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt){const te=(function(Je,De,qt,le,$e,Tr,dn,jr){const Gr=le.layout.get("text-rotate").evaluate(Tr,{})*Math.PI/180,wn=[];for(const sn of De.positionedLines)for(const _n of sn.positionedGlyphs){if(!_n.rect)continue;const Hr=_n.rect||{};let qn=4,vi=!0,ci=1,oi=0;const Ca=($e||jr)&&_n.vertical,Js=_n.metrics.advance*_n.scale/2;if(jr&&De.verticalizable&&(oi=sn.lineOffset/2-(_n.imageName?-(rc-_n.metrics.width*_n.scale)/2:(_n.scale-1)*rc)),_n.imageName){const Fs=dn[_n.imageName];vi=Fs.sdf,ci=Fs.pixelRatio,qn=1/ci}const nc=$e?[_n.x+Js,_n.y]:[0,0];let Yc=$e?[0,0]:[_n.x+Js+qt[0],_n.y+qt[1]-oi],nh=[0,0];Ca&&(nh=Yc,Yc=[0,0]);const Bu=_n.metrics.isDoubleResolution?2:1,Lc=(_n.metrics.left-qn)*_n.scale-Js+Yc[0],fs=(-_n.metrics.top-qn)*_n.scale+Yc[1],Mc=Lc+Hr.w/Bu*_n.scale/ci,Kc=fs+Hr.h/Bu*_n.scale/ci,yc=new P(Lc,fs),fu=new P(Mc,fs),zu=new P(Lc,Kc),ic=new P(Mc,Kc);if(Ca){const Fs=new P(-Js,Js- -17),js=-Math.PI/2,ps=12-Js,Mo=new P(22-ps,-(_n.imageName?ps:0)),ih=new P(...nh);yc._rotateAround(js,Fs)._add(Mo)._add(ih),fu._rotateAround(js,Fs)._add(Mo)._add(ih),zu._rotateAround(js,Fs)._add(Mo)._add(ih),ic._rotateAround(js,Fs)._add(Mo)._add(ih)}if(Gr){const Fs=Math.sin(Gr),js=Math.cos(Gr),ps=[js,-Fs,Fs,js];yc._matMult(ps),fu._matMult(ps),zu._matMult(ps),ic._matMult(ps)}const Fu=new P(0,0),Ll=new P(0,0);wn.push({tl:yc,tr:fu,bl:zu,br:ic,tex:Hr,writingMode:De.writingMode,glyphOffset:nc,sectionIndex:_n.sectionIndex,isSDF:vi,pixelOffsetTL:Fu,pixelOffsetBR:Ll,minFontScaleX:0,minFontScaleY:0})}return wn})(0,h,q,T,M,O,b,f.allowVerticalPlacement),he=f.textSizeData;let Ee=null;he.kind==="source"?(Ee=[od*T.layout.get("text-size").evaluate(O,{})],Ee[0]>ip&&vr(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):he.kind==="composite"&&(Ee=[od*Gt.compositeTextSizes[0].evaluate(O,{},Wt),od*Gt.compositeTextSizes[1].evaluate(O,{},Wt)],(Ee[0]>ip||Ee[1]>ip)&&vr(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),f.addSymbols(f.text,te,Ee,q,M,O,ot,l,J.lineStartIndex,J.lineLength,$t,Wt);for(const Je of ft)Et[Je]=f.text.placedSymbolArray.length-1;return 4*te.length}function r5(f){for(const l in f)return f[l];return null}function n5(f,l,h,b){const T=f.compareText;if(l in T){const M=T[l];for(let O=M.length-1;O>=0;O--)if(b.dist(M[O])<h)return!0}else T[l]=[];return T[l].push(b),!1}const lb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class dv{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,b]=new Uint8Array(l,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const T=b>>4;if(T!==1)throw new Error(`Got v${T} data when expected v1.`);const M=lb[15&b];if(!M)throw new Error("Unrecognized array type.");const[O]=new Uint16Array(l,2,1),[q]=new Uint32Array(l,4,1);return new dv(q,O,M,l)}constructor(l,h=64,b=Float64Array,T){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=b,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const M=lb.indexOf(this.ArrayType),O=2*l*this.ArrayType.BYTES_PER_ELEMENT,q=l*this.IndexArrayType.BYTES_PER_ELEMENT,J=(8-q%8)%8;if(M<0)throw new Error(`Unexpected typed array class: ${b}.`);T&&T instanceof ArrayBuffer?(this.data=T,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+q+J,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+O+q+J),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+q+J,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+M]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=l)}add(l,h){const b=this._pos>>1;return this.ids[b]=b,this.coords[this._pos++]=l,this.coords[this._pos++]=h,b}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return _1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,h,b,T){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:M,coords:O,nodeSize:q}=this,J=[0,M.length-1,0],ot=[];for(;J.length;){const ft=J.pop()||0,Et=J.pop()||0,$t=J.pop()||0;if(Et-$t<=q){for(let he=$t;he<=Et;he++){const Ee=O[2*he],Je=O[2*he+1];Ee>=l&&Ee<=b&&Je>=h&&Je<=T&&ot.push(M[he])}continue}const Gt=$t+Et>>1,Wt=O[2*Gt],te=O[2*Gt+1];Wt>=l&&Wt<=b&&te>=h&&te<=T&&ot.push(M[Gt]),(ft===0?l<=Wt:h<=te)&&(J.push($t),J.push(Gt-1),J.push(1-ft)),(ft===0?b>=Wt:T>=te)&&(J.push(Gt+1),J.push(Et),J.push(1-ft))}return ot}within(l,h,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:M,nodeSize:O}=this,q=[0,T.length-1,0],J=[],ot=b*b;for(;q.length;){const ft=q.pop()||0,Et=q.pop()||0,$t=q.pop()||0;if(Et-$t<=O){for(let he=$t;he<=Et;he++)x1(M[2*he],M[2*he+1],l,h)<=ot&&J.push(T[he]);continue}const Gt=$t+Et>>1,Wt=M[2*Gt],te=M[2*Gt+1];x1(Wt,te,l,h)<=ot&&J.push(T[Gt]),(ft===0?l-b<=Wt:h-b<=te)&&(q.push($t),q.push(Gt-1),q.push(1-ft)),(ft===0?l+b>=Wt:h+b>=te)&&(q.push(Gt+1),q.push(Et),q.push(1-ft))}return J}}function _1(f,l,h,b,T,M){if(T-b<=h)return;const O=b+T>>1;qh(f,l,O,b,T,M),_1(f,l,h,b,O-1,1-M),_1(f,l,h,O+1,T,1-M)}function qh(f,l,h,b,T,M){for(;T>b;){if(T-b>600){const ot=T-b+1,ft=h-b+1,Et=Math.log(ot),$t=.5*Math.exp(2*Et/3),Gt=.5*Math.sqrt(Et*$t*(ot-$t)/ot)*(ft-ot/2<0?-1:1);qh(f,l,h,Math.max(b,Math.floor(h-ft*$t/ot+Gt)),Math.min(T,Math.floor(h+(ot-ft)*$t/ot+Gt)),M)}const O=l[2*h+M];let q=b,J=T;for(Qm(f,l,b,h),l[2*T+M]>O&&Qm(f,l,b,T);q<J;){for(Qm(f,l,q,J),q++,J--;l[2*q+M]<O;)q++;for(;l[2*J+M]>O;)J--}l[2*b+M]===O?Qm(f,l,b,J):(J++,Qm(f,l,J,T)),J<=h&&(b=J+1),h<=J&&(T=J-1)}}function Qm(f,l,h,b){cb(f,h,b),cb(l,2*h,2*b),cb(l,2*h+1,2*b+1)}function cb(f,l,h){const b=f[l];f[l]=f[h],f[h]=b}function x1(f,l,h,b){const T=f-h,M=l-b;return T*T+M*M}var ub;c.cw=void 0,(ub=c.cw||(c.cw={})).create="create",ub.load="load",ub.fullLoad="fullLoad";let Zp=null,Du=[];const hb=1e3/60,ry="loadTime",Vd="fullLoadTime",uk={mark(f){performance.mark(f)},frame(f){const l=f;Zp!=null&&Du.push(l-Zp),Zp=l},clearMetrics(){Zp=null,Du=[],performance.clearMeasures(ry),performance.clearMeasures(Vd);for(const f in c.cw)performance.clearMarks(c.cw[f])},getPerformanceMetrics(){performance.measure(ry,c.cw.create,c.cw.load),performance.measure(Vd,c.cw.create,c.cw.fullLoad);const f=performance.getEntriesByName(ry)[0].duration,l=performance.getEntriesByName(Vd)[0].duration,h=Du.length,b=1/(Du.reduce(((M,O)=>M+O),0)/h/1e3),T=Du.filter((M=>M>hb)).reduce(((M,O)=>M+(O-hb)/hb),0);return{loadTime:f,fullLoadTime:l,fps:b,percentDroppedFrames:T/(h+T)*100,totalFrames:h}}};c.$=lt,c.A=Y,c.B=function([f,l,h]){return l+=90,l*=Math.PI/180,h*=Math.PI/180,{x:f*Math.cos(l)*Math.sin(h),y:f*Math.sin(l)*Math.sin(h),z:f*Math.cos(h)}},c.C=Oi,c.D=yn,c.E=ur,c.F=Gn,c.G=Zt,c.H=function(f){if(Mr==null){const l=f.navigator?f.navigator.userAgent:null;Mr=!!f.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Mr},c.I=t1,c.J=class{constructor(f,l){this.target=f,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new h1((()=>this.process())),this.subscription=ar(this.target,"message",(h=>this.receive(h)),!1),this.globalScope=Ie(self)?f:window}registerMessageHandler(f,l){this.messageHandlers[f]=l}sendAsync(f,l){return new Promise(((h,b)=>{const T=Math.round(1e18*Math.random()).toString(36).substring(0,10),M=l?ar(l.signal,"abort",(()=>{M?.unsubscribe(),delete this.resolveRejects[T];const J={id:T,type:"<cancel>",origin:location.origin,targetMapId:f.targetMapId,sourceMapId:this.mapId};this.target.postMessage(J)}),XS):null;this.resolveRejects[T]={resolve:J=>{M?.unsubscribe(),h(J)},reject:J=>{M?.unsubscribe(),b(J)}};const O=[],q=Object.assign(Object.assign({},f),{id:T,sourceMapId:this.mapId,origin:location.origin,data:br(f.data,O)});this.target.postMessage(q,{transfer:O})}))}receive(f){const l=f.data,h=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[h];const b=this.abortControllers[h];return delete this.abortControllers[h],void(b&&b.abort())}if(Ie(self)||l.mustQueue)return this.tasks[h]=l,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,l)}}process(){if(this.taskQueue.length===0)return;const f=this.taskQueue.shift(),l=this.tasks[f];delete this.tasks[f],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(f,l)}processTask(f,l){return a(this,void 0,void 0,(function*(){if(l.type==="<response>"){const T=this.resolveRejects[f];return delete this.resolveRejects[f],T?void(l.error?T.reject(Xr(l.error)):T.resolve(Xr(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(f,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=Xr(l.data),b=new AbortController;this.abortControllers[f]=b;try{const T=yield this.messageHandlers[l.type](l.sourceMapId,h,b);this.completeTask(f,null,T)}catch(T){this.completeTask(f,T)}}))}completeTask(f,l,h){const b=[];delete this.abortControllers[f];const T={id:f,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?br(l):null,data:br(h,b)};this.target.postMessage(T,{transfer:b})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},c.K=Bt,c.L=function(){var f=new Y(16);return Y!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f},c.M=function(f,l,h){var b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te=h[0],he=h[1],Ee=h[2];return l===f?(f[12]=l[0]*te+l[4]*he+l[8]*Ee+l[12],f[13]=l[1]*te+l[5]*he+l[9]*Ee+l[13],f[14]=l[2]*te+l[6]*he+l[10]*Ee+l[14],f[15]=l[3]*te+l[7]*he+l[11]*Ee+l[15]):(T=l[1],M=l[2],O=l[3],q=l[4],J=l[5],ot=l[6],ft=l[7],Et=l[8],$t=l[9],Gt=l[10],Wt=l[11],f[0]=b=l[0],f[1]=T,f[2]=M,f[3]=O,f[4]=q,f[5]=J,f[6]=ot,f[7]=ft,f[8]=Et,f[9]=$t,f[10]=Gt,f[11]=Wt,f[12]=b*te+q*he+Et*Ee+l[12],f[13]=T*te+J*he+$t*Ee+l[13],f[14]=M*te+ot*he+Gt*Ee+l[14],f[15]=O*te+ft*he+Wt*Ee+l[15]),f},c.N=function(f,l,h){var b=h[0],T=h[1],M=h[2];return f[0]=l[0]*b,f[1]=l[1]*b,f[2]=l[2]*b,f[3]=l[3]*b,f[4]=l[4]*T,f[5]=l[5]*T,f[6]=l[6]*T,f[7]=l[7]*T,f[8]=l[8]*M,f[9]=l[9]*M,f[10]=l[10]*M,f[11]=l[11]*M,f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},c.O=function(f,l,h){var b=l[0],T=l[1],M=l[2],O=l[3],q=l[4],J=l[5],ot=l[6],ft=l[7],Et=l[8],$t=l[9],Gt=l[10],Wt=l[11],te=l[12],he=l[13],Ee=l[14],Je=l[15],De=h[0],qt=h[1],le=h[2],$e=h[3];return f[0]=De*b+qt*q+le*Et+$e*te,f[1]=De*T+qt*J+le*$t+$e*he,f[2]=De*M+qt*ot+le*Gt+$e*Ee,f[3]=De*O+qt*ft+le*Wt+$e*Je,f[4]=(De=h[4])*b+(qt=h[5])*q+(le=h[6])*Et+($e=h[7])*te,f[5]=De*T+qt*J+le*$t+$e*he,f[6]=De*M+qt*ot+le*Gt+$e*Ee,f[7]=De*O+qt*ft+le*Wt+$e*Je,f[8]=(De=h[8])*b+(qt=h[9])*q+(le=h[10])*Et+($e=h[11])*te,f[9]=De*T+qt*J+le*$t+$e*he,f[10]=De*M+qt*ot+le*Gt+$e*Ee,f[11]=De*O+qt*ft+le*Wt+$e*Je,f[12]=(De=h[12])*b+(qt=h[13])*q+(le=h[14])*Et+($e=h[15])*te,f[13]=De*T+qt*J+le*$t+$e*he,f[14]=De*M+qt*ot+le*Gt+$e*Ee,f[15]=De*O+qt*ft+le*Wt+$e*Je,f},c.P=P,c.Q=function(f,l){const h={};for(let b=0;b<l.length;b++){const T=l[b];T in f&&(h[T]=f[T])}return h},c.R=uu,c.S=Yp,c.T=Yy,c.U=YS,c.V=WS,c.W=z,c.X=j,c.Y=Pr,c.Z=Eh,c._=a,c.a=Ft,c.a$=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f[3]=l[3]*h,f},c.a0=Oa,c.a1=$d,c.a2=25,c.a3=Jg,c.a4=f=>{const l=window.document.createElement("video");return l.muted=!0,new Promise((h=>{l.onloadstart=()=>{h(l)};for(const b of f){const T=window.document.createElement("source");Ge(b)||(l.crossOrigin="Anonymous"),T.src=b,l.appendChild(T)}}))},c.a5=Vr,c.a6=function(){return Vt++},c.a7=fe,c.a8=jd,c.a9=gl,c.aA=rc,c.aB=Tt,c.aC=function(f,l,h,b,T=!1){if(!h[0]&&!h[1])return[0,0];const M=T?b==="map"?-f.bearingInRadians:0:b==="viewport"?f.bearingInRadians:0;if(M){const O=Math.sin(M),q=Math.cos(M);h=[h[0]*q-h[1]*O,h[0]*O+h[1]*q]}return[T?h[0]:Tt(l,h[0],f.zoom),T?h[1]:Tt(l,h[1],f.zoom)]},c.aE=Ho,c.aF=sb,c.aG=K0,c.aH=dv,c.aI=Di,c.aJ=qg,c.aK=xr,c.aL=fa,c.aM=Da,c.aN=de,c.aO=er,c.aP=f1,c.aQ=dt,c.aR=V,c.aS=function(f){var l=new Y(3);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l},c.aT=function(f,l,h){return f[0]=l[0]-h[0],f[1]=l[1]-h[1],f[2]=l[2]-h[2],f},c.aU=function(f,l){var h=l[0],b=l[1],T=l[2],M=h*h+b*b+T*T;return M>0&&(M=1/Math.sqrt(M)),f[0]=l[0]*M,f[1]=l[1]*M,f[2]=l[2]*M,f},c.aV=mt,c.aW=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]},c.aX=function(f,l,h){return f[0]=l[0]*h[0],f[1]=l[1]*h[1],f[2]=l[2]*h[2],f[3]=l[3]*h[3],f},c.aY=vt,c.aZ=function(f,l,h){const b=l[0]*h[0]+l[1]*h[1]+l[2]*h[2];return b===0?null:(-(f[0]*h[0]+f[1]*h[1]+f[2]*h[2])-h[3])/b},c.a_=pt,c.aa=Pd,c.ab=KS,c.ac=function(f){const l={};if(f.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((h,b,T,M)=>{const O=T||M;return l[b]=!O||O.toLowerCase(),""})),l["max-age"]){const h=parseInt(l["max-age"],10);isNaN(h)?delete l["max-age"]:l["max-age"]=h}return l},c.ad=Or,c.ae=function(f){return Math.pow(2,f)},c.af=st,c.ag=ce,c.ah=85.051129,c.ai=Qg,c.aj=function(f){return Math.log(f)/Math.LN2},c.ak=function(f){var l=f[0],h=f[1];return l*l+h*h},c.al=function(f,l){const h=[];for(const b in f)b in l||h.push(b);return h},c.am=function(f,l){let h=0,b=0;if(f.kind==="constant")b=f.layoutSize;else if(f.kind!=="source"){const{interpolationType:T,minZoom:M,maxZoom:O}=f,q=T?ce(wi.interpolationFactor(T,l,M,O),0,1):0;f.kind==="camera"?b=Oi.number(f.minSize,f.maxSize,q):h=q}return{uSizeT:h,uSize:b}},c.ao=function(f,{uSize:l,uSizeT:h},{lowerSize:b,upperSize:T}){return f.kind==="source"?b/od:f.kind==="composite"?Oi.number(b/od,T/od,h):l},c.ap=function(f,l){var h=l[0],b=l[1],T=l[2],M=l[3],O=l[4],q=l[5],J=l[6],ot=l[7],ft=l[8],Et=l[9],$t=l[10],Gt=l[11],Wt=l[12],te=l[13],he=l[14],Ee=l[15],Je=h*q-b*O,De=h*J-T*O,qt=h*ot-M*O,le=b*J-T*q,$e=b*ot-M*q,Tr=T*ot-M*J,dn=ft*te-Et*Wt,jr=ft*he-$t*Wt,Gr=ft*Ee-Gt*Wt,wn=Et*he-$t*te,sn=Et*Ee-Gt*te,_n=$t*Ee-Gt*he,Hr=Je*_n-De*sn+qt*wn+le*Gr-$e*jr+Tr*dn;return Hr?(f[0]=(q*_n-J*sn+ot*wn)*(Hr=1/Hr),f[1]=(T*sn-b*_n-M*wn)*Hr,f[2]=(te*Tr-he*$e+Ee*le)*Hr,f[3]=($t*$e-Et*Tr-Gt*le)*Hr,f[4]=(J*Gr-O*_n-ot*jr)*Hr,f[5]=(h*_n-T*Gr+M*jr)*Hr,f[6]=(he*qt-Wt*Tr-Ee*De)*Hr,f[7]=(ft*Tr-$t*qt+Gt*De)*Hr,f[8]=(O*sn-q*Gr+ot*dn)*Hr,f[9]=(b*Gr-h*sn-M*dn)*Hr,f[10]=(Wt*$e-te*qt+Ee*Je)*Hr,f[11]=(Et*qt-ft*$e-Gt*Je)*Hr,f[12]=(q*jr-O*wn-J*dn)*Hr,f[13]=(h*wn-b*jr+T*dn)*Hr,f[14]=(te*De-Wt*le-he*Je)*Hr,f[15]=(ft*le-Et*De+$t*Je)*Hr,f):null},c.aq=jt,c.ar=function(f){return Math.hypot(f[0],f[1])},c.as=function(f){return f[0]=0,f[1]=0,f},c.at=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f},c.au=l1,c.av=At,c.aw=function(f,l,h,b){const T=l.y-f.y,M=l.x-f.x,O=b.y-h.y,q=b.x-h.x,J=O*M-q*T;if(J===0)return null;const ot=(q*(f.y-h.y)-O*(f.x-h.x))/J;return new P(f.x+ot*M,f.y+ot*T)},c.ax=m1,c.ay=k0,c.az=function(f){let l=1/0,h=1/0,b=-1/0,T=-1/0;for(const M of f)l=Math.min(l,M.x),h=Math.min(h,M.y),b=Math.max(b,M.x),T=Math.max(T,M.y);return[l,h,b,T]},c.b=ir,c.b$=Y0,c.b0=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]},c.b1=nb,c.b2=Kp,c.b3=function(f,l,h,b,T){var M,O=1/Math.tan(l/2);return f[0]=O/h,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=O,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,T!=null&&T!==1/0?(f[10]=(T+b)*(M=1/(b-T)),f[14]=2*T*b*M):(f[10]=-1,f[14]=-2*b),f},c.b4=function(f){var l=new Y(16);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],l[9]=f[9],l[10]=f[10],l[11]=f[11],l[12]=f[12],l[13]=f[13],l[14]=f[14],l[15]=f[15],l},c.b5=function(f,l,h){var b=Math.sin(h),T=Math.cos(h),M=l[0],O=l[1],q=l[2],J=l[3],ot=l[4],ft=l[5],Et=l[6],$t=l[7];return l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=M*T+ot*b,f[1]=O*T+ft*b,f[2]=q*T+Et*b,f[3]=J*T+$t*b,f[4]=ot*T-M*b,f[5]=ft*T-O*b,f[6]=Et*T-q*b,f[7]=$t*T-J*b,f},c.b6=function(f,l,h){var b=Math.sin(h),T=Math.cos(h),M=l[4],O=l[5],q=l[6],J=l[7],ot=l[8],ft=l[9],Et=l[10],$t=l[11];return l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[4]=M*T+ot*b,f[5]=O*T+ft*b,f[6]=q*T+Et*b,f[7]=J*T+$t*b,f[8]=ot*T-M*b,f[9]=ft*T-O*b,f[10]=Et*T-q*b,f[11]=$t*T-J*b,f},c.b7=function(){const f=new Float32Array(16);return st(f),f},c.b8=function(){const f=new Float64Array(16);return st(f),f},c.b9=function(){return new Float64Array(16)},c.bA=function(f){return f[0]=0,f[1]=0,f[2]=0,f},c.bB=function(f,l,h,b){const T=Math.sqrt(f*f+l*l),M=Math.sqrt(h*h+b*b);f/=T,l/=T,h/=M,b/=M;const O=Math.acos(f*h+l*b);return-l*h+f*b>0?O:-O},c.bC=function(f,l){const h=kt(f,2*Math.PI),b=kt(l,2*Math.PI);return Math.min(Math.abs(h-b),Math.abs(h-b+2*Math.PI),Math.abs(h-b-2*Math.PI))},c.bD=function(){const f={},l=Oe.$version;for(const h in Oe.$root){const b=Oe.$root[h];if(b.required){let T=null;T=h==="version"?l:b.type==="array"?[]:{},T!=null&&(f[h]=T)}}return f},c.bE=Er,c.bF=ye,c.bG=function f(l,h){if(Array.isArray(l)){if(!Array.isArray(h)||l.length!==h.length)return!1;for(let b=0;b<l.length;b++)if(!f(l[b],h[b]))return!1;return!0}if(typeof l=="object"&&l!==null&&h!==null){if(typeof h!="object"||Object.keys(l).length!==Object.keys(h).length)return!1;for(const b in l)if(!f(l[b],h[b]))return!1;return!0}return l===h},c.bH=function(f){f=f.slice();const l=Object.create(null);for(let h=0;h<f.length;h++)l[f[h].id]=f[h];for(let h=0;h<f.length;h++)"ref"in f[h]&&(f[h]=or(f[h],l[f[h].ref]));return f},c.bI=function(f){if(f.type==="custom")return new ak(f);switch(f.type){case"background":return new qS(f);case"circle":return new _S(f);case"color-relief":return new SS(f);case"fill":return new V0(f);case"fill-extrusion":return new qo(f);case"heatmap":return new xS(f);case"hillshade":return new $x(f);case"line":return new rv(f);case"raster":return new HS(f);case"symbol":return new Uh(f)}},c.bJ=Jt,c.bK=function(f,l){if(!f)return[{command:"setStyle",args:[l]}];let h=[];try{if(!bn(f.version,l.version))return[{command:"setStyle",args:[l]}];bn(f.center,l.center)||h.push({command:"setCenter",args:[l.center]}),bn(f.state,l.state)||h.push({command:"setGlobalState",args:[l.state]}),bn(f.centerAltitude,l.centerAltitude)||h.push({command:"setCenterAltitude",args:[l.centerAltitude]}),bn(f.zoom,l.zoom)||h.push({command:"setZoom",args:[l.zoom]}),bn(f.bearing,l.bearing)||h.push({command:"setBearing",args:[l.bearing]}),bn(f.pitch,l.pitch)||h.push({command:"setPitch",args:[l.pitch]}),bn(f.roll,l.roll)||h.push({command:"setRoll",args:[l.roll]}),bn(f.sprite,l.sprite)||h.push({command:"setSprite",args:[l.sprite]}),bn(f.glyphs,l.glyphs)||h.push({command:"setGlyphs",args:[l.glyphs]}),bn(f.transition,l.transition)||h.push({command:"setTransition",args:[l.transition]}),bn(f.light,l.light)||h.push({command:"setLight",args:[l.light]}),bn(f.terrain,l.terrain)||h.push({command:"setTerrain",args:[l.terrain]}),bn(f.sky,l.sky)||h.push({command:"setSky",args:[l.sky]}),bn(f.projection,l.projection)||h.push({command:"setProjection",args:[l.projection]});const b={},T=[];(function(O,q,J,ot){let ft;for(ft in q=q||{},O=O||{})Object.prototype.hasOwnProperty.call(O,ft)&&(Object.prototype.hasOwnProperty.call(q,ft)||Pt(ft,J,ot));for(ft in q)Object.prototype.hasOwnProperty.call(q,ft)&&(Object.prototype.hasOwnProperty.call(O,ft)?bn(O[ft],q[ft])||(O[ft].type==="geojson"&&q[ft].type==="geojson"&&be(O,q,ft)?Kr(J,{command:"setGeoJSONSourceData",args:[ft,q[ft].data]}):Xt(ft,q,J,ot)):Zn(ft,q,J))})(f.sources,l.sources,T,b);const M=[];f.layers&&f.layers.forEach((O=>{"source"in O&&b[O.source]?h.push({command:"removeLayer",args:[O.id]}):M.push(O)})),h=h.concat(T),(function(O,q,J){q=q||[];const ot=(O=O||[]).map(Lr),ft=q.map(Lr),Et=O.reduce(vn,{}),$t=q.reduce(vn,{}),Gt=ot.slice(),Wt=Object.create(null);let te,he,Ee,Je,De;for(let qt=0,le=0;qt<ot.length;qt++)te=ot[qt],Object.prototype.hasOwnProperty.call($t,te)?le++:(Kr(J,{command:"removeLayer",args:[te]}),Gt.splice(Gt.indexOf(te,le),1));for(let qt=0,le=0;qt<ft.length;qt++)te=ft[ft.length-1-qt],Gt[Gt.length-1-qt]!==te&&(Object.prototype.hasOwnProperty.call(Et,te)?(Kr(J,{command:"removeLayer",args:[te]}),Gt.splice(Gt.lastIndexOf(te,Gt.length-le),1)):le++,Je=Gt[Gt.length-qt],Kr(J,{command:"addLayer",args:[$t[te],Je]}),Gt.splice(Gt.length-qt,0,te),Wt[te]=!0);for(let qt=0;qt<ft.length;qt++)if(te=ft[qt],he=Et[te],Ee=$t[te],!Wt[te]&&!bn(he,Ee))if(bn(he.source,Ee.source)&&bn(he["source-layer"],Ee["source-layer"])&&bn(he.type,Ee.type)){for(De in ze(he.layout,Ee.layout,J,te,null,"setLayoutProperty"),ze(he.paint,Ee.paint,J,te,null,"setPaintProperty"),bn(he.filter,Ee.filter)||Kr(J,{command:"setFilter",args:[te,Ee.filter]}),bn(he.minzoom,Ee.minzoom)&&bn(he.maxzoom,Ee.maxzoom)||Kr(J,{command:"setLayerZoomRange",args:[te,Ee.minzoom,Ee.maxzoom]}),he)Object.prototype.hasOwnProperty.call(he,De)&&De!=="layout"&&De!=="paint"&&De!=="filter"&&De!=="metadata"&&De!=="minzoom"&&De!=="maxzoom"&&(De.indexOf("paint.")===0?ze(he[De],Ee[De],J,te,De.slice(6),"setPaintProperty"):bn(he[De],Ee[De])||Kr(J,{command:"setLayerProperty",args:[te,De,Ee[De]]}));for(De in Ee)Object.prototype.hasOwnProperty.call(Ee,De)&&!Object.prototype.hasOwnProperty.call(he,De)&&De!=="layout"&&De!=="paint"&&De!=="filter"&&De!=="metadata"&&De!=="minzoom"&&De!=="maxzoom"&&(De.indexOf("paint.")===0?ze(he[De],Ee[De],J,te,De.slice(6),"setPaintProperty"):bn(he[De],Ee[De])||Kr(J,{command:"setLayerProperty",args:[te,De,Ee[De]]}))}else Kr(J,{command:"removeLayer",args:[te]}),Je=Gt[Gt.lastIndexOf(te)+1],Kr(J,{command:"addLayer",args:[Ee,Je]})})(M,l.layers,h)}catch(b){console.warn("Unable to compute style diff:",b),h=[{command:"setStyle",args:[l]}]}return h},c.bL=function(f){const l=[],h=f.id;return h===void 0&&l.push({message:`layers.${h}: missing required property "id"`}),f.render===void 0&&l.push({message:`layers.${h}: missing required method "render"`}),f.renderingMode&&f.renderingMode!=="2d"&&f.renderingMode!=="3d"&&l.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),l},c.bM=He,c.bN=ke,c.bO=class extends rs{constructor(f,l){super(f,l),this.current=0}set(f){this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}},c.bP=C0,c.bQ=class extends rs{constructor(f,l){super(f,l),this.current=Vy}set(f){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let l=1;l<16;l++)if(f[l]!==this.current[l]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}},c.bR=tc,c.bS=class extends rs{constructor(f,l){super(f,l),this.current=[0,0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2]))}},c.bT=class extends rs{constructor(f,l){super(f,l),this.current=[0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1]))}},c.bU=et,c.bV=function(f,l){var h=Math.sin(l),b=Math.cos(l);return f[0]=b,f[1]=h,f[2]=0,f[3]=-h,f[4]=b,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},c.bW=function(f,l,h){var b=l[0],T=l[1],M=l[2];return f[0]=b*h[0]+T*h[3]+M*h[6],f[1]=b*h[1]+T*h[4]+M*h[7],f[2]=b*h[2]+T*h[5]+M*h[8],f},c.bX=function(f,l,h,b,T,M,O){var q=1/(l-h),J=1/(b-T),ot=1/(M-O);return f[0]=-2*q,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*J,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*ot,f[11]=0,f[12]=(l+h)*q,f[13]=(T+b)*J,f[14]=(O+M)*ot,f[15]=1,f},c.bY=class extends rs{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(4*f.length);for(let h=0;h<f.length;h++)l[4*h]=f[h].r,l[4*h+1]=f[h].g,l[4*h+2]=f[h].b,l[4*h+3]=f[h].a;this.gl.uniform4fv(this.location,l)}}},c.bZ=class extends rs{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(f);this.gl.uniform1fv(this.location,l)}}},c.b_=class extends _{},c.ba=function(f,l,h){const b=new Float64Array(4);return Lt(b,f,l-90,h),b},c.bb=function(f,l,h,b){var T,M,O,q,J,ot=l[0],ft=l[1],Et=l[2],$t=l[3],Gt=h[0],Wt=h[1],te=h[2],he=h[3];return(M=ot*Gt+ft*Wt+Et*te+$t*he)<0&&(M=-M,Gt=-Gt,Wt=-Wt,te=-te,he=-he),1-M>X?(T=Math.acos(M),O=Math.sin(T),q=Math.sin((1-b)*T)/O,J=Math.sin(b*T)/O):(q=1-b,J=b),f[0]=q*ot+J*Gt,f[1]=q*ft+J*Wt,f[2]=q*Et+J*te,f[3]=q*$t+J*he,f},c.bc=function(f){const l=new Float64Array(9);var h,b,T,M,O,q,J,ot,ft,Et,$t,Gt,Wt,te,he,Ee,Je,De;Et=(T=(b=f)[0])*(J=T+T),$t=(M=b[1])*J,Wt=(O=b[2])*J,te=O*(ot=M+M),Ee=(q=b[3])*J,Je=q*ot,De=q*(ft=O+O),(h=l)[0]=1-(Gt=M*ot)-(he=O*ft),h[3]=$t-De,h[6]=Wt+Je,h[1]=$t+De,h[4]=1-Et-he,h[7]=te-Ee,h[2]=Wt-Je,h[5]=te+Ee,h[8]=1-Et-Gt;const qt=er(-Math.asin(ce(l[2],-1,1)));let le,$e;return Math.hypot(l[5],l[8])<.001?(le=0,$e=-er(Math.atan2(l[3],l[4]))):(le=er(l[5]===0&&l[8]===0?0:Math.atan2(l[5],l[8])),$e=er(l[1]===0&&l[0]===0?0:Math.atan2(l[1],l[0]))),{roll:le,pitch:qt+90,bearing:$e}},c.bd=function(f,l){return f.roll==l.roll&&f.pitch==l.pitch&&f.bearing==l.bearing},c.be=Nn,c.bf=cu,c.bg=Hm,c.bh=ec,c.bi=ul,c.bj=Rt,c.bk=Ut,c.bl=pi,c.bm=function(f,l,h,b,T){return Rt(b,T,ce((f-l)/(h-l),0,1))},c.bn=kt,c.bo=function(){return new Float64Array(3)},c.bp=function(f,l,h,b){return f[0]=l[0]+h[0]*b,f[1]=l[1]+h[1]*b,f[2]=l[2]+h[2]*b,f},c.bq=Lt,c.br=function(f,l,h){var b=h[0],T=h[1],M=h[2],O=l[0],q=l[1],J=l[2],ot=T*J-M*q,ft=M*O-b*J,Et=b*q-T*O,$t=T*Et-M*ft,Gt=M*ot-b*Et,Wt=b*ft-T*ot,te=2*h[3];return ft*=te,Et*=te,Gt*=2,Wt*=2,f[0]=O+(ot*=te)+($t*=2),f[1]=q+ft+Gt,f[2]=J+Et+Wt,f},c.bs=function(f,l,h){const b=(T=[f[0],f[1],f[2],l[0],l[1],l[2],h[0],h[1],h[2]])[0]*((ft=T[8])*(O=T[4])-(q=T[5])*(ot=T[7]))+T[1]*(-ft*(M=T[3])+q*(J=T[6]))+T[2]*(ot*M-O*J);var T,M,O,q,J,ot,ft;if(b===0)return null;const Et=mt([],[l[0],l[1],l[2]],[h[0],h[1],h[2]]),$t=mt([],[h[0],h[1],h[2]],[f[0],f[1],f[2]]),Gt=mt([],[f[0],f[1],f[2]],[l[0],l[1],l[2]]),Wt=dt([],Et,-f[3]);return V(Wt,Wt,dt([],$t,-l[3])),V(Wt,Wt,dt([],Gt,-h[3])),dt(Wt,Wt,1/b),Wt},c.bt=J0,c.bu=function(){return new Float64Array(4)},c.bv=function(f,l,h,b){var T=[],M=[];return T[0]=l[0]-h[0],T[1]=l[1]-h[1],T[2]=l[2]-h[2],M[0]=T[0]*Math.cos(b)-T[1]*Math.sin(b),M[1]=T[0]*Math.sin(b)+T[1]*Math.cos(b),M[2]=T[2],f[0]=M[0]+h[0],f[1]=M[1]+h[1],f[2]=M[2]+h[2],f},c.bw=function(f,l,h,b){var T=[],M=[];return T[0]=l[0]-h[0],T[1]=l[1]-h[1],T[2]=l[2]-h[2],M[0]=T[0],M[1]=T[1]*Math.cos(b)-T[2]*Math.sin(b),M[2]=T[1]*Math.sin(b)+T[2]*Math.cos(b),f[0]=M[0]+h[0],f[1]=M[1]+h[1],f[2]=M[2]+h[2],f},c.bx=function(f,l,h,b){var T=[],M=[];return T[0]=l[0]-h[0],T[1]=l[1]-h[1],T[2]=l[2]-h[2],M[0]=T[2]*Math.sin(b)+T[0]*Math.cos(b),M[1]=T[1],M[2]=T[2]*Math.cos(b)-T[0]*Math.sin(b),f[0]=M[0]+h[0],f[1]=M[1]+h[1],f[2]=M[2]+h[2],f},c.by=function(f,l,h){var b=Math.sin(h),T=Math.cos(h),M=l[0],O=l[1],q=l[2],J=l[3],ot=l[8],ft=l[9],Et=l[10],$t=l[11];return l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=M*T-ot*b,f[1]=O*T-ft*b,f[2]=q*T-Et*b,f[3]=J*T-$t*b,f[8]=M*b+ot*T,f[9]=O*b+ft*T,f[10]=q*b+Et*T,f[11]=J*b+$t*T,f},c.bz=function(f,l){const h=kt(f,360),b=kt(l,360),T=b-h,M=b>h?T-360:T+360;return Math.abs(T)<Math.abs(M)?T:M},c.c=Me,c.c0=class extends L{},c.c1=O0,c.c2=function(f){return f<=1?1:Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},c.c3=P0,c.c4=function(f,l,h){var b=l[0],T=l[1],M=l[2],O=h[3]*b+h[7]*T+h[11]*M+h[15];return f[0]=(h[0]*b+h[4]*T+h[8]*M+h[12])/(O=O||1),f[1]=(h[1]*b+h[5]*T+h[9]*M+h[13])/O,f[2]=(h[2]*b+h[6]*T+h[10]*M+h[14])/O,f},c.c5=class extends bi{},c.c6=class extends Ct{},c.c7=function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},c.c8=function(f,l){var h=f[0],b=f[1],T=f[2],M=f[3],O=f[4],q=f[5],J=f[6],ot=f[7],ft=f[8],Et=f[9],$t=f[10],Gt=f[11],Wt=f[12],te=f[13],he=f[14],Ee=f[15],Je=l[0],De=l[1],qt=l[2],le=l[3],$e=l[4],Tr=l[5],dn=l[6],jr=l[7],Gr=l[8],wn=l[9],sn=l[10],_n=l[11],Hr=l[12],qn=l[13],vi=l[14],ci=l[15];return Math.abs(h-Je)<=X*Math.max(1,Math.abs(h),Math.abs(Je))&&Math.abs(b-De)<=X*Math.max(1,Math.abs(b),Math.abs(De))&&Math.abs(T-qt)<=X*Math.max(1,Math.abs(T),Math.abs(qt))&&Math.abs(M-le)<=X*Math.max(1,Math.abs(M),Math.abs(le))&&Math.abs(O-$e)<=X*Math.max(1,Math.abs(O),Math.abs($e))&&Math.abs(q-Tr)<=X*Math.max(1,Math.abs(q),Math.abs(Tr))&&Math.abs(J-dn)<=X*Math.max(1,Math.abs(J),Math.abs(dn))&&Math.abs(ot-jr)<=X*Math.max(1,Math.abs(ot),Math.abs(jr))&&Math.abs(ft-Gr)<=X*Math.max(1,Math.abs(ft),Math.abs(Gr))&&Math.abs(Et-wn)<=X*Math.max(1,Math.abs(Et),Math.abs(wn))&&Math.abs($t-sn)<=X*Math.max(1,Math.abs($t),Math.abs(sn))&&Math.abs(Gt-_n)<=X*Math.max(1,Math.abs(Gt),Math.abs(_n))&&Math.abs(Wt-Hr)<=X*Math.max(1,Math.abs(Wt),Math.abs(Hr))&&Math.abs(te-qn)<=X*Math.max(1,Math.abs(te),Math.abs(qn))&&Math.abs(he-vi)<=X*Math.max(1,Math.abs(he),Math.abs(vi))&&Math.abs(Ee-ci)<=X*Math.max(1,Math.abs(Ee),Math.abs(ci))},c.c9=function(f,l){return f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},c.cA=function(f){delete Ft.REGISTERED_PROTOCOLS[f]},c.cB=function(f,l){const h={};for(let T=0;T<f.length;T++){const M=l&&l[f[T].id]||cs(f[T]);l&&(l[f[T].id]=M);let O=h[M];O||(O=h[M]=[]),O.push(f[T])}const b=[];for(const T in h)b.push(h[T]);return b},c.cC=Ce,c.cD=uv,c.cE=p1,c.cF=rp,c.cG=function(f){f.bucket.createArrays(),f.bucket.tilePixelRatio=lt/(512*f.bucket.overscaling),f.bucket.compareText={},f.bucket.iconsNeedLinear=!1;const l=f.bucket.layers[0],h=l.layout,b=l._unevaluatedLayout._values,T={layoutIconSize:b["icon-size"].possiblyEvaluate(new Gn(f.bucket.zoom+1),f.canonical),layoutTextSize:b["text-size"].possiblyEvaluate(new Gn(f.bucket.zoom+1),f.canonical),textMaxSize:b["text-size"].possiblyEvaluate(new Gn(18))};if(f.bucket.textSizeData.kind==="composite"){const{minZoom:ot,maxZoom:ft}=f.bucket.textSizeData;T.compositeTextSizes=[b["text-size"].possiblyEvaluate(new Gn(ot),f.canonical),b["text-size"].possiblyEvaluate(new Gn(ft),f.canonical)]}if(f.bucket.iconSizeData.kind==="composite"){const{minZoom:ot,maxZoom:ft}=f.bucket.iconSizeData;T.compositeIconSizes=[b["icon-size"].possiblyEvaluate(new Gn(ot),f.canonical),b["icon-size"].possiblyEvaluate(new Gn(ft),f.canonical)]}const M=h.get("text-line-height")*rc,O=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",q=h.get("text-keep-upright"),J=h.get("text-size");for(const ot of f.bucket.features){const ft=h.get("text-font").evaluate(ot,{},f.canonical).join(","),Et=J.evaluate(ot,{},f.canonical),$t=T.layoutTextSize.evaluate(ot,{},f.canonical),Gt=T.layoutIconSize.evaluate(ot,{},f.canonical),Wt={horizontal:{},vertical:void 0},te=ot.text;let he,Ee=[0,0];if(te){const qt=te.toString(),le=h.get("text-letter-spacing").evaluate(ot,{},f.canonical)*rc,$e=Sn(qt)?le:0,Tr=h.get("text-anchor").evaluate(ot,{},f.canonical),dn=v1(l,ot,f.canonical);if(!dn){const sn=h.get("text-radial-offset").evaluate(ot,{},f.canonical);Ee=sn?sp(Tr,[sn*rc,y1]):h.get("text-offset").evaluate(ot,{},f.canonical).map((_n=>_n*rc))}let jr=O?"center":h.get("text-justify").evaluate(ot,{},f.canonical);const Gr=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate(ot,{},f.canonical)*rc:1/0,wn=()=>{f.bucket.allowVerticalPlacement&&Qr(qt)&&(Wt.vertical=np(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,Tr,"left",$e,Ee,c.an.vertical,!0,$t,Et))};if(!O&&dn){const sn=new Set;if(jr==="auto")for(let Hr=0;Hr<dn.values.length;Hr+=2)sn.add(sb(dn.values[Hr]));else sn.add(jr);let _n=!1;for(const Hr of sn)if(!Wt.horizontal[Hr])if(_n)Wt.horizontal[Hr]=Wt.horizontal[0];else{const qn=np(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,"center",Hr,$e,Ee,c.an.horizontal,!1,$t,Et);qn&&(Wt.horizontal[Hr]=qn,_n=qn.positionedLines.length===1)}wn()}else{jr==="auto"&&(jr=sb(Tr));const sn=np(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,Tr,jr,$e,Ee,c.an.horizontal,!1,$t,Et);sn&&(Wt.horizontal[jr]=sn),wn(),Qr(qt)&&O&&q&&(Wt.vertical=np(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,Tr,jr,$e,Ee,c.an.vertical,!1,$t,Et))}}let Je=!1;if(ot.icon&&ot.icon.name){const qt=f.imageMap[ot.icon.name];qt&&(he=US(f.imagePositions[ot.icon.name],h.get("icon-offset").evaluate(ot,{},f.canonical),h.get("icon-anchor").evaluate(ot,{},f.canonical)),Je=!!qt.sdf,f.bucket.sdfIcons===void 0?f.bucket.sdfIcons=Je:f.bucket.sdfIcons!==Je&&vr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(qt.pixelRatio!==f.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(f.bucket.iconsNeedLinear=!0))}const De=r5(Wt.horizontal)||Wt.vertical;f.bucket.iconsInText=!!De&&De.iconsInText,(De||he)&&b1(f.bucket,ot,Wt,he,f.imageMap,T,$t,Gt,Ee,Je,f.canonical,f.subdivisionGranularity)}f.showCollisionBoxes&&f.bucket.generateCollisionDebugBuffers()},c.cH=wl,c.cI=$0,c.cJ=Wm,c.cK=Qf,c.cL=rh,c.cM=class{constructor(f){this._marks={start:[f.url,"start"].join("#"),end:[f.url,"end"].join("#"),measure:f.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let f=performance.getEntriesByName(this._marks.measure);return f.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),f=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),f}},c.cN=function(f,l,h,b,T){return a(this,void 0,void 0,(function*(){if(j())try{return yield Pr(f,l,h,b,T)}catch{}return(function(M,O,q,J,ot){const ft=M.width,Et=M.height;Ir&&dr||(Ir=new OffscreenCanvas(ft,Et),dr=Ir.getContext("2d",{willReadFrequently:!0})),Ir.width=ft,Ir.height=Et,dr.drawImage(M,0,0,ft,Et);const $t=dr.getImageData(O,q,J,ot);return dr.clearRect(0,0,ft,Et),$t.data})(f,l,h,b,T)}))},c.cO=Ky,c.cP=g,c.cQ=k,c.cR=Gg,c.cS=Yg,c.cT=Dh,c.cU=yo,c.ca=f=>f.type==="symbol",c.cb=f=>f.type==="circle",c.cc=f=>f.type==="heatmap",c.cd=f=>f.type==="line",c.ce=f=>f.type==="fill",c.cf=f=>f.type==="fill-extrusion",c.cg=f=>f.type==="hillshade",c.ch=f=>f.type==="color-relief",c.ci=f=>f.type==="raster",c.cj=f=>f.type==="background",c.ck=f=>f.type==="custom",c.cl=ie,c.cm=function(f,l,h){const b=_t(l.x-h.x,l.y-h.y),T=_t(f.x-h.x,f.y-h.y);var M,O;return er(Math.atan2(b[0]*T[1]-b[1]*T[0],(M=b)[0]*(O=T)[0]+M[1]*O[1]))},c.cn=Ht,c.co=function(f,l){return Ze[l]&&(f instanceof MouseEvent||f instanceof WheelEvent)},c.cp=function(f,l){return Fr[l]&&"touches"in f},c.cq=function(f){return Fr[f]||Ze[f]},c.cr=function(f,l,h){var b=l[0],T=l[1];return f[0]=h[0]*b+h[4]*T+h[12],f[1]=h[1]*b+h[5]*T+h[13],f},c.cs=function(f,l){const{x:h,y:b}=Oa.fromLngLat(l);return!(f<0||f>25||b<0||b>=1||h<0||h>=1)},c.ct=function(f,l){return f[0]=l[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=l[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=l[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f},c.cu=class extends Ao{},c.cv=uk,c.cx=function(f){return f.message===rr},c.cy=oe,c.cz=function(f,l){Ft.REGISTERED_PROTOCOLS[f]=l},c.d=Ge,c.e=Se,c.f=f=>a(void 0,void 0,void 0,(function*(){if(f.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(f)],{type:"image/png"});try{return createImageBitmap(l)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),c.g=Mt,c.h=f=>new Promise(((l,h)=>{const b=new Image;b.onload=()=>{l(b),URL.revokeObjectURL(b.src),b.onload=null,window.requestAnimationFrame((()=>{b.src=Rr}))},b.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const T=new Blob([new Uint8Array(f)],{type:"image/png"});b.src=f.byteLength?URL.createObjectURL(T):Rr})),c.i=Ie,c.j=(f,l)=>je(Se(f,{type:"json"}),l),c.k=Pe,c.l=Ke,c.m=je,c.n=(f,l)=>je(Se(f,{type:"arrayBuffer"}),l),c.o=function(f){return new rh(f).readFields(MS,[])},c.p=Jx,c.q=Wy,c.r=La,c.s=ar,c.t=ol,c.u=wr,c.v=Oe,c.w=vr,c.x=Nt,c.y=ue,c.z=yt})),i("worker",["./shared"],(function(c){class a{constructor(Ft){this.keyCache={},Ft&&this.replace(Ft)}replace(Ft){this._layerConfigs={},this._layers={},this.update(Ft,[])}update(Ft,Mt){for(const oe of Ft){this._layerConfigs[oe.id]=oe;const ye=this._layers[oe.id]=c.bI(oe);ye._featureFilter=c.a9(ye.filter),this.keyCache[oe.id]&&delete this.keyCache[oe.id]}for(const oe of Mt)delete this.keyCache[oe],delete this._layerConfigs[oe],delete this._layers[oe];this.familiesBySource={};const Bt=c.cB(Object.values(this._layerConfigs),this.keyCache);for(const oe of Bt){const ye=oe.map((Pe=>this._layers[Pe.id])),je=ye[0];if(je.visibility==="none")continue;const Ge=je.source||"";let Ue=this.familiesBySource[Ge];Ue||(Ue=this.familiesBySource[Ge]={});const fr=je.sourceLayer||"_geojsonTileLayer";let Ke=Ue[fr];Ke||(Ke=Ue[fr]=[]),Ke.push(ye)}}}class g{constructor(Ft){const Mt={},Bt=[];for(const Ge in Ft){const Ue=Ft[Ge],fr=Mt[Ge]={};for(const Ke in Ue){const Pe=Ue[+Ke];if(!Pe||Pe.bitmap.width===0||Pe.bitmap.height===0)continue;const ur={x:0,y:0,w:Pe.bitmap.width+2,h:Pe.bitmap.height+2};Bt.push(ur),fr[Ke]={rect:ur,metrics:Pe.metrics}}}const{w:oe,h:ye}=c.p(Bt),je=new c.q({width:oe||1,height:ye||1});for(const Ge in Ft){const Ue=Ft[Ge];for(const fr in Ue){const Ke=Ue[+fr];if(!Ke||Ke.bitmap.width===0||Ke.bitmap.height===0)continue;const Pe=Mt[Ge][fr].rect;c.q.copy(Ke.bitmap,je,{x:0,y:0},{x:Pe.x+1,y:Pe.y+1},Ke.bitmap)}}this.image=je,this.positions=Mt}}c.cC("GlyphAtlas",g);class v{constructor(Ft){this.tileID=new c.Z(Ft.tileID.overscaledZ,Ft.tileID.wrap,Ft.tileID.canonical.z,Ft.tileID.canonical.x,Ft.tileID.canonical.y),this.uid=Ft.uid,this.zoom=Ft.zoom,this.pixelRatio=Ft.pixelRatio,this.tileSize=Ft.tileSize,this.source=Ft.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ft.showCollisionBoxes,this.collectResourceTiming=!!Ft.collectResourceTiming,this.returnDependencies=!!Ft.returnDependencies,this.promoteId=Ft.promoteId,this.inFlightDependencies=[],this.globalState=Ft.globalState}parse(Ft,Mt,Bt,oe,ye){return c._(this,void 0,void 0,(function*(){this.status="parsing",this.data=Ft,this.collisionBoxArray=new c.a7;const je=new c.cD(Object.keys(Ft.layers).sort()),Ge=new c.cE(this.tileID,this.promoteId);Ge.bucketLayerIDs=[];const Ue={},fr={featureIndex:Ge,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Bt,subdivisionGranularity:ye},Ke=Mt.familiesBySource[this.source];for(const ze in Ke){const Lr=Ft.layers[ze];if(!Lr)continue;Lr.version===1&&c.w(`Vector tile source "${this.source}" layer "${ze}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const vn=je.encode(ze),Vr=[];for(let fi=0;fi<Lr.length;fi++){const On=Lr.feature(fi),li=Ge.getId(On,ze);Vr.push({feature:On,id:li,index:fi,sourceLayerIndex:vn})}for(const fi of Ke[ze]){const On=fi[0];On.source!==this.source&&c.w(`layer.source = ${On.source} does not equal this.source = ${this.source}`),On.minzoom&&this.zoom<Math.floor(On.minzoom)||On.maxzoom&&this.zoom>=On.maxzoom||On.visibility!=="none"&&(x(fi,this.zoom,Bt),(Ue[On.id]=On.createBucket({index:Ge.bucketLayerIDs.length,layers:fi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:vn,sourceID:this.source,globalState:this.globalState})).populate(Vr,fr,this.tileID.canonical),Ge.bucketLayerIDs.push(fi.map((li=>li.id))))}}const Pe=c.bM(fr.glyphDependencies,(ze=>Object.keys(ze).map(Number)));this.inFlightDependencies.forEach((ze=>ze?.abort())),this.inFlightDependencies=[];let ur=Promise.resolve({});if(Object.keys(Pe).length){const ze=new AbortController;this.inFlightDependencies.push(ze),ur=oe.sendAsync({type:"GG",data:{stacks:Pe,source:this.source,tileID:this.tileID,type:"glyphs"}},ze)}const Oe=Object.keys(fr.iconDependencies);let Wr=Promise.resolve({});if(Oe.length){const ze=new AbortController;this.inFlightDependencies.push(ze),Wr=oe.sendAsync({type:"GI",data:{icons:Oe,source:this.source,tileID:this.tileID,type:"icons"}},ze)}const or=Object.keys(fr.patternDependencies);let bn=Promise.resolve({});if(or.length){const ze=new AbortController;this.inFlightDependencies.push(ze),bn=oe.sendAsync({type:"GI",data:{icons:or,source:this.source,tileID:this.tileID,type:"patterns"}},ze)}const[Kr,Zn,Pt]=yield Promise.all([ur,Wr,bn]),Xt=new g(Kr),be=new c.cF(Zn,Pt);for(const ze in Ue){const Lr=Ue[ze];Lr instanceof c.a8?(x(Lr.layers,this.zoom,Bt),c.cG({bucket:Lr,glyphMap:Kr,glyphPositions:Xt.positions,imageMap:Zn,imagePositions:be.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:fr.subdivisionGranularity})):Lr.hasPattern&&(Lr instanceof c.cH||Lr instanceof c.cI||Lr instanceof c.cJ)&&(x(Lr.layers,this.zoom,Bt),Lr.addFeatures(fr,this.tileID.canonical,be.patternPositions))}return this.status="done",{buckets:Object.values(Ue).filter((ze=>!ze.isEmpty())),featureIndex:Ge,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Xt.image,imageAtlas:be,glyphMap:this.returnDependencies?Kr:null,iconMap:this.returnDependencies?Zn:null,glyphPositions:this.returnDependencies?Xt.positions:null}}))}}function x(Me,Ft,Mt){const Bt=new c.F(Ft);for(const oe of Me)oe.recalculate(Bt,Mt)}class k{constructor(Ft,Mt,Bt){this.actor=Ft,this.layerIndex=Mt,this.availableImages=Bt,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(Ft,Mt){return c._(this,void 0,void 0,(function*(){const Bt=yield c.n(Ft.request,Mt);try{return{vectorTile:new c.cK.VectorTile(new c.cL(Bt.data)),rawData:Bt.data,cacheControl:Bt.cacheControl,expires:Bt.expires}}catch(oe){const ye=new Uint8Array(Bt.data);let je=`Unable to parse the tile at ${Ft.request.url}, `;throw je+=ye[0]===31&&ye[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${oe.message}`,new Error(je)}}))}loadTile(Ft){return c._(this,void 0,void 0,(function*(){const Mt=Ft.uid,Bt=!!(Ft&&Ft.request&&Ft.request.collectResourceTiming)&&new c.cM(Ft.request),oe=new v(Ft);this.loading[Mt]=oe;const ye=new AbortController;oe.abort=ye;try{const je=yield this.loadVectorTile(Ft,ye);if(delete this.loading[Mt],!je)return null;const Ge=je.rawData,Ue={};je.expires&&(Ue.expires=je.expires),je.cacheControl&&(Ue.cacheControl=je.cacheControl);const fr={};if(Bt){const Pe=Bt.finish();Pe&&(fr.resourceTiming=JSON.parse(JSON.stringify(Pe)))}oe.vectorTile=je.vectorTile;const Ke=oe.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,Ft.subdivisionGranularity);this.loaded[Mt]=oe,this.fetching[Mt]={rawTileData:Ge,cacheControl:Ue,resourceTiming:fr};try{const Pe=yield Ke;return c.e({rawTileData:Ge.slice(0)},Pe,Ue,fr)}finally{delete this.fetching[Mt]}}catch(je){throw delete this.loading[Mt],oe.status="done",this.loaded[Mt]=oe,je}}))}reloadTile(Ft){return c._(this,void 0,void 0,(function*(){const Mt=Ft.uid;if(!this.loaded||!this.loaded[Mt])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Bt=this.loaded[Mt];if(Bt.showCollisionBoxes=Ft.showCollisionBoxes,Bt.globalState=Ft.globalState,Bt.status==="parsing"){const oe=yield Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Ft.subdivisionGranularity);let ye;if(this.fetching[Mt]){const{rawTileData:je,cacheControl:Ge,resourceTiming:Ue}=this.fetching[Mt];delete this.fetching[Mt],ye=c.e({rawTileData:je.slice(0)},oe,Ge,Ue)}else ye=oe;return ye}if(Bt.status==="done"&&Bt.vectorTile)return Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Ft.subdivisionGranularity)}))}abortTile(Ft){return c._(this,void 0,void 0,(function*(){const Mt=this.loading,Bt=Ft.uid;Mt&&Mt[Bt]&&Mt[Bt].abort&&(Mt[Bt].abort.abort(),delete Mt[Bt])}))}removeTile(Ft){return c._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[Ft.uid]&&delete this.loaded[Ft.uid]}))}}class I{constructor(){this.loaded={}}loadTile(Ft){return c._(this,void 0,void 0,(function*(){const{uid:Mt,encoding:Bt,rawImageData:oe,redFactor:ye,greenFactor:je,blueFactor:Ge,baseShift:Ue}=Ft,fr=oe.width+2,Ke=oe.height+2,Pe=c.b(oe)?new c.R({width:fr,height:Ke},yield c.cN(oe,-1,-1,fr,Ke)):oe,ur=new c.cO(Mt,Pe,Bt,ye,je,Ge,Ue);return this.loaded=this.loaded||{},this.loaded[Mt]=ur,ur}))}removeTile(Ft){const Mt=this.loaded,Bt=Ft.uid;Mt&&Mt[Bt]&&delete Mt[Bt]}}var S,P,D=(function(){if(P)return S;function Me(Mt,Bt){if(Mt.length!==0){Ft(Mt[0],Bt);for(var oe=1;oe<Mt.length;oe++)Ft(Mt[oe],!Bt)}}function Ft(Mt,Bt){for(var oe=0,ye=0,je=0,Ge=Mt.length,Ue=Ge-1;je<Ge;Ue=je++){var fr=(Mt[je][0]-Mt[Ue][0])*(Mt[Ue][1]+Mt[je][1]),Ke=oe+fr;ye+=Math.abs(oe)>=Math.abs(fr)?oe-Ke+fr:fr-Ke+oe,oe=Ke}oe+ye>=0!=!!Bt&&Mt.reverse()}return P=1,S=function Mt(Bt,oe){var ye,je=Bt&&Bt.type;if(je==="FeatureCollection")for(ye=0;ye<Bt.features.length;ye++)Mt(Bt.features[ye],oe);else if(je==="GeometryCollection")for(ye=0;ye<Bt.geometries.length;ye++)Mt(Bt.geometries[ye],oe);else if(je==="Feature")Mt(Bt.geometry,oe);else if(je==="Polygon")Me(Bt.coordinates,oe);else if(je==="MultiPolygon")for(ye=0;ye<Bt.coordinates.length;ye++)Me(Bt.coordinates[ye],oe);return Bt}})(),U=c.cP(D);const H=c.cK.VectorTileFeature.prototype.toGeoJSON;class G{constructor(Ft){this._feature=Ft,this.extent=c.$,this.type=Ft.type,this.properties=Ft.tags,"id"in Ft&&!isNaN(Ft.id)&&(this.id=parseInt(Ft.id,10))}loadGeometry(){if(this._feature.type===1){const Ft=[];for(const Mt of this._feature.geometry)Ft.push([new c.P(Mt[0],Mt[1])]);return Ft}{const Ft=[];for(const Mt of this._feature.geometry){const Bt=[];for(const oe of Mt)Bt.push(new c.P(oe[0],oe[1]));Ft.push(Bt)}return Ft}}toGeoJSON(Ft,Mt,Bt){return H.call(this,Ft,Mt,Bt)}}class z{constructor(Ft){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.$,this.length=Ft.length,this._features=Ft}feature(Ft){return new G(this._features[Ft])}}var j,X,Y,et={exports:{}},st=(function(){if(Y)return et.exports;Y=1;var Me=c.cS(),Ft=(function(){if(X)return j;X=1;var Ke=c.cQ(),Pe=c.cR().VectorTileFeature;function ur(Wr,or){this.options=or||{},this.features=Wr,this.length=Wr.length}function Oe(Wr,or){this.id=typeof Wr.id=="number"?Wr.id:void 0,this.type=Wr.type,this.rawGeometry=Wr.type===1?[Wr.geometry]:Wr.geometry,this.properties=Wr.tags,this.extent=or||4096}return j=ur,ur.prototype.feature=function(Wr){return new Oe(this.features[Wr],this.options.extent)},Oe.prototype.loadGeometry=function(){var Wr=this.rawGeometry;this.geometry=[];for(var or=0;or<Wr.length;or++){for(var bn=Wr[or],Kr=[],Zn=0;Zn<bn.length;Zn++)Kr.push(new Ke(bn[Zn][0],bn[Zn][1]));this.geometry.push(Kr)}return this.geometry},Oe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Wr=this.geometry,or=1/0,bn=-1/0,Kr=1/0,Zn=-1/0,Pt=0;Pt<Wr.length;Pt++)for(var Xt=Wr[Pt],be=0;be<Xt.length;be++){var ze=Xt[be];or=Math.min(or,ze.x),bn=Math.max(bn,ze.x),Kr=Math.min(Kr,ze.y),Zn=Math.max(Zn,ze.y)}return[or,Kr,bn,Zn]},Oe.prototype.toGeoJSON=Pe.prototype.toGeoJSON,j})();function Mt(Ke){var Pe=new Me;return(function(ur,Oe){for(var Wr in ur.layers)Oe.writeMessage(3,Bt,ur.layers[Wr])})(Ke,Pe),Pe.finish()}function Bt(Ke,Pe){var ur;Pe.writeVarintField(15,Ke.version||1),Pe.writeStringField(1,Ke.name||""),Pe.writeVarintField(5,Ke.extent||4096);var Oe={keys:[],values:[],keycache:{},valuecache:{}};for(ur=0;ur<Ke.length;ur++)Oe.feature=Ke.feature(ur),Pe.writeMessage(2,oe,Oe);var Wr=Oe.keys;for(ur=0;ur<Wr.length;ur++)Pe.writeStringField(3,Wr[ur]);var or=Oe.values;for(ur=0;ur<or.length;ur++)Pe.writeMessage(4,fr,or[ur])}function oe(Ke,Pe){var ur=Ke.feature;ur.id!==void 0&&Pe.writeVarintField(1,ur.id),Pe.writeMessage(2,ye,Ke),Pe.writeVarintField(3,ur.type),Pe.writeMessage(4,Ue,ur)}function ye(Ke,Pe){var ur=Ke.feature,Oe=Ke.keys,Wr=Ke.values,or=Ke.keycache,bn=Ke.valuecache;for(var Kr in ur.properties){var Zn=ur.properties[Kr],Pt=or[Kr];if(Zn!==null){Pt===void 0&&(Oe.push(Kr),or[Kr]=Pt=Oe.length-1),Pe.writeVarint(Pt);var Xt=typeof Zn;Xt!=="string"&&Xt!=="boolean"&&Xt!=="number"&&(Zn=JSON.stringify(Zn));var be=Xt+":"+Zn,ze=bn[be];ze===void 0&&(Wr.push(Zn),bn[be]=ze=Wr.length-1),Pe.writeVarint(ze)}}}function je(Ke,Pe){return(Pe<<3)+(7&Ke)}function Ge(Ke){return Ke<<1^Ke>>31}function Ue(Ke,Pe){for(var ur=Ke.loadGeometry(),Oe=Ke.type,Wr=0,or=0,bn=ur.length,Kr=0;Kr<bn;Kr++){var Zn=ur[Kr],Pt=1;Oe===1&&(Pt=Zn.length),Pe.writeVarint(je(1,Pt));for(var Xt=Oe===3?Zn.length-1:Zn.length,be=0;be<Xt;be++){be===1&&Oe!==1&&Pe.writeVarint(je(2,Xt-1));var ze=Zn[be].x-Wr,Lr=Zn[be].y-or;Pe.writeVarint(Ge(ze)),Pe.writeVarint(Ge(Lr)),Wr+=ze,or+=Lr}Oe===3&&Pe.writeVarint(je(7,1))}}function fr(Ke,Pe){var ur=typeof Ke;ur==="string"?Pe.writeStringField(1,Ke):ur==="boolean"?Pe.writeBooleanField(7,Ke):ur==="number"&&(Ke%1!=0?Pe.writeDoubleField(3,Ke):Ke<0?Pe.writeSVarintField(6,Ke):Pe.writeVarintField(5,Ke))}return et.exports=Mt,et.exports.fromVectorTileJs=Mt,et.exports.fromGeojsonVt=function(Ke,Pe){Pe=Pe||{};var ur={};for(var Oe in Ke)ur[Oe]=new Ft(Ke[Oe].features,Pe),ur[Oe].name=Oe,ur[Oe].version=Pe.version,ur[Oe].extent=Pe.extent;return Mt({layers:ur})},et.exports.GeoJSONWrapper=Ft,et.exports})(),it=c.cP(st);const vt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Me=>Me},at=Math.fround||(V=new Float32Array(1),Me=>(V[0]=+Me,V[0]));var V;class dt{constructor(Ft){this.options=Object.assign(Object.create(vt),Ft),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Ft){const{log:Mt,minZoom:Bt,maxZoom:oe}=this.options;Mt&&console.time("total time");const ye=`prepare ${Ft.length} points`;Mt&&console.time(ye),this.points=Ft;const je=[];for(let Ue=0;Ue<Ft.length;Ue++){const fr=Ft[Ue];if(!fr.geometry)continue;const[Ke,Pe]=fr.geometry.coordinates,ur=at(pt(Ke)),Oe=at(At(Pe));je.push(ur,Oe,1/0,Ue,-1,1),this.options.reduce&&je.push(0)}let Ge=this.trees[oe+1]=this._createTree(je);Mt&&console.timeEnd(ye);for(let Ue=oe;Ue>=Bt;Ue--){const fr=+Date.now();Ge=this.trees[Ue]=this._createTree(this._cluster(Ge,Ue)),Mt&&console.log("z%d: %d clusters in %dms",Ue,Ge.numItems,+Date.now()-fr)}return Mt&&console.timeEnd("total time"),this}getClusters(Ft,Mt){let Bt=((Ft[0]+180)%360+360)%360-180;const oe=Math.max(-90,Math.min(90,Ft[1]));let ye=Ft[2]===180?180:((Ft[2]+180)%360+360)%360-180;const je=Math.max(-90,Math.min(90,Ft[3]));if(Ft[2]-Ft[0]>=360)Bt=-180,ye=180;else if(Bt>ye){const Pe=this.getClusters([Bt,oe,180,je],Mt),ur=this.getClusters([-180,oe,ye,je],Mt);return Pe.concat(ur)}const Ge=this.trees[this._limitZoom(Mt)],Ue=Ge.range(pt(Bt),At(je),pt(ye),At(oe)),fr=Ge.data,Ke=[];for(const Pe of Ue){const ur=this.stride*Pe;Ke.push(fr[ur+5]>1?mt(fr,ur,this.clusterProps):this.points[fr[ur+3]])}return Ke}getChildren(Ft){const Mt=this._getOriginId(Ft),Bt=this._getOriginZoom(Ft),oe="No cluster with the specified id.",ye=this.trees[Bt];if(!ye)throw new Error(oe);const je=ye.data;if(Mt*this.stride>=je.length)throw new Error(oe);const Ge=this.options.radius/(this.options.extent*Math.pow(2,Bt-1)),Ue=ye.within(je[Mt*this.stride],je[Mt*this.stride+1],Ge),fr=[];for(const Ke of Ue){const Pe=Ke*this.stride;je[Pe+4]===Ft&&fr.push(je[Pe+5]>1?mt(je,Pe,this.clusterProps):this.points[je[Pe+3]])}if(fr.length===0)throw new Error(oe);return fr}getLeaves(Ft,Mt,Bt){const oe=[];return this._appendLeaves(oe,Ft,Mt=Mt||10,Bt=Bt||0,0),oe}getTile(Ft,Mt,Bt){const oe=this.trees[this._limitZoom(Ft)],ye=Math.pow(2,Ft),{extent:je,radius:Ge}=this.options,Ue=Ge/je,fr=(Bt-Ue)/ye,Ke=(Bt+1+Ue)/ye,Pe={features:[]};return this._addTileFeatures(oe.range((Mt-Ue)/ye,fr,(Mt+1+Ue)/ye,Ke),oe.data,Mt,Bt,ye,Pe),Mt===0&&this._addTileFeatures(oe.range(1-Ue/ye,fr,1,Ke),oe.data,ye,Bt,ye,Pe),Mt===ye-1&&this._addTileFeatures(oe.range(0,fr,Ue/ye,Ke),oe.data,-1,Bt,ye,Pe),Pe.features.length?Pe:null}getClusterExpansionZoom(Ft){let Mt=this._getOriginZoom(Ft)-1;for(;Mt<=this.options.maxZoom;){const Bt=this.getChildren(Ft);if(Mt++,Bt.length!==1)break;Ft=Bt[0].properties.cluster_id}return Mt}_appendLeaves(Ft,Mt,Bt,oe,ye){const je=this.getChildren(Mt);for(const Ge of je){const Ue=Ge.properties;if(Ue&&Ue.cluster?ye+Ue.point_count<=oe?ye+=Ue.point_count:ye=this._appendLeaves(Ft,Ue.cluster_id,Bt,oe,ye):ye<oe?ye++:Ft.push(Ge),Ft.length===Bt)break}return ye}_createTree(Ft){const Mt=new c.aH(Ft.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Bt=0;Bt<Ft.length;Bt+=this.stride)Mt.add(Ft[Bt],Ft[Bt+1]);return Mt.finish(),Mt.data=Ft,Mt}_addTileFeatures(Ft,Mt,Bt,oe,ye,je){for(const Ge of Ft){const Ue=Ge*this.stride,fr=Mt[Ue+5]>1;let Ke,Pe,ur;if(fr)Ke=wt(Mt,Ue,this.clusterProps),Pe=Mt[Ue],ur=Mt[Ue+1];else{const or=this.points[Mt[Ue+3]];Ke=or.properties;const[bn,Kr]=or.geometry.coordinates;Pe=pt(bn),ur=At(Kr)}const Oe={type:1,geometry:[[Math.round(this.options.extent*(Pe*ye-Bt)),Math.round(this.options.extent*(ur*ye-oe))]],tags:Ke};let Wr;Wr=fr||this.options.generateId?Mt[Ue+3]:this.points[Mt[Ue+3]].id,Wr!==void 0&&(Oe.id=Wr),je.features.push(Oe)}}_limitZoom(Ft){return Math.max(this.options.minZoom,Math.min(Math.floor(+Ft),this.options.maxZoom+1))}_cluster(Ft,Mt){const{radius:Bt,extent:oe,reduce:ye,minPoints:je}=this.options,Ge=Bt/(oe*Math.pow(2,Mt)),Ue=Ft.data,fr=[],Ke=this.stride;for(let Pe=0;Pe<Ue.length;Pe+=Ke){if(Ue[Pe+2]<=Mt)continue;Ue[Pe+2]=Mt;const ur=Ue[Pe],Oe=Ue[Pe+1],Wr=Ft.within(Ue[Pe],Ue[Pe+1],Ge),or=Ue[Pe+5];let bn=or;for(const Kr of Wr){const Zn=Kr*Ke;Ue[Zn+2]>Mt&&(bn+=Ue[Zn+5])}if(bn>or&&bn>=je){let Kr,Zn=ur*or,Pt=Oe*or,Xt=-1;const be=(Pe/Ke<<5)+(Mt+1)+this.points.length;for(const ze of Wr){const Lr=ze*Ke;if(Ue[Lr+2]<=Mt)continue;Ue[Lr+2]=Mt;const vn=Ue[Lr+5];Zn+=Ue[Lr]*vn,Pt+=Ue[Lr+1]*vn,Ue[Lr+4]=be,ye&&(Kr||(Kr=this._map(Ue,Pe,!0),Xt=this.clusterProps.length,this.clusterProps.push(Kr)),ye(Kr,this._map(Ue,Lr)))}Ue[Pe+4]=be,fr.push(Zn/bn,Pt/bn,1/0,be,-1,bn),ye&&fr.push(Xt)}else{for(let Kr=0;Kr<Ke;Kr++)fr.push(Ue[Pe+Kr]);if(bn>1)for(const Kr of Wr){const Zn=Kr*Ke;if(!(Ue[Zn+2]<=Mt)){Ue[Zn+2]=Mt;for(let Pt=0;Pt<Ke;Pt++)fr.push(Ue[Zn+Pt])}}}}return fr}_getOriginId(Ft){return Ft-this.points.length>>5}_getOriginZoom(Ft){return(Ft-this.points.length)%32}_map(Ft,Mt,Bt){if(Ft[Mt+5]>1){const je=this.clusterProps[Ft[Mt+6]];return Bt?Object.assign({},je):je}const oe=this.points[Ft[Mt+3]].properties,ye=this.options.map(oe);return Bt&&ye===oe?Object.assign({},ye):ye}}function mt(Me,Ft,Mt){return{type:"Feature",id:Me[Ft+3],properties:wt(Me,Ft,Mt),geometry:{type:"Point",coordinates:[(Bt=Me[Ft],360*(Bt-.5)),St(Me[Ft+1])]}};var Bt}function wt(Me,Ft,Mt){const Bt=Me[Ft+5],oe=Bt>=1e4?`${Math.round(Bt/1e3)}k`:Bt>=1e3?Math.round(Bt/100)/10+"k":Bt,ye=Me[Ft+6],je=ye===-1?{}:Object.assign({},Mt[ye]);return Object.assign(je,{cluster:!0,cluster_id:Me[Ft+3],point_count:Bt,point_count_abbreviated:oe})}function pt(Me){return Me/360+.5}function At(Me){const Ft=Math.sin(Me*Math.PI/180),Mt=.5-.25*Math.log((1+Ft)/(1-Ft))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function St(Me){const Ft=(180-360*Me)*Math.PI/180;return 360*Math.atan(Math.exp(Ft))/Math.PI-90}function Lt(Me,Ft,Mt,Bt){let oe=Bt;const ye=Ft+(Mt-Ft>>1);let je,Ge=Mt-Ft;const Ue=Me[Ft],fr=Me[Ft+1],Ke=Me[Mt],Pe=Me[Mt+1];for(let ur=Ft+3;ur<Mt;ur+=3){const Oe=jt(Me[ur],Me[ur+1],Ue,fr,Ke,Pe);if(Oe>oe)je=ur,oe=Oe;else if(Oe===oe){const Wr=Math.abs(ur-ye);Wr<Ge&&(je=ur,Ge=Wr)}}oe>Bt&&(je-Ft>3&&Lt(Me,Ft,je,Bt),Me[je+2]=oe,Mt-je>3&&Lt(Me,je,Mt,Bt))}function jt(Me,Ft,Mt,Bt,oe,ye){let je=oe-Mt,Ge=ye-Bt;if(je!==0||Ge!==0){const Ue=((Me-Mt)*je+(Ft-Bt)*Ge)/(je*je+Ge*Ge);Ue>1?(Mt=oe,Bt=ye):Ue>0&&(Mt+=je*Ue,Bt+=Ge*Ue)}return je=Me-Mt,Ge=Ft-Bt,je*je+Ge*Ge}function _t(Me,Ft,Mt,Bt){const oe={id:Me??null,type:Ft,geometry:Mt,tags:Bt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Ft==="Point"||Ft==="MultiPoint"||Ft==="LineString")lt(oe,Mt);else if(Ft==="Polygon")lt(oe,Mt[0]);else if(Ft==="MultiLineString")for(const ye of Mt)lt(oe,ye);else if(Ft==="MultiPolygon")for(const ye of Mt)lt(oe,ye[0]);return oe}function lt(Me,Ft){for(let Mt=0;Mt<Ft.length;Mt+=3)Me.minX=Math.min(Me.minX,Ft[Mt]),Me.minY=Math.min(Me.minY,Ft[Mt+1]),Me.maxX=Math.max(Me.maxX,Ft[Mt]),Me.maxY=Math.max(Me.maxY,Ft[Mt+1])}function Tt(Me,Ft,Mt,Bt){if(!Ft.geometry)return;const oe=Ft.geometry.coordinates;if(oe&&oe.length===0)return;const ye=Ft.geometry.type,je=Math.pow(Mt.tolerance/((1<<Mt.maxZoom)*Mt.extent),2);let Ge=[],Ue=Ft.id;if(Mt.promoteId?Ue=Ft.properties[Mt.promoteId]:Mt.generateId&&(Ue=Bt||0),ye==="Point")kt(oe,Ge);else if(ye==="MultiPoint")for(const fr of oe)kt(fr,Ge);else if(ye==="LineString")Rt(oe,Ge,je,!1);else if(ye==="MultiLineString"){if(Mt.lineMetrics){for(const fr of oe)Ge=[],Rt(fr,Ge,je,!1),Me.push(_t(Ue,"LineString",Ge,Ft.properties));return}Ut(oe,Ge,je,!1)}else if(ye==="Polygon")Ut(oe,Ge,je,!0);else{if(ye!=="MultiPolygon"){if(ye==="GeometryCollection"){for(const fr of Ft.geometry.geometries)Tt(Me,{id:Ue,geometry:fr,properties:Ft.properties},Mt,Bt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const fr of oe){const Ke=[];Ut(fr,Ke,je,!0),Ge.push(Ke)}}Me.push(_t(Ue,ye,Ge,Ft.properties))}function kt(Me,Ft){Ft.push(ie(Me[0]),Ht(Me[1]),0)}function Rt(Me,Ft,Mt,Bt){let oe,ye,je=0;for(let Ue=0;Ue<Me.length;Ue++){const fr=ie(Me[Ue][0]),Ke=Ht(Me[Ue][1]);Ft.push(fr,Ke,0),Ue>0&&(je+=Bt?(oe*Ke-fr*ye)/2:Math.sqrt(Math.pow(fr-oe,2)+Math.pow(Ke-ye,2))),oe=fr,ye=Ke}const Ge=Ft.length-3;Ft[2]=1,Lt(Ft,0,Ge,Mt),Ft[Ge+2]=1,Ft.size=Math.abs(je),Ft.start=0,Ft.end=Ft.size}function Ut(Me,Ft,Mt,Bt){for(let oe=0;oe<Me.length;oe++){const ye=[];Rt(Me[oe],ye,Mt,Bt),Ft.push(ye)}}function ie(Me){return Me/360+.5}function Ht(Me){const Ft=Math.sin(Me*Math.PI/180),Mt=.5-.25*Math.log((1+Ft)/(1-Ft))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function ce(Me,Ft,Mt,Bt,oe,ye,je,Ge){if(Bt/=Ft,ye>=(Mt/=Ft)&&je<Bt)return Me;if(je<Mt||ye>=Bt)return null;const Ue=[];for(const fr of Me){const Ke=fr.geometry;let Pe=fr.type;const ur=oe===0?fr.minX:fr.minY,Oe=oe===0?fr.maxX:fr.maxY;if(ur>=Mt&&Oe<Bt){Ue.push(fr);continue}if(Oe<Mt||ur>=Bt)continue;let Wr=[];if(Pe==="Point"||Pe==="MultiPoint")de(Ke,Wr,Mt,Bt,oe);else if(Pe==="LineString")Se(Ke,Wr,Mt,Bt,oe,!1,Ge.lineMetrics);else if(Pe==="MultiLineString")He(Ke,Wr,Mt,Bt,oe,!1);else if(Pe==="Polygon")He(Ke,Wr,Mt,Bt,oe,!0);else if(Pe==="MultiPolygon")for(const or of Ke){const bn=[];He(or,bn,Mt,Bt,oe,!0),bn.length&&Wr.push(bn)}if(Wr.length){if(Ge.lineMetrics&&Pe==="LineString"){for(const or of Wr)Ue.push(_t(fr.id,Pe,or,fr.tags));continue}Pe!=="LineString"&&Pe!=="MultiLineString"||(Wr.length===1?(Pe="LineString",Wr=Wr[0]):Pe="MultiLineString"),Pe!=="Point"&&Pe!=="MultiPoint"||(Pe=Wr.length===3?"Point":"MultiPoint"),Ue.push(_t(fr.id,Pe,Wr,fr.tags))}}return Ue.length?Ue:null}function de(Me,Ft,Mt,Bt,oe){for(let ye=0;ye<Me.length;ye+=3){const je=Me[ye+oe];je>=Mt&&je<=Bt&&ke(Ft,Me[ye],Me[ye+1],Me[ye+2])}}function Se(Me,Ft,Mt,Bt,oe,ye,je){let Ge=Vt(Me);const Ue=oe===0?Jt:$r;let fr,Ke,Pe=Me.start;for(let bn=0;bn<Me.length-3;bn+=3){const Kr=Me[bn],Zn=Me[bn+1],Pt=Me[bn+2],Xt=Me[bn+3],be=Me[bn+4],ze=oe===0?Kr:Zn,Lr=oe===0?Xt:be;let vn=!1;je&&(fr=Math.sqrt(Math.pow(Kr-Xt,2)+Math.pow(Zn-be,2))),ze<Mt?Lr>Mt&&(Ke=Ue(Ge,Kr,Zn,Xt,be,Mt),je&&(Ge.start=Pe+fr*Ke)):ze>Bt?Lr<Bt&&(Ke=Ue(Ge,Kr,Zn,Xt,be,Bt),je&&(Ge.start=Pe+fr*Ke)):ke(Ge,Kr,Zn,Pt),Lr<Mt&&ze>=Mt&&(Ke=Ue(Ge,Kr,Zn,Xt,be,Mt),vn=!0),Lr>Bt&&ze<=Bt&&(Ke=Ue(Ge,Kr,Zn,Xt,be,Bt),vn=!0),!ye&&vn&&(je&&(Ge.end=Pe+fr*Ke),Ft.push(Ge),Ge=Vt(Me)),je&&(Pe+=fr)}let ur=Me.length-3;const Oe=Me[ur],Wr=Me[ur+1],or=oe===0?Oe:Wr;or>=Mt&&or<=Bt&&ke(Ge,Oe,Wr,Me[ur+2]),ur=Ge.length-3,ye&&ur>=3&&(Ge[ur]!==Ge[0]||Ge[ur+1]!==Ge[1])&&ke(Ge,Ge[0],Ge[1],Ge[2]),Ge.length&&Ft.push(Ge)}function Vt(Me){const Ft=[];return Ft.size=Me.size,Ft.start=Me.start,Ft.end=Me.end,Ft}function He(Me,Ft,Mt,Bt,oe,ye){for(const je of Me)Se(je,Ft,Mt,Bt,oe,ye,!1)}function ke(Me,Ft,Mt,Bt){Me.push(Ft,Mt,Bt)}function Jt(Me,Ft,Mt,Bt,oe,ye){const je=(ye-Ft)/(Bt-Ft);return ke(Me,ye,Mt+(oe-Mt)*je,1),je}function $r(Me,Ft,Mt,Bt,oe,ye){const je=(ye-Mt)/(oe-Mt);return ke(Me,Ft+(Bt-Ft)*je,ye,1),je}function vr(Me,Ft){const Mt=[];for(let Bt=0;Bt<Me.length;Bt++){const oe=Me[Bt],ye=oe.type;let je;if(ye==="Point"||ye==="MultiPoint"||ye==="LineString")je=Dr(oe.geometry,Ft);else if(ye==="MultiLineString"||ye==="Polygon"){je=[];for(const Ge of oe.geometry)je.push(Dr(Ge,Ft))}else if(ye==="MultiPolygon"){je=[];for(const Ge of oe.geometry){const Ue=[];for(const fr of Ge)Ue.push(Dr(fr,Ft));je.push(Ue)}}Mt.push(_t(oe.id,ye,je,oe.tags))}return Mt}function Dr(Me,Ft){const Mt=[];Mt.size=Me.size,Me.start!==void 0&&(Mt.start=Me.start,Mt.end=Me.end);for(let Bt=0;Bt<Me.length;Bt+=3)Mt.push(Me[Bt]+Ft,Me[Bt+1],Me[Bt+2]);return Mt}function Ie(Me,Ft){if(Me.transformed)return Me;const Mt=1<<Me.z,Bt=Me.x,oe=Me.y;for(const ye of Me.features){const je=ye.geometry,Ge=ye.type;if(ye.geometry=[],Ge===1)for(let Ue=0;Ue<je.length;Ue+=2)ye.geometry.push(Mr(je[Ue],je[Ue+1],Ft,Mt,Bt,oe));else for(let Ue=0;Ue<je.length;Ue++){const fr=[];for(let Ke=0;Ke<je[Ue].length;Ke+=2)fr.push(Mr(je[Ue][Ke],je[Ue][Ke+1],Ft,Mt,Bt,oe));ye.geometry.push(fr)}}return Me.transformed=!0,Me}function Mr(Me,Ft,Mt,Bt,oe,ye){return[Math.round(Mt*(Me*Bt-oe)),Math.round(Mt*(Ft*Bt-ye))]}function ir(Me,Ft,Mt,Bt,oe){const ye=Ft===oe.maxZoom?0:oe.tolerance/((1<<Ft)*oe.extent),je={features:[],numPoints:0,numSimplified:0,numFeatures:Me.length,source:null,x:Mt,y:Bt,z:Ft,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Ge of Me)Rr(je,Ge,ye,oe);return je}function Rr(Me,Ft,Mt,Bt){const oe=Ft.geometry,ye=Ft.type,je=[];if(Me.minX=Math.min(Me.minX,Ft.minX),Me.minY=Math.min(Me.minY,Ft.minY),Me.maxX=Math.max(Me.maxX,Ft.maxX),Me.maxY=Math.max(Me.maxY,Ft.maxY),ye==="Point"||ye==="MultiPoint")for(let Ge=0;Ge<oe.length;Ge+=3)je.push(oe[Ge],oe[Ge+1]),Me.numPoints++,Me.numSimplified++;else if(ye==="LineString")Pr(je,oe,Me,Mt,!1,!1);else if(ye==="MultiLineString"||ye==="Polygon")for(let Ge=0;Ge<oe.length;Ge++)Pr(je,oe[Ge],Me,Mt,ye==="Polygon",Ge===0);else if(ye==="MultiPolygon")for(let Ge=0;Ge<oe.length;Ge++){const Ue=oe[Ge];for(let fr=0;fr<Ue.length;fr++)Pr(je,Ue[fr],Me,Mt,!0,fr===0)}if(je.length){let Ge=Ft.tags||null;if(ye==="LineString"&&Bt.lineMetrics){Ge={};for(const fr in Ft.tags)Ge[fr]=Ft.tags[fr];Ge.mapbox_clip_start=oe.start/oe.size,Ge.mapbox_clip_end=oe.end/oe.size}const Ue={geometry:je,type:ye==="Polygon"||ye==="MultiPolygon"?3:ye==="LineString"||ye==="MultiLineString"?2:1,tags:Ge};Ft.id!==null&&(Ue.id=Ft.id),Me.features.push(Ue)}}function Pr(Me,Ft,Mt,Bt,oe,ye){const je=Bt*Bt;if(Bt>0&&Ft.size<(oe?je:Bt))return void(Mt.numPoints+=Ft.length/3);const Ge=[];for(let Ue=0;Ue<Ft.length;Ue+=3)(Bt===0||Ft[Ue+2]>je)&&(Mt.numSimplified++,Ge.push(Ft[Ue],Ft[Ue+1])),Mt.numPoints++;oe&&(function(Ue,fr){let Ke=0;for(let Pe=0,ur=Ue.length,Oe=ur-2;Pe<ur;Oe=Pe,Pe+=2)Ke+=(Ue[Pe]-Ue[Oe])*(Ue[Pe+1]+Ue[Oe+1]);if(Ke>0===fr)for(let Pe=0,ur=Ue.length;Pe<ur/2;Pe+=2){const Oe=Ue[Pe],Wr=Ue[Pe+1];Ue[Pe]=Ue[ur-2-Pe],Ue[Pe+1]=Ue[ur-1-Pe],Ue[ur-2-Pe]=Oe,Ue[ur-1-Pe]=Wr}})(Ge,ye),Me.push(Ge)}const Ir={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class dr{constructor(Ft,Mt){const Bt=(Mt=this.options=(function(ye,je){for(const Ge in je)ye[Ge]=je[Ge];return ye})(Object.create(Ir),Mt)).debug;if(Bt&&console.time("preprocess data"),Mt.maxZoom<0||Mt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Mt.promoteId&&Mt.generateId)throw new Error("promoteId and generateId cannot be used together.");let oe=(function(ye,je){const Ge=[];if(ye.type==="FeatureCollection")for(let Ue=0;Ue<ye.features.length;Ue++)Tt(Ge,ye.features[Ue],je,Ue);else Tt(Ge,ye.type==="Feature"?ye:{geometry:ye},je);return Ge})(Ft,Mt);this.tiles={},this.tileCoords=[],Bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Mt.indexMaxZoom,Mt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=(function(ye,je){const Ge=je.buffer/je.extent;let Ue=ye;const fr=ce(ye,1,-1-Ge,Ge,0,-1,2,je),Ke=ce(ye,1,1-Ge,2+Ge,0,-1,2,je);return(fr||Ke)&&(Ue=ce(ye,1,-Ge,1+Ge,0,-1,2,je)||[],fr&&(Ue=vr(fr,1).concat(Ue)),Ke&&(Ue=Ue.concat(vr(Ke,-1)))),Ue})(oe,Mt),oe.length&&this.splitTile(oe,0,0,0),Bt&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Ft,Mt,Bt,oe,ye,je,Ge){const Ue=[Ft,Mt,Bt,oe],fr=this.options,Ke=fr.debug;for(;Ue.length;){oe=Ue.pop(),Bt=Ue.pop(),Mt=Ue.pop(),Ft=Ue.pop();const Pe=1<<Mt,ur=ar(Mt,Bt,oe);let Oe=this.tiles[ur];if(!Oe&&(Ke>1&&console.time("creation"),Oe=this.tiles[ur]=ir(Ft,Mt,Bt,oe,fr),this.tileCoords.push({z:Mt,x:Bt,y:oe}),Ke)){Ke>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Mt,Bt,oe,Oe.numFeatures,Oe.numPoints,Oe.numSimplified),console.timeEnd("creation"));const vn=`z${Mt}`;this.stats[vn]=(this.stats[vn]||0)+1,this.total++}if(Oe.source=Ft,ye==null){if(Mt===fr.indexMaxZoom||Oe.numPoints<=fr.indexMaxPoints)continue}else{if(Mt===fr.maxZoom||Mt===ye)continue;if(ye!=null){const vn=ye-Mt;if(Bt!==je>>vn||oe!==Ge>>vn)continue}}if(Oe.source=null,Ft.length===0)continue;Ke>1&&console.time("clipping");const Wr=.5*fr.buffer/fr.extent,or=.5-Wr,bn=.5+Wr,Kr=1+Wr;let Zn=null,Pt=null,Xt=null,be=null,ze=ce(Ft,Pe,Bt-Wr,Bt+bn,0,Oe.minX,Oe.maxX,fr),Lr=ce(Ft,Pe,Bt+or,Bt+Kr,0,Oe.minX,Oe.maxX,fr);Ft=null,ze&&(Zn=ce(ze,Pe,oe-Wr,oe+bn,1,Oe.minY,Oe.maxY,fr),Pt=ce(ze,Pe,oe+or,oe+Kr,1,Oe.minY,Oe.maxY,fr),ze=null),Lr&&(Xt=ce(Lr,Pe,oe-Wr,oe+bn,1,Oe.minY,Oe.maxY,fr),be=ce(Lr,Pe,oe+or,oe+Kr,1,Oe.minY,Oe.maxY,fr),Lr=null),Ke>1&&console.timeEnd("clipping"),Ue.push(Zn||[],Mt+1,2*Bt,2*oe),Ue.push(Pt||[],Mt+1,2*Bt,2*oe+1),Ue.push(Xt||[],Mt+1,2*Bt+1,2*oe),Ue.push(be||[],Mt+1,2*Bt+1,2*oe+1)}}getTile(Ft,Mt,Bt){Ft=+Ft,Mt=+Mt,Bt=+Bt;const oe=this.options,{extent:ye,debug:je}=oe;if(Ft<0||Ft>24)return null;const Ge=1<<Ft,Ue=ar(Ft,Mt=Mt+Ge&Ge-1,Bt);if(this.tiles[Ue])return Ie(this.tiles[Ue],ye);je>1&&console.log("drilling down to z%d-%d-%d",Ft,Mt,Bt);let fr,Ke=Ft,Pe=Mt,ur=Bt;for(;!fr&&Ke>0;)Ke--,Pe>>=1,ur>>=1,fr=this.tiles[ar(Ke,Pe,ur)];return fr&&fr.source?(je>1&&(console.log("found parent tile z%d-%d-%d",Ke,Pe,ur),console.time("drilling down")),this.splitTile(fr.source,Ke,Pe,ur,Ft,Mt,Bt),je>1&&console.timeEnd("drilling down"),this.tiles[Ue]?Ie(this.tiles[Ue],ye):null):null}}function ar(Me,Ft,Mt){return 32*((1<<Me)*Mt+Ft)+Me}function Or(Me,Ft){return Ft?Me.properties[Ft]:Me.id}function er(Me,Ft){if(Me==null)return!0;if(Me.type==="Feature")return Or(Me,Ft)!=null;if(Me.type==="FeatureCollection"){const Mt=new Set;for(const Bt of Me.features){const oe=Or(Bt,Ft);if(oe==null||Mt.has(oe))return!1;Mt.add(oe)}return!0}return!1}function Fr(Me,Ft){const Mt=new Map;if(Me!=null)if(Me.type==="Feature")Mt.set(Or(Me,Ft),Me);else for(const Bt of Me.features)Mt.set(Or(Bt,Ft),Bt);return Mt}class Ze extends k{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(Ft,Mt){return c._(this,void 0,void 0,(function*(){const Bt=Ft.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const oe=this._geoJSONIndex.getTile(Bt.z,Bt.x,Bt.y);if(!oe)return null;const ye=new z(oe.features);let je=it(ye);return je.byteOffset===0&&je.byteLength===je.buffer.byteLength||(je=new Uint8Array(je)),{vectorTile:ye,rawData:je.buffer}}))}loadData(Ft){return c._(this,void 0,void 0,(function*(){var Mt;(Mt=this._pendingRequest)===null||Mt===void 0||Mt.abort();const Bt=!!(Ft&&Ft.request&&Ft.request.collectResourceTiming)&&new c.cM(Ft.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(Ft,this._pendingRequest),this._geoJSONIndex=Ft.cluster?new dt((function({superclusterOptions:je,clusterProperties:Ge}){if(!Ge||!je)return je;const Ue={},fr={},Ke={accumulated:null,zoom:0},Pe={properties:null},ur=Object.keys(Ge);for(const Oe of ur){const[Wr,or]=Ge[Oe],bn=c.cT(or),Kr=c.cT(typeof Wr=="string"?[Wr,["accumulated"],["get",Oe]]:Wr);Ue[Oe]=bn.value,fr[Oe]=Kr.value}return je.map=Oe=>{Pe.properties=Oe;const Wr={};for(const or of ur)Wr[or]=Ue[or].evaluate(Ke,Pe);return Wr},je.reduce=(Oe,Wr)=>{Pe.properties=Wr;for(const or of ur)Ke.accumulated=Oe[or],Oe[or]=fr[or].evaluate(Ke,Pe)},je})(Ft)).load((yield this._pendingData).features):(oe=yield this._pendingData,new dr(oe,Ft.geojsonVtOptions)),this.loaded={};const ye={};if(Bt){const je=Bt.finish();je&&(ye.resourceTiming={},ye.resourceTiming[Ft.source]=JSON.parse(JSON.stringify(je)))}return ye}catch(ye){if(delete this._pendingRequest,c.cx(ye))return{abandoned:!0};throw ye}var oe}))}getData(){return c._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(Ft){const Mt=this.loaded;return Mt&&Mt[Ft.uid]?super.reloadTile(Ft):this.loadTile(Ft)}loadAndProcessGeoJSON(Ft,Mt){return c._(this,void 0,void 0,(function*(){let Bt=yield this.loadGeoJSON(Ft,Mt);if(delete this._pendingRequest,typeof Bt!="object")throw new Error(`Input data given to '${Ft.source}' is not a valid GeoJSON object.`);if(U(Bt,!0),Ft.filter){const oe=c.cT(Ft.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(oe.result==="error")throw new Error(oe.value.map((ye=>`${ye.key}: ${ye.message}`)).join(", "));Bt={type:"FeatureCollection",features:Bt.features.filter((ye=>oe.value.evaluate({zoom:0},ye)))}}return Bt}))}loadGeoJSON(Ft,Mt){return c._(this,void 0,void 0,(function*(){const{promoteId:Bt}=Ft;if(Ft.request){const oe=yield c.j(Ft.request,Mt);return this._dataUpdateable=er(oe.data,Bt)?Fr(oe.data,Bt):void 0,oe.data}if(typeof Ft.data=="string")try{const oe=JSON.parse(Ft.data);return this._dataUpdateable=er(oe,Bt)?Fr(oe,Bt):void 0,oe}catch{throw new Error(`Input data given to '${Ft.source}' is not a valid GeoJSON object.`)}if(!Ft.dataDiff)throw new Error(`Input data given to '${Ft.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${Ft.source}`);return(function(oe,ye,je){var Ge,Ue,fr,Ke;if(ye.removeAll&&oe.clear(),ye.remove)for(const Pe of ye.remove)oe.delete(Pe);if(ye.add)for(const Pe of ye.add){const ur=Or(Pe,je);ur!=null&&oe.set(ur,Pe)}if(ye.update)for(const Pe of ye.update){let ur=oe.get(Pe.id);if(ur==null)continue;const Oe=!Pe.removeAllProperties&&(((Ge=Pe.removeProperties)===null||Ge===void 0?void 0:Ge.length)>0||((Ue=Pe.addOrUpdateProperties)===null||Ue===void 0?void 0:Ue.length)>0);if((Pe.newGeometry||Pe.removeAllProperties||Oe)&&(ur=Object.assign({},ur),oe.set(Pe.id,ur),Oe&&(ur.properties=Object.assign({},ur.properties))),Pe.newGeometry&&(ur.geometry=Pe.newGeometry),Pe.removeAllProperties)ur.properties={};else if(((fr=Pe.removeProperties)===null||fr===void 0?void 0:fr.length)>0)for(const Wr of Pe.removeProperties)Object.prototype.hasOwnProperty.call(ur.properties,Wr)&&delete ur.properties[Wr];if(((Ke=Pe.addOrUpdateProperties)===null||Ke===void 0?void 0:Ke.length)>0)for(const{key:Wr,value:or}of Pe.addOrUpdateProperties)ur.properties[Wr]=or}})(this._dataUpdateable,Ft.dataDiff,Bt),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(Ft){return c._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(Ft){return this._geoJSONIndex.getClusterExpansionZoom(Ft.clusterId)}getClusterChildren(Ft){return this._geoJSONIndex.getChildren(Ft.clusterId)}getClusterLeaves(Ft){return this._geoJSONIndex.getLeaves(Ft.clusterId,Ft.limit,Ft.offset)}}class rr{constructor(Ft){this.self=Ft,this.actor=new c.J(Ft),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Mt,Bt)=>{if(this.externalWorkerSourceTypes[Mt])throw new Error(`Worker source with name "${Mt}" already registered.`);this.externalWorkerSourceTypes[Mt]=Bt},this.self.addProtocol=c.cz,this.self.removeProtocol=c.cA,this.self.registerRTLTextPlugin=Mt=>{c.cU.setMethods(Mt)},this.actor.registerMessageHandler("LDT",((Mt,Bt)=>this._getDEMWorkerSource(Mt,Bt.source).loadTile(Bt))),this.actor.registerMessageHandler("RDT",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(Mt,Bt.source).removeTile(Bt)})))),this.actor.registerMessageHandler("GCEZ",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){return this._getWorkerSource(Mt,Bt.type,Bt.source).getClusterExpansionZoom(Bt)})))),this.actor.registerMessageHandler("GCC",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){return this._getWorkerSource(Mt,Bt.type,Bt.source).getClusterChildren(Bt)})))),this.actor.registerMessageHandler("GCL",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){return this._getWorkerSource(Mt,Bt.type,Bt.source).getClusterLeaves(Bt)})))),this.actor.registerMessageHandler("LD",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).loadData(Bt))),this.actor.registerMessageHandler("GD",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).getData())),this.actor.registerMessageHandler("LT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).loadTile(Bt))),this.actor.registerMessageHandler("RT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).reloadTile(Bt))),this.actor.registerMessageHandler("AT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).abortTile(Bt))),this.actor.registerMessageHandler("RMT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).removeTile(Bt))),this.actor.registerMessageHandler("RS",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){if(!this.workerSources[Mt]||!this.workerSources[Mt][Bt.type]||!this.workerSources[Mt][Bt.type][Bt.source])return;const oe=this.workerSources[Mt][Bt.type][Bt.source];delete this.workerSources[Mt][Bt.type][Bt.source],oe.removeSource!==void 0&&oe.removeSource(Bt)})))),this.actor.registerMessageHandler("RM",(Mt=>c._(this,void 0,void 0,(function*(){delete this.layerIndexes[Mt],delete this.availableImages[Mt],delete this.workerSources[Mt],delete this.demWorkerSources[Mt]})))),this.actor.registerMessageHandler("SR",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){this.referrer=Bt})))),this.actor.registerMessageHandler("SRPS",((Mt,Bt)=>this._syncRTLPluginState(Mt,Bt))),this.actor.registerMessageHandler("IS",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){this.self.importScripts(Bt)})))),this.actor.registerMessageHandler("SI",((Mt,Bt)=>this._setImages(Mt,Bt))),this.actor.registerMessageHandler("UL",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){this._getLayerIndex(Mt).update(Bt.layers,Bt.removedIds)})))),this.actor.registerMessageHandler("SL",((Mt,Bt)=>c._(this,void 0,void 0,(function*(){this._getLayerIndex(Mt).replace(Bt)}))))}_setImages(Ft,Mt){return c._(this,void 0,void 0,(function*(){this.availableImages[Ft]=Mt;for(const Bt in this.workerSources[Ft]){const oe=this.workerSources[Ft][Bt];for(const ye in oe)oe[ye].availableImages=Mt}}))}_syncRTLPluginState(Ft,Mt){return c._(this,void 0,void 0,(function*(){return yield c.cU.syncState(Mt,this.self.importScripts)}))}_getAvailableImages(Ft){let Mt=this.availableImages[Ft];return Mt||(Mt=[]),Mt}_getLayerIndex(Ft){let Mt=this.layerIndexes[Ft];return Mt||(Mt=this.layerIndexes[Ft]=new a),Mt}_getWorkerSource(Ft,Mt,Bt){if(this.workerSources[Ft]||(this.workerSources[Ft]={}),this.workerSources[Ft][Mt]||(this.workerSources[Ft][Mt]={}),!this.workerSources[Ft][Mt][Bt]){const oe={sendAsync:(ye,je)=>(ye.targetMapId=Ft,this.actor.sendAsync(ye,je))};switch(Mt){case"vector":this.workerSources[Ft][Mt][Bt]=new k(oe,this._getLayerIndex(Ft),this._getAvailableImages(Ft));break;case"geojson":this.workerSources[Ft][Mt][Bt]=new Ze(oe,this._getLayerIndex(Ft),this._getAvailableImages(Ft));break;default:this.workerSources[Ft][Mt][Bt]=new this.externalWorkerSourceTypes[Mt](oe,this._getLayerIndex(Ft),this._getAvailableImages(Ft))}}return this.workerSources[Ft][Mt][Bt]}_getDEMWorkerSource(Ft,Mt){return this.demWorkerSources[Ft]||(this.demWorkerSources[Ft]={}),this.demWorkerSources[Ft][Mt]||(this.demWorkerSources[Ft][Mt]=new I),this.demWorkerSources[Ft][Mt]}}return c.i(self)&&(self.worker=new rr(self)),rr})),i("index",["exports","./shared"],(function(c,a){var g="5.6.0";function v(){var N=new a.A(4);return a.A!=Float32Array&&(N[1]=0,N[2]=0),N[0]=1,N[3]=1,N}let x,k;const I={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(N,s,d){const _=requestAnimationFrame((L=>{E(),s(L)})),{unsubscribe:E}=a.s(N.signal,"abort",(()=>{E(),cancelAnimationFrame(_),d(a.c())}),!1)},frameAsync(N){return new Promise(((s,d)=>{this.frame(N,s,d)}))},getImageData(N,s=0){return this.getImageCanvasContext(N).getImageData(-s,-s,N.width+2*s,N.height+2*s)},getImageCanvasContext(N){const s=window.document.createElement("canvas"),d=s.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return s.width=N.width,s.height=N.height,d.drawImage(N,0,0,N.width,N.height),d},resolveURL:N=>(x||(x=document.createElement("a")),x.href=N,x.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(k==null&&(k=matchMedia("(prefers-reduced-motion: reduce)")),k.matches)}};class S{static testProp(s){if(!S.docStyle)return s[0];for(let d=0;d<s.length;d++)if(s[d]in S.docStyle)return s[d];return s[0]}static create(s,d,_){const E=window.document.createElement(s);return d!==void 0&&(E.className=d),_&&_.appendChild(E),E}static createNS(s,d){return window.document.createElementNS(s,d)}static disableDrag(){S.docStyle&&S.selectProp&&(S.userSelect=S.docStyle[S.selectProp],S.docStyle[S.selectProp]="none")}static enableDrag(){S.docStyle&&S.selectProp&&(S.docStyle[S.selectProp]=S.userSelect)}static setTransform(s,d){s.style[S.transformProp]=d}static addEventListener(s,d,_,E={}){s.addEventListener(d,_,"passive"in E?E:E.capture)}static removeEventListener(s,d,_,E={}){s.removeEventListener(d,_,"passive"in E?E:E.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",S.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",S.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",S.suppressClickInternal,!0)}),0)}static getScale(s){const d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}static getPoint(s,d,_){const E=d.boundingClientRect;return new a.P((_.clientX-E.left)/d.x-s.clientLeft,(_.clientY-E.top)/d.y-s.clientTop)}static mousePos(s,d){const _=S.getScale(s);return S.getPoint(s,_,d)}static touchPos(s,d){const _=[],E=S.getScale(s);for(let L=0;L<d.length;L++)_.push(S.getPoint(s,E,d[L]));return _}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}static sanitize(s){const d=new DOMParser().parseFromString(s,"text/html").body||document.createElement("body"),_=d.querySelectorAll("script");for(const E of _)E.remove();return S.clean(d),d.innerHTML}static isPossiblyDangerous(s,d){const _=d.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(s)||!_.includes("javascript:")&&!_.includes("data:"))||!!s.startsWith("on")||void 0}static clean(s){const d=s.children;for(const _ of d)S.removeAttributes(_),S.clean(_)}static removeAttributes(s){for(const{name:d,value:_}of s.attributes)S.isPossiblyDangerous(d,_)&&s.removeAttribute(d)}}S.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,S.selectProp=S.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),S.transformProp=S.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(N){!H&&U&&(G?z(N):D=N)}};let D,U,H=!1,G=!1;function z(N){const s=N.createTexture();N.bindTexture(N.TEXTURE_2D,s);try{if(N.texImage2D(N.TEXTURE_2D,0,N.RGBA,N.RGBA,N.UNSIGNED_BYTE,U),N.isContextLost())return;P.supported=!0}catch{}N.deleteTexture(s),H=!0}var j;typeof document<"u"&&(U=document.createElement("img"),U.onload=()=>{D&&z(D),D=null,G=!0},U.onerror=()=>{H=!0,D=null},U.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(N){let s,d,_,E;N.resetRequestQueue=()=>{s=[],d=0,_=0,E={}},N.addThrottleControl=tt=>{const ht=_++;return E[ht]=tt,ht},N.removeThrottleControl=tt=>{delete E[tt],B()},N.getImage=(tt,ht,bt=!0)=>new Promise(((It,Ct)=>{P.supported&&(tt.headers||(tt.headers={}),tt.headers.accept="image/webp,*/*"),a.e(tt,{type:"image"}),s.push({abortController:ht,requestParameters:tt,supportImageRefresh:bt,state:"queued",onError:zt=>{Ct(zt)},onSuccess:zt=>{It(zt)}}),B()}));const L=tt=>a._(this,void 0,void 0,(function*(){tt.state="running";const{requestParameters:ht,supportImageRefresh:bt,onError:It,onSuccess:Ct,abortController:zt}=tt,Qt=bt===!1&&!a.i(self)&&!a.g(ht.url)&&(!ht.headers||Object.keys(ht.headers).reduce(((me,xe)=>me&&xe==="accept"),!0));d++;const fe=Qt?K(ht,zt):a.m(ht,zt);try{const me=yield fe;delete tt.abortController,tt.state="completed",me.data instanceof HTMLImageElement||a.b(me.data)?Ct(me):me.data&&Ct({data:yield(pe=me.data,typeof createImageBitmap=="function"?a.f(pe):a.h(pe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete tt.abortController,It(me)}finally{d--,B()}var pe})),B=()=>{const tt=(()=>{for(const ht of Object.keys(E))if(E[ht]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let ht=d;ht<tt&&s.length>0;ht++){const bt=s.shift();bt.abortController.signal.aborted?ht--:L(bt)}},K=(tt,ht)=>new Promise(((bt,It)=>{const Ct=new Image,zt=tt.url,Qt=tt.credentials;Qt&&Qt==="include"?Ct.crossOrigin="use-credentials":(Qt&&Qt==="same-origin"||!a.d(zt))&&(Ct.crossOrigin="anonymous"),ht.signal.addEventListener("abort",(()=>{Ct.src="",It(a.c())})),Ct.fetchPriority="high",Ct.onload=()=>{Ct.onerror=Ct.onload=null,bt({data:Ct})},Ct.onerror=()=>{Ct.onerror=Ct.onload=null,ht.signal.aborted||It(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Ct.src=zt}))})(j||(j={})),j.resetRequestQueue();class X{constructor(s){this._transformRequestFn=s}transformRequest(s,d){return this._transformRequestFn&&this._transformRequestFn(s,d)||{url:s}}setTransformRequest(s){this._transformRequestFn=s}}function Y(N){const s=[];if(typeof N=="string")s.push({id:"default",url:N});else if(N&&N.length>0){const d=[];for(const{id:_,url:E}of N){const L=`${_}${E}`;d.indexOf(L)===-1&&(d.push(L),s.push({id:_,url:E}))}}return s}function et(N,s,d){try{const _=new URL(N);return _.pathname+=`${s}${d}`,_.toString()}catch{throw new Error(`Invalid sprite URL "${N}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function st(N){const{userImage:s}=N;return!!(s&&s.render&&s.render())&&(N.data.replace(new Uint8Array(s.data.buffer)),!0)}class it extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:d,promiseResolve:_}of this.requestors)_(this._getImagesForIds(d));this.requestors=[]}}getImage(s){const d=this.images[s];if(d&&!d.data&&d.spriteData){const _=d.spriteData;d.data=new a.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),d.spriteData=null}return d}addImage(s,d){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,d)&&(this.images[s]=d)}_validate(s,d){let _=!0;const E=d.data||d.spriteData;return this._validateStretch(d.stretchX,E&&E.width)||(this.fire(new a.k(new Error(`Image "${s}" has invalid "stretchX" value`))),_=!1),this._validateStretch(d.stretchY,E&&E.height)||(this.fire(new a.k(new Error(`Image "${s}" has invalid "stretchY" value`))),_=!1),this._validateContent(d.content,d)||(this.fire(new a.k(new Error(`Image "${s}" has invalid "content" value`))),_=!1),_}_validateStretch(s,d){if(!s)return!0;let _=0;for(const E of s){if(E[0]<_||E[1]<E[0]||d<E[1])return!1;_=E[1]}return!0}_validateContent(s,d){if(!s)return!0;if(s.length!==4)return!1;const _=d.spriteData,E=_&&_.width||d.data.width,L=_&&_.height||d.data.height;return!(s[0]<0||E<s[0]||s[1]<0||L<s[1]||s[2]<0||E<s[2]||s[3]<0||L<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,d,_=!0){const E=this.getImage(s);if(_&&(E.data.width!==d.data.width||E.data.height!==d.data.height))throw new Error(`size mismatch between old image (${E.data.width}x${E.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=E.version+1,this.images[s]=d,this.updatedImages[s]=!0}removeImage(s){const d=this.images[s];delete this.images[s],delete this.patterns[s],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s){return new Promise(((d,_)=>{let E=!0;if(!this.isLoaded())for(const L of s)this.images[L]||(E=!1);this.isLoaded()||E?d(this._getImagesForIds(s)):this.requestors.push({ids:s,promiseResolve:d})}))}_getImagesForIds(s){const d={};for(const _ of s){let E=this.getImage(_);E||(this.fire(new a.l("styleimagemissing",{id:_})),E=this.getImage(_)),E?d[_]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,textFitWidth:E.textFitWidth,textFitHeight:E.textFitHeight,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){const{width:s,height:d}=this.atlasImage;return{width:s,height:d}}getPattern(s){const d=this.patterns[s],_=this.getImage(s);if(!_)return null;if(d&&d.position.version===_.version)return d.position;if(d)d.position.version=_.version;else{const E={w:_.data.width+2,h:_.data.height+2,x:0,y:0},L=new a.I(E,_);this.patterns[s]={bin:E,position:L}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const d=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(s,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const L in this.patterns)s.push(this.patterns[L].bin);const{w:d,h:_}=a.p(s),E=this.atlasImage;E.resize({width:d||1,height:_||1});for(const L in this.patterns){const{bin:B}=this.patterns[L],K=B.x+1,tt=B.y+1,ht=this.getImage(L).data,bt=ht.width,It=ht.height;a.R.copy(ht,E,{x:0,y:0},{x:K,y:tt},{width:bt,height:It}),a.R.copy(ht,E,{x:0,y:It-1},{x:K,y:tt-1},{width:bt,height:1}),a.R.copy(ht,E,{x:0,y:0},{x:K,y:tt+It},{width:bt,height:1}),a.R.copy(ht,E,{x:bt-1,y:0},{x:K-1,y:tt},{width:1,height:It}),a.R.copy(ht,E,{x:0,y:0},{x:K+bt,y:tt},{width:1,height:It})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const d of s){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const _=this.getImage(d);_||a.w(`Image with ID: "${d}" was not found`),st(_)&&this.updateImage(d,_)}}}const vt=1e20;function at(N,s,d,_,E,L,B,K,tt){for(let ht=s;ht<s+_;ht++)V(N,d*L+ht,L,E,B,K,tt);for(let ht=d;ht<d+E;ht++)V(N,ht*L+s,1,_,B,K,tt)}function V(N,s,d,_,E,L,B){L[0]=0,B[0]=-1e20,B[1]=vt,E[0]=N[s];for(let K=1,tt=0,ht=0;K<_;K++){E[K]=N[s+K*d];const bt=K*K;do{const It=L[tt];ht=(E[K]-E[It]+bt-It*It)/(K-It)/2}while(ht<=B[tt]&&--tt>-1);tt++,L[tt]=K,B[tt]=ht,B[tt+1]=vt}for(let K=0,tt=0;K<_;K++){for(;B[tt+1]<K;)tt++;const ht=L[tt],bt=K-ht;N[s+K*d]=E[ht]+bt*bt}}class dt{constructor(s,d){this.requestManager=s,this.localIdeographFontFamily=d,this.entries={}}setURL(s){this.url=s}getGlyphs(s){return a._(this,void 0,void 0,(function*(){const d=[];for(const L in s)for(const B of s[L])d.push(this._getAndCacheGlyphsPromise(L,B));const _=yield Promise.all(d),E={};for(const{stack:L,id:B,glyph:K}of _)E[L]||(E[L]={}),E[L][B]=K&&{id:K.id,bitmap:K.bitmap.clone(),metrics:K.metrics};return E}))}_getAndCacheGlyphsPromise(s,d){return a._(this,void 0,void 0,(function*(){let _=this.entries[s];_||(_=this.entries[s]={glyphs:{},requests:{},ranges:{}});let E=_.glyphs[d];if(E!==void 0)return{stack:s,id:d,glyph:E};if(E=this._tinySDF(_,s,d),E)return _.glyphs[d]=E,{stack:s,id:d,glyph:E};const L=Math.floor(d/256);if(256*L>65535)throw new Error("glyphs > 65535 not supported");if(_.ranges[L])return{stack:s,id:d,glyph:E};if(!this.url)throw new Error("glyphsUrl is not set");if(!_.requests[L]){const K=dt.loadGlyphRange(s,L,this.url,this.requestManager);_.requests[L]=K}const B=yield _.requests[L];for(const K in B)this._doesCharSupportLocalGlyph(+K)||(_.glyphs[+K]=B[+K]);return _.ranges[L]=!0,{stack:s,id:d,glyph:B[d]||null}}))}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(s))||a.u["CJK Unified Ideographs"](s)||a.u["Hangul Syllables"](s)||a.u.Hiragana(s)||a.u.Katakana(s)||a.u["CJK Symbols and Punctuation"](s)||a.u["Halfwidth and Fullwidth Forms"](s))}_tinySDF(s,d,_){const E=this.localIdeographFontFamily;if(!E||!this._doesCharSupportLocalGlyph(_))return;let L=s.tinySDF;if(!L){let K="400";/bold/i.test(d)?K="900":/medium/i.test(d)?K="500":/light/i.test(d)&&(K="200"),L=s.tinySDF=new dt.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:E,fontWeight:K})}const B=L.draw(String.fromCharCode(_));return{id:_,bitmap:new a.q({width:B.width||60,height:B.height||60},B.data),metrics:{width:B.glyphWidth/2||24,height:B.glyphHeight/2||24,left:B.glyphLeft/2+.5||0,top:B.glyphTop/2-27.5||-8,advance:B.glyphAdvance/2||24,isDoubleResolution:!0}}}}dt.loadGlyphRange=function(N,s,d,_){return a._(this,void 0,void 0,(function*(){const E=256*s,L=E+255,B=_.transformRequest(d.replace("{fontstack}",N).replace("{range}",`${E}-${L}`),"Glyphs"),K=yield a.n(B,new AbortController);if(!K||!K.data)throw new Error(`Could not load glyph range. range: ${s}, ${E}-${L}`);const tt={};for(const ht of a.o(K.data))tt[ht.id]=ht;return tt}))},dt.TinySDF=class{constructor({fontSize:N=24,buffer:s=3,radius:d=8,cutoff:_=.25,fontFamily:E="sans-serif",fontWeight:L="normal",fontStyle:B="normal"}={}){this.buffer=s,this.cutoff=_,this.radius=d;const K=this.size=N+4*s,tt=this._createCanvas(K),ht=this.ctx=tt.getContext("2d",{willReadFrequently:!0});ht.font=`${B} ${L} ${N}px ${E}`,ht.textBaseline="alphabetic",ht.textAlign="left",ht.fillStyle="black",this.gridOuter=new Float64Array(K*K),this.gridInner=new Float64Array(K*K),this.f=new Float64Array(K),this.z=new Float64Array(K+1),this.v=new Uint16Array(K)}_createCanvas(N){const s=document.createElement("canvas");return s.width=s.height=N,s}draw(N){const{width:s,actualBoundingBoxAscent:d,actualBoundingBoxDescent:_,actualBoundingBoxLeft:E,actualBoundingBoxRight:L}=this.ctx.measureText(N),B=Math.ceil(d),K=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(L-E))),tt=Math.min(this.size-this.buffer,B+Math.ceil(_)),ht=K+2*this.buffer,bt=tt+2*this.buffer,It=Math.max(ht*bt,0),Ct=new Uint8ClampedArray(It),zt={data:Ct,width:ht,height:bt,glyphWidth:K,glyphHeight:tt,glyphTop:B,glyphLeft:0,glyphAdvance:s};if(K===0||tt===0)return zt;const{ctx:Qt,buffer:fe,gridInner:pe,gridOuter:me}=this;Qt.clearRect(fe,fe,K,tt),Qt.fillText(N,fe,fe+B);const xe=Qt.getImageData(fe,fe,K,tt);me.fill(vt,0,It),pe.fill(0,0,It);for(let Be=0;Be<tt;Be++)for(let Le=0;Le<K;Le++){const Ve=xe.data[4*(Be*K+Le)+3]/255;if(Ve===0)continue;const We=(Be+fe)*ht+Le+fe;if(Ve===1)me[We]=0,pe[We]=vt;else{const Ne=.5-Ve;me[We]=Ne>0?Ne*Ne:0,pe[We]=Ne<0?Ne*Ne:0}}at(me,0,0,ht,bt,ht,this.f,this.v,this.z),at(pe,fe,fe,K,tt,ht,this.f,this.v,this.z);for(let Be=0;Be<It;Be++){const Le=Math.sqrt(me[Be])-Math.sqrt(pe[Be]);Ct[Be]=Math.round(255-255*(Le/this.radius+this.cutoff))}return zt}};class mt{constructor(){this.specification=a.v.light.position}possiblyEvaluate(s,d){return a.B(s.expression.evaluate(d))}interpolate(s,d,_){return{x:a.C.number(s.x,d.x,_),y:a.C.number(s.y,d.y,_),z:a.C.number(s.z,d.z,_)}}}let wt;class pt extends a.E{constructor(s){super(),wt=wt||new a.r({anchor:new a.D(a.v.light.anchor),position:new mt,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.t(wt),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,d={}){if(!this._validate(a.x,s,d))for(const _ in s){const E=s[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),E):this._transitionable.setValue(_,E)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,_){return(!_||_.validate!==!1)&&a.y(this,s.call(a.z,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}const At=new a.r({"sky-color":new a.D(a.v.sky["sky-color"]),"horizon-color":new a.D(a.v.sky["horizon-color"]),"fog-color":new a.D(a.v.sky["fog-color"]),"fog-ground-blend":new a.D(a.v.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.v.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.v.sky["atmosphere-blend"])});class St extends a.E{constructor(s){super(),this._transitionable=new a.t(At),this.setSky(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.F(0))}setSky(s,d={}){if(!this._validate(a.G,s,d)){s||(s={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const _ in s){const E=s[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),E):this._transitionable.setValue(_,E)}}}getSky(){return this._transitionable.serialize()}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,_={}){return _?.validate!==!1&&a.y(this,s.call(a.z,a.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}calculateFogBlendOpacity(s){return s<60?0:s<70?(s-60)/10:1}}class Lt{constructor(s,d){this.width=s,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,d){const _=s.join(",")+String(d);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(s,d)),this.dashEntry[_]}getDashRanges(s,d,_){const E=[];let L=s.length%2==1?-s[s.length-1]*_:0,B=s[0]*_,K=!0;E.push({left:L,right:B,isDash:K,zeroLength:s[0]===0});let tt=s[0];for(let ht=1;ht<s.length;ht++){K=!K;const bt=s[ht];L=tt*_,tt+=bt,B=tt*_,E.push({left:L,right:B,isDash:K,zeroLength:bt===0})}return E}addRoundDash(s,d,_){const E=d/2;for(let L=-_;L<=_;L++){const B=this.width*(this.nextRow+_+L);let K=0,tt=s[K];for(let ht=0;ht<this.width;ht++){ht/tt.right>1&&(tt=s[++K]);const bt=Math.abs(ht-tt.left),It=Math.abs(ht-tt.right),Ct=Math.min(bt,It);let zt;const Qt=L/_*(E+1);if(tt.isDash){const fe=E-Math.abs(Qt);zt=Math.sqrt(Ct*Ct+fe*fe)}else zt=E-Math.sqrt(Ct*Ct+Qt*Qt);this.data[B+ht]=Math.max(0,Math.min(255,zt+128))}}}addRegularDash(s){for(let K=s.length-1;K>=0;--K){const tt=s[K],ht=s[K+1];tt.zeroLength?s.splice(K,1):ht&&ht.isDash===tt.isDash&&(ht.left=tt.left,s.splice(K,1))}const d=s[0],_=s[s.length-1];d.isDash===_.isDash&&(d.left=_.left-this.width,_.right=d.right+this.width);const E=this.width*this.nextRow;let L=0,B=s[L];for(let K=0;K<this.width;K++){K/B.right>1&&(B=s[++L]);const tt=Math.abs(K-B.left),ht=Math.abs(K-B.right),bt=Math.min(tt,ht);this.data[E+K]=Math.max(0,Math.min(255,(B.isDash?bt:-bt)+128))}}addDash(s,d){const _=d?7:0,E=2*_+1;if(this.nextRow+E>this.height)return a.w("LineAtlas out of space"),null;let L=0;for(let K=0;K<s.length;K++)L+=s[K];if(L!==0){const K=this.width/L,tt=this.getDashRanges(s,this.width,K);d?this.addRoundDash(tt,K,_):this.addRegularDash(tt)}const B={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:L};return this.nextRow+=E,this.dirty=!0,B}bind(s){const d=s.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}const jt="maplibre_preloaded_worker_pool";class _t{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<_t.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach((d=>{d.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[jt]}numActive(){return Object.keys(this.active).length}}const lt=Math.floor(I.hardwareConcurrency/2);let Tt,kt;function Rt(){return Tt||(Tt=new _t),Tt}_t.workerCount=a.H(globalThis)?Math.max(Math.min(lt,3),1):1;class Ut{constructor(s,d){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=d;const _=this.workerPool.acquire(d);for(let E=0;E<_.length;E++){const L=new a.J(_[E],d);L.name=`Worker ${E}`,this.actors.push(L)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,d){const _=[];for(const E of this.actors)_.push(E.sendAsync({type:s,data:d}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach((d=>{d.remove()})),this.actors=[],s&&this.workerPool.release(this.id)}registerMessageHandler(s,d){for(const _ of this.actors)_.registerMessageHandler(s,d)}}function ie(){return kt||(kt=new Ut(Rt(),a.K),kt.registerMessageHandler("GR",((N,s,d)=>a.m(s,d)))),kt}function Ht(N,s){const d=a.L();return a.M(d,d,[1,1,0]),a.N(d,d,[.5*N.width,.5*N.height,1]),N.calculatePosMatrix?a.O(d,d,N.calculatePosMatrix(s.toUnwrapped())):d}function ce(N,s,d,_,E,L,B){var K;const tt=(function(Ct,zt,Qt){if(Ct)for(const fe of Ct){const pe=zt[fe];if(pe&&pe.source===Qt&&pe.type==="fill-extrusion")return!0}else for(const fe in zt){const pe=zt[fe];if(pe.source===Qt&&pe.type==="fill-extrusion")return!0}return!1})((K=E?.layers)!==null&&K!==void 0?K:null,s,N.id),ht=L.maxPitchScaleFactor(),bt=N.tilesIn(_,ht,tt);bt.sort(de);const It=[];for(const Ct of bt)It.push({wrappedTileID:Ct.tileID.wrapped().key,queryResults:Ct.tile.queryRenderedFeatures(s,d,N._state,Ct.queryGeometry,Ct.cameraQueryGeometry,Ct.scale,E,L,ht,Ht(N.transform,Ct.tileID),B?(zt,Qt)=>B(Ct.tileID,zt,Qt):void 0)});return(function(Ct,zt){for(const Qt in Ct)for(const fe of Ct[Qt])Se(fe,zt);return Ct})((function(Ct){const zt={},Qt={};for(const fe of Ct){const pe=fe.queryResults,me=fe.wrappedTileID,xe=Qt[me]=Qt[me]||{};for(const Be in pe){const Le=pe[Be],Ve=xe[Be]=xe[Be]||{},We=zt[Be]=zt[Be]||[];for(const Ne of Le)Ve[Ne.featureIndex]||(Ve[Ne.featureIndex]=!0,We.push(Ne))}}return zt})(It),N)}function de(N,s){const d=N.tileID,_=s.tileID;return d.overscaledZ-_.overscaledZ||d.canonical.y-_.canonical.y||d.wrap-_.wrap||d.canonical.x-_.canonical.x}function Se(N,s){const d=N.feature,_=s.getFeatureState(d.layer["source-layer"],d.id);d.source=d.layer.source,d.layer["source-layer"]&&(d.sourceLayer=d.layer["source-layer"]),d.state=_}function Vt(N,s,d){return a._(this,void 0,void 0,(function*(){let _=N;if(N.url?_=(yield a.j(s.transformRequest(N.url,"Source"),d)).data:yield I.frameAsync(d),!_)return null;const E=a.Q(a.e(_,N),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(E.vectorLayerIds=_.vector_layers.map((L=>L.id))),E}))}class He{constructor(s,d){s&&(d?this.setSouthWest(s).setNorthEast(d):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof a.S?new a.S(s.lng,s.lat):a.S.convert(s),this}setSouthWest(s){return this._sw=s instanceof a.S?new a.S(s.lng,s.lat):a.S.convert(s),this}extend(s){const d=this._sw,_=this._ne;let E,L;if(s instanceof a.S)E=s,L=s;else{if(!(s instanceof He))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(He.convert(s)):this.extend(a.S.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(a.S.convert(s)):this;if(E=s._sw,L=s._ne,!E||!L)return this}return d||_?(d.lng=Math.min(E.lng,d.lng),d.lat=Math.min(E.lat,d.lat),_.lng=Math.max(L.lng,_.lng),_.lat=Math.max(L.lat,_.lat)):(this._sw=new a.S(E.lng,E.lat),this._ne=new a.S(L.lng,L.lat)),this}getCenter(){return new a.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.S(this.getWest(),this.getNorth())}getSouthEast(){return new a.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:d,lat:_}=a.S.convert(s);let E=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(E=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&E}static convert(s){return s instanceof He?s:s&&new He(s)}static fromLngLat(s,d=0){const _=360*d/40075017,E=_/Math.cos(Math.PI/180*s.lat);return new He(new a.S(s.lng-E,s.lat-_),new a.S(s.lng+E,s.lat+_))}adjustAntiMeridian(){const s=new a.S(this._sw.lng,this._sw.lat),d=new a.S(this._ne.lng,this._ne.lat);return new He(s,s.lng>d.lng?new a.S(d.lng+360,d.lat):d)}}class ke{constructor(s,d,_){this.bounds=He.convert(this.validateBounds(s)),this.minzoom=d||0,this.maxzoom=_||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const d=Math.pow(2,s.z),_=Math.floor(a.V(this.bounds.getWest())*d),E=Math.floor(a.U(this.bounds.getNorth())*d),L=Math.ceil(a.V(this.bounds.getEast())*d),B=Math.ceil(a.U(this.bounds.getSouth())*d);return s.x>=_&&s.x<L&&s.y>=E&&s.y<B}}class Jt extends a.E{constructor(s,d,_,E){if(super(),this.id=s,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.Q(d,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(E)}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const s=yield Vt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),s&&(a.e(this,s),s.bounds&&(this.tileBounds=new ke(s.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new a.k(s))}}))}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.abort(),s(),this.load()}setTiles(s){return this.setSourceProperty((()=>{this._options.tiles=s})),this}setUrl(s){return this.setSourceProperty((()=>{this.url=s,this._options.url=s})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(d,"Tile"),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};_.request.collectResourceTiming=this._collectResourceTiming;let E="RT";if(s.actor&&s.state!=="expired"){if(s.state==="loading")return new Promise(((L,B)=>{s.reloadPromise={resolve:L,reject:B}}))}else s.actor=this.dispatcher.getActor(),E="LT";s.abortController=new AbortController;try{const L=yield s.actor.sendAsync({type:E,data:_},s.abortController);if(delete s.abortController,s.aborted)return;this._afterTileLoadWorkerResponse(s,L)}catch(L){if(delete s.abortController,s.aborted)return;if(L&&L.status!==404)throw L;this._afterTileLoadWorkerResponse(s,null)}}))}_afterTileLoadWorkerResponse(s,d){if(d&&d.resourceTiming&&(s.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&s.setExpiryData(d),s.loadVectorData(d,this.map.painter),s.reloadPromise){const _=s.reloadPromise;s.reloadPromise=null,this.loadTile(s).then(_.resolve).catch(_.reject)}}abortTile(s){return a._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.actor&&(yield s.actor.sendAsync({type:"AT",data:{uid:s.uid,type:this.type,source:this.id}}))}))}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.unloadVectorData(),s.actor&&(yield s.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class $r extends a.E{constructor(s,d,_,E){super(),this.id=s,this.dispatcher=_,this.setEventedParent(E),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},d),a.e(this,a.Q(d,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,(function*(s=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const d=yield Vt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,d&&(a.e(this,d),d.bounds&&(this.tileBounds=new ke(d.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:s})))}catch(d){this._tileJSONRequest=null,this.fire(new a.k(d))}}))}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),s(),this.load(!0)}setTiles(s){return this.setSourceProperty((()=>{this._options.tiles=s})),this}setUrl(s){return this.setSourceProperty((()=>{this.url=s,this._options.url=s})),this}serialize(){return a.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.abortController=new AbortController;try{const _=yield j.getImage(this.map._requestManager.transformRequest(d,"Tile"),s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&s.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const E=this.map.painter.context,L=E.gl,B=_.data;s.texture=this.map.painter.getTileTexture(B.width),s.texture?s.texture.update(B,{useMipmap:!0}):(s.texture=new a.T(E,B,L.RGBA,{useMipmap:!0}),s.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST)),s.state="loaded"}}catch(_){if(delete s.abortController,s.aborted)s.state="unloaded";else if(_)throw s.state="errored",_}}))}abortTile(s){return a._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController)}))}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.texture&&this.map.painter.saveTileTexture(s.texture)}))}hasTransition(){return!1}}class vr extends $r{constructor(s,d,_,E){super(s,d,_,E),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(d,"Tile");s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.abortController=new AbortController;try{const E=yield j.getImage(_,s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(E&&E.data){const L=E.data;this.map._refreshExpiredTiles&&(E.cacheControl||E.expires)&&s.setExpiryData({cacheControl:E.cacheControl,expires:E.expires});const B=a.b(L)&&a.W()?L:yield this.readImageNow(L),K={type:this.type,uid:s.uid,source:this.id,rawImageData:B,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!s.actor||s.state==="expired"){s.actor=this.dispatcher.getActor();const tt=yield s.actor.sendAsync({type:"LDT",data:K});s.dem=tt,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded"}}}catch(E){if(delete s.abortController,s.aborted)s.state="unloaded";else if(E)throw s.state="errored",E}}))}readImageNow(s){return a._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&a.X()){const d=s.width+2,_=s.height+2;try{return new a.R({width:d,height:_},yield a.Y(s,-1,-1,d,_))}catch{}}return I.getImageData(s,1)}))}_getNeighboringTiles(s){const d=s.canonical,_=Math.pow(2,d.z),E=(d.x-1+_)%_,L=d.x===0?s.wrap-1:s.wrap,B=(d.x+1+_)%_,K=d.x+1===_?s.wrap+1:s.wrap,tt={};return tt[new a.Z(s.overscaledZ,L,d.z,E,d.y).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,K,d.z,B,d.y).key]={backfilled:!1},d.y>0&&(tt[new a.Z(s.overscaledZ,L,d.z,E,d.y-1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,s.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,K,d.z,B,d.y-1).key]={backfilled:!1}),d.y+1<_&&(tt[new a.Z(s.overscaledZ,L,d.z,E,d.y+1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,s.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,K,d.z,B,d.y+1).key]={backfilled:!1}),tt}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&(yield s.actor.sendAsync({type:"RDT",data:{type:this.type,uid:s.uid,source:this.id}}))}))}}class Dr extends a.E{constructor(s,d,_,E){super(),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(E),this._data=d.data,this._options=a.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId,d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(d.buffer!==void 0?d.buffer:128),tolerance:this._pixelsToTileUnits(d.tolerance!==void 0?d.tolerance:.375),extent:a.$,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(d.clusterMaxZoom),minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.$,radius:this._pixelsToTileUnits(d.clusterRadius||50),log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(s){return s*(a.$/this.tileSize)}_getClusterMaxZoom(s){const d=s?Math.round(s):this.maxzoom-1;return Number.isInteger(s)||s===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${s}" rounded to "${d}"`),d}load(){return a._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}getData(){return a._(this,void 0,void 0,(function*(){const s=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:s})}))}getCoordinatesFromGeometry(s){return s.type==="GeometryCollection"?s.geometries.map((d=>d.coordinates)).flat(1/0):s.coordinates.flat(1/0)}getBounds(){return a._(this,void 0,void 0,(function*(){const s=new He,d=yield this.getData();let _;switch(d.type){case"FeatureCollection":_=d.features.map((E=>this.getCoordinatesFromGeometry(E.geometry))).flat(1/0);break;case"Feature":_=this.getCoordinatesFromGeometry(d.geometry);break;default:_=this.getCoordinatesFromGeometry(d)}if(_.length==0)return s;for(let E=0;E<_.length-1;E+=2)s.extend([_[E],_[E+1]]);return s}))}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(s.clusterRadius)),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(s.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(s){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:s,source:this.id}})}getClusterChildren(s){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:s,source:this.id}})}getClusterLeaves(s,d,_){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:s,limit:d,offset:_}})}_updateWorkerData(s){return a._(this,void 0,void 0,(function*(){const d=a.e({type:this.type},this.workerOptions);s?d.dataDiff=s:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(I.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.l("dataloading",{dataType:"source"}));try{const _=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||_.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));let E=null;_.resourceTiming&&_.resourceTiming[this.id]&&(E=_.resourceTiming[this.id].slice(0));const L={dataType:"source"};this._collectResourceTiming&&E&&E.length>0&&a.e(L,{resourceTiming:E}),this.fire(new a.l("data",Object.assign(Object.assign({},L),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},L),{sourceDataType:"content"})))}catch(_){if(this._pendingLoads--,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(_))}}))}loaded(){return this._pendingLoads===0}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.actor?"RT":"LT";s.actor=this.actor;const _={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};s.abortController=new AbortController;const E=yield this.actor.sendAsync({type:d,data:_},s.abortController);delete s.abortController,s.unloadVectorData(),s.aborted||s.loadVectorData(E,this.map.painter,d==="RT")}))}abortTile(s){return a._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.aborted=!0}))}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Ie extends a.E{constructor(s,d,_,E){super(),this.flippedWindingOrder=!1,this.id=s,this.dispatcher=_,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(E),this.options=d}load(s){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const d=yield j.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,s&&(this.coordinates=s),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new a.k(d))}}))}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=s.url,this.load(s.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(s){this.coordinates=s;const d=s.map(a.a0.fromLngLat);var _;return this.tileID=(function(E){const L=a.a1.fromPoints(E),B=L.width(),K=L.height(),tt=Math.max(B,K),ht=Math.max(0,Math.floor(-Math.log(tt)/Math.LN2)),bt=Math.pow(2,ht);return new a.a3(ht,Math.floor((L.minX+L.maxX)/2*bt),Math.floor((L.minY+L.maxY)/2*bt))})(d),this.terrainTileRanges=this._getOverlappingTileRanges(d),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=d.map((E=>this.tileID.getTilePoint(E)._round())),this.flippedWindingOrder=((_=this.tileCoords)[1].x-_[0].x)*(_[2].y-_[0].y)-(_[1].y-_[0].y)*(_[2].x-_[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const s=this.map.painter.context,d=s.gl;this.texture||(this.texture=new a.T(s,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let _=!1;for(const E in this.tiles){const L=this.tiles[E];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(s){return a._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={}):s.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(s){const{minX:d,minY:_,maxX:E,maxY:L}=a.a1.fromPoints(s),B={};for(let K=0;K<=a.a2;K++){const tt=Math.pow(2,K),ht=Math.floor(d*tt),bt=Math.floor(_*tt),It=Math.floor(E*tt),Ct=Math.floor(L*tt);B[K]={minTileX:ht,minTileY:bt,maxTileX:It,maxTileY:Ct}}return B}}class Mr extends Ie{constructor(s,d,_,E){super(s,d,_,E),this.roundZoom=!0,this.type="video",this.options=d}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1;const s=this.options;this.urls=[];for(const d of s.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{const d=yield a.a4(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new a.k(d))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const d=this.video.seekable;s<d.start(0)||s>d.end(0)?this.fire(new a.k(new a.a5(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const s=this.map.painter.context,d=s.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(s,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let _=!1;for(const E in this.tiles){const L=this.tiles[E];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ir extends Ie{constructor(s,d,_,E){super(s,d,_,E),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some((L=>!Array.isArray(L)||L.length!==2||L.some((B=>typeof B!="number"))))||this.fire(new a.k(new a.a5(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.a5(`sources.${s}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.k(new a.a5(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.a5(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.a5(`sources.${s}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context,_=d.gl;this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(d,this.canvas,_.RGBA,{premultiply:!0});let E=!1;for(const L in this.tiles){const B=this.tiles[L];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,E=!0)}E&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const Rr={},Pr=N=>{switch(N){case"geojson":return Dr;case"image":return Ie;case"raster":return $r;case"raster-dem":return vr;case"vector":return Jt;case"video":return Mr;case"canvas":return ir}return Rr[N]},Ir="RTLPluginLoaded";class dr extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=ie()}_syncState(s){return this.status=s,this.dispatcher.broadcast("SRPS",{pluginStatus:s,pluginURL:this.url}).catch((d=>{throw this.status="error",d}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(s){return a._(this,arguments,void 0,(function*(d,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=I.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return a._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(Ir))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ar=null;function Or(){return ar||(ar=new dr),ar}class er{constructor(s,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=a.a6(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){const d=s+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,d,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=(function(E,L){const B={};if(!L)return B;for(const K of E){const tt=K.layerIds.map((ht=>L.getLayer(ht))).filter(Boolean);if(tt.length!==0){K.layers=tt,K.stateDependentLayerIds&&(K.stateDependentLayers=K.stateDependentLayerIds.map((ht=>tt.filter((bt=>bt.id===ht))[0])));for(const ht of tt)B[ht.id]=K}}return B})(s.buckets,d?.style),this.hasSymbolBuckets=!1;for(const E in this.buckets){const L=this.buckets[E];if(L instanceof a.a8){if(this.hasSymbolBuckets=!0,!_)break;L.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const E in this.buckets){const L=this.buckets[E];if(L instanceof a.a8&&L.hasRTLText){this.hasRTLText=!0,Or().lazyLoad();break}}this.queryPadding=0;for(const E in this.buckets){const L=this.buckets[E];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(E).queryRadius(L))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new a.a7}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const _ in this.buckets){const E=this.buckets[_];E.uploadPending()&&E.upload(s)}const d=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(s,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(s,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,d,_,E,L,B,K,tt,ht,bt,It){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:E,cameraQueryGeometry:L,scale:B,tileSize:this.tileSize,pixelPosMatrix:bt,transform:tt,params:K,queryPadding:this.queryPadding*ht,getElevation:It},s,d,_):{}}querySourceFeatures(s,d){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const E=_.loadVTLayers(),L=d&&d.sourceLayer?d.sourceLayer:"",B=E._geojsonTileLayer||E[L];if(!B)return;const K=a.a9(d&&d.filter),{z:tt,x:ht,y:bt}=this.tileID.canonical,It={z:tt,x:ht,y:bt};for(let Ct=0;Ct<B.length;Ct++){const zt=B.feature(Ct);if(K.needGeometry){const pe=a.aa(zt,!0);if(!K.filter(new a.F(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!K.filter(new a.F(this.tileID.overscaledZ),zt))continue;const Qt=_.getId(zt,L),fe=new a.ab(zt,tt,ht,bt,Qt);fe.tile=It,s.push(fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const d=this.expirationTime;if(s.cacheControl){const _=a.ac(s.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const _=Date.now();let E=!1;if(this.expirationTime>_)E=!1;else if(d)if(this.expirationTime<d)E=!0;else{const L=this.expirationTime-d;L?this.expirationTime=_+Math.max(L,3e4):E=!0}else E=!0;E?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const E in this.buckets){if(!d.style.hasLayer(E))continue;const L=this.buckets[E],B=L.layers[0].sourceLayer||"_geojsonTileLayer",K=_[B],tt=s[B];if(!K||!tt||Object.keys(tt).length===0)continue;L.update(tt,K,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ht=d&&d.style&&d.style.getLayer(E);ht&&(this.queryPadding=Math.max(this.queryPadding,ht.queryRadius(L)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<I.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=I.now()+s}setDependencies(s,d){const _={};for(const E of d)_[E]=!0;this.dependencies[s]=_}hasDependency(s,d){for(const _ of s){const E=this.dependencies[_];if(E){for(const L of d)if(E[L])return!0}}return!1}}class Fr{constructor(s,d){this.max=s,this.onRemove=d,this.reset()}reset(){for(const s in this.data)for(const d of this.data[s])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(s,d,_){const E=s.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);const L={value:d,timeout:void 0};if(_!==void 0&&(L.timeout=setTimeout((()=>{this.remove(s,L)}),_)),this.data[E].push(L),this.order.push(E),this.order.length>this.max){const B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const d=this.data[s].shift();return d.timeout&&clearTimeout(d.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),d.value}getByKey(s){const d=this.data[s];return d?d[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,d){if(!this.has(s))return this;const _=s.wrapped().key,E=d===void 0?0:this.data[_].indexOf(d),L=this.data[_][E];return this.data[_].splice(E,1),L.timeout&&clearTimeout(L.timeout),this.data[_].length===0&&delete this.data[_],this.onRemove(L.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(s){const d=[];for(const _ in this.data)for(const E of this.data[_])s(E.value)||d.push(E);for(const _ of d)this.remove(_.value.tileID,_)}}class Ze{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,d,_){const E=String(d);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][E]=this.stateChanges[s][E]||{},a.e(this.stateChanges[s][E],_),this.deletedStates[s]===null){this.deletedStates[s]={};for(const L in this.state[s])L!==E&&(this.deletedStates[s][L]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][E]===null){this.deletedStates[s][E]={};for(const L in this.state[s][E])_[L]||(this.deletedStates[s][E][L]=null)}else for(const L in _)this.deletedStates[s]&&this.deletedStates[s][E]&&this.deletedStates[s][E][L]===null&&delete this.deletedStates[s][E][L]}removeFeatureState(s,d,_){if(this.deletedStates[s]===null)return;const E=String(d);if(this.deletedStates[s]=this.deletedStates[s]||{},_&&d!==void 0)this.deletedStates[s][E]!==null&&(this.deletedStates[s][E]=this.deletedStates[s][E]||{},this.deletedStates[s][E][_]=null);else if(d!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][E])for(_ in this.deletedStates[s][E]={},this.stateChanges[s][E])this.deletedStates[s][E][_]=null;else this.deletedStates[s][E]=null;else this.deletedStates[s]=null}getState(s,d){const _=String(d),E=a.e({},(this.state[s]||{})[_],(this.stateChanges[s]||{})[_]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){const L=this.deletedStates[s][d];if(L===null)return{};for(const B in L)delete E[B]}return E}initializeTileState(s,d){s.setFeatureState(this.state,d)}coalesceChanges(s,d){const _={};for(const E in this.stateChanges){this.state[E]=this.state[E]||{};const L={};for(const B in this.stateChanges[E])this.state[E][B]||(this.state[E][B]={}),a.e(this.state[E][B],this.stateChanges[E][B]),L[B]=this.state[E][B];_[E]=L}for(const E in this.deletedStates){this.state[E]=this.state[E]||{};const L={};if(this.deletedStates[E]===null)for(const B in this.state[E])L[B]={},this.state[E][B]={};else for(const B in this.deletedStates[E]){if(this.deletedStates[E][B]===null)this.state[E][B]={};else for(const K of Object.keys(this.deletedStates[E][B]))delete this.state[E][B][K];L[B]=this.state[E][B]}_[E]=_[E]||{},a.e(_[E],L)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const E in s)s[E].setFeatureState(_,d)}}const rr=89.25;function Me(N,s){const d=a.ag(s.lat,-85.051129,a.ah);return new a.P(a.V(s.lng)*N,a.U(d)*N)}function Ft(N,s){return new a.a0(s.x/N,s.y/N).toLngLat()}function Mt(N){return N.cameraToCenterDistance*Math.min(.85*Math.tan(a.ad(90-N.pitch)),Math.tan(a.ad(rr-N.pitch)))}function Bt(N,s){const d=N.canonical,_=s/a.ae(d.z),E=d.x+Math.pow(2,d.z)*N.wrap,L=a.af(new Float64Array(16));return a.M(L,L,[E*_,d.y*_,0]),a.N(L,L,[_/a.$,_/a.$,1]),L}function oe(N,s,d,_,E){const L=a.a0.fromLngLat(N,s),B=E*a.ai(1,N.lat),K=B*Math.cos(a.ad(d)),tt=Math.sqrt(B*B-K*K),ht=tt*Math.sin(a.ad(-_)),bt=tt*Math.cos(a.ad(-_));return new a.a0(L.x+ht,L.y+bt,L.z+K)}function ye(N,s,d){const _=s.intersectsFrustum(N);if(!d||_===0)return _;const E=s.intersectsPlane(d);return E===0?0:_===2&&E===2?2:1}function je(N,s,d){let _=0;const E=(d-s)/10;for(let L=0;L<10;L++)_+=E*Math.pow(Math.cos(s+(L+.5)/10*(d-s)),N);return _}function Ge(N,s){return function(d,_,E,L,B){const K=2*((N-1)/a.aj(Math.cos(a.ad(rr-B))/Math.cos(a.ad(rr)))-1),tt=Math.acos(E/L),ht=2*je(K-1,0,a.ad(B/2)),bt=Math.min(a.ad(rr),tt+a.ad(B/2)),It=je(K-1,Math.min(bt,tt-a.ad(B/2)),bt),Ct=Math.atan(_/E),zt=Math.hypot(_,E);let Qt=d;return Qt+=a.aj(L/zt/Math.max(.5,Math.cos(a.ad(B/2)))),Qt+=K*a.aj(Math.cos(Ct))/2,Qt-=a.aj(Math.max(1,It/ht/s))/2,Qt}}const Ue=Ge(9.314,3);function fr(N,s){const d=(s.roundZoom?Math.round:Math.floor)(N.zoom+a.aj(N.tileSize/s.tileSize));return Math.max(0,d)}function Ke(N,s){const d=N.getCameraFrustum(),_=N.getClippingPlane(),E=N.screenPointToMercatorCoordinate(N.getCameraPoint()),L=a.a0.fromLngLat(N.center,N.elevation);E.z=L.z+Math.cos(N.pitchInRadians)*N.cameraToCenterDistance/N.worldSize;const B=N.getCoveringTilesDetailsProvider(),K=B.allowVariableZoom(N,s),tt=fr(N,s),ht=s.minzoom||0,bt=s.maxzoom!==void 0?s.maxzoom:N.maxZoom,It=Math.min(Math.max(0,tt),bt),Ct=Math.pow(2,It),zt=[Ct*E.x,Ct*E.y,0],Qt=[Ct*L.x,Ct*L.y,0],fe=Math.hypot(L.x-E.x,L.y-E.y),pe=Math.abs(L.z-E.z),me=Math.hypot(fe,pe),xe=Ve=>({zoom:0,x:0,y:0,wrap:Ve,fullyVisible:!1}),Be=[],Le=[];if(N.renderWorldCopies&&B.allowWorldCopies())for(let Ve=1;Ve<=3;Ve++)Be.push(xe(-Ve)),Be.push(xe(Ve));for(Be.push(xe(0));Be.length>0;){const Ve=Be.pop(),We=Ve.x,Ne=Ve.y;let tr=Ve.fullyVisible;const Ar={x:We,y:Ne,z:Ve.zoom},xr=B.getTileBoundingVolume(Ar,Ve.wrap,N.elevation,s);if(!tr){const Tn=ye(d,xr,_);if(Tn===0)continue;tr=Tn===2}const Sr=B.distanceToTile2d(E.x,E.y,Ar,xr);let kr=tt;K&&(kr=(s.calculateTileZoom||Ue)(N.zoom+a.aj(N.tileSize/s.tileSize),Sr,pe,me,N.fov)),kr=(s.roundZoom?Math.round:Math.floor)(kr),kr=Math.max(0,kr);const Cn=Math.min(kr,bt);if(Ve.wrap=B.getWrap(L,Ar,Ve.wrap),Ve.zoom>=Cn){if(Ve.zoom<ht)continue;const Tn=It-Ve.zoom,on=zt[0]-.5-(We<<Tn),Un=zt[1]-.5-(Ne<<Tn),Hi=s.reparseOverscaled?Math.max(Ve.zoom,kr):Ve.zoom;Le.push({tileID:new a.Z(Ve.zoom===bt?Hi:Ve.zoom,Ve.wrap,Ve.zoom,We,Ne),distanceSq:a.ak([Qt[0]-.5-We,Qt[1]-.5-Ne]),tileDistanceToCamera:Math.sqrt(on*on+Un*Un)})}else for(let Tn=0;Tn<4;Tn++)Be.push({zoom:Ve.zoom+1,x:(We<<1)+Tn%2,y:(Ne<<1)+(Tn>>1),wrap:Ve.wrap,fullyVisible:tr})}return Le.sort(((Ve,We)=>Ve.distanceSq-We.distanceSq)).map((Ve=>Ve.tileID))}const Pe=a.a1.fromPoints([new a.P(0,0),new a.P(a.$,a.$)]);class ur extends a.E{constructor(s,d,_){super(),this.id=s,this.dispatcher=_,this.on("data",(E=>this._dataHandler(E))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((E,L,B,K)=>{const tt=new(Pr(L.type))(E,L,B,K);if(tt.id!==E)throw new Error(`Expected Source id to be ${E} instead of ${tt.id}`);return tt})(s,d,_,this),this._tiles={},this._cache=new Fr(0,(E=>this._unloadTile(E))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ze,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s in this._tiles){const d=this._tiles[s];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,d,_){return a._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(s),this._tileLoaded(s,d,_)}catch(E){s.state="errored",E.status!==404?this._source.fire(new a.k(E,{tile:s})):this.update(this.transform,this.terrain)}}))}_unloadTile(s){this._source.unloadTile&&this._source.unloadTile(s)}_abortTile(s){this._source.abortTile&&this._source.abortTile(s),this._source.fire(new a.l("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const _=this._tiles[d];_.upload(s),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((s=>s.tileID)).sort(Oe).map((s=>s.key))}getRenderableIds(s){const d=[];for(const _ in this._tiles)this._isIdRenderable(_,s)&&d.push(this._tiles[_]);return s?d.sort(((_,E)=>{const L=_.tileID,B=E.tileID,K=new a.P(L.canonical.x,L.canonical.y)._rotate(-this.transform.bearingInRadians),tt=new a.P(B.canonical.x,B.canonical.y)._rotate(-this.transform.bearingInRadians);return L.overscaledZ-B.overscaledZ||tt.y-K.y||tt.x-K.x})).map((_=>_.tileID.key)):d.map((_=>_.tileID)).sort(Oe).map((_=>_.key))}hasRenderableParent(s){const d=this.findLoadedParent(s,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(s,d){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(d||!this._tiles[s].holdingForFade())}reload(s){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)s?this._reloadTile(d,"expired"):this._tiles[d].state!=="errored"&&this._reloadTile(d,"reloading")}}_reloadTile(s,d){return a._(this,void 0,void 0,(function*(){const _=this._tiles[s];_&&(_.state!=="loading"&&(_.state=d),yield this._loadTile(_,s,d))}))}_tileLoaded(s,d,_){s.timeAdded=I.now(),_==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(d,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){const d=this.getRenderableIds();for(let E=0;E<d.length;E++){const L=d[E];if(s.neighboringTiles&&s.neighboringTiles[L]){const B=this.getTileByID(L);_(s,B),_(B,s)}}function _(E,L){E.needsHillshadePrepare=!0,E.needsTerrainPrepare=!0;let B=L.tileID.canonical.x-E.tileID.canonical.x;const K=L.tileID.canonical.y-E.tileID.canonical.y,tt=Math.pow(2,E.tileID.canonical.z),ht=L.tileID.key;B===0&&K===0||Math.abs(K)>1||(Math.abs(B)>1&&(Math.abs(B+tt)===1?B+=tt:Math.abs(B-tt)===1&&(B-=tt)),L.dem&&E.dem&&(E.dem.backfillBorder(L.dem,B,K),E.neighboringTiles&&E.neighboringTiles[ht]&&(E.neighboringTiles[ht].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,d,_,E){for(const L in this._tiles){let B=this._tiles[L];if(E[L]||!B.hasData()||B.tileID.overscaledZ<=d||B.tileID.overscaledZ>_)continue;let K=B.tileID;for(;B&&B.tileID.overscaledZ>d+1;){const ht=B.tileID.scaledTo(B.tileID.overscaledZ-1);B=this._tiles[ht.key],B&&B.hasData()&&(K=ht)}let tt=K;for(;tt.overscaledZ>d;)if(tt=tt.scaledTo(tt.overscaledZ-1),s[tt.key]||s[tt.canonical.key]){E[K.key]=K;break}}}findLoadedParent(s,d){if(s.key in this._loadedParentTiles){const _=this._loadedParentTiles[s.key];return _&&_.tileID.overscaledZ>=d?_:null}for(let _=s.overscaledZ-1;_>=d;_--){const E=s.scaledTo(_),L=this._getLoadedTile(E);if(L)return L}}findLoadedSibling(s){return this._getLoadedTile(s)}_getLoadedTile(s){const d=this._tiles[s.key];return d&&d.hasData()?d:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){const d=Math.ceil(s.width/this._source.tileSize)+1,_=Math.ceil(s.height/this._source.tileSize)+1,E=Math.floor(d*_*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),L=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(L)}handleWrapJump(s){const d=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,d){const _={};for(const E in this._tiles){const L=this._tiles[E];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+d),_[L.tileID.key]=L}this._tiles=_;for(const E in this._timers)clearTimeout(this._timers[E]),delete this._timers[E];for(const E in this._tiles)this._setTileReloadTimer(E,this._tiles[E])}}_updateCoveredAndRetainedTiles(s,d,_,E,L,B){const K={},tt={},ht=Object.keys(s),bt=I.now();for(const It of ht){const Ct=s[It],zt=this._tiles[It];if(!zt||zt.fadeEndTime!==0&&zt.fadeEndTime<=bt)continue;const Qt=this.findLoadedParent(Ct,d),fe=this.findLoadedSibling(Ct),pe=Qt||fe||null;pe&&(this._addTile(pe.tileID),K[pe.tileID.key]=pe.tileID),tt[It]=Ct}this._retainLoadedChildren(tt,E,_,s);for(const It in K)s[It]||(this._coveredTiles[It]=!0,s[It]=K[It]);if(B){const It={},Ct={};for(const zt of L)this._tiles[zt.key].hasData()?It[zt.key]=zt:Ct[zt.key]=zt;for(const zt in Ct){const Qt=Ct[zt].children(this._source.maxzoom);this._tiles[Qt[0].key]&&this._tiles[Qt[1].key]&&this._tiles[Qt[2].key]&&this._tiles[Qt[3].key]&&(It[Qt[0].key]=s[Qt[0].key]=Qt[0],It[Qt[1].key]=s[Qt[1].key]=Qt[1],It[Qt[2].key]=s[Qt[2].key]=Qt[2],It[Qt[3].key]=s[Qt[3].key]=Qt[3],delete Ct[zt])}for(const zt in Ct){const Qt=Ct[zt],fe=this.findLoadedParent(Qt,this._source.minzoom),pe=this.findLoadedSibling(Qt),me=fe||pe||null;if(me){It[me.tileID.key]=s[me.tileID.key]=me.tileID;for(const xe in It)It[xe].isChildOf(me.tileID)&&delete It[xe]}}for(const zt in this._tiles)It[zt]||(this._coveredTiles[zt]=!0)}}update(s,d){if(!this._sourceLoaded||this._paused)return;let _;this.transform=s,this.terrain=d,this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=s.getVisibleUnwrappedCoordinates(this._source.tileID).map((bt=>new a.Z(bt.canonical.z,bt.wrap,bt.canonical.z,bt.canonical.x,bt.canonical.y))):(_=Ke(s,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(_=_.filter((bt=>this._source.hasTile(bt))))):_=[];const E=fr(s,this._source),L=Math.max(E-ur.maxOverzooming,this._source.minzoom),B=Math.max(E+ur.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const bt={};for(const It of _)if(It.canonical.z>this._source.minzoom){const Ct=It.scaledTo(It.canonical.z-1);bt[Ct.key]=Ct;const zt=It.scaledTo(Math.max(this._source.minzoom,Math.min(It.canonical.z,5)));bt[zt.key]=zt}_=_.concat(Object.values(bt))}const K=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,K&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const tt=this._updateRetainedTiles(_,E);Wr(this._source.type)&&this._updateCoveredAndRetainedTiles(tt,L,B,E,_,d);for(const bt in tt)this._tiles[bt].clearFadeHold();const ht=a.al(this._tiles,tt);for(const bt of ht){const It=this._tiles[bt];It.hasSymbolBuckets&&!It.holdingForFade()?It.setHoldDuration(this.map._fadeDuration):It.hasSymbolBuckets&&!It.symbolFadeFinished()||this._removeTile(bt)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,d){var _;const E={},L={},B=Math.max(d-ur.maxOverzooming,this._source.minzoom),K=Math.max(d+ur.maxUnderzooming,this._source.minzoom),tt={};for(const ht of s){const bt=this._addTile(ht);E[ht.key]=ht,bt.hasData()||d<this._source.maxzoom&&(tt[ht.key]=ht)}this._retainLoadedChildren(tt,d,K,E);for(const ht of s){let bt=this._tiles[ht.key];if(bt.hasData())continue;if(d+1>this._source.maxzoom){const Ct=ht.children(this._source.maxzoom)[0],zt=this.getTile(Ct);if(zt&&zt.hasData()){E[Ct.key]=Ct;continue}}else{const Ct=ht.children(this._source.maxzoom);if(E[Ct[0].key]&&E[Ct[1].key]&&E[Ct[2].key]&&E[Ct[3].key])continue}let It=bt.wasRequested();for(let Ct=ht.overscaledZ-1;Ct>=B;--Ct){const zt=ht.scaledTo(Ct);if(L[zt.key])break;if(L[zt.key]=!0,bt=this.getTile(zt),!bt&&It&&(bt=this._addTile(zt)),bt){const Qt=bt.hasData();if((Qt||!(!((_=this.map)===null||_===void 0)&&_.cancelPendingTileRequestsWhileZooming)||It)&&(E[zt.key]=zt),It=bt.wasRequested(),Qt)break}}}return E}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const d=[];let _,E=this._tiles[s].tileID;for(;E.overscaledZ>0;){if(E.key in this._loadedParentTiles){_=this._loadedParentTiles[E.key];break}d.push(E.key);const L=E.scaledTo(E.overscaledZ-1);if(_=this._getLoadedTile(L),_)break;E=L}for(const L of d)this._loadedParentTiles[L]=_}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const s in this._tiles){const d=this._tiles[s].tileID,_=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=_}}_addTile(s){let d=this._tiles[s.key];if(d)return d;d=this._cache.getAndRemove(s),d&&(this._setTileReloadTimer(s.key,d),d.tileID=s,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,d)));const _=d;return d||(d=new er(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(d,s.key,d.state)),d.uses++,this._tiles[s.key]=d,_||this._source.fire(new a.l("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(s,d){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const _=d.getExpiryTimeout();_&&(this._timers[s]=setTimeout((()=>{this._reloadTile(s,"expired"),delete this._timers[s]}),_))}refreshTiles(s){for(const d in this._tiles)(this._isIdRenderable(d)||this._tiles[d].state=="errored")&&s.some((_=>_.equals(this._tiles[d].tileID.canonical)))&&this._reloadTile(d,"expired")}_removeTile(s){const d=this._tiles[s];d&&(d.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(s){const d=s.sourceDataType;s.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&s.dataType==="source"&&d==="content"&&(this.reload(s.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,d,_){const E=[],L=this.transform;if(!L)return E;const B=L.getCoveringTilesDetailsProvider().allowWorldCopies(),K=_?L.getCameraQueryGeometry(s):s,tt=zt=>L.screenPointToMercatorCoordinate(zt,this.terrain),ht=this.transformBbox(s,tt,!B),bt=this.transformBbox(K,tt,!B),It=this.getIds(),Ct=a.a1.fromPoints(bt);for(let zt=0;zt<It.length;zt++){const Qt=this._tiles[It[zt]];if(Qt.holdingForFade())continue;const fe=B?[Qt.tileID]:[Qt.tileID.unwrapTo(-1),Qt.tileID.unwrapTo(0)],pe=Math.pow(2,L.zoom-Qt.tileID.overscaledZ),me=d*Qt.queryPadding*a.$/Qt.tileSize/pe;for(const xe of fe){const Be=Ct.map((Le=>xe.getTilePoint(new a.a0(Le.x,Le.y))));if(Be.expandBy(me),Be.intersects(Pe)){const Le=ht.map((We=>xe.getTilePoint(We))),Ve=bt.map((We=>xe.getTilePoint(We)));E.push({tile:Qt,tileID:B?xe:xe.unwrapTo(0),queryGeometry:Le,cameraQueryGeometry:Ve,scale:pe})}}}return E}transformBbox(s,d,_){let E=s.map(d);if(_){const L=a.a1.fromPoints(s);L.shrinkBy(.001*Math.min(L.width(),L.height()));const B=L.map(d);a.a1.fromPoints(E).covers(B)||(E=E.map((K=>K.x>.5?new a.a0(K.x-1,K.y,K.z):K)))}return E}getVisibleCoordinates(s){const d=this.getRenderableIds(s).map((_=>this._tiles[_].tileID));return this.transform&&this.transform.populateCache(d),d}hasTransition(){if(this._source.hasTransition())return!0;if(Wr(this._source.type)){const s=I.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=s)return!0}return!1}setFeatureState(s,d,_){this._state.updateState(s=s||"_geojsonTileLayer",d,_)}removeFeatureState(s,d,_){this._state.removeFeatureState(s=s||"_geojsonTileLayer",d,_)}getFeatureState(s,d){return this._state.getState(s=s||"_geojsonTileLayer",d)}setDependencies(s,d,_){const E=this._tiles[s];E&&E.setDependencies(d,_)}reloadTilesForDependencies(s,d){for(const _ in this._tiles)this._tiles[_].hasDependency(s,d)&&this._reloadTile(_,"reloading");this._cache.filter((_=>!_.hasDependency(s,d)))}}function Oe(N,s){const d=Math.abs(2*N.wrap)-+(N.wrap<0),_=Math.abs(2*s.wrap)-+(s.wrap<0);return N.overscaledZ-s.overscaledZ||_-d||s.canonical.y-N.canonical.y||s.canonical.x-N.canonical.x}function Wr(N){return N==="raster"||N==="image"||N==="video"}ur.maxOverzooming=10,ur.maxUnderzooming=3;class or{constructor(s,d){this.reset(s,d)}reset(s,d){this.points=s||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=a.ag(s,0,1);let d=1,_=this._distances[d];const E=s*this.paddedLength+this.padding;for(;_<E&&d<this._distances.length;)_=this._distances[++d];const L=d-1,B=this._distances[L],K=_-B,tt=K>0?(E-B)/K:0;return this.points[L].mult(1-tt).add(this.points[d].mult(tt))}}function bn(N,s){let d=!0;return N==="always"||N!=="never"&&s!=="never"||(d=!1),d}class Kr{constructor(s,d,_){const E=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(s/_),this.yCellCount=Math.ceil(d/_);for(let B=0;B<this.xCellCount*this.yCellCount;B++)E.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=d,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,d,_,E,L){this._forEachCell(d,_,E,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(d),this.bboxes.push(_),this.bboxes.push(E),this.bboxes.push(L)}insertCircle(s,d,_,E){this._forEachCell(d-E,_-E,d+E,_+E,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(d),this.circles.push(_),this.circles.push(E)}_insertBoxCell(s,d,_,E,L,B){this.boxCells[L].push(B)}_insertCircleCell(s,d,_,E,L,B){this.circleCells[L].push(B)}_query(s,d,_,E,L,B,K){if(_<0||s>this.width||E<0||d>this.height)return[];const tt=[];if(s<=0&&d<=0&&this.width<=_&&this.height<=E){if(L)return[{key:null,x1:s,y1:d,x2:_,y2:E}];for(let ht=0;ht<this.boxKeys.length;ht++)tt.push({key:this.boxKeys[ht],x1:this.bboxes[4*ht],y1:this.bboxes[4*ht+1],x2:this.bboxes[4*ht+2],y2:this.bboxes[4*ht+3]});for(let ht=0;ht<this.circleKeys.length;ht++){const bt=this.circles[3*ht],It=this.circles[3*ht+1],Ct=this.circles[3*ht+2];tt.push({key:this.circleKeys[ht],x1:bt-Ct,y1:It-Ct,x2:bt+Ct,y2:It+Ct})}}else this._forEachCell(s,d,_,E,this._queryCell,tt,{hitTest:L,overlapMode:B,seenUids:{box:{},circle:{}}},K);return tt}query(s,d,_,E){return this._query(s,d,_,E,!1,null)}hitTest(s,d,_,E,L,B){return this._query(s,d,_,E,!0,L,B).length>0}hitTestCircle(s,d,_,E,L){const B=s-_,K=s+_,tt=d-_,ht=d+_;if(K<0||B>this.width||ht<0||tt>this.height)return!1;const bt=[];return this._forEachCell(B,tt,K,ht,this._queryCellCircle,bt,{hitTest:!0,overlapMode:E,circle:{x:s,y:d,radius:_},seenUids:{box:{},circle:{}}},L),bt.length>0}_queryCell(s,d,_,E,L,B,K,tt){const{seenUids:ht,hitTest:bt,overlapMode:It}=K,Ct=this.boxCells[L];if(Ct!==null){const Qt=this.bboxes;for(const fe of Ct)if(!ht.box[fe]){ht.box[fe]=!0;const pe=4*fe,me=this.boxKeys[fe];if(s<=Qt[pe+2]&&d<=Qt[pe+3]&&_>=Qt[pe+0]&&E>=Qt[pe+1]&&(!tt||tt(me))&&(!bt||!bn(It,me.overlapMode))&&(B.push({key:me,x1:Qt[pe],y1:Qt[pe+1],x2:Qt[pe+2],y2:Qt[pe+3]}),bt))return!0}}const zt=this.circleCells[L];if(zt!==null){const Qt=this.circles;for(const fe of zt)if(!ht.circle[fe]){ht.circle[fe]=!0;const pe=3*fe,me=this.circleKeys[fe];if(this._circleAndRectCollide(Qt[pe],Qt[pe+1],Qt[pe+2],s,d,_,E)&&(!tt||tt(me))&&(!bt||!bn(It,me.overlapMode))){const xe=Qt[pe],Be=Qt[pe+1],Le=Qt[pe+2];if(B.push({key:me,x1:xe-Le,y1:Be-Le,x2:xe+Le,y2:Be+Le}),bt)return!0}}}return!1}_queryCellCircle(s,d,_,E,L,B,K,tt){const{circle:ht,seenUids:bt,overlapMode:It}=K,Ct=this.boxCells[L];if(Ct!==null){const Qt=this.bboxes;for(const fe of Ct)if(!bt.box[fe]){bt.box[fe]=!0;const pe=4*fe,me=this.boxKeys[fe];if(this._circleAndRectCollide(ht.x,ht.y,ht.radius,Qt[pe+0],Qt[pe+1],Qt[pe+2],Qt[pe+3])&&(!tt||tt(me))&&!bn(It,me.overlapMode))return B.push(!0),!0}}const zt=this.circleCells[L];if(zt!==null){const Qt=this.circles;for(const fe of zt)if(!bt.circle[fe]){bt.circle[fe]=!0;const pe=3*fe,me=this.circleKeys[fe];if(this._circlesCollide(Qt[pe],Qt[pe+1],Qt[pe+2],ht.x,ht.y,ht.radius)&&(!tt||tt(me))&&!bn(It,me.overlapMode))return B.push(!0),!0}}}_forEachCell(s,d,_,E,L,B,K,tt){const ht=this._convertToXCellCoord(s),bt=this._convertToYCellCoord(d),It=this._convertToXCellCoord(_),Ct=this._convertToYCellCoord(E);for(let zt=ht;zt<=It;zt++)for(let Qt=bt;Qt<=Ct;Qt++)if(L.call(this,s,d,_,E,this.xCellCount*Qt+zt,B,K,tt))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,d,_,E,L,B){const K=E-s,tt=L-d,ht=_+B;return ht*ht>K*K+tt*tt}_circleAndRectCollide(s,d,_,E,L,B,K){const tt=(B-E)/2,ht=Math.abs(s-(E+tt));if(ht>tt+_)return!1;const bt=(K-L)/2,It=Math.abs(d-(L+bt));if(It>bt+_)return!1;if(ht<=tt||It<=bt)return!0;const Ct=ht-tt,zt=It-bt;return Ct*Ct+zt*zt<=_*_}}function Zn(N,s,d){const _=a.L();if(!N){const{vecSouth:It,vecEast:Ct}=Xt(s),zt=v();zt[0]=Ct[0],zt[1]=Ct[1],zt[2]=It[0],zt[3]=It[1],E=zt,(bt=(B=(L=zt)[0])*(ht=L[3])-(tt=L[2])*(K=L[1]))&&(E[0]=ht*(bt=1/bt),E[1]=-K*bt,E[2]=-tt*bt,E[3]=B*bt),_[0]=zt[0],_[1]=zt[1],_[4]=zt[2],_[5]=zt[3]}var E,L,B,K,tt,ht,bt;return a.N(_,_,[1/d,1/d,1]),_}function Pt(N,s,d,_){if(N){const E=a.L();if(!s){const{vecSouth:L,vecEast:B}=Xt(d);E[0]=B[0],E[1]=B[1],E[4]=L[0],E[5]=L[1]}return a.N(E,E,[_,_,1]),E}return d.pixelsToClipSpaceMatrix}function Xt(N){const s=Math.cos(N.rollInRadians),d=Math.sin(N.rollInRadians),_=Math.cos(N.pitchInRadians),E=Math.cos(N.bearingInRadians),L=Math.sin(N.bearingInRadians),B=a.aq();B[0]=-E*_*d-L*s,B[1]=-L*_*d+E*s;const K=a.ar(B);K<1e-9?a.as(B):a.at(B,B,1/K);const tt=a.aq();tt[0]=E*_*s-L*d,tt[1]=L*_*s+E*d;const ht=a.ar(tt);return ht<1e-9?a.as(tt):a.at(tt,tt,1/ht),{vecEast:tt,vecSouth:B}}function be(N,s,d,_){let E;_?(E=[N,s,_(N,s),1],a.av(E,E,d)):(E=[N,s,0,1],rl(E,E,d));const L=E[3];return{point:new a.P(E[0]/L,E[1]/L),signedDistanceFromCamera:L,isOccluded:!1}}function ze(N,s){return .5+N/s*.5}function Lr(N,s){return N.x>=-s[0]&&N.x<=s[0]&&N.y>=-s[1]&&N.y<=s[1]}function vn(N,s,d,_,E,L,B,K,tt,ht,bt,It,Ct){const zt=d?N.textSizeData:N.iconSizeData,Qt=a.am(zt,s.transform.zoom),fe=[256/s.width*2+1,256/s.height*2+1],pe=d?N.text.dynamicLayoutVertexArray:N.icon.dynamicLayoutVertexArray;pe.clear();const me=N.lineVertexArray,xe=d?N.text.placedSymbolArray:N.icon.placedSymbolArray,Be=s.transform.width/s.transform.height;let Le=!1;for(let Ve=0;Ve<xe.length;Ve++){const We=xe.get(Ve);if(We.hidden||We.writingMode===a.an.vertical&&!Le){io(We.numGlyphs,pe);continue}Le=!1;const Ne=new a.P(We.anchorX,We.anchorY),tr={getElevation:Ct,pitchedLabelPlaneMatrix:_,lineVertexArray:me,pitchWithMap:L,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:s.transform,tileAnchorPoint:Ne,unwrappedTileID:tt,width:ht,height:bt,translation:It},Ar=Wn(We.anchorX,We.anchorY,tr);if(!Lr(Ar.point,fe)){io(We.numGlyphs,pe);continue}const xr=ze(s.transform.cameraToCenterDistance,Ar.signedDistanceFromCamera),Sr=a.ao(zt,Qt,We),kr=L?Sr*s.transform.getPitchedTextCorrection(We.anchorX,We.anchorY,tt)/xr:Sr*xr,Cn=On({projectionContext:tr,pitchedLabelPlaneMatrixInverse:E,symbol:We,fontSize:kr,flip:!1,keepUpright:B,glyphOffsetArray:N.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Be,rotateToLine:K});Le=Cn.useVertical,(Cn.notEnoughRoom||Le||Cn.needsFlipping&&On({projectionContext:tr,pitchedLabelPlaneMatrixInverse:E,symbol:We,fontSize:kr,flip:!0,keepUpright:B,glyphOffsetArray:N.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Be,rotateToLine:K}).notEnoughRoom)&&io(We.numGlyphs,pe)}d?N.text.dynamicLayoutVertexBuffer.updateData(pe):N.icon.dynamicLayoutVertexBuffer.updateData(pe)}function Vr(N,s,d,_,E,L,B,K){const tt=L.glyphStartIndex+L.numGlyphs,ht=L.lineStartIndex,bt=L.lineStartIndex+L.lineLength,It=s.getoffsetX(L.glyphStartIndex),Ct=s.getoffsetX(tt-1),zt=Na(N*It,d,_,E,L.segment,ht,bt,K,B);if(!zt)return null;const Qt=Na(N*Ct,d,_,E,L.segment,ht,bt,K,B);return Qt?K.projectionCache.anyProjectionOccluded?null:{first:zt,last:Qt}:null}function fi(N,s,d,_){return N===a.an.horizontal&&Math.abs(d.y-s.y)>Math.abs(d.x-s.x)*_?{useVertical:!0}:(N===a.an.vertical?s.y<d.y:s.x>d.x)?{needsFlipping:!0}:null}function On(N){const{projectionContext:s,pitchedLabelPlaneMatrixInverse:d,symbol:_,fontSize:E,flip:L,keepUpright:B,glyphOffsetArray:K,dynamicLayoutVertexArray:tt,aspectRatio:ht,rotateToLine:bt}=N,It=E/24,Ct=_.lineOffsetX*It,zt=_.lineOffsetY*It;let Qt;if(_.numGlyphs>1){const fe=_.glyphStartIndex+_.numGlyphs,pe=_.lineStartIndex,me=_.lineStartIndex+_.lineLength,xe=Vr(It,K,Ct,zt,L,_,bt,s);if(!xe)return{notEnoughRoom:!0};const Be=Rn(xe.first.point.x,xe.first.point.y,s,d),Le=Rn(xe.last.point.x,xe.last.point.y,s,d);if(B&&!L){const Ve=fi(_.writingMode,Be,Le,ht);if(Ve)return Ve}Qt=[xe.first];for(let Ve=_.glyphStartIndex+1;Ve<fe-1;Ve++){const We=Na(It*K.getoffsetX(Ve),Ct,zt,L,_.segment,pe,me,s,bt);if(!We)return{notEnoughRoom:!0};Qt.push(We)}Qt.push(xe.last)}else{if(B&&!L){const pe=en(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,me=_.lineStartIndex+_.segment+1,xe=new a.P(s.lineVertexArray.getx(me),s.lineVertexArray.gety(me)),Be=en(xe.x,xe.y,s),Le=Be.signedDistanceFromCamera>0?Be.point:li(s.tileAnchorPoint,xe,pe,1,s),Ve=Rn(pe.x,pe.y,s,d),We=Rn(Le.x,Le.y,s,d),Ne=fi(_.writingMode,Ve,We,ht);if(Ne)return Ne}const fe=Na(It*K.getoffsetX(_.glyphStartIndex),Ct,zt,L,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,s,bt);if(!fe||s.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Qt=[fe]}for(const fe of Qt)a.au(tt,fe.point,fe.angle);return{}}function li(N,s,d,_,E){const L=N.add(N.sub(s)._unit()),B=en(L.x,L.y,E).point,K=d.sub(B);return d.add(K._mult(_/K.mag()))}function Ji(N,s,d){const _=s.projectionCache;if(_.projections[N])return _.projections[N];const E=new a.P(s.lineVertexArray.getx(N),s.lineVertexArray.gety(N)),L=en(E.x,E.y,s);if(L.signedDistanceFromCamera>0)return _.projections[N]=L.point,_.anyProjectionOccluded=_.anyProjectionOccluded||L.isOccluded,L.point;const B=N-d.direction;return li(d.distanceFromAnchor===0?s.tileAnchorPoint:new a.P(s.lineVertexArray.getx(B),s.lineVertexArray.gety(B)),E,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,s)}function en(N,s,d){const _=N+d.translation[0],E=s+d.translation[1];let L;return d.pitchWithMap?(L=be(_,E,d.pitchedLabelPlaneMatrix,d.getElevation),L.isOccluded=!1):(L=d.transform.projectTileCoordinates(_,E,d.unwrappedTileID,d.getElevation),L.point.x=(.5*L.point.x+.5)*d.width,L.point.y=(.5*-L.point.y+.5)*d.height),L}function Rn(N,s,d,_){if(d.pitchWithMap){const E=[N,s,0,1];return a.av(E,E,_),d.transform.projectTileCoordinates(E[0]/E[3],E[1]/E[3],d.unwrappedTileID,d.getElevation).point}return{x:N/d.width*2-1,y:s/d.height*2-1}}function Wn(N,s,d){return d.transform.projectTileCoordinates(N,s,d.unwrappedTileID,d.getElevation)}function Ra(N,s,d){return N._unit()._perp()._mult(s*d)}function xo(N,s,d,_,E,L,B,K,tt){if(K.projectionCache.offsets[N])return K.projectionCache.offsets[N];const ht=d.add(s);if(N+tt.direction<_||N+tt.direction>=E)return K.projectionCache.offsets[N]=ht,ht;const bt=Ji(N+tt.direction,K,tt),It=Ra(bt.sub(d),B,tt.direction),Ct=d.add(It),zt=bt.add(It);return K.projectionCache.offsets[N]=a.aw(L,ht,Ct,zt)||ht,K.projectionCache.offsets[N]}function Na(N,s,d,_,E,L,B,K,tt){const ht=_?N-s:N+s;let bt=ht>0?1:-1,It=0;_&&(bt*=-1,It=Math.PI),bt<0&&(It+=Math.PI);let Ct,zt=bt>0?L+E:L+E+1;K.projectionCache.cachedAnchorPoint?Ct=K.projectionCache.cachedAnchorPoint:(Ct=en(K.tileAnchorPoint.x,K.tileAnchorPoint.y,K).point,K.projectionCache.cachedAnchorPoint=Ct);let Qt,fe,pe=Ct,me=Ct,xe=0,Be=0;const Le=Math.abs(ht),Ve=[];let We;for(;xe+Be<=Le;){if(zt+=bt,zt<L||zt>=B)return null;xe+=Be,me=pe,fe=Qt;const Ar={absOffsetX:Le,direction:bt,distanceFromAnchor:xe,previousVertex:me};if(pe=Ji(zt,K,Ar),d===0)Ve.push(me),We=pe.sub(me);else{let xr;const Sr=pe.sub(me);xr=Sr.mag()===0?Ra(Ji(zt+bt,K,Ar).sub(pe),d,bt):Ra(Sr,d,bt),fe||(fe=me.add(xr)),Qt=xo(zt,xr,pe,L,B,fe,d,K,Ar),Ve.push(fe),We=Qt.sub(fe)}Be=We.mag()}const Ne=We._mult((Le-xe)/Be)._add(fe||me),tr=It+Math.atan2(pe.y-me.y,pe.x-me.x);return Ve.push(Ne),{point:Ne,angle:tt?tr:0,path:Ve}}const Mn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function io(N,s){for(let d=0;d<N;d++){const _=s.length;s.resize(_+4),s.float32.set(Mn,3*_)}}function rl(N,s,d){const _=s[0],E=s[1];return N[0]=d[0]*_+d[4]*E+d[12],N[1]=d[1]*_+d[5]*E+d[13],N[3]=d[3]*_+d[7]*E+d[15],N}const oa=100;class ha{constructor(s,d=new Kr(s.width+200,s.height+200,25),_=new Kr(s.width+200,s.height+200,25)){this.transform=s,this.grid=d,this.ignoredGrid=_,this.pitchFactor=Math.cos(s.pitch*Math.PI/180)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+oa,this.screenBottomBoundary=s.height+oa,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,d,_,E,L,B,K,tt,ht,bt,It,Ct){const zt=this.projectAndGetPerspectiveRatio(s.anchorPointX+tt[0],s.anchorPointY+tt[1],L,bt,Ct),Qt=_*zt.perspectiveRatio;let fe;if(B||K)fe=this._projectCollisionBox(s,Qt,E,L,B,K,tt,zt,bt,It,Ct);else{const We=zt.x+(It?It.x*Qt:0),Ne=zt.y+(It?It.y*Qt:0);fe={allPointsOccluded:!1,box:[We+s.x1*Qt,Ne+s.y1*Qt,We+s.x2*Qt,Ne+s.y2*Qt]}}const[pe,me,xe,Be]=fe.box,Le=B?fe.allPointsOccluded:zt.isOccluded;let Ve=Le;return Ve||(Ve=zt.perspectiveRatio<this.perspectiveRatioCutoff),Ve||(Ve=!this.isInsideGrid(pe,me,xe,Be)),Ve||d!=="always"&&this.grid.hitTest(pe,me,xe,Be,d,ht)?{box:[pe,me,xe,Be],placeable:!1,offscreen:!1,occluded:Le}:{box:[pe,me,xe,Be],placeable:!0,offscreen:this.isOffscreen(pe,me,xe,Be),occluded:Le}}placeCollisionCircles(s,d,_,E,L,B,K,tt,ht,bt,It,Ct,zt,Qt){const fe=[],pe=new a.P(d.anchorX,d.anchorY),me=this.getPerspectiveRatio(pe.x,pe.y,B,Qt),xe=(ht?L*this.transform.getPitchedTextCorrection(d.anchorX,d.anchorY,B)/me:L*me)/a.aA,Be={getElevation:Qt,pitchedLabelPlaneMatrix:K,lineVertexArray:_,pitchWithMap:ht,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:pe,unwrappedTileID:B,width:this.transform.width,height:this.transform.height,translation:zt},Le=Vr(xe,E,d.lineOffsetX*xe,d.lineOffsetY*xe,!1,d,!1,Be);let Ve=!1,We=!1,Ne=!0;if(Le){const tr=.5*It*me+Ct,Ar=new a.P(-100,-100),xr=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Sr=new or,kr=Le.first,Cn=Le.last;let Tn=[];for(let Hi=kr.path.length-1;Hi>=1;Hi--)Tn.push(kr.path[Hi]);for(let Hi=1;Hi<Cn.path.length;Hi++)Tn.push(Cn.path[Hi]);const on=2.5*tr;if(ht){const Hi=this.projectPathToScreenSpace(Tn,Be);Tn=Hi.some((Sa=>Sa.signedDistanceFromCamera<=0))?[]:Hi.map((Sa=>Sa.point))}let Un=[];if(Tn.length>0){const Hi=Tn[0].clone(),Sa=Tn[0].clone();for(let Uo=1;Uo<Tn.length;Uo++)Hi.x=Math.min(Hi.x,Tn[Uo].x),Hi.y=Math.min(Hi.y,Tn[Uo].y),Sa.x=Math.max(Sa.x,Tn[Uo].x),Sa.y=Math.max(Sa.y,Tn[Uo].y);Un=Hi.x>=Ar.x&&Sa.x<=xr.x&&Hi.y>=Ar.y&&Sa.y<=xr.y?[Tn]:Sa.x<Ar.x||Hi.x>xr.x||Sa.y<Ar.y||Hi.y>xr.y?[]:a.ax([Tn],Ar.x,Ar.y,xr.x,xr.y)}for(const Hi of Un){Sr.reset(Hi,.25*tr);let Sa=0;Sa=Sr.length<=.5*tr?1:Math.ceil(Sr.paddedLength/on)+1;for(let Uo=0;Uo<Sa;Uo++){const Ka=Uo/Math.max(Sa-1,1),Za=Sr.lerp(Ka),Da=Za.x+oa,Pa=Za.y+oa;fe.push(Da,Pa,tr,0);const lo=Da-tr,_l=Pa-tr,fa=Da+tr,Rl=Pa+tr;if(Ne=Ne&&this.isOffscreen(lo,_l,fa,Rl),We=We||this.isInsideGrid(lo,_l,fa,Rl),s!=="always"&&this.grid.hitTestCircle(Da,Pa,tr,s,bt)&&(Ve=!0,!tt))return{circles:[],offscreen:!1,collisionDetected:Ve}}}}return{circles:!tt&&Ve||!We||me<this.perspectiveRatioCutoff?[]:fe,offscreen:Ne,collisionDetected:Ve}}projectPathToScreenSpace(s,d){const _=(function(E,L){const B=a.L();return a.ap(B,L.pitchedLabelPlaneMatrix),E.map((K=>{const tt=be(K.x,K.y,B,L.getElevation),ht=L.transform.projectTileCoordinates(tt.point.x,tt.point.y,L.unwrappedTileID,L.getElevation);return ht.point.x=(.5*ht.point.x+.5)*L.width,ht.point.y=(.5*-ht.point.y+.5)*L.height,ht}))})(s,d);return(function(E){let L=0,B=0,K=0,tt=0;for(let ht=0;ht<E.length;ht++)E[ht].isOccluded?(K=ht+1,tt=0):(tt++,tt>B&&(B=tt,L=K));return E.slice(L,L+B)})(_)}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[],_=new a.a1;for(const It of s){const Ct=new a.P(It.x+oa,It.y+oa);_.extend(Ct),d.push(Ct)}const{minX:E,minY:L,maxX:B,maxY:K}=_,tt=this.grid.query(E,L,B,K).concat(this.ignoredGrid.query(E,L,B,K)),ht={},bt={};for(const It of tt){const Ct=It.key;if(ht[Ct.bucketInstanceId]===void 0&&(ht[Ct.bucketInstanceId]={}),ht[Ct.bucketInstanceId][Ct.featureIndex])continue;const zt=[new a.P(It.x1,It.y1),new a.P(It.x2,It.y1),new a.P(It.x2,It.y2),new a.P(It.x1,It.y2)];a.ay(d,zt)&&(ht[Ct.bucketInstanceId][Ct.featureIndex]=!0,bt[Ct.bucketInstanceId]===void 0&&(bt[Ct.bucketInstanceId]=[]),bt[Ct.bucketInstanceId].push(Ct.featureIndex))}return bt}insertCollisionBox(s,d,_,E,L,B){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:E,featureIndex:L,collisionGroupID:B,overlapMode:d},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,d,_,E,L,B){const K=_?this.ignoredGrid:this.grid,tt={bucketInstanceId:E,featureIndex:L,collisionGroupID:B,overlapMode:d};for(let ht=0;ht<s.length;ht+=4)K.insertCircle(tt,s[ht],s[ht+1],s[ht+2])}projectAndGetPerspectiveRatio(s,d,_,E,L){if(L){let B;E?(B=[s,d,E(s,d),1],a.av(B,B,L)):(B=[s,d,0,1],rl(B,B,L));const K=B[3];return{x:(B[0]/K+1)/2*this.transform.width+oa,y:(-B[1]/K+1)/2*this.transform.height+oa,perspectiveRatio:.5+this.transform.cameraToCenterDistance/K*.5,isOccluded:!1,signedDistanceFromCamera:K}}{const B=this.transform.projectTileCoordinates(s,d,_,E);return{x:(B.point.x+1)/2*this.transform.width+oa,y:(1-B.point.y)/2*this.transform.height+oa,perspectiveRatio:.5+this.transform.cameraToCenterDistance/B.signedDistanceFromCamera*.5,isOccluded:B.isOccluded,signedDistanceFromCamera:B.signedDistanceFromCamera}}}getPerspectiveRatio(s,d,_,E){const L=this.transform.projectTileCoordinates(s,d,_,E);return .5+this.transform.cameraToCenterDistance/L.signedDistanceFromCamera*.5}isOffscreen(s,d,_,E){return _<oa||s>=this.screenRightBoundary||E<oa||d>this.screenBottomBoundary}isInsideGrid(s,d,_,E){return _>=0&&s<this.gridRightBoundary&&E>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const s=a.af([]);return a.M(s,s,[-100,-100,0]),s}_projectCollisionBox(s,d,_,E,L,B,K,tt,ht,bt,It){let Ct=1,zt=0,Qt=0,fe=1;const pe=s.anchorPointX+K[0],me=s.anchorPointY+K[1];if(B&&!L){const Tn=this.projectAndGetPerspectiveRatio(pe+1,me,E,ht,It),on=Tn.x-tt.x,Un=Math.atan((Tn.y-tt.y)/on)+(on<0?Math.PI:0),Hi=Math.sin(Un),Sa=Math.cos(Un);Ct=Sa,zt=Hi,Qt=-Hi,fe=Sa}else if(!B&&L){const Tn=Xt(this.transform);Ct=Tn.vecEast[0],zt=Tn.vecEast[1],Qt=Tn.vecSouth[0],fe=Tn.vecSouth[1]}let xe=tt.x,Be=tt.y,Le=d;L&&(xe=pe,Be=me,Le=Math.pow(2,-(this.transform.zoom-_.overscaledZ)),Le*=this.transform.getPitchedTextCorrection(pe,me,E),bt||(Le*=a.ag(.5+tt.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),bt&&(xe+=Ct*bt.x*Le+Qt*bt.y*Le,Be+=zt*bt.x*Le+fe*bt.y*Le);const Ve=s.x1*Le,We=s.x2*Le,Ne=(Ve+We)/2,tr=s.y1*Le,Ar=s.y2*Le,xr=(tr+Ar)/2,Sr=[{offsetX:Ve,offsetY:tr},{offsetX:Ne,offsetY:tr},{offsetX:We,offsetY:tr},{offsetX:We,offsetY:xr},{offsetX:We,offsetY:Ar},{offsetX:Ne,offsetY:Ar},{offsetX:Ve,offsetY:Ar},{offsetX:Ve,offsetY:xr}];let kr=[];for(const{offsetX:Tn,offsetY:on}of Sr)kr.push(new a.P(xe+Ct*Tn+Qt*on,Be+zt*Tn+fe*on));let Cn=!1;if(L){const Tn=kr.map((on=>this.projectAndGetPerspectiveRatio(on.x,on.y,E,ht,It)));Cn=Tn.some((on=>!on.isOccluded)),kr=Tn.map((on=>new a.P(on.x,on.y)))}else Cn=!0;return{box:a.az(kr),allPointsOccluded:!Cn}}}class uc{constructor(s,d,_,E){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?d:-d))):E&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Vi{constructor(s,d,_,E,L){this.text=new uc(s?s.text:null,d,_,L),this.icon=new uc(s?s.icon:null,d,E,L)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class nl{constructor(s,d,_){this.text=s,this.icon=d,this.skipFade=_}}class Xo{constructor(s,d,_,E,L){this.bucketInstanceId=s,this.featureIndex=d,this.sourceLayerIndex=_,this.bucketIndex=E,this.tileID=L}}class Pi{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const d=++this.maxGroupID;this.collisionGroups[s]={ID:d,predicate:_=>_.collisionGroupID===d}}return this.collisionGroups[s]}}function xs(N,s,d,_,E){const{horizontalAlign:L,verticalAlign:B}=a.aG(N);return new a.P(-(L-.5)*s+_[0]*E,-(B-.5)*d+_[1]*E)}class Fl{constructor(s,d,_,E,L){this.transform=s.clone(),this.terrain=d,this.collisionIndex=new ha(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Pi(E),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(s){const d=this.terrain;return d?(_,E)=>d.getElevation(s,_,E):null}getBucketParts(s,d,_,E){const L=_.getBucket(d),B=_.latestFeatureIndex;if(!L||!B||d.id!==L.layerIds[0])return;const K=_.collisionBoxArray,tt=L.layers[0].layout,ht=L.layers[0].paint,bt=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),It=_.tileSize/a.$,Ct=_.tileID.toUnwrapped(),zt=tt.get("text-rotation-alignment")==="map",Qt=a.aB(_,1,this.transform.zoom),fe=a.aC(this.collisionIndex.transform,_,ht.get("text-translate"),ht.get("text-translate-anchor")),pe=a.aC(this.collisionIndex.transform,_,ht.get("icon-translate"),ht.get("icon-translate-anchor")),me=Zn(zt,this.transform,Qt);this.retainedQueryData[L.bucketInstanceId]=new Xo(L.bucketInstanceId,B,L.sourceLayerIndex,L.index,_.tileID);const xe={bucket:L,layout:tt,translationText:fe,translationIcon:pe,unwrappedTileID:Ct,pitchedLabelPlaneMatrix:me,scale:bt,textPixelRatio:It,holdingForFade:_.holdingForFade(),collisionBoxArray:K,partiallyEvaluatedTextSize:a.am(L.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID)};if(E)for(const Be of L.sortKeyRanges){const{sortKey:Le,symbolInstanceStart:Ve,symbolInstanceEnd:We}=Be;s.push({sortKey:Le,symbolInstanceStart:Ve,symbolInstanceEnd:We,parameters:xe})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:xe})}attemptAnchorPlacement(s,d,_,E,L,B,K,tt,ht,bt,It,Ct,zt,Qt,fe,pe,me,xe,Be,Le){const Ve=a.aD[s.textAnchor],We=[s.textOffset0,s.textOffset1],Ne=xs(Ve,_,E,We,L),tr=this.collisionIndex.placeCollisionBox(d,Ct,tt,ht,bt,K,B,pe,It.predicate,Be,Ne,Le);if((!xe||this.collisionIndex.placeCollisionBox(xe,Ct,tt,ht,bt,K,B,me,It.predicate,Be,Ne,Le).placeable)&&tr.placeable){let Ar;if(this.prevPlacement&&this.prevPlacement.variableOffsets[zt.crossTileID]&&this.prevPlacement.placements[zt.crossTileID]&&this.prevPlacement.placements[zt.crossTileID].text&&(Ar=this.prevPlacement.variableOffsets[zt.crossTileID].anchor),zt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[zt.crossTileID]={textOffset:We,width:_,height:E,anchor:Ve,textBoxScale:L,prevAnchor:Ar},this.markUsedJustification(Qt,Ve,zt,fe),Qt.allowVerticalPlacement&&(this.markUsedOrientation(Qt,fe,zt),this.placedOrientations[zt.crossTileID]=fe),{shift:Ne,placedGlyphBoxes:tr}}}placeLayerBucketPart(s,d,_){const{bucket:E,layout:L,translationText:B,translationIcon:K,unwrappedTileID:tt,pitchedLabelPlaneMatrix:ht,textPixelRatio:bt,holdingForFade:It,collisionBoxArray:Ct,partiallyEvaluatedTextSize:zt,collisionGroup:Qt}=s.parameters,fe=L.get("text-optional"),pe=L.get("icon-optional"),me=a.aE(L,"text-overlap","text-allow-overlap"),xe=me==="always",Be=a.aE(L,"icon-overlap","icon-allow-overlap"),Le=Be==="always",Ve=L.get("text-rotation-alignment")==="map",We=L.get("text-pitch-alignment")==="map",Ne=L.get("icon-text-fit")!=="none",tr=L.get("symbol-z-order")==="viewport-y",Ar=xe&&(Le||!E.hasIconData()||pe),xr=Le&&(xe||!E.hasTextData()||fe);!E.collisionArrays&&Ct&&E.deserializeCollisionBoxes(Ct);const Sr=this.retainedQueryData[E.bucketInstanceId].tileID,kr=this._getTerrainElevationFunc(Sr),Cn=this.transform.getFastPathSimpleProjectionMatrix(Sr),Tn=(on,Un,Hi)=>{var Sa,Uo;if(d[on.crossTileID])return;if(It)return void(this.placements[on.crossTileID]=new nl(!1,!1,!1));let Ka=!1,Za=!1,Da=!0,Pa=null,lo={box:null,placeable:!1,offscreen:null,occluded:!1},_l={placeable:!1},fa=null,Rl=null,sl=null,Eu=0,Nd=0,rd=0;Un.textFeatureIndex?Eu=Un.textFeatureIndex:on.useRuntimeCollisionCircles&&(Eu=on.featureIndex),Un.verticalTextFeatureIndex&&(Nd=Un.verticalTextFeatureIndex);const nd=Un.textBox;if(nd){const Tu=ll=>{let rs=a.an.horizontal;if(E.allowVerticalPlacement&&!ll&&this.prevPlacement){const cu=this.prevPlacement.placedOrientations[on.crossTileID];cu&&(this.placedOrientations[on.crossTileID]=cu,rs=cu,this.markUsedOrientation(E,rs,on))}return rs},_h=(ll,rs)=>{if(E.allowVerticalPlacement&&on.numVerticalGlyphVertices>0&&Un.verticalTextBox){for(const cu of E.writingModes)if(cu===a.an.vertical?(lo=rs(),_l=lo):lo=ll(),lo&&lo.placeable)break}else lo=ll()},id=on.textAnchorOffsetStartIndex,uf=on.textAnchorOffsetEndIndex;if(uf===id){const ll=(rs,cu)=>{const tc=this.collisionIndex.placeCollisionBox(rs,me,bt,Sr,tt,We,Ve,B,Qt.predicate,kr,void 0,Cn);return tc&&tc.placeable&&(this.markUsedOrientation(E,cu,on),this.placedOrientations[on.crossTileID]=cu),tc};_h((()=>ll(nd,a.an.horizontal)),(()=>{const rs=Un.verticalTextBox;return E.allowVerticalPlacement&&on.numVerticalGlyphVertices>0&&rs?ll(rs,a.an.vertical):{box:null,offscreen:null}})),Tu(lo&&lo.placeable)}else{let ll=a.aD[(Uo=(Sa=this.prevPlacement)===null||Sa===void 0?void 0:Sa.variableOffsets[on.crossTileID])===null||Uo===void 0?void 0:Uo.anchor];const rs=(tc,C0,Vy)=>{const Fg=tc.x2-tc.x1,zp=tc.y2-tc.y1,hf=on.textBoxScale,ad=Ne&&Be==="never"?C0:null;let Nc=null,Ld=me==="never"?1:2,Uy="never";ll&&Ld++;for(let Md=0;Md<Ld;Md++){for(let Yf=id;Yf<uf;Yf++){const Um=E.textAnchorOffsets.get(Yf);if(ll&&Um.textAnchor!==ll)continue;const df=this.attemptAnchorPlacement(Um,tc,Fg,zp,hf,Ve,We,bt,Sr,tt,Qt,Uy,on,E,Vy,B,K,ad,kr);if(df&&(Nc=df.placedGlyphBoxes,Nc&&Nc.placeable))return Ka=!0,Pa=df.shift,Nc}ll?ll=null:Uy=me}return _&&!Nc&&(Nc={box:this.collisionIndex.placeCollisionBox(nd,"always",bt,Sr,tt,We,Ve,B,Qt.predicate,kr,void 0,Cn).box,offscreen:!1,placeable:!1,occluded:!1}),Nc};_h((()=>rs(nd,Un.iconBox,a.an.horizontal)),(()=>{const tc=Un.verticalTextBox;return E.allowVerticalPlacement&&(!lo||!lo.placeable)&&on.numVerticalGlyphVertices>0&&tc?rs(tc,Un.verticalIconBox,a.an.vertical):{box:null,occluded:!0,offscreen:null}})),lo&&(Ka=lo.placeable,Da=lo.offscreen);const cu=Tu(lo&&lo.placeable);if(!Ka&&this.prevPlacement){const tc=this.prevPlacement.variableOffsets[on.crossTileID];tc&&(this.variableOffsets[on.crossTileID]=tc,this.markUsedJustification(E,tc.anchor,on,cu))}}}if(fa=lo,Ka=fa&&fa.placeable,Da=fa&&fa.offscreen,on.useRuntimeCollisionCircles){const Tu=E.text.placedSymbolArray.get(on.centerJustifiedTextSymbolIndex),_h=a.ao(E.textSizeData,zt,Tu),id=L.get("text-padding");Rl=this.collisionIndex.placeCollisionCircles(me,Tu,E.lineVertexArray,E.glyphOffsetArray,_h,tt,ht,_,We,Qt.predicate,on.collisionCircleDiameter,id,B,kr),Rl.circles.length&&Rl.collisionDetected&&!_&&a.w("Collisions detected, but collision boxes are not shown"),Ka=xe||Rl.circles.length>0&&!Rl.collisionDetected,Da=Da&&Rl.offscreen}if(Un.iconFeatureIndex&&(rd=Un.iconFeatureIndex),Un.iconBox){const Tu=_h=>this.collisionIndex.placeCollisionBox(_h,Be,bt,Sr,tt,We,Ve,K,Qt.predicate,kr,Ne&&Pa?Pa:void 0,Cn);_l&&_l.placeable&&Un.verticalIconBox?(sl=Tu(Un.verticalIconBox),Za=sl.placeable):(sl=Tu(Un.iconBox),Za=sl.placeable),Da=Da&&sl.offscreen}const Dp=fe||on.numHorizontalGlyphVertices===0&&on.numVerticalGlyphVertices===0,Bp=pe||on.numIconVertices===0;Dp||Bp?Bp?Dp||(Za=Za&&Ka):Ka=Za&&Ka:Za=Ka=Za&&Ka;const Wf=Za&&sl.placeable;if(Ka&&fa.placeable&&this.collisionIndex.insertCollisionBox(fa.box,me,L.get("text-ignore-placement"),E.bucketInstanceId,_l&&_l.placeable&&Nd?Nd:Eu,Qt.ID),Wf&&this.collisionIndex.insertCollisionBox(sl.box,Be,L.get("icon-ignore-placement"),E.bucketInstanceId,rd,Qt.ID),Rl&&Ka&&this.collisionIndex.insertCollisionCircles(Rl.circles,me,L.get("text-ignore-placement"),E.bucketInstanceId,Eu,Qt.ID),_&&this.storeCollisionData(E.bucketInstanceId,Hi,Un,fa,sl,Rl),on.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(E.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[on.crossTileID]=new nl((Ka||Ar)&&!fa?.occluded,(Za||xr)&&!sl?.occluded,Da||E.justReloaded),d[on.crossTileID]=!0};if(tr){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const on=E.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Un=on.length-1;Un>=0;--Un){const Hi=on[Un];Tn(E.symbolInstances.get(Hi),E.collisionArrays[Hi],Hi)}}else for(let on=s.symbolInstanceStart;on<s.symbolInstanceEnd;on++)Tn(E.symbolInstances.get(on),E.collisionArrays[on],on);E.justReloaded=!1}storeCollisionData(s,d,_,E,L,B){if(_.textBox||_.iconBox){let K,tt;this.collisionBoxArrays.has(s)?K=this.collisionBoxArrays.get(s):(K=new Map,this.collisionBoxArrays.set(s,K)),K.has(d)?tt=K.get(d):(tt={text:null,icon:null},K.set(d,tt)),_.textBox&&(tt.text=E.box),_.iconBox&&(tt.icon=L.box)}if(B){let K=this.collisionCircleArrays[s];K===void 0&&(K=this.collisionCircleArrays[s]=[]);for(let tt=0;tt<B.circles.length;tt+=4)K.push(B.circles[tt+0]-oa),K.push(B.circles[tt+1]-oa),K.push(B.circles[tt+2]),K.push(B.collisionDetected?1:0)}}markUsedJustification(s,d,_,E){let L;L=E===a.an.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[a.aF(d)];const B=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const K of B)K>=0&&(s.text.placedSymbolArray.get(K).crossTileID=L>=0&&K!==L?0:_.crossTileID)}markUsedOrientation(s,d,_){const E=d===a.an.horizontal||d===a.an.horizontalOnly?d:0,L=d===a.an.vertical?d:0,B=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const K of B)s.text.placedSymbolArray.get(K).placedOrientation=E;_.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=L)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let _=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const E=d?d.symbolFadeChange(s):1,L=d?d.opacities:{},B=d?d.variableOffsets:{},K=d?d.placedOrientations:{};for(const tt in this.placements){const ht=this.placements[tt],bt=L[tt];bt?(this.opacities[tt]=new Vi(bt,E,ht.text,ht.icon),_=_||ht.text!==bt.text.placed||ht.icon!==bt.icon.placed):(this.opacities[tt]=new Vi(null,E,ht.text,ht.icon,ht.skipFade),_=_||ht.text||ht.icon)}for(const tt in L){const ht=L[tt];if(!this.opacities[tt]){const bt=new Vi(ht,E,!1,!1);bt.isHidden()||(this.opacities[tt]=bt,_=_||ht.text.placed||ht.icon.placed)}}for(const tt in B)this.variableOffsets[tt]||!this.opacities[tt]||this.opacities[tt].isHidden()||(this.variableOffsets[tt]=B[tt]);for(const tt in K)this.placedOrientations[tt]||!this.opacities[tt]||this.opacities[tt].isHidden()||(this.placedOrientations[tt]=K[tt]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:s)}updateLayerOpacities(s,d){const _={};for(const E of d){const L=E.getBucket(s);L&&E.latestFeatureIndex&&s.id===L.layerIds[0]&&this.updateBucketOpacities(L,E.tileID,_,E.collisionBoxArray)}}updateBucketOpacities(s,d,_,E){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const L=s.layers[0],B=L.layout,K=new Vi(null,0,!1,!1,!0),tt=B.get("text-allow-overlap"),ht=B.get("icon-allow-overlap"),bt=L._unevaluatedLayout.hasValue("text-variable-anchor")||L._unevaluatedLayout.hasValue("text-variable-anchor-offset"),It=B.get("text-rotation-alignment")==="map",Ct=B.get("text-pitch-alignment")==="map",zt=B.get("icon-text-fit")!=="none",Qt=new Vi(null,0,tt&&(ht||!s.hasIconData()||B.get("icon-optional")),ht&&(tt||!s.hasTextData()||B.get("text-optional")),!0);!s.collisionArrays&&E&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(E);const fe=(me,xe,Be)=>{for(let Le=0;Le<xe/4;Le++)me.opacityVertexArray.emplaceBack(Be);me.hasVisibleVertices=me.hasVisibleVertices||Be!==Yo},pe=this.collisionBoxArrays.get(s.bucketInstanceId);for(let me=0;me<s.symbolInstances.length;me++){const xe=s.symbolInstances.get(me),{numHorizontalGlyphVertices:Be,numVerticalGlyphVertices:Le,crossTileID:Ve}=xe;let We=this.opacities[Ve];_[Ve]?We=K:We||(We=Qt,this.opacities[Ve]=We),_[Ve]=!0;const Ne=xe.numIconVertices>0,tr=this.placedOrientations[xe.crossTileID],Ar=tr===a.an.vertical,xr=tr===a.an.horizontal||tr===a.an.horizontalOnly;if(Be>0||Le>0){const kr=Wo(We.text);fe(s.text,Be,Ar?Yo:kr),fe(s.text,Le,xr?Yo:kr);const Cn=We.text.isHidden();[xe.rightJustifiedTextSymbolIndex,xe.centerJustifiedTextSymbolIndex,xe.leftJustifiedTextSymbolIndex].forEach((Un=>{Un>=0&&(s.text.placedSymbolArray.get(Un).hidden=Cn||Ar?1:0)})),xe.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(xe.verticalPlacedTextSymbolIndex).hidden=Cn||xr?1:0);const Tn=this.variableOffsets[xe.crossTileID];Tn&&this.markUsedJustification(s,Tn.anchor,xe,tr);const on=this.placedOrientations[xe.crossTileID];on&&(this.markUsedJustification(s,"left",xe,on),this.markUsedOrientation(s,on,xe))}if(Ne){const kr=Wo(We.icon),Cn=!(zt&&xe.verticalPlacedIconSymbolIndex&&Ar);xe.placedIconSymbolIndex>=0&&(fe(s.icon,xe.numIconVertices,Cn?kr:Yo),s.icon.placedSymbolArray.get(xe.placedIconSymbolIndex).hidden=We.icon.isHidden()),xe.verticalPlacedIconSymbolIndex>=0&&(fe(s.icon,xe.numVerticalIconVertices,Cn?Yo:kr),s.icon.placedSymbolArray.get(xe.verticalPlacedIconSymbolIndex).hidden=We.icon.isHidden())}const Sr=pe&&pe.has(me)?pe.get(me):{text:null,icon:null};if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const kr=s.collisionArrays[me];if(kr){let Cn=new a.P(0,0);if(kr.textBox||kr.verticalTextBox){let Tn=!0;if(bt){const on=this.variableOffsets[Ve];on?(Cn=xs(on.anchor,on.width,on.height,on.textOffset,on.textBoxScale),It&&Cn._rotate(Ct?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Tn=!1}if(kr.textBox||kr.verticalTextBox){let on;kr.textBox&&(on=Ar),kr.verticalTextBox&&(on=xr),Ks(s.textCollisionBox.collisionVertexArray,We.text.placed,!Tn||on,Sr.text,Cn.x,Cn.y)}}if(kr.iconBox||kr.verticalIconBox){const Tn=!!(!xr&&kr.verticalIconBox);let on;kr.iconBox&&(on=Tn),kr.verticalIconBox&&(on=!Tn),Ks(s.iconCollisionBox.collisionVertexArray,We.icon.placed,on,Sr.icon,zt?Cn.x:0,zt?Cn.y:0)}}}}if(s.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);s.bucketInstanceId in this.collisionCircleArrays&&(s.collisionCircleArray=this.collisionCircleArrays[s.bucketInstanceId],delete this.collisionCircleArrays[s.bucketInstanceId])}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,d){const _=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*_>s}setStale(){this.stale=!0}}function Ks(N,s,d,_,E,L){_&&_.length!==0||(_=[0,0,0,0]);const B=_[0]-oa,K=_[1]-oa,tt=_[2]-oa,ht=_[3]-oa;N.emplaceBack(s?1:0,d?1:0,E||0,L||0,B,K),N.emplaceBack(s?1:0,d?1:0,E||0,L||0,tt,K),N.emplaceBack(s?1:0,d?1:0,E||0,L||0,tt,ht),N.emplaceBack(s?1:0,d?1:0,E||0,L||0,B,ht)}const Do=Math.pow(2,25),jl=Math.pow(2,24),Ha=Math.pow(2,17),fl=Math.pow(2,16),Gu=Math.pow(2,9),pl=Math.pow(2,8),El=Math.pow(2,1);function Wo(N){if(N.opacity===0&&!N.placed)return 0;if(N.opacity===1&&N.placed)return 4294967295;const s=N.placed?1:0,d=Math.floor(127*N.opacity);return d*Do+s*jl+d*Ha+s*fl+d*Gu+s*pl+d*El+s}const Yo=0;class Ko{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,d,_,E,L){const B=this._bucketParts;for(;this._currentTileIndex<s.length;)if(d.getBucketParts(B,E,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,B.sort(((K,tt)=>K.sortKey-tt.sortKey)));this._currentPartIndex<B.length;)if(d.placeLayerBucketPart(B[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,L())return!0;return!1}}class Zo{constructor(s,d,_,E,L,B,K,tt){this.placement=new Fl(s,d,B,K,tt),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=E,this._showCollisionBoxes=L,this._done=!1}isDone(){return this._done}continuePlacement(s,d,_){const E=I.now(),L=()=>!this._forceFullPlacement&&I.now()-E>2;for(;this._currentPlacementIndex>=0;){const B=d[s[this._currentPlacementIndex]],K=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=K)&&(!B.maxzoom||B.maxzoom>K)){if(this._inProgressLayer||(this._inProgressLayer=new Ko(B)),this._inProgressLayer.continuePlacement(_[B.source],this.placement,this._showCollisionBoxes,B,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const iu=512/a.$/2;class yu{constructor(s,d,_){this.tileID=s,this.bucketInstanceId=_,this._symbolsByKey={};const E=new Map;for(let L=0;L<d.length;L++){const B=d.get(L),K=B.key,tt=E.get(K);tt?tt.push(B):E.set(K,[B])}for(const[L,B]of E){const K={positions:B.map((tt=>({x:Math.floor(tt.anchorX*iu),y:Math.floor(tt.anchorY*iu)}))),crossTileIDs:B.map((tt=>tt.crossTileID))};if(K.positions.length>128){const tt=new a.aH(K.positions.length,16,Uint16Array);for(const{x:ht,y:bt}of K.positions)tt.add(ht,bt);tt.finish(),delete K.positions,K.index=tt}this._symbolsByKey[L]=K}}getScaledCoordinates(s,d){const{x:_,y:E,z:L}=this.tileID.canonical,{x:B,y:K,z:tt}=d.canonical,ht=iu/Math.pow(2,tt-L),bt=(K*a.$+s.anchorY)*ht,It=E*a.$*iu;return{x:Math.floor((B*a.$+s.anchorX)*ht-_*a.$*iu),y:Math.floor(bt-It)}}findMatches(s,d,_){const E=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let L=0;L<s.length;L++){const B=s.get(L);if(B.crossTileID)continue;const K=this._symbolsByKey[B.key];if(!K)continue;const tt=this.getScaledCoordinates(B,d);if(K.index){const ht=K.index.range(tt.x-E,tt.y-E,tt.x+E,tt.y+E).sort();for(const bt of ht){const It=K.crossTileIDs[bt];if(!_[It]){_[It]=!0,B.crossTileID=It;break}}}else if(K.positions)for(let ht=0;ht<K.positions.length;ht++){const bt=K.positions[ht],It=K.crossTileIDs[ht];if(Math.abs(bt.x-tt.x)<=E&&Math.abs(bt.y-tt.y)<=E&&!_[It]){_[It]=!0,B.crossTileID=It;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:s})=>s))}}class Q{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const d=Math.round((s-this.lng)/360);if(d!==0)for(const _ in this.indexes){const E=this.indexes[_],L={};for(const B in E){const K=E[B];K.tileID=K.tileID.unwrapTo(K.tileID.wrap+d),L[K.tileID.key]=K}this.indexes[_]=L}this.lng=s}addBucket(s,d,_){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let L=0;L<d.symbolInstances.length;L++)d.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const E=this.usedCrossTileIDs[s.overscaledZ];for(const L in this.indexes){const B=this.indexes[L];if(Number(L)>s.overscaledZ)for(const K in B){const tt=B[K];tt.tileID.isChildOf(s)&&tt.findMatches(d.symbolInstances,s,E)}else{const K=B[s.scaledTo(Number(L)).key];K&&K.findMatches(d.symbolInstances,s,E)}}for(let L=0;L<d.symbolInstances.length;L++){const B=d.symbolInstances.get(L);B.crossTileID||(B.crossTileID=_.generate(),E[B.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new yu(s,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(s,d){for(const _ of d.getCrossTileIDsLists())for(const E of _)delete this.usedCrossTileIDs[s][E]}removeStaleBuckets(s){let d=!1;for(const _ in this.indexes){const E=this.indexes[_];for(const L in E)s[E[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,E[L]),delete E[L],d=!0)}return d}}class ee{constructor(){this.layerIndexes={},this.crossTileIDs=new Q,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,d,_){let E=this.layerIndexes[s.id];E===void 0&&(E=this.layerIndexes[s.id]=new gt);let L=!1;const B={};E.handleWrapJump(_);for(const K of d){const tt=K.getBucket(s);tt&&s.id===tt.layerIds[0]&&(tt.bucketInstanceId||(tt.bucketInstanceId=++this.maxBucketInstanceId),E.addBucket(K.tileID,tt,this.crossTileIDs)&&(L=!0),B[tt.bucketInstanceId]=!0)}return E.removeStaleBuckets(B)&&(L=!0),L}pruneUnusedLayers(s){const d={};s.forEach((_=>{d[_]=!0}));for(const _ in this.layerIndexes)d[_]||delete this.layerIndexes[_]}}var Re="void main() {fragColor=vec4(1.0);}";const qe={prelude:Fe(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Fe("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Fe("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Fe(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Fe(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Fe(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Fe(Re,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Fe(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Fe(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Fe("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Fe("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(textureSize(u_elevation_stops,0)[0]);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int num_elevation_stops=textureSize(u_elevation_stops,0)[0];int r=(num_elevation_stops-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(textureSize(u_color_stops,0)[0]);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Fe("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Fe(Re,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Fe(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Fe(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Fe(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Fe(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Fe(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Fe(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Fe(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Fe(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Fe(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Fe(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Fe(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Fe(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Fe(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Fe("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Fe("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Fe("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Fe("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Fe(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Fe("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Fe(N,s){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=s.match(/in ([\w]+) ([\w]+)/g),E=N.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),B=L?L.concat(E):E,K={};return{fragmentSource:N=N.replace(d,((tt,ht,bt,It,Ct)=>(K[Ct]=!0,ht==="define"?`
#ifndef HAS_UNIFORM_u_${Ct}
in ${bt} ${It} ${Ct};
#else
uniform ${bt} ${It} u_${Ct};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ct}
    ${bt} ${It} ${Ct} = u_${Ct};
#endif
`))),vertexSource:s=s.replace(d,((tt,ht,bt,It,Ct)=>{const zt=It==="float"?"vec2":"vec4",Qt=Ct.match(/color/)?"color":zt;return K[Ct]?ht==="define"?`
#ifndef HAS_UNIFORM_u_${Ct}
uniform lowp float u_${Ct}_t;
in ${bt} ${zt} a_${Ct};
out ${bt} ${It} ${Ct};
#else
uniform ${bt} ${It} u_${Ct};
#endif
`:Qt==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ct}
    ${Ct} = a_${Ct};
#else
    ${bt} ${It} ${Ct} = u_${Ct};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ct}
    ${Ct} = unpack_mix_${Qt}(a_${Ct}, u_${Ct}_t);
#else
    ${bt} ${It} ${Ct} = u_${Ct};
#endif
`:ht==="define"?`
#ifndef HAS_UNIFORM_u_${Ct}
uniform lowp float u_${Ct}_t;
in ${bt} ${zt} a_${Ct};
#else
uniform ${bt} ${It} u_${Ct};
#endif
`:Qt==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ct}
    ${bt} ${It} ${Ct} = a_${Ct};
#else
    ${bt} ${It} ${Ct} = u_${Ct};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ct}
    ${bt} ${It} ${Ct} = unpack_mix_${Qt}(a_${Ct}, u_${Ct}_t);
#else
    ${bt} ${It} ${Ct} = u_${Ct};
#endif
`})),staticAttributes:_,staticUniforms:B}}class nr{constructor(s,d,_){this.vertexBuffer=s,this.indexBuffer=d,this.segments=_}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var rn=a.aI([{name:"a_pos",type:"Int16",components:2}]);const mn="#define PROJECTION_MERCATOR",un="mercator";class En{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return un}get shaderDefine(){return mn}get shaderPreludeCode(){return qe.projectionMercator}get vertexShaderPreludeCode(){return qe.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aJ.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(s){}getMeshFromTileID(s,d,_,E,L){if(this._cachedMesh)return this._cachedMesh;const B=new a.aK;B.emplaceBack(0,0),B.emplaceBack(a.$,0),B.emplaceBack(0,a.$),B.emplaceBack(a.$,a.$);const K=s.createVertexBuffer(B,rn.members),tt=a.aL.simpleSegment(0,0,4,2),ht=new a.aM;ht.emplaceBack(1,0,2),ht.emplaceBack(1,2,3);const bt=s.createIndexBuffer(ht);return this._cachedMesh=new nr(K,bt,tt),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(s){}}class fn{constructor(s=0,d=0,_=0,E=0){if(isNaN(s)||s<0||isNaN(d)||d<0||isNaN(_)||_<0||isNaN(E)||E<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=d,this.left=_,this.right=E}interpolate(s,d,_){return d.top!=null&&s.top!=null&&(this.top=a.C.number(s.top,d.top,_)),d.bottom!=null&&s.bottom!=null&&(this.bottom=a.C.number(s.bottom,d.bottom,_)),d.left!=null&&s.left!=null&&(this.left=a.C.number(s.left,d.left,_)),d.right!=null&&s.right!=null&&(this.right=a.C.number(s.right,d.right,_)),this}getCenter(s,d){const _=a.ag((this.left+s-this.right)/2,0,s),E=a.ag((this.top+d-this.bottom)/2,0,d);return new a.P(_,E)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new fn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Yn(N,s){if(!N.renderWorldCopies||N.lngRange)return;const d=s.lng-N.center.lng;s.lng+=d>180?-360:d<-180?360:0}function Nn(N){return Math.max(0,Math.floor(N))}class ti{constructor(s,d,_,E,L,B){this._callbacks=s,this._tileSize=512,this._renderWorldCopies=B===void 0||!!B,this._minZoom=d||0,this._maxZoom=_||22,this._minPitch=E??0,this._maxPitch=L??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Nn(this._zoom),this._scale=a.ae(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new fn,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(s,d,_){this._latRange=s.latRange,this._lngRange=s.lngRange,this._width=s.width,this._height=s.height,this._center=s.center,this._elevation=s.elevation,this._minElevationForCurrentTile=s.minElevationForCurrentTile,this._zoom=s.zoom,this._tileZoom=Nn(this._zoom),this._scale=a.ae(this._zoom),this._bearingInRadians=s.bearingInRadians,this._fovInRadians=s.fovInRadians,this._pitchInRadians=s.pitchInRadians,this._rollInRadians=s.rollInRadians,this._unmodified=s.unmodified,this._edgeInsets=new fn(s.padding.top,s.padding.bottom,s.padding.left,s.padding.right),this._minZoom=s.minZoom,this._maxZoom=s.maxZoom,this._minPitch=s.minPitch,this._maxPitch=s.maxPitch,this._renderWorldCopies=s.renderWorldCopies,this._cameraToCenterDistance=s.cameraToCenterDistance,this._nearZ=s.nearZ,this._farZ=s.farZ,this._autoCalculateNearFarZ=!_&&s.autoCalculateNearFarZ,d&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(s){this._minElevationForCurrentTile=s}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(s){this._minZoom!==s&&(this._minZoom=s,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(s){this._minPitch!==s&&(this._minPitch=s,this.setPitch(Math.max(this.pitch,s)))}get maxPitch(){return this._maxPitch}setMaxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.setPitch(Math.min(this.pitch,s)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(s){const d=a.aN(s,-180,180)*Math.PI/180;var _,E,L,B,K,tt,ht,bt,It;this._bearingInRadians!==d&&(this._unmodified=!1,this._bearingInRadians=d,this._calcMatrices(),this._rotationMatrix=v(),_=this._rotationMatrix,L=-this._bearingInRadians,B=(E=this._rotationMatrix)[0],K=E[1],tt=E[2],ht=E[3],bt=Math.sin(L),It=Math.cos(L),_[0]=B*It+tt*bt,_[1]=K*It+ht*bt,_[2]=B*-bt+tt*It,_[3]=K*-bt+ht*It)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(s){const d=a.ag(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==d&&(this._unmodified=!1,this._pitchInRadians=d,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(s){const d=s/180*Math.PI;this._rollInRadians!==d&&(this._unmodified=!1,this._rollInRadians=d,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aO(this._fovInRadians)}setFov(s){s=a.ag(s,.1,150),this.fov!==s&&(this._unmodified=!1,this._fovInRadians=a.ad(s),this._calcMatrices())}get zoom(){return this._zoom}setZoom(s){const d=this.getConstrained(this._center,s).zoom;this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this._tileZoom=Math.max(0,Math.floor(d)),this._scale=a.ae(d),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(s,d){this._autoCalculateNearFarZ=!1,this._nearZ=s,this._farZ=d,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,d,_){this._unmodified=!1,this._edgeInsets.interpolate(s,d,_),this._constrain(),this._calcMatrices()}resize(s,d,_=!0){this._width=s,this._height=d,_&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new He([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(s){s?(this._lngRange=[s.getWest(),s.getEast()],this._latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,a.ah])}getConstrained(s,d){return this._callbacks.getConstrained(s,d)}getCameraQueryGeometry(s,d){if(d.length===1)return[d[0],s];{const{minX:_,minY:E,maxX:L,maxY:B}=a.a1.fromPoints(d).extend(s);return[new a.P(_,E),new a.P(L,E),new a.P(L,B),new a.P(_,B),new a.P(_,E)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const s=this._unmodified,{center:d,zoom:_}=this.getConstrained(this.center,this.zoom);this.setCenter(d),this.setZoom(_),this._unmodified=s,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let s=a.af(new Float64Array(16));a.N(s,s,[this._width/2,-this._height/2,1]),a.M(s,s,[1,-1,0]),this._clipSpaceToPixelsMatrix=s,s=a.af(new Float64Array(16)),a.N(s,s,[1,-1,1]),a.M(s,s,[-1,-1,0]),a.N(s,s,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=s,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(s,d,_,E){const L=_!==void 0?_:this.bearing,B=E=E!==void 0?E:this.pitch,K=a.a0.fromLngLat(s,d),tt=-Math.cos(a.ad(B)),ht=Math.sin(a.ad(B)),bt=ht*Math.sin(a.ad(L)),It=-ht*Math.cos(a.ad(L));let Ct=this.elevation;const zt=d-Ct;let Qt;tt*zt>=0||Math.abs(tt)<.1?(Qt=1e4,Ct=d+Qt*tt):Qt=-zt/tt;let fe,pe,me=a.aP(1,K.y),xe=0;do{if(xe+=1,xe>10)break;pe=Qt/me,fe=new a.a0(K.x+bt*pe,K.y+It*pe),me=1/fe.meterInMercatorCoordinateUnits()}while(Math.abs(Qt-pe*me)>1e-12);return{center:fe.toLngLat(),elevation:Ct,zoom:a.aj(this.height/2/Math.tan(this.fovInRadians/2)/pe/this.tileSize)}}recalculateZoomAndCenter(s){if(this.elevation-s==0)return;const d=a.ai(1,this.center.lat)*this.worldSize,_=this.cameraToCenterDistance/d,E=a.a0.fromLngLat(this.center,this.elevation),L=oe(this.center,this.elevation,this.pitch,this.bearing,_);this._elevation=s;const B=this.calculateCenterFromCameraLngLatAlt(L.toLngLat(),a.aP(L.z,E.y),this.bearing,this.pitch);this._elevation=B.elevation,this._center=B.center,this.setZoom(B.zoom)}getCameraPoint(){const s=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(s*Math.sin(this.rollInRadians),s*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const s=a.ai(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/s).toLngLat()}getMercatorTileCoordinates(s){if(!s)return[0,0,1,1];const d=s.canonical.z>=0?1<<s.canonical.z:Math.pow(2,s.canonical.z);return[s.canonical.x/d,s.canonical.y/d,1/d/a.$,1/d/a.$]}}class jn{constructor(s,d){this.min=s,this.max=d,this.center=a.aQ([],a.aR([],this.min,this.max),.5)}quadrant(s){const d=[s%2==0,s<2],_=a.aS(this.min),E=a.aS(this.max);for(let L=0;L<d.length;L++)_[L]=d[L]?this.min[L]:this.center[L],E[L]=d[L]?this.center[L]:this.max[L];return E[2]=this.max[2],new jn(_,E)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersectsFrustum(s){let d=!0;for(let _=0;_<s.planes.length;_++){const E=this.intersectsPlane(s.planes[_]);if(E===0)return 0;E===1&&(d=!1)}return d?2:s.aabb.min[0]>this.max[0]||s.aabb.min[1]>this.max[1]||s.aabb.min[2]>this.max[2]||s.aabb.max[0]<this.min[0]||s.aabb.max[1]<this.min[1]||s.aabb.max[2]<this.min[2]?0:1}intersectsPlane(s){let d=s[3],_=s[3];for(let E=0;E<3;E++)s[E]>0?(d+=s[E]*this.min[E],_+=s[E]*this.max[E]):(_+=s[E]*this.min[E],d+=s[E]*this.max[E]);return d>=0?2:_<0?0:1}}class Zr{distanceToTile2d(s,d,_,E){const L=E.distanceX([s,d]),B=E.distanceY([s,d]);return Math.hypot(L,B)}getWrap(s,d,_){return _}getTileBoundingVolume(s,d,_,E){var L,B;let K=_,tt=_;if(E?.terrain){const bt=new a.Z(s.z,d,s.z,s.x,s.y),It=E.terrain.getMinMaxElevation(bt);K=(L=It.minElevation)!==null&&L!==void 0?L:_,tt=(B=It.maxElevation)!==null&&B!==void 0?B:_}const ht=1<<s.z;return new jn([d+s.x/ht,s.y/ht,K],[d+(s.x+1)/ht,(s.y+1)/ht,tt])}allowVariableZoom(s,d){const _=s.fov*(Math.abs(Math.cos(s.rollInRadians))*s.height+Math.abs(Math.sin(s.rollInRadians))*s.width)/s.height,E=a.ag(78.5-_/2,0,60);return!!d.terrain||s.pitch>E}allowWorldCopies(){return!0}prepareNextFrame(){}}class Ln{constructor(s,d,_){this.points=s,this.planes=d,this.aabb=_}static fromInvProjectionMatrix(s,d=1,_=0,E,L){const B=L?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],K=Math.pow(2,_),tt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((Ct=>(function(zt,Qt,fe,pe){const me=a.av([],zt,Qt),xe=1/me[3]/fe*pe;return a.aX(me,me,[xe,xe,1/me[3],xe])})(Ct,s,d,K)));E&&(function(Ct,zt,Qt,fe){const pe=fe?4:0,me=fe?0:4;let xe=0;const Be=[],Le=[];for(let Ne=0;Ne<4;Ne++){const tr=a.aT([],Ct[Ne+me],Ct[Ne+pe]),Ar=a.aY(tr);a.aQ(tr,tr,1/Ar),Be.push(Ar),Le.push(tr)}for(let Ne=0;Ne<4;Ne++){const tr=a.aZ(Ct[Ne+pe],Le[Ne],Qt);xe=tr!==null&&tr>=0?Math.max(xe,tr):Math.max(xe,Be[Ne])}const Ve=(function(Ne,tr){const Ar=a.aT([],Ne[tr[0]],Ne[tr[1]]),xr=a.aT([],Ne[tr[2]],Ne[tr[1]]),Sr=[0,0,0,0];return a.aU(Sr,a.aV([],Ar,xr)),Sr[3]=-a.aW(Sr,Ne[tr[0]]),Sr})(Ct,zt),We=(function(Ne,tr){const Ar=a.a_(Ne),xr=a.a$([],Ne,1/Ar),Sr=a.aT([],tr,a.aQ([],xr,a.aW(tr,xr))),kr=a.a_(Sr);if(kr>0){const Cn=Math.sqrt(1-xr[3]*xr[3]),Tn=a.aQ([],xr,-xr[3]),on=a.aR([],Tn,a.aQ([],Sr,Cn/kr));return a.b0(tr,on)}return null})(Qt,Ve);if(We!==null){const Ne=We/a.aW(Le[0],Ve);xe=Math.min(xe,Ne)}for(let Ne=0;Ne<4;Ne++){const tr=Math.min(xe,Be[Ne]);Ct[Ne+me]=[Ct[Ne+pe][0]+Le[Ne][0]*tr,Ct[Ne+pe][1]+Le[Ne][1]*tr,Ct[Ne+pe][2]+Le[Ne][2]*tr,1]}})(tt,B[0],E,L);const ht=B.map((Ct=>{const zt=a.aT([],tt[Ct[0]],tt[Ct[1]]),Qt=a.aT([],tt[Ct[2]],tt[Ct[1]]),fe=a.aU([],a.aV([],zt,Qt)),pe=-a.aW(fe,tt[Ct[1]]);return fe.concat(pe)})),bt=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],It=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Ct of tt)for(let zt=0;zt<3;zt++)bt[zt]=Math.min(bt[zt],Ct[zt]),It[zt]=Math.max(It[zt],Ct[zt]);return new Ln(tt,ht,new jn(bt,It))}}class yi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,d,_){return this._helper.interpolatePadding(s,d,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,d,_=!0){this._helper.resize(s,d,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,d){this._helper.overrideNearFarZ(s,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s,d){}constructor(s,d,_,E,L){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new ti({calcMatrices:()=>{this._calcMatrices()},getConstrained:(B,K)=>this.getConstrained(B,K)},s,d,_,E,L),this._coveringTilesDetailsProvider=new Zr}clone(){const s=new yi;return s.apply(this),s}apply(s,d,_){this._helper.apply(s,d,_)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(s){const d=[new a.b1(0,s)];if(this._helper._renderWorldCopies){const _=this.screenPointToMercatorCoordinate(new a.P(0,0)),E=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),L=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),B=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),K=Math.floor(Math.min(_.x,E.x,L.x,B.x)),tt=Math.floor(Math.max(_.x,E.x,L.x,B.x)),ht=1;for(let bt=K-ht;bt<=tt+ht;bt++)bt!==0&&d.push(new a.b1(bt,s))}return d}getCameraFrustum(){return Ln.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){const d=this.screenPointToLocation(this.centerPoint,s),_=s?s.getElevationForLngLatZoom(d,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(_)}setLocationAtPoint(s,d){const _=a.ai(this.elevation,this.center.lat),E=this.screenPointToMercatorCoordinateAtZ(d,_),L=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,_),B=a.a0.fromLngLat(s),K=new a.a0(B.x-(E.x-L.x),B.y-(E.y-L.y));this.setCenter(K?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(s,d){return d?this.coordinatePoint(a.a0.fromLngLat(s),d.getElevationForLngLatZoom(s,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(a.a0.fromLngLat(s))}screenPointToLocation(s,d){var _;return(_=this.screenPointToMercatorCoordinate(s,d))===null||_===void 0?void 0:_.toLngLat()}screenPointToMercatorCoordinate(s,d){if(d){const _=d.pointCoordinate(s);if(_!=null)return _}return this.screenPointToMercatorCoordinateAtZ(s)}screenPointToMercatorCoordinateAtZ(s,d){const _=d||0,E=[s.x,s.y,0,1],L=[s.x,s.y,1,1];a.av(E,E,this._pixelMatrixInverse),a.av(L,L,this._pixelMatrixInverse);const B=E[3],K=L[3],tt=E[1]/B,ht=L[1]/K,bt=E[2]/B,It=L[2]/K,Ct=bt===It?0:(_-bt)/(It-bt);return new a.a0(a.C.number(E[0]/B,L[0]/K,Ct)/this.worldSize,a.C.number(tt,ht,Ct)/this.worldSize,_)}coordinatePoint(s,d=0,_=this._pixelMatrix){const E=[s.x*this.worldSize,s.y*this.worldSize,d,1];return a.av(E,E,_),new a.P(E[0]/E[3],E[1]/E[3])}getBounds(){const s=Math.max(0,this._helper._height/2-Mt(this));return new He().extend(this.screenPointToLocation(new a.P(0,s))).extend(this.screenPointToLocation(new a.P(this._helper._width,s))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(s,d){return d?d.pointCoordinate(s)!=null:s.y>this.height/2-Mt(this)}calculatePosMatrix(s,d=!1,_){var E;const L=(E=s.key)!==null&&E!==void 0?E:a.b2(s.wrap,s.canonical.z,s.canonical.z,s.canonical.x,s.canonical.y),B=d?this._alignedPosMatrixCache:this._posMatrixCache;if(B.has(L)){const ht=B.get(L);return _?ht.f32:ht.f64}const K=Bt(s,this.worldSize);a.O(K,d?this._alignedProjMatrix:this._viewProjMatrix,K);const tt={f64:K,f32:new Float32Array(K)};return B.set(L,tt),_?tt.f32:tt.f64}calculateFogMatrix(s){const d=s.key,_=this._fogMatrixCacheF32;if(_.has(d))return _.get(d);const E=Bt(s,this.worldSize);return a.O(E,this._fogMatrix,E),_.set(d,new Float32Array(E)),_.get(d)}getConstrained(s,d){d=a.ag(+d,this.minZoom,this.maxZoom);const _={center:new a.S(s.lng,s.lat),zoom:d};let E=this._helper._lngRange;this._helper._renderWorldCopies||E!==null||(E=[-179.9999999999,180-1e-10]);const L=this.tileSize*a.ae(_.zoom);let B=0,K=L,tt=0,ht=L,bt=0,It=0;const{x:Ct,y:zt}=this.size;if(this._helper._latRange){const Be=this._helper._latRange;B=a.U(Be[1])*L,K=a.U(Be[0])*L,K-B<zt&&(bt=zt/(K-B))}E&&(tt=a.aN(a.V(E[0])*L,0,L),ht=a.aN(a.V(E[1])*L,0,L),ht<tt&&(ht+=L),ht-tt<Ct&&(It=Ct/(ht-tt)));const{x:Qt,y:fe}=Me(L,s);let pe,me;const xe=Math.max(It||0,bt||0);if(xe){const Be=new a.P(It?(ht+tt)/2:Qt,bt?(K+B)/2:fe);return _.center=Ft(L,Be).wrap(),_.zoom+=a.aj(xe),_}if(this._helper._latRange){const Be=zt/2;fe-Be<B&&(me=B+Be),fe+Be>K&&(me=K-Be)}if(E){const Be=(tt+ht)/2;let Le=Qt;this._helper._renderWorldCopies&&(Le=a.aN(Qt,Be-L/2,Be+L/2));const Ve=Ct/2;Le-Ve<tt&&(pe=tt+Ve),Le+Ve>ht&&(pe=ht-Ve)}if(pe!==void 0||me!==void 0){const Be=new a.P(pe??Qt,me??fe);_.center=Ft(L,Be).wrap()}return _}calculateCenterFromCameraLngLatAlt(s,d,_,E){return this._helper.calculateCenterFromCameraLngLatAlt(s,d,_,E)}_calculateNearFarZIfNeeded(s,d,_){if(!this._helper.autoCalculateNearFarZ)return;const E=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),L=s-E*this._helper._pixelPerMeter/Math.cos(d),B=E<0?L:s,K=Math.PI/2+this.pitchInRadians,tt=a.ad(this.fov)*(Math.abs(Math.cos(a.ad(this.roll)))*this.height+Math.abs(Math.sin(a.ad(this.roll)))*this.width)/this.height*(.5+_.y/this.height),ht=Math.sin(tt)*B/Math.sin(a.ag(Math.PI-K-tt,.01,Math.PI-.01)),bt=Mt(this),It=Math.atan(bt/this._helper.cameraToCenterDistance),Ct=a.ad(.75),zt=It>Ct?2*It*(.5+_.y/(2*bt)):Ct,Qt=Math.sin(zt)*B/Math.sin(a.ag(Math.PI-K-zt,.01,Math.PI-.01)),fe=Math.min(ht,Qt);this._helper._farZ=1.01*(Math.cos(Math.PI/2-d)*fe+B),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const s=this.centerOffset,d=Me(this.worldSize,this.center),_=d.x,E=d.y;this._helper._pixelPerMeter=a.ai(1,this.center.lat)*this.worldSize;const L=a.ad(Math.min(this.pitch,rr)),B=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(L));let K;this._calculateNearFarZIfNeeded(B,L,s),K=new Float64Array(16),a.b3(K,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.ap(this._invProjMatrix,K),K[8]=2*-s.x/this._helper._width,K[9]=2*s.y/this._helper._height,this._projectionMatrix=a.b4(K),a.N(K,K,[1,-1,1]),a.M(K,K,[0,0,-this._helper.cameraToCenterDistance]),a.b5(K,K,-this.rollInRadians),a.b6(K,K,this.pitchInRadians),a.b5(K,K,-this.bearingInRadians),a.M(K,K,[-_,-E,0]),this._mercatorMatrix=a.N([],K,[this.worldSize,this.worldSize,this.worldSize]),a.N(K,K,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,K),a.M(K,K,[0,0,-this.elevation]),this._viewProjMatrix=K,this._invViewProjMatrix=a.ap([],K);const tt=[0,0,-1,1];a.av(tt,tt,this._invViewProjMatrix),this._cameraPosition=[tt[0]/tt[3],tt[1]/tt[3],tt[2]/tt[3]],this._fogMatrix=new Float64Array(16),a.b3(this._fogMatrix,this.fovInRadians,this.width/this.height,B,this._helper._farZ),this._fogMatrix[8]=2*-s.x/this.width,this._fogMatrix[9]=2*s.y/this.height,a.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.b5(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.b6(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.b5(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.M(this._fogMatrix,this._fogMatrix,[-_,-E,0]),a.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,K);const ht=this._helper._width%2/2,bt=this._helper._height%2/2,It=Math.cos(this.bearingInRadians),Ct=Math.sin(-this.bearingInRadians),zt=_-Math.round(_)+It*ht+Ct*bt,Qt=E-Math.round(E)+It*bt+Ct*ht,fe=new Float64Array(K);if(a.M(fe,fe,[zt>.5?zt-1:zt,Qt>.5?Qt-1:Qt,0]),this._alignedProjMatrix=fe,K=a.ap(new Float64Array(16),this._pixelMatrix),!K)throw new Error("failed to invert matrix");this._pixelMatrixInverse=K,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const s=this.screenPointToMercatorCoordinate(new a.P(0,0)),d=[s.x*this.worldSize,s.y*this.worldSize,0,1];return a.av(d,d,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const s=a.ai(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/s).toLngLat()}lngLatToCameraDepth(s,d){const _=a.a0.fromLngLat(s),E=[_.x*this.worldSize,_.y*this.worldSize,d,1];return a.av(E,E,this._viewProjMatrix),E[2]/E[3]}getProjectionData(s){const{overscaledTileID:d,aligned:_,applyTerrainMatrix:E}=s,L=this._helper.getMercatorTileCoordinates(d),B=d?this.calculatePosMatrix(d,_,!0):null;let K;return K=d&&d.terrainRttPosMatrix32f&&E?d.terrainRttPosMatrix32f:B||a.b7(),{mainMatrix:K,tileMercatorCoords:L,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:K}}isLocationOccluded(s){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(s,d,_){return 1}transformLightDirection(s){return a.aS(s)}getRayDirectionFromPixel(s){throw new Error("Not implemented.")}projectTileCoordinates(s,d,_,E){const L=this.calculatePosMatrix(_);let B;E?(B=[s,d,E(s,d),1],a.av(B,B,L)):(B=[s,d,0,1],rl(B,B,L));const K=B[3];return{point:new a.P(B[0]/K,B[1]/K),signedDistanceFromCamera:K,isOccluded:!1}}populateCache(s){for(const d of s)this.calculatePosMatrix(d)}getMatrixForModel(s,d){const _=a.a0.fromLngLat(s,d),E=_.meterInMercatorCoordinateUnits(),L=a.b8();return a.M(L,L,[_.x,_.y,_.z]),a.b5(L,L,Math.PI),a.b6(L,L,Math.PI/2),a.N(L,L,[-E,E,E]),L}getProjectionDataForCustomLayer(s=!0){const d=new a.Z(0,0,0,0,0),_=this.getProjectionData({overscaledTileID:d,applyGlobeMatrix:s}),E=Bt(d,this.worldSize);a.O(E,this._viewProjMatrix,E),_.tileMercatorCoords=[0,0,1,1];const L=[a.$,a.$,this.worldSize/this._helper.pixelsPerMeter],B=a.b9();return a.N(B,E,L),_.fallbackMatrix=B,_.mainMatrix=B,_}getFastPathSimpleProjectionMatrix(s){return this.calculatePosMatrix(s)}}function sa(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Ii(N){if(N.useSlerp)if(N.k<1){const s=a.ba(N.startEulerAngles.roll,N.startEulerAngles.pitch,N.startEulerAngles.bearing),d=a.ba(N.endEulerAngles.roll,N.endEulerAngles.pitch,N.endEulerAngles.bearing),_=new Float64Array(4);a.bb(_,s,d,N.k);const E=a.bc(_);N.tr.setRoll(E.roll),N.tr.setPitch(E.pitch),N.tr.setBearing(E.bearing)}else N.tr.setRoll(N.endEulerAngles.roll),N.tr.setPitch(N.endEulerAngles.pitch),N.tr.setBearing(N.endEulerAngles.bearing);else N.tr.setRoll(a.C.number(N.startEulerAngles.roll,N.endEulerAngles.roll,N.k)),N.tr.setPitch(a.C.number(N.startEulerAngles.pitch,N.endEulerAngles.pitch,N.k)),N.tr.setBearing(a.C.number(N.startEulerAngles.bearing,N.endEulerAngles.bearing,N.k))}function zi(N,s,d,_,E){const L=E.padding,B=Me(E.worldSize,d.getNorthWest()),K=Me(E.worldSize,d.getNorthEast()),tt=Me(E.worldSize,d.getSouthEast()),ht=Me(E.worldSize,d.getSouthWest()),bt=a.ad(-_),It=B.rotate(bt),Ct=K.rotate(bt),zt=tt.rotate(bt),Qt=ht.rotate(bt),fe=new a.P(Math.max(It.x,Ct.x,Qt.x,zt.x),Math.max(It.y,Ct.y,Qt.y,zt.y)),pe=new a.P(Math.min(It.x,Ct.x,Qt.x,zt.x),Math.min(It.y,Ct.y,Qt.y,zt.y)),me=fe.sub(pe),xe=(E.width-(L.left+L.right+s.left+s.right))/me.x,Be=(E.height-(L.top+L.bottom+s.top+s.bottom))/me.y;if(Be<0||xe<0)return void sa();const Le=Math.min(a.aj(E.scale*Math.min(xe,Be)),N.maxZoom),Ve=a.P.convert(N.offset),We=new a.P((s.left-s.right)/2,(s.top-s.bottom)/2).rotate(a.ad(_)),Ne=Ve.add(We).mult(E.scale/a.ae(Le));return{center:Ft(E.worldSize,B.add(tt).div(2).sub(Ne)),zoom:Le,bearing:_}}class da{get useGlobeControls(){return!1}handlePanInertia(s,d){return{easingOffset:s,easingCenter:d.center}}handleMapControlsRollPitchBearingZoom(s,d){s.bearingDelta&&d.setBearing(d.bearing+s.bearingDelta),s.pitchDelta&&d.setPitch(d.pitch+s.pitchDelta),s.rollDelta&&d.setRoll(d.roll+s.rollDelta),s.zoomDelta&&d.setZoom(d.zoom+s.zoomDelta)}handleMapControlsPan(s,d,_){s.around.distSqr(d.centerPoint)<.01||d.setLocationAtPoint(_,s.around)}cameraForBoxAndBearing(s,d,_,E,L){return zi(s,d,_,E,L)}handleJumpToCenterZoom(s,d){s.zoom!==(d.zoom!==void 0?+d.zoom:s.zoom)&&s.setZoom(+d.zoom),d.center!==void 0&&s.setCenter(a.S.convert(d.center))}handleEaseTo(s,d){const _=s.zoom,E=s.padding,L={roll:s.roll,pitch:s.pitch,bearing:s.bearing},B={roll:d.roll===void 0?s.roll:d.roll,pitch:d.pitch===void 0?s.pitch:d.pitch,bearing:d.bearing===void 0?s.bearing:d.bearing},K=d.zoom!==void 0,tt=!s.isPaddingEqual(d.padding);let ht=!1;const bt=K?+d.zoom:s.zoom;let It=s.centerPoint.add(d.offsetAsPoint);const Ct=s.screenPointToLocation(It),{center:zt,zoom:Qt}=s.getConstrained(a.S.convert(d.center||Ct),bt??_);Yn(s,zt);const fe=Me(s.worldSize,Ct),pe=Me(s.worldSize,zt).sub(fe),me=a.ae(Qt-_);return ht=Qt!==_,{easeFunc:xe=>{if(ht&&s.setZoom(a.C.number(_,Qt,xe)),a.bd(L,B)||Ii({startEulerAngles:L,endEulerAngles:B,tr:s,k:xe,useSlerp:L.roll!=B.roll}),tt&&(s.interpolatePadding(E,d.padding,xe),It=s.centerPoint.add(d.offsetAsPoint)),d.around)s.setLocationAtPoint(d.around,d.aroundPoint);else{const Be=a.ae(s.zoom-_),Le=Qt>_?Math.min(2,me):Math.max(.5,me),Ve=Math.pow(Le,1-xe),We=Ft(s.worldSize,fe.add(pe.mult(xe*Ve)).mult(Be));s.setLocationAtPoint(s.renderWorldCopies?We.wrap():We,It)}},isZooming:ht,elevationCenter:zt}}handleFlyTo(s,d){const _=d.zoom!==void 0,E=s.zoom,L=s.getConstrained(a.S.convert(d.center||d.locationAtOffset),_?+d.zoom:E),B=L.center,K=L.zoom;Yn(s,B);const tt=Me(s.worldSize,d.locationAtOffset),ht=Me(s.worldSize,B).sub(tt),bt=ht.mag(),It=a.ae(K-E);let Ct;if(d.minZoom!==void 0){const zt=Math.min(+d.minZoom,E,K),Qt=s.getConstrained(B,zt).zoom;Ct=a.ae(Qt-E)}return{easeFunc:(zt,Qt,fe,pe)=>{s.setZoom(zt===1?K:E+a.aj(Qt));const me=zt===1?B:Ft(s.worldSize,tt.add(ht.mult(fe)).mult(Qt));s.setLocationAtPoint(s.renderWorldCopies?me.wrap():me,pe)},scaleOfZoom:It,targetCenter:B,scaleOfMinZoom:Ct,pixelPathLength:bt}}}class Bn{constructor(s,d,_){this.blendFunction=s,this.blendColor=d,this.mask=_}}Bn.Replace=[1,0],Bn.disabled=new Bn(Bn.Replace,a.be.transparent,[!1,!1,!1,!1]),Bn.unblended=new Bn(Bn.Replace,a.be.transparent,[!0,!0,!0,!0]),Bn.alphaBlended=new Bn([1,771],a.be.transparent,[!0,!0,!0,!0]);const Xa=2305;class pi{constructor(s,d,_){this.enable=s,this.mode=d,this.frontFace=_}}pi.disabled=new pi(!1,1029,Xa),pi.backCCW=new pi(!0,1029,Xa),pi.frontCCW=new pi(!0,1028,Xa);class ei{constructor(s,d,_){this.func=s,this.mask=d,this.range=_}}ei.ReadOnly=!1,ei.ReadWrite=!0,ei.disabled=new ei(519,ei.ReadOnly,[0,1]);const Tl=7680;class zn{constructor(s,d,_,E,L,B){this.test=s,this.ref=d,this.mask=_,this.fail=E,this.depthFail=L,this.pass=B}}zn.disabled=new zn({func:519,mask:0},0,0,Tl,Tl,Tl);const $l=new WeakMap;function No(N){var s;if($l.has(N))return $l.get(N);{const d=(s=N.getParameter(N.VERSION))===null||s===void 0?void 0:s.startsWith("WebGL 2.0");return $l.set(N,d),d}}class wo{get awaitingQuery(){return!!this._readbackQueue}constructor(s){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=s;const d=s.context,_=d.gl;this._texFormat=_.RGBA,this._texType=_.UNSIGNED_BYTE;const E=new a.aK;E.emplaceBack(-1,-1),E.emplaceBack(2,-1),E.emplaceBack(-1,2);const L=new a.aM;L.emplaceBack(0,1,2),this._fullscreenTriangle=new nr(d.createVertexBuffer(E,rn.members),d.createIndexBuffer(L),a.aL.simpleSegment(0,0,E.length,L.length)),this._resultBuffer=new Uint8Array(4),d.activeTexture.set(_.TEXTURE1);const B=_.createTexture();_.bindTexture(_.TEXTURE_2D,B),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texImage2D(_.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=d.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(B),No(_)&&(this._pbo=_.createBuffer(),_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.bufferData(_.PIXEL_PACK_BUFFER,4,_.STREAM_READ),_.bindBuffer(_.PIXEL_PACK_BUFFER,null))}destroy(){const s=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),s.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(s,d){const _=this._updateCount;return this._readbackQueue?_>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():_>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(s,d),this._updateCount++,this._measuredError}_bindFramebuffer(){const s=this._cachedRenderContext.context,d=s.gl;s.activeTexture.set(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this._fbo.colorAttachment.get()),s.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(s,d){const _=this._cachedRenderContext.context,E=_.gl;if(this._bindFramebuffer(),_.viewport.set([0,0,this._texWidth,this._texHeight]),_.clear({color:a.be.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(_,E.TRIANGLES,ei.disabled,zn.disabled,Bn.unblended,pi.disabled,((L,B)=>({u_input:L,u_output_expected:B}))(s,d),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&No(E)){E.bindBuffer(E.PIXEL_PACK_BUFFER,this._pbo),E.readBuffer(E.COLOR_ATTACHMENT0),E.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),E.bindBuffer(E.PIXEL_PACK_BUFFER,null);const L=E.fenceSync(E.SYNC_GPU_COMMANDS_COMPLETE,0);E.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:L}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const s=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&No(s)){const d=s.clientWaitSync(this._readbackQueue.sync,0,0);if(d===s.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(d===s.TIMEOUT_EXPIRED)return;s.bindBuffer(s.PIXEL_PACK_BUFFER,this._pbo),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),s.bindBuffer(s.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),s.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=wo._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(s){let d=0;return d+=s[0]/256,d+=s[1]/65536,d+=s[2]/16777216,s[3]<127&&(d=-d),d/128}}const po=a.$/128;function _c(N,s){const d=N.granularity!==void 0?Math.max(N.granularity,1):1,_=d+(N.generateBorders?2:0),E=d+(N.extendToNorthPole||N.generateBorders?1:0)+(N.extendToSouthPole||N.generateBorders?1:0),L=_+1,B=E+1,K=N.generateBorders?-1:0,tt=N.generateBorders||N.extendToNorthPole?-1:0,ht=d+(N.generateBorders?1:0),bt=d+(N.generateBorders||N.extendToSouthPole?1:0),It=L*B,Ct=_*E*6,zt=L*B>65536;if(zt&&s==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Qt=zt||s==="32bit",fe=new Int16Array(2*It);let pe=0;for(let Be=tt;Be<=bt;Be++)for(let Le=K;Le<=ht;Le++){let Ve=Le/d*a.$;Le===-1&&(Ve=-64),Le===d+1&&(Ve=a.$+po);let We=Be/d*a.$;Be===-1&&(We=N.extendToNorthPole?a.bg:-64),Be===d+1&&(We=N.extendToSouthPole?a.bh:a.$+po),fe[pe++]=Ve,fe[pe++]=We}const me=Qt?new Uint32Array(Ct):new Uint16Array(Ct);let xe=0;for(let Be=0;Be<E;Be++)for(let Le=0;Le<_;Le++){const Ve=Le+1+Be*L,We=Le+(Be+1)*L,Ne=Le+1+(Be+1)*L;me[xe++]=Le+Be*L,me[xe++]=We,me[xe++]=Ve,me[xe++]=Ve,me[xe++]=We,me[xe++]=Ne}return{vertices:fe.buffer.slice(0),indices:me.buffer.slice(0),uses32bitIndices:Qt}}const Ms=new a.aJ({fill:new a.bi(128,2),line:new a.bi(512,0),tile:new a.bi(128,32),stencil:new a.bi(128,1),circle:3});class Cl{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return qe.projectionGlobe}get vertexShaderPreludeCode(){return qe.projectionMercator.vertexSource}get subdivisionGranularity(){return Ms}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(s){this._errorMeasurement||(this._errorMeasurement=new wo(s));const d=a.U(this._errorQueryLatitudeDegrees),_=2*Math.atan(Math.exp(Math.PI-d*Math.PI*2))-.5*Math.PI,E=this._errorMeasurement.updateErrorLoop(d,_),L=I.now();E!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=E,this._errorMeasurementLastChangeTime=L);const B=Math.min(Math.max((L-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bj(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bk(B))}_getMeshKey(s){return`${s.granularity.toString(36)}_${s.generateBorders?"b":""}${s.extendToNorthPole?"n":""}${s.extendToSouthPole?"s":""}`}getMeshFromTileID(s,d,_,E,L){const B=(L==="stencil"?Ms.stencil:Ms.tile).getGranularityForZoomLevel(d.z);return this._getMesh(s,{granularity:B,generateBorders:_,extendToNorthPole:d.y===0&&E,extendToSouthPole:d.y===(1<<d.z)-1&&E})}_getMesh(s,d){const _=this._getMeshKey(d);if(_ in this._tileMeshCache)return this._tileMeshCache[_];const E=(function(L,B){const K=_c(B,"16bit"),tt=a.aK.deserialize({arrayBuffer:K.vertices,length:K.vertices.byteLength/2/2}),ht=a.aM.deserialize({arrayBuffer:K.indices,length:K.indices.byteLength/2/3});return new nr(L.createVertexBuffer(tt,rn.members),L.createIndexBuffer(ht),a.aL.simpleSegment(0,0,tt.length,ht.length))})(s,d);return this._tileMeshCache[_]=E,E}recalculate(s){}hasTransition(){const s=I.now();let d=!1;return d=d||(s-this._errorMeasurementLastChangeTime)/1e3<.7,d=d||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,d}setErrorQueryLatitudeDegrees(s){this._errorQueryLatitudeDegrees=s}}const xc=new a.r({type:new a.D(a.v.projection.type)});class Vl extends a.E{constructor(s){super(),this._transitionable=new a.t(xc),this.setProjection(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.F(0)),this._mercatorProjection=new En,this._verticalPerspectiveProjection=new Cl}get transitionState(){const s=this.properties.get("type");if(typeof s=="string"&&s==="mercator")return 0;if(typeof s=="string"&&s==="vertical-perspective")return 1;if(s instanceof a.bl){if(s.from==="vertical-perspective"&&s.to==="mercator")return 1-s.transition;if(s.from==="mercator"&&s.to==="vertical-perspective")return s.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(s){this._mercatorProjection.updateGPUdependent(s),this._verticalPerspectiveProjection.updateGPUdependent(s)}getMeshFromTileID(s,d,_,E,L){return this.currentProjection.getMeshFromTileID(s,d,_,E,L)}setProjection(s){this._transitionable.setValue("type",s?.type||"mercator")}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}setErrorQueryLatitudeDegrees(s){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(s),this._mercatorProjection.setErrorQueryLatitudeDegrees(s)}}function So(N){const s=zo(N.worldSize,N.center.lat);return 2*Math.PI*s}function Bo(N,s,d,_,E){const L=1/(1<<E),B=s/a.$*L+_*L,K=a.bn((N/a.$*L+d*L)*Math.PI*2+Math.PI,2*Math.PI),tt=2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI,ht=Math.cos(tt),bt=new Float64Array(3);return bt[0]=Math.sin(K)*ht,bt[1]=Math.sin(tt),bt[2]=Math.cos(K)*ht,bt}function Ba(N){return(function(s,d){const _=Math.cos(d),E=new Float64Array(3);return E[0]=Math.sin(s)*_,E[1]=Math.sin(d),E[2]=Math.cos(s)*_,E})(N.lng*Math.PI/180,N.lat*Math.PI/180)}function zo(N,s){return N/(2*Math.PI)/Math.cos(s*Math.PI/180)}function ct(N){const s=Math.asin(N[1])/Math.PI*180,d=Math.sqrt(N[0]*N[0]+N[2]*N[2]);if(d>1e-6){const _=N[0]/d,E=Math.acos(N[2]/d),L=(_>0?E:-E)/Math.PI*180;return new a.S(a.aN(L,-180,180),s)}return new a.S(0,s)}function Kt(N){return Math.cos(N*Math.PI/180)}function ve(N,s){const d=Kt(N),_=Kt(s);return a.aj(_/d)}function Xe(N,s){const d=N.rotate(s.bearingInRadians),_=s.zoom+ve(s.center.lat,0),E=a.bj(1/Kt(s.center.lat),1/Kt(Math.min(Math.abs(s.center.lat),60)),a.bm(_,7,3,0,1)),L=360/So({worldSize:s.worldSize,center:{lat:s.center.lat}});return new a.S(s.center.lng-d.x*L*E,a.ag(s.center.lat+d.y*L,-85.051129,a.ah))}function pr(N){const s=.5*N,d=Math.sin(s),_=Math.cos(s);return Math.log(d+_)-Math.log(_-d)}function Yr(N,s,d,_){const E=N.lat+d*_;if(Math.abs(d)>1){const L=(Math.sign(N.lat+d)!==Math.sign(N.lat)?-Math.abs(N.lat):Math.abs(N.lat))*Math.PI/180,B=Math.abs(N.lat+d)*Math.PI/180,K=pr(L+_*(B-L)),tt=pr(L),ht=pr(B);return new a.S(N.lng+s*((K-tt)/(ht-tt)),E)}return new a.S(N.lng+s*_,E)}class gn{constructor(s){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=s}swapBuffers(){if(!this._hadAnyChanges)return;const s=this._cachePrevious;this._cachePrevious=this._cache,this._cache=s,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(s,d,_,E){const L=`${s.z}_${s.x}_${s.y}_${E?.terrain?"t":""}`,B=this._cache.get(L);if(B)return B;const K=this._cachePrevious.get(L);if(K)return this._cache.set(L,K),K;const tt=this._boundingVolumeFactory(s,d,_,E);return this._cache.set(L,tt),this._hadAnyChanges=!0,tt}}class Vn{constructor(s,d,_,E){this.min=_,this.max=E,this.points=s,this.planes=d}static fromAabb(s,d){const _=[];for(let E=0;E<8;E++)_.push([1&~E?s[0]:d[0],(E>>1&1)==1?d[1]:s[1],(E>>2&1)==1?d[2]:s[2]]);return new Vn(_,[[-1,0,0,d[0]],[1,0,0,-s[0]],[0,-1,0,d[1]],[0,1,0,-s[1]],[0,0,-1,d[2]],[0,0,1,-s[2]]],s,d)}static fromCenterSizeAngles(s,d,_){const E=a.bq([],_[0],_[1],_[2]),L=a.br([],[d[0],0,0],E),B=a.br([],[0,d[1],0],E),K=a.br([],[0,0,d[2]],E),tt=[...s],ht=[...s];for(let It=0;It<8;It++)for(let Ct=0;Ct<3;Ct++){const zt=s[Ct]+L[Ct]*(1&~It?-1:1)+B[Ct]*((It>>1&1)==1?1:-1)+K[Ct]*((It>>2&1)==1?1:-1);tt[Ct]=Math.min(tt[Ct],zt),ht[Ct]=Math.max(ht[Ct],zt)}const bt=[];for(let It=0;It<8;It++){const Ct=[...s];a.aR(Ct,Ct,a.aQ([],L,1&~It?-1:1)),a.aR(Ct,Ct,a.aQ([],B,(It>>1&1)==1?1:-1)),a.aR(Ct,Ct,a.aQ([],K,(It>>2&1)==1?1:-1)),bt.push(Ct)}return new Vn(bt,[[...L,-a.aW(L,bt[0])],[...B,-a.aW(B,bt[0])],[...K,-a.aW(K,bt[0])],[-L[0],-L[1],-L[2],-a.aW(L,bt[7])],[-B[0],-B[1],-B[2],-a.aW(B,bt[7])],[-K[0],-K[1],-K[2],-a.aW(K,bt[7])]],tt,ht)}intersectsFrustum(s){let d=!0;const _=this.points.length,E=this.planes.length,L=s.planes.length,B=s.points.length;for(let K=0;K<L;K++){const tt=s.planes[K];let ht=0;for(let bt=0;bt<_;bt++){const It=this.points[bt];tt[0]*It[0]+tt[1]*It[1]+tt[2]*It[2]+tt[3]>=0&&ht++}if(ht===0)return 0;ht<_&&(d=!1)}if(d)return 2;for(let K=0;K<E;K++){const tt=this.planes[K];let ht=0;for(let bt=0;bt<B;bt++){const It=s.points[bt];tt[0]*It[0]+tt[1]*It[1]+tt[2]*It[2]+tt[3]>=0&&ht++}if(ht===0)return 0}return 1}intersectsPlane(s){const d=this.points.length;let _=0;for(let E=0;E<d;E++){const L=this.points[E];s[0]*L[0]+s[1]*L[1]+s[2]*L[2]+s[3]>=0&&_++}return _===d?2:_===0?0:1}}function ri(N,s,d){const _=N-s;return _<0?-_:Math.max(0,_-d)}function Ti(N,s,d,_,E){const L=N-d;let B;return B=L<0?Math.min(-L,1+L-E):L>1?Math.min(Math.max(L-E,0),1-L):0,Math.max(B,ri(s,_,E))}class ji{constructor(){this._boundingVolumeCache=new gn(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(s,d,_,E){const L=1<<_.z,B=1/L,K=_.x/L,tt=_.y/L;let ht=2;return ht=Math.min(ht,Ti(s,d,K,tt,B)),ht=Math.min(ht,Ti(s,d,K+.5,-tt-B,B)),ht=Math.min(ht,Ti(s,d,K+.5,2-tt-B,B)),ht}getWrap(s,d,_){const E=1<<d.z,L=1/E,B=d.x/E,K=ri(s.x,B,L),tt=ri(s.x,B-1,L),ht=ri(s.x,B+1,L),bt=Math.min(K,tt,ht);return bt===ht?1:bt===tt?-1:0}allowVariableZoom(s,d){return fr(s,d)>4}allowWorldCopies(){return!1}getTileBoundingVolume(s,d,_,E){return this._boundingVolumeCache.getTileBoundingVolume(s,d,_,E)}_computeTileBoundingVolume(s,d,_,E){var L,B;let K=_,tt=_;if(E?.terrain){const ht=new a.Z(s.z,d,s.z,s.x,s.y),bt=E.terrain.getMinMaxElevation(ht);K=(L=bt.minElevation)!==null&&L!==void 0?L:_,tt=(B=bt.maxElevation)!==null&&B!==void 0?B:_}if(K/=a.bt,tt/=a.bt,K+=1,tt+=1,s.z<=0)return Vn.fromAabb([-tt,-tt,-tt],[tt,tt,tt]);if(s.z===1)return Vn.fromAabb([s.x===0?-tt:0,s.y===0?0:-tt,-tt],[s.x===0?0:tt,s.y===0?tt:0,tt]);{const ht=[Bo(0,0,s.x,s.y,s.z),Bo(a.$,0,s.x,s.y,s.z),Bo(a.$,a.$,s.x,s.y,s.z),Bo(0,a.$,s.x,s.y,s.z)],bt=[];for(const Sr of ht)bt.push(a.aQ([],Sr,tt));if(tt!==K)for(const Sr of ht)bt.push(a.aQ([],Sr,K));s.y===0&&bt.push([0,1,0]),s.y===(1<<s.z)-1&&bt.push([0,-1,0]);const It=[1,1,1],Ct=[-1,-1,-1];for(const Sr of bt)for(let kr=0;kr<3;kr++)It[kr]=Math.min(It[kr],Sr[kr]),Ct[kr]=Math.max(Ct[kr],Sr[kr]);const zt=Bo(a.$/2,a.$/2,s.x,s.y,s.z),Qt=a.aV([],[0,1,0],zt);a.aU(Qt,Qt);const fe=a.aV([],zt,Qt);a.aU(fe,fe);const pe=a.aV([],ht[2],ht[1]);a.aU(pe,pe);const me=a.aV([],ht[0],ht[3]);a.aU(me,me),bt.push(a.aQ([],zt,tt)),s.y>=(1<<s.z)/2&&bt.push(a.aQ([],Bo(a.$/2,0,s.x,s.y,s.z),tt)),s.y<(1<<s.z)/2&&bt.push(a.aQ([],Bo(a.$/2,a.$,s.x,s.y,s.z),tt));const xe=wi(zt,bt),Be=wi(fe,bt),Le=[-zt[0],-zt[1],-zt[2],xe.max],Ve=[zt[0],zt[1],zt[2],-xe.min],We=[-fe[0],-fe[1],-fe[2],Be.max],Ne=[fe[0],fe[1],fe[2],-Be.min],tr=[...pe,0],Ar=[...me,0],xr=[];return s.y===0?xr.push(a.bs(Ar,tr,Le),a.bs(Ar,tr,Ve)):xr.push(a.bs(We,tr,Le),a.bs(We,tr,Ve),a.bs(We,Ar,Le),a.bs(We,Ar,Ve)),s.y===(1<<s.z)-1?xr.push(a.bs(Ar,tr,Le),a.bs(Ar,tr,Ve)):xr.push(a.bs(Ne,tr,Le),a.bs(Ne,tr,Ve),a.bs(Ne,Ar,Le),a.bs(Ne,Ar,Ve)),new Vn(xr,[Le,Ve,We,Ne,tr,Ar],It,Ct)}}}function wi(N,s){let d=1/0,_=-1/0;for(const E of s){const L=a.aW(N,E);d=Math.min(d,L),_=Math.max(_,L)}return{min:d,max:_}}class xa{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,d,_){return this._helper.interpolatePadding(s,d,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,d){this._helper.resize(s,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,d){this._helper.overrideNearFarZ(s,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s){}constructor(){this._cachedClippingPlane=a.bu(),this._projectionMatrix=a.b8(),this._globeViewProjMatrix32f=a.b7(),this._globeViewProjMatrixNoCorrection=a.b8(),this._globeViewProjMatrixNoCorrectionInverted=a.b8(),this._globeProjMatrixInverted=a.b8(),this._cameraPosition=a.bo(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new ti({calcMatrices:()=>{this._calcMatrices()},getConstrained:(s,d)=>this.getConstrained(s,d)}),this._coveringTilesDetailsProvider=new ji}clone(){const s=new xa;return s.apply(this),s}apply(s,d){this._globeLatitudeErrorCorrectionRadians=d||0,this._helper.apply(s)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const s=a.bo();return s[0]=this._cameraPosition[0],s[1]=this._cameraPosition[1],s[2]=this._cameraPosition[2],s}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(s){const{overscaledTileID:d,applyGlobeMatrix:_}=s,E=this._helper.getMercatorTileCoordinates(d);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:E,clippingPlane:this._cachedClippingPlane,projectionTransition:_?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(s){const d=this.pitchInRadians,_=this.cameraToCenterDistance/s,E=Math.sin(d)*_,L=Math.cos(d)*_+1,B=1/Math.sqrt(E*E+L*L)*1;let K=-E,tt=L;const ht=Math.sqrt(K*K+tt*tt);K/=ht,tt/=ht;const bt=[0,K,tt];a.bv(bt,bt,[0,0,0],-this.bearingInRadians),a.bw(bt,bt,[0,0,0],-1*this.center.lat*Math.PI/180),a.bx(bt,bt,[0,0,0],this.center.lng*Math.PI/180);const It=1/a.aY(bt);return a.aQ(bt,bt,It),[...bt,-B*It]}isLocationOccluded(s){return!this.isSurfacePointVisible(Ba(s))}transformLightDirection(s){const d=this._helper._center.lng*Math.PI/180,_=this._helper._center.lat*Math.PI/180,E=Math.cos(_),L=[Math.sin(d)*E,Math.sin(_),Math.cos(d)*E],B=[L[2],0,-L[0]],K=[0,0,0];a.aV(K,B,L),a.aU(B,B),a.aU(K,K);const tt=[0,0,0];return a.aU(tt,[B[0]*s[0]+K[0]*s[1]+L[0]*s[2],B[1]*s[0]+K[1]*s[1]+L[1]*s[2],B[2]*s[0]+K[2]*s[1]+L[2]*s[2]]),tt}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(s,d,_){const E=(function(K,tt,ht){const bt=1/(1<<ht.z);return new a.a0(K/a.$*bt+ht.x*bt,tt/a.$*bt+ht.y*bt)})(s,d,_.canonical),L=(B=E.y,[a.bn(E.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI]);var B;return this.getCircleRadiusCorrection()/Math.cos(L[1])}projectTileCoordinates(s,d,_,E){const L=_.canonical,B=Bo(s,d,L.x,L.y,L.z),K=1+(E?E(s,d):0)/a.bt,tt=[B[0]*K,B[1]*K,B[2]*K,1];a.av(tt,tt,this._globeViewProjMatrixNoCorrection);const ht=this._cachedClippingPlane,bt=ht[0]*B[0]+ht[1]*B[1]+ht[2]*B[2]+ht[3]<0;return{point:new a.P(tt[0]/tt[3],tt[1]/tt[3]),signedDistanceFromCamera:tt[3],isOccluded:bt}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const s=zo(this.worldSize,this.center.lat),d=a.b9(),_=a.b9();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*s),a.b3(d,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const E=this.centerOffset;d[8]=2*-E.x/this._helper._width,d[9]=2*E.y/this._helper._height,this._projectionMatrix=a.b4(d),this._globeProjMatrixInverted=a.b9(),a.ap(this._globeProjMatrixInverted,d),a.M(d,d,[0,0,-this.cameraToCenterDistance]),a.b5(d,d,this.rollInRadians),a.b6(d,d,-this.pitchInRadians),a.b5(d,d,this.bearingInRadians),a.M(d,d,[0,0,-s]);const L=a.bo();L[0]=s,L[1]=s,L[2]=s,a.b6(_,d,this.center.lat*Math.PI/180),a.by(_,_,-this.center.lng*Math.PI/180),a.N(_,_,L),this._globeViewProjMatrixNoCorrection=_,a.b6(d,d,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.by(d,d,-this.center.lng*Math.PI/180),a.N(d,d,L),this._globeViewProjMatrix32f=new Float32Array(d),this._globeViewProjMatrixNoCorrectionInverted=a.b9(),a.ap(this._globeViewProjMatrixNoCorrectionInverted,_);const B=a.bo();this._cameraPosition=a.bo(),this._cameraPosition[2]=this.cameraToCenterDistance/s,a.bv(this._cameraPosition,this._cameraPosition,B,-this.rollInRadians),a.bw(this._cameraPosition,this._cameraPosition,B,this.pitchInRadians),a.bv(this._cameraPosition,this._cameraPosition,B,-this.bearingInRadians),a.aR(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bw(this._cameraPosition,this._cameraPosition,B,-this.center.lat*Math.PI/180),a.bx(this._cameraPosition,this._cameraPosition,B,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(s);const K=a.b4(this._globeViewProjMatrixNoCorrectionInverted);a.N(K,K,[1,1,-1]),this._cachedFrustum=Ln.fromInvProjectionMatrix(K,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(s){a.w("calculateFogMatrix is not supported on globe projection.");const d=a.b9();return a.af(d),d}getVisibleUnwrappedCoordinates(s){return[new a.b1(0,s)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){s&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,d){if(!this._globeViewProjMatrixNoCorrection)return 1;const _=Ba(s);a.aQ(_,_,1+d/a.bt);const E=a.bu();return a.av(E,[_[0],_[1],_[2],1],this._globeViewProjMatrixNoCorrection),E[2]/E[3]}populateCache(s){}getBounds(){const s=.5*this.width,d=.5*this.height,_=[new a.P(0,0),new a.P(s,0),new a.P(this.width,0),new a.P(this.width,d),new a.P(this.width,this.height),new a.P(s,this.height),new a.P(0,this.height),new a.P(0,d)],E=[];for(const It of _)E.push(this.unprojectScreenPoint(It));let L=0,B=0,K=0,tt=0;const ht=this.center;for(const It of E){const Ct=a.bz(ht.lng,It.lng),zt=a.bz(ht.lat,It.lat);Ct<B&&(B=Ct),Ct>L&&(L=Ct),zt<tt&&(tt=zt),zt>K&&(K=zt)}const bt=[ht.lng+B,ht.lat+tt,ht.lng+L,ht.lat+K];return this.isSurfacePointOnScreen([0,1,0])&&(bt[3]=90,bt[0]=-180,bt[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(bt[1]=-90,bt[0]=-180,bt[2]=180),new He(bt)}getConstrained(s,d){const _=a.ag(s.lat,-85.051129,a.ah),E=a.ag(+d,this.minZoom+ve(0,_),this.maxZoom);return{center:new a.S(s.lng,_),zoom:E}}calculateCenterFromCameraLngLatAlt(s,d,_,E){return this._helper.calculateCenterFromCameraLngLatAlt(s,d,_,E)}setLocationAtPoint(s,d){const _=Ba(this.unprojectScreenPoint(d)),E=Ba(s),L=a.bo();a.bA(L);const B=a.bo();a.bx(B,_,L,-this.center.lng*Math.PI/180),a.bw(B,B,L,this.center.lat*Math.PI/180);const K=E[0]*E[0]+E[2]*E[2],tt=B[0]*B[0];if(K<tt)return;const ht=Math.sqrt(K-tt),bt=-ht,It=a.bB(E[0],E[2],B[0],ht),Ct=a.bB(E[0],E[2],B[0],bt),zt=a.bo();a.bx(zt,E,L,-It);const Qt=a.bB(zt[1],zt[2],B[1],B[2]),fe=a.bo();a.bx(fe,E,L,-Ct);const pe=a.bB(fe[1],fe[2],B[1],B[2]),me=.5*Math.PI,xe=Qt>=-me&&Qt<=me,Be=pe>=-me&&pe<=me;let Le,Ve;if(xe&&Be){const Ar=this.center.lng*Math.PI/180,xr=this.center.lat*Math.PI/180;a.bC(It,Ar)+a.bC(Qt,xr)<a.bC(Ct,Ar)+a.bC(pe,xr)?(Le=It,Ve=Qt):(Le=Ct,Ve=pe)}else if(xe)Le=It,Ve=Qt;else{if(!Be)return;Le=Ct,Ve=pe}const We=Le/Math.PI*180,Ne=Ve/Math.PI*180,tr=this.center.lat;this.setCenter(new a.S(We,a.ag(Ne,-90,90))),this.setZoom(this.zoom+ve(tr,this.center.lat))}locationToScreenPoint(s,d){const _=Ba(s);if(d){const E=d.getElevationForLngLatZoom(s,this._helper._tileZoom);a.aQ(_,_,1+E/a.bt)}return this._projectSurfacePointToScreen(_)}_projectSurfacePointToScreen(s){const d=a.bu();return a.av(d,[...s,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],new a.P((.5*d[0]+.5)*this.width,(.5*-d[1]+.5)*this.height)}screenPointToMercatorCoordinate(s,d){if(d){const _=d.pointCoordinate(s);if(_)return _}return a.a0.fromLngLat(this.unprojectScreenPoint(s))}screenPointToLocation(s,d){var _;return(_=this.screenPointToMercatorCoordinate(s,d))===null||_===void 0?void 0:_.toLngLat()}isPointOnMapSurface(s,d){const _=this._cameraPosition,E=this.getRayDirectionFromPixel(s);return!!this.rayPlanetIntersection(_,E)}getRayDirectionFromPixel(s){const d=a.bu();d[0]=s.x/this.width*2-1,d[1]=-1*(s.y/this.height*2-1),d[2]=1,d[3]=1,a.av(d,d,this._globeViewProjMatrixNoCorrectionInverted),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3];const _=a.bo();_[0]=d[0]-this._cameraPosition[0],_[1]=d[1]-this._cameraPosition[1],_[2]=d[2]-this._cameraPosition[2];const E=a.bo();return a.aU(E,_),E}isSurfacePointVisible(s){const d=this._cachedClippingPlane;return d[0]*s[0]+d[1]*s[1]+d[2]*s[2]+d[3]>=0}isSurfacePointOnScreen(s){if(!this.isSurfacePointVisible(s))return!1;const d=a.bu();return a.av(d,[...s,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3],d[0]>-1&&d[0]<1&&d[1]>-1&&d[1]<1&&d[2]>-1&&d[2]<1}rayPlanetIntersection(s,d){const _=a.aW(s,d),E=a.bo(),L=a.bo();a.aQ(L,d,_),a.aT(E,s,L);const B=1-a.aW(E,E);if(B<0)return null;const K=a.aW(s,s)-1,tt=-_+(_<0?1:-1)*Math.sqrt(B),ht=K/tt,bt=tt;return{tMin:Math.min(ht,bt),tMax:Math.max(ht,bt)}}unprojectScreenPoint(s){const d=this._cameraPosition,_=this.getRayDirectionFromPixel(s),E=this.rayPlanetIntersection(d,_);if(E){const bt=a.bo();a.aR(bt,d,[_[0]*E.tMin,_[1]*E.tMin,_[2]*E.tMin]);const It=a.bo();return a.aU(It,bt),ct(It)}const L=this._cachedClippingPlane,B=L[0]*_[0]+L[1]*_[1]+L[2]*_[2],K=-a.b0(L,d)/B,tt=a.bo();if(K>0)a.aR(tt,d,[_[0]*K,_[1]*K,_[2]*K]);else{const bt=a.bo();a.aR(bt,d,[2*_[0],2*_[1],2*_[2]]);const It=a.b0(this._cachedClippingPlane,bt);a.aT(tt,bt,[this._cachedClippingPlane[0]*It,this._cachedClippingPlane[1]*It,this._cachedClippingPlane[2]*It])}const ht=(function(bt){const It=a.bo();return It[0]=bt[0]*-bt[3],It[1]=bt[1]*-bt[3],It[2]=bt[2]*-bt[3],{center:It,radius:Math.sqrt(1-bt[3]*bt[3])}})(L);return ct((function(bt,It,Ct){const zt=a.bo();a.aT(zt,Ct,bt);const Qt=a.bo();return a.bp(Qt,bt,zt,It/a.a_(zt)),Qt})(ht.center,ht.radius,tt))}getMatrixForModel(s,d){const _=a.S.convert(s),E=1/a.bt,L=a.b8();return a.by(L,L,_.lng/180*Math.PI),a.b6(L,L,-_.lat/180*Math.PI),a.M(L,L,[0,0,1+d/a.bt]),a.b6(L,L,.5*Math.PI),a.N(L,L,[E,E,E]),L}getProjectionDataForCustomLayer(s=!0){const d=this.getProjectionData({overscaledTileID:new a.Z(0,0,0,0,0),applyGlobeMatrix:s});return d.tileMercatorCoords=[0,0,1,1],d}getFastPathSimpleProjectionMatrix(s){}}class Oi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,d,_){return this._helper.interpolatePadding(s,d,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,d,_=!0){this._helper.resize(s,d,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,d){this._helper.overrideNearFarZ(s,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(s,d){this._globeness=s,this._globeLatitudeErrorCorrectionRadians=d,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new ti({calcMatrices:()=>{this._calcMatrices()},getConstrained:(s,d)=>this.getConstrained(s,d)}),this._globeness=1,this._mercatorTransform=new yi,this._verticalPerspectiveTransform=new xa}clone(){const s=new Oi;return s._globeness=this._globeness,s._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,s.apply(this),s}apply(s){this._helper.apply(s),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(s){const d=this._mercatorTransform.getProjectionData(s),_=this._verticalPerspectiveTransform.getProjectionData(s);return{mainMatrix:this.isGlobeRendering?_.mainMatrix:d.mainMatrix,clippingPlane:_.clippingPlane,tileMercatorCoords:_.tileMercatorCoords,projectionTransition:s.applyGlobeMatrix?this._globeness:0,fallbackMatrix:d.fallbackMatrix}}isLocationOccluded(s){return this.currentTransform.isLocationOccluded(s)}transformLightDirection(s){return this.currentTransform.transformLightDirection(s)}getPixelScale(){return a.bj(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bj(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(s,d,_){const E=this._mercatorTransform.getPitchedTextCorrection(s,d,_),L=this._verticalPerspectiveTransform.getPitchedTextCorrection(s,d,_);return a.bj(E,L,this._globeness)}projectTileCoordinates(s,d,_,E){return this.currentTransform.projectTileCoordinates(s,d,_,E)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(s){return this.currentTransform.calculateFogMatrix(s)}getVisibleUnwrappedCoordinates(s){return this.currentTransform.getVisibleUnwrappedCoordinates(s)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(s){this._mercatorTransform.recalculateZoomAndCenter(s),this._verticalPerspectiveTransform.recalculateZoomAndCenter(s)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,d){return this.currentTransform.lngLatToCameraDepth(s,d)}populateCache(s){this._mercatorTransform.populateCache(s),this._verticalPerspectiveTransform.populateCache(s)}getBounds(){return this.currentTransform.getBounds()}getConstrained(s,d){return this.currentTransform.getConstrained(s,d)}calculateCenterFromCameraLngLatAlt(s,d,_,E){return this._helper.calculateCenterFromCameraLngLatAlt(s,d,_,E)}setLocationAtPoint(s,d){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(s,d),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(s,d),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(s,d){return this.currentTransform.locationToScreenPoint(s,d)}screenPointToMercatorCoordinate(s,d){return this.currentTransform.screenPointToMercatorCoordinate(s,d)}screenPointToLocation(s,d){return this.currentTransform.screenPointToLocation(s,d)}isPointOnMapSurface(s,d){return this.currentTransform.isPointOnMapSurface(s,d)}getRayDirectionFromPixel(s){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(s)}getMatrixForModel(s,d){return this.currentTransform.getMatrixForModel(s,d)}getProjectionDataForCustomLayer(s=!0){const d=this._mercatorTransform.getProjectionDataForCustomLayer(s);if(!this.isGlobeRendering)return d;const _=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(s);return _.fallbackMatrix=d.mainMatrix,_}getFastPathSimpleProjectionMatrix(s){return this.currentTransform.getFastPathSimpleProjectionMatrix(s)}}class Ui{get useGlobeControls(){return!0}handlePanInertia(s,d){const _=Xe(s,d);return Math.abs(_.lng-d.center.lng)>180&&(_.lng=d.center.lng+179.5*Math.sign(_.lng-d.center.lng)),{easingCenter:_,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(s,d){const _=s.around,E=d.screenPointToLocation(_);s.bearingDelta&&d.setBearing(d.bearing+s.bearingDelta),s.pitchDelta&&d.setPitch(d.pitch+s.pitchDelta),s.rollDelta&&d.setRoll(d.roll+s.rollDelta);const L=d.zoom;s.zoomDelta&&d.setZoom(d.zoom+s.zoomDelta);const B=d.zoom-L;if(B===0)return;const K=a.bz(d.center.lng,E.lng),tt=K/(Math.abs(K/180)+1),ht=a.bz(d.center.lat,E.lat),bt=d.getRayDirectionFromPixel(_),It=d.cameraPosition,Ct=-1*a.aW(It,bt),zt=a.bo();a.aR(zt,It,[bt[0]*Ct,bt[1]*Ct,bt[2]*Ct]);const Qt=a.aY(zt)-1,fe=Math.exp(.5*-Math.max(Qt-.3,0)),pe=zo(d.worldSize,d.center.lat)/Math.min(d.width,d.height),me=a.bm(pe,.9,.5,1,.25),xe=(1-a.ae(-B))*Math.min(fe,me),Be=d.center.lat,Le=d.zoom,Ve=new a.S(d.center.lng+tt*xe,a.ag(d.center.lat+ht*xe,-85.051129,a.ah));d.setLocationAtPoint(E,_);const We=d.center,Ne=a.bm(Math.abs(K),45,85,0,1),tr=a.bm(pe,.75,.35,0,1),Ar=Math.pow(Math.max(Ne,tr),.25),xr=a.bz(We.lng,Ve.lng),Sr=a.bz(We.lat,Ve.lat);d.setCenter(new a.S(We.lng+xr*Ar,We.lat+Sr*Ar).wrap()),d.setZoom(Le+ve(Be,d.center.lat))}handleMapControlsPan(s,d,_){if(!s.panDelta)return;const E=d.center.lat,L=d.zoom;d.setCenter(Xe(s.panDelta,d).wrap()),d.setZoom(L+ve(E,d.center.lat))}cameraForBoxAndBearing(s,d,_,E,L){const B=zi(s,d,_,E,L),K=d.left/L.width*2-1,tt=(L.width-d.right)/L.width*2-1,ht=d.top/L.height*-2+1,bt=(L.height-d.bottom)/L.height*-2+1,It=a.bz(_.getWest(),_.getEast())<0,Ct=It?_.getEast():_.getWest(),zt=It?_.getWest():_.getEast(),Qt=Math.max(_.getNorth(),_.getSouth()),fe=Math.min(_.getNorth(),_.getSouth()),pe=Ct+.5*a.bz(Ct,zt),me=Qt+.5*a.bz(Qt,fe),xe=L.clone();xe.setCenter(B.center),xe.setBearing(B.bearing),xe.setPitch(0),xe.setRoll(0),xe.setZoom(B.zoom);const Be=xe.modelViewProjectionMatrix,Le=[Ba(_.getNorthWest()),Ba(_.getNorthEast()),Ba(_.getSouthWest()),Ba(_.getSouthEast()),Ba(new a.S(zt,me)),Ba(new a.S(Ct,me)),Ba(new a.S(pe,Qt)),Ba(new a.S(pe,fe))],Ve=Ba(B.center);let We=Number.POSITIVE_INFINITY;for(const Ne of Le)K<0&&(We=Ui.getLesserNonNegativeNonNull(We,Ui.solveVectorScale(Ne,Ve,Be,"x",K))),tt>0&&(We=Ui.getLesserNonNegativeNonNull(We,Ui.solveVectorScale(Ne,Ve,Be,"x",tt))),ht>0&&(We=Ui.getLesserNonNegativeNonNull(We,Ui.solveVectorScale(Ne,Ve,Be,"y",ht))),bt<0&&(We=Ui.getLesserNonNegativeNonNull(We,Ui.solveVectorScale(Ne,Ve,Be,"y",bt)));if(Number.isFinite(We)&&We!==0)return B.zoom=xe.zoom+a.aj(We),B;sa()}handleJumpToCenterZoom(s,d){const _=s.center.lat,E=s.getConstrained(d.center?a.S.convert(d.center):s.center,s.zoom).center;s.setCenter(E.wrap());const L=d.zoom!==void 0?+d.zoom:s.zoom+ve(_,E.lat);s.zoom!==L&&s.setZoom(L)}handleEaseTo(s,d){const _=s.zoom,E=s.center,L=s.padding,B={roll:s.roll,pitch:s.pitch,bearing:s.bearing},K={roll:d.roll===void 0?s.roll:d.roll,pitch:d.pitch===void 0?s.pitch:d.pitch,bearing:d.bearing===void 0?s.bearing:d.bearing},tt=d.zoom!==void 0,ht=!s.isPaddingEqual(d.padding);let bt=!1;const It=d.center?a.S.convert(d.center):E,Ct=s.getConstrained(It,_).center;Yn(s,Ct);const zt=s.clone();zt.setCenter(Ct),zt.setZoom(tt?+d.zoom:_+ve(E.lat,It.lat)),zt.setBearing(d.bearing);const Qt=new a.P(a.ag(s.centerPoint.x+d.offsetAsPoint.x,0,s.width),a.ag(s.centerPoint.y+d.offsetAsPoint.y,0,s.height));zt.setLocationAtPoint(Ct,Qt);const fe=(d.offset&&d.offsetAsPoint.mag())>0?zt.center:Ct,pe=tt?+d.zoom:_+ve(E.lat,fe.lat),me=_+ve(E.lat,0),xe=pe+ve(fe.lat,0),Be=a.bz(E.lng,fe.lng),Le=a.bz(E.lat,fe.lat),Ve=a.ae(xe-me);return bt=pe!==_,{easeFunc:We=>{if(a.bd(B,K)||Ii({startEulerAngles:B,endEulerAngles:K,tr:s,k:We,useSlerp:B.roll!=K.roll}),ht&&s.interpolatePadding(L,d.padding,We),d.around)a.w("Easing around a point is not supported under globe projection."),s.setLocationAtPoint(d.around,d.aroundPoint);else{const Ne=xe>me?Math.min(2,Ve):Math.max(.5,Ve),tr=Math.pow(Ne,1-We),Ar=Yr(E,Be,Le,We*tr);s.setCenter(Ar.wrap())}if(bt){const Ne=a.C.number(me,xe,We)+ve(0,s.center.lat);s.setZoom(Ne)}},isZooming:bt,elevationCenter:fe}}handleFlyTo(s,d){const _=d.zoom!==void 0,E=s.center,L=s.zoom,B=s.padding,K=!s.isPaddingEqual(d.padding),tt=s.getConstrained(a.S.convert(d.center||d.locationAtOffset),L).center,ht=_?+d.zoom:s.zoom+ve(s.center.lat,tt.lat),bt=s.clone();bt.setCenter(tt),bt.setZoom(ht),bt.setBearing(d.bearing);const It=new a.P(a.ag(s.centerPoint.x+d.offsetAsPoint.x,0,s.width),a.ag(s.centerPoint.y+d.offsetAsPoint.y,0,s.height));bt.setLocationAtPoint(tt,It);const Ct=bt.center;Yn(s,Ct);const zt=(function(Le,Ve,We){const Ne=Ba(Ve),tr=Ba(We),Ar=a.aW(Ne,tr),xr=Math.acos(Ar),Sr=So(Le);return xr/(2*Math.PI)*Sr})(s,E,Ct),Qt=L+ve(E.lat,0),fe=ht+ve(Ct.lat,0),pe=a.ae(fe-Qt);let me;if(typeof d.minZoom=="number"){const Le=+d.minZoom+ve(Ct.lat,0),Ve=Math.min(Le,Qt,fe)+ve(0,Ct.lat),We=s.getConstrained(Ct,Ve).zoom+ve(Ct.lat,0);me=a.ae(We-Qt)}const xe=a.bz(E.lng,Ct.lng),Be=a.bz(E.lat,Ct.lat);return{easeFunc:(Le,Ve,We,Ne)=>{const tr=Yr(E,xe,Be,We);K&&s.interpolatePadding(B,d.padding,Le);const Ar=Le===1?Ct:tr;s.setCenter(Ar.wrap());const xr=Qt+a.aj(Ve);s.setZoom(Le===1?ht:xr+ve(0,Ar.lat))},scaleOfZoom:pe,targetCenter:Ct,scaleOfMinZoom:me,pixelPathLength:zt}}static solveVectorScale(s,d,_,E,L){const B=E==="x"?[_[0],_[4],_[8],_[12]]:[_[1],_[5],_[9],_[13]],K=[_[3],_[7],_[11],_[15]],tt=s[0]*B[0]+s[1]*B[1]+s[2]*B[2],ht=s[0]*K[0]+s[1]*K[1]+s[2]*K[2],bt=d[0]*B[0]+d[1]*B[1]+d[2]*B[2],It=d[0]*K[0]+d[1]*K[1]+d[2]*K[2];return bt+L*ht===tt+L*It||K[3]*(tt-bt)+B[3]*(It-ht)+tt*It==bt*ht?null:(bt+B[3]-L*It-L*K[3])/(bt-tt-L*It+L*ht)}static getLesserNonNegativeNonNull(s,d){return d!==null&&d>=0&&d<s?d:s}}class Lo{constructor(s){this._globe=s,this._mercatorCameraHelper=new da,this._verticalPerspectiveCameraHelper=new Ui}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(s,d){return this.currentHelper.handlePanInertia(s,d)}handleMapControlsRollPitchBearingZoom(s,d){return this.currentHelper.handleMapControlsRollPitchBearingZoom(s,d)}handleMapControlsPan(s,d,_){this.currentHelper.handleMapControlsPan(s,d,_)}cameraForBoxAndBearing(s,d,_,E,L){return this.currentHelper.cameraForBoxAndBearing(s,d,_,E,L)}handleJumpToCenterZoom(s,d){this.currentHelper.handleJumpToCenterZoom(s,d)}handleEaseTo(s,d){return this.currentHelper.handleEaseTo(s,d)}handleFlyTo(s,d){return this.currentHelper.handleFlyTo(s,d)}}const Ja=(N,s)=>a.y(N,s&&s.filter((d=>d.identifier!=="source.canvas"))),ao=a.bD();class Ul extends a.E{constructor(s,d={}){super(),this._rtlPluginLoaded=()=>{for(const _ in this.sourceCaches){const E=this.sourceCaches[_].getSource().type;E!=="vector"&&E!=="geojson"||this.sourceCaches[_].reload()}},this.map=s,this.dispatcher=new Ut(Rt(),s._getMapId()),this.dispatcher.registerMessageHandler("GG",((_,E)=>this.getGlyphs(_,E))),this.dispatcher.registerMessageHandler("GI",((_,E)=>this.getImages(_,E))),this.imageManager=new it,this.imageManager.setEventedParent(this),this.glyphManager=new dt(s._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Lt(256,512),this.crossTileSymbolIndex=new ee,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.bE,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",a.bF()),Or().on(Ir,this._rtlPluginLoaded),this.on("data",(_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const E=this.sourceCaches[_.sourceId];if(!E)return;const L=E.getSource();if(L&&L.vectorLayerIds)for(const B in this._layers){const K=this._layers[B];K.source===L.id&&this._validateLayer(K)}}))}setGlobalStateProperty(s,d){var _,E,L;this._checkLoaded();const B=d===null?(L=(E=(_=this.stylesheet.state)===null||_===void 0?void 0:_[s])===null||E===void 0?void 0:E.default)!==null&&L!==void 0?L:null:d;if(a.bG(B,this._globalState[s]))return this;this._globalState[s]=B;const K=this._findGlobalStateAffectedSources([s]);for(const tt in this.sourceCaches)K.has(tt)&&(this._reloadSource(tt),this._changed=!0)}getGlobalState(){return this._globalState}setGlobalState(s){this._checkLoaded();const d=[];for(const E in s)!a.bG(this._globalState[E],s[E].default)&&(d.push(E),this._globalState[E]=s[E].default);const _=this._findGlobalStateAffectedSources(d);for(const E in this.sourceCaches)_.has(E)&&(this._reloadSource(E),this._changed=!0)}_findGlobalStateAffectedSources(s){if(s.length===0)return new Set;const d=new Set;for(const _ in this._layers){const E=this._layers[_],L=E.getLayoutAffectingGlobalStateRefs();for(const B of s)L.has(B)&&d.add(E.source)}return d}loadURL(s,d={},_){this.fire(new a.l("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const E=this.map._requestManager.transformRequest(s,"Style");this._loadStyleRequest=new AbortController;const L=this._loadStyleRequest;a.j(E,this._loadStyleRequest).then((B=>{this._loadStyleRequest=null,this._load(B.data,d,_)})).catch((B=>{this._loadStyleRequest=null,B&&!L.signal.aborted&&this.fire(new a.k(B))}))}loadJSON(s,d={},_){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,I.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(s,d,_)})).catch((()=>{}))}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(ao,{validate:!1})}_load(s,d,_){var E,L,B;const K=d.transformStyle?d.transformStyle(_,s):s;if(!d.validate||!Ja(this,a.z(K))){this._loaded=!0,this.stylesheet=K;for(const tt in K.sources)this.addSource(tt,K.sources[tt],{validate:!1});K.sprite?this._loadSprite(K.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(K.glyphs),this._createLayers(),this.light=new pt(this.stylesheet.light),this._setProjectionInternal(((E=this.stylesheet.projection)===null||E===void 0?void 0:E.type)||"mercator"),this.sky=new St(this.stylesheet.sky),this.map.setTerrain((L=this.stylesheet.terrain)!==null&&L!==void 0?L:null),this.setGlobalState((B=this.stylesheet.state)!==null&&B!==void 0?B:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){const s=a.bH(this.stylesheet.layers);this.dispatcher.broadcast("SL",s),this._order=s.map((d=>d.id)),this._layers={},this._serializedLayers=null;for(const d of s){const _=a.bI(d);_.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=_}}_loadSprite(s,d=!1,_=void 0){let E;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(L,B,K,tt){return a._(this,void 0,void 0,(function*(){const ht=Y(L),bt=K>1?"@2x":"",It={},Ct={};for(const{id:zt,url:Qt}of ht){const fe=B.transformRequest(et(Qt,bt,".json"),"SpriteJSON");It[zt]=a.j(fe,tt);const pe=B.transformRequest(et(Qt,bt,".png"),"SpriteImage");Ct[zt]=j.getImage(pe,tt)}return yield Promise.all([...Object.values(It),...Object.values(Ct)]),(function(zt,Qt){return a._(this,void 0,void 0,(function*(){const fe={};for(const pe in zt){fe[pe]={};const me=I.getImageCanvasContext((yield Qt[pe]).data),xe=(yield zt[pe]).data;for(const Be in xe){const{width:Le,height:Ve,x:We,y:Ne,sdf:tr,pixelRatio:Ar,stretchX:xr,stretchY:Sr,content:kr,textFitWidth:Cn,textFitHeight:Tn}=xe[Be];fe[pe][Be]={data:null,pixelRatio:Ar,sdf:tr,stretchX:xr,stretchY:Sr,content:kr,textFitWidth:Cn,textFitHeight:Tn,spriteData:{width:Le,height:Ve,x:We,y:Ne,context:me}}}}return fe}))})(It,Ct)}))})(s,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((L=>{if(this._spriteRequest=null,L)for(const B in L){this._spritesImagesIds[B]=[];const K=this._spritesImagesIds[B]?this._spritesImagesIds[B].filter((tt=>!(tt in L))):[];for(const tt of K)this.imageManager.removeImage(tt),this._changedImages[tt]=!0;for(const tt in L[B]){const ht=B==="default"?tt:`${B}:${tt}`;this._spritesImagesIds[B].push(ht),ht in this.imageManager.images?this.imageManager.updateImage(ht,L[B][tt],!1):this.imageManager.addImage(ht,L[B][tt]),d&&(this._changedImages[ht]=!0)}}})).catch((L=>{this._spriteRequest=null,E=L,this.fire(new a.k(E))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),_&&_(E)}))}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(s){const d=this.sourceCaches[s.source];if(!d)return;const _=s.sourceLayer;if(!_)return;const E=d.getSource();(E.type==="geojson"||E.vectorLayerIds&&E.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.k(new Error(`Source layer "${_}" does not exist on source "${E.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s,d=!1){const _=this._serializedAllLayers();if(!s||s.length===0)return Object.values(d?a.bJ(_):_);const E=[];for(const L of s)if(_[L]){const B=d?a.bJ(_[L]):_[L];E.push(B)}return E}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const d=Object.keys(this._layers);for(const _ of d){const E=this._layers[_];E.type!=="custom"&&(s[_]=E.serialize())}return s}hasTransitions(){var s,d,_;if(!((s=this.light)===null||s===void 0)&&s.hasTransition()||!((d=this.sky)===null||d===void 0)&&d.hasTransition()||!((_=this.projection)===null||_===void 0)&&_.hasTransition())return!0;for(const E in this.sourceCaches)if(this.sourceCaches[E].hasTransition())return!0;for(const E in this._layers)if(this._layers[E].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const d=this._changed;if(d){const E=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);(E.length||L.length)&&this._updateWorkerLayers(E,L);for(const B in this._updatedSources){const K=this._updatedSources[B];if(K==="reload")this._reloadSource(B);else{if(K!=="clear")throw new Error(`Invalid action ${K}`);this._clearSource(B)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const B in this._updatedPaintProps)this._layers[B].updateTransitions(s);this.light.updateTransitions(s),this.sky.updateTransitions(s),this._resetUpdates()}const _={};for(const E in this.sourceCaches){const L=this.sourceCaches[E];_[E]=L.used,L.used=!1}for(const E of this._order){const L=this._layers[E];L.recalculate(s,this._availableImages),!L.isHidden(s.zoom)&&L.source&&(this.sourceCaches[L.source].used=!0)}for(const E in _){const L=this.sourceCaches[E];!!_[E]!=!!L.used&&L.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:E}))}this.light.recalculate(s),this.sky.recalculate(s),this.projection.recalculate(s),this.z=s.zoom,d&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(s,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,d={}){var _;this._checkLoaded();const E=this.serialize();if(s=d.transformStyle?d.transformStyle(E,s):s,((_=d.validate)===null||_===void 0||_)&&Ja(this,a.z(s)))return!1;(s=a.bJ(s)).layers=a.bH(s.layers);const L=a.bK(E,s),B=this._getOperationsToPerform(L);if(B.unimplemented.length>0)throw new Error(`Unimplemented: ${B.unimplemented.join(", ")}.`);if(B.operations.length===0)return!1;for(const K of B.operations)K();return this.stylesheet=s,this._serializedLayers=null,!0}_getOperationsToPerform(s){const d=[],_=[];for(const E of s)switch(E.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":d.push((()=>this.addLayer.apply(this,E.args)));break;case"removeLayer":d.push((()=>this.removeLayer.apply(this,E.args)));break;case"setPaintProperty":d.push((()=>this.setPaintProperty.apply(this,E.args)));break;case"setLayoutProperty":d.push((()=>this.setLayoutProperty.apply(this,E.args)));break;case"setFilter":d.push((()=>this.setFilter.apply(this,E.args)));break;case"addSource":d.push((()=>this.addSource.apply(this,E.args)));break;case"removeSource":d.push((()=>this.removeSource.apply(this,E.args)));break;case"setLayerZoomRange":d.push((()=>this.setLayerZoomRange.apply(this,E.args)));break;case"setLight":d.push((()=>this.setLight.apply(this,E.args)));break;case"setGeoJSONSourceData":d.push((()=>this.setGeoJSONSourceData.apply(this,E.args)));break;case"setGlyphs":d.push((()=>this.setGlyphs.apply(this,E.args)));break;case"setSprite":d.push((()=>this.setSprite.apply(this,E.args)));break;case"setTerrain":d.push((()=>this.map.setTerrain.apply(this,E.args)));break;case"setSky":d.push((()=>this.setSky.apply(this,E.args)));break;case"setProjection":this.setProjection.apply(this,E.args);break;case"setGlobalState":d.push((()=>this.setGlobalState.apply(this,E.args)));break;case"setTransition":d.push((()=>{}));break;default:_.push(E.command)}return{operations:d,unimplemented:_}}addImage(s,d){if(this.getImage(s))return this.fire(new a.k(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,d),this._afterImageUpdated(s)}updateImage(s,d){this.imageManager.updateImage(s,d)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new a.k(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,d,_={}){if(this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(a.z.source,`sources.${s}`,d,null,_))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const E=this.sourceCaches[s]=new ur(s,d,this.dispatcher);E.style=this,E.setEventedParent(this,(()=>({isSourceLoaded:E.loaded(),source:E.serialize(),sourceId:s}))),E.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===s)return this.fire(new a.k(new Error(`Source "${s}" cannot be removed while layer "${_}" is using it.`)));const d=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],d.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,d){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error(`There is no source with this ID=${s}`);const _=this.sourceCaches[s].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(d),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,d,_={}){this._checkLoaded();const E=s.id;if(this.getLayer(E))return void this.fire(new a.k(new Error(`Layer "${E}" already exists on this map.`)));let L;if(s.type==="custom"){if(Ja(this,a.bL(s)))return;L=a.bI(s)}else{if("source"in s&&typeof s.source=="object"&&(this.addSource(E,s.source),s=a.bJ(s),s=a.e(s,{source:E})),this._validate(a.z.layer,`layers.${E}`,s,{arrayIndex:-1},_))return;L=a.bI(s),this._validateLayer(L),L.setEventedParent(this,{layer:{id:E}})}const B=d?this._order.indexOf(d):this._order.length;if(d&&B===-1)this.fire(new a.k(new Error(`Cannot add layer "${E}" before non-existing layer "${d}".`)));else{if(this._order.splice(B,0,E),this._layerOrderChanged=!0,this._layers[E]=L,this._removedLayers[E]&&L.source&&L.type!=="custom"){const K=this._removedLayers[E];delete this._removedLayers[E],K.type!==L.type?this._updatedSources[L.source]="clear":(this._updatedSources[L.source]="reload",this.sourceCaches[L.source].pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map)}}moveLayer(s,d){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new a.k(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===d)return;const _=this._order.indexOf(s);this._order.splice(_,1);const E=d?this._order.indexOf(d):this._order.length;d&&E===-1?this.fire(new a.k(new Error(`Cannot move layer "${s}" before non-existing layer "${d}".`))):(this._order.splice(E,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const d=this._layers[s];if(!d)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${s}".`)));d.setEventedParent(null);const _=this._order.indexOf(s);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=d,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],d.onRemove&&d.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,d,_){this._checkLoaded();const E=this.getLayer(s);E?E.minzoom===d&&E.maxzoom===_||(d!=null&&(E.minzoom=d),_!=null&&(E.maxzoom=_),this._updateLayer(E)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,d,_={}){this._checkLoaded();const E=this.getLayer(s);if(E){if(!a.bG(E.filter,d))return d==null?(E.setFilter(void 0),void this._updateLayer(E)):void(this._validate(a.z.filter,`layers.${E.id}.filter`,d,null,_)||(E.setFilter(a.bJ(d)),this._updateLayer(E)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return a.bJ(this.getLayer(s).filter)}setLayoutProperty(s,d,_,E={}){this._checkLoaded();const L=this.getLayer(s);L?a.bG(L.getLayoutProperty(d),_)||(L.setLayoutProperty(d,_,E),this._updateLayer(L)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,d){const _=this.getLayer(s);if(_)return _.getLayoutProperty(d);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,d,_,E={}){this._checkLoaded();const L=this.getLayer(s);L?a.bG(L.getPaintProperty(d),_)||(L.setPaintProperty(d,_,E)&&this._updateLayer(L),this._changed=!0,this._updatedPaintProps[s]=!0,this._serializedLayers=null):this.fire(new a.k(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,d){return this.getLayer(s).getPaintProperty(d)}setFeatureState(s,d){this._checkLoaded();const _=s.source,E=s.sourceLayer,L=this.sourceCaches[_];if(L===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const B=L.getSource().type;B==="geojson"&&E?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):B!=="vector"||E?(s.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),L.setFeatureState(E,s.id,d)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,d){this._checkLoaded();const _=s.source,E=this.sourceCaches[_];if(E===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const L=E.getSource().type,B=L==="vector"?s.sourceLayer:void 0;L!=="vector"||B?d&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):E.removeFeatureState(B,s.id,d):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const d=s.source,_=s.sourceLayer,E=this.sourceCaches[d];if(E!==void 0)return E.getSource().type!=="vector"||_?(s.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),E.getFeatureState(_,s.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=a.bM(this.sourceCaches,(L=>L.serialize())),d=this._serializeByIds(this._order,!0),_=this.map.getTerrain()||void 0,E=this.stylesheet;return a.bN({version:E.version,name:E.name,metadata:E.metadata,light:E.light,sky:E.sky,center:E.center,zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,sprite:E.sprite,glyphs:E.glyphs,transition:E.transition,projection:E.projection,sources:s,layers:d,terrain:_},(L=>L!==void 0))}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const d=B=>this._layers[B].type==="fill-extrusion",_={},E=[];for(let B=this._order.length-1;B>=0;B--){const K=this._order[B];if(d(K)){_[K]=B;for(const tt of s){const ht=tt[K];if(ht)for(const bt of ht)E.push(bt)}}}E.sort(((B,K)=>K.intersectionZ-B.intersectionZ));const L=[];for(let B=this._order.length-1;B>=0;B--){const K=this._order[B];if(d(K))for(let tt=E.length-1;tt>=0;tt--){const ht=E[tt].feature;if(_[ht.layer.id]<B)break;L.push(ht),E.pop()}else for(const tt of s){const ht=tt[K];if(ht)for(const bt of ht)L.push(bt.feature)}}return L}queryRenderedFeatures(s,d,_){d&&d.filter&&this._validate(a.z.filter,"queryRenderedFeatures.filter",d.filter,null,d);const E={};if(d&&d.layers){if(!(Array.isArray(d.layers)||d.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const ht of d.layers){const bt=this._layers[ht];if(!bt)return this.fire(new a.k(new Error(`The layer '${ht}' does not exist in the map's style and cannot be queried for features.`))),[];E[bt.source]=!0}}const L=[];d.availableImages=this._availableImages;const B=this._serializedAllLayers(),K=d.layers instanceof Set?d.layers:Array.isArray(d.layers)?new Set(d.layers):null,tt=Object.assign(Object.assign({},d),{layers:K});for(const ht in this.sourceCaches)d.layers&&!E[ht]||L.push(ce(this.sourceCaches[ht],this._layers,B,s,tt,_,this.map.terrain?(bt,It,Ct)=>this.map.terrain.getElevation(bt,It,Ct):void 0));return this.placement&&L.push((function(ht,bt,It,Ct,zt,Qt,fe){const pe={},me=Qt.queryRenderedSymbols(Ct),xe=[];for(const Be of Object.keys(me).map(Number))xe.push(fe[Be]);xe.sort(de);for(const Be of xe){const Le=Be.featureIndex.lookupSymbolFeatures(me[Be.bucketInstanceId],bt,Be.bucketIndex,Be.sourceLayerIndex,zt.filter,zt.layers,zt.availableImages,ht);for(const Ve in Le){const We=pe[Ve]=pe[Ve]||[],Ne=Le[Ve];Ne.sort(((tr,Ar)=>{const xr=Be.featureSortOrder;if(xr){const Sr=xr.indexOf(tr.featureIndex);return xr.indexOf(Ar.featureIndex)-Sr}return Ar.featureIndex-tr.featureIndex}));for(const tr of Ne)We.push(tr)}}return(function(Be,Le,Ve){for(const We in Be)for(const Ne of Be[We])Se(Ne,Ve[Le[We].source]);return Be})(pe,ht,It)})(this._layers,B,this.sourceCaches,s,tt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(s,d){d&&d.filter&&this._validate(a.z.filter,"querySourceFeatures.filter",d.filter,null,d);const _=this.sourceCaches[s];return _?(function(E,L){const B=E.getRenderableIds().map((ht=>E.getTileByID(ht))),K=[],tt={};for(let ht=0;ht<B.length;ht++){const bt=B[ht],It=bt.tileID.canonical.key;tt[It]||(tt[It]=!0,bt.querySourceFeatures(K,L))}return K})(_,d):[]}getLight(){return this.light.getLight()}setLight(s,d={}){this._checkLoaded();const _=this.light.getLight();let E=!1;for(const B in s)if(!a.bG(s[B],_[B])){E=!0;break}if(!E)return;const L={now:I.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,d),this.light.updateTransitions(L)}getProjection(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.projection}setProjection(s){if(this._checkLoaded(),this.projection){if(this.projection.name===s.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=s,this._setProjectionInternal(s.type)}getSky(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.sky}setSky(s,d={}){this._checkLoaded();const _=this.getSky();let E=!1;if(!s&&!_)return;if(s&&!_)E=!0;else if(!s&&_)E=!0;else for(const B in s)if(!a.bG(s[B],_[B])){E=!0;break}if(!E)return;const L={now:I.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=s,this.sky.setSky(s,d),this.sky.updateTransitions(L)}_setProjectionInternal(s){const d=(function(_){if(Array.isArray(_)){const E=new Vl({type:_});return{projection:E,transform:new Oi,cameraHelper:new Lo(E)}}switch(_){case"mercator":return{projection:new En,transform:new yi,cameraHelper:new da};case"globe":{const E=new Vl({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:E,transform:new Oi,cameraHelper:new Lo(E)}}case"vertical-perspective":return{projection:new Cl,transform:new xa,cameraHelper:new Ui};default:return a.w(`Unknown projection name: ${_}. Falling back to mercator projection.`),{projection:new En,transform:new yi,cameraHelper:new da}}})(s);this.projection=d.projection,this.map.migrateProjection(d.transform,d.cameraHelper);for(const _ in this.sourceCaches)this.sourceCaches[_].reload()}_validate(s,d,_,E,L={}){return(!L||L.validate!==!1)&&Ja(this,s.call(a.z,a.e({key:d,style:this.serialize(),value:_,styleSpec:a.v},E)))}_remove(s=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Or().off(Ir,this._rtlPluginLoaded);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const _=this.sourceCaches[d];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),s&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(const d in this.sourceCaches)this.sourceCaches[d].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,d,_,E,L=!1){let B=!1,K=!1;const tt={};for(const ht of this._order){const bt=this._layers[ht];if(bt.type!=="symbol")continue;if(!tt[bt.source]){const Ct=this.sourceCaches[bt.source];tt[bt.source]=Ct.getRenderableIds(!0).map((zt=>Ct.getTileByID(zt))).sort(((zt,Qt)=>Qt.tileID.overscaledZ-zt.tileID.overscaledZ||(zt.tileID.isLessThan(Qt.tileID)?-1:1)))}const It=this.crossTileSymbolIndex.addLayer(bt,tt[bt.source],s.center.lng);B=B||It}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((L=L||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(I.now(),s.zoom))&&(this.pauseablePlacement=new Zo(s,this.map.terrain,this._order,L,d,_,E,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,tt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(I.now()),K=!0),B&&this.pauseablePlacement.placement.setStale()),K||B)for(const ht of this._order){const bt=this._layers[ht];bt.type==="symbol"&&this.placement.updateLayerOpacities(bt,tt[bt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(I.now())}_releaseSymbolFadeTiles(){for(const s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,d){return a._(this,void 0,void 0,(function*(){const _=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();const E=this.sourceCaches[d.source];return E&&E.setDependencies(d.tileID.key,d.type,d.icons),_}))}getGlyphs(s,d){return a._(this,void 0,void 0,(function*(){const _=yield this.glyphManager.getGlyphs(d.stacks),E=this.sourceCaches[d.source];return E&&E.setDependencies(d.tileID.key,d.type,[""]),_}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,d={}){this._checkLoaded(),s&&this._validate(a.z.glyphs,"glyphs",s,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,d,_={},E){this._checkLoaded();const L=[{id:s,url:d}],B=[...Y(this.stylesheet.sprite),...L];this._validate(a.z.sprite,"sprite",B,null,_)||(this.stylesheet.sprite=B,this._loadSprite(L,!0,E))}removeSprite(s){this._checkLoaded();const d=Y(this.stylesheet.sprite);if(d.find((_=>_.id===s))){if(this._spritesImagesIds[s])for(const _ of this._spritesImagesIds[s])this.imageManager.removeImage(_),this._changedImages[_]=!0;d.splice(d.findIndex((_=>_.id===s)),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return Y(this.stylesheet.sprite)}setSprite(s,d={},_){this._checkLoaded(),s&&this._validate(a.z.sprite,"sprite",s,null,d)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,_):(this._unloadSprite(),_&&_(null)))}}var wc=a.aI([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Iu{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,d,_,E,L,B,K,tt,ht){this.context=s;let bt=this.boundPaintVertexBuffers.length!==E.length;for(let It=0;!bt&&It<E.length;It++)this.boundPaintVertexBuffers[It]!==E[It]&&(bt=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==_||bt||this.boundIndexBuffer!==L||this.boundVertexOffset!==B||this.boundDynamicVertexBuffer!==K||this.boundDynamicVertexBuffer2!==tt||this.boundDynamicVertexBuffer3!==ht?this.freshBind(d,_,E,L,B,K,tt,ht):(s.bindVertexArray.set(this.vao),K&&K.bind(),L&&L.dynamicDraw&&L.bind(),tt&&tt.bind(),ht&&ht.bind())}freshBind(s,d,_,E,L,B,K,tt){const ht=s.numAttributes,bt=this.context,It=bt.gl;this.vao&&this.destroy(),this.vao=bt.createVertexArray(),bt.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=E,this.boundVertexOffset=L,this.boundDynamicVertexBuffer=B,this.boundDynamicVertexBuffer2=K,this.boundDynamicVertexBuffer3=tt,d.enableAttributes(It,s);for(const Ct of _)Ct.enableAttributes(It,s);B&&B.enableAttributes(It,s),K&&K.enableAttributes(It,s),tt&&tt.enableAttributes(It,s),d.bind(),d.setVertexAttribPointers(It,s,L);for(const Ct of _)Ct.bind(),Ct.setVertexAttribPointers(It,s,L);B&&(B.bind(),B.setVertexAttribPointers(It,s,L)),E&&E.bind(),K&&(K.bind(),K.setVertexAttribPointers(It,s,L)),tt&&(tt.bind(),tt.setVertexAttribPointers(It,s,L)),bt.currentNumAttributes=ht}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const ql=(N,s,d,_,E)=>({u_texture:0,u_ele_delta:N,u_fog_matrix:s,u_fog_color:d?d.properties.get("fog-color"):a.be.white,u_fog_ground_blend:d?d.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:E?0:d?d.calculateFogBlendOpacity(_):0,u_horizon_color:d?d.properties.get("horizon-color"):a.be.white,u_horizon_fog_blend:d?d.properties.get("horizon-fog-blend"):1,u_is_globe_mode:E?1:0}),Ru={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function mo(N){const s=[];for(let d=0;d<N.length;d++){if(N[d]===null)continue;const _=N[d].split(" ");s.push(_.pop())}return s}class Sc{constructor(s,d,_,E,L,B,K,tt,ht=[]){const bt=s.gl;this.program=bt.createProgram();const It=mo(d.staticAttributes),Ct=_?_.getBinderAttributes():[],zt=It.concat(Ct),Qt=qe.prelude.staticUniforms?mo(qe.prelude.staticUniforms):[],fe=K.staticUniforms?mo(K.staticUniforms):[],pe=d.staticUniforms?mo(d.staticUniforms):[],me=_?_.getBinderUniforms():[],xe=Qt.concat(fe).concat(pe).concat(me),Be=[];for(const xr of xe)Be.indexOf(xr)<0&&Be.push(xr);const Le=_?_.defines():[];No(bt)&&Le.unshift("#version 300 es"),L&&Le.push("#define OVERDRAW_INSPECTOR;"),B&&Le.push("#define TERRAIN3D;"),tt&&Le.push(tt),ht&&Le.push(...ht);let Ve=Le.concat(qe.prelude.fragmentSource,K.fragmentSource,d.fragmentSource).join(`
`),We=Le.concat(qe.prelude.vertexSource,K.vertexSource,d.vertexSource).join(`
`);No(bt)||(Ve=(function(xr){return xr.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(Ve),We=(function(xr){return xr.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(We));const Ne=bt.createShader(bt.FRAGMENT_SHADER);if(bt.isContextLost())return void(this.failedToCreate=!0);if(bt.shaderSource(Ne,Ve),bt.compileShader(Ne),!bt.getShaderParameter(Ne,bt.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${bt.getShaderInfoLog(Ne)}`);bt.attachShader(this.program,Ne);const tr=bt.createShader(bt.VERTEX_SHADER);if(bt.isContextLost())return void(this.failedToCreate=!0);if(bt.shaderSource(tr,We),bt.compileShader(tr),!bt.getShaderParameter(tr,bt.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${bt.getShaderInfoLog(tr)}`);bt.attachShader(this.program,tr),this.attributes={};const Ar={};this.numAttributes=zt.length;for(let xr=0;xr<this.numAttributes;xr++)zt[xr]&&(bt.bindAttribLocation(this.program,xr,zt[xr]),this.attributes[zt[xr]]=xr);if(bt.linkProgram(this.program),!bt.getProgramParameter(this.program,bt.LINK_STATUS))throw new Error(`Program failed to link: ${bt.getProgramInfoLog(this.program)}`);bt.deleteShader(tr),bt.deleteShader(Ne);for(let xr=0;xr<Be.length;xr++){const Sr=Be[xr];if(Sr&&!Ar[Sr]){const kr=bt.getUniformLocation(this.program,Sr);kr&&(Ar[Sr]=kr)}}this.fixedUniforms=E(s,Ar),this.terrainUniforms=((xr,Sr)=>({u_depth:new a.bO(xr,Sr.u_depth),u_terrain:new a.bO(xr,Sr.u_terrain),u_terrain_dim:new a.bf(xr,Sr.u_terrain_dim),u_terrain_matrix:new a.bQ(xr,Sr.u_terrain_matrix),u_terrain_unpack:new a.bR(xr,Sr.u_terrain_unpack),u_terrain_exaggeration:new a.bf(xr,Sr.u_terrain_exaggeration)}))(s,Ar),this.projectionUniforms=((xr,Sr)=>({u_projection_matrix:new a.bQ(xr,Sr.u_projection_matrix),u_projection_tile_mercator_coords:new a.bR(xr,Sr.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.bR(xr,Sr.u_projection_clipping_plane),u_projection_transition:new a.bf(xr,Sr.u_projection_transition),u_projection_fallback_matrix:new a.bQ(xr,Sr.u_projection_fallback_matrix)}))(s,Ar),this.binderUniforms=_?_.getUniforms(s,Ar):[]}draw(s,d,_,E,L,B,K,tt,ht,bt,It,Ct,zt,Qt,fe,pe,me,xe,Be){const Le=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(_),s.setStencilMode(E),s.setColorMode(L),s.setCullFace(B),tt){s.activeTexture.set(Le.TEXTURE2),Le.bindTexture(Le.TEXTURE_2D,tt.depthTexture),s.activeTexture.set(Le.TEXTURE3),Le.bindTexture(Le.TEXTURE_2D,tt.texture);for(const We in this.terrainUniforms)this.terrainUniforms[We].set(tt[We])}if(ht)for(const We in ht)this.projectionUniforms[Ru[We]].set(ht[We]);if(K)for(const We in this.fixedUniforms)this.fixedUniforms[We].set(K[We]);pe&&pe.setUniforms(s,this.binderUniforms,Qt,{zoom:fe});let Ve=0;switch(d){case Le.LINES:Ve=2;break;case Le.TRIANGLES:Ve=3;break;case Le.LINE_STRIP:Ve=1}for(const We of zt.get()){const Ne=We.vaos||(We.vaos={});(Ne[bt]||(Ne[bt]=new Iu)).bind(s,this,It,pe?pe.getPaintVertexBuffers():[],Ct,We.vertexOffset,me,xe,Be),Le.drawElements(d,We.primitiveLength*Ve,Le.UNSIGNED_SHORT,We.primitiveOffset*Ve*2)}}}function vu(N,s,d){const _=1/a.aB(d,1,s.transform.tileZoom),E=Math.pow(2,d.tileID.overscaledZ),L=d.tileSize*Math.pow(2,s.transform.tileZoom)/E,B=L*(d.tileID.canonical.x+d.tileID.wrap*E),K=L*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[_,N.fromScale,N.toScale],u_fade:N.t,u_pixel_coord_upper:[B>>16,K>>16],u_pixel_coord_lower:[65535&B,65535&K]}}const Gl=(N,s,d,_)=>{const E=N.style.light,L=E.properties.get("position"),B=[L.x,L.y,L.z],K=a.bU();E.properties.get("anchor")==="viewport"&&a.bV(K,N.transform.bearingInRadians),a.bW(B,B,K);const tt=N.transform.transformLightDirection(B),ht=E.properties.get("color");return{u_lightpos:B,u_lightpos_globe:tt,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[ht.r,ht.g,ht.b],u_vertical_gradient:+s,u_opacity:d,u_fill_translate:_}},Eo=(N,s,d,_,E,L,B)=>a.e(Gl(N,s,d,_),vu(L,N,B),{u_height_factor:-Math.pow(2,E.overscaledZ)/B.tileSize/8}),Fo=(N,s,d,_)=>a.e(vu(s,N,d),{u_fill_translate:_}),to=(N,s)=>({u_world:N,u_fill_translate:s}),hc=(N,s,d,_,E)=>a.e(Fo(N,s,d,E),{u_world:_}),Vc=(N,s,d,_,E)=>{const L=N.transform;let B,K,tt=0;if(d.paint.get("circle-pitch-alignment")==="map"){const ht=a.aB(s,1,L.zoom);B=!0,K=[ht,ht],tt=ht/(a.$*Math.pow(2,s.tileID.overscaledZ))*2*Math.PI*E}else B=!1,K=L.pixelsToGLUnits;return{u_camera_to_center_distance:L.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+B,u_device_pixel_ratio:N.pixelRatio,u_extrude_scale:K,u_globe_extrude_scale:tt,u_translate:_}},oo=N=>({u_pixel_extrude_scale:[1/N.width,1/N.height]}),bu=N=>({u_viewport_size:[N.width,N.height]}),Uc=(N,s=1)=>({u_color:N,u_overlay:0,u_overlay_scale:s}),il=(N,s,d,_)=>{const E=a.aB(N,1,s)/(a.$*Math.pow(2,N.tileID.overscaledZ))*2*Math.PI*_;return{u_extrude_scale:a.aB(N,1,s),u_intensity:d,u_globe_extrude_scale:E}},ws=(N,s,d,_)=>{const E=a.L();a.bX(E,0,N.width,N.height,0,0,1);const L=N.context.gl;return{u_matrix:E,u_world:[L.drawingBufferWidth,L.drawingBufferHeight],u_image:d,u_color_ramp:_,u_opacity:s.paint.get("heatmap-opacity")}},Zs=(N,s,d)=>{const _=d.paint.get("hillshade-accent-color");let E;switch(d.paint.get("hillshade-method")){case"basic":E=4;break;case"combined":E=1;break;case"igor":E=2;break;case"multidirectional":E=3;break;default:E=0}const L=d.getIlluminationProperties();for(let B=0;B<L.directionRadians.length;B++)d.paint.get("hillshade-illumination-anchor")==="viewport"&&(L.directionRadians[B]+=N.transform.bearingInRadians);return{u_image:0,u_latrange:Hu(0,s.tileID),u_exaggeration:d.paint.get("hillshade-exaggeration"),u_altitudes:L.altitudeRadians,u_azimuths:L.directionRadians,u_accent:_,u_method:E,u_highlights:L.highlightColor,u_shadows:L.shadowColor}},mh=(N,s)=>{const d=s.stride,_=a.L();return a.bX(_,0,a.$,-8192,0,0,1),a.M(_,_,[0,-8192,0]),{u_matrix:_,u_image:1,u_dimension:[d,d],u_zoom:N.overscaledZ,u_unpack:s.getUnpackVector()}};function Hu(N,s){const d=Math.pow(2,s.canonical.z),_=s.canonical.y;return[new a.a0(0,_/d).toLngLat().lat,new a.a0(0,(_+1)/d).toLngLat().lat]}const qc=(N,s)=>({u_image:0,u_unpack:s.getUnpackVector(),u_dimension:[s.stride,s.stride],u_elevation_stops:1,u_color_stops:4,u_opacity:N.paint.get("color-relief-opacity")}),Hl=(N,s,d,_)=>{const E=N.transform;return{u_translation:Hc(N,s,d),u_ratio:_/a.aB(s,1,E.zoom),u_device_pixel_ratio:N.pixelRatio,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},jo=(N,s,d,_,E)=>a.e(Hl(N,s,d,_),{u_image:0,u_image_height:E}),Ss=(N,s,d,_,E)=>{const L=N.transform,B=Es(s,L);return{u_translation:Hc(N,s,d),u_texsize:s.imageAtlasTexture.size,u_ratio:_/a.aB(s,1,L.zoom),u_device_pixel_ratio:N.pixelRatio,u_image:0,u_scale:[B,E.fromScale,E.toScale],u_fade:E.t,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},Gc=(N,s,d,_,E,L)=>{const B=N.lineAtlas,K=Es(s,N.transform),tt=d.layout.get("line-cap")==="round",ht=B.getDash(E.from,tt),bt=B.getDash(E.to,tt),It=ht.width*L.fromScale,Ct=bt.width*L.toScale;return a.e(Hl(N,s,d,_),{u_patternscale_a:[K/It,-ht.height/2],u_patternscale_b:[K/Ct,-bt.height/2],u_sdfgamma:B.width/(256*Math.min(It,Ct)*N.pixelRatio)/2,u_image:0,u_tex_y_a:ht.y,u_tex_y_b:bt.y,u_mix:L.t})};function Es(N,s){return 1/a.aB(N,1,s.tileZoom)}function Hc(N,s,d){return a.aC(N.transform,s,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Ps=(N,s,d,_,E)=>{return{u_tl_parent:N,u_scale_parent:s,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(B=_.paint.get("raster-saturation"),B>0?1-1/(1.001-B):-B),u_contrast_factor:(L=_.paint.get("raster-contrast"),L>0?1/(1-L):1+L),u_spin_weights:dc(_.paint.get("raster-hue-rotate")),u_coords_top:[E[0].x,E[0].y,E[1].x,E[1].y],u_coords_bottom:[E[3].x,E[3].y,E[2].x,E[2].y]};var L,B};function dc(N){N*=Math.PI/180;const s=Math.sin(N),d=Math.cos(N);return[(2*d+1)/3,(-Math.sqrt(3)*s-d+1)/3,(Math.sqrt(3)*s-d+1)/3]}const To=(N,s,d,_,E,L,B,K,tt,ht,bt,It,Ct)=>{const zt=B.transform;return{u_is_size_zoom_constant:+(N==="constant"||N==="source"),u_is_size_feature_constant:+(N==="constant"||N==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:zt.cameraToCenterDistance,u_pitch:zt.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:zt.width/zt.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_label_plane_matrix:K,u_coord_matrix:tt,u_is_text:+bt,u_pitch_with_map:+_,u_is_along_line:E,u_is_variable_anchor:L,u_texsize:It,u_texture:0,u_translation:ht,u_pitched_scale:Ct}},fc=(N,s,d,_,E,L,B,K,tt,ht,bt,It,Ct,zt)=>{const Qt=B.transform;return a.e(To(N,s,d,_,E,L,B,K,tt,ht,bt,It,zt),{u_gamma_scale:_?Math.cos(Qt.pitch*Math.PI/180)*Qt.cameraToCenterDistance:1,u_device_pixel_ratio:B.pixelRatio,u_is_halo:1})},pc=(N,s,d,_,E,L,B,K,tt,ht,bt,It,Ct)=>a.e(fc(N,s,d,_,E,L,B,K,tt,ht,!0,bt,0,Ct),{u_texsize_icon:It,u_texture_icon:1}),Al=(N,s)=>({u_opacity:N,u_color:s}),_u=(N,s,d,_,E)=>a.e((function(L,B,K,tt){const ht=K.imageManager.getPattern(L.from.toString()),bt=K.imageManager.getPattern(L.to.toString()),{width:It,height:Ct}=K.imageManager.getPixelSize(),zt=Math.pow(2,tt.tileID.overscaledZ),Qt=tt.tileSize*Math.pow(2,K.transform.tileZoom)/zt,fe=Qt*(tt.tileID.canonical.x+tt.tileID.wrap*zt),pe=Qt*tt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ht.tl,u_pattern_br_a:ht.br,u_pattern_tl_b:bt.tl,u_pattern_br_b:bt.br,u_texsize:[It,Ct],u_mix:B.t,u_pattern_size_a:ht.displaySize,u_pattern_size_b:bt.displaySize,u_scale_a:B.fromScale,u_scale_b:B.toScale,u_tile_units_to_pixels:1/a.aB(tt,1,K.transform.tileZoom),u_pixel_coord_upper:[fe>>16,pe>>16],u_pixel_coord_lower:[65535&fe,65535&pe]}})(d,E,s,_),{u_opacity:N}),Xu=(N,s)=>{},Ec={fillExtrusion:(N,s)=>({u_lightpos:new a.bS(N,s.u_lightpos),u_lightpos_globe:new a.bS(N,s.u_lightpos_globe),u_lightintensity:new a.bf(N,s.u_lightintensity),u_lightcolor:new a.bS(N,s.u_lightcolor),u_vertical_gradient:new a.bf(N,s.u_vertical_gradient),u_opacity:new a.bf(N,s.u_opacity),u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillExtrusionPattern:(N,s)=>({u_lightpos:new a.bS(N,s.u_lightpos),u_lightpos_globe:new a.bS(N,s.u_lightpos_globe),u_lightintensity:new a.bf(N,s.u_lightintensity),u_lightcolor:new a.bS(N,s.u_lightcolor),u_vertical_gradient:new a.bf(N,s.u_vertical_gradient),u_height_factor:new a.bf(N,s.u_height_factor),u_opacity:new a.bf(N,s.u_opacity),u_fill_translate:new a.bT(N,s.u_fill_translate),u_image:new a.bO(N,s.u_image),u_texsize:new a.bT(N,s.u_texsize),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade)}),fill:(N,s)=>({u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillPattern:(N,s)=>({u_image:new a.bO(N,s.u_image),u_texsize:new a.bT(N,s.u_texsize),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade),u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillOutline:(N,s)=>({u_world:new a.bT(N,s.u_world),u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillOutlinePattern:(N,s)=>({u_world:new a.bT(N,s.u_world),u_image:new a.bO(N,s.u_image),u_texsize:new a.bT(N,s.u_texsize),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade),u_fill_translate:new a.bT(N,s.u_fill_translate)}),circle:(N,s)=>({u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_scale_with_map:new a.bO(N,s.u_scale_with_map),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_extrude_scale:new a.bT(N,s.u_extrude_scale),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_globe_extrude_scale:new a.bf(N,s.u_globe_extrude_scale),u_translate:new a.bT(N,s.u_translate)}),collisionBox:(N,s)=>({u_pixel_extrude_scale:new a.bT(N,s.u_pixel_extrude_scale)}),collisionCircle:(N,s)=>({u_viewport_size:new a.bT(N,s.u_viewport_size)}),debug:(N,s)=>({u_color:new a.bP(N,s.u_color),u_overlay:new a.bO(N,s.u_overlay),u_overlay_scale:new a.bf(N,s.u_overlay_scale)}),depth:Xu,clippingMask:Xu,heatmap:(N,s)=>({u_extrude_scale:new a.bf(N,s.u_extrude_scale),u_intensity:new a.bf(N,s.u_intensity),u_globe_extrude_scale:new a.bf(N,s.u_globe_extrude_scale)}),heatmapTexture:(N,s)=>({u_matrix:new a.bQ(N,s.u_matrix),u_world:new a.bT(N,s.u_world),u_image:new a.bO(N,s.u_image),u_color_ramp:new a.bO(N,s.u_color_ramp),u_opacity:new a.bf(N,s.u_opacity)}),hillshade:(N,s)=>({u_image:new a.bO(N,s.u_image),u_latrange:new a.bT(N,s.u_latrange),u_exaggeration:new a.bf(N,s.u_exaggeration),u_altitudes:new a.bZ(N,s.u_altitudes),u_azimuths:new a.bZ(N,s.u_azimuths),u_accent:new a.bP(N,s.u_accent),u_method:new a.bO(N,s.u_method),u_shadows:new a.bY(N,s.u_shadows),u_highlights:new a.bY(N,s.u_highlights)}),hillshadePrepare:(N,s)=>({u_matrix:new a.bQ(N,s.u_matrix),u_image:new a.bO(N,s.u_image),u_dimension:new a.bT(N,s.u_dimension),u_zoom:new a.bf(N,s.u_zoom),u_unpack:new a.bR(N,s.u_unpack)}),colorRelief:(N,s)=>({u_image:new a.bO(N,s.u_image),u_unpack:new a.bR(N,s.u_unpack),u_dimension:new a.bT(N,s.u_dimension),u_elevation_stops:new a.bO(N,s.u_elevation_stops),u_color_stops:new a.bO(N,s.u_color_stops),u_opacity:new a.bf(N,s.u_opacity)}),line:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels)}),lineGradient:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels),u_image:new a.bO(N,s.u_image),u_image_height:new a.bf(N,s.u_image_height)}),linePattern:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_texsize:new a.bT(N,s.u_texsize),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_image:new a.bO(N,s.u_image),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade)}),lineSDF:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels),u_patternscale_a:new a.bT(N,s.u_patternscale_a),u_patternscale_b:new a.bT(N,s.u_patternscale_b),u_sdfgamma:new a.bf(N,s.u_sdfgamma),u_image:new a.bO(N,s.u_image),u_tex_y_a:new a.bf(N,s.u_tex_y_a),u_tex_y_b:new a.bf(N,s.u_tex_y_b),u_mix:new a.bf(N,s.u_mix)}),raster:(N,s)=>({u_tl_parent:new a.bT(N,s.u_tl_parent),u_scale_parent:new a.bf(N,s.u_scale_parent),u_buffer_scale:new a.bf(N,s.u_buffer_scale),u_fade_t:new a.bf(N,s.u_fade_t),u_opacity:new a.bf(N,s.u_opacity),u_image0:new a.bO(N,s.u_image0),u_image1:new a.bO(N,s.u_image1),u_brightness_low:new a.bf(N,s.u_brightness_low),u_brightness_high:new a.bf(N,s.u_brightness_high),u_saturation_factor:new a.bf(N,s.u_saturation_factor),u_contrast_factor:new a.bf(N,s.u_contrast_factor),u_spin_weights:new a.bS(N,s.u_spin_weights),u_coords_top:new a.bR(N,s.u_coords_top),u_coords_bottom:new a.bR(N,s.u_coords_bottom)}),symbolIcon:(N,s)=>({u_is_size_zoom_constant:new a.bO(N,s.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bO(N,s.u_is_size_feature_constant),u_size_t:new a.bf(N,s.u_size_t),u_size:new a.bf(N,s.u_size),u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_pitch:new a.bf(N,s.u_pitch),u_rotate_symbol:new a.bO(N,s.u_rotate_symbol),u_aspect_ratio:new a.bf(N,s.u_aspect_ratio),u_fade_change:new a.bf(N,s.u_fade_change),u_label_plane_matrix:new a.bQ(N,s.u_label_plane_matrix),u_coord_matrix:new a.bQ(N,s.u_coord_matrix),u_is_text:new a.bO(N,s.u_is_text),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_is_along_line:new a.bO(N,s.u_is_along_line),u_is_variable_anchor:new a.bO(N,s.u_is_variable_anchor),u_texsize:new a.bT(N,s.u_texsize),u_texture:new a.bO(N,s.u_texture),u_translation:new a.bT(N,s.u_translation),u_pitched_scale:new a.bf(N,s.u_pitched_scale)}),symbolSDF:(N,s)=>({u_is_size_zoom_constant:new a.bO(N,s.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bO(N,s.u_is_size_feature_constant),u_size_t:new a.bf(N,s.u_size_t),u_size:new a.bf(N,s.u_size),u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_pitch:new a.bf(N,s.u_pitch),u_rotate_symbol:new a.bO(N,s.u_rotate_symbol),u_aspect_ratio:new a.bf(N,s.u_aspect_ratio),u_fade_change:new a.bf(N,s.u_fade_change),u_label_plane_matrix:new a.bQ(N,s.u_label_plane_matrix),u_coord_matrix:new a.bQ(N,s.u_coord_matrix),u_is_text:new a.bO(N,s.u_is_text),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_is_along_line:new a.bO(N,s.u_is_along_line),u_is_variable_anchor:new a.bO(N,s.u_is_variable_anchor),u_texsize:new a.bT(N,s.u_texsize),u_texture:new a.bO(N,s.u_texture),u_gamma_scale:new a.bf(N,s.u_gamma_scale),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_is_halo:new a.bO(N,s.u_is_halo),u_translation:new a.bT(N,s.u_translation),u_pitched_scale:new a.bf(N,s.u_pitched_scale)}),symbolTextAndIcon:(N,s)=>({u_is_size_zoom_constant:new a.bO(N,s.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bO(N,s.u_is_size_feature_constant),u_size_t:new a.bf(N,s.u_size_t),u_size:new a.bf(N,s.u_size),u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_pitch:new a.bf(N,s.u_pitch),u_rotate_symbol:new a.bO(N,s.u_rotate_symbol),u_aspect_ratio:new a.bf(N,s.u_aspect_ratio),u_fade_change:new a.bf(N,s.u_fade_change),u_label_plane_matrix:new a.bQ(N,s.u_label_plane_matrix),u_coord_matrix:new a.bQ(N,s.u_coord_matrix),u_is_text:new a.bO(N,s.u_is_text),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_is_along_line:new a.bO(N,s.u_is_along_line),u_is_variable_anchor:new a.bO(N,s.u_is_variable_anchor),u_texsize:new a.bT(N,s.u_texsize),u_texsize_icon:new a.bT(N,s.u_texsize_icon),u_texture:new a.bO(N,s.u_texture),u_texture_icon:new a.bO(N,s.u_texture_icon),u_gamma_scale:new a.bf(N,s.u_gamma_scale),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_is_halo:new a.bO(N,s.u_is_halo),u_translation:new a.bT(N,s.u_translation),u_pitched_scale:new a.bf(N,s.u_pitched_scale)}),background:(N,s)=>({u_opacity:new a.bf(N,s.u_opacity),u_color:new a.bP(N,s.u_color)}),backgroundPattern:(N,s)=>({u_opacity:new a.bf(N,s.u_opacity),u_image:new a.bO(N,s.u_image),u_pattern_tl_a:new a.bT(N,s.u_pattern_tl_a),u_pattern_br_a:new a.bT(N,s.u_pattern_br_a),u_pattern_tl_b:new a.bT(N,s.u_pattern_tl_b),u_pattern_br_b:new a.bT(N,s.u_pattern_br_b),u_texsize:new a.bT(N,s.u_texsize),u_mix:new a.bf(N,s.u_mix),u_pattern_size_a:new a.bT(N,s.u_pattern_size_a),u_pattern_size_b:new a.bT(N,s.u_pattern_size_b),u_scale_a:new a.bf(N,s.u_scale_a),u_scale_b:new a.bf(N,s.u_scale_b),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bf(N,s.u_tile_units_to_pixels)}),terrain:(N,s)=>({u_texture:new a.bO(N,s.u_texture),u_ele_delta:new a.bf(N,s.u_ele_delta),u_fog_matrix:new a.bQ(N,s.u_fog_matrix),u_fog_color:new a.bP(N,s.u_fog_color),u_fog_ground_blend:new a.bf(N,s.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bf(N,s.u_fog_ground_blend_opacity),u_horizon_color:new a.bP(N,s.u_horizon_color),u_horizon_fog_blend:new a.bf(N,s.u_horizon_fog_blend),u_is_globe_mode:new a.bf(N,s.u_is_globe_mode)}),terrainDepth:(N,s)=>({u_ele_delta:new a.bf(N,s.u_ele_delta)}),terrainCoords:(N,s)=>({u_texture:new a.bO(N,s.u_texture),u_terrain_coords_id:new a.bf(N,s.u_terrain_coords_id),u_ele_delta:new a.bf(N,s.u_ele_delta)}),projectionErrorMeasurement:(N,s)=>({u_input:new a.bf(N,s.u_input),u_output_expected:new a.bf(N,s.u_output_expected)}),atmosphere:(N,s)=>({u_sun_pos:new a.bS(N,s.u_sun_pos),u_atmosphere_blend:new a.bf(N,s.u_atmosphere_blend),u_globe_position:new a.bS(N,s.u_globe_position),u_globe_radius:new a.bf(N,s.u_globe_radius),u_inv_proj_matrix:new a.bQ(N,s.u_inv_proj_matrix)}),sky:(N,s)=>({u_sky_color:new a.bP(N,s.u_sky_color),u_horizon_color:new a.bP(N,s.u_horizon_color),u_horizon:new a.bT(N,s.u_horizon),u_horizon_normal:new a.bT(N,s.u_horizon_normal),u_sky_horizon_blend:new a.bf(N,s.u_sky_horizon_blend),u_sky_blend:new a.bf(N,s.u_sky_blend)})};class xu{constructor(s,d,_){this.context=s;const E=s.gl;this.buffer=E.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),E.bufferData(E.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ts={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class lr{constructor(s,d,_,E){this.length=d.length,this.attributes=_,this.itemSize=d.bytesPerElement,this.dynamicDraw=E,this.context=s;const L=s.gl;this.buffer=L.createBuffer(),s.bindVertexBuffer.set(this.buffer),L.bufferData(L.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,d){for(let _=0;_<this.attributes.length;_++){const E=d.attributes[this.attributes[_].name];E!==void 0&&s.enableVertexAttribArray(E)}}setVertexAttribPointers(s,d,_){for(let E=0;E<this.attributes.length;E++){const L=this.attributes[E],B=d.attributes[L.name];B!==void 0&&s.vertexAttribPointer(B,L.components,s[Ts[L.type]],!1,this.itemSize,L.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class mr{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class An extends mr{getDefault(){return a.be.transparent}set(s){const d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Dn extends mr{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class Ni extends mr{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class $n extends mr{getDefault(){return[!0,!0,!0,!0]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class A extends mr{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class m extends mr{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class y extends mr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const d=this.current;(s.func!==d.func||s.ref!==d.ref||s.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class C extends mr{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class F extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=s,this.dirty=!1}}class nt extends mr{getDefault(){return[0,1]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class xt extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=s,this.dirty=!1}}class Dt extends mr{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class re extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.BLEND):d.disable(d.BLEND),this.current=s,this.dirty=!1}}class _e extends mr{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class sr extends mr{getDefault(){return a.be.transparent}set(s){const d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class _r extends mr{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class tn extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=s,this.dirty=!1}}class In extends mr{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class Qn extends mr{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class hi extends mr{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class Kn extends mr{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class Hn extends mr{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class ma extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class qi extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Va extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class $o extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class so extends mr{getDefault(){return null}set(s){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class ls extends mr{getDefault(){return null}set(s){var d;if(s===this.current&&!this.dirty)return;const _=this.gl;No(_)?_.bindVertexArray(s):(d=_.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class Tc extends mr{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class Cc extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class kl extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class ml extends mr{constructor(s,d){super(s),this.context=s,this.parent=d}getDefault(){return null}}class Ac extends ml{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class Il extends ml{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Co extends ml{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}const Cs="Framebuffer is not complete";class Wu{constructor(s,d,_,E,L){this.context=s,this.width=d,this.height=_;const B=s.gl,K=this.framebuffer=B.createFramebuffer();if(this.colorAttachment=new Ac(s,K),E)this.depthAttachment=L?new Co(s,K):new Il(s,K);else if(L)throw new Error("Stencil cannot be set without depth");if(B.checkFramebufferStatus(B.FRAMEBUFFER)!==B.FRAMEBUFFER_COMPLETE)throw new Error(Cs)}destroy(){const s=this.context.gl,d=this.colorAttachment.get();if(d&&s.deleteTexture(d),this.depthAttachment){const _=this.depthAttachment.get();_&&s.deleteRenderbuffer(_)}s.deleteFramebuffer(this.framebuffer)}}class mi{constructor(s){var d,_;if(this.gl=s,this.clearColor=new An(this),this.clearDepth=new Dn(this),this.clearStencil=new Ni(this),this.colorMask=new $n(this),this.depthMask=new A(this),this.stencilMask=new m(this),this.stencilFunc=new y(this),this.stencilOp=new C(this),this.stencilTest=new F(this),this.depthRange=new nt(this),this.depthTest=new xt(this),this.depthFunc=new Dt(this),this.blend=new re(this),this.blendFunc=new _e(this),this.blendColor=new sr(this),this.blendEquation=new _r(this),this.cullFace=new tn(this),this.cullFaceSide=new In(this),this.frontFace=new Qn(this),this.program=new hi(this),this.activeTexture=new Kn(this),this.viewport=new Hn(this),this.bindFramebuffer=new ma(this),this.bindRenderbuffer=new qi(this),this.bindTexture=new Va(this),this.bindVertexBuffer=new $o(this),this.bindElementBuffer=new so(this),this.bindVertexArray=new ls(this),this.pixelStoreUnpack=new Tc(this),this.pixelStoreUnpackPremultiplyAlpha=new Cc(this),this.pixelStoreUnpackFlipY=new kl(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),No(s)){this.HALF_FLOAT=s.HALF_FLOAT;const E=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=s.RGBA16F)!==null&&d!==void 0?d:E?.RGBA16F_EXT,this.RGB16F=(_=s.RGB16F)!==null&&_!==void 0?_:E?.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const E=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=E?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,d){return new xu(this,s,d)}createVertexBuffer(s,d,_){return new lr(this,s,d,_)}createRenderbuffer(s,d,_){const E=this.gl,L=E.createRenderbuffer();return this.bindRenderbuffer.set(L),E.renderbufferStorage(E.RENDERBUFFER,s,d,_),this.bindRenderbuffer.set(null),L}createFramebuffer(s,d,_,E){return new Wu(this,s,d,_,E)}clear({color:s,depth:d,stencil:_}){const E=this.gl;let L=0;s&&(L|=E.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(L|=E.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),_!==void 0&&(L|=E.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),E.clear(L)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){a.bG(s.blendFunction,Bn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return No(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var d;return No(this.gl)?this.gl.deleteVertexArray(s):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}let Xc;function Xl(N,s,d,_,E){const L=N.context,B=N.transform,K=L.gl,tt=N.useProgram("collisionBox"),ht=[];let bt=0,It=0;for(let me=0;me<_.length;me++){const xe=_[me],Be=s.getTile(xe).getBucket(d);if(!Be)continue;const Le=E?Be.textCollisionBox:Be.iconCollisionBox,Ve=Be.collisionCircleArray;Ve.length>0&&(ht.push({circleArray:Ve,circleOffset:It,coord:xe}),bt+=Ve.length/4,It=bt),Le&&tt.draw(L,K.LINES,ei.disabled,zn.disabled,N.colorModeForRenderPass(),pi.disabled,oo(N.transform),N.style.map.terrain&&N.style.map.terrain.getTerrainData(xe),B.getProjectionData({overscaledTileID:xe,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),d.id,Le.layoutVertexBuffer,Le.indexBuffer,Le.segments,null,N.transform.zoom,null,null,Le.collisionVertexBuffer)}if(!E||!ht.length)return;const Ct=N.useProgram("collisionCircle"),zt=new a.b_;zt.resize(4*bt),zt._trim();let Qt=0;for(const me of ht)for(let xe=0;xe<me.circleArray.length/4;xe++){const Be=4*xe,Le=me.circleArray[Be+0],Ve=me.circleArray[Be+1],We=me.circleArray[Be+2],Ne=me.circleArray[Be+3];zt.emplace(Qt++,Le,Ve,We,Ne,0),zt.emplace(Qt++,Le,Ve,We,Ne,1),zt.emplace(Qt++,Le,Ve,We,Ne,2),zt.emplace(Qt++,Le,Ve,We,Ne,3)}(!Xc||Xc.length<2*bt)&&(Xc=(function(me){const xe=2*me,Be=new a.c0;Be.resize(xe),Be._trim();for(let Le=0;Le<xe;Le++){const Ve=6*Le;Be.uint16[Ve+0]=4*Le+0,Be.uint16[Ve+1]=4*Le+1,Be.uint16[Ve+2]=4*Le+2,Be.uint16[Ve+3]=4*Le+2,Be.uint16[Ve+4]=4*Le+3,Be.uint16[Ve+5]=4*Le+0}return Be})(bt));const fe=L.createIndexBuffer(Xc,!0),pe=L.createVertexBuffer(zt,a.b$.members,!0);for(const me of ht){const xe=bu(N.transform);Ct.draw(L,K.TRIANGLES,ei.disabled,zn.disabled,N.colorModeForRenderPass(),pi.disabled,xe,N.style.map.terrain&&N.style.map.terrain.getTerrainData(me.coord),null,d.id,pe,fe,a.aL.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,N.transform.zoom,null,null,null)}pe.destroy(),fe.destroy()}const lf=a.af(new Float32Array(16));function gh(N,s,d,_,E,L){const{horizontalAlign:B,verticalAlign:K}=a.aG(N);return new a.P((-(B-.5)*s/E+_[0])*L,(-(K-.5)*d/E+_[1])*L)}function td(N,s,d,_,E,L){const B=s.tileAnchorPoint.add(new a.P(s.translation[0],s.translation[1]));if(s.pitchWithMap){let K=_.mult(L);d||(K=K.rotate(-E));const tt=B.add(K);return be(tt.x,tt.y,s.pitchedLabelPlaneMatrix,s.getElevation).point}if(d){const K=en(s.tileAnchorPoint.x+1,s.tileAnchorPoint.y,s).point.sub(N),tt=Math.atan(K.y/K.x)+(K.x<0?Math.PI:0);return N.add(_.rotate(tt))}return N.add(_)}function Gf(N,s,d,_,E,L,B,K,tt,ht,bt,It){const Ct=N.text.placedSymbolArray,zt=N.text.dynamicLayoutVertexArray,Qt=N.icon.dynamicLayoutVertexArray,fe={};zt.clear();for(let pe=0;pe<Ct.length;pe++){const me=Ct.get(pe),xe=me.hidden||!me.crossTileID||N.allowVerticalPlacement&&!me.placedOrientation?null:_[me.crossTileID];if(xe){const Be=new a.P(me.anchorX,me.anchorY),Le={getElevation:It,width:E.width,height:E.height,pitchedLabelPlaneMatrix:L,pitchWithMap:d,transform:E,tileAnchorPoint:Be,translation:ht,unwrappedTileID:bt},Ve=d?Wn(Be.x,Be.y,Le):en(Be.x,Be.y,Le),We=ze(E.cameraToCenterDistance,Ve.signedDistanceFromCamera);let Ne=a.ao(N.textSizeData,K,me)*We/a.aA;d&&(Ne*=N.tilePixelRatio/B);const{width:tr,height:Ar,anchor:xr,textOffset:Sr,textBoxScale:kr}=xe,Cn=gh(xr,tr,Ar,Sr,kr,Ne),Tn=E.getPitchedTextCorrection(Be.x+ht[0],Be.y+ht[1],bt),on=td(Ve.point,Le,s,Cn,-E.bearingInRadians,Tn),Un=N.allowVerticalPlacement&&me.placedOrientation===a.an.vertical?Math.PI/2:0;for(let Hi=0;Hi<me.numGlyphs;Hi++)a.au(zt,on,Un);tt&&me.associatedIconIndex>=0&&(fe[me.associatedIconIndex]={shiftedAnchor:on,angle:Un})}else io(me.numGlyphs,zt)}if(tt){Qt.clear();const pe=N.icon.placedSymbolArray;for(let me=0;me<pe.length;me++){const xe=pe.get(me);if(xe.hidden)io(xe.numGlyphs,Qt);else{const Be=fe[me];if(Be)for(let Le=0;Le<xe.numGlyphs;Le++)a.au(Qt,Be.shiftedAnchor,Be.angle);else io(xe.numGlyphs,Qt)}}N.icon.dynamicLayoutVertexBuffer.updateData(Qt)}N.text.dynamicLayoutVertexBuffer.updateData(zt)}function Hf(N,s,d){return d.iconsInText&&s?"symbolTextAndIcon":N?"symbolSDF":"symbolIcon"}function Td(N,s,d,_,E,L,B,K,tt,ht,bt,It,Ct){const zt=N.context,Qt=zt.gl,fe=N.transform,pe=K==="map",me=tt==="map",xe=K!=="viewport"&&d.layout.get("symbol-placement")!=="point",Be=pe&&!me&&!xe,Le=!d.layout.get("symbol-sort-key").isConstant();let Ve=!1;const We=N.getDepthModeForSublayer(0,ei.ReadOnly),Ne=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),tr=[],Ar=fe.getCircleRadiusCorrection();for(const xr of _){const Sr=s.getTile(xr),kr=Sr.getBucket(d);if(!kr)continue;const Cn=E?kr.text:kr.icon;if(!Cn||!Cn.segments.get().length||!Cn.hasVisibleVertices)continue;const Tn=Cn.programConfigurations.get(d.id),on=E||kr.sdfIcons,Un=E?kr.textSizeData:kr.iconSizeData,Hi=me||fe.pitch!==0,Sa=N.useProgram(Hf(on,E,kr),Tn),Uo=a.am(Un,fe.zoom),Ka=N.style.map.terrain&&N.style.map.terrain.getTerrainData(xr);let Za,Da,Pa,lo,_l=[0,0],fa=null;if(E)Da=Sr.glyphAtlasTexture,Pa=Qt.LINEAR,Za=Sr.glyphAtlasTexture.size,kr.iconsInText&&(_l=Sr.imageAtlasTexture.size,fa=Sr.imageAtlasTexture,lo=Hi||N.options.rotating||N.options.zooming||Un.kind==="composite"||Un.kind==="camera"?Qt.LINEAR:Qt.NEAREST);else{const ll=d.layout.get("icon-size").constantOr(0)!==1||kr.iconsNeedLinear;Da=Sr.imageAtlasTexture,Pa=on||N.options.rotating||N.options.zooming||ll||Hi?Qt.LINEAR:Qt.NEAREST,Za=Sr.imageAtlasTexture.size}const Rl=a.aB(Sr,1,N.transform.zoom),sl=Zn(pe,N.transform,Rl),Eu=a.L();a.ap(Eu,sl);const Nd=Pt(me,pe,N.transform,Rl),rd=a.aC(fe,Sr,L,B),nd=fe.getProjectionData({overscaledTileID:xr,applyGlobeMatrix:!Ct,applyTerrainMatrix:!0}),Dp=Ne&&kr.hasTextData(),Bp=d.layout.get("icon-text-fit")!=="none"&&Dp&&kr.hasIconData();if(xe){const ll=N.style.map.terrain?(cu,tc)=>N.style.map.terrain.getElevation(xr,cu,tc):null,rs=d.layout.get("text-rotation-alignment")==="map";vn(kr,N,E,sl,Eu,me,ht,rs,xr.toUnwrapped(),fe.width,fe.height,rd,ll)}const Wf=E&&Ne||Bp,Tu=xe||Wf?lf:me?sl:N.transform.clipSpaceToPixelsMatrix,_h=on&&d.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let id;id=on?kr.iconsInText?pc(Un.kind,Uo,Be,me,xe,Wf,N,Tu,Nd,rd,Za,_l,Ar):fc(Un.kind,Uo,Be,me,xe,Wf,N,Tu,Nd,rd,E,Za,0,Ar):To(Un.kind,Uo,Be,me,xe,Wf,N,Tu,Nd,rd,E,Za,Ar);const uf={program:Sa,buffers:Cn,uniformValues:id,projectionData:nd,atlasTexture:Da,atlasTextureIcon:fa,atlasInterpolation:Pa,atlasInterpolationIcon:lo,isSDF:on,hasHalo:_h};if(Le&&kr.canOverlap){Ve=!0;const ll=Cn.segments.get();for(const rs of ll)tr.push({segments:new a.aL([rs]),sortKey:rs.sortKey,state:uf,terrainData:Ka})}else tr.push({segments:Cn.segments,sortKey:0,state:uf,terrainData:Ka})}Ve&&tr.sort(((xr,Sr)=>xr.sortKey-Sr.sortKey));for(const xr of tr){const Sr=xr.state;if(zt.activeTexture.set(Qt.TEXTURE0),Sr.atlasTexture.bind(Sr.atlasInterpolation,Qt.CLAMP_TO_EDGE),Sr.atlasTextureIcon&&(zt.activeTexture.set(Qt.TEXTURE1),Sr.atlasTextureIcon&&Sr.atlasTextureIcon.bind(Sr.atlasInterpolationIcon,Qt.CLAMP_TO_EDGE)),Sr.isSDF){const kr=Sr.uniformValues;Sr.hasHalo&&(kr.u_is_halo=1,Cd(Sr.buffers,xr.segments,d,N,Sr.program,We,bt,It,kr,Sr.projectionData,xr.terrainData)),kr.u_is_halo=0}Cd(Sr.buffers,xr.segments,d,N,Sr.program,We,bt,It,Sr.uniformValues,Sr.projectionData,xr.terrainData)}}function Cd(N,s,d,_,E,L,B,K,tt,ht,bt){const It=_.context;E.draw(It,It.gl.TRIANGLES,L,B,K,pi.backCCW,tt,bt,ht,d.id,N.layoutVertexBuffer,N.indexBuffer,s,d.paint,_.transform.zoom,N.programConfigurations.get(d.id),N.dynamicLayoutVertexBuffer,N.opacityVertexBuffer)}function Wc(N,s,d,_,E){const L=N.context,B=L.gl,K=zn.disabled,tt=new Bn([B.ONE,B.ONE],a.be.transparent,[!0,!0,!0,!0]),ht=s.getBucket(d);if(!ht)return;const bt=_.key;let It=d.heatmapFbos.get(bt);It||(It=Yu(L,s.tileSize,s.tileSize),d.heatmapFbos.set(bt,It)),L.bindFramebuffer.set(It.framebuffer),L.viewport.set([0,0,s.tileSize,s.tileSize]),L.clear({color:a.be.transparent});const Ct=ht.programConfigurations.get(d.id),zt=N.useProgram("heatmap",Ct,!E),Qt=N.transform.getProjectionData({overscaledTileID:s.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),fe=N.style.map.terrain.getTerrainData(_);zt.draw(L,B.TRIANGLES,ei.disabled,K,tt,pi.disabled,il(s,N.transform.zoom,d.paint.get("heatmap-intensity"),1),fe,Qt,d.id,ht.layoutVertexBuffer,ht.indexBuffer,ht.segments,d.paint,N.transform.zoom,Ct)}function Dh(N,s,d,_,E){const L=N.context,B=L.gl,K=N.transform;L.setColorMode(N.colorModeForRenderPass());const tt=Ad(L,s),ht=d.key,bt=s.heatmapFbos.get(ht);if(!bt)return;L.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,bt.colorAttachment.get()),L.activeTexture.set(B.TEXTURE1),tt.bind(B.LINEAR,B.CLAMP_TO_EDGE);const It=K.getProjectionData({overscaledTileID:d,applyTerrainMatrix:E,applyGlobeMatrix:!_});N.useProgram("heatmapTexture").draw(L,B.TRIANGLES,ei.disabled,zn.disabled,N.colorModeForRenderPass(),pi.disabled,ws(N,s,0,1),null,It,s.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments,s.paint,K.zoom),bt.destroy(),s.heatmapFbos.delete(ht)}function Yu(N,s,d){var _,E;const L=N.gl,B=L.createTexture();L.bindTexture(L.TEXTURE_2D,B),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.LINEAR),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.LINEAR);const K=(_=N.HALF_FLOAT)!==null&&_!==void 0?_:L.UNSIGNED_BYTE,tt=(E=N.RGBA16F)!==null&&E!==void 0?E:L.RGBA;L.texImage2D(L.TEXTURE_2D,0,tt,s,d,0,L.RGBA,K,null);const ht=N.createFramebuffer(s,d,!1,!1);return ht.colorAttachment.set(B),ht}function Ad(N,s){return s.colorRampTexture||(s.colorRampTexture=new a.T(N,s.colorRamp,N.gl.RGBA)),s.colorRampTexture}function kd(N,s,d,_,E){if(!d||!_||!_.imageAtlas)return;const L=_.imageAtlas.patternPositions;let B=L[d.to.toString()],K=L[d.from.toString()];if(!B&&K&&(B=K),!K&&B&&(K=B),!B||!K){const tt=E.getPaintProperty(s);B=L[tt],K=L[tt]}B&&K&&N.setConstantPatternPositions(B,K)}function kc(N,s,d,_,E,L,B,K){const tt=N.context.gl,ht="fill-pattern",bt=d.paint.get(ht),It=bt&&bt.constantOr(1),Ct=d.getCrossfadeParameters();let zt,Qt,fe,pe,me;const xe=N.transform,Be=d.paint.get("fill-translate"),Le=d.paint.get("fill-translate-anchor");B?(Qt=It&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",zt=tt.LINES):(Qt=It?"fillPattern":"fill",zt=tt.TRIANGLES);const Ve=bt.constantOr(null);for(const We of _){const Ne=s.getTile(We);if(It&&!Ne.patternsLoaded())continue;const tr=Ne.getBucket(d);if(!tr)continue;const Ar=tr.programConfigurations.get(d.id),xr=N.useProgram(Qt,Ar),Sr=N.style.map.terrain&&N.style.map.terrain.getTerrainData(We);It&&(N.context.activeTexture.set(tt.TEXTURE0),Ne.imageAtlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),Ar.updatePaintBuffers(Ct)),kd(Ar,ht,Ve,Ne,d);const kr=xe.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!K,applyTerrainMatrix:!0}),Cn=a.aC(xe,Ne,Be,Le);if(B){pe=tr.indexBuffer2,me=tr.segments2;const on=[tt.drawingBufferWidth,tt.drawingBufferHeight];fe=Qt==="fillOutlinePattern"&&It?hc(N,Ct,Ne,on,Cn):to(on,Cn)}else pe=tr.indexBuffer,me=tr.segments,fe=It?Fo(N,Ct,Ne,Cn):{u_fill_translate:Cn};const Tn=N.stencilModeForClipping(We);xr.draw(N.context,zt,E,Tn,L,pi.backCCW,fe,Sr,kr,d.id,tr.layoutVertexBuffer,pe,me,d.paint,N.transform.zoom,Ar)}}function mc(N,s,d,_,E,L,B,K){const tt=N.context,ht=tt.gl,bt="fill-extrusion-pattern",It=d.paint.get(bt),Ct=It.constantOr(1),zt=d.getCrossfadeParameters(),Qt=d.paint.get("fill-extrusion-opacity"),fe=It.constantOr(null),pe=N.transform;for(const me of _){const xe=s.getTile(me),Be=xe.getBucket(d);if(!Be)continue;const Le=N.style.map.terrain&&N.style.map.terrain.getTerrainData(me),Ve=Be.programConfigurations.get(d.id),We=N.useProgram(Ct?"fillExtrusionPattern":"fillExtrusion",Ve);Ct&&(N.context.activeTexture.set(ht.TEXTURE0),xe.imageAtlasTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),Ve.updatePaintBuffers(zt));const Ne=pe.getProjectionData({overscaledTileID:me,applyGlobeMatrix:!K,applyTerrainMatrix:!0});kd(Ve,bt,fe,xe,d);const tr=a.aC(pe,xe,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ar=d.paint.get("fill-extrusion-vertical-gradient"),xr=Ct?Eo(N,Ar,Qt,tr,me,zt,xe):Gl(N,Ar,Qt,tr);We.draw(tt,tt.gl.TRIANGLES,E,L,B,pi.backCCW,xr,Le,Ne,d.id,Be.layoutVertexBuffer,Be.indexBuffer,Be.segments,d.paint,N.transform.zoom,Ve,N.style.map.terrain&&Be.centroidVertexBuffer)}}function wu(N,s,d,_,E,L,B,K,tt){var ht;const bt=N.style.projection,It=N.context,Ct=N.transform,zt=It.gl,Qt=[`#define NUM_ILLUMINATION_SOURCES ${d.paint.get("hillshade-highlight-color").values.length}`],fe=N.useProgram("hillshade",null,!1,Qt),pe=!N.options.moving;for(const me of _){const xe=s.getTile(me),Be=xe.fbo;if(!Be)continue;const Le=bt.getMeshFromTileID(It,me.canonical,K,!0,"raster"),Ve=(ht=N.style.map.terrain)===null||ht===void 0?void 0:ht.getTerrainData(me);It.activeTexture.set(zt.TEXTURE0),zt.bindTexture(zt.TEXTURE_2D,Be.colorAttachment.get());const We=Ct.getProjectionData({overscaledTileID:me,aligned:pe,applyGlobeMatrix:!tt,applyTerrainMatrix:!0});fe.draw(It,zt.TRIANGLES,L,E[me.overscaledZ],B,pi.backCCW,Zs(N,xe,d),Ve,We,d.id,Le.vertexBuffer,Le.indexBuffer,Le.segments)}}function Ic(N,s,d,_,E,L,B,K,tt){var ht;const bt=N.style.projection,It=N.context,Ct=N.transform,zt=It.gl,Qt=N.useProgram("colorRelief"),fe=!N.options.moving;let pe=!0;for(const me of _){const xe=s.getTile(me),Be=xe.dem;if(pe){const Ar=zt.getParameter(zt.MAX_TEXTURE_SIZE),{elevationTexture:xr,colorTexture:Sr}=d.getColorRampTextures(It,Ar,Be.getUnpackVector());It.activeTexture.set(zt.TEXTURE1),xr.bind(zt.NEAREST,zt.CLAMP_TO_EDGE),It.activeTexture.set(zt.TEXTURE4),Sr.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),pe=!1}if(!Be||!Be.data)continue;const Le=Be.stride,Ve=Be.getPixels();if(It.activeTexture.set(zt.TEXTURE0),It.pixelStoreUnpackPremultiplyAlpha.set(!1),xe.demTexture=xe.demTexture||N.getTileTexture(Le),xe.demTexture){const Ar=xe.demTexture;Ar.update(Ve,{premultiply:!1}),Ar.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}else xe.demTexture=new a.T(It,Ve,zt.RGBA,{premultiply:!1}),xe.demTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE);const We=bt.getMeshFromTileID(It,me.canonical,K,!0,"raster"),Ne=(ht=N.style.map.terrain)===null||ht===void 0?void 0:ht.getTerrainData(me),tr=Ct.getProjectionData({overscaledTileID:me,aligned:fe,applyGlobeMatrix:!tt,applyTerrainMatrix:!0});Qt.draw(It,zt.TRIANGLES,L,E[me.overscaledZ],B,pi.backCCW,qc(d,xe.dem),Ne,tr,d.id,We.vertexBuffer,We.indexBuffer,We.segments)}}const au=[new a.P(0,0),new a.P(a.$,0),new a.P(a.$,a.$),new a.P(0,a.$)];function gl(N,s,d,_,E,L,B,K,tt=!1,ht=!1){const bt=_[_.length-1].overscaledZ,It=N.context,Ct=It.gl,zt=N.useProgram("raster"),Qt=N.transform,fe=N.style.projection,pe=N.colorModeForRenderPass(),me=!N.options.moving;for(const xe of _){const Be=N.getDepthModeForSublayer(xe.overscaledZ-bt,d.paint.get("raster-opacity")===1?ei.ReadWrite:ei.ReadOnly,Ct.LESS),Le=s.getTile(xe);Le.registerFadeDuration(d.paint.get("raster-fade-duration"));const Ve=s.findLoadedParent(xe,0),We=s.findLoadedSibling(xe),Ne=Bg(Le,Ve||We||null,s,d,N.transform,N.style.map.terrain);let tr,Ar;const xr=d.paint.get("raster-resampling")==="nearest"?Ct.NEAREST:Ct.LINEAR;It.activeTexture.set(Ct.TEXTURE0),Le.texture.bind(xr,Ct.CLAMP_TO_EDGE,Ct.LINEAR_MIPMAP_NEAREST),It.activeTexture.set(Ct.TEXTURE1),Ve?(Ve.texture.bind(xr,Ct.CLAMP_TO_EDGE,Ct.LINEAR_MIPMAP_NEAREST),tr=Math.pow(2,Ve.tileID.overscaledZ-Le.tileID.overscaledZ),Ar=[Le.tileID.canonical.x*tr%1,Le.tileID.canonical.y*tr%1]):Le.texture.bind(xr,Ct.CLAMP_TO_EDGE,Ct.LINEAR_MIPMAP_NEAREST),Le.texture.useMipmap&&It.extTextureFilterAnisotropic&&N.transform.pitch>20&&Ct.texParameterf(Ct.TEXTURE_2D,It.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,It.extTextureFilterAnisotropicMax);const Sr=N.style.map.terrain&&N.style.map.terrain.getTerrainData(xe),kr=Qt.getProjectionData({overscaledTileID:xe,aligned:me,applyGlobeMatrix:!ht,applyTerrainMatrix:!0}),Cn=Ps(Ar||[0,0],tr||1,Ne,d,K),Tn=fe.getMeshFromTileID(It,xe.canonical,L,B,"raster");zt.draw(It,Ct.TRIANGLES,Be,E?E[xe.overscaledZ]:zn.disabled,pe,tt?pi.frontCCW:pi.backCCW,Cn,Sr,kr,d.id,Tn.vertexBuffer,Tn.indexBuffer,Tn.segments)}}function Bg(N,s,d,_,E,L){const B=_.paint.get("raster-fade-duration");if(!L&&B>0){const K=I.now(),tt=(K-N.timeAdded)/B,ht=s?(K-s.timeAdded)/B:-1,bt=d.getSource(),It=fr(E,{tileSize:bt.tileSize,roundZoom:bt.roundZoom}),Ct=!s||Math.abs(s.tileID.overscaledZ-It)>Math.abs(N.tileID.overscaledZ-It),zt=Ct&&N.refreshedUponExpiration?1:a.ag(Ct?tt:1-ht,0,1);return N.refreshedUponExpiration&&tt>=1&&(N.refreshedUponExpiration=!1),s?{opacity:1,mix:1-zt}:{opacity:zt,mix:0}}return{opacity:1,mix:0}}const Mp=new a.be(1,0,0,1),Id=new a.be(0,1,0,1),Pp=new a.be(0,0,1,1),Wl=new a.be(1,0,1,1),Qo=new a.be(0,1,1,1);function wa(N,s,d,_){cs(N,0,s+d/2,N.transform.width,d,_)}function Yl(N,s,d,_){cs(N,s-d/2,0,d,N.transform.height,_)}function cs(N,s,d,_,E,L){const B=N.context,K=B.gl;K.enable(K.SCISSOR_TEST),K.scissor(s*N.pixelRatio,d*N.pixelRatio,_*N.pixelRatio,E*N.pixelRatio),B.clear({color:L}),K.disable(K.SCISSOR_TEST)}function Nu(N,s,d){const _=N.context,E=_.gl,L=N.useProgram("debug"),B=ei.disabled,K=zn.disabled,tt=N.colorModeForRenderPass(),ht="$debug",bt=N.style.map.terrain&&N.style.map.terrain.getTerrainData(d);_.activeTexture.set(E.TEXTURE0);const It=s.getTileByID(d.key).latestRawTileData,Ct=Math.floor((It&&It.byteLength||0)/1024),zt=s.getTile(d).tileSize,Qt=512/Math.min(zt,512)*(d.overscaledZ/N.transform.zoom)*.5;let fe=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(fe+=` => ${d.overscaledZ}`),(function(me,xe){me.initDebugOverlayCanvas();const Be=me.debugOverlayCanvas,Le=me.context.gl,Ve=me.debugOverlayCanvas.getContext("2d");Ve.clearRect(0,0,Be.width,Be.height),Ve.shadowColor="white",Ve.shadowBlur=2,Ve.lineWidth=1.5,Ve.strokeStyle="white",Ve.textBaseline="top",Ve.font="bold 36px Open Sans, sans-serif",Ve.fillText(xe,5,5),Ve.strokeText(xe,5,5),me.debugOverlayTexture.update(Be),me.debugOverlayTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE)})(N,`${fe} ${Ct}kB`);const pe=N.transform.getProjectionData({overscaledTileID:d,applyGlobeMatrix:!0,applyTerrainMatrix:!0});L.draw(_,E.TRIANGLES,B,K,Bn.alphaBlended,pi.disabled,Uc(a.be.transparent,Qt),null,pe,ht,N.debugBuffer,N.quadTriangleIndexBuffer,N.debugSegments),L.draw(_,E.LINE_STRIP,B,K,tt,pi.disabled,Uc(a.be.red),bt,pe,ht,N.debugBuffer,N.tileBorderIndexBuffer,N.debugSegments)}function go(N,s,d,_){const{isRenderingGlobe:E}=_,L=N.context,B=L.gl,K=N.transform,tt=N.colorModeForRenderPass(),ht=N.getDepthModeFor3D(),bt=N.useProgram("terrain");L.bindFramebuffer.set(null),L.viewport.set([0,0,N.width,N.height]);for(const It of d){const Ct=s.getTerrainMesh(It.tileID),zt=N.renderToTexture.getTexture(It),Qt=s.getTerrainData(It.tileID);L.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,zt.texture);const fe=s.getMeshFrameDelta(K.zoom),pe=K.calculateFogMatrix(It.tileID.toUnwrapped()),me=ql(fe,pe,N.style.sky,K.pitch,E),xe=K.getProjectionData({overscaledTileID:It.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});bt.draw(L,B.TRIANGLES,ht,zn.disabled,tt,pi.backCCW,me,Qt,xe,"terrain",Ct.vertexBuffer,Ct.indexBuffer,Ct.segments)}}function yh(N,s){if(!s.mesh){const d=new a.aK;d.emplaceBack(-1,-1),d.emplaceBack(1,-1),d.emplaceBack(1,1),d.emplaceBack(-1,1);const _=new a.aM;_.emplaceBack(0,1,2),_.emplaceBack(0,2,3),s.mesh=new nr(N.createVertexBuffer(d,rn.members),N.createIndexBuffer(_),a.aL.simpleSegment(0,0,d.length,_.length))}return s.mesh}class yl{constructor(s,d){this.context=new mi(s),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.af(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=ur.maxUnderzooming+ur.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ee}resize(s,d,_){if(this.width=Math.floor(s*_),this.height=Math.floor(d*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const E of this.style._order)this.style._layers[E].resize()}setup(){const s=this.context,d=new a.aK;d.emplaceBack(0,0),d.emplaceBack(a.$,0),d.emplaceBack(0,a.$),d.emplaceBack(a.$,a.$),this.tileExtentBuffer=s.createVertexBuffer(d,rn.members),this.tileExtentSegments=a.aL.simpleSegment(0,0,4,2);const _=new a.aK;_.emplaceBack(0,0),_.emplaceBack(a.$,0),_.emplaceBack(0,a.$),_.emplaceBack(a.$,a.$),this.debugBuffer=s.createVertexBuffer(_,rn.members),this.debugSegments=a.aL.simpleSegment(0,0,4,5);const E=new a.c5;E.emplaceBack(0,0,0,0),E.emplaceBack(a.$,0,a.$,0),E.emplaceBack(0,a.$,0,a.$),E.emplaceBack(a.$,a.$,a.$,a.$),this.rasterBoundsBuffer=s.createVertexBuffer(E,wc.members),this.rasterBoundsSegments=a.aL.simpleSegment(0,0,4,2);const L=new a.aK;L.emplaceBack(0,0),L.emplaceBack(a.$,0),L.emplaceBack(0,a.$),L.emplaceBack(a.$,a.$),this.rasterBoundsBufferPosOnly=s.createVertexBuffer(L,rn.members),this.rasterBoundsSegmentsPosOnly=a.aL.simpleSegment(0,0,4,5);const B=new a.aK;B.emplaceBack(0,0),B.emplaceBack(1,0),B.emplaceBack(0,1),B.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(B,rn.members),this.viewportSegments=a.aL.simpleSegment(0,0,4,2);const K=new a.c6;K.emplaceBack(0),K.emplaceBack(1),K.emplaceBack(3),K.emplaceBack(2),K.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(K);const tt=new a.aM;tt.emplaceBack(1,0,2),tt.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(tt);const ht=this.context.gl;this.stencilClearMode=new zn({func:ht.ALWAYS,mask:0},0,255,ht.ZERO,ht.ZERO,ht.ZERO),this.tileExtentMesh=new nr(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const s=this.context,d=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=a.L();a.bX(_,0,this.width,this.height,0,0,1),a.N(_,_,[d.drawingBufferWidth,d.drawingBufferHeight,0]);const E={mainMatrix:_,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_};this.useProgram("clippingMask",null,!0).draw(s,d.TRIANGLES,ei.disabled,this.stencilClearMode,Bn.disabled,pi.disabled,null,null,E,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,d,_){if(this.currentStencilSource===s.source||!s.isTileClipped()||!d||!d.length)return;this.currentStencilSource=s.source,this.nextStencilID+d.length>256&&this.clearStencil();const E=this.context;E.setColorMode(Bn.disabled),E.setDepthMode(ei.disabled);const L={};for(const B of d)L[B.key]=this.nextStencilID++;this._renderTileMasks(L,d,_,!0),this._renderTileMasks(L,d,_,!1),this._tileClippingMaskIDs=L}_renderTileMasks(s,d,_,E){const L=this.context,B=L.gl,K=this.style.projection,tt=this.transform,ht=this.useProgram("clippingMask");for(const bt of d){const It=s[bt.key],Ct=this.style.map.terrain&&this.style.map.terrain.getTerrainData(bt),zt=K.getMeshFromTileID(this.context,bt.canonical,E,!0,"stencil"),Qt=tt.getProjectionData({overscaledTileID:bt,applyGlobeMatrix:!_,applyTerrainMatrix:!0});ht.draw(L,B.TRIANGLES,ei.disabled,new zn({func:B.ALWAYS,mask:0},It,255,B.KEEP,B.KEEP,B.REPLACE),Bn.disabled,_?pi.disabled:pi.backCCW,null,Ct,Qt,"$clipping",zt.vertexBuffer,zt.indexBuffer,zt.segments)}}_renderTilesDepthBuffer(){const s=this.context,d=s.gl,_=this.style.projection,E=this.transform,L=this.useProgram("depth"),B=this.getDepthModeFor3D(),K=Ke(E,{tileSize:E.tileSize});for(const tt of K){const ht=this.style.map.terrain&&this.style.map.terrain.getTerrainData(tt),bt=_.getMeshFromTileID(this.context,tt.canonical,!0,!0,"raster"),It=E.getProjectionData({overscaledTileID:tt,applyGlobeMatrix:!0,applyTerrainMatrix:!0});L.draw(s,d.TRIANGLES,B,zn.disabled,Bn.disabled,pi.backCCW,null,ht,It,"$clipping",bt.vertexBuffer,bt.indexBuffer,bt.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,d=this.context.gl;return new zn({func:d.NOTEQUAL,mask:255},s,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(s){const d=this.context.gl;return new zn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,d.KEEP,d.KEEP,d.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(s){const d=this.context.gl,_=s.sort(((B,K)=>K.overscaledZ-B.overscaledZ)),E=_[_.length-1].overscaledZ,L=_[0].overscaledZ-E+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const B={};for(let K=0;K<L;K++)B[K+E]=new zn({func:d.GEQUAL,mask:255},K+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=L,[B,_]}return[{[E]:zn.disabled},_]}stencilConfigForOverlapTwoPass(s){const d=this.context.gl,_=s.sort(((B,K)=>K.overscaledZ-B.overscaledZ)),E=_[_.length-1].overscaledZ,L=_[0].overscaledZ-E+1;if(this.clearStencil(),L>1){const B={},K={};for(let tt=0;tt<L;tt++)B[tt+E]=new zn({func:d.GREATER,mask:255},L+1+tt,255,d.KEEP,d.KEEP,d.REPLACE),K[tt+E]=new zn({func:d.GREATER,mask:255},1+tt,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID=2*L+1,[B,K,_]}return this.nextStencilID=3,[{[E]:new zn({func:d.GREATER,mask:255},2,255,d.KEEP,d.KEEP,d.REPLACE)},{[E]:new zn({func:d.GREATER,mask:255},1,255,d.KEEP,d.KEEP,d.REPLACE)},_]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new Bn([s.CONSTANT_COLOR,s.ONE],new a.be(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Bn.unblended:Bn.alphaBlended}getDepthModeForSublayer(s,d,_){if(!this.opaquePassEnabledForLayer())return ei.disabled;const E=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new ei(_||this.context.gl.LEQUAL,d,[E,E])}getDepthModeFor3D(){return new ei(this.context.gl.LEQUAL,ei.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,d){var _,E;this.style=s,this.options=d,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(I.now()),this.imageManager.beginFrame();const L=this.style._order,B=this.style.sourceCaches,K={},tt={},ht={},bt={isRenderingToTexture:!1,isRenderingGlobe:((_=s.projection)===null||_===void 0?void 0:_.transitionState)>0};for(const Ct in B){const zt=B[Ct];zt.used&&zt.prepare(this.context),K[Ct]=zt.getVisibleCoordinates(!1),tt[Ct]=K[Ct].slice().reverse(),ht[Ct]=zt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Ct=0;Ct<L.length;Ct++)if(this.style._layers[L[Ct]].is3D()){this.opaquePassCutoff=Ct;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Ct of L){const zt=this.style._layers[Ct];if(!zt.hasOffscreenPass()||zt.isHidden(this.transform.zoom))continue;const Qt=tt[zt.source];(zt.type==="custom"||Qt.length)&&this.renderLayer(this,B[zt.source],zt,Qt,bt)}if((E=this.style.projection)===null||E===void 0||E.updateGPUdependent({context:this.context,useProgram:Ct=>this.useProgram(Ct)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?a.be.black:a.be.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(Ct,zt){const Qt=Ct.context,fe=Qt.gl,pe=((We,Ne,tr)=>{const Ar=Math.cos(Ne.rollInRadians),xr=Math.sin(Ne.rollInRadians),Sr=Mt(Ne),kr=Ne.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:We.properties.get("sky-color"),u_horizon_color:We.properties.get("horizon-color"),u_horizon:[(Ne.width/2-Sr*xr)*tr,(Ne.height/2+Sr*Ar)*tr],u_horizon_normal:[-xr,Ar],u_sky_horizon_blend:We.properties.get("sky-horizon-blend")*Ne.height/2*tr,u_sky_blend:kr}})(zt,Ct.style.map.transform,Ct.pixelRatio),me=new ei(fe.LEQUAL,ei.ReadWrite,[0,1]),xe=zn.disabled,Be=Ct.colorModeForRenderPass(),Le=Ct.useProgram("sky"),Ve=yh(Qt,zt);Le.draw(Qt,fe.TRIANGLES,me,xe,Be,pi.disabled,pe,null,void 0,"sky",Ve.vertexBuffer,Ve.indexBuffer,Ve.segments)})(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){const Ct=this.style._layers[L[this.currentLayer]],zt=B[Ct.source],Qt=K[Ct.source];this._renderTileClippingMasks(Ct,Qt,!1),this.renderLayer(this,zt,Ct,Qt,bt)}this.renderPass="translucent";let It=!1;for(this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){const Ct=this.style._layers[L[this.currentLayer]],zt=B[Ct.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Ct,bt))continue;this.opaquePassEnabledForLayer()||It||(It=!0,bt.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Qt=(Ct.type==="symbol"?ht:tt)[Ct.source];this._renderTileClippingMasks(Ct,K[Ct.source],!!this.renderToTexture),this.renderLayer(this,zt,Ct,Qt,bt)}if(bt.isRenderingGlobe&&(function(Ct,zt,Qt){const fe=Ct.context,pe=fe.gl,me=Ct.useProgram("atmosphere"),xe=new ei(pe.LEQUAL,ei.ReadOnly,[0,1]),Be=Ct.transform,Le=(function(kr,Cn){const Tn=kr.properties.get("position"),on=[-Tn.x,-Tn.y,-Tn.z],Un=a.af(new Float64Array(16));return kr.properties.get("anchor")==="map"&&(a.b5(Un,Un,Cn.rollInRadians),a.b6(Un,Un,-Cn.pitchInRadians),a.b5(Un,Un,Cn.bearingInRadians),a.b6(Un,Un,Cn.center.lat*Math.PI/180),a.by(Un,Un,-Cn.center.lng*Math.PI/180)),a.c4(on,on,Un),on})(Qt,Ct.transform),Ve=Be.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),We=zt.properties.get("atmosphere-blend")*Ve.projectionTransition;if(We===0)return;const Ne=zo(Be.worldSize,Be.center.lat),tr=Be.inverseProjectionMatrix,Ar=new Float64Array(4);Ar[3]=1,a.av(Ar,Ar,Be.modelViewProjectionMatrix),Ar[0]/=Ar[3],Ar[1]/=Ar[3],Ar[2]/=Ar[3],Ar[3]=1,a.av(Ar,Ar,tr),Ar[0]/=Ar[3],Ar[1]/=Ar[3],Ar[2]/=Ar[3],Ar[3]=1;const xr=((kr,Cn,Tn,on,Un)=>({u_sun_pos:kr,u_atmosphere_blend:Cn,u_globe_position:Tn,u_globe_radius:on,u_inv_proj_matrix:Un}))(Le,We,[Ar[0],Ar[1],Ar[2]],Ne,tr),Sr=yh(fe,zt);me.draw(fe,pe.TRIANGLES,xe,zn.disabled,Bn.alphaBlended,pi.disabled,xr,null,null,"atmosphere",Sr.vertexBuffer,Sr.indexBuffer,Sr.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Ct=(function(zt,Qt){let fe=null;const pe=Object.values(zt._layers).flatMap((Le=>Le.source&&!Le.isHidden(Qt)?[zt.sourceCaches[Le.source]]:[])),me=pe.filter((Le=>Le.getSource().type==="vector")),xe=pe.filter((Le=>Le.getSource().type!=="vector")),Be=Le=>{(!fe||fe.getSource().maxzoom<Le.getSource().maxzoom)&&(fe=Le)};return me.forEach((Le=>Be(Le))),fe||xe.forEach((Le=>Be(Le))),fe})(this.style,this.transform.zoom);Ct&&(function(zt,Qt,fe){for(let pe=0;pe<fe.length;pe++)Nu(zt,Qt,fe[pe])})(this,Ct,Ct.getVisibleCoordinates())}this.options.showPadding&&(function(Ct){const zt=Ct.transform.padding;wa(Ct,Ct.transform.height-(zt.top||0),3,Mp),wa(Ct,zt.bottom||0,3,Id),Yl(Ct,zt.left||0,3,Pp),Yl(Ct,Ct.transform.width-(zt.right||0),3,Wl);const Qt=Ct.transform.centerPoint;(function(fe,pe,me,xe){cs(fe,pe-1,me-10,2,20,xe),cs(fe,pe-10,me-1,20,2,xe)})(Ct,Qt.x,Ct.transform.height-Qt.y,Qo)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(s){if(!this.style||!this.style.map||!this.style.map.terrain)return;const d=this.terrainFacilitator.matrix,_=this.transform.modelViewProjectionMatrix;let E=this.terrainFacilitator.dirty;E||(E=s?!a.c7(d,_):!a.c8(d,_)),E||(E=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),E&&(a.c9(d,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(L,B){const K=L.context,tt=K.gl,ht=L.transform,bt=Bn.unblended,It=new ei(tt.LEQUAL,ei.ReadWrite,[0,1]),Ct=B.sourceCache.getRenderableTiles(),zt=L.useProgram("terrainDepth");K.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,L.width/devicePixelRatio,L.height/devicePixelRatio]),K.clear({color:a.be.transparent,depth:1});for(const Qt of Ct){const fe=B.getTerrainMesh(Qt.tileID),pe=B.getTerrainData(Qt.tileID),me=ht.getProjectionData({overscaledTileID:Qt.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),xe={u_ele_delta:B.getMeshFrameDelta(ht.zoom)};zt.draw(K,tt.TRIANGLES,It,zn.disabled,bt,pi.backCCW,xe,pe,me,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,L.width,L.height])})(this,this.style.map.terrain),(function(L,B){const K=L.context,tt=K.gl,ht=L.transform,bt=Bn.unblended,It=new ei(tt.LEQUAL,ei.ReadWrite,[0,1]),Ct=B.getCoordsTexture(),zt=B.sourceCache.getRenderableTiles(),Qt=L.useProgram("terrainCoords");K.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,L.width/devicePixelRatio,L.height/devicePixelRatio]),K.clear({color:a.be.transparent,depth:1}),B.coordsIndex=[];for(const fe of zt){const pe=B.getTerrainMesh(fe.tileID),me=B.getTerrainData(fe.tileID);K.activeTexture.set(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,Ct.texture);const xe={u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0,u_ele_delta:B.getMeshFrameDelta(ht.zoom)},Be=ht.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Qt.draw(K,tt.TRIANGLES,It,zn.disabled,bt,pi.backCCW,xe,me,Be,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments),B.coordsIndex.push(fe.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,L.width,L.height])})(this,this.style.map.terrain))}renderLayer(s,d,_,E,L){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(E||[]).length)&&(this.id=_.id,a.ca(_)?(function(B,K,tt,ht,bt,It){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:Ct}=It,zt=zn.disabled,Qt=B.colorModeForRenderPass();(tt._unevaluatedLayout.hasValue("text-variable-anchor")||tt._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(fe,pe,me,xe,Be,Le,Ve,We,Ne){const tr=pe.transform,Ar=pe.style.map.terrain,xr=Be==="map",Sr=Le==="map";for(const kr of fe){const Cn=xe.getTile(kr),Tn=Cn.getBucket(me);if(!Tn||!Tn.text||!Tn.text.segments.get().length)continue;const on=a.am(Tn.textSizeData,tr.zoom),Un=a.aB(Cn,1,pe.transform.zoom),Hi=Zn(xr,pe.transform,Un),Sa=me.layout.get("icon-text-fit")!=="none"&&Tn.hasIconData();if(on){const Uo=Math.pow(2,tr.zoom-Cn.tileID.overscaledZ),Ka=Ar?(Za,Da)=>Ar.getElevation(kr,Za,Da):null;Gf(Tn,xr,Sr,Ne,tr,Hi,Uo,on,Sa,a.aC(tr,Cn,Ve,We),kr.toUnwrapped(),Ka)}}})(ht,B,tt,K,tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),bt),tt.paint.get("icon-opacity").constantOr(1)!==0&&Td(B,K,tt,ht,!1,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),tt.layout.get("icon-rotation-alignment"),tt.layout.get("icon-pitch-alignment"),tt.layout.get("icon-keep-upright"),zt,Qt,Ct),tt.paint.get("text-opacity").constantOr(1)!==0&&Td(B,K,tt,ht,!0,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.layout.get("text-keep-upright"),zt,Qt,Ct),K.map.showCollisionBoxes&&(Xl(B,K,tt,ht,!0),Xl(B,K,tt,ht,!1))})(s,d,_,E,this.style.placement.variableOffsets,L):a.cb(_)?(function(B,K,tt,ht,bt){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:It}=bt,Ct=tt.paint.get("circle-opacity"),zt=tt.paint.get("circle-stroke-width"),Qt=tt.paint.get("circle-stroke-opacity"),fe=!tt.layout.get("circle-sort-key").isConstant();if(Ct.constantOr(1)===0&&(zt.constantOr(1)===0||Qt.constantOr(1)===0))return;const pe=B.context,me=pe.gl,xe=B.transform,Be=B.getDepthModeForSublayer(0,ei.ReadOnly),Le=zn.disabled,Ve=B.colorModeForRenderPass(),We=[],Ne=xe.getCircleRadiusCorrection();for(let tr=0;tr<ht.length;tr++){const Ar=ht[tr],xr=K.getTile(Ar),Sr=xr.getBucket(tt);if(!Sr)continue;const kr=tt.paint.get("circle-translate"),Cn=tt.paint.get("circle-translate-anchor"),Tn=a.aC(xe,xr,kr,Cn),on=Sr.programConfigurations.get(tt.id),Un=B.useProgram("circle",on),Hi=Sr.layoutVertexBuffer,Sa=Sr.indexBuffer,Uo=B.style.map.terrain&&B.style.map.terrain.getTerrainData(Ar),Ka={programConfiguration:on,program:Un,layoutVertexBuffer:Hi,indexBuffer:Sa,uniformValues:Vc(B,xr,tt,Tn,Ne),terrainData:Uo,projectionData:xe.getProjectionData({overscaledTileID:Ar,applyGlobeMatrix:!It,applyTerrainMatrix:!0})};if(fe){const Za=Sr.segments.get();for(const Da of Za)We.push({segments:new a.aL([Da]),sortKey:Da.sortKey,state:Ka})}else We.push({segments:Sr.segments,sortKey:0,state:Ka})}fe&&We.sort(((tr,Ar)=>tr.sortKey-Ar.sortKey));for(const tr of We){const{programConfiguration:Ar,program:xr,layoutVertexBuffer:Sr,indexBuffer:kr,uniformValues:Cn,terrainData:Tn,projectionData:on}=tr.state;xr.draw(pe,me.TRIANGLES,Be,Le,Ve,pi.backCCW,Cn,Tn,on,tt.id,Sr,kr,tr.segments,tt.paint,B.transform.zoom,Ar)}})(s,d,_,E,L):a.cc(_)?(function(B,K,tt,ht,bt){if(tt.paint.get("heatmap-opacity")===0)return;const It=B.context,{isRenderingToTexture:Ct,isRenderingGlobe:zt}=bt;if(B.style.map.terrain){for(const Qt of ht){const fe=K.getTile(Qt);K.hasRenderableParent(Qt)||(B.renderPass==="offscreen"?Wc(B,fe,tt,Qt,zt):B.renderPass==="translucent"&&Dh(B,tt,Qt,Ct,zt))}It.viewport.set([0,0,B.width,B.height])}else B.renderPass==="offscreen"?(function(Qt,fe,pe,me){const xe=Qt.context,Be=xe.gl,Le=Qt.transform,Ve=zn.disabled,We=new Bn([Be.ONE,Be.ONE],a.be.transparent,[!0,!0,!0,!0]);(function(Ne,tr,Ar){const xr=Ne.gl;Ne.activeTexture.set(xr.TEXTURE1),Ne.viewport.set([0,0,tr.width/4,tr.height/4]);let Sr=Ar.heatmapFbos.get(a.c1);Sr?(xr.bindTexture(xr.TEXTURE_2D,Sr.colorAttachment.get()),Ne.bindFramebuffer.set(Sr.framebuffer)):(Sr=Yu(Ne,tr.width/4,tr.height/4),Ar.heatmapFbos.set(a.c1,Sr))})(xe,Qt,pe),xe.clear({color:a.be.transparent});for(let Ne=0;Ne<me.length;Ne++){const tr=me[Ne];if(fe.hasRenderableParent(tr))continue;const Ar=fe.getTile(tr),xr=Ar.getBucket(pe);if(!xr)continue;const Sr=xr.programConfigurations.get(pe.id),kr=Qt.useProgram("heatmap",Sr),Cn=Le.getProjectionData({overscaledTileID:tr,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Tn=Le.getCircleRadiusCorrection();kr.draw(xe,Be.TRIANGLES,ei.disabled,Ve,We,pi.backCCW,il(Ar,Le.zoom,pe.paint.get("heatmap-intensity"),Tn),null,Cn,pe.id,xr.layoutVertexBuffer,xr.indexBuffer,xr.segments,pe.paint,Le.zoom,Sr)}xe.viewport.set([0,0,Qt.width,Qt.height])})(B,K,tt,ht):B.renderPass==="translucent"&&(function(Qt,fe){const pe=Qt.context,me=pe.gl;pe.setColorMode(Qt.colorModeForRenderPass());const xe=fe.heatmapFbos.get(a.c1);xe&&(pe.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,xe.colorAttachment.get()),pe.activeTexture.set(me.TEXTURE1),Ad(pe,fe).bind(me.LINEAR,me.CLAMP_TO_EDGE),Qt.useProgram("heatmapTexture").draw(pe,me.TRIANGLES,ei.disabled,zn.disabled,Qt.colorModeForRenderPass(),pi.disabled,ws(Qt,fe,0,1),null,null,fe.id,Qt.viewportBuffer,Qt.quadTriangleIndexBuffer,Qt.viewportSegments,fe.paint,Qt.transform.zoom))})(B,tt)})(s,d,_,E,L):a.cd(_)?(function(B,K,tt,ht,bt){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:It}=bt,Ct=tt.paint.get("line-opacity"),zt=tt.paint.get("line-width");if(Ct.constantOr(1)===0||zt.constantOr(1)===0)return;const Qt=B.getDepthModeForSublayer(0,ei.ReadOnly),fe=B.colorModeForRenderPass(),pe=tt.paint.get("line-dasharray"),me=tt.paint.get("line-pattern"),xe=me.constantOr(1),Be=tt.paint.get("line-gradient"),Le=tt.getCrossfadeParameters(),Ve=xe?"linePattern":pe?"lineSDF":Be?"lineGradient":"line",We=B.context,Ne=We.gl,tr=B.transform;let Ar=!0;for(const xr of ht){const Sr=K.getTile(xr);if(xe&&!Sr.patternsLoaded())continue;const kr=Sr.getBucket(tt);if(!kr)continue;const Cn=kr.programConfigurations.get(tt.id),Tn=B.context.program.get(),on=B.useProgram(Ve,Cn),Un=Ar||on.program!==Tn,Hi=B.style.map.terrain&&B.style.map.terrain.getTerrainData(xr),Sa=me.constantOr(null);if(Sa&&Sr.imageAtlas){const Pa=Sr.imageAtlas,lo=Pa.patternPositions[Sa.to.toString()],_l=Pa.patternPositions[Sa.from.toString()];lo&&_l&&Cn.setConstantPatternPositions(lo,_l)}const Uo=tr.getProjectionData({overscaledTileID:xr,applyGlobeMatrix:!It,applyTerrainMatrix:!0}),Ka=tr.getPixelScale(),Za=xe?Ss(B,Sr,tt,Ka,Le):pe?Gc(B,Sr,tt,Ka,pe,Le):Be?jo(B,Sr,tt,Ka,kr.lineClipsArray.length):Hl(B,Sr,tt,Ka);if(xe)We.activeTexture.set(Ne.TEXTURE0),Sr.imageAtlasTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE),Cn.updatePaintBuffers(Le);else if(pe&&(Un||B.lineAtlas.dirty))We.activeTexture.set(Ne.TEXTURE0),B.lineAtlas.bind(We);else if(Be){const Pa=kr.gradients[tt.id];let lo=Pa.texture;if(tt.gradientVersion!==Pa.version){let _l=256;if(tt.stepInterpolant){const fa=K.getSource().maxzoom,Rl=xr.canonical.z===fa?Math.ceil(1<<B.transform.maxZoom-xr.canonical.z):1;_l=a.ag(a.c2(kr.maxLineLength/a.$*1024*Rl),256,We.maxTextureSize)}Pa.gradient=a.c3({expression:tt.gradientExpression(),evaluationKey:"lineProgress",resolution:_l,image:Pa.gradient||void 0,clips:kr.lineClipsArray}),Pa.texture?Pa.texture.update(Pa.gradient):Pa.texture=new a.T(We,Pa.gradient,Ne.RGBA),Pa.version=tt.gradientVersion,lo=Pa.texture}We.activeTexture.set(Ne.TEXTURE0),lo.bind(tt.stepInterpolant?Ne.NEAREST:Ne.LINEAR,Ne.CLAMP_TO_EDGE)}const Da=B.stencilModeForClipping(xr);on.draw(We,Ne.TRIANGLES,Qt,Da,fe,pi.disabled,Za,Hi,Uo,tt.id,kr.layoutVertexBuffer,kr.indexBuffer,kr.segments,tt.paint,B.transform.zoom,Cn,kr.layoutVertexBuffer2),Ar=!1}})(s,d,_,E,L):a.ce(_)?(function(B,K,tt,ht,bt){const It=tt.paint.get("fill-color"),Ct=tt.paint.get("fill-opacity");if(Ct.constantOr(1)===0)return;const{isRenderingToTexture:zt}=bt,Qt=B.colorModeForRenderPass(),fe=tt.paint.get("fill-pattern"),pe=B.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&It.constantOr(a.be.transparent).a===1&&Ct.constantOr(0)===1?"opaque":"translucent";if(B.renderPass===pe){const me=B.getDepthModeForSublayer(1,B.renderPass==="opaque"?ei.ReadWrite:ei.ReadOnly);kc(B,K,tt,ht,me,Qt,!1,zt)}if(B.renderPass==="translucent"&&tt.paint.get("fill-antialias")){const me=B.getDepthModeForSublayer(tt.getPaintProperty("fill-outline-color")?2:0,ei.ReadOnly);kc(B,K,tt,ht,me,Qt,!0,zt)}})(s,d,_,E,L):a.cf(_)?(function(B,K,tt,ht,bt){const It=tt.paint.get("fill-extrusion-opacity");if(It===0)return;const{isRenderingToTexture:Ct}=bt;if(B.renderPass==="translucent"){const zt=new ei(B.context.gl.LEQUAL,ei.ReadWrite,B.depthRangeFor3D);if(It!==1||tt.paint.get("fill-extrusion-pattern").constantOr(1))mc(B,K,tt,ht,zt,zn.disabled,Bn.disabled,Ct),mc(B,K,tt,ht,zt,B.stencilModeFor3D(),B.colorModeForRenderPass(),Ct);else{const Qt=B.colorModeForRenderPass();mc(B,K,tt,ht,zt,zn.disabled,Qt,Ct)}}})(s,d,_,E,L):a.cg(_)?(function(B,K,tt,ht,bt){if(B.renderPass!=="offscreen"&&B.renderPass!=="translucent")return;const{isRenderingToTexture:It}=bt,Ct=B.context,zt=B.style.projection.useSubdivision,Qt=B.getDepthModeForSublayer(0,ei.ReadOnly),fe=B.colorModeForRenderPass();if(B.renderPass==="offscreen")(function(pe,me,xe,Be,Le,Ve,We){const Ne=pe.context,tr=Ne.gl;for(const Ar of xe){const xr=me.getTile(Ar),Sr=xr.dem;if(!Sr||!Sr.data||!xr.needsHillshadePrepare)continue;const kr=Sr.dim,Cn=Sr.stride,Tn=Sr.getPixels();if(Ne.activeTexture.set(tr.TEXTURE1),Ne.pixelStoreUnpackPremultiplyAlpha.set(!1),xr.demTexture=xr.demTexture||pe.getTileTexture(Cn),xr.demTexture){const Un=xr.demTexture;Un.update(Tn,{premultiply:!1}),Un.bind(tr.NEAREST,tr.CLAMP_TO_EDGE)}else xr.demTexture=new a.T(Ne,Tn,tr.RGBA,{premultiply:!1}),xr.demTexture.bind(tr.NEAREST,tr.CLAMP_TO_EDGE);Ne.activeTexture.set(tr.TEXTURE0);let on=xr.fbo;if(!on){const Un=new a.T(Ne,{width:kr,height:kr,data:null},tr.RGBA);Un.bind(tr.LINEAR,tr.CLAMP_TO_EDGE),on=xr.fbo=Ne.createFramebuffer(kr,kr,!0,!1),on.colorAttachment.set(Un.texture)}Ne.bindFramebuffer.set(on.framebuffer),Ne.viewport.set([0,0,kr,kr]),pe.useProgram("hillshadePrepare").draw(Ne,tr.TRIANGLES,Le,Ve,We,pi.disabled,mh(xr.tileID,Sr),null,null,Be.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments),xr.needsHillshadePrepare=!1}})(B,K,ht,tt,Qt,zn.disabled,fe),Ct.viewport.set([0,0,B.width,B.height]);else if(B.renderPass==="translucent")if(zt){const[pe,me,xe]=B.stencilConfigForOverlapTwoPass(ht);wu(B,K,tt,xe,pe,Qt,fe,!1,It),wu(B,K,tt,xe,me,Qt,fe,!0,It)}else{const[pe,me]=B.getStencilConfigForOverlapAndUpdateStencilID(ht);wu(B,K,tt,me,pe,Qt,fe,!1,It)}})(s,d,_,E,L):a.ch(_)?(function(B,K,tt,ht,bt){if(B.renderPass!=="translucent"||!ht.length)return;const{isRenderingToTexture:It}=bt,Ct=B.style.projection.useSubdivision,zt=B.getDepthModeForSublayer(0,ei.ReadOnly),Qt=B.colorModeForRenderPass();if(Ct){const[fe,pe,me]=B.stencilConfigForOverlapTwoPass(ht);Ic(B,K,tt,me,fe,zt,Qt,!1,It),Ic(B,K,tt,me,pe,zt,Qt,!0,It)}else{const[fe,pe]=B.getStencilConfigForOverlapAndUpdateStencilID(ht);Ic(B,K,tt,pe,fe,zt,Qt,!1,It)}})(s,d,_,E,L):a.ci(_)?(function(B,K,tt,ht,bt){if(B.renderPass!=="translucent"||tt.paint.get("raster-opacity")===0||!ht.length)return;const{isRenderingToTexture:It}=bt,Ct=K.getSource(),zt=B.style.projection.useSubdivision;if(Ct instanceof Ie)gl(B,K,tt,ht,null,!1,!1,Ct.tileCoords,Ct.flippedWindingOrder,It);else if(zt){const[Qt,fe,pe]=B.stencilConfigForOverlapTwoPass(ht);gl(B,K,tt,pe,Qt,!1,!0,au,!1,It),gl(B,K,tt,pe,fe,!0,!0,au,!1,It)}else{const[Qt,fe]=B.getStencilConfigForOverlapAndUpdateStencilID(ht);gl(B,K,tt,fe,Qt,!1,!0,au,!1,It)}})(s,d,_,E,L):a.cj(_)?(function(B,K,tt,ht,bt){const It=tt.paint.get("background-color"),Ct=tt.paint.get("background-opacity");if(Ct===0)return;const{isRenderingToTexture:zt}=bt,Qt=B.context,fe=Qt.gl,pe=B.style.projection,me=B.transform,xe=me.tileSize,Be=tt.paint.get("background-pattern");if(B.isPatternMissing(Be))return;const Le=!Be&&It.a===1&&Ct===1&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass!==Le)return;const Ve=zn.disabled,We=B.getDepthModeForSublayer(0,Le==="opaque"?ei.ReadWrite:ei.ReadOnly),Ne=B.colorModeForRenderPass(),tr=B.useProgram(Be?"backgroundPattern":"background"),Ar=ht||Ke(me,{tileSize:xe,terrain:B.style.map.terrain});Be&&(Qt.activeTexture.set(fe.TEXTURE0),B.imageManager.bind(B.context));const xr=tt.getCrossfadeParameters();for(const Sr of Ar){const kr=me.getProjectionData({overscaledTileID:Sr,applyGlobeMatrix:!zt,applyTerrainMatrix:!0}),Cn=Be?_u(Ct,B,Be,{tileID:Sr,tileSize:xe},xr):Al(Ct,It),Tn=B.style.map.terrain&&B.style.map.terrain.getTerrainData(Sr),on=pe.getMeshFromTileID(Qt,Sr.canonical,!1,!0,"raster");tr.draw(Qt,fe.TRIANGLES,We,Ve,Ne,pi.backCCW,Cn,Tn,kr,tt.id,on.vertexBuffer,on.indexBuffer,on.segments)}})(s,0,_,E,L):a.ck(_)&&(function(B,K,tt,ht){const{isRenderingGlobe:bt}=ht,It=B.context,Ct=tt.implementation,zt=B.style.projection,Qt=B.transform,fe=Qt.getProjectionDataForCustomLayer(bt),pe={farZ:Qt.farZ,nearZ:Qt.nearZ,fov:Qt.fov*Math.PI/180,modelViewProjectionMatrix:Qt.modelViewProjectionMatrix,projectionMatrix:Qt.projectionMatrix,shaderData:{variantName:zt.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${zt.shaderPreludeCode.vertexSource}`,define:zt.shaderDefine},defaultProjectionData:fe},me=Ct.renderingMode?Ct.renderingMode:"2d";if(B.renderPass==="offscreen"){const xe=Ct.prerender;xe&&(B.setCustomLayerDefaults(),It.setColorMode(B.colorModeForRenderPass()),xe.call(Ct,It.gl,pe),It.setDirty(),B.setBaseState())}else if(B.renderPass==="translucent"){B.setCustomLayerDefaults(),It.setColorMode(B.colorModeForRenderPass()),It.setStencilMode(zn.disabled);const xe=me==="3d"?B.getDepthModeFor3D():B.getDepthModeForSublayer(0,ei.ReadOnly);It.setDepthMode(xe),Ct.render(It.gl,pe),It.setDirty(),B.setBaseState(),It.bindFramebuffer.set(null)}})(s,0,_,L))}saveTileTexture(s){const d=this._tileTextures[s.size[0]];d?d.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const d=this._tileTextures[s];return d&&d.length>0?d.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const d=this.imageManager.getPattern(s.from.toString()),_=this.imageManager.getPattern(s.to.toString());return!d||!_}useProgram(s,d,_=!1,E=[]){this.cache=this.cache||{};const L=!!this.style.map.terrain,B=this.style.projection,K=_?qe.projectionMercator:B.shaderPreludeCode,tt=_?mn:B.shaderDefine,ht=s+(d?d.cacheKey:"")+`/${_?un:B.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(L?"/terrain":"")+(E?`/${E.join("/")}`:"");return this.cache[ht]||(this.cache[ht]=new Sc(this.context,qe[s],d,Ec[s],this._showOverdrawInspector,L,K,tt,E)),this.cache[ht]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:d}=this.context.gl;return this.width!==s||this.height!==d}}function vl(N,s){let d,_=!1,E=null,L=null;const B=()=>{E=null,_&&(N.apply(L,d),E=setTimeout(B,s),_=!1)};return(...K)=>(_=!0,L=this,d=K,E||B(),E)}class Ku{constructor(s){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let _;return d.split("&").map((E=>E.split("="))).forEach((E=>{E[0]===this._hashName&&(_=E)})),(_&&_[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(!this._isValidHash(d))return!1;const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:_,pitch:+(d[4]||0)}),!0},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{const d=this._getCurrentHash();if(d.length===0)return;const _=d.join("/");let E=_;E.split("&").length>0&&(E=E.split("&")[0]),this._hashName&&(E=`${this._hashName}=${_}`);let L=window.location.hash.replace(E,"");L.startsWith("#&")?L=L.slice(0,1)+L.slice(2):L==="#"&&(L="");let B=window.location.href.replace(/(#.+)?$/,L);B=B.replace("&&","&"),window.history.replaceState(window.history.state,null,B)},this._updateHash=vl(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(s){const d=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,E=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,E),B=Math.round(d.lng*L)/L,K=Math.round(d.lat*L)/L,tt=this._map.getBearing(),ht=this._map.getPitch();let bt="";if(bt+=s?`/${B}/${K}/${_}`:`${_}/${K}/${B}`,(tt||ht)&&(bt+="/"+Math.round(10*tt)/10),ht&&(bt+=`/${Math.round(ht)}`),this._hashName){const It=this._hashName;let Ct=!1;const zt=window.location.hash.slice(1).split("&").map((Qt=>{const fe=Qt.split("=")[0];return fe===It?(Ct=!0,`${fe}=${bt}`):Qt})).filter((Qt=>Qt));return Ct||zt.push(`${It}=${bt}`),`#${zt.join("&")}`}return`#${bt}`}_isValidHash(s){if(s.length<3||s.some(isNaN))return!1;try{new a.S(+s[2],+s[1])}catch{return!1}const d=+s[0],_=+(s[3]||0),E=+(s[4]||0);return d>=this._map.getMinZoom()&&d<=this._map.getMaxZoom()&&_>=-180&&_<=180&&E>=this._map.getMinPitch()&&E<=this._map.getMaxPitch()}}const ed={linearity:.3,easing:a.cl(0,0,.3,1)},Zu=a.e({deceleration:2500,maxSpeed:1400},ed),cf=a.e({deceleration:20,maxSpeed:1400},ed),Lu=a.e({deceleration:1e3,maxSpeed:360},ed),Mu=a.e({deceleration:1e3,maxSpeed:90},ed),Bh=a.e({deceleration:1e3,maxSpeed:360},ed);class Su{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:I.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,d=I.now();for(;s.length>0&&d-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)d.zoom+=L.zoomDelta||0,d.bearing+=L.bearingDelta||0,d.pitch+=L.pitchDelta||0,d.roll+=L.rollDelta||0,L.panDelta&&d.pan._add(L.panDelta),L.around&&(d.around=L.around),L.pinchAround&&(d.pinchAround=L.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,E={};if(d.pan.mag()){const L=Pu(d.pan.mag(),_,a.e({},Zu,s||{})),B=d.pan.mult(L.amount/d.pan.mag()),K=this._map.cameraHelper.handlePanInertia(B,this._map.transform);E.center=K.easingCenter,E.offset=K.easingOffset,Qu(E,L)}if(d.zoom){const L=Pu(d.zoom,_,cf);E.zoom=this._map.transform.zoom+L.amount,Qu(E,L)}if(d.bearing){const L=Pu(d.bearing,_,Lu);E.bearing=this._map.transform.bearing+a.ag(L.amount,-179,179),Qu(E,L)}if(d.pitch){const L=Pu(d.pitch,_,Mu);E.pitch=this._map.transform.pitch+L.amount,Qu(E,L)}if(d.roll){const L=Pu(d.roll,_,Bh);E.roll=this._map.transform.roll+a.ag(L.amount,-179,179),Qu(E,L)}if(E.zoom||E.bearing){const L=d.pinchAround===void 0?d.around:d.pinchAround;E.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),a.e(E,{noMoveStart:!0})}}function Qu(N,s){(!N.duration||N.duration<s.duration)&&(N.duration=s.duration,N.easing=s.easing)}function Pu(N,s,d){const{maxSpeed:_,linearity:E,deceleration:L}=d,B=a.ag(N*E/(s/1e3),-_,_),K=Math.abs(B)/(L*E);return{easing:d.easing,duration:1e3*K,amount:B*(K/2)}}class al extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,_,E={}){_=_ instanceof MouseEvent?_:new MouseEvent(s,_);const L=S.mousePos(d.getCanvas(),_),B=d.unproject(L);super(s,a.e({point:L,lngLat:B,originalEvent:_},E)),this._defaultPrevented=!1,this.target=d}}class ou extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,_){const E=s==="touchend"?_.changedTouches:_.touches,L=S.touchPos(d.getCanvasContainer(),E),B=L.map((tt=>d.unproject(tt))),K=L.reduce(((tt,ht,bt,It)=>tt.add(ht.div(It.length))),new a.P(0,0));super(s,{points:L,point:K,lngLats:B,lngLat:d.unproject(K),originalEvent:_}),this._defaultPrevented=!1}}class vh extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,_){super(s,{originalEvent:_}),this._defaultPrevented=!1}}class Kl{constructor(s,d){this._map=s,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new vh(s.type,this._map,s))}mousedown(s,d){return this._mousedownPos=d,this._firePreventable(new al(s.type,this._map,s))}mouseup(s){this._map.fire(new al(s.type,this._map,s))}click(s,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new al(s.type,this._map,s))}dblclick(s){return this._firePreventable(new al(s.type,this._map,s))}mouseover(s){this._map.fire(new al(s.type,this._map,s))}mouseout(s){this._map.fire(new al(s.type,this._map,s))}touchstart(s){return this._firePreventable(new ou(s.type,this._map,s))}touchmove(s){this._map.fire(new ou(s.type,this._map,s))}touchend(s){this._map.fire(new ou(s.type,this._map,s))}touchcancel(s){this._map.fire(new ou(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Xf{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new al(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new al("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new al(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Rd{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.screenPointToLocation(a.P.convert(s),this._map.terrain)}}class Vm{constructor(s,d){this._map=s,this._tr=new Rd(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,d){this.isEnabled()&&s.shiftKey&&s.button===0&&(S.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(s,d){if(!this._active)return;const _=d;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const E=this._startPos;this._lastPos=_,this._box||(this._box=S.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const L=Math.min(E.x,_.x),B=Math.max(E.x,_.x),K=Math.min(E.y,_.y),tt=Math.max(E.y,_.y);S.setTransform(this._box,`translate(${L}px,${K}px)`),this._box.style.width=B-L+"px",this._box.style.height=tt-K+"px"}mouseupWindow(s,d){if(!this._active||s.button!==0)return;const _=this._startPos,E=d;if(this.reset(),S.suppressClick(),_.x!==E.x||_.y!==E.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:s})),{cameraAnimation:L=>L.fitScreenCoordinates(_,E,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,d){return this._map.fire(new a.l(s,{originalEvent:d}))}}function Op(N,s){if(N.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${N.length}, points ${s.length}`);const d={};for(let _=0;_<N.length;_++)d[N[_].identifier]=s[_];return d}class zg{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,d,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),_.length===this.numTouches&&(this.centroid=(function(E){const L=new a.P(0,0);for(const B of E)L._add(B);return L.div(E.length)})(d),this.touches=Op(_,d)))}touchmove(s,d,_){if(this.aborted||!this.centroid)return;const E=Op(_,d);for(const L in this.touches){const B=E[L];(!B||B.dist(this.touches[L])>30)&&(this.aborted=!0)}}touchend(s,d,_){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const E=!this.aborted&&this.centroid;if(this.reset(),E)return E}}}class As{constructor(s){this.singleTap=new zg(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,d,_){this.singleTap.touchstart(s,d,_)}touchmove(s,d,_){this.singleTap.touchmove(s,d,_)}touchend(s,d,_){const E=this.singleTap.touchend(s,d,_);if(E){const L=s.timeStamp-this.lastTime<500,B=!this.lastTap||this.lastTap.dist(E)<30;if(L&&B||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=E,this.count===this.numTaps)return this.reset(),E}}}class zh{constructor(s){this._tr=new Rd(s),this._zoomIn=new As({numTouches:1,numTaps:2}),this._zoomOut=new As({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,d,_){this._zoomIn.touchstart(s,d,_),this._zoomOut.touchstart(s,d,_)}touchmove(s,d,_){this._zoomIn.touchmove(s,d,_),this._zoomOut.touchmove(s,d,_)}touchend(s,d,_){const E=this._zoomIn.touchend(s,d,_),L=this._zoomOut.touchend(s,d,_),B=this._tr;return E?(this._active=!0,s.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:K=>K.easeTo({duration:300,zoom:B.zoom+1,around:B.unproject(E)},{originalEvent:s})}):L?(this._active=!0,s.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:K=>K.easeTo({duration:300,zoom:B.zoom-1,around:B.unproject(L)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bh{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const d=this._moveFunction(...s);if(d.bearingDelta||d.pitchDelta||d.rollDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(s,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=Array.isArray(d)?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,d){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const E=Array.isArray(d)?d[0]:d;return!this._moved&&E.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=E,this._move(_,E))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&S.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Rc=0,su=2,$={[Rc]:1,[su]:2};class Z{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const d=S.mouseButton(s);this._eventButton=d}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!(function(d,_){const E=$[_];return d.buttons===void 0||(d.buttons&E)!==E})(s,this._eventButton)}isValidEndEvent(s){return S.mouseButton(s)===this._eventButton}}class yt{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}class Nt{constructor(s=new Z({checkCorrectEvent:()=>!0}),d=new yt){this.mouseMoveStateManager=s,this.oneFingerTouchMoveStateManager=d}_executeRelevantHandler(s,d,_){return s instanceof MouseEvent?d(s):typeof TouchEvent<"u"&&s instanceof TouchEvent?_(s):void 0}startMove(s){this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.startMove(d)),(d=>this.oneFingerTouchMoveStateManager.startMove(d)))}endMove(s){this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.endMove(d)),(d=>this.oneFingerTouchMoveStateManager.endMove(d)))}isValidStartEvent(s){return this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.isValidStartEvent(d)),(d=>this.oneFingerTouchMoveStateManager.isValidStartEvent(d)))}isValidMoveEvent(s){return this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.isValidMoveEvent(d)),(d=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(d)))}isValidEndEvent(s){return this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.isValidEndEvent(d)),(d=>this.oneFingerTouchMoveStateManager.isValidEndEvent(d)))}}const Zt=N=>{N.mousedown=N.dragStart,N.mousemoveWindow=N.dragMove,N.mouseup=N.dragEnd,N.contextmenu=s=>{s.preventDefault()}};class ne{constructor(s,d){this._clickTolerance=s.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(s){return s<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(s,d,_){return this._calculateTransform(s,d,_)}touchmove(s,d,_){if(this._active){if(!this._shouldBePrevented(_.length))return s.preventDefault(),this._calculateTransform(s,d,_);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",s)}}touchend(s,d,_){this._calculateTransform(s,d,_),this._active&&this._shouldBePrevented(_.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,d,_){_.length>0&&(this._active=!0);const E=Op(_,d),L=new a.P(0,0),B=new a.P(0,0);let K=0;for(const ht in E){const bt=E[ht],It=this._touches[ht];It&&(L._add(bt),B._add(bt.sub(It)),K++,E[ht]=bt)}if(this._touches=E,this._shouldBePrevented(K)||!B.mag())return;const tt=B.div(K);return this._sum._add(tt),this._sum.mag()<this._clickTolerance?void 0:{around:L.div(K),panDelta:tt}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ae{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,d,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([d[0],d[1]]))}touchmove(s,d,_){if(!this._firstTwoTouches)return;s.preventDefault();const[E,L]=this._firstTwoTouches,B=ue(_,d,E),K=ue(_,d,L);if(!B||!K)return;const tt=this._aroundCenter?null:B.add(K).div(2);return this._move([B,K],tt,s)}touchend(s,d,_){if(!this._firstTwoTouches)return;const[E,L]=this._firstTwoTouches,B=ue(_,d,E),K=ue(_,d,L);B&&K||(this._active&&S.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ue(N,s,d){for(let _=0;_<N.length;_++)if(N[_].identifier===d)return s[_]}function ge(N,s){return Math.log(N/s)/Math.LN2}class Te extends ae{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,d){const _=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(ge(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ge(this._distance,_),pinchAround:d}}}function Ce(N,s){return 180*N.angleWith(s)/Math.PI}class Nr extends ae{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,d,_){const E=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ce(this._vector,E),pinchAround:d}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const d=25/(Math.PI*this._minDiameter)*360,_=Ce(s,this._startVector);return Math.abs(_)<d}}function Ae(N){return Math.abs(N.y)>Math.abs(N.x)}class hr extends ae{constructor(s){super(),this._currentTouchCount=0,this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,d,_){super.touchstart(s,d,_),this._currentTouchCount=_.length}_start(s){this._lastPoints=s,Ae(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,d,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const E=s[0].sub(this._lastPoints[0]),L=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(E,L,_.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(E.y+L.y)/2*-.5}):void 0}gestureBeginsVertically(s,d,_){if(this._valid!==void 0)return this._valid;const E=s.mag()>=2,L=d.mag()>=2;if(!E&&!L)return;if(!E||!L)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const B=s.y>0==d.y>0;return Ae(s)&&Ae(d)&&B}}const br={panStep:100,bearingStep:15,pitchStep:10};class Xr{constructor(s){this._tr=new Rd(s);const d=br;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let d=0,_=0,E=0,L=0,B=0;switch(s.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:s.shiftKey?_=-1:(s.preventDefault(),L=-1);break;case 39:s.shiftKey?_=1:(s.preventDefault(),L=1);break;case 38:s.shiftKey?E=1:(s.preventDefault(),B=-1);break;case 40:s.shiftKey?E=-1:(s.preventDefault(),B=1);break;default:return}return this._rotationDisabled&&(_=0,E=0),{cameraAnimation:K=>{const tt=this._tr;K.easeTo({duration:300,easeId:"keyboardHandler",easing:Er,zoom:d?Math.round(tt.zoom)+d*(s.shiftKey?2:1):tt.zoom,bearing:tt.bearing+_*this._bearingStep,pitch:tt.pitch+E*this._pitchStep,offset:[-L*this._panStep,-B*this._panStep],center:tt.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Er(N){return N*(2-N)}const wr=4.000244140625,Qr=1/450;class Sn{constructor(s,d){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=s,this._tr=new Rd(s),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Qr}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(s){return!!this._map.cooperativeGestures.isEnabled()&&!(s.ctrlKey||this._map.cooperativeGestures.isBypassed(s))}wheel(s){if(!this.isEnabled())return;if(this._shouldBePrevented(s))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",s);let d=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const _=I.now(),E=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,d!==0&&d%wr==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":E>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(E*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),s.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=s,this._delta-=d,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=S.mousePos(this._map.getCanvas(),s),_=this._tr;this._aroundPoint=this._aroundCenter?_.transform.locationToScreenPoint(a.S.convert(_.center)):d,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const K=s.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=K),typeof this._targetZoom=="number"&&(this._targetZoom+=K)}if(this._delta!==0){const K=this._type==="wheel"&&Math.abs(this._delta)>wr?this._wheelZoomRate:this._defaultZoomRate;let tt=2/(1+Math.exp(-Math.abs(this._delta*K)));this._delta<0&&tt!==0&&(tt=1/tt);const ht=typeof this._targetZoom!="number"?s.scale:a.ae(this._targetZoom);this._targetZoom=s.getConstrained(s.getCameraLngLat(),a.aj(ht*tt)).zoom,this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom!="number"?s.zoom:this._targetZoom,_=this._startZoom,E=this._easing;let L,B=!1;if(this._type==="wheel"&&_&&E){const K=I.now()-this._lastWheelEventTime,tt=Math.min((K+5)/200,1),ht=E(tt);L=a.C.number(_,d,ht),tt<1?this._frameId||(this._frameId=!0):B=!0}else L=d,B=!0;return this._active=!0,B&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=L,{noInertia:!0,needsRenderFrame:!B,zoomDelta:L-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let d=a.cn;if(this._prevEase){const _=this._prevEase,E=(I.now()-_.start)/_.duration,L=_.easing(E+.01)-_.easing(E),B=.27/Math.sqrt(L*L+1e-4)*.01,K=Math.sqrt(.0729-B*B);d=a.cl(B,K,.25,1)}return this._prevEase={start:I.now(),duration:s,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ln{constructor(s,d){this._clickZoom=s,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ui{constructor(s){this._tr=new Rd(s),this.reset()}reset(){this._active=!1}dblclick(s,d){return s.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ni{constructor(){this._tap=new As({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,d,_){if(!this._swipePoint)if(this._tapTime){const E=d[0],L=s.timeStamp-this._tapTime<500,B=this._tapPoint.dist(E)<30;L&&B?_.length>0&&(this._swipePoint=E,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(s,d,_)}touchmove(s,d,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const E=d[0],L=E.y-this._swipePoint.y;return this._swipePoint=E,s.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(s,d,_)}touchend(s,d,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const E=this._tap.touchend(s,d,_);E&&(this._tapTime=s.timeStamp,this._tapPoint=E)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fi{constructor(s,d,_){this._el=s,this._mousePan=d,this._touchPan=_}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ai{constructor(s,d,_,E){this._pitchWithRotate=s.pitchWithRotate,this._rollEnabled=s.rollEnabled,this._mouseRotate=d,this._mousePitch=_,this._mouseRoll=E}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Ea{constructor(s,d,_,E){this._el=s,this._touchZoom=d,this._touchRotate=_,this._tapDragZoom=E,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Jo{constructor(s,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=s,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const s=this._map.getCanvasContainer();s.classList.add("maplibregl-cooperative-gestures"),this._container=S.create("div","maplibregl-cooperative-gesture-screen",s);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),E=document.createElement("div");E.className="maplibregl-desktop-message",E.textContent=d,this._container.appendChild(E);const L=document.createElement("div");L.className="maplibregl-mobile-message",L.textContent=_,this._container.appendChild(L),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(S.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(s){return s[this._bypassKey]}notifyGestureBlocked(s,d){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:s,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const $i=N=>N.zoom||N.drag||N.roll||N.pitch||N.rotate;class ii extends a.l{}function Pn(N){return N.panDelta&&N.panDelta.mag()||N.zoomDelta||N.bearingDelta||N.pitchDelta||N.rollDelta}class yo{constructor(s,d){this.handleWindowEvent=E=>{this.handleEvent(E,`${E.type}Window`)},this.handleEvent=(E,L)=>{if(E.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const B=E.type==="renderFrame"?void 0:E,K={needsRenderFrame:!1},tt={},ht={};for(const{handlerName:Ct,handler:zt,allowed:Qt}of this._handlers){if(!zt.isEnabled())continue;let fe;if(this._blockedByActive(ht,Qt,Ct))zt.reset();else if(zt[L||E.type]){if(a.co(E,L||E.type)){const pe=S.mousePos(this._map.getCanvas(),E);fe=zt[L||E.type](E,pe)}else if(a.cp(E,L||E.type)){const pe=this._getMapTouches(E.touches),me=S.touchPos(this._map.getCanvas(),pe);fe=zt[L||E.type](E,me,pe)}else a.cq(L||E.type)||(fe=zt[L||E.type](E));this.mergeHandlerResult(K,tt,fe,Ct,B),fe&&fe.needsRenderFrame&&this._triggerRenderFrame()}(fe||zt.isActive())&&(ht[Ct]=zt)}const bt={};for(const Ct in this._previousActiveHandlers)ht[Ct]||(bt[Ct]=B);this._previousActiveHandlers=ht,(Object.keys(bt).length||Pn(K))&&(this._changes.push([K,tt,bt]),this._triggerRenderFrame()),(Object.keys(ht).length||Pn(K))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:It}=K;It&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],It(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Su(s),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[E,L,B]of this._listeners)S.addEventListener(E,L,E===document?this.handleWindowEvent:this.handleEvent,B)}destroy(){for(const[s,d,_]of this._listeners)S.removeEventListener(s,d,s===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(s){const d=this._map,_=d.getCanvasContainer();this._add("mapEvent",new Kl(d,s));const E=d.boxZoom=new Vm(d,s);this._add("boxZoom",E),s.interactive&&s.boxZoom&&E.enable();const L=d.cooperativeGestures=new Jo(d,s.cooperativeGestures);this._add("cooperativeGestures",L),s.cooperativeGestures&&L.enable();const B=new zh(d),K=new ui(d);d.doubleClickZoom=new ln(K,B),this._add("tapZoom",B),this._add("clickZoom",K),s.interactive&&s.doubleClickZoom&&d.doubleClickZoom.enable();const tt=new ni;this._add("tapDragZoom",tt);const ht=d.touchPitch=new hr(d);this._add("touchPitch",ht),s.interactive&&s.touchPitch&&d.touchPitch.enable(s.touchPitch);const bt=()=>d.project(d.getCenter()),It=(function({enable:Le,clickTolerance:Ve,aroundCenter:We=!0,minPixelCenterThreshold:Ne=100,rotateDegreesPerPixelMoved:tr=.8},Ar){const xr=new Z({checkCorrectEvent:Sr=>S.mouseButton(Sr)===0&&Sr.ctrlKey||S.mouseButton(Sr)===2&&!Sr.ctrlKey});return new bh({clickTolerance:Ve,move:(Sr,kr)=>{const Cn=Ar();if(We&&Math.abs(Cn.y-Sr.y)>Ne)return{bearingDelta:a.cm(new a.P(Sr.x,kr.y),kr,Cn)};let Tn=(kr.x-Sr.x)*tr;return We&&kr.y<Cn.y&&(Tn=-Tn),{bearingDelta:Tn}},moveStateManager:xr,enable:Le,assignEvents:Zt})})(s,bt),Ct=(function({enable:Le,clickTolerance:Ve,pitchDegreesPerPixelMoved:We=-.5}){const Ne=new Z({checkCorrectEvent:tr=>S.mouseButton(tr)===0&&tr.ctrlKey||S.mouseButton(tr)===2});return new bh({clickTolerance:Ve,move:(tr,Ar)=>({pitchDelta:(Ar.y-tr.y)*We}),moveStateManager:Ne,enable:Le,assignEvents:Zt})})(s),zt=(function({enable:Le,clickTolerance:Ve,rollDegreesPerPixelMoved:We=.3},Ne){const tr=new Z({checkCorrectEvent:Ar=>S.mouseButton(Ar)===2&&Ar.ctrlKey});return new bh({clickTolerance:Ve,move:(Ar,xr)=>{const Sr=Ne();let kr=(xr.x-Ar.x)*We;return xr.y<Sr.y&&(kr=-kr),{rollDelta:kr}},moveStateManager:tr,enable:Le,assignEvents:Zt})})(s,bt);d.dragRotate=new ai(s,It,Ct,zt),this._add("mouseRotate",It,["mousePitch"]),this._add("mousePitch",Ct,["mouseRotate","mouseRoll"]),this._add("mouseRoll",zt,["mousePitch"]),s.interactive&&s.dragRotate&&d.dragRotate.enable();const Qt=(function({enable:Le,clickTolerance:Ve}){const We=new Z({checkCorrectEvent:Ne=>S.mouseButton(Ne)===0&&!Ne.ctrlKey});return new bh({clickTolerance:Ve,move:(Ne,tr)=>({around:tr,panDelta:tr.sub(Ne)}),activateOnStart:!0,moveStateManager:We,enable:Le,assignEvents:Zt})})(s),fe=new ne(s,d);d.dragPan=new Fi(_,Qt,fe),this._add("mousePan",Qt),this._add("touchPan",fe,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&d.dragPan.enable(s.dragPan);const pe=new Nr,me=new Te;d.touchZoomRotate=new Ea(_,me,pe,tt),this._add("touchRotate",pe,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&d.touchZoomRotate.enable(s.touchZoomRotate);const xe=d.scrollZoom=new Sn(d,(()=>this._triggerRenderFrame()));this._add("scrollZoom",xe,["mousePan"]),s.interactive&&s.scrollZoom&&d.scrollZoom.enable(s.scrollZoom);const Be=d.keyboard=new Xr(d);this._add("keyboard",Be),s.interactive&&s.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new Xf(d))}_add(s,d,_){this._handlers.push({handlerName:s,handler:d,allowed:_}),this._handlersById[s]=d}stop(s){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$i(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,d,_){for(const E in s)if(E!==_&&(!d||d.indexOf(E)<0))return!0;return!1}_getMapTouches(s){const d=[];for(const _ of s)this._el.contains(_.target)&&d.push(_);return d}mergeHandlerResult(s,d,_,E,L){if(!_)return;a.e(s,_);const B={handlerName:E,originalEvent:_.originalEvent||L};_.zoomDelta!==void 0&&(d.zoom=B),_.panDelta!==void 0&&(d.drag=B),_.rollDelta!==void 0&&(d.roll=B),_.pitchDelta!==void 0&&(d.pitch=B),_.bearingDelta!==void 0&&(d.rotate=B)}_applyChanges(){const s={},d={},_={};for(const[E,L,B]of this._changes)E.panDelta&&(s.panDelta=(s.panDelta||new a.P(0,0))._add(E.panDelta)),E.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+E.zoomDelta),E.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+E.bearingDelta),E.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+E.pitchDelta),E.rollDelta&&(s.rollDelta=(s.rollDelta||0)+E.rollDelta),E.around!==void 0&&(s.around=E.around),E.pinchAround!==void 0&&(s.pinchAround=E.pinchAround),E.noInertia&&(s.noInertia=E.noInertia),a.e(d,L),a.e(_,B);this._updateMapTransform(s,d,_),this._changes=[]}_updateMapTransform(s,d,_){const E=this._map,L=E._getTransformForUpdate(),B=E.terrain;if(!(Pn(s)||B&&this._terrainMovement))return this._fireEvents(d,_,!0);E._stop(!0);let{panDelta:K,zoomDelta:tt,bearingDelta:ht,pitchDelta:bt,rollDelta:It,around:Ct,pinchAround:zt}=s;zt!==void 0&&(Ct=zt),Ct=Ct||E.transform.centerPoint,B&&!L.isPointOnMapSurface(Ct)&&(Ct=L.centerPoint);const Qt={panDelta:K,zoomDelta:tt,rollDelta:It,pitchDelta:bt,bearingDelta:ht,around:Ct};this._map.cameraHelper.useGlobeControls&&!L.isPointOnMapSurface(Ct)&&(Ct=L.centerPoint);const fe=Ct.distSqr(L.centerPoint)<.01?L.center:L.screenPointToLocation(K?Ct.sub(K):Ct);B?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Qt,L),this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?L.setCenter(L.screenPointToLocation(L.centerPoint.sub(K))):this._map.cameraHelper.handleMapControlsPan(Qt,L,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Qt,L,fe))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Qt,L),this._map.cameraHelper.handleMapControlsPan(Qt,L,fe)),E._applyUpdatedTransform(L),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(d,_,!0)}_fireEvents(s,d,_){const E=$i(this._eventsInProgress),L=$i(s),B={};for(const It in s){const{originalEvent:Ct}=s[It];this._eventsInProgress[It]||(B[`${It}start`]=Ct),this._eventsInProgress[It]=s[It]}!E&&L&&this._fireEvent("movestart",L.originalEvent);for(const It in B)this._fireEvent(It,B[It]);L&&this._fireEvent("move",L.originalEvent);for(const It in s){const{originalEvent:Ct}=s[It];this._fireEvent(It,Ct)}const K={};let tt;for(const It in this._eventsInProgress){const{handlerName:Ct,originalEvent:zt}=this._eventsInProgress[It];this._handlersById[Ct].isActive()||(delete this._eventsInProgress[It],tt=d[Ct]||zt,K[`${It}end`]=tt)}for(const It in K)this._fireEvent(It,K[It]);const ht=$i(this._eventsInProgress),bt=(E||L)&&!ht;if(bt&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const It=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&It.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(It)}if(_&&bt){this._updatingCamera=!0;const It=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ct=zt=>zt!==0&&-this._bearingSnap<zt&&zt<this._bearingSnap;!It||!It.essential&&I.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:tt})),Ct(this._map.getBearing())&&this._map.resetNorth()):(Ct(It.bearing||this._map.getBearing())&&(It.bearing=0),It.freezeElevation=!0,this._map.easeTo(It,{originalEvent:tt})),this._updatingCamera=!1}}_fireEvent(s,d){this._map.fire(new a.l(s,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((s=>{delete this._frameId,this.handleEvent(new ii("renderFrame",{timeStamp:s})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Gn extends a.E{constructor(s,d,_){super(),this._renderFrameCallback=()=>{const E=Math.min((I.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(E)),E<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=_.bearingSnap,this.cameraHelper=d,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(s,d){s.apply(this.transform),this.transform=s,this.cameraHelper=d}getCenter(){return new a.S(this.transform.center.lng,this.transform.center.lat)}setCenter(s,d){return this.jumpTo({center:s},d)}getCenterElevation(){return this.transform.elevation}setCenterElevation(s,d){return this.jumpTo({elevation:s},d),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(s){this._centerClampedToGround=s}panBy(s,d,_){return s=a.P.convert(s).mult(-1),this.panTo(this.transform.center,a.e({offset:s},d),_)}panTo(s,d,_){return this.easeTo(a.e({center:s},d),_)}getZoom(){return this.transform.zoom}setZoom(s,d){return this.jumpTo({zoom:s},d),this}zoomTo(s,d,_){return this.easeTo(a.e({zoom:s},d),_)}zoomIn(s,d){return this.zoomTo(this.getZoom()+1,s,d),this}zoomOut(s,d){return this.zoomTo(this.getZoom()-1,s,d),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(s,d){return s!=this.transform.fov&&(this.transform.setFov(s),this.fire(new a.l("movestart",d)).fire(new a.l("move",d)).fire(new a.l("moveend",d))),this}getBearing(){return this.transform.bearing}setBearing(s,d){return this.jumpTo({bearing:s},d),this}getPadding(){return this.transform.padding}setPadding(s,d){return this.jumpTo({padding:s},d),this}rotateTo(s,d,_){return this.easeTo(a.e({bearing:s},d),_)}resetNorth(s,d){return this.rotateTo(0,a.e({duration:1e3},s),d),this}resetNorthPitch(s,d){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},s),d),this}snapToNorth(s,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,d):this}getPitch(){return this.transform.pitch}setPitch(s,d){return this.jumpTo({pitch:s},d),this}getRoll(){return this.transform.roll}setRoll(s,d){return this.jumpTo({roll:s},d),this}cameraForBounds(s,d){s=He.convert(s).adjustAntiMeridian();const _=d&&d.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),_,d)}_cameraForBoxAndBearing(s,d,_,E){const L={top:0,bottom:0,right:0,left:0};if(typeof(E=a.e({padding:L,offset:[0,0],maxZoom:this.transform.maxZoom},E)).padding=="number"){const ht=E.padding;E.padding={top:ht,bottom:ht,right:ht,left:ht}}const B=a.e(L,E.padding);E.padding=B;const K=this.transform,tt=new He(s,d);return this.cameraHelper.cameraForBoxAndBearing(E,B,tt,_,K)}fitBounds(s,d,_){return this._fitInternal(this.cameraForBounds(s,d),d,_)}fitScreenCoordinates(s,d,_,E,L){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(s)),this.transform.screenPointToLocation(a.P.convert(d)),_,E),E,L)}_fitInternal(s,d,_){return s?(delete(d=a.e(s,d)).padding,d.linear?this.easeTo(d,_):this.flyTo(d,_)):this}jumpTo(s,d){this.stop();const _=this._getTransformForUpdate();let E=!1,L=!1,B=!1;const K=_.zoom;this.cameraHelper.handleJumpToCenterZoom(_,s);const tt=_.zoom!==K;return"elevation"in s&&_.elevation!==+s.elevation&&_.setElevation(+s.elevation),"bearing"in s&&_.bearing!==+s.bearing&&(E=!0,_.setBearing(+s.bearing)),"pitch"in s&&_.pitch!==+s.pitch&&(L=!0,_.setPitch(+s.pitch)),"roll"in s&&_.roll!==+s.roll&&(B=!0,_.setRoll(+s.roll)),s.padding==null||_.isPaddingEqual(s.padding)||_.setPadding(s.padding),this._applyUpdatedTransform(_),this.fire(new a.l("movestart",d)).fire(new a.l("move",d)),tt&&this.fire(new a.l("zoomstart",d)).fire(new a.l("zoom",d)).fire(new a.l("zoomend",d)),E&&this.fire(new a.l("rotatestart",d)).fire(new a.l("rotate",d)).fire(new a.l("rotateend",d)),L&&this.fire(new a.l("pitchstart",d)).fire(new a.l("pitch",d)).fire(new a.l("pitchend",d)),B&&this.fire(new a.l("rollstart",d)).fire(new a.l("roll",d)).fire(new a.l("rollend",d)),this.fire(new a.l("moveend",d))}calculateCameraOptionsFromTo(s,d,_,E=0){const L=a.a0.fromLngLat(s,d),B=a.a0.fromLngLat(_,E),K=B.x-L.x,tt=B.y-L.y,ht=B.z-L.z,bt=Math.hypot(K,tt,ht);if(bt===0)throw new Error("Can't calculate camera options with same From and To");const It=Math.hypot(K,tt),Ct=a.aj(this.transform.cameraToCenterDistance/bt/this.transform.tileSize),zt=180*Math.atan2(K,-tt)/Math.PI;let Qt=180*Math.acos(It/bt)/Math.PI;return Qt=ht<0?90-Qt:90+Qt,{center:B.toLngLat(),elevation:E,zoom:Ct,pitch:Qt,bearing:zt}}calculateCameraOptionsFromCameraLngLatAltRotation(s,d,_,E,L){const B=this.transform.calculateCenterFromCameraLngLatAlt(s,d,_,E);return{center:B.center,elevation:B.elevation,zoom:B.zoom,bearing:_,pitch:E,roll:L}}easeTo(s,d){this._stop(!1,s.easeId),((s=a.e({offset:[0,0],duration:500,easing:a.cn},s)).animate===!1||!s.essential&&I.prefersReducedMotion)&&(s.duration=0);const _=this._getTransformForUpdate(),E=this.getBearing(),L=_.pitch,B=_.roll,K="bearing"in s?this._normalizeBearing(s.bearing,E):E,tt="pitch"in s?+s.pitch:L,ht="roll"in s?this._normalizeBearing(s.roll,B):B,bt="padding"in s?s.padding:_.padding,It=a.P.convert(s.offset);let Ct,zt;s.around&&(Ct=a.S.convert(s.around),zt=_.locationToScreenPoint(Ct));const Qt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},fe=this.cameraHelper.handleEaseTo(_,{bearing:K,pitch:tt,roll:ht,padding:bt,around:Ct,aroundPoint:zt,offsetAsPoint:It,offset:s.offset,zoom:s.zoom,center:s.center});return this._rotating=this._rotating||E!==K,this._pitching=this._pitching||tt!==L,this._rolling=this._rolling||ht!==B,this._padding=!_.isPaddingEqual(bt),this._zooming=this._zooming||fe.isZooming,this._easeId=s.easeId,this._prepareEase(d,s.noMoveStart,Qt),this.terrain&&this._prepareElevation(fe.elevationCenter),this._ease((pe=>{fe.easeFunc(pe),this.terrain&&!s.freezeElevation&&this._updateElevation(pe),this._applyUpdatedTransform(_),this._fireMoveEvents(d)}),(pe=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(d,pe)}),s),this}_prepareEase(s,d,_={}){this._moving=!0,d||_.moving||this.fire(new a.l("movestart",s)),this._zooming&&!_.zooming&&this.fire(new a.l("zoomstart",s)),this._rotating&&!_.rotating&&this.fire(new a.l("rotatestart",s)),this._pitching&&!_.pitching&&this.fire(new a.l("pitchstart",s)),this._rolling&&!_.rolling&&this.fire(new a.l("rollstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&d!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(_-(d-(_*s+this._elevationStart))/(1-s)),this._elevationTarget=d}this.transform.setElevation(a.C.number(this._elevationStart,this._elevationTarget,s))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(s){if(!this.terrain&&s.elevation>=0&&s.pitch<=90)return{};const d=s.getCameraLngLat(),_=s.getCameraAltitude(),E=this.terrain?this.terrain.getElevationForLngLatZoom(d,s.zoom):0;if(_<E){const L=this.calculateCameraOptionsFromTo(d,E,s.center,s.elevation);return{pitch:L.pitch,zoom:L.zoom}}return{}}_applyUpdatedTransform(s){const d=[];if(d.push((E=>this._elevateCameraIfInsideTerrain(E))),this.transformCameraUpdate&&d.push((E=>this.transformCameraUpdate(E))),!d.length)return;const _=s.clone();for(const E of d){const L=_.clone(),{center:B,zoom:K,roll:tt,pitch:ht,bearing:bt,elevation:It}=E(L);B&&L.setCenter(B),It!==void 0&&L.setElevation(It),K!==void 0&&L.setZoom(K),tt!==void 0&&L.setRoll(tt),ht!==void 0&&L.setPitch(ht),bt!==void 0&&L.setBearing(bt),_.apply(L)}this.transform.apply(_)}_fireMoveEvents(s){this.fire(new a.l("move",s)),this._zooming&&this.fire(new a.l("zoom",s)),this._rotating&&this.fire(new a.l("rotate",s)),this._pitching&&this.fire(new a.l("pitch",s)),this._rolling&&this.fire(new a.l("roll",s))}_afterEase(s,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const _=this._zooming,E=this._rotating,L=this._pitching,B=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,_&&this.fire(new a.l("zoomend",s)),E&&this.fire(new a.l("rotateend",s)),L&&this.fire(new a.l("pitchend",s)),B&&this.fire(new a.l("rollend",s)),this.fire(new a.l("moveend",s))}flyTo(s,d){if(!s.essential&&I.prefersReducedMotion){const kr=a.Q(s,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(kr,d)}this.stop(),s=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.cn},s);const _=this._getTransformForUpdate(),E=_.bearing,L=_.pitch,B=_.roll,K=_.padding,tt="bearing"in s?this._normalizeBearing(s.bearing,E):E,ht="pitch"in s?+s.pitch:L,bt="roll"in s?this._normalizeBearing(s.roll,B):B,It="padding"in s?s.padding:_.padding,Ct=a.P.convert(s.offset);let zt=_.centerPoint.add(Ct);const Qt=_.screenPointToLocation(zt),fe=this.cameraHelper.handleFlyTo(_,{bearing:tt,pitch:ht,roll:bt,padding:It,locationAtOffset:Qt,offsetAsPoint:Ct,center:s.center,minZoom:s.minZoom,zoom:s.zoom});let pe=s.curve;const me=Math.max(_.width,_.height),xe=me/fe.scaleOfZoom,Be=fe.pixelPathLength;typeof fe.scaleOfMinZoom=="number"&&(pe=Math.sqrt(me/fe.scaleOfMinZoom/Be*2));const Le=pe*pe;function Ve(kr){const Cn=(xe*xe-me*me+(kr?-1:1)*Le*Le*Be*Be)/(2*(kr?xe:me)*Le*Be);return Math.log(Math.sqrt(Cn*Cn+1)-Cn)}function We(kr){return(Math.exp(kr)-Math.exp(-kr))/2}function Ne(kr){return(Math.exp(kr)+Math.exp(-kr))/2}const tr=Ve(!1);let Ar=function(kr){return Ne(tr)/Ne(tr+pe*kr)},xr=function(kr){return me*((Ne(tr)*(We(Cn=tr+pe*kr)/Ne(Cn))-We(tr))/Le)/Be;var Cn},Sr=(Ve(!0)-tr)/pe;if(Math.abs(Be)<2e-6||!isFinite(Sr)){if(Math.abs(me-xe)<1e-6)return this.easeTo(s,d);const kr=xe<me?-1:1;Sr=Math.abs(Math.log(xe/me))/pe,xr=()=>0,Ar=Cn=>Math.exp(kr*pe*Cn)}return s.duration="duration"in s?+s.duration:1e3*Sr/("screenSpeed"in s?+s.screenSpeed/pe:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=E!==tt,this._pitching=ht!==L,this._rolling=bt!==B,this._padding=!_.isPaddingEqual(It),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(fe.targetCenter),this._ease((kr=>{const Cn=kr*Sr,Tn=1/Ar(Cn),on=xr(Cn);this._rotating&&_.setBearing(a.C.number(E,tt,kr)),this._pitching&&_.setPitch(a.C.number(L,ht,kr)),this._rolling&&_.setRoll(a.C.number(B,bt,kr)),this._padding&&(_.interpolatePadding(K,It,kr),zt=_.centerPoint.add(Ct)),fe.easeFunc(kr,Tn,on,zt),this.terrain&&!s.freezeElevation&&this._updateElevation(kr),this._applyUpdatedTransform(_),this._fireMoveEvents(d)}),(()=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(d)}),s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,d){var _;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,d)}return s||(_=this.handlers)===null||_===void 0||_.stop(!1),this}_ease(s,d,_){_.animate===!1||_.duration===0?(s(1),d()):(this._easeStart=I.now(),this._easeOptions=_,this._onEaseFrame=s,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,d){s=a.aN(s,-180,180);const _=Math.abs(s-d);return Math.abs(s-360-d)<_&&(s-=360),Math.abs(s+360-d)<_&&(s+=360),s}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(a.S.convert(s),this.transform.tileZoom):null}}const Gi={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class eo{constructor(s=Gi){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options.compact,this._container=S.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=S.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,d){const _=this._map._getUIString(`AttributionControl.${d}`);s.title=_,s.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map((E=>typeof E!="string"?"":E))):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const E=this._map.style.stylesheet;this.styleOwner=E.owner,this.styleId=E.id}const d=this._map.style.sourceCaches;for(const E in d){const L=d[E];if(L.used||L.usedForTerrain){const B=L.getSource();B.attribution&&s.indexOf(B.attribution)<0&&s.push(B.attribution)}}s=s.filter((E=>String(E).trim())),s.sort(((E,L)=>E.length-L.length)),s=s.filter(((E,L)=>{for(let B=L+1;B<s.length;B++)if(s[B].indexOf(E)>=0)return!1;return!0}));const _=s.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,s.length?(this._innerContainer.innerHTML=S.sanitize(_),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ol{constructor(s={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const _=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=S.create("div","maplibregl-ctrl");const d=S.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){S.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Zl{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const d=++this._id;return this._queue.push({callback:s,id:d,cancelled:!1}),d}remove(s){const d=this._currentlyRunning,_=d?this._queue.concat(d):this._queue;for(const E of _)if(E.id===s)return void(E.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const _ of d)if(!_.cancelled&&(_.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Vo=a.aI([{name:"a_pos3d",type:"Int16",components:3}]);class bl extends a.E{constructor(s){super(),this._lastTilesetChange=I.now(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=s._source.tileSize*2**this.deltaZoom,s.usedForTerrain=!0,s.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,d){this.sourceCache.update(s,d),this._renderableTilesKeys=[];const _={};for(const E of Ke(s,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))_[E.key]=!0,this._renderableTilesKeys.push(E.key),this._tiles[E.key]||(E.terrainRttPosMatrix32f=new Float64Array(16),a.bX(E.terrainRttPosMatrix32f,0,a.$,a.$,0,0,1),this._tiles[E.key]=new er(E,this.tileSize),this._lastTilesetChange=I.now());for(const E in this._tiles)_[E]||delete this._tiles[E]}freeRtt(s){for(const d in this._tiles){const _=this._tiles[d];(!s||_.tileID.equals(s)||_.tileID.isChildOf(s)||s.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((s=>this.getTileByID(s)))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s,d){return d?this._getTerrainCoordsForTileRanges(s,d):this._getTerrainCoordsForRegularTile(s)}_getTerrainCoordsForRegularTile(s){const d={};for(const _ of this._renderableTilesKeys){const E=this._tiles[_].tileID,L=s.clone(),B=a.b9();if(E.canonical.equals(s.canonical))a.bX(B,0,a.$,a.$,0,0,1);else if(E.canonical.isChildOf(s.canonical)){const K=E.canonical.z-s.canonical.z,tt=E.canonical.x-(E.canonical.x>>K<<K),ht=E.canonical.y-(E.canonical.y>>K<<K),bt=a.$>>K;a.bX(B,0,bt,bt,0,0,1),a.M(B,B,[-tt*bt,-ht*bt,0])}else{if(!s.canonical.isChildOf(E.canonical))continue;{const K=s.canonical.z-E.canonical.z,tt=s.canonical.x-(s.canonical.x>>K<<K),ht=s.canonical.y-(s.canonical.y>>K<<K),bt=a.$>>K;a.bX(B,0,a.$,a.$,0,0,1),a.M(B,B,[tt*bt,ht*bt,0]),a.N(B,B,[1/2**K,1/2**K,0])}}L.terrainRttPosMatrix32f=new Float32Array(B),d[_]=L}return d}_getTerrainCoordsForTileRanges(s,d){const _={};for(const E of this._renderableTilesKeys){const L=this._tiles[E].tileID;if(!this._isWithinTileRanges(L,d))continue;const B=s.clone(),K=a.b9();if(L.canonical.z===s.canonical.z){const tt=s.canonical.x-L.canonical.x,ht=s.canonical.y-L.canonical.y;a.bX(K,0,a.$,a.$,0,0,1),a.M(K,K,[tt*a.$,ht*a.$,0])}else if(L.canonical.z>s.canonical.z){const tt=L.canonical.z-s.canonical.z,ht=L.canonical.x-(L.canonical.x>>tt<<tt),bt=L.canonical.y-(L.canonical.y>>tt<<tt),It=s.canonical.x-(L.canonical.x>>tt),Ct=s.canonical.y-(L.canonical.y>>tt),zt=a.$>>tt;a.bX(K,0,zt,zt,0,0,1),a.M(K,K,[-ht*zt+It*a.$,-bt*zt+Ct*a.$,0])}else{const tt=s.canonical.z-L.canonical.z,ht=s.canonical.x-(s.canonical.x>>tt<<tt),bt=s.canonical.y-(s.canonical.y>>tt<<tt),It=(s.canonical.x>>tt)-L.canonical.x,Ct=(s.canonical.y>>tt)-L.canonical.y,zt=a.$<<tt;a.bX(K,0,zt,zt,0,0,1),a.M(K,K,[ht*a.$+It*zt,bt*a.$+Ct*zt,0])}B.terrainRttPosMatrix32f=new Float32Array(K),_[E]=B}return _}getSourceTile(s,d){const _=this.sourceCache._source;let E=s.overscaledZ-this.deltaZoom;if(E>_.maxzoom&&(E=_.maxzoom),E<_.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(E).key);let L=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!L||!L.dem)&&d)for(;E>=_.minzoom&&(!L||!L.dem);)L=this.sourceCache.getTileByID(s.scaledTo(E--).key);return L}anyTilesAfterTime(s=Date.now()){return this._lastTilesetChange>=s}_isWithinTileRanges(s,d){return d[s.canonical.z]&&s.canonical.x>=d[s.canonical.z].minTileX&&s.canonical.x<=d[s.canonical.z].maxTileX&&s.canonical.y>=d[s.canonical.z].minTileY&&s.canonical.y<=d[s.canonical.z].maxTileY}}class us{constructor(s,d,_){this._meshCache={},this.painter=s,this.sourceCache=new bl(d),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,d,_,E=a.$){var L;if(!(d>=0&&d<E&&_>=0&&_<E))return 0;const B=this.getTerrainData(s),K=(L=B.tile)===null||L===void 0?void 0:L.dem;if(!K)return 0;const tt=a.cr([],[d/E*a.$,_/E*a.$],B.u_terrain_matrix),ht=[tt[0]*K.dim,tt[1]*K.dim],bt=Math.floor(ht[0]),It=Math.floor(ht[1]),Ct=ht[0]-bt,zt=ht[1]-It;return K.get(bt,It)*(1-Ct)*(1-zt)+K.get(bt+1,It)*Ct*(1-zt)+K.get(bt,It+1)*(1-Ct)*zt+K.get(bt+1,It+1)*Ct*zt}getElevationForLngLatZoom(s,d){if(!a.cs(d,s.wrap()))return 0;const{tileID:_,mercatorX:E,mercatorY:L}=this._getOverscaledTileIDFromLngLatZoom(s,d);return this.getElevation(_,E%a.$,L%a.$,a.$)}getElevation(s,d,_,E=a.$){return this.getDEMElevation(s,d,_,E)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const E=this.painter.context,L=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(E,L,E.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(E,new a.R({width:1,height:1}),E.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(E.gl.NEAREST,E.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.af([])}const d=this.sourceCache.getSourceTile(s,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const E=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new a.T(E,d.dem.getPixels(),E.gl.RGBA,{premultiply:!1}),d.demTexture.bind(E.gl.NEAREST,E.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const _=d&&d+d.tileID.key+s.key;if(_&&!this._demMatrixCache[_]){const E=this.sourceCache.sourceCache._source.maxzoom;let L=s.canonical.z-d.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=E?L=s.canonical.z-E:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const B=s.canonical.x-(s.canonical.x>>L<<L),K=s.canonical.y-(s.canonical.y>>L<<L),tt=a.ct(new Float64Array(16),[1/(a.$<<L),1/(a.$<<L),0]);a.M(tt,tt,[B*a.$,K*a.$,0]),this._demMatrixCache[s.key]={matrix:tt,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(s){const d=this.painter,_=d.width/devicePixelRatio,E=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===E||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(d.context,{width:_,height:E,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(d.context,{width:_,height:E,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(_,E,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,_,E))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let L=0,B=0;L<this._coordsTextureSize;L++)for(let K=0;K<this._coordsTextureSize;K++,B+=4)d[B+0]=255&K,d[B+1]=255&L,d[B+2]=K>>8<<4|L>>8,d[B+3]=0;const _=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),E=new a.T(s,_,s.gl.RGBA,{premultiply:!1});return E.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=E,E}pointCoordinate(s){this.painter.maybeDrawDepthAndCoords(!0);const d=new Uint8Array(4),_=this.painter.context,E=_.gl,L=Math.round(s.x*this.painter.pixelRatio/devicePixelRatio),B=Math.round(s.y*this.painter.pixelRatio/devicePixelRatio),K=Math.round(this.painter.height/devicePixelRatio);_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),E.readPixels(L,K-B-1,1,1,E.RGBA,E.UNSIGNED_BYTE,d),_.bindFramebuffer.set(null);const tt=d[0]+(d[2]>>4<<8),ht=d[1]+((15&d[2])<<8),bt=this.coordsIndex[255-d[3]],It=bt&&this.sourceCache.getTileByID(bt);if(!It)return null;const Ct=this._coordsTextureSize,zt=(1<<It.tileID.canonical.z)*Ct;return new a.a0((It.tileID.canonical.x*Ct+tt)/zt+It.tileID.wrap,(It.tileID.canonical.y*Ct+ht)/zt,this.getElevation(It.tileID,tt,ht,Ct))}depthAtPoint(s){const d=new Uint8Array(4),_=this.painter.context,E=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),E.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,E.RGBA,E.UNSIGNED_BYTE,d),_.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(s){var d;const _=((d=this.painter.style.projection)===null||d===void 0?void 0:d.transitionState)>0,E=_&&s.canonical.y===0,L=_&&s.canonical.y===(1<<s.canonical.z)-1,B=`m_${E?"n":""}_${L?"s":""}`;if(this._meshCache[B])return this._meshCache[B];const K=this.painter.context,tt=new a.cu,ht=new a.aM,bt=this.meshSize,It=a.$/bt,Ct=bt*bt;for(let Ne=0;Ne<=bt;Ne++)for(let tr=0;tr<=bt;tr++)tt.emplaceBack(tr*It,Ne*It,0);for(let Ne=0;Ne<Ct;Ne+=bt+1)for(let tr=0;tr<bt;tr++)ht.emplaceBack(tr+Ne,bt+tr+Ne+1,bt+tr+Ne+2),ht.emplaceBack(tr+Ne,bt+tr+Ne+2,tr+Ne+1);const zt=tt.length,Qt=zt+(bt+1),fe=(bt+1)*bt,pe=E?a.bg:0,me=E?0:1,xe=L?a.bh:a.$,Be=L?0:1;for(let Ne=0;Ne<=bt;Ne++)tt.emplaceBack(Ne*It,pe,me);for(let Ne=0;Ne<=bt;Ne++)tt.emplaceBack(Ne*It,xe,Be);for(let Ne=0;Ne<bt;Ne++)ht.emplaceBack(fe+Ne,Qt+Ne,Qt+Ne+1),ht.emplaceBack(fe+Ne,Qt+Ne+1,fe+Ne+1),ht.emplaceBack(0+Ne,zt+Ne+1,zt+Ne),ht.emplaceBack(0+Ne,0+Ne+1,zt+Ne+1);const Le=tt.length,Ve=Le+2*(bt+1);for(const Ne of[0,1])for(let tr=0;tr<=bt;tr++)for(const Ar of[0,1])tt.emplaceBack(Ne*a.$,tr*It,Ar);for(let Ne=0;Ne<2*bt;Ne+=2)ht.emplaceBack(Le+Ne,Le+Ne+1,Le+Ne+3),ht.emplaceBack(Le+Ne,Le+Ne+3,Le+Ne+2),ht.emplaceBack(Ve+Ne,Ve+Ne+3,Ve+Ne+1),ht.emplaceBack(Ve+Ne,Ve+Ne+2,Ve+Ne+3);const We=new nr(K.createVertexBuffer(tt,Vo.members),K.createIndexBuffer(ht),a.aL.simpleSegment(0,0,tt.length,ht.length));return this._meshCache[B]=We,We}getMeshFrameDelta(s){return 2*Math.PI*a.bt/Math.pow(2,Math.max(s,0))/5}getMinTileElevationForLngLatZoom(s,d){var _;const{tileID:E}=this._getOverscaledTileIDFromLngLatZoom(s,d);return(_=this.getMinMaxElevation(E).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(s){const d=this.getTerrainData(s).tile,_={minElevation:null,maxElevation:null};return d&&d.dem&&(_.minElevation=d.dem.min*this.exaggeration,_.maxElevation=d.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(s,d){const _=a.a0.fromLngLat(s.wrap()),E=(1<<d)*a.$,L=_.x*E,B=_.y*E,K=Math.floor(L/a.$),tt=Math.floor(B/a.$);return{tileID:new a.Z(d,0,d,K,tt),mercatorX:L,mercatorY:B}}}class Os{constructor(s,d,_){this._context=s,this._size=d,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(_.texture),{id:s,fbo:d,texture:_,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((d=>s.id!==d)),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((s=>!s.inUse))===!1}}const yn={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class kn{constructor(s,d){this.painter=s,this.terrain=d,this.pool=new Os(s.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter((_=>!s._layers[_].isHidden(d))),this._coordsAscending={};for(const _ in s.sourceCaches){this._coordsAscending[_]={};const E=s.sourceCaches[_].getVisibleCoordinates(),L=s.sourceCaches[_].getSource(),B=L instanceof Ie?L.terrainTileRanges:null;for(const K of E){const tt=this.terrain.sourceCache.getTerrainCoords(K,B);for(const ht in tt)this._coordsAscending[_][ht]||(this._coordsAscending[_][ht]=[]),this._coordsAscending[_][ht].push(tt[ht])}}this._coordsAscendingStr={};for(const _ of s._order){const E=s._layers[_],L=E.source;if(yn[E.type]&&!this._coordsAscendingStr[L]){this._coordsAscendingStr[L]={};for(const B in this._coordsAscending[L])this._coordsAscendingStr[L][B]=this._coordsAscending[L][B].map((K=>K.key)).sort().join()}}for(const _ of this._renderableTiles)for(const E in this._coordsAscendingStr){const L=this._coordsAscendingStr[E][_.tileID.key];L&&L!==_.rttCoords[E]&&(_.rtt=[])}}renderLayer(s,d){if(s.isHidden(this.painter.transform.zoom))return!1;const _=Object.assign(Object.assign({},d),{isRenderingToTexture:!0}),E=s.type,L=this.painter,B=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(yn[E]&&(this._prevType&&yn[this._prevType]||this._stacks.push([]),this._prevType=E,this._stacks[this._stacks.length-1].push(s.id),!B))return!0;if(yn[this._prevType]||yn[E]&&B){this._prevType=E;const K=this._stacks.length-1,tt=this._stacks[K]||[];for(const ht of this._renderableTiles){if(this.pool.isFull()&&(go(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(ht),ht.rtt[K]){const It=this.pool.getObjectForId(ht.rtt[K].id);if(It.stamp===ht.rtt[K].stamp){this.pool.useObject(It);continue}}const bt=this.pool.getOrCreateFreeObject();this.pool.useObject(bt),this.pool.stampObject(bt),ht.rtt[K]={id:bt.id,stamp:bt.stamp},L.context.bindFramebuffer.set(bt.fbo.framebuffer),L.context.clear({color:a.be.transparent,stencil:0}),L.currentStencilSource=void 0;for(let It=0;It<tt.length;It++){const Ct=L.style._layers[tt[It]],zt=Ct.source?this._coordsAscending[Ct.source][ht.tileID.key]:[ht.tileID];L.context.viewport.set([0,0,bt.fbo.width,bt.fbo.height]),L._renderTileClippingMasks(Ct,zt,!0),L.renderLayer(L,L.style.sourceCaches[Ct.source],Ct,zt,_),Ct.source&&(ht.rttCoords[Ct.source]=this._coordsAscendingStr[Ct.source][ht.tileID.key])}}return go(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects(),yn[E]}return!1}}const ts={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Wa=g,Ds={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Gi,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},La={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Ya{constructor(s,d,_=!1){this.mousedown=L=>{this.startMove(L,S.mousePos(this.element,L)),S.addEventListener(window,"mousemove",this.mousemove),S.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.move(L,S.mousePos(this.element,L))},this.mouseup=L=>{this._rotatePitchHanlder.dragEnd(L),this.offTemp()},this.touchstart=L=>{L.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,L.targetTouches)[0],this.startMove(L,this._startPos),S.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{L.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,L.targetTouches)[0],this.move(L,this._lastPos))},this.touchend=L=>{L.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=d;const E=new Nt;this._rotatePitchHanlder=new bh({clickTolerance:3,move:(L,B)=>{const K=d.getBoundingClientRect(),tt=new a.P((K.bottom-K.top)/2,(K.right-K.left)/2);return{bearingDelta:a.cm(new a.P(L.x,B.y),B,tt),pitchDelta:_?-.5*(B.y-L.y):void 0}},moveStateManager:E,enable:!0,assignEvents:()=>{}}),this.map=s,S.addEventListener(d,"mousedown",this.mousedown),S.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(d,"touchcancel",this.reset)}startMove(s,d){this._rotatePitchHanlder.dragStart(s,d),S.disableDrag()}move(s,d){const _=this.map,{bearingDelta:E,pitchDelta:L}=this._rotatePitchHanlder.dragMove(s,d)||{};E&&_.setBearing(_.getBearing()+E),L&&_.setPitch(_.getPitch()+L)}off(){const s=this.element;S.removeEventListener(s,"mousedown",this.mousedown),S.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.removeEventListener(window,"touchend",this.touchend),S.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){S.enableDrag(),S.removeEventListener(window,"mousemove",this.mousemove),S.removeEventListener(window,"mouseup",this.mouseup),S.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.removeEventListener(window,"touchend",this.touchend)}}let Ma;function vo(N,s,d,_=!1){if(_||!d.getCoveringTilesDetailsProvider().allowWorldCopies())return N?.wrap();const E=new a.S(N.lng,N.lat);if(N=new a.S(N.lng,N.lat),s){const L=new a.S(N.lng-360,N.lat),B=new a.S(N.lng+360,N.lat),K=d.locationToScreenPoint(N).distSqr(s);d.locationToScreenPoint(L).distSqr(s)<K?N=L:d.locationToScreenPoint(B).distSqr(s)<K&&(N=B)}for(;Math.abs(N.lng-d.center.lng)>180;){const L=d.locationToScreenPoint(N);if(L.x>=0&&L.y>=0&&L.x<=d.width&&L.y<=d.height)break;N.lng>d.center.lng?N.lng-=360:N.lng+=360}return N.lng!==E.lng&&d.isPointOnMapSurface(d.locationToScreenPoint(N))?N:E}const es={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function la(N,s,d){const _=N.classList;for(const E in es)_.remove(`maplibregl-${d}-anchor-${E}`);_.add(`maplibregl-${d}-anchor-${s}`)}class Di extends a.E{constructor(s){if(super(),this._onKeyPress=d=>{const _=d.code,E=d.charCode||d.keyCode;_!=="Space"&&_!=="Enter"&&E!==32&&E!==13||this.togglePopup()},this._onMapClick=d=>{const _=d.originalEvent.target,E=this._element;this._popup&&(_===E||E.contains(_))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();(d?.type==="terrain"||d?.type==="render"&&!_)&&this._map.once("render",this._update),this._lngLat=vo(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let E="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?E=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(E=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let L="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?L="rotateX(0deg)":this._pitchAlignment==="map"&&(L=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,`${es[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${L} ${E}`),I.frameAsync(new AbortController).then((()=>{this._updateOpacity(d&&d.type==="moveend")})).catch((()=>{}))},this._onMove=d=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._subpixelPositioning=s&&s.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,this.setOpacity(s?.opacity,s?.opacityWhenCovered),s&&s.element)this._element=s.element,this._offset=a.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div");const d=S.createNS("http://www.w3.org/2000/svg","svg"),_=41,E=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${_}px`),d.setAttributeNS(null,"width",`${E}px`),d.setAttributeNS(null,"viewBox",`0 0 ${E} ${_}`);const L=S.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");const B=S.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill-rule","nonzero");const K=S.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"transform","translate(3.0, 29.0)"),K.setAttributeNS(null,"fill","#000000");const tt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const me of tt){const xe=S.createNS("http://www.w3.org/2000/svg","ellipse");xe.setAttributeNS(null,"opacity","0.04"),xe.setAttributeNS(null,"cx","10.5"),xe.setAttributeNS(null,"cy","5.80029008"),xe.setAttributeNS(null,"rx",me.rx),xe.setAttributeNS(null,"ry",me.ry),K.appendChild(xe)}const ht=S.createNS("http://www.w3.org/2000/svg","g");ht.setAttributeNS(null,"fill",this._color);const bt=S.createNS("http://www.w3.org/2000/svg","path");bt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ht.appendChild(bt);const It=S.createNS("http://www.w3.org/2000/svg","g");It.setAttributeNS(null,"opacity","0.25"),It.setAttributeNS(null,"fill","#000000");const Ct=S.createNS("http://www.w3.org/2000/svg","path");Ct.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),It.appendChild(Ct);const zt=S.createNS("http://www.w3.org/2000/svg","g");zt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),zt.setAttributeNS(null,"fill","#FFFFFF");const Qt=S.createNS("http://www.w3.org/2000/svg","g");Qt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const fe=S.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#000000"),fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962");const pe=S.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),Qt.appendChild(fe),Qt.appendChild(pe),B.appendChild(K),B.appendChild(ht),B.appendChild(It),B.appendChild(zt),B.appendChild(Qt),d.appendChild(B),d.setAttributeNS(null,"height",_*this._scale+"px"),d.setAttributeNS(null,"width",E*this._scale+"px"),this._element.appendChild(d),this._offset=a.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(d=>{d.preventDefault()})),this._element.addEventListener("mousedown",(d=>{d.preventDefault()})),la(this._element,this._anchor,"marker"),s&&s.className)for(const d of s.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(s){return this.remove(),this._map=s,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",s._getUIString("Marker.Title")),s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),s.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=a.S.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const d=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[d,-1*(38.1-13.5+d)],"bottom-right":[-d,-1*(38.1-13.5+d)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(s){return this._subpixelPositioning=s,this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:s?(s.isOpen()?s.remove():(s.setLngLat(this._lngLat),s.addTo(this._map)),this):this}_updateOpacity(s=!1){var d,_;const E=(d=this._map)===null||d===void 0?void 0:d.terrain,L=this._map.transform.isLocationOccluded(this._lngLat);if(!E||L){const zt=L?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==zt&&(this._element.style.opacity=zt))}if(s)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const B=this._map,K=B.terrain.depthAtPoint(this._pos),tt=B.terrain.getElevationForLngLatZoom(this._lngLat,B.transform.tileZoom);if(B.transform.lngLatToCameraDepth(this._lngLat,tt)-K<.006)return void(this._element.style.opacity=this._opacity);const ht=-this._offset.y/B.transform.pixelsPerMeter,bt=Math.sin(B.getPitch()*Math.PI/180)*ht,It=B.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),Ct=B.transform.lngLatToCameraDepth(this._lngLat,tt+bt)-It>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&Ct&&this._popup.remove(),this._element.style.opacity=Ct?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(s){return this._offset=a.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(s,d){return(this._opacity===void 0||s===void 0&&d===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),s!==void 0&&(this._opacity=s),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}const Ua={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Bs=0,Ao=!1;const bi={maxWidth:100,unit:"metric"};function _i(N,s,d){const _=d&&d.maxWidth||100,E=N._container.clientHeight/2,L=N._container.clientWidth/2,B=N.unproject([L-_/2,E]),K=N.unproject([L+_/2,E]),tt=Math.round(N.project(K).x-N.project(B).x),ht=Math.min(_,tt,N._container.clientWidth),bt=B.distanceTo(K);if(d&&d.unit==="imperial"){const It=3.2808*bt;It>5280?Ta(s,ht,It/5280,N._getUIString("ScaleControl.Miles")):Ta(s,ht,It,N._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Ta(s,ht,bt/1852,N._getUIString("ScaleControl.NauticalMiles")):bt>=1e3?Ta(s,ht,bt/1e3,N._getUIString("ScaleControl.Kilometers")):Ta(s,ht,bt,N._getUIString("ScaleControl.Meters"))}function Ta(N,s,d,_){const E=(function(L){const B=Math.pow(10,`${Math.floor(L)}`.length-1);let K=L/B;return K=K>=10?10:K>=5?5:K>=3?3:K>=2?2:K>=1?1:(function(tt){const ht=Math.pow(10,Math.ceil(-Math.log(tt)/Math.LN10));return Math.round(tt*ht)/ht})(K),B*K})(d);N.style.width=s*(E/d)+"px",N.innerHTML=`${E}&nbsp;${_}`}const Ql={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},lu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Jl(N){if(N){if(typeof N=="number"){const s=Math.round(Math.abs(N)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,N),"top-left":new a.P(s,s),"top-right":new a.P(-s,s),bottom:new a.P(0,-N),"bottom-left":new a.P(s,-s),"bottom-right":new a.P(-s,-s),left:new a.P(N,0),right:new a.P(-N,0)}}if(N instanceof a.P||Array.isArray(N)){const s=a.P.convert(N);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:a.P.convert(N.center||[0,0]),top:a.P.convert(N.top||[0,0]),"top-left":a.P.convert(N["top-left"]||[0,0]),"top-right":a.P.convert(N["top-right"]||[0,0]),bottom:a.P.convert(N.bottom||[0,0]),"bottom-left":a.P.convert(N["bottom-left"]||[0,0]),"bottom-right":a.P.convert(N["bottom-right"]||[0,0]),left:a.P.convert(N.left||[0,0]),right:a.P.convert(N.right||[0,0])}}return Jl(new a.P(0,0))}const Qs=g;c.AJAXError=a.cy,c.Event=a.l,c.Evented=a.E,c.LngLat=a.S,c.MercatorCoordinate=a.a0,c.Point=a.P,c.addProtocol=a.cz,c.config=a.a,c.removeProtocol=a.cA,c.AttributionControl=eo,c.BoxZoomHandler=Vm,c.CanvasSource=ir,c.CooperativeGesturesHandler=Jo,c.DoubleClickZoomHandler=ln,c.DragPanHandler=Fi,c.DragRotateHandler=ai,c.EdgeInsets=fn,c.FullscreenControl=class extends a.E{constructor(N={}){super(),this._onFullscreenChange=()=>{var s;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((s=d?.shadowRoot)===null||s===void 0)&&s.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,N&&N.container&&(N.container instanceof HTMLElement?this._container=N.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(N){return this._map=N,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){S.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const N=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon",N).setAttribute("aria-hidden","true"),N.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const N=this._getTitle();this._fullscreenButton.setAttribute("aria-label",N),this._fullscreenButton.title=N}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},c.GeoJSONSource=Dr,c.GeolocateControl=class extends a.E{constructor(N){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",s)),this._finish()}},this._updateCamera=s=>{const d=new a.S(s.coords.longitude,s.coords.latitude),_=s.coords.accuracy,E=this._map.getBearing(),L=a.e({bearing:E},this.options.fitBoundsOptions),B=He.fromLngLat(d,_);this._map.fitBounds(B,L,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const d=new a.S(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&Ao)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(s=>s.preventDefault())),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=s=>{if(this._map){if(s===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Di({element:this._dotElement}),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Di({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))}))}},this.options=a.e({},Ua,N)}onAdd(N){return this._map=N,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return a._(this,arguments,void 0,(function*(s=!1){if(Ma!==void 0&&!s)return Ma;if(window.navigator.permissions===void 0)return Ma=!!window.navigator.geolocation,Ma;try{Ma=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ma=!!window.navigator.geolocation}return Ma}))})().then((s=>this._finishSetupUI(s))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bs=0,Ao=!1}_isOutOfMapMaxBounds(N){const s=this._map.getMaxBounds(),d=N.coords;return s&&(d.longitude<s.getWest()||d.longitude>s.getEast()||d.latitude<s.getSouth()||d.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const N=this._map.getBounds(),s=N.getSouthEast(),d=N.getNorthEast(),_=s.distanceTo(d),E=Math.ceil(this._accuracy/(_/this._map._container.clientHeight)*2);this._circleElement.style.width=`${E}px`,this._circleElement.style.height=`${E}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bs--,Ao=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let N;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Bs++,Bs>1?(N={maximumAge:6e5,timeout:0},Ao=!0):(N=this.options.positionOptions,Ao=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,N)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},c.GlobeControl=class{constructor(){this._toggleProjection=()=>{var N;const s=(N=this._map.getProjection())===null||N===void 0?void 0:N.type;this._map.setProjection(s!=="mercator"&&s?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var N;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((N=this._map.getProjection())===null||N===void 0?void 0:N.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(N){return this._map=N,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=S.create("button","maplibregl-ctrl-globe",this._container),S.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){S.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},c.Hash=Ku,c.ImageSource=Ie,c.KeyboardHandler=Xr,c.LngLatBounds=He,c.LogoControl=ol,c.Map=class extends Gn{constructor(N){var s,d;a.cv.mark(a.cw.create);const _=Object.assign(Object.assign(Object.assign({},Ds),N),{canvasContextAttributes:Object.assign(Object.assign({},Ds.canvasContextAttributes),N.canvasContextAttributes)});if(_.minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const E=new yi,L=new da;if(_.minZoom!==void 0&&E.setMinZoom(_.minZoom),_.maxZoom!==void 0&&E.setMaxZoom(_.maxZoom),_.minPitch!==void 0&&E.setMinPitch(_.minPitch),_.maxPitch!==void 0&&E.setMaxPitch(_.maxPitch),_.renderWorldCopies!==void 0&&E.setRenderWorldCopies(_.renderWorldCopies),super(E,L,{bearingSnap:_.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Zl,this._controls=[],this._mapId=a.a6(),this._contextLost=K=>{K.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.l("webglcontextlost",{originalEvent:K}))},this._contextRestored=K=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:K}))},this._onMapScroll=K=>{if(K.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},_.canvasContextAttributes),this._trackResize=_.trackResize===!0,this._bearingSnap=_.bearingSnap,this._centerClampedToGround=_.centerClampedToGround,this._refreshExpiredTiles=_.refreshExpiredTiles===!0,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions===!0,this._collectResourceTiming=_.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},ts),_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=_.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=j.addThrottleControl((()=>this.isMoving())),this._requestManager=new X(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let K=!1;const tt=vl((ht=>{this._trackResize&&!this._removed&&(this.resize(ht),this.redraw())}),50);this._resizeObserver=new ResizeObserver((ht=>{K?tt(ht):K=!0})),this._resizeObserver.observe(this._container)}this.handlers=new yo(this,_),this._hash=_.hash&&new Ku(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,elevation:_.elevation,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,roll:_.roll}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,a.e({},_.fitBoundsOptions,{duration:0}))));const B=typeof _.style=="string"||((d=(s=_.style)===null||s===void 0?void 0:s.projection)===null||d===void 0?void 0:d.type)!=="globe";this.resize(null,B),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new eo(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new ol,_.logoPosition),this.on("style.load",(()=>{if(B||this._resizeTransform(),this.transform.unmodified){const K=a.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(K)}})),this.on("data",(K=>{this._update(K.dataType==="style"),this.fire(new a.l(`${K.dataType}data`,K))})),this.on("dataloading",(K=>{this.fire(new a.l(`${K.dataType}dataloading`,K))})),this.on("dataabort",(K=>{this.fire(new a.l("sourcedataabort",K))}))}_getMapId(){return this._mapId}setGlobalStateProperty(N,s){return this.style.setGlobalStateProperty(N,s),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(N,s){if(s===void 0&&(s=N.getDefaultPosition?N.getDefaultPosition():"top-right"),!N||!N.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=N.onAdd(this);this._controls.push(N);const _=this._controlPositions[s];return s.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this}removeControl(N){if(!N||!N.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(N);return s>-1&&this._controls.splice(s,1),N.onRemove(this),this}hasControl(N){return this._controls.indexOf(N)>-1}calculateCameraOptionsFromTo(N,s,d,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(N,s,d,_)}resize(N,s=!0){const[d,_]=this._containerDimensions(),E=this._getClampedPixelRatio(d,_);if(this._resizeCanvas(d,_,E),this.painter.resize(d,_,E),this.painter.overLimit()){const B=this.painter.context.gl;this._maxCanvasSize=[B.drawingBufferWidth,B.drawingBufferHeight];const K=this._getClampedPixelRatio(d,_);this._resizeCanvas(d,_,K),this.painter.resize(d,_,K)}this._resizeTransform(s);const L=!this._moving;return L&&(this.stop(),this.fire(new a.l("movestart",N)).fire(new a.l("move",N))),this.fire(new a.l("resize",N)),L&&this.fire(new a.l("moveend",N)),this}_resizeTransform(N=!0){var s;const[d,_]=this._containerDimensions();this.transform.resize(d,_,N),(s=this._requestedCameraState)===null||s===void 0||s.resize(d,_,N)}_getClampedPixelRatio(N,s){const{0:d,1:_}=this._maxCanvasSize,E=this.getPixelRatio(),L=N*E,B=s*E;return Math.min(L>d?d/L:1,B>_?_/B:1)*E}getPixelRatio(){var N;return(N=this._overridePixelRatio)!==null&&N!==void 0?N:devicePixelRatio}setPixelRatio(N){this._overridePixelRatio=N,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(N){return this.transform.setMaxBounds(He.convert(N)),this._update()}setMinZoom(N){if((N=N??-2)>=-2&&N<=this.transform.maxZoom)return this.transform.setMinZoom(N),this._update(),this.getZoom()<N&&this.setZoom(N),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(N){if((N=N??22)>=this.transform.minZoom)return this.transform.setMaxZoom(N),this._update(),this.getZoom()>N&&this.setZoom(N),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(N){if((N=N??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(N>=0&&N<=this.transform.maxPitch)return this.transform.setMinPitch(N),this._update(),this.getPitch()<N&&this.setPitch(N),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(N){if((N=N??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(N>=this.transform.minPitch)return this.transform.setMaxPitch(N),this._update(),this.getPitch()>N&&this.setPitch(N),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(N){return this.transform.setRenderWorldCopies(N),this._update()}project(N){return this.transform.locationToScreenPoint(a.S.convert(N),this.style&&this.terrain)}unproject(N){return this.transform.screenPointToLocation(a.P.convert(N),this.terrain)}isMoving(){var N;return this._moving||((N=this.handlers)===null||N===void 0?void 0:N.isMoving())}isZooming(){var N;return this._zooming||((N=this.handlers)===null||N===void 0?void 0:N.isZooming())}isRotating(){var N;return this._rotating||((N=this.handlers)===null||N===void 0?void 0:N.isRotating())}_createDelegatedListener(N,s,d){if(N==="mouseenter"||N==="mouseover"){let _=!1;return{layers:s,listener:d,delegates:{mousemove:E=>{const L=s.filter((K=>this.getLayer(K))),B=L.length!==0?this.queryRenderedFeatures(E.point,{layers:L}):[];B.length?_||(_=!0,d.call(this,new al(N,this,E.originalEvent,{features:B}))):_=!1},mouseout:()=>{_=!1}}}}if(N==="mouseleave"||N==="mouseout"){let _=!1;return{layers:s,listener:d,delegates:{mousemove:E=>{const L=s.filter((B=>this.getLayer(B)));(L.length!==0?this.queryRenderedFeatures(E.point,{layers:L}):[]).length?_=!0:_&&(_=!1,d.call(this,new al(N,this,E.originalEvent)))},mouseout:E=>{_&&(_=!1,d.call(this,new al(N,this,E.originalEvent)))}}}}{const _=E=>{const L=s.filter((K=>this.getLayer(K))),B=L.length!==0?this.queryRenderedFeatures(E.point,{layers:L}):[];B.length&&(E.features=B,d.call(this,E),delete E.features)};return{layers:s,listener:d,delegates:{[N]:_}}}}_saveDelegatedListener(N,s){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[N]=this._delegatedListeners[N]||[],this._delegatedListeners[N].push(s)}_removeDelegatedListener(N,s,d){if(!this._delegatedListeners||!this._delegatedListeners[N])return;const _=this._delegatedListeners[N];for(let E=0;E<_.length;E++){const L=_[E];if(L.listener===d&&L.layers.length===s.length&&L.layers.every((B=>s.includes(B)))){for(const B in L.delegates)this.off(B,L.delegates[B]);return void _.splice(E,1)}}}on(N,s,d){if(d===void 0)return super.on(N,s);const _=typeof s=="string"?[s]:s,E=this._createDelegatedListener(N,_,d);this._saveDelegatedListener(N,E);for(const L in E.delegates)this.on(L,E.delegates[L]);return{unsubscribe:()=>{this._removeDelegatedListener(N,_,d)}}}once(N,s,d){if(d===void 0)return super.once(N,s);const _=typeof s=="string"?[s]:s,E=this._createDelegatedListener(N,_,d);for(const L in E.delegates){const B=E.delegates[L];E.delegates[L]=(...K)=>{this._removeDelegatedListener(N,_,d),B(...K)}}this._saveDelegatedListener(N,E);for(const L in E.delegates)this.once(L,E.delegates[L]);return this}off(N,s,d){return d===void 0?super.off(N,s):(this._removeDelegatedListener(N,typeof s=="string"?[s]:s,d),this)}queryRenderedFeatures(N,s){if(!this.style)return[];let d;const _=N instanceof a.P||Array.isArray(N),E=_?N:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(_?{}:N)||{},E instanceof a.P||typeof E[0]=="number")d=[a.P.convert(E)];else{const L=a.P.convert(E[0]),B=a.P.convert(E[1]);d=[L,new a.P(B.x,L.y),B,new a.P(L.x,B.y),L]}return this.style.queryRenderedFeatures(d,s,this.transform)}querySourceFeatures(N,s){return this.style.querySourceFeatures(N,s)}setStyle(N,s){return(s=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&N?(this._diffStyle(N,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(N,s))}setTransformRequest(N){return this._requestManager.setTransformRequest(N),this}_getUIString(N){const s=this._locale[N];if(s==null)throw new Error(`Missing UI string '${N}'`);return s}_updateStyle(N,s){var d,_;if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(N,s)));const E=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!N)),N?(this.style=new Ul(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof N=="string"?this.style.loadURL(N,s,E):this.style.loadJSON(N,s,E),this):((_=(d=this.style)===null||d===void 0?void 0:d.projection)===null||_===void 0||_.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ul(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(N,s){if(typeof N=="string"){const d=this._requestManager.transformRequest(N,"Style");a.j(d,new AbortController).then((_=>{this._updateDiff(_.data,s)})).catch((_=>{_&&this.fire(new a.k(_))}))}else typeof N=="object"&&this._updateDiff(N,s)}_updateDiff(N,s){try{this.style.setState(N,s)&&this._update(!0)}catch(d){a.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(N,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(N,s){return this._lazyInitEmptyStyle(),this.style.addSource(N,s),this._update(!0)}isSourceLoaded(N){const s=this.style&&this.style.sourceCaches[N];if(s!==void 0)return s.loaded();this.fire(new a.k(new Error(`There is no source with ID '${N}'`)))}setTerrain(N){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),N){const s=this.style.sourceCaches[N.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${N.source}`);this.terrain===null&&s.reload();for(const d in this.style._layers){const _=this.style._layers[d];_.type==="hillshade"&&_.source===N.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),_.type==="color-relief"&&_.source===N.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new us(this.painter,s,N),this.painter.renderToTexture=new kn(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=d=>{var _;d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==N.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((_=d.source)===null||_===void 0?void 0:_.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:N})),this}getTerrain(){var N,s;return(s=(N=this.terrain)===null||N===void 0?void 0:N.options)!==null&&s!==void 0?s:null}areTilesLoaded(){const N=this.style&&this.style.sourceCaches;for(const s in N){const d=N[s]._tiles;for(const _ in d){const E=d[_];if(E.state!=="loaded"&&E.state!=="errored")return!1}}return!0}removeSource(N){return this.style.removeSource(N),this._update(!0)}getSource(N){return this.style.getSource(N)}setSourceTileLodParams(N,s,d){if(d){const _=this.getSource(d);if(!_)throw new Error(`There is no source with ID "${d}", cannot set LOD parameters`);_.calculateTileZoom=Ge(Math.max(1,N),Math.max(1,s))}else for(const _ in this.style.sourceCaches)this.style.sourceCaches[_].getSource().calculateTileZoom=Ge(Math.max(1,N),Math.max(1,s));return this._update(!0),this}refreshTiles(N,s){const d=this.style.sourceCaches[N];if(!d)throw new Error(`There is no source cache with ID "${N}", cannot refresh tile`);s===void 0?d.reload(!0):d.refreshTiles(s.map((_=>new a.a3(_.z,_.x,_.y))))}addImage(N,s,d={}){const{pixelRatio:_=1,sdf:E=!1,stretchX:L,stretchY:B,content:K,textFitWidth:tt,textFitHeight:ht}=d;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||a.b(s))){if(s.width===void 0||s.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:bt,height:It,data:Ct}=s,zt=s;return this.style.addImage(N,{data:new a.R({width:bt,height:It},new Uint8Array(Ct)),pixelRatio:_,stretchX:L,stretchY:B,content:K,textFitWidth:tt,textFitHeight:ht,sdf:E,version:0,userImage:zt}),zt.onAdd&&zt.onAdd(this,N),this}}{const{width:bt,height:It,data:Ct}=I.getImageData(s);this.style.addImage(N,{data:new a.R({width:bt,height:It},Ct),pixelRatio:_,stretchX:L,stretchY:B,content:K,textFitWidth:tt,textFitHeight:ht,sdf:E,version:0})}}updateImage(N,s){const d=this.style.getImage(N);if(!d)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=s instanceof HTMLImageElement||a.b(s)?I.getImageData(s):s,{width:E,height:L,data:B}=_;if(E===void 0||L===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(E!==d.data.width||L!==d.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const K=!(s instanceof HTMLImageElement||a.b(s));return d.data.replace(B,K),this.style.updateImage(N,d),this}getImage(N){return this.style.getImage(N)}hasImage(N){return N?!!this.style.getImage(N):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(N){this.style.removeImage(N)}loadImage(N){return j.getImage(this._requestManager.transformRequest(N,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(N,s){return this._lazyInitEmptyStyle(),this.style.addLayer(N,s),this._update(!0)}moveLayer(N,s){return this.style.moveLayer(N,s),this._update(!0)}removeLayer(N){return this.style.removeLayer(N),this._update(!0)}getLayer(N){return this.style.getLayer(N)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(N,s,d){return this.style.setLayerZoomRange(N,s,d),this._update(!0)}setFilter(N,s,d={}){return this.style.setFilter(N,s,d),this._update(!0)}getFilter(N){return this.style.getFilter(N)}setPaintProperty(N,s,d,_={}){return this.style.setPaintProperty(N,s,d,_),this._update(!0)}getPaintProperty(N,s){return this.style.getPaintProperty(N,s)}setLayoutProperty(N,s,d,_={}){return this.style.setLayoutProperty(N,s,d,_),this._update(!0)}getLayoutProperty(N,s){return this.style.getLayoutProperty(N,s)}setGlyphs(N,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(N,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(N,s,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(N,s,d,(_=>{_||this._update(!0)})),this}removeSprite(N){return this._lazyInitEmptyStyle(),this.style.removeSprite(N),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(N,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(N,s,(d=>{d||this._update(!0)})),this}setLight(N,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(N,s),this._update(!0)}getLight(){return this.style.getLight()}setSky(N,s={}){return this._lazyInitEmptyStyle(),this.style.setSky(N,s),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(N,s){return this.style.setFeatureState(N,s),this._update()}removeFeatureState(N,s){return this.style.removeFeatureState(N,s),this._update()}getFeatureState(N){return this.style.getFeatureState(N)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let N=0,s=0;return this._container&&(N=this._container.clientWidth||400,s=this._container.clientHeight||300),[N,s]}_setupContainer(){const N=this._container;N.classList.add("maplibregl-map");const s=this._canvasContainer=S.create("div","maplibregl-canvas-container",N);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),_=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],_);const E=this._controlContainer=S.create("div","maplibregl-control-container",N),L=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((B=>{L[B]=S.create("div",`maplibregl-ctrl-${B} `,E)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(N,s,d){this._canvas.width=Math.floor(d*N),this._canvas.height=Math.floor(d*s),this._canvas.style.width=`${N}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const N=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let s=null;this._canvas.addEventListener("webglcontextcreationerror",(_=>{s={requestedAttributes:N},_&&(s.statusMessage=_.statusMessage,s.type=_.type)}),{once:!0});let d=null;if(d=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,N):this._canvas.getContext("webgl2",N)||this._canvas.getContext("webgl",N),!d){const _="Failed to initialize WebGL";throw s?(s.message=_,new Error(JSON.stringify(s))):new Error(_)}this.painter=new yl(d,this.transform),P.testSupport(d)}migrateProjection(N,s){super.migrateProjection(N,s),this.painter.transform=N,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(N){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||N,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(N){return this._update(),this._renderTaskQueue.add(N)}_cancelRenderFrame(N){this._renderTaskQueue.remove(N)}_render(N){var s,d,_,E,L;const B=this._idleTriggered?this._fadeDuration:0,K=((s=this.style.projection)===null||s===void 0?void 0:s.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(N),this._removed)return;let tt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const It=this.transform.zoom,Ct=I.now();this.style.zoomHistory.update(It,Ct);const zt=new a.F(It,{now:Ct,fadeDuration:B,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),Qt=zt.crossFadingFactor();Qt===1&&Qt===this._crossFadingFactor||(tt=!0,this._crossFadingFactor=Qt),this.style.update(zt)}const ht=((d=this.style.projection)===null||d===void 0?void 0:d.transitionState)>0!==K;(_=this.style.projection)===null||_===void 0||_.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((E=this.style.projection)===null||E===void 0?void 0:E.transitionState,(L=this.style.projection)===null||L===void 0?void 0:L.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||ht)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,B,this._crossSourceCollisions,ht),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cv.mark(a.cw.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||tt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const bt=this._sourcesDirty||this._styleDirty||this._placementDirty;return bt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||bt||(this._fullyLoaded=!0,a.cv.mark(a.cw.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var N;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),j.removeThrottleControl(this._imageQueueHandle),(N=this._resizeObserver)===null||N===void 0||N.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s?.loseContext&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),S.remove(this._canvasContainer),S.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cv.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,I.frame(this._frameRequest,(N=>{a.cv.frame(N),this._frameRequest=null;try{this._render(N)}catch(s){if(!a.cx(s)&&!(function(d){return d.message===Cs})(s))throw s}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(N){this._showTileBoundaries!==N&&(this._showTileBoundaries=N,this._update())}get showPadding(){return!!this._showPadding}set showPadding(N){this._showPadding!==N&&(this._showPadding=N,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(N){this._showCollisionBoxes!==N&&(this._showCollisionBoxes=N,N?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(N){this._showOverdrawInspector!==N&&(this._showOverdrawInspector=N,this._update())}get repaint(){return!!this._repaint}set repaint(N){this._repaint!==N&&(this._repaint=N,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(N){this._vertices=N,this._update()}get version(){return Wa}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(N){return this._lazyInitEmptyStyle(),this.style.setProjection(N),this._update(!0)}},c.MapMouseEvent=al,c.MapTouchEvent=ou,c.MapWheelEvent=vh,c.Marker=Di,c.NavigationControl=class{constructor(N){this._updateZoomButtons=()=>{const s=this._map.getZoom(),d=s===this._map.getMaxZoom(),_=s===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(s,d)=>{const _=this._map._getUIString(`NavigationControl.${d}`);s.title=_,s.setAttribute("aria-label",_)},this.options=a.e({},La,N),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(s=>s.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(s=>this._map.zoomIn({},{originalEvent:s}))),S.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(s=>this._map.zoomOut({},{originalEvent:s}))),S.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})})),this._compassIcon=S.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(N){return this._map=N,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ya(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(N,s){const d=S.create("button",N,this._container);return d.type="button",d.addEventListener("click",s),d}},c.Popup=class extends a.E{constructor(N){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=S.create("div","maplibregl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const B of this.options.className.split(" "))this._container.classList.add(B);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=vo(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!s)return;const d=this._flatPos=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&s?s:this._map.transform.locationToScreenPoint(this._lngLat));let _=this.options.anchor;const E=Jl(this.options.offset);if(!_){const B=this._container.offsetWidth,K=this._container.offsetHeight;let tt;tt=d.y+E.bottom.y<K?["top"]:d.y>this._map.transform.height-K?["bottom"]:[],d.x<B/2?tt.push("left"):d.x>this._map.transform.width-B/2&&tt.push("right"),_=tt.length===0?"bottom":tt.join("-")}let L=d.add(E[_]);this.options.subpixelPositioning||(L=L.round()),S.setTransform(this._container,`${es[_]} translate(${L.x}px,${L.y}px)`),la(this._container,_,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Ql),N)}addTo(N){return this._map&&this.remove(),this._map=N,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(N){return this._lngLat=a.S.convert(N),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(N){return this.setDOMContent(document.createTextNode(N))}setHTML(N){const s=document.createDocumentFragment(),d=document.createElement("body");let _;for(d.innerHTML=N;_=d.firstChild,_;)s.appendChild(_);return this.setDOMContent(s)}getMaxWidth(){var N;return(N=this._container)===null||N===void 0?void 0:N.style.maxWidth}setMaxWidth(N){return this.options.maxWidth=N,this._update(),this}setDOMContent(N){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(N),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(N){return this._container&&this._container.classList.add(N),this}removeClassName(N){return this._container&&this._container.classList.remove(N),this}setOffset(N){return this.options.offset=N,this._update(),this}toggleClassName(N){if(this._container)return this._container.classList.toggle(N)}setSubpixelPositioning(N){this.options.subpixelPositioning=N}_createCloseButton(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const N=this._container.querySelector(lu);N&&N.focus()}},c.RasterDEMTileSource=vr,c.RasterTileSource=$r,c.ScaleControl=class{constructor(N){this._onMove=()=>{_i(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,_i(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},bi),N)}getDefaultPosition(){return"bottom-left"}onAdd(N){return this._map=N,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale",N.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},c.ScrollZoomHandler=Sn,c.Style=Ul,c.TerrainControl=class{constructor(N){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=N}onAdd(N){return this._map=N,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=S.create("button","maplibregl-ctrl-terrain",this._container),S.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){S.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},c.TwoFingersTouchPitchHandler=hr,c.TwoFingersTouchRotateHandler=Nr,c.TwoFingersTouchZoomHandler=Te,c.TwoFingersTouchZoomRotateHandler=Ea,c.VectorTileSource=Jt,c.VideoSource=Mr,c.addSourceType=(N,s)=>a._(void 0,void 0,void 0,(function*(){if(Pr(N))throw new Error(`A source type called "${N}" already exists.`);((d,_)=>{Rr[d]=_})(N,s)})),c.clearPrewarmedResources=function(){const N=Tt;N&&(N.isPreloaded()&&N.numActive()===1?(N.release(jt),Tt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},c.createTileMesh=_c,c.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},c.getRTLTextPluginStatus=function(){return Or().getRTLTextPluginStatus()},c.getVersion=function(){return Qs},c.getWorkerCount=function(){return _t.workerCount},c.getWorkerUrl=function(){return a.a.WORKER_URL},c.importScriptInWorkers=function(N){return ie().broadcast("IS",N)},c.prewarm=function(){Rt().acquire(jt)},c.setMaxParallelImageRequests=function(N){a.a.MAX_PARALLEL_IMAGE_REQUESTS=N},c.setRTLTextPlugin=function(N,s){return Or().setRTLTextPlugin(N,s)},c.setWorkerCount=function(N){_t.workerCount=N},c.setWorkerUrl=function(N){a.a.WORKER_URL=N}}));var o=r;return o}))})(HN)),HN.exports}var Btt=Dtt();class ztt{registeredElements;baseLayers;firstSymbolLayer;eventHandlers;wrapper;initRegisteredElements;addNativeMaplibreFunctionsAndProps;map;style;styleJson;addSource;addControl;on;cleanup;constructor(e){const r=this;this.registeredElements={},this.baseLayers=[],this.firstSymbolLayer=void 0,this.eventHandlers={layerchange:[],viewportchange:[],addsource:[],addlayer:[]},this.wrapper={on:(n,i,o,c)=>{if(!r.eventHandlers[n])return;typeof o=="string"&&(c=o,o={}),r.eventHandlers[n].push({handler:i,options:o});const a=[n,i];c&&typeof c=="string"&&(r.initRegisteredElements(c),r.registeredElements[c].wrapperEvents.push(a))},off:(n,i)=>{r.eventHandlers[n]&&(r.eventHandlers[n]=r.eventHandlers[n].filter(o=>Object.is(o.handler,i)?!1:o))},fire:(n,i)=>{if(!r.eventHandlers[n])return;const o=i||window,c=new Event(n);r.eventHandlers[n].forEach(function(a){a.handler.call(o,c,r,i)})},layerState:[],layerStateString:"",oldLayerStateStrings:{},buildLayerObject:n=>{if(n)return{id:n.id,type:n.type,visible:n.visibility!=="none",baseLayer:r.baseLayers.indexOf(n.id)!==-1}},buildLayerObjects:()=>r.map.style._order.map(n=>r.wrapper.buildLayerObject(r.map.style._layers[n])).filter(n=>typeof n<"u"),refreshLayerState:()=>{r.wrapper.layerState=r.wrapper.buildLayerObjects(),JSON.stringify(r.wrapper.layerState)!==r.wrapper.layerStateString&&(r.wrapper.fire("layerchange"),r.wrapper.layerStateString=JSON.stringify(r.wrapper.layerState))},viewportState:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},viewportStateString:"{}",oldViewportStateString:"{}",getViewport:()=>typeof r.map.getCenter=="function"?{center:(({lng:n,lat:i})=>({lng:n,lat:i}))(r.map.getCenter()),zoom:r.map.getZoom(),bearing:r.map.getBearing(),pitch:r.map.getPitch()}:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},refreshViewport:()=>{r.wrapper.viewportState=r.wrapper.getViewport()}},this.cancelled=!1,this.initRegisteredElements=(n,i)=>{(typeof r.registeredElements[n]>"u"||typeof i<"u"&&i)&&(r.registeredElements[n]={layers:[],sources:[],images:[],events:[],controls:[],wrapperEvents:[]})},this.addLayer=(n,i,o)=>r.map.style?(o&&typeof o=="string"&&typeof n.id<"u"&&(r.initRegisteredElements(o),r.registeredElements[o].layers.push(n.id),n?.source&&typeof n?.source!="string"&&r.registeredElements[o].sources.push(n.id)),r.map.addLayer(n,i),r.wrapper.fire("addlayer",{layer_id:n.id}),this):this,this.addSource=(n,i,o)=>r.map.style?(o&&typeof o=="string"&&typeof n<"u"&&(r.initRegisteredElements(o),r.registeredElements[o].sources.push(n)),r.map.addSource(n,i),r.wrapper.fire("addsource",{source_id:n}),this):this,this.addImage=(n,i,o,c)=>r.map.style?typeof o=="string"&&typeof c>"u"?r.addImage(n,i,void 0,o):(c&&typeof c=="string"&&typeof n<"u"&&(r.initRegisteredElements(c),r.registeredElements[c].images.push(n)),r.map.addImage(n,i,o),this):this,this.on=(n,i,o,c)=>{if(typeof o=="string"&&typeof i=="function")return r.on.call(r,n,void 0,i,o);let a=[n,i,o];return i||(a=[n,o]),c&&typeof c=="string"&&(r.initRegisteredElements(c),r.registeredElements[c].events.push(a)),r.map.on(...a),this},this.addControl=(n,i,o)=>(o&&typeof o=="string"&&(r.initRegisteredElements(o),r.registeredElements[o].controls.push(n)),r.map.addControl(n,i),this),this.cleanup=n=>{r.map.style&&typeof r.registeredElements[n]<"u"&&(r.registeredElements[n].layers.forEach(i=>{r.map.style.getLayer(i)&&r.map.style.removeLayer(i)}),r.registeredElements[n].sources.forEach(i=>{r.map.style.getSource(i)&&r.map.style.removeSource(i)}),r.registeredElements[n].images.forEach(i=>{r.map.hasImage(i)&&r.map.style.removeImage(i)}),r.registeredElements[n].events.forEach(i=>{r.map.off(...i)}),r.registeredElements[n].controls.forEach(i=>{r.map.removeControl(i)}),r.registeredElements[n].wrapperEvents.forEach(i=>{r.wrapper.off(...i)}),r.initRegisteredElements(n,!0))},["moveLayer","removeLayer","removeSource","setPaintProperty","setLayoutProperty"].forEach(n=>{this[n]=(...i)=>(r.map&&r.map.style&&typeof r.map.style[n]=="function"&&r.map.style[n](...i),r.map._update?r.map._update(!0):void 0)}),["getLayer","getSource","listImages","getPaintProperty","getLayoutProperty","removeImage"].forEach(n=>{this[n]=(...i)=>r.map&&r.map.style?r.map.style[n](...i):!1}),this.addNativeMaplibreFunctionsAndProps=()=>{Object.getOwnPropertyNames(Object.getPrototypeOf(this.map)).forEach(n=>{typeof this[n]>"u"&&(this[n]=(...i)=>r.map[n](...i))}),Object.keys(this.map).forEach(n=>{typeof this[n]>"u"&&(this[n]=r.map[n])})},["getZoom","setZoom","getCenter","setCenter","getBearing","setBearing","getPitch","setPitch","jumpTo","flyTo","panTo","panBy","panBy","zoomTo","zoomIn","zoomOut","getPadding","setPadding","rotateTo","resetNorth","resetNorthPitch","snapToNorth","cameraForBounds","fitBounds","fitScreenCoordinates","getFreeCameraOptions","setFreeCameraOptions","easeTo","stop"].forEach(n=>{this[n]=(...i)=>{if(typeof r.map[n]=="function")return r.map[n].call(r.map,...i)}}),(async()=>(typeof e.mapOptions.style=="string"&&e.mapOptions.style.indexOf("mapbox://")===-1&&await fetch(e.mapOptions.style).then(n=>{if(n.ok)return n.json();throw new Error("error loading map style.json")}).then(n=>{n.layers.forEach(i=>{r.baseLayers.push(i.id),!r.firstSymbolLayer&&i.type==="symbol"&&(r.firstSymbolLayer=i.id)}),r.styleJson=n,e.mapOptions.style=n}).catch(n=>{console.log(n)}),r.map=new Btt.Map(e.mapOptions),r.addNativeMaplibreFunctionsAndProps(),r.wrapper.refreshViewport(),r.wrapper.fire("viewportchange"),r.map.on("load",()=>{r.addNativeMaplibreFunctionsAndProps()}),r.map.on("move",()=>{r.wrapper.viewportState=r.wrapper.getViewport(),r.wrapper.fire("viewportchange")}),r.map.on("idle",()=>{r.wrapper.refreshLayerState()}),r.map.on("data",()=>{r.wrapper.refreshLayerState()}),typeof e.onReady=="function"&&e.onReady(r.map,r)))()}}var TD={exports:{}},A1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD;function Ftt(){if(CD)return A1;CD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:t,type:n,key:c,ref:i!==void 0?i:null,props:o}}return A1.Fragment=e,A1.jsx=r,A1.jsxs=r,A1}var AD;function jtt(){return AD||(AD=1,TD.exports=Ftt()),TD.exports}var yr=jtt();function xg(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const vp="$$material";function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tT.apply(null,arguments)}function $tt(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Vtt(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Utt=(function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Vtt(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=$tt(n);try{i.insertRule(r,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var n;return(n=r.parentNode)==null?void 0:n.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Rh="-ms-",eT="-moz-",ms="-webkit-",uU="comm",UM="rule",qM="decl",qtt="@import",hU="@keyframes",Gtt="@layer",Htt=Math.abs,TC=String.fromCharCode,Xtt=Object.assign;function Wtt(t,e){return sh(t,0)^45?(((e<<2^sh(t,0))<<2^sh(t,1))<<2^sh(t,2))<<2^sh(t,3):0}function dU(t){return t.trim()}function Ytt(t,e){return(t=e.exec(t))?t[0]:t}function ys(t,e,r){return t.replace(e,r)}function XN(t,e){return t.indexOf(e)}function sh(t,e){return t.charCodeAt(e)|0}function tw(t,e,r){return t.slice(e,r)}function cm(t){return t.length}function GM(t){return t.length}function c5(t,e){return e.push(t),t}function Ktt(t,e){return t.map(e).join("")}var CC=1,q_=1,fU=0,vd=0,pu=0,px="";function AC(t,e,r,n,i,o,c){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:CC,column:q_,length:c,return:""}}function k1(t,e){return Xtt(AC("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ztt(){return pu}function Qtt(){return pu=vd>0?sh(px,--vd):0,q_--,pu===10&&(q_=1,CC--),pu}function Qd(){return pu=vd<fU?sh(px,vd++):0,q_++,pu===10&&(q_=1,CC++),pu}function Am(){return sh(px,vd)}function hE(){return vd}function Pw(t,e){return tw(px,t,e)}function ew(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pU(t){return CC=q_=1,fU=cm(px=t),vd=0,[]}function mU(t){return px="",t}function dE(t){return dU(Pw(vd-1,WN(t===91?t+2:t===40?t+1:t)))}function Jtt(t){for(;(pu=Am())&&pu<33;)Qd();return ew(t)>2||ew(pu)>3?"":" "}function tet(t,e){for(;--e&&Qd()&&!(pu<48||pu>102||pu>57&&pu<65||pu>70&&pu<97););return Pw(t,hE()+(e<6&&Am()==32&&Qd()==32))}function WN(t){for(;Qd();)switch(pu){case t:return vd;case 34:case 39:t!==34&&t!==39&&WN(pu);break;case 40:t===41&&WN(t);break;case 92:Qd();break}return vd}function eet(t,e){for(;Qd()&&t+pu!==57&&!(t+pu===84&&Am()===47););return"/*"+Pw(e,vd-1)+"*"+TC(t===47?t:Qd())}function ret(t){for(;!ew(Am());)Qd();return Pw(t,vd)}function net(t){return mU(fE("",null,null,null,[""],t=pU(t),0,[0],t))}function fE(t,e,r,n,i,o,c,a,g){for(var v=0,x=0,k=c,I=0,S=0,P=0,D=1,U=1,H=1,G=0,z="",j=i,X=o,Y=n,et=z;U;)switch(P=G,G=Qd()){case 40:if(P!=108&&sh(et,k-1)==58){XN(et+=ys(dE(G),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:et+=dE(G);break;case 9:case 10:case 13:case 32:et+=Jtt(P);break;case 92:et+=tet(hE()-1,7);continue;case 47:switch(Am()){case 42:case 47:c5(iet(eet(Qd(),hE()),e,r),g);break;default:et+="/"}break;case 123*D:a[v++]=cm(et)*H;case 125*D:case 59:case 0:switch(G){case 0:case 125:U=0;case 59+x:H==-1&&(et=ys(et,/\f/g,"")),S>0&&cm(et)-k&&c5(S>32?ID(et+";",n,r,k-1):ID(ys(et," ","")+";",n,r,k-2),g);break;case 59:et+=";";default:if(c5(Y=kD(et,e,r,v,x,i,a,z,j=[],X=[],k),o),G===123)if(x===0)fE(et,e,Y,Y,j,o,k,a,X);else switch(I===99&&sh(et,3)===110?100:I){case 100:case 108:case 109:case 115:fE(t,Y,Y,n&&c5(kD(t,Y,Y,0,0,i,a,z,i,j=[],k),X),i,X,k,a,n?j:X);break;default:fE(et,Y,Y,Y,[""],X,0,a,X)}}v=x=S=0,D=H=1,z=et="",k=c;break;case 58:k=1+cm(et),S=P;default:if(D<1){if(G==123)--D;else if(G==125&&D++==0&&Qtt()==125)continue}switch(et+=TC(G),G*D){case 38:H=x>0?1:(et+="\f",-1);break;case 44:a[v++]=(cm(et)-1)*H,H=1;break;case 64:Am()===45&&(et+=dE(Qd())),I=Am(),x=k=cm(z=et+=ret(hE())),G++;break;case 45:P===45&&cm(et)==2&&(D=0)}}return o}function kD(t,e,r,n,i,o,c,a,g,v,x){for(var k=i-1,I=i===0?o:[""],S=GM(I),P=0,D=0,U=0;P<n;++P)for(var H=0,G=tw(t,k+1,k=Htt(D=c[P])),z=t;H<S;++H)(z=dU(D>0?I[H]+" "+G:ys(G,/&\f/g,I[H])))&&(g[U++]=z);return AC(t,e,r,i===0?UM:a,g,v,x)}function iet(t,e,r){return AC(t,e,r,uU,TC(Ztt()),tw(t,2,-2),0)}function ID(t,e,r,n){return AC(t,e,r,qM,tw(t,0,n),tw(t,n+1,-1),n)}function A_(t,e){for(var r="",n=GM(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function aet(t,e,r,n){switch(t.type){case Gtt:if(t.children.length)break;case qtt:case qM:return t.return=t.return||t.value;case uU:return"";case hU:return t.return=t.value+"{"+A_(t.children,n)+"}";case UM:t.value=t.props.join(",")}return cm(r=A_(t.children,n))?t.return=t.value+"{"+r+"}":""}function oet(t){var e=GM(t);return function(r,n,i,o){for(var c="",a=0;a<e;a++)c+=t[a](r,n,i,o)||"";return c}}function set(t){return function(e){e.root||(e=e.return)&&t(e)}}function gU(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var cet=function(t,e,r){for(var n=0,i=0;n=i,i=Am(),n===38&&i===12&&(e[r]=1),!ew(i);)Qd();return Pw(t,vd)},uet=function(t,e){var r=-1,n=44;do switch(ew(n)){case 0:n===38&&Am()===12&&(e[r]=1),t[r]+=cet(vd-1,e,r);break;case 2:t[r]+=dE(n);break;case 4:if(n===44){t[++r]=Am()===58?"&\f":"",e[r]=t[r].length;break}default:t[r]+=TC(n)}while(n=Qd());return t},het=function(t,e){return mU(uet(pU(t),e))},RD=new WeakMap,det=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,r=t.parent,n=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!RD.get(r))&&!n){RD.set(t,!0);for(var i=[],o=het(e,i),c=r.props,a=0,g=0;a<o.length;a++)for(var v=0;v<c.length;v++,g++)t.props[g]=i[a]?o[a].replace(/&\f/g,c[v]):c[v]+" "+o[a]}}},fet=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function yU(t,e){switch(Wtt(t,e)){case 5103:return ms+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ms+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ms+t+eT+t+Rh+t+t;case 6828:case 4268:return ms+t+Rh+t+t;case 6165:return ms+t+Rh+"flex-"+t+t;case 5187:return ms+t+ys(t,/(\w+).+(:[^]+)/,ms+"box-$1$2"+Rh+"flex-$1$2")+t;case 5443:return ms+t+Rh+"flex-item-"+ys(t,/flex-|-self/,"")+t;case 4675:return ms+t+Rh+"flex-line-pack"+ys(t,/align-content|flex-|-self/,"")+t;case 5548:return ms+t+Rh+ys(t,"shrink","negative")+t;case 5292:return ms+t+Rh+ys(t,"basis","preferred-size")+t;case 6060:return ms+"box-"+ys(t,"-grow","")+ms+t+Rh+ys(t,"grow","positive")+t;case 4554:return ms+ys(t,/([^-])(transform)/g,"$1"+ms+"$2")+t;case 6187:return ys(ys(ys(t,/(zoom-|grab)/,ms+"$1"),/(image-set)/,ms+"$1"),t,"")+t;case 5495:case 3959:return ys(t,/(image-set\([^]*)/,ms+"$1$`$1");case 4968:return ys(ys(t,/(.+:)(flex-)?(.*)/,ms+"box-pack:$3"+Rh+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ms+t+t;case 4095:case 3583:case 4068:case 2532:return ys(t,/(.+)-inline(.+)/,ms+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cm(t)-1-e>6)switch(sh(t,e+1)){case 109:if(sh(t,e+4)!==45)break;case 102:return ys(t,/(.+:)(.+)-([^]+)/,"$1"+ms+"$2-$3$1"+eT+(sh(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~XN(t,"stretch")?yU(ys(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sh(t,e+1)!==115)break;case 6444:switch(sh(t,cm(t)-3-(~XN(t,"!important")&&10))){case 107:return ys(t,":",":"+ms)+t;case 101:return ys(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ms+(sh(t,14)===45?"inline-":"")+"box$3$1"+ms+"$2$3$1"+Rh+"$2box$3")+t}break;case 5936:switch(sh(t,e+11)){case 114:return ms+t+Rh+ys(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ms+t+Rh+ys(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ms+t+Rh+ys(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ms+t+Rh+t+t}return t}var pet=function(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case qM:t.return=yU(t.value,t.length);break;case hU:return A_([k1(t,{value:ys(t.value,"@","@"+ms)})],n);case UM:if(t.length)return Ktt(t.props,function(i){switch(Ytt(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return A_([k1(t,{props:[ys(i,/:(read-\w+)/,":"+eT+"$1")]})],n);case"::placeholder":return A_([k1(t,{props:[ys(i,/:(plac\w+)/,":"+ms+"input-$1")]}),k1(t,{props:[ys(i,/:(plac\w+)/,":"+eT+"$1")]}),k1(t,{props:[ys(i,/:(plac\w+)/,Rh+"input-$1")]})],n)}return""})}},met=[pet],get=function(t){var e=t.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var D=P.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var n=t.stylisPlugins||met,i={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(P){for(var D=P.getAttribute("data-emotion").split(" "),U=1;U<D.length;U++)i[D[U]]=!0;c.push(P)});var a,g=[det,fet];{var v,x=[aet,set(function(P){v.insert(P)})],k=oet(g.concat(n,x)),I=function(P){return A_(net(P),k)};a=function(P,D,U,H){v=U,I(P?P+"{"+D.styles+"}":D.styles),H&&(S.inserted[D.name]=!0)}}var S={key:e,sheet:new Utt({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:a};return S.sheet.hydrate(c),S},ND={exports:{}},ks={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD;function yet(){if(LD)return ks;LD=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,g=t?Symbol.for("react.async_mode"):60111,v=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,k=t?Symbol.for("react.suspense"):60113,I=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,P=t?Symbol.for("react.lazy"):60116,D=t?Symbol.for("react.block"):60121,U=t?Symbol.for("react.fundamental"):60117,H=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function z(X){if(typeof X=="object"&&X!==null){var Y=X.$$typeof;switch(Y){case e:switch(X=X.type,X){case g:case v:case n:case o:case i:case k:return X;default:switch(X=X&&X.$$typeof,X){case a:case x:case P:case S:case c:return X;default:return Y}}case r:return Y}}}function j(X){return z(X)===v}return ks.AsyncMode=g,ks.ConcurrentMode=v,ks.ContextConsumer=a,ks.ContextProvider=c,ks.Element=e,ks.ForwardRef=x,ks.Fragment=n,ks.Lazy=P,ks.Memo=S,ks.Portal=r,ks.Profiler=o,ks.StrictMode=i,ks.Suspense=k,ks.isAsyncMode=function(X){return j(X)||z(X)===g},ks.isConcurrentMode=j,ks.isContextConsumer=function(X){return z(X)===a},ks.isContextProvider=function(X){return z(X)===c},ks.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},ks.isForwardRef=function(X){return z(X)===x},ks.isFragment=function(X){return z(X)===n},ks.isLazy=function(X){return z(X)===P},ks.isMemo=function(X){return z(X)===S},ks.isPortal=function(X){return z(X)===r},ks.isProfiler=function(X){return z(X)===o},ks.isStrictMode=function(X){return z(X)===i},ks.isSuspense=function(X){return z(X)===k},ks.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===n||X===v||X===o||X===i||X===k||X===I||typeof X=="object"&&X!==null&&(X.$$typeof===P||X.$$typeof===S||X.$$typeof===c||X.$$typeof===a||X.$$typeof===x||X.$$typeof===U||X.$$typeof===H||X.$$typeof===G||X.$$typeof===D)},ks.typeOf=z,ks}var MD;function vet(){return MD||(MD=1,ND.exports=yet()),ND.exports}var xk,PD;function bet(){if(PD)return xk;PD=1;var t=vet(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=n,o[t.Memo]=i;function c(P){return t.isMemo(P)?i:o[P.$$typeof]||e}var a=Object.defineProperty,g=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,k=Object.getPrototypeOf,I=Object.prototype;function S(P,D,U){if(typeof D!="string"){if(I){var H=k(D);H&&H!==I&&S(P,H,U)}var G=g(D);v&&(G=G.concat(v(D)));for(var z=c(P),j=c(D),X=0;X<G.length;++X){var Y=G[X];if(!r[Y]&&!(U&&U[Y])&&!(j&&j[Y])&&!(z&&z[Y])){var et=x(D,Y);try{a(P,Y,et)}catch{}}}}return P}return xk=S,xk}bet();var _et=!0;function vU(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var HM=function(t,e,r){var n=t.key+"-"+e.name;(r===!1||_et===!1)&&t.registered[n]===void 0&&(t.registered[n]=e.styles)},XM=function(t,e,r){HM(t,e,r);var n=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+n:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function xet(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wet={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Eet=/[A-Z]|^ms/g,Tet=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bU=function(t){return t.charCodeAt(1)===45},OD=function(t){return t!=null&&typeof t!="boolean"},wk=gU(function(t){return bU(t)?t:t.replace(Eet,"-$&").toLowerCase()}),DD=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(Tet,function(r,n,i){return um={name:n,styles:i,next:um},n})}return wet[t]!==1&&!bU(t)&&typeof e=="number"&&e!==0?e+"px":e};function rw(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return um={name:i.name,styles:i.styles,next:um},i.name;var o=r;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)um={name:c.name,styles:c.styles,next:um},c=c.next;var a=o.styles+";";return a}return Cet(t,e,r)}case"function":{if(t!==void 0){var g=um,v=r(t);return um=g,rw(t,e,v)}break}}var x=r;if(e==null)return x;var k=e[x];return k!==void 0?k:x}function Cet(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=rw(t,e,r[i])+";";else for(var o in r){var c=r[o];if(typeof c!="object"){var a=c;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":OD(a)&&(n+=wk(o)+":"+DD(o,a)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var g=0;g<c.length;g++)OD(c[g])&&(n+=wk(o)+":"+DD(o,c[g])+";");else{var v=rw(t,e,c);switch(o){case"animation":case"animationName":{n+=wk(o)+":"+v+";";break}default:n+=o+"{"+v+"}"}}}return n}var BD=/label:\s*([^\s;{]+)\s*(;|$)/g,um;function Ow(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";um=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,i+=rw(r,e,o);else{var c=o;i+=c[0]}for(var a=1;a<t.length;a++)if(i+=rw(r,e,t[a]),n){var g=o;i+=g[a]}BD.lastIndex=0;for(var v="",x;(x=BD.exec(i))!==null;)v+="-"+x[1];var k=xet(i)+v;return{name:k,styles:i,next:um}}var Aet=function(t){return t()},_U=ut.useInsertionEffect?ut.useInsertionEffect:!1,xU=_U||Aet,zD=_U||ut.useLayoutEffect,wU=ut.createContext(typeof HTMLElement<"u"?get({key:"css"}):null);wU.Provider;var WM=function(t){return ut.forwardRef(function(e,r){var n=ut.useContext(wU);return t(e,n,r)})},Dw=ut.createContext({}),YM={}.hasOwnProperty,YN="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ket=function(t,e){var r={};for(var n in e)YM.call(e,n)&&(r[n]=e[n]);return r[YN]=t,r},Iet=function(t){var e=t.cache,r=t.serialized,n=t.isStringTag;return HM(e,r,n),xU(function(){return XM(e,r,n)}),null},Ret=WM(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[YN],o=[n],c="";typeof t.className=="string"?c=vU(e.registered,o,t.className):t.className!=null&&(c=t.className+" ");var a=Ow(o,void 0,ut.useContext(Dw));c+=e.key+"-"+a.name;var g={};for(var v in t)YM.call(t,v)&&v!=="css"&&v!==YN&&(g[v]=t[v]);return g.className=c,r&&(g.ref=r),ut.createElement(ut.Fragment,null,ut.createElement(Iet,{cache:e,serialized:a,isStringTag:typeof i=="string"}),ut.createElement(i,g))}),Net=Ret,FD=function(t,e){var r=arguments;if(e==null||!YM.call(e,"css"))return ut.createElement.apply(void 0,r);var n=r.length,i=new Array(n);i[0]=Net,i[1]=ket(t,e);for(var o=2;o<n;o++)i[o]=r[o];return ut.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(FD||(FD={}));var Let=WM(function(t,e){var r=t.styles,n=Ow([r],void 0,ut.useContext(Dw)),i=ut.useRef();return zD(function(){var o=e.key+"-global",c=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,g=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(c.before=e.sheet.tags[0]),g!==null&&(a=!0,g.setAttribute("data-emotion",o),c.hydrate([g])),i.current=[c,a],function(){c.flush()}},[e]),zD(function(){var o=i.current,c=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&XM(e,n.next,!0),c.tags.length){var g=c.tags[c.tags.length-1].nextElementSibling;c.before=g,c.flush()}e.insert("",n,c,!1)},[e,n.name]),null});function KM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ow(e)}function Bw(){var t=KM.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Met=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Pet=gU(function(t){return Met.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Oet=Pet,Det=function(t){return t!=="theme"},jD=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Oet:Det},$D=function(t,e,r){var n;if(e){var i=e.shouldForwardProp;n=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof n!="function"&&r&&(n=t.__emotion_forwardProp),n},Bet=function(t){var e=t.cache,r=t.serialized,n=t.isStringTag;return HM(e,r,n),xU(function(){return XM(e,r,n)}),null},zet=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,c;r!==void 0&&(o=r.label,c=r.target);var a=$D(e,r,n),g=a||jD(i),v=!g("as");return function(){var x=arguments,k=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&k.push("label:"+o+";"),x[0]==null||x[0].raw===void 0)k.push.apply(k,x);else{var I=x[0];k.push(I[0]);for(var S=x.length,P=1;P<S;P++)k.push(x[P],I[P])}var D=WM(function(U,H,G){var z=v&&U.as||i,j="",X=[],Y=U;if(U.theme==null){Y={};for(var et in U)Y[et]=U[et];Y.theme=ut.useContext(Dw)}typeof U.className=="string"?j=vU(H.registered,X,U.className):U.className!=null&&(j=U.className+" ");var st=Ow(k.concat(X),H.registered,Y);j+=H.key+"-"+st.name,c!==void 0&&(j+=" "+c);var it=v&&a===void 0?jD(z):g,vt={};for(var at in U)v&&at==="as"||it(at)&&(vt[at]=U[at]);return vt.className=j,G&&(vt.ref=G),ut.createElement(ut.Fragment,null,ut.createElement(Bet,{cache:H,serialized:st,isStringTag:typeof z=="string"}),ut.createElement(z,vt))});return D.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",D.defaultProps=e.defaultProps,D.__emotion_real=D,D.__emotion_base=i,D.__emotion_styles=k,D.__emotion_forwardProp=a,Object.defineProperty(D,"toString",{value:function(){return"."+c}}),D.withComponent=function(U,H){var G=t(U,tT({},r,H,{shouldForwardProp:$D(D,H,!0)}));return G.apply(void 0,k)},D}},Fet=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],KN=zet.bind(null);Fet.forEach(function(t){KN[t]=KN(t)});var Sk={exports:{}},Ek,VD;function jet(){if(VD)return Ek;VD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ek=t,Ek}var Tk,UD;function $et(){if(UD)return Tk;UD=1;var t=jet();function e(){}function r(){}return r.resetWarningCache=e,Tk=function(){function n(c,a,g,v,x,k){if(k!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Tk}var qD;function Vet(){return qD||(qD=1,Sk.exports=$et()()),Sk.exports}var Uet=Vet();const Fn=Mw(Uet);function qet(t){return t==null||Object.keys(t).length===0}function SU(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(qet(i)?r:i):e;return yr.jsx(Let,{styles:n})}/**
 * @mui/styled-engine v7.3.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function EU(t,e){return KN(t,e)}function Get(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const GD=[];function yy(t){return GD[0]=t,Ow(GD)}var HD={exports:{}},tl={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function Het(){if(XD)return tl;XD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function P(D){if(typeof D=="object"&&D!==null){var U=D.$$typeof;switch(U){case t:switch(D=D.type,D){case r:case i:case n:case g:case v:case I:return D;default:switch(D=D&&D.$$typeof,D){case c:case a:case k:case x:return D;case o:return D;default:return U}}case e:return U}}}return tl.ContextConsumer=o,tl.ContextProvider=c,tl.Element=t,tl.ForwardRef=a,tl.Fragment=r,tl.Lazy=k,tl.Memo=x,tl.Portal=e,tl.Profiler=i,tl.StrictMode=n,tl.Suspense=g,tl.SuspenseList=v,tl.isContextConsumer=function(D){return P(D)===o},tl.isContextProvider=function(D){return P(D)===c},tl.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},tl.isForwardRef=function(D){return P(D)===a},tl.isFragment=function(D){return P(D)===r},tl.isLazy=function(D){return P(D)===k},tl.isMemo=function(D){return P(D)===x},tl.isPortal=function(D){return P(D)===e},tl.isProfiler=function(D){return P(D)===i},tl.isStrictMode=function(D){return P(D)===n},tl.isSuspense=function(D){return P(D)===g},tl.isSuspenseList=function(D){return P(D)===v},tl.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===i||D===n||D===g||D===v||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===x||D.$$typeof===c||D.$$typeof===o||D.$$typeof===a||D.$$typeof===S||D.getModuleId!==void 0)},tl.typeOf=P,tl}var WD;function Xet(){return WD||(WD=1,HD.exports=Het()),HD.exports}var TU=Xet();function fm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function CU(t){if(ut.isValidElement(t)||TU.isValidElementType(t)||!fm(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=CU(t[r])}),e}function Lh(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return fm(t)&&fm(e)&&Object.keys(e).forEach(i=>{ut.isValidElement(e[i])||TU.isValidElementType(e[i])?n[i]=e[i]:fm(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&fm(t[i])?n[i]=Lh(t[i],e[i],r):r.clone?n[i]=fm(e[i])?CU(e[i]):e[i]:n[i]=e[i]}),n}const Wet=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function Yet(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,o=Wet(e),c=Object.keys(o);function a(I){return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${r})`}function g(I){return`@media (max-width:${(typeof e[I]=="number"?e[I]:I)-n/100}${r})`}function v(I,S){const P=c.indexOf(S);return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${r}) and (max-width:${(P!==-1&&typeof e[c[P]]=="number"?e[c[P]]:S)-n/100}${r})`}function x(I){return c.indexOf(I)+1<c.length?v(I,c[c.indexOf(I)+1]):a(I)}function k(I){const S=c.indexOf(I);return S===0?a(c[1]):S===c.length-1?g(c[S]):v(I,c[c.indexOf(I)+1]).replace("@media","@media not all and")}return{keys:c,values:o,up:a,down:g,between:v,only:x,not:k,unit:r,...i}}function YD(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(n.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return r.length?r.reduce((n,i)=>{const o=e[i];return delete n[i],n[i]=o,n},{...e}):e}function Ket(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function Zet(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(o)}function Qet(t){const e=(o,c)=>o.replace("@media",c?`@container ${c}`:"@container");function r(o,c){o.up=(...a)=>e(t.breakpoints.up(...a),c),o.down=(...a)=>e(t.breakpoints.down(...a),c),o.between=(...a)=>e(t.breakpoints.between(...a),c),o.only=(...a)=>e(t.breakpoints.only(...a),c),o.not=(...a)=>{const g=e(t.breakpoints.not(...a),c);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const n={},i=o=>(r(n,o),n);return r(i),{...t,containerQueries:i}}const Jet={borderRadius:4};function L2(t,e){return e?Lh(t,e,{clone:!1}):t}const kC={xs:0,sm:600,md:900,lg:1200,xl:1536},KD={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${kC[t]}px)`},trt={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:kC[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function wg(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const i=n.breakpoints||KD;return e.reduce((o,c,a)=>(o[i.up(i.keys[a])]=r(e[a]),o),{})}if(typeof e=="object"){const i=n.breakpoints||KD;return Object.keys(e).reduce((o,c)=>{if(Ket(i.keys,c)){const a=Zet(n.containerQueries?n:trt,c);a&&(o[a]=r(e[c],c))}else if(Object.keys(i.values||kC).includes(c)){const a=i.up(c);o[a]=r(e[c],c)}else{const a=c;o[a]=e[a]}return o},{})}return r(e)}function ert(t={}){return t.keys?.reduce((e,r)=>{const n=t.up(r);return e[n]={},e},{})||{}}function ZD(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function Jn(t){if(typeof t!="string")throw new Error(xg(7));return t.charAt(0).toUpperCase()+t.slice(1)}function IC(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function rT(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=IC(t,r)||n,e&&(i=e(i,n,t)),i}function eu(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,o=c=>{if(c[e]==null)return null;const a=c[e],g=c.theme,v=IC(g,n)||{};return wg(c,a,x=>{let k=rT(v,i,x);return x===k&&typeof x=="string"&&(k=rT(v,i,`${e}${x==="default"?"":Jn(x)}`,x)),r===!1?k:{[r]:k}})};return o.propTypes={},o.filterProps=[e],o}function rrt(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const nrt={m:"margin",p:"padding"},irt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},QD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},art=rrt(t=>{if(t.length>2)if(QD[t])t=QD[t];else return[t];const[e,r]=t.split(""),n=nrt[e],i=irt[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),ZM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],QM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ZM,...QM];function zw(t,e,r,n){const i=IC(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),a=i[c];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:(()=>{})}function JM(t){return zw(t,"spacing",8)}function Fw(t,e){return typeof e=="string"||e==null?e:t(e)}function ort(t,e){return r=>t.reduce((n,i)=>(n[i]=Fw(e,r),n),{})}function srt(t,e,r,n){if(!e.includes(r))return null;const i=art(r),o=ort(i,n),c=t[r];return wg(t,c,o)}function AU(t,e){const r=JM(t.theme);return Object.keys(t).map(n=>srt(t,e,n,r)).reduce(L2,{})}function Oc(t){return AU(t,ZM)}Oc.propTypes={};Oc.filterProps=ZM;function Dc(t){return AU(t,QM)}Dc.propTypes={};Dc.filterProps=QM;function kU(t=8,e=JM({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function RC(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>e[o]?L2(i,e[o](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function xf(t){return typeof t!="number"?t:`${t}px solid`}function Vf(t,e){return eu({prop:t,themeKey:"borders",transform:e})}const lrt=Vf("border",xf),crt=Vf("borderTop",xf),urt=Vf("borderRight",xf),hrt=Vf("borderBottom",xf),drt=Vf("borderLeft",xf),frt=Vf("borderColor"),prt=Vf("borderTopColor"),mrt=Vf("borderRightColor"),grt=Vf("borderBottomColor"),yrt=Vf("borderLeftColor"),vrt=Vf("outline",xf),brt=Vf("outlineColor"),NC=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=zw(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Fw(e,n)});return wg(t,t.borderRadius,r)}return null};NC.propTypes={};NC.filterProps=["borderRadius"];RC(lrt,crt,urt,hrt,drt,frt,prt,mrt,grt,yrt,NC,vrt,brt);const LC=t=>{if(t.gap!==void 0&&t.gap!==null){const e=zw(t.theme,"spacing",8),r=n=>({gap:Fw(e,n)});return wg(t,t.gap,r)}return null};LC.propTypes={};LC.filterProps=["gap"];const MC=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=zw(t.theme,"spacing",8),r=n=>({columnGap:Fw(e,n)});return wg(t,t.columnGap,r)}return null};MC.propTypes={};MC.filterProps=["columnGap"];const PC=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=zw(t.theme,"spacing",8),r=n=>({rowGap:Fw(e,n)});return wg(t,t.rowGap,r)}return null};PC.propTypes={};PC.filterProps=["rowGap"];const _rt=eu({prop:"gridColumn"}),xrt=eu({prop:"gridRow"}),wrt=eu({prop:"gridAutoFlow"}),Srt=eu({prop:"gridAutoColumns"}),Ert=eu({prop:"gridAutoRows"}),Trt=eu({prop:"gridTemplateColumns"}),Crt=eu({prop:"gridTemplateRows"}),Art=eu({prop:"gridTemplateAreas"}),krt=eu({prop:"gridArea"});RC(LC,MC,PC,_rt,xrt,wrt,Srt,Ert,Trt,Crt,Art,krt);function k_(t,e){return e==="grey"?e:t}const Irt=eu({prop:"color",themeKey:"palette",transform:k_}),Rrt=eu({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:k_}),Nrt=eu({prop:"backgroundColor",themeKey:"palette",transform:k_});RC(Irt,Rrt,Nrt);function Kd(t){return t<=1&&t!==0?`${t*100}%`:t}const Lrt=eu({prop:"width",transform:Kd}),tP=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{const n=t.theme?.breakpoints?.values?.[r]||kC[r];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Kd(r)}};return wg(t,t.maxWidth,e)}return null};tP.filterProps=["maxWidth"];const Mrt=eu({prop:"minWidth",transform:Kd}),Prt=eu({prop:"height",transform:Kd}),Ort=eu({prop:"maxHeight",transform:Kd}),Drt=eu({prop:"minHeight",transform:Kd});eu({prop:"size",cssProperty:"width",transform:Kd});eu({prop:"size",cssProperty:"height",transform:Kd});const Brt=eu({prop:"boxSizing"});RC(Lrt,tP,Mrt,Prt,Ort,Drt,Brt);const jw={border:{themeKey:"borders",transform:xf},borderTop:{themeKey:"borders",transform:xf},borderRight:{themeKey:"borders",transform:xf},borderBottom:{themeKey:"borders",transform:xf},borderLeft:{themeKey:"borders",transform:xf},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xf},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:NC},color:{themeKey:"palette",transform:k_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:k_},backgroundColor:{themeKey:"palette",transform:k_},p:{style:Dc},pt:{style:Dc},pr:{style:Dc},pb:{style:Dc},pl:{style:Dc},px:{style:Dc},py:{style:Dc},padding:{style:Dc},paddingTop:{style:Dc},paddingRight:{style:Dc},paddingBottom:{style:Dc},paddingLeft:{style:Dc},paddingX:{style:Dc},paddingY:{style:Dc},paddingInline:{style:Dc},paddingInlineStart:{style:Dc},paddingInlineEnd:{style:Dc},paddingBlock:{style:Dc},paddingBlockStart:{style:Dc},paddingBlockEnd:{style:Dc},m:{style:Oc},mt:{style:Oc},mr:{style:Oc},mb:{style:Oc},ml:{style:Oc},mx:{style:Oc},my:{style:Oc},margin:{style:Oc},marginTop:{style:Oc},marginRight:{style:Oc},marginBottom:{style:Oc},marginLeft:{style:Oc},marginX:{style:Oc},marginY:{style:Oc},marginInline:{style:Oc},marginInlineStart:{style:Oc},marginInlineEnd:{style:Oc},marginBlock:{style:Oc},marginBlockStart:{style:Oc},marginBlockEnd:{style:Oc},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:LC},rowGap:{style:PC},columnGap:{style:MC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kd},maxWidth:{style:tP},minWidth:{transform:Kd},height:{transform:Kd},maxHeight:{transform:Kd},minHeight:{transform:Kd},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zrt(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function Frt(t,e){return typeof t=="function"?t(e):t}function jrt(){function t(r,n,i,o){const c={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:g=r,themeKey:v,transform:x,style:k}=a;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const I=IC(i,v)||{};return k?k(c):wg(c,n,S=>{let P=rT(I,x,S);return S===P&&typeof S=="string"&&(P=rT(I,x,`${r}${S==="default"?"":Jn(S)}`,S)),g===!1?P:{[g]:P}})}function e(r){const{sx:n,theme:i={},nested:o}=r||{};if(!n)return null;const c=i.unstable_sxConfig??jw;function a(g){let v=g;if(typeof g=="function")v=g(i);else if(typeof g!="object")return g;if(!v)return null;const x=ert(i.breakpoints),k=Object.keys(x);let I=x;return Object.keys(v).forEach(S=>{const P=Frt(v[S],i);if(P!=null)if(typeof P=="object")if(c[S])I=L2(I,t(S,P,i,c));else{const D=wg({theme:i},P,U=>({[S]:U}));zrt(D,P)?I[S]=e({sx:P,theme:i,nested:!0}):I=L2(I,D)}else I=L2(I,t(S,P,i,c))}),!o&&i.modularCssLayers?{"@layer sx":YD(i,ZD(k,I))}:YD(i,ZD(k,I))}return Array.isArray(n)?n.map(a):a(n)}return e}const _y=jrt();_y.filterProps=["sx"];function $rt(t,e){const r=this;if(r.vars){if(!r.colorSchemes?.[t]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return r.palette.mode===t?e:{}}function OC(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:o={},...c}=t,a=Yet(r),g=kU(i);let v=Lh({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:g,shape:{...Jet,...o}},c);return v=Qet(v),v.applyStyles=$rt,v=e.reduce((x,k)=>Lh(x,k),v),v.unstable_sxConfig={...jw,...c?.unstable_sxConfig},v.unstable_sx=function(x){return _y({sx:x,theme:this})},v}function Vrt(t){return Object.keys(t).length===0}function DC(t=null){const e=ut.useContext(Dw);return!e||Vrt(e)?t:e}const Urt=OC();function $w(t=Urt){return DC(t)}function JD(t){const e=yy(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function IU({styles:t,themeId:e,defaultTheme:r={}}){const n=$w(r),i=e&&n[e]||n;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(c=>JD(typeof c=="function"?c(i):c)):o=JD(o)),yr.jsx(SU,{styles:o})}const qrt=t=>{const e={systemProps:{},otherProps:{}},r=t?.theme?.unstable_sxConfig??jw;return Object.keys(t).forEach(n=>{r[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function eP(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=qrt(r);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...c)=>{const a=e(...c);return fm(a)?{...n,...a}:n}:o={...n,...e},{...i,sx:o}}const t6=t=>t,Grt=()=>{let t=t6;return{configure(e){t=e},generate(e){return t(e)},reset(){t=t6}}},rP=Grt();function RU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=RU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pa(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=RU(t))&&(n&&(n+=" "),n+=e);return n}function NU(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,o=EU("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(_y);return ut.forwardRef(function(c,a){const g=$w(r),{className:v,component:x="div",...k}=eP(c);return yr.jsx(o,{as:x,ref:a,className:pa(v,i?i(n):n),theme:e&&g[e]||g,...k})})}const Hrt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function bs(t,e,r="Mui"){const n=Hrt[e];return n?`${r}-${n}`:`${rP.generate(t)}-${e}`}function Ei(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=bs(t,i,r)}),n}const Xrt=Ei("MuiBox",["root"]),Wrt=NU({defaultClassName:Xrt.root,generateClassName:rP.generate});function LU(t){const{variants:e,...r}=t,n={variants:e,style:yy(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=yy(i.style))}),n}const Yrt=OC();function Ck(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Bv(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function Krt(t){return t?(e,r)=>r[t]:null}function Zrt(t,e,r){t.theme=Jrt(t.theme)?r:t.theme[e]||t.theme}function pE(t,e,r){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>pE(t,i,r));if(Array.isArray(n?.variants)){let i;if(n.isProcessed)i=r?Bv(n.style,r):n.style;else{const{variants:o,...c}=n;i=r?Bv(yy(c),r):c}return MU(t,n.variants,[i],r)}return n?.isProcessed?r?Bv(yy(n.style),r):n.style:r?Bv(yy(n),r):n}function MU(t,e,r=[],n=void 0){let i;t:for(let o=0;o<e.length;o+=1){const c=e[o];if(typeof c.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!c.props(i))continue}else for(const a in c.props)if(t[a]!==c.props[a]&&t.ownerState?.[a]!==c.props[a])continue t;typeof c.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},r.push(n?Bv(yy(c.style(i)),n):c.style(i))):r.push(n?Bv(yy(c.style),n):c.style)}return r}function PU(t={}){const{themeId:e,defaultTheme:r=Yrt,rootShouldForwardProp:n=Ck,slotShouldForwardProp:i=Ck}=t;function o(c){Zrt(c,e,r)}return(c,a={})=>{Get(c,X=>X.filter(Y=>Y!==_y));const{name:g,slot:v,skipVariantsResolver:x,skipSx:k,overridesResolver:I=Krt(ent(v)),...S}=a,P=g&&g.startsWith("Mui")||v?"components":"custom",D=x!==void 0?x:v&&v!=="Root"&&v!=="root"||!1,U=k||!1;let H=Ck;v==="Root"||v==="root"?H=n:v?H=i:tnt(c)&&(H=void 0);const G=EU(c,{shouldForwardProp:H,label:Qrt(),...S}),z=X=>{if(X.__emotion_real===X)return X;if(typeof X=="function")return function(Y){return pE(Y,X,Y.theme.modularCssLayers?P:void 0)};if(fm(X)){const Y=LU(X);return function(et){return Y.variants?pE(et,Y,et.theme.modularCssLayers?P:void 0):et.theme.modularCssLayers?Bv(Y.style,P):Y.style}}return X},j=(...X)=>{const Y=[],et=X.map(z),st=[];if(Y.push(o),g&&I&&st.push(function(at){const V=at.theme.components?.[g]?.styleOverrides;if(!V)return null;const dt={};for(const mt in V)dt[mt]=pE(at,V[mt],at.theme.modularCssLayers?"theme":void 0);return I(at,dt)}),g&&!D&&st.push(function(at){const V=at.theme?.components?.[g]?.variants;return V?MU(at,V,[],at.theme.modularCssLayers?"theme":void 0):null}),U||st.push(_y),Array.isArray(et[0])){const at=et.shift(),V=new Array(Y.length).fill(""),dt=new Array(st.length).fill("");let mt;mt=[...V,...at,...dt],mt.raw=[...V,...at.raw,...dt],Y.unshift(mt)}const it=[...Y,...et,...st],vt=G(...it);return c.muiName&&(vt.muiName=c.muiName),vt};return G.withConfig&&(j.withConfig=G.withConfig),j}}function Qrt(t,e){return void 0}function Jrt(t){for(const e in t)return!1;return!0}function tnt(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ent(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const u0=PU();function nw(t,e,r=!1){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=i;if(o==="components"||o==="slots")n[o]={...t[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const c=t[o],a=e[o];if(!a)n[o]=c||{};else if(!c)n[o]=a;else{n[o]={...a};for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const v=g;n[o][v]=nw(c[v],a[v],r)}}}else o==="className"&&r&&e.className?n.className=pa(t?.className,e?.className):o==="style"&&r&&e.style?n.style={...t?.style,...e?.style}:n[o]===void 0&&(n[o]=t[o])}return n}function OU(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:nw(e.components[r].defaultProps,n)}function rnt({props:t,name:e,defaultTheme:r,themeId:n}){let i=$w(r);return n&&(i=i[n]||i),OU({theme:i,name:e,props:t})}const Pf=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;function nnt(t,e,r,n,i){const[o,c]=ut.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return Pf(()=>{if(!r)return;const a=r(t),g=()=>{c(a.matches)};return g(),a.addEventListener("change",g),()=>{a.removeEventListener("change",g)}},[t,r]),o}const int={...$_},DU=int.useSyncExternalStore;function ant(t,e,r,n,i){const o=ut.useCallback(()=>e,[e]),c=ut.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:v}=n(t);return()=>v}return o},[o,t,n,i,r]),[a,g]=ut.useMemo(()=>{if(r===null)return[o,()=>()=>{}];const v=r(t);return[()=>v.matches,x=>(v.addEventListener("change",x),()=>{v.removeEventListener("change",x)})]},[o,r,t]);return DU(g,a,c)}function BU(t={}){const{themeId:e}=t;return function(r,n={}){let i=DC();i&&e&&(i=i[e]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:a=o?window.matchMedia:null,ssrMatchMedia:g=null,noSsr:v=!1}=OU({name:"MuiUseMediaQuery",props:n,theme:i});let x=typeof r=="function"?r(i):r;return x=x.replace(/^@media( ?)/m,""),x.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(DU!==void 0?ant:nnt)(x,c,a,g,v)}}BU();function ont(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function nP(t,e=0,r=1){return ont(t,e,r)}function snt(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function xy(t){if(t.type)return t;if(t.charAt(0)==="#")return xy(snt(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(xg(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(xg(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const lnt=t=>{const e=xy(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},h2=(t,e)=>{try{return lnt(t)}catch{return t}};function BC(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function zU(t){t=xy(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),c=(v,x=(v+r/30)%12)=>i-o*Math.max(Math.min(x-3,9-x,1),-1);let a="rgb";const g=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(a+="a",g.push(e[3])),BC({type:a,values:g})}function ZN(t){t=xy(t);let e=t.type==="hsl"||t.type==="hsla"?xy(zU(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function cnt(t,e){const r=ZN(t),n=ZN(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function nT(t,e){return t=xy(t),e=nP(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,BC(t)}function gv(t,e,r){try{return nT(t,e)}catch{return t}}function zC(t,e){if(t=xy(t),e=nP(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return BC(t)}function $s(t,e,r){try{return zC(t,e)}catch{return t}}function FC(t,e){if(t=xy(t),e=nP(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return BC(t)}function Vs(t,e,r){try{return FC(t,e)}catch{return t}}function iT(t,e=.15){return ZN(t)>.5?zC(t,e):FC(t,e)}function u5(t,e,r){try{return iT(t,e)}catch{return t}}const FU=ut.createContext(null);function iP(){return ut.useContext(FU)}const unt=typeof Symbol=="function"&&Symbol.for,hnt=unt?Symbol.for("mui.nested"):"__THEME_NESTED__";function dnt(t,e){return typeof e=="function"?e(t):{...t,...e}}function fnt(t){const{children:e,theme:r}=t,n=iP(),i=ut.useMemo(()=>{const o=n===null?{...r}:dnt(n,r);return o!=null&&(o[hnt]=n!==null),o},[r,n]);return yr.jsx(FU.Provider,{value:i,children:e})}const jU=ut.createContext();function pnt({value:t,...e}){return yr.jsx(jU.Provider,{value:t??!0,...e})}const $U=()=>ut.useContext(jU)??!1,VU=ut.createContext(void 0);function mnt({value:t,children:e}){return yr.jsx(VU.Provider,{value:t,children:e})}function gnt(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?nw(i.defaultProps,n,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?nw(i,n,e.components.mergeClassNameAndStyle):n}function ynt({props:t,name:e}){const r=ut.useContext(VU);return gnt({props:t,name:e,theme:{components:r}})}let e6=0;function vnt(t){const[e,r]=ut.useState(t),n=t||e;return ut.useEffect(()=>{e==null&&(e6+=1,r(`mui-${e6}`))},[e]),n}const bnt={...$_},r6=bnt.useId;function jC(t){if(r6!==void 0){const e=r6();return t??e}return vnt(t)}function _nt(t){const e=DC(),r=jC()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Pf(()=>{const o=document.querySelector("head");if(!o)return;const c=o.firstChild;if(i){if(c&&c.hasAttribute?.("data-mui-layer-order")&&c.getAttribute("data-mui-layer-order")===r)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",r),a.textContent=i,o.prepend(a)}else o.querySelector(`style[data-mui-layer-order="${r}"]`)?.remove()},[i,r]),i?yr.jsx(IU,{styles:i}):null}const n6={};function i6(t,e,r,n=!1){return ut.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const o=r(i),c=t?{...e,[t]:o}:o;return n?()=>c:c}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function UU(t){const{children:e,theme:r,themeId:n}=t,i=DC(n6),o=iP()||n6,c=i6(n,i,r),a=i6(n,o,r,!0),g=(n?c[n]:c).direction==="rtl",v=_nt(c);return yr.jsx(fnt,{theme:a,children:yr.jsx(Dw.Provider,{value:c,children:yr.jsx(pnt,{value:g,children:yr.jsxs(mnt,{value:n?c[n].components:c.components,children:[v,e]})})})})}const a6={theme:void 0};function xnt(t){let e,r;return function(n){let i=e;return(i===void 0||n.theme!==r)&&(a6.theme=n.theme,i=LU(t(a6)),e=i,r=n.theme),i}}const aP="mode",oP="color-scheme",wnt="data-color-scheme";function Snt(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=aP,colorSchemeStorageKey:o=oP,attribute:c=wnt,colorSchemeNode:a="document.documentElement",nonce:g}=t||{};let v="",x=c;if(c==="class"&&(x=".%s"),c==="data"&&(x="[data-%s]"),x.startsWith(".")){const I=x.substring(1);v+=`${a}.classList.remove('${I}'.replace('%s', light), '${I}'.replace('%s', dark));
      ${a}.classList.add('${I}'.replace('%s', colorScheme));`}const k=x.match(/\[([^[\]]+)\]/);if(k){const[I,S]=k[1].split("=");S||(v+=`${a}.removeAttribute('${I}'.replace('%s', light));
      ${a}.removeAttribute('${I}'.replace('%s', dark));`),v+=`
      ${a}.setAttribute('${I}'.replace('%s', colorScheme), ${S?`${S}.replace('%s', colorScheme)`:'""'});`}else v+=`${a}.setAttribute('${x}', colorScheme);`;return yr.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${n}';
  const light = localStorage.getItem('${o}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Ent(){}const Tnt=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return Ent;const n=i=>{const o=i.newValue;i.key===t&&r(o)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function Ak(){}function o6(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function qU(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Cnt(t){return qU(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function Ant(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:o=aP,colorSchemeStorageKey:c=oP,storageWindow:a=typeof window>"u"?void 0:window,storageManager:g=Tnt,noSsr:v=!1}=t,x=i.join(","),k=i.length>1,I=ut.useMemo(()=>g?.({key:o,storageWindow:a}),[g,o,a]),S=ut.useMemo(()=>g?.({key:`${c}-light`,storageWindow:a}),[g,c,a]),P=ut.useMemo(()=>g?.({key:`${c}-dark`,storageWindow:a}),[g,c,a]),[D,U]=ut.useState(()=>{const st=I?.get(e)||e,it=S?.get(r)||r,vt=P?.get(n)||n;return{mode:st,systemMode:o6(st),lightColorScheme:it,darkColorScheme:vt}}),[H,G]=ut.useState(v||!k);ut.useEffect(()=>{G(!0)},[]);const z=Cnt(D),j=ut.useCallback(st=>{U(it=>{if(st===it.mode)return it;const vt=st??e;return I?.set(vt),{...it,mode:vt,systemMode:o6(vt)}})},[I,e]),X=ut.useCallback(st=>{st?typeof st=="string"?st&&!x.includes(st)?console.error(`\`${st}\` does not exist in \`theme.colorSchemes\`.`):U(it=>{const vt={...it};return qU(it,at=>{at==="light"&&(S?.set(st),vt.lightColorScheme=st),at==="dark"&&(P?.set(st),vt.darkColorScheme=st)}),vt}):U(it=>{const vt={...it},at=st.light===null?r:st.light,V=st.dark===null?n:st.dark;return at&&(x.includes(at)?(vt.lightColorScheme=at,S?.set(at)):console.error(`\`${at}\` does not exist in \`theme.colorSchemes\`.`)),V&&(x.includes(V)?(vt.darkColorScheme=V,P?.set(V)):console.error(`\`${V}\` does not exist in \`theme.colorSchemes\`.`)),vt}):U(it=>(S?.set(r),P?.set(n),{...it,lightColorScheme:r,darkColorScheme:n}))},[x,S,P,r,n]),Y=ut.useCallback(st=>{D.mode==="system"&&U(it=>{const vt=st?.matches?"dark":"light";return it.systemMode===vt?it:{...it,systemMode:vt}})},[D.mode]),et=ut.useRef(Y);return et.current=Y,ut.useEffect(()=>{if(typeof window.matchMedia!="function"||!k)return;const st=(...vt)=>et.current(...vt),it=window.matchMedia("(prefers-color-scheme: dark)");return it.addListener(st),st(it),()=>{it.removeListener(st)}},[k]),ut.useEffect(()=>{if(k){const st=I?.subscribe(at=>{(!at||["light","dark","system"].includes(at))&&j(at||e)})||Ak,it=S?.subscribe(at=>{(!at||x.match(at))&&X({light:at})})||Ak,vt=P?.subscribe(at=>{(!at||x.match(at))&&X({dark:at})})||Ak;return()=>{st(),it(),vt()}}},[X,j,x,e,a,k,I,S,P]),{...D,mode:H?D.mode:void 0,systemMode:H?D.systemMode:void 0,colorScheme:H?z:void 0,setMode:j,setColorScheme:X}}const knt="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Int(t){const{themeId:e,theme:r={},modeStorageKey:n=aP,colorSchemeStorageKey:i=oP,disableTransitionOnChange:o=!1,defaultColorScheme:c,resolveTheme:a}=t,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=ut.createContext(void 0),x=()=>ut.useContext(v)||g,k={},I={};function S(U){const{children:H,theme:G,modeStorageKey:z=n,colorSchemeStorageKey:j=i,disableTransitionOnChange:X=o,storageManager:Y,storageWindow:et=typeof window>"u"?void 0:window,documentNode:st=typeof document>"u"?void 0:document,colorSchemeNode:it=typeof document>"u"?void 0:document.documentElement,disableNestedContext:vt=!1,disableStyleSheetGeneration:at=!1,defaultMode:V="system",forceThemeRerender:dt=!1,noSsr:mt}=U,wt=ut.useRef(!1),pt=iP(),At=ut.useContext(v),St=!!At&&!vt,Lt=ut.useMemo(()=>G||(typeof r=="function"?r():r),[G]),jt=Lt[e],_t=jt||Lt,{colorSchemes:lt=k,components:Tt=I,cssVarPrefix:kt}=_t,Rt=Object.keys(lt).filter(dr=>!!lt[dr]).join(","),Ut=ut.useMemo(()=>Rt.split(","),[Rt]),ie=typeof c=="string"?c:c.light,Ht=typeof c=="string"?c:c.dark,ce=lt[ie]&&lt[Ht]?V:lt[_t.defaultColorScheme]?.palette?.mode||_t.palette?.mode,{mode:de,setMode:Se,systemMode:Vt,lightColorScheme:He,darkColorScheme:ke,colorScheme:Jt,setColorScheme:$r}=Ant({supportedColorSchemes:Ut,defaultLightColorScheme:ie,defaultDarkColorScheme:Ht,modeStorageKey:z,colorSchemeStorageKey:j,defaultMode:ce,storageManager:Y,storageWindow:et,noSsr:mt});let vr=de,Dr=Jt;St&&(vr=At.mode,Dr=At.colorScheme);let Ie=Dr||_t.defaultColorScheme;_t.vars&&!dt&&(Ie=_t.defaultColorScheme);const Mr=ut.useMemo(()=>{const dr=_t.generateThemeVars?.()||_t.vars,ar={..._t,components:Tt,colorSchemes:lt,cssVarPrefix:kt,vars:dr};if(typeof ar.generateSpacing=="function"&&(ar.spacing=ar.generateSpacing()),Ie){const Or=lt[Ie];Or&&typeof Or=="object"&&Object.keys(Or).forEach(er=>{Or[er]&&typeof Or[er]=="object"?ar[er]={...ar[er],...Or[er]}:ar[er]=Or[er]})}return a?a(ar):ar},[_t,Ie,Tt,lt,kt]),ir=_t.colorSchemeSelector;Pf(()=>{if(Dr&&it&&ir&&ir!=="media"){const dr=ir;let ar=ir;if(dr==="class"&&(ar=".%s"),dr==="data"&&(ar="[data-%s]"),dr?.startsWith("data-")&&!dr.includes("%s")&&(ar=`[${dr}="%s"]`),ar.startsWith("."))it.classList.remove(...Ut.map(Or=>ar.substring(1).replace("%s",Or))),it.classList.add(ar.substring(1).replace("%s",Dr));else{const Or=ar.replace("%s",Dr).match(/\[([^\]]+)\]/);if(Or){const[er,Fr]=Or[1].split("=");Fr||Ut.forEach(Ze=>{it.removeAttribute(er.replace(Dr,Ze))}),it.setAttribute(er,Fr?Fr.replace(/"|'/g,""):"")}else it.setAttribute(ar,Dr)}}},[Dr,ir,it,Ut]),ut.useEffect(()=>{let dr;if(X&&wt.current&&st){const ar=st.createElement("style");ar.appendChild(st.createTextNode(knt)),st.head.appendChild(ar),window.getComputedStyle(st.body),dr=setTimeout(()=>{st.head.removeChild(ar)},1)}return()=>{clearTimeout(dr)}},[Dr,X,st]),ut.useEffect(()=>(wt.current=!0,()=>{wt.current=!1}),[]);const Rr=ut.useMemo(()=>({allColorSchemes:Ut,colorScheme:Dr,darkColorScheme:ke,lightColorScheme:He,mode:vr,setColorScheme:$r,setMode:Se,systemMode:Vt}),[Ut,Dr,ke,He,vr,$r,Se,Vt,Mr.colorSchemeSelector]);let Pr=!0;(at||_t.cssVariables===!1||St&&pt?.cssVarPrefix===kt)&&(Pr=!1);const Ir=yr.jsxs(ut.Fragment,{children:[yr.jsx(UU,{themeId:jt?e:void 0,theme:Mr,children:H}),Pr&&yr.jsx(SU,{styles:Mr.generateStyleSheets?.()||[]})]});return St?Ir:yr.jsx(v.Provider,{value:Rr,children:Ir})}const P=typeof c=="string"?c:c.light,D=typeof c=="string"?c:c.dark;return{CssVarsProvider:S,useColorScheme:x,getInitColorSchemeScript:U=>Snt({colorSchemeStorageKey:i,defaultLightColorScheme:P,defaultDarkColorScheme:D,modeStorageKey:n,...U})}}function Rnt(t=""){function e(...r){if(!r.length)return"";const n=r[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${n}${e(...r.slice(1))})`:`, ${n}`}return(r,...n)=>`var(--${t?`${t}-`:""}${r}${e(...n)})`}const s6=(t,e,r,n=[])=>{let i=t;e.forEach((o,c)=>{c===e.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=n.includes(o)?[]:{}),i=i[o])})},Nnt=(t,e,r)=>{function n(i,o=[],c=[]){Object.entries(i).forEach(([a,g])=>{(!r||r&&!r([...o,a]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?n(g,[...o,a],Array.isArray(g)?[...c,a]:c):e([...o,a],g,c))})}n(t)},Lnt=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function kk(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},o={},c={};return Nnt(t,(a,g,v)=>{if((typeof g=="string"||typeof g=="number")&&(!n||!n(a,g))){const x=`--${r?`${r}-`:""}${a.join("-")}`,k=Lnt(a,g);Object.assign(i,{[x]:k}),s6(o,a,`var(${x})`,v),s6(c,a,`var(${x}, ${k})`,v)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:c}}function Mnt(t,e={}){const{getSelector:r=H,disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:o}=e,{colorSchemes:c={},components:a,defaultColorScheme:g="light",...v}=t,{vars:x,css:k,varsWithDefaults:I}=kk(v,e);let S=I;const P={},{[g]:D,...U}=c;if(Object.entries(U||{}).forEach(([G,z])=>{const{vars:j,css:X,varsWithDefaults:Y}=kk(z,e);S=Lh(S,Y),P[G]={css:X,vars:j}}),D){const{css:G,vars:z,varsWithDefaults:j}=kk(D,e);S=Lh(S,j),P[g]={css:G,vars:z}}function H(G,z){let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),G){if(j==="media")return t.defaultColorScheme===G?":root":{[`@media (prefers-color-scheme: ${c[G]?.palette?.mode||G})`]:{":root":z}};if(j)return t.defaultColorScheme===G?`:root, ${j.replace("%s",String(G))}`:j.replace("%s",String(G))}return":root"}return{vars:S,generateThemeVars:()=>{let G={...x};return Object.entries(P).forEach(([,{vars:z}])=>{G=Lh(G,z)}),G},generateStyleSheets:()=>{const G=[],z=t.defaultColorScheme||"light";function j(et,st){Object.keys(st).length&&G.push(typeof et=="string"?{[et]:{...st}}:et)}j(r(void 0,{...k}),k);const{[z]:X,...Y}=P;if(X){const{css:et}=X,st=c[z]?.palette?.mode,it=!n&&st?{colorScheme:st,...et}:{...et};j(r(z,{...it}),it)}return Object.entries(Y).forEach(([et,{css:st}])=>{const it=c[et]?.palette?.mode,vt=!n&&it?{colorScheme:it,...st}:{...st};j(r(et,{...vt}),vt)}),o&&G.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),G}}}function Pnt(t){return function(e){return t==="media"?`@media (prefers-color-scheme: ${e})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${e}"] &`:t==="class"?`.${e} &`:t==="data"?`[data-${e}] &`:`${t.replace("%s",e)} &`:"&"}}function _s(t,e,r=void 0){const n={};for(const i in t){const o=t[i];let c="",a=!0;for(let g=0;g<o.length;g+=1){const v=o[g];v&&(c+=(a===!0?"":" ")+e(v),a=!1,r&&r[v]&&(c+=" "+r[v]))}n[i]=c}return n}function M2(t,e){return ut.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const Ont=(t,e)=>t.filter(r=>e.includes(r)),mx=(t,e,r)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{r((c,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(c,a):c[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Ont(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const o=e[i];o!==void 0&&r((c,a)=>{n===i?Object.assign(c,a):c[t.up(i)]=a},o)}}):(typeof e=="number"||typeof e=="string")&&r((i,o)=>{Object.assign(i,o)},e)};function aT(t){return`--Grid-${t}Spacing`}function $C(t){return`--Grid-parent-${t}Spacing`}const l6="--Grid-columns",I_="--Grid-parent-columns",Dnt=({theme:t,ownerState:e})=>{const r={};return mx(t.breakpoints,e.size,(n,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${I_}) - (var(${I_}) - ${i}) * (var(${$C("column")}) / var(${I_})))`}),n(r,o)}),r},Bnt=({theme:t,ownerState:e})=>{const r={};return mx(t.breakpoints,e.offset,(n,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${I_}) + var(${$C("column")}) * ${i} / var(${I_}))`}),n(r,o)}),r},znt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={[l6]:12};return mx(t.breakpoints,e.columns,(n,i)=>{const o=i??12;n(r,{[l6]:o,"> *":{[I_]:o}})}),r},Fnt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return mx(t.breakpoints,e.rowSpacing,(n,i)=>{const o=typeof i=="string"?i:t.spacing?.(i);n(r,{[aT("row")]:o,"> *":{[$C("row")]:o}})}),r},jnt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return mx(t.breakpoints,e.columnSpacing,(n,i)=>{const o=typeof i=="string"?i:t.spacing?.(i);n(r,{[aT("column")]:o,"> *":{[$C("column")]:o}})}),r},$nt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return mx(t.breakpoints,e.direction,(n,i)=>{n(r,{flexDirection:i})}),r},Vnt=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${aT("row")}) var(${aT("column")})`}}),Unt=t=>{const e=[];return Object.entries(t).forEach(([r,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${r}-${String(n)}`)}),e},qnt=(t,e="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([i,o])=>{r(o)&&n.push(`spacing-${i}-${String(o)}`)}),n}return[]},Gnt=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(t)}`];function Hnt(t,e){const r=[];t.item!==void 0&&(delete t.item,r.push("item")),t.zeroMinWidth!==void 0&&(delete t.zeroMinWidth,r.push("zeroMinWidth")),e.keys.forEach(n=>{t[n]!==void 0&&(r.push(n),delete t[n])})}const Xnt=OC(),Wnt=u0("div",{name:"MuiGrid",slot:"Root"});function Ynt(t){return rnt({props:t,name:"MuiGrid",defaultTheme:Xnt})}function Knt(t={}){const{createStyledComponent:e=Wnt,useThemeProps:r=Ynt,useTheme:n=$w,componentName:i="MuiGrid"}=t,o=(v,x)=>{const{container:k,direction:I,spacing:S,wrap:P,size:D}=v,U={root:["root",k&&"container",P!=="wrap"&&`wrap-xs-${String(P)}`,...Gnt(I),...Unt(D),...k?qnt(S,x.breakpoints.keys[0]):[]]};return _s(U,H=>bs(i,H),{})};function c(v,x,k=()=>!0){const I={};return v===null||(Array.isArray(v)?v.forEach((S,P)=>{S!==null&&k(S)&&x.keys[P]&&(I[x.keys[P]]=S)}):typeof v=="object"?Object.keys(v).forEach(S=>{const P=v[S];P!=null&&k(P)&&(I[S]=P)}):I[x.keys[0]]=v),I}const a=e(znt,jnt,Fnt,Dnt,$nt,Vnt,Bnt),g=ut.forwardRef(function(v,x){const k=n(),I=r(v),S=eP(I);Hnt(S,k.breakpoints);const{className:P,children:D,columns:U=12,container:H=!1,component:G="div",direction:z="row",wrap:j="wrap",size:X={},offset:Y={},spacing:et=0,rowSpacing:st=et,columnSpacing:it=et,unstable_level:vt=0,...at}=S,V=c(X,k.breakpoints,jt=>jt!==!1),dt=c(Y,k.breakpoints),mt=v.columns??(vt?void 0:U),wt=v.spacing??(vt?void 0:et),pt=v.rowSpacing??v.spacing??(vt?void 0:st),At=v.columnSpacing??v.spacing??(vt?void 0:it),St={...S,level:vt,columns:mt,container:H,direction:z,wrap:j,spacing:wt,rowSpacing:pt,columnSpacing:At,size:V,offset:dt},Lt=o(St,k);return yr.jsx(a,{ref:x,as:G,ownerState:St,className:pa(Lt.root,P),...at,children:ut.Children.map(D,jt=>ut.isValidElement(jt)&&M2(jt,["Grid"])&&H&&jt.props.container?ut.cloneElement(jt,{unstable_level:jt.props?.unstable_level??vt+1}):jt)})});return g.muiName="Grid",g}const iw={black:"#000",white:"#fff"},Znt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},pb={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},mb={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},I1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},gb={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},yb={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},vb={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function GU(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:iw.white,default:iw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HU=GU();function XU(){return{text:{primary:iw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:iw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const QN=XU();function c6(t,e,r,n){const i=n.light||n,o=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=FC(t.main,i):e==="dark"&&(t.dark=zC(t.main,o)))}function u6(t,e,r,n,i){const o=i.light||i,c=i.dark||i*1.5;e[r]||(e.hasOwnProperty(n)?e[r]=e[n]:r==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:r==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(c*100).toFixed(0)}%)`))}function Qnt(t="light"){return t==="dark"?{main:gb[200],light:gb[50],dark:gb[400]}:{main:gb[700],light:gb[400],dark:gb[800]}}function Jnt(t="light"){return t==="dark"?{main:pb[200],light:pb[50],dark:pb[400]}:{main:pb[500],light:pb[300],dark:pb[700]}}function tit(t="light"){return t==="dark"?{main:mb[500],light:mb[300],dark:mb[700]}:{main:mb[700],light:mb[400],dark:mb[800]}}function eit(t="light"){return t==="dark"?{main:yb[400],light:yb[300],dark:yb[700]}:{main:yb[700],light:yb[500],dark:yb[900]}}function rit(t="light"){return t==="dark"?{main:vb[400],light:vb[300],dark:vb[700]}:{main:vb[800],light:vb[500],dark:vb[900]}}function nit(t="light"){return t==="dark"?{main:I1[400],light:I1[300],dark:I1[700]}:{main:"#ed6c02",light:I1[500],dark:I1[900]}}function iit(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function sP(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:i,...o}=t,c=t.primary||Qnt(e),a=t.secondary||Jnt(e),g=t.error||tit(e),v=t.info||eit(e),x=t.success||rit(e),k=t.warning||nit(e);function I(D){return i?iit(D):cnt(D,QN.text.primary)>=r?QN.text.primary:HU.text.primary}const S=({color:D,name:U,mainShade:H=500,lightShade:G=300,darkShade:z=700})=>{if(D={...D},!D.main&&D[H]&&(D.main=D[H]),!D.hasOwnProperty("main"))throw new Error(xg(11,U?` (${U})`:"",H));if(typeof D.main!="string")throw new Error(xg(12,U?` (${U})`:"",JSON.stringify(D.main)));return i?(u6(i,D,"light",G,n),u6(i,D,"dark",z,n)):(c6(D,"light",G,n),c6(D,"dark",z,n)),D.contrastText||(D.contrastText=I(D.main)),D};let P;return e==="light"?P=GU():e==="dark"&&(P=XU()),Lh({common:{...iw},mode:e,primary:S({color:c,name:"primary"}),secondary:S({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:g,name:"error"}),warning:S({color:k,name:"warning"}),info:S({color:v,name:"info"}),success:S({color:x,name:"success"}),grey:Znt,contrastThreshold:r,getContrastText:I,augmentColor:S,tonalOffset:n,...P},o)}function ait(t){const e={};return Object.entries(t).forEach(r=>{const[n,i]=r;typeof i=="object"&&(e[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function oit(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function sit(t){return Math.round(t*1e5)/1e5}const h6={textTransform:"uppercase"},d6='"Roboto", "Helvetica", "Arial", sans-serif';function WU(t,e){const{fontFamily:r=d6,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:a=700,htmlFontSize:g=16,allVariants:v,pxToRem:x,...k}=typeof e=="function"?e(t):e,I=n/14,S=x||(U=>`${U/g*I}rem`),P=(U,H,G,z,j)=>({fontFamily:r,fontWeight:U,fontSize:S(H),lineHeight:G,...r===d6?{letterSpacing:`${sit(z/H)}em`}:{},...j,...v}),D={h1:P(i,96,1.167,-1.5),h2:P(i,60,1.2,-.5),h3:P(o,48,1.167,0),h4:P(o,34,1.235,.25),h5:P(o,24,1.334,0),h6:P(c,20,1.6,.15),subtitle1:P(o,16,1.75,.15),subtitle2:P(c,14,1.57,.1),body1:P(o,16,1.5,.15),body2:P(o,14,1.43,.15),button:P(c,14,1.75,.4,h6),caption:P(o,12,1.66,.4),overline:P(o,12,2.66,1,h6),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lh({htmlFontSize:g,pxToRem:S,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:a,...D},k,{clone:!1})}const lit=.2,cit=.14,uit=.12;function ac(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${lit})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${cit})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${uit})`].join(",")}const hit=["none",ac(0,2,1,-1,0,1,1,0,0,1,3,0),ac(0,3,1,-2,0,2,2,0,0,1,5,0),ac(0,3,3,-2,0,3,4,0,0,1,8,0),ac(0,2,4,-1,0,4,5,0,0,1,10,0),ac(0,3,5,-1,0,5,8,0,0,1,14,0),ac(0,3,5,-1,0,6,10,0,0,1,18,0),ac(0,4,5,-2,0,7,10,1,0,2,16,1),ac(0,5,5,-3,0,8,10,1,0,3,14,2),ac(0,5,6,-3,0,9,12,1,0,3,16,2),ac(0,6,6,-3,0,10,14,1,0,4,18,3),ac(0,6,7,-4,0,11,15,1,0,4,20,3),ac(0,7,8,-4,0,12,17,2,0,5,22,4),ac(0,7,8,-4,0,13,19,2,0,5,24,4),ac(0,7,9,-4,0,14,21,2,0,5,26,4),ac(0,8,9,-5,0,15,22,2,0,6,28,5),ac(0,8,10,-5,0,16,24,2,0,6,30,5),ac(0,8,11,-5,0,17,26,2,0,6,32,5),ac(0,9,11,-5,0,18,28,2,0,7,34,6),ac(0,9,12,-6,0,19,29,2,0,7,36,6),ac(0,10,13,-6,0,20,31,3,0,8,38,7),ac(0,10,13,-6,0,21,33,3,0,8,40,7),ac(0,10,14,-6,0,22,35,3,0,8,42,7),ac(0,11,14,-7,0,23,36,3,0,9,44,8),ac(0,11,15,-7,0,24,38,3,0,9,46,8)],dit={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},YU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function f6(t){return`${Math.round(t)}ms`}function fit(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function pit(t){const e={...dit,...t.easing},r={...YU,...t.duration};return{getAutoHeightDuration:fit,create:(n=["all"],i={})=>{const{duration:o=r.standard,easing:c=e.easeInOut,delay:a=0,...g}=i;return(Array.isArray(n)?n:[n]).map(v=>`${v} ${typeof o=="string"?o:f6(o)} ${c} ${typeof a=="string"?a:f6(a)}`).join(",")},...t,easing:e,duration:r}}const mit={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function git(t){return fm(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function KU(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let o=0;o<i.length;o++){const[c,a]=i[o];!git(a)||c.startsWith("unstable_")?delete n[c]:fm(a)&&(n[c]={...a},r(n[c]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function p6(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const yit=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let r=0;for(let n=0;n<e.length;n+=1)r+=+e[n];return r};function vit(t){Object.assign(t,{alpha(e,r){const n=this||t;return n.colorSpace?`oklch(from ${e} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:nT(e,yit(r))},lighten(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #fff ${p6(r)})`:FC(e,r)},darken(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #000 ${p6(r)})`:zC(e,r)}})}function JN(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:o={},transitions:c={},typography:a={},shape:g,colorSpace:v,...x}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(xg(20));const k=sP({...o,colorSpace:v}),I=OC(t);let S=Lh(I,{mixins:oit(I.breakpoints,n),palette:k,shadows:hit.slice(),typography:WU(k,a),transitions:pit(c),zIndex:{...mit}});return S=Lh(S,x),S=e.reduce((P,D)=>Lh(P,D),S),S.unstable_sxConfig={...jw,...x?.unstable_sxConfig},S.unstable_sx=function(P){return _y({sx:P,theme:this})},S.toRuntimeSource=KU,vit(S),S}function tL(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const bit=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=tL(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function ZU(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function QU(t){return t==="dark"?bit:[]}function _it(t){const{palette:e={mode:"light"},opacity:r,overlays:n,colorSpace:i,...o}=t,c=sP({...e,colorSpace:i});return{palette:c,opacity:{...ZU(c.mode),...r},overlays:n||QU(c.mode),...o}}function xit(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const wit=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Sit=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return wit(t.cssVarPrefix).forEach(a=>{c[a]=r[a],delete r[a]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:c}}:o?{[o.replace("%s",e)]:c,[`${n}, ${o.replace("%s",e)}`]:r}:{[n]:{...r,...c}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(o)return o.replace("%s",String(e))}return n};function Eit(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function nn(t,e,r){!t[e]&&r&&(t[e]=r)}function d2(t){return typeof t!="string"||!t.startsWith("hsl")?t:zU(t)}function ng(t,e){`${e}Channel`in t||(t[`${e}Channel`]=h2(d2(t[e])))}function Tit(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Jp=t=>{try{return t()}catch{}},Cit=(t="mui")=>Rnt(t);function Ik(t,e,r,n,i){if(!r)return;r=r===!0?{}:r;const o=i==="dark"?"dark":"light";if(!n){e[i]=_it({...r,palette:{mode:o,...r?.palette},colorSpace:t});return}const{palette:c,...a}=JN({...n,palette:{mode:o,...r?.palette},colorSpace:t});return e[i]={...r,palette:c,opacity:{...ZU(o),...r?.opacity},overlays:r?.overlays||QU(o)},a}function Ait(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:c=!1,shouldSkipGeneratingVar:a=xit,colorSchemeSelector:g=r.light&&r.dark?"media":void 0,rootSelector:v=":root",...x}=t,k=Object.keys(r)[0],I=n||(r.light&&k!=="light"?"light":k),S=Cit(o),{[I]:P,light:D,dark:U,...H}=r,G={...H};let z=P;if((I==="dark"&&!("dark"in r)||I==="light"&&!("light"in r))&&(z=!0),!z)throw new Error(xg(21,I));let j;c&&(j="oklch");const X=Ik(j,G,z,x,I);D&&!G.light&&Ik(j,G,D,void 0,"light"),U&&!G.dark&&Ik(j,G,U,void 0,"dark");let Y={defaultColorScheme:I,...X,cssVarPrefix:o,colorSchemeSelector:g,rootSelector:v,getCssVar:S,colorSchemes:G,font:{...ait(X.typography),...X.font},spacing:Tit(x.spacing)};Object.keys(Y.colorSchemes).forEach(at=>{const V=Y.colorSchemes[at].palette,dt=wt=>{const pt=wt.split("-"),At=pt[1],St=pt[2];return S(wt,V[At][St])};V.mode==="light"&&(nn(V.common,"background","#fff"),nn(V.common,"onBackground","#000")),V.mode==="dark"&&(nn(V.common,"background","#000"),nn(V.common,"onBackground","#fff"));function mt(wt,pt,At){if(j){let St;return wt===gv&&(St=`transparent ${((1-At)*100).toFixed(0)}%`),wt===$s&&(St=`#000 ${(At*100).toFixed(0)}%`),wt===Vs&&(St=`#fff ${(At*100).toFixed(0)}%`),`color-mix(in ${j}, ${pt}, ${St})`}return wt(pt,At)}if(Eit(V,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),V.mode==="light"){nn(V.Alert,"errorColor",mt($s,V.error.light,.6)),nn(V.Alert,"infoColor",mt($s,V.info.light,.6)),nn(V.Alert,"successColor",mt($s,V.success.light,.6)),nn(V.Alert,"warningColor",mt($s,V.warning.light,.6)),nn(V.Alert,"errorFilledBg",dt("palette-error-main")),nn(V.Alert,"infoFilledBg",dt("palette-info-main")),nn(V.Alert,"successFilledBg",dt("palette-success-main")),nn(V.Alert,"warningFilledBg",dt("palette-warning-main")),nn(V.Alert,"errorFilledColor",Jp(()=>V.getContrastText(V.error.main))),nn(V.Alert,"infoFilledColor",Jp(()=>V.getContrastText(V.info.main))),nn(V.Alert,"successFilledColor",Jp(()=>V.getContrastText(V.success.main))),nn(V.Alert,"warningFilledColor",Jp(()=>V.getContrastText(V.warning.main))),nn(V.Alert,"errorStandardBg",mt(Vs,V.error.light,.9)),nn(V.Alert,"infoStandardBg",mt(Vs,V.info.light,.9)),nn(V.Alert,"successStandardBg",mt(Vs,V.success.light,.9)),nn(V.Alert,"warningStandardBg",mt(Vs,V.warning.light,.9)),nn(V.Alert,"errorIconColor",dt("palette-error-main")),nn(V.Alert,"infoIconColor",dt("palette-info-main")),nn(V.Alert,"successIconColor",dt("palette-success-main")),nn(V.Alert,"warningIconColor",dt("palette-warning-main")),nn(V.AppBar,"defaultBg",dt("palette-grey-100")),nn(V.Avatar,"defaultBg",dt("palette-grey-400")),nn(V.Button,"inheritContainedBg",dt("palette-grey-300")),nn(V.Button,"inheritContainedHoverBg",dt("palette-grey-A100")),nn(V.Chip,"defaultBorder",dt("palette-grey-400")),nn(V.Chip,"defaultAvatarColor",dt("palette-grey-700")),nn(V.Chip,"defaultIconColor",dt("palette-grey-700")),nn(V.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),nn(V.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),nn(V.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),nn(V.LinearProgress,"primaryBg",mt(Vs,V.primary.main,.62)),nn(V.LinearProgress,"secondaryBg",mt(Vs,V.secondary.main,.62)),nn(V.LinearProgress,"errorBg",mt(Vs,V.error.main,.62)),nn(V.LinearProgress,"infoBg",mt(Vs,V.info.main,.62)),nn(V.LinearProgress,"successBg",mt(Vs,V.success.main,.62)),nn(V.LinearProgress,"warningBg",mt(Vs,V.warning.main,.62)),nn(V.Skeleton,"bg",j?mt(gv,V.text.primary,.11):`rgba(${dt("palette-text-primaryChannel")} / 0.11)`),nn(V.Slider,"primaryTrack",mt(Vs,V.primary.main,.62)),nn(V.Slider,"secondaryTrack",mt(Vs,V.secondary.main,.62)),nn(V.Slider,"errorTrack",mt(Vs,V.error.main,.62)),nn(V.Slider,"infoTrack",mt(Vs,V.info.main,.62)),nn(V.Slider,"successTrack",mt(Vs,V.success.main,.62)),nn(V.Slider,"warningTrack",mt(Vs,V.warning.main,.62));const wt=j?mt($s,V.background.default,.6825):u5(V.background.default,.8);nn(V.SnackbarContent,"bg",wt),nn(V.SnackbarContent,"color",Jp(()=>j?QN.text.primary:V.getContrastText(wt))),nn(V.SpeedDialAction,"fabHoverBg",u5(V.background.paper,.15)),nn(V.StepConnector,"border",dt("palette-grey-400")),nn(V.StepContent,"border",dt("palette-grey-400")),nn(V.Switch,"defaultColor",dt("palette-common-white")),nn(V.Switch,"defaultDisabledColor",dt("palette-grey-100")),nn(V.Switch,"primaryDisabledColor",mt(Vs,V.primary.main,.62)),nn(V.Switch,"secondaryDisabledColor",mt(Vs,V.secondary.main,.62)),nn(V.Switch,"errorDisabledColor",mt(Vs,V.error.main,.62)),nn(V.Switch,"infoDisabledColor",mt(Vs,V.info.main,.62)),nn(V.Switch,"successDisabledColor",mt(Vs,V.success.main,.62)),nn(V.Switch,"warningDisabledColor",mt(Vs,V.warning.main,.62)),nn(V.TableCell,"border",mt(Vs,mt(gv,V.divider,1),.88)),nn(V.Tooltip,"bg",mt(gv,V.grey[700],.92))}if(V.mode==="dark"){nn(V.Alert,"errorColor",mt(Vs,V.error.light,.6)),nn(V.Alert,"infoColor",mt(Vs,V.info.light,.6)),nn(V.Alert,"successColor",mt(Vs,V.success.light,.6)),nn(V.Alert,"warningColor",mt(Vs,V.warning.light,.6)),nn(V.Alert,"errorFilledBg",dt("palette-error-dark")),nn(V.Alert,"infoFilledBg",dt("palette-info-dark")),nn(V.Alert,"successFilledBg",dt("palette-success-dark")),nn(V.Alert,"warningFilledBg",dt("palette-warning-dark")),nn(V.Alert,"errorFilledColor",Jp(()=>V.getContrastText(V.error.dark))),nn(V.Alert,"infoFilledColor",Jp(()=>V.getContrastText(V.info.dark))),nn(V.Alert,"successFilledColor",Jp(()=>V.getContrastText(V.success.dark))),nn(V.Alert,"warningFilledColor",Jp(()=>V.getContrastText(V.warning.dark))),nn(V.Alert,"errorStandardBg",mt($s,V.error.light,.9)),nn(V.Alert,"infoStandardBg",mt($s,V.info.light,.9)),nn(V.Alert,"successStandardBg",mt($s,V.success.light,.9)),nn(V.Alert,"warningStandardBg",mt($s,V.warning.light,.9)),nn(V.Alert,"errorIconColor",dt("palette-error-main")),nn(V.Alert,"infoIconColor",dt("palette-info-main")),nn(V.Alert,"successIconColor",dt("palette-success-main")),nn(V.Alert,"warningIconColor",dt("palette-warning-main")),nn(V.AppBar,"defaultBg",dt("palette-grey-900")),nn(V.AppBar,"darkBg",dt("palette-background-paper")),nn(V.AppBar,"darkColor",dt("palette-text-primary")),nn(V.Avatar,"defaultBg",dt("palette-grey-600")),nn(V.Button,"inheritContainedBg",dt("palette-grey-800")),nn(V.Button,"inheritContainedHoverBg",dt("palette-grey-700")),nn(V.Chip,"defaultBorder",dt("palette-grey-700")),nn(V.Chip,"defaultAvatarColor",dt("palette-grey-300")),nn(V.Chip,"defaultIconColor",dt("palette-grey-300")),nn(V.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),nn(V.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),nn(V.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),nn(V.LinearProgress,"primaryBg",mt($s,V.primary.main,.5)),nn(V.LinearProgress,"secondaryBg",mt($s,V.secondary.main,.5)),nn(V.LinearProgress,"errorBg",mt($s,V.error.main,.5)),nn(V.LinearProgress,"infoBg",mt($s,V.info.main,.5)),nn(V.LinearProgress,"successBg",mt($s,V.success.main,.5)),nn(V.LinearProgress,"warningBg",mt($s,V.warning.main,.5)),nn(V.Skeleton,"bg",j?mt(gv,V.text.primary,.13):`rgba(${dt("palette-text-primaryChannel")} / 0.13)`),nn(V.Slider,"primaryTrack",mt($s,V.primary.main,.5)),nn(V.Slider,"secondaryTrack",mt($s,V.secondary.main,.5)),nn(V.Slider,"errorTrack",mt($s,V.error.main,.5)),nn(V.Slider,"infoTrack",mt($s,V.info.main,.5)),nn(V.Slider,"successTrack",mt($s,V.success.main,.5)),nn(V.Slider,"warningTrack",mt($s,V.warning.main,.5));const wt=j?mt(Vs,V.background.default,.985):u5(V.background.default,.98);nn(V.SnackbarContent,"bg",wt),nn(V.SnackbarContent,"color",Jp(()=>j?HU.text.primary:V.getContrastText(wt))),nn(V.SpeedDialAction,"fabHoverBg",u5(V.background.paper,.15)),nn(V.StepConnector,"border",dt("palette-grey-600")),nn(V.StepContent,"border",dt("palette-grey-600")),nn(V.Switch,"defaultColor",dt("palette-grey-300")),nn(V.Switch,"defaultDisabledColor",dt("palette-grey-600")),nn(V.Switch,"primaryDisabledColor",mt($s,V.primary.main,.55)),nn(V.Switch,"secondaryDisabledColor",mt($s,V.secondary.main,.55)),nn(V.Switch,"errorDisabledColor",mt($s,V.error.main,.55)),nn(V.Switch,"infoDisabledColor",mt($s,V.info.main,.55)),nn(V.Switch,"successDisabledColor",mt($s,V.success.main,.55)),nn(V.Switch,"warningDisabledColor",mt($s,V.warning.main,.55)),nn(V.TableCell,"border",mt($s,mt(gv,V.divider,1),.68)),nn(V.Tooltip,"bg",mt(gv,V.grey[700],.92))}ng(V.background,"default"),ng(V.background,"paper"),ng(V.common,"background"),ng(V.common,"onBackground"),ng(V,"divider"),Object.keys(V).forEach(wt=>{const pt=V[wt];wt!=="tonalOffset"&&pt&&typeof pt=="object"&&(pt.main&&nn(V[wt],"mainChannel",h2(d2(pt.main))),pt.light&&nn(V[wt],"lightChannel",h2(d2(pt.light))),pt.dark&&nn(V[wt],"darkChannel",h2(d2(pt.dark))),pt.contrastText&&nn(V[wt],"contrastTextChannel",h2(d2(pt.contrastText))),wt==="text"&&(ng(V[wt],"primary"),ng(V[wt],"secondary")),wt==="action"&&(pt.active&&ng(V[wt],"active"),pt.selected&&ng(V[wt],"selected")))})}),Y=e.reduce((at,V)=>Lh(at,V),Y);const et={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:Sit(Y),enableContrastVars:c},{vars:st,generateThemeVars:it,generateStyleSheets:vt}=Mnt(Y,et);return Y.vars=st,Object.entries(Y.colorSchemes[Y.defaultColorScheme]).forEach(([at,V])=>{Y[at]=V}),Y.generateThemeVars=it,Y.generateStyleSheets=vt,Y.generateSpacing=function(){return kU(x.spacing,JM(this))},Y.getColorSchemeSelector=Pnt(g),Y.spacing=Y.generateSpacing(),Y.shouldSkipGeneratingVar=a,Y.unstable_sxConfig={...jw,...x?.unstable_sxConfig},Y.unstable_sx=function(at){return _y({sx:at,theme:this})},Y.toRuntimeSource=KU,Y}function m6(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:sP({...r===!0?{}:r.palette,mode:e})})}function gx(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r?.mode,...c}=t,a=o||"light",g=i?.[a],v={...i,...r?{[a]:{...typeof g!="boolean"&&g,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return JN(t,...e);let x=r;"palette"in t||v[a]&&(v[a]!==!0?x=v[a].palette:a==="dark"&&(x={mode:"dark"}));const k=JN({...t,palette:x},...e);return k.defaultColorScheme=a,k.colorSchemes=v,k.palette.mode==="light"&&(k.colorSchemes.light={...v.light!==!0&&v.light,palette:k.palette},m6(k,"dark",v.dark)),k.palette.mode==="dark"&&(k.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:k.palette},m6(k,"light",v.light)),k}return!r&&!("light"in v)&&a==="light"&&(v.light=!0),Ait({...c,colorSchemes:v,defaultColorScheme:a,...typeof n!="boolean"&&n},...e)}const lP=gx();function Vw(){const t=$w(lP);return t[vp]||t}function VC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ru=t=>VC(t)&&t!=="classes",qr=PU({themeId:vp,defaultTheme:lP,rootShouldForwardProp:ru});function kit({theme:t,...e}){const r=vp in t?t[vp]:void 0;return yr.jsx(UU,{...e,themeId:r?vp:void 0,theme:r||t})}const h5={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Iit}=Int({themeId:vp,theme:()=>gx({cssVariables:!0}),colorSchemeStorageKey:h5.colorSchemeStorageKey,modeStorageKey:h5.modeStorageKey,defaultColorScheme:{light:h5.defaultLightColorScheme,dark:h5.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:WU(t.palette,t.typography)};return e.unstable_sx=function(r){return _y({sx:r,theme:this})},e}}),Rit=Iit;function Nit({theme:t,...e}){const r=ut.useMemo(()=>{if(typeof t=="function")return t;const n=vp in t?t[vp]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?yr.jsx(kit,{theme:r,...e}):yr.jsx(Rit,{theme:t,...e})}const Lit=gx({palette:{mode:"light"}});gx({palette:{mode:"dark"}});const Mit=t=>({...Lit,palette:{mode:t,primary:{main:"#009EE0"},secondary:{main:"#747577"},text:{primary:"#000",contrast:"#fff"},topToolbar:{barColor:"#fff"},navigation:{buttonColor:"#747577",navColor:"#fff",navHover:"#f5f5f5"},GPS:{GPSActiveColor:"#009EE0",GPSInactiveColor:"#747577",GPSActiveBackgroundColor:"#fff"},compass:{compColor:"#fff",compHover:"#f5f5f5",compStroke:"#009ee0",compNorth:"#cf003f",compSouth:"#d3dcf0"}}}),Pit=t=>{const e=Mit(["light","dark"].includes(t)?t:"light");return gx(e,{components:{MuiTypography:{styleOverrides:{root:{}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:e.palette.topToolbar.barColor}}},MuiButton:{variants:[{props:{variant:"navtools"},style:{minWidth:"20px",minHeight:"20px",fontWeight:600,[e.breakpoints.down("md")]:{width:"50px",height:"50px",fontSize:"1.4em"},[e.breakpoints.up("md")]:{width:"30px",height:"30px",fontSize:"1.2em"},color:e.palette.text.primary,backgroundColor:e.palette.navigation.navColor,borderRadius:"23%",margin:"0.15px",marginTop:"4px",":hover":{backgroundColor:e.palette.navigation.navHover}}}]},MuiListItemText:{styleOverrides:{primary:({ownerState:r})=>r?.variant==="layerlist"?{fontSize:"0.9rem"}:{},secondary:({ownerState:r})=>r?.variant==="layerlist"?{fontSize:"0.7rem"}:{}}}}})},Oit={sourceOptions_tiles:["https://wms.wheregroup.com/tileserver/tile/world-0-14/{z}/{x}/{y}.pbf"]},ah=[];for(let t=0;t<256;++t)ah.push((t+256).toString(16).slice(1));function Dit(t,e=0){return(ah[t[e+0]]+ah[t[e+1]]+ah[t[e+2]]+ah[t[e+3]]+"-"+ah[t[e+4]]+ah[t[e+5]]+"-"+ah[t[e+6]]+ah[t[e+7]]+"-"+ah[t[e+8]]+ah[t[e+9]]+"-"+ah[t[e+10]]+ah[t[e+11]]+ah[t[e+12]]+ah[t[e+13]]+ah[t[e+14]]+ah[t[e+15]]).toLowerCase()}let Rk;const Bit=new Uint8Array(16);function zit(){if(!Rk){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Rk=crypto.getRandomValues.bind(crypto)}return Rk(Bit)}const Fit=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g6={randomUUID:Fit};function aw(t,e,r){if(g6.randomUUID&&!t)return g6.randomUUID();t=t||{};const n=t.random??t.rng?.()??zit();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Dit(n)}const jit=we.createContext({});function $it(t){const[e,r]=we.useState([]),[n,i]=we.useState([]),[o,c]=we.useState([]),[a,g]=we.useState(Oit.sourceOptions_tiles[0]),v=ut.useMemo(()=>({layerId:"openmaptiles",sourceOptions:{type:"vector",tiles:[a]}}),[a]),x=D=>{if(!D)return;const U=[],H=[];D.layers.forEach((G,z)=>{G.type==="symbol"?H.push(G):(z===0&&(G.id=D.name||"background"),U.push(G))}),i(U),c(H)};ut.useEffect(()=>{if(e.filter(D=>!D?.id).length){const D=[...e];D.forEach(U=>{U?.id||(U.id=aw())}),r(D)}},[e]);const k=ut.useCallback((D,U)=>{const H=e?.filter?.(G=>G.id===D);if(H.length>0){const G=[...e],z=H[0],j=e.indexOf(z),X=U(j);X>=0&&X<=e.length-1&&(G.splice(j,1),G.splice(X,0,z),r(G))}},[e]),I=ut.useCallback(D=>{k(D,U=>U+1)},[k]),S=ut.useCallback(D=>{k(D,U=>U-1)},[k]),P={layers:e,setLayers:r,backgroundLayers:n,setBackgroundLayers:i,symbolLayers:o,setSymbolLayers:c,updateStyle:x,vtLayerConfig:v,tileUrl:a,setTileUrl:g,moveUp:S,moveDown:I,moveLayer:k};return yr.jsx(jit.Provider,{value:P,children:t.children})}const UC=we.createContext({}),Vit=({children:t})=>{const[e,r]=ut.useState(void 0),[n,i]=ut.useState([]),o=ut.useRef([]),c=ut.useRef({}),a=v=>{if(v){typeof c.current[v]<"u"&&delete c.current[v];const x=o.current.indexOf(v);x>-1&&o.current.splice(x,1),i([...o.current]),o.current.length===0&&e&&r(void 0)}else a("anonymous_map")},g={map:e,setMap:v=>{if(r(v),n.length===0){const x="anonymous_map";i([...n,x]),c.current[x]=v}},maps:c.current,mapIds:n,registerMap:(v,x)=>{v&&x&&(c.current[v]=x,o.current.push(v),i([...o.current]),(!e||e?.cancelled===!0)&&r(x))},removeMap:a,mapExists:v=>v&&Object.keys(c.current).indexOf(v)===-1?!1:!(!v&&!e),getMap:v=>v&&n.indexOf(v)!==-1?c.current[v]:!v&&e?e:null};return yr.jsx(UC.Provider,{value:g,children:yr.jsx($it,{children:yr.jsx(Nit,{theme:Pit("light"),children:t})})})},JU={mapId:void 0,options:{center:{lng:8.607,lat:53.1409349},zoom:11,container:"",style:{version:8,name:"blank",center:[0,0],zoom:0,sources:{},sprite:"https://wms.wheregroup.com/tileserver/sprites/osm-bright",glyphs:"https://wms.wheregroup.com/tileserver/fonts/{fontstack}/{range}.pbf",layers:[{id:"_background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]}}},tq=t=>{const e=ut.useRef(null),r=ut.useRef(null),n=ut.useContext(UC),i=ut.useRef(t.mapId),o=ut.useRef(!1),c=ut.useRef(t.options?.style);return ut.useEffect(()=>{const a=i.current;return()=>{o.current=!1,n.removeMap(a),e.current&&(e.current.map?.remove?.(),e.current.cancelled=!0,e.current=null)}},[]),ut.useEffect(()=>{o.current||r.current&&(o.current=!0,t?.options?.style&&(c.current=JSON.stringify(t.options.style)),e.current=new ztt({mapOptions:{style:"",...t.options,...t?.options?.style?{}:{style:JU?.options?.style},container:r.current},onReady:(a,g)=>{a.once("load",()=>{g?.cancelled?a.remove():(window._map=a,t.mapId?n.registerMap(t.mapId,g):n.setMap(g))})}}))},[t.options,t.mapId]),ut.useEffect(()=>{if(e.current?.map&&t?.options?.style){const a=JSON.stringify(t.options.style);c.current!==a&&(c.current=a,e.current.map.setStyle(t.options.style))}},[t?.options?.style]),yr.jsx("div",{ref:r,className:"mapContainer",style:t.style})};tq.defaultProps=JU;function eq(t){const e=ut.useContext(UC),r=ut.useRef(!1),n=ut.useRef(null),[i,o]=ut.useState(),c=ut.useRef(void 0),[a,g]=ut.useState([]),v=ut.useRef(""),x=ut.useRef(aw()),k=ut.useCallback(S=>!t?.filter?.includeBaseLayers&&S?.baseLayer?!1:typeof t.filter?.matchLayerIds<"u"?t.filter.matchLayerIds instanceof RegExp?t.filter.matchLayerIds.test(S.id):S.id.includes(t.filter.matchLayerIds):!0,[t.filter]),I=ut.useCallback(()=>{if(!n.current)return;const S=n.current.wrapper.layerState.filter(k),P=JSON.stringify(S);v.current!==P&&(v.current=P,g(S))},[k]);return ut.useEffect(()=>{const S=x.current;return()=>{n.current&&(n.current.cleanup(S),n.current=null),r.current=!1}},[]),ut.useEffect(()=>{if(!(!e.mapExists(t.mapId)||r.current)){if(r.current=!0,n.current=e.getMap(t.mapId),!n.current){r.current=!1;return}t?.watch?.viewport&&(o(n.current.wrapper.viewportState),n.current.wrapper.on("viewportchange",()=>{c.current!==n.current?.wrapper.viewportStateString&&o(n.current?.wrapper.viewportState)},x.current)),t?.watch?.layers&&(I(),n.current.wrapper.on("layerchange",I,{includeBaseLayers:t?.filter?.includeBaseLayers,matchLayerIds:t?.filter?.matchLayerIds},x.current))}},[e.mapIds,e,t.mapId,I,t]),{layers:a,viewport:i}}eq.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}};function Uw(t){const e=ut.useContext(UC),[r,n]=ut.useState({map:void 0,ready:!1}),i=eq({mapId:t?.mapId,watch:{viewport:!1,layers:!!t?.waitForLayer,sources:!1},filter:{includeBaseLayers:!0}}),o=ut.useRef(null),c=ut.useRef(aw()),a=()=>{o.current&&o.current.cleanup(c.current)};return ut.useEffect(()=>()=>{a(),o.current=null},[]),ut.useEffect(()=>{if(o.current&&o.current.cancelled===!0&&(o.current=null,n({map:void 0,ready:!1})),!(o.current||!e.mapExists(t?.mapId))){if(t?.waitForLayer){let g=!1;if(i?.layers?.forEach(v=>{v.id===t?.waitForLayer&&(g=!0)}),!g)return}o.current=e.getMap(t?.mapId),n({map:o.current,ready:!0})}},[e.mapIds,i.layers,e,t]),{map:r.map,mapIsReady:r.ready,componentId:c.current,layers:i.layers,cleanup:a}}function y6(...t){return t.reduce((e,r)=>r==null?e:function(...n){e.apply(this,n),r.apply(this,n)},()=>{})}function Uit(t){return yr.jsx(IU,{...t,defaultTheme:lP,themeId:vp})}function qit(t){return function(e){return yr.jsx(Uit,{styles:typeof t=="function"?r=>t({theme:r,...e}):t})}}function Git(){return eP}const di=xnt;function Ys(t){return ynt(t)}function Hit(t){return bs("MuiSvgIcon",t)}Ei("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Xit=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Jn(e)}`,`fontSize${Jn(r)}`]};return _s(i,Hit,n)},Wit=qr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Jn(r.color)}`],e[`fontSize${Jn(r.fontSize)}`]]}})(di(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),eL=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:c="svg",fontSize:a="medium",htmlColor:g,inheritViewBox:v=!1,titleAccess:x,viewBox:k="0 0 24 24",...I}=r,S=ut.isValidElement(n)&&n.type==="svg",P={...r,color:o,component:c,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:v,viewBox:k,hasSvgAsChild:S},D={};v||(D.viewBox=k);const U=Xit(P);return yr.jsxs(Wit,{as:c,className:pa(U.root,i),focusable:"false",color:g,"aria-hidden":x?void 0:!0,role:x?"img":void 0,ref:e,...D,...I,...S&&n.props,ownerState:P,children:[S?n.props.children:n,x?yr.jsx("title",{children:x}):null]})});eL.muiName="SvgIcon";function ba(t,e){function r(n,i){return yr.jsx(eL,{"data-testid":void 0,ref:i,...n,children:t})}return r.muiName=eL.muiName,ut.memo(ut.forwardRef(r))}function rq(t,e=166){let r;function n(...i){const o=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(o,e)}return n.clear=()=>{clearTimeout(r)},n}function ef(t){return t&&t.ownerDocument||document}function Sg(t){return ef(t).defaultView||window}function v6(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function rL(t){const{controlled:e,default:r,name:n,state:i="value"}=t,{current:o}=ut.useRef(e!==void 0),[c,a]=ut.useState(r),g=o?e:c,v=ut.useCallback(x=>{o||a(x)},[]);return[g,v]}function Gv(t){const e=ut.useRef(t);return Pf(()=>{e.current=t}),ut.useRef((...r)=>(0,e.current)(...r)).current}function Uu(...t){const e=ut.useRef(void 0),r=ut.useCallback(n=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const c=o,a=c(n);return typeof a=="function"?a:()=>{c(null)}}return o.current=n,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},t);return ut.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}function Yit(t,e){const r=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&r>=65&&r<=90&&typeof e=="function"}function nq(t,e){if(!t)return e;function r(c,a){const g={};return Object.keys(a).forEach(v=>{Yit(v,a[v])&&typeof c[v]=="function"&&(g[v]=(...x)=>{c[v](...x),a[v](...x)})}),g}if(typeof t=="function"||typeof e=="function")return c=>{const a=typeof e=="function"?e(c):e,g=typeof t=="function"?t({...c,...a}):t,v=pa(c?.className,a?.className,g?.className),x=r(g,a);return{...a,...g,...x,...!!v&&{className:v},...a?.style&&g?.style&&{style:{...a.style,...g.style}},...a?.sx&&g?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(g.sx)?g.sx:[g.sx]]}}};const n=e,i=r(t,n),o=pa(n?.className,t?.className);return{...e,...t,...i,...!!o&&{className:o},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function cP(t,e){return()=>null}function iq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function nL(t,e){return nL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},nL(t,e)}function aq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nL(t,e)}const b6={disabled:!1},oT=we.createContext(null);var Kit=function(t){return t.scrollTop},f2="unmounted",Iv="exited",Rv="entering",zb="entered",iL="exiting",Ap=(function(t){aq(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var c=i,a=c&&!c.isMounting?n.enter:n.appear,g;return o.appearStatus=null,n.in?a?(g=Iv,o.appearStatus=Rv):g=zb:n.unmountOnExit||n.mountOnEnter?g=f2:g=Iv,o.state={status:g},o.nextCallback=null,o}e.getDerivedStateFromProps=function(n,i){var o=n.in;return o&&i.status===f2?{status:Iv}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==Rv&&o!==zb&&(i=Rv):(o===Rv||o===zb)&&(i=iL)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,o,c;return i=o=c=n,n!=null&&typeof n!="number"&&(i=n.exit,o=n.enter,c=n.appear!==void 0?n.appear:o),{exit:i,enter:o,appear:c}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===Rv){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:py.findDOMNode(this);o&&Kit(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Iv&&this.setState({status:f2})},r.performEnter=function(n){var i=this,o=this.props.enter,c=this.context?this.context.isMounting:n,a=this.props.nodeRef?[c]:[py.findDOMNode(this),c],g=a[0],v=a[1],x=this.getTimeouts(),k=c?x.appear:x.enter;if(!n&&!o||b6.disabled){this.safeSetState({status:zb},function(){i.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:Rv},function(){i.props.onEntering(g,v),i.onTransitionEnd(k,function(){i.safeSetState({status:zb},function(){i.props.onEntered(g,v)})})})},r.performExit=function(){var n=this,i=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:py.findDOMNode(this);if(!i||b6.disabled){this.safeSetState({status:Iv},function(){n.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:iL},function(){n.props.onExiting(c),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:Iv},function(){n.props.onExited(c)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,i.nextCallback=null,n(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:py.findDOMNode(this),c=n==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],g=a[0],v=a[1];this.props.addEndListener(g,v)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===f2)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var c=iq(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement(oT.Provider,{value:null},typeof o=="function"?o(n,c):we.cloneElement(we.Children.only(o),c))},e})(we.Component);Ap.contextType=oT;Ap.propTypes={};function bb(){}Ap.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bb,onEntering:bb,onEntered:bb,onExit:bb,onExiting:bb,onExited:bb};Ap.UNMOUNTED=f2;Ap.EXITED=Iv;Ap.ENTERING=Rv;Ap.ENTERED=zb;Ap.EXITING=iL;function Zit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uP(t,e){var r=function(i){return e&&ut.isValidElement(i)?e(i):i},n=Object.create(null);return t&&ut.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Qit(t,e){t=t||{},e=e||{};function r(x){return x in e?e[x]:t[x]}var n=Object.create(null),i=[];for(var o in t)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var c,a={};for(var g in e){if(n[g])for(c=0;c<n[g].length;c++){var v=n[g][c];a[n[g][c]]=r(v)}a[g]=r(g)}for(c=0;c<i.length;c++)a[i[c]]=r(i[c]);return a}function zv(t,e,r){return r[e]!=null?r[e]:t.props[e]}function Jit(t,e){return uP(t.children,function(r){return ut.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:zv(r,"appear",t),enter:zv(r,"enter",t),exit:zv(r,"exit",t)})})}function tat(t,e,r){var n=uP(t.children),i=Qit(e,n);return Object.keys(i).forEach(function(o){var c=i[o];if(ut.isValidElement(c)){var a=o in e,g=o in n,v=e[o],x=ut.isValidElement(v)&&!v.props.in;g&&(!a||x)?i[o]=ut.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:zv(c,"exit",t),enter:zv(c,"enter",t)}):!g&&a&&!x?i[o]=ut.cloneElement(c,{in:!1}):g&&a&&ut.isValidElement(v)&&(i[o]=ut.cloneElement(c,{onExited:r.bind(null,c),in:v.props.in,exit:zv(c,"exit",t),enter:zv(c,"enter",t)}))}}),i}var eat=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},rat={component:"div",childFactory:function(t){return t}},hP=(function(t){aq(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var c=o.handleExited.bind(Zit(o));return o.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},o}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(n,i){var o=i.children,c=i.handleExited,a=i.firstRender;return{children:a?Jit(n,c):tat(n,o,c),firstRender:!1}},r.handleExited=function(n,i){var o=uP(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(c){var a=tT({},c.children);return delete a[n.key],{children:a}}))},r.render=function(){var n=this.props,i=n.component,o=n.childFactory,c=iq(n,["component","childFactory"]),a=this.state.contextValue,g=eat(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,i===null?we.createElement(oT.Provider,{value:a},g):we.createElement(oT.Provider,{value:a},we.createElement(i,c,g))},e})(we.Component);hP.propTypes={};hP.defaultProps=rat;const _6={};function oq(t,e){const r=ut.useRef(_6);return r.current===_6&&(r.current=t(e)),r}const nat=[];function iat(t){ut.useEffect(t,nat)}class dP{static create(){return new dP}currentId=null;start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function fP(){const t=oq(dP.create).current;return iat(t.disposeEffect),t}cP(Fn.elementType);const sq=t=>t.scrollTop;function G_(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function aat(t){return bs("MuiCollapse",t)}Ei("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const oat=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return _s(n,aat,r)},sat=qr("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(di(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),lat=qr("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),cat=qr("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),x6=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiCollapse"}),{addEndListener:n,children:i,className:o,collapsedSize:c="0px",component:a,easing:g,in:v,onEnter:x,onEntered:k,onEntering:I,onExit:S,onExited:P,onExiting:D,orientation:U="vertical",style:H,timeout:G=YU.standard,TransitionComponent:z=Ap,...j}=r,X={...r,orientation:U,collapsedSize:c},Y=oat(X),et=Vw(),st=fP(),it=ut.useRef(null),vt=ut.useRef(),at=typeof c=="number"?`${c}px`:c,V=U==="horizontal",dt=V?"width":"height",mt=ut.useRef(null),wt=Uu(e,mt),pt=Rt=>Ut=>{if(Rt){const ie=mt.current;Ut===void 0?Rt(ie):Rt(ie,Ut)}},At=()=>it.current?it.current[V?"clientWidth":"clientHeight"]:0,St=pt((Rt,Ut)=>{it.current&&V&&(it.current.style.position="absolute"),Rt.style[dt]=at,x&&x(Rt,Ut)}),Lt=pt((Rt,Ut)=>{const ie=At();it.current&&V&&(it.current.style.position="");const{duration:Ht,easing:ce}=G_({style:H,timeout:G,easing:g},{mode:"enter"});if(G==="auto"){const de=et.transitions.getAutoHeightDuration(ie);Rt.style.transitionDuration=`${de}ms`,vt.current=de}else Rt.style.transitionDuration=typeof Ht=="string"?Ht:`${Ht}ms`;Rt.style[dt]=`${ie}px`,Rt.style.transitionTimingFunction=ce,I&&I(Rt,Ut)}),jt=pt((Rt,Ut)=>{Rt.style[dt]="auto",k&&k(Rt,Ut)}),_t=pt(Rt=>{Rt.style[dt]=`${At()}px`,S&&S(Rt)}),lt=pt(P),Tt=pt(Rt=>{const Ut=At(),{duration:ie,easing:Ht}=G_({style:H,timeout:G,easing:g},{mode:"exit"});if(G==="auto"){const ce=et.transitions.getAutoHeightDuration(Ut);Rt.style.transitionDuration=`${ce}ms`,vt.current=ce}else Rt.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;Rt.style[dt]=at,Rt.style.transitionTimingFunction=Ht,D&&D(Rt)}),kt=Rt=>{G==="auto"&&st.start(vt.current||0,Rt),n&&n(mt.current,Rt)};return yr.jsx(z,{in:v,onEnter:St,onEntered:jt,onEntering:Lt,onExit:_t,onExited:lt,onExiting:Tt,addEndListener:kt,nodeRef:mt,timeout:G==="auto"?null:G,...j,children:(Rt,{ownerState:Ut,...ie})=>yr.jsx(sat,{as:a,className:pa(Y.root,o,{entered:Y.entered,exited:!v&&at==="0px"&&Y.hidden}[Rt]),style:{[V?"minWidth":"minHeight"]:at,...H},ref:wt,ownerState:{...X,state:Rt},...ie,children:yr.jsx(lat,{ownerState:{...X,state:Rt},className:Y.wrapper,ref:it,children:yr.jsx(cat,{ownerState:{...X,state:Rt},className:Y.wrapperInner,children:i})})})})});x6&&(x6.muiSupportAuto=!0);function w6(){return null}w6.isRequired=w6;function uat(t){return bs("MuiPaper",t)}Ei("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hat=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return _s(o,uat,i)},dat=qr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(di(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Py=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiPaper"}),n=Vw(),{className:i,component:o="div",elevation:c=1,square:a=!1,variant:g="elevation",...v}=r,x={...r,component:o,elevation:c,square:a,variant:g},k=hat(x);return yr.jsx(dat,{as:o,ownerState:x,className:pa(k.root,i),ref:e,...v,style:{...g==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[c],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[c]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${nT("#fff",tL(c))}, ${nT("#fff",tL(c))})`}},...v.style}})});function H_(t){return typeof t=="string"}function lq(t,e,r){return t===void 0||H_(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function cq(t,e,r){return typeof t=="function"?t(e,r):t}function uq(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function S6(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function hq(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=t;if(!e){const S=pa(r?.className,o,i?.className,n?.className),P={...r?.style,...i?.style,...n?.style},D={...r,...i,...n};return S.length>0&&(D.className=S),Object.keys(P).length>0&&(D.style=P),{props:D,internalRef:void 0}}const c=uq({...i,...n}),a=S6(n),g=S6(i),v=e(c),x=pa(v?.className,r?.className,o,i?.className,n?.className),k={...v?.style,...r?.style,...i?.style,...n?.style},I={...v,...r,...g,...a};return x.length>0&&(I.className=x),Object.keys(k).length>0&&(I.style=k),{props:I,internalRef:v.ref}}function Jd(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:c,shouldForwardComponentProp:a=!1,...g}=e,{component:v,slots:x={[t]:void 0},slotProps:k={[t]:void 0},...I}=o,S=x[t]||n,P=cq(k[t],i),{props:{component:D,...U},internalRef:H}=hq({className:r,...g,externalForwardedProps:t==="root"?I:void 0,externalSlotProps:P}),G=Uu(H,P?.ref,e.ref),z=t==="root"?D||v:D,j=lq(S,{...t==="root"&&!v&&!x[t]&&c,...t!=="root"&&!x[t]&&c,...U,...z&&!a&&{as:z},...z&&a&&{component:z},ref:G},i);return[S,j]}const d5=Ei("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]);qr(Py,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${d5.region}`]:e.region},e.root,!r.square&&e.rounded,!r.disableGutters&&e.gutters]}})(di(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${d5.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${d5.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),di(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${d5.expanded}`]:{margin:"16px 0"}}}]})));qr("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"});qr("div",{name:"MuiAccordion",slot:"Region"})({});Fn.oneOfType([Fn.func,Fn.object]);function E6(t){try{return t.matches(":focus-visible")}catch{}return!1}class sT{static create(){return new sT}static use(){const e=oq(sT.create).current,[r,n]=ut.useState(!1);return e.shouldMount=r,e.setShouldMount=n,ut.useEffect(e.mountEffect,[r]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=pat(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function fat(){return sT.use()}function pat(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function mat(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:c,in:a,onExited:g,timeout:v}=t,[x,k]=ut.useState(!1),I=pa(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),S={width:c,height:c,top:-(c/2)+o,left:-(c/2)+i},P=pa(r.child,x&&r.childLeaving,n&&r.childPulsate);return!a&&!x&&k(!0),ut.useEffect(()=>{if(!a&&g!=null){const D=setTimeout(g,v);return()=>{clearTimeout(D)}}},[g,a,v]),yr.jsx("span",{className:I,style:S,children:yr.jsx("span",{className:P})})}const vf=Ei("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),aL=550,gat=80,yat=Bw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,vat=Bw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,bat=Bw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,_at=qr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),xat=qr(mat,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${vf.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${yat};
    animation-duration: ${aL}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${vf.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${vf.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${vf.childLeaving} {
    opacity: 0;
    animation-name: ${vat};
    animation-duration: ${aL}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${vf.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${bat};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,wat=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:o,...c}=r,[a,g]=ut.useState([]),v=ut.useRef(0),x=ut.useRef(null);ut.useEffect(()=>{x.current&&(x.current(),x.current=null)},[a]);const k=ut.useRef(!1),I=fP(),S=ut.useRef(null),P=ut.useRef(null),D=ut.useCallback(z=>{const{pulsate:j,rippleX:X,rippleY:Y,rippleSize:et,cb:st}=z;g(it=>[...it,yr.jsx(xat,{classes:{ripple:pa(i.ripple,vf.ripple),rippleVisible:pa(i.rippleVisible,vf.rippleVisible),ripplePulsate:pa(i.ripplePulsate,vf.ripplePulsate),child:pa(i.child,vf.child),childLeaving:pa(i.childLeaving,vf.childLeaving),childPulsate:pa(i.childPulsate,vf.childPulsate)},timeout:aL,pulsate:j,rippleX:X,rippleY:Y,rippleSize:et},v.current)]),v.current+=1,x.current=st},[i]),U=ut.useCallback((z={},j={},X=()=>{})=>{const{pulsate:Y=!1,center:et=n||j.pulsate,fakeElement:st=!1}=j;if(z?.type==="mousedown"&&k.current){k.current=!1;return}z?.type==="touchstart"&&(k.current=!0);const it=st?null:P.current,vt=it?it.getBoundingClientRect():{width:0,height:0,left:0,top:0};let at,V,dt;if(et||z===void 0||z.clientX===0&&z.clientY===0||!z.clientX&&!z.touches)at=Math.round(vt.width/2),V=Math.round(vt.height/2);else{const{clientX:mt,clientY:wt}=z.touches&&z.touches.length>0?z.touches[0]:z;at=Math.round(mt-vt.left),V=Math.round(wt-vt.top)}if(et)dt=Math.sqrt((2*vt.width**2+vt.height**2)/3),dt%2===0&&(dt+=1);else{const mt=Math.max(Math.abs((it?it.clientWidth:0)-at),at)*2+2,wt=Math.max(Math.abs((it?it.clientHeight:0)-V),V)*2+2;dt=Math.sqrt(mt**2+wt**2)}z?.touches?S.current===null&&(S.current=()=>{D({pulsate:Y,rippleX:at,rippleY:V,rippleSize:dt,cb:X})},I.start(gat,()=>{S.current&&(S.current(),S.current=null)})):D({pulsate:Y,rippleX:at,rippleY:V,rippleSize:dt,cb:X})},[n,D,I]),H=ut.useCallback(()=>{U({},{pulsate:!0})},[U]),G=ut.useCallback((z,j)=>{if(I.clear(),z?.type==="touchend"&&S.current){S.current(),S.current=null,I.start(0,()=>{G(z,j)});return}S.current=null,g(X=>X.length>0?X.slice(1):X),x.current=j},[I]);return ut.useImperativeHandle(e,()=>({pulsate:H,start:U,stop:G}),[H,U,G]),yr.jsx(_at,{className:pa(vf.root,i.root,o),ref:P,...c,children:yr.jsx(hP,{component:null,exit:!0,children:a})})});function Sat(t){return bs("MuiButtonBase",t)}const Eat=Ei("MuiButtonBase",["root","disabled","focusVisible"]),Tat=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,o=_s({root:["root",e&&"disabled",r&&"focusVisible"]},Sat,i);return r&&n&&(o.root+=` ${n}`),o},Cat=qr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Eat.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),h0=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:c,component:a="button",disabled:g=!1,disableRipple:v=!1,disableTouchRipple:x=!1,focusRipple:k=!1,focusVisibleClassName:I,LinkComponent:S="a",onBlur:P,onClick:D,onContextMenu:U,onDragLeave:H,onFocus:G,onFocusVisible:z,onKeyDown:j,onKeyUp:X,onMouseDown:Y,onMouseLeave:et,onMouseUp:st,onTouchEnd:it,onTouchMove:vt,onTouchStart:at,tabIndex:V=0,TouchRippleProps:dt,touchRippleRef:mt,type:wt,...pt}=r,At=ut.useRef(null),St=fat(),Lt=Uu(St.ref,mt),[jt,_t]=ut.useState(!1);g&&jt&&_t(!1),ut.useImperativeHandle(n,()=>({focusVisible:()=>{_t(!0),At.current.focus()}}),[]);const lt=St.shouldMount&&!v&&!g;ut.useEffect(()=>{jt&&k&&!v&&St.pulsate()},[v,k,jt,St]);const Tt=ig(St,"start",Y,x),kt=ig(St,"stop",U,x),Rt=ig(St,"stop",H,x),Ut=ig(St,"stop",st,x),ie=ig(St,"stop",ir=>{jt&&ir.preventDefault(),et&&et(ir)},x),Ht=ig(St,"start",at,x),ce=ig(St,"stop",it,x),de=ig(St,"stop",vt,x),Se=ig(St,"stop",ir=>{E6(ir.target)||_t(!1),P&&P(ir)},!1),Vt=Gv(ir=>{At.current||(At.current=ir.currentTarget),E6(ir.target)&&(_t(!0),z&&z(ir)),G&&G(ir)}),He=()=>{const ir=At.current;return a&&a!=="button"&&!(ir.tagName==="A"&&ir.href)},ke=Gv(ir=>{k&&!ir.repeat&&jt&&ir.key===" "&&St.stop(ir,()=>{St.start(ir)}),ir.target===ir.currentTarget&&He()&&ir.key===" "&&ir.preventDefault(),j&&j(ir),ir.target===ir.currentTarget&&He()&&ir.key==="Enter"&&!g&&(ir.preventDefault(),D&&D(ir))}),Jt=Gv(ir=>{k&&ir.key===" "&&jt&&!ir.defaultPrevented&&St.stop(ir,()=>{St.pulsate(ir)}),X&&X(ir),D&&ir.target===ir.currentTarget&&He()&&ir.key===" "&&!ir.defaultPrevented&&D(ir)});let $r=a;$r==="button"&&(pt.href||pt.to)&&($r=S);const vr={};$r==="button"?(vr.type=wt===void 0?"button":wt,vr.disabled=g):(!pt.href&&!pt.to&&(vr.role="button"),g&&(vr["aria-disabled"]=g));const Dr=Uu(e,At),Ie={...r,centerRipple:i,component:a,disabled:g,disableRipple:v,disableTouchRipple:x,focusRipple:k,tabIndex:V,focusVisible:jt},Mr=Tat(Ie);return yr.jsxs(Cat,{as:$r,className:pa(Mr.root,c),ownerState:Ie,onBlur:Se,onClick:D,onContextMenu:kt,onFocus:Vt,onKeyDown:ke,onKeyUp:Jt,onMouseDown:Tt,onMouseLeave:ie,onMouseUp:Ut,onDragLeave:Rt,onTouchEnd:ce,onTouchMove:de,onTouchStart:Ht,ref:Dr,tabIndex:g?-1:V,type:wt,...vr,...pt,children:[o,lt?yr.jsx(wat,{ref:Lt,center:i,...dt}):null]})});function ig(t,e,r,n=!1){return Gv(i=>(r&&r(i),n||t[e](i),!0))}const v_=Ei("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]);qr(h0,{name:"MuiAccordionSummary",slot:"Root"})(di(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${v_.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${v_.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${v_.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${v_.expanded}`]:{minHeight:64}}}]}}));qr("span",{name:"MuiAccordionSummary",slot:"Content"})(di(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${v_.expanded}`]:{margin:"20px 0"}}}]})));qr("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(di(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${v_.expanded}`]:{transform:"rotate(180deg)"}})));function Aat(t){return typeof t.main=="string"}function kat(t,e=[]){if(!Aat(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function gu(t=[]){return([,e])=>e&&kat(e,t)}function Iat(t){return bs("MuiCircularProgress",t)}Ei("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const iy=44,oL=Bw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,sL=Bw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Rat=typeof oL!="string"?KM`
        animation: ${oL} 1.4s linear infinite;
      `:null,Nat=typeof sL!="string"?KM`
        animation: ${sL} 1.4s ease-in-out infinite;
      `:null,Lat=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,o={root:["root",r,`color${Jn(n)}`],svg:["svg"],circle:["circle",`circle${Jn(r)}`,i&&"circleDisableShrink"]};return _s(o,Iat,e)},Mat=qr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${Jn(r.color)}`]]}})(di(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Rat||{animation:`${oL} 1.4s linear infinite`}},...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Pat=qr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Oat=qr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${Jn(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(di(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Nat||{animation:`${sL} 1.4s ease-in-out infinite`}}]}))),dq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,size:c=40,style:a,thickness:g=3.6,value:v=0,variant:x="indeterminate",...k}=r,I={...r,color:i,disableShrink:o,size:c,thickness:g,value:v,variant:x},S=Lat(I),P={},D={},U={};if(x==="determinate"){const H=2*Math.PI*((iy-g)/2);P.strokeDasharray=H.toFixed(3),U["aria-valuenow"]=Math.round(v),P.strokeDashoffset=`${((100-v)/100*H).toFixed(3)}px`,D.transform="rotate(-90deg)"}return yr.jsx(Mat,{className:pa(S.root,n),style:{width:c,height:c,...D,...a},ownerState:I,ref:e,role:"progressbar",...U,...k,children:yr.jsx(Pat,{className:S.svg,ownerState:I,viewBox:`${iy/2} ${iy/2} ${iy} ${iy}`,children:yr.jsx(Oat,{className:S.circle,style:P,ownerState:I,cx:iy,cy:iy,r:(iy-g)/2,fill:"none",strokeWidth:g})})})});function Dat(t){return bs("MuiIconButton",t)}const T6=Ei("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Bat=t=>{const{classes:e,disabled:r,color:n,edge:i,size:o,loading:c}=t,a={root:["root",c&&"loading",r&&"disabled",n!=="default"&&`color${Jn(n)}`,i&&`edge${Jn(i)}`,`size${Jn(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return _s(a,Dat,e)},zat=qr(h0,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${Jn(r.color)}`],r.edge&&e[`edge${Jn(r.edge)}`],e[`size${Jn(r.size)}`]]}})(di(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),di(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${T6.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${T6.loading}`]:{color:"transparent"}}))),Fat=qr("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Oy=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiIconButton"}),{edge:n=!1,children:i,className:o,color:c="default",disabled:a=!1,disableFocusRipple:g=!1,size:v="medium",id:x,loading:k=null,loadingIndicator:I,...S}=r,P=jC(x),D=I??yr.jsx(dq,{"aria-labelledby":P,color:"inherit",size:16}),U={...r,edge:n,color:c,disabled:a,disableFocusRipple:g,loading:k,loadingIndicator:D,size:v},H=Bat(U);return yr.jsxs(zat,{id:k?P:x,className:pa(H.root,o),centerRipple:!0,focusRipple:!g,disabled:a||k,ref:e,...S,ownerState:U,children:[typeof k=="boolean"&&yr.jsx("span",{className:H.loadingWrapper,style:{display:"contents"},children:yr.jsx(Fat,{className:H.loadingIndicator,ownerState:U,children:k&&D})}),i]})});function jat(t){return bs("MuiTypography",t)}const C6=Ei("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),$at={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Vat=Git(),Uat=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:c}=t,a={root:["root",o,t.align!=="inherit"&&`align${Jn(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return _s(a,jat,c)},qat=qr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Jn(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(di(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,r])=>e!=="inherit"&&r&&typeof r=="object").map(([e,r])=>({props:{variant:e},style:r})),...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Jn(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),A6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fq=ut.forwardRef(function(t,e){const{color:r,...n}=Ys({props:t,name:"MuiTypography"}),i=!$at[r],o=Vat({...n,...i&&{color:r}}),{align:c="inherit",className:a,component:g,gutterBottom:v=!1,noWrap:x=!1,paragraph:k=!1,variant:I="body1",variantMapping:S=A6,...P}=o,D={...o,align:c,color:r,className:a,component:g,gutterBottom:v,noWrap:x,paragraph:k,variant:I,variantMapping:S},U=g||(k?"p":S[I]||A6[I])||"span",H=Uat(D);return yr.jsx(qat,{as:U,ref:e,className:pa(H.root,a),...P,ownerState:D,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...P.style}})});Ei("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const k6=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e;qr(Py,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Jn(r.position)}`],e[`color${Jn(r.color)}`]]}})(di(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(gu(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?k6(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?k6(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]})));var pd="top",Of="bottom",Df="right",md="left",pP="auto",qw=[pd,Of,Df,md],X_="start",ow="end",Gat="clippingParents",pq="viewport",R1="popper",Hat="reference",I6=qw.reduce(function(t,e){return t.concat([e+"-"+X_,e+"-"+ow])},[]),mq=[].concat(qw,[pP]).reduce(function(t,e){return t.concat([e,e+"-"+X_,e+"-"+ow])},[]),Xat="beforeRead",Wat="read",Yat="afterRead",Kat="beforeMain",Zat="main",Qat="afterMain",Jat="beforeWrite",tot="write",eot="afterWrite",rot=[Xat,Wat,Yat,Kat,Zat,Qat,Jat,tot,eot];function Pm(t){return t?(t.nodeName||"").toLowerCase():null}function rf(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jv(t){var e=rf(t).Element;return t instanceof e||t instanceof Element}function If(t){var e=rf(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function mP(t){if(typeof ShadowRoot>"u")return!1;var e=rf(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function not(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!If(o)||!Pm(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(c){var a=i[c];a===!1?o.removeAttribute(c):o.setAttribute(c,a===!0?"":a)}))})}function iot(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},c=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=c.reduce(function(g,v){return g[v]="",g},{});!If(i)||!Pm(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(g){i.removeAttribute(g)}))})}}const aot={name:"applyStyles",enabled:!0,phase:"write",fn:not,effect:iot,requires:["computeStyles"]};function km(t){return t.split("-")[0]}var Hv=Math.max,lT=Math.min,W_=Math.round;function lL(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gq(){return!/^((?!chrome|android).)*safari/i.test(lL())}function Y_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&If(t)&&(i=t.offsetWidth>0&&W_(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&W_(n.height)/t.offsetHeight||1);var c=Jv(t)?rf(t):window,a=c.visualViewport,g=!gq()&&r,v=(n.left+(g&&a?a.offsetLeft:0))/i,x=(n.top+(g&&a?a.offsetTop:0))/o,k=n.width/i,I=n.height/o;return{width:k,height:I,top:x,right:v+k,bottom:x+I,left:v,x:v,y:x}}function gP(t){var e=Y_(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function yq(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&mP(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Eg(t){return rf(t).getComputedStyle(t)}function oot(t){return["table","td","th"].indexOf(Pm(t))>=0}function Dy(t){return((Jv(t)?t.ownerDocument:t.document)||window.document).documentElement}function qC(t){return Pm(t)==="html"?t:t.assignedSlot||t.parentNode||(mP(t)?t.host:null)||Dy(t)}function R6(t){return!If(t)||Eg(t).position==="fixed"?null:t.offsetParent}function sot(t){var e=/firefox/i.test(lL()),r=/Trident/i.test(lL());if(r&&If(t)){var n=Eg(t);if(n.position==="fixed")return null}var i=qC(t);for(mP(i)&&(i=i.host);If(i)&&["html","body"].indexOf(Pm(i))<0;){var o=Eg(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Gw(t){for(var e=rf(t),r=R6(t);r&&oot(r)&&Eg(r).position==="static";)r=R6(r);return r&&(Pm(r)==="html"||Pm(r)==="body"&&Eg(r).position==="static")?e:r||sot(t)||e}function yP(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function P2(t,e,r){return Hv(t,lT(e,r))}function lot(t,e,r){var n=P2(t,e,r);return n>r?r:n}function vq(){return{top:0,right:0,bottom:0,left:0}}function bq(t){return Object.assign({},vq(),t)}function _q(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var cot=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,bq(typeof t!="number"?t:_q(t,qw))};function uot(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,c=r.modifiersData.popperOffsets,a=km(r.placement),g=yP(a),v=[md,Df].indexOf(a)>=0,x=v?"height":"width";if(!(!o||!c)){var k=cot(i.padding,r),I=gP(o),S=g==="y"?pd:md,P=g==="y"?Of:Df,D=r.rects.reference[x]+r.rects.reference[g]-c[g]-r.rects.popper[x],U=c[g]-r.rects.reference[g],H=Gw(o),G=H?g==="y"?H.clientHeight||0:H.clientWidth||0:0,z=D/2-U/2,j=k[S],X=G-I[x]-k[P],Y=G/2-I[x]/2+z,et=P2(j,Y,X),st=g;r.modifiersData[n]=(e={},e[st]=et,e.centerOffset=et-Y,e)}}function hot(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||yq(e.elements.popper,i)&&(e.elements.arrow=i))}const dot={name:"arrow",enabled:!0,phase:"main",fn:uot,effect:hot,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function K_(t){return t.split("-")[1]}var fot={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pot(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:W_(r*i)/i||0,y:W_(n*i)/i||0}}function N6(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,c=t.offsets,a=t.position,g=t.gpuAcceleration,v=t.adaptive,x=t.roundOffsets,k=t.isFixed,I=c.x,S=I===void 0?0:I,P=c.y,D=P===void 0?0:P,U=typeof x=="function"?x({x:S,y:D}):{x:S,y:D};S=U.x,D=U.y;var H=c.hasOwnProperty("x"),G=c.hasOwnProperty("y"),z=md,j=pd,X=window;if(v){var Y=Gw(r),et="clientHeight",st="clientWidth";if(Y===rf(r)&&(Y=Dy(r),Eg(Y).position!=="static"&&a==="absolute"&&(et="scrollHeight",st="scrollWidth")),Y=Y,i===pd||(i===md||i===Df)&&o===ow){j=Of;var it=k&&Y===X&&X.visualViewport?X.visualViewport.height:Y[et];D-=it-n.height,D*=g?1:-1}if(i===md||(i===pd||i===Of)&&o===ow){z=Df;var vt=k&&Y===X&&X.visualViewport?X.visualViewport.width:Y[st];S-=vt-n.width,S*=g?1:-1}}var at=Object.assign({position:a},v&&fot),V=x===!0?pot({x:S,y:D},rf(r)):{x:S,y:D};if(S=V.x,D=V.y,g){var dt;return Object.assign({},at,(dt={},dt[j]=G?"0":"",dt[z]=H?"0":"",dt.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+D+"px)":"translate3d("+S+"px, "+D+"px, 0)",dt))}return Object.assign({},at,(e={},e[j]=G?D+"px":"",e[z]=H?S+"px":"",e.transform="",e))}function mot(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,c=o===void 0?!0:o,a=r.roundOffsets,g=a===void 0?!0:a,v={placement:km(e.placement),variation:K_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,N6(Object.assign({},v,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,N6(Object.assign({},v,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const got={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mot,data:{}};var f5={passive:!0};function yot(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,c=n.resize,a=c===void 0?!0:c,g=rf(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&v.forEach(function(x){x.addEventListener("scroll",r.update,f5)}),a&&g.addEventListener("resize",r.update,f5),function(){o&&v.forEach(function(x){x.removeEventListener("scroll",r.update,f5)}),a&&g.removeEventListener("resize",r.update,f5)}}const vot={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yot,data:{}};var bot={left:"right",right:"left",bottom:"top",top:"bottom"};function mE(t){return t.replace(/left|right|bottom|top/g,function(e){return bot[e]})}var _ot={start:"end",end:"start"};function L6(t){return t.replace(/start|end/g,function(e){return _ot[e]})}function vP(t){var e=rf(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function bP(t){return Y_(Dy(t)).left+vP(t).scrollLeft}function xot(t,e){var r=rf(t),n=Dy(t),i=r.visualViewport,o=n.clientWidth,c=n.clientHeight,a=0,g=0;if(i){o=i.width,c=i.height;var v=gq();(v||!v&&e==="fixed")&&(a=i.offsetLeft,g=i.offsetTop)}return{width:o,height:c,x:a+bP(t),y:g}}function wot(t){var e,r=Dy(t),n=vP(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Hv(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Hv(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+bP(t),g=-n.scrollTop;return Eg(i||r).direction==="rtl"&&(a+=Hv(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:c,x:a,y:g}}function _P(t){var e=Eg(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function xq(t){return["html","body","#document"].indexOf(Pm(t))>=0?t.ownerDocument.body:If(t)&&_P(t)?t:xq(qC(t))}function O2(t,e){var r;e===void 0&&(e=[]);var n=xq(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=rf(n),c=i?[o].concat(o.visualViewport||[],_P(n)?n:[]):n,a=e.concat(c);return i?a:a.concat(O2(qC(c)))}function cL(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Sot(t,e){var r=Y_(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function M6(t,e,r){return e===pq?cL(xot(t,r)):Jv(e)?Sot(e,r):cL(wot(Dy(t)))}function Eot(t){var e=O2(qC(t)),r=["absolute","fixed"].indexOf(Eg(t).position)>=0,n=r&&If(t)?Gw(t):t;return Jv(n)?e.filter(function(i){return Jv(i)&&yq(i,n)&&Pm(i)!=="body"}):[]}function Tot(t,e,r,n){var i=e==="clippingParents"?Eot(t):[].concat(e),o=[].concat(i,[r]),c=o[0],a=o.reduce(function(g,v){var x=M6(t,v,n);return g.top=Hv(x.top,g.top),g.right=lT(x.right,g.right),g.bottom=lT(x.bottom,g.bottom),g.left=Hv(x.left,g.left),g},M6(t,c,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function wq(t){var e=t.reference,r=t.element,n=t.placement,i=n?km(n):null,o=n?K_(n):null,c=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,g;switch(i){case pd:g={x:c,y:e.y-r.height};break;case Of:g={x:c,y:e.y+e.height};break;case Df:g={x:e.x+e.width,y:a};break;case md:g={x:e.x-r.width,y:a};break;default:g={x:e.x,y:e.y}}var v=i?yP(i):null;if(v!=null){var x=v==="y"?"height":"width";switch(o){case X_:g[v]=g[v]-(e[x]/2-r[x]/2);break;case ow:g[v]=g[v]+(e[x]/2-r[x]/2);break}}return g}function sw(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,c=o===void 0?t.strategy:o,a=r.boundary,g=a===void 0?Gat:a,v=r.rootBoundary,x=v===void 0?pq:v,k=r.elementContext,I=k===void 0?R1:k,S=r.altBoundary,P=S===void 0?!1:S,D=r.padding,U=D===void 0?0:D,H=bq(typeof U!="number"?U:_q(U,qw)),G=I===R1?Hat:R1,z=t.rects.popper,j=t.elements[P?G:I],X=Tot(Jv(j)?j:j.contextElement||Dy(t.elements.popper),g,x,c),Y=Y_(t.elements.reference),et=wq({reference:Y,element:z,placement:i}),st=cL(Object.assign({},z,et)),it=I===R1?st:Y,vt={top:X.top-it.top+H.top,bottom:it.bottom-X.bottom+H.bottom,left:X.left-it.left+H.left,right:it.right-X.right+H.right},at=t.modifiersData.offset;if(I===R1&&at){var V=at[i];Object.keys(vt).forEach(function(dt){var mt=[Df,Of].indexOf(dt)>=0?1:-1,wt=[pd,Of].indexOf(dt)>=0?"y":"x";vt[dt]+=V[wt]*mt})}return vt}function Cot(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,c=r.padding,a=r.flipVariations,g=r.allowedAutoPlacements,v=g===void 0?mq:g,x=K_(n),k=x?a?I6:I6.filter(function(P){return K_(P)===x}):qw,I=k.filter(function(P){return v.indexOf(P)>=0});I.length===0&&(I=k);var S=I.reduce(function(P,D){return P[D]=sw(t,{placement:D,boundary:i,rootBoundary:o,padding:c})[km(D)],P},{});return Object.keys(S).sort(function(P,D){return S[P]-S[D]})}function Aot(t){if(km(t)===pP)return[];var e=mE(t);return[L6(t),e,L6(e)]}function kot(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,a=c===void 0?!0:c,g=r.fallbackPlacements,v=r.padding,x=r.boundary,k=r.rootBoundary,I=r.altBoundary,S=r.flipVariations,P=S===void 0?!0:S,D=r.allowedAutoPlacements,U=e.options.placement,H=km(U),G=H===U,z=g||(G||!P?[mE(U)]:Aot(U)),j=[U].concat(z).reduce(function(kt,Rt){return kt.concat(km(Rt)===pP?Cot(e,{placement:Rt,boundary:x,rootBoundary:k,padding:v,flipVariations:P,allowedAutoPlacements:D}):Rt)},[]),X=e.rects.reference,Y=e.rects.popper,et=new Map,st=!0,it=j[0],vt=0;vt<j.length;vt++){var at=j[vt],V=km(at),dt=K_(at)===X_,mt=[pd,Of].indexOf(V)>=0,wt=mt?"width":"height",pt=sw(e,{placement:at,boundary:x,rootBoundary:k,altBoundary:I,padding:v}),At=mt?dt?Df:md:dt?Of:pd;X[wt]>Y[wt]&&(At=mE(At));var St=mE(At),Lt=[];if(o&&Lt.push(pt[V]<=0),a&&Lt.push(pt[At]<=0,pt[St]<=0),Lt.every(function(kt){return kt})){it=at,st=!1;break}et.set(at,Lt)}if(st)for(var jt=P?3:1,_t=function(kt){var Rt=j.find(function(Ut){var ie=et.get(Ut);if(ie)return ie.slice(0,kt).every(function(Ht){return Ht})});if(Rt)return it=Rt,"break"},lt=jt;lt>0;lt--){var Tt=_t(lt);if(Tt==="break")break}e.placement!==it&&(e.modifiersData[n]._skip=!0,e.placement=it,e.reset=!0)}}const Iot={name:"flip",enabled:!0,phase:"main",fn:kot,requiresIfExists:["offset"],data:{_skip:!1}};function P6(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function O6(t){return[pd,Df,Of,md].some(function(e){return t[e]>=0})}function Rot(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,c=sw(e,{elementContext:"reference"}),a=sw(e,{altBoundary:!0}),g=P6(c,n),v=P6(a,i,o),x=O6(g),k=O6(v);e.modifiersData[r]={referenceClippingOffsets:g,popperEscapeOffsets:v,isReferenceHidden:x,hasPopperEscaped:k},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":k})}const Not={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rot};function Lot(t,e,r){var n=km(t),i=[md,pd].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,c=o[0],a=o[1];return c=c||0,a=(a||0)*i,[md,Df].indexOf(n)>=0?{x:a,y:c}:{x:c,y:a}}function Mot(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,c=mq.reduce(function(x,k){return x[k]=Lot(k,e.rects,o),x},{}),a=c[e.placement],g=a.x,v=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=v),e.modifiersData[n]=c}const Pot={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mot};function Oot(t){var e=t.state,r=t.name;e.modifiersData[r]=wq({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Dot={name:"popperOffsets",enabled:!0,phase:"read",fn:Oot,data:{}};function Bot(t){return t==="x"?"y":"x"}function zot(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,a=c===void 0?!1:c,g=r.boundary,v=r.rootBoundary,x=r.altBoundary,k=r.padding,I=r.tether,S=I===void 0?!0:I,P=r.tetherOffset,D=P===void 0?0:P,U=sw(e,{boundary:g,rootBoundary:v,padding:k,altBoundary:x}),H=km(e.placement),G=K_(e.placement),z=!G,j=yP(H),X=Bot(j),Y=e.modifiersData.popperOffsets,et=e.rects.reference,st=e.rects.popper,it=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,vt=typeof it=="number"?{mainAxis:it,altAxis:it}:Object.assign({mainAxis:0,altAxis:0},it),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Y){if(o){var dt,mt=j==="y"?pd:md,wt=j==="y"?Of:Df,pt=j==="y"?"height":"width",At=Y[j],St=At+U[mt],Lt=At-U[wt],jt=S?-st[pt]/2:0,_t=G===X_?et[pt]:st[pt],lt=G===X_?-st[pt]:-et[pt],Tt=e.elements.arrow,kt=S&&Tt?gP(Tt):{width:0,height:0},Rt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vq(),Ut=Rt[mt],ie=Rt[wt],Ht=P2(0,et[pt],kt[pt]),ce=z?et[pt]/2-jt-Ht-Ut-vt.mainAxis:_t-Ht-Ut-vt.mainAxis,de=z?-et[pt]/2+jt+Ht+ie+vt.mainAxis:lt+Ht+ie+vt.mainAxis,Se=e.elements.arrow&&Gw(e.elements.arrow),Vt=Se?j==="y"?Se.clientTop||0:Se.clientLeft||0:0,He=(dt=at?.[j])!=null?dt:0,ke=At+ce-He-Vt,Jt=At+de-He,$r=P2(S?lT(St,ke):St,At,S?Hv(Lt,Jt):Lt);Y[j]=$r,V[j]=$r-At}if(a){var vr,Dr=j==="x"?pd:md,Ie=j==="x"?Of:Df,Mr=Y[X],ir=X==="y"?"height":"width",Rr=Mr+U[Dr],Pr=Mr-U[Ie],Ir=[pd,md].indexOf(H)!==-1,dr=(vr=at?.[X])!=null?vr:0,ar=Ir?Rr:Mr-et[ir]-st[ir]-dr+vt.altAxis,Or=Ir?Mr+et[ir]+st[ir]-dr-vt.altAxis:Pr,er=S&&Ir?lot(ar,Mr,Or):P2(S?ar:Rr,Mr,S?Or:Pr);Y[X]=er,V[X]=er-Mr}e.modifiersData[n]=V}}const Fot={name:"preventOverflow",enabled:!0,phase:"main",fn:zot,requiresIfExists:["offset"]};function jot(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $ot(t){return t===rf(t)||!If(t)?vP(t):jot(t)}function Vot(t){var e=t.getBoundingClientRect(),r=W_(e.width)/t.offsetWidth||1,n=W_(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Uot(t,e,r){r===void 0&&(r=!1);var n=If(e),i=If(e)&&Vot(e),o=Dy(e),c=Y_(t,i,r),a={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(n||!n&&!r)&&((Pm(e)!=="body"||_P(o))&&(a=$ot(e)),If(e)?(g=Y_(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):o&&(g.x=bP(o))),{x:c.left+a.scrollLeft-g.x,y:c.top+a.scrollTop-g.y,width:c.width,height:c.height}}function qot(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(a){if(!r.has(a)){var g=e.get(a);g&&i(g)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function Got(t){var e=qot(t);return rot.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Hot(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Xot(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var D6={placement:"bottom",modifiers:[],strategy:"absolute"};function B6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Wot(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?D6:i;return function(c,a,g){g===void 0&&(g=o);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},D6,o),modifiersData:{},elements:{reference:c,popper:a},attributes:{},styles:{}},x=[],k=!1,I={state:v,setOptions:function(D){var U=typeof D=="function"?D(v.options):D;P(),v.options=Object.assign({},o,v.options,U),v.scrollParents={reference:Jv(c)?O2(c):c.contextElement?O2(c.contextElement):[],popper:O2(a)};var H=Got(Xot([].concat(n,v.options.modifiers)));return v.orderedModifiers=H.filter(function(G){return G.enabled}),S(),I.update()},forceUpdate:function(){if(!k){var D=v.elements,U=D.reference,H=D.popper;if(B6(U,H)){v.rects={reference:Uot(U,Gw(H),v.options.strategy==="fixed"),popper:gP(H)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(st){return v.modifiersData[st.name]=Object.assign({},st.data)});for(var G=0;G<v.orderedModifiers.length;G++){if(v.reset===!0){v.reset=!1,G=-1;continue}var z=v.orderedModifiers[G],j=z.fn,X=z.options,Y=X===void 0?{}:X,et=z.name;typeof j=="function"&&(v=j({state:v,options:Y,name:et,instance:I})||v)}}}},update:Hot(function(){return new Promise(function(D){I.forceUpdate(),D(v)})}),destroy:function(){P(),k=!0}};if(!B6(c,a))return I;I.setOptions(g).then(function(D){!k&&g.onFirstUpdate&&g.onFirstUpdate(D)});function S(){v.orderedModifiers.forEach(function(D){var U=D.name,H=D.options,G=H===void 0?{}:H,z=D.effect;if(typeof z=="function"){var j=z({state:v,name:U,instance:I,options:G}),X=function(){};x.push(j||X)}})}function P(){x.forEach(function(D){return D()}),x=[]}return I}}var Yot=[vot,Dot,got,aot,Pot,Iot,Fot,dot,Not],Kot=Wot({defaultModifiers:Yot});function Sq(t){const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=t,c=i?{}:cq(r,n),{props:a,internalRef:g}=hq({...o,externalSlotProps:c}),v=Uu(g,c?.ref,t.additionalProps?.ref);return lq(e,{...a,ref:v},n)}function Hw(t){return parseInt(ut.version,10)>=19?t?.props?.ref||null:t?.ref||null}function Zot(t){return typeof t=="function"?t():t}const Eq=ut.forwardRef(function(t,e){const{children:r,container:n,disablePortal:i=!1}=t,[o,c]=ut.useState(null),a=Uu(ut.isValidElement(r)?Hw(r):null,e);if(Pf(()=>{i||c(Zot(n)||document.body)},[n,i]),Pf(()=>{if(o&&!i)return v6(e,o),()=>{v6(e,null)}},[e,o,i]),i){if(ut.isValidElement(r)){const g={ref:a};return ut.cloneElement(r,g)}return r}return o&&DM.createPortal(r,o)});function Qot(t){return bs("MuiPopper",t)}Ei("MuiPopper",["root"]);function Jot(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function uL(t){return typeof t=="function"?t():t}function tst(t){return t.nodeType!==void 0}const est=t=>{const{classes:e}=t;return _s({root:["root"]},Qot,e)},rst={},nst=ut.forwardRef(function(t,e){const{anchorEl:r,children:n,direction:i,disablePortal:o,modifiers:c,open:a,placement:g,popperOptions:v,popperRef:x,slotProps:k={},slots:I={},TransitionProps:S,ownerState:P,...D}=t,U=ut.useRef(null),H=Uu(U,e),G=ut.useRef(null),z=Uu(G,x),j=ut.useRef(z);Pf(()=>{j.current=z},[z]),ut.useImperativeHandle(x,()=>G.current,[]);const X=Jot(g,i),[Y,et]=ut.useState(X),[st,it]=ut.useState(uL(r));ut.useEffect(()=>{G.current&&G.current.forceUpdate()}),ut.useEffect(()=>{r&&it(uL(r))},[r]),Pf(()=>{if(!st||!a)return;const mt=At=>{et(At.placement)};let wt=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:At})=>{mt(At)}}];c!=null&&(wt=wt.concat(c)),v&&v.modifiers!=null&&(wt=wt.concat(v.modifiers));const pt=Kot(st,U.current,{placement:X,...v,modifiers:wt});return j.current(pt),()=>{pt.destroy(),j.current(null)}},[st,o,c,a,v,X]);const vt={placement:Y};S!==null&&(vt.TransitionProps=S);const at=est(t),V=I.root??"div",dt=Sq({elementType:V,externalSlotProps:k.root,externalForwardedProps:D,additionalProps:{role:"tooltip",ref:H},ownerState:t,className:at.root});return yr.jsx(V,{...dt,children:typeof n=="function"?n(vt):n})}),ist=ut.forwardRef(function(t,e){const{anchorEl:r,children:n,container:i,direction:o="ltr",disablePortal:c=!1,keepMounted:a=!1,modifiers:g,open:v,placement:x="bottom",popperOptions:k=rst,popperRef:I,style:S,transition:P=!1,slotProps:D={},slots:U={},...H}=t,[G,z]=ut.useState(!0),j=()=>{z(!1)},X=()=>{z(!0)};if(!a&&!v&&(!P||G))return null;let Y;if(i)Y=i;else if(r){const it=uL(r);Y=it&&tst(it)?ef(it).body:ef(null).body}const et=!v&&a&&(!P||G)?"none":void 0,st=P?{in:v,onEnter:j,onExited:X}:void 0;return yr.jsx(Eq,{disablePortal:c,container:Y,children:yr.jsx(nst,{anchorEl:r,direction:o,disablePortal:c,modifiers:g,ref:e,open:P?!G:v,placement:x,popperOptions:k,popperRef:I,slotProps:D,slots:U,...H,style:{position:"fixed",top:0,left:0,display:et,...S},TransitionProps:st,children:n})})}),ast=qr(ist,{name:"MuiPopper",slot:"Root"})({}),ost=ut.forwardRef(function(t,e){const r=$U(),n=Ys({props:t,name:"MuiPopper"}),{anchorEl:i,component:o,components:c,componentsProps:a,container:g,disablePortal:v,keepMounted:x,modifiers:k,open:I,placement:S,popperOptions:P,popperRef:D,transition:U,slots:H,slotProps:G,...z}=n,j=H?.root??c?.Root,X={anchorEl:i,container:g,disablePortal:v,keepMounted:x,modifiers:k,open:I,placement:S,popperOptions:P,popperRef:D,transition:U,...z};return yr.jsx(ast,{as:o,direction:r?"rtl":"ltr",slots:{root:j},slotProps:G??a,...X,ref:e})});function p5(t){return parseInt(t,10)||0}const sst={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function lst(t){for(const e in t)return!1;return!0}function z6(t){return lst(t)||t.outerHeightStyle===0&&!t.overflowing}const cst=ut.forwardRef(function(t,e){const{onChange:r,maxRows:n,minRows:i=1,style:o,value:c,...a}=t,{current:g}=ut.useRef(c!=null),v=ut.useRef(null),x=Uu(e,v),k=ut.useRef(null),I=ut.useRef(null),S=ut.useCallback(()=>{const G=v.current,z=I.current;if(!G||!z)return;const j=Sg(G).getComputedStyle(G);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};z.style.width=j.width,z.value=G.value||t.placeholder||"x",z.value.slice(-1)===`
`&&(z.value+=" ");const X=j.boxSizing,Y=p5(j.paddingBottom)+p5(j.paddingTop),et=p5(j.borderBottomWidth)+p5(j.borderTopWidth),st=z.scrollHeight;z.value="x";const it=z.scrollHeight;let vt=st;i&&(vt=Math.max(Number(i)*it,vt)),n&&(vt=Math.min(Number(n)*it,vt)),vt=Math.max(vt,it);const at=vt+(X==="border-box"?Y+et:0),V=Math.abs(vt-st)<=1;return{outerHeightStyle:at,overflowing:V}},[n,i,t.placeholder]),P=Gv(()=>{const G=v.current,z=S();if(!G||!z||z6(z))return!1;const j=z.outerHeightStyle;return k.current!=null&&k.current!==j}),D=ut.useCallback(()=>{const G=v.current,z=S();if(!G||!z||z6(z))return;const j=z.outerHeightStyle;k.current!==j&&(k.current=j,G.style.height=`${j}px`),G.style.overflow=z.overflowing?"hidden":""},[S]),U=ut.useRef(-1);Pf(()=>{const G=rq(D),z=v?.current;if(!z)return;const j=Sg(z);j.addEventListener("resize",G);let X;return typeof ResizeObserver<"u"&&(X=new ResizeObserver(()=>{P()&&(X.unobserve(z),cancelAnimationFrame(U.current),D(),U.current=requestAnimationFrame(()=>{X.observe(z)}))}),X.observe(z)),()=>{G.clear(),cancelAnimationFrame(U.current),j.removeEventListener("resize",G),X&&X.disconnect()}},[S,D,P]),Pf(()=>{D()});const H=G=>{g||D();const z=G.target,j=z.value.length,X=z.value.endsWith(`
`),Y=z.selectionStart===j;X&&Y&&z.setSelectionRange(j,j),r&&r(G)};return yr.jsxs(ut.Fragment,{children:[yr.jsx("textarea",{value:c,onChange:H,ref:x,rows:i,style:o,...a}),yr.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:I,tabIndex:-1,style:{...sst.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function GC({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const xP=ut.createContext(void 0);function Xw(){return ut.useContext(xP)}function F6(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function cT(t,e=!1){return t&&(F6(t.value)&&t.value!==""||e&&F6(t.defaultValue)&&t.defaultValue!=="")}function ust(t){return t.startAdornment}function hst(t){return bs("MuiInputBase",t)}const Z_=Ei("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var j6;const HC=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Jn(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},XC=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},dst=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:o,focused:c,formControl:a,fullWidth:g,hiddenLabel:v,multiline:x,readOnly:k,size:I,startAdornment:S,type:P}=t,D={root:["root",`color${Jn(r)}`,n&&"disabled",i&&"error",g&&"fullWidth",c&&"focused",a&&"formControl",I&&I!=="medium"&&`size${Jn(I)}`,x&&"multiline",S&&"adornedStart",o&&"adornedEnd",v&&"hiddenLabel",k&&"readOnly"],input:["input",n&&"disabled",P==="search"&&"inputTypeSearch",x&&"inputMultiline",I==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",S&&"inputAdornedStart",o&&"inputAdornedEnd",k&&"readOnly"]};return _s(D,hst,e)},WC=qr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:HC})(di(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Z_.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),YC=qr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:XC})(di(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Z_.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Z_.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),$6=qit({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),wP=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:c,color:a,components:g={},componentsProps:v={},defaultValue:x,disabled:k,disableInjectingGlobalStyles:I,endAdornment:S,error:P,fullWidth:D=!1,id:U,inputComponent:H="input",inputProps:G={},inputRef:z,margin:j,maxRows:X,minRows:Y,multiline:et=!1,name:st,onBlur:it,onChange:vt,onClick:at,onFocus:V,onKeyDown:dt,onKeyUp:mt,placeholder:wt,readOnly:pt,renderSuffix:At,rows:St,size:Lt,slotProps:jt={},slots:_t={},startAdornment:lt,type:Tt="text",value:kt,...Rt}=r,Ut=G.value!=null?G.value:kt,{current:ie}=ut.useRef(Ut!=null),Ht=ut.useRef(),ce=ut.useCallback(Ze=>{},[]),de=Uu(Ht,z,G.ref,ce),[Se,Vt]=ut.useState(!1),He=Xw(),ke=GC({props:r,muiFormControl:He,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ke.focused=He?He.focused:Se,ut.useEffect(()=>{!He&&k&&Se&&(Vt(!1),it&&it())},[He,k,Se,it]);const Jt=He&&He.onFilled,$r=He&&He.onEmpty,vr=ut.useCallback(Ze=>{cT(Ze)?Jt&&Jt():$r&&$r()},[Jt,$r]);Pf(()=>{ie&&vr({value:Ut})},[Ut,vr,ie]);const Dr=Ze=>{V&&V(Ze),G.onFocus&&G.onFocus(Ze),He&&He.onFocus?He.onFocus(Ze):Vt(!0)},Ie=Ze=>{it&&it(Ze),G.onBlur&&G.onBlur(Ze),He&&He.onBlur?He.onBlur(Ze):Vt(!1)},Mr=(Ze,...rr)=>{if(!ie){const Me=Ze.target||Ht.current;if(Me==null)throw new Error(xg(1));vr({value:Me.value})}G.onChange&&G.onChange(Ze,...rr),vt&&vt(Ze,...rr)};ut.useEffect(()=>{vr(Ht.current)},[]);const ir=Ze=>{Ht.current&&Ze.currentTarget===Ze.target&&Ht.current.focus(),at&&at(Ze)};let Rr=H,Pr=G;et&&Rr==="input"&&(St?Pr={type:void 0,minRows:St,maxRows:St,...Pr}:Pr={type:void 0,maxRows:X,minRows:Y,...Pr},Rr=cst);const Ir=Ze=>{vr(Ze.animationName==="mui-auto-fill-cancel"?Ht.current:{value:"x"})};ut.useEffect(()=>{He&&He.setAdornedStart(!!lt)},[He,lt]);const dr={...r,color:ke.color||"primary",disabled:ke.disabled,endAdornment:S,error:ke.error,focused:ke.focused,formControl:He,fullWidth:D,hiddenLabel:ke.hiddenLabel,multiline:et,size:ke.size,startAdornment:lt,type:Tt},ar=dst(dr),Or=_t.root||g.Root||WC,er=jt.root||v.root||{},Fr=_t.input||g.Input||YC;return Pr={...Pr,...jt.input??v.input},yr.jsxs(ut.Fragment,{children:[!I&&typeof $6=="function"&&(j6||(j6=yr.jsx($6,{}))),yr.jsxs(Or,{...er,ref:e,onClick:ir,...Rt,...!H_(Or)&&{ownerState:{...dr,...er.ownerState}},className:pa(ar.root,er.className,c,pt&&"MuiInputBase-readOnly"),children:[lt,yr.jsx(xP.Provider,{value:null,children:yr.jsx(Fr,{"aria-invalid":ke.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:x,disabled:ke.disabled,id:U,onAnimationStart:Ir,name:st,placeholder:wt,readOnly:pt,required:ke.required,rows:St,value:Ut,onKeyDown:dt,onKeyUp:mt,type:Tt,...Pr,...!H_(Fr)&&{as:Rr,ownerState:{...dr,...Pr.ownerState}},ref:de,className:pa(ar.input,Pr.className,pt&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:Mr,onFocus:Dr})}),S,At?At({...ke,startAdornment:lt}):null]})]})});function fst(t){return bs("MuiInput",t)}const N1={...Z_,...Ei("MuiInput",["root","underline","input"])};function pst(t){return bs("MuiOutlinedInput",t)}const tm={...Z_,...Ei("MuiOutlinedInput",["root","notchedOutline","input"])};function mst(t){return bs("MuiFilledInput",t)}const yv={...Z_,...Ei("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},gst=ba(yr.jsx("path",{d:"M7 10l5 5 5-5z"})),yst=ba(yr.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));Ei("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);qr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],r.colorDefault&&e.colorDefault]}})(di(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]})));qr("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4});qr(yst,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});const vst=cP(Fn.element);vst.isRequired=cP(Fn.element.isRequired);const bst={entering:{opacity:1},entered:{opacity:1}},_st=ut.forwardRef(function(t,e){const r=Vw(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:c,easing:a,in:g,onEnter:v,onEntered:x,onEntering:k,onExit:I,onExited:S,onExiting:P,style:D,timeout:U=n,TransitionComponent:H=Ap,...G}=t,z=ut.useRef(null),j=Uu(z,Hw(c),e),X=dt=>mt=>{if(dt){const wt=z.current;mt===void 0?dt(wt):dt(wt,mt)}},Y=X(k),et=X((dt,mt)=>{sq(dt);const wt=G_({style:D,timeout:U,easing:a},{mode:"enter"});dt.style.webkitTransition=r.transitions.create("opacity",wt),dt.style.transition=r.transitions.create("opacity",wt),v&&v(dt,mt)}),st=X(x),it=X(P),vt=X(dt=>{const mt=G_({style:D,timeout:U,easing:a},{mode:"exit"});dt.style.webkitTransition=r.transitions.create("opacity",mt),dt.style.transition=r.transitions.create("opacity",mt),I&&I(dt)}),at=X(S),V=dt=>{i&&i(z.current,dt)};return yr.jsx(H,{appear:o,in:g,nodeRef:z,onEnter:et,onEntered:st,onEntering:Y,onExit:vt,onExited:at,onExiting:it,addEndListener:V,timeout:U,...G,children:(dt,{ownerState:mt,...wt})=>ut.cloneElement(c,{style:{opacity:0,visibility:dt==="exited"&&!g?"hidden":void 0,...bst[dt],...D,...c.props.style},ref:j,...wt})})});function xst(t){return bs("MuiBackdrop",t)}Ei("MuiBackdrop",["root","invisible"]);const wst=t=>{const{classes:e,invisible:r}=t;return _s({root:["root",r&&"invisible"]},xst,e)},Sst=qr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Tq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:c=!1,open:a,components:g={},componentsProps:v={},slotProps:x={},slots:k={},TransitionComponent:I,transitionDuration:S,...P}=r,D={...r,component:o,invisible:c},U=wst(D),H={transition:I,root:g.Root,...k},G={...v,...x},z={component:o,slots:H,slotProps:G},[j,X]=Jd("root",{elementType:Sst,externalForwardedProps:z,className:pa(U.root,i),ownerState:D}),[Y,et]=Jd("transition",{elementType:_st,externalForwardedProps:z,ownerState:D});return yr.jsx(Y,{in:a,timeout:S,...P,...et,children:yr.jsx(j,{"aria-hidden":!0,...X,classes:U,ref:e,children:n})})}),Est=Ei("MuiBox",["root"]),Tst=gx(),d0=NU({themeId:vp,defaultTheme:Tst,defaultClassName:Est.root,generateClassName:rP.generate});function Cst(t){return bs("MuiButton",t)}const vv=Ei("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ast=ut.createContext({}),kst=ut.createContext(void 0),Ist=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:o,loading:c,loadingPosition:a,classes:g}=t,v={root:["root",c&&"loading",o,`${o}${Jn(e)}`,`size${Jn(i)}`,`${o}Size${Jn(i)}`,`color${Jn(e)}`,r&&"disableElevation",n&&"fullWidth",c&&`loadingPosition${Jn(a)}`],startIcon:["icon","startIcon",`iconSize${Jn(i)}`],endIcon:["icon","endIcon",`iconSize${Jn(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},x=_s(v,Cst,g);return{...g,...x}},Cq=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Rst=qr(h0,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Jn(r.color)}`],e[`size${Jn(r.size)}`],e[`${r.variant}Size${Jn(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(di(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vv.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${vv.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${vv.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vv.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(gu()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vv.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vv.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${vv.loading}`]:{color:"transparent"}}}]}})),Nst=qr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${Jn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Cq]})),Lst=qr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${Jn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Cq]})),Mst=qr("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),V6=qr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Pst=ut.forwardRef(function(t,e){const r=ut.useContext(Ast),n=ut.useContext(kst),i=nw(r,t),o=Ys({props:i,name:"MuiButton"}),{children:c,color:a="primary",component:g="button",className:v,disabled:x=!1,disableElevation:k=!1,disableFocusRipple:I=!1,endIcon:S,focusVisibleClassName:P,fullWidth:D=!1,id:U,loading:H=null,loadingIndicator:G,loadingPosition:z="center",size:j="medium",startIcon:X,type:Y,variant:et="text",...st}=o,it=jC(U),vt=G??yr.jsx(dq,{"aria-labelledby":it,color:"inherit",size:16}),at={...o,color:a,component:g,disabled:x,disableElevation:k,disableFocusRipple:I,fullWidth:D,loading:H,loadingIndicator:vt,loadingPosition:z,size:j,type:Y,variant:et},V=Ist(at),dt=(X||H&&z==="start")&&yr.jsx(Nst,{className:V.startIcon,ownerState:at,children:X||yr.jsx(V6,{className:V.loadingIconPlaceholder,ownerState:at})}),mt=(S||H&&z==="end")&&yr.jsx(Lst,{className:V.endIcon,ownerState:at,children:S||yr.jsx(V6,{className:V.loadingIconPlaceholder,ownerState:at})}),wt=n||"",pt=typeof H=="boolean"?yr.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:H&&yr.jsx(Mst,{className:V.loadingIndicator,ownerState:at,children:vt})}):null;return yr.jsxs(Rst,{ownerState:at,className:pa(r.className,V.root,v,wt),component:g,disabled:x||H,focusRipple:!I,focusVisibleClassName:pa(V.focusVisible,P),ref:e,type:Y,id:H?it:U,...st,classes:V,children:[dt,z!=="end"&&pt,c,z==="end"&&pt,mt]})}),ja=Ei("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Ost=(t,e)=>{const{ownerState:r}=t;return[{[`& .${ja.grouped}`]:e.grouped},{[`& .${ja.grouped}`]:e[`grouped${Jn(r.orientation)}`]},{[`& .${ja.grouped}`]:e[`grouped${Jn(r.variant)}`]},{[`& .${ja.grouped}`]:e[`grouped${Jn(r.variant)}${Jn(r.orientation)}`]},{[`& .${ja.grouped}`]:e[`grouped${Jn(r.variant)}${Jn(r.color)}`]},{[`& .${ja.firstButton}`]:e.firstButton},{[`& .${ja.lastButton}`]:e.lastButton},{[`& .${ja.middleButton}`]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]};qr("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Ost})(di(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ja.lastButton},& .${ja.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ja.lastButton},& .${ja.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderRight:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ja.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottom:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ja.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(gu()).flatMap(([e])=>[{props:{variant:"text",color:e},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderColor:t.alpha((t.vars||t).palette[e].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${ja.lastButton},& .${ja.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${ja.lastButton},& .${ja.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${ja.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${ja.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(gu(["dark"])).map(([e])=>({props:{variant:"contained",color:e},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderColor:(t.vars||t).palette[e].dark}}}))],[`& .${ja.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}})));function Dst(t){return bs("PrivateSwitchBase",t)}Ei("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Bst=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${Jn(i)}`],input:["input"]};return _s(o,Dst,e)},zst=qr(h0,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Fst=qr("input",{name:"MuiSwitchBase",shouldForwardProp:ru})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Aq=ut.forwardRef(function(t,e){const{autoFocus:r,checked:n,checkedIcon:i,defaultChecked:o,disabled:c,disableFocusRipple:a=!1,edge:g=!1,icon:v,id:x,inputProps:k,inputRef:I,name:S,onBlur:P,onChange:D,onFocus:U,readOnly:H,required:G=!1,tabIndex:z,type:j,value:X,slots:Y={},slotProps:et={},...st}=t,[it,vt]=rL({controlled:n,default:!!o,name:"SwitchBase",state:"checked"}),at=Xw(),V=kt=>{U&&U(kt),at&&at.onFocus&&at.onFocus(kt)},dt=kt=>{P&&P(kt),at&&at.onBlur&&at.onBlur(kt)},mt=kt=>{if(kt.nativeEvent.defaultPrevented)return;const Rt=kt.target.checked;vt(Rt),D&&D(kt,Rt)};let wt=c;at&&typeof wt>"u"&&(wt=at.disabled);const pt=j==="checkbox"||j==="radio",At={...t,checked:it,disabled:wt,disableFocusRipple:a,edge:g},St=Bst(At),Lt={slots:Y,slotProps:{input:k,...et}},[jt,_t]=Jd("root",{ref:e,elementType:zst,className:St.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Lt,component:"span",...st},getSlotProps:kt=>({...kt,onFocus:Rt=>{kt.onFocus?.(Rt),V(Rt)},onBlur:Rt=>{kt.onBlur?.(Rt),dt(Rt)}}),ownerState:At,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:wt,role:void 0,tabIndex:null}}),[lt,Tt]=Jd("input",{ref:I,elementType:Fst,className:St.input,externalForwardedProps:Lt,getSlotProps:kt=>({...kt,onChange:Rt=>{kt.onChange?.(Rt),mt(Rt)}}),ownerState:At,additionalProps:{autoFocus:r,checked:n,defaultChecked:o,disabled:wt,id:pt?x:void 0,name:S,readOnly:H,required:G,tabIndex:z,type:j,...j==="checkbox"&&X===void 0?{}:{value:X}}});return yr.jsxs(jt,{..._t,children:[yr.jsx(lt,{...Tt}),it?i:v]})}),jst=ba(yr.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),$st=ba(yr.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Vst=ba(yr.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Ust(t){return bs("MuiCheckbox",t)}const Nk=Ei("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),qst=t=>{const{classes:e,indeterminate:r,color:n,size:i}=t,o={root:["root",r&&"indeterminate",`color${Jn(n)}`,`size${Jn(i)}`]},c=_s(o,Ust,e);return{...e,...c}},Gst=qr(Aq,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${Jn(r.size)}`],r.color!=="default"&&e[`color${Jn(r.color)}`]]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{[`&.${Nk.checked}, &.${Nk.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${Nk.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Hst=yr.jsx($st,{}),Xst=yr.jsx(jst,{}),Wst=yr.jsx(Vst,{}),kq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiCheckbox"}),{checkedIcon:n=Hst,color:i="primary",icon:o=Xst,indeterminate:c=!1,indeterminateIcon:a=Wst,inputProps:g,size:v="medium",disableRipple:x=!1,className:k,slots:I={},slotProps:S={},...P}=r,D=c?a:o,U=c?a:n,H={...r,disableRipple:x,color:i,indeterminate:c,size:v},G=qst(H),z=S.input??g,[j,X]=Jd("root",{ref:e,elementType:Gst,className:pa(G.root,k),shouldForwardComponentProp:!0,externalForwardedProps:{slots:I,slotProps:S,...P},ownerState:H,additionalProps:{type:"checkbox",icon:ut.cloneElement(D,{fontSize:D.props.fontSize??v}),checkedIcon:ut.cloneElement(U,{fontSize:U.props.fontSize??v}),disableRipple:x,slots:I,slotProps:{input:nq(typeof z=="function"?z(H):z,{"data-indeterminate":c})}}});return yr.jsx(j,{...X,classes:G})});function Iq(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Yst(t){const e=ef(t);return e.body===t?Sg(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function D2(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function U6(t){return parseInt(Sg(t).getComputedStyle(t).paddingRight,10)||0}function Kst(t){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return e||r}function q6(t,e,r,n,i){const o=[e,r,...n];[].forEach.call(t.children,c=>{const a=!o.includes(c),g=!Kst(c);a&&g&&D2(c,i)})}function Lk(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function Zst(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(Yst(n)){const o=Iq(Sg(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${U6(n)+o}px`;const c=ef(n).querySelectorAll(".mui-fixed");[].forEach.call(c,a=>{r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${U6(a)+o}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=ef(n).body;else{const o=n.parentElement,c=Sg(n);i=o?.nodeName==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:n}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:o,property:c})=>{i?o.style.setProperty(c,i):o.style.removeProperty(c)})}}function Qst(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class Jst{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&D2(e.modalRef,!1);const i=Qst(r);q6(r,e.mount,e.modalRef,i,!0);const o=Lk(this.containers,c=>c.container===r);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=Lk(this.containers,o=>o.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=Zst(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=Lk(this.containers,c=>c.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&D2(e.modalRef,r),q6(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const c=o.modals[o.modals.length-1];c.modalRef&&D2(c.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const tlt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function elt(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function rlt(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function nlt(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||rlt(t))}function ilt(t){const e=[],r=[];return Array.from(t.querySelectorAll(tlt)).forEach((n,i)=>{const o=elt(n);o===-1||!nlt(n)||(o===0?e.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function alt(){return!0}function olt(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=ilt,isEnabled:c=alt,open:a}=t,g=ut.useRef(!1),v=ut.useRef(null),x=ut.useRef(null),k=ut.useRef(null),I=ut.useRef(null),S=ut.useRef(!1),P=ut.useRef(null),D=Uu(Hw(e),P),U=ut.useRef(null);ut.useEffect(()=>{!a||!P.current||(S.current=!r)},[r,a]),ut.useEffect(()=>{if(!a||!P.current)return;const z=ef(P.current);return P.current.contains(z.activeElement)||(P.current.hasAttribute("tabIndex")||P.current.setAttribute("tabIndex","-1"),S.current&&P.current.focus()),()=>{i||(k.current&&k.current.focus&&(g.current=!0,k.current.focus()),k.current=null)}},[a]),ut.useEffect(()=>{if(!a||!P.current)return;const z=ef(P.current),j=et=>{U.current=et,!(n||!c()||et.key!=="Tab")&&z.activeElement===P.current&&et.shiftKey&&(g.current=!0,x.current&&x.current.focus())},X=()=>{const et=P.current;if(et===null)return;if(!z.hasFocus()||!c()||g.current){g.current=!1;return}if(et.contains(z.activeElement)||n&&z.activeElement!==v.current&&z.activeElement!==x.current)return;if(z.activeElement!==I.current)I.current=null;else if(I.current!==null)return;if(!S.current)return;let st=[];if((z.activeElement===v.current||z.activeElement===x.current)&&(st=o(P.current)),st.length>0){const it=!!(U.current?.shiftKey&&U.current?.key==="Tab"),vt=st[0],at=st[st.length-1];typeof vt!="string"&&typeof at!="string"&&(it?at.focus():vt.focus())}else et.focus()};z.addEventListener("focusin",X),z.addEventListener("keydown",j,!0);const Y=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&X()},50);return()=>{clearInterval(Y),z.removeEventListener("focusin",X),z.removeEventListener("keydown",j,!0)}},[r,n,i,c,a,o]);const H=z=>{k.current===null&&(k.current=z.relatedTarget),S.current=!0,I.current=z.target;const j=e.props.onFocus;j&&j(z)},G=z=>{k.current===null&&(k.current=z.relatedTarget),S.current=!0};return yr.jsxs(ut.Fragment,{children:[yr.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:v,"data-testid":"sentinelStart"}),ut.cloneElement(e,{ref:D,onFocus:H}),yr.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:x,"data-testid":"sentinelEnd"})]})}function slt(t){return typeof t=="function"?t():t}function llt(t){return t?t.props.hasOwnProperty("in"):!1}const G6=()=>{},m5=new Jst;function clt(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:c,children:a,onClose:g,open:v,rootRef:x}=t,k=ut.useRef({}),I=ut.useRef(null),S=ut.useRef(null),P=Uu(S,x),[D,U]=ut.useState(!v),H=llt(a);let G=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(G=!1);const z=()=>ef(I.current),j=()=>(k.current.modalRef=S.current,k.current.mount=I.current,k.current),X=()=>{m5.mount(j(),{disableScrollLock:n}),S.current&&(S.current.scrollTop=0)},Y=Gv(()=>{const V=slt(e)||z().body;m5.add(j(),V),S.current&&X()}),et=()=>m5.isTopModal(j()),st=Gv(V=>{I.current=V,V&&(v&&et()?X():S.current&&D2(S.current,G))}),it=ut.useCallback(()=>{m5.remove(j(),G)},[G]);ut.useEffect(()=>()=>{it()},[it]),ut.useEffect(()=>{v?Y():(!H||!i)&&it()},[v,it,H,i,Y]);const vt=V=>dt=>{V.onKeyDown?.(dt),!(dt.key!=="Escape"||dt.which===229||!et())&&(r||(dt.stopPropagation(),g&&g(dt,"escapeKeyDown")))},at=V=>dt=>{V.onClick?.(dt),dt.target===dt.currentTarget&&g&&g(dt,"backdropClick")};return{getRootProps:(V={})=>{const dt=uq(t);delete dt.onTransitionEnter,delete dt.onTransitionExited;const mt={...dt,...V};return{role:"presentation",...mt,onKeyDown:vt(mt),ref:P}},getBackdropProps:(V={})=>{const dt=V;return{"aria-hidden":!0,...dt,onClick:at(dt),open:v}},getTransitionProps:()=>{const V=()=>{U(!1),o&&o()},dt=()=>{U(!0),c&&c(),i&&it()};return{onEnter:y6(V,a?.props.onEnter??G6),onExited:y6(dt,a?.props.onExited??G6)}},rootRef:P,portalRef:st,isTopModal:et,exited:D,hasTransition:H}}function ult(t){return bs("MuiModal",t)}Ei("MuiModal",["root","hidden","backdrop"]);const hlt=t=>{const{open:e,exited:r,classes:n}=t;return _s({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},ult,n)},dlt=qr("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(di(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),flt=qr(Tq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),SP=ut.forwardRef(function(t,e){const r=Ys({name:"MuiModal",props:t}),{BackdropComponent:n=flt,BackdropProps:i,classes:o,className:c,closeAfterTransition:a=!1,children:g,container:v,component:x,components:k={},componentsProps:I={},disableAutoFocus:S=!1,disableEnforceFocus:P=!1,disableEscapeKeyDown:D=!1,disablePortal:U=!1,disableRestoreFocus:H=!1,disableScrollLock:G=!1,hideBackdrop:z=!1,keepMounted:j=!1,onClose:X,onTransitionEnter:Y,onTransitionExited:et,open:st,slotProps:it={},slots:vt={},theme:at,...V}=r,dt={...r,closeAfterTransition:a,disableAutoFocus:S,disableEnforceFocus:P,disableEscapeKeyDown:D,disablePortal:U,disableRestoreFocus:H,disableScrollLock:G,hideBackdrop:z,keepMounted:j},{getRootProps:mt,getBackdropProps:wt,getTransitionProps:pt,portalRef:At,isTopModal:St,exited:Lt,hasTransition:jt}=clt({...dt,rootRef:e}),_t={...dt,exited:Lt},lt=hlt(_t),Tt={};if(g.props.tabIndex===void 0&&(Tt.tabIndex="-1"),jt){const{onEnter:ce,onExited:de}=pt();Tt.onEnter=ce,Tt.onExited=de}const kt={slots:{root:k.Root,backdrop:k.Backdrop,...vt},slotProps:{...I,...it}},[Rt,Ut]=Jd("root",{ref:e,elementType:dlt,externalForwardedProps:{...kt,...V,component:x},getSlotProps:mt,ownerState:_t,className:pa(c,lt?.root,!_t.open&&_t.exited&&lt?.hidden)}),[ie,Ht]=Jd("backdrop",{ref:i?.ref,elementType:n,externalForwardedProps:kt,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:ce=>wt({...ce,onClick:de=>{ce?.onClick&&ce.onClick(de)}}),className:pa(i?.className,lt?.backdrop),ownerState:_t});return!j&&!st&&(!jt||Lt)?null:yr.jsx(Eq,{ref:At,container:v,disablePortal:U,children:yr.jsxs(Rt,{...Ut,children:[!z&&n?yr.jsx(ie,{...Ht}):null,yr.jsx(olt,{disableEnforceFocus:P,disableAutoFocus:S,disableRestoreFocus:H,isEnabled:St,open:st,children:ut.cloneElement(g,Tt)})]})})}),Mk=Ei("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);qr(Tq,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1});qr(SP,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}});qr("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${Jn(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]});qr(Py,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${Jn(r.scroll)}`],e[`paperWidth${Jn(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(di(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Mk.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Mk.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Mk.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]})));Ei("MuiDialogActions",["root","spacing"]);qr("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]});Ei("MuiDialogContent",["root","dividers"]);const plt=Ei("MuiDialogTitle",["root"]);qr("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(di(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${plt.root} + &`]:{paddingTop:0}}}]})));Ei("MuiDialogContentText",["root"]);qr(fq,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({});qr(fq,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"});function mlt(t){return bs("MuiDivider",t)}const H6=Ei("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),glt=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:o,orientation:c,textAlign:a,variant:g}=t;return _s({root:["root",e&&"absolute",g,o&&"light",c==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&c==="vertical"&&"withChildrenVertical",a==="right"&&c!=="vertical"&&"textAlignRight",a==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},mlt,n)},ylt=qr("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(di(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),vlt=qr("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(di(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),X6=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiDivider"}),{absolute:n=!1,children:i,className:o,orientation:c="horizontal",component:a=i||c==="vertical"?"div":"hr",flexItem:g=!1,light:v=!1,role:x=a!=="hr"?"separator":void 0,textAlign:k="center",variant:I="fullWidth",...S}=r,P={...r,absolute:n,component:a,flexItem:g,light:v,orientation:c,role:x,textAlign:k,variant:I},D=glt(P);return yr.jsx(ylt,{as:a,className:pa(D.root,o),role:x,ref:e,ownerState:P,"aria-orientation":x==="separator"&&(a!=="hr"||c==="vertical")?c:void 0,...S,children:i?yr.jsx(vlt,{className:D.wrapper,ownerState:P,children:i}):null})});X6&&(X6.muiSkipListHighlight=!0);Ei("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Rq=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]};qr(SP,{name:"MuiDrawer",slot:"Root",overridesResolver:Rq})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})));qr("div",{shouldForwardProp:ru,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Rq})({flex:"0 0 auto"});qr(Py,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${Jn(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${Jn(r.anchor)}`]]}})(di(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]})));function blt(t){return bs("MuiFab",t)}const W6=Ei("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),_lt=t=>{const{color:e,variant:r,classes:n,size:i}=t,o={root:["root",r,`size${Jn(i)}`,e==="inherit"?"colorInherit":e]},c=_s(o,blt,n);return{...n,...c}},xlt=qr(h0,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>ru(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${Jn(r.size)}`],r.color==="inherit"&&e.colorInherit,e[Jn(r.size)],e[r.color]]}})(di(({theme:t})=>({...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:t.palette.getContrastText?.(t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${W6.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),di(({theme:t})=>({variants:[...Object.entries(t.palette).filter(gu(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),di(({theme:t})=>({[`&.${W6.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),Nq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFab"}),{children:n,className:i,color:o="default",component:c="button",disabled:a=!1,disableFocusRipple:g=!1,focusVisibleClassName:v,size:x="large",variant:k="circular",...I}=r,S={...r,color:o,component:c,disabled:a,disableFocusRipple:g,size:x,variant:k},P=_lt(S);return yr.jsx(xlt,{className:pa(P.root,i),component:c,disabled:a,focusRipple:!g,focusVisibleClassName:pa(P.focusVisible,v),ownerState:S,ref:e,...I,classes:P,children:n})}),wlt=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:c,multiline:a}=t,g={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Jn(o)}`,c&&"hiddenLabel",a&&"multiline"],input:["input"]},v=_s(g,mst,e);return{...e,...v}},Slt=qr(WC,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...HC(t,e),!r.disableUnderline&&e.underline]}})(di(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${yv.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${yv.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yv.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yv.disabled}, .${yv.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${yv.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gu()).map(([c])=>({props:{disableUnderline:!1,color:c},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[c]?.main}`}}})),{props:({ownerState:c})=>c.startAdornment,style:{paddingLeft:12}},{props:({ownerState:c})=>c.endAdornment,style:{paddingRight:12}},{props:({ownerState:c})=>c.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:c,size:a})=>c.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel&&c.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Elt=qr(YC,{name:"MuiFilledInput",slot:"Input",overridesResolver:XC})(di(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Lq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:c=!1,hiddenLabel:a,inputComponent:g="input",multiline:v=!1,slotProps:x,slots:k={},type:I="text",...S}=r,P={...r,disableUnderline:n,fullWidth:c,inputComponent:g,multiline:v,type:I},D=wlt(r),U={root:{ownerState:P},input:{ownerState:P}},H=x??o?Lh(U,x??o):U,G=k.root??i.Root??Slt,z=k.input??i.Input??Elt;return yr.jsx(wP,{slots:{root:G,input:z},slotProps:H,fullWidth:c,inputComponent:g,multiline:v,ref:e,type:I,...S,classes:D})});Lq.muiName="Input";function Tlt(t){return bs("MuiFormControl",t)}Ei("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Clt=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Jn(r)}`,n&&"fullWidth"]};return _s(i,Tlt,e)},Alt=qr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${Jn(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),klt=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFormControl"}),{children:n,className:i,color:o="primary",component:c="div",disabled:a=!1,error:g=!1,focused:v,fullWidth:x=!1,hiddenLabel:k=!1,margin:I="none",required:S=!1,size:P="medium",variant:D="outlined",...U}=r,H={...r,color:o,component:c,disabled:a,error:g,fullWidth:x,hiddenLabel:k,margin:I,required:S,size:P,variant:D},G=Clt(H),[z,j]=ut.useState(()=>{let mt=!1;return n&&ut.Children.forEach(n,wt=>{if(!M2(wt,["Input","Select"]))return;const pt=M2(wt,["Select"])?wt.props.input:wt;pt&&ust(pt.props)&&(mt=!0)}),mt}),[X,Y]=ut.useState(()=>{let mt=!1;return n&&ut.Children.forEach(n,wt=>{M2(wt,["Input","Select"])&&(cT(wt.props,!0)||cT(wt.props.inputProps,!0))&&(mt=!0)}),mt}),[et,st]=ut.useState(!1);a&&et&&st(!1);const it=v!==void 0&&!a?v:et;let vt;ut.useRef(!1);const at=ut.useCallback(()=>{Y(!0)},[]),V=ut.useCallback(()=>{Y(!1)},[]),dt=ut.useMemo(()=>({adornedStart:z,setAdornedStart:j,color:o,disabled:a,error:g,filled:X,focused:it,fullWidth:x,hiddenLabel:k,size:P,onBlur:()=>{st(!1)},onFocus:()=>{st(!0)},onEmpty:V,onFilled:at,registerEffect:vt,required:S,variant:D}),[z,o,a,g,X,it,x,k,vt,V,at,S,P,D]);return yr.jsx(xP.Provider,{value:dt,children:yr.jsx(Alt,{as:c,ownerState:H,className:pa(G.root,i),ref:e,...U,children:n})})}),p2=Ei("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);qr("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${p2.label}`]:e.label},e.root,e[`labelPlacement${Jn(r.labelPlacement)}`]]}})(di(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${p2.disabled}`]:{cursor:"default"},[`& .${p2.label}`]:{[`&.${p2.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]})));qr("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(di(({theme:t})=>({[`&.${p2.error}`]:{color:(t.vars||t).palette.error.main}})));Ei("MuiFormGroup",["root","row","error"]);qr("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]});const Y6=Ei("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);qr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Jn(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Y6.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Y6.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]})));function Ilt(t){return bs("MuiFormLabel",t)}const B2=Ei("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Rlt=t=>{const{classes:e,color:r,focused:n,disabled:i,error:o,filled:c,required:a}=t,g={root:["root",`color${Jn(r)}`,i&&"disabled",o&&"error",c&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return _s(g,Ilt,e)},Nlt=qr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{[`&.${B2.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${B2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${B2.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Llt=qr("span",{name:"MuiFormLabel",slot:"Asterisk"})(di(({theme:t})=>({[`&.${B2.error}`]:{color:(t.vars||t).palette.error.main}}))),Mlt=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:c="label",disabled:a,error:g,filled:v,focused:x,required:k,...I}=r,S=Xw(),P=GC({props:r,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),D={...r,color:P.color||"primary",component:c,disabled:P.disabled,error:P.error,filled:P.filled,focused:P.focused,required:P.required},U=Rlt(D);return yr.jsxs(Nlt,{as:c,ownerState:D,className:pa(U.root,i),ref:e,...I,children:[n,P.required&&yr.jsxs(Llt,{ownerState:D,"aria-hidden":!0,className:U.asterisk,children:[" ","*"]})]})});Knt({createStyledComponent:qr("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>Ys({props:t,name:"MuiGrid"}),useTheme:Vw});function hL(t){return`scale(${t}, ${t**2})`}const Plt={entering:{opacity:1,transform:hL(1)},entered:{opacity:1,transform:"none"}},Pk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),dL=ut.forwardRef(function(t,e){const{addEndListener:r,appear:n=!0,children:i,easing:o,in:c,onEnter:a,onEntered:g,onEntering:v,onExit:x,onExited:k,onExiting:I,style:S,timeout:P="auto",TransitionComponent:D=Ap,...U}=t,H=fP(),G=ut.useRef(),z=Vw(),j=ut.useRef(null),X=Uu(j,Hw(i),e),Y=mt=>wt=>{if(mt){const pt=j.current;wt===void 0?mt(pt):mt(pt,wt)}},et=Y(v),st=Y((mt,wt)=>{sq(mt);const{duration:pt,delay:At,easing:St}=G_({style:S,timeout:P,easing:o},{mode:"enter"});let Lt;P==="auto"?(Lt=z.transitions.getAutoHeightDuration(mt.clientHeight),G.current=Lt):Lt=pt,mt.style.transition=[z.transitions.create("opacity",{duration:Lt,delay:At}),z.transitions.create("transform",{duration:Pk?Lt:Lt*.666,delay:At,easing:St})].join(","),a&&a(mt,wt)}),it=Y(g),vt=Y(I),at=Y(mt=>{const{duration:wt,delay:pt,easing:At}=G_({style:S,timeout:P,easing:o},{mode:"exit"});let St;P==="auto"?(St=z.transitions.getAutoHeightDuration(mt.clientHeight),G.current=St):St=wt,mt.style.transition=[z.transitions.create("opacity",{duration:St,delay:pt}),z.transitions.create("transform",{duration:Pk?St:St*.666,delay:Pk?pt:pt||St*.333,easing:At})].join(","),mt.style.opacity=0,mt.style.transform=hL(.75),x&&x(mt)}),V=Y(k),dt=mt=>{P==="auto"&&H.start(G.current||0,mt),r&&r(j.current,mt)};return yr.jsx(D,{appear:n,in:c,nodeRef:j,onEnter:st,onEntered:it,onEntering:et,onExit:at,onExited:V,onExiting:vt,addEndListener:dt,timeout:P==="auto"?null:P,...U,children:(mt,{ownerState:wt,...pt})=>ut.cloneElement(i,{style:{opacity:0,transform:hL(.75),visibility:mt==="exited"&&!c?"hidden":void 0,...Plt[mt],...S,...i.props.style},ref:X,...pt})})});dL&&(dL.muiSupportAuto=!0);const Olt=t=>{const{classes:e,disableUnderline:r}=t,n=_s({root:["root",!r&&"underline"],input:["input"]},fst,e);return{...e,...n}},Dlt=qr(WC,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...HC(t,e),!r.disableUnderline&&e.underline]}})(di(({theme:t})=>{let e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(e=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${N1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${N1.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${N1.disabled}, .${N1.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${N1.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gu()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Blt=qr(YC,{name:"MuiInput",slot:"Input",overridesResolver:XC})({}),Mq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:c=!1,inputComponent:a="input",multiline:g=!1,slotProps:v,slots:x={},type:k="text",...I}=r,S=Olt(r),P={root:{ownerState:{disableUnderline:n}}},D=v??o?Lh(v??o,P):P,U=x.root??i.Root??Dlt,H=x.input??i.Input??Blt;return yr.jsx(wP,{slots:{root:U,input:H},slotProps:D,fullWidth:c,inputComponent:a,multiline:g,ref:e,type:k,...I,classes:S})});Mq.muiName="Input";Ei("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);qr(Mlt,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${B2.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(di(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]})));const R_=ut.createContext({});function zlt(t){return bs("MuiList",t)}Ei("MuiList",["root","padding","dense","subheader"]);const Flt=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return _s({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},zlt,e)},jlt=qr("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ww=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:c=!1,disablePadding:a=!1,subheader:g,...v}=r,x=ut.useMemo(()=>({dense:c}),[c]),k={...r,component:o,dense:c,disablePadding:a},I=Flt(k);return yr.jsx(R_.Provider,{value:x,children:yr.jsxs(jlt,{as:o,className:pa(I.root,i),ref:e,ownerState:k,...v,children:[g,n]})})});function $lt(t){return bs("MuiListItem",t)}Ei("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Fb=Ei("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Vlt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]};qr(h0,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Vlt})(di(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fb.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Fb.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Fb.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Fb.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fb.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]})));function Ult(t){return bs("MuiListItemSecondaryAction",t)}Ei("MuiListItemSecondaryAction",["root","disableGutters"]);const qlt=t=>{const{disableGutters:e,classes:r}=t;return _s({root:["root",e&&"disableGutters"]},Ult,r)},Glt=qr("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),Pq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiListItemSecondaryAction"}),{className:n,...i}=r,o=ut.useContext(R_),c={...r,disableGutters:o.disableGutters},a=qlt(c);return yr.jsx(Glt,{className:pa(a.root,n),ownerState:c,ref:e,...i})});Pq.muiName="ListItemSecondaryAction";const Hlt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},Xlt=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:i,disablePadding:o,divider:c,hasSecondaryAction:a}=t;return _s({root:["root",n&&"dense",!i&&"gutters",!o&&"padding",c&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},$lt,r)},Wlt=qr("div",{name:"MuiListItem",slot:"Root",overridesResolver:Hlt})(di(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Fb.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Ylt=qr("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),EP=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiListItem"}),{alignItems:n="center",children:i,className:o,component:c,components:a={},componentsProps:g={},ContainerComponent:v="li",ContainerProps:{className:x,...k}={},dense:I=!1,disableGutters:S=!1,disablePadding:P=!1,divider:D=!1,secondaryAction:U,slotProps:H={},slots:G={},...z}=r,j=ut.useContext(R_),X=ut.useMemo(()=>({dense:I||j.dense||!1,alignItems:n,disableGutters:S}),[n,j.dense,I,S]),Y=ut.useRef(null),et=ut.Children.toArray(i),st=et.length&&M2(et[et.length-1],["ListItemSecondaryAction"]),it={...r,alignItems:n,dense:X.dense,disableGutters:S,disablePadding:P,divider:D,hasSecondaryAction:st},vt=Xlt(it),at=Uu(Y,e),V=G.root||a.Root||Wlt,dt=H.root||g.root||{},mt={className:pa(vt.root,dt.className,o),...z};let wt=c||"li";return st?(wt=!mt.component&&!c?"div":wt,v==="li"&&(wt==="li"?wt="div":mt.component==="li"&&(mt.component="div")),yr.jsx(R_.Provider,{value:X,children:yr.jsxs(Ylt,{as:v,className:pa(vt.container,x),ref:at,ownerState:it,...k,children:[yr.jsx(V,{...dt,...!H_(V)&&{as:wt,ownerState:{...it,...dt.ownerState}},...mt,children:et}),et.pop()]})})):yr.jsx(R_.Provider,{value:X,children:yr.jsxs(V,{...dt,as:wt,ref:at,...!H_(V)&&{ownerState:{...it,...dt.ownerState}},...mt,children:[et,U&&yr.jsx(Pq,{children:U})]})})});Ei("MuiListItemAvatar",["root","alignItemsFlexStart"]);qr("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]});function Klt(t){return bs("MuiListItemIcon",t)}const K6=Ei("MuiListItemIcon",["root","alignItemsFlexStart"]),Zlt=t=>{const{alignItems:e,classes:r}=t;return _s({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Klt,r)},Qlt=qr("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(di(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),TP=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiListItemIcon"}),{className:n,...i}=r,o=ut.useContext(R_),c={...r,alignItems:o.alignItems},a=Zlt(c);return yr.jsx(Qlt,{className:pa(a.root,n),ownerState:c,ref:e,...i})}),b_=Ei("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);qr("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${b_.primary}`]:e.primary},{[`& .${b_.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${C6.root}:where(& .${b_.primary})`]:{display:"block"},[`.${C6.root}:where(& .${b_.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]});function Ok(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function Z6(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function Oq(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function L1(t,e,r,n,i,o){let c=!1,a=i(t,e,e?r:!1);for(;a;){if(a===t.firstChild){if(c)return!1;c=!0}const g=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Oq(a,o)||g)a=i(t,a,r);else return a.focus(),!0}return!1}const Jlt=ut.forwardRef(function(t,e){const{actions:r,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:c,disabledItemsFocusable:a=!1,disableListWrap:g=!1,onKeyDown:v,variant:x="selectedMenu",...k}=t,I=ut.useRef(null),S=ut.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Pf(()=>{n&&I.current.focus()},[n]),ut.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(G,{direction:z})=>{const j=!I.current.style.width;if(G.clientHeight<I.current.clientHeight&&j){const X=`${Iq(Sg(G))}px`;I.current.style[z==="rtl"?"paddingLeft":"paddingRight"]=X,I.current.style.width=`calc(100% + ${X})`}return I.current}}),[]);const P=G=>{const z=I.current,j=G.key;if(G.ctrlKey||G.metaKey||G.altKey){v&&v(G);return}const X=ef(z).activeElement;if(j==="ArrowDown")G.preventDefault(),L1(z,X,g,a,Ok);else if(j==="ArrowUp")G.preventDefault(),L1(z,X,g,a,Z6);else if(j==="Home")G.preventDefault(),L1(z,null,g,a,Ok);else if(j==="End")G.preventDefault(),L1(z,null,g,a,Z6);else if(j.length===1){const Y=S.current,et=j.toLowerCase(),st=performance.now();Y.keys.length>0&&(st-Y.lastTime>500?(Y.keys=[],Y.repeating=!0,Y.previousKeyMatched=!0):Y.repeating&&et!==Y.keys[0]&&(Y.repeating=!1)),Y.lastTime=st,Y.keys.push(et);const it=X&&!Y.repeating&&Oq(X,Y);Y.previousKeyMatched&&(it||L1(z,X,!1,a,Ok,Y))?G.preventDefault():Y.previousKeyMatched=!1}v&&v(G)},D=Uu(I,e);let U=-1;ut.Children.forEach(o,(G,z)=>{if(!ut.isValidElement(G)){U===z&&(U+=1,U>=o.length&&(U=-1));return}G.props.disabled||(x==="selectedMenu"&&G.props.selected||U===-1)&&(U=z),U===z&&(G.props.disabled||G.props.muiSkipListHighlight||G.type.muiSkipListHighlight)&&(U+=1,U>=o.length&&(U=-1))});const H=ut.Children.map(o,(G,z)=>{if(z===U){const j={};return i&&(j.autoFocus=!0),G.props.tabIndex===void 0&&x==="selectedMenu"&&(j.tabIndex=0),ut.cloneElement(G,j)}return G});return yr.jsx(Ww,{role:"menu",ref:D,className:c,onKeyDown:P,tabIndex:n?0:-1,...k,children:H})});function tct(t){return bs("MuiPopover",t)}Ei("MuiPopover",["root","paper"]);function Q6(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function J6(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function tB(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function g5(t){return typeof t=="function"?t():t}const ect=t=>{const{classes:e}=t;return _s({root:["root"],paper:["paper"]},tct,e)},rct=qr(SP,{name:"MuiPopover",slot:"Root"})({}),Dq=qr(Py,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),nct=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:a="anchorEl",children:g,className:v,container:x,elevation:k=8,marginThreshold:I=16,open:S,PaperProps:P={},slots:D={},slotProps:U={},transformOrigin:H={vertical:"top",horizontal:"left"},TransitionComponent:G,transitionDuration:z="auto",TransitionProps:j={},disableScrollLock:X=!1,...Y}=r,et=ut.useRef(),st={...r,anchorOrigin:o,anchorReference:a,elevation:k,marginThreshold:I,transformOrigin:H,TransitionComponent:G,transitionDuration:z,TransitionProps:j},it=ect(st),vt=ut.useCallback(()=>{if(a==="anchorPosition")return c;const ce=g5(i),de=ce&&ce.nodeType===1?ce:ef(et.current).body,Se=de.getBoundingClientRect();return{top:Se.top+Q6(Se,o.vertical),left:Se.left+J6(Se,o.horizontal)}},[i,o.horizontal,o.vertical,c,a]),at=ut.useCallback(ce=>({vertical:Q6(ce,H.vertical),horizontal:J6(ce,H.horizontal)}),[H.horizontal,H.vertical]),V=ut.useCallback(ce=>{const de={width:ce.offsetWidth,height:ce.offsetHeight},Se=at(de);if(a==="none")return{top:null,left:null,transformOrigin:tB(Se)};const Vt=vt();let He=Vt.top-Se.vertical,ke=Vt.left-Se.horizontal;const Jt=He+de.height,$r=ke+de.width,vr=Sg(g5(i)),Dr=vr.innerHeight-I,Ie=vr.innerWidth-I;if(I!==null&&He<I){const Mr=He-I;He-=Mr,Se.vertical+=Mr}else if(I!==null&&Jt>Dr){const Mr=Jt-Dr;He-=Mr,Se.vertical+=Mr}if(I!==null&&ke<I){const Mr=ke-I;ke-=Mr,Se.horizontal+=Mr}else if($r>Ie){const Mr=$r-Ie;ke-=Mr,Se.horizontal+=Mr}return{top:`${Math.round(He)}px`,left:`${Math.round(ke)}px`,transformOrigin:tB(Se)}},[i,a,vt,at,I]),[dt,mt]=ut.useState(S),wt=ut.useCallback(()=>{const ce=et.current;if(!ce)return;const de=V(ce);de.top!==null&&ce.style.setProperty("top",de.top),de.left!==null&&(ce.style.left=de.left),ce.style.transformOrigin=de.transformOrigin,mt(!0)},[V]);ut.useEffect(()=>(X&&window.addEventListener("scroll",wt),()=>window.removeEventListener("scroll",wt)),[i,X,wt]);const pt=()=>{wt()},At=()=>{mt(!1)};ut.useEffect(()=>{S&&wt()}),ut.useImperativeHandle(n,()=>S?{updatePosition:()=>{wt()}}:null,[S,wt]),ut.useEffect(()=>{if(!S)return;const ce=rq(()=>{wt()}),de=Sg(g5(i));return de.addEventListener("resize",ce),()=>{ce.clear(),de.removeEventListener("resize",ce)}},[i,S,wt]);let St=z;const Lt={slots:{transition:G,...D},slotProps:{transition:j,paper:P,...U}},[jt,_t]=Jd("transition",{elementType:dL,externalForwardedProps:Lt,ownerState:st,getSlotProps:ce=>({...ce,onEntering:(de,Se)=>{ce.onEntering?.(de,Se),pt()},onExited:de=>{ce.onExited?.(de),At()}}),additionalProps:{appear:!0,in:S}});z==="auto"&&!jt.muiSupportAuto&&(St=void 0);const lt=x||(i?ef(g5(i)).body:void 0),[Tt,{slots:kt,slotProps:Rt,...Ut}]=Jd("root",{ref:e,elementType:rct,externalForwardedProps:{...Lt,...Y},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:D.backdrop},slotProps:{backdrop:nq(typeof U.backdrop=="function"?U.backdrop(st):U.backdrop,{invisible:!0})},container:lt,open:S},ownerState:st,className:pa(it.root,v)}),[ie,Ht]=Jd("paper",{ref:et,className:it.paper,elementType:Dq,externalForwardedProps:Lt,shouldForwardComponentProp:!0,additionalProps:{elevation:k,style:dt?void 0:{opacity:0}},ownerState:st});return yr.jsx(Tt,{...Ut,...!H_(Tt)&&{slots:kt,slotProps:Rt,disableScrollLock:X},children:yr.jsx(jt,{..._t,timeout:St,children:yr.jsx(ie,{...Ht,children:g})})})});function ict(t){return bs("MuiMenu",t)}Ei("MuiMenu",["root","paper","list"]);const act={vertical:"top",horizontal:"right"},oct={vertical:"top",horizontal:"left"},sct=t=>{const{classes:e}=t;return _s({root:["root"],paper:["paper"],list:["list"]},ict,e)},lct=qr(nct,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),cct=qr(Dq,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),uct=qr(Jlt,{name:"MuiMenu",slot:"List"})({outline:0}),hct=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:c=!1,MenuListProps:a={},onClose:g,open:v,PaperProps:x={},PopoverClasses:k,transitionDuration:I="auto",TransitionProps:{onEntering:S,...P}={},variant:D="selectedMenu",slots:U={},slotProps:H={},...G}=r,z=$U(),j={...r,autoFocus:n,disableAutoFocusItem:c,MenuListProps:a,onEntering:S,PaperProps:x,transitionDuration:I,TransitionProps:P,variant:D},X=sct(j),Y=n&&!c&&v,et=ut.useRef(null),st=(St,Lt)=>{et.current&&et.current.adjustStyleForScrollbar(St,{direction:z?"rtl":"ltr"}),S&&S(St,Lt)},it=St=>{St.key==="Tab"&&(St.preventDefault(),g&&g(St,"tabKeyDown"))};let vt=-1;ut.Children.map(i,(St,Lt)=>{ut.isValidElement(St)&&(St.props.disabled||(D==="selectedMenu"&&St.props.selected||vt===-1)&&(vt=Lt))});const at={slots:U,slotProps:{list:a,transition:P,paper:x,...H}},V=Sq({elementType:U.root,externalSlotProps:H.root,ownerState:j,className:[X.root,o]}),[dt,mt]=Jd("paper",{className:X.paper,elementType:cct,externalForwardedProps:at,shouldForwardComponentProp:!0,ownerState:j}),[wt,pt]=Jd("list",{className:pa(X.list,a.className),elementType:uct,shouldForwardComponentProp:!0,externalForwardedProps:at,getSlotProps:St=>({...St,onKeyDown:Lt=>{it(Lt),St.onKeyDown?.(Lt)}}),ownerState:j}),At=typeof at.slotProps.transition=="function"?at.slotProps.transition(j):at.slotProps.transition;return yr.jsx(lct,{onClose:g,anchorOrigin:{vertical:"bottom",horizontal:z?"right":"left"},transformOrigin:z?act:oct,slots:{root:U.root,paper:dt,backdrop:U.backdrop,...U.transition&&{transition:U.transition}},slotProps:{root:V,paper:mt,backdrop:typeof H.backdrop=="function"?H.backdrop(j):H.backdrop,transition:{...At,onEntering:(...St)=>{st(...St),At?.onEntering?.(...St)}}},open:v,ref:e,transitionDuration:I,ownerState:j,...G,classes:k,children:yr.jsx(wt,{actions:et,autoFocus:n&&(vt===-1||c),autoFocusItem:Y,variant:D,...pt,children:i})})}),M1=Ei("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),dct=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]};qr(h0,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:dct})(di(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M1.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${M1.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${M1.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${M1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${M1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${H6.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${H6.inset}`]:{marginLeft:52},[`& .${b_.root}`]:{marginTop:0,marginBottom:0},[`& .${b_.inset}`]:{paddingLeft:36},[`& .${K6.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${K6.root} svg`]:{fontSize:"1.25rem"}}}]})));function fct(t){return bs("MuiNativeSelect",t)}const CP=Ei("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),pct=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:c}=t,a={select:["select",r,n&&"disabled",i&&"multiple",c&&"error"],icon:["icon",`icon${Jn(r)}`,o&&"iconOpen",n&&"disabled"]};return _s(a,fct,e)},Bq=qr("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${CP.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),mct=qr(Bq,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ru,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${CP.multiple}`]:e.multiple}]}})({}),zq=qr("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${CP.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),gct=qr(zq,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Jn(r.variant)}`],r.open&&e.iconOpen]}})({}),yct=ut.forwardRef(function(t,e){const{className:r,disabled:n,error:i,IconComponent:o,inputRef:c,variant:a="standard",...g}=t,v={...t,disabled:n,variant:a,error:i},x=pct(v);return yr.jsxs(ut.Fragment,{children:[yr.jsx(mct,{ownerState:v,className:pa(x.select,r),disabled:n,ref:c||e,...g}),t.multiple?null:yr.jsx(gct,{as:o,ownerState:v,className:x.icon})]})});var eB;const vct=qr("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:ru})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),bct=qr("legend",{name:"MuiNotchedOutlined",shouldForwardProp:ru})(di(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function _ct(t){const{children:e,classes:r,className:n,label:i,notched:o,...c}=t,a=i!=null&&i!=="",g={...t,notched:o,withLabel:a};return yr.jsx(vct,{"aria-hidden":!0,className:n,ownerState:g,...c,children:yr.jsx(bct,{ownerState:g,children:a?yr.jsx("span",{children:i}):eB||(eB=yr.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const xct=t=>{const{classes:e}=t,r=_s({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pst,e);return{...e,...r}},wct=qr(WC,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:HC})(di(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${tm.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${tm.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${tm.focused} .${tm.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(gu()).map(([r])=>({props:{color:r},style:{[`&.${tm.focused} .${tm.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${tm.error} .${tm.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${tm.disabled} .${tm.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),Sct=qr(_ct,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(di(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),Ect=qr(YC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:XC})(di(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Fq=ut.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:c,multiline:a=!1,notched:g,slots:v={},slotProps:x={},type:k="text",...I}=r,S=xct(r),P=Xw(),D=GC({props:r,muiFormControl:P,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),U={...r,color:D.color||"primary",disabled:D.disabled,error:D.error,focused:D.focused,formControl:P,fullWidth:i,hiddenLabel:D.hiddenLabel,multiline:a,size:D.size,type:k},H=v.root??n.Root??wct,G=v.input??n.Input??Ect,[z,j]=Jd("notchedOutline",{elementType:Sct,className:S.notchedOutline,shouldForwardComponentProp:!0,ownerState:U,externalForwardedProps:{slots:v,slotProps:x},additionalProps:{label:c!=null&&c!==""&&D.required?yr.jsxs(ut.Fragment,{children:[c," ","*"]}):c}});return yr.jsx(wP,{slots:{root:H,input:G},slotProps:x,renderSuffix:X=>yr.jsx(z,{...j,notched:typeof g<"u"?g:!!(X.startAdornment||X.filled||X.focused)}),fullWidth:i,inputComponent:o,multiline:a,ref:e,type:k,...I,classes:{...S,notchedOutline:null}})});Fq.muiName="Input";const Tct=ba(yr.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Cct=ba(yr.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}));qr("span",{name:"MuiRadioButtonIcon",shouldForwardProp:ru})({position:"relative",display:"flex"});qr(Tct,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"});qr(Cct,{name:"MuiRadioButtonIcon"})(di(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));const rB=Ei("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);qr(Aq,{shouldForwardProp:t=>ru(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${Jn(r.size)}`],e[`color${Jn(r.color)}`]]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${rB.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${rB.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));Ei("MuiRadioGroup",["root","row","error"]);function jq(t){return bs("MuiSelect",t)}const P1=Ei("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var nB;const Act=qr(Bq,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${P1.select}`]:e.select},{[`&.${P1.select}`]:e[r.variant]},{[`&.${P1.error}`]:e.error},{[`&.${P1.multiple}`]:e.multiple}]}})({[`&.${P1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),kct=qr(zq,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Jn(r.variant)}`],r.open&&e.iconOpen]}})({}),Ict=qr("input",{shouldForwardProp:t=>VC(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function iB(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Rct(t){return t==null||typeof t=="string"&&!t.trim()}const Nct=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:c}=t,a={select:["select",r,n&&"disabled",i&&"multiple",c&&"error"],icon:["icon",`icon${Jn(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return _s(a,jq,e)},Lct=ut.forwardRef(function(t,e){const{"aria-describedby":r,"aria-label":n,autoFocus:i,autoWidth:o,children:c,className:a,defaultOpen:g,defaultValue:v,disabled:x,displayEmpty:k,error:I=!1,IconComponent:S,inputRef:P,labelId:D,MenuProps:U={},multiple:H,name:G,onBlur:z,onChange:j,onClose:X,onFocus:Y,onOpen:et,open:st,readOnly:it,renderValue:vt,required:at,SelectDisplayProps:V={},tabIndex:dt,type:mt,value:wt,variant:pt="standard",...At}=t,[St,Lt]=rL({controlled:wt,default:v,name:"Select"}),[jt,_t]=rL({controlled:st,default:g,name:"Select"}),lt=ut.useRef(null),Tt=ut.useRef(null),[kt,Rt]=ut.useState(null),{current:Ut}=ut.useRef(st!=null),[ie,Ht]=ut.useState(),ce=Uu(e,P),de=ut.useCallback(Mt=>{Tt.current=Mt,Mt&&Rt(Mt)},[]),Se=kt?.parentNode;ut.useImperativeHandle(ce,()=>({focus:()=>{Tt.current.focus()},node:lt.current,value:St}),[St]),ut.useEffect(()=>{g&&jt&&kt&&!Ut&&(Ht(o?null:Se.clientWidth),Tt.current.focus())},[kt,o]),ut.useEffect(()=>{i&&Tt.current.focus()},[i]),ut.useEffect(()=>{if(!D)return;const Mt=ef(Tt.current).getElementById(D);if(Mt){const Bt=()=>{getSelection().isCollapsed&&Tt.current.focus()};return Mt.addEventListener("click",Bt),()=>{Mt.removeEventListener("click",Bt)}}},[D]);const Vt=(Mt,Bt)=>{Mt?et&&et(Bt):X&&X(Bt),Ut||(Ht(o?null:Se.clientWidth),_t(Mt))},He=Mt=>{Mt.button===0&&(Mt.preventDefault(),Tt.current.focus(),Vt(!0,Mt))},ke=Mt=>{Vt(!1,Mt)},Jt=ut.Children.toArray(c),$r=Mt=>{const Bt=Jt.find(oe=>oe.props.value===Mt.target.value);Bt!==void 0&&(Lt(Bt.props.value),j&&j(Mt,Bt))},vr=Mt=>Bt=>{let oe;if(Bt.currentTarget.hasAttribute("tabindex")){if(H){oe=Array.isArray(St)?St.slice():[];const ye=St.indexOf(Mt.props.value);ye===-1?oe.push(Mt.props.value):oe.splice(ye,1)}else oe=Mt.props.value;if(Mt.props.onClick&&Mt.props.onClick(Bt),St!==oe&&(Lt(oe),j)){const ye=Bt.nativeEvent||Bt,je=new ye.constructor(ye.type,ye);Object.defineProperty(je,"target",{writable:!0,value:{value:oe,name:G}}),j(je,Mt)}H||Vt(!1,Bt)}},Dr=Mt=>{it||[" ","ArrowUp","ArrowDown","Enter"].includes(Mt.key)&&(Mt.preventDefault(),Vt(!0,Mt))},Ie=kt!==null&&jt,Mr=Mt=>{!Ie&&z&&(Object.defineProperty(Mt,"target",{writable:!0,value:{value:St,name:G}}),z(Mt))};delete At["aria-invalid"];let ir,Rr;const Pr=[];let Ir=!1;(cT({value:St})||k)&&(vt?ir=vt(St):Ir=!0);const dr=Jt.map(Mt=>{if(!ut.isValidElement(Mt))return null;let Bt;if(H){if(!Array.isArray(St))throw new Error(xg(2));Bt=St.some(oe=>iB(oe,Mt.props.value)),Bt&&Ir&&Pr.push(Mt.props.children)}else Bt=iB(St,Mt.props.value),Bt&&Ir&&(Rr=Mt.props.children);return ut.cloneElement(Mt,{"aria-selected":Bt?"true":"false",onClick:vr(Mt),onKeyUp:oe=>{oe.key===" "&&oe.preventDefault(),Mt.props.onKeyUp&&Mt.props.onKeyUp(oe)},role:"option",selected:Bt,value:void 0,"data-value":Mt.props.value})});Ir&&(H?Pr.length===0?ir=null:ir=Pr.reduce((Mt,Bt,oe)=>(Mt.push(Bt),oe<Pr.length-1&&Mt.push(", "),Mt),[]):ir=Rr);let ar=ie;!o&&Ut&&kt&&(ar=Se.clientWidth);let Or;typeof dt<"u"?Or=dt:Or=x?null:0;const er=V.id||(G?`mui-component-select-${G}`:void 0),Fr={...t,variant:pt,value:St,open:Ie,error:I},Ze=Nct(Fr),rr={...U.PaperProps,...typeof U.slotProps?.paper=="function"?U.slotProps.paper(Fr):U.slotProps?.paper},Me={...U.MenuListProps,...typeof U.slotProps?.list=="function"?U.slotProps.list(Fr):U.slotProps?.list},Ft=jC();return yr.jsxs(ut.Fragment,{children:[yr.jsx(Act,{as:"div",ref:de,tabIndex:Or,role:"combobox","aria-controls":Ie?Ft:void 0,"aria-disabled":x?"true":void 0,"aria-expanded":Ie?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[D,er].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":at?"true":void 0,"aria-invalid":I?"true":void 0,onKeyDown:Dr,onMouseDown:x||it?null:He,onBlur:Mr,onFocus:Y,...V,ownerState:Fr,className:pa(V.className,Ze.select,a),id:er,children:Rct(ir)?nB||(nB=yr.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ir}),yr.jsx(Ict,{"aria-invalid":I,value:Array.isArray(St)?St.join(","):St,name:G,ref:lt,"aria-hidden":!0,onChange:$r,tabIndex:-1,disabled:x,className:Ze.nativeInput,autoFocus:i,required:at,...At,ownerState:Fr}),yr.jsx(kct,{as:S,className:Ze.icon,ownerState:Fr}),yr.jsx(hct,{id:`menu-${G||""}`,anchorEl:Se,open:Ie,onClose:ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...U,slotProps:{...U.slotProps,list:{"aria-labelledby":D,role:"listbox","aria-multiselectable":H?"true":void 0,disableListWrap:!0,id:Ft,...Me},paper:{...rr,style:{minWidth:ar,...rr!=null?rr.style:null}}},children:dr})]})}),Mct=t=>{const{classes:e}=t,r=_s({root:["root"]},jq,e);return{...e,...r}},AP={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>ru(t)&&t!=="variant"},Pct=qr(Mq,AP)(""),Oct=qr(Fq,AP)(""),Dct=qr(Lq,AP)(""),Bct=ut.forwardRef(function(t,e){const r=Ys({name:"MuiSelect",props:t}),{autoWidth:n=!1,children:i,classes:o={},className:c,defaultOpen:a=!1,displayEmpty:g=!1,IconComponent:v=gst,id:x,input:k,inputProps:I,label:S,labelId:P,MenuProps:D,multiple:U=!1,native:H=!1,onClose:G,onOpen:z,open:j,renderValue:X,SelectDisplayProps:Y,variant:et="outlined",...st}=r,it=H?yct:Lct,vt=Xw(),at=GC({props:r,muiFormControl:vt,states:["variant","error"]}),V=at.variant||et,dt={...r,variant:V,classes:o},mt=Mct(dt),{root:wt,...pt}=mt,At=k||{standard:yr.jsx(Pct,{ownerState:dt}),outlined:yr.jsx(Oct,{label:S,ownerState:dt}),filled:yr.jsx(Dct,{ownerState:dt})}[V],St=Uu(e,Hw(At));return yr.jsx(ut.Fragment,{children:ut.cloneElement(At,{inputComponent:it,inputProps:{children:i,error:at.error,IconComponent:v,variant:V,type:void 0,multiple:U,...H?{id:x}:{autoWidth:n,defaultOpen:a,displayEmpty:g,labelId:P,MenuProps:D,onClose:G,onOpen:z,open:j,renderValue:X,SelectDisplayProps:{id:x,...Y}},...I,classes:I?Lh(pt,I.classes):pt,...k?k.props.inputProps:{}},...(U&&H||g)&&V==="outlined"?{notched:!0}:{},ref:St,className:pa(At.props.className,c,mt.root),...!k&&{variant:V},...st})})});Bct.muiName="Select";const Cf=Ei("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),zct=t=>{const{open:e}=t;return{offset:pa(e&&Cf.valueLabelOpen),circle:Cf.valueLabelCircle,label:Cf.valueLabelLabel}};function Fct(t){const{children:e,className:r,value:n}=t,i=zct(t);return e?ut.cloneElement(e,{className:e.props.className},yr.jsxs(ut.Fragment,{children:[e.props.children,yr.jsx("span",{className:pa(i.offset,r),"aria-hidden":!0,children:yr.jsx("span",{className:i.circle,children:yr.jsx("span",{className:i.label,children:n})})})]})):null}qr("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${Jn(r.color)}`],r.size!=="medium"&&e[`size${Jn(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(di(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Cf.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Cf.dragging}`]:{[`& .${Cf.thumb}, & .${Cf.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]})));qr("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]});qr("span",{name:"MuiSlider",slot:"Track"})(di(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]})));qr("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${Jn(r.color)}`],r.size!=="medium"&&e[`thumbSize${Jn(r.size)}`]]}})(di(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Cf.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(gu()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Cf.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Cf.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]})));qr(Fct,{name:"MuiSlider",slot:"ValueLabel"})(di(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Cf.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Cf.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})));qr("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>VC(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(di(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})));qr("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>VC(t)&&t!=="markLabelActive"})(di(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})));Ei("MuiSnackbarContent",["root","message","action"]);qr(Py,{name:"MuiSnackbarContent",slot:"Root"})(di(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(iT(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:iT(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}));qr("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"});qr("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8});Ei("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);qr("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`anchorOrigin${Jn(r.anchorOrigin.vertical)}${Jn(r.anchorOrigin.horizontal)}`]]}})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]})));const y5=Ei("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),ay=32,v5=16;qr("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`direction${Jn(r.direction)}`]]}})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${y5.actions}`]:{flexDirection:"column-reverse",marginBottom:-ay,paddingBottom:v5+ay}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${y5.actions}`]:{flexDirection:"column",marginTop:-ay,paddingTop:v5+ay}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${y5.actions}`]:{flexDirection:"row-reverse",marginRight:-ay,paddingRight:v5+ay}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${y5.actions}`]:{flexDirection:"row",marginLeft:-ay,paddingLeft:v5+ay}}}]})));qr(Nq,{name:"MuiSpeedDial",slot:"Fab"})({pointerEvents:"auto"});qr("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]});const Fc=Ei("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function jct(t){return Math.round(t*1e5)/1e5}qr(ost,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Fc.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Fc.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Fc.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Fc.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Fc.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Fc.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Fc.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Fc.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]})));qr("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${Jn(r.placement.split("-")[0])}`]]}})(di(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Fc.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Fc.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Fc.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Fc.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${jct(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Fc.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Fc.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Fc.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Fc.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Fc.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Fc.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Fc.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Fc.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Fc.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Fc.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]})));qr("span",{name:"MuiTooltip",slot:"Arrow"})(di(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));const b5=Ei("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]);qr(Nq,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(di(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:iT(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]})));qr("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e[`tooltipPlacement${Jn(r.tooltipPlacement)}`]]}})(di(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${b5.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${b5.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${b5.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${b5.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]})));qr("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel"})(di(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})));qr("div",{name:"MuiSwipeArea",shouldForwardProp:ru})(di(({theme:t})=>({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1,variants:[{props:{anchor:"left"},style:{right:"auto"}},{props:{anchor:"right"},style:{left:"auto",right:0}},{props:{anchor:"top"},style:{bottom:"auto",right:0}},{props:{anchor:"bottom"},style:{top:"auto",bottom:0,right:0}}]})));Ei("MuiToolbar",["root","gutters","regular","dense"]);qr("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(di(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]})));Ei("MuiTextField",["root"]);qr(klt,{name:"MuiTextField",slot:"Root"})({});BU({themeId:vp});ba(yr.jsx("path",{d:"M5 15H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}));ba(yr.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}));function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}var wp=Uint8Array,Af=Uint16Array,kP=Int32Array,IP=new wp([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),RP=new wp([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aB=new wp([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$q=function(t,e){for(var r=new Af(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new kP(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},Vq=$q(IP,2),$ct=Vq.b,fL=Vq.r;$ct[28]=258,fL[258]=28;var Vct=$q(RP,0),oB=Vct.r,Uq=new Af(32768);for(var Pl=0;Pl<32768;++Pl){var oy=(Pl&43690)>>1|(Pl&21845)<<1;oy=(oy&52428)>>2|(oy&13107)<<2,oy=(oy&61680)>>4|(oy&3855)<<4,Uq[Pl]=((oy&65280)>>8|(oy&255)<<8)>>1}var z2=(function(t,e,r){for(var n=t.length,i=0,o=new Af(e);i<n;++i)t[i]&&++o[t[i]-1];var c=new Af(e);for(i=1;i<e;++i)c[i]=c[i-1]+o[i-1]<<1;var a;for(a=new Af(n),i=0;i<n;++i)t[i]&&(a[i]=Uq[c[t[i]-1]++]>>15-t[i]);return a}),t0=new wp(288);for(var Pl=0;Pl<144;++Pl)t0[Pl]=8;for(var Pl=144;Pl<256;++Pl)t0[Pl]=9;for(var Pl=256;Pl<280;++Pl)t0[Pl]=7;for(var Pl=280;Pl<288;++Pl)t0[Pl]=8;var uT=new wp(32);for(var Pl=0;Pl<32;++Pl)uT[Pl]=5;var Uct=z2(t0,9),qct=z2(uT,5),qq=function(t){return(t+7)/8|0},Gct=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new wp(t.subarray(e,r))},ag=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},O1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Dk=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,o=r.slice();if(!i)return{t:Hq,l:0};if(i==1){var c=new wp(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(X,Y){return X.f-Y.f}),r.push({s:-1,f:25001});var a=r[0],g=r[1],v=0,x=1,k=2;for(r[0]={s:-1,f:a.f+g.f,l:a,r:g};x!=i-1;)a=r[r[v].f<r[k].f?v++:k++],g=r[v!=x&&r[v].f<r[k].f?v++:k++],r[x++]={s:-1,f:a.f+g.f,l:a,r:g};for(var I=o[0].s,n=1;n<i;++n)o[n].s>I&&(I=o[n].s);var S=new Af(I+1),P=pL(r[x-1],S,0);if(P>e){var n=0,D=0,U=P-e,H=1<<U;for(o.sort(function(Y,et){return S[et.s]-S[Y.s]||Y.f-et.f});n<i;++n){var G=o[n].s;if(S[G]>e)D+=H-(1<<P-S[G]),S[G]=e;else break}for(D>>=U;D>0;){var z=o[n].s;S[z]<e?D-=1<<e-S[z]++-1:++n}for(;n>=0&&D;--n){var j=o[n].s;S[j]==e&&(--S[j],++D)}P=e}return{t:new wp(S),l:P}},pL=function(t,e,r){return t.s==-1?Math.max(pL(t.l,e,r+1),pL(t.r,e,r+1)):e[t.s]=r},sB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Af(++e),n=0,i=t[0],o=1,c=function(g){r[n++]=g},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=t[a]}return{c:r.subarray(0,n),n:e}},D1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Gq=function(t,e,r){var n=r.length,i=qq(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<n;++o)t[i+o+4]=r[o];return(i+4+n)*8},lB=function(t,e,r,n,i,o,c,a,g,v,x){ag(e,x++,r),++i[256];for(var k=Dk(i,15),I=k.t,S=k.l,P=Dk(o,15),D=P.t,U=P.l,H=sB(I),G=H.c,z=H.n,j=sB(D),X=j.c,Y=j.n,et=new Af(19),st=0;st<G.length;++st)++et[G[st]&31];for(var st=0;st<X.length;++st)++et[X[st]&31];for(var it=Dk(et,7),vt=it.t,at=it.l,V=19;V>4&&!vt[aB[V-1]];--V);var dt=v+5<<3,mt=D1(i,t0)+D1(o,uT)+c,wt=D1(i,I)+D1(o,D)+c+14+3*V+D1(et,vt)+2*et[16]+3*et[17]+7*et[18];if(g>=0&&dt<=mt&&dt<=wt)return Gq(e,x,t.subarray(g,g+v));var pt,At,St,Lt;if(ag(e,x,1+(wt<mt)),x+=2,wt<mt){pt=z2(I,S),At=I,St=z2(D,U),Lt=D;var jt=z2(vt,at);ag(e,x,z-257),ag(e,x+5,Y-1),ag(e,x+10,V-4),x+=14;for(var st=0;st<V;++st)ag(e,x+3*st,vt[aB[st]]);x+=3*V;for(var _t=[G,X],lt=0;lt<2;++lt)for(var Tt=_t[lt],st=0;st<Tt.length;++st){var kt=Tt[st]&31;ag(e,x,jt[kt]),x+=vt[kt],kt>15&&(ag(e,x,Tt[st]>>5&127),x+=Tt[st]>>12)}}else pt=Uct,At=t0,St=qct,Lt=uT;for(var st=0;st<a;++st){var Rt=n[st];if(Rt>255){var kt=Rt>>18&31;O1(e,x,pt[kt+257]),x+=At[kt+257],kt>7&&(ag(e,x,Rt>>23&31),x+=IP[kt]);var Ut=Rt&31;O1(e,x,St[Ut]),x+=Lt[Ut],Ut>3&&(O1(e,x,Rt>>5&8191),x+=RP[Ut])}else O1(e,x,pt[Rt]),x+=At[Rt]}return O1(e,x,pt[256]),x+At[256]},Hct=new kP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hq=new wp(0),Xct=function(t,e,r,n,i,o){var c=o.z||t.length,a=new wp(n+c+5*(1+Math.ceil(c/7e3))+i),g=a.subarray(n,a.length-i),v=o.l,x=(o.r||0)&7;if(e){x&&(g[0]=o.r>>3);for(var k=Hct[e-1],I=k>>13,S=k&8191,P=(1<<r)-1,D=o.p||new Af(32768),U=o.h||new Af(P+1),H=Math.ceil(r/3),G=2*H,z=function(ke){return(t[ke]^t[ke+1]<<H^t[ke+2]<<G)&P},j=new kP(25e3),X=new Af(288),Y=new Af(32),et=0,st=0,it=o.i||0,vt=0,at=o.w||0,V=0;it+2<c;++it){var dt=z(it),mt=it&32767,wt=U[dt];if(D[mt]=wt,U[dt]=mt,at<=it){var pt=c-it;if((et>7e3||vt>24576)&&(pt>423||!v)){x=lB(t,g,0,j,X,Y,st,vt,V,it-V,x),vt=et=st=0,V=it;for(var At=0;At<286;++At)X[At]=0;for(var At=0;At<30;++At)Y[At]=0}var St=2,Lt=0,jt=S,_t=mt-wt&32767;if(pt>2&&dt==z(it-_t))for(var lt=Math.min(I,pt)-1,Tt=Math.min(32767,it),kt=Math.min(258,pt);_t<=Tt&&--jt&&mt!=wt;){if(t[it+St]==t[it+St-_t]){for(var Rt=0;Rt<kt&&t[it+Rt]==t[it+Rt-_t];++Rt);if(Rt>St){if(St=Rt,Lt=_t,Rt>lt)break;for(var Ut=Math.min(_t,Rt-2),ie=0,At=0;At<Ut;++At){var Ht=it-_t+At&32767,ce=D[Ht],de=Ht-ce&32767;de>ie&&(ie=de,wt=Ht)}}}mt=wt,wt=D[mt],_t+=mt-wt&32767}if(Lt){j[vt++]=268435456|fL[St]<<18|oB[Lt];var Se=fL[St]&31,Vt=oB[Lt]&31;st+=IP[Se]+RP[Vt],++X[257+Se],++Y[Vt],at=it+St,++et}else j[vt++]=t[it],++X[t[it]]}}for(it=Math.max(it,at);it<c;++it)j[vt++]=t[it],++X[t[it]];x=lB(t,g,v,j,X,Y,st,vt,V,it-V,x),v||(o.r=x&7|g[x/8|0]<<3,x-=7,o.h=U,o.p=D,o.i=it,o.w=at)}else{for(var it=o.w||0;it<c+v;it+=65535){var He=it+65535;He>=c&&(g[x/8|0]=v,He=c),x=Gq(g,x+1,t.subarray(it,He))}o.i=c}return Gct(a,0,n+qq(x)+i)},Xq=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,o=r.length|0,c=0;c!=o;){for(var a=Math.min(c+2655,o);c<a;++c)i+=n+=r[c];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Wct=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new wp(o.length+t.length);c.set(o),c.set(t,o.length),t=c,i.w=o.length}return Xct(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Wq=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Yct=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Xq();i.p(e.dictionary),Wq(t,2,i.d())}};function mL(t,e){e||(e={});var r=Xq();r.p(t);var n=Wct(t,e,e.dictionary?6:2,4);return Yct(n,e),Wq(n,n.length-4,r.d()),n}var Kct=typeof TextDecoder<"u"&&new TextDecoder,Zct=0;try{Kct.decode(Hq,{stream:!0}),Zct=1}catch{}function Qct(t){if(Array.isArray(t))return t}function Jct(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,c,a=[],g=!0,v=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(g=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);g=!0);}catch(x){v=!0,i=x}finally{try{if(!g&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(v)throw i}}return a}}function cB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tut(t,e){if(t){if(typeof t=="string")return cB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cB(t,e):void 0}}function eut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uB(t,e){return Qct(t)||Jct(t,e)||tut(t,e)||eut()}function hB(t,e="utf8"){return new TextDecoder(e).decode(t)}const rut=new TextEncoder;function nut(t){return rut.encode(t)}const iut=1024*8,aut=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Bk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class NP{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=iut,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,o=e.byteLength-i;let c=i;(ArrayBuffer.isView(e)||e instanceof NP)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Bk[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+n);if(this.littleEndian===aut&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const g=new Bk[r](a.buffer);return this.offset+=n,g.reverse(),g}const c=new Bk[r](o);return this.offset+=n,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return hB(this.readBytes(e))}decodeText(e=1,r="utf8"){return hB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(nut(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function yx(t){let e=t.length;for(;--e>=0;)t[e]=0}const out=3,sut=258,Yq=29,lut=256,cut=lut+1+Yq,Kq=30,uut=512,hut=new Array((cut+2)*2);yx(hut);const dut=new Array(Kq*2);yx(dut);const fut=new Array(uut);yx(fut);const put=new Array(sut-out+1);yx(put);const mut=new Array(Yq);yx(mut);const gut=new Array(Kq);yx(gut);const yut=(t,e,r,n)=>{let i=t&65535|0,o=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do i=i+e[n++]|0,o=o+i|0;while(--c);i%=65521,o%=65521}return i|o<<16|0};var gL=yut;const vut=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},but=new Uint32Array(vut()),_ut=(t,e,r,n)=>{const i=but,o=n+r;t^=-1;for(let c=n;c<o;c++)t=t>>>8^i[(t^e[c])&255];return t^-1};var em=_ut,yL={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zq={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const xut=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var wut=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)xut(r,n)&&(t[n]=r[n])}}return t},Sut=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let c=t[n];r.set(c,i),i+=c.length}return r},Qq={assign:wut,flattenChunks:Sut};let Jq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jq=!1}const lw=new Uint8Array(256);for(let t=0;t<256;t++)lw[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;lw[254]=lw[254]=1;var Eut=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,o,c=t.length,a=0;for(i=0;i<c;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<c&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<c&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const Tut=(t,e)=>{if(e<65534&&t.subarray&&Jq)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Cut=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let c=t[n++];if(c<128){o[i++]=c;continue}let a=lw[c];if(a>4){o[i++]=65533,n+=a-1;continue}for(c&=a===2?31:a===3?15:7;a>1&&n<r;)c=c<<6|t[n++]&63,a--;if(a>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return Tut(o,i)},Aut=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+lw[t[r]]>e?r:e},vL={string2buf:Eut,buf2string:Cut,utf8border:Aut};function kut(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Iut=kut;const _5=16209,Rut=16191;var Nut=function(t,e){let r,n,i,o,c,a,g,v,x,k,I,S,P,D,U,H,G,z,j,X,Y,et,st,it;const vt=t.state;r=t.next_in,st=t.input,n=r+(t.avail_in-5),i=t.next_out,it=t.output,o=i-(e-t.avail_out),c=i+(t.avail_out-257),a=vt.dmax,g=vt.wsize,v=vt.whave,x=vt.wnext,k=vt.window,I=vt.hold,S=vt.bits,P=vt.lencode,D=vt.distcode,U=(1<<vt.lenbits)-1,H=(1<<vt.distbits)-1;t:do{S<15&&(I+=st[r++]<<S,S+=8,I+=st[r++]<<S,S+=8),G=P[I&U];e:for(;;){if(z=G>>>24,I>>>=z,S-=z,z=G>>>16&255,z===0)it[i++]=G&65535;else if(z&16){j=G&65535,z&=15,z&&(S<z&&(I+=st[r++]<<S,S+=8),j+=I&(1<<z)-1,I>>>=z,S-=z),S<15&&(I+=st[r++]<<S,S+=8,I+=st[r++]<<S,S+=8),G=D[I&H];r:for(;;){if(z=G>>>24,I>>>=z,S-=z,z=G>>>16&255,z&16){if(X=G&65535,z&=15,S<z&&(I+=st[r++]<<S,S+=8,S<z&&(I+=st[r++]<<S,S+=8)),X+=I&(1<<z)-1,X>a){t.msg="invalid distance too far back",vt.mode=_5;break t}if(I>>>=z,S-=z,z=i-o,X>z){if(z=X-z,z>v&&vt.sane){t.msg="invalid distance too far back",vt.mode=_5;break t}if(Y=0,et=k,x===0){if(Y+=g-z,z<j){j-=z;do it[i++]=k[Y++];while(--z);Y=i-X,et=it}}else if(x<z){if(Y+=g+x-z,z-=x,z<j){j-=z;do it[i++]=k[Y++];while(--z);if(Y=0,x<j){z=x,j-=z;do it[i++]=k[Y++];while(--z);Y=i-X,et=it}}}else if(Y+=x-z,z<j){j-=z;do it[i++]=k[Y++];while(--z);Y=i-X,et=it}for(;j>2;)it[i++]=et[Y++],it[i++]=et[Y++],it[i++]=et[Y++],j-=3;j&&(it[i++]=et[Y++],j>1&&(it[i++]=et[Y++]))}else{Y=i-X;do it[i++]=it[Y++],it[i++]=it[Y++],it[i++]=it[Y++],j-=3;while(j>2);j&&(it[i++]=it[Y++],j>1&&(it[i++]=it[Y++]))}}else if((z&64)===0){G=D[(G&65535)+(I&(1<<z)-1)];continue r}else{t.msg="invalid distance code",vt.mode=_5;break t}break}}else if((z&64)===0){G=P[(G&65535)+(I&(1<<z)-1)];continue e}else if(z&32){vt.mode=Rut;break t}else{t.msg="invalid literal/length code",vt.mode=_5;break t}break}}while(r<n&&i<c);j=S>>3,r-=j,S-=j<<3,I&=(1<<S)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=i<c?257+(c-i):257-(i-c),vt.hold=I,vt.bits=S};const _b=15,dB=852,fB=592,pB=0,zk=1,mB=2,Lut=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mut=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Put=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Out=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dut=(t,e,r,n,i,o,c,a)=>{const g=a.bits;let v=0,x=0,k=0,I=0,S=0,P=0,D=0,U=0,H=0,G=0,z,j,X,Y,et,st=null,it;const vt=new Uint16Array(_b+1),at=new Uint16Array(_b+1);let V=null,dt,mt,wt;for(v=0;v<=_b;v++)vt[v]=0;for(x=0;x<n;x++)vt[e[r+x]]++;for(S=g,I=_b;I>=1&&vt[I]===0;I--);if(S>I&&(S=I),I===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(k=1;k<I&&vt[k]===0;k++);for(S<k&&(S=k),U=1,v=1;v<=_b;v++)if(U<<=1,U-=vt[v],U<0)return-1;if(U>0&&(t===pB||I!==1))return-1;for(at[1]=0,v=1;v<_b;v++)at[v+1]=at[v]+vt[v];for(x=0;x<n;x++)e[r+x]!==0&&(c[at[e[r+x]]++]=x);if(t===pB?(st=V=c,it=20):t===zk?(st=Lut,V=Mut,it=257):(st=Put,V=Out,it=0),G=0,x=0,v=k,et=o,P=S,D=0,X=-1,H=1<<S,Y=H-1,t===zk&&H>dB||t===mB&&H>fB)return 1;for(;;){dt=v-D,c[x]+1<it?(mt=0,wt=c[x]):c[x]>=it?(mt=V[c[x]-it],wt=st[c[x]-it]):(mt=96,wt=0),z=1<<v-D,j=1<<P,k=j;do j-=z,i[et+(G>>D)+j]=dt<<24|mt<<16|wt|0;while(j!==0);for(z=1<<v-1;G&z;)z>>=1;if(z!==0?(G&=z-1,G+=z):G=0,x++,--vt[v]===0){if(v===I)break;v=e[r+c[x]]}if(v>S&&(G&Y)!==X){for(D===0&&(D=S),et+=k,P=v-D,U=1<<P;P+D<I&&(U-=vt[P+D],!(U<=0));)P++,U<<=1;if(H+=1<<P,t===zk&&H>dB||t===mB&&H>fB)return 1;X=G&Y,i[X]=S<<24|P<<16|et-o|0}}return G!==0&&(i[et+G]=v-D<<24|64<<16|0),a.bits=S,0};var F2=Dut;const But=0,tG=1,eG=2,{Z_FINISH:gB,Z_BLOCK:zut,Z_TREES:x5,Z_OK:e0,Z_STREAM_END:Fut,Z_NEED_DICT:jut,Z_STREAM_ERROR:Sp,Z_DATA_ERROR:rG,Z_MEM_ERROR:nG,Z_BUF_ERROR:$ut,Z_DEFLATED:yB}=Zq,KC=16180,vB=16181,bB=16182,_B=16183,xB=16184,wB=16185,SB=16186,EB=16187,TB=16188,CB=16189,hT=16190,og=16191,Fk=16192,AB=16193,jk=16194,kB=16195,IB=16196,RB=16197,NB=16198,w5=16199,S5=16200,LB=16201,MB=16202,PB=16203,OB=16204,DB=16205,$k=16206,BB=16207,zB=16208,oc=16209,iG=16210,aG=16211,Vut=852,Uut=592,qut=15,Gut=qut,FB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Hut(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const f0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<KC||e.mode>aG?1:0},oG=t=>{if(f0(t))return Sp;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=KC,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Vut),e.distcode=e.distdyn=new Int32Array(Uut),e.sane=1,e.back=-1,e0},sG=t=>{if(f0(t))return Sp;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,oG(t)},lG=(t,e)=>{let r;if(f0(t))return Sp;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Sp:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,sG(t))},cG=(t,e)=>{if(!t)return Sp;const r=new Hut;t.state=r,r.strm=t,r.window=null,r.mode=KC;const n=lG(t,e);return n!==e0&&(t.state=null),n},Xut=t=>cG(t,Gut);let jB=!0,Vk,Uk;const Wut=t=>{if(jB){Vk=new Int32Array(512),Uk=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(F2(tG,t.lens,0,288,Vk,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;F2(eG,t.lens,0,32,Uk,0,t.work,{bits:5}),jB=!1}t.lencode=Vk,t.lenbits=9,t.distcode=Uk,t.distbits=5},uG=(t,e,r,n)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Yut=(t,e)=>{let r,n,i,o,c,a,g,v,x,k,I,S,P,D,U=0,H,G,z,j,X,Y,et,st;const it=new Uint8Array(4);let vt,at;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(f0(t)||!t.output||!t.input&&t.avail_in!==0)return Sp;r=t.state,r.mode===og&&(r.mode=Fk),c=t.next_out,i=t.output,g=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,v=r.hold,x=r.bits,k=a,I=g,st=e0;t:for(;;)switch(r.mode){case KC:if(r.wrap===0){r.mode=Fk;break}for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.wrap&2&&v===35615){r.wbits===0&&(r.wbits=15),r.check=0,it[0]=v&255,it[1]=v>>>8&255,r.check=em(r.check,it,2,0),v=0,x=0,r.mode=vB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((v&255)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=oc;break}if((v&15)!==yB){t.msg="unknown compression method",r.mode=oc;break}if(v>>>=4,x-=4,et=(v&15)+8,r.wbits===0&&(r.wbits=et),et>15||et>r.wbits){t.msg="invalid window size",r.mode=oc;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=v&512?CB:og,v=0,x=0;break;case vB:for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.flags=v,(r.flags&255)!==yB){t.msg="unknown compression method",r.mode=oc;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=oc;break}r.head&&(r.head.text=v>>8&1),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,r.check=em(r.check,it,2,0)),v=0,x=0,r.mode=bB;case bB:for(;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.head&&(r.head.time=v),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,it[2]=v>>>16&255,it[3]=v>>>24&255,r.check=em(r.check,it,4,0)),v=0,x=0,r.mode=_B;case _B:for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.head&&(r.head.xflags=v&255,r.head.os=v>>8),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,r.check=em(r.check,it,2,0)),v=0,x=0,r.mode=xB;case xB:if(r.flags&1024){for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.length=v,r.head&&(r.head.extra_len=v),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,r.check=em(r.check,it,2,0)),v=0,x=0}else r.head&&(r.head.extra=null);r.mode=wB;case wB:if(r.flags&1024&&(S=r.length,S>a&&(S=a),S&&(r.head&&(et=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+S),et)),r.flags&512&&r.wrap&4&&(r.check=em(r.check,n,S,o)),a-=S,o+=S,r.length-=S),r.length))break t;r.length=0,r.mode=SB;case SB:if(r.flags&2048){if(a===0)break t;S=0;do et=n[o+S++],r.head&&et&&r.length<65536&&(r.head.name+=String.fromCharCode(et));while(et&&S<a);if(r.flags&512&&r.wrap&4&&(r.check=em(r.check,n,S,o)),a-=S,o+=S,et)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=EB;case EB:if(r.flags&4096){if(a===0)break t;S=0;do et=n[o+S++],r.head&&et&&r.length<65536&&(r.head.comment+=String.fromCharCode(et));while(et&&S<a);if(r.flags&512&&r.wrap&4&&(r.check=em(r.check,n,S,o)),a-=S,o+=S,et)break t}else r.head&&(r.head.comment=null);r.mode=TB;case TB:if(r.flags&512){for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.wrap&4&&v!==(r.check&65535)){t.msg="header crc mismatch",r.mode=oc;break}v=0,x=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=og;break;case CB:for(;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}t.adler=r.check=FB(v),v=0,x=0,r.mode=hT;case hT:if(r.havedict===0)return t.next_out=c,t.avail_out=g,t.next_in=o,t.avail_in=a,r.hold=v,r.bits=x,jut;t.adler=r.check=1,r.mode=og;case og:if(e===zut||e===x5)break t;case Fk:if(r.last){v>>>=x&7,x-=x&7,r.mode=$k;break}for(;x<3;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}switch(r.last=v&1,v>>>=1,x-=1,v&3){case 0:r.mode=AB;break;case 1:if(Wut(r),r.mode=w5,e===x5){v>>>=2,x-=2;break t}break;case 2:r.mode=IB;break;case 3:t.msg="invalid block type",r.mode=oc}v>>>=2,x-=2;break;case AB:for(v>>>=x&7,x-=x&7;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if((v&65535)!==(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=oc;break}if(r.length=v&65535,v=0,x=0,r.mode=jk,e===x5)break t;case jk:r.mode=kB;case kB:if(S=r.length,S){if(S>a&&(S=a),S>g&&(S=g),S===0)break t;i.set(n.subarray(o,o+S),c),a-=S,o+=S,g-=S,c+=S,r.length-=S;break}r.mode=og;break;case IB:for(;x<14;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.nlen=(v&31)+257,v>>>=5,x-=5,r.ndist=(v&31)+1,v>>>=5,x-=5,r.ncode=(v&15)+4,v>>>=4,x-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=oc;break}r.have=0,r.mode=RB;case RB:for(;r.have<r.ncode;){for(;x<3;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.lens[V[r.have++]]=v&7,v>>>=3,x-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,vt={bits:r.lenbits},st=F2(But,r.lens,0,19,r.lencode,0,r.work,vt),r.lenbits=vt.bits,st){t.msg="invalid code lengths set",r.mode=oc;break}r.have=0,r.mode=NB;case NB:for(;r.have<r.nlen+r.ndist;){for(;U=r.lencode[v&(1<<r.lenbits)-1],H=U>>>24,G=U>>>16&255,z=U&65535,!(H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(z<16)v>>>=H,x-=H,r.lens[r.have++]=z;else{if(z===16){for(at=H+2;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(v>>>=H,x-=H,r.have===0){t.msg="invalid bit length repeat",r.mode=oc;break}et=r.lens[r.have-1],S=3+(v&3),v>>>=2,x-=2}else if(z===17){for(at=H+3;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=H,x-=H,et=0,S=3+(v&7),v>>>=3,x-=3}else{for(at=H+7;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=H,x-=H,et=0,S=11+(v&127),v>>>=7,x-=7}if(r.have+S>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=oc;break}for(;S--;)r.lens[r.have++]=et}}if(r.mode===oc)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=oc;break}if(r.lenbits=9,vt={bits:r.lenbits},st=F2(tG,r.lens,0,r.nlen,r.lencode,0,r.work,vt),r.lenbits=vt.bits,st){t.msg="invalid literal/lengths set",r.mode=oc;break}if(r.distbits=6,r.distcode=r.distdyn,vt={bits:r.distbits},st=F2(eG,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,vt),r.distbits=vt.bits,st){t.msg="invalid distances set",r.mode=oc;break}if(r.mode=w5,e===x5)break t;case w5:r.mode=S5;case S5:if(a>=6&&g>=258){t.next_out=c,t.avail_out=g,t.next_in=o,t.avail_in=a,r.hold=v,r.bits=x,Nut(t,I),c=t.next_out,i=t.output,g=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,v=r.hold,x=r.bits,r.mode===og&&(r.back=-1);break}for(r.back=0;U=r.lencode[v&(1<<r.lenbits)-1],H=U>>>24,G=U>>>16&255,z=U&65535,!(H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(G&&(G&240)===0){for(j=H,X=G,Y=z;U=r.lencode[Y+((v&(1<<j+X)-1)>>j)],H=U>>>24,G=U>>>16&255,z=U&65535,!(j+H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=j,x-=j,r.back+=j}if(v>>>=H,x-=H,r.back+=H,r.length=z,G===0){r.mode=DB;break}if(G&32){r.back=-1,r.mode=og;break}if(G&64){t.msg="invalid literal/length code",r.mode=oc;break}r.extra=G&15,r.mode=LB;case LB:if(r.extra){for(at=r.extra;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=MB;case MB:for(;U=r.distcode[v&(1<<r.distbits)-1],H=U>>>24,G=U>>>16&255,z=U&65535,!(H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if((G&240)===0){for(j=H,X=G,Y=z;U=r.distcode[Y+((v&(1<<j+X)-1)>>j)],H=U>>>24,G=U>>>16&255,z=U&65535,!(j+H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=j,x-=j,r.back+=j}if(v>>>=H,x-=H,r.back+=H,G&64){t.msg="invalid distance code",r.mode=oc;break}r.offset=z,r.extra=G&15,r.mode=PB;case PB:if(r.extra){for(at=r.extra;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=oc;break}r.mode=OB;case OB:if(g===0)break t;if(S=I-g,r.offset>S){if(S=r.offset-S,S>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=oc;break}S>r.wnext?(S-=r.wnext,P=r.wsize-S):P=r.wnext-S,S>r.length&&(S=r.length),D=r.window}else D=i,P=c-r.offset,S=r.length;S>g&&(S=g),g-=S,r.length-=S;do i[c++]=D[P++];while(--S);r.length===0&&(r.mode=S5);break;case DB:if(g===0)break t;i[c++]=r.length,g--,r.mode=S5;break;case $k:if(r.wrap){for(;x<32;){if(a===0)break t;a--,v|=n[o++]<<x,x+=8}if(I-=g,t.total_out+=I,r.total+=I,r.wrap&4&&I&&(t.adler=r.check=r.flags?em(r.check,i,I,c-I):gL(r.check,i,I,c-I)),I=g,r.wrap&4&&(r.flags?v:FB(v))!==r.check){t.msg="incorrect data check",r.mode=oc;break}v=0,x=0}r.mode=BB;case BB:if(r.wrap&&r.flags){for(;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.wrap&4&&v!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=oc;break}v=0,x=0}r.mode=zB;case zB:st=Fut;break t;case oc:st=rG;break t;case iG:return nG;case aG:default:return Sp}return t.next_out=c,t.avail_out=g,t.next_in=o,t.avail_in=a,r.hold=v,r.bits=x,(r.wsize||I!==t.avail_out&&r.mode<oc&&(r.mode<$k||e!==gB))&&uG(t,t.output,t.next_out,I-t.avail_out),k-=t.avail_in,I-=t.avail_out,t.total_in+=k,t.total_out+=I,r.total+=I,r.wrap&4&&I&&(t.adler=r.check=r.flags?em(r.check,i,I,t.next_out-I):gL(r.check,i,I,t.next_out-I)),t.data_type=r.bits+(r.last?64:0)+(r.mode===og?128:0)+(r.mode===w5||r.mode===jk?256:0),(k===0&&I===0||e===gB)&&st===e0&&(st=$ut),st},Kut=t=>{if(f0(t))return Sp;let e=t.state;return e.window&&(e.window=null),t.state=null,e0},Zut=(t,e)=>{if(f0(t))return Sp;const r=t.state;return(r.wrap&2)===0?Sp:(r.head=e,e.done=!1,e0)},Qut=(t,e)=>{const r=e.length;let n,i,o;return f0(t)||(n=t.state,n.wrap!==0&&n.mode!==hT)?Sp:n.mode===hT&&(i=1,i=gL(i,e,r,0),i!==n.check)?rG:(o=uG(t,e,r,r),o?(n.mode=iG,nG):(n.havedict=1,e0))};var Jut=sG,tht=lG,eht=oG,rht=Xut,nht=cG,iht=Yut,aht=Kut,oht=Zut,sht=Qut,lht="pako inflate (from Nodeca project)",pg={inflateReset:Jut,inflateReset2:tht,inflateResetKeep:eht,inflateInit:rht,inflateInit2:nht,inflate:iht,inflateEnd:aht,inflateGetHeader:oht,inflateSetDictionary:sht,inflateInfo:lht};function cht(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uht=cht;const hG=Object.prototype.toString,{Z_NO_FLUSH:hht,Z_FINISH:dht,Z_OK:cw,Z_STREAM_END:qk,Z_NEED_DICT:Gk,Z_STREAM_ERROR:fht,Z_DATA_ERROR:$B,Z_MEM_ERROR:pht}=Zq;function Yw(t){this.options=Qq.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Iut,this.strm.avail_out=0;let r=pg.inflateInit2(this.strm,e.windowBits);if(r!==cw)throw new Error(yL[r]);if(this.header=new uht,pg.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=vL.string2buf(e.dictionary):hG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=pg.inflateSetDictionary(this.strm,e.dictionary),r!==cw)))throw new Error(yL[r])}Yw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,c,a;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?dht:hht,hG.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=pg.inflate(r,c),o===Gk&&i&&(o=pg.inflateSetDictionary(r,i),o===cw?o=pg.inflate(r,c):o===$B&&(o=Gk));r.avail_in>0&&o===qk&&r.state.wrap>0&&t[r.next_in]!==0;)pg.inflateReset(r),o=pg.inflate(r,c);switch(o){case fht:case $B:case Gk:case pht:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||o===qk))if(this.options.to==="string"){let g=vL.utf8border(r.output,r.next_out),v=r.next_out-g,x=vL.buf2string(r.output,g);r.next_out=v,r.avail_out=n-v,v&&r.output.set(r.output.subarray(g,g+v),0),this.onData(x)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===cw&&a===0)){if(o===qk)return o=pg.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Yw.prototype.onData=function(t){this.chunks.push(t)};Yw.prototype.onEnd=function(t){t===cw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qq.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mht(t,e){const r=new Yw(e);if(r.push(t),r.err)throw r.msg||yL[r.err];return r.result}var ght=Yw,yht=mht,vht={Inflate:ght,inflate:yht};const{Inflate:bht,inflate:_ht}=vht;var VB=bht,xht=_ht;const dG=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;dG[t]=e}const UB=4294967295;function wht(t,e,r){let n=t;for(let i=0;i<r;i++)n=dG[(n^e[i])&255]^n>>>8;return n}function Sht(t,e){return(wht(UB,t,e)^UB)>>>0}function qB(t,e,r){const n=t.readUint32(),i=Sht(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function fG(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function pG(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function mG(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function gG(t,e,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-i]+r[o]>>1)&255}}function yG(t,e,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+Eht(e[o-i],r[o],r[o-i])&255}}function Eht(t,e,r){const n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),c=Math.abs(n-r);return i<=o&&i<=c?t:o<=c?e:r}function Tht(t,e,r,n,i,o){switch(t){case 0:fG(e,r,i);break;case 1:pG(e,r,i,o);break;case 2:mG(e,r,n,i);break;case 3:gG(e,r,n,i,o);break;case 4:yG(e,r,n,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Cht=new Uint16Array([255]),Aht=new Uint8Array(Cht.buffer),kht=Aht[0]===255;function Iht(t){const{data:e,width:r,height:n,channels:i,depth:o}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,g=new Uint8Array(n*r*a);let v=0;for(let x=0;x<7;x++){const k=c[x],I=Math.ceil((r-k.x)/k.xStep),S=Math.ceil((n-k.y)/k.yStep);if(I<=0||S<=0)continue;const P=I*a,D=new Uint8Array(P);for(let U=0;U<S;U++){const H=e[v++],G=e.subarray(v,v+P);v+=P;const z=new Uint8Array(P);Tht(H,G,z,D,P,a),D.set(z);for(let j=0;j<I;j++){const X=k.x+j*k.xStep,Y=k.y+U*k.yStep;if(!(X>=r||Y>=n))for(let et=0;et<a;et++)g[(Y*r+X)*a+et]=z[j*a+et]}}}if(o===16){const x=new Uint16Array(g.buffer);if(kht)for(let k=0;k<x.length;k++)x[k]=Rht(x[k]);return x}else return g}function Rht(t){return(t&255)<<8|t>>8&255}const Nht=new Uint16Array([255]),Lht=new Uint8Array(Nht.buffer),Mht=Lht[0]===255,Pht=new Uint8Array(0);function GB(t){const{data:e,width:r,height:n,channels:i,depth:o}=t,c=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*r),g=new Uint8Array(n*a);let v=Pht,x=0,k,I;for(let S=0;S<n;S++){switch(k=e.subarray(x+1,x+1+a),I=g.subarray(S*a,(S+1)*a),e[x]){case 0:fG(k,I,a);break;case 1:pG(k,I,a,c);break;case 2:mG(k,I,v,a);break;case 3:gG(k,I,v,a,c);break;case 4:yG(k,I,v,a,c);break;default:throw new Error(`Unsupported filter: ${e[x]}`)}v=I,x+=a+1}if(o===16){const S=new Uint16Array(g.buffer);if(Mht)for(let P=0;P<S.length;P++)S[P]=Oht(S[P]);return S}else return g}function Oht(t){return(t&255)<<8|t>>8&255}const gE=Uint8Array.of(137,80,78,71,13,10,26,10);function HB(t){if(!Dht(t.readBytes(gE.length)))throw new Error("wrong PNG signature")}function Dht(t){if(t.length<gE.length)return!1;for(let e=0;e<gE.length;e++)if(t[e]!==gE[e])return!1;return!0}const Bht="tEXt",zht=0,vG=new TextDecoder("latin1");function Fht(t){if($ht(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const jht=/^[\u0000-\u00FF]*$/;function $ht(t){if(!jht.test(t))throw new Error("invalid latin1 text")}function Vht(t,e,r){const n=bG(e);t[n]=Uht(e,r-n.length-1)}function bG(t){for(t.mark();t.readByte()!==zht;);const e=t.offset;t.reset();const r=vG.decode(t.readBytes(e-t.offset-1));return t.skip(1),Fht(r),r}function Uht(t,e){return vG.decode(t.readBytes(e))}const Gd={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Hk={UNKNOWN:-1,DEFLATE:0},XB={UNKNOWN:-1,ADAPTIVE:0},Xk={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},E5={NONE:0,BACKGROUND:1,PREVIOUS:2},Wk={SOURCE:0,OVER:1};class qht extends NP{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new VB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Hk.UNKNOWN,this._filterMethod=XB.UNKNOWN,this._interlaceMethod=Xk.UNKNOWN,this._colorType=Gd.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(HB(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(HB(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Bht:Vht(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?qB(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?qB(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Ght(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Gd.GREYSCALE:n=1;break;case Gd.TRUECOLOUR:n=3;break;case Gd.INDEXED_COLOUR:n=1;break;case Gd.GREYSCALE_ALPHA:n=2;break;case Gd.TRUECOLOUR_ALPHA:n=4;break;case Gd.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Hk.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Gd.GREYSCALE:case Gd.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Gd.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Gd.UNKNOWN:case Gd.GREYSCALE_ALPHA:case Gd.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=bG(this),n=this.readUint8();if(n!==Hk.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:xht(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=GB({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case E5.NONE:break;case E5.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const c=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)n.data[c+a]=0}break;case E5.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(o,c)=>{const a=((o+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,g=(o*r.width+c)*this._png.channels;return{index:a,frameIndex:g}};switch(r.blendOp){case Wk.SOURCE:for(let o=0;o<r.height;o++)for(let c=0;c<r.width;c++){const{index:a,frameIndex:g}=i(o,c);for(let v=0;v<this._png.channels;v++)e.data[a+v]=r.data[g+v]}break;case Wk.OVER:for(let o=0;o<r.height;o++)for(let c=0;c<r.width;c++){const{index:a,frameIndex:g}=i(o,c);for(let v=0;v<this._png.channels;v++){const x=r.data[g+this._png.channels-1]/n,k=v%(this._png.channels-1)===0?1:r.data[g+v],I=Math.floor(x*k+(1-x)*e.data[a+v]);e.data[a+v]+=I}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==XB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Xk.NO_INTERLACE)this._png.data=GB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Xk.ADAM7)this._png.data=Iht({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:E5.NONE,blendOp:Wk.SOURCE,data:e}),this._inflator=new VB,this._writingDataChunks=!1}}function Ght(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var WB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(WB||(WB={}));function Hht(t,e){return new qht(t,e).decode()}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 3.0.2 Built on 2025-08-26T11:48:30.930Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var ga=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Yk(){ga.console&&typeof ga.console.log=="function"&&ga.console.log.apply(ga.console,arguments)}var hl={log:Yk,warn:function(t){ga.console&&(typeof ga.console.warn=="function"?ga.console.warn.apply(ga.console,arguments):Yk.call(null,arguments))},error:function(t){ga.console&&(typeof ga.console.error=="function"?ga.console.error.apply(ga.console,arguments):Yk(t))}};function Kk(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Nv(n.response,e,r)},n.onerror=function(){hl.error("could not download file")},n.send()}function YB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function T5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Nv=ga.saveAs||((typeof window>"u"?"undefined":Ws(window))!=="object"||window!==ga?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ga.URL||ga.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?YB(i.href)?Kk(t,e,r):T5(i,i.target="_blank"):T5(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){T5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(YB(t))Kk(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){T5(n)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Ws(o)!=="object"&&(hl.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Kk(t,e,r);var i=t.type==="application/octet-stream",o=/constructor/i.test(ga.HTMLElement)||ga.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":Ws(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var x=a.result;x=c?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},a.readAsDataURL(t)}else{var g=ga.URL||ga.webkitURL,v=g.createObjectURL(t);n?n.location=v:location.href=v,n=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _G(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,c=i.exec(t);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return a.length==1&&(a="0"+a),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+a+g+v}}var yE=ga.atob.bind(ga),KB=ga.btoa.bind(ga);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zk(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];r=Ch(r,n,i,o,e[0],7,-680876936),o=Ch(o,r,n,i,e[1],12,-389564586),i=Ch(i,o,r,n,e[2],17,606105819),n=Ch(n,i,o,r,e[3],22,-1044525330),r=Ch(r,n,i,o,e[4],7,-176418897),o=Ch(o,r,n,i,e[5],12,1200080426),i=Ch(i,o,r,n,e[6],17,-1473231341),n=Ch(n,i,o,r,e[7],22,-45705983),r=Ch(r,n,i,o,e[8],7,1770035416),o=Ch(o,r,n,i,e[9],12,-1958414417),i=Ch(i,o,r,n,e[10],17,-42063),n=Ch(n,i,o,r,e[11],22,-1990404162),r=Ch(r,n,i,o,e[12],7,1804603682),o=Ch(o,r,n,i,e[13],12,-40341101),i=Ch(i,o,r,n,e[14],17,-1502002290),r=Ah(r,n=Ch(n,i,o,r,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Ah(o,r,n,i,e[6],9,-1069501632),i=Ah(i,o,r,n,e[11],14,643717713),n=Ah(n,i,o,r,e[0],20,-373897302),r=Ah(r,n,i,o,e[5],5,-701558691),o=Ah(o,r,n,i,e[10],9,38016083),i=Ah(i,o,r,n,e[15],14,-660478335),n=Ah(n,i,o,r,e[4],20,-405537848),r=Ah(r,n,i,o,e[9],5,568446438),o=Ah(o,r,n,i,e[14],9,-1019803690),i=Ah(i,o,r,n,e[3],14,-187363961),n=Ah(n,i,o,r,e[8],20,1163531501),r=Ah(r,n,i,o,e[13],5,-1444681467),o=Ah(o,r,n,i,e[2],9,-51403784),i=Ah(i,o,r,n,e[7],14,1735328473),r=kh(r,n=Ah(n,i,o,r,e[12],20,-1926607734),i,o,e[5],4,-378558),o=kh(o,r,n,i,e[8],11,-2022574463),i=kh(i,o,r,n,e[11],16,1839030562),n=kh(n,i,o,r,e[14],23,-35309556),r=kh(r,n,i,o,e[1],4,-1530992060),o=kh(o,r,n,i,e[4],11,1272893353),i=kh(i,o,r,n,e[7],16,-155497632),n=kh(n,i,o,r,e[10],23,-1094730640),r=kh(r,n,i,o,e[13],4,681279174),o=kh(o,r,n,i,e[0],11,-358537222),i=kh(i,o,r,n,e[3],16,-722521979),n=kh(n,i,o,r,e[6],23,76029189),r=kh(r,n,i,o,e[9],4,-640364487),o=kh(o,r,n,i,e[12],11,-421815835),i=kh(i,o,r,n,e[15],16,530742520),r=Ih(r,n=kh(n,i,o,r,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ih(o,r,n,i,e[7],10,1126891415),i=Ih(i,o,r,n,e[14],15,-1416354905),n=Ih(n,i,o,r,e[5],21,-57434055),r=Ih(r,n,i,o,e[12],6,1700485571),o=Ih(o,r,n,i,e[3],10,-1894986606),i=Ih(i,o,r,n,e[10],15,-1051523),n=Ih(n,i,o,r,e[1],21,-2054922799),r=Ih(r,n,i,o,e[8],6,1873313359),o=Ih(o,r,n,i,e[15],10,-30611744),i=Ih(i,o,r,n,e[6],15,-1560198380),n=Ih(n,i,o,r,e[13],21,1309151649),r=Ih(r,n,i,o,e[4],6,-145523070),o=Ih(o,r,n,i,e[11],10,-1120210379),i=Ih(i,o,r,n,e[2],15,718787259),n=Ih(n,i,o,r,e[9],21,-343485551),t[0]=gy(r,t[0]),t[1]=gy(n,t[1]),t[2]=gy(i,t[2]),t[3]=gy(o,t[3])}function ZC(t,e,r,n,i,o){return e=gy(gy(e,t),gy(n,o)),gy(e<<i|e>>>32-i,r)}function Ch(t,e,r,n,i,o,c){return ZC(e&r|~e&n,t,e,i,o,c)}function Ah(t,e,r,n,i,o,c){return ZC(e&n|r&~n,t,e,i,o,c)}function kh(t,e,r,n,i,o,c){return ZC(e^r^n,t,e,i,o,c)}function Ih(t,e,r,n,i,o,c){return ZC(r^(e|~n),t,e,i,o,c)}function xG(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Zk(n,Xht(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Zk(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Zk(n,i),n}function Xht(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var ZB="0123456789abcdef".split("");function Wht(t){for(var e="",r=0;r<4;r++)e+=ZB[t>>8*r+4&15]+ZB[t>>8*r&15];return e}function Yht(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function bL(t){return xG(t).map(Yht).join("")}var Kht=(function(t){for(var e=0;e<t.length;e++)t[e]=Wht(t[e]);return t.join("")})(xG("hello"))!="5d41402abc4b2a76b9719d911017c592";function gy(t,e){if(Kht){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _L(t,e){var r,n,i,o;if(t!==r){for(var c=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],g=0;g<256;g++)a[g]=g;var v=0;for(g=0;g<256;g++){var x=a[g];v=(v+x+c.charCodeAt(g))%256,a[g]=a[v],a[v]=x}r=t,n=a}else a=n;var k=e.length,I=0,S=0,P="";for(g=0;g<k;g++)S=(S+(x=a[I=(I+1)%256]))%256,a[I]=a[S],a[S]=x,c=a[(a[I]+a[S])%256],P+=String.fromCharCode(e.charCodeAt(g)^c);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var QB={print:4,modify:8,copy:16,"annot-forms":32};function jb(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(QB.perm!==void 0)throw new Error("Invalid permission: "+a);i+=QB[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=bL(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_L(this.encryptionKey,this.padding)}function $b(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function JB(t){if(Ws(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!i],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[r]){var c=e[r][o];try{c[0].apply(t,n)}catch(a){ga.console&&hl.error("jsPDF PubSub Error",a.message,a)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function dT(t){if(!(this instanceof dT))return new dT(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function wG(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ov(t,e,r,n,i){if(!(this instanceof Ov))return new Ov(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,wG.call(this,n,i)}function __(t,e,r,n,i){if(!(this instanceof __))return new __(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,wG.call(this,n,i)}function Li(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],c=[],a=1,g=16,v="S",x=null;Ws(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,o=t.compress||t.compressPdf||o,(x=t.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(g=t.floatPrecision),v=t.defaultPathOperation||"S"),c=t.filters||(o===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var k=t.putOnlyUsedFonts||!1,I={},S={internal:{},__private__:{}};S.__private__.PubSub=JB;var P="1.3",D=S.__private__.getPdfVersion=function(){return P};S.__private__.setPdfVersion=function(ct){P=ct};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return U};var H=S.__private__.getPageFormat=function(ct){return U[ct]};i=i||"a4";var G="compat",z="advanced",j=G;function X(){this.saveGraphicsState(),Jt(new Kr(Ze,0,0,-Ze,0,Ba()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),v="n",j=z}function Y(){this.restoreGraphicsState(),v="S",j=G}var et=S.__private__.combineFontStyleAndFontWeight=function(ct,Kt){if(ct=="bold"&&Kt=="normal"||ct=="bold"&&Kt==400||ct=="normal"&&Kt=="italic"||ct=="bold"&&Kt=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Kt&&(ct=Kt==400||Kt==="normal"?ct==="italic"?"italic":"normal":Kt!=700&&Kt!=="bold"||ct!=="normal"?(Kt==700?"bold":Kt)+""+ct:"bold"),ct};S.advancedAPI=function(ct){var Kt=j===G;return Kt&&X.call(this),typeof ct!="function"||(ct(this),Kt&&Y.call(this)),this},S.compatAPI=function(ct){var Kt=j===z;return Kt&&Y.call(this),typeof ct!="function"||(ct(this),Kt&&X.call(this)),this},S.isAdvancedAPI=function(){return j===z};var st,it=function(ct){if(j!==z)throw new Error(ct+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},vt=S.roundToPrecision=S.__private__.roundToPrecision=function(ct,Kt){var ve=e||Kt;if(isNaN(ct)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ct.toFixed(ve).replace(/0+$/,"")};st=S.hpf=S.__private__.hpf=typeof g=="number"?function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.hpf");return vt(ct,g)}:g==="smart"?function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.hpf");return vt(ct,ct>-1&&ct<1?16:5)}:function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.hpf");return vt(ct,16)};var at=S.f2=S.__private__.f2=function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.f2");return vt(ct,2)},V=S.__private__.f3=function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.f3");return vt(ct,3)},dt=S.scale=S.__private__.scale=function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.scale");return j===G?ct*Ze:j===z?ct:void 0},mt=function(ct){return dt((function(Kt){return j===G?Ba()-Kt:j===z?Kt:void 0})(ct))};S.__private__.setPrecision=S.setPrecision=function(ct){typeof parseInt(ct,10)=="number"&&(e=parseInt(ct,10))};var wt,pt="00000000000000000000000000000000",At=S.__private__.getFileId=function(){return pt},St=S.__private__.setFileId=function(ct){return pt=ct!==void 0&&/^[a-fA-F0-9]{32}$/.test(ct)?ct.toUpperCase():pt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Ko=new jb(x.userPermissions,x.userPassword,x.ownerPassword,pt)),pt};S.setFileId=function(ct){return St(ct),this},S.getFileId=function(){return At()};var Lt=S.__private__.convertDateToPDFDate=function(ct){var Kt=ct.getTimezoneOffset(),ve=Kt<0?"+":"-",Xe=Math.floor(Math.abs(Kt/60)),pr=Math.abs(Kt%60),Yr=[ve,kt(Xe),"'",kt(pr),"'"].join("");return["D:",ct.getFullYear(),kt(ct.getMonth()+1),kt(ct.getDate()),kt(ct.getHours()),kt(ct.getMinutes()),kt(ct.getSeconds()),Yr].join("")},jt=S.__private__.convertPDFDateToDate=function(ct){var Kt=parseInt(ct.substr(2,4),10),ve=parseInt(ct.substr(6,2),10)-1,Xe=parseInt(ct.substr(8,2),10),pr=parseInt(ct.substr(10,2),10),Yr=parseInt(ct.substr(12,2),10),gn=parseInt(ct.substr(14,2),10);return new Date(Kt,ve,Xe,pr,Yr,gn,0)},_t=S.__private__.setCreationDate=function(ct){var Kt;if(ct===void 0&&(ct=new Date),ct instanceof Date)Kt=Lt(ct);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ct))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Kt=ct}return wt=Kt},lt=S.__private__.getCreationDate=function(ct){var Kt=wt;return ct==="jsDate"&&(Kt=jt(wt)),Kt};S.setCreationDate=function(ct){return _t(ct),this},S.getCreationDate=function(ct){return lt(ct)};var Tt,kt=S.__private__.padd2=function(ct){return("0"+parseInt(ct)).slice(-2)},Rt=S.__private__.padd2Hex=function(ct){return("00"+(ct=ct.toString())).substr(ct.length)},Ut=0,ie=[],Ht=[],ce=0,de=[],Se=[],Vt=!1,He=Ht;S.__private__.setCustomOutputDestination=function(ct){Vt=!0,He=ct};var ke=function(ct){Vt||(He=ct)};S.__private__.resetCustomOutputDestination=function(){Vt=!1,He=Ht};var Jt=S.__private__.out=function(ct){return ct=ct.toString(),ce+=ct.length+1,He.push(ct),He},$r=S.__private__.write=function(ct){return Jt(arguments.length===1?ct.toString():Array.prototype.join.call(arguments," "))},vr=S.__private__.getArrayBuffer=function(ct){for(var Kt=ct.length,ve=new ArrayBuffer(Kt),Xe=new Uint8Array(ve);Kt--;)Xe[Kt]=ct.charCodeAt(Kt);return ve},Dr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return Dr};var Ie=t.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(ct){return Ie=j===z?ct/Ze:ct,this};var Mr,ir=S.__private__.getFontSize=S.getFontSize=function(){return j===G?Ie:Ie*Ze},Rr=t.R2L||!1;S.__private__.setR2L=S.setR2L=function(ct){return Rr=ct,this},S.__private__.getR2L=S.getR2L=function(){return Rr};var Pr,Ir=S.__private__.setZoomMode=function(ct){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ct))Mr=ct;else if(isNaN(ct)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ct)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ct+'" is not recognized.');Mr=ct}else Mr=parseInt(ct,10)};S.__private__.getZoomMode=function(){return Mr};var dr,ar=S.__private__.setPageMode=function(ct){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ct)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ct+'" is not recognized.');Pr=ct};S.__private__.getPageMode=function(){return Pr};var Or=S.__private__.setLayoutMode=function(ct){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ct)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ct+'" is not recognized.');dr=ct};S.__private__.getLayoutMode=function(){return dr},S.__private__.setDisplayMode=S.setDisplayMode=function(ct,Kt,ve){return Ir(ct),Or(Kt),ar(ve),this};var er={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(ct){if(Object.keys(er).indexOf(ct)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return er[ct]},S.__private__.getDocumentProperties=function(){return er},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(ct){for(var Kt in er)er.hasOwnProperty(Kt)&&ct[Kt]&&(er[Kt]=ct[Kt]);return this},S.__private__.setDocumentProperty=function(ct,Kt){if(Object.keys(er).indexOf(ct)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return er[ct]=Kt};var Fr,Ze,rr,Me,Ft,Mt={},Bt={},oe=[],ye={},je={},Ge={},Ue={},fr=null,Ke=0,Pe=[],ur=new JB(S),Oe=t.hotfixes||[],Wr={},or={},bn=[],Kr=function ct(Kt,ve,Xe,pr,Yr,gn){if(!(this instanceof ct))return new ct(Kt,ve,Xe,pr,Yr,gn);isNaN(Kt)&&(Kt=1),isNaN(ve)&&(ve=0),isNaN(Xe)&&(Xe=0),isNaN(pr)&&(pr=1),isNaN(Yr)&&(Yr=0),isNaN(gn)&&(gn=0),this._matrix=[Kt,ve,Xe,pr,Yr,gn]};Object.defineProperty(Kr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ct){this._matrix[0]=ct}}),Object.defineProperty(Kr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ct){this._matrix[1]=ct}}),Object.defineProperty(Kr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ct){this._matrix[2]=ct}}),Object.defineProperty(Kr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ct){this._matrix[3]=ct}}),Object.defineProperty(Kr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ct){this._matrix[4]=ct}}),Object.defineProperty(Kr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ct){this._matrix[5]=ct}}),Object.defineProperty(Kr.prototype,"a",{get:function(){return this._matrix[0]},set:function(ct){this._matrix[0]=ct}}),Object.defineProperty(Kr.prototype,"b",{get:function(){return this._matrix[1]},set:function(ct){this._matrix[1]=ct}}),Object.defineProperty(Kr.prototype,"c",{get:function(){return this._matrix[2]},set:function(ct){this._matrix[2]=ct}}),Object.defineProperty(Kr.prototype,"d",{get:function(){return this._matrix[3]},set:function(ct){this._matrix[3]=ct}}),Object.defineProperty(Kr.prototype,"e",{get:function(){return this._matrix[4]},set:function(ct){this._matrix[4]=ct}}),Object.defineProperty(Kr.prototype,"f",{get:function(){return this._matrix[5]},set:function(ct){this._matrix[5]=ct}}),Object.defineProperty(Kr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kr.prototype.join=function(ct){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(st).join(ct)},Kr.prototype.multiply=function(ct){var Kt=ct.sx*this.sx+ct.shy*this.shx,ve=ct.sx*this.shy+ct.shy*this.sy,Xe=ct.shx*this.sx+ct.sy*this.shx,pr=ct.shx*this.shy+ct.sy*this.sy,Yr=ct.tx*this.sx+ct.ty*this.shx+this.tx,gn=ct.tx*this.shy+ct.ty*this.sy+this.ty;return new Kr(Kt,ve,Xe,pr,Yr,gn)},Kr.prototype.decompose=function(){var ct=this.sx,Kt=this.shy,ve=this.shx,Xe=this.sy,pr=this.tx,Yr=this.ty,gn=Math.sqrt(ct*ct+Kt*Kt),Vn=(ct/=gn)*ve+(Kt/=gn)*Xe;ve-=ct*Vn,Xe-=Kt*Vn;var ri=Math.sqrt(ve*ve+Xe*Xe);return Vn/=ri,ct*(Xe/=ri)<Kt*(ve/=ri)&&(ct=-ct,Kt=-Kt,Vn=-Vn,gn=-gn),{scale:new Kr(gn,0,0,ri,0,0),translate:new Kr(1,0,0,1,pr,Yr),rotate:new Kr(ct,Kt,-Kt,ct,0,0),skew:new Kr(1,0,Vn,1,0,0)}},Kr.prototype.toString=function(ct){return this.join(" ")},Kr.prototype.inversed=function(){var ct=this.sx,Kt=this.shy,ve=this.shx,Xe=this.sy,pr=this.tx,Yr=this.ty,gn=1/(ct*Xe-Kt*ve),Vn=Xe*gn,ri=-Kt*gn,Ti=-ve*gn,ji=ct*gn;return new Kr(Vn,ri,Ti,ji,-Vn*pr-Ti*Yr,-ri*pr-ji*Yr)},Kr.prototype.applyToPoint=function(ct){var Kt=ct.x*this.sx+ct.y*this.shx+this.tx,ve=ct.x*this.shy+ct.y*this.sy+this.ty;return new _c(Kt,ve)},Kr.prototype.applyToRectangle=function(ct){var Kt=this.applyToPoint(ct),ve=this.applyToPoint(new _c(ct.x+ct.w,ct.y+ct.h));return new Ms(Kt.x,Kt.y,ve.x-Kt.x,ve.y-Kt.y)},Kr.prototype.clone=function(){var ct=this.sx,Kt=this.shy,ve=this.shx,Xe=this.sy,pr=this.tx,Yr=this.ty;return new Kr(ct,Kt,ve,Xe,pr,Yr)},S.Matrix=Kr;var Zn=S.matrixMult=function(ct,Kt){return Kt.multiply(ct)},Pt=new Kr(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=Pt;var Xt=function(ct,Kt){if(!je[ct]){var ve=(Kt instanceof Ov?"Sh":"P")+(Object.keys(ye).length+1).toString(10);Kt.id=ve,je[ct]=ve,ye[ve]=Kt,ur.publish("addPattern",Kt)}};S.ShadingPattern=Ov,S.TilingPattern=__,S.addShadingPattern=function(ct,Kt){return it("addShadingPattern()"),Xt(ct,Kt),this},S.beginTilingPattern=function(ct){it("beginTilingPattern()"),xc(ct.boundingBox[0],ct.boundingBox[1],ct.boundingBox[2]-ct.boundingBox[0],ct.boundingBox[3]-ct.boundingBox[1],ct.matrix)},S.endTilingPattern=function(ct,Kt){it("endTilingPattern()"),Kt.stream=Se[Tt].join(`
`),Xt(ct,Kt),ur.publish("endTilingPattern",Kt),bn.pop().restore()};var be,ze=S.__private__.newObject=function(){var ct=Lr();return vn(ct,!0),ct},Lr=S.__private__.newObjectDeferred=function(){return Ut++,ie[Ut]=function(){return ce},Ut},vn=function(ct,Kt){return Kt=typeof Kt=="boolean"&&Kt,ie[ct]=ce,Kt&&Jt(ct+" 0 obj"),ct},Vr=S.__private__.newAdditionalObject=function(){var ct={objId:Lr(),content:""};return de.push(ct),ct},fi=Lr(),On=Lr(),li=S.__private__.decodeColorString=function(ct){var Kt=ct.split(" ");if(Kt.length!==2||Kt[1]!=="g"&&Kt[1]!=="G")Kt.length!==5||Kt[4]!=="k"&&Kt[4]!=="K"||(Kt=[(1-Kt[0])*(1-Kt[3]),(1-Kt[1])*(1-Kt[3]),(1-Kt[2])*(1-Kt[3]),"r"]);else{var ve=parseFloat(Kt[0]);Kt=[ve,ve,ve,"r"]}for(var Xe="#",pr=0;pr<3;pr++)Xe+=("0"+Math.floor(255*parseFloat(Kt[pr])).toString(16)).slice(-2);return Xe},Ji=S.__private__.encodeColorString=function(ct){var Kt;typeof ct=="string"&&(ct={ch1:ct});var ve=ct.ch1,Xe=ct.ch2,pr=ct.ch3,Yr=ct.ch4,gn=ct.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Vn=new _G(ve);if(Vn.ok)ve=Vn.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var ri=parseInt(ve.substr(1),16);ve=ri>>16&255,Xe=ri>>8&255,pr=255&ri}if(Xe===void 0||Yr===void 0&&ve===Xe&&Xe===pr)Kt=typeof ve=="string"?ve+" "+gn[0]:ct.precision===2?at(ve/255)+" "+gn[0]:V(ve/255)+" "+gn[0];else if(Yr===void 0||Ws(Yr)==="object"){if(Yr&&!isNaN(Yr.a)&&Yr.a===0)return["1.","1.","1.",gn[1]].join(" ");Kt=typeof ve=="string"?[ve,Xe,pr,gn[1]].join(" "):ct.precision===2?[at(ve/255),at(Xe/255),at(pr/255),gn[1]].join(" "):[V(ve/255),V(Xe/255),V(pr/255),gn[1]].join(" ")}else Kt=typeof ve=="string"?[ve,Xe,pr,Yr,gn[2]].join(" "):ct.precision===2?[at(ve),at(Xe),at(pr),at(Yr),gn[2]].join(" "):[V(ve),V(Xe),V(pr),V(Yr),gn[2]].join(" ");return Kt},en=S.__private__.getFilters=function(){return c},Rn=S.__private__.putStream=function(ct){var Kt=(ct=ct||{}).data||"",ve=ct.filters||en(),Xe=ct.alreadyAppliedFilters||[],pr=ct.addLength1||!1,Yr=Kt.length,gn=ct.objectId,Vn=function(Lo){return Lo};if(x!==null&&gn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Vn=Ko.encryptor(gn,0));var ri={};ve===!0&&(ve=["FlateEncode"]);var Ti=ct.additionalKeyValues||[],ji=(ri=Li.API.processDataByFilters!==void 0?Li.API.processDataByFilters(Kt,ve):{data:Kt,reverseChain:[]}).reverseChain+(Array.isArray(Xe)?Xe.join(" "):Xe.toString());if(ri.data.length!==0&&(Ti.push({key:"Length",value:ri.data.length}),pr===!0&&Ti.push({key:"Length1",value:Yr})),ji.length!=0)if(ji.split("/").length-1==1)Ti.push({key:"Filter",value:ji});else{Ti.push({key:"Filter",value:"["+ji+"]"});for(var wi=0;wi<Ti.length;wi+=1)if(Ti[wi].key==="DecodeParms"){for(var xa=[],Oi=0;Oi<ri.reverseChain.split("/").length-1;Oi+=1)xa.push("null");xa.push(Ti[wi].value),Ti[wi].value="["+xa.join(" ")+"]"}}Jt("<<");for(var Ui=0;Ui<Ti.length;Ui++)Jt("/"+Ti[Ui].key+" "+Ti[Ui].value);Jt(">>"),ri.data.length!==0&&(Jt("stream"),Jt(Vn(ri.data)),Jt("endstream"))},Wn=S.__private__.putPage=function(ct){var Kt=ct.number,ve=ct.data,Xe=ct.objId,pr=ct.contentsObjId;vn(Xe,!0),Jt("<</Type /Page"),Jt("/Parent "+ct.rootDictionaryObjId+" 0 R"),Jt("/Resources "+ct.resourceDictionaryObjId+" 0 R"),Jt("/MediaBox ["+parseFloat(st(ct.mediaBox.bottomLeftX))+" "+parseFloat(st(ct.mediaBox.bottomLeftY))+" "+st(ct.mediaBox.topRightX)+" "+st(ct.mediaBox.topRightY)+"]"),ct.cropBox!==null&&Jt("/CropBox ["+st(ct.cropBox.bottomLeftX)+" "+st(ct.cropBox.bottomLeftY)+" "+st(ct.cropBox.topRightX)+" "+st(ct.cropBox.topRightY)+"]"),ct.bleedBox!==null&&Jt("/BleedBox ["+st(ct.bleedBox.bottomLeftX)+" "+st(ct.bleedBox.bottomLeftY)+" "+st(ct.bleedBox.topRightX)+" "+st(ct.bleedBox.topRightY)+"]"),ct.trimBox!==null&&Jt("/TrimBox ["+st(ct.trimBox.bottomLeftX)+" "+st(ct.trimBox.bottomLeftY)+" "+st(ct.trimBox.topRightX)+" "+st(ct.trimBox.topRightY)+"]"),ct.artBox!==null&&Jt("/ArtBox ["+st(ct.artBox.bottomLeftX)+" "+st(ct.artBox.bottomLeftY)+" "+st(ct.artBox.topRightX)+" "+st(ct.artBox.topRightY)+"]"),typeof ct.userUnit=="number"&&ct.userUnit!==1&&Jt("/UserUnit "+ct.userUnit),ur.publish("putPage",{objId:Xe,pageContext:Pe[Kt],pageNumber:Kt,page:ve}),Jt("/Contents "+pr+" 0 R"),Jt(">>"),Jt("endobj");var Yr=ve.join(`
`);return j===z&&(Yr+=`
Q`),vn(pr,!0),Rn({data:Yr,filters:en(),objectId:pr}),Jt("endobj"),Xe},Ra=S.__private__.putPages=function(){var ct,Kt,ve=[];for(ct=1;ct<=Ke;ct++)Pe[ct].objId=Lr(),Pe[ct].contentsObjId=Lr();for(ct=1;ct<=Ke;ct++)ve.push(Wn({number:ct,data:Se[ct],objId:Pe[ct].objId,contentsObjId:Pe[ct].contentsObjId,mediaBox:Pe[ct].mediaBox,cropBox:Pe[ct].cropBox,bleedBox:Pe[ct].bleedBox,trimBox:Pe[ct].trimBox,artBox:Pe[ct].artBox,userUnit:Pe[ct].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:On}));vn(fi,!0),Jt("<</Type /Pages");var Xe="/Kids [";for(Kt=0;Kt<Ke;Kt++)Xe+=ve[Kt]+" 0 R ";Jt(Xe+"]"),Jt("/Count "+Ke),Jt(">>"),Jt("endobj"),ur.publish("postPutPages")},xo=function(ct){ur.publish("putFont",{font:ct,out:Jt,newObject:ze,putStream:Rn}),ct.isAlreadyPutted!==!0&&(ct.objectNumber=ze(),Jt("<<"),Jt("/Type /Font"),Jt("/BaseFont /"+$b(ct.postScriptName)),Jt("/Subtype /Type1"),typeof ct.encoding=="string"&&Jt("/Encoding /"+ct.encoding),Jt("/FirstChar 32"),Jt("/LastChar 255"),Jt(">>"),Jt("endobj"))},Na=function(ct){ct.objectNumber=ze();var Kt=[];Kt.push({key:"Type",value:"/XObject"}),Kt.push({key:"Subtype",value:"/Form"}),Kt.push({key:"BBox",value:"["+[st(ct.x),st(ct.y),st(ct.x+ct.width),st(ct.y+ct.height)].join(" ")+"]"}),Kt.push({key:"Matrix",value:"["+ct.matrix.toString()+"]"});var ve=ct.pages[1].join(`
`);Rn({data:ve,additionalKeyValues:Kt,objectId:ct.objectNumber}),Jt("endobj")},Mn=function(ct,Kt){Kt||(Kt=21);var ve=ze(),Xe=(function(gn,Vn){var ri,Ti=[],ji=1/(Vn-1);for(ri=0;ri<1;ri+=ji)Ti.push(ri);if(Ti.push(1),gn[0].offset!=0){var wi={offset:0,color:gn[0].color};gn.unshift(wi)}if(gn[gn.length-1].offset!=1){var xa={offset:1,color:gn[gn.length-1].color};gn.push(xa)}for(var Oi="",Ui=0,Lo=0;Lo<Ti.length;Lo++){for(ri=Ti[Lo];ri>gn[Ui+1].offset;)Ui++;var Ja=gn[Ui].offset,ao=(ri-Ja)/(gn[Ui+1].offset-Ja),Ul=gn[Ui].color,wc=gn[Ui+1].color;Oi+=Rt(Math.round((1-ao)*Ul[0]+ao*wc[0]).toString(16))+Rt(Math.round((1-ao)*Ul[1]+ao*wc[1]).toString(16))+Rt(Math.round((1-ao)*Ul[2]+ao*wc[2]).toString(16))}return Oi.trim()})(ct.colors,Kt),pr=[];pr.push({key:"FunctionType",value:"0"}),pr.push({key:"Domain",value:"[0.0 1.0]"}),pr.push({key:"Size",value:"["+Kt+"]"}),pr.push({key:"BitsPerSample",value:"8"}),pr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:Xe,additionalKeyValues:pr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),Jt("endobj"),ct.objectNumber=ze(),Jt("<< /ShadingType "+ct.type),Jt("/ColorSpace /DeviceRGB");var Yr="/Coords ["+st(parseFloat(ct.coords[0]))+" "+st(parseFloat(ct.coords[1]))+" ";ct.type===2?Yr+=st(parseFloat(ct.coords[2]))+" "+st(parseFloat(ct.coords[3])):Yr+=st(parseFloat(ct.coords[2]))+" "+st(parseFloat(ct.coords[3]))+" "+st(parseFloat(ct.coords[4]))+" "+st(parseFloat(ct.coords[5])),Jt(Yr+="]"),ct.matrix&&Jt("/Matrix ["+ct.matrix.toString()+"]"),Jt("/Function "+ve+" 0 R"),Jt("/Extend [true true]"),Jt(">>"),Jt("endobj")},io=function(ct,Kt){var ve=Lr(),Xe=ze();Kt.push({resourcesOid:ve,objectOid:Xe}),ct.objectNumber=Xe;var pr=[];pr.push({key:"Type",value:"/Pattern"}),pr.push({key:"PatternType",value:"1"}),pr.push({key:"PaintType",value:"1"}),pr.push({key:"TilingType",value:"1"}),pr.push({key:"BBox",value:"["+ct.boundingBox.map(st).join(" ")+"]"}),pr.push({key:"XStep",value:st(ct.xStep)}),pr.push({key:"YStep",value:st(ct.yStep)}),pr.push({key:"Resources",value:ve+" 0 R"}),ct.matrix&&pr.push({key:"Matrix",value:"["+ct.matrix.toString()+"]"}),Rn({data:ct.stream,additionalKeyValues:pr,objectId:ct.objectNumber}),Jt("endobj")},rl=function(ct){for(var Kt in ct.objectNumber=ze(),Jt("<<"),ct)switch(Kt){case"opacity":Jt("/ca "+at(ct[Kt]));break;case"stroke-opacity":Jt("/CA "+at(ct[Kt]))}Jt(">>"),Jt("endobj")},oa=function(ct){vn(ct.resourcesOid,!0),Jt("<<"),Jt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Kt in Jt("/Font <<"),Mt)Mt.hasOwnProperty(Kt)&&(k===!1||k===!0&&I.hasOwnProperty(Kt))&&Jt("/"+Kt+" "+Mt[Kt].objectNumber+" 0 R");Jt(">>")})(),(function(){if(Object.keys(ye).length>0){for(var Kt in Jt("/Shading <<"),ye)ye.hasOwnProperty(Kt)&&ye[Kt]instanceof Ov&&ye[Kt].objectNumber>=0&&Jt("/"+Kt+" "+ye[Kt].objectNumber+" 0 R");ur.publish("putShadingPatternDict"),Jt(">>")}})(),(function(Kt){if(Object.keys(ye).length>0){for(var ve in Jt("/Pattern <<"),ye)ye.hasOwnProperty(ve)&&ye[ve]instanceof S.TilingPattern&&ye[ve].objectNumber>=0&&ye[ve].objectNumber<Kt&&Jt("/"+ve+" "+ye[ve].objectNumber+" 0 R");ur.publish("putTilingPatternDict"),Jt(">>")}})(ct.objectOid),(function(){if(Object.keys(Ge).length>0){var Kt;for(Kt in Jt("/ExtGState <<"),Ge)Ge.hasOwnProperty(Kt)&&Ge[Kt].objectNumber>=0&&Jt("/"+Kt+" "+Ge[Kt].objectNumber+" 0 R");ur.publish("putGStateDict"),Jt(">>")}})(),(function(){for(var Kt in Jt("/XObject <<"),Wr)Wr.hasOwnProperty(Kt)&&Wr[Kt].objectNumber>=0&&Jt("/"+Kt+" "+Wr[Kt].objectNumber+" 0 R");ur.publish("putXobjectDict"),Jt(">>")})(),Jt(">>"),Jt("endobj")},ha=function(ct){Bt[ct.fontName]=Bt[ct.fontName]||{},Bt[ct.fontName][ct.fontStyle]=ct.id},uc=function(ct,Kt,ve,Xe,pr){var Yr={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:ct,fontName:Kt,fontStyle:ve,encoding:Xe,isStandardFont:pr||!1,metadata:{}};return ur.publish("addFont",{font:Yr,instance:this}),Mt[Yr.id]=Yr,ha(Yr),Yr.id},Vi=S.__private__.pdfEscape=S.pdfEscape=function(ct,Kt){return(function(ve,Xe){var pr,Yr,gn,Vn,ri,Ti,ji,wi,xa;if(gn=(Xe=Xe||{}).sourceEncoding||"Unicode",ri=Xe.outputEncoding,(Xe.autoencode||ri)&&Mt[Fr].metadata&&Mt[Fr].metadata[gn]&&Mt[Fr].metadata[gn].encoding&&(Vn=Mt[Fr].metadata[gn].encoding,!ri&&Mt[Fr].encoding&&(ri=Mt[Fr].encoding),!ri&&Vn.codePages&&(ri=Vn.codePages[0]),typeof ri=="string"&&(ri=Vn[ri]),ri)){for(ji=!1,Ti=[],pr=0,Yr=ve.length;pr<Yr;pr++)(wi=ri[ve.charCodeAt(pr)])?Ti.push(String.fromCharCode(wi)):Ti.push(ve[pr]),Ti[pr].charCodeAt(0)>>8&&(ji=!0);ve=Ti.join("")}for(pr=ve.length;ji===void 0&&pr!==0;)ve.charCodeAt(pr-1)>>8&&(ji=!0),pr--;if(!ji)return ve;for(Ti=Xe.noBOM?[]:[254,255],pr=0,Yr=ve.length;pr<Yr;pr++){if((xa=(wi=ve.charCodeAt(pr))>>8)>>8)throw new Error("Character at position "+pr+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ti.push(xa),Ti.push(wi-(xa<<8))}return String.fromCharCode.apply(void 0,Ti)})(ct,Kt).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nl=S.__private__.beginPage=function(ct){Se[++Ke]=[],Pe[Ke]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ct[0]),topRightY:Number(ct[1])}},xs(Ke),ke(Se[Tt])},Xo=function(ct,Kt){var ve,Xe,pr;switch(r=Kt||r,typeof ct=="string"&&(ve=H(ct.toLowerCase()),Array.isArray(ve)&&(Xe=ve[0],pr=ve[1])),Array.isArray(ct)&&(Xe=ct[0]*Ze,pr=ct[1]*Ze),isNaN(Xe)&&(Xe=i[0],pr=i[1]),(Xe>14400||pr>14400)&&(hl.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xe=Math.min(14400,Xe),pr=Math.min(14400,pr)),i=[Xe,pr],r.substr(0,1)){case"l":pr>Xe&&(i=[pr,Xe]);break;case"p":Xe>pr&&(i=[pr,Xe])}nl(i),Zr(ti),Jt(Xa),No!==0&&Jt(No+" J"),wo!==0&&Jt(wo+" j"),ur.publish("addPage",{pageNumber:Ke})},Pi=function(ct){ct>0&&ct<=Ke&&(Se.splice(ct,1),Pe.splice(ct,1),Ke--,Tt>Ke&&(Tt=Ke),this.setPage(Tt))},xs=function(ct){ct>0&&ct<=Ke&&(Tt=ct)},Fl=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return Se.length-1},Ks=function(ct,Kt,ve){var Xe,pr=void 0;return ve=ve||{},ct=ct!==void 0?ct:Mt[Fr].fontName,Kt=Kt!==void 0?Kt:Mt[Fr].fontStyle,Xe=ct.toLowerCase(),Bt[Xe]!==void 0&&Bt[Xe][Kt]!==void 0?pr=Bt[Xe][Kt]:Bt[ct]!==void 0&&Bt[ct][Kt]!==void 0?pr=Bt[ct][Kt]:ve.disableWarning===!1&&hl.warn("Unable to look up font label for font '"+ct+"', '"+Kt+"'. Refer to getFontList() for available fonts."),pr||ve.noFallback||(pr=Bt.times[Kt])==null&&(pr=Bt.times.normal),pr},Do=S.__private__.putInfo=function(){var ct=ze(),Kt=function(Xe){return Xe};for(var ve in x!==null&&(Kt=Ko.encryptor(ct,0)),Jt("<<"),Jt("/Producer ("+Vi(Kt("jsPDF "+Li.version))+")"),er)er.hasOwnProperty(ve)&&er[ve]&&Jt("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Vi(Kt(er[ve]))+")");Jt("/CreationDate ("+Vi(Kt(wt))+")"),Jt(">>"),Jt("endobj")},jl=S.__private__.putCatalog=function(ct){var Kt=(ct=ct||{}).rootDictionaryObjId||fi;switch(ze(),Jt("<<"),Jt("/Type /Catalog"),Jt("/Pages "+Kt+" 0 R"),Mr||(Mr="fullwidth"),Mr){case"fullwidth":Jt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Jt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Jt("/OpenAction [3 0 R /Fit]");break;case"original":Jt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+Mr;ve.substr(ve.length-1)==="%"&&(Mr=parseInt(Mr)/100),typeof Mr=="number"&&Jt("/OpenAction [3 0 R /XYZ null null "+at(Mr)+"]")}switch(dr||(dr="continuous"),dr){case"continuous":Jt("/PageLayout /OneColumn");break;case"single":Jt("/PageLayout /SinglePage");break;case"two":case"twoleft":Jt("/PageLayout /TwoColumnLeft");break;case"tworight":Jt("/PageLayout /TwoColumnRight")}Pr&&Jt("/PageMode /"+Pr),ur.publish("putCatalog"),Jt(">>"),Jt("endobj")},Ha=S.__private__.putTrailer=function(){Jt("trailer"),Jt("<<"),Jt("/Size "+(Ut+1)),Jt("/Root "+Ut+" 0 R"),Jt("/Info "+(Ut-1)+" 0 R"),x!==null&&Jt("/Encrypt "+Ko.oid+" 0 R"),Jt("/ID [ <"+pt+"> <"+pt+"> ]"),Jt(">>")},fl=S.__private__.putHeader=function(){Jt("%PDF-"+P),Jt("%ºß¬à")},Gu=S.__private__.putXRef=function(){var ct="0000000000";Jt("xref"),Jt("0 "+(Ut+1)),Jt("0000000000 65535 f ");for(var Kt=1;Kt<=Ut;Kt++)typeof ie[Kt]=="function"?Jt((ct+ie[Kt]()).slice(-10)+" 00000 n "):ie[Kt]!==void 0?Jt((ct+ie[Kt]).slice(-10)+" 00000 n "):Jt("0000000000 00000 n ")},pl=S.__private__.buildDocument=function(){var ct;Ut=0,ce=0,Ht=[],ie=[],de=[],fi=Lr(),On=Lr(),ke(Ht),ur.publish("buildDocument"),fl(),Ra(),(function(){ur.publish("putAdditionalObjects");for(var ve=0;ve<de.length;ve++){var Xe=de[ve];vn(Xe.objId,!0),Jt(Xe.content),Jt("endobj")}ur.publish("postPutAdditionalObjects")})(),ct=[],(function(){for(var ve in Mt)Mt.hasOwnProperty(ve)&&(k===!1||k===!0&&I.hasOwnProperty(ve))&&xo(Mt[ve])})(),(function(){var ve;for(ve in Ge)Ge.hasOwnProperty(ve)&&rl(Ge[ve])})(),(function(){for(var ve in Wr)Wr.hasOwnProperty(ve)&&Na(Wr[ve])})(),(function(ve){var Xe;for(Xe in ye)ye.hasOwnProperty(Xe)&&(ye[Xe]instanceof Ov?Mn(ye[Xe]):ye[Xe]instanceof __&&io(ye[Xe],ve))})(ct),ur.publish("putResources"),ct.forEach(oa),oa({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),ur.publish("postPutResources"),x!==null&&(Ko.oid=ze(),Jt("<<"),Jt("/Filter /Standard"),Jt("/V "+Ko.v),Jt("/R "+Ko.r),Jt("/U <"+Ko.toHexString(Ko.U)+">"),Jt("/O <"+Ko.toHexString(Ko.O)+">"),Jt("/P "+Ko.P),Jt(">>"),Jt("endobj")),Do(),jl();var Kt=ce;return Gu(),Ha(),Jt("startxref"),Jt(""+Kt),Jt("%%EOF"),ke(Se[Tt]),Ht.join(`
`)},El=S.__private__.getBlob=function(ct){return new Blob([vr(ct)],{type:"application/pdf"})},Wo=S.output=S.__private__.output=(be=function(ct,Kt){switch(typeof(Kt=Kt||{})=="string"?Kt={filename:Kt}:Kt.filename=Kt.filename||"generated.pdf",ct){case void 0:return pl();case"save":S.save(Kt.filename);break;case"arraybuffer":return vr(pl());case"blob":return El(pl());case"bloburi":case"bloburl":if(ga.URL!==void 0&&typeof ga.URL.createObjectURL=="function")return ga.URL&&ga.URL.createObjectURL(El(pl()))||void 0;hl.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Xe=pl();try{ve=KB(Xe)}catch{ve=KB(unescape(encodeURIComponent(Xe)))}return"data:application/pdf;filename="+Kt.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ga)==="[object Window]"){var pr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Yr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Kt.pdfObjectUrl&&(pr=Kt.pdfObjectUrl,Yr="");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pr+'"'+Yr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Kt)+");<\/script></body></html>",Vn=ga.open();return Vn!==null&&Vn.document.write(gn),Vn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ga)==="[object Window]"){var ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Kt.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Kt.filename+'" width="500px" height="400px" /></body></html>',Ti=ga.open();if(Ti!==null){Ti.document.write(ri);var ji=this;Ti.document.documentElement.querySelector("#pdfViewer").onload=function(){Ti.document.title=Kt.filename,Ti.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ji.output("bloburl"))}}return Ti}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ga)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Kt)+'"></iframe></body></html>',xa=ga.open();if(xa!==null&&(xa.document.write(wi),xa.document.title=Kt.filename),xa||typeof safari>"u")return xa;break;case"datauri":case"dataurl":return ga.document.location.href=this.output("datauristring",Kt);default:return null}},be.foo=function(){try{return be.apply(this,arguments)}catch(ve){var ct=ve.stack||"";~ct.indexOf(" at ")&&(ct=ct.split(" at ")[1]);var Kt="Error in function "+ct.split(`
`)[0].split("<")[0]+": "+ve.message;if(!ga.console)throw new Error(Kt);ga.console.error(Kt,ve),ga.alert&&alert(Kt)}},be.foo.bar=be,be.foo),Yo=function(ct){return Array.isArray(Oe)===!0&&Oe.indexOf(ct)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=Yo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var Ko=null;_t(),St();var Zo=S.__private__.getPageInfo=S.getPageInfo=function(ct){if(isNaN(ct)||ct%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pe[ct].objId,pageNumber:ct,pageContext:Pe[ct]}},iu=S.__private__.getPageInfoByObjId=function(ct){if(isNaN(ct)||ct%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Kt in Pe)if(Pe[Kt].objId===ct)break;return Zo(Kt)},yu=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:Pe[Tt].objId,pageNumber:Tt,pageContext:Pe[Tt]}};S.addPage=function(){return Xo.apply(this,arguments),this},S.setPage=function(){return xs.apply(this,arguments),ke.call(this,Se[Tt]),this},S.insertPage=function(ct){return this.addPage(),this.movePage(Tt,ct),this},S.movePage=function(ct,Kt){var ve,Xe;if(ct>Kt){ve=Se[ct],Xe=Pe[ct];for(var pr=ct;pr>Kt;pr--)Se[pr]=Se[pr-1],Pe[pr]=Pe[pr-1];Se[Kt]=ve,Pe[Kt]=Xe,this.setPage(Kt)}else if(ct<Kt){ve=Se[ct],Xe=Pe[ct];for(var Yr=ct;Yr<Kt;Yr++)Se[Yr]=Se[Yr+1],Pe[Yr]=Pe[Yr+1];Se[Kt]=ve,Pe[Kt]=Xe,this.setPage(Kt)}return this},S.deletePage=function(){return Pi.apply(this,arguments),this},S.__private__.text=S.text=function(ct,Kt,ve,Xe,pr){var Yr,gn,Vn,ri,Ti,ji,wi,xa,Oi,Ui=(Xe=Xe||{}).scope||this;if(typeof ct=="number"&&typeof Kt=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Lo=ve;ve=Kt,Kt=ct,ct=Lo}if(arguments[3]instanceof Kr==0?(Vn=arguments[4],ri=arguments[5],Ws(wi=arguments[3])==="object"&&wi!==null||(typeof Vn=="string"&&(ri=Vn,Vn=null),typeof wi=="string"&&(ri=wi,wi=null),typeof wi=="number"&&(Vn=wi,wi=null),Xe={flags:wi,angle:Vn,align:ri})):(it("The transform parameter of text() with a Matrix value"),Oi=pr),isNaN(Kt)||isNaN(ve)||ct==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ct.length===0)return Ui;var Ja,ao="",Ul=typeof Xe.lineHeightFactor=="number"?Xe.lineHeightFactor:Nn,wc=Ui.internal.scaleFactor;function Iu($n){return $n=$n.split("	").join(Array(Xe.TabLen||9).join(" ")),Vi($n,wi)}function ql($n){for(var A,m=$n.concat(),y=[],C=m.length;C--;)typeof(A=m.shift())=="string"?y.push(A):Array.isArray($n)&&(A.length===1||A[1]===void 0&&A[2]===void 0)?y.push(A[0]):y.push([A[0],A[1],A[2]]);return y}function Ru($n,A){var m;if(typeof $n=="string")m=A($n)[0];else if(Array.isArray($n)){for(var y,C,F=$n.concat(),nt=[],xt=F.length;xt--;)typeof(y=F.shift())=="string"?nt.push(A(y)[0]):Array.isArray(y)&&typeof y[0]=="string"&&(C=A(y[0],y[1],y[2]),nt.push([C[0],C[1],C[2]]));m=nt}return m}var mo=!1,Sc=!0;if(typeof ct=="string")mo=!0;else if(Array.isArray(ct)){var vu=ct.concat();gn=[];for(var Gl,Eo=vu.length;Eo--;)(typeof(Gl=vu.shift())!="string"||Array.isArray(Gl)&&typeof Gl[0]!="string")&&(Sc=!1);mo=Sc}if(mo===!1)throw new Error('Type of text must be string or Array. "'+ct+'" is not recognized.');typeof ct=="string"&&(ct=ct.match(/[\r?\n]/)?ct.split(/\r\n|\r|\n/g):[ct]);var Fo=Ie/Ui.internal.scaleFactor,to=Fo*(Ul-1);switch(Xe.baseline){case"bottom":ve-=to;break;case"top":ve+=Fo-to;break;case"hanging":ve+=Fo-2*to;break;case"middle":ve+=Fo/2-to}if((ji=Xe.maxWidth||0)>0&&(typeof ct=="string"?ct=Ui.splitTextToSize(ct,ji):Object.prototype.toString.call(ct)==="[object Array]"&&(ct=ct.reduce(function($n,A){return $n.concat(Ui.splitTextToSize(A,ji))},[]))),Yr={text:ct,x:Kt,y:ve,options:Xe,mutex:{pdfEscape:Vi,activeFontKey:Fr,fonts:Mt,activeFontSize:Ie}},ur.publish("preProcessText",Yr),ct=Yr.text,Vn=(Xe=Yr.options).angle,Oi instanceof Kr==0&&Vn&&typeof Vn=="number"){Vn*=Math.PI/180,Xe.rotationDirection===0&&(Vn=-Vn),j===z&&(Vn=-Vn);var hc=Math.cos(Vn),Vc=Math.sin(Vn);Oi=new Kr(hc,Vc,-Vc,hc,0,0)}else Vn&&Vn instanceof Kr&&(Oi=Vn);j!==z||Oi||(Oi=Pt),(Ti=Xe.charSpace||zn)!==void 0&&(ao+=st(dt(Ti))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xa=Xe.horizontalScale)!==void 0&&(ao+=st(100*xa)+` Tz
`),Xe.lang;var oo=-1,bu=Xe.renderingMode!==void 0?Xe.renderingMode:Xe.stroke,Uc=Ui.internal.getCurrentPageInfo().pageContext;switch(bu){case 0:case!1:case"fill":oo=0;break;case 1:case!0:case"stroke":oo=1;break;case 2:case"fillThenStroke":oo=2;break;case 3:case"invisible":oo=3;break;case 4:case"fillAndAddForClipping":oo=4;break;case 5:case"strokeAndAddPathForClipping":oo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oo=6;break;case 7:case"addToPathForClipping":oo=7}var il=Uc.usedRenderingMode!==void 0?Uc.usedRenderingMode:-1;oo!==-1?ao+=oo+` Tr
`:il!==-1&&(ao+=`0 Tr
`),oo!==-1&&(Uc.usedRenderingMode=oo),ri=Xe.align||"left";var ws,Zs=Ie*Ul,mh=Ui.internal.pageSize.getWidth(),Hu=Mt[Fr];Ti=Xe.charSpace||zn,ji=Xe.maxWidth||0,wi=Object.assign({autoencode:!0,noBOM:!0},Xe.flags);var qc=[],Hl=function($n){return Ui.getStringUnitWidth($n,{font:Hu,charSpace:Ti,fontSize:Ie,doKerning:!1})*Ie/wc};if(Object.prototype.toString.call(ct)==="[object Array]"){var jo;gn=ql(ct),ri!=="left"&&(ws=gn.map(Hl));var Ss,Gc=0;if(ri==="right"){Kt-=ws[0],ct=[],Eo=gn.length;for(var Es=0;Es<Eo;Es++)Es===0?(Ss=Ii(Kt),jo=zi(ve)):(Ss=dt(Gc-ws[Es]),jo=-Zs),ct.push([gn[Es],Ss,jo]),Gc=ws[Es]}else if(ri==="center"){Kt-=ws[0]/2,ct=[],Eo=gn.length;for(var Hc=0;Hc<Eo;Hc++)Hc===0?(Ss=Ii(Kt),jo=zi(ve)):(Ss=dt((Gc-ws[Hc])/2),jo=-Zs),ct.push([gn[Hc],Ss,jo]),Gc=ws[Hc]}else if(ri==="left"){ct=[],Eo=gn.length;for(var Ps=0;Ps<Eo;Ps++)ct.push(gn[Ps])}else if(ri==="justify"&&Hu.encoding==="Identity-H"){ct=[],Eo=gn.length,ji=ji!==0?ji:mh;for(var dc=0,To=0;To<Eo;To++)if(jo=To===0?zi(ve):-Zs,Ss=To===0?Ii(Kt):dc,To<Eo-1){var fc=dt((ji-ws[To])/(gn[To].split(" ").length-1)),pc=gn[To].split(" ");ct.push([pc[0]+" ",Ss,jo]),dc=0;for(var Al=1;Al<pc.length;Al++){var _u=(Hl(pc[Al-1]+" "+pc[Al])-Hl(pc[Al]))*wc+fc;Al==pc.length-1?ct.push([pc[Al],_u,0]):ct.push([pc[Al]+" ",_u,0]),dc-=_u}}else ct.push([gn[To],Ss,jo]);ct.push(["",dc,0])}else{if(ri!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ct=[],Eo=gn.length,ji=ji!==0?ji:mh,To=0;To<Eo;To++)jo=To===0?zi(ve):-Zs,Ss=To===0?Ii(Kt):0,To<Eo-1?qc.push(st(dt((ji-ws[To])/(gn[To].split(" ").length-1)))):qc.push(0),ct.push([gn[To],Ss,jo])}}(typeof Xe.R2L=="boolean"?Xe.R2L:Rr)===!0&&(ct=Ru(ct,function($n,A,m){return[$n.split("").reverse().join(""),A,m]})),Yr={text:ct,x:Kt,y:ve,options:Xe,mutex:{pdfEscape:Vi,activeFontKey:Fr,fonts:Mt,activeFontSize:Ie}},ur.publish("postProcessText",Yr),ct=Yr.text,Ja=Yr.mutex.isHex||!1;var Xu=Mt[Fr].encoding;Xu!=="WinAnsiEncoding"&&Xu!=="StandardEncoding"||(ct=Ru(ct,function($n,A,m){return[Iu($n),A,m]})),gn=ql(ct),ct=[];for(var Ec,xu,Ts,lr=Array.isArray(gn[0])?1:0,mr="",An=function($n,A,m){var y="";return m instanceof Kr?(m=typeof Xe.angle=="number"?Zn(m,new Kr(1,0,0,1,$n,A)):Zn(new Kr(1,0,0,1,$n,A),m),j===z&&(m=Zn(new Kr(1,0,0,-1,0,0),m)),y=m.join(" ")+` Tm
`):y=st($n)+" "+st(A)+` Td
`,y},Dn=0;Dn<gn.length;Dn++){switch(mr="",lr){case 1:Ts=(Ja?"<":"(")+gn[Dn][0]+(Ja?">":")"),Ec=parseFloat(gn[Dn][1]),xu=parseFloat(gn[Dn][2]);break;case 0:Ts=(Ja?"<":"(")+gn[Dn]+(Ja?">":")"),Ec=Ii(Kt),xu=zi(ve)}qc!==void 0&&qc[Dn]!==void 0&&(mr=qc[Dn]+` Tw
`),Dn===0?ct.push(mr+An(Ec,xu,Oi)+Ts):lr===0?ct.push(mr+Ts):lr===1&&ct.push(mr+An(Ec,xu,Oi)+Ts)}ct=lr===0?ct.join(` Tj
T* `):ct.join(` Tj
`),ct+=` Tj
`;var Ni=`BT
/`;return Ni+=Fr+" "+Ie+` Tf
`,Ni+=st(Ie*Ul)+` TL
`,Ni+=ei+`
`,Ni+=ao,Ni+=ct,Jt(Ni+="ET"),I[Fr]=!0,Ui};var Q=S.__private__.clip=S.clip=function(ct){return Jt(ct==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return Q("evenodd")},S.__private__.discardPath=S.discardPath=function(){return Jt("n"),this};var gt=S.__private__.isValidStyle=function(ct){var Kt=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ct)!==-1&&(Kt=!0),Kt};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(ct){return gt(ct)&&(v=ct),this};var ee=S.__private__.getStyle=S.getStyle=function(ct){var Kt=v;switch(ct){case"D":case"S":Kt="S";break;case"F":Kt="f";break;case"FD":case"DF":Kt="B";break;case"f":case"f*":case"B":case"B*":Kt=ct}return Kt},Re=S.close=function(){return Jt("h"),this};S.stroke=function(){return Jt("S"),this},S.fill=function(ct){return qe("f",ct),this},S.fillEvenOdd=function(ct){return qe("f*",ct),this},S.fillStroke=function(ct){return qe("B",ct),this},S.fillStrokeEvenOdd=function(ct){return qe("B*",ct),this};var qe=function(ct,Kt){Ws(Kt)==="object"?rn(Kt,ct):Jt(ct)},Fe=function(ct){ct===null||j===z&&ct===void 0||(ct=ee(ct),Jt(ct))};function nr(ct,Kt,ve,Xe,pr){var Yr=new __(Kt||this.boundingBox,ve||this.xStep,Xe||this.yStep,this.gState,pr||this.matrix);Yr.stream=this.stream;var gn=ct+"$$"+this.cloneIndex+++"$$";return Xt(gn,Yr),Yr}var rn=function(ct,Kt){var ve=je[ct.key],Xe=ye[ve];if(Xe instanceof Ov)Jt("q"),Jt(mn(Kt)),Xe.gState&&S.setGState(Xe.gState),Jt(ct.matrix.toString()+" cm"),Jt("/"+ve+" sh"),Jt("Q");else if(Xe instanceof __){var pr=new Kr(1,0,0,-1,0,Ba());ct.matrix&&(pr=pr.multiply(ct.matrix||Pt),ve=nr.call(Xe,ct.key,ct.boundingBox,ct.xStep,ct.yStep,pr).id),Jt("q"),Jt("/Pattern cs"),Jt("/"+ve+" scn"),Xe.gState&&S.setGState(Xe.gState),Jt(Kt),Jt("Q")}},mn=function(ct){switch(ct){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},un=S.moveTo=function(ct,Kt){return Jt(st(dt(ct))+" "+st(mt(Kt))+" m"),this},En=S.lineTo=function(ct,Kt){return Jt(st(dt(ct))+" "+st(mt(Kt))+" l"),this},fn=S.curveTo=function(ct,Kt,ve,Xe,pr,Yr){return Jt([st(dt(ct)),st(mt(Kt)),st(dt(ve)),st(mt(Xe)),st(dt(pr)),st(mt(Yr)),"c"].join(" ")),this};S.__private__.line=S.line=function(ct,Kt,ve,Xe,pr){if(isNaN(ct)||isNaN(Kt)||isNaN(ve)||isNaN(Xe)||!gt(pr))throw new Error("Invalid arguments passed to jsPDF.line");return j===G?this.lines([[ve-ct,Xe-Kt]],ct,Kt,[1,1],pr||"S"):this.lines([[ve-ct,Xe-Kt]],ct,Kt,[1,1]).stroke()},S.__private__.lines=S.lines=function(ct,Kt,ve,Xe,pr,Yr){var gn,Vn,ri,Ti,ji,wi,xa,Oi,Ui,Lo,Ja,ao;if(typeof ct=="number"&&(ao=ve,ve=Kt,Kt=ct,ct=ao),Xe=Xe||[1,1],Yr=Yr||!1,isNaN(Kt)||isNaN(ve)||!Array.isArray(ct)||!Array.isArray(Xe)||!gt(pr)||typeof Yr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(un(Kt,ve),gn=Xe[0],Vn=Xe[1],Ti=ct.length,Lo=Kt,Ja=ve,ri=0;ri<Ti;ri++)(ji=ct[ri]).length===2?(Lo=ji[0]*gn+Lo,Ja=ji[1]*Vn+Ja,En(Lo,Ja)):(wi=ji[0]*gn+Lo,xa=ji[1]*Vn+Ja,Oi=ji[2]*gn+Lo,Ui=ji[3]*Vn+Ja,Lo=ji[4]*gn+Lo,Ja=ji[5]*Vn+Ja,fn(wi,xa,Oi,Ui,Lo,Ja));return Yr&&Re(),Fe(pr),this},S.path=function(ct){for(var Kt=0;Kt<ct.length;Kt++){var ve=ct[Kt],Xe=ve.c;switch(ve.op){case"m":un(Xe[0],Xe[1]);break;case"l":En(Xe[0],Xe[1]);break;case"c":fn.apply(this,Xe);break;case"h":Re()}}return this},S.__private__.rect=S.rect=function(ct,Kt,ve,Xe,pr){if(isNaN(ct)||isNaN(Kt)||isNaN(ve)||isNaN(Xe)||!gt(pr))throw new Error("Invalid arguments passed to jsPDF.rect");return j===G&&(Xe=-Xe),Jt([st(dt(ct)),st(mt(Kt)),st(dt(ve)),st(dt(Xe)),"re"].join(" ")),Fe(pr),this},S.__private__.triangle=S.triangle=function(ct,Kt,ve,Xe,pr,Yr,gn){if(isNaN(ct)||isNaN(Kt)||isNaN(ve)||isNaN(Xe)||isNaN(pr)||isNaN(Yr)||!gt(gn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-ct,Xe-Kt],[pr-ve,Yr-Xe],[ct-pr,Kt-Yr]],ct,Kt,[1,1],gn,!0),this},S.__private__.roundedRect=S.roundedRect=function(ct,Kt,ve,Xe,pr,Yr,gn){if(isNaN(ct)||isNaN(Kt)||isNaN(ve)||isNaN(Xe)||isNaN(pr)||isNaN(Yr)||!gt(gn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vn=4/3*(Math.SQRT2-1);return pr=Math.min(pr,.5*ve),Yr=Math.min(Yr,.5*Xe),this.lines([[ve-2*pr,0],[pr*Vn,0,pr,Yr-Yr*Vn,pr,Yr],[0,Xe-2*Yr],[0,Yr*Vn,-pr*Vn,Yr,-pr,Yr],[2*pr-ve,0],[-pr*Vn,0,-pr,-Yr*Vn,-pr,-Yr],[0,2*Yr-Xe],[0,-Yr*Vn,pr*Vn,-Yr,pr,-Yr]],ct+pr,Kt,[1,1],gn,!0),this},S.__private__.ellipse=S.ellipse=function(ct,Kt,ve,Xe,pr){if(isNaN(ct)||isNaN(Kt)||isNaN(ve)||isNaN(Xe)||!gt(pr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Yr=4/3*(Math.SQRT2-1)*ve,gn=4/3*(Math.SQRT2-1)*Xe;return un(ct+ve,Kt),fn(ct+ve,Kt-gn,ct+Yr,Kt-Xe,ct,Kt-Xe),fn(ct-Yr,Kt-Xe,ct-ve,Kt-gn,ct-ve,Kt),fn(ct-ve,Kt+gn,ct-Yr,Kt+Xe,ct,Kt+Xe),fn(ct+Yr,Kt+Xe,ct+ve,Kt+gn,ct+ve,Kt),Fe(pr),this},S.__private__.circle=S.circle=function(ct,Kt,ve,Xe){if(isNaN(ct)||isNaN(Kt)||isNaN(ve)||!gt(Xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ct,Kt,ve,ve,Xe)},S.setFont=function(ct,Kt,ve){return ve&&(Kt=et(Kt,ve)),Fr=Ks(ct,Kt,{disableWarning:!1}),this};var Yn=S.__private__.getFont=S.getFont=function(){return Mt[Ks.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var ct,Kt,ve={};for(ct in Bt)if(Bt.hasOwnProperty(ct))for(Kt in ve[ct]=[],Bt[ct])Bt[ct].hasOwnProperty(Kt)&&ve[ct].push(Kt);return ve},S.addFont=function(ct,Kt,ve,Xe,pr){var Yr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Yr.indexOf(arguments[3])!==-1?pr=arguments[3]:arguments[3]&&Yr.indexOf(arguments[3])==-1&&(ve=et(ve,Xe)),uc.call(this,ct,Kt,ve,pr=pr||"Identity-H")};var Nn,ti=t.lineWidth||.200025,jn=S.__private__.getLineWidth=S.getLineWidth=function(){return ti},Zr=S.__private__.setLineWidth=S.setLineWidth=function(ct){return ti=ct,Jt(st(dt(ct))+" w"),this};S.__private__.setLineDash=Li.API.setLineDash=Li.API.setLineDashPattern=function(ct,Kt){if(ct=ct||[],Kt=Kt||0,isNaN(Kt)||!Array.isArray(ct))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ct=ct.map(function(ve){return st(dt(ve))}).join(" "),Kt=st(dt(Kt)),Jt("["+ct+"] "+Kt+" d"),this};var Ln=S.__private__.getLineHeight=S.getLineHeight=function(){return Ie*Nn};S.__private__.getLineHeight=S.getLineHeight=function(){return Ie*Nn};var yi=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(ct){return typeof(ct=ct||1.15)=="number"&&(Nn=ct),this},sa=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return Nn};yi(t.lineHeight);var Ii=S.__private__.getHorizontalCoordinate=function(ct){return dt(ct)},zi=S.__private__.getVerticalCoordinate=function(ct){return j===z?ct:Pe[Tt].mediaBox.topRightY-Pe[Tt].mediaBox.bottomLeftY-dt(ct)},da=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(ct){return st(Ii(ct))},Bn=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(ct){return st(zi(ct))},Xa=t.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return li(Xa)},S.__private__.setStrokeColor=S.setDrawColor=function(ct,Kt,ve,Xe){return Xa=Ji({ch1:ct,ch2:Kt,ch3:ve,ch4:Xe,pdfColorType:"draw",precision:2}),Jt(Xa),this};var pi=t.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return li(pi)},S.__private__.setFillColor=S.setFillColor=function(ct,Kt,ve,Xe){return pi=Ji({ch1:ct,ch2:Kt,ch3:ve,ch4:Xe,pdfColorType:"fill",precision:2}),Jt(pi),this};var ei=t.textColor||"0 g",Tl=S.__private__.getTextColor=S.getTextColor=function(){return li(ei)};S.__private__.setTextColor=S.setTextColor=function(ct,Kt,ve,Xe){return ei=Ji({ch1:ct,ch2:Kt,ch3:ve,ch4:Xe,pdfColorType:"text",precision:3}),this};var zn=t.charSpace,$l=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(zn||0)};S.__private__.setCharSpace=S.setCharSpace=function(ct){if(isNaN(ct))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zn=ct,this};var No=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(ct){var Kt=S.CapJoinStyles[ct];if(Kt===void 0)throw new Error("Line cap style of '"+ct+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return No=Kt,Jt(Kt+" J"),this};var wo=0;S.__private__.setLineJoin=S.setLineJoin=function(ct){var Kt=S.CapJoinStyles[ct];if(Kt===void 0)throw new Error("Line join style of '"+ct+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wo=Kt,Jt(Kt+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(ct){if(ct=ct||0,isNaN(ct))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Jt(st(dt(ct))+" M"),this},S.GState=dT,S.setGState=function(ct){(ct=typeof ct=="string"?Ge[Ue[ct]]:po(null,ct)).equals(fr)||(Jt("/"+ct.id+" gs"),fr=ct)};var po=function(ct,Kt){if(!ct||!Ue[ct]){var ve=!1;for(var Xe in Ge)if(Ge.hasOwnProperty(Xe)&&Ge[Xe].equals(Kt)){ve=!0;break}if(ve)Kt=Ge[Xe];else{var pr="GS"+(Object.keys(Ge).length+1).toString(10);Ge[pr]=Kt,Kt.id=pr}return ct&&(Ue[ct]=Kt.id),ur.publish("addGState",Kt),Kt}};S.addGState=function(ct,Kt){return po(ct,Kt),this},S.saveGraphicsState=function(){return Jt("q"),oe.push({key:Fr,size:Ie,color:ei}),this},S.restoreGraphicsState=function(){Jt("Q");var ct=oe.pop();return Fr=ct.key,Ie=ct.size,ei=ct.color,fr=null,this},S.setCurrentTransformationMatrix=function(ct){return Jt(ct.toString()+" cm"),this},S.comment=function(ct){return Jt("#"+ct),this};var _c=function(ct,Kt){var ve=ct||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Yr){isNaN(Yr)||(ve=parseFloat(Yr))}});var Xe=Kt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xe},set:function(Yr){isNaN(Yr)||(Xe=parseFloat(Yr))}});var pr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pr},set:function(Yr){pr=Yr.toString()}}),this},Ms=function(ct,Kt,ve,Xe){_c.call(this,ct,Kt),this.type="rect";var pr=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pr},set:function(gn){isNaN(gn)||(pr=parseFloat(gn))}});var Yr=Xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Yr},set:function(gn){isNaN(gn)||(Yr=parseFloat(gn))}}),this},Cl=function(){this.page=Ke,this.currentPage=Tt,this.pages=Se.slice(0),this.pagesContext=Pe.slice(0),this.x=rr,this.y=Me,this.matrix=Ft,this.width=So(Tt),this.height=Ba(Tt),this.outputDestination=He,this.id="",this.objectNumber=-1};Cl.prototype.restore=function(){Ke=this.page,Tt=this.currentPage,Pe=this.pagesContext,Se=this.pages,rr=this.x,Me=this.y,Ft=this.matrix,Bo(Tt,this.width),zo(Tt,this.height),He=this.outputDestination};var xc=function(ct,Kt,ve,Xe,pr){bn.push(new Cl),Ke=Tt=0,Se=[],rr=ct,Me=Kt,Ft=pr,nl([ve,Xe])};for(var Vl in S.beginFormObject=function(ct,Kt,ve,Xe,pr){return xc(ct,Kt,ve,Xe,pr),this},S.endFormObject=function(ct){return(function(Kt){if(or[Kt])bn.pop().restore();else{var ve=new Cl,Xe="Xo"+(Object.keys(Wr).length+1).toString(10);ve.id=Xe,or[Kt]=Xe,Wr[Xe]=ve,ur.publish("addFormObject",ve),bn.pop().restore()}})(ct),this},S.doFormObject=function(ct,Kt){var ve=Wr[or[ct]];return Jt("q"),Jt(Kt.toString()+" cm"),Jt("/"+ve.id+" Do"),Jt("Q"),this},S.getFormObject=function(ct){var Kt=Wr[or[ct]];return{x:Kt.x,y:Kt.y,width:Kt.width,height:Kt.height,matrix:Kt.matrix}},S.save=function(ct,Kt){return ct=ct||"generated.pdf",(Kt=Kt||{}).returnPromise=Kt.returnPromise||!1,Kt.returnPromise===!1?(Nv(El(pl()),ct),typeof Nv.unload=="function"&&ga.setTimeout&&setTimeout(Nv.unload,911),this):new Promise(function(ve,Xe){try{var pr=Nv(El(pl()),ct);typeof Nv.unload=="function"&&ga.setTimeout&&setTimeout(Nv.unload,911),ve(pr)}catch(Yr){Xe(Yr.message)}})},Li.API)Li.API.hasOwnProperty(Vl)&&(Vl==="events"&&Li.API.events.length?(function(ct,Kt){var ve,Xe,pr;for(pr=Kt.length-1;pr!==-1;pr--)ve=Kt[pr][0],Xe=Kt[pr][1],ct.subscribe.apply(ct,[ve].concat(typeof Xe=="function"?[Xe]:Xe))})(ur,Li.API.events):S[Vl]=Li.API[Vl]);var So=S.getPageWidth=function(ct){return(Pe[ct=ct||Tt].mediaBox.topRightX-Pe[ct].mediaBox.bottomLeftX)/Ze},Bo=S.setPageWidth=function(ct,Kt){Pe[ct].mediaBox.topRightX=Kt*Ze+Pe[ct].mediaBox.bottomLeftX},Ba=S.getPageHeight=function(ct){return(Pe[ct=ct||Tt].mediaBox.topRightY-Pe[ct].mediaBox.bottomLeftY)/Ze},zo=S.setPageHeight=function(ct,Kt){Pe[ct].mediaBox.topRightY=Kt*Ze+Pe[ct].mediaBox.bottomLeftY};return S.internal={pdfEscape:Vi,getStyle:ee,getFont:Yn,getFontSize:ir,getCharSpace:$l,getTextColor:Tl,getLineHeight:Ln,getLineHeightFactor:sa,getLineWidth:jn,write:$r,getHorizontalCoordinate:Ii,getVerticalCoordinate:zi,getCoordinateString:da,getVerticalCoordinateString:Bn,collections:{},newObject:ze,newAdditionalObject:Vr,newObjectDeferred:Lr,newObjectDeferredBegin:vn,getFilters:en,putStream:Rn,events:ur,scaleFactor:Ze,pageSize:{getWidth:function(){return So(Tt)},setWidth:function(ct){Bo(Tt,ct)},getHeight:function(){return Ba(Tt)},setHeight:function(ct){zo(Tt,ct)}},encryptionOptions:x,encryption:Ko,getEncryptor:function(ct){return x!==null?Ko.encryptor(ct,0):function(Kt){return Kt}},output:Wo,getNumberOfPages:Fl,pages:Se,out:Jt,f2:at,f3:V,getPageInfo:Zo,getPageInfoByObjId:iu,getCurrentPageInfo:yu,getPDFVersion:D,Point:_c,Rectangle:Ms,Matrix:Kr,hasHotfix:Yo},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return So(Tt)},set:function(ct){Bo(Tt,ct)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return Ba(Tt)},set:function(ct){zo(Tt,ct)},enumerable:!0,configurable:!0}),(function(ct){for(var Kt=0,ve=Dr.length;Kt<ve;Kt++){var Xe=uc.call(this,ct[Kt][0],ct[Kt][1],ct[Kt][2],Dr[Kt][3],!0);k===!1&&(I[Xe]=!0);var pr=ct[Kt][0].split("-");ha({id:Xe,fontName:pr[0],fontStyle:pr[1]||""})}ur.publish("addFonts",{fonts:Mt,dictionary:Bt})}).call(S,Dr),Fr="F1",Xo(i,r),ur.publish("initialized"),S}jb.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},jb.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jb.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},jb.prototype.processOwnerPassword=function(t,e){return _L(bL(e).substr(0,5),t)},jb.prototype.encryptor=function(t,e){var r=bL(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return _L(r,n)}},dT.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ws(t)!==Ws(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Li.API={events:[]},Li.version="3.0.2";var $c=Li.API,LP=1,p0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xb=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ka=function(t){return t.toFixed(2)},sy=function(t){return t.toFixed(5)};$c.__acroform__={};var wd=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},tz=function(t){return t*LP},im=function(t){var e=new EG,r=gi.internal.getHeight(t)||0,n=gi.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ka(n)),Number(ka(r))],e},Zht=$c.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Qht=$c.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Jht=$c.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zc=$c.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Jht(t,e-1)},Qc=$c.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zht(t,e-1)},Jc=$c.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qht(t,e-1)},tdt=$c.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],o=t[1],c=t[2],a=t[3],g={};return g.lowerLeft_X=r(i)||0,g.lowerLeft_Y=n(o+a)||0,g.upperRight_X=r(i+c)||0,g.upperRight_Y=n(o)||0,[Number(ka(g.lowerLeft_X)),Number(ka(g.lowerLeft_Y)),Number(ka(g.upperRight_X)),Number(ka(g.upperRight_Y))]},edt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=xL(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ka(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=im(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},xL=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(at){return at.split(`
`)}):i.map(function(at){return[at]});var o=r,c=gi.internal.getHeight(t)||0;c=c<0?-c:c;var a=gi.internal.getWidth(t)||0;a=a<0?-a:a;var g=function(at,V,dt){if(at+1<i.length){var mt=V+" "+i[at+1][0];return C5(mt,t,dt).width<=a-4}return!1};o++;t:for(;o>0;){e="",o--;var v,x,k=C5("3",t,o).height,I=t.multiline?c-o:(c-k)/2,S=I+=2,P=0,D=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+C5(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var H="",G=0,z=0;z<i.length;z++)if(i.hasOwnProperty(z)){var j=!1;if(i[z].length!==1&&U!==i[z].length-1){if((k+2)*(G+2)+2>c)continue t;H+=i[z][U],j=!0,D=z,z--}else{H=(H+=i[z][U]+" ").substr(H.length-1)==" "?H.substr(0,H.length-1):H;var X=parseInt(z),Y=g(X,H,o),et=z>=i.length-1;if(Y&&!et){H+=" ",U=0;continue}if(Y||et){if(et)D=X;else if(t.multiline&&(k+2)*(G+2)+2>c)continue t}else{if(!t.multiline||(k+2)*(G+2)+2>c)continue t;D=X}}for(var st="",it=P;it<=D;it++){var vt=i[it];if(t.multiline){if(it===D){st+=vt[U]+" ",U=(U+1)%vt.length;continue}if(it===P){st+=vt[vt.length-1]+" ";continue}}st+=vt[0]+" "}switch(st=st.substr(st.length-1)==" "?st.substr(0,st.length-1):st,x=C5(st,t,o).width,t.textAlign){case"right":v=a-x-2;break;case"center":v=(a-x)/2;break;default:v=2}e+=ka(v)+" "+ka(S)+` Td
`,e+="("+p0(st)+`) Tj
`,e+=-ka(v)+` 0 Td
`,S=-(o+2),x=0,P=j?D:D+1,G++,H=""}break}return n.text=e,n.fontSize=o,n},C5=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},rdt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ndt=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},idt=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(kp.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rdt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LP=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new TG,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.objId=void 0,o.hasAnnotation&&ndt(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var o=!n;for(var c in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var a=n[c],g=[],v=a.Rect;if(a.Rect&&(a.Rect=tdt(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=gi.createDefaultAppearanceStream(a),Ws(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(g=a.getKeyValueListForStream()),a.Rect=v,a.hasAppearanceStream&&!a.appearanceStreamContent){var x=edt(a);g.push({key:"AP",value:"<</N "+x+">>"}),i.internal.acroformPlugin.xForms.push(x)}if(a.appearanceStreamContent){var k="";for(var I in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(I)){var S=a.appearanceStreamContent[I];if(k+="/"+I+" ",k+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var c in S)if(S.hasOwnProperty(c)){var P=S[c];typeof P=="function"&&(P=P.call(i,a)),k+="/"+c+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=S)=="function"&&(P=P.call(i,a)),k+="/"+c+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);k+=">>"}g.push({key:"AP",value:`<<
`+k+">>"})}i.internal.putStream({additionalKeyValues:g,objectId:a.objId}),i.internal.out("endobj")}o&&(function(D,U){for(var H in D)if(D.hasOwnProperty(H)){var G=H,z=D[H];U.internal.newObjectDeferredBegin(z.objId,!0),Ws(z)==="object"&&typeof z.putStream=="function"&&z.putStream(),delete D[G]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},SG=$c.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(c){return c};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Ws(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+p0(n(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qk=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+p0(n(t))+")"},bm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bm.prototype.toString=function(){return this.objId+" 0 R"},bm.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},bm.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:SG(i,this.objId,this.scope)}):i instanceof bm?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var EG=function(){bm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};wd(EG,bm);var TG=function(){bm.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+p0(r(t))+")"}},set:function(r){t=r}})};wd(TG,bm);var kp=function t(){bm.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(H){if(isNaN(H))throw new Error('Invalid value "'+H+'" for attribute F supplied.');e=H}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zc(e,3)},set:function(H){H?this.F=Qc(e,3):this.F=Jc(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(H){if(isNaN(H))throw new Error('Invalid value "'+H+'" for attribute Ff supplied.');r=H}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(H){n=H!==void 0?H:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(H){n[0]=H}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(H){n[1]=H}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(H){n[2]=H}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(H){n[3]=H}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(H){switch(H){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=H;break;default:throw new Error('Invalid value "'+H+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof fT)return;o="FieldObject"+t.FieldNum++}var H=function(G){return G};return this.scope&&(H=this.scope.internal.getEncryptor(this.objId)),"("+p0(H(o))+")"},set:function(H){o=H.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(H){o=H}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(H){c=H}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(H){a=H}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(H){g=H}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/LP:v},set:function(H){v=H}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(H){x=H}});var k="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!k||this instanceof fT||this instanceof Xv))return Qk(k,this.objId,this.scope)},set:function(H){H=H.toString(),k=H}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof $u==0?Qk(I,this.objId,this.scope):I},set:function(H){H=H.toString(),I=this instanceof $u==0?H.substr(0,1)==="("?xb(H.substr(1,H.length-2)):xb(H):H}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $u==1?xb(I.substr(1,I.length-1)):I},set:function(H){H=H.toString(),I=this instanceof $u==1?"/"+H:H}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(H){this.V=H}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof $u==0?Qk(S,this.objId,this.scope):S},set:function(H){H=H.toString(),S=this instanceof $u==0?H.substr(0,1)==="("?xb(H.substr(1,H.length-2)):xb(H):H}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $u==1?xb(S.substr(1,S.length-1)):S},set:function(H){H=H.toString(),S=this instanceof $u==1?"/"+H:H}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(H){H=!!H,D=H}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(H){P=H}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,1)},set:function(H){H?this.Ff=Qc(this.Ff,1):this.Ff=Jc(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,2)},set:function(H){H?this.Ff=Qc(this.Ff,2):this.Ff=Jc(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,3)},set:function(H){H?this.Ff=Qc(this.Ff,3):this.Ff=Jc(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(H){if([0,1,2].indexOf(H)===-1)throw new Error('Invalid value "'+H+'" for attribute Q supplied.');U=H}}),Object.defineProperty(this,"textAlign",{get:function(){var H;switch(U){case 0:default:H="left";break;case 1:H="center";break;case 2:H="right"}return H},configurable:!0,enumerable:!0,set:function(H){switch(H){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};wd(kp,bm);var N_=function(){kp.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return SG(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(o,c,a){a||(a=1);for(var g,v=[];g=c.exec(o);)v.push(g[a]);return v})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,18)},set:function(r){r?this.Ff=Qc(this.Ff,18):this.Ff=Jc(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qc(this.Ff,19):this.Ff=Jc(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,20)},set:function(r){r?(this.Ff=Qc(this.Ff,20),e.sort()):this.Ff=Jc(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,22)},set:function(r){r?this.Ff=Qc(this.Ff,22):this.Ff=Jc(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,23)},set:function(r){r?this.Ff=Qc(this.Ff,23):this.Ff=Jc(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,27)},set:function(r){r?this.Ff=Qc(this.Ff,27):this.Ff=Jc(this.Ff,27)}}),this.hasAppearanceStream=!1};wd(N_,kp);var L_=function(){N_.call(this),this.fontName="helvetica",this.combo=!1};wd(L_,N_);var M_=function(){L_.call(this),this.combo=!0};wd(M_,L_);var vE=function(){M_.call(this),this.edit=!0};wd(vE,M_);var $u=function(){kp.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,15)},set:function(r){r?this.Ff=Qc(this.Ff,15):this.Ff=Jc(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,16)},set:function(r){r?this.Ff=Qc(this.Ff,16):this.Ff=Jc(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,17)},set:function(r){r?this.Ff=Qc(this.Ff,17):this.Ff=Jc(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,26)},set:function(r){r?this.Ff=Qc(this.Ff,26):this.Ff=Jc(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+p0(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ws(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};wd($u,kp);var bE=function(){$u.call(this),this.pushButton=!0};wd(bE,$u);var P_=function(){$u.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};wd(P_,$u);var fT=function(){var t,e;kp.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),n)c.push("/"+o+" ("+p0(i(n[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Ws(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gi.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wd(fT,kp),P_.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},P_.prototype.createOption=function(t){var e=new fT;return e.Parent=this,e.optionName=t,this.Kids.push(e),adt.call(this.scope,e),e};var _E=function(){$u.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gi.CheckBox.createAppearanceStream()};wd(_E,$u);var Xv=function(){kp.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,13)},set:function(e){e?this.Ff=Qc(this.Ff,13):this.Ff=Jc(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,21)},set:function(e){e?this.Ff=Qc(this.Ff,21):this.Ff=Jc(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,23)},set:function(e){e?this.Ff=Qc(this.Ff,23):this.Ff=Jc(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,24)},set:function(e){e?this.Ff=Qc(this.Ff,24):this.Ff=Jc(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,25)},set:function(e){e?this.Ff=Qc(this.Ff,25):this.Ff=Jc(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,26)},set:function(e){e?this.Ff=Qc(this.Ff,26):this.Ff=Jc(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wd(Xv,kp);var xE=function(){Xv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zc(this.Ff,14)},set:function(t){t?this.Ff=Qc(this.Ff,14):this.Ff=Jc(this.Ff,14)}}),this.password=!0};wd(xE,Xv);var gi={CheckBox:{createAppearanceStream:function(){return{N:{On:gi.CheckBox.YesNormal},D:{On:gi.CheckBox.YesPushDown,Off:gi.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=im(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=xL(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ka(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=im(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],o=gi.internal.getHeight(t),c=gi.internal.getWidth(t),a=xL(t,t.caption);return i.push("1 g"),i.push("0 0 "+ka(c)+" "+ka(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ka(c-1)+" "+ka(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ka(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=im(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:gi.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=gi.RadioButton.Circle.YesNormal,e.D[t]=gi.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=im(t);e.scope=t.scope;var r=[],n=gi.internal.getWidth(t)<=gi.internal.getHeight(t)?gi.internal.getWidth(t)/4:gi.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=gi.internal.Bezier_C,o=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+sy(gi.internal.getWidth(t)/2)+" "+sy(gi.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=im(t);e.scope=t.scope;var r=[],n=gi.internal.getWidth(t)<=gi.internal.getHeight(t)?gi.internal.getWidth(t)/4:gi.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*gi.internal.Bezier_C).toFixed(5)),c=Number((n*gi.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+sy(gi.internal.getWidth(t)/2)+" "+sy(gi.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+sy(gi.internal.getWidth(t)/2)+" "+sy(gi.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=im(t);e.scope=t.scope;var r=[],n=gi.internal.getWidth(t)<=gi.internal.getHeight(t)?gi.internal.getWidth(t)/4:gi.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*gi.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+sy(gi.internal.getWidth(t)/2)+" "+sy(gi.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:gi.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=gi.RadioButton.Cross.YesNormal,e.D[t]=gi.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=im(t);e.scope=t.scope;var r=[],n=gi.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ka(gi.internal.getWidth(t)-2)+" "+ka(gi.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ka(n.x1.x)+" "+ka(n.x1.y)+" m"),r.push(ka(n.x2.x)+" "+ka(n.x2.y)+" l"),r.push(ka(n.x4.x)+" "+ka(n.x4.y)+" m"),r.push(ka(n.x3.x)+" "+ka(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=im(t);e.scope=t.scope;var r=gi.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ka(gi.internal.getWidth(t)-2)+" "+ka(gi.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ka(r.x1.x)+" "+ka(r.x1.y)+" m"),n.push(ka(r.x2.x)+" "+ka(r.x2.y)+" l"),n.push(ka(r.x4.x)+" "+ka(r.x4.y)+" m"),n.push(ka(r.x3.x)+" "+ka(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=im(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};gi.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=gi.internal.getWidth(t),r=gi.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},gi.internal.getWidth=function(t){var e=0;return Ws(t)==="object"&&(e=tz(t.Rect[2])),e},gi.internal.getHeight=function(t){var e=0;return Ws(t)==="object"&&(e=tz(t.Rect[3])),e};var adt=$c.addField=function(t){if(idt(this,t),!(t instanceof kp))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$c.AcroFormChoiceField=N_,$c.AcroFormListBox=L_,$c.AcroFormComboBox=M_,$c.AcroFormEditBox=vE,$c.AcroFormButton=$u,$c.AcroFormPushButton=bE,$c.AcroFormRadioButton=P_,$c.AcroFormCheckBox=_E,$c.AcroFormTextField=Xv,$c.AcroFormPasswordField=xE,$c.AcroFormAppearance=gi,$c.AcroForm={ChoiceField:N_,ListBox:L_,ComboBox:M_,EditBox:vE,Button:$u,PushButton:bE,RadioButton:P_,CheckBox:_E,TextField:Xv,PasswordField:xE,Appearance:gi},Li.AcroForm={ChoiceField:N_,ListBox:L_,ComboBox:M_,EditBox:vE,Button:$u,PushButton:bE,RadioButton:P_,CheckBox:_E,TextField:Xv,PasswordField:xE,Appearance:gi};Li.AcroForm;function CG(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(at,V){var dt,mt,wt,pt,At,St=r;if((V=V||r)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Y(at))for(At in n)for(wt=n[At],dt=0;dt<wt.length;dt+=1){for(pt=!0,mt=0;mt<wt[dt].length;mt+=1)if(wt[dt][mt]!==void 0&&wt[dt][mt]!==at[mt]){pt=!1;break}if(pt===!0){St=At;break}}else for(At in n)for(wt=n[At],dt=0;dt<wt.length;dt+=1){for(pt=!0,mt=0;mt<wt[dt].length;mt+=1)if(wt[dt][mt]!==void 0&&wt[dt][mt]!==at.charCodeAt(mt)){pt=!1;break}if(pt===!0){St=At;break}}return St===r&&V!==r&&(St=V),St},o=function at(V){for(var dt=this.internal.write,mt=this.internal.putStream,wt=(0,this.internal.getFilters)();wt.indexOf("FlateEncode")!==-1;)wt.splice(wt.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var pt=[];if(pt.push({key:"Type",value:"/XObject"}),pt.push({key:"Subtype",value:"/Image"}),pt.push({key:"Width",value:V.width}),pt.push({key:"Height",value:V.height}),V.colorSpace===H.INDEXED?pt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(pt.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===H.DEVICE_CMYK&&pt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pt.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&pt.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)){for(var At="",St=0,Lt=V.transparency.length;St<Lt;St++)At+=V.transparency[St]+" "+V.transparency[St]+" ";pt.push({key:"Mask",value:"["+At+"]"})}V.sMask!==void 0&&pt.push({key:"SMask",value:V.objectId+1+" 0 R"});var jt=V.filter!==void 0?["/"+V.filter]:void 0;if(mt({data:V.data,additionalKeyValues:pt,alreadyAppliedFilters:jt,objectId:V.objectId}),dt("endobj"),"sMask"in V&&V.sMask!==void 0){var _t=(V.predictor!=null?"/Predictor "+V.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+V.width,lt={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:V.bitsPerComponent,decodeParameters:_t,data:V.sMask};"filter"in V&&(lt.filter=V.filter),at.call(this,lt)}if(V.colorSpace===H.INDEXED){var Tt=this.internal.newObject();mt({data:st(new Uint8Array(V.palette)),objectId:Tt}),dt("endobj")}},c=function(){var at=this.internal.collections[e+"images"];for(var V in at)o.call(this,at[V])},a=function(){var at,V=this.internal.collections[e+"images"],dt=this.internal.write;for(var mt in V)dt("/I"+(at=V[mt]).index,at.objectId,"0","R")},g=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",a))},v=function(){var at=this.internal.collections[e+"images"];return g.call(this),at},x=function(){return Object.keys(this.internal.collections[e+"images"]).length},k=function(at){return typeof t["process"+at.toUpperCase()]=="function"},I=function(at){return Ws(at)==="object"&&at.nodeType===1},S=function(at,V){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var dt=""+at.getAttribute("src");if(dt.indexOf("data:image/")===0)return yE(unescape(dt).split("base64,").pop());var mt=t.loadFile(dt,!0);if(mt!==void 0)return mt}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var wt;switch(V){case"PNG":wt="image/png";break;case"WEBP":wt="image/webp";break;default:wt="image/jpeg"}return yE(at.toDataURL(wt,1).split("base64,").pop())}},P=function(at){var V=this.internal.collections[e+"images"];if(V){for(var dt in V)if(at===V[dt].alias)return V[dt]}},D=function(at,V,dt){return at||V||(at=-96,V=-96),at<0&&(at=-1*dt.width*72/at/this.internal.scaleFactor),V<0&&(V=-1*dt.height*72/V/this.internal.scaleFactor),at===0&&(at=V*dt.width/dt.height),V===0&&(V=at*dt.height/dt.width),[at,V]},U=function(at,V,dt,mt,wt,pt){var At=D.call(this,dt,mt,wt),St=this.internal.getCoordinateString,Lt=this.internal.getVerticalCoordinateString,jt=v.call(this);if(dt=At[0],mt=At[1],jt[wt.index]=wt,pt){pt*=Math.PI/180;var _t=Math.cos(pt),lt=Math.sin(pt),Tt=function(Rt){return Rt.toFixed(4)},kt=[Tt(_t),Tt(lt),Tt(-1*lt),Tt(_t),0,0,"cm"]}this.internal.write("q"),pt?(this.internal.write([1,"0","0",1,St(at),Lt(V+mt),"cm"].join(" ")),this.internal.write(kt.join(" ")),this.internal.write([St(dt),"0","0",St(mt),"0","0","cm"].join(" "))):this.internal.write([St(dt),"0","0",St(mt),St(at),Lt(V+mt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wt.index+" Do"),this.internal.write("Q")},H=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=t.__addimage__.sHashCode=function(at){var V,dt,mt=0;if(typeof at=="string")for(dt=at.length,V=0;V<dt;V++)mt=(mt<<5)-mt+at.charCodeAt(V),mt|=0;else if(Y(at))for(dt=at.byteLength/2,V=0;V<dt;V++)mt=(mt<<5)-mt+at[V],mt|=0;return mt},j=t.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var V=!0;return at.length===0&&(V=!1),at.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&(V=!1),V},X=t.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var V=at.indexOf(",");return V<0?null:at.substring(0,V).trim().endsWith("base64")?at.substring(V+1):null};t.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},et=t.__addimage__.binaryStringToUint8Array=function(at){for(var V=at.length,dt=new Uint8Array(V),mt=0;mt<V;mt++)dt[mt]=at.charCodeAt(mt);return dt},st=t.__addimage__.arrayBufferToBinaryString=function(at){for(var V="",dt=Y(at)?at:new Uint8Array(at),mt=0;mt<dt.length;mt+=8192)V+=String.fromCharCode.apply(null,dt.subarray(mt,mt+8192));return V};t.addImage=function(){var at,V,dt,mt,wt,pt,At,St,Lt;if(typeof arguments[1]=="number"?(V=r,dt=arguments[1],mt=arguments[2],wt=arguments[3],pt=arguments[4],At=arguments[5],St=arguments[6],Lt=arguments[7]):(V=arguments[1],dt=arguments[2],mt=arguments[3],wt=arguments[4],pt=arguments[5],At=arguments[6],St=arguments[7],Lt=arguments[8]),Ws(at=arguments[0])==="object"&&!I(at)&&"imageData"in at){var jt=at;at=jt.imageData,V=jt.format||V||r,dt=jt.x||dt||0,mt=jt.y||mt||0,wt=jt.w||jt.width||wt,pt=jt.h||jt.height||pt,At=jt.alias||At,St=jt.compression||St,Lt=jt.rotation||jt.angle||Lt}var _t=this.internal.getFilters();if(St===void 0&&_t.indexOf("FlateEncode")!==-1&&(St="SLOW"),isNaN(dt)||isNaN(mt))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var lt=it.call(this,at,V,At,St);return U.call(this,dt,mt,wt,pt,lt,Lt),this};var it=function(at,V,dt,mt){var wt,pt,At;if(typeof at=="string"&&i(at)===r){at=unescape(at);var St=vt(at,!1);(St!==""||(St=t.loadFile(at,!0))!==void 0)&&(at=St)}if(I(at)&&(at=S(at,V)),V=i(at,V),!k(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((At=dt)==null||At.length===0)&&(dt=(function(Lt){return typeof Lt=="string"||Y(Lt)?z(Lt):Y(Lt.data)?z(Lt.data):null})(at)),(wt=P.call(this,dt))||(at instanceof Uint8Array||V==="RGBA"||(pt=at,at=et(at)),wt=this["process"+V.toUpperCase()](at,x.call(this),dt,(function(Lt){return Lt&&typeof Lt=="string"&&(Lt=Lt.toUpperCase()),Lt in t.image_compression?Lt:G.NONE})(mt),pt)),!wt)throw new Error("An unknown error occurred whilst processing the image.");return wt},vt=t.__addimage__.convertBase64ToBinaryString=function(at,V){V=typeof V!="boolean"||V;var dt,mt="";if(typeof at=="string"){var wt;dt=(wt=X(at))!==null&&wt!==void 0?wt:at;try{mt=yE(dt)}catch(pt){if(V)throw j(dt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return mt};t.getImageProperties=function(at){var V,dt,mt="";if(I(at)&&(at=S(at)),typeof at=="string"&&i(at)===r&&((mt=vt(at,!1))===""&&(mt=t.loadFile(at)||""),at=mt),dt=i(at),!k(dt))throw new Error("addImage does not support files of type '"+dt+"', please ensure that a plugin for '"+dt+"' support is added.");if(at instanceof Uint8Array||(at=et(at)),!(V=this["process"+dt.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=dt,V}})(Li.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Li.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,o,c=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),v=r.pageContext.annotations,x=!1,k=0;k<v.length&&!x;k++)switch((n=v[k]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var I=0;I<v.length;I++){n=v[I];var S=this.internal.pdfEscape,P=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),H=this.internal.getEncryptor(D.objId),G=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+S(H(n.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+g.objId+" 0 R",o+=" /T ("+S(H(G))+") >>",D.content=o;var z=D.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+z,n.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(D.objId,"0 R",U.objId,"0 R");break;case"freetext":i="/Rect ["+c(n.bounds.x)+" "+a(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+S(P(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+S(P(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var Y=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,o,c){var a=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:g(r),y:v(n),w:g(r+i),h:v(n+o)},options:c,type:"link"})},t.textWithLink=function(r,n,i,o){var c,a,g=this.getTextWidth(r),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var x=this.splitTextToSize(r,a).length;c=Math.ceil(v*x)}else a=g,c=v;return this.text(r,n,i,o),i+=.2*v,o.align==="center"&&(n-=g/2),o.align==="right"&&(n-=g),this.link(n,i-v,a,c,o),g},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Li.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(D){return e[D.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},a=t.__arabicParser__.isArabicEndLetter=function(D){return c(D)&&o(D)&&e[D.charCodeAt(0)].length<=2},g=t.__arabicParser__.isArabicAlfLetter=function(D){return c(D)&&i.indexOf(D.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return c(D)&&o(D)&&e[D.charCodeAt(0)].length>=1};var v=t.__arabicParser__.arabicLetterHasFinalForm=function(D){return c(D)&&o(D)&&e[D.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(D){return c(D)&&o(D)&&e[D.charCodeAt(0)].length>=3};var x=t.__arabicParser__.arabicLetterHasMedialForm=function(D){return c(D)&&o(D)&&e[D.charCodeAt(0)].length==4},k=t.__arabicParser__.resolveLigatures=function(D){var U=0,H=r,G="",z=0;for(U=0;U<D.length;U+=1)H[D.charCodeAt(U)]!==void 0?(z++,typeof(H=H[D.charCodeAt(U)])=="number"&&(G+=String.fromCharCode(H),H=r,z=0),U===D.length-1&&(H=r,G+=D.charAt(U-(z-1)),U-=z-1,z=0)):(H=r,G+=D.charAt(U-z),U-=z,z=0);return G};t.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&n[D.charCodeAt(0)]!==void 0};var I=t.__arabicParser__.getCorrectForm=function(D,U,H){return c(D)?o(D)===!1?-1:!v(D)||!c(U)&&!c(H)||!c(H)&&a(U)||a(D)&&!c(U)||a(D)&&g(U)||a(D)&&a(U)?0:x(D)&&c(U)&&!a(U)&&c(H)&&v(H)?3:a(D)||!c(H)?1:2:-1},S=function(D){var U=0,H=0,G=0,z="",j="",X="",Y=(D=D||"").split("\\s+"),et=[];for(U=0;U<Y.length;U+=1){for(et.push(""),H=0;H<Y[U].length;H+=1)z=Y[U][H],j=Y[U][H-1],X=Y[U][H+1],c(z)?(G=I(z,j,X),et[U]+=G!==-1?String.fromCharCode(e[z.charCodeAt(0)][G]):z):et[U]+=z;et[U]=k(et[U])}return et.join(" ")},P=t.__arabicParser__.processArabic=t.processArabic=function(){var D,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,H=[];if(Array.isArray(U)){var G=0;for(H=[],G=0;G<U.length;G+=1)Array.isArray(U[G])?H.push([S(U[G][0]),U[G][1],U[G][2]]):H.push([S(U[G])]);D=H}else D=S(U);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};t.events.push(["preProcessText",P])})(Li.API),Li.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(a){c=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Li.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(D){g=D}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(D){v=D}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(D){x=D}});var k=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return k},set:function(D){k=D}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(D){I=D}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(D){S=D}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(D){P=D}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(g){return n.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},t.getTextDimensions=function(g,v){n.call(this);var x=(v=v||{}).fontSize||this.getFontSize(),k=v.font||this.getFont(),I=v.scaleFactor||this.internal.scaleFactor,S=0,P=0,D=0,U=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var H=v.maxWidth;H>0?typeof g=="string"?g=this.splitTextToSize(g,H):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(z,j){return z.concat(U.splitTextToSize(j,H))},[])):g=Array.isArray(g)?g:[g];for(var G=0;G<g.length;G++)S<(D=this.getStringUnitWidth(g[G],{font:k})*x)&&(S=D);return S!==0&&(P=g.length),{w:S/=I,h:Math.max((P*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/I,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var g=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var g;g=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var v=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,k=this.internal.__cell__.margins||e,I=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+k.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=k.top,S&&I&&(this.printHeaderRow(g.lineNumber,!0),g.y+=I[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,r===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-x,g.y+x,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+x,{align:"center",baseline:"top",maxWidth:g.width-x-x}):this.text(g.text,g.x+x,g.y+x,{align:"left",baseline:"top",maxWidth:g.width-x-x})),this.internal.__cell__.lastCell=g,this};t.table=function(g,v,x,k,I){if(n.call(this),!x)throw new Error("No data for PDF table.");var S,P,D,U,H=[],G=[],z=[],j={},X={},Y=[],et=[],st=(I=I||{}).autoSize||!1,it=I.printHeaders!==!1,vt=I.css&&I.css["font-size"]!==void 0?16*I.css["font-size"]:I.fontSize||12,at=I.margins||Object.assign({width:this.getPageWidth()},e),V=typeof I.padding=="number"?I.padding:3,dt=I.headerBackgroundColor||"#c8c8c8",mt=I.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=it,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=vt,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=dt,this.internal.__cell__.headerTextColor=mt,this.setFontSize(vt),k==null)G=H=Object.keys(x[0]),z=H.map(function(){return"left"});else if(Array.isArray(k)&&Ws(k[0])==="object")for(H=k.map(function(jt){return jt.name}),G=k.map(function(jt){return jt.prompt||jt.name||""}),z=k.map(function(jt){return jt.align||"left"}),S=0;S<k.length;S+=1)X[k[S].name]=.7499990551181103*k[S].width;else Array.isArray(k)&&typeof k[0]=="string"&&(G=H=k,z=H.map(function(){return"left"}));if(st||Array.isArray(k)&&typeof k[0]=="string")for(S=0;S<H.length;S+=1){for(j[U=H[S]]=x.map(function(jt){return jt[U]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(G[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=j[U],this.setFont(void 0,"normal"),D=0;D<P.length;D+=1)Y.push(this.getTextDimensions(P[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[U]=Math.max.apply(null,Y)+V+V,Y=[]}if(it){var wt={};for(S=0;S<H.length;S+=1)wt[H[S]]={},wt[H[S]].text=G[S],wt[H[S]].align=z[S];var pt=a.call(this,wt,X);et=H.map(function(jt){return new o(g,v,X[jt],pt,wt[jt].text,void 0,wt[jt].align)}),this.setTableHeaderRow(et),this.printHeaderRow(1,!1)}var At=k.reduce(function(jt,_t){return jt[_t.name]=_t.align,jt},{});for(S=0;S<x.length;S+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:S,data:x[S]},this);var St=a.call(this,x[S],X);for(D=0;D<H.length;D+=1){var Lt=x[S][H[D]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:S,col:D,data:Lt},this),c.call(this,new o(g,v,X[H[D]],St,Lt,S+2,At[H[D]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var a=function(g,v){var x=this.internal.__cell__.padding,k=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(g).map(function(S){var P=g[S];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,v[S]-x-x)},this).map(function(S){return this.getLineHeightFactor()*S.length*k/I+x+x},this).reduce(function(S,P){return Math.max(S,P)},0)};t.setTableHeaderRow=function(g){n.call(this),this.internal.__cell__.tableHeaderRow=g},t.printHeaderRow=function(g,v){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var k=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(k[0],k[1],k[2],k[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){x=this.internal.__cell__.tableHeaderRow[S].clone(),v&&(x.y=this.internal.__cell__.margins.top||0,I.push(x)),x.lineNumber=g;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,x),this.setTextColor(P)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),r=!1}})(Li.API);var AG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wL=CG(kG),IG=[100,200,300,400,500,600,700,800,900],odt=CG(IG);function Jk(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return AG[o=o||"normal"]?o:"normal"})(t.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof wL[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function ez(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var sdt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rz={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nz(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function iz(t){return t.trimLeft()}function ldt(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function cdt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var A5,az,oz,wb,k5,sz,lz,cz,uz=["times"];function hz(t,e,r,n){var i=4,o=fz;switch(n){case Li.API.image_compression.FAST:i=1,o=dz;break;case Li.API.image_compression.MEDIUM:i=6,o=pz;break;case Li.API.image_compression.SLOW:i=9,o=mz}t=(function(a,g,v,x){for(var k,I=a.length/g,S=new Uint8Array(a.length+I),P=[udt,dz,fz,pz,mz],D=0;D<I;D+=1){var U=D*g,H=a.subarray(U,U+g);if(x)S.set(x(H,v,k),U+D);else{for(var G=P.length,z=[],j=0;j<G;j+=1)z[j]=P[j](H,v,k);var X=ddt(z.concat());S.set(z[X],U+D)}k=H}return S})(t,e,r,o);var c=mL(t,{level:i});return Li.API.__addimage__.arrayBufferToBinaryString(c)}function udt(t){var e=Array.apply([],t);return e.unshift(0),e}function dz(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var o=t[i-e]||0;n[i+1]=t[i]-o+256&255}return n}function fz(t,e,r){var n=t.length,i=[];i[0]=2;for(var o=0;o<n;o+=1){var c=r&&r[o]||0;i[o+1]=t[o]-c+256&255}return i}function pz(t,e,r){var n=t.length,i=[];i[0]=3;for(var o=0;o<n;o+=1){var c=t[o-e]||0,a=r&&r[o]||0;i[o+1]=t[o]+256-(c+a>>>1)&255}return i}function mz(t,e,r){var n=t.length,i=[];i[0]=4;for(var o=0;o<n;o+=1){var c=hdt(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);i[o+1]=t[o]-c+256&255}return i}function hdt(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=i&&n<=o?t:i<=o?e:r}function ddt(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function tI(t,e,r){var n=e*r,i=Math.floor(n/8),o=16-(n-8*i+r),c=(1<<r)-1;return RG(t,i)>>o&c}function gz(t,e,r,n){var i=r*n,o=Math.floor(i/8),c=16-(i-8*o+n),a=(1<<n)-1,g=(e&a)<<c;(function(v,x,k){if(x+1<v.byteLength)v.setUint16(x,k,!1);else{var I=k>>8&255;v.setUint8(x,I)}})(t,o,RG(t,o)&~(a<<c)&65535|g)}function RG(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function fdt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,c=1<<1+(7&i);t[e++],t[e++];var a=null,g=null;o&&(a=e,g=c,e+=3*c);var v=!0,x=[],k=0,I=null,S=0,P=null;for(this.width=r,this.height=n;v&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((at=t[e++])>=0))throw Error("Invalid block size");if(at===0)break;e+=at}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var D=t[e++];k=t[e++]|t[e++]<<8,I=t[e++],1&D||(I=null),S=D>>2&7,e++;break;case 254:for(;;){if(!((at=t[e++])>=0))throw Error("Invalid block size");if(at===0)break;e+=at}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var U=t[e++]|t[e++]<<8,H=t[e++]|t[e++]<<8,G=t[e++]|t[e++]<<8,z=t[e++]|t[e++]<<8,j=t[e++],X=j>>6&1,Y=1<<1+(7&j),et=a,st=g,it=!1;j>>7&&(it=!0,et=e,st=Y,e+=3*Y);var vt=e;for(e++;;){var at;if(!((at=t[e++])>=0))throw Error("Invalid block size");if(at===0)break;e+=at}x.push({x:U,y:H,width:G,height:z,has_local_palette:it,palette_offset:et,palette_size:st,data_offset:vt,data_length:e-vt,transparent_index:I,interlaced:!!X,delay:k,disposal:S});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return P},this.frameInfo=function(V){if(V<0||V>=x.length)throw new Error("Frame index out of range.");return x[V]},this.decodeAndBlitFrameBGRA=function(V,dt){var mt=this.frameInfo(V),wt=mt.width*mt.height,pt=new Uint8Array(wt);yz(t,mt.data_offset,pt,wt);var At=mt.palette_offset,St=mt.transparent_index;St===null&&(St=256);var Lt=mt.width,jt=r-Lt,_t=Lt,lt=4*(mt.y*r+mt.x),Tt=4*((mt.y+mt.height)*r+mt.x),kt=lt,Rt=4*jt;mt.interlaced===!0&&(Rt+=4*r*7);for(var Ut=8,ie=0,Ht=pt.length;ie<Ht;++ie){var ce=pt[ie];if(_t===0&&(_t=Lt,(kt+=Rt)>=Tt&&(Rt=4*jt+4*r*(Ut-1),kt=lt+(Lt+jt)*(Ut<<1),Ut>>=1)),ce===St)kt+=4;else{var de=t[At+3*ce],Se=t[At+3*ce+1],Vt=t[At+3*ce+2];dt[kt++]=Vt,dt[kt++]=Se,dt[kt++]=de,dt[kt++]=255}--_t}},this.decodeAndBlitFrameRGBA=function(V,dt){var mt=this.frameInfo(V),wt=mt.width*mt.height,pt=new Uint8Array(wt);yz(t,mt.data_offset,pt,wt);var At=mt.palette_offset,St=mt.transparent_index;St===null&&(St=256);var Lt=mt.width,jt=r-Lt,_t=Lt,lt=4*(mt.y*r+mt.x),Tt=4*((mt.y+mt.height)*r+mt.x),kt=lt,Rt=4*jt;mt.interlaced===!0&&(Rt+=4*r*7);for(var Ut=8,ie=0,Ht=pt.length;ie<Ht;++ie){var ce=pt[ie];if(_t===0&&(_t=Lt,(kt+=Rt)>=Tt&&(Rt=4*jt+4*r*(Ut-1),kt=lt+(Lt+jt)*(Ut<<1),Ut>>=1)),ce===St)kt+=4;else{var de=t[At+3*ce],Se=t[At+3*ce+1],Vt=t[At+3*ce+2];dt[kt++]=de,dt[kt++]=Se,dt[kt++]=Vt,dt[kt++]=255}--_t}}}function yz(t,e,r,n){for(var i=t[e++],o=1<<i,c=o+1,a=c+1,g=i+1,v=(1<<g)-1,x=0,k=0,I=0,S=t[e++],P=new Int32Array(4096),D=null;;){for(;x<16&&S!==0;)k|=t[e++]<<x,x+=8,S===1?S=t[e++]:--S;if(x<g)break;var U=k&v;if(k>>=g,x-=g,U!==o){if(U===c)break;for(var H=U<a?U:D,G=0,z=H;z>o;)z=P[z]>>8,++G;var j=z;if(I+G+(H!==U?1:0)>n)return void hl.log("Warning, gif stream longer than expected.");r[I++]=j;var X=I+=G;for(H!==U&&(r[I++]=j),z=H;G--;)z=P[z],r[--X]=255&z,z>>=8;D!==null&&a<4096&&(P[a++]=D<<8|j,a>=v+1&&g<12&&(++g,v=v<<1|1)),D=U}else a=c+1,v=(1<<(g=i+1))-1,D=null}return I!==n&&hl.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function eI(t){var e,r,n,i,o,c=Math.floor,a=new Array(64),g=new Array(64),v=new Array(64),x=new Array(64),k=new Array(65535),I=new Array(65535),S=new Array(64),P=new Array(64),D=[],U=0,H=7,G=new Array(64),z=new Array(64),j=new Array(64),X=new Array(256),Y=new Array(2048),et=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],st=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],it=[0,1,2,3,4,5,6,7,8,9,10,11],vt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],dt=[0,1,2,3,4,5,6,7,8,9,10,11],mt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pt(lt,Tt){for(var kt=0,Rt=0,Ut=new Array,ie=1;ie<=16;ie++){for(var Ht=1;Ht<=lt[ie];Ht++)Ut[Tt[Rt]]=[],Ut[Tt[Rt]][0]=kt,Ut[Tt[Rt]][1]=ie,Rt++,kt++;kt*=2}return Ut}function At(lt){for(var Tt=lt[0],kt=lt[1]-1;kt>=0;)Tt&1<<kt&&(U|=1<<H),kt--,--H<0&&(U==255?(St(255),St(0)):St(U),H=7,U=0)}function St(lt){D.push(lt)}function Lt(lt){St(lt>>8&255),St(255&lt)}function jt(lt,Tt,kt,Rt,Ut){for(var ie,Ht=Ut[0],ce=Ut[240],de=(function(Ie,Mr){var ir,Rr,Pr,Ir,dr,ar,Or,er,Fr,Ze,rr=0;for(Fr=0;Fr<8;++Fr){ir=Ie[rr],Rr=Ie[rr+1],Pr=Ie[rr+2],Ir=Ie[rr+3],dr=Ie[rr+4],ar=Ie[rr+5],Or=Ie[rr+6];var Me=ir+(er=Ie[rr+7]),Ft=ir-er,Mt=Rr+Or,Bt=Rr-Or,oe=Pr+ar,ye=Pr-ar,je=Ir+dr,Ge=Ir-dr,Ue=Me+je,fr=Me-je,Ke=Mt+oe,Pe=Mt-oe;Ie[rr]=Ue+Ke,Ie[rr+4]=Ue-Ke;var ur=.707106781*(Pe+fr);Ie[rr+2]=fr+ur,Ie[rr+6]=fr-ur;var Oe=.382683433*((Ue=Ge+ye)-(Pe=Bt+Ft)),Wr=.5411961*Ue+Oe,or=1.306562965*Pe+Oe,bn=.707106781*(Ke=ye+Bt),Kr=Ft+bn,Zn=Ft-bn;Ie[rr+5]=Zn+Wr,Ie[rr+3]=Zn-Wr,Ie[rr+1]=Kr+or,Ie[rr+7]=Kr-or,rr+=8}for(rr=0,Fr=0;Fr<8;++Fr){ir=Ie[rr],Rr=Ie[rr+8],Pr=Ie[rr+16],Ir=Ie[rr+24],dr=Ie[rr+32],ar=Ie[rr+40],Or=Ie[rr+48];var Pt=ir+(er=Ie[rr+56]),Xt=ir-er,be=Rr+Or,ze=Rr-Or,Lr=Pr+ar,vn=Pr-ar,Vr=Ir+dr,fi=Ir-dr,On=Pt+Vr,li=Pt-Vr,Ji=be+Lr,en=be-Lr;Ie[rr]=On+Ji,Ie[rr+32]=On-Ji;var Rn=.707106781*(en+li);Ie[rr+16]=li+Rn,Ie[rr+48]=li-Rn;var Wn=.382683433*((On=fi+vn)-(en=ze+Xt)),Ra=.5411961*On+Wn,xo=1.306562965*en+Wn,Na=.707106781*(Ji=vn+ze),Mn=Xt+Na,io=Xt-Na;Ie[rr+40]=io+Ra,Ie[rr+24]=io-Ra,Ie[rr+8]=Mn+xo,Ie[rr+56]=Mn-xo,rr++}for(Fr=0;Fr<64;++Fr)Ze=Ie[Fr]*Mr[Fr],S[Fr]=Ze>0?Ze+.5|0:Ze-.5|0;return S})(lt,Tt),Se=0;Se<64;++Se)P[et[Se]]=de[Se];var Vt=P[0]-kt;kt=P[0],Vt==0?At(Rt[0]):(At(Rt[I[ie=32767+Vt]]),At(k[ie]));for(var He=63;He>0&&P[He]==0;)He--;if(He==0)return At(Ht),kt;for(var ke,Jt=1;Jt<=He;){for(var $r=Jt;P[Jt]==0&&Jt<=He;)++Jt;var vr=Jt-$r;if(vr>=16){ke=vr>>4;for(var Dr=1;Dr<=ke;++Dr)At(ce);vr&=15}ie=32767+P[Jt],At(Ut[(vr<<4)+I[ie]]),At(k[ie]),Jt++}return He!=63&&At(Ht),kt}function _t(lt){lt=Math.min(Math.max(lt,1),100),o!=lt&&((function(Tt){for(var kt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Rt=0;Rt<64;Rt++){var Ut=c((kt[Rt]*Tt+50)/100);Ut=Math.min(Math.max(Ut,1),255),a[et[Rt]]=Ut}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ht=0;Ht<64;Ht++){var ce=c((ie[Ht]*Tt+50)/100);ce=Math.min(Math.max(ce,1),255),g[et[Ht]]=ce}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Vt=0;Vt<8;Vt++)for(var He=0;He<8;He++)v[Se]=1/(a[et[Se]]*de[Vt]*de[He]*8),x[Se]=1/(g[et[Se]]*de[Vt]*de[He]*8),Se++})(lt<50?Math.floor(5e3/lt):Math.floor(200-2*lt)),o=lt)}this.encode=function(lt,Tt){Tt&&_t(Tt),D=new Array,U=0,H=7,Lt(65496),Lt(65504),Lt(16),St(74),St(70),St(73),St(70),St(0),St(1),St(1),St(0),Lt(1),Lt(1),St(0),St(0),(function(){Lt(65499),Lt(132),St(0);for(var Rr=0;Rr<64;Rr++)St(a[Rr]);St(1);for(var Pr=0;Pr<64;Pr++)St(g[Pr])})(),(function(Rr,Pr){Lt(65472),Lt(17),St(8),Lt(Pr),Lt(Rr),St(3),St(1),St(17),St(0),St(2),St(17),St(1),St(3),St(17),St(1)})(lt.width,lt.height),(function(){Lt(65476),Lt(418),St(0);for(var Rr=0;Rr<16;Rr++)St(st[Rr+1]);for(var Pr=0;Pr<=11;Pr++)St(it[Pr]);St(16);for(var Ir=0;Ir<16;Ir++)St(vt[Ir+1]);for(var dr=0;dr<=161;dr++)St(at[dr]);St(1);for(var ar=0;ar<16;ar++)St(V[ar+1]);for(var Or=0;Or<=11;Or++)St(dt[Or]);St(17);for(var er=0;er<16;er++)St(mt[er+1]);for(var Fr=0;Fr<=161;Fr++)St(wt[Fr])})(),Lt(65498),Lt(12),St(3),St(1),St(0),St(2),St(17),St(3),St(17),St(0),St(63),St(0);var kt=0,Rt=0,Ut=0;U=0,H=7,this.encode.displayName="_encode_";for(var ie,Ht,ce,de,Se,Vt,He,ke,Jt,$r=lt.data,vr=lt.width,Dr=lt.height,Ie=4*vr,Mr=0;Mr<Dr;){for(ie=0;ie<Ie;){for(Se=Ie*Mr+ie,He=-1,ke=0,Jt=0;Jt<64;Jt++)Vt=Se+(ke=Jt>>3)*Ie+(He=4*(7&Jt)),Mr+ke>=Dr&&(Vt-=Ie*(Mr+1+ke-Dr)),ie+He>=Ie&&(Vt-=ie+He-Ie+4),Ht=$r[Vt++],ce=$r[Vt++],de=$r[Vt++],G[Jt]=(Y[Ht]+Y[ce+256|0]+Y[de+512|0]>>16)-128,z[Jt]=(Y[Ht+768|0]+Y[ce+1024|0]+Y[de+1280|0]>>16)-128,j[Jt]=(Y[Ht+1280|0]+Y[ce+1536|0]+Y[de+1792|0]>>16)-128;kt=jt(G,v,kt,e,n),Rt=jt(z,x,Rt,r,i),Ut=jt(j,x,Ut,r,i),ie+=32}Mr+=8}if(H>=0){var ir=[];ir[1]=H+1,ir[0]=(1<<H+1)-1,At(ir)}return Lt(65497),new Uint8Array(D)},t=t||50,(function(){for(var lt=String.fromCharCode,Tt=0;Tt<256;Tt++)X[Tt]=lt(Tt)})(),e=pt(st,it),r=pt(V,dt),n=pt(vt,at),i=pt(mt,wt),(function(){for(var lt=1,Tt=2,kt=1;kt<=15;kt++){for(var Rt=lt;Rt<Tt;Rt++)I[32767+Rt]=kt,k[32767+Rt]=[],k[32767+Rt][1]=kt,k[32767+Rt][0]=Rt;for(var Ut=-(Tt-1);Ut<=-lt;Ut++)I[32767+Ut]=kt,k[32767+Ut]=[],k[32767+Ut][1]=kt,k[32767+Ut][0]=Tt-1+Ut;lt<<=1,Tt<<=1}})(),(function(){for(var lt=0;lt<256;lt++)Y[lt]=19595*lt,Y[lt+256|0]=38470*lt,Y[lt+512|0]=7471*lt+32768,Y[lt+768|0]=-11059*lt,Y[lt+1024|0]=-21709*lt,Y[lt+1280|0]=32768*lt+8421375,Y[lt+1536|0]=-27439*lt,Y[lt+1792|0]=-5329*lt})(),_t(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cp(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vz(t){function e(it){if(!it)throw Error("assert :P")}function r(it,vt,at){for(var V=0;4>V;V++)if(it[vt+V]!=at.charCodeAt(V))return!0;return!1}function n(it,vt,at,V,dt){for(var mt=0;mt<dt;mt++)it[vt+mt]=at[V+mt]}function i(it,vt,at,V){for(var dt=0;dt<V;dt++)it[vt+dt]=at}function o(it){return new Int32Array(it)}function c(it,vt){for(var at=[],V=0;V<it;V++)at.push(new vt);return at}function a(it,vt){var at=[];return(function V(dt,mt,wt){for(var pt=wt[mt],At=0;At<pt&&(dt.push(wt.length>mt+1?[]:new vt),!(wt.length<mt+1));At++)V(dt[At],mt+1,wt)})(at,0,it),at}var g=function(){var it=this;function vt($,Z){for(var yt=1<<Z-1>>>0;$&yt;)yt>>>=1;return yt?($&yt-1)+yt:$}function at($,Z,yt,Nt,Zt){e(!(Nt%yt));do $[Z+(Nt-=yt)]=Zt;while(0<Nt)}function V($,Z,yt,Nt,Zt){if(e(2328>=Zt),512>=Zt)var ne=o(512);else if((ne=o(Zt))==null)return 0;return(function(ae,ue,ge,Te,Ce,Nr){var Ae,hr,br=ue,Xr=1<<ge,Er=o(16),wr=o(16);for(e(Ce!=0),e(Te!=null),e(ae!=null),e(0<ge),hr=0;hr<Ce;++hr){if(15<Te[hr])return 0;++Er[Te[hr]]}if(Er[0]==Ce)return 0;for(wr[1]=0,Ae=1;15>Ae;++Ae){if(Er[Ae]>1<<Ae)return 0;wr[Ae+1]=wr[Ae]+Er[Ae]}for(hr=0;hr<Ce;++hr)Ae=Te[hr],0<Te[hr]&&(Nr[wr[Ae]++]=hr);if(wr[15]==1)return(Te=new dt).g=0,Te.value=Nr[0],at(ae,br,1,Xr,Te),Xr;var Qr,Sn=-1,ln=Xr-1,ui=0,ni=1,Fi=1,ai=1<<ge;for(hr=0,Ae=1,Ce=2;Ae<=ge;++Ae,Ce<<=1){if(ni+=Fi<<=1,0>(Fi-=Er[Ae]))return 0;for(;0<Er[Ae];--Er[Ae])(Te=new dt).g=Ae,Te.value=Nr[hr++],at(ae,br+ui,Ce,ai,Te),ui=vt(ui,Ae)}for(Ae=ge+1,Ce=2;15>=Ae;++Ae,Ce<<=1){if(ni+=Fi<<=1,0>(Fi-=Er[Ae]))return 0;for(;0<Er[Ae];--Er[Ae]){if(Te=new dt,(ui&ln)!=Sn){for(br+=ai,Qr=1<<(Sn=Ae)-ge;15>Sn&&!(0>=(Qr-=Er[Sn]));)++Sn,Qr<<=1;Xr+=ai=1<<(Qr=Sn-ge),ae[ue+(Sn=ui&ln)].g=Qr+ge,ae[ue+Sn].value=br-ue-Sn}Te.g=Ae-ge,Te.value=Nr[hr++],at(ae,br+(ui>>ge),Ce,ai,Te),ui=vt(ui,Ae)}}return ni!=2*wr[15]-1?0:Xr})($,Z,yt,Nt,Zt,ne)}function dt(){this.value=this.g=0}function mt(){this.value=this.g=0}function wt(){this.G=c(5,dt),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Es,mt)}function pt($,Z,yt,Nt){e($!=null),e(Z!=null),e(2147483648>Nt),$.Ca=254,$.I=0,$.b=-8,$.Ka=0,$.oa=Z,$.pa=yt,$.Jd=Z,$.Yc=yt+Nt,$.Zc=4<=Nt?yt+Nt-4+1:yt,Ht($)}function At($,Z){for(var yt=0;0<Z--;)yt|=de($,128)<<Z;return yt}function St($,Z){var yt=At($,Z);return ce($)?-yt:yt}function Lt($,Z,yt,Nt){var Zt,ne=0;for(e($!=null),e(Z!=null),e(4294967288>Nt),$.Sb=Nt,$.Ra=0,$.u=0,$.h=0,4<Nt&&(Nt=4),Zt=0;Zt<Nt;++Zt)ne+=Z[yt+Zt]<<8*Zt;$.Ra=ne,$.bb=Nt,$.oa=Z,$.pa=yt}function jt($){for(;8<=$.u&&$.bb<$.Sb;)$.Ra>>>=8,$.Ra+=$.oa[$.pa+$.bb]<<dc-8>>>0,++$.bb,$.u-=8;Rt($)&&($.h=1,$.u=0)}function _t($,Z){if(e(0<=Z),!$.h&&Z<=Ps){var yt=kt($)&Hc[Z];return $.u+=Z,jt($),yt}return $.h=1,$.u=0}function lt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Tt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function kt($){return $.Ra>>>($.u&dc-1)>>>0}function Rt($){return e($.bb<=$.Sb),$.h||$.bb==$.Sb&&$.u>dc}function Ut($,Z){$.u=Z,$.h=Rt($)}function ie($){$.u>=To&&(e($.u>=To),jt($))}function Ht($){e($!=null&&$.oa!=null),$.pa<$.Zc?($.I=($.oa[$.pa++]|$.I<<8)>>>0,$.b+=8):(e($!=null&&$.oa!=null),$.pa<$.Yc?($.b+=8,$.I=$.oa[$.pa++]|$.I<<8):$.Ka?$.b=0:($.I<<=8,$.b+=8,$.Ka=1))}function ce($){return At($,1)}function de($,Z){var yt=$.Ca;0>$.b&&Ht($);var Nt=$.b,Zt=yt*Z>>>8,ne=($.I>>>Nt>Zt)+0;for(ne?(yt-=Zt,$.I-=Zt+1<<Nt>>>0):yt=Zt+1,Nt=yt,Zt=0;256<=Nt;)Zt+=8,Nt>>=8;return Nt=7^Zt+fc[Nt],$.b-=Nt,$.Ca=(yt<<Nt)-1,ne}function Se($,Z,yt){$[Z+0]=yt>>24&255,$[Z+1]=yt>>16&255,$[Z+2]=yt>>8&255,$[Z+3]=255&yt}function Vt($,Z){return $[Z+0]|$[Z+1]<<8}function He($,Z){return Vt($,Z)|$[Z+2]<<16}function ke($,Z){return Vt($,Z)|Vt($,Z+2)<<16}function Jt($,Z){var yt=1<<Z;return e($!=null),e(0<Z),$.X=o(yt),$.X==null?0:($.Mb=32-Z,$.Xa=Z,1)}function $r($,Z){e($!=null),e(Z!=null),e($.Xa==Z.Xa),n(Z.X,0,$.X,0,1<<Z.Xa)}function vr(){this.X=[],this.Xa=this.Mb=0}function Dr($,Z,yt,Nt){e(yt!=null),e(Nt!=null);var Zt=yt[0],ne=Nt[0];return Zt==0&&(Zt=($*ne+Z/2)/Z),ne==0&&(ne=(Z*Zt+$/2)/$),0>=Zt||0>=ne?0:(yt[0]=Zt,Nt[0]=ne,1)}function Ie($,Z){return $+(1<<Z)-1>>>Z}function Mr($,Z){return((4278255360&$)+(4278255360&Z)>>>0&4278255360)+((16711935&$)+(16711935&Z)>>>0&16711935)>>>0}function ir($,Z){it[Z]=function(yt,Nt,Zt,ne,ae,ue,ge){var Te;for(Te=0;Te<ae;++Te){var Ce=it[$](ue[ge+Te-1],Zt,ne+Te);ue[ge+Te]=Mr(yt[Nt+Te],Ce)}}}function Rr(){this.ud=this.hd=this.jd=0}function Pr($,Z){return((4278124286&($^Z))>>>1)+($&Z)>>>0}function Ir($){return 0<=$&&256>$?$:0>$?0:255<$?255:void 0}function dr($,Z){return Ir($+($-Z+.5>>1))}function ar($,Z,yt){return Math.abs(Z-yt)-Math.abs($-yt)}function Or($,Z,yt,Nt,Zt,ne,ae){for(Nt=ne[ae-1],yt=0;yt<Zt;++yt)ne[ae+yt]=Nt=Mr($[Z+yt],Nt)}function er($,Z,yt,Nt,Zt){var ne;for(ne=0;ne<yt;++ne){var ae=$[Z+ne],ue=ae>>8&255,ge=16711935&(ge=(ge=16711935&ae)+((ue<<16)+ue));Nt[Zt+ne]=(4278255360&ae)+ge>>>0}}function Fr($,Z){Z.jd=255&$,Z.hd=$>>8&255,Z.ud=$>>16&255}function Ze($,Z,yt,Nt,Zt,ne){var ae;for(ae=0;ae<Nt;++ae){var ue=Z[yt+ae],ge=ue>>>8,Te=ue,Ce=255&(Ce=(Ce=ue>>>16)+(($.jd<<24>>24)*(ge<<24>>24)>>>5));Te=255&(Te=(Te+=($.hd<<24>>24)*(ge<<24>>24)>>>5)+(($.ud<<24>>24)*(Ce<<24>>24)>>>5)),Zt[ne+ae]=(4278255360&ue)+(Ce<<16)+Te}}function rr($,Z,yt,Nt,Zt){it[Z]=function(ne,ae,ue,ge,Te,Ce,Nr,Ae,hr){for(ge=Nr;ge<Ae;++ge)for(Nr=0;Nr<hr;++Nr)Te[Ce++]=Zt(ue[Nt(ne[ae++])])},it[$]=function(ne,ae,ue,ge,Te,Ce,Nr){var Ae=8>>ne.b,hr=ne.Ea,br=ne.K[0],Xr=ne.w;if(8>Ae)for(ne=(1<<ne.b)-1,Xr=(1<<Ae)-1;ae<ue;++ae){var Er,wr=0;for(Er=0;Er<hr;++Er)Er&ne||(wr=Nt(ge[Te++])),Ce[Nr++]=Zt(br[wr&Xr]),wr>>=Ae}else it["VP8LMapColor"+yt](ge,Te,br,Xr,Ce,Nr,ae,ue,hr)}}function Me($,Z,yt,Nt,Zt){for(yt=Z+yt;Z<yt;){var ne=$[Z++];Nt[Zt++]=ne>>16&255,Nt[Zt++]=ne>>8&255,Nt[Zt++]=255&ne}}function Ft($,Z,yt,Nt,Zt){for(yt=Z+yt;Z<yt;){var ne=$[Z++];Nt[Zt++]=ne>>16&255,Nt[Zt++]=ne>>8&255,Nt[Zt++]=255&ne,Nt[Zt++]=ne>>24&255}}function Mt($,Z,yt,Nt,Zt){for(yt=Z+yt;Z<yt;){var ne=(ae=$[Z++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;Nt[Zt++]=ne,Nt[Zt++]=ae}}function Bt($,Z,yt,Nt,Zt){for(yt=Z+yt;Z<yt;){var ne=(ae=$[Z++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;Nt[Zt++]=ne,Nt[Zt++]=ae}}function oe($,Z,yt,Nt,Zt){for(yt=Z+yt;Z<yt;){var ne=$[Z++];Nt[Zt++]=255&ne,Nt[Zt++]=ne>>8&255,Nt[Zt++]=ne>>16&255}}function ye($,Z,yt,Nt,Zt,ne){if(ne==0)for(yt=Z+yt;Z<yt;)Se(Nt,((ne=$[Z++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Zt+=32;else n(Nt,Zt,$,Z,yt)}function je($,Z){it[Z][0]=it[$+"0"],it[Z][1]=it[$+"1"],it[Z][2]=it[$+"2"],it[Z][3]=it[$+"3"],it[Z][4]=it[$+"4"],it[Z][5]=it[$+"5"],it[Z][6]=it[$+"6"],it[Z][7]=it[$+"7"],it[Z][8]=it[$+"8"],it[Z][9]=it[$+"9"],it[Z][10]=it[$+"10"],it[Z][11]=it[$+"11"],it[Z][12]=it[$+"12"],it[Z][13]=it[$+"13"],it[Z][14]=it[$+"0"],it[Z][15]=it[$+"0"]}function Ge($){return $==Gf||$==Hf||$==Td||$==Cd}function Ue(){this.eb=[],this.size=this.A=this.fb=0}function fr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ue,this.f.kb=new fr,this.sd=null}function Pe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe($){return alert("todo:WebPSamplerProcessPlane"),$.T}function Wr($,Z){var yt=$.T,Nt=Z.ba.f.RGBA,Zt=Nt.eb,ne=Nt.fb+$.ka*Nt.A,ae=vl[Z.ba.S],ue=$.y,ge=$.O,Te=$.f,Ce=$.N,Nr=$.ea,Ae=$.W,hr=Z.cc,br=Z.dc,Xr=Z.Mc,Er=Z.Nc,wr=$.ka,Qr=$.ka+$.T,Sn=$.U,ln=Sn+1>>1;for(wr==0?ae(ue,ge,null,null,Te,Ce,Nr,Ae,Te,Ce,Nr,Ae,Zt,ne,null,null,Sn):(ae(Z.ec,Z.fc,ue,ge,hr,br,Xr,Er,Te,Ce,Nr,Ae,Zt,ne-Nt.A,Zt,ne,Sn),++yt);wr+2<Qr;wr+=2)hr=Te,br=Ce,Xr=Nr,Er=Ae,Ce+=$.Rc,Ae+=$.Rc,ne+=2*Nt.A,ae(ue,(ge+=2*$.fa)-$.fa,ue,ge,hr,br,Xr,Er,Te,Ce,Nr,Ae,Zt,ne-Nt.A,Zt,ne,Sn);return ge+=$.fa,$.j+Qr<$.o?(n(Z.ec,Z.fc,ue,ge,Sn),n(Z.cc,Z.dc,Te,Ce,ln),n(Z.Mc,Z.Nc,Nr,Ae,ln),yt--):1&Qr||ae(ue,ge,null,null,Te,Ce,Nr,Ae,Te,Ce,Nr,Ae,Zt,ne+Nt.A,null,null,Sn),yt}function or($,Z,yt){var Nt=$.F,Zt=[$.J];if(Nt!=null){var ne=$.U,ae=Z.ba.S,ue=ae==lf||ae==Td;Z=Z.ba.f.RGBA;var ge=[0],Te=$.ka;ge[0]=$.T,$.Kb&&(Te==0?--ge[0]:(--Te,Zt[0]-=$.width),$.j+$.ka+$.T==$.o&&(ge[0]=$.o-$.j-Te));var Ce=Z.eb;Te=Z.fb+Te*Z.A,$=$o(Nt,Zt[0],$.width,ne,ge,Ce,Te+(ue?0:3),Z.A),e(yt==ge),$&&Ge(ae)&&qi(Ce,Te,ue,ne,ge,Z.A)}return 0}function bn($){var Z=$.ma,yt=Z.ba.S,Nt=11>yt,Zt=yt==mi||yt==Xl||yt==lf||yt==gh||yt==12||Ge(yt);if(Z.memory=null,Z.Ib=null,Z.Jb=null,Z.Nd=null,!jo(Z.Oa,$,Zt?11:12))return 0;if(Zt&&Ge(yt)&&Sc(),$.da)alert("todo:use_scaling");else{if(Nt){if(Z.Ib=Oe,$.Kb){if(yt=$.U+1>>1,Z.memory=o($.U+2*yt),Z.memory==null)return 0;Z.ec=Z.memory,Z.fc=0,Z.cc=Z.ec,Z.dc=Z.fc+$.U,Z.Mc=Z.cc,Z.Nc=Z.dc+yt,Z.Ib=Wr,Sc()}}else alert("todo:EmitYUV");Zt&&(Z.Jb=or,Nt&&Ru())}if(Nt&&!vh){for($=0;256>$;++$)Kl[$]=89858*($-128)+Qu>>Su,Vm[$]=-22014*($-128)+Qu,Rd[$]=-45773*($-128),Xf[$]=113618*($-128)+Qu>>Su;for($=Pu;$<al;++$)Z=76283*($-16)+Qu>>Su,Op[$-Pu]=ws(Z,255),zg[$-Pu]=ws(Z+8>>4,15);vh=1}return 1}function Kr($){var Z=$.ma,yt=$.U,Nt=$.T;return e(!(1&$.ka)),0>=yt||0>=Nt?0:(yt=Z.Ib($,Z),Z.Jb!=null&&Z.Jb($,Z,yt),Z.Dc+=yt,1)}function Zn($){$.ma.memory=null}function Pt($,Z,yt,Nt){return _t($,8)!=47?0:(Z[0]=_t($,14)+1,yt[0]=_t($,14)+1,Nt[0]=_t($,1),_t($,3)!=0?0:!$.h)}function Xt($,Z){if(4>$)return $+1;var yt=$-2>>1;return(2+(1&$)<<yt)+_t(Z,yt)+1}function be($,Z){return 120<Z?Z-120:1<=(yt=((yt=kc[Z-1])>>4)*$+(8-(15&yt)))?yt:1;var yt}function ze($,Z,yt){var Nt=kt(yt),Zt=$[Z+=255&Nt].g-8;return 0<Zt&&(Ut(yt,yt.u+8),Nt=kt(yt),Z+=$[Z].value,Z+=Nt&(1<<Zt)-1),Ut(yt,yt.u+$[Z].g),$[Z].value}function Lr($,Z,yt){return yt.g+=$.g,yt.value+=$.value<<Z>>>0,e(8>=yt.g),$.g}function vn($,Z,yt){var Nt=$.xc;return e((Z=Nt==0?0:$.vc[$.md*(yt>>Nt)+(Z>>Nt)])<$.Wb),$.Ya[Z]}function Vr($,Z,yt,Nt){var Zt=$.ab,ne=$.c*Z,ae=$.C;Z=ae+Z;var ue=yt,ge=Nt;for(Nt=$.Ta,yt=$.Ua;0<Zt--;){var Te=$.gc[Zt],Ce=ae,Nr=Z,Ae=ue,hr=ge,br=(ge=Nt,ue=yt,Te.Ea);switch(e(Ce<Nr),e(Nr<=Te.nc),Te.hc){case 2:_u(Ae,hr,(Nr-Ce)*br,ge,ue);break;case 0:var Xr=Ce,Er=Nr,wr=ge,Qr=ue,Sn=(ai=Te).Ea;Xr==0&&(pc(Ae,hr,null,null,1,wr,Qr),Or(Ae,hr+1,0,0,Sn-1,wr,Qr+1),hr+=Sn,Qr+=Sn,++Xr);for(var ln=1<<ai.b,ui=ln-1,ni=Ie(Sn,ai.b),Fi=ai.K,ai=ai.w+(Xr>>ai.b)*ni;Xr<Er;){var Ea=Fi,Jo=ai,$i=1;for(Al(Ae,hr,wr,Qr-Sn,1,wr,Qr);$i<Sn;){var ii=($i&~ui)+ln;ii>Sn&&(ii=Sn),(0,lr[Ea[Jo++]>>8&15])(Ae,hr+ +$i,wr,Qr+$i-Sn,ii-$i,wr,Qr+$i),$i=ii}hr+=Sn,Qr+=Sn,++Xr&ui||(ai+=ni)}Nr!=Te.nc&&n(ge,ue-br,ge,ue+(Nr-Ce-1)*br,br);break;case 1:for(br=Ae,Er=hr,Sn=(Ae=Te.Ea)-(Qr=Ae&~(wr=(hr=1<<Te.b)-1)),Xr=Ie(Ae,Te.b),ln=Te.K,Te=Te.w+(Ce>>Te.b)*Xr;Ce<Nr;){for(ui=ln,ni=Te,Fi=new Rr,ai=Er+Qr,Ea=Er+Ae;Er<ai;)Fr(ui[ni++],Fi),mr(Fi,br,Er,hr,ge,ue),Er+=hr,ue+=hr;Er<Ea&&(Fr(ui[ni++],Fi),mr(Fi,br,Er,Sn,ge,ue),Er+=Sn,ue+=Sn),++Ce&wr||(Te+=Xr)}break;case 3:if(Ae==ge&&hr==ue&&0<Te.b){for(Er=ge,Ae=br=ue+(Nr-Ce)*br-(Qr=(Nr-Ce)*Ie(Te.Ea,Te.b)),hr=ge,wr=ue,Xr=[],Qr=(Sn=Qr)-1;0<=Qr;--Qr)Xr[Qr]=hr[wr+Qr];for(Qr=Sn-1;0<=Qr;--Qr)Er[Ae+Qr]=Xr[Qr];Xu(Te,Ce,Nr,ge,br,ge,ue)}else Xu(Te,Ce,Nr,Ae,hr,ge,ue)}ue=Nt,ge=yt}ge!=yt&&n(Nt,yt,ue,ge,ne)}function fi($,Z){var yt=$.V,Nt=$.Ba+$.c*$.C,Zt=Z-$.C;if(e(Z<=$.l.o),e(16>=Zt),0<Zt){var ne=$.l,ae=$.Ta,ue=$.Ua,ge=ne.width;if(Vr($,Zt,yt,Nt),Zt=ue=[ue],e((yt=$.C)<(Nt=Z)),e(ne.v<ne.va),Nt>ne.o&&(Nt=ne.o),yt<ne.j){var Te=ne.j-yt;yt=ne.j,Zt[0]+=Te*ge}if(yt>=Nt?yt=0:(Zt[0]+=4*ne.v,ne.ka=yt-ne.j,ne.U=ne.va-ne.v,ne.T=Nt-yt,yt=1),yt){if(ue=ue[0],11>(yt=$.ca).S){var Ce=yt.f.RGBA,Nr=(Nt=yt.S,Zt=ne.U,ne=ne.T,Te=Ce.eb,Ce.A),Ae=ne;for(Ce=Ce.fb+$.Ma*Ce.A;0<Ae--;){var hr=ae,br=ue,Xr=Zt,Er=Te,wr=Ce;switch(Nt){case Wu:An(hr,br,Xr,Er,wr);break;case mi:Dn(hr,br,Xr,Er,wr);break;case Gf:Dn(hr,br,Xr,Er,wr),qi(Er,wr,0,Xr,1,0);break;case Xc:A(hr,br,Xr,Er,wr);break;case Xl:ye(hr,br,Xr,Er,wr,1);break;case Hf:ye(hr,br,Xr,Er,wr,1),qi(Er,wr,0,Xr,1,0);break;case lf:ye(hr,br,Xr,Er,wr,0);break;case Td:ye(hr,br,Xr,Er,wr,0),qi(Er,wr,1,Xr,1,0);break;case gh:Ni(hr,br,Xr,Er,wr);break;case Cd:Ni(hr,br,Xr,Er,wr),Va(Er,wr,Xr,1,0);break;case td:$n(hr,br,Xr,Er,wr);break;default:e(0)}ue+=ge,Ce+=Nr}$.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e($.Ma<=yt.height)}}$.C=Z,e($.C<=$.i)}function On($){var Z;if(0<$.ua)return 0;for(Z=0;Z<$.Wb;++Z){var yt=$.Ya[Z].G,Nt=$.Ya[Z].H;if(0<yt[1][Nt[1]+0].g||0<yt[2][Nt[2]+0].g||0<yt[3][Nt[3]+0].g)return 0}return 1}function li($,Z,yt,Nt,Zt,ne){if($.Z!=0){var ae=$.qd,ue=$.rd;for(e(yl[$.Z]!=null);Z<yt;++Z)yl[$.Z](ae,ue,Nt,Zt,Nt,Zt,ne),ae=Nt,ue=Zt,Zt+=ne;$.qd=ae,$.rd=ue}}function Ji($,Z){var yt=$.l.ma,Nt=yt.Z==0||yt.Z==1?$.l.j:$.C;if(Nt=$.C<Nt?Nt:$.C,e(Z<=$.l.o),Z>Nt){var Zt=$.l.width,ne=yt.ca,ae=yt.tb+Zt*Nt,ue=$.V,ge=$.Ba+$.c*Nt,Te=$.gc;e($.ab==1),e(Te[0].hc==3),xu(Te[0],Nt,Z,ue,ge,ne,ae),li(yt,Nt,Z,ne,ae,Zt)}$.C=$.Ma=Z}function en($,Z,yt,Nt,Zt,ne,ae){var ue=$.$/Nt,ge=$.$%Nt,Te=$.m,Ce=$.s,Nr=yt+$.$,Ae=Nr;Zt=yt+Nt*Zt;var hr=yt+Nt*ne,br=280+Ce.ua,Xr=$.Pb?ue:16777216,Er=0<Ce.ua?Ce.Wa:null,wr=Ce.wc,Qr=Nr<hr?vn(Ce,ge,ue):null;e($.C<ne),e(hr<=Zt);var Sn=!1;t:for(;;){for(;Sn||Nr<hr;){var ln=0;if(ue>=Xr){var ui=Nr-yt;e((Xr=$).Pb),Xr.wd=Xr.m,Xr.xd=ui,0<Xr.s.ua&&$r(Xr.s.Wa,Xr.s.vb),Xr=ue+wu}if(ge&wr||(Qr=vn(Ce,ge,ue)),e(Qr!=null),Qr.Qb&&(Z[Nr]=Qr.qb,Sn=!0),!Sn)if(ie(Te),Qr.jc){ln=Te,ui=Z;var ni=Nr,Fi=Qr.pd[kt(ln)&Es-1];e(Qr.jc),256>Fi.g?(Ut(ln,ln.u+Fi.g),ui[ni]=Fi.value,ln=0):(Ut(ln,ln.u+Fi.g-256),e(256<=Fi.value),ln=Fi.value),ln==0&&(Sn=!0)}else ln=ze(Qr.G[0],Qr.H[0],Te);if(Te.h)break;if(Sn||256>ln){if(!Sn)if(Qr.nd)Z[Nr]=(Qr.qb|ln<<8)>>>0;else{if(ie(Te),Sn=ze(Qr.G[1],Qr.H[1],Te),ie(Te),ui=ze(Qr.G[2],Qr.H[2],Te),ni=ze(Qr.G[3],Qr.H[3],Te),Te.h)break;Z[Nr]=(ni<<24|Sn<<16|ln<<8|ui)>>>0}if(Sn=!1,++Nr,++ge>=Nt&&(ge=0,++ue,ae!=null&&ue<=ne&&!(ue%16)&&ae($,ue),Er!=null))for(;Ae<Nr;)ln=Z[Ae++],Er.X[(506832829*ln&4294967295)>>>Er.Mb]=ln}else if(280>ln){if(ln=Xt(ln-256,Te),ui=ze(Qr.G[4],Qr.H[4],Te),ie(Te),ui=be(Nt,ui=Xt(ui,Te)),Te.h)break;if(Nr-yt<ui||Zt-Nr<ln)break t;for(ni=0;ni<ln;++ni)Z[Nr+ni]=Z[Nr+ni-ui];for(Nr+=ln,ge+=ln;ge>=Nt;)ge-=Nt,++ue,ae!=null&&ue<=ne&&!(ue%16)&&ae($,ue);if(e(Nr<=Zt),ge&wr&&(Qr=vn(Ce,ge,ue)),Er!=null)for(;Ae<Nr;)ln=Z[Ae++],Er.X[(506832829*ln&4294967295)>>>Er.Mb]=ln}else{if(!(ln<br))break t;for(Sn=ln-280,e(Er!=null);Ae<Nr;)ln=Z[Ae++],Er.X[(506832829*ln&4294967295)>>>Er.Mb]=ln;ln=Nr,e(!(Sn>>>(ui=Er).Xa)),Z[ln]=ui.X[Sn],Sn=!0}Sn||e(Te.h==Rt(Te))}if($.Pb&&Te.h&&Nr<Zt)e($.m.h),$.a=5,$.m=$.wd,$.$=$.xd,0<$.s.ua&&$r($.s.vb,$.s.Wa);else{if(Te.h)break t;ae?.($,ue>ne?ne:ue),$.a=0,$.$=Nr-yt}return 1}return $.a=3,0}function Rn($){e($!=null),$.vc=null,$.yc=null,$.Ya=null;var Z=$.Wa;Z!=null&&(Z.X=null),$.vb=null,e($!=null)}function Wn(){var $=new xa;return $==null?null:($.a=0,$.xb=yh,je("Predictor","VP8LPredictors"),je("Predictor","VP8LPredictors_C"),je("PredictorAdd","VP8LPredictorsAdd"),je("PredictorAdd","VP8LPredictorsAdd_C"),_u=er,mr=Ze,An=Me,Dn=Ft,Ni=Mt,$n=Bt,A=oe,it.VP8LMapColor32b=Ec,it.VP8LMapColor8b=Ts,$)}function Ra($,Z,yt,Nt,Zt){var ne=1,ae=[$],ue=[Z],ge=Nt.m,Te=Nt.s,Ce=null,Nr=0;t:for(;;){if(yt)for(;ne&&_t(ge,1);){var Ae=ae,hr=ue,br=Nt,Xr=1,Er=br.m,wr=br.gc[br.ab],Qr=_t(Er,2);if(br.Oc&1<<Qr)ne=0;else{switch(br.Oc|=1<<Qr,wr.hc=Qr,wr.Ea=Ae[0],wr.nc=hr[0],wr.K=[null],++br.ab,e(4>=br.ab),Qr){case 0:case 1:wr.b=_t(Er,3)+2,Xr=Ra(Ie(wr.Ea,wr.b),Ie(wr.nc,wr.b),0,br,wr.K),wr.K=wr.K[0];break;case 3:var Sn,ln=_t(Er,8)+1,ui=16<ln?0:4<ln?1:2<ln?2:3;if(Ae[0]=Ie(wr.Ea,ui),wr.b=ui,Sn=Xr=Ra(ln,1,0,br,wr.K)){var ni,Fi=ln,ai=wr,Ea=1<<(8>>ai.b),Jo=o(Ea);if(Jo==null)Sn=0;else{var $i=ai.K[0],ii=ai.w;for(Jo[0]=ai.K[0][0],ni=1;ni<1*Fi;++ni)Jo[ni]=Mr($i[ii+ni],Jo[ni-1]);for(;ni<4*Ea;++ni)Jo[ni]=0;ai.K[0]=null,ai.K[0]=Jo,Sn=1}}Xr=Sn;break;case 2:break;default:e(0)}ne=Xr}}if(ae=ae[0],ue=ue[0],ne&&_t(ge,1)&&!(ne=1<=(Nr=_t(ge,4))&&11>=Nr)){Nt.a=3;break t}var Pn;if(Pn=ne)e:{var yo,Gn,Gi,eo=Nt,ol=ae,Zl=ue,Vo=Nr,bl=yt,us=eo.m,Os=eo.s,yn=[null],kn=1,ts=0,Wa=mc[Vo];r:for(;;){if(bl&&_t(us,1)){var Ds=_t(us,3)+2,La=Ie(ol,Ds),Ya=Ie(Zl,Ds),Ma=La*Ya;if(!Ra(La,Ya,0,eo,yn))break r;for(yn=yn[0],Os.xc=Ds,yo=0;yo<Ma;++yo){var vo=yn[yo]>>8&65535;yn[yo]=vo,vo>=kn&&(kn=vo+1)}}if(us.h)break r;for(Gn=0;5>Gn;++Gn){var es=Yu[Gn];!Gn&&0<Vo&&(es+=1<<Vo),ts<es&&(ts=es)}var la=c(kn*Wa,dt),Di=kn,Ua=c(Di,wt);if(Ua==null)var Bs=null;else e(65536>=Di),Bs=Ua;var Ao=o(ts);if(Bs==null||Ao==null||la==null){eo.a=1;break r}var bi=la;for(yo=Gi=0;yo<kn;++yo){var _i=Bs[yo],Ta=_i.G,Ql=_i.H,lu=0,Jl=1,Qs=0;for(Gn=0;5>Gn;++Gn){es=Yu[Gn],Ta[Gn]=bi,Ql[Gn]=Gi,!Gn&&0<Vo&&(es+=1<<Vo);i:{var N,s=es,d=eo,_=Ao,E=bi,L=Gi,B=0,K=d.m,tt=_t(K,1);if(i(_,0,0,s),tt){var ht=_t(K,1)+1,bt=_t(K,1),It=_t(K,bt==0?1:8);_[It]=1,ht==2&&(_[It=_t(K,8)]=1);var Ct=1}else{var zt=o(19),Qt=_t(K,4)+4;if(19<Qt){d.a=3;var fe=0;break i}for(N=0;N<Qt;++N)zt[kd[N]]=_t(K,3);var pe=void 0,me=void 0,xe=d,Be=zt,Le=s,Ve=_,We=0,Ne=xe.m,tr=8,Ar=c(128,dt);n:for(;V(Ar,0,7,Be,19);){if(_t(Ne,1)){var xr=2+2*_t(Ne,3);if((pe=2+_t(Ne,xr))>Le)break n}else pe=Le;for(me=0;me<Le&&pe--;){ie(Ne);var Sr=Ar[0+(127&kt(Ne))];Ut(Ne,Ne.u+Sr.g);var kr=Sr.value;if(16>kr)Ve[me++]=kr,kr!=0&&(tr=kr);else{var Cn=kr==16,Tn=kr-16,on=Dh[Tn],Un=_t(Ne,Wc[Tn])+on;if(me+Un>Le)break n;for(var Hi=Cn?tr:0;0<Un--;)Ve[me++]=Hi}}We=1;break n}We||(xe.a=3),Ct=We}(Ct=Ct&&!K.h)&&(B=V(E,L,8,_,s)),Ct&&B!=0?fe=B:(d.a=3,fe=0)}if(fe==0)break r;if(Jl&&Ad[Gn]==1&&(Jl=bi[Gi].g==0),lu+=bi[Gi].g,Gi+=fe,3>=Gn){var Sa,Uo=Ao[0];for(Sa=1;Sa<es;++Sa)Ao[Sa]>Uo&&(Uo=Ao[Sa]);Qs+=Uo}}if(_i.nd=Jl,_i.Qb=0,Jl&&(_i.qb=(Ta[3][Ql[3]+0].value<<24|Ta[1][Ql[1]+0].value<<16|Ta[2][Ql[2]+0].value)>>>0,lu==0&&256>Ta[0][Ql[0]+0].value&&(_i.Qb=1,_i.qb+=Ta[0][Ql[0]+0].value<<8)),_i.jc=!_i.Qb&&6>Qs,_i.jc){var Ka,Za=_i;for(Ka=0;Ka<Es;++Ka){var Da=Ka,Pa=Za.pd[Da],lo=Za.G[0][Za.H[0]+Da];256<=lo.value?(Pa.g=lo.g+256,Pa.value=lo.value):(Pa.g=0,Pa.value=0,Da>>=Lr(lo,8,Pa),Da>>=Lr(Za.G[1][Za.H[1]+Da],16,Pa),Da>>=Lr(Za.G[2][Za.H[2]+Da],0,Pa),Lr(Za.G[3][Za.H[3]+Da],24,Pa))}}}Os.vc=yn,Os.Wb=kn,Os.Ya=Bs,Os.yc=la,Pn=1;break e}Pn=0}if(!(ne=Pn)){Nt.a=3;break t}if(0<Nr){if(Te.ua=1<<Nr,!Jt(Te.Wa,Nr)){Nt.a=1,ne=0;break t}}else Te.ua=0;var _l=Nt,fa=ae,Rl=ue,sl=_l.s,Eu=sl.xc;if(_l.c=fa,_l.i=Rl,sl.md=Ie(fa,Eu),sl.wc=Eu==0?-1:(1<<Eu)-1,yt){Nt.xb=go;break t}if((Ce=o(ae*ue))==null){Nt.a=1,ne=0;break t}ne=(ne=en(Nt,Ce,0,ae,ue,ue,null))&&!ge.h;break t}return ne?(Zt!=null?Zt[0]=Ce:(e(Ce==null),e(yt)),Nt.$=0,yt||Rn(Te)):Rn(Te),ne}function xo($,Z){var yt=$.c*$.i,Nt=yt+Z+16*Z;return e($.c<=Z),$.V=o(Nt),$.V==null?($.Ta=null,$.Ua=0,$.a=1,0):($.Ta=$.V,$.Ua=$.Ba+yt+Z,1)}function Na($,Z){var yt=$.C,Nt=Z-yt,Zt=$.V,ne=$.Ba+$.c*yt;for(e(Z<=$.l.o);0<Nt;){var ae=16<Nt?16:Nt,ue=$.l.ma,ge=$.l.width,Te=ge*ae,Ce=ue.ca,Nr=ue.tb+ge*yt,Ae=$.Ta,hr=$.Ua;Vr($,ae,Zt,ne),so(Ae,hr,Ce,Nr,Te),li(ue,yt,yt+ae,Ce,Nr,ge),Nt-=ae,Zt+=ae*$.c,yt+=ae}e(yt==Z),$.C=$.Ma=Z}function Mn(){this.ub=this.yd=this.td=this.Rb=0}function io(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rl(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function oa(){this.Yb=(function(){var $=[];return(function Z(yt,Nt,Zt){for(var ne=Zt[Nt],ae=0;ae<ne&&(yt.push(Zt.length>Nt+1?[]:0),!(Zt.length<Nt+1));ae++)Z(yt[ae],Nt+1,Zt)})($,0,[3,11]),$})()}function ha(){this.jb=o(3),this.Wc=a([4,8],oa),this.Xc=a([4,17],oa)}function uc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Vi(){this.ld=this.La=this.dd=this.tc=0}function nl(){this.Na=this.la=0}function Xo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vi),this.Y=0,this.ya=Array(new Pi),this.aa=0,this.l=new Do}function Fl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ks(){this.cb=this.a=0,this.sc="",this.m=new lt,this.Od=new Mn,this.Kc=new io,this.ed=new uc,this.Qa=new rl,this.Ic=this.$c=this.Aa=0,this.D=new xs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,lt),this.ia=0,this.pb=c(4,Xo),this.Pa=new ha,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fl),this.Hd=0,this.rb=Array(new nl),this.sb=0,this.wa=Array(new Vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pi),this.L=this.aa=0,this.gd=a([4,2],Vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Do(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jl(){var $=new Ks;return $!=null&&($.a=0,$.sc="OK",$.cb=0,$.Xb=0,gl||(gl=pl)),$}function Ha($,Z,yt){return $.a==0&&($.a=Z,$.sc=yt,$.cb=0),0}function fl($,Z,yt){return 3<=yt&&$[Z+0]==157&&$[Z+1]==1&&$[Z+2]==42}function Gu($,Z){if($==null)return 0;if($.a=0,$.sc="OK",Z==null)return Ha($,2,"null VP8Io passed to VP8GetHeaders()");var yt=Z.data,Nt=Z.w,Zt=Z.ha;if(4>Zt)return Ha($,7,"Truncated header.");var ne=yt[Nt+0]|yt[Nt+1]<<8|yt[Nt+2]<<16,ae=$.Od;if(ae.Rb=!(1&ne),ae.td=ne>>1&7,ae.yd=ne>>4&1,ae.ub=ne>>5,3<ae.td)return Ha($,3,"Incorrect keyframe parameters.");if(!ae.yd)return Ha($,4,"Frame not displayable.");Nt+=3,Zt-=3;var ue=$.Kc;if(ae.Rb){if(7>Zt)return Ha($,7,"cannot parse picture header");if(!fl(yt,Nt,Zt))return Ha($,3,"Bad code word");ue.c=16383&(yt[Nt+4]<<8|yt[Nt+3]),ue.Td=yt[Nt+4]>>6,ue.i=16383&(yt[Nt+6]<<8|yt[Nt+5]),ue.Ud=yt[Nt+6]>>6,Nt+=7,Zt-=7,$.za=ue.c+15>>4,$.Ub=ue.i+15>>4,Z.width=ue.c,Z.height=ue.i,Z.Da=0,Z.j=0,Z.v=0,Z.va=Z.width,Z.o=Z.height,Z.da=0,Z.ib=Z.width,Z.hb=Z.height,Z.U=Z.width,Z.T=Z.height,i((ne=$.Pa).jb,0,255,ne.jb.length),e((ne=$.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,i(ne.Zb,0,0,ne.Zb.length),i(ne.Lb,0,0,ne.Lb)}if(ae.ub>Zt)return Ha($,7,"bad partition length");pt(ne=$.m,yt,Nt,ae.ub),Nt+=ae.ub,Zt-=ae.ub,ae.Rb&&(ue.Ld=ce(ne),ue.Kd=ce(ne)),ue=$.Qa;var ge,Te=$.Pa;if(e(ne!=null),e(ue!=null),ue.Cb=ce(ne),ue.Cb){if(ue.Bb=ce(ne),ce(ne)){for(ue.Fb=ce(ne),ge=0;4>ge;++ge)ue.Zb[ge]=ce(ne)?St(ne,7):0;for(ge=0;4>ge;++ge)ue.Lb[ge]=ce(ne)?St(ne,6):0}if(ue.Bb)for(ge=0;3>ge;++ge)Te.jb[ge]=ce(ne)?At(ne,8):255}else ue.Bb=0;if(ne.Ka)return Ha($,3,"cannot parse segment header");if((ue=$.ed).zd=ce(ne),ue.Tb=At(ne,6),ue.wb=At(ne,3),ue.Pc=ce(ne),ue.Pc&&ce(ne)){for(Te=0;4>Te;++Te)ce(ne)&&(ue.vd[Te]=St(ne,6));for(Te=0;4>Te;++Te)ce(ne)&&(ue.od[Te]=St(ne,6))}if($.L=ue.Tb==0?0:ue.zd?1:2,ne.Ka)return Ha($,3,"cannot parse filter header");var Ce=Zt;if(Zt=ge=Nt,Nt=ge+Ce,ue=Ce,$.Xb=(1<<At($.m,2))-1,Ce<3*(Te=$.Xb))yt=7;else{for(ge+=3*Te,ue-=3*Te,Ce=0;Ce<Te;++Ce){var Nr=yt[Zt+0]|yt[Zt+1]<<8|yt[Zt+2]<<16;Nr>ue&&(Nr=ue),pt($.Jc[+Ce],yt,ge,Nr),ge+=Nr,ue-=Nr,Zt+=3}pt($.Jc[+Te],yt,ge,ue),yt=ge<Nt?0:5}if(yt!=0)return Ha($,yt,"cannot parse partitions");for(yt=At(ge=$.m,7),Zt=ce(ge)?St(ge,4):0,Nt=ce(ge)?St(ge,4):0,ue=ce(ge)?St(ge,4):0,Te=ce(ge)?St(ge,4):0,ge=ce(ge)?St(ge,4):0,Ce=$.Qa,Nr=0;4>Nr;++Nr){if(Ce.Cb){var Ae=Ce.Zb[Nr];Ce.Fb||(Ae+=yt)}else{if(0<Nr){$.pb[Nr]=$.pb[0];continue}Ae=yt}var hr=$.pb[Nr];hr.Sc[0]=Ic[ws(Ae+Zt,127)],hr.Sc[1]=au[ws(Ae+0,127)],hr.Eb[0]=2*Ic[ws(Ae+Nt,127)],hr.Eb[1]=101581*au[ws(Ae+ue,127)]>>16,8>hr.Eb[1]&&(hr.Eb[1]=8),hr.Qc[0]=Ic[ws(Ae+Te,117)],hr.Qc[1]=au[ws(Ae+ge,127)],hr.lc=Ae+ge}if(!ae.Rb)return Ha($,4,"Not a key frame.");for(ce(ne),ae=$.Pa,yt=0;4>yt;++yt){for(Zt=0;8>Zt;++Zt)for(Nt=0;3>Nt;++Nt)for(ue=0;11>ue;++ue)Te=de(ne,Qo[yt][Zt][Nt][ue])?At(ne,8):Pp[yt][Zt][Nt][ue],ae.Wc[yt][Zt].Yb[Nt][ue]=Te;for(Zt=0;17>Zt;++Zt)ae.Xc[yt][Zt]=ae.Wc[yt][wa[Zt]]}return $.kc=ce(ne),$.kc&&($.Bd=At(ne,8)),$.cb=1}function pl($,Z,yt,Nt,Zt,ne,ae){var ue=Z[Zt].Yb[yt];for(yt=0;16>Zt;++Zt){if(!de($,ue[yt+0]))return Zt;for(;!de($,ue[yt+1]);)if(ue=Z[++Zt].Yb[0],yt=0,Zt==16)return 16;var ge=Z[Zt+1].Yb;if(de($,ue[yt+2])){var Te=$,Ce=0;if(de(Te,(Ae=ue)[(Nr=yt)+3]))if(de(Te,Ae[Nr+6])){for(ue=0,Nr=2*(Ce=de(Te,Ae[Nr+8]))+(Ae=de(Te,Ae[Nr+9+Ce])),Ce=0,Ae=Bg[Nr];Ae[ue];++ue)Ce+=Ce+de(Te,Ae[ue]);Ce+=3+(8<<Nr)}else de(Te,Ae[Nr+7])?(Ce=7+2*de(Te,165),Ce+=de(Te,145)):Ce=5+de(Te,159);else Ce=de(Te,Ae[Nr+4])?3+de(Te,Ae[Nr+5]):2;ue=ge[2]}else Ce=1,ue=ge[1];ge=ae+Mp[Zt],0>(Te=$).b&&Ht(Te);var Nr,Ae=Te.b,hr=(Nr=Te.Ca>>1)-(Te.I>>Ae)>>31;--Te.b,Te.Ca+=hr,Te.Ca|=1,Te.I-=(Nr+1&hr)<<Ae,ne[ge]=((Ce^hr)-hr)*Nt[(0<Zt)+0]}return 16}function El($){var Z=$.rb[$.sb-1];Z.la=0,Z.Na=0,i($.zc,0,0,$.zc.length),$.ja=0}function Wo($,Z,yt,Nt,Zt){Zt=$[Z+yt+32*Nt]+(Zt>>3),$[Z+yt+32*Nt]=-256&Zt?0>Zt?0:255:Zt}function Yo($,Z,yt,Nt,Zt,ne){Wo($,Z,0,yt,Nt+Zt),Wo($,Z,1,yt,Nt+ne),Wo($,Z,2,yt,Nt-ne),Wo($,Z,3,yt,Nt-Zt)}function Ko($){return(20091*$>>16)+$}function Zo($,Z,yt,Nt){var Zt,ne=0,ae=o(16);for(Zt=0;4>Zt;++Zt){var ue=$[Z+0]+$[Z+8],ge=$[Z+0]-$[Z+8],Te=(35468*$[Z+4]>>16)-Ko($[Z+12]),Ce=Ko($[Z+4])+(35468*$[Z+12]>>16);ae[ne+0]=ue+Ce,ae[ne+1]=ge+Te,ae[ne+2]=ge-Te,ae[ne+3]=ue-Ce,ne+=4,Z++}for(Zt=ne=0;4>Zt;++Zt)ue=($=ae[ne+0]+4)+ae[ne+8],ge=$-ae[ne+8],Te=(35468*ae[ne+4]>>16)-Ko(ae[ne+12]),Wo(yt,Nt,0,0,ue+(Ce=Ko(ae[ne+4])+(35468*ae[ne+12]>>16))),Wo(yt,Nt,1,0,ge+Te),Wo(yt,Nt,2,0,ge-Te),Wo(yt,Nt,3,0,ue-Ce),ne++,Nt+=32}function iu($,Z,yt,Nt){var Zt=$[Z+0]+4,ne=35468*$[Z+4]>>16,ae=Ko($[Z+4]),ue=35468*$[Z+1]>>16;Yo(yt,Nt,0,Zt+ae,$=Ko($[Z+1]),ue),Yo(yt,Nt,1,Zt+ne,$,ue),Yo(yt,Nt,2,Zt-ne,$,ue),Yo(yt,Nt,3,Zt-ae,$,ue)}function yu($,Z,yt,Nt,Zt){Zo($,Z,yt,Nt),Zt&&Zo($,Z+16,yt,Nt+4)}function Q($,Z,yt,Nt){y($,Z+0,yt,Nt,1),y($,Z+32,yt,Nt+128,1)}function gt($,Z,yt,Nt){var Zt;for($=$[Z+0]+4,Zt=0;4>Zt;++Zt)for(Z=0;4>Z;++Z)Wo(yt,Nt,Z,Zt,$)}function ee($,Z,yt,Nt){$[Z+0]&&nt($,Z+0,yt,Nt),$[Z+16]&&nt($,Z+16,yt,Nt+4),$[Z+32]&&nt($,Z+32,yt,Nt+128),$[Z+48]&&nt($,Z+48,yt,Nt+128+4)}function Re($,Z,yt,Nt){var Zt,ne=o(16);for(Zt=0;4>Zt;++Zt){var ae=$[Z+0+Zt]+$[Z+12+Zt],ue=$[Z+4+Zt]+$[Z+8+Zt],ge=$[Z+4+Zt]-$[Z+8+Zt],Te=$[Z+0+Zt]-$[Z+12+Zt];ne[0+Zt]=ae+ue,ne[8+Zt]=ae-ue,ne[4+Zt]=Te+ge,ne[12+Zt]=Te-ge}for(Zt=0;4>Zt;++Zt)ae=($=ne[0+4*Zt]+3)+ne[3+4*Zt],ue=ne[1+4*Zt]+ne[2+4*Zt],ge=ne[1+4*Zt]-ne[2+4*Zt],Te=$-ne[3+4*Zt],yt[Nt+0]=ae+ue>>3,yt[Nt+16]=Te+ge>>3,yt[Nt+32]=ae-ue>>3,yt[Nt+48]=Te-ge>>3,Nt+=64}function qe($,Z,yt){var Nt,Zt=Z-32,ne=Co,ae=255-$[Zt-1];for(Nt=0;Nt<yt;++Nt){var ue,ge=ne,Te=ae+$[Z-1];for(ue=0;ue<yt;++ue)$[Z+ue]=ge[Te+$[Zt+ue]];Z+=32}}function Fe($,Z){qe($,Z,4)}function nr($,Z){qe($,Z,8)}function rn($,Z){qe($,Z,16)}function mn($,Z){var yt;for(yt=0;16>yt;++yt)n($,Z+32*yt,$,Z-32,16)}function un($,Z){var yt;for(yt=16;0<yt;--yt)i($,Z,$[Z-1],16),Z+=32}function En($,Z,yt){var Nt;for(Nt=0;16>Nt;++Nt)i(Z,yt+32*Nt,$,16)}function fn($,Z){var yt,Nt=16;for(yt=0;16>yt;++yt)Nt+=$[Z-1+32*yt]+$[Z+yt-32];En(Nt>>5,$,Z)}function Yn($,Z){var yt,Nt=8;for(yt=0;16>yt;++yt)Nt+=$[Z-1+32*yt];En(Nt>>4,$,Z)}function Nn($,Z){var yt,Nt=8;for(yt=0;16>yt;++yt)Nt+=$[Z+yt-32];En(Nt>>4,$,Z)}function ti($,Z){En(128,$,Z)}function jn($,Z,yt){return $+2*Z+yt+2>>2}function Zr($,Z){var yt,Nt=Z-32;for(Nt=new Uint8Array([jn($[Nt-1],$[Nt+0],$[Nt+1]),jn($[Nt+0],$[Nt+1],$[Nt+2]),jn($[Nt+1],$[Nt+2],$[Nt+3]),jn($[Nt+2],$[Nt+3],$[Nt+4])]),yt=0;4>yt;++yt)n($,Z+32*yt,Nt,0,Nt.length)}function Ln($,Z){var yt=$[Z-1],Nt=$[Z-1+32],Zt=$[Z-1+64],ne=$[Z-1+96];Se($,Z+0,16843009*jn($[Z-1-32],yt,Nt)),Se($,Z+32,16843009*jn(yt,Nt,Zt)),Se($,Z+64,16843009*jn(Nt,Zt,ne)),Se($,Z+96,16843009*jn(Zt,ne,ne))}function yi($,Z){var yt,Nt=4;for(yt=0;4>yt;++yt)Nt+=$[Z+yt-32]+$[Z-1+32*yt];for(Nt>>=3,yt=0;4>yt;++yt)i($,Z+32*yt,Nt,4)}function sa($,Z){var yt=$[Z-1+0],Nt=$[Z-1+32],Zt=$[Z-1+64],ne=$[Z-1-32],ae=$[Z+0-32],ue=$[Z+1-32],ge=$[Z+2-32],Te=$[Z+3-32];$[Z+0+96]=jn(Nt,Zt,$[Z-1+96]),$[Z+1+96]=$[Z+0+64]=jn(yt,Nt,Zt),$[Z+2+96]=$[Z+1+64]=$[Z+0+32]=jn(ne,yt,Nt),$[Z+3+96]=$[Z+2+64]=$[Z+1+32]=$[Z+0+0]=jn(ae,ne,yt),$[Z+3+64]=$[Z+2+32]=$[Z+1+0]=jn(ue,ae,ne),$[Z+3+32]=$[Z+2+0]=jn(ge,ue,ae),$[Z+3+0]=jn(Te,ge,ue)}function Ii($,Z){var yt=$[Z+1-32],Nt=$[Z+2-32],Zt=$[Z+3-32],ne=$[Z+4-32],ae=$[Z+5-32],ue=$[Z+6-32],ge=$[Z+7-32];$[Z+0+0]=jn($[Z+0-32],yt,Nt),$[Z+1+0]=$[Z+0+32]=jn(yt,Nt,Zt),$[Z+2+0]=$[Z+1+32]=$[Z+0+64]=jn(Nt,Zt,ne),$[Z+3+0]=$[Z+2+32]=$[Z+1+64]=$[Z+0+96]=jn(Zt,ne,ae),$[Z+3+32]=$[Z+2+64]=$[Z+1+96]=jn(ne,ae,ue),$[Z+3+64]=$[Z+2+96]=jn(ae,ue,ge),$[Z+3+96]=jn(ue,ge,ge)}function zi($,Z){var yt=$[Z-1+0],Nt=$[Z-1+32],Zt=$[Z-1+64],ne=$[Z-1-32],ae=$[Z+0-32],ue=$[Z+1-32],ge=$[Z+2-32],Te=$[Z+3-32];$[Z+0+0]=$[Z+1+64]=ne+ae+1>>1,$[Z+1+0]=$[Z+2+64]=ae+ue+1>>1,$[Z+2+0]=$[Z+3+64]=ue+ge+1>>1,$[Z+3+0]=ge+Te+1>>1,$[Z+0+96]=jn(Zt,Nt,yt),$[Z+0+64]=jn(Nt,yt,ne),$[Z+0+32]=$[Z+1+96]=jn(yt,ne,ae),$[Z+1+32]=$[Z+2+96]=jn(ne,ae,ue),$[Z+2+32]=$[Z+3+96]=jn(ae,ue,ge),$[Z+3+32]=jn(ue,ge,Te)}function da($,Z){var yt=$[Z+0-32],Nt=$[Z+1-32],Zt=$[Z+2-32],ne=$[Z+3-32],ae=$[Z+4-32],ue=$[Z+5-32],ge=$[Z+6-32],Te=$[Z+7-32];$[Z+0+0]=yt+Nt+1>>1,$[Z+1+0]=$[Z+0+64]=Nt+Zt+1>>1,$[Z+2+0]=$[Z+1+64]=Zt+ne+1>>1,$[Z+3+0]=$[Z+2+64]=ne+ae+1>>1,$[Z+0+32]=jn(yt,Nt,Zt),$[Z+1+32]=$[Z+0+96]=jn(Nt,Zt,ne),$[Z+2+32]=$[Z+1+96]=jn(Zt,ne,ae),$[Z+3+32]=$[Z+2+96]=jn(ne,ae,ue),$[Z+3+64]=jn(ae,ue,ge),$[Z+3+96]=jn(ue,ge,Te)}function Bn($,Z){var yt=$[Z-1+0],Nt=$[Z-1+32],Zt=$[Z-1+64],ne=$[Z-1+96];$[Z+0+0]=yt+Nt+1>>1,$[Z+2+0]=$[Z+0+32]=Nt+Zt+1>>1,$[Z+2+32]=$[Z+0+64]=Zt+ne+1>>1,$[Z+1+0]=jn(yt,Nt,Zt),$[Z+3+0]=$[Z+1+32]=jn(Nt,Zt,ne),$[Z+3+32]=$[Z+1+64]=jn(Zt,ne,ne),$[Z+3+64]=$[Z+2+64]=$[Z+0+96]=$[Z+1+96]=$[Z+2+96]=$[Z+3+96]=ne}function Xa($,Z){var yt=$[Z-1+0],Nt=$[Z-1+32],Zt=$[Z-1+64],ne=$[Z-1+96],ae=$[Z-1-32],ue=$[Z+0-32],ge=$[Z+1-32],Te=$[Z+2-32];$[Z+0+0]=$[Z+2+32]=yt+ae+1>>1,$[Z+0+32]=$[Z+2+64]=Nt+yt+1>>1,$[Z+0+64]=$[Z+2+96]=Zt+Nt+1>>1,$[Z+0+96]=ne+Zt+1>>1,$[Z+3+0]=jn(ue,ge,Te),$[Z+2+0]=jn(ae,ue,ge),$[Z+1+0]=$[Z+3+32]=jn(yt,ae,ue),$[Z+1+32]=$[Z+3+64]=jn(Nt,yt,ae),$[Z+1+64]=$[Z+3+96]=jn(Zt,Nt,yt),$[Z+1+96]=jn(ne,Zt,Nt)}function pi($,Z){var yt;for(yt=0;8>yt;++yt)n($,Z+32*yt,$,Z-32,8)}function ei($,Z){var yt;for(yt=0;8>yt;++yt)i($,Z,$[Z-1],8),Z+=32}function Tl($,Z,yt){var Nt;for(Nt=0;8>Nt;++Nt)i(Z,yt+32*Nt,$,8)}function zn($,Z){var yt,Nt=8;for(yt=0;8>yt;++yt)Nt+=$[Z+yt-32]+$[Z-1+32*yt];Tl(Nt>>4,$,Z)}function $l($,Z){var yt,Nt=4;for(yt=0;8>yt;++yt)Nt+=$[Z+yt-32];Tl(Nt>>3,$,Z)}function No($,Z){var yt,Nt=4;for(yt=0;8>yt;++yt)Nt+=$[Z-1+32*yt];Tl(Nt>>3,$,Z)}function wo($,Z){Tl(128,$,Z)}function po($,Z,yt){var Nt=$[Z-yt],Zt=$[Z+0],ne=3*(Zt-Nt)+Ac[1020+$[Z-2*yt]-$[Z+yt]],ae=Il[112+(ne+4>>3)];$[Z-yt]=Co[255+Nt+Il[112+(ne+3>>3)]],$[Z+0]=Co[255+Zt-ae]}function _c($,Z,yt,Nt){var Zt=$[Z+0],ne=$[Z+yt];return Cs[255+$[Z-2*yt]-$[Z-yt]]>Nt||Cs[255+ne-Zt]>Nt}function Ms($,Z,yt,Nt){return 4*Cs[255+$[Z-yt]-$[Z+0]]+Cs[255+$[Z-2*yt]-$[Z+yt]]<=Nt}function Cl($,Z,yt,Nt,Zt){var ne=$[Z-3*yt],ae=$[Z-2*yt],ue=$[Z-yt],ge=$[Z+0],Te=$[Z+yt],Ce=$[Z+2*yt],Nr=$[Z+3*yt];return 4*Cs[255+ue-ge]+Cs[255+ae-Te]>Nt?0:Cs[255+$[Z-4*yt]-ne]<=Zt&&Cs[255+ne-ae]<=Zt&&Cs[255+ae-ue]<=Zt&&Cs[255+Nr-Ce]<=Zt&&Cs[255+Ce-Te]<=Zt&&Cs[255+Te-ge]<=Zt}function xc($,Z,yt,Nt){var Zt=2*Nt+1;for(Nt=0;16>Nt;++Nt)Ms($,Z+Nt,yt,Zt)&&po($,Z+Nt,yt)}function Vl($,Z,yt,Nt){var Zt=2*Nt+1;for(Nt=0;16>Nt;++Nt)Ms($,Z+Nt*yt,1,Zt)&&po($,Z+Nt*yt,1)}function So($,Z,yt,Nt){var Zt;for(Zt=3;0<Zt;--Zt)xc($,Z+=4*yt,yt,Nt)}function Bo($,Z,yt,Nt){var Zt;for(Zt=3;0<Zt;--Zt)Vl($,Z+=4,yt,Nt)}function Ba($,Z,yt,Nt,Zt,ne,ae,ue){for(ne=2*ne+1;0<Zt--;){if(Cl($,Z,yt,ne,ae))if(_c($,Z,yt,ue))po($,Z,yt);else{var ge=$,Te=Z,Ce=yt,Nr=ge[Te-2*Ce],Ae=ge[Te-Ce],hr=ge[Te+0],br=ge[Te+Ce],Xr=ge[Te+2*Ce],Er=27*(Qr=Ac[1020+3*(hr-Ae)+Ac[1020+Nr-br]])+63>>7,wr=18*Qr+63>>7,Qr=9*Qr+63>>7;ge[Te-3*Ce]=Co[255+ge[Te-3*Ce]+Qr],ge[Te-2*Ce]=Co[255+Nr+wr],ge[Te-Ce]=Co[255+Ae+Er],ge[Te+0]=Co[255+hr-Er],ge[Te+Ce]=Co[255+br-wr],ge[Te+2*Ce]=Co[255+Xr-Qr]}Z+=Nt}}function zo($,Z,yt,Nt,Zt,ne,ae,ue){for(ne=2*ne+1;0<Zt--;){if(Cl($,Z,yt,ne,ae))if(_c($,Z,yt,ue))po($,Z,yt);else{var ge=$,Te=Z,Ce=yt,Nr=ge[Te-Ce],Ae=ge[Te+0],hr=ge[Te+Ce],br=Il[112+(4+(Xr=3*(Ae-Nr))>>3)],Xr=Il[112+(Xr+3>>3)],Er=br+1>>1;ge[Te-2*Ce]=Co[255+ge[Te-2*Ce]+Er],ge[Te-Ce]=Co[255+Nr+Xr],ge[Te+0]=Co[255+Ae-br],ge[Te+Ce]=Co[255+hr-Er]}Z+=Nt}}function ct($,Z,yt,Nt,Zt,ne){Ba($,Z,yt,1,16,Nt,Zt,ne)}function Kt($,Z,yt,Nt,Zt,ne){Ba($,Z,1,yt,16,Nt,Zt,ne)}function ve($,Z,yt,Nt,Zt,ne){var ae;for(ae=3;0<ae;--ae)zo($,Z+=4*yt,yt,1,16,Nt,Zt,ne)}function Xe($,Z,yt,Nt,Zt,ne){var ae;for(ae=3;0<ae;--ae)zo($,Z+=4,1,yt,16,Nt,Zt,ne)}function pr($,Z,yt,Nt,Zt,ne,ae,ue){Ba($,Z,Zt,1,8,ne,ae,ue),Ba(yt,Nt,Zt,1,8,ne,ae,ue)}function Yr($,Z,yt,Nt,Zt,ne,ae,ue){Ba($,Z,1,Zt,8,ne,ae,ue),Ba(yt,Nt,1,Zt,8,ne,ae,ue)}function gn($,Z,yt,Nt,Zt,ne,ae,ue){zo($,Z+4*Zt,Zt,1,8,ne,ae,ue),zo(yt,Nt+4*Zt,Zt,1,8,ne,ae,ue)}function Vn($,Z,yt,Nt,Zt,ne,ae,ue){zo($,Z+4,1,Zt,8,ne,ae,ue),zo(yt,Nt+4,1,Zt,8,ne,ae,ue)}function ri(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ti(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ji(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wi(){this.ua=0,this.Wa=new vr,this.vb=new vr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new wt,this.yc=new dt}function xa(){this.xb=this.a=0,this.l=new Do,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Tt,this.Pb=0,this.wd=new Tt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wi,this.ab=0,this.gc=c(4,ji),this.Oc=0}function Oi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Do,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ui($,Z,yt,Nt,Zt,ne,ae){for($=$==null?0:$[Z+0],Z=0;Z<ae;++Z)Zt[ne+Z]=$+yt[Nt+Z]&255,$=Zt[ne+Z]}function Lo($,Z,yt,Nt,Zt,ne,ae){var ue;if($==null)Ui(null,null,yt,Nt,Zt,ne,ae);else for(ue=0;ue<ae;++ue)Zt[ne+ue]=$[Z+ue]+yt[Nt+ue]&255}function Ja($,Z,yt,Nt,Zt,ne,ae){if($==null)Ui(null,null,yt,Nt,Zt,ne,ae);else{var ue,ge=$[Z+0],Te=ge,Ce=ge;for(ue=0;ue<ae;++ue)Te=Ce+(ge=$[Z+ue])-Te,Ce=yt[Nt+ue]+(-256&Te?0>Te?0:255:Te)&255,Te=ge,Zt[ne+ue]=Ce}}function ao($,Z,yt,Nt){var Zt=Z.width,ne=Z.o;if(e($!=null&&Z!=null),0>yt||0>=Nt||yt+Nt>ne)return null;if(!$.Cc){if($.ga==null){var ae;if($.ga=new Oi,(ae=$.ga==null)||(ae=Z.width*Z.o,e($.Gb.length==0),$.Gb=o(ae),$.Uc=0,$.Gb==null?ae=0:($.mb=$.Gb,$.nb=$.Uc,$.rc=null,ae=1),ae=!ae),!ae){ae=$.ga;var ue=$.Fa,ge=$.P,Te=$.qc,Ce=$.mb,Nr=$.nb,Ae=ge+1,hr=Te-1,br=ae.l;if(e(ue!=null&&Ce!=null&&Z!=null),yl[0]=null,yl[1]=Ui,yl[2]=Lo,yl[3]=Ja,ae.ca=Ce,ae.tb=Nr,ae.c=Z.width,ae.i=Z.height,e(0<ae.c&&0<ae.i),1>=Te)Z=0;else if(ae.$a=3&ue[ge+0],ae.Z=ue[ge+0]>>2&3,ae.Lc=ue[ge+0]>>4&3,ge=ue[ge+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ge)Z=0;else if(br.put=Kr,br.ac=bn,br.bc=Zn,br.ma=ae,br.width=Z.width,br.height=Z.height,br.Da=Z.Da,br.v=Z.v,br.va=Z.va,br.j=Z.j,br.o=Z.o,ae.$a)t:{e(ae.$a==1),Z=Wn();e:for(;;){if(Z==null){Z=0;break t}if(e(ae!=null),ae.mc=Z,Z.c=ae.c,Z.i=ae.i,Z.l=ae.l,Z.l.ma=ae,Z.l.width=ae.c,Z.l.height=ae.i,Z.a=0,Lt(Z.m,ue,Ae,hr),!Ra(ae.c,ae.i,1,Z,null)||(Z.ab==1&&Z.gc[0].hc==3&&On(Z.s)?(ae.ic=1,ue=Z.c*Z.i,Z.Ta=null,Z.Ua=0,Z.V=o(ue),Z.Ba=0,Z.V==null?(Z.a=1,Z=0):Z=1):(ae.ic=0,Z=xo(Z,ae.c)),!Z))break e;Z=1;break t}ae.mc=null,Z=0}else Z=hr>=ae.c*ae.i;ae=!Z}if(ae)return null;$.ga.Lc!=1?$.Ga=0:Nt=ne-yt}e($.ga!=null),e(yt+Nt<=ne);t:{if(Z=(ue=$.ga).c,ne=ue.l.o,ue.$a==0){if(Ae=$.rc,hr=$.Vc,br=$.Fa,ge=$.P+1+yt*Z,Te=$.mb,Ce=$.nb+yt*Z,e(ge<=$.P+$.qc),ue.Z!=0)for(e(yl[ue.Z]!=null),ae=0;ae<Nt;++ae)yl[ue.Z](Ae,hr,br,ge,Te,Ce,Z),Ae=Te,hr=Ce,Ce+=Z,ge+=Z;else for(ae=0;ae<Nt;++ae)n(Te,Ce,br,ge,Z),Ae=Te,hr=Ce,Ce+=Z,ge+=Z;$.rc=Ae,$.Vc=hr}else{if(e(ue.mc!=null),Z=yt+Nt,e((ae=ue.mc)!=null),e(Z<=ae.i),ae.C>=Z)Z=1;else if(ue.ic||Ru(),ue.ic){ue=ae.V,Ae=ae.Ba,hr=ae.c;var Xr=ae.i,Er=(br=1,ge=ae.$/hr,Te=ae.$%hr,Ce=ae.m,Nr=ae.s,ae.$),wr=hr*Xr,Qr=hr*Z,Sn=Nr.wc,ln=Er<Qr?vn(Nr,Te,ge):null;e(Er<=wr),e(Z<=Xr),e(On(Nr));e:for(;;){for(;!Ce.h&&Er<Qr;){if(Te&Sn||(ln=vn(Nr,Te,ge)),e(ln!=null),ie(Ce),256>(Xr=ze(ln.G[0],ln.H[0],Ce)))ue[Ae+Er]=Xr,++Er,++Te>=hr&&(Te=0,++ge<=Z&&!(ge%16)&&Ji(ae,ge));else{if(!(280>Xr)){br=0;break e}Xr=Xt(Xr-256,Ce);var ui,ni=ze(ln.G[4],ln.H[4],Ce);if(ie(Ce),!(Er>=(ni=be(hr,ni=Xt(ni,Ce)))&&wr-Er>=Xr)){br=0;break e}for(ui=0;ui<Xr;++ui)ue[Ae+Er+ui]=ue[Ae+Er+ui-ni];for(Er+=Xr,Te+=Xr;Te>=hr;)Te-=hr,++ge<=Z&&!(ge%16)&&Ji(ae,ge);Er<Qr&&Te&Sn&&(ln=vn(Nr,Te,ge))}e(Ce.h==Rt(Ce))}Ji(ae,ge>Z?Z:ge);break e}!br||Ce.h&&Er<wr?(br=0,ae.a=Ce.h?5:3):ae.$=Er,Z=br}else Z=en(ae,ae.V,ae.Ba,ae.c,ae.i,Z,Na);if(!Z){Nt=0;break t}}yt+Nt>=ne&&($.Cc=1),Nt=1}if(!Nt)return null;if($.Cc&&((Nt=$.ga)!=null&&(Nt.mc=null),$.ga=null,0<$.Ga))return alert("todo:WebPDequantizeLevels"),null}return $.nb+yt*Zt}function Ul($,Z,yt,Nt,Zt,ne){for(;0<Zt--;){var ae,ue=$,ge=Z+(yt?1:0),Te=$,Ce=Z+(yt?0:3);for(ae=0;ae<Nt;++ae){var Nr=Te[Ce+4*ae];Nr!=255&&(Nr*=32897,ue[ge+4*ae+0]=ue[ge+4*ae+0]*Nr>>23,ue[ge+4*ae+1]=ue[ge+4*ae+1]*Nr>>23,ue[ge+4*ae+2]=ue[ge+4*ae+2]*Nr>>23)}Z+=ne}}function wc($,Z,yt,Nt,Zt){for(;0<Nt--;){var ne;for(ne=0;ne<yt;++ne){var ae=$[Z+2*ne+0],ue=15&(Te=$[Z+2*ne+1]),ge=4369*ue,Te=(240&Te|Te>>4)*ge>>16;$[Z+2*ne+0]=(240&ae|ae>>4)*ge>>16&240|(15&ae|ae<<4)*ge>>16>>4&15,$[Z+2*ne+1]=240&Te|ue}Z+=Zt}}function Iu($,Z,yt,Nt,Zt,ne,ae,ue){var ge,Te,Ce=255;for(Te=0;Te<Zt;++Te){for(ge=0;ge<Nt;++ge){var Nr=$[Z+ge];ne[ae+4*ge]=Nr,Ce&=Nr}Z+=yt,ae+=ue}return Ce!=255}function ql($,Z,yt,Nt,Zt){var ne;for(ne=0;ne<Zt;++ne)yt[Nt+ne]=$[Z+ne]>>8}function Ru(){qi=Ul,Va=wc,$o=Iu,so=ql}function mo($,Z,yt){it[$]=function(Nt,Zt,ne,ae,ue,ge,Te,Ce,Nr,Ae,hr,br,Xr,Er,wr,Qr,Sn){var ln,ui=Sn-1>>1,ni=ue[ge+0]|Te[Ce+0]<<16,Fi=Nr[Ae+0]|hr[br+0]<<16;e(Nt!=null);var ai=3*ni+Fi+131074>>2;for(Z(Nt[Zt+0],255&ai,ai>>16,Xr,Er),ne!=null&&(ai=3*Fi+ni+131074>>2,Z(ne[ae+0],255&ai,ai>>16,wr,Qr)),ln=1;ln<=ui;++ln){var Ea=ue[ge+ln]|Te[Ce+ln]<<16,Jo=Nr[Ae+ln]|hr[br+ln]<<16,$i=ni+Ea+Fi+Jo+524296,ii=$i+2*(Ea+Fi)>>3;ai=ii+ni>>1,ni=($i=$i+2*(ni+Jo)>>3)+Ea>>1,Z(Nt[Zt+2*ln-1],255&ai,ai>>16,Xr,Er+(2*ln-1)*yt),Z(Nt[Zt+2*ln-0],255&ni,ni>>16,Xr,Er+(2*ln-0)*yt),ne!=null&&(ai=$i+Fi>>1,ni=ii+Jo>>1,Z(ne[ae+2*ln-1],255&ai,ai>>16,wr,Qr+(2*ln-1)*yt),Z(ne[ae+2*ln+0],255&ni,ni>>16,wr,Qr+(2*ln+0)*yt)),ni=Ea,Fi=Jo}1&Sn||(ai=3*ni+Fi+131074>>2,Z(Nt[Zt+Sn-1],255&ai,ai>>16,Xr,Er+(Sn-1)*yt),ne!=null&&(ai=3*Fi+ni+131074>>2,Z(ne[ae+Sn-1],255&ai,ai>>16,wr,Qr+(Sn-1)*yt)))}}function Sc(){vl[Wu]=Ku,vl[mi]=Zu,vl[Xc]=ed,vl[Xl]=cf,vl[lf]=Lu,vl[gh]=Mu,vl[td]=Bh,vl[Gf]=Zu,vl[Hf]=cf,vl[Td]=Lu,vl[Cd]=Mu}function vu($){return $&-16384?0>$?0:255:$>>ou}function Gl($,Z){return vu((19077*$>>8)+(26149*Z>>8)-14234)}function Eo($,Z,yt){return vu((19077*$>>8)-(6419*Z>>8)-(13320*yt>>8)+8708)}function Fo($,Z){return vu((19077*$>>8)+(33050*Z>>8)-17685)}function to($,Z,yt,Nt,Zt){Nt[Zt+0]=Gl($,yt),Nt[Zt+1]=Eo($,Z,yt),Nt[Zt+2]=Fo($,Z)}function hc($,Z,yt,Nt,Zt){Nt[Zt+0]=Fo($,Z),Nt[Zt+1]=Eo($,Z,yt),Nt[Zt+2]=Gl($,yt)}function Vc($,Z,yt,Nt,Zt){var ne=Eo($,Z,yt);Z=ne<<3&224|Fo($,Z)>>3,Nt[Zt+0]=248&Gl($,yt)|ne>>5,Nt[Zt+1]=Z}function oo($,Z,yt,Nt,Zt){var ne=240&Fo($,Z)|15;Nt[Zt+0]=240&Gl($,yt)|Eo($,Z,yt)>>4,Nt[Zt+1]=ne}function bu($,Z,yt,Nt,Zt){Nt[Zt+0]=255,to($,Z,yt,Nt,Zt+1)}function Uc($,Z,yt,Nt,Zt){hc($,Z,yt,Nt,Zt),Nt[Zt+3]=255}function il($,Z,yt,Nt,Zt){to($,Z,yt,Nt,Zt),Nt[Zt+3]=255}function ws($,Z){return 0>$?0:$>Z?Z:$}function Zs($,Z,yt){it[$]=function(Nt,Zt,ne,ae,ue,ge,Te,Ce,Nr){for(var Ae=Ce+(-2&Nr)*yt;Ce!=Ae;)Z(Nt[Zt+0],ne[ae+0],ue[ge+0],Te,Ce),Z(Nt[Zt+1],ne[ae+0],ue[ge+0],Te,Ce+yt),Zt+=2,++ae,++ge,Ce+=2*yt;1&Nr&&Z(Nt[Zt+0],ne[ae+0],ue[ge+0],Te,Ce)}}function mh($,Z,yt){return yt==0?$==0?Z==0?6:5:Z==0?4:0:yt}function Hu($,Z,yt,Nt,Zt){switch($>>>30){case 3:y(Z,yt,Nt,Zt,0);break;case 2:C(Z,yt,Nt,Zt);break;case 1:nt(Z,yt,Nt,Zt)}}function qc($,Z){var yt,Nt,Zt=Z.M,ne=Z.Nb,ae=$.oc,ue=$.pc+40,ge=$.oc,Te=$.pc+584,Ce=$.oc,Nr=$.pc+600;for(yt=0;16>yt;++yt)ae[ue+32*yt-1]=129;for(yt=0;8>yt;++yt)ge[Te+32*yt-1]=129,Ce[Nr+32*yt-1]=129;for(0<Zt?ae[ue-1-32]=ge[Te-1-32]=Ce[Nr-1-32]=129:(i(ae,ue-32-1,127,21),i(ge,Te-32-1,127,9),i(Ce,Nr-32-1,127,9)),Nt=0;Nt<$.za;++Nt){var Ae=Z.ya[Z.aa+Nt];if(0<Nt){for(yt=-1;16>yt;++yt)n(ae,ue+32*yt-4,ae,ue+32*yt+12,4);for(yt=-1;8>yt;++yt)n(ge,Te+32*yt-4,ge,Te+32*yt+4,4),n(Ce,Nr+32*yt-4,Ce,Nr+32*yt+4,4)}var hr=$.Gd,br=$.Hd+Nt,Xr=Ae.ad,Er=Ae.Hc;if(0<Zt&&(n(ae,ue-32,hr[br].y,0,16),n(ge,Te-32,hr[br].f,0,8),n(Ce,Nr-32,hr[br].ea,0,8)),Ae.Za){var wr=ae,Qr=ue-32+16;for(0<Zt&&(Nt>=$.za-1?i(wr,Qr,hr[br].y[15],4):n(wr,Qr,hr[br+1].y,0,4)),yt=0;4>yt;yt++)wr[Qr+128+yt]=wr[Qr+256+yt]=wr[Qr+384+yt]=wr[Qr+0+yt];for(yt=0;16>yt;++yt,Er<<=2)wr=ae,Qr=ue+As[yt],cs[Ae.Ob[yt]](wr,Qr),Hu(Er,Xr,16*+yt,wr,Qr)}else if(wr=mh(Nt,Zt,Ae.Ob[0]),Yl[wr](ae,ue),Er!=0)for(yt=0;16>yt;++yt,Er<<=2)Hu(Er,Xr,16*+yt,ae,ue+As[yt]);for(yt=Ae.Gc,wr=mh(Nt,Zt,Ae.Dd),Nu[wr](ge,Te),Nu[wr](Ce,Nr),Er=Xr,wr=ge,Qr=Te,255&(Ae=0|yt)&&(170&Ae?F(Er,256,wr,Qr):xt(Er,256,wr,Qr)),Ae=Ce,Er=Nr,255&(yt>>=8)&&(170&yt?F(Xr,320,Ae,Er):xt(Xr,320,Ae,Er)),Zt<$.Ub-1&&(n(hr[br].y,0,ae,ue+480,16),n(hr[br].f,0,ge,Te+224,8),n(hr[br].ea,0,Ce,Nr+224,8)),yt=8*ne*$.B,hr=$.sa,br=$.ta+16*Nt+16*ne*$.R,Xr=$.qa,Ae=$.ra+8*Nt+yt,Er=$.Ha,wr=$.Ia+8*Nt+yt,yt=0;16>yt;++yt)n(hr,br+yt*$.R,ae,ue+32*yt,16);for(yt=0;8>yt;++yt)n(Xr,Ae+yt*$.B,ge,Te+32*yt,8),n(Er,wr+yt*$.B,Ce,Nr+32*yt,8)}}function Hl($,Z,yt,Nt,Zt,ne,ae,ue,ge){var Te=[0],Ce=[0],Nr=0,Ae=ge!=null?ge.kd:0,hr=ge??new Ti;if($==null||12>yt)return 7;hr.data=$,hr.w=Z,hr.ha=yt,Z=[Z],yt=[yt],hr.gb=[hr.gb];t:{var br=Z,Xr=yt,Er=hr.gb;if(e($!=null),e(Xr!=null),e(Er!=null),Er[0]=0,12<=Xr[0]&&!r($,br[0],"RIFF")){if(r($,br[0]+8,"WEBP")){Er=3;break t}var wr=ke($,br[0]+4);if(12>wr||4294967286<wr){Er=3;break t}if(Ae&&wr>Xr[0]-8){Er=7;break t}Er[0]=wr,br[0]+=12,Xr[0]-=12}Er=0}if(Er!=0)return Er;for(wr=0<hr.gb[0],yt=yt[0];;){t:{var Qr=$;Xr=Z,Er=yt;var Sn=Te,ln=Ce,ui=br=[0];if((ai=Nr=[Nr])[0]=0,8>Er[0])Er=7;else{if(!r(Qr,Xr[0],"VP8X")){if(ke(Qr,Xr[0]+4)!=10){Er=3;break t}if(18>Er[0]){Er=7;break t}var ni=ke(Qr,Xr[0]+8),Fi=1+He(Qr,Xr[0]+12);if(2147483648<=Fi*(Qr=1+He(Qr,Xr[0]+15))){Er=3;break t}ui!=null&&(ui[0]=ni),Sn!=null&&(Sn[0]=Fi),ln!=null&&(ln[0]=Qr),Xr[0]+=18,Er[0]-=18,ai[0]=1}Er=0}}if(Nr=Nr[0],br=br[0],Er!=0)return Er;if(Xr=!!(2&br),!wr&&Nr)return 3;if(ne!=null&&(ne[0]=!!(16&br)),ae!=null&&(ae[0]=Xr),ue!=null&&(ue[0]=0),ae=Te[0],br=Ce[0],Nr&&Xr&&ge==null){Er=0;break}if(4>yt){Er=7;break}if(wr&&Nr||!wr&&!Nr&&!r($,Z[0],"ALPH")){yt=[yt],hr.na=[hr.na],hr.P=[hr.P],hr.Sa=[hr.Sa];t:{ni=$,Er=Z,wr=yt;var ai=hr.gb;Sn=hr.na,ln=hr.P,ui=hr.Sa,Fi=22,e(ni!=null),e(wr!=null),Qr=Er[0];var Ea=wr[0];for(e(Sn!=null),e(ui!=null),Sn[0]=null,ln[0]=null,ui[0]=0;;){if(Er[0]=Qr,wr[0]=Ea,8>Ea){Er=7;break t}var Jo=ke(ni,Qr+4);if(4294967286<Jo){Er=3;break t}var $i=8+Jo+1&-2;if(Fi+=$i,0<ai&&Fi>ai){Er=3;break t}if(!r(ni,Qr,"VP8 ")||!r(ni,Qr,"VP8L")){Er=0;break t}if(Ea[0]<$i){Er=7;break t}r(ni,Qr,"ALPH")||(Sn[0]=ni,ln[0]=Qr+8,ui[0]=Jo),Qr+=$i,Ea-=$i}}if(yt=yt[0],hr.na=hr.na[0],hr.P=hr.P[0],hr.Sa=hr.Sa[0],Er!=0)break}yt=[yt],hr.Ja=[hr.Ja],hr.xa=[hr.xa];t:if(ai=$,Er=Z,wr=yt,Sn=hr.gb[0],ln=hr.Ja,ui=hr.xa,ni=Er[0],Qr=!r(ai,ni,"VP8 "),Fi=!r(ai,ni,"VP8L"),e(ai!=null),e(wr!=null),e(ln!=null),e(ui!=null),8>wr[0])Er=7;else{if(Qr||Fi){if(ai=ke(ai,ni+4),12<=Sn&&ai>Sn-12){Er=3;break t}if(Ae&&ai>wr[0]-8){Er=7;break t}ln[0]=ai,Er[0]+=8,wr[0]-=8,ui[0]=Fi}else ui[0]=5<=wr[0]&&ai[ni+0]==47&&!(ai[ni+4]>>5),ln[0]=wr[0];Er=0}if(yt=yt[0],hr.Ja=hr.Ja[0],hr.xa=hr.xa[0],Z=Z[0],Er!=0)break;if(4294967286<hr.Ja)return 3;if(ue==null||Xr||(ue[0]=hr.xa?2:1),ae=[ae],br=[br],hr.xa){if(5>yt){Er=7;break}ue=ae,Ae=br,Xr=ne,$==null||5>yt?$=0:5<=yt&&$[Z+0]==47&&!($[Z+4]>>5)?(wr=[0],ai=[0],Sn=[0],Lt(ln=new Tt,$,Z,yt),Pt(ln,wr,ai,Sn)?(ue!=null&&(ue[0]=wr[0]),Ae!=null&&(Ae[0]=ai[0]),Xr!=null&&(Xr[0]=Sn[0]),$=1):$=0):$=0}else{if(10>yt){Er=7;break}ue=br,$==null||10>yt||!fl($,Z+3,yt-3)?$=0:(Ae=$[Z+0]|$[Z+1]<<8|$[Z+2]<<16,Xr=16383&($[Z+7]<<8|$[Z+6]),$=16383&($[Z+9]<<8|$[Z+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=hr.Ja||!Xr||!$?$=0:(ae&&(ae[0]=Xr),ue&&(ue[0]=$),$=1))}if(!$||(ae=ae[0],br=br[0],Nr&&(Te[0]!=ae||Ce[0]!=br)))return 3;ge!=null&&(ge[0]=hr,ge.offset=Z-ge.w,e(4294967286>Z-ge.w),e(ge.offset==ge.ha-yt));break}return Er==0||Er==7&&Nr&&ge==null?(ne!=null&&(ne[0]|=hr.na!=null&&0<hr.na.length),Nt!=null&&(Nt[0]=ae),Zt!=null&&(Zt[0]=br),0):Er}function jo($,Z,yt){var Nt=Z.width,Zt=Z.height,ne=0,ae=0,ue=Nt,ge=Zt;if(Z.Da=$!=null&&0<$.Da,Z.Da&&(ue=$.cd,ge=$.bd,ne=$.v,ae=$.j,11>yt||(ne&=-2,ae&=-2),0>ne||0>ae||0>=ue||0>=ge||ne+ue>Nt||ae+ge>Zt))return 0;if(Z.v=ne,Z.j=ae,Z.va=ne+ue,Z.o=ae+ge,Z.U=ue,Z.T=ge,Z.da=$!=null&&0<$.da,Z.da){if(!Dr(ue,ge,yt=[$.ib],ne=[$.hb]))return 0;Z.ib=yt[0],Z.hb=ne[0]}return Z.ob=$!=null&&$.ob,Z.Kb=$==null||!$.Sd,Z.da&&(Z.ob=Z.ib<3*Nt/4&&Z.hb<3*Zt/4,Z.Kb=0),1}function Ss($){if($==null)return 2;if(11>$.S){var Z=$.f.RGBA;Z.fb+=($.height-1)*Z.A,Z.A=-Z.A}else Z=$.f.kb,$=$.height,Z.O+=($-1)*Z.fa,Z.fa=-Z.fa,Z.N+=($-1>>1)*Z.Ab,Z.Ab=-Z.Ab,Z.W+=($-1>>1)*Z.Db,Z.Db=-Z.Db,Z.F!=null&&(Z.J+=($-1)*Z.lb,Z.lb=-Z.lb);return 0}function Gc($,Z,yt,Nt){if(Nt==null||0>=$||0>=Z)return 2;if(yt!=null){if(yt.Da){var Zt=yt.cd,ne=yt.bd,ae=-2&yt.v,ue=-2&yt.j;if(0>ae||0>ue||0>=Zt||0>=ne||ae+Zt>$||ue+ne>Z)return 2;$=Zt,Z=ne}if(yt.da){if(!Dr($,Z,Zt=[yt.ib],ne=[yt.hb]))return 2;$=Zt[0],Z=ne[0]}}Nt.width=$,Nt.height=Z;t:{var ge=Nt.width,Te=Nt.height;if($=Nt.S,0>=ge||0>=Te||!($>=Wu&&13>$))$=2;else{if(0>=Nt.Rd&&Nt.sd==null){ae=ne=Zt=Z=0;var Ce=(ue=ge*su[$])*Te;if(11>$||(ne=(Te+1)/2*(Z=(ge+1)/2),$==12&&(ae=(Zt=ge)*Te)),(Te=o(Ce+2*ne+ae))==null){$=1;break t}Nt.sd=Te,11>$?((ge=Nt.f.RGBA).eb=Te,ge.fb=0,ge.A=ue,ge.size=Ce):((ge=Nt.f.kb).y=Te,ge.O=0,ge.fa=ue,ge.Fd=Ce,ge.f=Te,ge.N=0+Ce,ge.Ab=Z,ge.Cd=ne,ge.ea=Te,ge.W=0+Ce+ne,ge.Db=Z,ge.Ed=ne,$==12&&(ge.F=Te,ge.J=0+Ce+2*ne),ge.Tc=ae,ge.lb=Zt)}if(Z=1,Zt=Nt.S,ne=Nt.width,ae=Nt.height,Zt>=Wu&&13>Zt)if(11>Zt)$=Nt.f.RGBA,Z&=(ue=Math.abs($.A))*(ae-1)+ne<=$.size,Z&=ue>=ne*su[Zt],Z&=$.eb!=null;else{$=Nt.f.kb,ue=(ne+1)/2,Ce=(ae+1)/2,ge=Math.abs($.fa),Te=Math.abs($.Ab);var Nr=Math.abs($.Db),Ae=Math.abs($.lb),hr=Ae*(ae-1)+ne;Z&=ge*(ae-1)+ne<=$.Fd,Z&=Te*(Ce-1)+ue<=$.Cd,Z=(Z&=Nr*(Ce-1)+ue<=$.Ed)&ge>=ne&Te>=ue&Nr>=ue,Z&=$.y!=null,Z&=$.f!=null,Z&=$.ea!=null,Zt==12&&(Z&=Ae>=ne,Z&=hr<=$.Tc,Z&=$.F!=null)}else Z=0;$=Z?0:2}}return $!=0||yt!=null&&yt.fd&&($=Ss(Nt)),$}var Es=64,Hc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ps=24,dc=32,To=8,fc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ir("Predictor0","PredictorAdd0"),it.Predictor0=function(){return 4278190080},it.Predictor1=function($){return $},it.Predictor2=function($,Z,yt){return Z[yt+0]},it.Predictor3=function($,Z,yt){return Z[yt+1]},it.Predictor4=function($,Z,yt){return Z[yt-1]},it.Predictor5=function($,Z,yt){return Pr(Pr($,Z[yt+1]),Z[yt+0])},it.Predictor6=function($,Z,yt){return Pr($,Z[yt-1])},it.Predictor7=function($,Z,yt){return Pr($,Z[yt+0])},it.Predictor8=function($,Z,yt){return Pr(Z[yt-1],Z[yt+0])},it.Predictor9=function($,Z,yt){return Pr(Z[yt+0],Z[yt+1])},it.Predictor10=function($,Z,yt){return Pr(Pr($,Z[yt-1]),Pr(Z[yt+0],Z[yt+1]))},it.Predictor11=function($,Z,yt){var Nt=Z[yt+0];return 0>=ar(Nt>>24&255,$>>24&255,(Z=Z[yt-1])>>24&255)+ar(Nt>>16&255,$>>16&255,Z>>16&255)+ar(Nt>>8&255,$>>8&255,Z>>8&255)+ar(255&Nt,255&$,255&Z)?Nt:$},it.Predictor12=function($,Z,yt){var Nt=Z[yt+0];return(Ir(($>>24&255)+(Nt>>24&255)-((Z=Z[yt-1])>>24&255))<<24|Ir(($>>16&255)+(Nt>>16&255)-(Z>>16&255))<<16|Ir(($>>8&255)+(Nt>>8&255)-(Z>>8&255))<<8|Ir((255&$)+(255&Nt)-(255&Z)))>>>0},it.Predictor13=function($,Z,yt){var Nt=Z[yt-1];return(dr(($=Pr($,Z[yt+0]))>>24&255,Nt>>24&255)<<24|dr($>>16&255,Nt>>16&255)<<16|dr($>>8&255,Nt>>8&255)<<8|dr(255&$,255&Nt))>>>0};var pc=it.PredictorAdd0;it.PredictorAdd1=Or,ir("Predictor2","PredictorAdd2"),ir("Predictor3","PredictorAdd3"),ir("Predictor4","PredictorAdd4"),ir("Predictor5","PredictorAdd5"),ir("Predictor6","PredictorAdd6"),ir("Predictor7","PredictorAdd7"),ir("Predictor8","PredictorAdd8"),ir("Predictor9","PredictorAdd9"),ir("Predictor10","PredictorAdd10"),ir("Predictor11","PredictorAdd11"),ir("Predictor12","PredictorAdd12"),ir("Predictor13","PredictorAdd13");var Al=it.PredictorAdd2;rr("ColorIndexInverseTransform","MapARGB","32b",function($){return $>>8&255},function($){return $}),rr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function($){return $},function($){return $>>8&255});var _u,Xu=it.ColorIndexInverseTransform,Ec=it.MapARGB,xu=it.VP8LColorIndexInverseTransformAlpha,Ts=it.MapAlpha,lr=it.VP8LPredictorsAdd=[];lr.length=16,(it.VP8LPredictors=[]).length=16,(it.VP8LPredictorsAdd_C=[]).length=16,(it.VP8LPredictors_C=[]).length=16;var mr,An,Dn,Ni,$n,A,m,y,C,F,nt,xt,Dt,re,_e,sr,_r,tn,In,Qn,hi,Kn,Hn,ma,qi,Va,$o,so,ls=o(511),Tc=o(2041),Cc=o(225),kl=o(767),ml=0,Ac=Tc,Il=Cc,Co=kl,Cs=ls,Wu=0,mi=1,Xc=2,Xl=3,lf=4,gh=5,td=6,Gf=7,Hf=8,Td=9,Cd=10,Wc=[2,3,7],Dh=[3,3,11],Yu=[280,256,256,256,40],Ad=[0,1,1,1,0],kd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wu=8,Ic=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],au=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gl=null,Bg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Id=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wl=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wa=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yl=[],cs=[],Nu=[],go=1,yh=2,yl=[],vl=[];mo("UpsampleRgbLinePair",to,3),mo("UpsampleBgrLinePair",hc,3),mo("UpsampleRgbaLinePair",il,4),mo("UpsampleBgraLinePair",Uc,4),mo("UpsampleArgbLinePair",bu,4),mo("UpsampleRgba4444LinePair",oo,2),mo("UpsampleRgb565LinePair",Vc,2);var Ku=it.UpsampleRgbLinePair,ed=it.UpsampleBgrLinePair,Zu=it.UpsampleRgbaLinePair,cf=it.UpsampleBgraLinePair,Lu=it.UpsampleArgbLinePair,Mu=it.UpsampleRgba4444LinePair,Bh=it.UpsampleRgb565LinePair,Su=16,Qu=1<<Su-1,Pu=-227,al=482,ou=6,vh=0,Kl=o(256),Xf=o(256),Rd=o(256),Vm=o(256),Op=o(al-Pu),zg=o(al-Pu);Zs("YuvToRgbRow",to,3),Zs("YuvToBgrRow",hc,3),Zs("YuvToRgbaRow",il,4),Zs("YuvToBgraRow",Uc,4),Zs("YuvToArgbRow",bu,4),Zs("YuvToRgba4444Row",oo,2),Zs("YuvToRgb565Row",Vc,2);var As=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zh=[0,2,8],bh=[8,7,6,4,4,2,2,2,1,1,1,1],Rc=1;this.WebPDecodeRGBA=function($,Z,yt,Nt,Zt){var ne=mi,ae=new ri,ue=new Ke;ae.ba=ue,ue.S=ne,ue.width=[ue.width],ue.height=[ue.height];var ge=ue.width,Te=ue.height,Ce=new Pe;if(Ce==null||$==null)var Nr=2;else e(Ce!=null),Nr=Hl($,Z,yt,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Nr!=0?ge=0:(ge!=null&&(ge[0]=Ce.width[0]),Te!=null&&(Te[0]=Ce.height[0]),ge=1),ge){ue.width=ue.width[0],ue.height=ue.height[0],Nt!=null&&(Nt[0]=ue.width),Zt!=null&&(Zt[0]=ue.height);t:{if(Nt=new Do,(Zt=new Ti).data=$,Zt.w=Z,Zt.ha=yt,Zt.kd=1,Z=[0],e(Zt!=null),(($=Hl(Zt.data,Zt.w,Zt.ha,null,null,null,Z,null,Zt))==0||$==7)&&Z[0]&&($=4),(Z=$)==0){if(e(ae!=null),Nt.data=Zt.data,Nt.w=Zt.w+Zt.offset,Nt.ha=Zt.ha-Zt.offset,Nt.put=Kr,Nt.ac=bn,Nt.bc=Zn,Nt.ma=ae,Zt.xa){if(($=Wn())==null){ae=1;break t}if((function(Ae,hr){var br=[0],Xr=[0],Er=[0];e:for(;;){if(Ae==null)return 0;if(hr==null)return Ae.a=2,0;if(Ae.l=hr,Ae.a=0,Lt(Ae.m,hr.data,hr.w,hr.ha),!Pt(Ae.m,br,Xr,Er)){Ae.a=3;break e}if(Ae.xb=yh,hr.width=br[0],hr.height=Xr[0],!Ra(br[0],Xr[0],1,Ae,null))break e;return 1}return e(Ae.a!=0),0})($,Nt)){if(Nt=(Z=Gc(Nt.width,Nt.height,ae.Oa,ae.ba))==0){e:{Nt=$;r:for(;;){if(Nt==null){Nt=0;break e}if(e(Nt.s.yc!=null),e(Nt.s.Ya!=null),e(0<Nt.s.Wb),e((yt=Nt.l)!=null),e((Zt=yt.ma)!=null),Nt.xb!=0){if(Nt.ca=Zt.ba,Nt.tb=Zt.tb,e(Nt.ca!=null),!jo(Zt.Oa,yt,Xl)){Nt.a=2;break r}if(!xo(Nt,yt.width)||yt.da)break r;if((yt.da||Ge(Nt.ca.S))&&Ru(),11>Nt.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Nt.ca.f.kb.F!=null&&Ru()),Nt.Pb&&0<Nt.s.ua&&Nt.s.vb.X==null&&!Jt(Nt.s.vb,Nt.s.Wa.Xa)){Nt.a=1;break r}Nt.xb=0}if(!en(Nt,Nt.V,Nt.Ba,Nt.c,Nt.i,yt.o,fi))break r;Zt.Dc=Nt.Ma,Nt=1;break e}e(Nt.a!=0),Nt=0}Nt=!Nt}Nt&&(Z=$.a)}else Z=$.a}else{if(($=new jl)==null){ae=1;break t}if($.Fa=Zt.na,$.P=Zt.P,$.qc=Zt.Sa,Gu($,Nt)){if((Z=Gc(Nt.width,Nt.height,ae.Oa,ae.ba))==0){if($.Aa=0,yt=ae.Oa,e((Zt=$)!=null),yt!=null){if(0<(ge=0>(ge=yt.Md)?0:100<ge?255:255*ge/100)){for(Te=Ce=0;4>Te;++Te)12>(Nr=Zt.pb[Te]).lc&&(Nr.ia=ge*bh[0>Nr.lc?0:Nr.lc]>>3),Ce|=Nr.ia;Ce&&(alert("todo:VP8InitRandom"),Zt.ia=1)}Zt.Ga=yt.Id,100<Zt.Ga?Zt.Ga=100:0>Zt.Ga&&(Zt.Ga=0)}(function(Ae,hr){if(Ae==null)return 0;if(hr==null)return Ha(Ae,2,"NULL VP8Io parameter in VP8Decode().");if(!Ae.cb&&!Gu(Ae,hr))return 0;if(e(Ae.cb),hr.ac==null||hr.ac(hr)){hr.ob&&(Ae.L=0);var br=zh[Ae.L];if(Ae.L==2?(Ae.yb=0,Ae.zb=0):(Ae.yb=hr.v-br>>4,Ae.zb=hr.j-br>>4,0>Ae.yb&&(Ae.yb=0),0>Ae.zb&&(Ae.zb=0)),Ae.Va=hr.o+15+br>>4,Ae.Hb=hr.va+15+br>>4,Ae.Hb>Ae.za&&(Ae.Hb=Ae.za),Ae.Va>Ae.Ub&&(Ae.Va=Ae.Ub),0<Ae.L){var Xr=Ae.ed;for(br=0;4>br;++br){var Er;if(Ae.Qa.Cb){var wr=Ae.Qa.Lb[br];Ae.Qa.Fb||(wr+=Xr.Tb)}else wr=Xr.Tb;for(Er=0;1>=Er;++Er){var Qr=Ae.gd[br][Er],Sn=wr;if(Xr.Pc&&(Sn+=Xr.vd[0],Er&&(Sn+=Xr.od[0])),0<(Sn=0>Sn?0:63<Sn?63:Sn)){var ln=Sn;0<Xr.wb&&(ln=4<Xr.wb?ln>>2:ln>>1)>9-Xr.wb&&(ln=9-Xr.wb),1>ln&&(ln=1),Qr.dd=ln,Qr.tc=2*Sn+ln,Qr.ld=40<=Sn?2:15<=Sn?1:0}else Qr.tc=0;Qr.La=Er}}}br=0}else Ha(Ae,6,"Frame setup failed"),br=Ae.a;if(br=br==0){if(br){Ae.$c=0,0<Ae.Aa||(Ae.Ic=Rc);e:{br=Ae.Ic,Xr=4*(ln=Ae.za);var ui=32*ln,ni=ln+1,Fi=0<Ae.L?ln*(0<Ae.Aa?2:1):0,ai=(Ae.Aa==2?2:1)*ln;if((Qr=Xr+832+(Er=3*(16*br+zh[Ae.L])/2*ui)+(wr=Ae.Fa!=null&&0<Ae.Fa.length?Ae.Kc.c*Ae.Kc.i:0))!=Qr)br=0;else{if(Qr>Ae.Vb){if(Ae.Vb=0,Ae.Ec=o(Qr),Ae.Fc=0,Ae.Ec==null){br=Ha(Ae,1,"no memory during frame initialization.");break e}Ae.Vb=Qr}Qr=Ae.Ec,Sn=Ae.Fc,Ae.Ac=Qr,Ae.Bc=Sn,Sn+=Xr,Ae.Gd=c(ui,Fl),Ae.Hd=0,Ae.rb=c(ni+1,nl),Ae.sb=1,Ae.wa=Fi?c(Fi,Vi):null,Ae.Y=0,Ae.D.Nb=0,Ae.D.wa=Ae.wa,Ae.D.Y=Ae.Y,0<Ae.Aa&&(Ae.D.Y+=ln),e(!0),Ae.oc=Qr,Ae.pc=Sn,Sn+=832,Ae.ya=c(ai,Pi),Ae.aa=0,Ae.D.ya=Ae.ya,Ae.D.aa=Ae.aa,Ae.Aa==2&&(Ae.D.aa+=ln),Ae.R=16*ln,Ae.B=8*ln,ln=(ui=zh[Ae.L])*Ae.R,ui=ui/2*Ae.B,Ae.sa=Qr,Ae.ta=Sn+ln,Ae.qa=Ae.sa,Ae.ra=Ae.ta+16*br*Ae.R+ui,Ae.Ha=Ae.qa,Ae.Ia=Ae.ra+8*br*Ae.B+ui,Ae.$c=0,Sn+=Er,Ae.mb=wr?Qr:null,Ae.nb=wr?Sn:null,e(Sn+wr<=Ae.Fc+Ae.Vb),El(Ae),i(Ae.Ac,Ae.Bc,0,Xr),br=1}}if(br){if(hr.ka=0,hr.y=Ae.sa,hr.O=Ae.ta,hr.f=Ae.qa,hr.N=Ae.ra,hr.ea=Ae.Ha,hr.Vd=Ae.Ia,hr.fa=Ae.R,hr.Rc=Ae.B,hr.F=null,hr.J=0,!ml){for(br=-255;255>=br;++br)ls[255+br]=0>br?-br:br;for(br=-1020;1020>=br;++br)Tc[1020+br]=-128>br?-128:127<br?127:br;for(br=-112;112>=br;++br)Cc[112+br]=-16>br?-16:15<br?15:br;for(br=-255;510>=br;++br)kl[255+br]=0>br?0:255<br?255:br;ml=1}m=Re,y=yu,F=Q,nt=gt,xt=ee,C=iu,Dt=ct,re=Kt,_e=pr,sr=Yr,_r=ve,tn=Xe,In=gn,Qn=Vn,hi=xc,Kn=Vl,Hn=So,ma=Bo,cs[0]=yi,cs[1]=Fe,cs[2]=Zr,cs[3]=Ln,cs[4]=sa,cs[5]=zi,cs[6]=Ii,cs[7]=da,cs[8]=Xa,cs[9]=Bn,Yl[0]=fn,Yl[1]=rn,Yl[2]=mn,Yl[3]=un,Yl[4]=Yn,Yl[5]=Nn,Yl[6]=ti,Nu[0]=zn,Nu[1]=nr,Nu[2]=pi,Nu[3]=ei,Nu[4]=No,Nu[5]=$l,Nu[6]=wo,br=1}else br=0}br&&(br=(function(Ea,Jo){for(Ea.M=0;Ea.M<Ea.Va;++Ea.M){var $i,ii=Ea.Jc[Ea.M&Ea.Xb],Pn=Ea.m,yo=Ea;for($i=0;$i<yo.za;++$i){var Gn=Pn,Gi=yo,eo=Gi.Ac,ol=Gi.Bc+4*$i,Zl=Gi.zc,Vo=Gi.ya[Gi.aa+$i];if(Gi.Qa.Bb?Vo.$b=de(Gn,Gi.Pa.jb[0])?2+de(Gn,Gi.Pa.jb[2]):de(Gn,Gi.Pa.jb[1]):Vo.$b=0,Gi.kc&&(Vo.Ad=de(Gn,Gi.Bd)),Vo.Za=!de(Gn,145)+0,Vo.Za){var bl=Vo.Ob,us=0;for(Gi=0;4>Gi;++Gi){var Os,yn=Zl[0+Gi];for(Os=0;4>Os;++Os){yn=Wl[eo[ol+Os]][yn];for(var kn=Id[de(Gn,yn[0])];0<kn;)kn=Id[2*kn+de(Gn,yn[kn])];yn=-kn,eo[ol+Os]=yn}n(bl,us,eo,ol,4),us+=4,Zl[0+Gi]=yn}}else yn=de(Gn,156)?de(Gn,128)?1:3:de(Gn,163)?2:0,Vo.Ob[0]=yn,i(eo,ol,yn,4),i(Zl,0,yn,4);Vo.Dd=de(Gn,142)?de(Gn,114)?de(Gn,183)?1:3:2:0}if(yo.m.Ka)return Ha(Ea,7,"Premature end-of-partition0 encountered.");for(;Ea.ja<Ea.za;++Ea.ja){if(yo=ii,Gn=(Pn=Ea).rb[Pn.sb-1],eo=Pn.rb[Pn.sb+Pn.ja],$i=Pn.ya[Pn.aa+Pn.ja],ol=Pn.kc?$i.Ad:0)Gn.la=eo.la=0,$i.Za||(Gn.Na=eo.Na=0),$i.Hc=0,$i.Gc=0,$i.ia=0;else{var ts,Wa;if(Gn=eo,eo=yo,ol=Pn.Pa.Xc,Zl=Pn.ya[Pn.aa+Pn.ja],Vo=Pn.pb[Zl.$b],Gi=Zl.ad,bl=0,us=Pn.rb[Pn.sb-1],yn=Os=0,i(Gi,bl,0,384),Zl.Za)var Ds=0,La=ol[3];else{kn=o(16);var Ya=Gn.Na+us.Na;if(Ya=gl(eo,ol[1],Ya,Vo.Eb,0,kn,0),Gn.Na=us.Na=(0<Ya)+0,1<Ya)m(kn,0,Gi,bl);else{var Ma=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)Gi[bl+kn]=Ma}Ds=1,La=ol[0]}var vo=15&Gn.la,es=15&us.la;for(kn=0;4>kn;++kn){var la=1&es;for(Ma=Wa=0;4>Ma;++Ma)vo=vo>>1|(la=(Ya=gl(eo,La,Ya=la+(1&vo),Vo.Sc,Ds,Gi,bl))>Ds)<<7,Wa=Wa<<2|(3<Ya?3:1<Ya?2:Gi[bl+0]!=0),bl+=16;vo>>=4,es=es>>1|la<<7,Os=(Os<<8|Wa)>>>0}for(La=vo,Ds=es>>4,ts=0;4>ts;ts+=2){for(Wa=0,vo=Gn.la>>4+ts,es=us.la>>4+ts,kn=0;2>kn;++kn){for(la=1&es,Ma=0;2>Ma;++Ma)Ya=la+(1&vo),vo=vo>>1|(la=0<(Ya=gl(eo,ol[2],Ya,Vo.Qc,0,Gi,bl)))<<3,Wa=Wa<<2|(3<Ya?3:1<Ya?2:Gi[bl+0]!=0),bl+=16;vo>>=2,es=es>>1|la<<5}yn|=Wa<<4*ts,La|=vo<<4<<ts,Ds|=(240&es)<<ts}Gn.la=La,us.la=Ds,Zl.Hc=Os,Zl.Gc=yn,Zl.ia=43690&yn?0:Vo.ia,ol=!(Os|yn)}if(0<Pn.L&&(Pn.wa[Pn.Y+Pn.ja]=Pn.gd[$i.$b][$i.Za],Pn.wa[Pn.Y+Pn.ja].La|=!ol),yo.Ka)return Ha(Ea,7,"Premature end-of-file encountered.")}if(El(Ea),Pn=Jo,yo=1,$i=(ii=Ea).D,Gn=0<ii.L&&ii.M>=ii.zb&&ii.M<=ii.Va,ii.Aa==0)e:{if($i.M=ii.M,$i.uc=Gn,qc(ii,$i),yo=1,$i=(Wa=ii.D).Nb,Gn=(yn=zh[ii.L])*ii.R,eo=yn/2*ii.B,kn=16*$i*ii.R,Ma=8*$i*ii.B,ol=ii.sa,Zl=ii.ta-Gn+kn,Vo=ii.qa,Gi=ii.ra-eo+Ma,bl=ii.Ha,us=ii.Ia-eo+Ma,es=(vo=Wa.M)==0,Os=vo>=ii.Va-1,ii.Aa==2&&qc(ii,Wa),Wa.uc)for(la=(Ya=ii).D.M,e(Ya.D.uc),Wa=Ya.yb;Wa<Ya.Hb;++Wa){Ds=Wa,La=la;var Di=(Ua=(Qs=Ya).D).Nb;ts=Qs.R;var Ua=Ua.wa[Ua.Y+Ds],Bs=Qs.sa,Ao=Qs.ta+16*Di*ts+16*Ds,bi=Ua.dd,_i=Ua.tc;if(_i!=0)if(e(3<=_i),Qs.L==1)0<Ds&&Kn(Bs,Ao,ts,_i+4),Ua.La&&ma(Bs,Ao,ts,_i),0<La&&hi(Bs,Ao,ts,_i+4),Ua.La&&Hn(Bs,Ao,ts,_i);else{var Ta=Qs.B,Ql=Qs.qa,lu=Qs.ra+8*Di*Ta+8*Ds,Jl=Qs.Ha,Qs=Qs.Ia+8*Di*Ta+8*Ds;Di=Ua.ld,0<Ds&&(re(Bs,Ao,ts,_i+4,bi,Di),sr(Ql,lu,Jl,Qs,Ta,_i+4,bi,Di)),Ua.La&&(tn(Bs,Ao,ts,_i,bi,Di),Qn(Ql,lu,Jl,Qs,Ta,_i,bi,Di)),0<La&&(Dt(Bs,Ao,ts,_i+4,bi,Di),_e(Ql,lu,Jl,Qs,Ta,_i+4,bi,Di)),Ua.La&&(_r(Bs,Ao,ts,_i,bi,Di),In(Ql,lu,Jl,Qs,Ta,_i,bi,Di))}}if(ii.ia&&alert("todo:DitherRow"),Pn.put!=null){if(Wa=16*vo,vo=16*(vo+1),es?(Pn.y=ii.sa,Pn.O=ii.ta+kn,Pn.f=ii.qa,Pn.N=ii.ra+Ma,Pn.ea=ii.Ha,Pn.W=ii.Ia+Ma):(Wa-=yn,Pn.y=ol,Pn.O=Zl,Pn.f=Vo,Pn.N=Gi,Pn.ea=bl,Pn.W=us),Os||(vo-=yn),vo>Pn.o&&(vo=Pn.o),Pn.F=null,Pn.J=null,ii.Fa!=null&&0<ii.Fa.length&&Wa<vo&&(Pn.J=ao(ii,Pn,Wa,vo-Wa),Pn.F=ii.mb,Pn.F==null&&Pn.F.length==0)){yo=Ha(ii,3,"Could not decode alpha data.");break e}Wa<Pn.j&&(yn=Pn.j-Wa,Wa=Pn.j,e(!(1&yn)),Pn.O+=ii.R*yn,Pn.N+=ii.B*(yn>>1),Pn.W+=ii.B*(yn>>1),Pn.F!=null&&(Pn.J+=Pn.width*yn)),Wa<vo&&(Pn.O+=Pn.v,Pn.N+=Pn.v>>1,Pn.W+=Pn.v>>1,Pn.F!=null&&(Pn.J+=Pn.v),Pn.ka=Wa-Pn.j,Pn.U=Pn.va-Pn.v,Pn.T=vo-Wa,yo=Pn.put(Pn))}$i+1!=ii.Ic||Os||(n(ii.sa,ii.ta-Gn,ol,Zl+16*ii.R,Gn),n(ii.qa,ii.ra-eo,Vo,Gi+8*ii.B,eo),n(ii.Ha,ii.Ia-eo,bl,us+8*ii.B,eo))}if(!yo)return Ha(Ea,6,"Output aborted.")}return 1})(Ae,hr)),hr.bc!=null&&hr.bc(hr),br&=1}return br?(Ae.cb=0,br):0})($,Nt)||(Z=$.a)}}else Z=$.a}Z==0&&ae.Oa!=null&&ae.Oa.fd&&(Z=Ss(ae.ba))}ae=Z}ne=ae!=0?null:11>ne?ue.f.RGBA.eb:ue.f.kb.y}else ne=null;return ne};var su=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(it,vt){for(var at="",V=0;V<4;V++)at+=String.fromCharCode(it[vt++]);return at}function x(it,vt){return it[vt+0]|it[vt+1]<<8}function k(it,vt){return(it[vt+0]|it[vt+1]<<8|it[vt+2]<<16)>>>0}function I(it,vt){return(it[vt+0]|it[vt+1]<<8|it[vt+2]<<16|it[vt+3]<<24)>>>0}new g;var S=[0],P=[0],D=[],U=new g,H=t,G=(function(it,vt){var at={},V=0,dt=!1,mt=0,wt=0;if(at.frames=[],!(function(lt,Tt){for(var kt=0;kt<4;kt++)if(lt[Tt+kt]!="RIFF".charCodeAt(kt))return!0;return!1})(it,vt)){for(I(it,vt+=4),vt+=8;vt<it.length;){var pt=v(it,vt),At=I(it,vt+=4);vt+=4;var St=At+(1&At);switch(pt){case"VP8 ":case"VP8L":at.frames[V]===void 0&&(at.frames[V]={}),(_t=at.frames[V]).src_off=dt?wt:vt-8,_t.src_size=mt+At+8,V++,dt&&(dt=!1,mt=0,wt=0);break;case"VP8X":(_t=at.header={}).feature_flags=it[vt];var Lt=vt+4;_t.canvas_width=1+k(it,Lt),Lt+=3,_t.canvas_height=1+k(it,Lt),Lt+=3;break;case"ALPH":dt=!0,mt=St+8,wt=vt-8;break;case"ANIM":(_t=at.header).bgcolor=I(it,vt),Lt=vt+4,_t.loop_count=x(it,Lt),Lt+=2;break;case"ANMF":var jt,_t;(_t=at.frames[V]={}).offset_x=2*k(it,vt),vt+=3,_t.offset_y=2*k(it,vt),vt+=3,_t.width=1+k(it,vt),vt+=3,_t.height=1+k(it,vt),vt+=3,_t.duration=k(it,vt),vt+=3,jt=it[vt++],_t.dispose=1&jt,_t.blend=jt>>1&1}pt!="ANMF"&&(vt+=St)}return at}})(H,0);G.response=H,G.rgbaoutput=!0,G.dataurl=!1;var z=G.header?G.header:null,j=G.frames?G.frames:null;if(z){z.loop_counter=z.loop_count,S=[z.canvas_height],P=[z.canvas_width];for(var X=0;X<j.length&&j[X].blend!=0;X++);}var Y=j[0],et=U.WebPDecodeRGBA(H,Y.src_off,Y.src_size,P,S);Y.rgba=et,Y.imgwidth=P[0],Y.imgheight=S[0];for(var st=0;st<P[0]*S[0]*4;st++)D[st]=et[st];return this.width=P,this.height=S,this.data=D,this}(function(t){var e,r,n,i,o,c,a,g,v,x=function(lt){return lt=lt||{},this.isStrokeTransparent=lt.isStrokeTransparent||!1,this.strokeOpacity=lt.strokeOpacity||1,this.strokeStyle=lt.strokeStyle||"#000000",this.fillStyle=lt.fillStyle||"#000000",this.isFillTransparent=lt.isFillTransparent||!1,this.fillOpacity=lt.fillOpacity||1,this.font=lt.font||"10px sans-serif",this.textBaseline=lt.textBaseline||"alphabetic",this.textAlign=lt.textAlign||"left",this.lineWidth=lt.lineWidth||1,this.lineJoin=lt.lineJoin||"miter",this.lineCap=lt.lineCap||"butt",this.path=lt.path||[],this.transform=lt.transform!==void 0?lt.transform.clone():new g,this.globalCompositeOperation=lt.globalCompositeOperation||"normal",this.globalAlpha=lt.globalAlpha||1,this.clip_path=lt.clip_path||[],this.currentPoint=lt.currentPoint||new c,this.miterLimit=lt.miterLimit||10,this.lastPoint=lt.lastPoint||new c,this.lineDashOffset=lt.lineDashOffset||0,this.lineDash=lt.lineDash||[],this.margin=lt.margin||[0,0,0,0],this.prevPageLastElemOffset=lt.prevPageLastElemOffset||0,this.ignoreClearRect=typeof lt.ignoreClearRect!="boolean"||lt.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new k(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,a=this.internal.Rectangle,g=this.internal.Matrix,v=new x}]);var k=function(lt){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Tt=lt;Object.defineProperty(this,"pdf",{get:function(){return Tt}});var kt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return kt},set:function(ke){kt=!!ke}});var Rt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Rt},set:function(ke){Rt=!!ke}});var Ut=0;Object.defineProperty(this,"posX",{get:function(){return Ut},set:function(ke){isNaN(ke)||(Ut=ke)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ke){isNaN(ke)||(ie=ke)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(ke){var Jt;typeof ke=="number"?Jt=[ke,ke,ke,ke]:((Jt=new Array(4))[0]=ke[0],Jt[1]=ke.length>=2?ke[1]:Jt[0],Jt[2]=ke.length>=3?ke[2]:Jt[0],Jt[3]=ke.length>=4?ke[3]:Jt[1]),v.margin=Jt}});var Ht=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ht},set:function(ke){Ht=ke}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(ke){ce=ke}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(ke){de=ke}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(ke){ke instanceof x&&(v=ke)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(ke){v.path=ke}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ke){Se=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var Jt;Jt=I(ke),this.ctx.fillStyle=Jt.style,this.ctx.isFillTransparent=Jt.a===0,this.ctx.fillOpacity=Jt.a,this.pdf.setFillColor(Jt.r,Jt.g,Jt.b,{a:Jt.a}),this.pdf.setTextColor(Jt.r,Jt.g,Jt.b,{a:Jt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var Jt=I(ke);this.ctx.strokeStyle=Jt.style,this.ctx.isStrokeTransparent=Jt.a===0,this.ctx.strokeOpacity=Jt.a,Jt.a===0?this.pdf.setDrawColor(255,255,255):(Jt.a,this.pdf.setDrawColor(Jt.r,Jt.g,Jt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Vt=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(ke){Vt=null,He=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var Jt;if(this.ctx.font=ke,(Jt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var $r=Jt[1];Jt[2];var vr=Jt[3],Dr=Jt[4];Jt[5];var Ie=Jt[6],Mr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Dr)[2];Dr=Math.floor(Mr==="px"?parseFloat(Dr)*this.pdf.internal.scaleFactor:Mr==="em"?parseFloat(Dr)*this.pdf.getFontSize():parseFloat(Dr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Dr);var ir=(function(Ze){var rr,Me,Ft=[],Mt=Ze.trim();if(Mt==="")return uz;if(Mt in rz)return[rz[Mt]];for(;Mt!=="";){switch(Me=null,rr=(Mt=iz(Mt)).charAt(0)){case'"':case"'":Me=ldt(Mt.substring(1),rr);break;default:Me=cdt(Mt)}if(Me===null||(Ft.push(Me[0]),(Mt=iz(Me[1]))!==""&&Mt.charAt(0)!==","))return uz;Mt=Mt.replace(/^,/,"")}return Ft})(Ie);if(this.fontFaces){var Rr=(function(Ze,rr){if(Vt===null){var Me=(function(Ft){var Mt=[];return Object.keys(Ft).forEach(function(Bt){Ft[Bt].forEach(function(oe){var ye=null;switch(oe){case"bold":ye={family:Bt,weight:"bold"};break;case"italic":ye={family:Bt,style:"italic"};break;case"bolditalic":ye={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":ye={family:Bt}}ye!==null&&(ye.ref={name:Bt,style:oe},Mt.push(ye))})}),Mt})(Ze.getFontList());Vt=(function(Ft){for(var Mt={},Bt=0;Bt<Ft.length;++Bt){var oe=Jk(Ft[Bt]),ye=oe.family,je=oe.stretch,Ge=oe.style,Ue=oe.weight;Mt[ye]=Mt[ye]||{},Mt[ye][je]=Mt[ye][je]||{},Mt[ye][je][Ge]=Mt[ye][je][Ge]||{},Mt[ye][je][Ge][Ue]=oe}return Mt})(Me.concat(rr))}return Vt})(this.pdf,this.fontFaces),Pr=ir.map(function(Ze){return{family:Ze,stretch:"normal",weight:vr,style:$r}}),Ir=(function(Ze,rr,Me){for(var Ft=(Me=Me||{}).defaultFontFamily||"times",Mt=Object.assign({},sdt,Me.genericFontFamilies||{}),Bt=null,oe=null,ye=0;ye<rr.length;++ye)if(Mt[(Bt=Jk(rr[ye])).family]&&(Bt.family=Mt[Bt.family]),Ze.hasOwnProperty(Bt.family)){oe=Ze[Bt.family];break}if(!(oe=oe||Ze[Ft]))throw new Error("Could not find a font-family for the rule '"+nz(Bt)+"' and default family '"+Ft+"'.");if(oe=(function(je,Ge){if(Ge[je])return Ge[je];var Ue=wL[je],fr=Ue<=wL.normal?-1:1,Ke=ez(Ge,kG,Ue,fr);if(!Ke)throw new Error("Could not find a matching font-stretch value for "+je);return Ke})(Bt.stretch,oe),oe=(function(je,Ge){if(Ge[je])return Ge[je];for(var Ue=AG[je],fr=0;fr<Ue.length;++fr)if(Ge[Ue[fr]])return Ge[Ue[fr]];throw new Error("Could not find a matching font-style for "+je)})(Bt.style,oe),!(oe=(function(je,Ge){if(Ge[je])return Ge[je];if(je===400&&Ge[500])return Ge[500];if(je===500&&Ge[400])return Ge[400];var Ue=odt[je],fr=ez(Ge,IG,Ue,je<400?-1:1);if(!fr)throw new Error("Could not find a matching font-weight for value "+je);return fr})(Bt.weight,oe)))throw new Error("Failed to resolve a font for the rule '"+nz(Bt)+"'.");return oe})(Rr,Pr);this.pdf.setFont(Ir.ref.name,Ir.ref.style)}else{var dr="";(vr==="bold"||parseInt(vr,10)>=700||$r==="bold")&&(dr="bold"),$r==="italic"&&(dr+="italic"),dr.length===0&&(dr="normal");for(var ar="",Or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},er=0;er<ir.length;er++){if(this.pdf.internal.getFont(ir[er],dr,{noFallback:!0,disableWarning:!0})!==void 0){ar=ir[er];break}if(dr==="bolditalic"&&this.pdf.internal.getFont(ir[er],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ar=ir[er],dr="bold";else if(this.pdf.internal.getFont(ir[er],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ar=ir[er],dr="normal";break}}if(ar===""){for(var Fr=0;Fr<ir.length;Fr++)if(Or[ir[Fr]]){ar=Or[ir[Fr]];break}}ar=ar===""?"Times":ar,this.pdf.setFont(ar,dr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,_t.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,_t.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};k.prototype.setLineDash=function(lt){this.lineDash=lt},k.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},k.prototype.fill=function(){j.call(this,"fill",!1)},k.prototype.stroke=function(){j.call(this,"stroke",!1)},k.prototype.beginPath=function(){this.path=[{type:"begin"}]},k.prototype.moveTo=function(lt,Tt){if(isNaN(lt)||isNaN(Tt))throw hl.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var kt=this.ctx.transform.applyToPoint(new c(lt,Tt));this.path.push({type:"mt",x:kt.x,y:kt.y}),this.ctx.lastPoint=new c(lt,Tt)},k.prototype.closePath=function(){var lt=new c(0,0),Tt=0;for(Tt=this.path.length-1;Tt!==-1;Tt--)if(this.path[Tt].type==="begin"&&Ws(this.path[Tt+1])==="object"&&typeof this.path[Tt+1].x=="number"){lt=new c(this.path[Tt+1].x,this.path[Tt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(lt.x,lt.y)},k.prototype.lineTo=function(lt,Tt){if(isNaN(lt)||isNaN(Tt))throw hl.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var kt=this.ctx.transform.applyToPoint(new c(lt,Tt));this.path.push({type:"lt",x:kt.x,y:kt.y}),this.ctx.lastPoint=new c(kt.x,kt.y)},k.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},k.prototype.quadraticCurveTo=function(lt,Tt,kt,Rt){if(isNaN(kt)||isNaN(Rt)||isNaN(lt)||isNaN(Tt))throw hl.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ut=this.ctx.transform.applyToPoint(new c(kt,Rt)),ie=this.ctx.transform.applyToPoint(new c(lt,Tt));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:Ut.x,y:Ut.y}),this.ctx.lastPoint=new c(Ut.x,Ut.y)},k.prototype.bezierCurveTo=function(lt,Tt,kt,Rt,Ut,ie){if(isNaN(Ut)||isNaN(ie)||isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt))throw hl.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ht=this.ctx.transform.applyToPoint(new c(Ut,ie)),ce=this.ctx.transform.applyToPoint(new c(lt,Tt)),de=this.ctx.transform.applyToPoint(new c(kt,Rt));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:de.x,y2:de.y,x:Ht.x,y:Ht.y}),this.ctx.lastPoint=new c(Ht.x,Ht.y)},k.prototype.arc=function(lt,Tt,kt,Rt,Ut,ie){if(isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt)||isNaN(Ut))throw hl.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var Ht=this.ctx.transform.applyToPoint(new c(lt,Tt));lt=Ht.x,Tt=Ht.y;var ce=this.ctx.transform.applyToPoint(new c(0,kt)),de=this.ctx.transform.applyToPoint(new c(0,0));kt=Math.sqrt(Math.pow(ce.x-de.x,2)+Math.pow(ce.y-de.y,2))}Math.abs(Ut-Rt)>=2*Math.PI&&(Rt=0,Ut=2*Math.PI),this.path.push({type:"arc",x:lt,y:Tt,radius:kt,startAngle:Rt,endAngle:Ut,counterclockwise:ie})},k.prototype.arcTo=function(lt,Tt,kt,Rt,Ut){throw new Error("arcTo not implemented.")},k.prototype.rect=function(lt,Tt,kt,Rt){if(isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt))throw hl.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(lt,Tt),this.lineTo(lt+kt,Tt),this.lineTo(lt+kt,Tt+Rt),this.lineTo(lt,Tt+Rt),this.lineTo(lt,Tt),this.lineTo(lt+kt,Tt),this.lineTo(lt,Tt)},k.prototype.fillRect=function(lt,Tt,kt,Rt){if(isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt))throw hl.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var Ut={};this.lineCap!=="butt"&&(Ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(lt,Tt,kt,Rt),this.fill(),Ut.hasOwnProperty("lineCap")&&(this.lineCap=Ut.lineCap),Ut.hasOwnProperty("lineJoin")&&(this.lineJoin=Ut.lineJoin)}},k.prototype.strokeRect=function(lt,Tt,kt,Rt){if(isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt))throw hl.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(lt,Tt,kt,Rt),this.stroke())},k.prototype.clearRect=function(lt,Tt,kt,Rt){if(isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt))throw hl.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(lt,Tt,kt,Rt))},k.prototype.save=function(lt){lt=typeof lt!="boolean"||lt;for(var Tt=this.pdf.internal.getCurrentPageInfo().pageNumber,kt=0;kt<this.pdf.internal.getNumberOfPages();kt++)this.pdf.setPage(kt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Tt),lt){this.ctx.fontSize=this.pdf.internal.getFontSize();var Rt=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Rt}},k.prototype.restore=function(lt){lt=typeof lt!="boolean"||lt;for(var Tt=this.pdf.internal.getCurrentPageInfo().pageNumber,kt=0;kt<this.pdf.internal.getNumberOfPages();kt++)this.pdf.setPage(kt+1),this.pdf.internal.out("Q");this.pdf.setPage(Tt),lt&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},k.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(lt){var Tt,kt,Rt,Ut;if(lt.isCanvasGradient===!0&&(lt=lt.getColor()),!lt)return{r:0,g:0,b:0,a:0,style:lt};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(lt))Tt=0,kt=0,Rt=0,Ut=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(lt);if(ie!==null)Tt=parseInt(ie[1]),kt=parseInt(ie[2]),Rt=parseInt(ie[3]),Ut=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(lt))!==null)Tt=parseInt(ie[1]),kt=parseInt(ie[2]),Rt=parseInt(ie[3]),Ut=parseFloat(ie[4]);else{if(Ut=1,typeof lt=="string"&&lt.charAt(0)!=="#"){var Ht=new _G(lt);lt=Ht.ok?Ht.toHex():"#000000"}lt.length===4?(Tt=lt.substring(1,2),Tt+=Tt,kt=lt.substring(2,3),kt+=kt,Rt=lt.substring(3,4),Rt+=Rt):(Tt=lt.substring(1,3),kt=lt.substring(3,5),Rt=lt.substring(5,7)),Tt=parseInt(Tt,16),kt=parseInt(kt,16),Rt=parseInt(Rt,16)}}return{r:Tt,g:kt,b:Rt,a:Ut,style:lt}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};k.prototype.fillText=function(lt,Tt,kt,Rt){if(isNaN(Tt)||isNaN(kt)||typeof lt!="string")throw hl.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Rt=isNaN(Rt)?void 0:Rt,!S.call(this)){var Ut=St(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;V.call(this,{text:lt,x:Tt,y:kt,scale:ie,angle:Ut,align:this.textAlign,maxWidth:Rt})}},k.prototype.strokeText=function(lt,Tt,kt,Rt){if(isNaN(Tt)||isNaN(kt)||typeof lt!="string")throw hl.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){Rt=isNaN(Rt)?void 0:Rt;var Ut=St(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;V.call(this,{text:lt,x:Tt,y:kt,scale:ie,renderingMode:"stroke",angle:Ut,align:this.textAlign,maxWidth:Rt})}},k.prototype.measureText=function(lt){if(typeof lt!="string")throw hl.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Tt=this.pdf,kt=this.pdf.internal.scaleFactor,Rt=Tt.internal.getFontSize(),Ut=Tt.getStringUnitWidth(lt)*Rt/Tt.internal.scaleFactor;return new function(ie){var Ht=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ht}}),this}({width:Ut*=Math.round(96*kt/72*1e4)/1e4})},k.prototype.scale=function(lt,Tt){if(isNaN(lt)||isNaN(Tt))throw hl.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var kt=new g(lt,0,0,Tt,0,0);this.ctx.transform=this.ctx.transform.multiply(kt)},k.prototype.rotate=function(lt){if(isNaN(lt))throw hl.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Tt=new g(Math.cos(lt),Math.sin(lt),-Math.sin(lt),Math.cos(lt),0,0);this.ctx.transform=this.ctx.transform.multiply(Tt)},k.prototype.translate=function(lt,Tt){if(isNaN(lt)||isNaN(Tt))throw hl.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var kt=new g(1,0,0,1,lt,Tt);this.ctx.transform=this.ctx.transform.multiply(kt)},k.prototype.transform=function(lt,Tt,kt,Rt,Ut,ie){if(isNaN(lt)||isNaN(Tt)||isNaN(kt)||isNaN(Rt)||isNaN(Ut)||isNaN(ie))throw hl.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ht=new g(lt,Tt,kt,Rt,Ut,ie);this.ctx.transform=this.ctx.transform.multiply(Ht)},k.prototype.setTransform=function(lt,Tt,kt,Rt,Ut,ie){lt=isNaN(lt)?1:lt,Tt=isNaN(Tt)?0:Tt,kt=isNaN(kt)?0:kt,Rt=isNaN(Rt)?1:Rt,Ut=isNaN(Ut)?0:Ut,ie=isNaN(ie)?0:ie,this.ctx.transform=new g(lt,Tt,kt,Rt,Ut,ie)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};k.prototype.drawImage=function(lt,Tt,kt,Rt,Ut,ie,Ht,ce,de){var Se=this.pdf.getImageProperties(lt),Vt=1,He=1,ke=1,Jt=1;Rt!==void 0&&ce!==void 0&&(ke=ce/Rt,Jt=de/Ut,Vt=Se.width/Rt*ce/Rt,He=Se.height/Ut*de/Ut),ie===void 0&&(ie=Tt,Ht=kt,Tt=0,kt=0),Rt!==void 0&&ce===void 0&&(ce=Rt,de=Ut),Rt===void 0&&ce===void 0&&(ce=Se.width,de=Se.height);for(var $r,vr=this.ctx.transform.decompose(),Dr=St(vr.rotate.shx),Ie=new g,Mr=(Ie=(Ie=(Ie=Ie.multiply(vr.translate)).multiply(vr.skew)).multiply(vr.scale)).applyToRectangle(new a(ie-Tt*ke,Ht-kt*Jt,Rt*Vt,Ut*He)),ir=U.call(this,Mr),Rr=[],Pr=0;Pr<ir.length;Pr+=1)Rr.indexOf(ir[Pr])===-1&&Rr.push(ir[Pr]);if(z(Rr),this.autoPaging)for(var Ir=Rr[0],dr=Rr[Rr.length-1],ar=Ir;ar<dr+1;ar++){this.pdf.setPage(ar);var Or=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],er=ar===1?this.posY+this.margin[0]:this.margin[0],Fr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rr=ar===1?0:Fr+(ar-2)*Ze;if(this.ctx.clip_path.length!==0){var Me=this.path;$r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G($r,this.posX+this.margin[3],-rr+er+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Me}var Ft=JSON.parse(JSON.stringify(Mr));Ft=G([Ft],this.posX+this.margin[3],-rr+er+this.ctx.prevPageLastElemOffset)[0];var Mt=(ar>Ir||ar<dr)&&D.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Or,Ze,null).clip().discardPath()),this.pdf.addImage(lt,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Dr),Mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(lt,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,Dr)};var U=function(lt,Tt,kt){var Rt=[];Tt=Tt||this.pdf.internal.pageSize.width,kt=kt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ut=this.posY+this.ctx.prevPageLastElemOffset;switch(lt.type){default:case"mt":case"lt":Rt.push(Math.floor((lt.y+Ut)/kt)+1);break;case"arc":Rt.push(Math.floor((lt.y+Ut-lt.radius)/kt)+1),Rt.push(Math.floor((lt.y+Ut+lt.radius)/kt)+1);break;case"qct":var ie=Lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,lt.x1,lt.y1,lt.x,lt.y);Rt.push(Math.floor((ie.y+Ut)/kt)+1),Rt.push(Math.floor((ie.y+ie.h+Ut)/kt)+1);break;case"bct":var Ht=jt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,lt.x1,lt.y1,lt.x2,lt.y2,lt.x,lt.y);Rt.push(Math.floor((Ht.y+Ut)/kt)+1),Rt.push(Math.floor((Ht.y+Ht.h+Ut)/kt)+1);break;case"rect":Rt.push(Math.floor((lt.y+Ut)/kt)+1),Rt.push(Math.floor((lt.y+lt.h+Ut)/kt)+1)}for(var ce=0;ce<Rt.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<Rt[ce];)H.call(this);return Rt},H=function(){var lt=this.fillStyle,Tt=this.strokeStyle,kt=this.font,Rt=this.lineCap,Ut=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=lt,this.strokeStyle=Tt,this.font=kt,this.lineCap=Rt,this.lineWidth=Ut,this.lineJoin=ie},G=function(lt,Tt,kt){for(var Rt=0;Rt<lt.length;Rt++)switch(lt[Rt].type){case"bct":lt[Rt].x2+=Tt,lt[Rt].y2+=kt;case"qct":lt[Rt].x1+=Tt,lt[Rt].y1+=kt;default:lt[Rt].x+=Tt,lt[Rt].y+=kt}return lt},z=function(lt){return lt.sort(function(Tt,kt){return Tt-kt})},j=function(lt,Tt){for(var kt,Rt,Ut=this.fillStyle,ie=this.strokeStyle,Ht=this.lineCap,ce=this.lineWidth,de=Math.abs(ce*this.ctx.transform.scaleX),Se=this.lineJoin,Vt=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),ke=[],Jt=0;Jt<He.length;Jt++)if(He[Jt].x!==void 0)for(var $r=U.call(this,He[Jt]),vr=0;vr<$r.length;vr+=1)ke.indexOf($r[vr])===-1&&ke.push($r[vr]);for(var Dr=0;Dr<ke.length;Dr++)for(;this.pdf.internal.getNumberOfPages()<ke[Dr];)H.call(this);if(z(ke),this.autoPaging)for(var Ie=ke[0],Mr=ke[ke.length-1],ir=Ie;ir<Mr+1;ir++){this.pdf.setPage(ir),this.fillStyle=Ut,this.strokeStyle=ie,this.lineCap=Ht,this.lineWidth=de,this.lineJoin=Se;var Rr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pr=ir===1?this.posY+this.margin[0]:this.margin[0],Ir=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ar=ir===1?0:Ir+(ir-2)*dr;if(this.ctx.clip_path.length!==0){var Or=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(kt,this.posX+this.margin[3],-ar+Pr+this.ctx.prevPageLastElemOffset),X.call(this,lt,!0),this.path=Or}if(Rt=JSON.parse(JSON.stringify(Vt)),this.path=G(Rt,this.posX+this.margin[3],-ar+Pr+this.ctx.prevPageLastElemOffset),Tt===!1||ir===0){var er=(ir>Ie||ir<Mr)&&D.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rr,dr,null).clip().discardPath()),X.call(this,lt,Tt),er&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=de,X.call(this,lt,Tt),this.lineWidth=ce;this.path=Vt},X=function(lt,Tt){if((lt!=="stroke"||Tt||!P.call(this))&&(lt==="stroke"||Tt||!S.call(this))){for(var kt,Rt,Ut=[],ie=this.path,Ht=0;Ht<ie.length;Ht++){var ce=ie[Ht];switch(ce.type){case"begin":Ut.push({begin:!0});break;case"close":Ut.push({close:!0});break;case"mt":Ut.push({start:ce,deltas:[],abs:[]});break;case"lt":var de=Ut.length;if(ie[Ht-1]&&!isNaN(ie[Ht-1].x)&&(kt=[ce.x-ie[Ht-1].x,ce.y-ie[Ht-1].y],de>0)){for(;de>=0;de--)if(Ut[de-1].close!==!0&&Ut[de-1].begin!==!0){Ut[de-1].deltas.push(kt),Ut[de-1].abs.push(ce);break}}break;case"bct":kt=[ce.x1-ie[Ht-1].x,ce.y1-ie[Ht-1].y,ce.x2-ie[Ht-1].x,ce.y2-ie[Ht-1].y,ce.x-ie[Ht-1].x,ce.y-ie[Ht-1].y],Ut[Ut.length-1].deltas.push(kt);break;case"qct":var Se=ie[Ht-1].x+2/3*(ce.x1-ie[Ht-1].x),Vt=ie[Ht-1].y+2/3*(ce.y1-ie[Ht-1].y),He=ce.x+2/3*(ce.x1-ce.x),ke=ce.y+2/3*(ce.y1-ce.y),Jt=ce.x,$r=ce.y;kt=[Se-ie[Ht-1].x,Vt-ie[Ht-1].y,He-ie[Ht-1].x,ke-ie[Ht-1].y,Jt-ie[Ht-1].x,$r-ie[Ht-1].y],Ut[Ut.length-1].deltas.push(kt);break;case"arc":Ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ut[Ut.length-1].abs)&&Ut[Ut.length-1].abs.push(ce)}}Rt=Tt?null:lt==="stroke"?"stroke":"fill";for(var vr=!1,Dr=0;Dr<Ut.length;Dr++)if(Ut[Dr].arc)for(var Ie=Ut[Dr].abs,Mr=0;Mr<Ie.length;Mr++){var ir=Ie[Mr];ir.type==="arc"?st.call(this,ir.x,ir.y,ir.radius,ir.startAngle,ir.endAngle,ir.counterclockwise,void 0,Tt,!vr):dt.call(this,ir.x,ir.y),vr=!0}else if(Ut[Dr].close===!0)this.pdf.internal.out("h"),vr=!1;else if(Ut[Dr].begin!==!0){var Rr=Ut[Dr].start.x,Pr=Ut[Dr].start.y;mt.call(this,Ut[Dr].deltas,Rr,Pr),vr=!0}Rt&&it.call(this,Rt),Tt&&vt.call(this)}},Y=function(lt){var Tt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,kt=Tt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return lt-kt;case"top":return lt+Tt-kt;case"hanging":return lt+Tt-2*kt;case"middle":return lt+Tt/2-kt;default:return lt}},et=function(lt){return lt+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};k.prototype.createLinearGradient=function(){var lt=function(){};return lt.colorStops=[],lt.addColorStop=function(Tt,kt){this.colorStops.push([Tt,kt])},lt.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},lt.isCanvasGradient=!0,lt},k.prototype.createPattern=function(){return this.createLinearGradient()},k.prototype.createRadialGradient=function(){return this.createLinearGradient()};var st=function(lt,Tt,kt,Rt,Ut,ie,Ht,ce,de){for(var Se=pt.call(this,kt,Rt,Ut,ie),Vt=0;Vt<Se.length;Vt++){var He=Se[Vt];Vt===0&&(de?at.call(this,He.x1+lt,He.y1+Tt):dt.call(this,He.x1+lt,He.y1+Tt)),wt.call(this,lt,Tt,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ce?vt.call(this):it.call(this,Ht)},it=function(lt){switch(lt){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},vt=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(lt,Tt){this.pdf.internal.out(r(lt)+" "+n(Tt)+" m")},V=function(lt){var Tt;switch(lt.align){case"right":case"end":Tt="right";break;case"center":Tt="center";break;default:Tt="left"}var kt=this.pdf.getTextDimensions(lt.text),Rt=Y.call(this,lt.y),Ut=et.call(this,Rt)-kt.h,ie=this.ctx.transform.applyToPoint(new c(lt.x,Rt)),Ht=this.ctx.transform.decompose(),ce=new g;ce=(ce=(ce=ce.multiply(Ht.translate)).multiply(Ht.skew)).multiply(Ht.scale);for(var de,Se,Vt,He=this.ctx.transform.applyToRectangle(new a(lt.x,Rt,kt.w,kt.h)),ke=ce.applyToRectangle(new a(lt.x,Ut,kt.w,kt.h)),Jt=U.call(this,ke),$r=[],vr=0;vr<Jt.length;vr+=1)$r.indexOf(Jt[vr])===-1&&$r.push(Jt[vr]);if(z($r),this.autoPaging)for(var Dr=$r[0],Ie=$r[$r.length-1],Mr=Dr;Mr<Ie+1;Mr++){this.pdf.setPage(Mr);var ir=Mr===1?this.posY+this.margin[0]:this.margin[0],Rr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pr=this.pdf.internal.pageSize.height-this.margin[2],Ir=Pr-this.margin[0],dr=this.pdf.internal.pageSize.width-this.margin[1],ar=dr-this.margin[3],Or=Mr===1?0:Rr+(Mr-2)*Ir;if(this.ctx.clip_path.length!==0){var er=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(de,this.posX+this.margin[3],-1*Or+ir),X.call(this,"fill",!0),this.path=er}var Fr=G([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Or+ir+this.ctx.prevPageLastElemOffset)[0];lt.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*lt.scale),Vt=this.lineWidth,this.lineWidth=Vt*lt.scale);var Ze=this.autoPaging!=="text";if(Ze||Fr.y+Fr.h<=Pr){if(Ze||Fr.y>=ir&&Fr.x<=dr){var rr=Ze?lt.text:this.pdf.splitTextToSize(lt.text,lt.maxWidth||dr-Fr.x)[0],Me=G([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Or+ir+this.ctx.prevPageLastElemOffset)[0],Ft=Ze&&(Mr>Dr||Mr<Ie)&&D.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Ir,null).clip().discardPath()),this.pdf.text(rr,Me.x,Me.y,{angle:lt.angle,align:Tt,renderingMode:lt.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Fr.y<Pr&&(this.ctx.prevPageLastElemOffset+=Pr-Fr.y);lt.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Vt)}else lt.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*lt.scale),Vt=this.lineWidth,this.lineWidth=Vt*lt.scale),this.pdf.text(lt.text,ie.x+this.posX,ie.y+this.posY,{angle:lt.angle,align:Tt,renderingMode:lt.renderingMode,maxWidth:lt.maxWidth}),lt.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Vt)},dt=function(lt,Tt,kt,Rt){kt=kt||0,Rt=Rt||0,this.pdf.internal.out(r(lt+kt)+" "+n(Tt+Rt)+" l")},mt=function(lt,Tt,kt){return this.pdf.lines(lt,Tt,kt,null,null)},wt=function(lt,Tt,kt,Rt,Ut,ie,Ht,ce){this.pdf.internal.out([e(i(kt+lt)),e(o(Rt+Tt)),e(i(Ut+lt)),e(o(ie+Tt)),e(i(Ht+lt)),e(o(ce+Tt)),"c"].join(" "))},pt=function(lt,Tt,kt,Rt){for(var Ut=2*Math.PI,ie=Math.PI/2;Tt>kt;)Tt-=Ut;var Ht=Math.abs(kt-Tt);Ht<Ut&&Rt&&(Ht=Ut-Ht);for(var ce=[],de=Rt?-1:1,Se=Tt;Ht>1e-5;){var Vt=Se+de*Math.min(Ht,ie);ce.push(At.call(this,lt,Se,Vt)),Ht-=Math.abs(Vt-Se),Se=Vt}return ce},At=function(lt,Tt,kt){var Rt=(kt-Tt)/2,Ut=lt*Math.cos(Rt),ie=lt*Math.sin(Rt),Ht=Ut,ce=-ie,de=Ht*Ht+ce*ce,Se=de+Ht*Ut+ce*ie,Vt=4/3*(Math.sqrt(2*de*Se)-Se)/(Ht*ie-ce*Ut),He=Ht-Vt*ce,ke=ce+Vt*Ht,Jt=He,$r=-ke,vr=Rt+Tt,Dr=Math.cos(vr),Ie=Math.sin(vr);return{x1:lt*Math.cos(Tt),y1:lt*Math.sin(Tt),x2:He*Dr-ke*Ie,y2:He*Ie+ke*Dr,x3:Jt*Dr-$r*Ie,y3:Jt*Ie+$r*Dr,x4:lt*Math.cos(kt),y4:lt*Math.sin(kt)}},St=function(lt){return 180*lt/Math.PI},Lt=function(lt,Tt,kt,Rt,Ut,ie){var Ht=lt+.5*(kt-lt),ce=Tt+.5*(Rt-Tt),de=Ut+.5*(kt-Ut),Se=ie+.5*(Rt-ie),Vt=Math.min(lt,Ut,Ht,de),He=Math.max(lt,Ut,Ht,de),ke=Math.min(Tt,ie,ce,Se),Jt=Math.max(Tt,ie,ce,Se);return new a(Vt,ke,He-Vt,Jt-ke)},jt=function(lt,Tt,kt,Rt,Ut,ie,Ht,ce){var de,Se,Vt,He,ke,Jt,$r,vr,Dr,Ie,Mr,ir,Rr,Pr,Ir=kt-lt,dr=Rt-Tt,ar=Ut-kt,Or=ie-Rt,er=Ht-Ut,Fr=ce-ie;for(Se=0;Se<41;Se++)Dr=($r=(Vt=lt+(de=Se/40)*Ir)+de*((ke=kt+de*ar)-Vt))+de*(ke+de*(Ut+de*er-ke)-$r),Ie=(vr=(He=Tt+de*dr)+de*((Jt=Rt+de*Or)-He))+de*(Jt+de*(ie+de*Fr-Jt)-vr),Se==0?(Mr=Dr,ir=Ie,Rr=Dr,Pr=Ie):(Mr=Math.min(Mr,Dr),ir=Math.min(ir,Ie),Rr=Math.max(Rr,Dr),Pr=Math.max(Pr,Ie));return new a(Math.round(Mr),Math.round(ir),Math.round(Rr-Mr),Math.round(Pr-ir))},_t=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var lt,Tt,kt=(lt=this.ctx.lineDash,Tt=this.ctx.lineDashOffset,JSON.stringify({lineDash:lt,lineDashOffset:Tt}));this.prevLineDash!==kt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=kt)}}})(Li.API),(function(t){var e=function(c){var a,g,v,x,k,I,S,P,D,U;for(g=[],v=0,x=(c+=a="\0\0\0\0".slice(c.length%4||4)).length;x>v;v+=4)(k=(c.charCodeAt(v)<<24)+(c.charCodeAt(v+1)<<16)+(c.charCodeAt(v+2)<<8)+c.charCodeAt(v+3))!==0?(I=(k=((k=((k=((k=(k-(U=k%85))/85)-(D=k%85))/85)-(P=k%85))/85)-(S=k%85))/85)%85,g.push(I+33,S+33,P+33,D+33,U+33)):g.push(122);return(function(H,G){for(var z=G;z>0;z--)H.pop()})(g,a.length),String.fromCharCode.apply(String,g)+"~>"},r=function(c){var a,g,v,x,k,I=String,S="length",P=255,D="charCodeAt",U="slice",H="replace";for(c[U](-2),c=c[U](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),v=[],x=0,k=(c+=a="uuuuu"[U](c[S]%5||5))[S];k>x;x+=5)g=52200625*(c[D](x)-33)+614125*(c[D](x+1)-33)+7225*(c[D](x+2)-33)+85*(c[D](x+3)-33)+(c[D](x+4)-33),v.push(P&g>>24,P&g>>16,P&g>>8,P&g);return(function(G,z){for(var j=z;j>0;j--)G.pop()})(v,a[S]),I.fromCharCode.apply(I,v)},n=function(c){return c.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),a.test(c)===!1)return"";for(var g="",v=0;v<c.length;v+=2)g+=String.fromCharCode("0x"+(c[v]+c[v+1]));return g},o=function(c){for(var a=new Uint8Array(c.length),g=c.length;g--;)a[g]=c.charCodeAt(g);return(a=mL(a)).reduce(function(v,x){return v+String.fromCharCode(x)},"")};t.processDataByFilters=function(c,a){var g=0,v=c||"",x=[];for(typeof(a=a||[])=="string"&&(a=[a]),g=0;g<a.length;g+=1)switch(a[g]){case"ASCII85Decode":case"/ASCII85Decode":v=r(v),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=e(v),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=i(v),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=n(v),x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=o(v),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[g]+'" is not implemented')}return{data:v,reverseChain:x.reverse().join(" ")}}})(Li.API),(function(t){t.loadFile=function(e,r,n){return(function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var a=void 0;try{a=(function(g,v,x){var k=new XMLHttpRequest,I=0,S=function(P){var D=P.length,U=[],H=String.fromCharCode;for(I=0;I<D;I+=1)U.push(H(255&P.charCodeAt(I)));return U.join("")};if(k.open("GET",g,!v),k.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(k.onload=function(){k.status===200?x(S(this.responseText)):x(void 0)}),k.send(null),v&&k.status===200)return S(k.responseText)})(i,o,c)}catch{}return a})(e,r,n)},t.loadImageFile=t.loadFile})(Li.API),(function(t){function e(){return(ga.html2canvas?Promise.resolve(ga.html2canvas):vk(()=>import("./html2canvas.esm-Dmi1NfiH-CQoT0aXb.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(ga.DOMPurify?Promise.resolve(ga.DOMPurify):vk(()=>import("./purify.es-DHbHSKL1-BBCefIrm.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var g=Ws(a);return g==="undefined"?"undefined":g==="string"||a instanceof String?"string":g==="number"||a instanceof Number?"number":g==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":g==="object"?"object":"unknown"},i=function(a,g){var v=document.createElement(a);for(var x in g.className&&(v.className=g.className),g.innerHTML&&g.dompurify&&(v.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)v.style[x]=g.style[x];return v},o=function a(g,v){for(var x=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),k=g.firstChild;k;k=k.nextSibling)v!==!0&&k.nodeType===1&&k.nodeName==="SCRIPT"||x.appendChild(a(k,v));return g.nodeType===1&&(g.nodeName==="CANVAS"?(x.width=g.width,x.height=g.height,x.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(x.value=g.value),x.addEventListener("load",function(){x.scrollTop=g.scrollTop,x.scrollLeft=g.scrollLeft},!0)),x},c=function a(g){var v=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),x=a.convert(Promise.resolve(),v);return(x=x.setProgress(1,a,1,[a])).set(g)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(a,g){return a.__proto__=g||c.prototype,a},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(a,g){return this.then(function(){switch(g=g||(function(v){switch(n(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),g){case"string":return this.then(r).then(function(v){return this.set({src:i("div",{innerHTML:a,dompurify:v})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},c.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(g){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,g(this.prop.container,v)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(g){var v=this.opt.jsPDF,x=this.opt.fontFaces,k=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,I=Object.assign({async:!0,allowTaint:!0,scale:k,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete I.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=x,x)for(var S=0;S<x.length;++S){var P=x[S],D=P.src.find(function(U){return U.format==="truetype"});D&&v.addFont(D.url,P.ref.name,P.ref.style)}return I.windowHeight=I.windowHeight||0,I.windowHeight=I.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):I.windowHeight,v.context2d.save(!0),g(this.prop.container,I)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(a,g,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(a,g):this.outputPdf(a,g)},c.prototype.outputPdf=function(a,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,g)})},c.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},c.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(a){if(n(a)!=="object")return this;var g=Object.keys(a||{}).map(function(v){if(v in c.template.prop)return function(){this.prop[v]=a[v]};switch(v){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[v]=a[v]}}},this);return this.then(function(){return this.thenList(g)})},c.prototype.get=function(a,g){return this.then(function(){var v=a in c.template.prop?this.prop[a]:this.opt[a];return g?g(v):v})},c.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},c.prototype.setPageSize=function(a){function g(v,x){return Math.floor(v*x/72*96)}return this.then(function(){(a=a||Li.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:g(a.inner.width,a.k),height:g(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},c.prototype.setProgress=function(a,g,v,x){return a!=null&&(this.progress.val=a),g!=null&&(this.progress.state=g),v!=null&&(this.progress.n=v),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(a,g,v,x){return this.setProgress(a?this.progress.val+a:null,g||null,v?this.progress.n+v:null,x?this.progress.stack.concat(x):null)},c.prototype.then=function(a,g){var v=this;return this.thenCore(a,g,function(x,k){return v.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(I){return v.updateProgress(null,x),I}).then(x,k).then(function(I){return v.updateProgress(1),I})})},c.prototype.thenCore=function(a,g,v){v=v||Promise.prototype.then;var x=this;a&&(a=a.bind(x)),g&&(g=g.bind(x));var k=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?x:c.convert(Object.assign({},x),Promise.prototype),I=v.call(k,a,g);return c.convert(I,x.__proto__)},c.prototype.thenExternal=function(a,g){return Promise.prototype.then.call(this,a,g)},c.prototype.thenList=function(a){var g=this;return a.forEach(function(v){g=g.thenCore(v)}),g},c.prototype.catch=function(a){a&&(a=a.bind(this));var g=Promise.prototype.catch.call(this,a);return c.convert(g,this)},c.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},c.prototype.error=function(a){return this.then(function(){throw new Error(a)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Li.getPageSize=function(a,g,v){if(Ws(a)==="object"){var x=a;a=x.orientation,g=x.unit||g,v=x.format||v}g=g||"mm",v=v||"a4",a=(""+(a||"P")).toLowerCase();var k,I=(""+v).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=.75;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+g}var P,D=0,U=0;if(S.hasOwnProperty(I))D=S[I][1]/k,U=S[I][0]/k;else try{D=v[1],U=v[0]}catch{throw new Error("Invalid format: "+v)}if(a==="p"||a==="portrait")a="p",U>D&&(P=U,U=D,D=P);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",D>U&&(P=U,U=D,D=P)}return{width:U,height:D,unit:g,k,orientation:a}},t.html=function(a,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(Jk):null;var v=new c(g);return g.worker?v:v.from(a).doCallback()}})(Li.API),Li.API.addJS=function(t){return oz=t,this.internal.events.subscribe("postPutResources",function(){A5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(A5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),az=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oz+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){A5!==void 0&&az!==void 0&&this.internal.out("/Names <</JavaScript "+A5+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],a=n.exec(c);if(a!=null){var g=a[1];r.internal.newObjectDeferredBegin(g,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,x=[];for(o=0;o<v;o++){var k=r.internal.newObject();x.push(k);var I=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var S=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<x.length;o++)r.internal.write("(page_"+(o+1)+")"+x[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+S+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,o){var c={title:i,options:o,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var c=n.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var a=this.count=this.count_r({count:0},c);if(a>0&&this.line("/Count "+a),c.options&&c.options.pageNumber){var g=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var v=0;v<n.children.length;v++)this.renderItems(n.children[v])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var o=0;o<i.children.length;o++)n.count++,this.count_r(n,i.children[o]);return n.count}}])})(Li.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,o,c,a){var g,v=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,g=(function(k){for(var I,S=256*k.charCodeAt(4)+k.charCodeAt(5),P=k.length,D={width:0,height:0,numcomponents:1},U=4;U<P;U+=2){if(U+=S,e.indexOf(k.charCodeAt(U+1))!==-1){I=256*k.charCodeAt(U+5)+k.charCodeAt(U+6),D={width:256*k.charCodeAt(U+7)+k.charCodeAt(U+8),height:I,numcomponents:k.charCodeAt(U+9)};break}S=256*k.charCodeAt(U+2)+k.charCodeAt(U+3)}return D})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),g.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}x={data:r,width:g.width,height:g.height,colorSpace:a,bitsPerComponent:8,filter:v,index:n,alias:i}}return x}})(Li.API),Li.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=Hht(t,{checkCrc:!0}),c=o.width,a=o.height,g=o.channels,v=o.palette,x=o.depth;i=v&&g===1?(function(et){for(var st=et.width,it=et.height,vt=et.data,at=et.palette,V=et.depth,dt=!1,mt=[],wt=[],pt=void 0,At=!1,St=0,Lt=0;Lt<at.length;Lt++){var jt=uB(at[Lt],4),_t=jt[0],lt=jt[1],Tt=jt[2],kt=jt[3];mt.push(_t,lt,Tt),kt!=null&&(kt===0?(St++,wt.length<1&&wt.push(Lt)):kt<255&&(At=!0))}if(At||St>1){dt=!0,wt=void 0;var Rt=st*it;pt=new Uint8Array(Rt);for(var Ut=new DataView(vt.buffer),ie=0;ie<Rt;ie++){var Ht=tI(Ut,ie,V),ce=uB(at[Ht],4)[3];pt[ie]=ce}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:vt,alphaBytes:pt,needSMask:dt,palette:mt,mask:wt}})(o):g===2||g===4?(function(et){for(var st=et.data,it=et.width,vt=et.height,at=et.channels,V=et.depth,dt=at===2?"DeviceGray":"DeviceRGB",mt=at-1,wt=it*vt,pt=mt,At=wt*pt,St=1*wt,Lt=Math.ceil(At*V/8),jt=Math.ceil(St*V/8),_t=new Uint8Array(Lt),lt=new Uint8Array(jt),Tt=new DataView(st.buffer),kt=new DataView(_t.buffer),Rt=new DataView(lt.buffer),Ut=!1,ie=0;ie<wt;ie++){for(var Ht=ie*at,ce=0;ce<pt;ce++)gz(kt,tI(Tt,Ht+ce,V),ie*pt+ce,V);var de=tI(Tt,Ht+pt,V);de<(1<<V)-1&&(Ut=!0),gz(Rt,de,1*ie,V)}return{colorSpace:dt,colorsPerPixel:mt,colorBytes:_t,alphaBytes:lt,needSMask:Ut}})(o):(function(et){var st=et.data,it=et.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:it,colorsPerPixel:it==="DeviceGray"?1:3,colorBytes:st instanceof Uint8Array?st:new Uint8Array(st.buffer),needSMask:!1}})(o);var k,I,S,P=i,D=P.colorSpace,U=P.colorsPerPixel,H=P.colorBytes,G=P.alphaBytes,z=P.needSMask,j=P.palette,X=P.mask,Y=null;return n!==Li.API.image_compression.NONE&&typeof mL=="function"?(Y=(function(et){var st;switch(et){case Li.API.image_compression.FAST:st=11;break;case Li.API.image_compression.MEDIUM:st=13;break;case Li.API.image_compression.SLOW:st=14;break;default:st=12}return st})(n),k=this.decode.FLATE_DECODE,I="/Predictor ".concat(Y," "),t=hz(H,c*U,U,n),z&&(S=hz(G,c,1,n))):(k=void 0,I="",t=H,z&&(S=G)),I+="/Colors ".concat(U," /BitsPerComponent ").concat(x," /Columns ").concat(c),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:r,data:t,index:e,filter:k,decodeParameters:I,transparency:X,palette:j,sMask:S,predictor:Y,width:c,height:a,bitsPerComponent:x,colorSpace:D}}},(function(t){t.processGIF89A=function(e,r,n,i){var o=new fdt(e),c=o.width,a=o.height,g=[];o.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:c,height:a},x=new eI(100).encode(v,100);return t.processJPEG.call(this,x,r,n,i)},t.processGIF87A=t.processGIF89A})(Li.API),cp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cp.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){hl.log("bit decode error:"+r)}},cp.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var g=this.palette[o>>7-a&1];this.data[c+4*a]=g.blue,this.data[c+4*a+1]=g.green,this.data[c+4*a+2]=g.red,this.data[c+4*a+3]=255}r!==0&&(this.pos+=4-r)}},cp.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*i*4,a=o>>4,g=15&o,v=this.palette[a];if(this.data[c]=v.blue,this.data[c+1]=v.green,this.data[c+2]=v.red,this.data[c+3]=255,2*i+1>=this.width)break;v=this.palette[g],this.data[c+4]=v.blue,this.data[c+4+1]=v.green,this.data[c+4+2]=v.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},cp.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},cp.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,g=(o>>10&e)/e*255|0,v=o>>15?255:0,x=n*this.width*4+4*i;this.data[x]=g,this.data[x+1]=a,this.data[x+2]=c,this.data[x+3]=v}this.pos+=t}},cp.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(c&e)/e*255|0,g=(c>>5&r)/r*255|0,v=(c>>11)/e*255|0,x=i*this.width*4+4*o;this.data[x]=v,this.data[x+1]=g,this.data[x+2]=a,this.data[x+3]=255}this.pos+=t}},cp.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},cp.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=c}},cp.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var o=new cp(e,!1),c=o.width,a=o.height,g={data:o.getData(),width:c,height:a},v=new eI(100).encode(g,100);return t.processJPEG.call(this,v,r,n,i)}})(Li.API),vz.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var o=new vz(e),c=o.width,a=o.height,g={data:o.getData(),width:c,height:a},v=new eI(100).encode(g,100);return t.processJPEG.call(this,v,r,n,i)}})(Li.API),Li.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),a=0,g=0,v=0;v<i;v+=4){var x=n[v],k=n[v+1],I=n[v+2],S=n[v+3];o[a++]=x,o[a++]=k,o[a++]=I,c[g++]=S}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:P,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Li.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wb=Li.API,k5=wb.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,g=a.fof?a.fof:1,v=e.kerning?e.kerning:i.metadata.Unicode.kerning,x=v.fof?v.fof:1,k=e.doKerning!==!1,I=0,S=t.length,P=0,D=a[0]||g,U=[];for(r=0;r<S;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?U.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+c*(1e3/o)||0)/1e3):(I=k&&Ws(v[n])==="object"&&!isNaN(parseInt(v[n][P],10))?v[n][P]/x:0,U.push((a[n]||D)/g+I)),P=n;return U},sz=wb.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return wb.processArabic&&(t=wb.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:k5.apply(this,arguments).reduce(function(o,c){return o+c},0)},lz=function(t,e,r,n){for(var i=[],o=0,c=t.length,a=0;o!==c&&a+e[o]<r;)a+=e[o],o++;i.push(t.slice(0,o));var g=o;for(a=0;o!==c;)a+e[o]>n&&(i.push(t.slice(g,o)),a=0,g=o),a+=e[o],o++;return g!==o&&i.push(t.slice(g,o)),i},cz=function(t,e,r){r||(r={});var n,i,o,c,a,g,v,x=[],k=[x],I=r.textIndent||0,S=0,P=0,D=t.split(" "),U=k5.apply(this,[" ",r])[0];if(g=r.lineIndent===-1?D[0].length+2:r.lineIndent||0){var H=Array(g).join(" "),G=[];D.map(function(j){(j=j.split(/\s*\n/)).length>1?G=G.concat(j.map(function(X,Y){return(Y&&X.length?`
`:"")+X})):G.push(j[0])}),D=G,g=sz.apply(this,[H,r])}for(o=0,c=D.length;o<c;o++){var z=0;if(n=D[o],g&&n[0]==`
`&&(n=n.substr(1),z=1),I+S+(P=(i=k5.apply(this,[n,r])).reduce(function(j,X){return j+X},0))>e||z){if(P>e){for(a=lz.apply(this,[n,i,e-(I+S),e]),x.push(a.shift()),x=[a.pop()];a.length;)k.push([a.shift()]);P=i.slice(n.length-(x[0]?x[0].length:0)).reduce(function(j,X){return j+X},0)}else x=[n];k.push(x),I=P+g,S=U}else x.push(n),I+=S+P,S=U}return v=g?function(j,X){return(X?H:"")+j.join(" ")}:function(j){return j.join(" ")},k.map(v)},wb.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var k=this.internal.getFont(x.fontName,x.fontStyle),I="Unicode";return k.metadata[I]?{widths:k.metadata[I].widths||{0:1},kerning:k.metadata[I].kerning||{}}:{font:k.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var a,g,v=[];for(a=0,g=n.length;a<g;a++)v=v.concat(cz.apply(this,[n[a],c,o]));return v},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},o=0;o<16;o++)n[r[o]]=e[o],i[e[o]]=r[o];var c=function(I){return"0x"+parseInt(I,10).toString(16)},a=t.__fontmetrics__.compress=function(I){var S,P,D,U,H=["{"];for(var G in I){if(S=I[G],isNaN(parseInt(G,10))?P="'"+G+"'":(G=parseInt(G,10),P=(P=c(G).slice(2)).slice(0,-1)+i[P.slice(-1)]),typeof S=="number")S<0?(D=c(S).slice(3),U="-"):(D=c(S).slice(2),U=""),D=U+D.slice(0,-1)+i[D.slice(-1)];else{if(Ws(S)!=="object")throw new Error("Don't know what to do with value type "+Ws(S)+".");D=a(S)}H.push(P+D)}return H.push("}"),H.join("")},g=t.__fontmetrics__.uncompress=function(I){if(typeof I!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,P,D,U,H={},G=1,z=H,j=[],X="",Y="",et=I.length-1,st=1;st<et;st+=1)(U=I[st])=="'"?S?(D=S.join(""),S=void 0):S=[]:S?S.push(U):U=="{"?(j.push([z,D]),z={},D=void 0):U=="}"?((P=j.pop())[0][P[1]]=z,D=void 0,z=P[0]):U=="-"?G=-1:D===void 0?n.hasOwnProperty(U)?(X+=n[U],D=parseInt(X,16)*G,G=1,X=""):X+=U:n.hasOwnProperty(U)?(Y+=n[U],z[D]=parseInt(Y,16)*G,G=1,D=void 0,Y=""):Y+=U;return H},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},k={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(I){var S=I.font,P=k.Unicode[S.postScriptName];P&&(S.metadata.Unicode={},S.metadata.Unicode.widths=P.widths,S.metadata.Unicode.kerning=P.kerning);var D=x.Unicode[S.postScriptName];D&&(S.metadata.Unicode.encoding=D,S.encoding=D.codePages[0])}])})(Li.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(yE(a)),c.metadata=t.API.TTFFont.open(a),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,n)}}])})(Li),Li.API.addSvgAsImage=function(t,e,r,n,i,o,c,a){if(isNaN(e)||isNaN(r))throw hl.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw hl.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=n,g.height=i;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return(ga.canvg?Promise.resolve(ga.canvg):vk(()=>import("./index.es-DCi_q8cH-5YfPljU0.js"),[])).catch(function(I){return Promise.reject(new Error("Could not load canvg: "+I))}).then(function(I){return I.default?I.default:I}).then(function(I){return I.fromString(v,t,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(I){return I.render(x)}).then(function(){k.addImage(g.toDataURL("image/jpeg",1),e,r,n,i,c,a)})},Li.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Li.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(c),g=[],v=0,x=0,k=0;function I(P,D){var U,H=!1;for(U=0;U<P.length;U+=1)P[U]===D&&(H=!0);return H}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var S=a.length;for(k=0;k<S;k+=1)r[a[k]].value=r[a[k]].defaultValue,r[a[k]].explicitSet=!1}if(Ws(t)==="object"){for(i in t)if(o=t[i],I(a,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&I(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(v=0;v<o.length;v+=1)if(n=!0,o[v].length===1&&typeof o[v][0]=="number")g.push(String(o[v]-1));else if(o[v].length>1){for(x=0;x<o[v].length;x+=1)typeof o[v][x]!="number"&&(n=!1);n===!0&&g.push([o[v][0]-1,o[v][1]-1].join(" "))}r[i].value="["+g.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,D=[];for(P in r)r[P].explicitSet===!0&&(r[P].type==="name"?D.push("/"+P+" /"+r[P].value):D.push("/"+P+" "+r[P].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=o.length+c.length+a.length+i.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(i+o+c+a+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Li.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,c){for(var a,g=c.metadata.Unicode.widths,v=["","0","00","000","0000"],x=[""],k=0,I=o.length;k<I;++k){if(a=c.metadata.characterToGlyph(o.charCodeAt(k)),c.metadata.glyIdsUsed.push(a),c.metadata.toUnicode[a]=o.charCodeAt(k),g.indexOf(a)==-1&&(g.push(a),g.push([parseInt(c.metadata.widthOfGlyph(a),10)])),a=="0")return x.join("");a=a.toString(16),x.push(v[4-a.length],a)}return x.join("")},n=function(o){var c,a,g,v,x,k,I;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],k=0,I=(a=Object.keys(o).sort(function(S,P){return S-P})).length;k<I;k++)c=a[k],g.length>=100&&(x+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(v=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),g.push("<"+c+"><"+v+">"));return g.length&&(x+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),x+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var a=c.font,g=c.out,v=c.newObject,x=c.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var k=a.metadata.Unicode.widths,I=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),S="",P=0;P<I.length;P++)S+=String.fromCharCode(I[P]);var D=v();x({data:S,addLength1:!0,objectId:D}),g("endobj");var U=v();x({data:n(a.metadata.toUnicode),addLength1:!0,objectId:U}),g("endobj");var H=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+$b(a.fontName)),g("/FontFile2 "+D+" 0 R"),g("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),g("/Flags "+a.metadata.flags),g("/StemV "+a.metadata.stemV),g("/ItalicAngle "+a.metadata.italicAngle),g("/Ascent "+a.metadata.ascender),g("/Descent "+a.metadata.decender),g("/CapHeight "+a.metadata.capHeight),g(">>"),g("endobj");var G=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+$b(a.fontName)),g("/FontDescriptor "+H+" 0 R"),g("/W "+t.API.PDFObject.convert(k)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+a.encoding+")"),g(">>"),g(">>"),g("endobj"),a.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+U+" 0 R"),g("/BaseFont /"+$b(a.fontName)),g("/Encoding /"+a.encoding),g("/DescendantFonts ["+G+" 0 R]"),g(">>"),g("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var a=c.font,g=c.out,v=c.newObject,x=c.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var k=a.metadata.rawData,I="",S=0;S<k.length;S++)I+=String.fromCharCode(k[S]);var P=v();x({data:I,addLength1:!0,objectId:P}),g("endobj");var D=v();x({data:n(a.metadata.toUnicode),addLength1:!0,objectId:D}),g("endobj");var U=v();g("<<"),g("/Descent "+a.metadata.decender),g("/CapHeight "+a.metadata.capHeight),g("/StemV "+a.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+P+" 0 R"),g("/Flags 96"),g("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),g("/FontName /"+$b(a.fontName)),g("/ItalicAngle "+a.metadata.italicAngle),g("/Ascent "+a.metadata.ascender),g(">>"),g("endobj"),a.objectNumber=v();for(var H=0;H<a.metadata.hmtx.widths.length;H++)a.metadata.hmtx.widths[H]=parseInt(a.metadata.hmtx.widths[H]*(1e3/a.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+$b(a.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),g("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,a=o.text||"",g=o.x,v=o.y,x=o.options||{},k=o.mutex||{},I=k.pdfEscape,S=k.activeFontKey,P=k.fonts,D=S,U="",H=0,G="",z=P[D].encoding;if(P[D].encoding!=="Identity-H")return{text:a,x:g,y:v,options:x,mutex:k};for(G=a,D=S,Array.isArray(a)&&(G=a[0]),H=0;H<G.length;H+=1)P[D].metadata.hasOwnProperty("cmap")&&(c=P[D].metadata.cmap.unicode.codeMap[G[H].charCodeAt(0)]),c||G[H].charCodeAt(0)<256&&P[D].metadata.hasOwnProperty("Unicode")?U+=G[H]:U+="";var j="";return parseInt(D.slice(1))<14||z==="WinAnsiEncoding"?j=I(U,D).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&(j=r(U,P[D])),k.isHex=!0,{text:j,x:g,y:v,options:x,mutex:k}};e.events.push(["postProcessText",function(o){var c=o.text||"",a=[],g={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var v=0;for(v=0;v<c.length;v+=1)Array.isArray(c[v])&&c[v].length===3?a.push([i(Object.assign({},g,{text:c[v][0]})).text,c[v][1],c[v][2]]):a.push(i(Object.assign({},g,{text:c[v]})).text);o.text=a}else o.text=i(Object.assign({},g,{text:c})).text}])})(Li),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Li.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,o,c,a,g,v,x,k=e,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],H=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,z=0;this.__bidiEngine__={};var j=function(at){var V=at.charCodeAt(),dt=V>>8,mt=D[dt];return mt!==void 0?k[256*mt+(255&V)]:dt===252||dt===253?"AL":H.test(dt)?"L":dt===8?"R":"N"},X=function(at){for(var V,dt=0;dt<at.length;dt++){if((V=j(at.charAt(dt)))==="L")return!1;if(V==="R")return!0}return!1},Y=function(at,V,dt,mt){var wt,pt,At,St,Lt=V[mt];switch(Lt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(Lt="AN");break;case"AL":G=!0,Lt="R";break;case"WS":case"BN":Lt="N";break;case"CS":mt<1||mt+1>=V.length||(wt=dt[mt-1])!=="EN"&&wt!=="AN"||(pt=V[mt+1])!=="EN"&&pt!=="AN"?Lt="N":G&&(pt="AN"),Lt=pt===wt?pt:"N";break;case"ES":Lt=(wt=mt>0?dt[mt-1]:"B")==="EN"&&mt+1<V.length&&V[mt+1]==="EN"?"EN":"N";break;case"ET":if(mt>0&&dt[mt-1]==="EN"){Lt="EN";break}if(G){Lt="N";break}for(At=mt+1,St=V.length;At<St&&V[At]==="ET";)At++;Lt=At<St&&V[At]==="EN"?"EN":"N";break;case"NSM":if(c&&!a){for(St=V.length,At=mt+1;At<St&&V[At]==="NSM";)At++;if(At<St){var jt=at[mt],_t=jt>=1425&&jt<=2303||jt===64286;if(wt=V[At],_t&&(wt==="R"||wt==="AL")){Lt="R";break}}}Lt=mt<1||(wt=V[mt-1])==="B"?"N":dt[mt-1];break;case"B":G=!1,i=!0,Lt=z;break;case"S":o=!0,Lt="N"}return Lt},et=function(at,V,dt){var mt=at.split("");return dt&&st(mt,dt,{hiLevel:z}),mt.reverse(),V&&V.reverse(),mt.join("")},st=function(at,V,dt){var mt,wt,pt,At,St,Lt=-1,jt=at.length,_t=0,lt=[],Tt=z?S:I,kt=[];for(G=!1,i=!1,o=!1,wt=0;wt<jt;wt++)kt[wt]=j(at[wt]);for(pt=0;pt<jt;pt++){if(St=_t,lt[pt]=Y(at,kt,lt,pt),mt=240&(_t=Tt[St][P[lt[pt]]]),_t&=15,V[pt]=At=Tt[_t][5],mt>0)if(mt===16){for(wt=Lt;wt<pt;wt++)V[wt]=1;Lt=-1}else Lt=-1;if(Tt[_t][6])Lt===-1&&(Lt=pt);else if(Lt>-1){for(wt=Lt;wt<pt;wt++)V[wt]=At;Lt=-1}kt[pt]==="B"&&(V[pt]=0),dt.hiLevel|=At}o&&(function(Rt,Ut,ie){for(var Ht=0;Ht<ie;Ht++)if(Rt[Ht]==="S"){Ut[Ht]=z;for(var ce=Ht-1;ce>=0&&Rt[ce]==="WS";ce--)Ut[ce]=z}})(kt,V,jt)},it=function(at,V,dt,mt,wt){if(!(wt.hiLevel<at)){if(at===1&&z===1&&!i)return V.reverse(),void(dt&&dt.reverse());for(var pt,At,St,Lt,jt=V.length,_t=0;_t<jt;){if(mt[_t]>=at){for(St=_t+1;St<jt&&mt[St]>=at;)St++;for(Lt=_t,At=St-1;Lt<At;Lt++,At--)pt=V[Lt],V[Lt]=V[At],V[At]=pt,dt&&(pt=dt[Lt],dt[Lt]=dt[At],dt[At]=pt);_t=St}_t++}}},vt=function(at,V,dt){var mt=at.split(""),wt={hiLevel:z};return dt||(dt=[]),st(mt,dt,wt),(function(pt,At,St){if(St.hiLevel!==0&&x)for(var Lt,jt=0;jt<pt.length;jt++)At[jt]===1&&(Lt=U.indexOf(pt[jt]))>=0&&(pt[jt]=U[Lt+1])})(mt,dt,wt),it(2,mt,V,dt,wt),it(1,mt,V,dt,wt),mt.join("")};return this.__bidiEngine__.doBidiReorder=function(at,V,dt){if((function(wt,pt){if(pt)for(var At=0;At<wt.length;At++)pt[At]=At;a===void 0&&(a=X(wt)),v===void 0&&(v=X(wt))})(at,V),c||!g||v)if(c&&g&&a^v)z=a?1:0,at=et(at,V,dt);else if(!c&&g&&v)z=a?1:0,at=vt(at,V,dt),at=et(at,V);else if(!c||a||g||v){if(c&&!g&&a^v)at=et(at,V),a?(z=0,at=vt(at,V,dt)):(z=1,at=vt(at,V,dt),at=et(at,V));else if(c&&a&&!g&&v)z=1,at=vt(at,V,dt),at=et(at,V);else if(!c&&!g&&a^v){var mt=x;a?(z=1,at=vt(at,V,dt),z=0,x=!1,at=vt(at,V,dt),x=mt):(z=0,at=vt(at,V,dt),at=et(at,V),z=1,x=!1,at=vt(at,V,dt),x=mt,at=et(at,V))}}else z=0,at=vt(at,V,dt);else z=a?1:0,at=vt(at,V,dt);return at},this.__bidiEngine__.setOptions=function(at){at&&(c=at.isInputVisual,g=at.isOutputVisual,a=at.isInputRtl,v=at.isOutputRtl,x=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(c=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?c.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):c.push([r.doBidiReorder(i[a])]);n.text=c}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Li),Li.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new wy(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kdt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pdt(this.contents),this.head=new gdt(this),this.name=new xdt(this),this.cmap=new NG(this),this.toUnicode={},this.hhea=new ydt(this),this.maxp=new wdt(this),this.hmtx=new Sdt(this),this.post=new bdt(this),this.os2=new vdt(this),this.loca=new Adt(this),this.glyf=new Edt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,a,g,v;for(v=[],c=0,a=(g=this.bbox).length;c<a;c++)e=g[c],v.push(Math.round(e*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,o,c,a;for(c=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Ip,wy=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,o,c,a,g;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),a=this.readByte(),g=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^a)+(255^g)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*o+65536*c+256*a+g},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)r=e[n],o.push(this.writeByte(r));return o},t})(),pdt=(function(){var t;function e(r){var n,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,o,c,a,g,v,x,k,I,S,P,D;for(D in S=Object.keys(r).length,g=Math.log(2),k=16*Math.floor(Math.log(S)/g),c=Math.floor(k/g),x=16*S-k,(i=new wy).writeInt(this.scalarType),i.writeShort(S),i.writeShort(k),i.writeShort(c),i.writeShort(x),o=16*S,v=i.pos+o,a=null,P=[],r)for(I=r[D],i.writeString(D),i.writeInt(t(I)),i.writeInt(v),i.writeInt(I.length),P=P.concat(I),D==="head"&&(a=v),v+=I.length;v%4;)P.push(0),v++;return i.write(P),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,o,c;for(r=LG.call(r);r.length%4;)r.push(0);for(o=new wy(r),i=0,n=0,c=r.length;n<c;n=n+=4)i+=o.readUInt32();return 4294967295&i},e})(),mdt={}.hasOwnProperty,jm=function(t,e){for(var r in e)mdt.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ip=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var gdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new wy).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),bz=(function(){function t(e,r){var n,i,o,c,a,g,v,x,k,I,S,P,D,U,H,G,z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),k=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=e.readByte();break;case 4:for(S=e.readUInt16(),I=S/2,e.pos+=6,o=(function(){var j,X;for(X=[],g=j=0;0<=I?j<I:j>I;g=0<=I?++j:--j)X.push(e.readUInt16());return X})(),e.pos+=2,D=(function(){var j,X;for(X=[],g=j=0;0<=I?j<I:j>I;g=0<=I?++j:--j)X.push(e.readUInt16());return X})(),v=(function(){var j,X;for(X=[],g=j=0;0<=I?j<I:j>I;g=0<=I?++j:--j)X.push(e.readUInt16());return X})(),x=(function(){var j,X;for(X=[],g=j=0;0<=I?j<I:j>I;g=0<=I?++j:--j)X.push(e.readUInt16());return X})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var j,X;for(X=[],g=j=0;0<=i?j<i:j>i;g=0<=i?++j:--j)X.push(e.readUInt16());return X})(),g=H=0,z=o.length;H<z;g=++H)for(U=o[g],n=G=P=D[g];P<=U?G<=U:G>=U;n=P<=U?++G:--G)x[g]===0?c=n+v[g]:(c=a[x[g]/2+(n-P)-(I-g)]||0)!==0&&(c+=v[g]),this.codeMap[n]=65535&c}e.pos=k}return t.encode=function(e,r){var n,i,o,c,a,g,v,x,k,I,S,P,D,U,H,G,z,j,X,Y,et,st,it,vt,at,V,dt,mt,wt,pt,At,St,Lt,jt,_t,lt,Tt,kt,Rt,Ut,ie,Ht,ce,de,Se,Vt;switch(mt=new wy,c=Object.keys(e).sort(function(He,ke){return He-ke}),r){case"macroman":for(D=0,U=(function(){var He=[];for(P=0;P<256;++P)He.push(0);return He})(),G={0:0},o={},wt=0,Lt=c.length;wt<Lt;wt++)G[ce=e[i=c[wt]]]==null&&(G[ce]=++D),o[i]={old:e[i],new:G[e[i]]},U[i]=G[e[i]];return mt.writeUInt16(1),mt.writeUInt16(0),mt.writeUInt32(12),mt.writeUInt16(0),mt.writeUInt16(262),mt.writeUInt16(0),mt.write(U),{charMap:o,subtable:mt.data,maxGlyphID:D+1};case"unicode":for(V=[],k=[],z=0,G={},n={},H=v=null,pt=0,jt=c.length;pt<jt;pt++)G[X=e[i=c[pt]]]==null&&(G[X]=++z),n[i]={old:X,new:G[X]},a=G[X]-i,H!=null&&a===v||(H&&k.push(H),V.push(i),v=a),H=i;for(H&&k.push(H),k.push(65535),V.push(65535),vt=2*(it=V.length),st=2*Math.pow(Math.log(it)/Math.LN2,2),I=Math.log(st/2)/Math.LN2,et=2*it-st,g=[],Y=[],S=[],P=At=0,_t=V.length;At<_t;P=++At){if(at=V[P],x=k[P],at===65535){g.push(0),Y.push(0);break}if(at-(dt=n[at].new)>=32768)for(g.push(0),Y.push(2*(S.length+it-P)),i=St=at;at<=x?St<=x:St>=x;i=at<=x?++St:--St)S.push(n[i].new);else g.push(dt-at),Y.push(0)}for(mt.writeUInt16(3),mt.writeUInt16(1),mt.writeUInt32(12),mt.writeUInt16(4),mt.writeUInt16(16+8*it+2*S.length),mt.writeUInt16(0),mt.writeUInt16(vt),mt.writeUInt16(st),mt.writeUInt16(I),mt.writeUInt16(et),ie=0,lt=k.length;ie<lt;ie++)i=k[ie],mt.writeUInt16(i);for(mt.writeUInt16(0),Ht=0,Tt=V.length;Ht<Tt;Ht++)i=V[Ht],mt.writeUInt16(i);for(de=0,kt=g.length;de<kt;de++)a=g[de],mt.writeUInt16(a);for(Se=0,Rt=Y.length;Se<Rt;Se++)j=Y[Se],mt.writeUInt16(j);for(Vt=0,Ut=S.length;Vt<Ut;Vt++)D=S[Vt],mt.writeUInt16(D);return{charMap:n,subtable:mt.data,maxGlyphID:z+1}}},t})(),NG=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new bz(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=bz.encode(e,r),(i=new wy).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),ydt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),vdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),bdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var c,a,g;for(g=[],o=c=0,a=this.file.maxp.numGlyphs;0<=a?c<a:c>a;o=0<=a?++c:--c)g.push(e.readUInt32());return g}).call(this)}},t})(),_dt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,o,c,a,g,v,x,k,I;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(g={},o=x=0,k=n.length;x<k;o=++x)i=n[o],e.pos=i.offset,v=e.readString(i.length),c=new _dt(v,i),g[I=i.nameID]==null&&(g[I]=[]),g[i.nameID].push(c);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},t})(),wdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Sdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,o,c,a,g;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,x;for(x=[],r=v=0;0<=i?v<i:v>i;r=0<=i?++v:--v)x.push(e.readInt16());return x})(),this.widths=(function(){var v,x,k,I;for(I=[],v=0,x=(k=this.metrics).length;v<x;v++)o=k[v],I.push(o.advance);return I}).call(this),n=this.widths[this.widths.length-1],g=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)g.push(this.widths.push(n));return g},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),LG=[].slice,Edt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,o,c,a,g,v,x,k;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,c=(a=new wy(r.read(i))).readShort(),v=a.readShort(),k=a.readShort(),g=a.readShort(),x=a.readShort(),this.cache[e]=c===-1?new Cdt(a,v,k,g,x):new Tdt(a,c,v,k,g,x),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,o,c,a,g;for(c=[],o=[],a=0,g=r.length;a<g;a++)i=e[r[a]],o.push(c.length),i&&(c=c.concat(i.encode(n)));return o.push(c.length),{table:c,offsets:o}},t})(),Tdt=(function(){function t(e,r,n,i,o,c){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Cdt=(function(){function t(e,r,n,i,o){var c,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;a=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&a;)c.pos+=1&a?4:2,128&a?c.pos+=8:64&a?c.pos+=4:8&a&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new wy(LG.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Adt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Ip),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<n.length;++c)if(n[c]=i,o<r.length&&r[o]==c){++o,n[c]=i;var a=this.offsets[c],g=this.offsets[c+1]-a;g>0&&(i+=g)}for(var v=new Array(4*n.length),x=0;x<n.length;++x)v[4*x+3]=255&n[x],v[4*x+2]=(65280&n[x])>>8,v[4*x+1]=(16711680&n[x])>>16,v[4*x]=(4278190080&n[x])>>24;return v},t})(),kdt=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,o;for(r in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,o,c,a,g;for(i={},c=0,a=e.length;c<a;c++)i[o=e[c]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(n=i[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in g=this.glyphsFor(r))n=g[o],i[o]=n;return i},t.prototype.encode=function(e,r){var n,i,o,c,a,g,v,x,k,I,S,P,D,U,H;for(i in n=NG.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),S={0:0},H=n.charMap)S[(g=H[i]).old]=g.new;for(P in I=n.maxGlyphID,c)P in S||(S[P]=I++);return x=(function(G){var z,j;for(z in j={},G)j[G[z]]=z;return j})(S),k=Object.keys(x).sort(function(G,z){return G-z}),D=(function(){var G,z,j;for(j=[],G=0,z=k.length;G<z;G++)a=k[G],j.push(x[a]);return j})(),o=this.font.glyf.encode(c,D,S),v=this.font.loca.encode(o.offsets,D),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},t})();Li.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,o,c;if(Array.isArray(r))return"["+(function(){var a,g,v;for(v=[],a=0,g=r.length;a<g;a++)n=r[a],v.push(e.convert(n));return v})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)c=r[i],o.push("/"+i+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+r},e})();we.createContext({});function MP(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function MG(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function PG(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function PP(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function Idt(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function Rdt(t,e){var r=PP("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function SL(t){return t.replace(/_/g,".")}function m2(t,e){var r=null,n="-1";return MP(t,function(i){var o=PP("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||i.brand?!1:(r=i,n=o[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=Rdt(i.versionTest.toLowerCase(),e)||n),n=SL(n),!0)}),{preset:r,version:n}}function I5(t,e){var r={brand:"",version:"-1"};return MP(t,function(n){var i=OG(e,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function OG(t,e){return MG(t,function(r){var n=r.brand;return PP(""+e.test,n.toLowerCase())})}var DG=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],BG=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],EL=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],zG=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],FG=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function jG(t){return!!m2(zG,t).preset}function Ndt(t){var e=PG(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:jG(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=m2(DG,e),c=o.preset,a=o.version,g=m2(FG,e),v=g.preset,x=g.version,k=m2(BG,e);if(n.chromium=!!k.preset,n.chromiumVersion=k.version,!n.chromium){var I=m2(EL,e);n.webkit=!!I.preset,n.webkitVersion=I.version}return v&&(i.name=v.id,i.version=x,i.majorVersion=parseInt(x,10)),c&&(n.name=c.id,n.version=a,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function Ldt(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,i=r[0],o=(e.platform||navigator.platform).toLowerCase(),c={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!I5(zG,r).brand||jG(PG())},a={name:"unknown",version:"-1",majorVersion:-1};c.webkit=!c.chromium&&MP(EL,function(I){return OG(r,I)});var g=I5(BG,r);if(c.chromium=!!g.brand,c.chromiumVersion=g.version||"-1",!c.chromium){var v=I5(EL,r);c.webkit=!!v.brand,c.webkitVersion=v.version||"-1"}var x=MG(FG,function(I){return new RegExp(""+I.test,"g").exec(o)});a.name=x?x.id:"";{var k=I5(DG,r);c.name=k.brand||c.name,c.version=k.brand&&t?t.uaFullVersion:k.version}return c.webkit&&(a.name=n?"ios":"mac"),a.name==="ios"&&c.webview&&(c.version="-1"),a.version=SL(a.version),c.version=SL(c.version),a.majorVersion=parseInt(a.version,10),c.majorVersion=parseInt(c.version,10),{browser:c,os:a,isMobile:n,isHints:!0}}function Mdt(t){return Idt()?Ldt():Ndt(t)}function Pdt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}var Odt="function",Ddt="object",Bdt="string",zdt="number",Fdt="undefined",jdt=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],_m=1e-7,R5={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $dt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],c=0,a=o.length;c<a;c++,i++)n[i]=o[c];return n}function _z(t,e,r,n){return(t*n+e*r)/(r+n)}function Vdt(t){return typeof t===Fdt}function TL(t){return t&&typeof t===Ddt}function $G(t){return Array.isArray(t)}function Udt(t){return typeof t===Bdt}function qdt(t){return typeof t===zdt}function Gdt(t){return typeof t===Odt}function Hdt(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function VG(t,e,r,n,i){var o=OP(t,e,r);return o?r:Xdt(t,e,r+1,n,i)}function OP(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function Xdt(t,e,r,n,i){for(var o=function(v){var x=e[v].trim();if(x===t.close&&!OP(t,e,v))return{value:v};var k=v,I=pT(i,function(S){var P=S.open;return P===x});if(I&&(k=VG(I,e,v,n,i)),k===-1)return c=v,"break";v=k,c=v},c,a=r;a<n;++a){var g=o(a);if(a=c,typeof g=="object")return g.value;if(g==="break")break}return-1}function DP(t,e){var r=Udt(e)?{separator:e}:e,n=r.separator,i=n===void 0?",":n,o=r.isSeparateFirst,c=r.isSeparateOnlyOpenClose,a=r.isSeparateOpenClose,g=a===void 0?c:a,v=r.openCloseCharacters,x=v===void 0?jdt:v,k=x.map(function(et){var st=et.open,it=et.close;return st===it?st:st+"|"+it}).join("|"),I="(\\s*"+i+"\\s*|"+k+"|\\s+)",S=new RegExp(I,"g"),P=t.split(S).filter(function(et){return et&&et!=="undefined"}),D=P.length,U=[],H=[];function G(){return H.length?(U.push(H.join("")),H=[],!0):!1}for(var z=function(et){var st=P[et].trim(),it=et,vt=pT(x,function(dt){var mt=dt.open;return mt===st}),at=pT(x,function(dt){var mt=dt.close;return mt===st});if(vt){if(it=VG(vt,P,et,D,x),it!==-1&&g)return G()&&o||(U.push(P.slice(et,it+1).join("")),et=it,o)?(j=et,"break"):(j=et,"continue")}else if(at&&!OP(at,P,et)){var V=$dt(x);return V.splice(x.indexOf(at),1),{value:DP(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:c,isSeparateOpenClose:g,openCloseCharacters:V})}}else if(Hdt(st,i)&&!c)return G(),o?(j=et,"break"):(j=et,"continue");it===-1&&(it=D-1),H.push(P.slice(et,it+1).join("")),et=it,j=et},j,X=0;X<D;++X){var Y=z(X);if(X=j,typeof Y=="object")return Y.value;if(Y==="break")break}return H.length&&U.push(H.join("")),U}function BP(t){return DP(t,"")}function N5(t){return DP(t,",")}function Wdt(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function UG(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function Ydt(t,e){return t.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+e+i.toLowerCase()})}function zP(t,e,r){r===void 0&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function pT(t,e,r){var n=zP(t,e);return n>-1?t[n]:r}function Kdt(t){return Object.keys(t)}function mT(t,e){var r=UG(t),n=r.value,i=r.unit;if(TL(e)){var o=e[i];if(o){if(Gdt(o))return o(n);if(R5[i])return R5[i](n,o)}}else if(i==="%")return n*e/100;return R5[i]?R5[i](n):n}function xz(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function gT(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function mp(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function wz(t,e){return t.forEach(function(r,n){t[n]=mp(t[n],e)}),t}function B1(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Zdt(t,e,r,n,i,o){for(var c=0;c<i;++c){var a=r+c*i,g=n+c*i;t[a]+=t[g]*o,e[a]+=e[g]*o}}function Qdt(t,e,r,n,i){for(var o=0;o<i;++o){var c=r+o*i,a=n+o*i,g=t[c],v=e[c];t[c]=t[a],t[a]=g,e[c]=e[a],e[a]=v}}function Jdt(t,e,r,n,i){for(var o=0;o<n;++o){var c=r+o*n;t[c]/=i,e[c]/=i}}function uw(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=QC(e),i=0;i<e;++i){var o=e*i+i;if(!mp(r[o],_m)){for(var c=i+1;c<e;++c)if(r[e*i+c]){Qdt(r,n,i,c,e);break}}if(!mp(r[o],_m))return[];Jdt(r,n,i,e,r[o]);for(var c=0;c<e;++c){var a=c,g=c+i*e,v=r[g];!mp(v,_m)||i===c||Zdt(r,n,a,i,e,-v)}}return n}function tft(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function eft(t,e){for(var r=QC(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function FP(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function rft(t,e,r){for(var n=QC(r),i=Math.min(e,r),o=0;o<i-1;++o){for(var c=0;c<i-1;++c)n[o*r+c]=t[o*e+c];n[(o+1)*r-1]=t[(o+1)*e-1],n[(r-1)*r+o]=t[(e-1)*e+o]}return n[r*r-1]=t[e*e-1],n}function Rf(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,o=e.length/i;if(i){if(!o)return t}else return e;for(var c=0;c<r;++c)for(var a=0;a<o;++a){n[a*r+c]=0;for(var g=0;g<i;++g)n[a*r+c]+=t[g*r+c]*e[a*i+g]}return n}function xm(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function wm(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function nft(t,e){return e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function r0(t,e,r){r===void 0&&(r=e.length);var n=Rf(t,e,r),i=n[r-1];return n.map(function(o){return o/i})}function ift(t,e){return Rf(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function aft(t,e){return Rf(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function oft(t,e){return Rf(t,sft(e,4))}function L5(t,e){var r=e[0],n=r===void 0?1:r,i=e[1],o=i===void 0?1:i,c=e[2],a=c===void 0?1:c;return Rf(t,[n,0,0,0,0,o,0,0,0,0,a,0,0,0,0,1],4)}function rI(t,e){var r=e[0],n=r===void 0?0:r,i=e[1],o=i===void 0?0:i,c=e[2],a=c===void 0?0:c;return Rf(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,a,1],4)}function Sz(t,e){return Rf(t,e,4)}function sft(t,e){var r=Math.cos(t),n=Math.sin(t),i=QC(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function QC(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function lft(t,e,r,n,i,o,c,a){var g=t[0],v=t[1],x=e[0],k=e[1],I=r[0],S=r[1],P=n[0],D=n[1],U=i[0],H=i[1],G=o[0],z=o[1],j=c[0],X=c[1],Y=a[0],et=a[1],st=[g,0,x,0,I,0,P,0,v,0,k,0,S,0,D,0,1,0,1,0,1,0,1,0,0,g,0,x,0,I,0,P,0,v,0,k,0,S,0,D,0,1,0,1,0,1,0,1,-U*g,-H*g,-G*x,-z*x,-j*I,-X*I,-Y*P,-et*P,-U*v,-H*v,-G*k,-z*k,-j*S,-X*S,-Y*D,-et*D],it=uw(st,8);if(!it.length)return[];var vt=Rf(it,[U,H,G,z,j,X,Y,et],8);return vt[8]=1,rft(tft(vt),3,4)}var j2=function(){return j2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},j2.apply(this,arguments)};function cft(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function z1(t){var e=cft();return t.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(e=n(e,i))}),e}function CL(t,e){e===void 0&&(e=0);var r=$G(t)?t:BP(t);return r.map(function(n){var i=Wdt(n),o=i.prefix,c=i.value,a=null,g=o,v="";if(o==="translate"||o==="translateX"||o==="translate3d"){var x=TL(e)?j2(j2({},e),{"o%":e["%"]}):{"%":e,"o%":e},k=N5(c).map(function(dt,mt){return mt===0&&"x%"in x?x["%"]=e["x%"]:mt===1&&"y%"in x?x["%"]=e["y%"]:x["%"]=e["o%"],mT(dt,x)}),I=k[0],S=k[1],P=S===void 0?0:S,D=k[2],U=D===void 0?0:D;a=rI,v=[I,P,U]}else if(o==="translateY"){var H=TL(e)?j2({"%":e["y%"]},e):{"%":e},P=mT(c,H);a=rI,v=[0,P,0]}else if(o==="translateZ"){var U=parseFloat(c);a=rI,v=[0,0,U]}else if(o==="scale"||o==="scale3d"){var G=N5(c).map(function(dt){return parseFloat(dt)}),z=G[0],j=G[1],X=j===void 0?z:j,Y=G[2],et=Y===void 0?1:Y;a=L5,v=[z,X,et]}else if(o==="scaleX"){var z=parseFloat(c);a=L5,v=[z,1,1]}else if(o==="scaleY"){var X=parseFloat(c);a=L5,v=[1,X,1]}else if(o==="scaleZ"){var et=parseFloat(c);a=L5,v=[1,1,et]}else if(o==="rotate"||o==="rotateZ"||o==="rotateX"||o==="rotateY"){var st=UG(c),it=st.unit,vt=st.value,at=it==="rad"?vt:vt*Math.PI/180;o==="rotate"||o==="rotateZ"?(g="rotateZ",a=oft):o==="rotateX"?a=ift:o==="rotateY"&&(a=aft),v=at}else if(o==="matrix3d")a=Sz,v=N5(c).map(function(dt){return parseFloat(dt)});else if(o==="matrix"){var V=N5(c).map(function(dt){return parseFloat(dt)});a=Sz,v=[V[0],V[1],0,0,V[2],V[3],0,0,0,0,1,0,V[4],V[5],0,1]}else g="";return{name:o,functionName:g,value:c,matrixFunction:a,functionValue:v}})}var Ia=function(){return Ia=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ia.apply(this,arguments)};function Ol(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){c={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return o}function Sm(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Kw(t,e){return Ia({events:[],props:[],name:t},e)}var uft=["n","w","s","e"],hft=["n","w","s","e","nw","ne","sw","se"],vx=Mdt(),dft=vx.browser.webkit;dft&&(function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1})();vx.browser.name;var fft=parseInt(vx.browser.version,10);vx.browser.chromium;parseInt(vx.browser.chromiumVersion,10);parseInt(vx.browser.webkitVersion,10)>=612||fft>=15;var pft="moveable-";hft.map(function(t){var e="",r="",n="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(o,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`);var Sy=1e-7,mft={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]};function gft(t,e,r,n,i,o){var c,a,g=(a=(c=e.gestos[o])===null||c===void 0?void 0:c.move(r,t.inputEvent))!==null&&a!==void 0?a:{},v=g.originalDatas||g.datas,x=v[o]||(v[o]={});return Ia(Ia({},g),{isPinch:!!n,parentEvent:!0,datas:x,originalDatas:t.originalDatas})}var yft=(function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),Ia(Ia({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,i,o=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],i=e[1],this.isFlag=!0;else{var c=this.isDrag;n=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!c&&this.isDrag&&(o=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:o,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t})();function vft(t,e){var r=e.datas,n=t.state,i=n.allMatrix,o=n.beforeMatrix,c=n.is3d,a=n.left,g=n.top,v=n.origin,x=n.offsetMatrix,k=n.targetMatrix,I=n.transformOrigin,S=c?4:3;r.is3d=c,r.matrix=i,r.targetMatrix=k,r.beforeMatrix=o,r.offsetMatrix=x,r.transformOrigin=I,r.inverseMatrix=uw(i,S),r.inverseBeforeMatrix=uw(o,S),r.absoluteOrigin=FP(xm([a,g],v),S),r.startDragBeforeDist=r0(r.inverseBeforeMatrix,r.absoluteOrigin,S),r.startDragDist=r0(r.inverseMatrix,r.absoluteOrigin,S)}function bft(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,o=n.transformIndex,c=i.nextTransforms,a=c.length,g=i.nextTransformAppendedIndexes,v=-1;o===-1?(v=0,v===-1&&(v=c.length),n.transformIndex=v):pT(g,function(S){return S.index===o&&S.functionName===r})?v=o:v=o+g.filter(function(S){return S.index<o}).length;var x=cpt(c,t.state,v),k=x.targetFunction,I=r;n.beforeFunctionTexts=x.beforeFunctionTexts,n.afterFunctionTexts=x.afterFunctionTexts,n.beforeTransform=x.beforeFunctionMatrix,n.beforeTransform2=x.beforeFunctionMatrix2,n.targetTansform=x.targetFunctionMatrix,n.afterTransform=x.afterFunctionMatrix,n.afterTransform2=x.afterFunctionMatrix2,n.targetAllTransform=x.allFunctionMatrix,k.functionName===I?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):a>v&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=Sm(Sm([],Ol(g),!1),[{functionName:r,index:v,isAppend:!0}],!1))}function _ft(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function xft(t){var e=t.datas,r=t.distX,n=t.distY,i=Ol(qG({datas:e,distX:r,distY:n}),2),o=i[0],c=i[1],a=wft(e,eft([o,c],4));return r0(a,FP([0,0,0],4),4)}function wft(t,e,r){var n=t.beforeTransform,i=t.afterTransform;t.beforeTransform2,t.afterTransform2;var o=t.targetAllTransform,c=Rf(e,o,4),a=Rf(uw(n,4),c,4),g=Rf(a,uw(i,4),4);return g}function qG(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,c=e.startDragBeforeDist,a=e.absoluteOrigin,g=o?4:3;return wm(r0(i,xm(a,[r,n]),g),c)}function Sft(t,e){var r=t.datas,n=t.distX,i=t.distY;r.inverseBeforeMatrix;var o=r.inverseMatrix,c=r.is3d;r.startDragBeforeDist;var a=r.startDragDist,g=r.absoluteOrigin,v=c?4:3;return wm(r0(o,xm(g,[n,i]),v),a)}function Eft(t,e){var r=t.datas,n=t.distX,i=t.distY;r.beforeMatrix;var o=r.matrix,c=r.is3d;r.startDragBeforeDist;var a=r.startDragDist,g=r.absoluteOrigin,v=c?4:3;return wm(r0(o,xm(a,[n,i]),v),g)}function nI(t,e){var r=(e+1)/2;return[_z(t[0][0],t[1][0],r,1-r),_z(t[0][1],t[1][1],r,1-r)]}function F1(t,e){var r=nI([t[0],t[1]],e[0]),n=nI([t[2],t[3]],e[0]);return nI([r,n],e[1])}function Tft(t,e){var r=Zw(e);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=$G(n)?n:BP(n),AL(t,e,i)},setTransformIndex:function(n){AL(t,e,n)}}}function Cft(t,e,r){var n=Zw(e),i=n.startTransforms;AL(t,e,zP(i,function(o){return o.indexOf("".concat(r,"("))===0}))}function AL(t,e,r){var n=Zw(e),i=e.datas;if(i.transformIndex=r,r!==-1){var o=n.startTransforms[r];if(o){var c=t.state,a=CL([o],{"x%":function(g){return g/100*c.offsetWidth},"y%":function(g){return g/100*c.offsetHeight}});i.startValue=a[0].functionValue}}}function Aft(t,e){var r=Zw(t);r.nextTransforms=BP(e)}function Zw(t){return t.originalDatas.beforeRenderable}function kft(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map(function(c,a){return o[a]=o[a]||{},o[a][e]=o[a][e]||{},Ia(Ia({},r),{isRequestChild:!0,datas:o[a][e],originalDatas:o[a]})})}function iI(t,e,r,n,i,o,c){var a=!!r.match(/Start$/g),g=!!r.match(/End$/g),v=i.isPinch,x=i.datas,k=kft(t,e.name,i),I=t.moveables,S=[],P=k.map(function(D,U){var H=I[U],G=H.state,z=G.gestos,j=D;if(a)j=new yft(c).dragStart(n,D),S.push(j);else{if(z[c]||(z[c]=x.childGestos[U]),!z[c])return;j=gft(D,G,n,v,o,c),S.push(j)}var X=e[r](H,Ia(Ia({},j),{parentFlag:!0}));return g&&(z[c]=null),X});return a&&(x.childGestos=I.map(function(D){return D.state.gestos[c]})),{eventParams:P,childEvents:S}}function Ift(t,e,r,n,i,o){for(var c=[],a=6;a<arguments.length;a++)c[a-6]=arguments[a];var g=gT(r,n),v=e?mp(g/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:pm.apply(void 0,Sm(["line","direction",e?"edge":"",e],Ol(c),!1)),"data-rotation":v,"data-line-key":o,"data-direction":e,style:opt(r,n,i,g)})}function Rft(t,e,r,n,i){var o=r===!0?uft:r;return o.map(function(c,a){var g=Ol(mft[c],2),v=g[0],x=g[1];if(x!=null)return Ift(t,c,n[v],n[x],i,"".concat(e,"Edge").concat(a),e)}).filter(Boolean)}function Nft(t,e,r){var n=t||{},i=n.position,o=i===void 0?"client":i,c=n.left,a=c===void 0?-1/0:c,g=n.top,v=g===void 0?-1/0:g,x=n.right,k=x===void 0?1/0:x,I=n.bottom,S=I===void 0?1/0:I,P={position:o,left:a,top:v,right:k,bottom:S};return{vertical:Ez(P,e,!0),horizontal:Ez(P,r,!1)}}function Lft(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,o=n.clientWidth,c=n.clientLeft,a=n.clientTop,g=r.snapOffset,v=g.left,x=g.top,k=g.right,I=g.bottom,S=t.props.bounds||{},P=S.position||"client",D=P==="css",U=S.left,H=U===void 0?-1/0:U,G=S.top,z=G===void 0?-1/0:G,j=S.right,X=j===void 0?D?-1/0:1/0:j,Y=S.bottom,et=Y===void 0?D?-1/0:1/0:Y;return D&&(X=o+k-v-X,et=i+I-x-et),{left:H+v-c,right:X+v-c,top:z+x-a,bottom:et+x-a}}function Ez(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],o=Math.min.apply(Math,Sm([],Ol(e),!1)),c=Math.max.apply(Math,Sm([],Ol(e),!1)),a=[];return n+1>o&&a.push({direction:"start",isBound:!0,offset:o-n,pos:n}),i-1<c&&a.push({direction:"end",isBound:!0,offset:c-i,pos:i}),a.length||a.push({isBound:!1,offset:0,pos:0}),a.sort(function(g,v){return Oo(v.offset)-Oo(g.offset)})}var Mft=["left","right","center"],Pft=["top","bottom","middle"];function Oft(t,e){var r=t.props,n=r.snappable,i=r.bounds,o=r.innerBounds,c=r.verticalGuidelines,a=r.horizontalGuidelines,g=r.snapGridWidth,v=r.snapGridHeight,x=t.state,k=x.guidelines,I=x.enableSnap;return!n||!I||n!==!0&&n.indexOf(e)<0?!1:!!(g||v||i||o||k&&k.length||c&&c.length||a&&a.length)}function GG(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function Dft(t,e){var r=GG(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}function Bft(t,e){var r=Dft(t,e),n=Pft.filter(function(o){return o in r}),i=Mft.filter(function(o){return o in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(o){return r[o]}),vertical:i.map(function(o){return r[o]})}}function zft(t){var e=Ol(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];Math.abs(i)<_m&&(i=0),Math.abs(o)<_m&&(o=0);var c=0,a=0,g=0;return i?o?(c=-o/i,a=1,g=c*r[0]-r[1]):(a=1,g=-r[1]):(c=-1,g=r[0]),[c,a,g].map(function(v){return mp(v,_m)})}var Fft="snapHorizontalThreshold",jft="snapVerticalThreshold";function $ft(t,e,r,n,i,o,c){var a;n===void 0&&(n=[]),i===void 0&&(i=[]);var g=t.props,v=((a=t.state.snapThresholdInfo)===null||a===void 0?void 0:a.multiples)||[1,1],x=Rz(c,g[Fft],5),k=Rz(o,g[jft],5);return Vft(t.state.guidelines,e,r,n,i,x,k,v)}function Vft(t,e,r,n,i,o,c,a){return{vertical:Tz(t,"vertical",e,c*a[0],n),horizontal:Tz(t,"horizontal",r,o*a[1],i)}}function Uft(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,o=n.dist,c=n.guideline;return{isSnap:e,offset:i,dist:o,pos:r.pos,guideline:c}}function Tz(t,e,r,n,i){var o,c;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var a=e==="vertical",g=a?0:1,v=r.map(function(k,I){var S=i[I]||"",P=t.map(function(D){var U=D.pos,H=k-U[g];return{offset:H,dist:Oo(H),guideline:D,direction:S}}).filter(function(D){var U=D.guideline,H=D.dist,G=U.type;return!(G!==e||H>n)}).sort(function(D,U){return D.dist-U.dist});return{pos:k,index:I,guidelineInfos:P,direction:S}}).filter(function(k){return k.guidelineInfos.length>0}).sort(function(k,I){return k.guidelineInfos[0].dist-I.guidelineInfos[0].dist}),x=v.length>0;return{isSnap:x,index:x?v[0].index:-1,direction:(c=(o=v[0])===null||o===void 0?void 0:o.direction)!==null&&c!==void 0?c:"",posInfos:v}}function qft(t,e){var r=Oo(t.offset),n=Oo(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<Sy?1:n<Sy?-1:r-n}function Cz(t,e){return t.slice().sort(function(r,n){var i=r.sign[e],o=n.sign[e],c=r.offset[e],a=n.offset[e];if(i){if(!o)return-1}else return 1;return qft({isBound:r.isBound,isSnap:r.isSnap,offset:c},{isBound:n.isBound,isSnap:n.isSnap,offset:a})})[0]}function Gft(t,e){var r=xz([e[0][0],e[1][0]]),n=xz([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function HG(t,e){var r=Ol(e,2),n=r[0],i=r[1],o=i[0]-n[0],c=i[1]-n[1];Oo(o)<Sy&&(o=0),Oo(c)<Sy&&(c=0);var a,g;if(!o)a=n[0],g=t[0];else if(!c)a=n[1],g=t[1];else{var v=c/o;a=v*(t[0]-n[0])+n[1],g=t[1]}return a-g}function Hft(t,e,r,n){return n===void 0&&(n=Sy),t.every(function(i){var o=HG(i,e),c=o<=0;return c===r||Oo(o)<=n})}function Az(t,e,r,n,i){return i===void 0&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function Xft(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,o=e.horizontalSign,c=e.lineConstants,a=t.props.innerBounds;if(!a)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=a.left,v=a.top,x=a.width,k=a.height,I=[[g,v],[g,v+k]],S=[[g,v],[g+x,v]],P=[[g+x,v],[g+x,v+k]],D=[[g,v+k],[g+x,v+k]];if(Hft([[g,v],[g+x,v],[g,v+k],[g+x,v+k]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var U=M5(r,c,S,i),H=M5(r,c,D,i),G=M5(r,c,I,o),z=M5(r,c,P,o),j=U.isBound&&H.isBound,X=U.isBound||H.isBound,Y=G.isBound&&z.isBound,et=G.isBound||z.isBound,st=J_(U.offset,H.offset),it=J_(G.offset,z.offset),vt=[0,0],at=!1,V=!1;return Oo(it)<Oo(st)?(vt=[st,0],at=X,V=j):(vt=[0,it],at=et,V=Y),{isAllBound:V,isVerticalBound:X,isHorizontalBound:et,isBound:at,offset:vt}}function M5(t,e,r,n,i,o){var c=Ol(e,2),a=c[0],g=c[1],v=t[0],x=r[0],k=r[1],I=Nz(k[1]-x[1]),S=Nz(k[0]-x[0]),P=g,D=a,U=-a/g;if(S){if(!I)if(D){var H=(x[1]-v[1])/U+v[0];return Az(H,x[0],k[0],n,i)}else{var G=x[1]-v[1],z=Oo(G)<=0;return{isBound:z,offset:z?G:0}}}else if(P){var j=U*(x[0]-v[0])+v[1];return Az(j,x[1],k[1],n,i)}else{var G=x[0]-v[0],z=Oo(G)<=0;return{isBound:z,offset:z?G:0}}return{isBound:!1,offset:0}}function Wft(t,e,r){return e.map(function(n){var i=Xft(t,n),o=i.isBound,c=i.offset,a=i.isVerticalBound,g=i.isHorizontalBound,v=n.multiple,x=Sft({datas:r,distX:c[0],distY:c[1]}).map(function(k,I){return k*(v[I]?2/v[I]:0)});return{sign:v,isBound:o,isVerticalBound:a,isHorizontalBound:g,isSnap:!1,offset:x}})}function Yft(t,e,r){var n,i=Zft(t,e).map(function(I){return Ia(Ia({},I),{multiple:I.multiple.map(function(S){return Oo(S)*2})})}),o=Wft(t,i,r),c=Cz(o,0),a=Cz(o,1),g=0,v=0,x=c.isVerticalBound||a.isVerticalBound,k=c.isHorizontalBound||a.isHorizontalBound;return(x||k)&&(n=Ol(Eft({datas:r,distX:-c.offset[0],distY:-a.offset[1]}),2),g=n[0],v=n[1]),{vertical:{isBound:x,offset:g},horizontal:{isBound:k,offset:v}}}function Kft(t,e){var r=[];return r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function Zft(t,e,r,n){var i=t.state,o=i.allMatrix,c=i.is3d,a=npt(o,100,100,c?4:3),g=F1(a,[0,0]);return Kft().map(function(v){var x=Ol(v,3),k=x[0],I=x[1],S=x[2],P=[F1(a,I),F1(a,S)],D=zft(P),U=Gft(g,P),H=U.vertical,G=U.horizontal,z=HG(g,P)<=0;return{multiple:k,centerSign:z,verticalSign:H,horizontalSign:G,lineConstants:D,line:[F1(e,I),F1(e,S)]}})}function kz(t,e){return t.isBound?t.offset:e.isSnap?Uft(e).offset:0}function Qft(t,e,r,n,i){var o=Ol(e,2),c=o[0],a=o[1],g=Ol(r,2),v=g[0],x=g[1],k=Ol(n,2),I=k[0],S=k[1],P=Ol(i,2),D=P[0],U=P[1],H=-D,G=-U;if(t&&c&&a){H=0,G=0;var z=[];if(v&&x?z.push([0,U],[D,0]):v?z.push([D,0]):x?z.push([0,U]):I&&S?z.push([0,U],[D,0]):I?z.push([D,0]):S&&z.push([0,U]),z.length){z.sort(function(et,st){return hw(wm([c,a],et))-hw(wm([c,a],st))});var j=z[0];if(j[0]&&Oo(c)>_m)H=-j[0],G=a*Oo(c+H)/Oo(c)-a;else if(j[1]&&Oo(a)>_m){var X=a;G=-j[1],H=c*Oo(a+G)/Oo(X)-c}if(t&&x&&v)if(Oo(H)>_m&&Oo(H)<Oo(D)){var Y=Oo(D)/Oo(H);H*=Y,G*=Y}else if(Oo(G)>_m&&Oo(G)<Oo(U)){var Y=Oo(U)/Oo(G);H*=Y,G*=Y}else H=J_(-D,H),G=J_(-U,G)}}else H=c||v?-D:0,G=a||x?-U:0;return[H,G]}function Jft(t,e,r,n,i,o){if(!Oft(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var c=WG(o.absolutePoses,[e,r]),a=ipt(c),g=a.left,v=a.right,x=a.top,k=a.bottom,I={horizontal:c.map(function(mt){return mt[1]}),vertical:c.map(function(mt){return mt[0]})},S=GG(t.props.snapDirections),P=Bft(S,{left:g,right:v,top:x,bottom:k,center:(g+v)/2,middle:(x+k)/2}),D=tpt(t,i,P,I),U=D.vertical,H=D.horizontal,G=Yft(t,c,o),z=G.vertical,j=G.horizontal,X=U.isSnap,Y=H.isSnap,et=U.isBound||z.isBound,st=H.isBound||j.isBound,it=J_(U.offset,z.offset),vt=J_(H.offset,j.offset),at=Ol(Qft(n,[e,r],[et,st],[X,Y],[it,vt]),2),V=at[0],dt=at[1];return[{isBound:et,isSnap:X,offset:V},{isBound:st,isSnap:Y,offset:dt}]}function tpt(t,e,r,n){n===void 0&&(n=r);var i=Nft(Lft(t),n.vertical,n.horizontal),o=i.horizontal,c=i.vertical,a=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:$ft(t,r.vertical,r.horizontal,void 0,void 0,void 0,void 0),g=a.horizontal,v=a.vertical,x=kz(o[0],g),k=kz(c[0],v),I=Oo(x),S=Oo(k);return{horizontal:{isBound:o[0].isBound,isSnap:g.isSnap,snapIndex:g.index,offset:x,dist:I,bounds:o,snap:g},vertical:{isBound:c[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:k,dist:S,bounds:c,snap:v}}}var bv={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,o=r.zoom,c=t.getState(),a=c.dragInfo,g=c.beforeOrigin;if(n||!i||!a)return[];var v=a.dist;if(!v[0]&&!v[1])return[];var x=hw(v),k=gT(v,[0,0]);return[e.createElement("div",{className:pm("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(x,"px"),transform:"translate(".concat(g[0],"px, ").concat(g[1],"px) rotate(").concat(k,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,o=t.state,c=o.gestos,a=o.style;if(c.draggable)return!1;c.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(a.left||"")||0,r.top=parseFloat(a.top||"")||0,r.bottom=parseFloat(a.bottom||"")||0,r.right=parseFloat(a.right||"")||0,r.startValue=[0,0],vft(t,e),Cft(t,e,"translate"),ept(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var g=Q_(t,e,Ia({set:function(x){r.startValue=x}},Tft(t,e))),v=n||fp(t,"onDragStart",g);return v!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(c.draggable=null,r.isPinch=!1),r.isDrag?g:!1},drag:function(t,e){if(e){bft(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,o=e.isPinch,c=e.deltaOffset,a=e.useSnap,g=e.isRequest,v=e.isGroup,x=e.parentThrottleDrag,k=e.distX,I=e.distY,S=r.isDrag,P=r.prevDist,D=r.prevBeforeDist,U=r.startValue;if(S){c&&(k+=c[0],I+=c[1]);var H=t.props,G=H.parentMoveable,z=v?0:H.throttleDrag||x||0,j=n?0:H.throttleDragRotate||0,X=0,Y=!1,et=!1,st=!1,it=!1;if(!n&&j>0&&(k||I)){var vt=H.startDragRotate||0,at=mp(vt+gT([0,0],[k,I])*180/Math.PI,j)-vt,V=I*Math.abs(Math.cos((at-90)/180*Math.PI)),dt=k*Math.abs(Math.cos(at/180*Math.PI)),mt=hw([dt,V]);X=at*Math.PI/180,k=mt*Math.cos(X),I=mt*Math.sin(X)}if(!o&&!n&&!i){var wt=Ol(Jft(t,k,I,j,!a&&g||c,r),2),pt=wt[0],At=wt[1];Y=pt.isSnap,et=pt.isBound,st=At.isSnap,it=At.isBound;var St=pt.offset,Lt=At.offset;k+=St,I+=Lt}var jt=xm(qG({datas:r,distX:k,distY:I}),U),_t=xm(xft({datas:r,distX:k,distY:I}),U);wz(_t,Sy),wz(jt,Sy),j||(!Y&&!et&&(_t[0]=mp(_t[0],z),jt[0]=mp(jt[0],z)),!st&&!it&&(_t[1]=mp(_t[1],z),jt[1]=mp(jt[1],z)));var lt=wm(jt,U),Tt=wm(_t,U),kt=wm(Tt,P),Rt=wm(lt,D);r.prevDist=Tt,r.prevBeforeDist=lt,r.passDelta=kt,r.passDist=Tt;var Ut=r.left+lt[0],ie=r.top+lt[1],Ht=r.right-lt[0],ce=r.bottom-lt[1],de=_ft(r,"translate(".concat(_t[0],"px, ").concat(_t[1],"px)"),"translate(".concat(Tt[0],"px, ").concat(Tt[1],"px)"));if(Aft(e,de),t.state.dragInfo.dist=n?[0,0]:Tt,!(!n&&!G&&kt.every(function(Jt){return!Jt})&&Rt.some(function(Jt){return!Jt}))){var Se=t.state,Vt=Se.width,He=Se.height,ke=Q_(t,e,Ia({transform:de,dist:Tt,delta:kt,translate:_t,beforeDist:lt,beforeDelta:Rt,beforeTranslate:jt,left:Ut,top:ie,right:Ht,bottom:ce,width:Vt,height:He,isPinch:o},lpt({transform:de},e)));return!n&&fp(t,"onDrag",ke),ke}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,Ia(Ia({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=kL(t,e,{});return!r&&fp(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r,n,i=e.datas,o=e.clientX,c=e.clientY,a=this.dragStart(t,e);if(!a)return!1;var g=iI(t,this,"dragStart",[o||0,c||0],e,!1,"draggable"),v=g.childEvents,x=g.eventParams,k=Ia(Ia({},a),{targets:t.props.targets,events:x}),I=fp(t,"onDragGroupStart",k);i.isDrag=I!==!1;var S=(n=(r=v[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[S[0]%1,S[1]%1],i.isDrag?a:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,Ia(Ia({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,o=iI(t,this,"drag",i,e,!1,"draggable").eventParams;if(n){var c=Ia({targets:t.props.targets,events:o},n);return fp(t,"onDragGroup",c),c}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var i=iI(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return fp(t,"onDragGroupEnd",kL(t,e,{targets:t.props.targets,events:i})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=!1;return{isControl:!1,requestStart:function(c){return o=c.useSnap,{datas:e,useSnap:o}},request:function(c){return"x"in c?n=c.x-r.left:"deltaX"in c&&(n+=c.deltaX),"y"in c?i=c.y-r.top:"deltaY"in c&&(i+=c.deltaY),{datas:e,distX:n,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function ept(t,e){e.absolutePoses=spt(t.state)}function pm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pdt.apply(void 0,Sm([pft],Ol(t),!1))}function rpt(t,e){return"".concat("matrix3d","(").concat(nft(t,!1).join(","),")")}function XG(t,e,r){return r0(t,FP(e,r),r)}function npt(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(i){return XG(t,i,n)})}function ipt(t){var e=t.map(function(v){return v[0]}),r=t.map(function(v){return v[1]}),n=Math.min.apply(Math,Sm([],Ol(e),!1)),i=Math.min.apply(Math,Sm([],Ol(r),!1)),o=Math.max.apply(Math,Sm([],Ol(e),!1)),c=Math.max.apply(Math,Sm([],Ol(r),!1)),a=o-n,g=c-i;return{left:n,top:i,right:o,bottom:c,width:a,height:g}}function hw(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function apt(t,e){return hw([e[0]-t[0],e[1]-t[1]])}function opt(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=gT(t,e));var i=apt(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function Iz(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,o=r.reduce(function(a,g){return a+g[0]},0)/i,c=r.reduce(function(a,g){return a+g[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(c,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function WG(t,e){return[xm(e,t[0]),xm(e,t[1]),xm(e,t[2]),xm(e,t[3])]}function spt(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,o=t.pos3,c=t.pos4;return WG([n,i,o,c],[e,r])}function lpt(t,e){if(e){var r=Zw(e);r.nextStyle=Ia(Ia({},r.nextStyle),t)}return{style:t,cssText:Kdt(t).map(function(n){return"".concat(Ydt(n,"-"),": ").concat(t[n],";")}).join("")}}function Q_(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var o=Ia(Ia({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var c;(c=e.stop)===null||c===void 0||c.call(e)}});return i.isStartEvent?i.lastEvent=o:i.isStartEvent=!0,o}function kL(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),Ia(Ia({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function fp(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function Rz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Vdt(i))return i}return t[r]}function J_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return Oo(n)-Oo(r)}),t[0]}function Nz(t){return Oo(t)<=Sy?0:t}function cpt(t,e,r){var n,i=CL(t,{"x%":function(X){return X/100*e.offsetWidth},"y%":function(X){return X/100*e.offsetHeight}}),o=t.slice(0,r<0?void 0:r),c=t.slice(0,r<0?void 0:r+1),a=t[r]||"",g=r<0?[]:t.slice(r),v=r<0?[]:t.slice(r+1),x=i.slice(0,r<0?void 0:r),k=i.slice(0,r<0?void 0:r+1),I=(n=i[r])!==null&&n!==void 0?n:CL([""])[0],S=r<0?[]:i.slice(r),P=r<0?[]:i.slice(r+1),D=I?[I]:[],U=z1(x),H=z1(k),G=z1(S),z=z1(P),j=Rf(U,G,4);return{transforms:t,beforeFunctionMatrix:U,beforeFunctionMatrix2:H,targetFunctionMatrix:z1(D),afterFunctionMatrix:G,afterFunctionMatrix2:z,allFunctionMatrix:j,beforeFunctions:x,beforeFunctions2:k,targetFunction:D[0],afterFunctions:S,afterFunctions2:P,beforeFunctionTexts:o,beforeFunctionTexts2:c,targetFunctionText:a,afterFunctionTexts:g,afterFunctionTexts2:v}}function IL(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=Ol(t.split(" "),2),n=r[0],i=r[1],o=IL(n||""),c=IL(i||""),a=Ia(Ia({},o),c),g={x:"50%",y:"50%"};return a.x&&(g.x=a.x),a.y&&(g.y=a.y),a.value&&(a.x&&!a.y&&(g.y=a.value),!a.x&&a.y&&(g.x=a.value)),g}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function upt(t,e,r){var n=IL(t,!0),i=n.x,o=n.y;return[mT(i,e)||0,mT(o,r)||0]}function Oo(t){return Math.abs(t)}function hpt(t){return qdt(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}Kw("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,o=e.originalDatas,c=t.props,a=c.pinchable,g=c.ables;if(!a)return!1;var v="onPinch".concat(n?"Group":"","Start"),x="drag".concat(n?"Group":"","ControlStart"),k=(a===!0?t.controlAbles:g.filter(function(D){return a.indexOf(D.name)>-1})).filter(function(D){return D.canPinch&&D[x]}),I=Q_(t,e,{});n&&(I.targets=n);var S=fp(t,v,I);r.isPinch=S!==!1,r.ables=k;var P=r.isPinch;return P?(k.forEach(function(D){if(o[D.name]=o[D.name]||{},!!D[x]){var U=Ia(Ia({},e),{datas:o[D.name],parentRotate:i,isPinch:!0});D[x](t,U)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},P):!1},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,o=e.originalDatas,c=e.inputEvent,a=e.targets,g=e.angle;if(r.isPinch){var v=i*(1-1/n),x=Q_(t,e,{});a&&(x.targets=a);var k="onPinch".concat(a?"Group":"");fp(t,k,x);var I=r.ables,S="drag".concat(a?"Group":"","Control");return I.forEach(function(P){P[S]&&P[S](t,Ia(Ia({},e),{datas:o[P.name],inputEvent:c,resolveMatrix:!0,pinchScale:n,parentDistance:v,parentRotate:g,isPinch:!0}))}),x}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.targets,c=e.originalDatas;if(r.isPinch){var a="onPinch".concat(o?"Group":"","End"),g=kL(t,e,{isDrag:n});o&&(g.targets=o),fp(t,a,g);var v=r.ables,x="drag".concat(o?"Group":"","ControlEnd");return v.forEach(function(k){k[x]&&k[x](t,Ia(Ia({},e),{isDrag:n,datas:c[k.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,Ia(Ia({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Ia(Ia({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Ia(Ia({},e),{targets:t.props.targets}))}});pm("view-dragging");Kw("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,i=r.svgOrigin,o=r.groupable,c=t.getState(),a=c.beforeOrigin,g=c.rotation,v=c.svg,x=c.allMatrix,k=c.is3d,I=c.left,S=c.top,P=c.offsetWidth,D=c.offsetHeight,U;if(!o&&v&&i){var H=Ol(upt(i,P,D),2),G=H[0],z=H[1],j=k?4:3,X=XG(x,[G,z],j);U=Iz(g,n,wm(X,[I,S]))}else U=Iz(g,n,a);return[e.createElement("div",{className:pm("control","origin"),style:U,key:"beforeOrigin"})]}});Kw("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=hpt(r.padding||{}),i=n.left,o=n.top,c=n.right,a=n.bottom,g=t.getState(),v=g.renderPoses,x=g.pos1,k=g.pos2,I=g.pos3,S=g.pos4,P=[x,k,I,S],D=[];return i>0&&D.push([0,2]),o>0&&D.push([0,1]),c>0&&D.push([1,3]),a>0&&D.push([2,3]),D.map(function(U,H){var G=Ol(U,2),z=G[0],j=G[1],X=P[z],Y=P[j],et=v[z],st=v[j],it=lft([0,0],[100,0],[0,100],[100,100],X,Y,et,st);if(it.length)return e.createElement("div",{key:"padding".concat(H),className:pm("padding"),style:{transform:rpt(it)}})})}});Kw("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,o=t.isMoveableElement(i),c=!o&&t.controlBox.contains(i);if(!(!n||!i||e.isDrag||t.isMoveableElement(i)||c)){var a=r.contains(i);fp(t,"onClick",Q_(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var i=t.props.targets,o=i.indexOf(n),c=o>-1,a=!1;o===-1&&(o=zP(i,function(g){return g.contains(n)}),a=o>-1),fp(t,"onClickGroup",Q_(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:o,isTarget:c,containsTarget:a,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Sb(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),Ia(Ia({},t),{datas:e})}Kw("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?Rft(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&B1(i,pm("direction"))&&B1(i,pm("edge"))&&B1(i,pm("edgeDraggable"))},dragStart:function(t,e){return bv.dragStart(t,Sb(e))},drag:function(t,e){return bv.drag(t,Sb(e))},dragEnd:function(t,e){return bv.dragEnd(t,Sb(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&B1(i,pm("direction"))&&B1(i,pm("line"))},dragGroupStart:function(t,e){return bv.dragGroupStart(t,Sb(e))},dragGroup:function(t,e){return bv.dragGroup(t,Sb(e))},dragGroupEnd:function(t,e){return bv.dragGroupEnd(t,Sb(e))},unset:function(t){return bv.unset(t)}});var RL={exports:{}},dpt=RL.exports,Lz;function fpt(){return Lz||(Lz=1,(function(t,e){(function(r,n){t.exports=n()})(dpt,(function(){function r(A,m){(m==null||m>A.length)&&(m=A.length);for(var y=0,C=Array(m);y<m;y++)C[y]=A[y];return C}function n(A,m,y){return m=x(m),(function(C,F){if(F&&(typeof F=="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt})(C)})(A,I()?Reflect.construct(m,y||[],x(A).constructor):m.apply(A,y))}function i(A,m){if(!(A instanceof m))throw new TypeError("Cannot call a class as a function")}function o(A,m,y){if(I())return Reflect.construct.apply(null,arguments);var C=[null];C.push.apply(C,m);var F=new(A.bind.apply(A,C));return y&&S(F,y.prototype),F}function c(A,m){for(var y=0;y<m.length;y++){var C=m[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,U(C.key),C)}}function a(A,m,y){return m&&c(A.prototype,m),y&&c(A,y),Object.defineProperty(A,"prototype",{writable:!1}),A}function g(A,m){var y=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!y){if(Array.isArray(A)||(y=H(A))||m){y&&(A=y);var C=0,F=function(){};return{s:F,n:function(){return C>=A.length?{done:!0}:{done:!1,value:A[C++]}},e:function(re){throw re},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt,xt=!0,Dt=!1;return{s:function(){y=y.call(A)},n:function(){var re=y.next();return xt=re.done,re},e:function(re){Dt=!0,nt=re},f:function(){try{xt||y.return==null||y.return()}finally{if(Dt)throw nt}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(A,m,y){var C=(function(nt,xt){for(;!{}.hasOwnProperty.call(nt,xt)&&(nt=x(nt))!==null;);return nt})(A,m);if(C){var F=Object.getOwnPropertyDescriptor(C,m);return F.get?F.get.call(arguments.length<3?A:y):F.value}},v.apply(null,arguments)}function x(A){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},x(A)}function k(A,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(m&&m.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),m&&S(A,m)}function I(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(I=function(){return!!A})()}function S(A,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,C){return y.__proto__=C,y},S(A,m)}function P(A,m,y,C){var F=v(x(1&C?A.prototype:A),m,y);return 2&C&&typeof F=="function"?function(nt){return F.apply(y,nt)}:F}function D(A){return(function(m){if(Array.isArray(m))return r(m)})(A)||(function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)})(A)||H(A)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function U(A){var m=(function(y,C){if(typeof y!="object"||!y)return y;var F=y[Symbol.toPrimitive];if(F!==void 0){var nt=F.call(y,C);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)})(A,"string");return typeof m=="symbol"?m:m+""}function H(A,m){if(A){if(typeof A=="string")return r(A,m);var y={}.toString.call(A).slice(8,-1);return y==="Object"&&A.constructor&&(y=A.constructor.name),y==="Map"||y==="Set"?Array.from(A):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?r(A,m):void 0}}function G(A){var m=typeof Map=="function"?new Map:void 0;return G=function(y){if(y===null||!(function(F){try{return Function.toString.call(F).indexOf("[native code]")!==-1}catch{return typeof F=="function"}})(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(y))return m.get(y);m.set(y,C)}function C(){return o(y,arguments,x(this).constructor)}return C.prototype=Object.create(y.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S(C,y)},G(A)}var z=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(m){this._quadrantSegments=m,this._quadrantSegments===0&&(this._joinStyle=A.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=A.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),m<=0&&(this._quadrantSegments=1),this._joinStyle!==A.JOIN_ROUND&&(this._quadrantSegments=A.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(m){this._joinStyle=m}},{key:"setSimplifyFactor",value:function(m){this._simplifyFactor=m<0?0:m}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(m){this._endCapStyle=m}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(m){this._mitreLimit=m}},{key:"setSingleSided",value:function(m){this._isSingleSided=m}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=A.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=A.CAP_ROUND,this._joinStyle=A.JOIN_ROUND,this._mitreLimit=A.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=A.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var m=arguments[0];this.setQuadrantSegments(m)}else if(arguments.length===2){var y=arguments[0],C=arguments[1];this.setQuadrantSegments(y),this.setEndCapStyle(C)}else if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3];this.setQuadrantSegments(F),this.setEndCapStyle(nt),this.setJoinStyle(xt),this.setMitreLimit(Dt)}}}},{key:"bufferDistanceError",value:function(m){var y=Math.PI/2/m;return 1-Math.cos(y/2)}}])})();z.CAP_ROUND=1,z.CAP_FLAT=2,z.CAP_SQUARE=3,z.JOIN_ROUND=1,z.JOIN_MITRE=2,z.JOIN_BEVEL=3,z.DEFAULT_QUADRANT_SEGMENTS=8,z.DEFAULT_MITRE_LIMIT=5,z.DEFAULT_SIMPLIFY_FACTOR=.01;var j=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({Exception:m})[0],C}return k(m,A),a(m,[{key:"toString",value:function(){return this.message}}])})(G(Error)),X=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({IllegalArgumentException:m})[0],C}return k(m,A),a(m)})(j),Y=(function(){return a((function A(){i(this,A)}),[{key:"filter",value:function(A){}}])})();function et(){}function st(){}function it(){}var vt,at,V,dt,mt,wt,pt,At,St=(function(){return a((function A(){i(this,A)}),null,[{key:"equalsWithTolerance",value:function(A,m,y){return Math.abs(A-m)<=y}}])})(),Lt=(function(){return a((function A(m,y){i(this,A),this.low=y||0,this.high=m||0}),null,[{key:"toBinaryString",value:function(A){var m,y="";for(m=2147483648;m>0;m>>>=1)y+=(A.high&m)===m?"1":"0";for(m=2147483648;m>0;m>>>=1)y+=(A.low&m)===m?"1":"0";return y}}])})();function jt(){}function _t(){}jt.NaN=NaN,jt.isNaN=function(A){return Number.isNaN(A)},jt.isInfinite=function(A){return!Number.isFinite(A)},jt.MAX_VALUE=Number.MAX_VALUE,jt.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,jt.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(wt=2146435072,pt=new Float64Array(1),At=new Int32Array(pt.buffer),jt.doubleToLongBits=function(A){pt[0]=A;var m=0|At[0],y=0|At[1];return(y&wt)===wt&&1048575&y&&m!==0&&(m=0,y=2146959360),new Lt(y,m)},jt.longBitsToDouble=function(A){return At[0]=A.low,At[1]=A.high,pt[0]}):(vt=1023,at=Math.log2,V=Math.floor,dt=Math.pow,mt=(function(){for(var A=53;A>0;A--){var m=dt(2,A)-1;if(V(at(m))+1===A)return m}return 0})(),jt.doubleToLongBits=function(A){var m,y,C,F,nt,xt,Dt,re,_e;if(A<0||1/A===Number.NEGATIVE_INFINITY?(xt=1<<31,A=-A):xt=0,A===0)return new Lt(re=xt,_e=0);if(A===1/0)return new Lt(re=2146435072|xt,_e=0);if(A!=A)return new Lt(re=2146959360,_e=0);if(F=0,_e=0,(m=V(A))>1)if(m<=mt)(F=V(at(m)))<=20?(_e=0,re=m<<20-F&1048575):(_e=m%(y=dt(2,C=F-20))<<32-C,re=m/y&1048575);else for(C=m,_e=0;(C=V(y=C/2))!==0;)F++,_e>>>=1,_e|=(1&re)<<31,re>>>=1,y!==C&&(re|=524288);if(Dt=F+vt,nt=m===0,m=A-m,F<52&&m!==0)for(C=0;;){if((y=2*m)>=1?(m=y-1,nt?(Dt--,nt=!1):(C<<=1,C|=1,F++)):(m=y,nt?--Dt==0&&(F++,nt=!1):(C<<=1,F++)),F===20)re|=C,C=0;else if(F===52){_e|=C;break}if(y===1){F<20?re|=C<<20-F:F<52&&(_e|=C<<52-F);break}}return re|=Dt<<20,new Lt(re|=xt,_e)},jt.longBitsToDouble=function(A){var m,y,C,F,nt=A.high,xt=A.low,Dt=nt&1<<31?-1:1;for(C=((2146435072&nt)>>20)-vt,F=0,y=1<<19,m=1;m<=20;m++)nt&y&&(F+=dt(2,-m)),y>>>=1;for(y=1<<31,m=21;m<=52;m++)xt&y&&(F+=dt(2,-m)),y>>>=1;if(C===-1023){if(F===0)return 0*Dt;C=-1022}else{if(C===1024)return F===0?Dt/0:NaN;F+=1}return Dt*F*dt(2,C)});var lt=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({RuntimeException:m})[0],C}return k(m,A),a(m)})(j),Tt=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,null,[{key:"constructor_",value:function(){if(arguments.length===0)lt.constructor_.call(this);else if(arguments.length===1){var y=arguments[0];lt.constructor_.call(this,y)}}}])})(lt),kt=(function(){function A(){i(this,A)}return a(A,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)A.shouldNeverReachHere(null);else if(arguments.length===1){var m=arguments[0];throw new Tt("Should never reach here"+(m!==null?": "+m:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var m=arguments[0];A.isTrue(m,null)}else if(arguments.length===2){var y=arguments[1];if(!arguments[0])throw y===null?new Tt:new Tt(y)}}},{key:"equals",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];A.equals(m,y,null)}else if(arguments.length===3){var C=arguments[0],F=arguments[1],nt=arguments[2];if(!F.equals(C))throw new Tt("Expected "+C+" but encountered "+F+(nt!==null?": "+nt:""))}}}])})(),Rt=new ArrayBuffer(8),Ut=new Float64Array(Rt),ie=new Int32Array(Rt),Ht=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getM",value:function(){return jt.NaN}},{key:"setOrdinate",value:function(m,y){switch(m){case A.X:this.x=y;break;case A.Y:this.y=y;break;case A.Z:this.setZ(y);break;default:throw new X("Invalid ordinate index: "+m)}}},{key:"equals2D",value:function(){if(arguments.length===1){var m=arguments[0];return this.x===m.x&&this.y===m.y}if(arguments.length===2){var y=arguments[0],C=arguments[1];return!!St.equalsWithTolerance(this.x,y.x,C)&&!!St.equalsWithTolerance(this.y,y.y,C)}}},{key:"setM",value:function(m){throw new X("Invalid ordinate index: "+A.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(m){switch(m){case A.X:return this.x;case A.Y:return this.y;case A.Z:return this.getZ()}throw new X("Invalid ordinate index: "+m)}},{key:"equals3D",value:function(m){return this.x===m.x&&this.y===m.y&&(this.getZ()===m.getZ()||jt.isNaN(this.getZ())&&jt.isNaN(m.getZ()))}},{key:"equals",value:function(m){return m instanceof A&&this.equals2D(m)}},{key:"equalInZ",value:function(m,y){return St.equalsWithTolerance(this.getZ(),m.getZ(),y)}},{key:"setX",value:function(m){this.x=m}},{key:"compareTo",value:function(m){var y=m;return this.x<y.x?-1:this.x>y.x?1:this.y<y.y?-1:this.y>y.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(m){this.z=m}},{key:"clone",value:function(){try{return null}catch(m){if(m instanceof CloneNotSupportedException)return kt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw m}}},{key:"copy",value:function(){return new A(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(m){var y=this.x-m.x,C=this.y-m.y,F=this.getZ()-m.getZ();return Math.sqrt(y*y+C*C+F*F)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(m){this.y=m}},{key:"distance",value:function(m){var y=this.x-m.x,C=this.y-m.y;return Math.sqrt(y*y+C*C)}},{key:"hashCode",value:function(){var m=17;return m=37*(m=37*m+A.hashCode(this.x))+A.hashCode(this.y)}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ()}},{key:"interfaces_",get:function(){return[et,st,it]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)A.constructor_.call(this,0,0);else if(arguments.length===1){var m=arguments[0];A.constructor_.call(this,m.x,m.y,m.getZ())}else if(arguments.length===2){var y=arguments[0],C=arguments[1];A.constructor_.call(this,y,C,A.NULL_ORDINATE)}else if(arguments.length===3){var F=arguments[0],nt=arguments[1],xt=arguments[2];this.x=F,this.y=nt,this.z=xt}}},{key:"hashCode",value:function(m){return Ut[0]=m,ie[0]^ie[1]}}])})(),ce=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"compare",value:function(m,y){var C=A.compare(m.x,y.x);if(C!==0)return C;var F=A.compare(m.y,y.y);return F!==0?F:this._dimensionsToTest<=2?0:A.compare(m.getZ(),y.getZ())}},{key:"interfaces_",get:function(){return[_t]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)A.constructor_.call(this,2);else if(arguments.length===1){var m=arguments[0];if(m!==2&&m!==3)throw new X("only 2 or 3 dimensions may be specified");this._dimensionsToTest=m}}},{key:"compare",value:function(m,y){return m<y?-1:m>y?1:jt.isNaN(m)?jt.isNaN(y)?0:-1:jt.isNaN(y)?1:0}}])})();Ht.DimensionalComparator=ce,Ht.NULL_ORDINATE=jt.NaN,Ht.X=0,Ht.Y=1,Ht.Z=2,Ht.M=3;var de=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(m){if(!(m instanceof A))return!1;var y=m;return this.isNull()?y.isNull():this._maxx===y.getMaxX()&&this._maxy===y.getMaxY()&&this._minx===y.getMinX()&&this._miny===y.getMinY()}},{key:"intersection",value:function(m){if(this.isNull()||m.isNull()||!this.intersects(m))return new A;var y=this._minx>m._minx?this._minx:m._minx,C=this._miny>m._miny?this._miny:m._miny;return new A(y,this._maxx<m._maxx?this._maxx:m._maxx,C,this._maxy<m._maxy?this._maxy:m._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];return this.covers(m.x,m.y)}if(arguments[0]instanceof A){var y=arguments[0];return!this.isNull()&&!y.isNull()&&y.getMinX()>=this._minx&&y.getMaxX()<=this._maxx&&y.getMinY()>=this._miny&&y.getMaxY()<=this._maxy}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];return!this.isNull()&&C>=this._minx&&C<=this._maxx&&F>=this._miny&&F<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof A){var m=arguments[0];return!this.isNull()&&!m.isNull()&&!(m._minx>this._maxx||m._maxx<this._minx||m._miny>this._maxy||m._maxy<this._miny)}if(arguments[0]instanceof Ht){var y=arguments[0];return this.intersects(y.x,y.y)}}else if(arguments.length===2){if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var C=arguments[0],F=arguments[1];return!this.isNull()&&!((C.x<F.x?C.x:F.x)>this._maxx)&&!((C.x>F.x?C.x:F.x)<this._minx)&&!((C.y<F.y?C.y:F.y)>this._maxy)&&!((C.y>F.y?C.y:F.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var nt=arguments[0],xt=arguments[1];return!this.isNull()&&!(nt>this._maxx||nt<this._minx||xt>this._maxy||xt<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var m=this.getWidth(),y=this.getHeight();return Math.sqrt(m*m+y*y)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];this.expandToInclude(m.x,m.y)}else if(arguments[0]instanceof A){var y=arguments[0];if(y.isNull())return null;this.isNull()?(this._minx=y.getMinX(),this._maxx=y.getMaxX(),this._miny=y.getMinY(),this._maxy=y.getMaxY()):(y._minx<this._minx&&(this._minx=y._minx),y._maxx>this._maxx&&(this._maxx=y._maxx),y._miny<this._miny&&(this._miny=y._miny),y._maxy>this._maxy&&(this._maxy=y._maxy))}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this.isNull()?(this._minx=C,this._maxx=C,this._miny=F,this._maxy=F):(C<this._minx&&(this._minx=C),C>this._maxx&&(this._maxx=C),F<this._miny&&(this._miny=F),F>this._maxy&&(this._maxy=F))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var m=this.getWidth(),y=this.getHeight();return m<y?m:y}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(m){var y=m;return this.isNull()?y.isNull()?0:-1:y.isNull()?1:this._minx<y._minx?-1:this._minx>y._minx?1:this._miny<y._miny?-1:this._miny>y._miny?1:this._maxx<y._maxx?-1:this._maxx>y._maxx?1:this._maxy<y._maxy?-1:this._maxy>y._maxy?1:0}},{key:"translate",value:function(m,y){if(this.isNull())return null;this.init(this.getMinX()+m,this.getMaxX()+m,this.getMinY()+y,this.getMaxY()+y)}},{key:"copy",value:function(){return new A(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(m){return!(!this.isNull()&&!m.isNull())||m._minx>this._maxx||m._maxx<this._minx||m._miny>this._maxy||m._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var m=this.getWidth(),y=this.getHeight();return m>y?m:y}},{key:"expandBy",value:function(){if(arguments.length===1){var m=arguments[0];this.expandBy(m,m)}else if(arguments.length===2){var y=arguments[0],C=arguments[1];if(this.isNull())return null;this._minx-=y,this._maxx+=y,this._miny-=C,this._maxy+=C,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof A){var m=arguments[0];return this.covers(m)}if(arguments[0]instanceof Ht){var y=arguments[0];return this.covers(y)}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];return this.covers(C,F)}}},{key:"centre",value:function(){return this.isNull()?null:new Ht((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];this.init(m.x,m.x,m.y,m.y)}else if(arguments[0]instanceof A){var y=arguments[0];this._minx=y._minx,this._maxx=y._maxx,this._miny=y._miny,this._maxy=y._maxy}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this.init(C.x,F.x,C.y,F.y)}else if(arguments.length===4){var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=arguments[3];nt<xt?(this._minx=nt,this._maxx=xt):(this._minx=xt,this._maxx=nt),Dt<re?(this._miny=Dt,this._maxy=re):(this._miny=re,this._maxy=Dt)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(m){if(this.intersects(m))return 0;var y=0;this._maxx<m._minx?y=m._minx-this._maxx:this._minx>m._maxx&&(y=this._minx-m._maxx);var C=0;return this._maxy<m._miny?C=m._miny-this._maxy:this._miny>m._maxy&&(C=this._miny-m._maxy),y===0?C:C===0?y:Math.sqrt(y*y+C*C)}},{key:"hashCode",value:function(){var m=17;return m=37*(m=37*(m=37*(m=37*m+Ht.hashCode(this._minx))+Ht.hashCode(this._maxx))+Ht.hashCode(this._miny))+Ht.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[et,it]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];this.init(m.x,m.x,m.y,m.y)}else if(arguments[0]instanceof A){var y=arguments[0];this.init(y)}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this.init(C.x,F.x,C.y,F.y)}else if(arguments.length===4){var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=arguments[3];this.init(nt,xt,Dt,re)}}},{key:"intersects",value:function(){if(arguments.length===3){var m=arguments[0],y=arguments[1],C=arguments[2];return C.x>=(m.x<y.x?m.x:y.x)&&C.x<=(m.x>y.x?m.x:y.x)&&C.y>=(m.y<y.y?m.y:y.y)&&C.y<=(m.y>y.y?m.y:y.y)}if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=Math.min(xt.x,Dt.x),_e=Math.max(xt.x,Dt.x),sr=Math.min(F.x,nt.x),_r=Math.max(F.x,nt.x);return!(sr>_e)&&!(_r<re)&&(re=Math.min(xt.y,Dt.y),_e=Math.max(xt.y,Dt.y),sr=Math.min(F.y,nt.y),_r=Math.max(F.y,nt.y),!(sr>_e)&&!(_r<re))}}}])})(),Se=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===A.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(m){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(m){return this===m||this.equalsExact(m,0)}},{key:"geometryChanged",value:function(){this.apply(A.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(m){return m!==null&&this.norm().equalsExact(m.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var m;if(arguments.length===1){var y=arguments[0];return m=y,this.getTypeCode()!==m.getTypeCode()?this.getTypeCode()-m.getTypeCode():this.isEmpty()&&m.isEmpty()?0:this.isEmpty()?-1:m.isEmpty()?1:this.compareToSameClass(y)}if(arguments.length===2){var C=arguments[0],F=arguments[1];return m=C,this.getTypeCode()!==m.getTypeCode()?this.getTypeCode()-m.getTypeCode():this.isEmpty()&&m.isEmpty()?0:this.isEmpty()?-1:m.isEmpty()?1:this.compareToSameClass(C,F)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(m){if(m.getTypeCode()===A.TYPECODE_GEOMETRYCOLLECTION)throw new X("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(m,y,C){return C===0?m.equals(y):m.distance(y)<=C}},{key:"norm",value:function(){var m=this.copy();return m.normalize(),m}},{key:"reverse",value:function(){var m=this.reverseInternal();return this.envelope!=null&&(m.envelope=this.envelope.copy()),m.setSRID(this.getSRID()),m}},{key:"copy",value:function(){var m=this.copyInternal();return m.envelope=this._envelope==null?null:this._envelope.copy(),m._SRID=this._SRID,m._userData=this._userData,m}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new de(this._envelope)}},{key:"setSRID",value:function(m){this._SRID=m}},{key:"setUserData",value:function(m){this._userData=m}},{key:"compare",value:function(m,y){for(var C=m.iterator(),F=y.iterator();C.hasNext()&&F.hasNext();){var nt=C.next(),xt=F.next(),Dt=nt.compareTo(xt);if(Dt!==0)return Dt}return C.hasNext()?1:F.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(m){return this.getClass()===m.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===A.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===A.TYPECODE_MULTIPOINT||this.getTypeCode()===A.TYPECODE_MULTILINESTRING||this.getTypeCode()===A.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[st,et,it]}},{key:"getClass",value:function(){return A}}],[{key:"hasNonEmptyElements",value:function(m){for(var y=0;y<m.length;y++)if(!m[y].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(m){for(var y=0;y<m.length;y++)if(m[y]===null)return!0;return!1}}])})();Se.constructor_=function(A){A&&(this._envelope=null,this._userData=null,this._factory=A,this._SRID=A.getSRID())},Se.TYPECODE_POINT=0,Se.TYPECODE_MULTIPOINT=1,Se.TYPECODE_LINESTRING=2,Se.TYPECODE_LINEARRING=3,Se.TYPECODE_MULTILINESTRING=4,Se.TYPECODE_POLYGON=5,Se.TYPECODE_MULTIPOLYGON=6,Se.TYPECODE_GEOMETRYCOLLECTION=7,Se.TYPENAME_POINT="Point",Se.TYPENAME_MULTIPOINT="MultiPoint",Se.TYPENAME_LINESTRING="LineString",Se.TYPENAME_LINEARRING="LinearRing",Se.TYPENAME_MULTILINESTRING="MultiLineString",Se.TYPENAME_POLYGON="Polygon",Se.TYPENAME_MULTIPOLYGON="MultiPolygon",Se.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Se.geometryChangedFilter={get interfaces_(){return[Y]},filter:function(A){A.geometryChangedAction()}};var Vt=(function(){function A(){i(this,A)}return a(A,null,[{key:"toLocationSymbol",value:function(m){switch(m){case A.EXTERIOR:return"e";case A.BOUNDARY:return"b";case A.INTERIOR:return"i";case A.NONE:return"-"}throw new X("Unknown location value: "+m)}}])})();Vt.INTERIOR=0,Vt.BOUNDARY=1,Vt.EXTERIOR=2,Vt.NONE=-1;var He=(function(){return a((function A(){i(this,A)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),ke=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({NoSuchElementException:m})[0],C}return k(m,A),a(m)})(j),Jt=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({UnsupportedOperationException:m})[0],C}return k(m,A),a(m)})(j),$r=(function(A){function m(){return i(this,m),n(this,m,arguments)}return k(m,A),a(m,[{key:"contains",value:function(){}}])})(He),vr=(function(A){function m(y){var C;return i(this,m),(C=n(this,m)).map=new Map,y instanceof He&&C.addAll(y),C}return k(m,A),a(m,[{key:"contains",value:function(y){var C=y.hashCode?y.hashCode():y;return!!this.map.has(C)}},{key:"add",value:function(y){var C=y.hashCode?y.hashCode():y;return!this.map.has(C)&&!!this.map.set(C,y)}},{key:"addAll",value:function(y){var C,F=g(y);try{for(F.s();!(C=F.n()).done;){var nt=C.value;this.add(nt)}}catch(xt){F.e(xt)}finally{F.f()}return!0}},{key:"remove",value:function(){throw new Jt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Dr(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})($r),Dr=(function(){return a((function A(m){i(this,A),this.iterator=m.values();var y=this.iterator.next(),C=y.done,F=y.value;this.done=C,this.value=F}),[{key:"next",value:function(){if(this.done)throw new ke;var A=this.value,m=this.iterator.next(),y=m.done,C=m.value;return this.done=y,this.value=C,A}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new Jt}}])})(),Ie=(function(){function A(){i(this,A)}return a(A,null,[{key:"opposite",value:function(m){return m===A.LEFT?A.RIGHT:m===A.RIGHT?A.LEFT:m}}])})();Ie.ON=0,Ie.LEFT=1,Ie.RIGHT=2;var Mr=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({EmptyStackException:m})[0],C}return k(m,A),a(m)})(j),ir=(function(A){function m(y){var C;return i(this,m),(C=n(this,m,[y])).name=Object.keys({IndexOutOfBoundsException:m})[0],C}return k(m,A),a(m)})(j),Rr=(function(A){function m(){return i(this,m),n(this,m,arguments)}return k(m,A),a(m,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(He),Pr=(function(A){function m(){var y;return i(this,m),(y=n(this,m)).array=[],y}return k(m,A),a(m,[{key:"add",value:function(y){return this.array.push(y),!0}},{key:"get",value:function(y){if(y<0||y>=this.size())throw new ir;return this.array[y]}},{key:"push",value:function(y){return this.array.push(y),y}},{key:"pop",value:function(){if(this.array.length===0)throw new Mr;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Mr;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(y){return this.array.indexOf(y)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(Rr);function Ir(A,m){return A.interfaces_&&A.interfaces_.indexOf(m)>-1}var dr=(function(){return a((function A(m){i(this,A),this.str=m}),[{key:"append",value:function(A){this.str+=A}},{key:"setCharAt",value:function(A,m){this.str=this.str.substr(0,A)+m+this.str.substr(A+1)}},{key:"toString",value:function(){return this.str}}])})(),ar=(function(){function A(m){i(this,A),this.value=m}return a(A,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(m){return this.value<m?-1:this.value>m?1:0}}],[{key:"compare",value:function(m,y){return m<y?-1:m>y?1:0}},{key:"isNan",value:function(m){return Number.isNaN(m)}},{key:"valueOf",value:function(m){return new A(m)}}])})(),Or=(function(){return a((function A(){i(this,A)}),null,[{key:"isWhitespace",value:function(A){return A<=32&&A>=0||A===127}},{key:"toUpperCase",value:function(A){return A.toUpperCase()}}])})(),er=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"le",value:function(m){return this._hi<m._hi||this._hi===m._hi&&this._lo<=m._lo}},{key:"extractSignificantDigits",value:function(m,y){var C=this.abs(),F=A.magnitude(C._hi),nt=A.TEN.pow(F);(C=C.divide(nt)).gt(A.TEN)?(C=C.divide(A.TEN),F+=1):C.lt(A.ONE)&&(C=C.multiply(A.TEN),F-=1);for(var xt=F+1,Dt=new dr,re=A.MAX_PRINT_DIGITS-1,_e=0;_e<=re;_e++){m&&_e===xt&&Dt.append(".");var sr=Math.trunc(C._hi);if(sr<0)break;var _r=!1,tn=0;sr>9?(_r=!0,tn="9"):tn="0"+sr,Dt.append(tn),C=C.subtract(A.valueOf(sr)).multiply(A.TEN),_r&&C.selfAdd(A.TEN);var In=!0,Qn=A.magnitude(C._hi);if(Qn<0&&Math.abs(Qn)>=re-_e&&(In=!1),!In)break}return y[0]=F,Dt.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof A){var m=arguments[0];return this.add(m.negate())}if(typeof arguments[0]=="number"){var y=arguments[0];return this.add(-y)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof A){var m=arguments[0];return this._hi===m._hi&&this._lo===m._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof A){var m=arguments[0];return this.isNaN()?this:this.selfAdd(-m._hi,-m._lo)}if(typeof arguments[0]=="number"){var y=arguments[0];return this.isNaN()?this:this.selfAdd(-y,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(m){return this.le(m)?this:m}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof A){var m=arguments[0];return this.selfDivide(m._hi,m._lo)}if(typeof arguments[0]=="number"){var y=arguments[0];return this.selfDivide(y,0)}}else if(arguments.length===2){var C,F,nt,xt,Dt=arguments[0],re=arguments[1],_e=null,sr=null,_r=null,tn=null;return nt=this._hi/Dt,tn=(_e=(_r=A.SPLIT*nt)-(_e=_r-nt))*(sr=(tn=A.SPLIT*Dt)-(sr=tn-Dt))-(xt=nt*Dt)+_e*(F=Dt-sr)+(C=nt-_e)*sr+C*F,tn=nt+(_r=(this._hi-xt-tn+this._lo-nt*re)/Dt),this._hi=tn,this._lo=nt-tn+_r,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof A){var m,y,C,F,nt=arguments[0],xt=null,Dt=null,re=null,_e=null;return m=(C=this._hi/nt._hi)-(xt=(re=A.SPLIT*C)-(xt=re-C)),_e=xt*(Dt=(_e=A.SPLIT*nt._hi)-(Dt=_e-nt._hi))-(F=C*nt._hi)+xt*(y=nt._hi-Dt)+m*Dt+m*y,new A(_e=C+(re=(this._hi-F-_e+this._lo-C*nt._lo)/nt._hi),C-_e+re)}if(typeof arguments[0]=="number"){var sr=arguments[0];return jt.isNaN(sr)?A.createNaN():A.copy(this).selfDivide(sr,0)}}},{key:"ge",value:function(m){return this._hi>m._hi||this._hi===m._hi&&this._lo>=m._lo}},{key:"pow",value:function(m){if(m===0)return A.valueOf(1);var y=new A(this),C=A.valueOf(1),F=Math.abs(m);if(F>1)for(;F>0;)F%2==1&&C.selfMultiply(y),(F/=2)>0&&(y=y.sqr());else C=y;return m<0?C.reciprocal():C}},{key:"ceil",value:function(){if(this.isNaN())return A.NaN;var m=Math.ceil(this._hi),y=0;return m===this._hi&&(y=Math.ceil(this._lo)),new A(m,y)}},{key:"compareTo",value:function(m){var y=m;return this._hi<y._hi?-1:this._hi>y._hi?1:this._lo<y._lo?-1:this._lo>y._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof A){var m=arguments[0];return this.init(m),this}if(typeof arguments[0]=="number"){var y=arguments[0];return this.init(y),this}}},{key:"max",value:function(m){return this.ge(m)?this:m}},{key:"sqrt",value:function(){if(this.isZero())return A.valueOf(0);if(this.isNegative())return A.NaN;var m=1/Math.sqrt(this._hi),y=this._hi*m,C=A.valueOf(y),F=this.subtract(C.sqr())._hi*(.5*m);return C.add(F)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof A){var m=arguments[0];return this.selfAdd(m._hi,m._lo)}if(typeof arguments[0]=="number"){var y,C,F,nt,xt,Dt=arguments[0],re=null;return re=(F=this._hi+Dt)-(nt=F-this._hi),C=(xt=(re=Dt-nt+(this._hi-re))+this._lo)+(F-(y=F+xt)),this._hi=y+C,this._lo=C+(y-this._hi),this}}else if(arguments.length===2){var _e,sr,_r,tn,In=arguments[0],Qn=arguments[1],hi=null,Kn=null,Hn=null;_r=this._hi+In,sr=this._lo+Qn,Kn=_r-(Hn=_r-this._hi),hi=sr-(tn=sr-this._lo);var ma=(_e=_r+(Hn=(Kn=In-Hn+(this._hi-Kn))+sr))+(Hn=(hi=Qn-tn+(this._lo-hi))+(Hn+(_r-_e))),qi=Hn+(_e-ma);return this._hi=ma,this._lo=qi,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof A){var m=arguments[0];return this.selfMultiply(m._hi,m._lo)}if(typeof arguments[0]=="number"){var y=arguments[0];return this.selfMultiply(y,0)}}else if(arguments.length===2){var C,F,nt=arguments[0],xt=arguments[1],Dt=null,re=null,_e=null,sr=null;Dt=(_e=A.SPLIT*this._hi)-this._hi,sr=A.SPLIT*nt,Dt=_e-Dt,C=this._hi-Dt,re=sr-nt;var _r=(_e=this._hi*nt)+(sr=Dt*(re=sr-re)-_e+Dt*(F=nt-re)+C*re+C*F+(this._hi*xt+this._lo*nt)),tn=sr+(Dt=_e-_r);return this._hi=_r,this._lo=tn,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return A.NaN;var m=Math.floor(this._hi),y=0;return m===this._hi&&(y=Math.floor(this._lo)),new A(m,y)}},{key:"negate",value:function(){return this.isNaN()?this:new A(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(m){if(m instanceof CloneNotSupportedException)return null;throw m}}},{key:"multiply",value:function(){if(arguments[0]instanceof A){var m=arguments[0];return m.isNaN()?A.createNaN():A.copy(this).selfMultiply(m)}if(typeof arguments[0]=="number"){var y=arguments[0];return jt.isNaN(y)?A.createNaN():A.copy(this).selfMultiply(y,0)}}},{key:"isNaN",value:function(){return jt.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var m=A.magnitude(this._hi);return m>=-3&&m<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var m=this.getSpecialNumberString();if(m!==null)return m;var y=new Array(1).fill(null),C=this.extractSignificantDigits(!0,y),F=y[0]+1,nt=C;if(C.charAt(0)===".")nt="0"+C;else if(F<0)nt="0."+A.stringOfChar("0",-F)+C;else if(C.indexOf(".")===-1){var xt=F-C.length;nt=C+A.stringOfChar("0",xt)+".0"}return this.isNegative()?"-"+nt:nt}},{key:"reciprocal",value:function(){var m,y,C,F,nt=null,xt=null,Dt=null,re=null;m=(C=1/this._hi)-(nt=(Dt=A.SPLIT*C)-(nt=Dt-C)),xt=(re=A.SPLIT*this._hi)-this._hi;var _e=C+(Dt=(1-(F=C*this._hi)-(re=nt*(xt=re-xt)-F+nt*(y=this._hi-xt)+m*xt+m*y)-C*this._lo)/this._hi);return new A(_e,C-_e+Dt)}},{key:"toSciNotation",value:function(){if(this.isZero())return A.SCI_NOT_ZERO;var m=this.getSpecialNumberString();if(m!==null)return m;var y=new Array(1).fill(null),C=this.extractSignificantDigits(!1,y),F=A.SCI_NOT_EXPONENT_CHAR+y[0];if(C.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+C);var nt="";C.length>1&&(nt=C.substring(1));var xt=C.charAt(0)+"."+nt;return this.isNegative()?"-"+xt+F:xt+F}},{key:"abs",value:function(){return this.isNaN()?A.NaN:this.isNegative()?this.negate():new A(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(m){return this._hi<m._hi||this._hi===m._hi&&this._lo<m._lo}},{key:"add",value:function(){if(arguments[0]instanceof A){var m=arguments[0];return A.copy(this).selfAdd(m)}if(typeof arguments[0]=="number"){var y=arguments[0];return A.copy(this).selfAdd(y)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var m=arguments[0];this._hi=m,this._lo=0}else if(arguments[0]instanceof A){var y=arguments[0];this._hi=y._hi,this._lo=y._lo}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this._hi=C,this._lo=F}}},{key:"gt",value:function(m){return this._hi>m._hi||this._hi===m._hi&&this._lo>m._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?A.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[it,et,st]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var m=arguments[0];this.init(m)}else if(arguments[0]instanceof A){var y=arguments[0];this.init(y)}else if(typeof arguments[0]=="string"){var C=arguments[0];A.constructor_.call(this,A.parse(C))}}else if(arguments.length===2){var F=arguments[0],nt=arguments[1];this.init(F,nt)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1],C=arguments[2],F=arguments[3];return A.determinant(A.valueOf(m),A.valueOf(y),A.valueOf(C),A.valueOf(F))}if(arguments[3]instanceof A&&arguments[2]instanceof A&&arguments[0]instanceof A&&arguments[1]instanceof A){var nt=arguments[1],xt=arguments[2],Dt=arguments[3];return arguments[0].multiply(Dt).selfSubtract(nt.multiply(xt))}}},{key:"sqr",value:function(m){return A.valueOf(m).selfMultiply(m)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var m=arguments[0];return A.parse(m)}if(typeof arguments[0]=="number")return new A(arguments[0])}},{key:"sqrt",value:function(m){return A.valueOf(m).sqrt()}},{key:"parse",value:function(m){for(var y=0,C=m.length;Or.isWhitespace(m.charAt(y));)y++;var F=!1;if(y<C){var nt=m.charAt(y);nt!=="-"&&nt!=="+"||(y++,nt==="-"&&(F=!0))}for(var xt=new A,Dt=0,re=0,_e=0,sr=!1;!(y>=C);){var _r=m.charAt(y);if(y++,Or.isDigit(_r)){var tn=_r-"0";xt.selfMultiply(A.TEN),xt.selfAdd(tn),Dt++}else{if(_r!=="."){if(_r==="e"||_r==="E"){var In=m.substring(y);try{_e=ar.parseInt(In)}catch(ma){throw ma instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+In+" in string "+m):ma}break}throw new NumberFormatException("Unexpected character '"+_r+"' at position "+y+" in string "+m)}re=Dt,sr=!0}}var Qn=xt;sr||(re=Dt);var hi=Dt-re-_e;if(hi===0)Qn=xt;else if(hi>0){var Kn=A.TEN.pow(hi);Qn=xt.divide(Kn)}else if(hi<0){var Hn=A.TEN.pow(-hi);Qn=xt.multiply(Hn)}return F?Qn.negate():Qn}},{key:"createNaN",value:function(){return new A(jt.NaN,jt.NaN)}},{key:"copy",value:function(m){return new A(m)}},{key:"magnitude",value:function(m){var y=Math.abs(m),C=Math.log(y)/Math.log(10),F=Math.trunc(Math.floor(C));return 10*Math.pow(10,F)<=y&&(F+=1),F}},{key:"stringOfChar",value:function(m,y){for(var C=new dr,F=0;F<y;F++)C.append(m);return C.toString()}}])})();er.PI=new er(3.141592653589793,12246467991473532e-32),er.TWO_PI=new er(6.283185307179586,24492935982947064e-32),er.PI_2=new er(1.5707963267948966,6123233995736766e-32),er.E=new er(2.718281828459045,14456468917292502e-32),er.NaN=new er(jt.NaN,jt.NaN),er.EPS=123259516440783e-46,er.SPLIT=134217729,er.MAX_PRINT_DIGITS=32,er.TEN=er.valueOf(10),er.ONE=er.valueOf(1),er.SCI_NOT_EXPONENT_CHAR="E",er.SCI_NOT_ZERO="0.0E0";var Fr=(function(){function A(){i(this,A)}return a(A,null,[{key:"orientationIndex",value:function(m,y,C){var F=A.orientationIndexFilter(m,y,C);if(F<=1)return F;var nt=er.valueOf(y.x).selfAdd(-m.x),xt=er.valueOf(y.y).selfAdd(-m.y),Dt=er.valueOf(C.x).selfAdd(-y.x),re=er.valueOf(C.y).selfAdd(-y.y);return nt.selfMultiply(re).selfSubtract(xt.selfMultiply(Dt)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof er&&arguments[2]instanceof er&&arguments[0]instanceof er&&arguments[1]instanceof er){var m=arguments[1],y=arguments[2],C=arguments[3];return arguments[0].multiply(C).selfSubtract(m.multiply(y)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=er.valueOf(F),_e=er.valueOf(nt),sr=er.valueOf(xt),_r=er.valueOf(Dt);return re.multiply(_r).selfSubtract(_e.multiply(sr)).signum()}}},{key:"intersection",value:function(m,y,C,F){var nt=new er(m.y).selfSubtract(y.y),xt=new er(y.x).selfSubtract(m.x),Dt=new er(m.x).selfMultiply(y.y).selfSubtract(new er(y.x).selfMultiply(m.y)),re=new er(C.y).selfSubtract(F.y),_e=new er(F.x).selfSubtract(C.x),sr=new er(C.x).selfMultiply(F.y).selfSubtract(new er(F.x).selfMultiply(C.y)),_r=xt.multiply(sr).selfSubtract(_e.multiply(Dt)),tn=re.multiply(Dt).selfSubtract(nt.multiply(sr)),In=nt.multiply(_e).selfSubtract(re.multiply(xt)),Qn=_r.selfDivide(In).doubleValue(),hi=tn.selfDivide(In).doubleValue();return jt.isNaN(Qn)||jt.isInfinite(Qn)||jt.isNaN(hi)||jt.isInfinite(hi)?null:new Ht(Qn,hi)}},{key:"orientationIndexFilter",value:function(m,y,C){var F=null,nt=(m.x-C.x)*(y.y-C.y),xt=(m.y-C.y)*(y.x-C.x),Dt=nt-xt;if(nt>0){if(xt<=0)return A.signum(Dt);F=nt+xt}else{if(!(nt<0)||xt>=0)return A.signum(Dt);F=-nt-xt}var re=A.DP_SAFE_EPSILON*F;return Dt>=re||-Dt>=re?A.signum(Dt):2}},{key:"signum",value:function(m){return m>0?1:m<0?-1:0}}])})();Fr.DP_SAFE_EPSILON=1e-15;var Ze=(function(){return a((function A(){i(this,A)}),[{key:"getM",value:function(A){if(this.hasM()){var m=this.getDimension()-this.getMeasures();return this.getOrdinate(A,m)}return jt.NaN}},{key:"setOrdinate",value:function(A,m,y){}},{key:"getZ",value:function(A){return this.hasZ()?this.getOrdinate(A,2):jt.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(A,m){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(A){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(A){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(A){}},{key:"copy",value:function(){}},{key:"getY",value:function(A){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[st]}}])})();Ze.X=0,Ze.Y=1,Ze.Z=2,Ze.M=3;var rr=(function(){function A(){i(this,A)}return a(A,null,[{key:"index",value:function(m,y,C){return Fr.orientationIndex(m,y,C)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var m=arguments[0],y=m.length-1;if(y<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var C=m[0],F=0,nt=1;nt<=y;nt++){var xt=m[nt];xt.y>C.y&&(C=xt,F=nt)}var Dt=F;do(Dt-=1)<0&&(Dt=y);while(m[Dt].equals2D(C)&&Dt!==F);var re=F;do re=(re+1)%y;while(m[re].equals2D(C)&&re!==F);var _e=m[Dt],sr=m[re];if(_e.equals2D(C)||sr.equals2D(C)||_e.equals2D(sr))return!1;var _r=A.index(_e,C,sr);return _r===0?_e.x>sr.x:_r>0}if(Ir(arguments[0],Ze)){var tn=arguments[0],In=tn.size()-1;if(In<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var Qn=tn.getCoordinate(0),hi=0,Kn=1;Kn<=In;Kn++){var Hn=tn.getCoordinate(Kn);Hn.y>Qn.y&&(Qn=Hn,hi=Kn)}var ma=null,qi=hi;do(qi-=1)<0&&(qi=In),ma=tn.getCoordinate(qi);while(ma.equals2D(Qn)&&qi!==hi);var Va=null,$o=hi;do $o=($o+1)%In,Va=tn.getCoordinate($o);while(Va.equals2D(Qn)&&$o!==hi);if(ma.equals2D(Qn)||Va.equals2D(Qn)||ma.equals2D(Va))return!1;var so=A.index(ma,Qn,Va);return so===0?ma.x>Va.x:so>0}}}])})();rr.CLOCKWISE=-1,rr.RIGHT=rr.CLOCKWISE,rr.COUNTERCLOCKWISE=1,rr.LEFT=rr.COUNTERCLOCKWISE,rr.COLLINEAR=0,rr.STRAIGHT=rr.COLLINEAR;var Me=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(A,m){var y=this.getRightmostSideOfSegment(A,m);return y<0&&(y=this.getRightmostSideOfSegment(A,m-1)),y<0&&(this._minCoord=null,this.checkForRightmostCoordinate(A)),y}},{key:"findRightmostEdgeAtVertex",value:function(){var A=this._minDe.getEdge().getCoordinates();kt.isTrue(this._minIndex>0&&this._minIndex<A.length,"rightmost point expected to be interior vertex of edge");var m=A[this._minIndex-1],y=A[this._minIndex+1],C=rr.index(this._minCoord,y,m),F=!1;(m.y<this._minCoord.y&&y.y<this._minCoord.y&&C===rr.COUNTERCLOCKWISE||m.y>this._minCoord.y&&y.y>this._minCoord.y&&C===rr.CLOCKWISE)&&(F=!0),F&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(A,m){var y=A.getEdge().getCoordinates();if(m<0||m+1>=y.length||y[m].y===y[m+1].y)return-1;var C=Ie.LEFT;return y[m].y<y[m+1].y&&(C=Ie.RIGHT),C}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(A){for(var m=A.getEdge().getCoordinates(),y=0;y<m.length-1;y++)(this._minCoord===null||m[y].x>this._minCoord.x)&&(this._minDe=A,this._minIndex=y,this._minCoord=m[y])}},{key:"findRightmostEdgeAtNode",value:function(){var A=this._minDe.getNode().getEdges();this._minDe=A.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(A){for(var m=A.iterator();m.hasNext();){var y=m.next();y.isForward()&&this.checkForRightmostCoordinate(y)}kt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ie.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),Ft=(function(A){function m(y,C){var F;return i(this,m),(F=n(this,m,[C?y+" [ "+C+" ]":y])).pt=C?new Ht(C):void 0,F.name=Object.keys({TopologyException:m})[0],F}return k(m,A),a(m,[{key:"getCoordinate",value:function(){return this.pt}}])})(lt),Mt=(function(){return a((function A(){i(this,A),this.array=[]}),[{key:"addLast",value:function(A){this.array.push(A)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),Bt=(function(A){function m(y){var C;return i(this,m),(C=n(this,m)).array=[],y instanceof He&&C.addAll(y),C}return k(m,A),a(m,[{key:"interfaces_",get:function(){return[Rr,He]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(y){return arguments.length===1?this.array.push(y):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(y){var C,F=g(y);try{for(F.s();!(C=F.n()).done;){var nt=C.value;this.array.push(nt)}}catch(xt){F.e(xt)}finally{F.f()}}},{key:"set",value:function(y,C){var F=this.array[y];return this.array[y]=C,F}},{key:"iterator",value:function(){return new oe(this)}},{key:"get",value:function(y){if(y<0||y>=this.size())throw new ir;return this.array[y]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(y){y?this.array.sort((function(C,F){return y.compare(C,F)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(y){for(var C=0,F=this.array.length;C<F;C++)if(this.array[C]===y)return!!this.array.splice(C,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(Rr),oe=(function(){return a((function A(m){i(this,A),this.arrayList=m,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ke;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(A){return this.arrayList.set(this.position-1,A)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),ye=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var A=this._dirEdgeList.iterator();A.hasNext();)A.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(A){for(var m=null,y=A.getEdges().iterator();y.hasNext();){var C=y.next();if(C.isVisited()||C.getSym().isVisited()){m=C;break}}if(m===null)throw new Ft("unable to find edge to compute depths at "+A.getCoordinate());A.getEdges().computeDepths(m);for(var F=A.getEdges().iterator();F.hasNext();){var nt=F.next();nt.setVisited(!0),this.copySymDepths(nt)}}},{key:"computeDepth",value:function(A){this.clearVisitedEdges();var m=this._finder.getEdge();m.getNode(),m.getLabel(),m.setEdgeDepths(Ie.RIGHT,A),this.copySymDepths(m),this.computeDepths(m)}},{key:"create",value:function(A){this.addReachable(A),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var A=this._dirEdgeList.iterator();A.hasNext();){var m=A.next();m.getDepth(Ie.RIGHT)>=1&&m.getDepth(Ie.LEFT)<=0&&!m.isInteriorAreaEdge()&&m.setInResult(!0)}}},{key:"computeDepths",value:function(A){var m=new vr,y=new Mt,C=A.getNode();for(y.addLast(C),m.add(C),A.setVisited(!0);!y.isEmpty();){var F=y.removeFirst();m.add(F),this.computeNodeDepth(F);for(var nt=F.getEdges().iterator();nt.hasNext();){var xt=nt.next().getSym();if(!xt.isVisited()){var Dt=xt.getNode();m.contains(Dt)||(y.addLast(Dt),m.add(Dt))}}}}},{key:"compareTo",value:function(A){var m=A;return this._rightMostCoord.x<m._rightMostCoord.x?-1:this._rightMostCoord.x>m._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var A=new de,m=this._dirEdgeList.iterator();m.hasNext();)for(var y=m.next().getEdge().getCoordinates(),C=0;C<y.length-1;C++)A.expandToInclude(y[C]);this._env=A}return this._env}},{key:"addReachable",value:function(A){var m=new Pr;for(m.add(A);!m.empty();){var y=m.pop();this.add(y,m)}}},{key:"copySymDepths",value:function(A){var m=A.getSym();m.setDepth(Ie.LEFT,A.getDepth(Ie.RIGHT)),m.setDepth(Ie.RIGHT,A.getDepth(Ie.LEFT))}},{key:"add",value:function(A,m){A.setVisited(!0),this._nodes.add(A);for(var y=A.getEdges().iterator();y.hasNext();){var C=y.next();this._dirEdgeList.add(C);var F=C.getSym().getNode();F.isVisited()||m.push(F)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Bt,this._nodes=new Bt,this._rightMostCoord=null,this._env=null,this._finder=new Me}}])})(),je=(function(){return a((function A(){i(this,A)}),null,[{key:"intersection",value:function(A,m,y,C){var F=A.x<m.x?A.x:m.x,nt=A.y<m.y?A.y:m.y,xt=A.x>m.x?A.x:m.x,Dt=A.y>m.y?A.y:m.y,re=y.x<C.x?y.x:C.x,_e=y.y<C.y?y.y:C.y,sr=y.x>C.x?y.x:C.x,_r=y.y>C.y?y.y:C.y,tn=((F>re?F:re)+(xt<sr?xt:sr))/2,In=((nt>_e?nt:_e)+(Dt<_r?Dt:_r))/2,Qn=A.x-tn,hi=A.y-In,Kn=m.x-tn,Hn=m.y-In,ma=y.x-tn,qi=y.y-In,Va=C.x-tn,$o=C.y-In,so=hi-Hn,ls=Kn-Qn,Tc=Qn*Hn-Kn*hi,Cc=qi-$o,kl=Va-ma,ml=ma*$o-Va*qi,Ac=so*kl-Cc*ls,Il=(ls*ml-kl*Tc)/Ac,Co=(Cc*Tc-so*ml)/Ac;return jt.isNaN(Il)||jt.isInfinite(Il)||jt.isNaN(Co)||jt.isInfinite(Co)?null:new Ht(Il+tn,Co+In)}}])})(),Ge=(function(){return a((function A(){i(this,A)}),null,[{key:"arraycopy",value:function(A,m,y,C,F){for(var nt=0,xt=m;xt<m+F;xt++)y[C+nt]=A[xt],nt++}},{key:"getProperty",value:function(A){return{"line.separator":`
`}[A]}}])})(),Ue=(function(){function A(){i(this,A)}return a(A,null,[{key:"log10",value:function(m){var y=Math.log(m);return jt.isInfinite(y)||jt.isNaN(y)?y:y/A.LOG_10}},{key:"min",value:function(m,y,C,F){var nt=m;return y<nt&&(nt=y),C<nt&&(nt=C),F<nt&&(nt=F),nt}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1],C=arguments[2];return m<y?y:m>C?C:m}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var F=arguments[0],nt=arguments[1],xt=arguments[2];return F<nt?nt:F>xt?xt:F}}},{key:"wrap",value:function(m,y){return m<0?y- -m%y:m%y}},{key:"max",value:function(){if(arguments.length===3){var m=arguments[1],y=arguments[2],C=arguments[0];return m>C&&(C=m),y>C&&(C=y),C}if(arguments.length===4){var F=arguments[1],nt=arguments[2],xt=arguments[3],Dt=arguments[0];return F>Dt&&(Dt=F),nt>Dt&&(Dt=nt),xt>Dt&&(Dt=xt),Dt}}},{key:"average",value:function(m,y){return(m+y)/2}}])})();Ue.LOG_10=Math.log(10);var fr=(function(){function A(){i(this,A)}return a(A,null,[{key:"segmentToSegment",value:function(m,y,C,F){if(m.equals(y))return A.pointToSegment(m,C,F);if(C.equals(F))return A.pointToSegment(F,m,y);var nt=!1;if(de.intersects(m,y,C,F)){var xt=(y.x-m.x)*(F.y-C.y)-(y.y-m.y)*(F.x-C.x);if(xt===0)nt=!0;else{var Dt=(m.y-C.y)*(F.x-C.x)-(m.x-C.x)*(F.y-C.y),re=((m.y-C.y)*(y.x-m.x)-(m.x-C.x)*(y.y-m.y))/xt,_e=Dt/xt;(_e<0||_e>1||re<0||re>1)&&(nt=!0)}}else nt=!0;return nt?Ue.min(A.pointToSegment(m,C,F),A.pointToSegment(y,C,F),A.pointToSegment(C,m,y),A.pointToSegment(F,m,y)):0}},{key:"pointToSegment",value:function(m,y,C){if(y.x===C.x&&y.y===C.y)return m.distance(y);var F=(C.x-y.x)*(C.x-y.x)+(C.y-y.y)*(C.y-y.y),nt=((m.x-y.x)*(C.x-y.x)+(m.y-y.y)*(C.y-y.y))/F;if(nt<=0)return m.distance(y);if(nt>=1)return m.distance(C);var xt=((y.y-m.y)*(C.x-y.x)-(y.x-m.x)*(C.y-y.y))/F;return Math.abs(xt)*Math.sqrt(F)}},{key:"pointToLinePerpendicular",value:function(m,y,C){var F=(C.x-y.x)*(C.x-y.x)+(C.y-y.y)*(C.y-y.y),nt=((y.y-m.y)*(C.x-y.x)-(y.x-m.x)*(C.y-y.y))/F;return Math.abs(nt)*Math.sqrt(F)}},{key:"pointToSegmentString",value:function(m,y){if(y.length===0)throw new X("Line array must contain at least one vertex");for(var C=m.distance(y[0]),F=0;F<y.length-1;F++){var nt=A.pointToSegment(m,y[F],y[F+1]);nt<C&&(C=nt)}return C}}])})(),Ke=(function(){return a((function A(){i(this,A)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Ir(arguments[0],Ze);else if(arguments.length!==2&&arguments.length===3){var A=arguments[0],m=arguments[1];return this.create(A,m)}}}])})(),Pe=(function(){return a((function A(){i(this,A)}),[{key:"filter",value:function(A){}}])})(),ur=(function(){return a((function A(){i(this,A)}),null,[{key:"ofLine",value:function(A){var m=A.size();if(m<=1)return 0;var y=0,C=new Ht;A.getCoordinate(0,C);for(var F=C.x,nt=C.y,xt=1;xt<m;xt++){A.getCoordinate(xt,C);var Dt=C.x,re=C.y,_e=Dt-F,sr=re-nt;y+=Math.sqrt(_e*_e+sr*sr),F=Dt,nt=re}return y}}])})(),Oe=a((function A(){i(this,A)})),Wr=(function(){function A(){i(this,A)}return a(A,null,[{key:"copyCoord",value:function(m,y,C,F){for(var nt=Math.min(m.getDimension(),C.getDimension()),xt=0;xt<nt;xt++)C.setOrdinate(F,xt,m.getOrdinate(y,xt))}},{key:"isRing",value:function(m){var y=m.size();return y===0||!(y<=3)&&m.getOrdinate(0,Ze.X)===m.getOrdinate(y-1,Ze.X)&&m.getOrdinate(0,Ze.Y)===m.getOrdinate(y-1,Ze.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Ir(arguments[0],Ze)&&Number.isInteger(arguments[1])){var m=arguments[0],y=arguments[1];A.scroll(m,y,A.isRing(m))}else if(Ir(arguments[0],Ze)&&arguments[1]instanceof Ht){var C=arguments[0],F=arguments[1],nt=A.indexOf(F,C);if(nt<=0)return null;A.scroll(C,nt)}}else if(arguments.length===3){var xt=arguments[0],Dt=arguments[1],re=arguments[2];if(Dt<=0)return null;for(var _e=xt.copy(),sr=re?xt.size()-1:xt.size(),_r=0;_r<sr;_r++)for(var tn=0;tn<xt.getDimension();tn++)xt.setOrdinate(_r,tn,_e.getOrdinate((Dt+_r)%sr,tn));if(re)for(var In=0;In<xt.getDimension();In++)xt.setOrdinate(sr,In,xt.getOrdinate(0,In))}}},{key:"isEqual",value:function(m,y){var C=m.size();if(C!==y.size())return!1;for(var F=Math.min(m.getDimension(),y.getDimension()),nt=0;nt<C;nt++)for(var xt=0;xt<F;xt++){var Dt=m.getOrdinate(nt,xt),re=y.getOrdinate(nt,xt);if(m.getOrdinate(nt,xt)!==y.getOrdinate(nt,xt)&&(!jt.isNaN(Dt)||!jt.isNaN(re)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var m=arguments[0];return A.minCoordinateIndex(m,0,m.size()-1)}if(arguments.length===3){for(var y=arguments[0],C=arguments[2],F=-1,nt=null,xt=arguments[1];xt<=C;xt++){var Dt=y.getCoordinate(xt);(nt===null||nt.compareTo(Dt)>0)&&(nt=Dt,F=xt)}return F}}},{key:"extend",value:function(m,y,C){var F=m.create(C,y.getDimension()),nt=y.size();if(A.copy(y,0,F,0,nt),nt>0)for(var xt=nt;xt<C;xt++)A.copy(y,nt-1,F,xt,1);return F}},{key:"reverse",value:function(m){for(var y=m.size()-1,C=Math.trunc(y/2),F=0;F<=C;F++)A.swap(m,F,y-F)}},{key:"swap",value:function(m,y,C){if(y===C)return null;for(var F=0;F<m.getDimension();F++){var nt=m.getOrdinate(y,F);m.setOrdinate(y,F,m.getOrdinate(C,F)),m.setOrdinate(C,F,nt)}}},{key:"copy",value:function(m,y,C,F,nt){for(var xt=0;xt<nt;xt++)A.copyCoord(m,y+xt,C,F+xt)}},{key:"ensureValidRing",value:function(m,y){var C=y.size();return C===0?y:C<=3?A.createClosedRing(m,y,4):y.getOrdinate(0,Ze.X)===y.getOrdinate(C-1,Ze.X)&&y.getOrdinate(0,Ze.Y)===y.getOrdinate(C-1,Ze.Y)?y:A.createClosedRing(m,y,C+1)}},{key:"indexOf",value:function(m,y){for(var C=0;C<y.size();C++)if(m.x===y.getOrdinate(C,Ze.X)&&m.y===y.getOrdinate(C,Ze.Y))return C;return-1}},{key:"createClosedRing",value:function(m,y,C){var F=m.create(C,y.getDimension()),nt=y.size();A.copy(y,0,F,0,nt);for(var xt=nt;xt<C;xt++)A.copy(y,0,F,xt,1);return F}},{key:"minCoordinate",value:function(m){for(var y=null,C=0;C<m.size();C++){var F=m.getCoordinate(C);(y===null||y.compareTo(F)>0)&&(y=F)}return y}}])})(),or=(function(){function A(){i(this,A)}return a(A,null,[{key:"toDimensionSymbol",value:function(m){switch(m){case A.FALSE:return A.SYM_FALSE;case A.TRUE:return A.SYM_TRUE;case A.DONTCARE:return A.SYM_DONTCARE;case A.P:return A.SYM_P;case A.L:return A.SYM_L;case A.A:return A.SYM_A}throw new X("Unknown dimension value: "+m)}},{key:"toDimensionValue",value:function(m){switch(Or.toUpperCase(m)){case A.SYM_FALSE:return A.FALSE;case A.SYM_TRUE:return A.TRUE;case A.SYM_DONTCARE:return A.DONTCARE;case A.SYM_P:return A.P;case A.SYM_L:return A.L;case A.SYM_A:return A.A}throw new X("Unknown dimension symbol: "+m)}}])})();or.P=0,or.L=1,or.A=2,or.FALSE=-1,or.TRUE=-2,or.DONTCARE=-3,or.SYM_FALSE="F",or.SYM_TRUE="T",or.SYM_DONTCARE="*",or.SYM_P="0",or.SYM_L="1",or.SYM_A="2";var bn=(function(){return a((function A(){i(this,A)}),[{key:"filter",value:function(A){}}])})(),Kr=(function(){return a((function A(){i(this,A)}),[{key:"filter",value:function(A,m){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),Zn=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new de:this._points.expandEnvelope(new de)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new m(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];if(!this.isEquivalentClass(y))return!1;var F=y;if(this._points.size()!==F._points.size())return!1;for(var nt=0;nt<this._points.size();nt++)if(!this.equal(this._points.getCoordinate(nt),F._points.getCoordinate(nt),C))return!1;return!0}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var y=0;y<Math.trunc(this._points.size()/2);y++){var C=this._points.size()-1-y;if(!this._points.getCoordinate(y).equals(this._points.getCoordinate(C))){if(this._points.getCoordinate(y).compareTo(this._points.getCoordinate(C))>0){var F=this._points.copy();Wr.reverse(F),this._points=F}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?or.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var y=this._points.copy();return Wr.reverse(y),this.getFactory().createLineString(y)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return ur.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var y=arguments[0],C=0,F=0;C<this._points.size()&&F<y._points.size();){var nt=this._points.getCoordinate(C).compareTo(y._points.getCoordinate(F));if(nt!==0)return nt;C++,F++}return C<this._points.size()?1:F<y._points.size()?-1:0}if(arguments.length===2){var xt=arguments[0];return arguments[1].compare(this._points,xt._points)}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe))for(var y=arguments[0],C=0;C<this._points.size();C++)y.filter(this._points.getCoordinate(C));else if(Ir(arguments[0],Kr)){var F=arguments[0];if(this._points.size()===0)return null;for(var nt=0;nt<this._points.size()&&(F.filter(this._points,nt),!F.isDone());nt++);F.isGeometryChanged()&&this.geometryChanged()}else Ir(arguments[0],bn)?arguments[0].filter(this):Ir(arguments[0],Y)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new Jt}},{key:"isEquivalentClass",value:function(y){return y instanceof m}},{key:"getCoordinateN",value:function(y){return this._points.getCoordinate(y)}},{key:"getGeometryType",value:function(){return Se.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(y){if(y===null&&(y=this.getFactory().getCoordinateSequenceFactory().create([])),y.size()===1)throw new X("Invalid number of points in LineString (found "+y.size()+" - must be 0 or >= 2)");this._points=y}},{key:"isCoordinate",value:function(y){for(var C=0;C<this._points.size();C++)if(this._points.getCoordinate(C).equals(y))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(y){return this.getFactory().createPoint(this._points.getCoordinate(y))}},{key:"interfaces_",get:function(){return[Oe]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0&&arguments.length===2){var y=arguments[0],C=arguments[1];Se.constructor_.call(this,C),this.init(y)}}}])})(Se),Pt=a((function A(){i(this,A)})),Xt=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new de;var y=new de;return y.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),y}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new m(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];return!!this.isEquivalentClass(y)&&(!(!this.isEmpty()||!y.isEmpty())||this.isEmpty()===y.isEmpty()&&this.equal(y.getCoordinate(),this.getCoordinate(),C))}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return or.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Se.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var y=arguments[0];return this.getCoordinate().compareTo(y.getCoordinate())}if(arguments.length===2){var C=arguments[0];return arguments[1].compare(this._coordinates,C._coordinates)}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe)){var y=arguments[0];if(this.isEmpty())return null;y.filter(this.getCoordinate())}else if(Ir(arguments[0],Kr)){var C=arguments[0];if(this.isEmpty())return null;C.filter(this._coordinates,0),C.isGeometryChanged()&&this.geometryChanged()}else Ir(arguments[0],bn)?arguments[0].filter(this):Ir(arguments[0],Y)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Se.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(y){y===null&&(y=this.getFactory().getCoordinateSequenceFactory().create([])),kt.isTrue(y.size()<=1),this._coordinates=y}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Pt]}}],[{key:"constructor_",value:function(){this._coordinates=null;var y=arguments[0],C=arguments[1];Se.constructor_.call(this,C),this.init(y)}}])})(Se),be=(function(){function A(){i(this,A)}return a(A,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var m=arguments[0];return Math.abs(A.ofRingSigned(m))}if(Ir(arguments[0],Ze)){var y=arguments[0];return Math.abs(A.ofRingSigned(y))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var m=arguments[0];if(m.length<3)return 0;for(var y=0,C=m[0].x,F=1;F<m.length-1;F++){var nt=m[F].x-C,xt=m[F+1].y;y+=nt*(m[F-1].y-xt)}return y/2}if(Ir(arguments[0],Ze)){var Dt=arguments[0],re=Dt.size();if(re<3)return 0;var _e=new Ht,sr=new Ht,_r=new Ht;Dt.getCoordinate(0,sr),Dt.getCoordinate(1,_r);var tn=sr.x;_r.x-=tn;for(var In=0,Qn=1;Qn<re-1;Qn++)_e.y=sr.y,sr.x=_r.x,sr.y=_r.y,Dt.getCoordinate(Qn+1,_r),_r.x-=tn,In+=sr.x*(_e.y-_r.y);return In/2}}}])})(),ze=(function(){return a((function A(){i(this,A)}),null,[{key:"sort",value:function(){var A=arguments,m=arguments[0];if(arguments.length===1)m.sort((function(tn,In){return tn.compareTo(In)}));else if(arguments.length===2)m.sort((function(tn,In){return A[1].compare(tn,In)}));else if(arguments.length===3){var y=m.slice(arguments[1],arguments[2]);y.sort();var C=m.slice(0,arguments[1]).concat(y,m.slice(arguments[2],m.length));m.splice(0,m.length);var F,nt=g(C);try{for(nt.s();!(F=nt.n()).done;){var xt=F.value;m.push(xt)}}catch(tn){nt.e(tn)}finally{nt.f()}}else if(arguments.length===4){var Dt=m.slice(arguments[1],arguments[2]);Dt.sort((function(tn,In){return A[3].compare(tn,In)}));var re=m.slice(0,arguments[1]).concat(Dt,m.slice(arguments[2],m.length));m.splice(0,m.length);var _e,sr=g(re);try{for(sr.s();!(_e=sr.n()).done;){var _r=_e.value;m.push(_r)}}catch(tn){sr.e(tn)}finally{sr.f()}}}},{key:"asList",value:function(A){var m,y=new Bt,C=g(A);try{for(C.s();!(m=C.n()).done;){var F=m.value;y.add(F)}}catch(nt){C.e(nt)}finally{C.f()}return y}},{key:"copyOf",value:function(A,m){return A.slice(0,m)}}])})(),Lr=a((function A(){i(this,A)})),vn=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var y=new Array(this.getNumPoints()).fill(null),C=-1,F=this._shell.getCoordinates(),nt=0;nt<F.length;nt++)y[++C]=F[nt];for(var xt=0;xt<this._holes.length;xt++)for(var Dt=this._holes[xt].getCoordinates(),re=0;re<Dt.length;re++)y[++C]=Dt[re];return y}},{key:"getArea",value:function(){var y=0;y+=be.ofRing(this._shell.getCoordinateSequence());for(var C=0;C<this._holes.length;C++)y-=be.ofRing(this._holes[C].getCoordinateSequence());return y}},{key:"copyInternal",value:function(){for(var y=this._shell.copy(),C=new Array(this._holes.length).fill(null),F=0;F<this._holes.length;F++)C[F]=this._holes[F].copy();return new m(y,C,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var y=this._shell.getCoordinateSequence(),C=this.getEnvelopeInternal(),F=0;F<5;F++){var nt=y.getX(F);if(nt!==C.getMinX()&&nt!==C.getMaxX())return!1;var xt=y.getY(F);if(xt!==C.getMinY()&&xt!==C.getMaxY())return!1}for(var Dt=y.getX(0),re=y.getY(0),_e=1;_e<=4;_e++){var sr=y.getX(_e),_r=y.getY(_e);if(sr!==Dt==(_r!==re))return!1;Dt=sr,re=_r}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];if(!this.isEquivalentClass(y))return!1;var F=y,nt=this._shell,xt=F._shell;if(!nt.equalsExact(xt,C)||this._holes.length!==F._holes.length)return!1;for(var Dt=0;Dt<this._holes.length;Dt++)if(!this._holes[Dt].equalsExact(F._holes[Dt],C))return!1;return!0}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var y=0;y<this._holes.length;y++)this._holes[y]=this.normalized(this._holes[y],!1);ze.sort(this._holes)}else if(arguments.length===2){var C=arguments[0],F=arguments[1];if(C.isEmpty())return null;var nt=C.getCoordinateSequence(),xt=Wr.minCoordinateIndex(nt,0,nt.size()-2);Wr.scroll(nt,xt,!0),rr.isCCW(nt)===F&&Wr.reverse(nt)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var y=this.getExteriorRing().reverse(),C=new Array(this.getNumInteriorRing()).fill(null),F=0;F<C.length;F++)C[F]=this.getInteriorRingN(F).reverse();return this.getFactory().createPolygon(y,C)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var y=0;y+=this._shell.getLength();for(var C=0;C<this._holes.length;C++)y+=this._holes[C].getLength();return y}},{key:"getNumPoints",value:function(){for(var y=this._shell.getNumPoints(),C=0;C<this._holes.length;C++)y+=this._holes[C].getNumPoints();return y}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(y,C){var F=y.copy();return this.normalize(F,C),F}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var y=arguments[0],C=this._shell,F=y._shell;return C.compareToSameClass(F)}if(arguments.length===2){var nt=arguments[1],xt=arguments[0],Dt=this._shell,re=xt._shell,_e=Dt.compareToSameClass(re,nt);if(_e!==0)return _e;for(var sr=this.getNumInteriorRing(),_r=xt.getNumInteriorRing(),tn=0;tn<sr&&tn<_r;){var In=this.getInteriorRingN(tn),Qn=xt.getInteriorRingN(tn),hi=In.compareToSameClass(Qn,nt);if(hi!==0)return hi;tn++}return tn<sr?1:tn<_r?-1:0}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe)){var y=arguments[0];this._shell.apply(y);for(var C=0;C<this._holes.length;C++)this._holes[C].apply(y)}else if(Ir(arguments[0],Kr)){var F=arguments[0];if(this._shell.apply(F),!F.isDone())for(var nt=0;nt<this._holes.length&&(this._holes[nt].apply(F),!F.isDone());nt++);F.isGeometryChanged()&&this.geometryChanged()}else if(Ir(arguments[0],bn))arguments[0].filter(this);else if(Ir(arguments[0],Y)){var xt=arguments[0];xt.filter(this),this._shell.apply(xt);for(var Dt=0;Dt<this._holes.length;Dt++)this._holes[Dt].apply(xt)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var y=new Array(this._holes.length+1).fill(null);y[0]=this._shell;for(var C=0;C<this._holes.length;C++)y[C+1]=this._holes[C];return y.length<=1?this.getFactory().createLinearRing(y[0].getCoordinateSequence()):this.getFactory().createMultiLineString(y)}},{key:"getGeometryType",value:function(){return Se.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(y){return this._holes[y]}},{key:"interfaces_",get:function(){return[Lr]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var y=arguments[0],C=arguments[1],F=arguments[2];if(Se.constructor_.call(this,F),y===null&&(y=this.getFactory().createLinearRing()),C===null&&(C=[]),Se.hasNullElements(C))throw new X("holes must not contain null elements");if(y.isEmpty()&&Se.hasNonEmptyElements(C))throw new X("shell is empty but holes are not");this._shell=y,this._holes=C}}])})(Se),Vr=(function(A){function m(){return i(this,m),n(this,m,arguments)}return k(m,A),a(m)})($r),fi=(function(A){function m(y){var C;return i(this,m),(C=n(this,m)).array=[],y instanceof He&&C.addAll(y),C}return k(m,A),a(m,[{key:"contains",value:function(y){var C,F=g(this.array);try{for(F.s();!(C=F.n()).done;)if(C.value.compareTo(y)===0)return!0}catch(nt){F.e(nt)}finally{F.f()}return!1}},{key:"add",value:function(y){if(this.contains(y))return!1;for(var C=0,F=this.array.length;C<F;C++)if(this.array[C].compareTo(y)===1)return!!this.array.splice(C,0,y);return this.array.push(y),!0}},{key:"addAll",value:function(y){var C,F=g(y);try{for(F.s();!(C=F.n()).done;){var nt=C.value;this.add(nt)}}catch(xt){F.e(xt)}finally{F.f()}return!0}},{key:"remove",value:function(){throw new Jt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new On(this.array)}}])})(Vr),On=(function(){return a((function A(m){i(this,A),this.array=m,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new ke;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new Jt}}])})(),li=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"computeEnvelopeInternal",value:function(){for(var y=new de,C=0;C<this._geometries.length;C++)y.expandToInclude(this._geometries[C].getEnvelopeInternal());return y}},{key:"getGeometryN",value:function(y){return this._geometries[y]}},{key:"getCoordinates",value:function(){for(var y=new Array(this.getNumPoints()).fill(null),C=-1,F=0;F<this._geometries.length;F++)for(var nt=this._geometries[F].getCoordinates(),xt=0;xt<nt.length;xt++)y[++C]=nt[xt];return y}},{key:"getArea",value:function(){for(var y=0,C=0;C<this._geometries.length;C++)y+=this._geometries[C].getArea();return y}},{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),C=0;C<y.length;C++)y[C]=this._geometries[C].copy();return new m(y,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];if(!this.isEquivalentClass(y))return!1;var F=y;if(this._geometries.length!==F._geometries.length)return!1;for(var nt=0;nt<this._geometries.length;nt++)if(!this._geometries[nt].equalsExact(F._geometries[nt],C))return!1;return!0}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var y=0;y<this._geometries.length;y++)this._geometries[y].normalize();ze.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var y=or.FALSE,C=0;C<this._geometries.length;C++)y=Math.max(y,this._geometries[C].getBoundaryDimension());return y}},{key:"reverseInternal",value:function(){for(var y=this._geometries.length,C=new Bt(y),F=0;F<y;F++)C.add(this._geometries[F].reverse());return this.getFactory().buildGeometry(C)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var y=or.FALSE,C=0;C<this._geometries.length;C++)y=Math.max(y,this._geometries[C].getDimension());return y}},{key:"getLength",value:function(){for(var y=0,C=0;C<this._geometries.length;C++)y+=this._geometries[C].getLength();return y}},{key:"getNumPoints",value:function(){for(var y=0,C=0;C<this._geometries.length;C++)y+=this._geometries[C].getNumPoints();return y}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var y=arguments[0],C=new fi(ze.asList(this._geometries)),F=new fi(ze.asList(y._geometries));return this.compare(C,F)}if(arguments.length===2){for(var nt=arguments[1],xt=arguments[0],Dt=this.getNumGeometries(),re=xt.getNumGeometries(),_e=0;_e<Dt&&_e<re;){var sr=this.getGeometryN(_e),_r=xt.getGeometryN(_e),tn=sr.compareToSameClass(_r,nt);if(tn!==0)return tn;_e++}return _e<Dt?1:_e<re?-1:0}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe))for(var y=arguments[0],C=0;C<this._geometries.length;C++)this._geometries[C].apply(y);else if(Ir(arguments[0],Kr)){var F=arguments[0];if(this._geometries.length===0)return null;for(var nt=0;nt<this._geometries.length&&(this._geometries[nt].apply(F),!F.isDone());nt++);F.isGeometryChanged()&&this.geometryChanged()}else if(Ir(arguments[0],bn)){var xt=arguments[0];xt.filter(this);for(var Dt=0;Dt<this._geometries.length;Dt++)this._geometries[Dt].apply(xt)}else if(Ir(arguments[0],Y)){var re=arguments[0];re.filter(this);for(var _e=0;_e<this._geometries.length;_e++)this._geometries[_e].apply(re)}}},{key:"getBoundary",value:function(){return Se.checkNotGeometryCollection(this),kt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Se.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var y=0;y<this._geometries.length;y++)if(!this._geometries[y].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0&&arguments.length===2){var y=arguments[0],C=arguments[1];if(Se.constructor_.call(this,C),y===null&&(y=[]),Se.hasNullElements(y))throw new X("geometries must not contain null elements");this._geometries=y}}}])})(Se),Ji=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),C=0;C<y.length;C++)y[C]=this._geometries[C].copy();return new m(y,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];return!!this.isEquivalentClass(y)&&P(m,"equalsExact",this,1).call(this,y,C)}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var y=arguments[0];return this._geometries[y].getCoordinate()}return P(m,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return or.FALSE}},{key:"getTypeCode",value:function(){return Se.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Se.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Pt]}}],[{key:"constructor_",value:function(){var y=arguments[0],C=arguments[1];li.constructor_.call(this,y,C)}}])})(li),en=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"copyInternal",value:function(){return new m(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return or.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||P(m,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var y=this._points.copy();return Wr.reverse(y),this.getFactory().createLinearRing(y)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!P(m,"isClosed",this,1).call(this))throw new X("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<m.MINIMUM_VALID_SIZE)throw new X("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Se.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var y=arguments[0],C=arguments[1];Zn.constructor_.call(this,y,C),this.validateConstruction()}}])})(Zn);en.MINIMUM_VALID_SIZE=4;var Rn=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"setOrdinate",value:function(y,C){switch(y){case m.X:this.x=C;break;case m.Y:this.y=C;break;default:throw new X("Invalid ordinate index: "+y)}}},{key:"getZ",value:function(){return Ht.NULL_ORDINATE}},{key:"getOrdinate",value:function(y){switch(y){case m.X:return this.x;case m.Y:return this.y}throw new X("Invalid ordinate index: "+y)}},{key:"setZ",value:function(y){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new m(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(y){this.x=y.x,this.y=y.y,this.z=y.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)Ht.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof m){var y=arguments[0];Ht.constructor_.call(this,y.x,y.y)}else if(arguments[0]instanceof Ht){var C=arguments[0];Ht.constructor_.call(this,C.x,C.y)}}else if(arguments.length===2){var F=arguments[0],nt=arguments[1];Ht.constructor_.call(this,F,nt,Ht.NULL_ORDINATE)}}}])})(Ht);Rn.X=0,Rn.Y=1,Rn.Z=-1,Rn.M=-1;var Wn=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(y,C){switch(y){case m.X:this.x=C;break;case m.Y:this.y=C;break;case m.M:this._m=C;break;default:throw new X("Invalid ordinate index: "+y)}}},{key:"setM",value:function(y){this._m=y}},{key:"getZ",value:function(){return Ht.NULL_ORDINATE}},{key:"getOrdinate",value:function(y){switch(y){case m.X:return this.x;case m.Y:return this.y;case m.M:return this._m}throw new X("Invalid ordinate index: "+y)}},{key:"setZ",value:function(y){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new m(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(y){this.x=y.x,this.y=y.y,this.z=y.getZ(),this._m=y.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Ht.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof m){var y=arguments[0];Ht.constructor_.call(this,y.x,y.y),this._m=y._m}else if(arguments[0]instanceof Ht){var C=arguments[0];Ht.constructor_.call(this,C.x,C.y),this._m=this.getM()}}else if(arguments.length===3){var F=arguments[0],nt=arguments[1],xt=arguments[2];Ht.constructor_.call(this,F,nt,Ht.NULL_ORDINATE),this._m=xt}}}])})(Ht);Wn.X=0,Wn.Y=1,Wn.Z=-1,Wn.M=2;var Ra=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(y,C){switch(y){case Ht.X:this.x=C;break;case Ht.Y:this.y=C;break;case Ht.Z:this.z=C;break;case Ht.M:this._m=C;break;default:throw new X("Invalid ordinate index: "+y)}}},{key:"setM",value:function(y){this._m=y}},{key:"getOrdinate",value:function(y){switch(y){case Ht.X:return this.x;case Ht.Y:return this.y;case Ht.Z:return this.getZ();case Ht.M:return this.getM()}throw new X("Invalid ordinate index: "+y)}},{key:"copy",value:function(){return new m(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(y){this.x=y.x,this.y=y.y,this.z=y.getZ(),this._m=y.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Ht.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof m){var y=arguments[0];Ht.constructor_.call(this,y),this._m=y._m}else if(arguments[0]instanceof Ht){var C=arguments[0];Ht.constructor_.call(this,C),this._m=this.getM()}}else if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3];Ht.constructor_.call(this,F,nt,xt),this._m=Dt}}}])})(Ht),xo=(function(){function A(){i(this,A)}return a(A,null,[{key:"measures",value:function(m){return m instanceof Rn?0:m instanceof Wn||m instanceof Ra?1:0}},{key:"dimension",value:function(m){return m instanceof Rn?2:m instanceof Wn?3:m instanceof Ra?4:3}},{key:"create",value:function(){if(arguments.length===1){var m=arguments[0];return A.create(m,0)}if(arguments.length===2){var y=arguments[0],C=arguments[1];return y===2?new Rn:y===3&&C===0?new Ht:y===3&&C===1?new Wn:y===4&&C===1?new Ra:new Ht}}}])})(),Na=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"getCoordinate",value:function(y){return this.get(y)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Ir(arguments[0],He)){for(var y=arguments[1],C=!1,F=arguments[0].iterator();F.hasNext();)this.add(F.next(),y),C=!0;return C}return P(m,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var y=P(m,"clone",this,1).call(this),C=0;C<this.size();C++)y.add(C,this.get(C).clone());return y}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(m.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(m.coordArrayType);for(var y=this.size(),C=new Array(y).fill(null),F=0;F<y;F++)C[F]=this.get(y-F-1);return C}}},{key:"add",value:function(){if(arguments.length===1){var y=arguments[0];return P(m,"add",this,1).call(this,y)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var C=arguments[0],F=arguments[1];return this.add(C,F,!0),!0}if(arguments[0]instanceof Ht&&typeof arguments[1]=="boolean"){var nt=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(nt))return null;P(m,"add",this,1).call(this,nt)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var xt=arguments[0],Dt=arguments[1];return this.add(xt,Dt),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var re=arguments[0],_e=arguments[1];if(arguments[2])for(var sr=0;sr<re.length;sr++)this.add(re[sr],_e);else for(var _r=re.length-1;_r>=0;_r--)this.add(re[_r],_e);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ht){var tn=arguments[0],In=arguments[1];if(!arguments[2]){var Qn=this.size();if(Qn>0&&(tn>0&&this.get(tn-1).equals2D(In)||tn<Qn&&this.get(tn).equals2D(In)))return null}P(m,"add",this,1).call(this,tn,In)}}else if(arguments.length===4){var hi=arguments[0],Kn=arguments[1],Hn=arguments[2],ma=arguments[3],qi=1;Hn>ma&&(qi=-1);for(var Va=Hn;Va!==ma;Va+=qi)this.add(hi[Va],Kn);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var y=this.get(0).copy();this.add(y,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var y=arguments[0];this.ensureCapacity(y.length),this.add(y,!0)}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this.ensureCapacity(C.length),this.add(C,F)}}}}])})(Bt);Na.coordArrayType=new Array(0).fill(null);var Mn=(function(){function A(){i(this,A)}return a(A,null,[{key:"isRing",value:function(m){return!(m.length<4)&&!!m[0].equals2D(m[m.length-1])}},{key:"ptNotInList",value:function(m,y){for(var C=0;C<m.length;C++){var F=m[C];if(A.indexOf(F,y)<0)return F}return null}},{key:"scroll",value:function(m,y){var C=A.indexOf(y,m);if(C<0)return null;var F=new Array(m.length).fill(null);Ge.arraycopy(m,C,F,0,m.length-C),Ge.arraycopy(m,0,F,m.length-C,C),Ge.arraycopy(F,0,m,0,m.length)}},{key:"equals",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];if(m===y)return!0;if(m===null||y===null||m.length!==y.length)return!1;for(var C=0;C<m.length;C++)if(!m[C].equals(y[C]))return!1;return!0}if(arguments.length===3){var F=arguments[0],nt=arguments[1],xt=arguments[2];if(F===nt)return!0;if(F===null||nt===null||F.length!==nt.length)return!1;for(var Dt=0;Dt<F.length;Dt++)if(xt.compare(F[Dt],nt[Dt])!==0)return!1;return!0}}},{key:"intersection",value:function(m,y){for(var C=new Na,F=0;F<m.length;F++)y.intersects(m[F])&&C.add(m[F],!0);return C.toCoordinateArray()}},{key:"measures",value:function(m){if(m===null||m.length===0)return 0;var y,C=0,F=g(m);try{for(F.s();!(y=F.n()).done;){var nt=y.value;C=Math.max(C,xo.measures(nt))}}catch(xt){F.e(xt)}finally{F.f()}return C}},{key:"hasRepeatedPoints",value:function(m){for(var y=1;y<m.length;y++)if(m[y-1].equals(m[y]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(m){return A.hasRepeatedPoints(m)?new Na(m,!1).toCoordinateArray():m}},{key:"reverse",value:function(m){for(var y=m.length-1,C=Math.trunc(y/2),F=0;F<=C;F++){var nt=m[F];m[F]=m[y-F],m[y-F]=nt}}},{key:"removeNull",value:function(m){for(var y=0,C=0;C<m.length;C++)m[C]!==null&&y++;var F=new Array(y).fill(null);if(y===0)return F;for(var nt=0,xt=0;xt<m.length;xt++)m[xt]!==null&&(F[nt++]=m[xt]);return F}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var m=arguments[0],y=new Array(m.length).fill(null),C=0;C<m.length;C++)y[C]=m[C].copy();return y}if(arguments.length===5)for(var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=arguments[4],_e=0;_e<re;_e++)xt[Dt+_e]=F[nt+_e].copy()}},{key:"isEqualReversed",value:function(m,y){for(var C=0;C<m.length;C++){var F=m[C],nt=y[m.length-C-1];if(F.compareTo(nt)!==0)return!1}return!0}},{key:"envelope",value:function(m){for(var y=new de,C=0;C<m.length;C++)y.expandToInclude(m[C]);return y}},{key:"toCoordinateArray",value:function(m){return m.toArray(A.coordArrayType)}},{key:"dimension",value:function(m){if(m===null||m.length===0)return 3;var y,C=0,F=g(m);try{for(F.s();!(y=F.n()).done;){var nt=y.value;C=Math.max(C,xo.dimension(nt))}}catch(xt){F.e(xt)}finally{F.f()}return C}},{key:"atLeastNCoordinatesOrNothing",value:function(m,y){return y.length>=m?y:[]}},{key:"indexOf",value:function(m,y){for(var C=0;C<y.length;C++)if(m.equals(y[C]))return C;return-1}},{key:"increasingDirection",value:function(m){for(var y=0;y<Math.trunc(m.length/2);y++){var C=m.length-1-y,F=m[y].compareTo(m[C]);if(F!==0)return F}return 1}},{key:"compare",value:function(m,y){for(var C=0;C<m.length&&C<y.length;){var F=m[C].compareTo(y[C]);if(F!==0)return F;C++}return C<y.length?-1:C<m.length?1:0}},{key:"minCoordinate",value:function(m){for(var y=null,C=0;C<m.length;C++)(y===null||y.compareTo(m[C])>0)&&(y=m[C]);return y}},{key:"extract",value:function(m,y,C){y=Ue.clamp(y,0,m.length);var F=(C=Ue.clamp(C,-1,m.length))-y+1;C<0&&(F=0),y>=m.length&&(F=0),C<y&&(F=0);var nt=new Array(F).fill(null);if(F===0)return nt;for(var xt=0,Dt=y;Dt<=C;Dt++)nt[xt++]=m[Dt];return nt}}])})(),io=(function(){return a((function A(){i(this,A)}),[{key:"compare",value:function(A,m){var y=A,C=m;return Mn.compare(y,C)}},{key:"interfaces_",get:function(){return[_t]}}])})(),rl=(function(){return a((function A(){i(this,A)}),[{key:"compare",value:function(A,m){var y=A,C=m;if(y.length<C.length)return-1;if(y.length>C.length)return 1;if(y.length===0)return 0;var F=Mn.compare(y,C);return Mn.isEqualReversed(y,C)?0:F}},{key:"OLDcompare",value:function(A,m){var y=A,C=m;if(y.length<C.length)return-1;if(y.length>C.length)return 1;if(y.length===0)return 0;for(var F=Mn.increasingDirection(y),nt=Mn.increasingDirection(C),xt=F>0?0:y.length-1,Dt=nt>0?0:y.length-1,re=0;re<y.length;re++){var _e=y[xt].compareTo(C[Dt]);if(_e!==0)return _e;xt+=F,Dt+=nt}return 0}},{key:"interfaces_",get:function(){return[_t]}}])})();Mn.ForwardComparator=io,Mn.BidirectionalComparator=rl,Mn.coordArrayType=new Array(0).fill(null);var oa=(function(){return a((function A(m){i(this,A),this.str=m}),[{key:"append",value:function(A){this.str+=A}},{key:"setCharAt",value:function(A,m){this.str=this.str.substr(0,A)+m+this.str.substr(A+1)}},{key:"toString",value:function(){return this.str}}])})(),ha=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getM",value:function(m){return this.hasM()?this._coordinates[m].getM():jt.NaN}},{key:"setOrdinate",value:function(m,y,C){switch(y){case Ze.X:this._coordinates[m].x=C;break;case Ze.Y:this._coordinates[m].y=C;break;default:this._coordinates[m].setOrdinate(y,C)}}},{key:"getZ",value:function(m){return this.hasZ()?this._coordinates[m].getZ():jt.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(m,y){switch(y){case Ze.X:return this._coordinates[m].x;case Ze.Y:return this._coordinates[m].y;default:return this._coordinates[m].getOrdinate(y)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var m=arguments[0];return this._coordinates[m]}if(arguments.length===2){var y=arguments[0];arguments[1].setCoordinate(this._coordinates[y])}}},{key:"getCoordinateCopy",value:function(m){var y=this.createCoordinate();return y.setCoordinate(this._coordinates[m]),y}},{key:"createCoordinate",value:function(){return xo.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(m){return this._coordinates[m].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(m){for(var y=0;y<this._coordinates.length;y++)m.expandToInclude(this._coordinates[y]);return m}},{key:"copy",value:function(){for(var m=new Array(this.size()).fill(null),y=0;y<this._coordinates.length;y++){var C=this.createCoordinate();C.setCoordinate(this._coordinates[y]),m[y]=C}return new A(m,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var m=new oa(17*this._coordinates.length);m.append("("),m.append(this._coordinates[0]);for(var y=1;y<this._coordinates.length;y++)m.append(", "),m.append(this._coordinates[y]);return m.append(")"),m.toString()}return"()"}},{key:"getY",value:function(m){return this._coordinates[m].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ze,it]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];A.constructor_.call(this,m,Mn.dimension(m),Mn.measures(m))}else if(Number.isInteger(arguments[0])){var y=arguments[0];this._coordinates=new Array(y).fill(null);for(var C=0;C<y;C++)this._coordinates[C]=new Ht}else if(Ir(arguments[0],Ze)){var F=arguments[0];if(F===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=F.getDimension(),this._measures=F.getMeasures(),this._coordinates=new Array(F.size()).fill(null);for(var nt=0;nt<this._coordinates.length;nt++)this._coordinates[nt]=F.getCoordinateCopy(nt)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var xt=arguments[0],Dt=arguments[1];A.constructor_.call(this,xt,Dt,Mn.measures(xt))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var re=arguments[0],_e=arguments[1];this._coordinates=new Array(re).fill(null),this._dimension=_e;for(var sr=0;sr<re;sr++)this._coordinates[sr]=xo.create(_e)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _r=arguments[0],tn=arguments[1],In=arguments[2];this._dimension=tn,this._measures=In,this._coordinates=_r===null?new Array(0).fill(null):_r}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Qn=arguments[0],hi=arguments[1],Kn=arguments[2];this._coordinates=new Array(Qn).fill(null),this._dimension=hi,this._measures=Kn;for(var Hn=0;Hn<Qn;Hn++)this._coordinates[Hn]=this.createCoordinate()}}}}])})(),uc=(function(){function A(){i(this,A)}return a(A,[{key:"readResolve",value:function(){return A.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new ha(arguments[0]);if(Ir(arguments[0],Ze))return new ha(arguments[0])}else{if(arguments.length===2){var m=arguments[1];return m>3&&(m=3),m<2&&(m=2),new ha(arguments[0],m)}if(arguments.length===3){var y=arguments[2],C=arguments[1]-y;return y>1&&(y=1),C>3&&(C=3),C<2&&(C=2),new ha(arguments[0],C+y,y)}}}},{key:"interfaces_",get:function(){return[Ke,it]}}],[{key:"instance",value:function(){return A.instanceObject}}])})();uc.instanceObject=new uc;var Vi=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),C=0;C<y.length;C++)y[C]=this._geometries[C].copy();return new m(y,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];return!!this.isEquivalentClass(y)&&P(m,"equalsExact",this,1).call(this,y,C)}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Se.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var y=new Bt,C=0;C<this._geometries.length;C++)for(var F=this._geometries[C].getBoundary(),nt=0;nt<F.getNumGeometries();nt++)y.add(F.getGeometryN(nt));var xt=new Array(y.size()).fill(null);return this.getFactory().createMultiLineString(y.toArray(xt))}},{key:"getGeometryType",value:function(){return Se.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Lr]}}],[{key:"constructor_",value:function(){var y=arguments[0],C=arguments[1];li.constructor_.call(this,y,C)}}])})(li),nl=(function(){return a((function A(){i(this,A)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Xo=(function(A){function m(){var y;return i(this,m),(y=n(this,m)).map=new Map,y}return k(m,A),a(m,[{key:"get",value:function(y){return this.map.get(y)||null}},{key:"put",value:function(y,C){return this.map.set(y,C),C}},{key:"values",value:function(){for(var y=new Bt,C=this.map.values(),F=C.next();!F.done;)y.add(F.value),F=C.next();return y}},{key:"entrySet",value:function(){var y=new vr;return this.map.entries().forEach((function(C){return y.add(C)})),y}},{key:"size",value:function(){return this.map.size()}}])})(nl),Pi=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"equals",value:function(m){if(!(m instanceof A))return!1;var y=m;return this._modelType===y._modelType&&this._scale===y._scale}},{key:"compareTo",value:function(m){var y=m,C=this.getMaximumSignificantDigits(),F=y.getMaximumSignificantDigits();return ar.compare(C,F)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===A.FLOATING||this._modelType===A.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var m="UNKNOWN";return this._modelType===A.FLOATING?m="Floating":this._modelType===A.FLOATING_SINGLE?m="Floating-Single":this._modelType===A.FIXED&&(m="Fixed (Scale="+this.getScale()+")"),m}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var m=arguments[0];return jt.isNaN(m)||this._modelType===A.FLOATING_SINGLE?m:this._modelType===A.FIXED?Math.round(m*this._scale)/this._scale:m}if(arguments[0]instanceof Ht){var y=arguments[0];if(this._modelType===A.FLOATING)return null;y.x=this.makePrecise(y.x),y.y=this.makePrecise(y.y)}}},{key:"getMaximumSignificantDigits",value:function(){var m=16;return this._modelType===A.FLOATING?m=16:this._modelType===A.FLOATING_SINGLE?m=6:this._modelType===A.FIXED&&(m=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),m}},{key:"setScale",value:function(m){this._scale=Math.abs(m)}},{key:"interfaces_",get:function(){return[it,et]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=A.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof xs){var m=arguments[0];this._modelType=m,m===A.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var y=arguments[0];this._modelType=A.FIXED,this.setScale(y)}else if(arguments[0]instanceof A){var C=arguments[0];this._modelType=C._modelType,this._scale=C._scale}}}},{key:"mostPrecise",value:function(m,y){return m.compareTo(y)>=0?m:y}}])})(),xs=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"readResolve",value:function(){return A.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){this._name=null;var m=arguments[0];this._name=m,A.nameToTypeMap.put(m,this)}}])})();xs.nameToTypeMap=new Xo,Pi.Type=xs,Pi.FIXED=new xs("FIXED"),Pi.FLOATING=new xs("FLOATING"),Pi.FLOATING_SINGLE=new xs("FLOATING SINGLE"),Pi.maximumPreciseValue=9007199254740992;var Fl=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),C=0;C<y.length;C++)y[C]=this._geometries[C].copy();return new m(y,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],C=arguments[1];return!!this.isEquivalentClass(y)&&P(m,"equalsExact",this,1).call(this,y,C)}return P(m,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?or.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var y=0;y<this._geometries.length;y++)if(!this._geometries[y].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Se.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new Jt}},{key:"getGeometryType",value:function(){return Se.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Oe]}}],[{key:"constructor_",value:function(){var y=arguments[0],C=arguments[1];li.constructor_.call(this,y,C)}}])})(li),Ks=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"createEmpty",value:function(m){switch(m){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new X("Invalid dimension: "+m)}}},{key:"toGeometry",value:function(m){return m.isNull()?this.createPoint():m.getMinX()===m.getMaxX()&&m.getMinY()===m.getMaxY()?this.createPoint(new Ht(m.getMinX(),m.getMinY())):m.getMinX()===m.getMaxX()||m.getMinY()===m.getMaxY()?this.createLineString([new Ht(m.getMinX(),m.getMinY()),new Ht(m.getMaxX(),m.getMaxY())]):this.createPolygon(this.createLinearRing([new Ht(m.getMinX(),m.getMinY()),new Ht(m.getMinX(),m.getMaxY()),new Ht(m.getMaxX(),m.getMaxY()),new Ht(m.getMaxX(),m.getMinY()),new Ht(m.getMinX(),m.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];return this.createLineString(m!==null?this.getCoordinateSequenceFactory().create(m):null)}if(Ir(arguments[0],Ze))return new Zn(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Fl(null,this):arguments.length===1?new Fl(arguments[0],this):void 0}},{key:"buildGeometry",value:function(m){for(var y=null,C=!1,F=!1,nt=m.iterator();nt.hasNext();){var xt=nt.next(),Dt=xt.getTypeCode();y===null&&(y=Dt),Dt!==y&&(C=!0),xt instanceof li&&(F=!0)}if(y===null)return this.createGeometryCollection();if(C||F)return this.createGeometryCollection(A.toGeometryArray(m));var re=m.iterator().next();if(m.size()>1){if(re instanceof vn)return this.createMultiPolygon(A.toPolygonArray(m));if(re instanceof Zn)return this.createMultiLineString(A.toLineStringArray(m));if(re instanceof Xt)return this.createMultiPoint(A.toPointArray(m));kt.shouldNeverReachHere("Unhandled geometry type: "+re.getGeometryType())}return re}},{key:"createMultiPointFromCoords",value:function(m){return this.createMultiPoint(m!==null?this.getCoordinateSequenceFactory().create(m):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];return this.createPoint(m!==null?this.getCoordinateSequenceFactory().create([m]):null)}if(Ir(arguments[0],Ze))return new Xt(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Ir(arguments[0],Ze)){var m=arguments[0];return this.createPolygon(this.createLinearRing(m))}if(arguments[0]instanceof Array){var y=arguments[0];return this.createPolygon(this.createLinearRing(y))}if(arguments[0]instanceof en){var C=arguments[0];return this.createPolygon(C,null)}}else if(arguments.length===2)return new vn(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new li(null,this):arguments.length===1?new li(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];return this.createLinearRing(m!==null?this.getCoordinateSequenceFactory().create(m):null)}if(Ir(arguments[0],Ze))return new en(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Vi(null,this):arguments.length===1?new Vi(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Ji(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Ji(arguments[0],this);if(Ir(arguments[0],Ze)){var m=arguments[0];if(m===null)return this.createMultiPoint(new Array(0).fill(null));for(var y=new Array(m.size()).fill(null),C=0;C<m.size();C++){var F=this.getCoordinateSequenceFactory().create(1,m.getDimension(),m.getMeasures());Wr.copy(m,C,F,0,1),y[C]=this.createPoint(F)}return this.createMultiPoint(y)}}}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)A.constructor_.call(this,new Pi,0);else if(arguments.length===1){if(Ir(arguments[0],Ke)){var m=arguments[0];A.constructor_.call(this,new Pi,0,m)}else if(arguments[0]instanceof Pi){var y=arguments[0];A.constructor_.call(this,y,0,A.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];A.constructor_.call(this,C,F,A.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this._precisionModel=nt,this._coordinateSequenceFactory=Dt,this._SRID=xt}}},{key:"toMultiPolygonArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toGeometryArray",value:function(m){if(m===null)return null;var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return uc.instance()}},{key:"toMultiLineStringArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toLineStringArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toMultiPointArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toLinearRingArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toPointArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toPolygonArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"createPointFromInternalCoord",value:function(m,y){return y.getPrecisionModel().makePrecise(m),y.getFactory().createPoint(m)}}])})(),Do="XY",jl="XYZ",Ha="XYM",fl="XYZM",Gu={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},pl="EMPTY",El=1,Wo=2,Yo=3,Ko=4,Zo=5,iu=6;for(var yu in Gu)Gu[yu].toUpperCase();var Q=(function(){return a((function A(m){i(this,A),this.wkt=m,this.index_=-1}),[{key:"isAlpha_",value:function(A){return A>="a"&&A<="z"||A>="A"&&A<="Z"}},{key:"isNumeric_",value:function(A,m){return A>="0"&&A<="9"||A=="."&&!(m!==void 0&&m)}},{key:"isWhiteSpace_",value:function(A){return A==" "||A=="	"||A=="\r"||A==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var A,m=this.nextChar_(),y=this.index_,C=m;if(m=="(")A=Wo;else if(m==",")A=Zo;else if(m==")")A=Yo;else if(this.isNumeric_(m)||m=="-")A=Ko,C=this.readNumber_();else if(this.isAlpha_(m))A=El,C=this.readText_();else{if(this.isWhiteSpace_(m))return this.nextToken();if(m!=="")throw new Error("Unexpected character: "+m);A=iu}return{position:y,value:C,type:A}}},{key:"readNumber_",value:function(){var A,m=this.index_,y=!1,C=!1;do A=="."?y=!0:A!="e"&&A!="E"||(C=!0),A=this.nextChar_();while(this.isNumeric_(A,y)||!C&&(A=="e"||A=="E")||C&&(A=="-"||A=="+"));return parseFloat(this.wkt.substring(m,this.index_--))}},{key:"readText_",value:function(){var A,m=this.index_;do A=this.nextChar_();while(this.isAlpha_(A));return this.wkt.substring(m,this.index_--).toUpperCase()}}])})(),gt=(function(){return a((function A(m,y){i(this,A),this.lexer_=m,this.token_,this.layout_=Do,this.factory=y}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(A){return this.token_.type==A}},{key:"match",value:function(A){var m=this.isTokenType(A);return m&&this.consume_(),m}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var A=Do,m=this.token_;if(this.isTokenType(El)){var y=m.value;y==="Z"?A=jl:y==="M"?A=Ha:y==="ZM"&&(A=fl),A!==Do&&this.consume_()}return A}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Wo)){var A=[];do A.push(this.parseGeometry_());while(this.match(Zo));if(this.match(Yo))return A}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Wo)){var A=this.parsePoint_();if(this.match(Yo))return A}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Wo)){var A=this.parsePointList_();if(this.match(Yo))return A}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Wo)){var A=this.parseLineStringTextList_();if(this.match(Yo))return A}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var A;if(this.match(Wo)){if(A=this.token_.type==Wo?this.parsePointTextList_():this.parsePointList_(),this.match(Yo))return A}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Wo)){var A=this.parseLineStringTextList_();if(this.match(Yo))return A}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Wo)){var A=this.parsePolygonTextList_();if(this.match(Yo))return A}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var A=[],m=this.layout_.length,y=0;y<m;++y){var C=this.token_;if(!this.match(Ko))break;A.push(C.value)}if(A.length==m)return A;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var A=[this.parsePoint_()];this.match(Zo);)A.push(this.parsePoint_());return A}},{key:"parsePointTextList_",value:function(){for(var A=[this.parsePointText_()];this.match(Zo);)A.push(this.parsePointText_());return A}},{key:"parseLineStringTextList_",value:function(){for(var A=[this.parseLineStringText_()];this.match(Zo);)A.push(this.parseLineStringText_());return A}},{key:"parsePolygonTextList_",value:function(){for(var A=[this.parsePolygonText_()];this.match(Zo);)A.push(this.parsePolygonText_());return A}},{key:"isEmptyGeometry_",value:function(){var A=this.isTokenType(El)&&this.token_.value==pl;return A&&this.consume_(),A}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var A=this.factory,m=function(hi){return o(Ht,D(hi))},y=function(hi){var Kn=hi.map((function(Hn){return A.createLinearRing(Hn.map(m))}));return Kn.length>1?A.createPolygon(Kn[0],Kn.slice(1)):A.createPolygon(Kn[0])},C=this.token_;if(this.match(El)){var F=C.value;if(this.layout_=this.parseGeometryLayout_(),F=="GEOMETRYCOLLECTION"){var nt=this.parseGeometryCollectionText_();return A.createGeometryCollection(nt)}switch(F){case"POINT":var xt=this.parsePointText_();return xt?A.createPoint(o(Ht,D(xt))):A.createPoint();case"LINESTRING":var Dt=this.parseLineStringText_().map(m);return A.createLineString(Dt);case"LINEARRING":var re=this.parseLineStringText_().map(m);return A.createLinearRing(re);case"POLYGON":var _e=this.parsePolygonText_();return _e&&_e.length!==0?y(_e):A.createPolygon();case"MULTIPOINT":var sr=this.parseMultiPointText_();if(!sr||sr.length===0)return A.createMultiPoint();var _r=sr.map(m).map((function(hi){return A.createPoint(hi)}));return A.createMultiPoint(_r);case"MULTILINESTRING":var tn=this.parseMultiLineStringText_().map((function(hi){return A.createLineString(hi.map(m))}));return A.createMultiLineString(tn);case"MULTIPOLYGON":var In=this.parseMultiPolygonText_();if(!In||In.length===0)return A.createMultiPolygon();var Qn=In.map(y);return A.createMultiPolygon(Qn);default:throw new Error("Invalid geometry type: "+F)}}throw new Error(this.formatErrorMessage_())}}])})();function ee(A){if(A.isEmpty())return"";var m=A.getCoordinate(),y=[m.x,m.y];return m.z===void 0||Number.isNaN(m.z)||y.push(m.z),m.m===void 0||Number.isNaN(m.m)||y.push(m.m),y.join(" ")}function Re(A){for(var m=A.getCoordinates().map((function(nt){var xt=[nt.x,nt.y];return nt.z===void 0||Number.isNaN(nt.z)||xt.push(nt.z),nt.m===void 0||Number.isNaN(nt.m)||xt.push(nt.m),xt})),y=[],C=0,F=m.length;C<F;++C)y.push(m[C].join(" "));return y.join(", ")}function qe(A){var m=[];m.push("("+Re(A.getExteriorRing())+")");for(var y=0,C=A.getNumInteriorRing();y<C;++y)m.push("("+Re(A.getInteriorRingN(y))+")");return m.join(", ")}var Fe={Point:ee,LineString:Re,LinearRing:Re,Polygon:qe,MultiPoint:function(A){for(var m=[],y=0,C=A.getNumGeometries();y<C;++y)m.push("("+ee(A.getGeometryN(y))+")");return m.join(", ")},MultiLineString:function(A){for(var m=[],y=0,C=A.getNumGeometries();y<C;++y)m.push("("+Re(A.getGeometryN(y))+")");return m.join(", ")},MultiPolygon:function(A){for(var m=[],y=0,C=A.getNumGeometries();y<C;++y)m.push("("+qe(A.getGeometryN(y))+")");return m.join(", ")},GeometryCollection:function(A){for(var m=[],y=0,C=A.getNumGeometries();y<C;++y)m.push(nr(A.getGeometryN(y)));return m.join(", ")}};function nr(A){var m=A.getGeometryType(),y=Fe[m];m=m.toUpperCase();var C=(function(F){var nt="";if(F.isEmpty())return nt;var xt=F.getCoordinate();return xt.z===void 0||Number.isNaN(xt.z)||(nt+="Z"),xt.m===void 0||Number.isNaN(xt.m)||(nt+="M"),nt})(A);return C.length>0&&(m+=" "+C),A.isEmpty()?m+" "+pl:m+" ("+y(A)+")"}var rn=(function(){return a((function A(m){i(this,A),this.geometryFactory=m||new Ks,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(A){var m=new Q(A);return new gt(m,this.geometryFactory).parse()}},{key:"write",value:function(A){return nr(A)}}])})(),mn=(function(){return a((function A(m){i(this,A),this.parser=new rn(m)}),[{key:"write",value:function(A){return this.parser.write(A)}}],[{key:"toLineString",value:function(A,m){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+A.x+" "+A.y+", "+m.x+" "+m.y+" )"}}])})(),un=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getIndexAlongSegment",value:function(m,y){return this.computeIntLineIndex(),this._intLineIndex[m][y]}},{key:"getTopologySummary",value:function(){var m=new oa;return this.isEndPoint()&&m.append(" endpoint"),this._isProper&&m.append(" proper"),this.isCollinear()&&m.append(" collinear"),m.toString()}},{key:"computeIntersection",value:function(m,y,C,F){this._inputLines[0][0]=m,this._inputLines[0][1]=y,this._inputLines[1][0]=C,this._inputLines[1][1]=F,this._result=this.computeIntersect(m,y,C,F)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var m=arguments[0];this.getEdgeDistance(m,0)>this.getEdgeDistance(m,1)?(this._intLineIndex[m][0]=0,this._intLineIndex[m][1]=1):(this._intLineIndex[m][0]=1,this._intLineIndex[m][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(m){this._precisionModel=m}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var m=arguments[0],y=0;y<this._result;y++)if(!this._intPt[y].equals2D(this._inputLines[m][0])&&!this._intPt[y].equals2D(this._inputLines[m][1]))return!0;return!1}}},{key:"getIntersection",value:function(m){return this._intPt[m]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==A.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(m,y){return A.computeEdgeDistance(this._intPt[y],this._inputLines[m][0],this._inputLines[m][1])}},{key:"isCollinear",value:function(){return this._result===A.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return mn.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+mn.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(m,y){return this._inputLines[m][y]}},{key:"isIntersection",value:function(m){for(var y=0;y<this._result;y++)if(this._intPt[y].equals2D(m))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(m,y){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[m][y]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ht,this._intPt[1]=new Ht,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(m,y,C){var F=Math.abs(C.x-y.x),nt=Math.abs(C.y-y.y),xt=-1;if(m.equals(y))xt=0;else if(m.equals(C))xt=F>nt?F:nt;else{var Dt=Math.abs(m.x-y.x),re=Math.abs(m.y-y.y);(xt=F>nt?Dt:re)!==0||m.equals(y)||(xt=Math.max(Dt,re))}return kt.isTrue(!(xt===0&&!m.equals(y)),"Bad distance calculation"),xt}},{key:"nonRobustComputeEdgeDistance",value:function(m,y,C){var F=m.x-y.x,nt=m.y-y.y,xt=Math.sqrt(F*F+nt*nt);return kt.isTrue(!(xt===0&&!m.equals(y)),"Invalid distance calculation"),xt}}])})();un.DONT_INTERSECT=0,un.DO_INTERSECT=1,un.COLLINEAR=2,un.NO_INTERSECTION=0,un.POINT_INTERSECTION=1,un.COLLINEAR_INTERSECTION=2;var En=(function(A){function m(){return i(this,m),n(this,m)}return k(m,A),a(m,[{key:"isInSegmentEnvelopes",value:function(y){var C=new de(this._inputLines[0][0],this._inputLines[0][1]),F=new de(this._inputLines[1][0],this._inputLines[1][1]);return C.contains(y)&&F.contains(y)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return P(m,"computeIntersection",this,1).apply(this,arguments);var y=arguments[0],C=arguments[1],F=arguments[2];if(this._isProper=!1,de.intersects(C,F,y)&&rr.index(C,F,y)===0&&rr.index(F,C,y)===0)return this._isProper=!0,(y.equals(C)||y.equals(F))&&(this._isProper=!1),this._result=un.POINT_INTERSECTION,null;this._result=un.NO_INTERSECTION}},{key:"intersection",value:function(y,C,F,nt){var xt=this.intersectionSafe(y,C,F,nt);return this.isInSegmentEnvelopes(xt)||(xt=new Ht(m.nearestEndpoint(y,C,F,nt))),this._precisionModel!==null&&this._precisionModel.makePrecise(xt),xt}},{key:"checkDD",value:function(y,C,F,nt,xt){var Dt=Fr.intersection(y,C,F,nt),re=this.isInSegmentEnvelopes(Dt);Ge.out.println("DD in env = "+re+"  --------------------- "+Dt),xt.distance(Dt)>1e-4&&Ge.out.println("Distance = "+xt.distance(Dt))}},{key:"intersectionSafe",value:function(y,C,F,nt){var xt=je.intersection(y,C,F,nt);return xt===null&&(xt=m.nearestEndpoint(y,C,F,nt)),xt}},{key:"computeCollinearIntersection",value:function(y,C,F,nt){var xt=de.intersects(y,C,F),Dt=de.intersects(y,C,nt),re=de.intersects(F,nt,y),_e=de.intersects(F,nt,C);return xt&&Dt?(this._intPt[0]=F,this._intPt[1]=nt,un.COLLINEAR_INTERSECTION):re&&_e?(this._intPt[0]=y,this._intPt[1]=C,un.COLLINEAR_INTERSECTION):xt&&re?(this._intPt[0]=F,this._intPt[1]=y,!F.equals(y)||Dt||_e?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):xt&&_e?(this._intPt[0]=F,this._intPt[1]=C,!F.equals(C)||Dt||re?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):Dt&&re?(this._intPt[0]=nt,this._intPt[1]=y,!nt.equals(y)||xt||_e?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):Dt&&_e?(this._intPt[0]=nt,this._intPt[1]=C,!nt.equals(C)||xt||re?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):un.NO_INTERSECTION}},{key:"computeIntersect",value:function(y,C,F,nt){if(this._isProper=!1,!de.intersects(y,C,F,nt))return un.NO_INTERSECTION;var xt=rr.index(y,C,F),Dt=rr.index(y,C,nt);if(xt>0&&Dt>0||xt<0&&Dt<0)return un.NO_INTERSECTION;var re=rr.index(F,nt,y),_e=rr.index(F,nt,C);return re>0&&_e>0||re<0&&_e<0?un.NO_INTERSECTION:xt===0&&Dt===0&&re===0&&_e===0?this.computeCollinearIntersection(y,C,F,nt):(xt===0||Dt===0||re===0||_e===0?(this._isProper=!1,y.equals2D(F)||y.equals2D(nt)?this._intPt[0]=y:C.equals2D(F)||C.equals2D(nt)?this._intPt[0]=C:xt===0?this._intPt[0]=new Ht(F):Dt===0?this._intPt[0]=new Ht(nt):re===0?this._intPt[0]=new Ht(y):_e===0&&(this._intPt[0]=new Ht(C))):(this._isProper=!0,this._intPt[0]=this.intersection(y,C,F,nt)),un.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(y,C,F,nt){var xt=y,Dt=fr.pointToSegment(y,F,nt),re=fr.pointToSegment(C,F,nt);return re<Dt&&(Dt=re,xt=C),(re=fr.pointToSegment(F,y,C))<Dt&&(Dt=re,xt=F),(re=fr.pointToSegment(nt,y,C))<Dt&&(Dt=re,xt=nt),xt}}])})(un),fn=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"countSegment",value:function(m,y){if(m.x<this._p.x&&y.x<this._p.x)return null;if(this._p.x===y.x&&this._p.y===y.y)return this._isPointOnSegment=!0,null;if(m.y===this._p.y&&y.y===this._p.y){var C=m.x,F=y.x;return C>F&&(C=y.x,F=m.x),this._p.x>=C&&this._p.x<=F&&(this._isPointOnSegment=!0),null}if(m.y>this._p.y&&y.y<=this._p.y||y.y>this._p.y&&m.y<=this._p.y){var nt=rr.index(m,y,this._p);if(nt===rr.COLLINEAR)return this._isPointOnSegment=!0,null;y.y<m.y&&(nt=-nt),nt===rr.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==Vt.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?Vt.BOUNDARY:this._crossingCount%2==1?Vt.INTERIOR:Vt.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var m=arguments[0];this._p=m}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof Ht&&Ir(arguments[1],Ze)){for(var m=arguments[1],y=new A(arguments[0]),C=new Ht,F=new Ht,nt=1;nt<m.size();nt++)if(m.getCoordinate(nt,C),m.getCoordinate(nt-1,F),y.countSegment(C,F),y.isOnSegment())return y.getLocation();return y.getLocation()}if(arguments[0]instanceof Ht&&arguments[1]instanceof Array){for(var xt=arguments[1],Dt=new A(arguments[0]),re=1;re<xt.length;re++){var _e=xt[re],sr=xt[re-1];if(Dt.countSegment(_e,sr),Dt.isOnSegment())return Dt.getLocation()}return Dt.getLocation()}}}])})(),Yn=(function(){function A(){i(this,A)}return a(A,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof Ht&&Ir(arguments[1],Ze)){for(var m=arguments[0],y=arguments[1],C=new En,F=new Ht,nt=new Ht,xt=y.size(),Dt=1;Dt<xt;Dt++)if(y.getCoordinate(Dt-1,F),y.getCoordinate(Dt,nt),C.computeIntersection(m,F,nt),C.hasIntersection())return!0;return!1}if(arguments[0]instanceof Ht&&arguments[1]instanceof Array){for(var re=arguments[0],_e=arguments[1],sr=new En,_r=1;_r<_e.length;_r++){var tn=_e[_r-1],In=_e[_r];if(sr.computeIntersection(re,tn,In),sr.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(m,y){return fn.locatePointInRing(m,y)}},{key:"isInRing",value:function(m,y){return A.locateInRing(m,y)!==Vt.EXTERIOR}}])})(),Nn=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"setAllLocations",value:function(m){for(var y=0;y<this.location.length;y++)this.location[y]=m}},{key:"isNull",value:function(){for(var m=0;m<this.location.length;m++)if(this.location[m]!==Vt.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(m){for(var y=0;y<this.location.length;y++)this.location[y]===Vt.NONE&&(this.location[y]=m)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(m){if(m.location.length>this.location.length){var y=new Array(3).fill(null);y[Ie.ON]=this.location[Ie.ON],y[Ie.LEFT]=Vt.NONE,y[Ie.RIGHT]=Vt.NONE,this.location=y}for(var C=0;C<this.location.length;C++)this.location[C]===Vt.NONE&&C<m.location.length&&(this.location[C]=m.location[C])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var m=this.location[Ie.LEFT];this.location[Ie.LEFT]=this.location[Ie.RIGHT],this.location[Ie.RIGHT]=m}},{key:"toString",value:function(){var m=new dr;return this.location.length>1&&m.append(Vt.toLocationSymbol(this.location[Ie.LEFT])),m.append(Vt.toLocationSymbol(this.location[Ie.ON])),this.location.length>1&&m.append(Vt.toLocationSymbol(this.location[Ie.RIGHT])),m.toString()}},{key:"setLocations",value:function(m,y,C){this.location[Ie.ON]=m,this.location[Ie.LEFT]=y,this.location[Ie.RIGHT]=C}},{key:"get",value:function(m){return m<this.location.length?this.location[m]:Vt.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var m=0;m<this.location.length;m++)if(this.location[m]===Vt.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var m=arguments[0];this.setLocation(Ie.ON,m)}else if(arguments.length===2){var y=arguments[0],C=arguments[1];this.location[y]=C}}},{key:"init",value:function(m){this.location=new Array(m).fill(null),this.setAllLocations(Vt.NONE)}},{key:"isEqualOnSide",value:function(m,y){return this.location[y]===m.location[y]}},{key:"allPositionsEqual",value:function(m){for(var y=0;y<this.location.length;y++)if(this.location[y]!==m)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];this.init(m.length)}else if(Number.isInteger(arguments[0])){var y=arguments[0];this.init(1),this.location[Ie.ON]=y}else if(arguments[0]instanceof A){var C=arguments[0];if(this.init(C.location.length),C!==null)for(var F=0;F<this.location.length;F++)this.location[F]=C.location[F]}}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this.init(3),this.location[Ie.ON]=nt,this.location[Ie.LEFT]=xt,this.location[Ie.RIGHT]=Dt}}}])})(),ti=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getGeometryCount",value:function(){var m=0;return this.elt[0].isNull()||m++,this.elt[1].isNull()||m++,m}},{key:"setAllLocations",value:function(m,y){this.elt[m].setAllLocations(y)}},{key:"isNull",value:function(m){return this.elt[m].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var m=arguments[0];this.setAllLocationsIfNull(0,m),this.setAllLocationsIfNull(1,m)}else if(arguments.length===2){var y=arguments[0],C=arguments[1];this.elt[y].setAllLocationsIfNull(C)}}},{key:"isLine",value:function(m){return this.elt[m].isLine()}},{key:"merge",value:function(m){for(var y=0;y<2;y++)this.elt[y]===null&&m.elt[y]!==null?this.elt[y]=new Nn(m.elt[y]):this.elt[y].merge(m.elt[y])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var m=arguments[0];return this.elt[m].get(Ie.ON)}if(arguments.length===2){var y=arguments[0],C=arguments[1];return this.elt[y].get(C)}}},{key:"toString",value:function(){var m=new dr;return this.elt[0]!==null&&(m.append("A:"),m.append(this.elt[0].toString())),this.elt[1]!==null&&(m.append(" B:"),m.append(this.elt[1].toString())),m.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var m=arguments[0];return this.elt[m].isArea()}}},{key:"isAnyNull",value:function(m){return this.elt[m].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];this.elt[m].setLocation(Ie.ON,y)}else if(arguments.length===3){var C=arguments[0],F=arguments[1],nt=arguments[2];this.elt[C].setLocation(F,nt)}}},{key:"isEqualOnSide",value:function(m,y){return this.elt[0].isEqualOnSide(m.elt[0],y)&&this.elt[1].isEqualOnSide(m.elt[1],y)}},{key:"allPositionsEqual",value:function(m,y){return this.elt[m].allPositionsEqual(y)}},{key:"toLine",value:function(m){this.elt[m].isArea()&&(this.elt[m]=new Nn(this.elt[m].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var m=arguments[0];this.elt[0]=new Nn(m),this.elt[1]=new Nn(m)}else if(arguments[0]instanceof A){var y=arguments[0];this.elt[0]=new Nn(y.elt[0]),this.elt[1]=new Nn(y.elt[1])}}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this.elt[0]=new Nn(Vt.NONE),this.elt[1]=new Nn(Vt.NONE),this.elt[C].setLocation(F)}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this.elt[0]=new Nn(nt,xt,Dt),this.elt[1]=new Nn(nt,xt,Dt)}else if(arguments.length===4){var re=arguments[0],_e=arguments[1],sr=arguments[2],_r=arguments[3];this.elt[0]=new Nn(Vt.NONE,Vt.NONE,Vt.NONE),this.elt[1]=new Nn(Vt.NONE,Vt.NONE,Vt.NONE),this.elt[re].setLocations(_e,sr,_r)}}},{key:"toLineLabel",value:function(m){for(var y=new A(Vt.NONE),C=0;C<2;C++)y.setLocation(C,m.getLocation(C));return y}}])})(),jn=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var A=new Array(this._pts.size()).fill(null),m=0;m<this._pts.size();m++)A[m]=this._pts.get(m);this._ring=this._geometryFactory.createLinearRing(A),this._isHole=rr.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(A){this._startDe=A;var m=A,y=!0;do{if(m===null)throw new Ft("Found null DirectedEdge");if(m.getEdgeRing()===this)throw new Ft("Directed Edge visited twice during ring-building at "+m.getCoordinate());this._edges.add(m);var C=m.getLabel();kt.isTrue(C.isArea()),this.mergeLabel(C),this.addPoints(m.getEdge(),m.isForward(),y),y=!1,this.setEdgeRing(m,this),m=this.getNext(m)}while(m!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(A){return this._pts.get(A)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var A=this._startDe;do{var m=A.getNode().getEdges().getOutgoingDegree(this);m>this._maxNodeDegree&&(this._maxNodeDegree=m),A=this.getNext(A)}while(A!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(A,m,y){var C=A.getCoordinates();if(m){var F=1;y&&(F=0);for(var nt=F;nt<C.length;nt++)this._pts.add(C[nt])}else{var xt=C.length-2;y&&(xt=C.length-1);for(var Dt=xt;Dt>=0;Dt--)this._pts.add(C[Dt])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var A=this._startDe;do A.getEdge().setInResult(!0),A=A.getNext();while(A!==this._startDe)}},{key:"containsPoint",value:function(A){var m=this.getLinearRing();if(!m.getEnvelopeInternal().contains(A)||!Yn.isInRing(A,m.getCoordinates()))return!1;for(var y=this._holes.iterator();y.hasNext();)if(y.next().containsPoint(A))return!1;return!0}},{key:"addHole",value:function(A){this._holes.add(A)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var A=arguments[0];this.mergeLabel(A,0),this.mergeLabel(A,1)}else if(arguments.length===2){var m=arguments[1],y=arguments[0].getLocation(m,Ie.RIGHT);if(y===Vt.NONE)return null;if(this._label.getLocation(m)===Vt.NONE)return this._label.setLocation(m,y),null}}},{key:"setShell",value:function(A){this._shell=A,A!==null&&A.addHole(this)}},{key:"toPolygon",value:function(A){for(var m=new Array(this._holes.size()).fill(null),y=0;y<this._holes.size();y++)m[y]=this._holes.get(y).getLinearRing();return A.createPolygon(this.getLinearRing(),m)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Bt,this._pts=new Bt,this._label=new ti(Vt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Bt,this._geometryFactory=null,arguments.length!==0&&arguments.length===2){var A=arguments[0],m=arguments[1];this._geometryFactory=m,this.computePoints(A),this.computeRing()}}}])})(),Zr=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"setEdgeRing",value:function(y,C){y.setMinEdgeRing(C)}},{key:"getNext",value:function(y){return y.getNextMin()}}],[{key:"constructor_",value:function(){var y=arguments[0],C=arguments[1];jn.constructor_.call(this,y,C)}}])})(jn),Ln=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"buildMinimalRings",value:function(){var y=new Bt,C=this._startDe;do{if(C.getMinEdgeRing()===null){var F=new Zr(C,this._geometryFactory);y.add(F)}C=C.getNext()}while(C!==this._startDe);return y}},{key:"setEdgeRing",value:function(y,C){y.setEdgeRing(C)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var y=this._startDe;do y.getNode().getEdges().linkMinimalDirectedEdges(this),y=y.getNext();while(y!==this._startDe)}},{key:"getNext",value:function(y){return y.getNext()}}],[{key:"constructor_",value:function(){var y=arguments[0],C=arguments[1];jn.constructor_.call(this,y,C)}}])})(jn),yi=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(A){this._isVisited=A}},{key:"setInResult",value:function(A){this._isInResult=A}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(A){this._label=A}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(A){this._isCovered=A,this._isCoveredSet=!0}},{key:"updateIM",value:function(A){kt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(A)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0&&arguments.length===1){var A=arguments[0];this._label=A}}}])})(),sa=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"isIncidentEdgeInResult",value:function(){for(var y=this.getEdges().getEdges().iterator();y.hasNext();)if(y.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(y){y.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(y){}},{key:"computeMergedLocation",value:function(y,C){var F=Vt.NONE;if(F=this._label.getLocation(C),!y.isNull(C)){var nt=y.getLocation(C);F!==Vt.BOUNDARY&&(F=nt)}return F}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return P(m,"setLabel",this,1).apply(this,arguments);var y=arguments[0],C=arguments[1];this._label===null?this._label=new ti(y,C):this._label.setLocation(y,C)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof m){var y=arguments[0];this.mergeLabel(y._label)}else if(arguments[0]instanceof ti)for(var C=arguments[0],F=0;F<2;F++){var nt=this.computeMergedLocation(C,F);this._label.getLocation(F)===Vt.NONE&&this._label.setLocation(F,nt)}}},{key:"add",value:function(y){this._edges.insert(y),y.setNode(this)}},{key:"setLabelBoundary",value:function(y){if(this._label===null)return null;var C=Vt.NONE;this._label!==null&&(C=this._label.getLocation(y));var F=null;switch(C){case Vt.BOUNDARY:F=Vt.INTERIOR;break;case Vt.INTERIOR:default:F=Vt.BOUNDARY}this._label.setLocation(y,F)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var y=arguments[0],C=arguments[1];this._coord=y,this._edges=C,this._label=new ti(0,Vt.NONE)}}])})(yi),Ii=(function(A){function m(){return i(this,m),n(this,m,arguments)}return k(m,A),a(m)})(nl);function zi(A){return A==null?0:A.color}function da(A){return A==null?null:A.parent}function Bn(A,m){A!==null&&(A.color=m)}function Xa(A){return A==null?null:A.left}function pi(A){return A==null?null:A.right}var ei=(function(A){function m(){var y;return i(this,m),(y=n(this,m)).root_=null,y.size_=0,y}return k(m,A),a(m,[{key:"get",value:function(y){for(var C=this.root_;C!==null;){var F=y.compareTo(C.key);if(F<0)C=C.left;else{if(!(F>0))return C.value;C=C.right}}return null}},{key:"put",value:function(y,C){if(this.root_===null)return this.root_={key:y,value:C,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var F,nt,xt=this.root_;do if(F=xt,(nt=y.compareTo(xt.key))<0)xt=xt.left;else{if(!(nt>0)){var Dt=xt.value;return xt.value=C,Dt}xt=xt.right}while(xt!==null);var re={key:y,left:null,right:null,value:C,parent:F,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return nt<0?F.left=re:F.right=re,this.fixAfterInsertion(re),this.size_++,null}},{key:"fixAfterInsertion",value:function(y){var C;for(y.color=1;y!=null&&y!==this.root_&&y.parent.color===1;)da(y)===Xa(da(da(y)))?zi(C=pi(da(da(y))))===1?(Bn(da(y),0),Bn(C,0),Bn(da(da(y)),1),y=da(da(y))):(y===pi(da(y))&&(y=da(y),this.rotateLeft(y)),Bn(da(y),0),Bn(da(da(y)),1),this.rotateRight(da(da(y)))):zi(C=Xa(da(da(y))))===1?(Bn(da(y),0),Bn(C,0),Bn(da(da(y)),1),y=da(da(y))):(y===Xa(da(y))&&(y=da(y),this.rotateRight(y)),Bn(da(y),0),Bn(da(da(y)),1),this.rotateLeft(da(da(y))));this.root_.color=0}},{key:"values",value:function(){var y=new Bt,C=this.getFirstEntry();if(C!==null)for(y.add(C.value);(C=m.successor(C))!==null;)y.add(C.value);return y}},{key:"entrySet",value:function(){var y=new vr,C=this.getFirstEntry();if(C!==null)for(y.add(C);(C=m.successor(C))!==null;)y.add(C);return y}},{key:"rotateLeft",value:function(y){if(y!=null){var C=y.right;y.right=C.left,C.left!=null&&(C.left.parent=y),C.parent=y.parent,y.parent==null?this.root_=C:y.parent.left===y?y.parent.left=C:y.parent.right=C,C.left=y,y.parent=C}}},{key:"rotateRight",value:function(y){if(y!=null){var C=y.left;y.left=C.right,C.right!=null&&(C.right.parent=y),C.parent=y.parent,y.parent==null?this.root_=C:y.parent.right===y?y.parent.right=C:y.parent.left=C,C.right=y,y.parent=C}}},{key:"getFirstEntry",value:function(){var y=this.root_;if(y!=null)for(;y.left!=null;)y=y.left;return y}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(y){for(var C=this.root_;C!==null;){var F=y.compareTo(C.key);if(F<0)C=C.left;else{if(!(F>0))return!0;C=C.right}}return!1}}],[{key:"successor",value:function(y){var C;if(y===null)return null;if(y.right!==null){for(C=y.right;C.left!==null;)C=C.left;return C}C=y.parent;for(var F=y;C!==null&&F===C.right;)F=C,C=C.parent;return C}}])})(Ii),Tl=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"find",value:function(A){return this.nodeMap.get(A)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ht){var A=arguments[0],m=this.nodeMap.get(A);return m===null&&(m=this.nodeFact.createNode(A),this.nodeMap.put(A,m)),m}if(arguments[0]instanceof sa){var y=arguments[0],C=this.nodeMap.get(y.getCoordinate());return C===null?(this.nodeMap.put(y.getCoordinate(),y),y):(C.mergeLabel(y),C)}}},{key:"print",value:function(A){for(var m=this.iterator();m.hasNext();)m.next().print(A)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(A){for(var m=new Bt,y=this.iterator();y.hasNext();){var C=y.next();C.getLabel().getLocation(A)===Vt.BOUNDARY&&m.add(C)}return m}},{key:"add",value:function(A){var m=A.getCoordinate();this.addNode(m).add(A)}}],[{key:"constructor_",value:function(){this.nodeMap=new ei,this.nodeFact=null;var A=arguments[0];this.nodeFact=A}}])})(),zn=(function(){function A(){i(this,A)}return a(A,null,[{key:"isNorthern",value:function(m){return m===A.NE||m===A.NW}},{key:"isOpposite",value:function(m,y){return m!==y&&(m-y+4)%4===2}},{key:"commonHalfPlane",value:function(m,y){if(m===y)return m;if((m-y+4)%4===2)return-1;var C=m<y?m:y;return C===0&&(m>y?m:y)===3?3:C}},{key:"isInHalfPlane",value:function(m,y){return y===A.SE?m===A.SE||m===A.SW:m===y||m===y+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1];if(m===0&&y===0)throw new X("Cannot compute the quadrant for point ( "+m+", "+y+" )");return m>=0?y>=0?A.NE:A.SE:y>=0?A.NW:A.SW}if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var C=arguments[0],F=arguments[1];if(F.x===C.x&&F.y===C.y)throw new X("Cannot compute the quadrant for two identical points "+C);return F.x>=C.x?F.y>=C.y?A.NE:A.SE:F.y>=C.y?A.NW:A.SW}}}])})();zn.NE=0,zn.NW=1,zn.SW=2,zn.SE=3;var $l=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"compareDirection",value:function(m){return this._dx===m._dx&&this._dy===m._dy?0:this._quadrant>m._quadrant?1:this._quadrant<m._quadrant?-1:rr.index(m._p0,m._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(m){this._node=m}},{key:"print",value:function(m){var y=Math.atan2(this._dy,this._dx),C=this.getClass().getName(),F=C.lastIndexOf("."),nt=C.substring(F+1);m.print("  "+nt+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+y+"   "+this._label)}},{key:"compareTo",value:function(m){var y=m;return this.compareDirection(y)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var m=Math.atan2(this._dy,this._dx),y=this.getClass().getName(),C=y.lastIndexOf(".");return"  "+y.substring(C+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+m+"   "+this._label}},{key:"computeLabel",value:function(m){}},{key:"init",value:function(m,y){this._p0=m,this._p1=y,this._dx=y.x-m.x,this._dy=y.y-m.y,this._quadrant=zn.quadrant(this._dx,this._dy),kt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var m=arguments[0];this._edge=m}else if(arguments.length===3){var y=arguments[0],C=arguments[1],F=arguments[2];A.constructor_.call(this,y,C,F,null)}else if(arguments.length===4){var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=arguments[3];A.constructor_.call(this,nt),this.init(xt,Dt),this._label=re}}}])})(),No=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(y){return this._depth[y]}},{key:"setVisited",value:function(y){this._isVisited=y}},{key:"computeDirectedLabel",value:function(){this._label=new ti(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(y,C){if(this._depth[y]!==-999&&this._depth[y]!==C)throw new Ft("assigned depths do not match",this.getCoordinate());this._depth[y]=C}},{key:"isInteriorAreaEdge",value:function(){for(var y=!0,C=0;C<2;C++)this._label.isArea(C)&&this._label.getLocation(C,Ie.LEFT)===Vt.INTERIOR&&this._label.getLocation(C,Ie.RIGHT)===Vt.INTERIOR||(y=!1);return y}},{key:"setNextMin",value:function(y){this._nextMin=y}},{key:"print",value:function(y){P(m,"print",this,1).call(this,y),y.print(" "+this._depth[Ie.LEFT]+"/"+this._depth[Ie.RIGHT]),y.print(" ("+this.getDepthDelta()+")"),this._isInResult&&y.print(" inResult")}},{key:"setMinEdgeRing",value:function(y){this._minEdgeRing=y}},{key:"isLineEdge",value:function(){var y=this._label.isLine(0)||this._label.isLine(1),C=!this._label.isArea(0)||this._label.allPositionsEqual(0,Vt.EXTERIOR),F=!this._label.isArea(1)||this._label.allPositionsEqual(1,Vt.EXTERIOR);return y&&C&&F}},{key:"setEdgeRing",value:function(y){this._edgeRing=y}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var y=this._edge.getDepthDelta();return this._isForward||(y=-y),y}},{key:"setInResult",value:function(y){this._isInResult=y}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(y){this.print(y),y.print(" "),this._isForward?this._edge.print(y):this._edge.printReverse(y)}},{key:"setSym",value:function(y){this._sym=y}},{key:"setVisitedEdge",value:function(y){this.setVisited(y),this._sym.setVisited(y)}},{key:"setEdgeDepths",value:function(y,C){var F=this.getEdge().getDepthDelta();this._isForward||(F=-F);var nt=1;y===Ie.LEFT&&(nt=-1);var xt=Ie.opposite(y),Dt=C+F*nt;this.setDepth(y,C),this.setDepth(xt,Dt)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(y){this._next=y}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var y=arguments[0],C=arguments[1];if($l.constructor_.call(this,y),this._isForward=C,C)this.init(y.getCoordinate(0),y.getCoordinate(1));else{var F=y.getNumPoints()-1;this.init(y.getCoordinate(F),y.getCoordinate(F-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(y,C){return y===Vt.EXTERIOR&&C===Vt.INTERIOR?1:y===Vt.INTERIOR&&C===Vt.EXTERIOR?-1:0}}])})($l),wo=(function(){return a((function A(){i(this,A)}),[{key:"createNode",value:function(A){return new sa(A,null)}}])})(),po=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(A){A.println("Edges:");for(var m=0;m<this._edges.size();m++){A.println("edge "+m+":");var y=this._edges.get(m);y.print(A),y.eiList.print(A)}}},{key:"find",value:function(A){return this._nodes.find(A)}},{key:"addNode",value:function(){if(arguments[0]instanceof sa){var A=arguments[0];return this._nodes.addNode(A)}if(arguments[0]instanceof Ht){var m=arguments[0];return this._nodes.addNode(m)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var A=this._nodes.iterator();A.hasNext();)A.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(A){Ge.out.println(A)}},{key:"isBoundaryNode",value:function(A,m){var y=this._nodes.find(m);if(y===null)return!1;var C=y.getLabel();return C!==null&&C.getLocation(A)===Vt.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var A=this._nodes.iterator();A.hasNext();)A.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(A,m,y,C){return!!A.equals(y)&&rr.index(A,m,C)===rr.COLLINEAR&&zn.quadrant(A,m)===zn.quadrant(y,C)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(A){Ge.out.print(A)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(A,m){for(var y=0;y<this._edges.size();y++){var C=this._edges.get(y),F=C.getCoordinates();if(this.matchInSameDirection(A,m,F[0],F[1])||this.matchInSameDirection(A,m,F[F.length-1],F[F.length-2]))return C}return null}},{key:"insertEdge",value:function(A){this._edges.add(A)}},{key:"findEdgeEnd",value:function(A){for(var m=this.getEdgeEnds().iterator();m.hasNext();){var y=m.next();if(y.getEdge()===A)return y}return null}},{key:"addEdges",value:function(A){for(var m=A.iterator();m.hasNext();){var y=m.next();this._edges.add(y);var C=new No(y,!0),F=new No(y,!1);C.setSym(F),F.setSym(C),this.add(C),this.add(F)}}},{key:"add",value:function(A){this._nodes.add(A),this._edgeEndList.add(A)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(A,m){for(var y=0;y<this._edges.size();y++){var C=this._edges.get(y),F=C.getCoordinates();if(A.equals(F[0])&&m.equals(F[1]))return C}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Bt,this._nodes=null,this._edgeEndList=new Bt,arguments.length===0)this._nodes=new Tl(new wo);else if(arguments.length===1){var A=arguments[0];this._nodes=new Tl(A)}}},{key:"linkResultDirectedEdges",value:function(A){for(var m=A.iterator();m.hasNext();)m.next().getEdges().linkResultDirectedEdges()}}])})(),_c=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"sortShellsAndHoles",value:function(m,y,C){for(var F=m.iterator();F.hasNext();){var nt=F.next();nt.isHole()?C.add(nt):y.add(nt)}}},{key:"computePolygons",value:function(m){for(var y=new Bt,C=m.iterator();C.hasNext();){var F=C.next().toPolygon(this._geometryFactory);y.add(F)}return y}},{key:"placeFreeHoles",value:function(m,y){for(var C=y.iterator();C.hasNext();){var F=C.next();if(F.getShell()===null){var nt=A.findEdgeRingContaining(F,m);if(nt===null)throw new Ft("unable to assign hole to a shell",F.getCoordinate(0));F.setShell(nt)}}}},{key:"buildMinimalEdgeRings",value:function(m,y,C){for(var F=new Bt,nt=m.iterator();nt.hasNext();){var xt=nt.next();if(xt.getMaxNodeDegree()>2){xt.linkDirectedEdgesForMinimalEdgeRings();var Dt=xt.buildMinimalRings(),re=this.findShell(Dt);re!==null?(this.placePolygonHoles(re,Dt),y.add(re)):C.addAll(Dt)}else F.add(xt)}return F}},{key:"buildMaximalEdgeRings",value:function(m){for(var y=new Bt,C=m.iterator();C.hasNext();){var F=C.next();if(F.isInResult()&&F.getLabel().isArea()&&F.getEdgeRing()===null){var nt=new Ln(F,this._geometryFactory);y.add(nt),nt.setInResult()}}return y}},{key:"placePolygonHoles",value:function(m,y){for(var C=y.iterator();C.hasNext();){var F=C.next();F.isHole()&&F.setShell(m)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(m){for(var y=0,C=null,F=m.iterator();F.hasNext();){var nt=F.next();nt.isHole()||(C=nt,y++)}return kt.isTrue(y<=1,"found two shells in MinimalEdgeRing list"),C}},{key:"add",value:function(){if(arguments.length===1){var m=arguments[0];this.add(m.getEdgeEnds(),m.getNodes())}else if(arguments.length===2){var y=arguments[0],C=arguments[1];po.linkResultDirectedEdges(C);var F=this.buildMaximalEdgeRings(y),nt=new Bt,xt=this.buildMinimalEdgeRings(F,this._shellList,nt);this.sortShellsAndHoles(xt,this._shellList,nt),this.placeFreeHoles(this._shellList,nt)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Bt;var m=arguments[0];this._geometryFactory=m}},{key:"findEdgeRingContaining",value:function(m,y){for(var C=m.getLinearRing(),F=C.getEnvelopeInternal(),nt=C.getCoordinateN(0),xt=null,Dt=null,re=y.iterator();re.hasNext();){var _e=re.next(),sr=_e.getLinearRing(),_r=sr.getEnvelopeInternal();if(!_r.equals(F)&&_r.contains(F)){nt=Mn.ptNotInList(C.getCoordinates(),sr.getCoordinates());var tn=!1;Yn.isInRing(nt,sr.getCoordinates())&&(tn=!0),tn&&(xt===null||Dt.contains(_r))&&(Dt=(xt=_e).getLinearRing().getEnvelopeInternal())}}return xt}}])})(),Ms=(function(){return a((function A(){i(this,A)}),[{key:"getBounds",value:function(){}}])})(),Cl=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Ms,it]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var A=arguments[0],m=arguments[1];this._bounds=A,this._item=m}}])})(),xc=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var A=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),A}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(A){for(var m=null,y=this._items.get(A);2*A<=this._size&&((m=2*A)!==this._size&&this._items.get(m+1).compareTo(this._items.get(m))<0&&m++,this._items.get(m).compareTo(y)<0);A=m)this._items.set(A,this._items.get(m));this._items.set(A,y)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(A){this._items.add(null),this._size+=1;var m=this._size;for(this._items.set(0,A);A.compareTo(this._items.get(Math.trunc(m/2)))<0;m/=2)this._items.set(m,this._items.get(Math.trunc(m/2)));this._items.set(m,A)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Bt,this._items.add(null)}}])})(),Vl=(function(){return a((function A(){i(this,A)}),[{key:"insert",value:function(A,m){}},{key:"remove",value:function(A,m){}},{key:"query",value:function(){}}])})(),So=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(A){kt.isTrue(this._bounds===null),this._childBoundables.add(A)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Ms,it]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Bt,this._bounds=null,this._level=null,arguments.length!==0&&arguments.length===1){var A=arguments[0];this._level=A}}}])})(),Bo={reverseOrder:function(){return{compare:function(A,m){return m.compareTo(A)}}},min:function(A){return Bo.sort(A),A.get(0)},sort:function(A,m){var y=A.toArray();m?ze.sort(y,m):ze.sort(y);for(var C=A.iterator(),F=0,nt=y.length;F<nt;F++)C.next(),C.set(y[F])},singletonList:function(A){var m=new Bt;return m.add(A),m}},Ba=(function(){function A(){i(this,A)}return a(A,null,[{key:"maxDistance",value:function(m,y,C,F,nt,xt,Dt,re){var _e=A.distance(m,y,nt,xt);return _e=Math.max(_e,A.distance(m,y,Dt,re)),_e=Math.max(_e,A.distance(C,F,nt,xt)),_e=Math.max(_e,A.distance(C,F,Dt,re))}},{key:"distance",value:function(m,y,C,F){var nt=C-m,xt=F-y;return Math.sqrt(nt*nt+xt*xt)}},{key:"maximumDistance",value:function(m,y){var C=Math.min(m.getMinX(),y.getMinX()),F=Math.min(m.getMinY(),y.getMinY()),nt=Math.max(m.getMaxX(),y.getMaxX()),xt=Math.max(m.getMaxY(),y.getMaxY());return A.distance(C,F,nt,xt)}},{key:"minMaxDistance",value:function(m,y){var C=m.getMinX(),F=m.getMinY(),nt=m.getMaxX(),xt=m.getMaxY(),Dt=y.getMinX(),re=y.getMinY(),_e=y.getMaxX(),sr=y.getMaxY(),_r=A.maxDistance(C,F,C,xt,Dt,re,Dt,sr);return _r=Math.min(_r,A.maxDistance(C,F,C,xt,Dt,re,_e,re)),_r=Math.min(_r,A.maxDistance(C,F,C,xt,_e,sr,Dt,sr)),_r=Math.min(_r,A.maxDistance(C,F,C,xt,_e,sr,_e,re)),_r=Math.min(_r,A.maxDistance(C,F,nt,F,Dt,re,Dt,sr)),_r=Math.min(_r,A.maxDistance(C,F,nt,F,Dt,re,_e,re)),_r=Math.min(_r,A.maxDistance(C,F,nt,F,_e,sr,Dt,sr)),_r=Math.min(_r,A.maxDistance(C,F,nt,F,_e,sr,_e,re)),_r=Math.min(_r,A.maxDistance(nt,xt,C,xt,Dt,re,Dt,sr)),_r=Math.min(_r,A.maxDistance(nt,xt,C,xt,Dt,re,_e,re)),_r=Math.min(_r,A.maxDistance(nt,xt,C,xt,_e,sr,Dt,sr)),_r=Math.min(_r,A.maxDistance(nt,xt,C,xt,_e,sr,_e,re)),_r=Math.min(_r,A.maxDistance(nt,xt,nt,F,Dt,re,Dt,sr)),_r=Math.min(_r,A.maxDistance(nt,xt,nt,F,Dt,re,_e,re)),_r=Math.min(_r,A.maxDistance(nt,xt,nt,F,_e,sr,Dt,sr)),_r=Math.min(_r,A.maxDistance(nt,xt,nt,F,_e,sr,_e,re))}}])})(),zo=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"maximumDistance",value:function(){return Ba.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(m,y){var C=A.isComposite(this._boundable1),F=A.isComposite(this._boundable2);if(C&&F)return A.area(this._boundable1)>A.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,m,y),null):(this.expand(this._boundable2,this._boundable1,!0,m,y),null);if(C)return this.expand(this._boundable1,this._boundable2,!1,m,y),null;if(F)return this.expand(this._boundable2,this._boundable1,!0,m,y),null;throw new X("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(A.isComposite(this._boundable1)||A.isComposite(this._boundable2))}},{key:"compareTo",value:function(m){var y=m;return this._distance<y._distance?-1:this._distance>y._distance?1:0}},{key:"expand",value:function(m,y,C,F,nt){for(var xt=m.getChildBoundables().iterator();xt.hasNext();){var Dt=xt.next(),re=null;(re=C?new A(y,Dt,this._itemDistance):new A(Dt,y,this._itemDistance)).getDistance()<nt&&F.add(re)}}},{key:"getBoundable",value:function(m){return m===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var m=arguments[0],y=arguments[1],C=arguments[2];this._boundable1=m,this._boundable2=y,this._itemDistance=C,this._distance=this.distance()}},{key:"area",value:function(m){return m.getBounds().getArea()}},{key:"isComposite",value:function(m){return m instanceof So}}])})(),ct=(function(){return a((function A(){i(this,A)}),[{key:"visitItem",value:function(A){}}])})(),Kt=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"queryInternal",value:function(){if(Ir(arguments[2],ct)&&arguments[0]instanceof Object&&arguments[1]instanceof So)for(var m=arguments[0],y=arguments[2],C=arguments[1].getChildBoundables(),F=0;F<C.size();F++){var nt=C.get(F);this.getIntersectsOp().intersects(nt.getBounds(),m)&&(nt instanceof So?this.queryInternal(m,nt,y):nt instanceof Cl?y.visitItem(nt.getItem()):kt.shouldNeverReachHere())}else if(Ir(arguments[2],Rr)&&arguments[0]instanceof Object&&arguments[1]instanceof So)for(var xt=arguments[0],Dt=arguments[2],re=arguments[1].getChildBoundables(),_e=0;_e<re.size();_e++){var sr=re.get(_e);this.getIntersectsOp().intersects(sr.getBounds(),xt)&&(sr instanceof So?this.queryInternal(xt,sr,Dt):sr instanceof Cl?Dt.add(sr.getItem()):kt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(m){return m.get(m.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var m=0,y=arguments[0].getChildBoundables().iterator();y.hasNext();){var C=y.next();C instanceof So?m+=this.size(C):C instanceof Cl&&(m+=1)}return m}}},{key:"removeItem",value:function(m,y){for(var C=null,F=m.getChildBoundables().iterator();F.hasNext();){var nt=F.next();nt instanceof Cl&&nt.getItem()===y&&(C=nt)}return C!==null&&(m.getChildBoundables().remove(C),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var m=this.itemsTree(this._root);return m===null?new Bt:m}if(arguments.length===1){for(var y=arguments[0],C=new Bt,F=y.getChildBoundables().iterator();F.hasNext();){var nt=F.next();if(nt instanceof So){var xt=this.itemsTree(nt);xt!==null&&C.add(xt)}else nt instanceof Cl?C.add(nt.getItem()):kt.shouldNeverReachHere()}return C.size()<=0?null:C}}},{key:"insert",value:function(m,y){kt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Cl(m,y))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var m=arguments[0],y=new Bt;return this.boundablesAtLevel(m,this._root,y),y}if(arguments.length===3){var C=arguments[0],F=arguments[1],nt=arguments[2];if(kt.isTrue(C>-2),F.getLevel()===C)return nt.add(F),null;for(var xt=F.getChildBoundables().iterator();xt.hasNext();){var Dt=xt.next();Dt instanceof So?this.boundablesAtLevel(C,Dt,nt):(kt.isTrue(Dt instanceof Cl),C===-1&&nt.add(Dt))}return null}}},{key:"query",value:function(){if(arguments.length===1){var m=arguments[0];this.build();var y=new Bt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),m)&&this.queryInternal(m,this._root,y),y}if(arguments.length===2){var C=arguments[0],F=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),C)&&this.queryInternal(C,this._root,F)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),m)&&this.remove(m,this._root,y)}if(arguments.length===3){var C=arguments[0],F=arguments[1],nt=arguments[2],xt=this.removeItem(F,nt);if(xt)return!0;for(var Dt=null,re=F.getChildBoundables().iterator();re.hasNext();){var _e=re.next();if(this.getIntersectsOp().intersects(_e.getBounds(),C)&&_e instanceof So&&(xt=this.remove(C,_e,nt))){Dt=_e;break}}return Dt!==null&&Dt.getChildBoundables().isEmpty()&&F.getChildBoundables().remove(Dt),xt}}},{key:"createHigherLevels",value:function(m,y){kt.isTrue(!m.isEmpty());var C=this.createParentBoundables(m,y+1);return C.size()===1?C.get(0):this.createHigherLevels(C,y+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var m=0,y=arguments[0].getChildBoundables().iterator();y.hasNext();){var C=y.next();if(C instanceof So){var F=this.depth(C);F>m&&(m=F)}}return m+1}}},{key:"createParentBoundables",value:function(m,y){kt.isTrue(!m.isEmpty());var C=new Bt;C.add(this.createNode(y));var F=new Bt(m);Bo.sort(F,this.getComparator());for(var nt=F.iterator();nt.hasNext();){var xt=nt.next();this.lastNode(C).getChildBoundables().size()===this.getNodeCapacity()&&C.add(this.createNode(y)),this.lastNode(C).addChildBoundable(xt)}return C}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Bt,this._nodeCapacity=null,arguments.length===0)A.constructor_.call(this,A.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var m=arguments[0];kt.isTrue(m>1,"Node capacity must be greater than 1"),this._nodeCapacity=m}}},{key:"compareDoubles",value:function(m,y){return m>y?1:m<y?-1:0}}])})();Kt.IntersectsOp=function(){},Kt.DEFAULT_NODE_CAPACITY=10;var ve=(function(){return a((function A(){i(this,A)}),[{key:"distance",value:function(A,m){}}])})(),Xe=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"createParentBoundablesFromVerticalSlices",value:function(y,C){kt.isTrue(y.length>0);for(var F=new Bt,nt=0;nt<y.length;nt++)F.addAll(this.createParentBoundablesFromVerticalSlice(y[nt],C));return F}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var y=arguments[0],C=arguments[1];return this.nearestNeighbourK(y,jt.POSITIVE_INFINITY,C)}if(arguments.length===3){var F=arguments[0],nt=arguments[2],xt=arguments[1],Dt=new xc;Dt.add(F);for(var re=new xc;!Dt.isEmpty()&&xt>=0;){var _e=Dt.poll(),sr=_e.getDistance();if(sr>=xt)break;_e.isLeaves()?re.size()<nt?re.add(_e):(re.peek().getDistance()>sr&&(re.poll(),re.add(_e)),xt=re.peek().getDistance()):_e.expandToQueue(Dt,xt)}return m.getItems(re)}}},{key:"createNode",value:function(y){return new pr(y)}},{key:"size",value:function(){return arguments.length===0?P(m,"size",this,1).call(this):P(m,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof de))return P(m,"insert",this,1).apply(this,arguments);var y=arguments[0],C=arguments[1];if(y.isNull())return null;P(m,"insert",this,1).call(this,y,C)}},{key:"getIntersectsOp",value:function(){return m.intersectsOp}},{key:"verticalSlices",value:function(y,C){for(var F=Math.trunc(Math.ceil(y.size()/C)),nt=new Array(C).fill(null),xt=y.iterator(),Dt=0;Dt<C;Dt++){nt[Dt]=new Bt;for(var re=0;xt.hasNext()&&re<F;){var _e=xt.next();nt[Dt].add(_e),re++}}return nt}},{key:"query",value:function(){if(arguments.length===1){var y=arguments[0];return P(m,"query",this,1).call(this,y)}if(arguments.length===2){var C=arguments[0],F=arguments[1];P(m,"query",this,1).call(this,C,F)}}},{key:"getComparator",value:function(){return m.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(y,C){return P(m,"createParentBoundables",this,1).call(this,y,C)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof de){var y=arguments[0],C=arguments[1];return P(m,"remove",this,1).call(this,y,C)}return P(m,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?P(m,"depth",this,1).call(this):P(m,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(y,C){kt.isTrue(!y.isEmpty());var F=Math.trunc(Math.ceil(y.size()/this.getNodeCapacity())),nt=new Bt(y);Bo.sort(nt,m.xComparator);var xt=this.verticalSlices(nt,Math.trunc(Math.ceil(Math.sqrt(F))));return this.createParentBoundablesFromVerticalSlices(xt,C)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Ir(arguments[0],ve)){var y=arguments[0];if(this.isEmpty())return null;var C=new zo(this.getRoot(),this.getRoot(),y);return this.nearestNeighbour(C)}if(arguments[0]instanceof zo){var F=arguments[0],nt=jt.POSITIVE_INFINITY,xt=null,Dt=new xc;for(Dt.add(F);!Dt.isEmpty()&&nt>0;){var re=Dt.poll(),_e=re.getDistance();if(_e>=nt)break;re.isLeaves()?(nt=_e,xt=re):re.expandToQueue(Dt,nt)}return xt===null?null:[xt.getBoundable(0).getItem(),xt.getBoundable(1).getItem()]}}else{if(arguments.length===2){var sr=arguments[0],_r=arguments[1];if(this.isEmpty()||sr.isEmpty())return null;var tn=new zo(this.getRoot(),sr.getRoot(),_r);return this.nearestNeighbour(tn)}if(arguments.length===3){var In=arguments[2],Qn=new Cl(arguments[0],arguments[1]),hi=new zo(this.getRoot(),Qn,In);return this.nearestNeighbour(hi)[0]}if(arguments.length===4){var Kn=arguments[2],Hn=arguments[3],ma=new Cl(arguments[0],arguments[1]),qi=new zo(this.getRoot(),ma,Kn);return this.nearestNeighbourK(qi,Hn)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var y=arguments[0],C=arguments[1],F=jt.POSITIVE_INFINITY,nt=new xc;for(nt.add(y);!nt.isEmpty();){var xt=nt.poll(),Dt=xt.getDistance();if(Dt>C)return!1;if(xt.maximumDistance()<=C)return!0;if(xt.isLeaves()){if((F=Dt)<=C)return!0}else xt.expandToQueue(nt,F)}return!1}if(arguments.length===3){var re=arguments[0],_e=arguments[1],sr=arguments[2],_r=new zo(this.getRoot(),re.getRoot(),_e);return this.isWithinDistance(_r,sr)}}},{key:"interfaces_",get:function(){return[Vl,it]}}],[{key:"constructor_",value:function(){if(arguments.length===0)m.constructor_.call(this,m.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var y=arguments[0];Kt.constructor_.call(this,y)}}},{key:"centreX",value:function(y){return m.avg(y.getMinX(),y.getMaxX())}},{key:"avg",value:function(y,C){return(y+C)/2}},{key:"getItems",value:function(y){for(var C=new Array(y.size()).fill(null),F=0;!y.isEmpty();){var nt=y.poll();C[F]=nt.getBoundable(0).getItem(),F++}return C}},{key:"centreY",value:function(y){return m.avg(y.getMinY(),y.getMaxY())}}])})(Kt),pr=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"computeBounds",value:function(){for(var y=null,C=this.getChildBoundables().iterator();C.hasNext();){var F=C.next();y===null?y=new de(F.getBounds()):y.expandToInclude(F.getBounds())}return y}}],[{key:"constructor_",value:function(){var y=arguments[0];So.constructor_.call(this,y)}}])})(So);Xe.STRtreeNode=pr,Xe.xComparator=new((function(){return a((function A(){i(this,A)}),[{key:"interfaces_",get:function(){return[_t]}},{key:"compare",value:function(A,m){return Kt.compareDoubles(Xe.centreX(A.getBounds()),Xe.centreX(m.getBounds()))}}])})()),Xe.yComparator=new((function(){return a((function A(){i(this,A)}),[{key:"interfaces_",get:function(){return[_t]}},{key:"compare",value:function(A,m){return Kt.compareDoubles(Xe.centreY(A.getBounds()),Xe.centreY(m.getBounds()))}}])})()),Xe.intersectsOp=new((function(){return a((function A(){i(this,A)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(A,m){return A.intersects(m)}}])})()),Xe.DEFAULT_NODE_CAPACITY=10;var Yr=(function(){function A(){i(this,A)}return a(A,null,[{key:"relativeSign",value:function(m,y){return m<y?-1:m>y?1:0}},{key:"compare",value:function(m,y,C){if(y.equals2D(C))return 0;var F=A.relativeSign(y.x,C.x),nt=A.relativeSign(y.y,C.y);switch(m){case 0:return A.compareValue(F,nt);case 1:return A.compareValue(nt,F);case 2:return A.compareValue(nt,-F);case 3:return A.compareValue(-F,nt);case 4:return A.compareValue(-F,-nt);case 5:return A.compareValue(-nt,-F);case 6:return A.compareValue(-nt,F);case 7:return A.compareValue(F,-nt)}return kt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(m,y){return m<0?-1:m>0?1:y<0?-1:y>0?1:0}}])})(),gn=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(A){A.print(this.coord),A.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(A){var m=A;return this.segmentIndex<m.segmentIndex?-1:this.segmentIndex>m.segmentIndex?1:this.coord.equals2D(m.coord)?0:this._isInterior?m._isInterior?Yr.compare(this._segmentOctant,this.coord,m.coord):1:-1}},{key:"isEndPoint",value:function(A){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===A}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var A=arguments[0],m=arguments[1],y=arguments[2],C=arguments[3];this._segString=A,this.coord=new Ht(m),this.segmentIndex=y,this._segmentOctant=C,this._isInterior=!m.equals2D(A.getCoordinate(y))}}])})(),Vn=(function(){return a((function A(){i(this,A)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),ri=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var A=new Na;this.addEndpoints();for(var m=this.iterator(),y=m.next();m.hasNext();){var C=m.next();this.addEdgeCoordinates(y,C,A),y=C}return A.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var A=new Bt;this.findCollapsesFromInsertedNodes(A),this.findCollapsesFromExistingVertices(A);for(var m=A.iterator();m.hasNext();){var y=m.next().intValue();this.add(this._edge.getCoordinate(y),y)}}},{key:"createSplitEdgePts",value:function(A,m){var y=m.segmentIndex-A.segmentIndex+2;if(y===2)return[new Ht(A.coord),new Ht(m.coord)];var C=this._edge.getCoordinate(m.segmentIndex),F=m.isInterior()||!m.coord.equals2D(C);F||y--;var nt=new Array(y).fill(null),xt=0;nt[xt++]=new Ht(A.coord);for(var Dt=A.segmentIndex+1;Dt<=m.segmentIndex;Dt++)nt[xt++]=this._edge.getCoordinate(Dt);return F&&(nt[xt]=new Ht(m.coord)),nt}},{key:"print",value:function(A){A.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(A)}},{key:"findCollapsesFromExistingVertices",value:function(A){for(var m=0;m<this._edge.size()-2;m++){var y=this._edge.getCoordinate(m);this._edge.getCoordinate(m+1);var C=this._edge.getCoordinate(m+2);y.equals2D(C)&&A.add(ar.valueOf(m+1))}}},{key:"addEdgeCoordinates",value:function(A,m,y){var C=this.createSplitEdgePts(A,m);y.add(C,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(A){this.addEndpoints(),this.addCollapsedNodes();for(var m=this.iterator(),y=m.next();m.hasNext();){var C=m.next(),F=this.createSplitEdge(y,C);A.add(F),y=C}}},{key:"findCollapseIndex",value:function(A,m,y){if(!A.coord.equals2D(m.coord))return!1;var C=m.segmentIndex-A.segmentIndex;return m.isInterior()||C--,C===1&&(y[0]=A.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(A){for(var m=new Array(1).fill(null),y=this.iterator(),C=y.next();y.hasNext();){var F=y.next();this.findCollapseIndex(C,F,m)&&A.add(ar.valueOf(m[0])),C=F}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var A=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(A),A)}},{key:"createSplitEdge",value:function(A,m){var y=this.createSplitEdgePts(A,m);return new xa(y,this._edge.getData())}},{key:"add",value:function(A,m){var y=new gn(this._edge,A,m,this._edge.getSegmentOctant(m)),C=this._nodeMap.get(y);return C!==null?(kt.isTrue(C.coord.equals2D(A),"Found equal nodes with different coordinates"),C):(this._nodeMap.put(y,y),y)}},{key:"checkSplitEdgesCorrectness",value:function(A){var m=this._edge.getCoordinates(),y=A.get(0).getCoordinate(0);if(!y.equals2D(m[0]))throw new lt("bad split edge start point at "+y);var C=A.get(A.size()-1).getCoordinates(),F=C[C.length-1];if(!F.equals2D(m[m.length-1]))throw new lt("bad split edge end point at "+F)}}],[{key:"constructor_",value:function(){this._nodeMap=new ei,this._edge=null;var A=arguments[0];this._edge=A}}])})(),Ti=(function(){function A(){i(this,A)}return a(A,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1];if(m===0&&y===0)throw new X("Cannot compute the octant for point ( "+m+", "+y+" )");var C=Math.abs(m),F=Math.abs(y);return m>=0?y>=0?C>=F?0:1:C>=F?7:6:y>=0?C>=F?3:2:C>=F?4:5}if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var nt=arguments[0],xt=arguments[1],Dt=xt.x-nt.x,re=xt.y-nt.y;if(Dt===0&&re===0)throw new X("Cannot compute the octant for two identical points "+nt);return A.octant(Dt,re)}}}])})(),ji=(function(){return a((function A(){i(this,A)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(A){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(A){}},{key:"getData",value:function(){}}])})(),wi=(function(){return a((function A(){i(this,A)}),[{key:"addIntersection",value:function(A,m){}},{key:"interfaces_",get:function(){return[ji]}}])})(),xa=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(m){return this._pts[m]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(m){return m===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(m),this.getCoordinate(m+1))}},{key:"setData",value:function(m){this._data=m}},{key:"safeOctant",value:function(m,y){return m.equals2D(y)?0:Ti.octant(m,y)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];this.addIntersectionNode(m,y)}else if(arguments.length===4){var C=arguments[1],F=arguments[3],nt=new Ht(arguments[0].getIntersection(F));this.addIntersection(nt,C)}}},{key:"toString",value:function(){return mn.toLineString(new ha(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(m,y){var C=y,F=C+1;if(F<this._pts.length){var nt=this._pts[F];m.equals2D(nt)&&(C=F)}return this._nodeList.add(m,C)}},{key:"addIntersections",value:function(m,y,C){for(var F=0;F<m.getIntersectionNum();F++)this.addIntersection(m,y,C,F)}},{key:"interfaces_",get:function(){return[wi]}}],[{key:"constructor_",value:function(){this._nodeList=new ri(this),this._pts=null,this._data=null;var m=arguments[0],y=arguments[1];this._pts=m,this._data=y}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var m=arguments[0],y=new Bt;return A.getNodedSubstrings(m,y),y}if(arguments.length===2)for(var C=arguments[1],F=arguments[0].iterator();F.hasNext();)F.next().getNodeList().addSplitEdges(C)}}])})(),Oi=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof A){var m=arguments[0],y=rr.index(this.p0,this.p1,m.p0),C=rr.index(this.p0,this.p1,m.p1);return y>=0&&C>=0||y<=0&&C<=0?Math.max(y,C):0}if(arguments[0]instanceof Ht){var F=arguments[0];return rr.index(this.p0,this.p1,F)}}},{key:"toGeometry",value:function(m){return m.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(m){if(!(m instanceof A))return!1;var y=m;return this.p0.equals(y.p0)&&this.p1.equals(y.p1)}},{key:"intersection",value:function(m){var y=new En;return y.computeIntersection(this.p0,this.p1,m.p0,m.p1),y.hasIntersection()?y.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof Ht){var m=arguments[0];if(m.equals(this.p0)||m.equals(this.p1))return new Ht(m);var y=this.projectionFactor(m),C=new Ht;return C.x=this.p0.x+y*(this.p1.x-this.p0.x),C.y=this.p0.y+y*(this.p1.y-this.p0.y),C}if(arguments[0]instanceof A){var F=arguments[0],nt=this.projectionFactor(F.p0),xt=this.projectionFactor(F.p1);if(nt>=1&&xt>=1||nt<=0&&xt<=0)return null;var Dt=this.project(F.p0);nt<0&&(Dt=this.p0),nt>1&&(Dt=this.p1);var re=this.project(F.p1);return xt<0&&(re=this.p0),xt>1&&(re=this.p1),new A(Dt,re)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(m){return m===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(m){return fr.pointToLinePerpendicular(m,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return A.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(m){if(m.equals(this.p0))return 0;if(m.equals(this.p1))return 1;var y=this.p1.x-this.p0.x,C=this.p1.y-this.p0.y,F=y*y+C*C;return F<=0?jt.NaN:((m.x-this.p0.x)*y+(m.y-this.p0.y)*C)/F}},{key:"closestPoints",value:function(m){var y=this.intersection(m);if(y!==null)return[y,y];var C=new Array(2).fill(null),F=jt.MAX_VALUE,nt=null,xt=this.closestPoint(m.p0);F=xt.distance(m.p0),C[0]=xt,C[1]=m.p0;var Dt=this.closestPoint(m.p1);(nt=Dt.distance(m.p1))<F&&(F=nt,C[0]=Dt,C[1]=m.p1);var re=m.closestPoint(this.p0);(nt=re.distance(this.p0))<F&&(F=nt,C[0]=this.p0,C[1]=re);var _e=m.closestPoint(this.p1);return(nt=_e.distance(this.p1))<F&&(F=nt,C[0]=this.p1,C[1]=_e),C}},{key:"closestPoint",value:function(m){var y=this.projectionFactor(m);return y>0&&y<1?this.project(m):this.p0.distance(m)<this.p1.distance(m)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(m){var y=m,C=this.p0.compareTo(y.p0);return C!==0?C:this.p1.compareTo(y.p1)}},{key:"reverse",value:function(){var m=this.p0;this.p0=this.p1,this.p1=m}},{key:"equalsTopo",value:function(m){return this.p0.equals(m.p0)&&this.p1.equals(m.p1)||this.p0.equals(m.p1)&&this.p1.equals(m.p0)}},{key:"lineIntersection",value:function(m){return je.intersection(this.p0,this.p1,m.p0,m.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(m,y){var C=this.p0.x+m*(this.p1.x-this.p0.x),F=this.p0.y+m*(this.p1.y-this.p0.y),nt=this.p1.x-this.p0.x,xt=this.p1.y-this.p0.y,Dt=Math.sqrt(nt*nt+xt*xt),re=0,_e=0;if(y!==0){if(Dt<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");re=y*nt/Dt,_e=y*xt/Dt}return new Ht(C-_e,F+re)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var m=arguments[0];this.setCoordinates(m.p0,m.p1)}else if(arguments.length===2){var y=arguments[0],C=arguments[1];this.p0.x=y.x,this.p0.y=y.y,this.p1.x=C.x,this.p1.y=C.y}}},{key:"segmentFraction",value:function(m){var y=this.projectionFactor(m);return y<0?y=0:(y>1||jt.isNaN(y))&&(y=1),y}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(m){var y=this.p1.getY()-this.p0.getY(),C=this.p0.getX()-this.p1.getX(),F=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),nt=y*y+C*C,xt=y*y-C*C,Dt=m.getX(),re=m.getY();return new Ht((-xt*Dt-2*y*C*re-2*y*F)/nt,(xt*re-2*y*C*Dt-2*C*F)/nt)}},{key:"distance",value:function(){if(arguments[0]instanceof A){var m=arguments[0];return fr.segmentToSegment(this.p0,this.p1,m.p0,m.p1)}if(arguments[0]instanceof Ht){var y=arguments[0];return fr.pointToSegment(y,this.p0,this.p1)}}},{key:"pointAlong",value:function(m){var y=new Ht;return y.x=this.p0.x+m*(this.p1.x-this.p0.x),y.y=this.p0.y+m*(this.p1.y-this.p0.y),y}},{key:"hashCode",value:function(){var m=jt.doubleToLongBits(this.p0.x);m^=31*jt.doubleToLongBits(this.p0.y);var y=Math.trunc(m)^Math.trunc(m>>32),C=jt.doubleToLongBits(this.p1.x);return C^=31*jt.doubleToLongBits(this.p1.y),y^(Math.trunc(C)^Math.trunc(C>>32))}},{key:"interfaces_",get:function(){return[et,it]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)A.constructor_.call(this,new Ht,new Ht);else if(arguments.length===1){var m=arguments[0];A.constructor_.call(this,m.p0,m.p1)}else if(arguments.length===2){var y=arguments[0],C=arguments[1];this.p0=y,this.p1=C}else if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3];A.constructor_.call(this,new Ht(F,nt),new Ht(xt,Dt))}}},{key:"midPoint",value:function(m,y){return new Ht((m.x+y.x)/2,(m.y+y.y)/2)}}])})(),Ui=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2&&arguments.length===4){var A=arguments[1],m=arguments[2],y=arguments[3];arguments[0].getLineSegment(A,this._overlapSeg1),m.getLineSegment(y,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Oi,this._overlapSeg2=new Oi}}])})(),Lo=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(A,m){m.p0=this._pts[A],m.p1=this._pts[A+1]}},{key:"computeSelect",value:function(A,m,y,C){var F=this._pts[m],nt=this._pts[y];if(y-m==1)return C.select(this,m),null;if(!A.intersects(F,nt))return null;var xt=Math.trunc((m+y)/2);m<xt&&this.computeSelect(A,m,xt,C),xt<y&&this.computeSelect(A,xt,y,C)}},{key:"getCoordinates",value:function(){for(var A=new Array(this._end-this._start+1).fill(null),m=0,y=this._start;y<=this._end;y++)A[m++]=this._pts[y];return A}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var A=arguments[0],m=arguments[1];this.computeOverlaps(this._start,this._end,A,A._start,A._end,m)}else if(arguments.length===6){var y=arguments[0],C=arguments[1],F=arguments[2],nt=arguments[3],xt=arguments[4],Dt=arguments[5];if(C-y==1&&xt-nt==1)return Dt.overlap(this,y,F,nt),null;if(!this.overlaps(y,C,F,nt,xt))return null;var re=Math.trunc((y+C)/2),_e=Math.trunc((nt+xt)/2);y<re&&(nt<_e&&this.computeOverlaps(y,re,F,nt,_e,Dt),_e<xt&&this.computeOverlaps(y,re,F,_e,xt,Dt)),re<C&&(nt<_e&&this.computeOverlaps(re,C,F,nt,_e,Dt),_e<xt&&this.computeOverlaps(re,C,F,_e,xt,Dt))}}},{key:"setId",value:function(A){this._id=A}},{key:"select",value:function(A,m){this.computeSelect(A,this._start,this._end,m)}},{key:"getEnvelope",value:function(){if(this._env===null){var A=this._pts[this._start],m=this._pts[this._end];this._env=new de(A,m)}return this._env}},{key:"overlaps",value:function(A,m,y,C,F){return de.intersects(this._pts[A],this._pts[m],y._pts[C],y._pts[F])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var A=arguments[0],m=arguments[1],y=arguments[2],C=arguments[3];this._pts=A,this._start=m,this._end=y,this._context=C}}])})(),Ja=(function(){function A(){i(this,A)}return a(A,null,[{key:"findChainEnd",value:function(m,y){for(var C=y;C<m.length-1&&m[C].equals2D(m[C+1]);)C++;if(C>=m.length-1)return m.length-1;for(var F=zn.quadrant(m[C],m[C+1]),nt=y+1;nt<m.length&&!(!m[nt-1].equals2D(m[nt])&&zn.quadrant(m[nt-1],m[nt])!==F);)nt++;return nt-1}},{key:"getChains",value:function(){if(arguments.length===1){var m=arguments[0];return A.getChains(m,null)}if(arguments.length===2){var y=arguments[0],C=arguments[1],F=new Bt,nt=0;do{var xt=A.findChainEnd(y,nt),Dt=new Lo(y,nt,xt,C);F.add(Dt),nt=xt}while(nt<y.length-1);return F}}}])})(),ao=(function(){return a((function A(){i(this,A)}),[{key:"computeNodes",value:function(A){}},{key:"getNodedSubstrings",value:function(){}}])})(),Ul=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(A){this._segInt=A}},{key:"interfaces_",get:function(){return[ao]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0&&arguments.length===1){var A=arguments[0];this.setSegmentIntersector(A)}}}])})(),wc=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return xa.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(y){for(var C=Ja.getChains(y.getCoordinates(),y).iterator();C.hasNext();){var F=C.next();F.setId(this._idCounter++),this._index.insert(F.getEnvelope(),F),this._monoChains.add(F)}}},{key:"computeNodes",value:function(y){this._nodedSegStrings=y;for(var C=y.iterator();C.hasNext();)this.add(C.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var y=new Iu(this._segInt),C=this._monoChains.iterator();C.hasNext();)for(var F=C.next(),nt=this._index.query(F.getEnvelope()).iterator();nt.hasNext();){var xt=nt.next();if(xt.getId()>F.getId()&&(F.computeOverlaps(xt,y),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Bt,this._index=new Xe,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0&&arguments.length===1){var y=arguments[0];Ul.constructor_.call(this,y)}}}])})(Ul),Iu=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"overlap",value:function(){if(arguments.length!==4)return P(m,"overlap",this,1).apply(this,arguments);var y=arguments[1],C=arguments[2],F=arguments[3],nt=arguments[0].getContext(),xt=C.getContext();this._si.processIntersections(nt,y,xt,F)}}],[{key:"constructor_",value:function(){this._si=null;var y=arguments[0];this._si=y}}])})(Ui);wc.SegmentOverlapAction=Iu;var ql=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"isDeletable",value:function(m,y,C,F){var nt=this._inputLine[m],xt=this._inputLine[y],Dt=this._inputLine[C];return!!this.isConcave(nt,xt,Dt)&&!!this.isShallow(nt,xt,Dt,F)&&this.isShallowSampled(nt,xt,m,C,F)}},{key:"deleteShallowConcavities",value:function(){for(var m=1,y=this.findNextNonDeletedIndex(m),C=this.findNextNonDeletedIndex(y),F=!1;C<this._inputLine.length;){var nt=!1;this.isDeletable(m,y,C,this._distanceTol)&&(this._isDeleted[y]=A.DELETE,nt=!0,F=!0),m=nt?C:y,y=this.findNextNonDeletedIndex(m),C=this.findNextNonDeletedIndex(y)}return F}},{key:"isShallowConcavity",value:function(m,y,C,F){return rr.index(m,y,C)===this._angleOrientation&&fr.pointToSegment(y,m,C)<F}},{key:"isShallowSampled",value:function(m,y,C,F,nt){var xt=Math.trunc((F-C)/A.NUM_PTS_TO_CHECK);xt<=0&&(xt=1);for(var Dt=C;Dt<F;Dt+=xt)if(!this.isShallow(m,y,this._inputLine[Dt],nt))return!1;return!0}},{key:"isConcave",value:function(m,y,C){var F=rr.index(m,y,C)===this._angleOrientation;return F}},{key:"simplify",value:function(m){this._distanceTol=Math.abs(m),m<0&&(this._angleOrientation=rr.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var y=!1;do y=this.deleteShallowConcavities();while(y);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(m){for(var y=m+1;y<this._inputLine.length&&this._isDeleted[y]===A.DELETE;)y++;return y}},{key:"isShallow",value:function(m,y,C,F){return fr.pointToSegment(y,m,C)<F}},{key:"collapseLine",value:function(){for(var m=new Na,y=0;y<this._inputLine.length;y++)this._isDeleted[y]!==A.DELETE&&m.add(this._inputLine[y]);return m.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=rr.COUNTERCLOCKWISE;var m=arguments[0];this._inputLine=m}},{key:"simplify",value:function(m,y){return new A(m).simplify(y)}}])})();ql.INIT=0,ql.DELETE=1,ql.KEEP=1,ql.NUM_PTS_TO_CHECK=10;var Ru=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getCoordinates",value:function(){return this._ptList.toArray(A.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(m){this._precisionModel=m}},{key:"addPt",value:function(m){var y=new Ht(m);if(this._precisionModel.makePrecise(y),this.isRedundant(y))return null;this._ptList.add(y)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(m,y){if(y)for(var C=0;C<m.length;C++)this.addPt(m[C]);else for(var F=m.length-1;F>=0;F--)this.addPt(m[F])}},{key:"isRedundant",value:function(m){if(this._ptList.size()<1)return!1;var y=this._ptList.get(this._ptList.size()-1);return m.distance(y)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Ks().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var m=new Ht(this._ptList.get(0)),y=this._ptList.get(this._ptList.size()-1);if(m.equals(y))return null;this._ptList.add(m)}},{key:"setMinimumVertexDistance",value:function(m){this._minimimVertexDistance=m}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Bt}}])})();Ru.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var mo=(function(){function A(){i(this,A)}return a(A,null,[{key:"toDegrees",value:function(m){return 180*m/Math.PI}},{key:"normalize",value:function(m){for(;m>Math.PI;)m-=A.PI_TIMES_2;for(;m<=-Math.PI;)m+=A.PI_TIMES_2;return m}},{key:"angle",value:function(){if(arguments.length===1){var m=arguments[0];return Math.atan2(m.y,m.x)}if(arguments.length===2){var y=arguments[0],C=arguments[1],F=C.x-y.x,nt=C.y-y.y;return Math.atan2(nt,F)}}},{key:"isAcute",value:function(m,y,C){var F=m.x-y.x,nt=m.y-y.y;return F*(C.x-y.x)+nt*(C.y-y.y)>0}},{key:"isObtuse",value:function(m,y,C){var F=m.x-y.x,nt=m.y-y.y;return F*(C.x-y.x)+nt*(C.y-y.y)<0}},{key:"interiorAngle",value:function(m,y,C){var F=A.angle(y,m),nt=A.angle(y,C);return Math.abs(nt-F)}},{key:"normalizePositive",value:function(m){if(m<0){for(;m<0;)m+=A.PI_TIMES_2;m>=A.PI_TIMES_2&&(m=0)}else{for(;m>=A.PI_TIMES_2;)m-=A.PI_TIMES_2;m<0&&(m=0)}return m}},{key:"angleBetween",value:function(m,y,C){var F=A.angle(y,m),nt=A.angle(y,C);return A.diff(F,nt)}},{key:"diff",value:function(m,y){var C=null;return(C=m<y?y-m:m-y)>Math.PI&&(C=2*Math.PI-C),C}},{key:"toRadians",value:function(m){return m*Math.PI/180}},{key:"getTurn",value:function(m,y){var C=Math.sin(y-m);return C>0?A.COUNTERCLOCKWISE:C<0?A.CLOCKWISE:A.NONE}},{key:"angleBetweenOriented",value:function(m,y,C){var F=A.angle(y,m),nt=A.angle(y,C)-F;return nt<=-Math.PI?nt+A.PI_TIMES_2:nt>Math.PI?nt-A.PI_TIMES_2:nt}}])})();mo.PI_TIMES_2=2*Math.PI,mo.PI_OVER_2=Math.PI/2,mo.PI_OVER_4=Math.PI/4,mo.COUNTERCLOCKWISE=rr.COUNTERCLOCKWISE,mo.CLOCKWISE=rr.CLOCKWISE,mo.NONE=rr.COLLINEAR;var Sc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"addNextSegment",value:function(m,y){if(this._s0=this._s1,this._s1=this._s2,this._s2=m,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var C=rr.index(this._s0,this._s1,this._s2),F=C===rr.CLOCKWISE&&this._side===Ie.LEFT||C===rr.COUNTERCLOCKWISE&&this._side===Ie.RIGHT;C===0?this.addCollinear(y):F?this.addOutsideTurn(C,y):this.addInsideTurn(C,y)}},{key:"addLineEndCap",value:function(m,y){var C=new Oi(m,y),F=new Oi;this.computeOffsetSegment(C,Ie.LEFT,this._distance,F);var nt=new Oi;this.computeOffsetSegment(C,Ie.RIGHT,this._distance,nt);var xt=y.x-m.x,Dt=y.y-m.y,re=Math.atan2(Dt,xt);switch(this._bufParams.getEndCapStyle()){case z.CAP_ROUND:this._segList.addPt(F.p1),this.addDirectedFillet(y,re+Math.PI/2,re-Math.PI/2,rr.CLOCKWISE,this._distance),this._segList.addPt(nt.p1);break;case z.CAP_FLAT:this._segList.addPt(F.p1),this._segList.addPt(nt.p1);break;case z.CAP_SQUARE:var _e=new Ht;_e.x=Math.abs(this._distance)*Math.cos(re),_e.y=Math.abs(this._distance)*Math.sin(re);var sr=new Ht(F.p1.x+_e.x,F.p1.y+_e.y),_r=new Ht(nt.p1.x+_e.x,nt.p1.y+_e.y);this._segList.addPt(sr),this._segList.addPt(_r)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(m,y,C,F){var nt=je.intersection(y.p0,y.p1,C.p0,C.p1);if(nt!==null&&(F<=0?1:nt.distance(m)/Math.abs(F))<=this._bufParams.getMitreLimit())return this._segList.addPt(nt),null;this.addLimitedMitreJoin(y,C,F,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(m,y){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*A.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===z.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===z.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(y&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,m,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(m){this._segList.addPt(new Ht(m.x+this._distance,m.y+this._distance)),this._segList.addPt(new Ht(m.x+this._distance,m.y-this._distance)),this._segList.addPt(new Ht(m.x-this._distance,m.y-this._distance)),this._segList.addPt(new Ht(m.x-this._distance,m.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(m,y){this._segList.addPts(m,y)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(m,y,C,F,nt){var xt=y.x-m.x,Dt=y.y-m.y,re=Math.atan2(Dt,xt),_e=C.x-m.x,sr=C.y-m.y,_r=Math.atan2(sr,_e);F===rr.CLOCKWISE?re<=_r&&(re+=2*Math.PI):re>=_r&&(re-=2*Math.PI),this._segList.addPt(y),this.addDirectedFillet(m,re,_r,F,nt),this._segList.addPt(C)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(m,y,C){this._s1=m,this._s2=y,this._side=C,this._seg1.setCoordinates(m,y),this.computeOffsetSegment(this._seg1,C,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(m,y,C,F){var nt=this._seg0.p1,xt=mo.angle(nt,this._seg0.p0),Dt=mo.angleBetweenOriented(this._seg0.p0,nt,this._seg1.p1)/2,re=mo.normalize(xt+Dt),_e=mo.normalize(re+Math.PI),sr=F*C,_r=C-sr*Math.abs(Math.sin(Dt)),tn=nt.x+sr*Math.cos(_e),In=nt.y+sr*Math.sin(_e),Qn=new Ht(tn,In),hi=new Oi(nt,Qn),Kn=hi.pointAlongOffset(1,_r),Hn=hi.pointAlongOffset(1,-_r);this._side===Ie.LEFT?(this._segList.addPt(Kn),this._segList.addPt(Hn)):(this._segList.addPt(Hn),this._segList.addPt(Kn))}},{key:"addDirectedFillet",value:function(m,y,C,F,nt){var xt=F===rr.CLOCKWISE?-1:1,Dt=Math.abs(y-C),re=Math.trunc(Dt/this._filletAngleQuantum+.5);if(re<1)return null;for(var _e=Dt/re,sr=new Ht,_r=0;_r<re;_r++){var tn=y+xt*_r*_e;sr.x=m.x+nt*Math.cos(tn),sr.y=m.y+nt*Math.sin(tn),this._segList.addPt(sr)}}},{key:"computeOffsetSegment",value:function(m,y,C,F){var nt=y===Ie.LEFT?1:-1,xt=m.p1.x-m.p0.x,Dt=m.p1.y-m.p0.y,re=Math.sqrt(xt*xt+Dt*Dt),_e=nt*C*xt/re,sr=nt*C*Dt/re;F.p0.x=m.p0.x-sr,F.p0.y=m.p0.y+_e,F.p1.x=m.p1.x-sr,F.p1.y=m.p1.y+_e}},{key:"addInsideTurn",value:function(m,y){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*A.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var C=new Ht((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(C);var F=new Ht((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(F)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(m){var y=new Ht(m.x+this._distance,m.y);this._segList.addPt(y),this.addDirectedFillet(m,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(m,y){this._segList.addPt(m.p1),this._segList.addPt(y.p0)}},{key:"init",value:function(m){this._distance=m,this._maxCurveSegmentError=m*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ru,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(m*A.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(m){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===z.JOIN_BEVEL||this._bufParams.getJoinStyle()===z.JOIN_MITRE?(m&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,rr.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Oi,this._seg1=new Oi,this._offset0=new Oi,this._offset1=new Oi,this._side=0,this._hasNarrowConcaveAngle=!1;var m=arguments[0],y=arguments[1],C=arguments[2];this._precisionModel=m,this._bufParams=y,this._li=new En,this._filletAngleQuantum=Math.PI/2/y.getQuadrantSegments(),y.getQuadrantSegments()>=8&&y.getJoinStyle()===z.JOIN_ROUND&&(this._closingSegLengthFactor=A.MAX_CLOSING_SEG_LEN_FACTOR),this.init(C)}}])})();Sc.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Sc.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Sc.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Sc.MAX_CLOSING_SEG_LEN_FACTOR=80;var vu=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getOffsetCurve",value:function(m,y){if(this._distance=y,y===0)return null;var C=y<0,F=Math.abs(y),nt=this.getSegGen(F);m.length<=1?this.computePointCurve(m[0],nt):this.computeOffsetCurve(m,C,nt);var xt=nt.getCoordinates();return C&&Mn.reverse(xt),xt}},{key:"computeSingleSidedBufferCurve",value:function(m,y,C){var F=this.simplifyTolerance(this._distance);if(y){C.addSegments(m,!0);var nt=ql.simplify(m,-F),xt=nt.length-1;C.initSideSegments(nt[xt],nt[xt-1],Ie.LEFT),C.addFirstSegment();for(var Dt=xt-2;Dt>=0;Dt--)C.addNextSegment(nt[Dt],!0)}else{C.addSegments(m,!1);var re=ql.simplify(m,F),_e=re.length-1;C.initSideSegments(re[0],re[1],Ie.LEFT),C.addFirstSegment();for(var sr=2;sr<=_e;sr++)C.addNextSegment(re[sr],!0)}C.addLastSegment(),C.closeRing()}},{key:"computeRingBufferCurve",value:function(m,y,C){var F=this.simplifyTolerance(this._distance);y===Ie.RIGHT&&(F=-F);var nt=ql.simplify(m,F),xt=nt.length-1;C.initSideSegments(nt[xt-1],nt[0],y);for(var Dt=1;Dt<=xt;Dt++){var re=Dt!==1;C.addNextSegment(nt[Dt],re)}C.closeRing()}},{key:"computeLineBufferCurve",value:function(m,y){var C=this.simplifyTolerance(this._distance),F=ql.simplify(m,C),nt=F.length-1;y.initSideSegments(F[0],F[1],Ie.LEFT);for(var xt=2;xt<=nt;xt++)y.addNextSegment(F[xt],!0);y.addLastSegment(),y.addLineEndCap(F[nt-1],F[nt]);var Dt=ql.simplify(m,-C),re=Dt.length-1;y.initSideSegments(Dt[re],Dt[re-1],Ie.LEFT);for(var _e=re-2;_e>=0;_e--)y.addNextSegment(Dt[_e],!0);y.addLastSegment(),y.addLineEndCap(Dt[1],Dt[0]),y.closeRing()}},{key:"computePointCurve",value:function(m,y){switch(this._bufParams.getEndCapStyle()){case z.CAP_ROUND:y.createCircle(m);break;case z.CAP_SQUARE:y.createSquare(m)}}},{key:"getLineCurve",value:function(m,y){if(this._distance=y,this.isLineOffsetEmpty(y))return null;var C=Math.abs(y),F=this.getSegGen(C);if(m.length<=1)this.computePointCurve(m[0],F);else if(this._bufParams.isSingleSided()){var nt=y<0;this.computeSingleSidedBufferCurve(m,nt,F)}else this.computeLineBufferCurve(m,F);return F.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(m){return m*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(m,y,C){if(this._distance=C,m.length<=2)return this.getLineCurve(m,C);if(C===0)return A.copyCoordinates(m);var F=this.getSegGen(C);return this.computeRingBufferCurve(m,y,F),F.getCoordinates()}},{key:"computeOffsetCurve",value:function(m,y,C){var F=this.simplifyTolerance(this._distance);if(y){var nt=ql.simplify(m,-F),xt=nt.length-1;C.initSideSegments(nt[xt],nt[xt-1],Ie.LEFT),C.addFirstSegment();for(var Dt=xt-2;Dt>=0;Dt--)C.addNextSegment(nt[Dt],!0)}else{var re=ql.simplify(m,F),_e=re.length-1;C.initSideSegments(re[0],re[1],Ie.LEFT),C.addFirstSegment();for(var sr=2;sr<=_e;sr++)C.addNextSegment(re[sr],!0)}C.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(m){return m===0||m<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(m){return new Sc(this._precisionModel,this._bufParams,m)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var m=arguments[0],y=arguments[1];this._precisionModel=m,this._bufParams=y}},{key:"copyCoordinates",value:function(m){for(var y=new Array(m.length).fill(null),C=0;C<y.length;C++)y[C]=new Ht(m[C]);return y}}])})(),Gl=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var A=arguments[0],m=new Bt,y=this._subgraphs.iterator();y.hasNext();){var C=y.next(),F=C.getEnvelope();A.y<F.getMinY()||A.y>F.getMaxY()||this.findStabbedSegments(A,C.getDirectedEdges(),m)}return m}if(arguments.length===3){if(Ir(arguments[2],Rr)&&arguments[0]instanceof Ht&&arguments[1]instanceof No){for(var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=xt.getEdge().getCoordinates(),_e=0;_e<re.length-1;_e++)if(this._seg.p0=re[_e],this._seg.p1=re[_e+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<nt.x||this._seg.isHorizontal()||nt.y<this._seg.p0.y||nt.y>this._seg.p1.y||rr.index(this._seg.p0,this._seg.p1,nt)===rr.RIGHT)){var sr=xt.getDepth(Ie.LEFT);this._seg.p0.equals(re[_e])||(sr=xt.getDepth(Ie.RIGHT));var _r=new Eo(this._seg,sr);Dt.add(_r)}}else if(Ir(arguments[2],Rr)&&arguments[0]instanceof Ht&&Ir(arguments[1],Rr))for(var tn=arguments[0],In=arguments[2],Qn=arguments[1].iterator();Qn.hasNext();){var hi=Qn.next();hi.isForward()&&this.findStabbedSegments(tn,hi,In)}}}},{key:"getDepth",value:function(A){var m=this.findStabbedSegments(A);return m.size()===0?0:Bo.min(m)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Oi;var A=arguments[0];this._subgraphs=A}}])})(),Eo=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(A){var m=A;if(this._upwardSeg.minX()>=m._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=m._upwardSeg.minX())return-1;var y=this._upwardSeg.orientationIndex(m._upwardSeg);return y!==0||(y=-1*m._upwardSeg.orientationIndex(this._upwardSeg))!==0?y:this._upwardSeg.compareTo(m._upwardSeg)}},{key:"compareX",value:function(A,m){var y=A.p0.compareTo(m.p0);return y!==0?y:A.p1.compareTo(m.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var A=arguments[0],m=arguments[1];this._upwardSeg=new Oi(A),this._leftDepth=m}}])})();Gl.DepthSegment=Eo;var Fo=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,null,[{key:"constructor_",value:function(){j.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(j),to=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getY",value:function(){var m=this.y/this.w;if(jt.isNaN(m)||jt.isInfinite(m))throw new Fo;return m}},{key:"getX",value:function(){var m=this.x/this.w;if(jt.isNaN(m)||jt.isInfinite(m))throw new Fo;return m}},{key:"getCoordinate",value:function(){var m=new Ht;return m.x=this.getX(),m.y=this.getY(),m}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var m=arguments[0];this.x=m.x,this.y=m.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var y=arguments[0],C=arguments[1];this.x=y,this.y=C,this.w=1}else if(arguments[0]instanceof A&&arguments[1]instanceof A){var F=arguments[0],nt=arguments[1];this.x=F.y*nt.w-nt.y*F.w,this.y=nt.x*F.w-F.x*nt.w,this.w=F.x*nt.y-nt.x*F.y}else if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var xt=arguments[0],Dt=arguments[1];this.x=xt.y-Dt.y,this.y=Dt.x-xt.x,this.w=xt.x*Dt.y-Dt.x*xt.y}}else if(arguments.length===3){var re=arguments[0],_e=arguments[1],sr=arguments[2];this.x=re,this.y=_e,this.w=sr}else if(arguments.length===4){var _r=arguments[0],tn=arguments[1],In=arguments[2],Qn=arguments[3],hi=_r.y-tn.y,Kn=tn.x-_r.x,Hn=_r.x*tn.y-tn.x*_r.y,ma=In.y-Qn.y,qi=Qn.x-In.x,Va=In.x*Qn.y-Qn.x*In.y;this.x=Kn*Va-qi*Hn,this.y=ma*Hn-hi*Va,this.w=hi*qi-ma*Kn}}}])})(),hc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"area",value:function(){return A.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return A.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(m){if(m===null)throw new X("Supplied point is null.");return A.interpolateZ(m,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return A.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return A.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return A.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return A.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return A.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return A.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var m=arguments[0],y=arguments[1],C=arguments[2];this.p0=m,this.p1=y,this.p2=C}},{key:"area",value:function(m,y,C){return Math.abs(((C.x-m.x)*(y.y-m.y)-(y.x-m.x)*(C.y-m.y))/2)}},{key:"signedArea",value:function(m,y,C){return((C.x-m.x)*(y.y-m.y)-(y.x-m.x)*(C.y-m.y))/2}},{key:"det",value:function(m,y,C,F){return m*F-y*C}},{key:"interpolateZ",value:function(m,y,C,F){var nt=y.x,xt=y.y,Dt=C.x-nt,re=F.x-nt,_e=C.y-xt,sr=F.y-xt,_r=Dt*sr-re*_e,tn=m.x-nt,In=m.y-xt,Qn=(sr*tn-re*In)/_r,hi=(-_e*tn+Dt*In)/_r;return y.getZ()+Qn*(C.getZ()-y.getZ())+hi*(F.getZ()-y.getZ())}},{key:"longestSideLength",value:function(m,y,C){var F=m.distance(y),nt=y.distance(C),xt=C.distance(m),Dt=F;return nt>Dt&&(Dt=nt),xt>Dt&&(Dt=xt),Dt}},{key:"circumcentreDD",value:function(m,y,C){var F=er.valueOf(m.x).subtract(C.x),nt=er.valueOf(m.y).subtract(C.y),xt=er.valueOf(y.x).subtract(C.x),Dt=er.valueOf(y.y).subtract(C.y),re=er.determinant(F,nt,xt,Dt).multiply(2),_e=F.sqr().add(nt.sqr()),sr=xt.sqr().add(Dt.sqr()),_r=er.determinant(nt,_e,Dt,sr),tn=er.determinant(F,_e,xt,sr),In=er.valueOf(C.x).subtract(_r.divide(re)).doubleValue(),Qn=er.valueOf(C.y).add(tn.divide(re)).doubleValue();return new Ht(In,Qn)}},{key:"isAcute",value:function(m,y,C){return!!mo.isAcute(m,y,C)&&!!mo.isAcute(y,C,m)&&!!mo.isAcute(C,m,y)}},{key:"circumcentre",value:function(m,y,C){var F=C.x,nt=C.y,xt=m.x-F,Dt=m.y-nt,re=y.x-F,_e=y.y-nt,sr=2*A.det(xt,Dt,re,_e),_r=A.det(Dt,xt*xt+Dt*Dt,_e,re*re+_e*_e),tn=A.det(xt,xt*xt+Dt*Dt,re,re*re+_e*_e);return new Ht(F-_r/sr,nt+tn/sr)}},{key:"perpendicularBisector",value:function(m,y){var C=y.x-m.x,F=y.y-m.y,nt=new to(m.x+C/2,m.y+F/2,1),xt=new to(m.x-F+C/2,m.y+C+F/2,1);return new to(nt,xt)}},{key:"angleBisector",value:function(m,y,C){var F=y.distance(m),nt=F/(F+y.distance(C)),xt=C.x-m.x,Dt=C.y-m.y;return new Ht(m.x+nt*xt,m.y+nt*Dt)}},{key:"area3D",value:function(m,y,C){var F=y.x-m.x,nt=y.y-m.y,xt=y.getZ()-m.getZ(),Dt=C.x-m.x,re=C.y-m.y,_e=C.getZ()-m.getZ(),sr=nt*_e-xt*re,_r=xt*Dt-F*_e,tn=F*re-nt*Dt,In=sr*sr+_r*_r+tn*tn,Qn=Math.sqrt(In)/2;return Qn}},{key:"centroid",value:function(m,y,C){var F=(m.x+y.x+C.x)/3,nt=(m.y+y.y+C.y)/3;return new Ht(F,nt)}},{key:"inCentre",value:function(m,y,C){var F=y.distance(C),nt=m.distance(C),xt=m.distance(y),Dt=F+nt+xt,re=(F*m.x+nt*y.x+xt*C.x)/Dt,_e=(F*m.y+nt*y.y+xt*C.y)/Dt;return new Ht(re,_e)}}])})(),Vc=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(A,m,y,C,F){if(m===0&&A.length<en.MINIMUM_VALID_SIZE)return null;var nt=C,xt=F;A.length>=en.MINIMUM_VALID_SIZE&&rr.isCCW(A)&&(nt=F,xt=C,y=Ie.opposite(y));var Dt=this._curveBuilder.getRingCurve(A,y,m);this.addCurve(Dt,nt,xt)}},{key:"addRingBothSides",value:function(A,m){this.addRingSide(A,m,Ie.LEFT,Vt.EXTERIOR,Vt.INTERIOR),this.addRingSide(A,m,Ie.RIGHT,Vt.INTERIOR,Vt.EXTERIOR)}},{key:"addPoint",value:function(A){if(this._distance<=0)return null;var m=A.getCoordinates(),y=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(y,Vt.EXTERIOR,Vt.INTERIOR)}},{key:"addPolygon",value:function(A){var m=this._distance,y=Ie.LEFT;this._distance<0&&(m=-this._distance,y=Ie.RIGHT);var C=A.getExteriorRing(),F=Mn.removeRepeatedPoints(C.getCoordinates());if(this._distance<0&&this.isErodedCompletely(C,this._distance)||this._distance<=0&&F.length<3)return null;this.addRingSide(F,m,y,Vt.EXTERIOR,Vt.INTERIOR);for(var nt=0;nt<A.getNumInteriorRing();nt++){var xt=A.getInteriorRingN(nt),Dt=Mn.removeRepeatedPoints(xt.getCoordinates());this._distance>0&&this.isErodedCompletely(xt,-this._distance)||this.addRingSide(Dt,m,Ie.opposite(y),Vt.INTERIOR,Vt.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(A,m){var y=new hc(A[0],A[1],A[2]),C=y.inCentre();return fr.pointToSegment(C,y.p0,y.p1)<Math.abs(m)}},{key:"addLineString",value:function(A){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var m=Mn.removeRepeatedPoints(A.getCoordinates());if(Mn.isRing(m)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(m,this._distance);else{var y=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(y,Vt.EXTERIOR,Vt.INTERIOR)}}},{key:"addCurve",value:function(A,m,y){if(A===null||A.length<2)return null;var C=new xa(A,new ti(0,Vt.BOUNDARY,m,y));this._curveList.add(C)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(A){if(A.isEmpty())return null;if(A instanceof vn)this.addPolygon(A);else if(A instanceof Zn)this.addLineString(A);else if(A instanceof Xt)this.addPoint(A);else if(A instanceof Ji)this.addCollection(A);else if(A instanceof Fl)this.addCollection(A);else if(A instanceof Vi)this.addCollection(A);else{if(!(A instanceof li))throw new Jt(A.getGeometryType());this.addCollection(A)}}},{key:"isErodedCompletely",value:function(A,m){var y=A.getCoordinates();if(y.length<4)return m<0;if(y.length===4)return this.isTriangleErodedCompletely(y,m);var C=A.getEnvelopeInternal(),F=Math.min(C.getHeight(),C.getWidth());return m<0&&2*Math.abs(m)>F}},{key:"addCollection",value:function(A){for(var m=0;m<A.getNumGeometries();m++){var y=A.getGeometryN(m);this.add(y)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Bt;var A=arguments[0],m=arguments[1],y=arguments[2];this._inputGeom=A,this._distance=m,this._curveBuilder=y}}])})(),oo=(function(){return a((function A(){i(this,A)}),[{key:"locate",value:function(A){}}])})(),bu=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,A.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ke;var m=this._parent.getGeometryN(this._index++);return m instanceof li?(this._subcollectionIterator=new A(m),this._subcollectionIterator.next()):m}},{key:"remove",value:function(){throw new Jt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Vn]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var m=arguments[0];this._parent=m,this._atStart=!0,this._index=0,this._max=m.getNumGeometries()}},{key:"isAtomic",value:function(m){return!(m instanceof li)}}])})(),Uc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"locate",value:function(m){return A.locate(m,this._geom)}},{key:"interfaces_",get:function(){return[oo]}}],[{key:"constructor_",value:function(){this._geom=null;var m=arguments[0];this._geom=m}},{key:"locatePointInPolygon",value:function(m,y){if(y.isEmpty())return Vt.EXTERIOR;var C=y.getExteriorRing(),F=A.locatePointInRing(m,C);if(F!==Vt.INTERIOR)return F;for(var nt=0;nt<y.getNumInteriorRing();nt++){var xt=y.getInteriorRingN(nt),Dt=A.locatePointInRing(m,xt);if(Dt===Vt.BOUNDARY)return Vt.BOUNDARY;if(Dt===Vt.INTERIOR)return Vt.EXTERIOR}return Vt.INTERIOR}},{key:"locatePointInRing",value:function(m,y){return y.getEnvelopeInternal().intersects(m)?Yn.locateInRing(m,y.getCoordinates()):Vt.EXTERIOR}},{key:"containsPointInPolygon",value:function(m,y){return Vt.EXTERIOR!==A.locatePointInPolygon(m,y)}},{key:"locateInGeometry",value:function(m,y){if(y instanceof vn)return A.locatePointInPolygon(m,y);if(y instanceof li)for(var C=new bu(y);C.hasNext();){var F=C.next();if(F!==y){var nt=A.locateInGeometry(m,F);if(nt!==Vt.EXTERIOR)return nt}}return Vt.EXTERIOR}},{key:"isContained",value:function(m,y){return Vt.EXTERIOR!==A.locate(m,y)}},{key:"locate",value:function(m,y){return y.isEmpty()?Vt.EXTERIOR:y.getEnvelopeInternal().intersects(m)?A.locateInGeometry(m,y):Vt.EXTERIOR}}])})(),il=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(A){this.getEdges();var m=this._edgeList.indexOf(A),y=m-1;return m===0&&(y=this._edgeList.size()-1),this._edgeList.get(y)}},{key:"propagateSideLabels",value:function(A){for(var m=Vt.NONE,y=this.iterator();y.hasNext();){var C=y.next().getLabel();C.isArea(A)&&C.getLocation(A,Ie.LEFT)!==Vt.NONE&&(m=C.getLocation(A,Ie.LEFT))}if(m===Vt.NONE)return null;for(var F=m,nt=this.iterator();nt.hasNext();){var xt=nt.next(),Dt=xt.getLabel();if(Dt.getLocation(A,Ie.ON)===Vt.NONE&&Dt.setLocation(A,Ie.ON,F),Dt.isArea(A)){var re=Dt.getLocation(A,Ie.LEFT),_e=Dt.getLocation(A,Ie.RIGHT);if(_e!==Vt.NONE){if(_e!==F)throw new Ft("side location conflict",xt.getCoordinate());re===Vt.NONE&&kt.shouldNeverReachHere("found single null side (at "+xt.getCoordinate()+")"),F=re}else kt.isTrue(Dt.getLocation(A,Ie.LEFT)===Vt.NONE,"found single null side"),Dt.setLocation(A,Ie.RIGHT,F),Dt.setLocation(A,Ie.LEFT,F)}}}},{key:"getCoordinate",value:function(){var A=this.iterator();return A.hasNext()?A.next().getCoordinate():null}},{key:"print",value:function(A){Ge.out.println("EdgeEndStar:   "+this.getCoordinate());for(var m=this.iterator();m.hasNext();)m.next().print(A)}},{key:"isAreaLabelsConsistent",value:function(A){return this.computeEdgeEndLabels(A.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(A){var m=this.getEdges();if(m.size()<=0)return!0;var y=m.size()-1,C=m.get(y).getLabel().getLocation(A,Ie.LEFT);kt.isTrue(C!==Vt.NONE,"Found unlabelled area edge");for(var F=C,nt=this.iterator();nt.hasNext();){var xt=nt.next().getLabel();kt.isTrue(xt.isArea(A),"Found non-area edge");var Dt=xt.getLocation(A,Ie.LEFT),re=xt.getLocation(A,Ie.RIGHT);if(Dt===re||re!==F)return!1;F=Dt}return!0}},{key:"findIndex",value:function(A){this.iterator();for(var m=0;m<this._edgeList.size();m++)if(this._edgeList.get(m)===A)return m;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Bt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(A,m,y){return this._ptInAreaLocation[A]===Vt.NONE&&(this._ptInAreaLocation[A]=Uc.locate(m,y[A].getGeometry())),this._ptInAreaLocation[A]}},{key:"toString",value:function(){var A=new dr;A.append("EdgeEndStar:   "+this.getCoordinate()),A.append(`
`);for(var m=this.iterator();m.hasNext();){var y=m.next();A.append(y),A.append(`
`)}return A.toString()}},{key:"computeEdgeEndLabels",value:function(A){for(var m=this.iterator();m.hasNext();)m.next().computeLabel(A)}},{key:"computeLabelling",value:function(A){this.computeEdgeEndLabels(A[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var m=[!1,!1],y=this.iterator();y.hasNext();)for(var C=y.next().getLabel(),F=0;F<2;F++)C.isLine(F)&&C.getLocation(F)===Vt.BOUNDARY&&(m[F]=!0);for(var nt=this.iterator();nt.hasNext();)for(var xt=nt.next(),Dt=xt.getLabel(),re=0;re<2;re++)if(Dt.isAnyNull(re)){var _e=Vt.NONE;if(m[re])_e=Vt.EXTERIOR;else{var sr=xt.getCoordinate();_e=this.getLocation(re,sr,A)}Dt.setAllLocationsIfNull(re,_e)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(A,m){this._edgeMap.put(A,m),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new ei,this._edgeList=null,this._ptInAreaLocation=[Vt.NONE,Vt.NONE]}}])})(),ws=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var y=null,C=null,F=this._SCANNING_FOR_INCOMING,nt=0;nt<this._resultAreaEdgeList.size();nt++){var xt=this._resultAreaEdgeList.get(nt),Dt=xt.getSym();if(xt.getLabel().isArea())switch(y===null&&xt.isInResult()&&(y=xt),F){case this._SCANNING_FOR_INCOMING:if(!Dt.isInResult())continue;C=Dt,F=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!xt.isInResult())continue;C.setNext(xt),F=this._SCANNING_FOR_INCOMING}}if(F===this._LINKING_TO_OUTGOING){if(y===null)throw new Ft("no outgoing dirEdge found",this.getCoordinate());kt.isTrue(y.isInResult(),"unable to link last incoming dirEdge"),C.setNext(y)}}},{key:"insert",value:function(y){var C=y;this.insertEdgeEnd(C,C)}},{key:"getRightmostEdge",value:function(){var y=this.getEdges(),C=y.size();if(C<1)return null;var F=y.get(0);if(C===1)return F;var nt=y.get(C-1),xt=F.getQuadrant(),Dt=nt.getQuadrant();return zn.isNorthern(xt)&&zn.isNorthern(Dt)?F:zn.isNorthern(xt)||zn.isNorthern(Dt)?F.getDy()!==0?F:nt.getDy()!==0?nt:(kt.shouldNeverReachHere("found two horizontal edges incident on node"),null):nt}},{key:"print",value:function(y){Ge.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var C=this.iterator();C.hasNext();){var F=C.next();y.print("out "),F.print(y),y.println(),y.print("in "),F.getSym().print(y),y.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Bt;for(var y=this.iterator();y.hasNext();){var C=y.next();(C.isInResult()||C.getSym().isInResult())&&this._resultAreaEdgeList.add(C)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(y){for(var C=this.iterator();C.hasNext();){var F=C.next().getLabel();F.setAllLocationsIfNull(0,y.getLocation(0)),F.setAllLocationsIfNull(1,y.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var y=null,C=null,F=this._edgeList.size()-1;F>=0;F--){var nt=this._edgeList.get(F),xt=nt.getSym();C===null&&(C=xt),y!==null&&xt.setNext(y),y=nt}C.setNext(y)}},{key:"computeDepths",value:function(){if(arguments.length===1){var y=arguments[0],C=this.findIndex(y),F=y.getDepth(Ie.LEFT),nt=y.getDepth(Ie.RIGHT),xt=this.computeDepths(C+1,this._edgeList.size(),F);if(this.computeDepths(0,C,xt)!==nt)throw new Ft("depth mismatch at "+y.getCoordinate())}else if(arguments.length===3){for(var Dt=arguments[1],re=arguments[2],_e=arguments[0];_e<Dt;_e++){var sr=this._edgeList.get(_e);sr.setEdgeDepths(Ie.RIGHT,re),re=sr.getDepth(Ie.LEFT)}return re}}},{key:"mergeSymLabels",value:function(){for(var y=this.iterator();y.hasNext();){var C=y.next();C.getLabel().merge(C.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(y){for(var C=null,F=null,nt=this._SCANNING_FOR_INCOMING,xt=this._resultAreaEdgeList.size()-1;xt>=0;xt--){var Dt=this._resultAreaEdgeList.get(xt),re=Dt.getSym();switch(C===null&&Dt.getEdgeRing()===y&&(C=Dt),nt){case this._SCANNING_FOR_INCOMING:if(re.getEdgeRing()!==y)continue;F=re,nt=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(Dt.getEdgeRing()!==y)continue;F.setNextMin(Dt),nt=this._SCANNING_FOR_INCOMING}}nt===this._LINKING_TO_OUTGOING&&(kt.isTrue(C!==null,"found null for first outgoing dirEdge"),kt.isTrue(C.getEdgeRing()===y,"unable to link last incoming dirEdge"),F.setNextMin(C))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var y=0,C=this.iterator();C.hasNext();)C.next().isInResult()&&y++;return y}if(arguments.length===1){for(var F=arguments[0],nt=0,xt=this.iterator();xt.hasNext();)xt.next().getEdgeRing()===F&&nt++;return nt}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var y=Vt.NONE,C=this.iterator();C.hasNext();){var F=C.next(),nt=F.getSym();if(!F.isLineEdge()){if(F.isInResult()){y=Vt.INTERIOR;break}if(nt.isInResult()){y=Vt.EXTERIOR;break}}}if(y===Vt.NONE)return null;for(var xt=y,Dt=this.iterator();Dt.hasNext();){var re=Dt.next(),_e=re.getSym();re.isLineEdge()?re.getEdge().setCovered(xt===Vt.INTERIOR):(re.isInResult()&&(xt=Vt.EXTERIOR),_e.isInResult()&&(xt=Vt.INTERIOR))}}},{key:"computeLabelling",value:function(y){P(m,"computeLabelling",this,1).call(this,y),this._label=new ti(Vt.NONE);for(var C=this.iterator();C.hasNext();)for(var F=C.next().getEdge().getLabel(),nt=0;nt<2;nt++){var xt=F.getLocation(nt);xt!==Vt.INTERIOR&&xt!==Vt.BOUNDARY||this._label.setLocation(nt,Vt.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(il),Zs=(function(A){function m(){return i(this,m),n(this,m)}return k(m,A),a(m,[{key:"createNode",value:function(y){return new sa(y,new ws)}}])})(wo),mh=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"compareTo",value:function(m){var y=m;return A.compareOriented(this._pts,this._orientation,y._pts,y._orientation)}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var m=arguments[0];this._pts=m,this._orientation=A.orientation(m)}},{key:"orientation",value:function(m){return Mn.increasingDirection(m)===1}},{key:"compareOriented",value:function(m,y,C,F){for(var nt=y?1:-1,xt=F?1:-1,Dt=y?m.length:-1,re=F?C.length:-1,_e=y?0:m.length-1,sr=F?0:C.length-1;;){var _r=m[_e].compareTo(C[sr]);if(_r!==0)return _r;var tn=(_e+=nt)===Dt,In=(sr+=xt)===re;if(tn&&!In)return-1;if(!tn&&In)return 1;if(tn&&In)return 0}}}])})(),Hu=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"print",value:function(A){A.print("MULTILINESTRING ( ");for(var m=0;m<this._edges.size();m++){var y=this._edges.get(m);m>0&&A.print(","),A.print("(");for(var C=y.getCoordinates(),F=0;F<C.length;F++)F>0&&A.print(","),A.print(C[F].x+" "+C[F].y);A.println(")")}A.print(")  ")}},{key:"addAll",value:function(A){for(var m=A.iterator();m.hasNext();)this.add(m.next())}},{key:"findEdgeIndex",value:function(A){for(var m=0;m<this._edges.size();m++)if(this._edges.get(m).equals(A))return m;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(A){return this._edges.get(A)}},{key:"findEqualEdge",value:function(A){var m=new mh(A.getCoordinates());return this._ocaMap.get(m)}},{key:"add",value:function(A){this._edges.add(A);var m=new mh(A.getCoordinates());this._ocaMap.put(m,A)}}],[{key:"constructor_",value:function(){this._edges=new Bt,this._ocaMap=new ei}}])})(),qc=(function(){return a((function A(){i(this,A)}),[{key:"processIntersections",value:function(A,m,y,C){}},{key:"isDone",value:function(){}}])})(),Hl=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"isTrivialIntersection",value:function(m,y,C,F){if(m===C&&this._li.getIntersectionNum()===1){if(A.isAdjacentSegments(y,F))return!0;if(m.isClosed()){var nt=m.size()-1;if(y===0&&F===nt||F===0&&y===nt)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(m,y,C,F){if(m===C&&y===F)return null;this.numTests++;var nt=m.getCoordinates()[y],xt=m.getCoordinates()[y+1],Dt=C.getCoordinates()[F],re=C.getCoordinates()[F+1];this._li.computeIntersection(nt,xt,Dt,re),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(m,y,C,F)||(this._hasIntersection=!0,m.addIntersections(this._li,y,0),C.addIntersections(this._li,F,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[qc]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var m=arguments[0];this._li=m}},{key:"isAdjacentSegments",value:function(m,y){return Math.abs(m-y)===1}}])})(),jo=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(A){A.print(this.coord),A.print(" seg # = "+this.segmentIndex),A.println(" dist = "+this.dist)}},{key:"compareTo",value:function(A){var m=A;return this.compare(m.segmentIndex,m.dist)}},{key:"isEndPoint",value:function(A){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===A}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(A,m){return this.segmentIndex<A?-1:this.segmentIndex>A?1:this.dist<m?-1:this.dist>m?1:0}},{key:"interfaces_",get:function(){return[et]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var A=arguments[0],m=arguments[1],y=arguments[2];this.coord=new Ht(A),this.segmentIndex=m,this.dist=y}}])})(),Ss=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"print",value:function(A){A.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(A)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(A){this.addEndpoints();for(var m=this.iterator(),y=m.next();m.hasNext();){var C=m.next(),F=this.createSplitEdge(y,C);A.add(F),y=C}}},{key:"addEndpoints",value:function(){var A=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[A],A,0)}},{key:"createSplitEdge",value:function(A,m){var y=m.segmentIndex-A.segmentIndex+2,C=this.edge.pts[m.segmentIndex],F=m.dist>0||!m.coord.equals2D(C);F||y--;var nt=new Array(y).fill(null),xt=0;nt[xt++]=new Ht(A.coord);for(var Dt=A.segmentIndex+1;Dt<=m.segmentIndex;Dt++)nt[xt++]=this.edge.pts[Dt];return F&&(nt[xt]=m.coord),new To(nt,new ti(this.edge._label))}},{key:"add",value:function(A,m,y){var C=new jo(A,m,y),F=this._nodeMap.get(C);return F!==null?F:(this._nodeMap.put(C,C),C)}},{key:"isIntersection",value:function(A){for(var m=this.iterator();m.hasNext();)if(m.next().coord.equals(A))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new ei,this.edge=null;var A=arguments[0];this.edge=A}}])})(),Gc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])||A.isTrue(this._matrix[Vt.INTERIOR][Vt.BOUNDARY])||A.isTrue(this._matrix[Vt.BOUNDARY][Vt.INTERIOR])||A.isTrue(this._matrix[Vt.BOUNDARY][Vt.BOUNDARY]))&&this._matrix[Vt.EXTERIOR][Vt.INTERIOR]===or.FALSE&&this._matrix[Vt.EXTERIOR][Vt.BOUNDARY]===or.FALSE}},{key:"isCoveredBy",value:function(){return(A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])||A.isTrue(this._matrix[Vt.INTERIOR][Vt.BOUNDARY])||A.isTrue(this._matrix[Vt.BOUNDARY][Vt.INTERIOR])||A.isTrue(this._matrix[Vt.BOUNDARY][Vt.BOUNDARY]))&&this._matrix[Vt.INTERIOR][Vt.EXTERIOR]===or.FALSE&&this._matrix[Vt.BOUNDARY][Vt.EXTERIOR]===or.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var m=arguments[0],y=0;y<m.length;y++){var C=Math.trunc(y/3),F=y%3;this._matrix[C][F]=or.toDimensionValue(m.charAt(y))}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this._matrix[nt][xt]=Dt}}},{key:"isContains",value:function(){return A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])&&this._matrix[Vt.EXTERIOR][Vt.INTERIOR]===or.FALSE&&this._matrix[Vt.EXTERIOR][Vt.BOUNDARY]===or.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var m=arguments[0],y=0;y<m.length;y++){var C=Math.trunc(y/3),F=y%3;this.setAtLeast(C,F,or.toDimensionValue(m.charAt(y)))}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this._matrix[nt][xt]<Dt&&(this._matrix[nt][xt]=Dt)}}},{key:"setAtLeastIfValid",value:function(m,y,C){m>=0&&y>=0&&this.setAtLeast(m,y,C)}},{key:"isWithin",value:function(){return A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])&&this._matrix[Vt.INTERIOR][Vt.EXTERIOR]===or.FALSE&&this._matrix[Vt.BOUNDARY][Vt.EXTERIOR]===or.FALSE}},{key:"isTouches",value:function(m,y){return m>y?this.isTouches(y,m):(m===or.A&&y===or.A||m===or.L&&y===or.L||m===or.L&&y===or.A||m===or.P&&y===or.A||m===or.P&&y===or.L)&&this._matrix[Vt.INTERIOR][Vt.INTERIOR]===or.FALSE&&(A.isTrue(this._matrix[Vt.INTERIOR][Vt.BOUNDARY])||A.isTrue(this._matrix[Vt.BOUNDARY][Vt.INTERIOR])||A.isTrue(this._matrix[Vt.BOUNDARY][Vt.BOUNDARY]))}},{key:"isOverlaps",value:function(m,y){return m===or.P&&y===or.P||m===or.A&&y===or.A?A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])&&A.isTrue(this._matrix[Vt.INTERIOR][Vt.EXTERIOR])&&A.isTrue(this._matrix[Vt.EXTERIOR][Vt.INTERIOR]):m===or.L&&y===or.L&&this._matrix[Vt.INTERIOR][Vt.INTERIOR]===1&&A.isTrue(this._matrix[Vt.INTERIOR][Vt.EXTERIOR])&&A.isTrue(this._matrix[Vt.EXTERIOR][Vt.INTERIOR])}},{key:"isEquals",value:function(m,y){return m===y&&A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])&&this._matrix[Vt.INTERIOR][Vt.EXTERIOR]===or.FALSE&&this._matrix[Vt.BOUNDARY][Vt.EXTERIOR]===or.FALSE&&this._matrix[Vt.EXTERIOR][Vt.INTERIOR]===or.FALSE&&this._matrix[Vt.EXTERIOR][Vt.BOUNDARY]===or.FALSE}},{key:"toString",value:function(){for(var m=new oa("123456789"),y=0;y<3;y++)for(var C=0;C<3;C++)m.setCharAt(3*y+C,or.toDimensionSymbol(this._matrix[y][C]));return m.toString()}},{key:"setAll",value:function(m){for(var y=0;y<3;y++)for(var C=0;C<3;C++)this._matrix[y][C]=m}},{key:"get",value:function(m,y){return this._matrix[m][y]}},{key:"transpose",value:function(){var m=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=m,m=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=m,m=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=m,this}},{key:"matches",value:function(m){if(m.length!==9)throw new X("Should be length 9: "+m);for(var y=0;y<3;y++)for(var C=0;C<3;C++)if(!A.matches(this._matrix[y][C],m.charAt(3*y+C)))return!1;return!0}},{key:"add",value:function(m){for(var y=0;y<3;y++)for(var C=0;C<3;C++)this.setAtLeast(y,C,m.get(y,C))}},{key:"isDisjoint",value:function(){return this._matrix[Vt.INTERIOR][Vt.INTERIOR]===or.FALSE&&this._matrix[Vt.INTERIOR][Vt.BOUNDARY]===or.FALSE&&this._matrix[Vt.BOUNDARY][Vt.INTERIOR]===or.FALSE&&this._matrix[Vt.BOUNDARY][Vt.BOUNDARY]===or.FALSE}},{key:"isCrosses",value:function(m,y){return m===or.P&&y===or.L||m===or.P&&y===or.A||m===or.L&&y===or.A?A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])&&A.isTrue(this._matrix[Vt.INTERIOR][Vt.EXTERIOR]):m===or.L&&y===or.P||m===or.A&&y===or.P||m===or.A&&y===or.L?A.isTrue(this._matrix[Vt.INTERIOR][Vt.INTERIOR])&&A.isTrue(this._matrix[Vt.EXTERIOR][Vt.INTERIOR]):m===or.L&&y===or.L&&this._matrix[Vt.INTERIOR][Vt.INTERIOR]===0}},{key:"interfaces_",get:function(){return[st]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(or.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var m=arguments[0];A.constructor_.call(this),this.set(m)}else if(arguments[0]instanceof A){var y=arguments[0];A.constructor_.call(this),this._matrix[Vt.INTERIOR][Vt.INTERIOR]=y._matrix[Vt.INTERIOR][Vt.INTERIOR],this._matrix[Vt.INTERIOR][Vt.BOUNDARY]=y._matrix[Vt.INTERIOR][Vt.BOUNDARY],this._matrix[Vt.INTERIOR][Vt.EXTERIOR]=y._matrix[Vt.INTERIOR][Vt.EXTERIOR],this._matrix[Vt.BOUNDARY][Vt.INTERIOR]=y._matrix[Vt.BOUNDARY][Vt.INTERIOR],this._matrix[Vt.BOUNDARY][Vt.BOUNDARY]=y._matrix[Vt.BOUNDARY][Vt.BOUNDARY],this._matrix[Vt.BOUNDARY][Vt.EXTERIOR]=y._matrix[Vt.BOUNDARY][Vt.EXTERIOR],this._matrix[Vt.EXTERIOR][Vt.INTERIOR]=y._matrix[Vt.EXTERIOR][Vt.INTERIOR],this._matrix[Vt.EXTERIOR][Vt.BOUNDARY]=y._matrix[Vt.EXTERIOR][Vt.BOUNDARY],this._matrix[Vt.EXTERIOR][Vt.EXTERIOR]=y._matrix[Vt.EXTERIOR][Vt.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var m=arguments[0],y=arguments[1];return y===or.SYM_DONTCARE||y===or.SYM_TRUE&&(m>=0||m===or.TRUE)||y===or.SYM_FALSE&&m===or.FALSE||y===or.SYM_P&&m===or.P||y===or.SYM_L&&m===or.L||y===or.SYM_A&&m===or.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var C=arguments[1];return new A(arguments[0]).matches(C)}}},{key:"isTrue",value:function(m){return m>=0||m===or.TRUE}}])})(),Es=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(m){return m===null||m.length===0?null:(this.ensureCapacity(this._size+m.length),Ge.arraycopy(m,0,this._data,this._size,m.length),void(this._size+=m.length))}},{key:"ensureCapacity",value:function(m){if(m<=this._data.length)return null;var y=Math.max(m,2*this._data.length);this._data=ze.copyOf(this._data,y)}},{key:"toArray",value:function(){var m=new Array(this._size).fill(null);return Ge.arraycopy(this._data,0,m,0,this._size),m}},{key:"add",value:function(m){this.ensureCapacity(this._size+1),this._data[this._size]=m,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)A.constructor_.call(this,10);else if(arguments.length===1){var m=arguments[0];this._data=new Array(m).fill(null)}}}])})(),Hc=(function(){function A(){i(this,A)}return a(A,[{key:"getChainStartIndices",value:function(m){var y=0,C=new Es(Math.trunc(m.length/2));C.add(y);do{var F=this.findChainEnd(m,y);C.add(F),y=F}while(y<m.length-1);return C.toArray()}},{key:"findChainEnd",value:function(m,y){for(var C=zn.quadrant(m[y],m[y+1]),F=y+1;F<m.length&&zn.quadrant(m[F-1],m[F])===C;)F++;return F-1}},{key:"OLDgetChainStartIndices",value:function(m){var y=0,C=new Bt;C.add(y);do{var F=this.findChainEnd(m,y);C.add(F),y=F}while(y<m.length-1);return A.toIntArray(C)}}],[{key:"toIntArray",value:function(m){for(var y=new Array(m.size()).fill(null),C=0;C<y.length;C++)y[C]=m.get(C).intValue();return y}}])})(),Ps=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(A){var m=this.pts[this.startIndex[A]].x,y=this.pts[this.startIndex[A+1]].x;return m>y?m:y}},{key:"getMinX",value:function(A){var m=this.pts[this.startIndex[A]].x,y=this.pts[this.startIndex[A+1]].x;return m<y?m:y}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var A=arguments[0],m=arguments[1],y=arguments[2],C=arguments[3];this.computeIntersectsForChain(this.startIndex[A],this.startIndex[A+1],m,m.startIndex[y],m.startIndex[y+1],C)}else if(arguments.length===6){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=arguments[4],_e=arguments[5];if(nt-F==1&&re-Dt==1)return _e.addIntersections(this.e,F,xt.e,Dt),null;if(!this.overlaps(F,nt,xt,Dt,re))return null;var sr=Math.trunc((F+nt)/2),_r=Math.trunc((Dt+re)/2);F<sr&&(Dt<_r&&this.computeIntersectsForChain(F,sr,xt,Dt,_r,_e),_r<re&&this.computeIntersectsForChain(F,sr,xt,_r,re,_e)),sr<nt&&(Dt<_r&&this.computeIntersectsForChain(sr,nt,xt,Dt,_r,_e),_r<re&&this.computeIntersectsForChain(sr,nt,xt,_r,re,_e))}}},{key:"overlaps",value:function(A,m,y,C,F){return de.intersects(this.pts[A],this.pts[m],y.pts[C],y.pts[F])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(A,m){for(var y=0;y<this.startIndex.length-1;y++)for(var C=0;C<A.startIndex.length-1;C++)this.computeIntersectsForChain(y,A,C,m)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var A=arguments[0];this.e=A,this.pts=A.getCoordinates();var m=new Hc;this.startIndex=m.getChainStartIndices(this.pts)}}])})(),dc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"getDepth",value:function(m,y){return this._depth[m][y]}},{key:"setDepth",value:function(m,y,C){this._depth[m][y]=C}},{key:"isNull",value:function(){if(arguments.length===0){for(var m=0;m<2;m++)for(var y=0;y<3;y++)if(this._depth[m][y]!==A.NULL_VALUE)return!1;return!0}if(arguments.length===1){var C=arguments[0];return this._depth[C][1]===A.NULL_VALUE}if(arguments.length===2){var F=arguments[0],nt=arguments[1];return this._depth[F][nt]===A.NULL_VALUE}}},{key:"normalize",value:function(){for(var m=0;m<2;m++)if(!this.isNull(m)){var y=this._depth[m][1];this._depth[m][2]<y&&(y=this._depth[m][2]),y<0&&(y=0);for(var C=1;C<3;C++){var F=0;this._depth[m][C]>y&&(F=1),this._depth[m][C]=F}}}},{key:"getDelta",value:function(m){return this._depth[m][Ie.RIGHT]-this._depth[m][Ie.LEFT]}},{key:"getLocation",value:function(m,y){return this._depth[m][y]<=0?Vt.EXTERIOR:Vt.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var m=arguments[0],y=0;y<2;y++)for(var C=1;C<3;C++){var F=m.getLocation(y,C);F!==Vt.EXTERIOR&&F!==Vt.INTERIOR||(this.isNull(y,C)?this._depth[y][C]=A.depthAtLocation(F):this._depth[y][C]+=A.depthAtLocation(F))}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1];arguments[2]===Vt.INTERIOR&&this._depth[nt][xt]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var m=0;m<2;m++)for(var y=0;y<3;y++)this._depth[m][y]=A.NULL_VALUE}},{key:"depthAtLocation",value:function(m){return m===Vt.EXTERIOR?0:m===Vt.INTERIOR?1:A.NULL_VALUE}}])})();dc.NULL_VALUE=-1;var To=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var y=new Array(2).fill(null);return y[0]=this.pts[0],y[1]=this.pts[1],new m(y,ti.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(y){this._isIsolated=y}},{key:"setName",value:function(y){this._name=y}},{key:"equals",value:function(y){if(!(y instanceof m))return!1;var C=y;if(this.pts.length!==C.pts.length)return!1;for(var F=!0,nt=!0,xt=this.pts.length,Dt=0;Dt<this.pts.length;Dt++)if(this.pts[Dt].equals2D(C.pts[Dt])||(F=!1),this.pts[Dt].equals2D(C.pts[--xt])||(nt=!1),!F&&!nt)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var y=arguments[0];return this.pts[y]}}},{key:"print",value:function(y){y.print("edge "+this._name+": "),y.print("LINESTRING (");for(var C=0;C<this.pts.length;C++)C>0&&y.print(","),y.print(this.pts[C].x+" "+this.pts[C].y);y.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(y){m.updateIM(this._label,y)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(y){y.print("edge "+this._name+": ");for(var C=this.pts.length-1;C>=0;C--)y.print(this.pts[C]+" ");y.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Ps(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new de;for(var y=0;y<this.pts.length;y++)this._env.expandToInclude(this.pts[y])}return this._env}},{key:"addIntersection",value:function(y,C,F,nt){var xt=new Ht(y.getIntersection(nt)),Dt=C,re=y.getEdgeDistance(F,nt),_e=Dt+1;if(_e<this.pts.length){var sr=this.pts[_e];xt.equals2D(sr)&&(Dt=_e,re=0)}this.eiList.add(xt,Dt,re)}},{key:"toString",value:function(){var y=new oa;y.append("edge "+this._name+": "),y.append("LINESTRING (");for(var C=0;C<this.pts.length;C++)C>0&&y.append(","),y.append(this.pts[C].x+" "+this.pts[C].y);return y.append(")  "+this._label+" "+this._depthDelta),y.toString()}},{key:"isPointwiseEqual",value:function(y){if(this.pts.length!==y.pts.length)return!1;for(var C=0;C<this.pts.length;C++)if(!this.pts[C].equals2D(y.pts[C]))return!1;return!0}},{key:"setDepthDelta",value:function(y){this._depthDelta=y}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(y,C,F){for(var nt=0;nt<y.getIntersectionNum();nt++)this.addIntersection(y,C,F,nt)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Ss(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new dc,this._depthDelta=0,arguments.length===1){var y=arguments[0];m.constructor_.call(this,y,null)}else if(arguments.length===2){var C=arguments[0],F=arguments[1];this.pts=C,this._label=F}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Gc&&arguments[0]instanceof ti))return P(m,"updateIM",this).apply(this,arguments);var y=arguments[0],C=arguments[1];C.setAtLeastIfValid(y.getLocation(0,Ie.ON),y.getLocation(1,Ie.ON),1),y.isArea()&&(C.setAtLeastIfValid(y.getLocation(0,Ie.LEFT),y.getLocation(1,Ie.LEFT),2),C.setAtLeastIfValid(y.getLocation(0,Ie.RIGHT),y.getLocation(1,Ie.RIGHT),2))}}])})(yi),fc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"setWorkingPrecisionModel",value:function(m){this._workingPrecisionModel=m}},{key:"insertUniqueEdge",value:function(m){var y=this._edgeList.findEqualEdge(m);if(y!==null){var C=y.getLabel(),F=m.getLabel();y.isPointwiseEqual(m)||(F=new ti(m.getLabel())).flip(),C.merge(F);var nt=A.depthDelta(F),xt=y.getDepthDelta()+nt;y.setDepthDelta(xt)}else this._edgeList.add(m),m.setDepthDelta(A.depthDelta(m.getLabel()))}},{key:"buildSubgraphs",value:function(m,y){for(var C=new Bt,F=m.iterator();F.hasNext();){var nt=F.next(),xt=nt.getRightmostCoordinate(),Dt=new Gl(C).getDepth(xt);nt.computeDepth(Dt),nt.findResultEdges(),C.add(nt),y.add(nt.getDirectedEdges(),nt.getNodes())}}},{key:"createSubgraphs",value:function(m){for(var y=new Bt,C=m.getNodes().iterator();C.hasNext();){var F=C.next();if(!F.isVisited()){var nt=new ye;nt.create(F),y.add(nt)}}return Bo.sort(y,Bo.reverseOrder()),y}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(m){if(this._workingNoder!==null)return this._workingNoder;var y=new wc,C=new En;return C.setPrecisionModel(m),y.setSegmentIntersector(new Hl(C)),y}},{key:"buffer",value:function(m,y){var C=this._workingPrecisionModel;C===null&&(C=m.getPrecisionModel()),this._geomFact=m.getFactory();var F=new vu(C,this._bufParams),nt=new Vc(m,y,F).getCurves();if(nt.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(nt,C),this._graph=new po(new Zs),this._graph.addEdges(this._edgeList.getEdges());var xt=this.createSubgraphs(this._graph),Dt=new _c(this._geomFact);this.buildSubgraphs(xt,Dt);var re=Dt.getPolygons();return re.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(re)}},{key:"computeNodedEdges",value:function(m,y){var C=this.getNoder(y);C.computeNodes(m);for(var F=C.getNodedSubstrings().iterator();F.hasNext();){var nt=F.next(),xt=nt.getCoordinates();if(xt.length!==2||!xt[0].equals2D(xt[1])){var Dt=nt.getData(),re=new To(nt.getCoordinates(),new ti(Dt));this.insertUniqueEdge(re)}}}},{key:"setNoder",value:function(m){this._workingNoder=m}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hu;var m=arguments[0];this._bufParams=m}},{key:"depthDelta",value:function(m){var y=m.getLocation(0,Ie.LEFT),C=m.getLocation(0,Ie.RIGHT);return y===Vt.INTERIOR&&C===Vt.EXTERIOR?1:y===Vt.EXTERIOR&&C===Vt.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(m){for(var y=new Ks,C=new Bt;m.hasNext();){var F=m.next(),nt=y.createLineString(F.getCoordinates());C.add(nt)}return y.buildGeometry(C)}}])})(),pc=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"rescale",value:function(){if(Ir(arguments[0],He))for(var m=arguments[0].iterator();m.hasNext();){var y=m.next();this.rescale(y.getCoordinates())}else if(arguments[0]instanceof Array){for(var C=arguments[0],F=0;F<C.length;F++)C[F].x=C[F].x/this._scaleFactor+this._offsetX,C[F].y=C[F].y/this._scaleFactor+this._offsetY;C.length===2&&C[0].equals2D(C[1])&&Ge.out.println(C)}}},{key:"scale",value:function(){if(Ir(arguments[0],He)){for(var m=arguments[0],y=new Bt(m.size()),C=m.iterator();C.hasNext();){var F=C.next();y.add(new xa(this.scale(F.getCoordinates()),F.getData()))}return y}if(arguments[0]instanceof Array){for(var nt=arguments[0],xt=new Array(nt.length).fill(null),Dt=0;Dt<nt.length;Dt++)xt[Dt]=new Ht(Math.round((nt[Dt].x-this._offsetX)*this._scaleFactor),Math.round((nt[Dt].y-this._offsetY)*this._scaleFactor),nt[Dt].getZ());return Mn.removeRepeatedPoints(xt)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var m=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(m),m}},{key:"computeNodes",value:function(m){var y=m;this._isScaled&&(y=this.scale(m)),this._noder.computeNodes(y)}},{key:"interfaces_",get:function(){return[ao]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var m=arguments[0],y=arguments[1];A.constructor_.call(this,m,y,0,0)}else if(arguments.length===4){var C=arguments[0],F=arguments[1];this._noder=C,this._scaleFactor=F,this._isScaled=!this.isIntegerPrecision()}}}])})(),Al=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var m=this._segStrings.iterator();m.hasNext();){var y=m.next().getCoordinates();this.checkEndPtVertexIntersections(y[0],this._segStrings),this.checkEndPtVertexIntersections(y[y.length-1],this._segStrings)}else if(arguments.length===2){for(var C=arguments[0],F=arguments[1].iterator();F.hasNext();)for(var nt=F.next().getCoordinates(),xt=1;xt<nt.length-1;xt++)if(nt[xt].equals(C))throw new lt("found endpt/interior pt intersection at index "+xt+" :pt "+C)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var m=this._segStrings.iterator();m.hasNext();)for(var y=m.next(),C=this._segStrings.iterator();C.hasNext();){var F=C.next();this.checkInteriorIntersections(y,F)}else if(arguments.length===2)for(var nt=arguments[0],xt=arguments[1],Dt=nt.getCoordinates(),re=xt.getCoordinates(),_e=0;_e<Dt.length-1;_e++)for(var sr=0;sr<re.length-1;sr++)this.checkInteriorIntersections(nt,_e,xt,sr);else if(arguments.length===4){var _r=arguments[0],tn=arguments[1],In=arguments[2],Qn=arguments[3];if(_r===In&&tn===Qn)return null;var hi=_r.getCoordinates()[tn],Kn=_r.getCoordinates()[tn+1],Hn=In.getCoordinates()[Qn],ma=In.getCoordinates()[Qn+1];if(this._li.computeIntersection(hi,Kn,Hn,ma),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,hi,Kn)||this.hasInteriorIntersection(this._li,Hn,ma)))throw new lt("found non-noded intersection at "+hi+"-"+Kn+" and "+Hn+"-"+ma)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var m=this._segStrings.iterator();m.hasNext();){var y=m.next();this.checkCollapses(y)}else if(arguments.length===1)for(var C=arguments[0].getCoordinates(),F=0;F<C.length-2;F++)this.checkCollapse(C[F],C[F+1],C[F+2])}},{key:"hasInteriorIntersection",value:function(m,y,C){for(var F=0;F<m.getIntersectionNum();F++){var nt=m.getIntersection(F);if(!nt.equals(y)&&!nt.equals(C))return!0}return!1}},{key:"checkCollapse",value:function(m,y,C){if(m.equals(C))throw new lt("found non-noded collapse at "+A.fact.createLineString([m,y,C]))}}],[{key:"constructor_",value:function(){this._li=new En,this._segStrings=null;var m=arguments[0];this._segStrings=m}}])})();Al.fact=new Ks;var _u=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"intersectsScaled",value:function(m,y){var C=Math.min(m.x,y.x),F=Math.max(m.x,y.x),nt=Math.min(m.y,y.y),xt=Math.max(m.y,y.y),Dt=this._maxx<C||this._minx>F||this._maxy<nt||this._miny>xt;if(Dt)return!1;var re=this.intersectsToleranceSquare(m,y);return kt.isTrue(!(Dt&&re),"Found bad envelope test"),re}},{key:"initCorners",value:function(m){var y=.5;this._minx=m.x-y,this._maxx=m.x+y,this._miny=m.y-y,this._maxy=m.y+y,this._corner[0]=new Ht(this._maxx,this._maxy),this._corner[1]=new Ht(this._minx,this._maxy),this._corner[2]=new Ht(this._minx,this._miny),this._corner[3]=new Ht(this._maxx,this._miny)}},{key:"intersects",value:function(m,y){return this._scaleFactor===1?this.intersectsScaled(m,y):(this.copyScaled(m,this._p0Scaled),this.copyScaled(y,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(m){return Math.round(m*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(m,y){y.x=this.scale(m.x),y.y=this.scale(m.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var m=A.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new de(this._originalPt.x-m,this._originalPt.x+m,this._originalPt.y-m,this._originalPt.y+m)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(m,y){return this._li.computeIntersection(m,y,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(m,y,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(m,y,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(m,y,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(m,y){var C=!1,F=!1;return this._li.computeIntersection(m,y,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(m,y,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(C=!0),this._li.computeIntersection(m,y,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(F=!0),this._li.computeIntersection(m,y,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!C||!F)||!!m.equals(this._pt)||!!y.equals(this._pt))))}},{key:"addSnappedNode",value:function(m,y){var C=m.getCoordinate(y),F=m.getCoordinate(y+1);return!!this.intersects(C,F)&&(m.addIntersection(this.getCoordinate(),y),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var m=arguments[0],y=arguments[1],C=arguments[2];if(this._originalPt=m,this._pt=m,this._scaleFactor=y,this._li=C,y<=0)throw new X("Scale factor must be non-zero");y!==1&&(this._pt=new Ht(this.scale(m.x),this.scale(m.y)),this._p0Scaled=new Ht,this._p1Scaled=new Ht),this.initCorners(this._pt)}}])})();_u.SAFE_ENV_EXPANSION_FACTOR=.75;var Xu=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1&&arguments.length===2){var A=arguments[1];arguments[0].getLineSegment(A,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Oi}}])})(),Ec=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var A=arguments[0];return this.snap(A,null,-1)}if(arguments.length===3){var m=arguments[0],y=arguments[1],C=arguments[2],F=m.getSafeEnvelope(),nt=new xu(m,y,C);return this._index.query(F,new((function(){return a((function xt(){i(this,xt)}),[{key:"interfaces_",get:function(){return[ct]}},{key:"visitItem",value:function(xt){xt.select(F,nt)}}])})())),nt.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var A=arguments[0];this._index=A}}])})(),xu=(function(A){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,A),a(m,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Lo))return P(m,"select",this,1).apply(this,arguments);var y=arguments[1],C=arguments[0].getContext();if(this._parentEdge===C&&(y===this._hotPixelVertexIndex||y+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(C,y)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var y=arguments[0],C=arguments[1],F=arguments[2];this._hotPixel=y,this._parentEdge=C,this._hotPixelVertexIndex=F}}])})(Xu);Ec.HotPixelSnapAction=xu;var Ts=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(A,m,y,C){if(A===y&&m===C)return null;var F=A.getCoordinates()[m],nt=A.getCoordinates()[m+1],xt=y.getCoordinates()[C],Dt=y.getCoordinates()[C+1];if(this._li.computeIntersection(F,nt,xt,Dt),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var re=0;re<this._li.getIntersectionNum();re++)this._interiorIntersections.add(this._li.getIntersection(re));A.addIntersections(this._li,m,0),y.addIntersections(this._li,C,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[qc]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var A=arguments[0];this._li=A,this._interiorIntersections=new Bt}}])})(),lr=(function(){return a((function A(){i(this,A),A.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(A){var m=xa.getNodedSubstrings(A),y=new Al(m);try{y.checkValid()}catch(C){if(!(C instanceof j))throw C;C.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return xa.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(A,m){var y=this.findInteriorIntersections(A,m);this.computeIntersectionSnaps(y),this.computeVertexSnaps(A)}},{key:"findInteriorIntersections",value:function(A,m){var y=new Ts(m);return this._noder.setSegmentIntersector(y),this._noder.computeNodes(A),y.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Ir(arguments[0],He))for(var A=arguments[0].iterator();A.hasNext();){var m=A.next();this.computeVertexSnaps(m)}else if(arguments[0]instanceof xa)for(var y=arguments[0],C=y.getCoordinates(),F=0;F<C.length;F++){var nt=new _u(C[F],this._scaleFactor,this._li);this._pointSnapper.snap(nt,y,F)&&y.addIntersection(C[F],F)}}},{key:"computeNodes",value:function(A){this._nodedSegStrings=A,this._noder=new wc,this._pointSnapper=new Ec(this._noder.getIndex()),this.snapRound(A,this._li)}},{key:"computeIntersectionSnaps",value:function(A){for(var m=A.iterator();m.hasNext();){var y=m.next(),C=new _u(y,this._scaleFactor,this._li);this._pointSnapper.snap(C)}}},{key:"interfaces_",get:function(){return[ao]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var A=arguments[0];this._pm=A,this._li=new En,this._li.setPrecisionModel(A),this._scaleFactor=A.getScale()}}])})(),mr=(function(){function A(){i(this,A),A.constructor_.apply(this,arguments)}return a(A,[{key:"bufferFixedPrecision",value:function(m){var y=new pc(new lr(new Pi(1)),m.getScale()),C=new fc(this._bufParams);C.setWorkingPrecisionModel(m),C.setNoder(y),this._resultGeometry=C.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var m=A.MAX_PRECISION_DIGITS;m>=0;m--){try{this.bufferReducedPrecision(m)}catch(nt){if(!(nt instanceof Ft))throw nt;this._saveException=nt}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var y=arguments[0],C=A.precisionScaleFactor(this._argGeom,this._distance,y),F=new Pi(C);this.bufferFixedPrecision(F)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var m=this._argGeom.getFactory().getPrecisionModel();m.getType()===Pi.FIXED?this.bufferFixedPrecision(m):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(m){this._bufParams.setQuadrantSegments(m)}},{key:"bufferOriginalPrecision",value:function(){try{var m=new fc(this._bufParams);this._resultGeometry=m.buffer(this._argGeom,this._distance)}catch(y){if(!(y instanceof lt))throw y;this._saveException=y}}},{key:"getResultGeometry",value:function(m){return this._distance=m,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(m){this._bufParams.setEndCapStyle(m)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new z,this._resultGeometry=null,this._saveException=null,arguments.length===1){var m=arguments[0];this._argGeom=m}else if(arguments.length===2){var y=arguments[0],C=arguments[1];this._argGeom=y,this._bufParams=C}}},{key:"bufferOp",value:function(){if(arguments.length===2){var m=arguments[1];return new A(arguments[0]).getResultGeometry(m)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Se&&typeof arguments[1]=="number"){var y=arguments[1],C=arguments[2],F=new A(arguments[0]);return F.setQuadrantSegments(C),F.getResultGeometry(y)}if(arguments[2]instanceof z&&arguments[0]instanceof Se&&typeof arguments[1]=="number"){var nt=arguments[1];return new A(arguments[0],arguments[2]).getResultGeometry(nt)}}else if(arguments.length===4){var xt=arguments[1],Dt=arguments[2],re=arguments[3],_e=new A(arguments[0]);return _e.setQuadrantSegments(Dt),_e.setEndCapStyle(re),_e.getResultGeometry(xt)}}},{key:"precisionScaleFactor",value:function(m,y,C){var F=m.getEnvelopeInternal(),nt=Ue.max(Math.abs(F.getMaxX()),Math.abs(F.getMaxY()),Math.abs(F.getMinX()),Math.abs(F.getMinY()))+2*(y>0?y:0),xt=C-Math.trunc(Math.log(nt)/Math.log(10)+1);return Math.pow(10,xt)}}])})();mr.CAP_ROUND=z.CAP_ROUND,mr.CAP_BUTT=z.CAP_FLAT,mr.CAP_FLAT=z.CAP_FLAT,mr.CAP_SQUARE=z.CAP_SQUARE,mr.MAX_PRECISION_DIGITS=12;var An=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Dn=(function(){return a((function A(m){i(this,A),this.geometryFactory=m||new Ks}),[{key:"read",value:function(A){var m,y=(m=typeof A=="string"?JSON.parse(A):A).type;if(!Ni[y])throw new Error("Unknown GeoJSON type: "+m.type);return An.indexOf(y)!==-1?Ni[y].call(this,m.coordinates):y==="GeometryCollection"?Ni[y].call(this,m.geometries):Ni[y].call(this,m)}},{key:"write",value:function(A){var m=A.getGeometryType();if(!$n[m])throw new Error("Geometry is not supported");return $n[m].call(this,A)}}])})(),Ni={Feature:function(A){var m={};for(var y in A)m[y]=A[y];if(A.geometry){var C=A.geometry.type;if(!Ni[C])throw new Error("Unknown GeoJSON type: "+A.type);m.geometry=this.read(A.geometry)}return A.bbox&&(m.bbox=Ni.bbox.call(this,A.bbox)),m},FeatureCollection:function(A){var m={};if(A.features){m.features=[];for(var y=0;y<A.features.length;++y)m.features.push(this.read(A.features[y]))}return A.bbox&&(m.bbox=this.parse.bbox.call(this,A.bbox)),m},coordinates:function(A){for(var m=[],y=0;y<A.length;++y){var C=A[y];m.push(o(Ht,D(C)))}return m},bbox:function(A){return this.geometryFactory.createLinearRing([new Ht(A[0],A[1]),new Ht(A[2],A[1]),new Ht(A[2],A[3]),new Ht(A[0],A[3]),new Ht(A[0],A[1])])},Point:function(A){var m=o(Ht,D(A));return this.geometryFactory.createPoint(m)},MultiPoint:function(A){for(var m=[],y=0;y<A.length;++y)m.push(Ni.Point.call(this,A[y]));return this.geometryFactory.createMultiPoint(m)},LineString:function(A){var m=Ni.coordinates.call(this,A);return this.geometryFactory.createLineString(m)},MultiLineString:function(A){for(var m=[],y=0;y<A.length;++y)m.push(Ni.LineString.call(this,A[y]));return this.geometryFactory.createMultiLineString(m)},Polygon:function(A){for(var m=Ni.coordinates.call(this,A[0]),y=this.geometryFactory.createLinearRing(m),C=[],F=1;F<A.length;++F){var nt=A[F],xt=Ni.coordinates.call(this,nt),Dt=this.geometryFactory.createLinearRing(xt);C.push(Dt)}return this.geometryFactory.createPolygon(y,C)},MultiPolygon:function(A){for(var m=[],y=0;y<A.length;++y){var C=A[y];m.push(Ni.Polygon.call(this,C))}return this.geometryFactory.createMultiPolygon(m)},GeometryCollection:function(A){for(var m=[],y=0;y<A.length;++y){var C=A[y];m.push(this.read(C))}return this.geometryFactory.createGeometryCollection(m)}},$n={coordinate:function(A){var m=[A.x,A.y];return A.z&&m.push(A.z),A.m&&m.push(A.m),m},Point:function(A){return{type:"Point",coordinates:$n.coordinate.call(this,A.getCoordinate())}},MultiPoint:function(A){for(var m=[],y=0;y<A._geometries.length;++y){var C=A._geometries[y],F=$n.Point.call(this,C);m.push(F.coordinates)}return{type:"MultiPoint",coordinates:m}},LineString:function(A){for(var m=[],y=A.getCoordinates(),C=0;C<y.length;++C){var F=y[C];m.push($n.coordinate.call(this,F))}return{type:"LineString",coordinates:m}},MultiLineString:function(A){for(var m=[],y=0;y<A._geometries.length;++y){var C=A._geometries[y],F=$n.LineString.call(this,C);m.push(F.coordinates)}return{type:"MultiLineString",coordinates:m}},Polygon:function(A){var m=[],y=$n.LineString.call(this,A._shell);m.push(y.coordinates);for(var C=0;C<A._holes.length;++C){var F=A._holes[C],nt=$n.LineString.call(this,F);m.push(nt.coordinates)}return{type:"Polygon",coordinates:m}},MultiPolygon:function(A){for(var m=[],y=0;y<A._geometries.length;++y){var C=A._geometries[y],F=$n.Polygon.call(this,C);m.push(F.coordinates)}return{type:"MultiPolygon",coordinates:m}},GeometryCollection:function(A){for(var m=[],y=0;y<A._geometries.length;++y){var C=A._geometries[y],F=C.getGeometryType();m.push($n[F].call(this,C))}return{type:"GeometryCollection",geometries:m}}};return{BufferOp:mr,GeoJSONReader:(function(){return a((function A(m){i(this,A),this.parser=new Dn(m||new Ks)}),[{key:"read",value:function(A){return this.parser.read(A)}}])})(),GeoJSONWriter:(function(){return a((function A(){i(this,A),this.parser=new Dn(this.geometryFactory)}),[{key:"write",value:function(A){return this.parser.write(A)}}])})()}}))})(RL)),RL.exports}var ppt=fpt();const mpt=Mw(ppt);function By(){return new yT}function yT(){this.reset()}yT.prototype={constructor:yT,reset:function(){this.s=this.t=0},add:function(t){Mz(P5,t,this.t),Mz(this,P5.s,this.s),this.s?this.t+=P5.t:this.s=P5.t},valueOf:function(){return this.s}};var P5=new yT;function Mz(t,e,r){var n=t.s=e+r,i=n-e,o=n-i;t.t=e-o+(r-i)}var NL=Math.PI,Pz=NL*2;By();By();By();function Oz(t,e){return[t>NL?t-Pz:t<-NL?t+Pz:t,e]}Oz.invert=Oz;function YG(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gpt(t){return t.length===1&&(t=ypt(t)),{left:function(e,r,n,i){for(n==null&&(n=0),i==null&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)<0?n=o+1:i=o}return n},right:function(e,r,n,i){for(n==null&&(n=0),i==null&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)>0?i=o:n=o+1}return n}}}function ypt(t){return function(e,r){return YG(t(e),r)}}gpt(YG);By();By();By();By();By();function Dz(){}Dz.prototype={constructor:Dz,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Bz(t,e){return[t,e]}Bz.invert=Bz;var{BufferOp:E4t,GeoJSONReader:T4t,GeoJSONWriter:C4t}=mpt,O5={exports:{}},LL={exports:{}},vpt=LL.exports,zz;function bpt(){return zz||(zz=1,(function(t,e){(function(r,n){t.exports=n()})(vpt,function(){function r(G,z,j,X,Y){(function et(st,it,vt,at,V){for(;at>vt;){if(at-vt>600){var dt=at-vt+1,mt=it-vt+1,wt=Math.log(dt),pt=.5*Math.exp(2*wt/3),At=.5*Math.sqrt(wt*pt*(dt-pt)/dt)*(mt-dt/2<0?-1:1),St=Math.max(vt,Math.floor(it-mt*pt/dt+At)),Lt=Math.min(at,Math.floor(it+(dt-mt)*pt/dt+At));et(st,it,St,Lt,V)}var jt=st[it],_t=vt,lt=at;for(n(st,vt,it),V(st[at],jt)>0&&n(st,vt,at);_t<lt;){for(n(st,_t,lt),_t++,lt--;V(st[_t],jt)<0;)_t++;for(;V(st[lt],jt)>0;)lt--}V(st[vt],jt)===0?n(st,vt,lt):n(st,++lt,at),lt<=it&&(vt=lt+1),it<=lt&&(at=lt-1)}})(G,z,j||0,X||G.length-1,Y||i)}function n(G,z,j){var X=G[z];G[z]=G[j],G[j]=X}function i(G,z){return G<z?-1:G>z?1:0}var o=function(G){G===void 0&&(G=9),this._maxEntries=Math.max(4,G),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function c(G,z,j){if(!j)return z.indexOf(G);for(var X=0;X<z.length;X++)if(j(G,z[X]))return X;return-1}function a(G,z){g(G,0,G.children.length,z,G)}function g(G,z,j,X,Y){Y||(Y=U(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var et=z;et<j;et++){var st=G.children[et];v(Y,G.leaf?X(st):st)}return Y}function v(G,z){return G.minX=Math.min(G.minX,z.minX),G.minY=Math.min(G.minY,z.minY),G.maxX=Math.max(G.maxX,z.maxX),G.maxY=Math.max(G.maxY,z.maxY),G}function x(G,z){return G.minX-z.minX}function k(G,z){return G.minY-z.minY}function I(G){return(G.maxX-G.minX)*(G.maxY-G.minY)}function S(G){return G.maxX-G.minX+(G.maxY-G.minY)}function P(G,z){return G.minX<=z.minX&&G.minY<=z.minY&&z.maxX<=G.maxX&&z.maxY<=G.maxY}function D(G,z){return z.minX<=G.maxX&&z.minY<=G.maxY&&z.maxX>=G.minX&&z.maxY>=G.minY}function U(G){return{children:G,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H(G,z,j,X,Y){for(var et=[z,j];et.length;)if(!((j=et.pop())-(z=et.pop())<=X)){var st=z+Math.ceil((j-z)/X/2)*X;r(G,st,z,j,Y),et.push(z,st,st,j)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(G){var z=this.data,j=[];if(!D(G,z))return j;for(var X=this.toBBox,Y=[];z;){for(var et=0;et<z.children.length;et++){var st=z.children[et],it=z.leaf?X(st):st;D(G,it)&&(z.leaf?j.push(st):P(G,it)?this._all(st,j):Y.push(st))}z=Y.pop()}return j},o.prototype.collides=function(G){var z=this.data;if(!D(G,z))return!1;for(var j=[];z;){for(var X=0;X<z.children.length;X++){var Y=z.children[X],et=z.leaf?this.toBBox(Y):Y;if(D(G,et)){if(z.leaf||P(G,et))return!0;j.push(Y)}}z=j.pop()}return!1},o.prototype.load=function(G){if(!G||!G.length)return this;if(G.length<this._minEntries){for(var z=0;z<G.length;z++)this.insert(G[z]);return this}var j=this._build(G.slice(),0,G.length-1,0);if(this.data.children.length)if(this.data.height===j.height)this._splitRoot(this.data,j);else{if(this.data.height<j.height){var X=this.data;this.data=j,j=X}this._insert(j,this.data.height-j.height-1,!0)}else this.data=j;return this},o.prototype.insert=function(G){return G&&this._insert(G,this.data.height-1),this},o.prototype.clear=function(){return this.data=U([]),this},o.prototype.remove=function(G,z){if(!G)return this;for(var j,X,Y,et=this.data,st=this.toBBox(G),it=[],vt=[];et||it.length;){if(et||(et=it.pop(),X=it[it.length-1],j=vt.pop(),Y=!0),et.leaf){var at=c(G,et.children,z);if(at!==-1)return et.children.splice(at,1),it.push(et),this._condense(it),this}Y||et.leaf||!P(et,st)?X?(j++,et=X.children[j],Y=!1):et=null:(it.push(et),vt.push(j),j=0,X=et,et=et.children[0])}return this},o.prototype.toBBox=function(G){return G},o.prototype.compareMinX=function(G,z){return G.minX-z.minX},o.prototype.compareMinY=function(G,z){return G.minY-z.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(G){return this.data=G,this},o.prototype._all=function(G,z){for(var j=[];G;)G.leaf?z.push.apply(z,G.children):j.push.apply(j,G.children),G=j.pop();return z},o.prototype._build=function(G,z,j,X){var Y,et=j-z+1,st=this._maxEntries;if(et<=st)return a(Y=U(G.slice(z,j+1)),this.toBBox),Y;X||(X=Math.ceil(Math.log(et)/Math.log(st)),st=Math.ceil(et/Math.pow(st,X-1))),(Y=U([])).leaf=!1,Y.height=X;var it=Math.ceil(et/st),vt=it*Math.ceil(Math.sqrt(st));H(G,z,j,vt,this.compareMinX);for(var at=z;at<=j;at+=vt){var V=Math.min(at+vt-1,j);H(G,at,V,it,this.compareMinY);for(var dt=at;dt<=V;dt+=it){var mt=Math.min(dt+it-1,V);Y.children.push(this._build(G,dt,mt,X-1))}}return a(Y,this.toBBox),Y},o.prototype._chooseSubtree=function(G,z,j,X){for(;X.push(z),!z.leaf&&X.length-1!==j;){for(var Y=1/0,et=1/0,st=void 0,it=0;it<z.children.length;it++){var vt=z.children[it],at=I(vt),V=(dt=G,mt=vt,(Math.max(mt.maxX,dt.maxX)-Math.min(mt.minX,dt.minX))*(Math.max(mt.maxY,dt.maxY)-Math.min(mt.minY,dt.minY))-at);V<et?(et=V,Y=at<Y?at:Y,st=vt):V===et&&at<Y&&(Y=at,st=vt)}z=st||z.children[0]}var dt,mt;return z},o.prototype._insert=function(G,z,j){var X=j?G:this.toBBox(G),Y=[],et=this._chooseSubtree(X,this.data,z,Y);for(et.children.push(G),v(et,X);z>=0&&Y[z].children.length>this._maxEntries;)this._split(Y,z),z--;this._adjustParentBBoxes(X,Y,z)},o.prototype._split=function(G,z){var j=G[z],X=j.children.length,Y=this._minEntries;this._chooseSplitAxis(j,Y,X);var et=this._chooseSplitIndex(j,Y,X),st=U(j.children.splice(et,j.children.length-et));st.height=j.height,st.leaf=j.leaf,a(j,this.toBBox),a(st,this.toBBox),z?G[z-1].children.push(st):this._splitRoot(j,st)},o.prototype._splitRoot=function(G,z){this.data=U([G,z]),this.data.height=G.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(G,z,j){for(var X,Y,et,st,it,vt,at,V=1/0,dt=1/0,mt=z;mt<=j-z;mt++){var wt=g(G,0,mt,this.toBBox),pt=g(G,mt,j,this.toBBox),At=(Y=wt,et=pt,st=void 0,it=void 0,vt=void 0,at=void 0,st=Math.max(Y.minX,et.minX),it=Math.max(Y.minY,et.minY),vt=Math.min(Y.maxX,et.maxX),at=Math.min(Y.maxY,et.maxY),Math.max(0,vt-st)*Math.max(0,at-it)),St=I(wt)+I(pt);At<V?(V=At,X=mt,dt=St<dt?St:dt):At===V&&St<dt&&(dt=St,X=mt)}return X||j-z},o.prototype._chooseSplitAxis=function(G,z,j){var X=G.leaf?this.compareMinX:x,Y=G.leaf?this.compareMinY:k;this._allDistMargin(G,z,j,X)<this._allDistMargin(G,z,j,Y)&&G.children.sort(X)},o.prototype._allDistMargin=function(G,z,j,X){G.children.sort(X);for(var Y=this.toBBox,et=g(G,0,z,Y),st=g(G,j-z,j,Y),it=S(et)+S(st),vt=z;vt<j-z;vt++){var at=G.children[vt];v(et,G.leaf?Y(at):at),it+=S(et)}for(var V=j-z-1;V>=z;V--){var dt=G.children[V];v(st,G.leaf?Y(dt):dt),it+=S(st)}return it},o.prototype._adjustParentBBoxes=function(G,z,j){for(var X=j;X>=0;X--)v(z[X],G)},o.prototype._condense=function(G){for(var z=G.length-1,j=void 0;z>=0;z--)G[z].children.length===0?z>0?(j=G[z-1].children).splice(j.indexOf(G[z]),1):this.clear():a(G[z],this.toBBox)},o})})(LL)),LL.exports}class _pt{constructor(e=[],r=xpt){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:n}=this,i=r[e];for(;e>0;){const o=e-1>>1,c=r[o];if(n(i,c)>=0)break;r[e]=c,e=o}r[e]=i}_down(e){const{data:r,compare:n}=this,i=this.length>>1,o=r[e];for(;e<i;){let c=(e<<1)+1,a=r[c];const g=c+1;if(g<this.length&&n(r[g],a)<0&&(c=g,a=r[g]),n(a,o)>=0)break;r[e]=a,e=c}r[e]=o}}function xpt(t,e){return t<e?-1:t>e?1:0}const wpt=Object.freeze(Object.defineProperty({__proto__:null,default:_pt},Symbol.toStringTag,{value:"Module"})),Spt=lU(wpt);var j1={exports:{}},Fz,jz;function Ept(){return jz||(jz=1,Fz=function(t,e,r,n){var i=t[0],o=t[1],c=!1;r===void 0&&(r=0),n===void 0&&(n=e.length);for(var a=(n-r)/2,g=0,v=a-1;g<a;v=g++){var x=e[r+g*2+0],k=e[r+g*2+1],I=e[r+v*2+0],S=e[r+v*2+1],P=k>o!=S>o&&i<(I-x)*(o-k)/(S-k)+x;P&&(c=!c)}return c}),Fz}var $z,Vz;function Tpt(){return Vz||(Vz=1,$z=function(t,e,r,n){var i=t[0],o=t[1],c=!1;r===void 0&&(r=0),n===void 0&&(n=e.length);for(var a=n-r,g=0,v=a-1;g<a;v=g++){var x=e[g+r][0],k=e[g+r][1],I=e[v+r][0],S=e[v+r][1],P=k>o!=S>o&&i<(I-x)*(o-k)/(S-k)+x;P&&(c=!c)}return c}),$z}var Uz;function Cpt(){if(Uz)return j1.exports;Uz=1;var t=Ept(),e=Tpt();return j1.exports=function(r,n,i,o){return n.length>0&&Array.isArray(n[0])?e(r,n,i,o):t(r,n,i,o)},j1.exports.nested=e,j1.exports.flat=t,j1.exports}var wE={exports:{}},Apt=wE.exports,qz;function kpt(){return qz||(qz=1,(function(t,e){(function(r,n){n(e)})(Apt,function(r){const n=33306690738754706e-32;function i(P,D,U,H,G){let z,j,X,Y,et=D[0],st=H[0],it=0,vt=0;st>et==st>-et?(z=et,et=D[++it]):(z=st,st=H[++vt]);let at=0;if(it<P&&vt<U)for(st>et==st>-et?(X=z-((j=et+z)-et),et=D[++it]):(X=z-((j=st+z)-st),st=H[++vt]),z=j,X!==0&&(G[at++]=X);it<P&&vt<U;)st>et==st>-et?(X=z-((j=z+et)-(Y=j-z))+(et-Y),et=D[++it]):(X=z-((j=z+st)-(Y=j-z))+(st-Y),st=H[++vt]),z=j,X!==0&&(G[at++]=X);for(;it<P;)X=z-((j=z+et)-(Y=j-z))+(et-Y),et=D[++it],z=j,X!==0&&(G[at++]=X);for(;vt<U;)X=z-((j=z+st)-(Y=j-z))+(st-Y),st=H[++vt],z=j,X!==0&&(G[at++]=X);return z===0&&at!==0||(G[at++]=z),at}function o(P){return new Float64Array(P)}const c=33306690738754716e-32,a=22204460492503146e-32,g=11093356479670487e-47,v=o(4),x=o(8),k=o(12),I=o(16),S=o(4);r.orient2d=function(P,D,U,H,G,z){const j=(D-z)*(U-G),X=(P-G)*(H-z),Y=j-X;if(j===0||X===0||j>0!=X>0)return Y;const et=Math.abs(j+X);return Math.abs(Y)>=c*et?Y:-(function(st,it,vt,at,V,dt,mt){let wt,pt,At,St,Lt,jt,_t,lt,Tt,kt,Rt,Ut,ie,Ht,ce,de,Se,Vt;const He=st-V,ke=vt-V,Jt=it-dt,$r=at-dt;Lt=(ce=(lt=He-(_t=(jt=134217729*He)-(jt-He)))*(kt=$r-(Tt=(jt=134217729*$r)-(jt-$r)))-((Ht=He*$r)-_t*Tt-lt*Tt-_t*kt))-(Rt=ce-(Se=(lt=Jt-(_t=(jt=134217729*Jt)-(jt-Jt)))*(kt=ke-(Tt=(jt=134217729*ke)-(jt-ke)))-((de=Jt*ke)-_t*Tt-lt*Tt-_t*kt))),v[0]=ce-(Rt+Lt)+(Lt-Se),Lt=(ie=Ht-((Ut=Ht+Rt)-(Lt=Ut-Ht))+(Rt-Lt))-(Rt=ie-de),v[1]=ie-(Rt+Lt)+(Lt-de),Lt=(Vt=Ut+Rt)-Ut,v[2]=Ut-(Vt-Lt)+(Rt-Lt),v[3]=Vt;let vr=(function(Rr,Pr){let Ir=Pr[0];for(let dr=1;dr<Rr;dr++)Ir+=Pr[dr];return Ir})(4,v),Dr=a*mt;if(vr>=Dr||-vr>=Dr||(wt=st-(He+(Lt=st-He))+(Lt-V),At=vt-(ke+(Lt=vt-ke))+(Lt-V),pt=it-(Jt+(Lt=it-Jt))+(Lt-dt),St=at-($r+(Lt=at-$r))+(Lt-dt),wt===0&&pt===0&&At===0&&St===0)||(Dr=g*mt+n*Math.abs(vr),(vr+=He*St+$r*wt-(Jt*At+ke*pt))>=Dr||-vr>=Dr))return vr;Lt=(ce=(lt=wt-(_t=(jt=134217729*wt)-(jt-wt)))*(kt=$r-(Tt=(jt=134217729*$r)-(jt-$r)))-((Ht=wt*$r)-_t*Tt-lt*Tt-_t*kt))-(Rt=ce-(Se=(lt=pt-(_t=(jt=134217729*pt)-(jt-pt)))*(kt=ke-(Tt=(jt=134217729*ke)-(jt-ke)))-((de=pt*ke)-_t*Tt-lt*Tt-_t*kt))),S[0]=ce-(Rt+Lt)+(Lt-Se),Lt=(ie=Ht-((Ut=Ht+Rt)-(Lt=Ut-Ht))+(Rt-Lt))-(Rt=ie-de),S[1]=ie-(Rt+Lt)+(Lt-de),Lt=(Vt=Ut+Rt)-Ut,S[2]=Ut-(Vt-Lt)+(Rt-Lt),S[3]=Vt;const Ie=i(4,v,4,S,x);Lt=(ce=(lt=He-(_t=(jt=134217729*He)-(jt-He)))*(kt=St-(Tt=(jt=134217729*St)-(jt-St)))-((Ht=He*St)-_t*Tt-lt*Tt-_t*kt))-(Rt=ce-(Se=(lt=Jt-(_t=(jt=134217729*Jt)-(jt-Jt)))*(kt=At-(Tt=(jt=134217729*At)-(jt-At)))-((de=Jt*At)-_t*Tt-lt*Tt-_t*kt))),S[0]=ce-(Rt+Lt)+(Lt-Se),Lt=(ie=Ht-((Ut=Ht+Rt)-(Lt=Ut-Ht))+(Rt-Lt))-(Rt=ie-de),S[1]=ie-(Rt+Lt)+(Lt-de),Lt=(Vt=Ut+Rt)-Ut,S[2]=Ut-(Vt-Lt)+(Rt-Lt),S[3]=Vt;const Mr=i(Ie,x,4,S,k);Lt=(ce=(lt=wt-(_t=(jt=134217729*wt)-(jt-wt)))*(kt=St-(Tt=(jt=134217729*St)-(jt-St)))-((Ht=wt*St)-_t*Tt-lt*Tt-_t*kt))-(Rt=ce-(Se=(lt=pt-(_t=(jt=134217729*pt)-(jt-pt)))*(kt=At-(Tt=(jt=134217729*At)-(jt-At)))-((de=pt*At)-_t*Tt-lt*Tt-_t*kt))),S[0]=ce-(Rt+Lt)+(Lt-Se),Lt=(ie=Ht-((Ut=Ht+Rt)-(Lt=Ut-Ht))+(Rt-Lt))-(Rt=ie-de),S[1]=ie-(Rt+Lt)+(Lt-de),Lt=(Vt=Ut+Rt)-Ut,S[2]=Ut-(Vt-Lt)+(Rt-Lt),S[3]=Vt;const ir=i(Mr,k,4,S,I);return I[ir-1]})(P,D,U,H,G,z,et)},r.orient2dfast=function(P,D,U,H,G,z){return(D-z)*(U-G)-(P-G)*(H-z)},Object.defineProperty(r,"__esModule",{value:!0})})})(wE,wE.exports)),wE.exports}var Gz;function Ipt(){if(Gz)return O5.exports;Gz=1;var t=bpt(),e=Spt,r=Cpt(),n=kpt().orient2d;e.default&&(e=e.default),O5.exports=i,O5.exports.default=i;function i(j,X,Y){X=Math.max(0,X===void 0?2:X),Y=Y||0;var et=S(j),st=new t(16);st.toBBox=function(lt){return{minX:lt[0],minY:lt[1],maxX:lt[0],maxY:lt[1]}},st.compareMinX=function(lt,Tt){return lt[0]-Tt[0]},st.compareMinY=function(lt,Tt){return lt[1]-Tt[1]},st.load(j);for(var it=[],vt=0,at;vt<et.length;vt++){var V=et[vt];st.remove(V),at=P(V,at),it.push(at)}var dt=new t(16);for(vt=0;vt<it.length;vt++)dt.insert(I(it[vt]));for(var mt=X*X,wt=Y*Y;it.length;){var pt=it.shift(),At=pt.p,St=pt.next.p,Lt=D(At,St);if(!(Lt<wt)){var jt=Lt/mt;V=o(st,pt.prev.p,At,St,pt.next.next.p,jt,dt),V&&Math.min(D(V,At),D(V,St))<=jt&&(it.push(pt),it.push(P(V,pt)),st.remove(V),dt.remove(pt),dt.insert(I(pt)),dt.insert(I(pt.next)))}}pt=at;var _t=[];do _t.push(pt.p),pt=pt.next;while(pt!==at);return _t.push(pt.p),_t}function o(j,X,Y,et,st,it,vt){for(var at=new e([],c),V=j.data;V;){for(var dt=0;dt<V.children.length;dt++){var mt=V.children[dt],wt=V.leaf?U(mt,Y,et):a(Y,et,mt);wt>it||at.push({node:mt,dist:wt})}for(;at.length&&!at.peek().node.children;){var pt=at.pop(),At=pt.node,St=U(At,X,Y),Lt=U(At,et,st);if(pt.dist<St&&pt.dist<Lt&&v(Y,At,vt)&&v(et,At,vt))return At}V=at.pop(),V&&(V=V.node)}return null}function c(j,X){return j.dist-X.dist}function a(j,X,Y){if(g(j,Y)||g(X,Y))return 0;var et=H(j[0],j[1],X[0],X[1],Y.minX,Y.minY,Y.maxX,Y.minY);if(et===0)return 0;var st=H(j[0],j[1],X[0],X[1],Y.minX,Y.minY,Y.minX,Y.maxY);if(st===0)return 0;var it=H(j[0],j[1],X[0],X[1],Y.maxX,Y.minY,Y.maxX,Y.maxY);if(it===0)return 0;var vt=H(j[0],j[1],X[0],X[1],Y.minX,Y.maxY,Y.maxX,Y.maxY);return vt===0?0:Math.min(et,st,it,vt)}function g(j,X){return j[0]>=X.minX&&j[0]<=X.maxX&&j[1]>=X.minY&&j[1]<=X.maxY}function v(j,X,Y){for(var et=Math.min(j[0],X[0]),st=Math.min(j[1],X[1]),it=Math.max(j[0],X[0]),vt=Math.max(j[1],X[1]),at=Y.search({minX:et,minY:st,maxX:it,maxY:vt}),V=0;V<at.length;V++)if(k(at[V].p,at[V].next.p,j,X))return!1;return!0}function x(j,X,Y){return n(j[0],j[1],X[0],X[1],Y[0],Y[1])}function k(j,X,Y,et){return j!==et&&X!==Y&&x(j,X,Y)>0!=x(j,X,et)>0&&x(Y,et,j)>0!=x(Y,et,X)>0}function I(j){var X=j.p,Y=j.next.p;return j.minX=Math.min(X[0],Y[0]),j.minY=Math.min(X[1],Y[1]),j.maxX=Math.max(X[0],Y[0]),j.maxY=Math.max(X[1],Y[1]),j}function S(j){for(var X=j[0],Y=j[0],et=j[0],st=j[0],it=0;it<j.length;it++){var vt=j[it];vt[0]<X[0]&&(X=vt),vt[0]>et[0]&&(et=vt),vt[1]<Y[1]&&(Y=vt),vt[1]>st[1]&&(st=vt)}var at=[X,Y,et,st],V=at.slice();for(it=0;it<j.length;it++)r(j[it],at)||V.push(j[it]);return z(V)}function P(j,X){var Y={p:j,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return X?(Y.next=X.next,Y.prev=X,X.next.prev=Y,X.next=Y):(Y.prev=Y,Y.next=Y),Y}function D(j,X){var Y=j[0]-X[0],et=j[1]-X[1];return Y*Y+et*et}function U(j,X,Y){var et=X[0],st=X[1],it=Y[0]-et,vt=Y[1]-st;if(it!==0||vt!==0){var at=((j[0]-et)*it+(j[1]-st)*vt)/(it*it+vt*vt);at>1?(et=Y[0],st=Y[1]):at>0&&(et+=it*at,st+=vt*at)}return it=j[0]-et,vt=j[1]-st,it*it+vt*vt}function H(j,X,Y,et,st,it,vt,at){var V=Y-j,dt=et-X,mt=vt-st,wt=at-it,pt=j-st,At=X-it,St=V*V+dt*dt,Lt=V*mt+dt*wt,jt=mt*mt+wt*wt,_t=V*pt+dt*At,lt=mt*pt+wt*At,Tt=St*jt-Lt*Lt,kt,Rt,Ut,ie,Ht=Tt,ce=Tt;Tt===0?(Rt=0,Ht=1,ie=lt,ce=jt):(Rt=Lt*lt-jt*_t,ie=St*lt-Lt*_t,Rt<0?(Rt=0,ie=lt,ce=jt):Rt>Ht&&(Rt=Ht,ie=lt+Lt,ce=jt)),ie<0?(ie=0,-_t<0?Rt=0:-_t>St?Rt=Ht:(Rt=-_t,Ht=St)):ie>ce&&(ie=ce,-_t+Lt<0?Rt=0:-_t+Lt>St?Rt=Ht:(Rt=-_t+Lt,Ht=St)),kt=Rt===0?0:Rt/Ht,Ut=ie===0?0:ie/ce;var de=(1-kt)*j+kt*Y,Se=(1-kt)*X+kt*et,Vt=(1-Ut)*st+Ut*vt,He=(1-Ut)*it+Ut*at,ke=Vt-de,Jt=He-Se;return ke*ke+Jt*Jt}function G(j,X){return j[0]===X[0]?j[1]-X[1]:j[0]-X[0]}function z(j){j.sort(G);for(var X=[],Y=0;Y<j.length;Y++){for(;X.length>=2&&x(X[X.length-2],X[X.length-1],j[Y])<=0;)X.pop();X.push(j[Y])}for(var et=[],st=j.length-1;st>=0;st--){for(;et.length>=2&&x(et[et.length-2],et[et.length-1],j[st])<=0;)et.pop();et.push(j[st])}return et.pop(),X.pop(),X.concat(et)}return O5.exports}Ipt();var ML={exports:{}},Rpt=ML.exports,Hz;function Npt(){return Hz||(Hz=1,(function(t,e){(function(r,n){t.exports=n()})(Rpt,(function(){var r=function(Q,gt){var ee={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},Re={on:function(Fe,nr,rn){if(ee[Fe]===void 0)throw new Error("Invalid event type: "+Fe);ee[Fe].push({selector:nr,fn:rn})},render:function(Fe){gt.store.featureChanged(Fe)}},qe=function(Fe,nr){for(var rn=ee[Fe],mn=rn.length;mn--;){var un=rn[mn];if(un.selector(nr)){un.fn.call(Re,nr)||gt.store.render(),gt.ui.updateMapClasses();break}}};return Q.start.call(Re),{render:Q.render,stop:function(){Q.stop&&Q.stop()},trash:function(){Q.trash&&(Q.trash(),gt.store.render())},combineFeatures:function(){Q.combineFeatures&&Q.combineFeatures()},uncombineFeatures:function(){Q.uncombineFeatures&&Q.uncombineFeatures()},drag:function(Fe){qe("drag",Fe)},click:function(Fe){qe("click",Fe)},mousemove:function(Fe){qe("mousemove",Fe)},mousedown:function(Fe){qe("mousedown",Fe)},mouseup:function(Fe){qe("mouseup",Fe)},mouseout:function(Fe){qe("mouseout",Fe)},keydown:function(Fe){qe("keydown",Fe)},keyup:function(Fe){qe("keyup",Fe)},touchstart:function(Fe){qe("touchstart",Fe)},touchmove:function(Fe){qe("touchmove",Fe)},touchend:function(Fe){qe("touchend",Fe)},tap:function(Fe){qe("tap",Fe)}}};function n(Q){return Q&&Q.__esModule&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q}function i(Q){if(Q.__esModule)return Q;var gt=Q.default;if(typeof gt=="function"){var ee=function Re(){if(this instanceof Re){var qe=[null];qe.push.apply(qe,arguments);var Fe=Function.bind.apply(gt,qe);return new Fe}return gt.apply(this,arguments)};ee.prototype=gt.prototype}else ee={};return Object.defineProperty(ee,"__esModule",{value:!0}),Object.keys(Q).forEach((function(Re){var qe=Object.getOwnPropertyDescriptor(Q,Re);Object.defineProperty(ee,Re,qe.get?qe:{enumerable:!0,get:function(){return Q[Re]}})})),ee}var o={},c={RADIUS:6378137},a=c;function g(Q){var gt=0;if(Q&&Q.length>0){gt+=Math.abs(v(Q[0]));for(var ee=1;ee<Q.length;ee++)gt-=Math.abs(v(Q[ee]))}return gt}function v(Q){var gt,ee,Re,qe,Fe,nr,rn=0,mn=Q.length;if(mn>2){for(nr=0;nr<mn;nr++)nr===mn-2?(Re=mn-2,qe=mn-1,Fe=0):nr===mn-1?(Re=mn-1,qe=0,Fe=1):(Re=nr,qe=nr+1,Fe=nr+2),gt=Q[Re],ee=Q[qe],rn+=(x(Q[Fe][0])-x(gt[0]))*Math.sin(x(ee[1]));rn=rn*a.RADIUS*a.RADIUS/2}return rn}function x(Q){return Q*Math.PI/180}o.geometry=function Q(gt){var ee,Re=0;switch(gt.type){case"Polygon":return g(gt.coordinates);case"MultiPolygon":for(ee=0;ee<gt.coordinates.length;ee++)Re+=g(gt.coordinates[ee]);return Re;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(ee=0;ee<gt.geometries.length;ee++)Re+=Q(gt.geometries[ee]);return Re}},o.ring=v;var k={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},I={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},S={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},P={POLYGON:"polygon",LINE:"line_string",POINT:"point"},D={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},U={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},H={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},G={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},z={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},j={ACTIVE:"true",INACTIVE:"false"},X=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],Y=-85,et=Object.freeze({__proto__:null,classes:k,sources:I,cursors:S,types:P,geojsonTypes:D,modes:U,events:H,updateActions:G,meta:z,activeStates:j,interactions:X,LAT_MIN:-90,LAT_RENDERED_MIN:Y,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),st={Point:0,LineString:1,MultiLineString:1,Polygon:2};function it(Q,gt){var ee=st[Q.geometry.type]-st[gt.geometry.type];return ee===0&&Q.geometry.type===D.POLYGON?Q.area-gt.area:ee}function vt(Q){return Q.map((function(gt){return gt.geometry.type===D.POLYGON&&(gt.area=o.geometry({type:D.FEATURE,property:{},geometry:gt.geometry})),gt})).sort(it).map((function(gt){return delete gt.area,gt}))}function at(Q,gt){return gt===void 0&&(gt=0),[[Q.point.x-gt,Q.point.y-gt],[Q.point.x+gt,Q.point.y+gt]]}function V(Q){if(this._items={},this._nums={},this._length=Q?Q.length:0,Q)for(var gt=0,ee=Q.length;gt<ee;gt++)this.add(Q[gt]),Q[gt]!==void 0&&(typeof Q[gt]=="string"?this._items[Q[gt]]=gt:this._nums[Q[gt]]=gt)}V.prototype.add=function(Q){return this.has(Q)||(this._length++,typeof Q=="string"?this._items[Q]=this._length:this._nums[Q]=this._length),this},V.prototype.delete=function(Q){return this.has(Q)===!1||(this._length--,delete this._items[Q],delete this._nums[Q]),this},V.prototype.has=function(Q){return(typeof Q=="string"||typeof Q=="number")&&(this._items[Q]!==void 0||this._nums[Q]!==void 0)},V.prototype.values=function(){var Q=this,gt=[];return Object.keys(this._items).forEach((function(ee){gt.push({k:ee,v:Q._items[ee]})})),Object.keys(this._nums).forEach((function(ee){gt.push({k:JSON.parse(ee),v:Q._nums[ee]})})),gt.sort((function(ee,Re){return ee.v-Re.v})).map((function(ee){return ee.k}))},V.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var dt=[z.FEATURE,z.MIDPOINT,z.VERTEX],mt={click:function(Q,gt,ee){return wt(Q,gt,ee,ee.options.clickBuffer)},touch:function(Q,gt,ee){return wt(Q,gt,ee,ee.options.touchBuffer)}};function wt(Q,gt,ee,Re){if(ee.map===null)return[];var qe=Q?at(Q,Re):gt,Fe={};ee.options.styles&&(Fe.layers=ee.options.styles.map((function(un){return un.id})).filter((function(un){return ee.map.getLayer(un)!=null})));var nr=ee.map.queryRenderedFeatures(qe,Fe).filter((function(un){return dt.indexOf(un.properties.meta)!==-1})),rn=new V,mn=[];return nr.forEach((function(un){var En=un.properties.id;rn.has(En)||(rn.add(En),mn.push(un))})),vt(mn)}function pt(Q,gt){var ee=mt.click(Q,null,gt),Re={mouse:S.NONE};return ee[0]&&(Re.mouse=ee[0].properties.active===j.ACTIVE?S.MOVE:S.POINTER,Re.feature=ee[0].properties.meta),gt.events.currentModeName().indexOf("draw")!==-1&&(Re.mouse=S.ADD),gt.ui.queueMapClasses(Re),gt.ui.updateMapClasses(),ee[0]}function At(Q,gt){var ee=Q.x-gt.x,Re=Q.y-gt.y;return Math.sqrt(ee*ee+Re*Re)}function St(Q,gt,ee){ee===void 0&&(ee={});var Re=ee.fineTolerance!=null?ee.fineTolerance:4,qe=ee.grossTolerance!=null?ee.grossTolerance:12,Fe=ee.interval!=null?ee.interval:500;Q.point=Q.point||gt.point,Q.time=Q.time||gt.time;var nr=At(Q.point,gt.point);return nr<Re||nr<qe&&gt.time-Q.time<Fe}function Lt(Q,gt,ee){ee===void 0&&(ee={});var Re=ee.tolerance!=null?ee.tolerance:25,qe=ee.interval!=null?ee.interval:250;return Q.point=Q.point||gt.point,Q.time=Q.time||gt.time,At(Q.point,gt.point)<Re&&gt.time-Q.time<qe}var jt={exports:{}},_t=jt.exports=function(Q,gt){if(gt||(gt=16),Q===void 0&&(Q=128),Q<=0)return"0";for(var ee=Math.log(Math.pow(2,Q))/Math.log(gt),Re=2;ee===1/0;Re*=2)ee=Math.log(Math.pow(2,Q/Re))/Math.log(gt)*Re;var qe=ee-Math.floor(ee),Fe="";for(Re=0;Re<Math.floor(ee);Re++)Fe=Math.floor(Math.random()*gt).toString(gt)+Fe;if(qe){var nr=Math.pow(gt,qe);Fe=Math.floor(Math.random()*nr).toString(gt)+Fe}var rn=parseInt(Fe,gt);return rn!==1/0&&rn>=Math.pow(2,Q)?_t(Q,gt):Fe};_t.rack=function(Q,gt,ee){var Re=function(Fe){var nr=0;do{if(nr++>10){if(!ee)throw new Error("too many ID collisions, use more bits");Q+=ee}var rn=_t(Q,gt)}while(Object.hasOwnProperty.call(qe,rn));return qe[rn]=Fe,rn},qe=Re.hats={};return Re.get=function(Fe){return Re.hats[Fe]},Re.set=function(Fe,nr){return Re.hats[Fe]=nr,Re},Re.bits=Q||128,Re.base=gt||16,Re};var lt=n(jt.exports),Tt=function(Q,gt){this.ctx=Q,this.properties=gt.properties||{},this.coordinates=gt.geometry.coordinates,this.id=gt.id||lt(),this.type=gt.geometry.type};Tt.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},Tt.prototype.incomingCoords=function(Q){this.setCoordinates(Q)},Tt.prototype.setCoordinates=function(Q){this.coordinates=Q,this.changed()},Tt.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},Tt.prototype.setProperty=function(Q,gt){this.properties[Q]=gt},Tt.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:D.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},Tt.prototype.internal=function(Q){var gt={id:this.id,meta:z.FEATURE,"meta:type":this.type,active:j.INACTIVE,mode:Q};if(this.ctx.options.userProperties)for(var ee in this.properties)gt["user_"+ee]=this.properties[ee];return{type:D.FEATURE,properties:gt,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var kt=function(Q,gt){Tt.call(this,Q,gt)};(kt.prototype=Object.create(Tt.prototype)).isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},kt.prototype.updateCoordinate=function(Q,gt,ee){this.coordinates=arguments.length===3?[gt,ee]:[Q,gt],this.changed()},kt.prototype.getCoordinate=function(){return this.getCoordinates()};var Rt=function(Q,gt){Tt.call(this,Q,gt)};(Rt.prototype=Object.create(Tt.prototype)).isValid=function(){return this.coordinates.length>1},Rt.prototype.addCoordinate=function(Q,gt,ee){this.changed();var Re=parseInt(Q,10);this.coordinates.splice(Re,0,[gt,ee])},Rt.prototype.getCoordinate=function(Q){var gt=parseInt(Q,10);return JSON.parse(JSON.stringify(this.coordinates[gt]))},Rt.prototype.removeCoordinate=function(Q){this.changed(),this.coordinates.splice(parseInt(Q,10),1)},Rt.prototype.updateCoordinate=function(Q,gt,ee){var Re=parseInt(Q,10);this.coordinates[Re]=[gt,ee],this.changed()};var Ut=function(Q,gt){Tt.call(this,Q,gt),this.coordinates=this.coordinates.map((function(ee){return ee.slice(0,-1)}))};(Ut.prototype=Object.create(Tt.prototype)).isValid=function(){return this.coordinates.length!==0&&this.coordinates.every((function(Q){return Q.length>2}))},Ut.prototype.incomingCoords=function(Q){this.coordinates=Q.map((function(gt){return gt.slice(0,-1)})),this.changed()},Ut.prototype.setCoordinates=function(Q){this.coordinates=Q,this.changed()},Ut.prototype.addCoordinate=function(Q,gt,ee){this.changed();var Re=Q.split(".").map((function(qe){return parseInt(qe,10)}));this.coordinates[Re[0]].splice(Re[1],0,[gt,ee])},Ut.prototype.removeCoordinate=function(Q){this.changed();var gt=Q.split(".").map((function(Re){return parseInt(Re,10)})),ee=this.coordinates[gt[0]];ee&&(ee.splice(gt[1],1),ee.length<3&&this.coordinates.splice(gt[0],1))},Ut.prototype.getCoordinate=function(Q){var gt=Q.split(".").map((function(Re){return parseInt(Re,10)})),ee=this.coordinates[gt[0]];return JSON.parse(JSON.stringify(ee[gt[1]]))},Ut.prototype.getCoordinates=function(){return this.coordinates.map((function(Q){return Q.concat([Q[0]])}))},Ut.prototype.updateCoordinate=function(Q,gt,ee){this.changed();var Re=Q.split("."),qe=parseInt(Re[0],10),Fe=parseInt(Re[1],10);this.coordinates[qe]===void 0&&(this.coordinates[qe]=[]),this.coordinates[qe][Fe]=[gt,ee]};var ie={MultiPoint:kt,MultiLineString:Rt,MultiPolygon:Ut},Ht=function(Q,gt,ee,Re,qe){var Fe=ee.split("."),nr=parseInt(Fe[0],10),rn=Fe[1]?Fe.slice(1).join("."):null;return Q[nr][gt](rn,Re,qe)},ce=function(Q,gt){if(Tt.call(this,Q,gt),delete this.coordinates,this.model=ie[gt.geometry.type],this.model===void 0)throw new TypeError(gt.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(gt.geometry.coordinates)};function de(Q){this.map=Q.map,this.drawConfig=JSON.parse(JSON.stringify(Q.options||{})),this._ctx=Q}(ce.prototype=Object.create(Tt.prototype))._coordinatesToFeatures=function(Q){var gt=this,ee=this.model.bind(this);return Q.map((function(Re){return new ee(gt.ctx,{id:lt(),type:D.FEATURE,properties:{},geometry:{coordinates:Re,type:gt.type.replace("Multi","")}})}))},ce.prototype.isValid=function(){return this.features.every((function(Q){return Q.isValid()}))},ce.prototype.setCoordinates=function(Q){this.features=this._coordinatesToFeatures(Q),this.changed()},ce.prototype.getCoordinate=function(Q){return Ht(this.features,"getCoordinate",Q)},ce.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(Q){return Q.type===D.POLYGON?Q.getCoordinates():Q.coordinates}))))},ce.prototype.updateCoordinate=function(Q,gt,ee){Ht(this.features,"updateCoordinate",Q,gt,ee),this.changed()},ce.prototype.addCoordinate=function(Q,gt,ee){Ht(this.features,"addCoordinate",Q,gt,ee),this.changed()},ce.prototype.removeCoordinate=function(Q){Ht(this.features,"removeCoordinate",Q),this.changed()},ce.prototype.getFeatures=function(){return this.features},de.prototype.setSelected=function(Q){return this._ctx.store.setSelected(Q)},de.prototype.setSelectedCoordinates=function(Q){var gt=this;this._ctx.store.setSelectedCoordinates(Q),Q.reduce((function(ee,Re){return ee[Re.feature_id]===void 0&&(ee[Re.feature_id]=!0,gt._ctx.store.get(Re.feature_id).changed()),ee}),{})},de.prototype.getSelected=function(){return this._ctx.store.getSelected()},de.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},de.prototype.isSelected=function(Q){return this._ctx.store.isSelected(Q)},de.prototype.getFeature=function(Q){return this._ctx.store.get(Q)},de.prototype.select=function(Q){return this._ctx.store.select(Q)},de.prototype.deselect=function(Q){return this._ctx.store.deselect(Q)},de.prototype.deleteFeature=function(Q,gt){return gt===void 0&&(gt={}),this._ctx.store.delete(Q,gt)},de.prototype.addFeature=function(Q){return this._ctx.store.add(Q)},de.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},de.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},de.prototype.setActionableState=function(Q){Q===void 0&&(Q={});var gt={trash:Q.trash||!1,combineFeatures:Q.combineFeatures||!1,uncombineFeatures:Q.uncombineFeatures||!1};return this._ctx.events.actionable(gt)},de.prototype.changeMode=function(Q,gt,ee){return gt===void 0&&(gt={}),ee===void 0&&(ee={}),this._ctx.events.changeMode(Q,gt,ee)},de.prototype.updateUIClasses=function(Q){return this._ctx.ui.queueMapClasses(Q)},de.prototype.activateUIButton=function(Q){return this._ctx.ui.setActiveButton(Q)},de.prototype.featuresAt=function(Q,gt,ee){if(ee===void 0&&(ee="click"),ee!=="click"&&ee!=="touch")throw new Error("invalid buffer type");return mt[ee](Q,gt,this._ctx)},de.prototype.newFeature=function(Q){var gt=Q.geometry.type;return gt===D.POINT?new kt(this._ctx,Q):gt===D.LINE_STRING?new Rt(this._ctx,Q):gt===D.POLYGON?new Ut(this._ctx,Q):new ce(this._ctx,Q)},de.prototype.isInstanceOf=function(Q,gt){if(Q===D.POINT)return gt instanceof kt;if(Q===D.LINE_STRING)return gt instanceof Rt;if(Q===D.POLYGON)return gt instanceof Ut;if(Q==="MultiFeature")return gt instanceof ce;throw new Error("Unknown feature class: "+Q)},de.prototype.doRender=function(Q){return this._ctx.store.featureChanged(Q)},de.prototype.onSetup=function(){},de.prototype.onDrag=function(){},de.prototype.onClick=function(){},de.prototype.onMouseMove=function(){},de.prototype.onMouseDown=function(){},de.prototype.onMouseUp=function(){},de.prototype.onMouseOut=function(){},de.prototype.onKeyUp=function(){},de.prototype.onKeyDown=function(){},de.prototype.onTouchStart=function(){},de.prototype.onTouchMove=function(){},de.prototype.onTouchEnd=function(){},de.prototype.onTap=function(){},de.prototype.onStop=function(){},de.prototype.onTrash=function(){},de.prototype.onCombineFeature=function(){},de.prototype.onUncombineFeature=function(){},de.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var Se={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},Vt=Object.keys(Se);function He(Q){var gt=Object.keys(Q);return function(ee,Re){Re===void 0&&(Re={});var qe={},Fe=gt.reduce((function(nr,rn){return nr[rn]=Q[rn],nr}),new de(ee));return{start:function(){var nr=this;qe=Fe.onSetup(Re),Vt.forEach((function(rn){var mn,un=Se[rn],En=function(){return!1};Q[un]&&(En=function(){return!0}),nr.on(rn,En,(mn=un,function(fn){return Fe[mn](qe,fn)}))}))},stop:function(){Fe.onStop(qe)},trash:function(){Fe.onTrash(qe)},combineFeatures:function(){Fe.onCombineFeatures(qe)},uncombineFeatures:function(){Fe.onUncombineFeatures(qe)},render:function(nr,rn){Fe.toDisplayFeatures(qe,nr,rn)}}}}function ke(Q){return[].concat(Q).filter((function(gt){return gt!==void 0}))}function Jt(){var Q=this;if(!(Q.ctx.map&&Q.ctx.map.getSource(I.HOT)!==void 0))return mn();var gt=Q.ctx.events.currentModeName();Q.ctx.ui.queueMapClasses({mode:gt});var ee=[],Re=[];Q.isDirty?Re=Q.getAllIds():(ee=Q.getChangedIds().filter((function(un){return Q.get(un)!==void 0})),Re=Q.sources.hot.filter((function(un){return un.properties.id&&ee.indexOf(un.properties.id)===-1&&Q.get(un.properties.id)!==void 0})).map((function(un){return un.properties.id}))),Q.sources.hot=[];var qe=Q.sources.cold.length;Q.sources.cold=Q.isDirty?[]:Q.sources.cold.filter((function(un){var En=un.properties.id||un.properties.parent;return ee.indexOf(En)===-1}));var Fe=qe!==Q.sources.cold.length||Re.length>0;function nr(un,En){var fn=Q.get(un).internal(gt);Q.ctx.events.currentModeRender(fn,(function(Yn){Q.sources[En].push(Yn)}))}if(ee.forEach((function(un){return nr(un,"hot")})),Re.forEach((function(un){return nr(un,"cold")})),Fe&&Q.ctx.map.getSource(I.COLD).setData({type:D.FEATURE_COLLECTION,features:Q.sources.cold}),Q.ctx.map.getSource(I.HOT).setData({type:D.FEATURE_COLLECTION,features:Q.sources.hot}),Q._emitSelectionChange&&(Q.ctx.map.fire(H.SELECTION_CHANGE,{features:Q.getSelected().map((function(un){return un.toGeoJSON()})),points:Q.getSelectedCoordinates().map((function(un){return{type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:un.coordinates}}}))}),Q._emitSelectionChange=!1),Q._deletedFeaturesToEmit.length){var rn=Q._deletedFeaturesToEmit.map((function(un){return un.toGeoJSON()}));Q._deletedFeaturesToEmit=[],Q.ctx.map.fire(H.DELETE,{features:rn})}function mn(){Q.isDirty=!1,Q.clearChangedIds()}mn(),Q.ctx.map.fire(H.RENDER,{})}function $r(Q){var gt,ee=this;this._features={},this._featureIds=new V,this._selectedFeatureIds=new V,this._selectedCoordinates=[],this._changedFeatureIds=new V,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=Q,this.sources={hot:[],cold:[]},this.render=function(){gt||(gt=requestAnimationFrame((function(){gt=null,Jt.call(ee)})))},this.isDirty=!1}function vr(Q,gt){var ee=Q._selectedCoordinates.filter((function(Re){return Q._selectedFeatureIds.has(Re.feature_id)}));Q._selectedCoordinates.length===ee.length||gt.silent||(Q._emitSelectionChange=!0),Q._selectedCoordinates=ee}$r.prototype.createRenderBatch=function(){var Q=this,gt=this.render,ee=0;return this.render=function(){ee++},function(){Q.render=gt,ee>0&&Q.render()}},$r.prototype.setDirty=function(){return this.isDirty=!0,this},$r.prototype.featureChanged=function(Q){return this._changedFeatureIds.add(Q),this},$r.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},$r.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},$r.prototype.getAllIds=function(){return this._featureIds.values()},$r.prototype.add=function(Q){return this.featureChanged(Q.id),this._features[Q.id]=Q,this._featureIds.add(Q.id),this},$r.prototype.delete=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),ke(Q).forEach((function(Re){ee._featureIds.has(Re)&&(ee._featureIds.delete(Re),ee._selectedFeatureIds.delete(Re),gt.silent||ee._deletedFeaturesToEmit.indexOf(ee._features[Re])===-1&&ee._deletedFeaturesToEmit.push(ee._features[Re]),delete ee._features[Re],ee.isDirty=!0)})),vr(this,gt),this},$r.prototype.get=function(Q){return this._features[Q]},$r.prototype.getAll=function(){var Q=this;return Object.keys(this._features).map((function(gt){return Q._features[gt]}))},$r.prototype.select=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),ke(Q).forEach((function(Re){ee._selectedFeatureIds.has(Re)||(ee._selectedFeatureIds.add(Re),ee._changedFeatureIds.add(Re),gt.silent||(ee._emitSelectionChange=!0))})),this},$r.prototype.deselect=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),ke(Q).forEach((function(Re){ee._selectedFeatureIds.has(Re)&&(ee._selectedFeatureIds.delete(Re),ee._changedFeatureIds.add(Re),gt.silent||(ee._emitSelectionChange=!0))})),vr(this,gt),this},$r.prototype.clearSelected=function(Q){return Q===void 0&&(Q={}),this.deselect(this._selectedFeatureIds.values(),{silent:Q.silent}),this},$r.prototype.setSelected=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),Q=ke(Q),this.deselect(this._selectedFeatureIds.values().filter((function(Re){return Q.indexOf(Re)===-1})),{silent:gt.silent}),this.select(Q.filter((function(Re){return!ee._selectedFeatureIds.has(Re)})),{silent:gt.silent}),this},$r.prototype.setSelectedCoordinates=function(Q){return this._selectedCoordinates=Q,this._emitSelectionChange=!0,this},$r.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},$r.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},$r.prototype.getSelected=function(){var Q=this;return this._selectedFeatureIds.values().map((function(gt){return Q.get(gt)}))},$r.prototype.getSelectedCoordinates=function(){var Q=this;return this._selectedCoordinates.map((function(gt){return{coordinates:Q.get(gt.feature_id).getCoordinate(gt.coord_path)}}))},$r.prototype.isSelected=function(Q){return this._selectedFeatureIds.has(Q)},$r.prototype.setFeatureProperty=function(Q,gt,ee){this.get(Q).setProperty(gt,ee),this.featureChanged(Q)},$r.prototype.storeMapConfig=function(){var Q=this;X.forEach((function(gt){Q.ctx.map[gt]&&(Q._mapInitialConfig[gt]=Q.ctx.map[gt].isEnabled())}))},$r.prototype.restoreMapConfig=function(){var Q=this;Object.keys(this._mapInitialConfig).forEach((function(gt){Q._mapInitialConfig[gt]?Q.ctx.map[gt].enable():Q.ctx.map[gt].disable()}))},$r.prototype.getInitialConfigValue=function(Q){return this._mapInitialConfig[Q]===void 0||this._mapInitialConfig[Q]};var Dr=function(){for(var Q=arguments,gt={},ee=0;ee<arguments.length;ee++){var Re=Q[ee];for(var qe in Re)Ie.call(Re,qe)&&(gt[qe]=Re[qe])}return gt},Ie=Object.prototype.hasOwnProperty,Mr=n(Dr),ir=["mode","feature","mouse"];function Rr(Q){var gt=null,ee=null,Re={onRemove:function(){return Q.map.off("load",Re.connect),clearInterval(ee),Re.removeLayers(),Q.store.restoreMapConfig(),Q.ui.removeButtons(),Q.events.removeEventListeners(),Q.ui.clearMapClasses(),Q.boxZoomInitial&&Q.map.boxZoom.enable(),Q.map=null,Q.container=null,Q.store=null,gt&&gt.parentNode&&gt.parentNode.removeChild(gt),gt=null,this},connect:function(){Q.map.off("load",Re.connect),clearInterval(ee),Re.addLayers(),Q.store.storeMapConfig(),Q.events.addEventListeners()},onAdd:function(qe){var Fe=qe.fire;return qe.fire=function(nr,rn){var mn=arguments;return Fe.length===1&&arguments.length!==1&&(mn=[Mr({},{type:nr},rn)]),Fe.apply(qe,mn)},Q.map=qe,Q.events=(function(nr){var rn=Object.keys(nr.options.modes).reduce((function(Zr,Ln){return Zr[Ln]=He(nr.options.modes[Ln]),Zr}),{}),mn={},un={},En={},fn=null,Yn=null;En.drag=function(Zr,Ln){Ln({point:Zr.point,time:new Date().getTime()})?(nr.ui.queueMapClasses({mouse:S.DRAG}),Yn.drag(Zr)):Zr.originalEvent.stopPropagation()},En.mousedrag=function(Zr){En.drag(Zr,(function(Ln){return!St(mn,Ln)}))},En.touchdrag=function(Zr){En.drag(Zr,(function(Ln){return!Lt(un,Ln)}))},En.mousemove=function(Zr){if((Zr.originalEvent.buttons!==void 0?Zr.originalEvent.buttons:Zr.originalEvent.which)===1)return En.mousedrag(Zr);var Ln=pt(Zr,nr);Zr.featureTarget=Ln,Yn.mousemove(Zr)},En.mousedown=function(Zr){mn={time:new Date().getTime(),point:Zr.point};var Ln=pt(Zr,nr);Zr.featureTarget=Ln,Yn.mousedown(Zr)},En.mouseup=function(Zr){var Ln=pt(Zr,nr);Zr.featureTarget=Ln,St(mn,{point:Zr.point,time:new Date().getTime()})?Yn.click(Zr):Yn.mouseup(Zr)},En.mouseout=function(Zr){Yn.mouseout(Zr)},En.touchstart=function(Zr){if(nr.options.touchEnabled){un={time:new Date().getTime(),point:Zr.point};var Ln=mt.touch(Zr,null,nr)[0];Zr.featureTarget=Ln,Yn.touchstart(Zr)}},En.touchmove=function(Zr){if(nr.options.touchEnabled)return Yn.touchmove(Zr),En.touchdrag(Zr)},En.touchend=function(Zr){if(Zr.originalEvent.preventDefault(),nr.options.touchEnabled){var Ln=mt.touch(Zr,null,nr)[0];Zr.featureTarget=Ln,Lt(un,{time:new Date().getTime(),point:Zr.point})?Yn.tap(Zr):Yn.touchend(Zr)}};var Nn=function(Zr){return!(Zr===8||Zr===46||Zr>=48&&Zr<=57)};function ti(Zr,Ln,yi){yi===void 0&&(yi={}),Yn.stop();var sa=rn[Zr];if(sa===void 0)throw new Error(Zr+" is not valid");fn=Zr;var Ii=sa(nr,Ln);Yn=r(Ii,nr),yi.silent||nr.map.fire(H.MODE_CHANGE,{mode:Zr}),nr.store.setDirty(),nr.store.render()}En.keydown=function(Zr){(Zr.srcElement||Zr.target).classList.contains("mapboxgl-canvas")&&(Zr.keyCode!==8&&Zr.keyCode!==46||!nr.options.controls.trash?Nn(Zr.keyCode)?Yn.keydown(Zr):Zr.keyCode===49&&nr.options.controls.point?ti(U.DRAW_POINT):Zr.keyCode===50&&nr.options.controls.line_string?ti(U.DRAW_LINE_STRING):Zr.keyCode===51&&nr.options.controls.polygon&&ti(U.DRAW_POLYGON):(Zr.preventDefault(),Yn.trash()))},En.keyup=function(Zr){Nn(Zr.keyCode)&&Yn.keyup(Zr)},En.zoomend=function(){nr.store.changeZoom()},En.data=function(Zr){if(Zr.dataType==="style"){var Ln=nr.setup,yi=nr.map,sa=nr.options,Ii=nr.store;sa.styles.some((function(zi){return yi.getLayer(zi.id)}))||(Ln.addLayers(),Ii.setDirty(),Ii.render())}};var jn={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){fn=nr.options.defaultMode,Yn=r(rn[fn](nr),nr)},changeMode:ti,actionable:function(Zr){var Ln=!1;Object.keys(Zr).forEach((function(yi){if(jn[yi]===void 0)throw new Error("Invalid action type");jn[yi]!==Zr[yi]&&(Ln=!0),jn[yi]=Zr[yi]})),Ln&&nr.map.fire(H.ACTIONABLE,{actions:jn})},currentModeName:function(){return fn},currentModeRender:function(Zr,Ln){return Yn.render(Zr,Ln)},fire:function(Zr,Ln){En[Zr]&&En[Zr](Ln)},addEventListeners:function(){nr.map.on("mousemove",En.mousemove),nr.map.on("mousedown",En.mousedown),nr.map.on("mouseup",En.mouseup),nr.map.on("data",En.data),nr.map.on("touchmove",En.touchmove),nr.map.on("touchstart",En.touchstart),nr.map.on("touchend",En.touchend),nr.container.addEventListener("mouseout",En.mouseout),nr.options.keybindings&&(nr.container.addEventListener("keydown",En.keydown),nr.container.addEventListener("keyup",En.keyup))},removeEventListeners:function(){nr.map.off("mousemove",En.mousemove),nr.map.off("mousedown",En.mousedown),nr.map.off("mouseup",En.mouseup),nr.map.off("data",En.data),nr.map.off("touchmove",En.touchmove),nr.map.off("touchstart",En.touchstart),nr.map.off("touchend",En.touchend),nr.container.removeEventListener("mouseout",En.mouseout),nr.options.keybindings&&(nr.container.removeEventListener("keydown",En.keydown),nr.container.removeEventListener("keyup",En.keyup))},trash:function(Zr){Yn.trash(Zr)},combineFeatures:function(){Yn.combineFeatures()},uncombineFeatures:function(){Yn.uncombineFeatures()},getMode:function(){return fn}}})(Q),Q.ui=(function(nr){var rn={},mn=null,un={mode:null,feature:null,mouse:null},En={mode:null,feature:null,mouse:null};function fn(Zr){En=Mr(En,Zr)}function Yn(){var Zr,Ln;if(nr.container){var yi=[],sa=[];ir.forEach((function(Ii){En[Ii]!==un[Ii]&&(yi.push(Ii+"-"+un[Ii]),En[Ii]!==null&&sa.push(Ii+"-"+En[Ii]))})),yi.length>0&&(Zr=nr.container.classList).remove.apply(Zr,yi),sa.length>0&&(Ln=nr.container.classList).add.apply(Ln,sa),un=Mr(un,En)}}function Nn(Zr,Ln){Ln===void 0&&(Ln={});var yi=document.createElement("button");return yi.className=k.CONTROL_BUTTON+" "+Ln.className,yi.setAttribute("title",Ln.title),Ln.container.appendChild(yi),yi.addEventListener("click",(function(sa){if(sa.preventDefault(),sa.stopPropagation(),sa.target===mn)return ti(),void Ln.onDeactivate();jn(Zr),Ln.onActivate()}),!0),yi}function ti(){mn&&(mn.classList.remove(k.ACTIVE_BUTTON),mn=null)}function jn(Zr){ti();var Ln=rn[Zr];Ln&&Ln&&Zr!=="trash"&&(Ln.classList.add(k.ACTIVE_BUTTON),mn=Ln)}return{setActiveButton:jn,queueMapClasses:fn,updateMapClasses:Yn,clearMapClasses:function(){fn({mode:null,feature:null,mouse:null}),Yn()},addButtons:function(){var Zr=nr.options.controls,Ln=document.createElement("div");return Ln.className=k.CONTROL_GROUP+" "+k.CONTROL_BASE,Zr&&(Zr[P.LINE]&&(rn[P.LINE]=Nn(P.LINE,{container:Ln,className:k.CONTROL_BUTTON_LINE,title:"LineString tool "+(nr.options.keybindings?"(l)":""),onActivate:function(){return nr.events.changeMode(U.DRAW_LINE_STRING)},onDeactivate:function(){return nr.events.trash()}})),Zr[P.POLYGON]&&(rn[P.POLYGON]=Nn(P.POLYGON,{container:Ln,className:k.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(nr.options.keybindings?"(p)":""),onActivate:function(){return nr.events.changeMode(U.DRAW_POLYGON)},onDeactivate:function(){return nr.events.trash()}})),Zr[P.POINT]&&(rn[P.POINT]=Nn(P.POINT,{container:Ln,className:k.CONTROL_BUTTON_POINT,title:"Marker tool "+(nr.options.keybindings?"(m)":""),onActivate:function(){return nr.events.changeMode(U.DRAW_POINT)},onDeactivate:function(){return nr.events.trash()}})),Zr.trash&&(rn.trash=Nn("trash",{container:Ln,className:k.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){nr.events.trash()}})),Zr.combine_features&&(rn.combine_features=Nn("combineFeatures",{container:Ln,className:k.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){nr.events.combineFeatures()}})),Zr.uncombine_features&&(rn.uncombine_features=Nn("uncombineFeatures",{container:Ln,className:k.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){nr.events.uncombineFeatures()}}))),Ln},removeButtons:function(){Object.keys(rn).forEach((function(Zr){var Ln=rn[Zr];Ln.parentNode&&Ln.parentNode.removeChild(Ln),delete rn[Zr]}))}}})(Q),Q.container=qe.getContainer(),Q.store=new $r(Q),gt=Q.ui.addButtons(),Q.options.boxSelect&&(Q.boxZoomInitial=qe.boxZoom.isEnabled(),qe.boxZoom.disable(),qe.dragPan.disable(),qe.dragPan.enable()),qe.loaded()?Re.connect():(qe.on("load",Re.connect),ee=setInterval((function(){qe.loaded()&&Re.connect()}),16)),Q.events.start(),gt},addLayers:function(){Q.map.addSource(I.COLD,{data:{type:D.FEATURE_COLLECTION,features:[]},type:"geojson"}),Q.map.addSource(I.HOT,{data:{type:D.FEATURE_COLLECTION,features:[]},type:"geojson"}),Q.options.styles.forEach((function(qe){Q.map.addLayer(qe)})),Q.store.setDirty(!0),Q.store.render()},removeLayers:function(){Q.options.styles.forEach((function(qe){Q.map.getLayer(qe.id)&&Q.map.removeLayer(qe.id)})),Q.map.getSource(I.COLD)&&Q.map.removeSource(I.COLD),Q.map.getSource(I.HOT)&&Q.map.removeSource(I.HOT)}};return Q.setup=Re,Re}var Pr=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function Ir(Q){return function(gt){var ee=gt.featureTarget;return!!ee&&!!ee.properties&&ee.properties.meta===Q}}function dr(Q){return!!Q.originalEvent&&!!Q.originalEvent.shiftKey&&Q.originalEvent.button===0}function ar(Q){return!!Q.featureTarget&&!!Q.featureTarget.properties&&Q.featureTarget.properties.active===j.ACTIVE&&Q.featureTarget.properties.meta===z.FEATURE}function Or(Q){return!!Q.featureTarget&&!!Q.featureTarget.properties&&Q.featureTarget.properties.active===j.INACTIVE&&Q.featureTarget.properties.meta===z.FEATURE}function er(Q){return Q.featureTarget===void 0}function Fr(Q){return!!Q.featureTarget&&!!Q.featureTarget.properties&&Q.featureTarget.properties.meta===z.FEATURE}function Ze(Q){var gt=Q.featureTarget;return!!gt&&!!gt.properties&&gt.properties.meta===z.VERTEX}function rr(Q){return!!Q.originalEvent&&Q.originalEvent.shiftKey===!0}function Me(Q){return Q.keyCode===27}function Ft(Q){return Q.keyCode===13}var Mt=Object.freeze({__proto__:null,isOfMetaType:Ir,isShiftMousedown:dr,isActiveFeature:ar,isInactiveFeature:Or,noTarget:er,isFeature:Fr,isVertex:Ze,isShiftDown:rr,isEscapeKey:Me,isEnterKey:Ft,isTrue:function(){return!0}}),Bt=oe;function oe(Q,gt){this.x=Q,this.y=gt}oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(Q){return this.clone()._add(Q)},sub:function(Q){return this.clone()._sub(Q)},multByPoint:function(Q){return this.clone()._multByPoint(Q)},divByPoint:function(Q){return this.clone()._divByPoint(Q)},mult:function(Q){return this.clone()._mult(Q)},div:function(Q){return this.clone()._div(Q)},rotate:function(Q){return this.clone()._rotate(Q)},rotateAround:function(Q,gt){return this.clone()._rotateAround(Q,gt)},matMult:function(Q){return this.clone()._matMult(Q)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(Q){return this.x===Q.x&&this.y===Q.y},dist:function(Q){return Math.sqrt(this.distSqr(Q))},distSqr:function(Q){var gt=Q.x-this.x,ee=Q.y-this.y;return gt*gt+ee*ee},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(Q){return Math.atan2(this.y-Q.y,this.x-Q.x)},angleWith:function(Q){return this.angleWithSep(Q.x,Q.y)},angleWithSep:function(Q,gt){return Math.atan2(this.x*gt-this.y*Q,this.x*Q+this.y*gt)},_matMult:function(Q){var gt=Q[0]*this.x+Q[1]*this.y,ee=Q[2]*this.x+Q[3]*this.y;return this.x=gt,this.y=ee,this},_add:function(Q){return this.x+=Q.x,this.y+=Q.y,this},_sub:function(Q){return this.x-=Q.x,this.y-=Q.y,this},_mult:function(Q){return this.x*=Q,this.y*=Q,this},_div:function(Q){return this.x/=Q,this.y/=Q,this},_multByPoint:function(Q){return this.x*=Q.x,this.y*=Q.y,this},_divByPoint:function(Q){return this.x/=Q.x,this.y/=Q.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var Q=this.y;return this.y=this.x,this.x=-Q,this},_rotate:function(Q){var gt=Math.cos(Q),ee=Math.sin(Q),Re=gt*this.x-ee*this.y,qe=ee*this.x+gt*this.y;return this.x=Re,this.y=qe,this},_rotateAround:function(Q,gt){var ee=Math.cos(Q),Re=Math.sin(Q),qe=gt.x+ee*(this.x-gt.x)-Re*(this.y-gt.y),Fe=gt.y+Re*(this.x-gt.x)+ee*(this.y-gt.y);return this.x=qe,this.y=Fe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},oe.convert=function(Q){return Q instanceof oe?Q:Array.isArray(Q)?new oe(Q[0],Q[1]):Q};var ye=n(Bt);function je(Q,gt){var ee=gt.getBoundingClientRect();return new ye(Q.clientX-ee.left-(gt.clientLeft||0),Q.clientY-ee.top-(gt.clientTop||0))}function Ge(Q,gt,ee,Re){return{type:D.FEATURE,properties:{meta:z.VERTEX,parent:Q,coord_path:ee,active:Re?j.ACTIVE:j.INACTIVE},geometry:{type:D.POINT,coordinates:gt}}}function Ue(Q,gt,ee){var Re=gt.geometry.coordinates,qe=ee.geometry.coordinates;if(Re[1]>85||Re[1]<Y||qe[1]>85||qe[1]<Y)return null;var Fe={lng:(Re[0]+qe[0])/2,lat:(Re[1]+qe[1])/2};return{type:D.FEATURE,properties:{meta:z.MIDPOINT,parent:Q,lng:Fe.lng,lat:Fe.lat,coord_path:ee.properties.coord_path},geometry:{type:D.POINT,coordinates:[Fe.lng,Fe.lat]}}}function fr(Q,gt,ee){gt===void 0&&(gt={}),ee===void 0&&(ee=null);var Re,qe=Q.geometry,Fe=qe.type,nr=qe.coordinates,rn=Q.properties&&Q.properties.id,mn=[];function un(fn,Yn){var Nn="",ti=null;fn.forEach((function(jn,Zr){var Ln=Yn!=null?Yn+"."+Zr:String(Zr),yi=Ge(rn,jn,Ln,En(Ln));if(gt.midpoints&&ti){var sa=Ue(rn,ti,yi);sa&&mn.push(sa)}ti=yi;var Ii=JSON.stringify(jn);Nn!==Ii&&mn.push(yi),Zr===0&&(Nn=Ii)}))}function En(fn){return!!gt.selectedPaths&&gt.selectedPaths.indexOf(fn)!==-1}return Fe===D.POINT?mn.push(Ge(rn,nr,ee,En(ee))):Fe===D.POLYGON?nr.forEach((function(fn,Yn){un(fn,ee!==null?ee+"."+Yn:String(Yn))})):Fe===D.LINE_STRING?un(nr,ee):Fe.indexOf(D.MULTI_PREFIX)===0&&(Re=Fe.replace(D.MULTI_PREFIX,""),nr.forEach((function(fn,Yn){var Nn={type:D.FEATURE,properties:Q.properties,geometry:{type:Re,coordinates:fn}};mn=mn.concat(fr(Nn,gt,Yn))}))),mn}var Ke={enable:function(Q){setTimeout((function(){Q.map&&Q.map.doubleClickZoom&&Q._ctx&&Q._ctx.store&&Q._ctx.store.getInitialConfigValue&&Q._ctx.store.getInitialConfigValue("doubleClickZoom")&&Q.map.doubleClickZoom.enable()}),0)},disable:function(Q){setTimeout((function(){Q.map&&Q.map.doubleClickZoom&&Q.map.doubleClickZoom.disable()}),0)}},Pe={exports:{}},ur=function(Q){if(!Q||!Q.type)return null;var gt=Oe[Q.type];if(!gt)return null;if(gt==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:Q}]};if(gt==="feature")return{type:"FeatureCollection",features:[Q]};if(gt==="featurecollection")return Q},Oe={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},Wr=n(ur),or=Object.freeze({__proto__:null,default:function Q(gt){switch(gt&&gt.type||null){case"FeatureCollection":return gt.features=gt.features.reduce((function(ee,Re){return ee.concat(Q(Re))}),[]),gt;case"Feature":return gt.geometry?Q(gt.geometry).map((function(ee){var Re={type:"Feature",properties:JSON.parse(JSON.stringify(gt.properties)),geometry:ee};return gt.id!==void 0&&(Re.id=gt.id),Re})):[gt];case"MultiPoint":return gt.coordinates.map((function(ee){return{type:"Point",coordinates:ee}}));case"MultiPolygon":return gt.coordinates.map((function(ee){return{type:"Polygon",coordinates:ee}}));case"MultiLineString":return gt.coordinates.map((function(ee){return{type:"LineString",coordinates:ee}}));case"GeometryCollection":return gt.geometries.map(Q).reduce((function(ee,Re){return ee.concat(Re)}),[]);case"Point":case"Polygon":case"LineString":return[gt]}}}),bn=ur,Kr=i(or),Zn=function(Q){return(function gt(ee){return Array.isArray(ee)&&ee.length&&typeof ee[0]=="number"?[ee]:ee.reduce((function(Re,qe){return Array.isArray(qe)&&Array.isArray(qe[0])?Re.concat(gt(qe)):(Re.push(qe),Re)}),[])})(Q)};Kr instanceof Function||(Kr=Kr.default);var Pt={exports:{}},Xt=Pt.exports=function(Q){return new be(Q)};function be(Q){this.value=Q}function ze(Q,gt,ee){var Re=[],qe=[],Fe=!0;return(function nr(rn){var mn=ee?Lr(rn):rn,un={},En=!0,fn={node:mn,node_:rn,path:[].concat(Re),parent:qe[qe.length-1],parents:qe,key:Re.slice(-1)[0],isRoot:Re.length===0,level:Re.length,circular:null,update:function(ti,jn){fn.isRoot||(fn.parent.node[fn.key]=ti),fn.node=ti,jn&&(En=!1)},delete:function(ti){delete fn.parent.node[fn.key],ti&&(En=!1)},remove:function(ti){fi(fn.parent.node)?fn.parent.node.splice(fn.key,1):delete fn.parent.node[fn.key],ti&&(En=!1)},keys:null,before:function(ti){un.before=ti},after:function(ti){un.after=ti},pre:function(ti){un.pre=ti},post:function(ti){un.post=ti},stop:function(){Fe=!1},block:function(){En=!1}};if(!Fe)return fn;function Yn(){if(typeof fn.node=="object"&&fn.node!==null){fn.keys&&fn.node_===fn.node||(fn.keys=vn(fn.node)),fn.isLeaf=fn.keys.length==0;for(var ti=0;ti<qe.length;ti++)if(qe[ti].node_===rn){fn.circular=qe[ti];break}}else fn.isLeaf=!0,fn.keys=null;fn.notLeaf=!fn.isLeaf,fn.notRoot=!fn.isRoot}Yn();var Nn=gt.call(fn,fn.node);return Nn!==void 0&&fn.update&&fn.update(Nn),un.before&&un.before.call(fn,fn.node),En&&(typeof fn.node!="object"||fn.node===null||fn.circular||(qe.push(fn),Yn(),On(fn.keys,(function(ti,jn){Re.push(ti),un.pre&&un.pre.call(fn,fn.node[ti],ti);var Zr=nr(fn.node[ti]);ee&&li.call(fn.node,ti)&&(fn.node[ti]=Zr.node),Zr.isLast=jn==fn.keys.length-1,Zr.isFirst=jn==0,un.post&&un.post.call(fn,Zr),Re.pop()})),qe.pop()),un.after&&un.after.call(fn,fn.node)),fn})(Q).node}function Lr(Q){if(typeof Q=="object"&&Q!==null){var gt;if(fi(Q))gt=[];else if(Vr(Q)==="[object Date]")gt=new Date(Q.getTime?Q.getTime():Q);else if((function(qe){return Vr(qe)==="[object RegExp]"})(Q))gt=new RegExp(Q);else if((function(qe){return Vr(qe)==="[object Error]"})(Q))gt={message:Q.message};else if((function(qe){return Vr(qe)==="[object Boolean]"})(Q))gt=new Boolean(Q);else if((function(qe){return Vr(qe)==="[object Number]"})(Q))gt=new Number(Q);else if((function(qe){return Vr(qe)==="[object String]"})(Q))gt=new String(Q);else if(Object.create&&Object.getPrototypeOf)gt=Object.create(Object.getPrototypeOf(Q));else if(Q.constructor===Object)gt={};else{var ee=Q.constructor&&Q.constructor.prototype||Q.__proto__||{},Re=function(){};Re.prototype=ee,gt=new Re}return On(vn(Q),(function(qe){gt[qe]=Q[qe]})),gt}return Q}be.prototype.get=function(Q){for(var gt=this.value,ee=0;ee<Q.length;ee++){var Re=Q[ee];if(!gt||!li.call(gt,Re)){gt=void 0;break}gt=gt[Re]}return gt},be.prototype.has=function(Q){for(var gt=this.value,ee=0;ee<Q.length;ee++){var Re=Q[ee];if(!gt||!li.call(gt,Re))return!1;gt=gt[Re]}return!0},be.prototype.set=function(Q,gt){for(var ee=this.value,Re=0;Re<Q.length-1;Re++){var qe=Q[Re];li.call(ee,qe)||(ee[qe]={}),ee=ee[qe]}return ee[Q[Re]]=gt,gt},be.prototype.map=function(Q){return ze(this.value,Q,!0)},be.prototype.forEach=function(Q){return this.value=ze(this.value,Q,!1),this.value},be.prototype.reduce=function(Q,gt){var ee=arguments.length===1,Re=ee?this.value:gt;return this.forEach((function(qe){this.isRoot&&ee||(Re=Q.call(this,Re,qe))})),Re},be.prototype.paths=function(){var Q=[];return this.forEach((function(gt){Q.push(this.path)})),Q},be.prototype.nodes=function(){var Q=[];return this.forEach((function(gt){Q.push(this.node)})),Q},be.prototype.clone=function(){var Q=[],gt=[];return(function ee(Re){for(var qe=0;qe<Q.length;qe++)if(Q[qe]===Re)return gt[qe];if(typeof Re=="object"&&Re!==null){var Fe=Lr(Re);return Q.push(Re),gt.push(Fe),On(vn(Re),(function(nr){Fe[nr]=ee(Re[nr])})),Q.pop(),gt.pop(),Fe}return Re})(this.value)};var vn=Object.keys||function(Q){var gt=[];for(var ee in Q)gt.push(ee);return gt};function Vr(Q){return Object.prototype.toString.call(Q)}var fi=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},On=function(Q,gt){if(Q.forEach)return Q.forEach(gt);for(var ee=0;ee<Q.length;ee++)gt(Q[ee],ee,Q)};On(vn(be.prototype),(function(Q){Xt[Q]=function(gt){var ee=[].slice.call(arguments,1),Re=new be(gt);return Re[Q].apply(Re,ee)}}));var li=Object.hasOwnProperty||function(Q,gt){return gt in Q},Ji=Pt.exports,en=Rn;function Rn(Q){if(!(this instanceof Rn))return new Rn(Q);this._bbox=Q||[1/0,1/0,-1/0,-1/0],this._valid=!!Q}Rn.prototype.include=function(Q){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],Q[0]),this._bbox[1]=Math.min(this._bbox[1],Q[1]),this._bbox[2]=Math.max(this._bbox[2],Q[0]),this._bbox[3]=Math.max(this._bbox[3],Q[1]),this},Rn.prototype.equals=function(Q){var gt;return gt=Q instanceof Rn?Q.bbox():Q,this._bbox[0]==gt[0]&&this._bbox[1]==gt[1]&&this._bbox[2]==gt[2]&&this._bbox[3]==gt[3]},Rn.prototype.center=function(Q){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Rn.prototype.union=function(Q){var gt;return this._valid=!0,gt=Q instanceof Rn?Q.bbox():Q,this._bbox[0]=Math.min(this._bbox[0],gt[0]),this._bbox[1]=Math.min(this._bbox[1],gt[1]),this._bbox[2]=Math.max(this._bbox[2],gt[2]),this._bbox[3]=Math.max(this._bbox[3],gt[3]),this},Rn.prototype.bbox=function(){return this._valid?this._bbox:null},Rn.prototype.contains=function(Q){if(!Q)return this._fastContains();if(!this._valid)return null;var gt=Q[0],ee=Q[1];return this._bbox[0]<=gt&&this._bbox[1]<=ee&&this._bbox[2]>=gt&&this._bbox[3]>=ee},Rn.prototype.intersect=function(Q){return this._valid?(gt=Q instanceof Rn?Q.bbox():Q,!(this._bbox[0]>gt[2]||this._bbox[2]<gt[0]||this._bbox[3]<gt[1]||this._bbox[1]>gt[3])):null;var gt},Rn.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var Q="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",Q)},Rn.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Wn=function(Q){if(!Q)return[];var gt=Kr(bn(Q)),ee=[];return gt.features.forEach((function(Re){Re.geometry&&(ee=ee.concat(Zn(Re.geometry.coordinates)))})),ee},Ra=Ji,xo=en,Na={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Mn=Object.keys(Na);function io(Q){for(var gt=xo(),ee=Wn(Q),Re=0;Re<ee.length;Re++)gt.include(ee[Re]);return gt}Pe.exports=function(Q){return io(Q).bbox()},Pe.exports.polygon=function(Q){return io(Q).polygon()},Pe.exports.bboxify=function(Q){return Ra(Q).map((function(gt){gt&&Mn.some((function(ee){return!!gt[ee]&&Na[ee].indexOf(gt.type)!==-1}))&&(gt.bbox=io(gt).bbox(),this.update(gt))}))};var rl=n(Pe.exports),oa=-90;function ha(Q,gt){var ee=oa,Re=90,qe=oa,Fe=90,nr=270,rn=-270;Q.forEach((function(un){var En=rl(un),fn=En[1],Yn=En[3],Nn=En[0],ti=En[2];fn>ee&&(ee=fn),Yn<Re&&(Re=Yn),Yn>qe&&(qe=Yn),fn<Fe&&(Fe=fn),Nn<nr&&(nr=Nn),ti>rn&&(rn=ti)}));var mn=gt;return ee+mn.lat>85&&(mn.lat=85-ee),qe+mn.lat>90&&(mn.lat=90-qe),Re+mn.lat<-85&&(mn.lat=-85-Re),Fe+mn.lat<oa&&(mn.lat=oa-Fe),nr+mn.lng<=-270&&(mn.lng+=360*Math.ceil(Math.abs(mn.lng)/360)),rn+mn.lng>=270&&(mn.lng-=360*Math.ceil(Math.abs(mn.lng)/360)),mn}function uc(Q,gt){var ee=ha(Q.map((function(Re){return Re.toGeoJSON()})),gt);Q.forEach((function(Re){var qe,Fe=Re.getCoordinates(),nr=function(mn){var un={lng:mn[0]+ee.lng,lat:mn[1]+ee.lat};return[un.lng,un.lat]},rn=function(mn){return mn.map((function(un){return nr(un)}))};Re.type===D.POINT?qe=nr(Fe):Re.type===D.LINE_STRING||Re.type===D.MULTI_POINT?qe=Fe.map(nr):Re.type===D.POLYGON||Re.type===D.MULTI_LINE_STRING?qe=Fe.map(rn):Re.type===D.MULTI_POLYGON&&(qe=Fe.map((function(mn){return mn.map((function(un){return rn(un)}))}))),Re.incomingCoords(qe)}))}var Vi={onSetup:function(Q){var gt=this,ee={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:Q.featureIds||[]};return this.setSelected(ee.initiallySelectedFeatureIds.filter((function(Re){return gt.getFeature(Re)!==void 0}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),ee},fireUpdate:function(){this.map.fire(H.UPDATE,{action:G.MOVE,features:this.getSelected().map((function(Q){return Q.toGeoJSON()}))})},fireActionable:function(){var Q=this,gt=this.getSelected(),ee=gt.filter((function(rn){return Q.isInstanceOf("MultiFeature",rn)})),Re=!1;if(gt.length>1){Re=!0;var qe=gt[0].type.replace("Multi","");gt.forEach((function(rn){rn.type.replace("Multi","")!==qe&&(Re=!1)}))}var Fe=ee.length>0,nr=gt.length>0;this.setActionableState({combineFeatures:Re,uncombineFeatures:Fe,trash:nr})},getUniqueIds:function(Q){return Q.length?Q.map((function(gt){return gt.properties.id})).filter((function(gt){return gt!==void 0})).reduce((function(gt,ee){return gt.add(ee),gt}),new V).values():[]},stopExtendedInteractions:function(Q){Q.boxSelectElement&&(Q.boxSelectElement.parentNode&&Q.boxSelectElement.parentNode.removeChild(Q.boxSelectElement),Q.boxSelectElement=null),this.map.dragPan.enable(),Q.boxSelecting=!1,Q.canBoxSelect=!1,Q.dragMoving=!1,Q.canDragMove=!1},onStop:function(){Ke.enable(this)},onMouseMove:function(Q,gt){return Fr(gt)&&Q.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(Q),!0},onMouseOut:function(Q){return!Q.dragMoving||this.fireUpdate()}};Vi.onTap=Vi.onClick=function(Q,gt){return er(gt)?this.clickAnywhere(Q,gt):Ir(z.VERTEX)(gt)?this.clickOnVertex(Q,gt):Fr(gt)?this.clickOnFeature(Q,gt):void 0},Vi.clickAnywhere=function(Q){var gt=this,ee=this.getSelectedIds();ee.length&&(this.clearSelectedFeatures(),ee.forEach((function(Re){return gt.doRender(Re)}))),Ke.enable(this),this.stopExtendedInteractions(Q)},Vi.clickOnVertex=function(Q,gt){this.changeMode(U.DIRECT_SELECT,{featureId:gt.featureTarget.properties.parent,coordPath:gt.featureTarget.properties.coord_path,startPos:gt.lngLat}),this.updateUIClasses({mouse:S.MOVE})},Vi.startOnActiveFeature=function(Q,gt){this.stopExtendedInteractions(Q),this.map.dragPan.disable(),this.doRender(gt.featureTarget.properties.id),Q.canDragMove=!0,Q.dragMoveLocation=gt.lngLat},Vi.clickOnFeature=function(Q,gt){var ee=this;Ke.disable(this),this.stopExtendedInteractions(Q);var Re=rr(gt),qe=this.getSelectedIds(),Fe=gt.featureTarget.properties.id,nr=this.isSelected(Fe);if(!Re&&nr&&this.getFeature(Fe).type!==D.POINT)return this.changeMode(U.DIRECT_SELECT,{featureId:Fe});nr&&Re?(this.deselect(Fe),this.updateUIClasses({mouse:S.POINTER}),qe.length===1&&Ke.enable(this)):!nr&&Re?(this.select(Fe),this.updateUIClasses({mouse:S.MOVE})):nr||Re||(qe.forEach((function(rn){return ee.doRender(rn)})),this.setSelected(Fe),this.updateUIClasses({mouse:S.MOVE})),this.doRender(Fe)},Vi.onMouseDown=function(Q,gt){return ar(gt)?this.startOnActiveFeature(Q,gt):this.drawConfig.boxSelect&&dr(gt)?this.startBoxSelect(Q,gt):void 0},Vi.startBoxSelect=function(Q,gt){this.stopExtendedInteractions(Q),this.map.dragPan.disable(),Q.boxSelectStartLocation=je(gt.originalEvent,this.map.getContainer()),Q.canBoxSelect=!0},Vi.onTouchStart=function(Q,gt){if(ar(gt))return this.startOnActiveFeature(Q,gt)},Vi.onDrag=function(Q,gt){return Q.canDragMove?this.dragMove(Q,gt):this.drawConfig.boxSelect&&Q.canBoxSelect?this.whileBoxSelect(Q,gt):void 0},Vi.whileBoxSelect=function(Q,gt){Q.boxSelecting=!0,this.updateUIClasses({mouse:S.ADD}),Q.boxSelectElement||(Q.boxSelectElement=document.createElement("div"),Q.boxSelectElement.classList.add(k.BOX_SELECT),this.map.getContainer().appendChild(Q.boxSelectElement));var ee=je(gt.originalEvent,this.map.getContainer()),Re=Math.min(Q.boxSelectStartLocation.x,ee.x),qe=Math.max(Q.boxSelectStartLocation.x,ee.x),Fe=Math.min(Q.boxSelectStartLocation.y,ee.y),nr=Math.max(Q.boxSelectStartLocation.y,ee.y),rn="translate("+Re+"px, "+Fe+"px)";Q.boxSelectElement.style.transform=rn,Q.boxSelectElement.style.WebkitTransform=rn,Q.boxSelectElement.style.width=qe-Re+"px",Q.boxSelectElement.style.height=nr-Fe+"px"},Vi.dragMove=function(Q,gt){Q.dragMoving=!0,gt.originalEvent.stopPropagation();var ee={lng:gt.lngLat.lng-Q.dragMoveLocation.lng,lat:gt.lngLat.lat-Q.dragMoveLocation.lat};uc(this.getSelected(),ee),Q.dragMoveLocation=gt.lngLat},Vi.onTouchEnd=Vi.onMouseUp=function(Q,gt){var ee=this;if(Q.dragMoving)this.fireUpdate();else if(Q.boxSelecting){var Re=[Q.boxSelectStartLocation,je(gt.originalEvent,this.map.getContainer())],qe=this.featuresAt(null,Re,"click"),Fe=this.getUniqueIds(qe).filter((function(nr){return!ee.isSelected(nr)}));Fe.length&&(this.select(Fe),Fe.forEach((function(nr){return ee.doRender(nr)})),this.updateUIClasses({mouse:S.MOVE}))}this.stopExtendedInteractions(Q)},Vi.toDisplayFeatures=function(Q,gt,ee){gt.properties.active=this.isSelected(gt.properties.id)?j.ACTIVE:j.INACTIVE,ee(gt),this.fireActionable(),gt.properties.active===j.ACTIVE&&gt.geometry.type!==D.POINT&&fr(gt).forEach(ee)},Vi.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Vi.onCombineFeatures=function(){var Q=this.getSelected();if(!(Q.length===0||Q.length<2)){for(var gt=[],ee=[],Re=Q[0].type.replace("Multi",""),qe=0;qe<Q.length;qe++){var Fe=Q[qe];if(Fe.type.replace("Multi","")!==Re)return;Fe.type.includes("Multi")?Fe.getCoordinates().forEach((function(rn){gt.push(rn)})):gt.push(Fe.getCoordinates()),ee.push(Fe.toGeoJSON())}if(ee.length>1){var nr=this.newFeature({type:D.FEATURE,properties:ee[0].properties,geometry:{type:"Multi"+Re,coordinates:gt}});this.addFeature(nr),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([nr.id]),this.map.fire(H.COMBINE_FEATURES,{createdFeatures:[nr.toGeoJSON()],deletedFeatures:ee})}this.fireActionable()}},Vi.onUncombineFeatures=function(){var Q=this,gt=this.getSelected();if(gt.length!==0){for(var ee=[],Re=[],qe=function(nr){var rn=gt[nr];Q.isInstanceOf("MultiFeature",rn)&&(rn.getFeatures().forEach((function(mn){Q.addFeature(mn),mn.properties=rn.properties,ee.push(mn.toGeoJSON()),Q.select([mn.id])})),Q.deleteFeature(rn.id,{silent:!0}),Re.push(rn.toGeoJSON()))},Fe=0;Fe<gt.length;Fe++)qe(Fe);ee.length>1&&this.map.fire(H.UNCOMBINE_FEATURES,{createdFeatures:ee,deletedFeatures:Re}),this.fireActionable()}};var nl=Ir(z.VERTEX),Xo=Ir(z.MIDPOINT),Pi={fireUpdate:function(){this.map.fire(H.UPDATE,{action:G.CHANGE_COORDINATES,features:this.getSelected().map((function(Q){return Q.toGeoJSON()}))})},fireActionable:function(Q){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:Q.selectedCoordPaths.length>0})},startDragging:function(Q,gt){this.map.dragPan.disable(),Q.canDragMove=!0,Q.dragMoveLocation=gt.lngLat},stopDragging:function(Q){this.map.dragPan.enable(),Q.dragMoving=!1,Q.canDragMove=!1,Q.dragMoveLocation=null},onVertex:function(Q,gt){this.startDragging(Q,gt);var ee=gt.featureTarget.properties,Re=Q.selectedCoordPaths.indexOf(ee.coord_path);rr(gt)||Re!==-1?rr(gt)&&Re===-1&&Q.selectedCoordPaths.push(ee.coord_path):Q.selectedCoordPaths=[ee.coord_path];var qe=this.pathsToCoordinates(Q.featureId,Q.selectedCoordPaths);this.setSelectedCoordinates(qe)},onMidpoint:function(Q,gt){this.startDragging(Q,gt);var ee=gt.featureTarget.properties;Q.feature.addCoordinate(ee.coord_path,ee.lng,ee.lat),this.fireUpdate(),Q.selectedCoordPaths=[ee.coord_path]},pathsToCoordinates:function(Q,gt){return gt.map((function(ee){return{feature_id:Q,coord_path:ee}}))},onFeature:function(Q,gt){Q.selectedCoordPaths.length===0?this.startDragging(Q,gt):this.stopDragging(Q)},dragFeature:function(Q,gt,ee){uc(this.getSelected(),ee),Q.dragMoveLocation=gt.lngLat},dragVertex:function(Q,gt,ee){for(var Re=Q.selectedCoordPaths.map((function(rn){return Q.feature.getCoordinate(rn)})),qe=ha(Re.map((function(rn){return{type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:rn}}})),ee),Fe=0;Fe<Re.length;Fe++){var nr=Re[Fe];Q.feature.updateCoordinate(Q.selectedCoordPaths[Fe],nr[0]+qe.lng,nr[1]+qe.lat)}},clickNoTarget:function(){this.changeMode(U.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(U.SIMPLE_SELECT)},clickActiveFeature:function(Q){Q.selectedCoordPaths=[],this.clearSelectedCoordinates(),Q.feature.changed()},onSetup:function(Q){var gt=Q.featureId,ee=this.getFeature(gt);if(!ee)throw new Error("You must provide a featureId to enter direct_select mode");if(ee.type===D.POINT)throw new TypeError("direct_select mode doesn't handle point features");var Re={featureId:gt,feature:ee,dragMoveLocation:Q.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:Q.coordPath?[Q.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(gt,Re.selectedCoordPaths)),this.setSelected(gt),Ke.disable(this),this.setActionableState({trash:!0}),Re},onStop:function(){Ke.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(Q,gt,ee){Q.featureId===gt.properties.id?(gt.properties.active=j.ACTIVE,ee(gt),fr(gt,{map:this.map,midpoints:!0,selectedPaths:Q.selectedCoordPaths}).forEach(ee)):(gt.properties.active=j.INACTIVE,ee(gt)),this.fireActionable(Q)},onTrash:function(Q){Q.selectedCoordPaths.sort((function(gt,ee){return ee.localeCompare(gt,"en",{numeric:!0})})).forEach((function(gt){return Q.feature.removeCoordinate(gt)})),this.fireUpdate(),Q.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(Q),Q.feature.isValid()===!1&&(this.deleteFeature([Q.featureId]),this.changeMode(U.SIMPLE_SELECT,{}))},onMouseMove:function(Q,gt){var ee=ar(gt),Re=nl(gt),qe=Xo(gt),Fe=Q.selectedCoordPaths.length===0;return ee&&Fe||Re&&!Fe?this.updateUIClasses({mouse:S.MOVE}):this.updateUIClasses({mouse:S.NONE}),(Re||ee||qe)&&Q.dragMoving&&this.fireUpdate(),this.stopDragging(Q),!0},onMouseOut:function(Q){return Q.dragMoving&&this.fireUpdate(),!0}};Pi.onTouchStart=Pi.onMouseDown=function(Q,gt){return nl(gt)?this.onVertex(Q,gt):ar(gt)?this.onFeature(Q,gt):Xo(gt)?this.onMidpoint(Q,gt):void 0},Pi.onDrag=function(Q,gt){if(Q.canDragMove===!0){Q.dragMoving=!0,gt.originalEvent.stopPropagation();var ee={lng:gt.lngLat.lng-Q.dragMoveLocation.lng,lat:gt.lngLat.lat-Q.dragMoveLocation.lat};Q.selectedCoordPaths.length>0?this.dragVertex(Q,gt,ee):this.dragFeature(Q,gt,ee),Q.dragMoveLocation=gt.lngLat}},Pi.onClick=function(Q,gt){return er(gt)?this.clickNoTarget(Q,gt):ar(gt)?this.clickActiveFeature(Q,gt):Or(gt)?this.clickInactive(Q,gt):void this.stopDragging(Q)},Pi.onTap=function(Q,gt){return er(gt)?this.clickNoTarget(Q,gt):ar(gt)?this.clickActiveFeature(Q,gt):Or(gt)?this.clickInactive(Q,gt):void 0},Pi.onTouchEnd=Pi.onMouseUp=function(Q){Q.dragMoving&&this.fireUpdate(),this.stopDragging(Q)};var xs={};function Fl(Q,gt){return!!Q.lngLat&&Q.lngLat.lng===gt[0]&&Q.lngLat.lat===gt[1]}xs.onSetup=function(){var Q=this.newFeature({type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:[]}});return this.addFeature(Q),this.clearSelectedFeatures(),this.updateUIClasses({mouse:S.ADD}),this.activateUIButton(P.POINT),this.setActionableState({trash:!0}),{point:Q}},xs.stopDrawingAndRemove=function(Q){this.deleteFeature([Q.point.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)},xs.onTap=xs.onClick=function(Q,gt){this.updateUIClasses({mouse:S.MOVE}),Q.point.updateCoordinate("",gt.lngLat.lng,gt.lngLat.lat),this.map.fire(H.CREATE,{features:[Q.point.toGeoJSON()]}),this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.point.id]})},xs.onStop=function(Q){this.activateUIButton(),Q.point.getCoordinate().length||this.deleteFeature([Q.point.id],{silent:!0})},xs.toDisplayFeatures=function(Q,gt,ee){var Re=gt.properties.id===Q.point.id;if(gt.properties.active=Re?j.ACTIVE:j.INACTIVE,!Re)return ee(gt)},xs.onTrash=xs.stopDrawingAndRemove,xs.onKeyUp=function(Q,gt){if(Me(gt)||Ft(gt))return this.stopDrawingAndRemove(Q,gt)};var Ks={onSetup:function(){var Q=this.newFeature({type:D.FEATURE,properties:{},geometry:{type:D.POLYGON,coordinates:[[]]}});return this.addFeature(Q),this.clearSelectedFeatures(),Ke.disable(this),this.updateUIClasses({mouse:S.ADD}),this.activateUIButton(P.POLYGON),this.setActionableState({trash:!0}),{polygon:Q,currentVertexPosition:0}},clickAnywhere:function(Q,gt){if(Q.currentVertexPosition>0&&Fl(gt,Q.polygon.coordinates[0][Q.currentVertexPosition-1]))return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.polygon.id]});this.updateUIClasses({mouse:S.ADD}),Q.polygon.updateCoordinate("0."+Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Q.currentVertexPosition++,Q.polygon.updateCoordinate("0."+Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat)},clickOnVertex:function(Q){return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.polygon.id]})},onMouseMove:function(Q,gt){Q.polygon.updateCoordinate("0."+Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Ze(gt)&&this.updateUIClasses({mouse:S.POINTER})}};Ks.onTap=Ks.onClick=function(Q,gt){return Ze(gt)?this.clickOnVertex(Q,gt):this.clickAnywhere(Q,gt)},Ks.onKeyUp=function(Q,gt){Me(gt)?(this.deleteFeature([Q.polygon.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)):Ft(gt)&&this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.polygon.id]})},Ks.onStop=function(Q){this.updateUIClasses({mouse:S.NONE}),Ke.enable(this),this.activateUIButton(),this.getFeature(Q.polygon.id)!==void 0&&(Q.polygon.removeCoordinate("0."+Q.currentVertexPosition),Q.polygon.isValid()?this.map.fire(H.CREATE,{features:[Q.polygon.toGeoJSON()]}):(this.deleteFeature([Q.polygon.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT,{},{silent:!0})))},Ks.toDisplayFeatures=function(Q,gt,ee){var Re=gt.properties.id===Q.polygon.id;if(gt.properties.active=Re?j.ACTIVE:j.INACTIVE,!Re)return ee(gt);if(gt.geometry.coordinates.length!==0){var qe=gt.geometry.coordinates[0].length;if(!(qe<3)){if(gt.properties.meta=z.FEATURE,ee(Ge(Q.polygon.id,gt.geometry.coordinates[0][0],"0.0",!1)),qe>3){var Fe=gt.geometry.coordinates[0].length-3;ee(Ge(Q.polygon.id,gt.geometry.coordinates[0][Fe],"0."+Fe,!1))}if(qe<=4){var nr=[[gt.geometry.coordinates[0][0][0],gt.geometry.coordinates[0][0][1]],[gt.geometry.coordinates[0][1][0],gt.geometry.coordinates[0][1][1]]];if(ee({type:D.FEATURE,properties:gt.properties,geometry:{coordinates:nr,type:D.LINE_STRING}}),qe===3)return}return ee(gt)}}},Ks.onTrash=function(Q){this.deleteFeature([Q.polygon.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)};var Do={onSetup:function(Q){var gt,ee,Re=(Q=Q||{}).featureId,qe="forward";if(Re){if(!(gt=this.getFeature(Re)))throw new Error("Could not find a feature with the provided featureId");var Fe=Q.from;if(Fe&&Fe.type==="Feature"&&Fe.geometry&&Fe.geometry.type==="Point"&&(Fe=Fe.geometry),Fe&&Fe.type==="Point"&&Fe.coordinates&&Fe.coordinates.length===2&&(Fe=Fe.coordinates),!Fe||!Array.isArray(Fe))throw new Error("Please use the `from` property to indicate which point to continue the line from");var nr=gt.coordinates.length-1;if(gt.coordinates[nr][0]===Fe[0]&&gt.coordinates[nr][1]===Fe[1])ee=nr+1,gt.addCoordinate.apply(gt,[ee].concat(gt.coordinates[nr]));else{if(gt.coordinates[0][0]!==Fe[0]||gt.coordinates[0][1]!==Fe[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");qe="backwards",ee=0,gt.addCoordinate.apply(gt,[ee].concat(gt.coordinates[0]))}}else gt=this.newFeature({type:D.FEATURE,properties:{},geometry:{type:D.LINE_STRING,coordinates:[]}}),ee=0,this.addFeature(gt);return this.clearSelectedFeatures(),Ke.disable(this),this.updateUIClasses({mouse:S.ADD}),this.activateUIButton(P.LINE),this.setActionableState({trash:!0}),{line:gt,currentVertexPosition:ee,direction:qe}},clickAnywhere:function(Q,gt){if(Q.currentVertexPosition>0&&Fl(gt,Q.line.coordinates[Q.currentVertexPosition-1])||Q.direction==="backwards"&&Fl(gt,Q.line.coordinates[Q.currentVertexPosition+1]))return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.line.id]});this.updateUIClasses({mouse:S.ADD}),Q.line.updateCoordinate(Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Q.direction==="forward"?(Q.currentVertexPosition++,Q.line.updateCoordinate(Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat)):Q.line.addCoordinate(0,gt.lngLat.lng,gt.lngLat.lat)},clickOnVertex:function(Q){return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.line.id]})},onMouseMove:function(Q,gt){Q.line.updateCoordinate(Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Ze(gt)&&this.updateUIClasses({mouse:S.POINTER})}};Do.onTap=Do.onClick=function(Q,gt){if(Ze(gt))return this.clickOnVertex(Q,gt);this.clickAnywhere(Q,gt)},Do.onKeyUp=function(Q,gt){Ft(gt)?this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.line.id]}):Me(gt)&&(this.deleteFeature([Q.line.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT))},Do.onStop=function(Q){Ke.enable(this),this.activateUIButton(),this.getFeature(Q.line.id)!==void 0&&(Q.line.removeCoordinate(""+Q.currentVertexPosition),Q.line.isValid()?this.map.fire(H.CREATE,{features:[Q.line.toGeoJSON()]}):(this.deleteFeature([Q.line.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT,{},{silent:!0})))},Do.onTrash=function(Q){this.deleteFeature([Q.line.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)},Do.toDisplayFeatures=function(Q,gt,ee){var Re=gt.properties.id===Q.line.id;if(gt.properties.active=Re?j.ACTIVE:j.INACTIVE,!Re)return ee(gt);gt.geometry.coordinates.length<2||(gt.properties.meta=z.FEATURE,ee(Ge(Q.line.id,gt.geometry.coordinates[Q.direction==="forward"?gt.geometry.coordinates.length-2:1],""+(Q.direction==="forward"?gt.geometry.coordinates.length-2:1),!1)),ee(gt))};var jl={simple_select:Vi,direct_select:Pi,draw_point:xs,draw_polygon:Ks,draw_line_string:Do},Ha={defaultMode:U.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:Pr,modes:jl,controls:{},userProperties:!1},fl={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Gu={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function pl(Q,gt){return Q.map((function(ee){return ee.source?ee:Mr(ee,{id:ee.id+"."+gt,source:gt==="hot"?I.HOT:I.COLD})}))}var El={exports:{}};(function(Q,gt){var ee="__lodash_hash_undefined__",Re=9007199254740991,qe="[object Arguments]",Fe="[object Array]",nr="[object Boolean]",rn="[object Date]",mn="[object Error]",un="[object Function]",En="[object Map]",fn="[object Number]",Yn="[object Object]",Nn="[object Promise]",ti="[object RegExp]",jn="[object Set]",Zr="[object String]",Ln="[object Symbol]",yi="[object WeakMap]",sa="[object ArrayBuffer]",Ii="[object DataView]",zi=/^\[object .+?Constructor\]$/,da=/^(?:0|[1-9]\d*)$/,Bn={};Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn[qe]=Bn[Fe]=Bn[sa]=Bn[nr]=Bn[Ii]=Bn[rn]=Bn[mn]=Bn[un]=Bn[En]=Bn[fn]=Bn[Yn]=Bn[ti]=Bn[jn]=Bn[Zr]=Bn[yi]=!1;var Xa=typeof my=="object"&&my&&my.Object===Object&&my,pi=typeof self=="object"&&self&&self.Object===Object&&self,ei=Xa||pi||Function("return this")(),Tl=gt&&!gt.nodeType&&gt,zn=Tl&&Q&&!Q.nodeType&&Q,$l=zn&&zn.exports===Tl,No=$l&&Xa.process,wo=(function(){try{return No&&No.binding&&No.binding("util")}catch{}})(),po=wo&&wo.isTypedArray;function _c(lr,mr){for(var An=-1,Dn=lr==null?0:lr.length;++An<Dn;)if(mr(lr[An],An,lr))return!0;return!1}function Ms(lr){var mr=-1,An=Array(lr.size);return lr.forEach((function(Dn,Ni){An[++mr]=[Ni,Dn]})),An}function Cl(lr){var mr=-1,An=Array(lr.size);return lr.forEach((function(Dn){An[++mr]=Dn})),An}var xc,Vl,So,Bo=Array.prototype,Ba=Function.prototype,zo=Object.prototype,ct=ei["__core-js_shared__"],Kt=Ba.toString,ve=zo.hasOwnProperty,Xe=(xc=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+xc:"",pr=zo.toString,Yr=RegExp("^"+Kt.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gn=$l?ei.Buffer:void 0,Vn=ei.Symbol,ri=ei.Uint8Array,Ti=zo.propertyIsEnumerable,ji=Bo.splice,wi=Vn?Vn.toStringTag:void 0,xa=Object.getOwnPropertySymbols,Oi=gn?gn.isBuffer:void 0,Ui=(Vl=Object.keys,So=Object,function(lr){return Vl(So(lr))}),Lo=Ss(ei,"DataView"),Ja=Ss(ei,"Map"),ao=Ss(ei,"Promise"),Ul=Ss(ei,"Set"),wc=Ss(ei,"WeakMap"),Iu=Ss(Object,"create"),ql=Ps(Lo),Ru=Ps(Ja),mo=Ps(ao),Sc=Ps(Ul),vu=Ps(wc),Gl=Vn?Vn.prototype:void 0,Eo=Gl?Gl.valueOf:void 0;function Fo(lr){var mr=-1,An=lr==null?0:lr.length;for(this.clear();++mr<An;){var Dn=lr[mr];this.set(Dn[0],Dn[1])}}function to(lr){var mr=-1,An=lr==null?0:lr.length;for(this.clear();++mr<An;){var Dn=lr[mr];this.set(Dn[0],Dn[1])}}function hc(lr){var mr=-1,An=lr==null?0:lr.length;for(this.clear();++mr<An;){var Dn=lr[mr];this.set(Dn[0],Dn[1])}}function Vc(lr){var mr=-1,An=lr==null?0:lr.length;for(this.__data__=new hc;++mr<An;)this.add(lr[mr])}function oo(lr){var mr=this.__data__=new to(lr);this.size=mr.size}function bu(lr,mr){var An=fc(lr),Dn=!An&&To(lr),Ni=!An&&!Dn&&pc(lr),$n=!An&&!Dn&&!Ni&&xu(lr),A=An||Dn||Ni||$n,m=A?(function(F,nt){for(var xt=-1,Dt=Array(F);++xt<F;)Dt[xt]=nt(xt);return Dt})(lr.length,String):[],y=m.length;for(var C in lr)!ve.call(lr,C)||A&&(C=="length"||Ni&&(C=="offset"||C=="parent")||$n&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||Hc(C,y))||m.push(C);return m}function Uc(lr,mr){for(var An=lr.length;An--;)if(dc(lr[An][0],mr))return An;return-1}function il(lr){return lr==null?lr===void 0?"[object Undefined]":"[object Null]":wi&&wi in Object(lr)?(function(mr){var An=ve.call(mr,wi),Dn=mr[wi];try{mr[wi]=void 0;var Ni=!0}catch{}var $n=pr.call(mr);return Ni&&(An?mr[wi]=Dn:delete mr[wi]),$n})(lr):(function(mr){return pr.call(mr)})(lr)}function ws(lr){return Ec(lr)&&il(lr)==qe}function Zs(lr,mr,An,Dn,Ni){return lr===mr||(lr==null||mr==null||!Ec(lr)&&!Ec(mr)?lr!=lr&&mr!=mr:(function($n,A,m,y,C,F){var nt=fc($n),xt=fc(A),Dt=nt?Fe:Es($n),re=xt?Fe:Es(A),_e=(Dt=Dt==qe?Yn:Dt)==Yn,sr=(re=re==qe?Yn:re)==Yn,_r=Dt==re;if(_r&&pc($n)){if(!pc(A))return!1;nt=!0,_e=!1}if(_r&&!_e)return F||(F=new oo),nt||xu($n)?qc($n,A,m,y,C,F):(function(Kn,Hn,ma,qi,Va,$o,so){switch(ma){case Ii:if(Kn.byteLength!=Hn.byteLength||Kn.byteOffset!=Hn.byteOffset)return!1;Kn=Kn.buffer,Hn=Hn.buffer;case sa:return!(Kn.byteLength!=Hn.byteLength||!$o(new ri(Kn),new ri(Hn)));case nr:case rn:case fn:return dc(+Kn,+Hn);case mn:return Kn.name==Hn.name&&Kn.message==Hn.message;case ti:case Zr:return Kn==Hn+"";case En:var ls=Ms;case jn:var Tc=1&qi;if(ls||(ls=Cl),Kn.size!=Hn.size&&!Tc)return!1;var Cc=so.get(Kn);if(Cc)return Cc==Hn;qi|=2,so.set(Kn,Hn);var kl=qc(ls(Kn),ls(Hn),qi,Va,$o,so);return so.delete(Kn),kl;case Ln:if(Eo)return Eo.call(Kn)==Eo.call(Hn)}return!1})($n,A,Dt,m,y,C,F);if(!(1&m)){var tn=_e&&ve.call($n,"__wrapped__"),In=sr&&ve.call(A,"__wrapped__");if(tn||In){var Qn=tn?$n.value():$n,hi=In?A.value():A;return F||(F=new oo),C(Qn,hi,m,y,F)}}return _r?(F||(F=new oo),(function(Kn,Hn,ma,qi,Va,$o){var so=1&ma,ls=Hl(Kn),Tc=ls.length,Cc=Hl(Hn).length;if(Tc!=Cc&&!so)return!1;for(var kl=Tc;kl--;){var ml=ls[kl];if(!(so?ml in Hn:ve.call(Hn,ml)))return!1}var Ac=$o.get(Kn);if(Ac&&$o.get(Hn))return Ac==Hn;var Il=!0;$o.set(Kn,Hn),$o.set(Hn,Kn);for(var Co=so;++kl<Tc;){var Cs=Kn[ml=ls[kl]],Wu=Hn[ml];if(qi)var mi=so?qi(Wu,Cs,ml,Hn,Kn,$o):qi(Cs,Wu,ml,Kn,Hn,$o);if(!(mi===void 0?Cs===Wu||Va(Cs,Wu,ma,qi,$o):mi)){Il=!1;break}Co||(Co=ml=="constructor")}if(Il&&!Co){var Xc=Kn.constructor,Xl=Hn.constructor;Xc==Xl||!("constructor"in Kn)||!("constructor"in Hn)||typeof Xc=="function"&&Xc instanceof Xc&&typeof Xl=="function"&&Xl instanceof Xl||(Il=!1)}return $o.delete(Kn),$o.delete(Hn),Il})($n,A,m,y,C,F)):!1})(lr,mr,An,Dn,Zs,Ni))}function mh(lr){return!(!Xu(lr)||(function(mr){return!!Xe&&Xe in mr})(lr))&&(Al(lr)?Yr:zi).test(Ps(lr))}function Hu(lr){if(An=(mr=lr)&&mr.constructor,Dn=typeof An=="function"&&An.prototype||zo,mr!==Dn)return Ui(lr);var mr,An,Dn,Ni=[];for(var $n in Object(lr))ve.call(lr,$n)&&$n!="constructor"&&Ni.push($n);return Ni}function qc(lr,mr,An,Dn,Ni,$n){var A=1&An,m=lr.length,y=mr.length;if(m!=y&&!(A&&y>m))return!1;var C=$n.get(lr);if(C&&$n.get(mr))return C==mr;var F=-1,nt=!0,xt=2&An?new Vc:void 0;for($n.set(lr,mr),$n.set(mr,lr);++F<m;){var Dt=lr[F],re=mr[F];if(Dn)var _e=A?Dn(re,Dt,F,mr,lr,$n):Dn(Dt,re,F,lr,mr,$n);if(_e!==void 0){if(_e)continue;nt=!1;break}if(xt){if(!_c(mr,(function(sr,_r){if(tn=_r,!xt.has(tn)&&(Dt===sr||Ni(Dt,sr,An,Dn,$n)))return xt.push(_r);var tn}))){nt=!1;break}}else if(Dt!==re&&!Ni(Dt,re,An,Dn,$n)){nt=!1;break}}return $n.delete(lr),$n.delete(mr),nt}function Hl(lr){return(function(mr,An,Dn){var Ni=An(mr);return fc(mr)?Ni:(function($n,A){for(var m=-1,y=A.length,C=$n.length;++m<y;)$n[C+m]=A[m];return $n})(Ni,Dn(mr))})(lr,Ts,Gc)}function jo(lr,mr){var An,Dn,Ni=lr.__data__;return((Dn=typeof(An=mr))=="string"||Dn=="number"||Dn=="symbol"||Dn=="boolean"?An!=="__proto__":An===null)?Ni[typeof mr=="string"?"string":"hash"]:Ni.map}function Ss(lr,mr){var An=(function(Dn,Ni){return Dn?.[Ni]})(lr,mr);return mh(An)?An:void 0}Fo.prototype.clear=function(){this.__data__=Iu?Iu(null):{},this.size=0},Fo.prototype.delete=function(lr){var mr=this.has(lr)&&delete this.__data__[lr];return this.size-=mr?1:0,mr},Fo.prototype.get=function(lr){var mr=this.__data__;if(Iu){var An=mr[lr];return An===ee?void 0:An}return ve.call(mr,lr)?mr[lr]:void 0},Fo.prototype.has=function(lr){var mr=this.__data__;return Iu?mr[lr]!==void 0:ve.call(mr,lr)},Fo.prototype.set=function(lr,mr){var An=this.__data__;return this.size+=this.has(lr)?0:1,An[lr]=Iu&&mr===void 0?ee:mr,this},to.prototype.clear=function(){this.__data__=[],this.size=0},to.prototype.delete=function(lr){var mr=this.__data__,An=Uc(mr,lr);return!(An<0)&&(An==mr.length-1?mr.pop():ji.call(mr,An,1),--this.size,!0)},to.prototype.get=function(lr){var mr=this.__data__,An=Uc(mr,lr);return An<0?void 0:mr[An][1]},to.prototype.has=function(lr){return Uc(this.__data__,lr)>-1},to.prototype.set=function(lr,mr){var An=this.__data__,Dn=Uc(An,lr);return Dn<0?(++this.size,An.push([lr,mr])):An[Dn][1]=mr,this},hc.prototype.clear=function(){this.size=0,this.__data__={hash:new Fo,map:new(Ja||to),string:new Fo}},hc.prototype.delete=function(lr){var mr=jo(this,lr).delete(lr);return this.size-=mr?1:0,mr},hc.prototype.get=function(lr){return jo(this,lr).get(lr)},hc.prototype.has=function(lr){return jo(this,lr).has(lr)},hc.prototype.set=function(lr,mr){var An=jo(this,lr),Dn=An.size;return An.set(lr,mr),this.size+=An.size==Dn?0:1,this},Vc.prototype.add=Vc.prototype.push=function(lr){return this.__data__.set(lr,ee),this},Vc.prototype.has=function(lr){return this.__data__.has(lr)},oo.prototype.clear=function(){this.__data__=new to,this.size=0},oo.prototype.delete=function(lr){var mr=this.__data__,An=mr.delete(lr);return this.size=mr.size,An},oo.prototype.get=function(lr){return this.__data__.get(lr)},oo.prototype.has=function(lr){return this.__data__.has(lr)},oo.prototype.set=function(lr,mr){var An=this.__data__;if(An instanceof to){var Dn=An.__data__;if(!Ja||Dn.length<199)return Dn.push([lr,mr]),this.size=++An.size,this;An=this.__data__=new hc(Dn)}return An.set(lr,mr),this.size=An.size,this};var Gc=xa?function(lr){return lr==null?[]:(lr=Object(lr),(function(mr,An){for(var Dn=-1,Ni=mr==null?0:mr.length,$n=0,A=[];++Dn<Ni;){var m=mr[Dn];An(m,Dn,mr)&&(A[$n++]=m)}return A})(xa(lr),(function(mr){return Ti.call(lr,mr)})))}:function(){return[]},Es=il;function Hc(lr,mr){return!!(mr=mr??Re)&&(typeof lr=="number"||da.test(lr))&&lr>-1&&lr%1==0&&lr<mr}function Ps(lr){if(lr!=null){try{return Kt.call(lr)}catch{}try{return lr+""}catch{}}return""}function dc(lr,mr){return lr===mr||lr!=lr&&mr!=mr}(Lo&&Es(new Lo(new ArrayBuffer(1)))!=Ii||Ja&&Es(new Ja)!=En||ao&&Es(ao.resolve())!=Nn||Ul&&Es(new Ul)!=jn||wc&&Es(new wc)!=yi)&&(Es=function(lr){var mr=il(lr),An=mr==Yn?lr.constructor:void 0,Dn=An?Ps(An):"";if(Dn)switch(Dn){case ql:return Ii;case Ru:return En;case mo:return Nn;case Sc:return jn;case vu:return yi}return mr});var To=ws((function(){return arguments})())?ws:function(lr){return Ec(lr)&&ve.call(lr,"callee")&&!Ti.call(lr,"callee")},fc=Array.isArray,pc=Oi||function(){return!1};function Al(lr){if(!Xu(lr))return!1;var mr=il(lr);return mr==un||mr=="[object GeneratorFunction]"||mr=="[object AsyncFunction]"||mr=="[object Proxy]"}function _u(lr){return typeof lr=="number"&&lr>-1&&lr%1==0&&lr<=Re}function Xu(lr){var mr=typeof lr;return lr!=null&&(mr=="object"||mr=="function")}function Ec(lr){return lr!=null&&typeof lr=="object"}var xu=po?(function(lr){return function(mr){return lr(mr)}})(po):function(lr){return Ec(lr)&&_u(lr.length)&&!!Bn[il(lr)]};function Ts(lr){return(mr=lr)!=null&&_u(mr.length)&&!Al(mr)?bu(lr):Hu(lr);var mr}Q.exports=function(lr,mr){return Zs(lr,mr)}})(El,El.exports);var Wo=n(El.exports);function Yo(Q,gt){return Q.length===gt.length&&JSON.stringify(Q.map((function(ee){return ee})).sort())===JSON.stringify(gt.map((function(ee){return ee})).sort())}var Ko={Polygon:Ut,LineString:Rt,Point:kt,MultiPolygon:ce,MultiLineString:ce,MultiPoint:ce},Zo=Object.freeze({__proto__:null,CommonSelectors:Mt,constrainFeatureMovement:ha,createMidPoint:Ue,createSupplementaryPoints:fr,createVertex:Ge,doubleClickZoom:Ke,euclideanDistance:At,featuresAt:mt,getFeatureAtAndSetCursors:pt,isClick:St,isEventAtCoordinates:Fl,isTap:Lt,mapEventToBoundingBox:at,ModeHandler:r,moveFeatures:uc,sortFeatures:vt,stringSetsAreEqual:Yo,StringSet:V,theme:Pr,toDenseArray:ke}),iu=function(Q,gt){var ee={options:Q=(function(qe){qe===void 0&&(qe={});var Fe=Mr(qe);return qe.controls||(Fe.controls={}),qe.displayControlsDefault===!1?Fe.controls=Mr(Gu,qe.controls):Fe.controls=Mr(fl,qe.controls),(Fe=Mr(Ha,Fe)).styles=pl(Fe.styles,"cold").concat(pl(Fe.styles,"hot")),Fe})(Q)};gt=(function(qe,Fe){return Fe.modes=U,Fe.getFeatureIdsAt=function(nr){return mt.click({point:nr},null,qe).map((function(rn){return rn.properties.id}))},Fe.getSelectedIds=function(){return qe.store.getSelectedIds()},Fe.getSelected=function(){return{type:D.FEATURE_COLLECTION,features:qe.store.getSelectedIds().map((function(nr){return qe.store.get(nr)})).map((function(nr){return nr.toGeoJSON()}))}},Fe.getSelectedPoints=function(){return{type:D.FEATURE_COLLECTION,features:qe.store.getSelectedCoordinates().map((function(nr){return{type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:nr.coordinates}}}))}},Fe.set=function(nr){if(nr.type===void 0||nr.type!==D.FEATURE_COLLECTION||!Array.isArray(nr.features))throw new Error("Invalid FeatureCollection");var rn=qe.store.createRenderBatch(),mn=qe.store.getAllIds().slice(),un=Fe.add(nr),En=new V(un);return(mn=mn.filter((function(fn){return!En.has(fn)}))).length&&Fe.delete(mn),rn(),un},Fe.add=function(nr){var rn=JSON.parse(JSON.stringify(Wr(nr))).features.map((function(mn){if(mn.id=mn.id||lt(),mn.geometry===null)throw new Error("Invalid geometry: null");if(qe.store.get(mn.id)===void 0||qe.store.get(mn.id).type!==mn.geometry.type){var un=Ko[mn.geometry.type];if(un===void 0)throw new Error("Invalid geometry type: "+mn.geometry.type+".");var En=new un(qe,mn);qe.store.add(En)}else{var fn=qe.store.get(mn.id);fn.properties=mn.properties,Wo(fn.properties,mn.properties)||qe.store.featureChanged(fn.id),Wo(fn.getCoordinates(),mn.geometry.coordinates)||fn.incomingCoords(mn.geometry.coordinates)}return mn.id}));return qe.store.render(),rn},Fe.get=function(nr){var rn=qe.store.get(nr);if(rn)return rn.toGeoJSON()},Fe.getAll=function(){return{type:D.FEATURE_COLLECTION,features:qe.store.getAll().map((function(nr){return nr.toGeoJSON()}))}},Fe.delete=function(nr){return qe.store.delete(nr,{silent:!0}),Fe.getMode()!==U.DIRECT_SELECT||qe.store.getSelectedIds().length?qe.store.render():qe.events.changeMode(U.SIMPLE_SELECT,void 0,{silent:!0}),Fe},Fe.deleteAll=function(){return qe.store.delete(qe.store.getAllIds(),{silent:!0}),Fe.getMode()===U.DIRECT_SELECT?qe.events.changeMode(U.SIMPLE_SELECT,void 0,{silent:!0}):qe.store.render(),Fe},Fe.changeMode=function(nr,rn){return rn===void 0&&(rn={}),nr===U.SIMPLE_SELECT&&Fe.getMode()===U.SIMPLE_SELECT?(Yo(rn.featureIds||[],qe.store.getSelectedIds())||(qe.store.setSelected(rn.featureIds,{silent:!0}),qe.store.render()),Fe):(nr===U.DIRECT_SELECT&&Fe.getMode()===U.DIRECT_SELECT&&rn.featureId===qe.store.getSelectedIds()[0]||qe.events.changeMode(nr,rn,{silent:!0}),Fe)},Fe.getMode=function(){return qe.events.getMode()},Fe.trash=function(){return qe.events.trash({silent:!0}),Fe},Fe.combineFeatures=function(){return qe.events.combineFeatures({silent:!0}),Fe},Fe.uncombineFeatures=function(){return qe.events.uncombineFeatures({silent:!0}),Fe},Fe.setFeatureProperty=function(nr,rn,mn){return qe.store.setFeatureProperty(nr,rn,mn),Fe},Fe})(ee,gt),ee.api=gt;var Re=Rr(ee);return gt.onAdd=Re.onAdd,gt.onRemove=Re.onRemove,gt.types=P,gt.options=Q,gt};function yu(Q){iu(Q,this)}return yu.modes=jl,yu.constants=et,yu.lib=Zo,yu}))})(ML)),ML.exports}Npt();const Xz=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","hillshade","background"];function Lpt(t){return typeof t.options.source=="string"?{source:t.options.source}:t.geojson&&(!t.options?.source||typeof t?.options?.source!="string"&&t.options?.source?.attribution&&!t.options?.source?.type)?{source:{type:"geojson",data:t.geojson||"",attribution:typeof t?.options?.source!="string"&&t.options.source?.attribution?t.options.source?.attribution:""}}:{}}function Mpt(t,e){if(t?.insertBeforeLayer)return t.insertBeforeLayer;if(t?.insertBeforeFirstSymbolLayer)return e?.map?.firstSymbolLayer}function PL(t){const e=Uw({mapId:t.mapId,waitForLayer:t.insertBeforeLayer}),r=ut.useRef(""),n=ut.useRef(""),i=ut.useRef(""),[o,c]=ut.useState(),a=ut.useRef(t.layerId||(t.idPrefix?t.idPrefix:"Layer-")+e.componentId),g=ut.useCallback(()=>{if(!e.map||e?.map.cancelled||(e.map.map.getLayer(a.current)&&e.cleanup(),typeof t?.options?.source!="string"&&e.map.map.getSource(a.current)&&e.map.map.removeSource(a.current),typeof t.options.source=="string"&&(t.options.source===""||!e.map.map.getSource(t.options.source)))||typeof t?.options?.source!="string"&&!t.geojson&&!t?.options?.source?.data&&t?.options?.type!=="background"||typeof t.options.type>"u")return;try{e.map.addLayer({...t.options,...Lpt(t),id:a.current},Mpt(t,e),e.componentId)}catch(k){console.error("Failed to add layer:",k)}c(()=>e.map?.map.getLayer(a.current));const v=()=>{e.map?.map.getLayer(a.current)||g()};e.map.on("styledata",v,e.componentId);const x=(k,I,{source_id:S})=>{e.map&&typeof t?.options?.source=="string"&&t.options.source===S&&g()};e.map.wrapper.on("addsource",x,e.componentId),n.current=JSON.stringify(t.options?.paint),i.current=JSON.stringify(t.options?.layout),r.current=t.options.type},[t,e]);return ut.useEffect(()=>{e.map&&(!t.geojson&&!t.options.source&&t?.options?.type!=="background"||e.map?.cancelled===!1&&e?.map?.map?.getLayer?.(a.current)&&(Xz.indexOf(t.options.type)===-1||Xz.indexOf(t.options.type)!==-1&&t.options.type===r.current)||g())},[e.map,e.mapIsReady,t,g]),ut.useEffect(()=>{e.map?.cancelled===!0||!e.map?.map?.getSource?.(a.current)||e.map.map.getSource(a.current)?.setData?.(t.geojson)},[t.geojson,e.map,t.options.type]),ut.useEffect(()=>{if(e.map?.cancelled===!0||!e.map||!e.map?.map?.getLayer?.(a.current)||t.options.type!==r.current)return;let v;const x=JSON.stringify(t.options.layout);if(t.options.layout&&x!==i.current){const I=JSON.parse(i.current);for(v in t.options.layout)t.options.layout?.[v]&&t.options.layout[v]!==I[v]&&e.map.map.setLayoutProperty(a.current,v,t.options.layout[v]);i.current=x}const k=JSON.stringify(t.options.paint);if(k!==n.current){const I=JSON.parse(n.current);for(v in t.options.paint)t.options.paint?.[v]&&t.options.paint[v]!==I[v]&&e.map.map.setPaintProperty(a.current,v,t.options.paint[v]);n.current=k}},[t.options,e.map]),ut.useEffect(()=>{!t.insertBeforeLayer||!e.map||!e.map.getLayer(t.insertBeforeLayer)||!e.map.getLayer(a.current)||e.map.moveLayer(a.current,t.insertBeforeLayer)},[e.map,t.insertBeforeLayer]),ut.useEffect(()=>()=>{e.cleanup()},[]),ut.useEffect(()=>{if(typeof t?.options?.source!="string"||!e.map)return;const v=()=>{typeof t?.options?.source=="string"&&e?.map?.getSource?.(t.options.source)&&!e.map.getLayer(a.current)&&g()};e.map.on("sourcedataloading",v);const x=(k,I,{source_id:S})=>{e.map&&typeof t?.options?.source=="string"&&t.options.source===S&&g()};return e.map.wrapper.on("addsource",x),()=>{e?.map&&(e.map.off("sourcedataloading",v),e.map.wrapper.off("addsource",x))}},[e.map,t.options?.source]),ut.useEffect(()=>{if(!t.onClick||!e?.map||!e?.map?.getLayer?.(a.current))return;const v=t.onClick;return e.map?.on("click",a.current,v),()=>{v&&e?.map&&e.map?.off("click",a.current,v)}},[e.map,t.onClick]),ut.useEffect(()=>{if(!t.onHover||!e?.map||!e?.map?.getLayer?.(a.current))return;const v=t.onHover;return e.map?.on("mousemove",a.current,v),()=>{v&&e?.map&&e.map?.off("mousemove",a.current,v)}},[e.map,t.onHover]),ut.useEffect(()=>{if(!t.onLeave||!e?.map||!e?.map?.getLayer?.(a.current))return;const v=t.onLeave;return e.map?.on("mouseleave",a.current,v),()=>{v&&e?.map&&e.map?.off("mouseleave",a.current,v)}},[e.map,t.onLeave]),{map:e.map,layer:o,layerId:a.current,componentId:e.componentId,mapHook:e}}PL.defaultProps={};const Ppt=(t,e)=>{switch(t){case"fill":return e?.fill?e.fill:{"fill-color":"#009EE0","fill-outline-color":"#009EE0"};case"line":return e?.line?(console.log(e.line),e.line):{"line-color":"#009EE0","line-width":4,"line-blur":0};case"circle":return e?.circle?e.circle:{"circle-color":"#009EE0","circle-stroke-color":"#fff","circle-stroke-width":2,"circle-radius":5};default:return{}}},Wz={Position:"circle",Point:"circle",MultiPoint:"circle",LineString:"line",MultiLineString:"line",Polygon:"fill",MultiPolygon:"fill",GeometryCollection:"circle"},KG=t=>t?.type==="Feature"?Wz?.[t?.geometry?.type]?Wz[t.geometry.type]:"circle":t?.type==="FeatureCollection"?t.features.length?KG(t.features[0]):"circle":"fill";function Opt(t){const e=Uw({mapId:t.mapId}),[r,n]=ut.useState(),i=ut.useRef(t.sourceId||(t.idPrefix?t.idPrefix:"Source-")+e.componentId),o=ut.useCallback(()=>{if(e.map&&e.map?.style?._layers){for(const[a,g]of Object.entries(e.map.style._layers))g.source===i.current&&e.map.removeLayer(a);e.map.getSource(i.current)&&e.map.removeSource(i.current)}},[e.map]),c=ut.useCallback(()=>{e.map&&(t.source.type==="geojson"&&!t.source.data||(e.map.map.getSource(i.current)&&o(),e.map?.addSource(i.current,{...t.source}),n(e.map.map.getSource(i.current))))},[t,e,o]);return ut.useEffect(()=>{e.map?.map?.getSource(i.current)&&e.map.map.getSource(i.current)?.setData?.(t.source.data)},[t.source?.data]),ut.useEffect(()=>{e?.map?.map?.getSource?.(t.sourceId)&&t.sourceId===i.current||(i.current=t.sourceId,c())},[e.map,t,c]),ut.useEffect(()=>{if(!e.map)return;const a=()=>{e?.map?.getSource?.(t.sourceId)||c()};return e.map.on("styledata",a),()=>{e?.map&&e.map.off("styledata",a)}},[e.map,c]),ut.useEffect(()=>()=>{o()},[o]),{map:e.map,source:r,componentId:e.componentId,mapHook:e}}const Dpt=t=>{const e=t.type||KG(t.geojson),r=ut.useRef(t.layerId||"MlGeoJsonLayer-"+aw()),n=`label-${r.current}`;return ut.useEffect(()=>{t.layerId?r.current=t.layerId:r.current="MlGeoJsonLayer-"+aw()},[t.layerId]),Opt({mapId:t.mapId,sourceId:"source-"+r.current,source:{type:"geojson",data:t.geojson,...typeof t?.options?.source<"u"&&typeof t?.options?.source!="string"?t.options.source:{}}}),PL({mapId:t.mapId,layerId:r.current,options:{...typeof t?.options?.source<"u"&&typeof t?.options?.source=="string"?{source:t.options.source}:{source:"source-"+r.current},paint:{...t.paint||Ppt(e,t.defaultPaintOverrides),...t?.options?.paint},layout:{...t?.layout||{},...t?.options?.layout},type:e},insertBeforeLayer:t.insertBeforeLayer,onHover:t.onHover,onClick:t.onClick,onLeave:t.onLeave}),PL({mapId:t.mapId,options:{...typeof t?.options?.source<"u"&&typeof t?.options?.source=="string"?{source:t.options.source}:{source:"source-"+r.current},id:n,type:"symbol",maxzoom:24,minzoom:1,...t?.labelOptions?t.labelOptions:{},...t?.options?.filter?{filter:t.options.filter}:{},layout:{"text-font":["Open Sans Regular"],"text-field":`{${t.labelProp}}`,"text-size":12,"text-anchor":"top",...t?.labelOptions?.layout?t.labelOptions.layout:{},visibility:t?.layout?.visibility??t?.options?.layout?.visibility??"visible"},paint:{"text-halo-width":1,"text-halo-color":"#fefefe","text-color":"#121212",...t?.labelOptions?.paint?t.labelOptions.paint:{}}}}),yr.jsx(yr.Fragment,{})};ba(yr.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}));ba(yr.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}));ba(yr.jsx("path",{d:"m2 9 4 12h12l4-12-10-7z"}));qr(Ww)({marginTop:"15px"});ba(yr.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));ba(yr.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}));ba(yr.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}));ba(yr.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));u0(EP)({paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"});u0(TP)({minWidth:"30px"});u0(Oy)({marginRight:"0px",padding:"0px"});u0(kq)({padding:0,marginRight:"5px"});u0(Wrt)(({open:t})=>({display:t?"block":"none"}));u0(Ww)({marginLeft:"50px"});var sd={},Eb={},aI,Yz;function ZG(){if(Yz)return aI;Yz=1;var t=typeof my=="object"&&my&&my.Object===Object&&my;return aI=t,aI}var oI,Kz;function $m(){if(Kz)return oI;Kz=1;var t=ZG(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return oI=r,oI}var sI,Zz;function Qw(){if(Zz)return sI;Zz=1;var t=$m(),e=t.Symbol;return sI=e,sI}var lI,Qz;function Bpt(){if(Qz)return lI;Qz=1;var t=Qw(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(c){var a=r.call(c,i),g=c[i];try{c[i]=void 0;var v=!0}catch{}var x=n.call(c);return v&&(a?c[i]=g:delete c[i]),x}return lI=o,lI}var cI,Jz;function zpt(){if(Jz)return cI;Jz=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return cI=r,cI}var uI,t8;function m0(){if(t8)return uI;t8=1;var t=Qw(),e=Bpt(),r=zpt(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function c(a){return a==null?a===void 0?i:n:o&&o in Object(a)?e(a):r(a)}return uI=c,uI}var hI,e8;function Rp(){if(e8)return hI;e8=1;var t=Array.isArray;return hI=t,hI}var dI,r8;function Rg(){if(r8)return dI;r8=1;function t(e){return e!=null&&typeof e=="object"}return dI=t,dI}var fI,n8;function Fpt(){if(n8)return fI;n8=1;var t=m0(),e=Rp(),r=Rg(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return fI=i,fI}var pI,i8;function jpt(){if(i8)return pI;i8=1;function t(e){return function(r,n,i){for(var o=-1,c=Object(r),a=i(r),g=a.length;g--;){var v=a[e?g:++o];if(n(c[v],v,c)===!1)break}return r}}return pI=t,pI}var mI,a8;function $pt(){if(a8)return mI;a8=1;var t=jpt(),e=t();return mI=e,mI}var gI,o8;function Vpt(){if(o8)return gI;o8=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return gI=t,gI}var yI,s8;function Upt(){if(s8)return yI;s8=1;var t=m0(),e=Rg(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return yI=n,yI}var vI,l8;function QG(){if(l8)return vI;l8=1;var t=Upt(),e=Rg(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(c){return e(c)&&n.call(c,"callee")&&!i.call(c,"callee")};return vI=o,vI}var SE={exports:{}},bI,c8;function qpt(){if(c8)return bI;c8=1;function t(){return!1}return bI=t,bI}SE.exports;var u8;function jP(){return u8||(u8=1,(function(t,e){var r=$m(),n=qpt(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,c=o&&o.exports===i,a=c?r.Buffer:void 0,g=a?a.isBuffer:void 0,v=g||n;t.exports=v})(SE,SE.exports)),SE.exports}var _I,h8;function JG(){if(h8)return _I;h8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return _I=r,_I}var xI,d8;function $P(){if(d8)return xI;d8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return xI=e,xI}var wI,f8;function Gpt(){if(f8)return wI;f8=1;var t=m0(),e=$P(),r=Rg(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",c="[object Date]",a="[object Error]",g="[object Function]",v="[object Map]",x="[object Number]",k="[object Object]",I="[object RegExp]",S="[object Set]",P="[object String]",D="[object WeakMap]",U="[object ArrayBuffer]",H="[object DataView]",G="[object Float32Array]",z="[object Float64Array]",j="[object Int8Array]",X="[object Int16Array]",Y="[object Int32Array]",et="[object Uint8Array]",st="[object Uint8ClampedArray]",it="[object Uint16Array]",vt="[object Uint32Array]",at={};at[G]=at[z]=at[j]=at[X]=at[Y]=at[et]=at[st]=at[it]=at[vt]=!0,at[n]=at[i]=at[U]=at[o]=at[H]=at[c]=at[a]=at[g]=at[v]=at[x]=at[k]=at[I]=at[S]=at[P]=at[D]=!1;function V(dt){return r(dt)&&e(dt.length)&&!!at[t(dt)]}return wI=V,wI}var SI,p8;function VP(){if(p8)return SI;p8=1;function t(e){return function(r){return e(r)}}return SI=t,SI}var EE={exports:{}};EE.exports;var m8;function UP(){return m8||(m8=1,(function(t,e){var r=ZG(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,c=o&&r.process,a=(function(){try{var g=i&&i.require&&i.require("util").types;return g||c&&c.binding&&c.binding("util")}catch{}})();t.exports=a})(EE,EE.exports)),EE.exports}var EI,g8;function tH(){if(g8)return EI;g8=1;var t=Gpt(),e=VP(),r=UP(),n=r&&r.isTypedArray,i=n?e(n):t;return EI=i,EI}var TI,y8;function eH(){if(y8)return TI;y8=1;var t=Vpt(),e=QG(),r=Rp(),n=jP(),i=JG(),o=tH(),c=Object.prototype,a=c.hasOwnProperty;function g(v,x){var k=r(v),I=!k&&e(v),S=!k&&!I&&n(v),P=!k&&!I&&!S&&o(v),D=k||I||S||P,U=D?t(v.length,String):[],H=U.length;for(var G in v)(x||a.call(v,G))&&!(D&&(G=="length"||S&&(G=="offset"||G=="parent")||P&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||i(G,H)))&&U.push(G);return U}return TI=g,TI}var CI,v8;function qP(){if(v8)return CI;v8=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return CI=e,CI}var AI,b8;function rH(){if(b8)return AI;b8=1;function t(e,r){return function(n){return e(r(n))}}return AI=t,AI}var kI,_8;function Hpt(){if(_8)return kI;_8=1;var t=rH(),e=t(Object.keys,Object);return kI=e,kI}var II,x8;function Xpt(){if(x8)return II;x8=1;var t=qP(),e=Hpt(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var c=[];for(var a in Object(o))n.call(o,a)&&a!="constructor"&&c.push(a);return c}return II=i,II}var RI,w8;function bx(){if(w8)return RI;w8=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return RI=t,RI}var NI,S8;function nH(){if(S8)return NI;S8=1;var t=m0(),e=bx(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function c(a){if(!e(a))return!1;var g=t(a);return g==n||g==i||g==r||g==o}return NI=c,NI}var LI,E8;function JC(){if(E8)return LI;E8=1;var t=nH(),e=$P();function r(n){return n!=null&&e(n.length)&&!t(n)}return LI=r,LI}var MI,T8;function Jw(){if(T8)return MI;T8=1;var t=eH(),e=Xpt(),r=JC();function n(i){return r(i)?t(i):e(i)}return MI=n,MI}var PI,C8;function iH(){if(C8)return PI;C8=1;var t=$pt(),e=Jw();function r(n,i){return n&&t(n,i,e)}return PI=r,PI}var OI,A8;function aH(){if(A8)return OI;A8=1;function t(e){return e}return OI=t,OI}var DI,k8;function Wpt(){if(k8)return DI;k8=1;var t=aH();function e(r){return typeof r=="function"?r:t}return DI=e,DI}var BI,I8;function GP(){if(I8)return BI;I8=1;var t=iH(),e=Wpt();function r(n,i){return n&&t(n,e(i))}return BI=r,BI}var zI,R8;function HP(){if(R8)return zI;R8=1;var t=rH(),e=t(Object.getPrototypeOf,Object);return zI=e,zI}var FI,N8;function Ypt(){if(N8)return FI;N8=1;var t=m0(),e=HP(),r=Rg(),n="[object Object]",i=Function.prototype,o=Object.prototype,c=i.toString,a=o.hasOwnProperty,g=c.call(Object);function v(x){if(!r(x)||t(x)!=n)return!1;var k=e(x);if(k===null)return!0;var I=a.call(k,"constructor")&&k.constructor;return typeof I=="function"&&I instanceof I&&c.call(I)==g}return FI=v,FI}var jI,L8;function oH(){if(L8)return jI;L8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return jI=t,jI}var $I,M8;function Kpt(){if(M8)return $I;M8=1;function t(){this.__data__=[],this.size=0}return $I=t,$I}var VI,P8;function XP(){if(P8)return VI;P8=1;function t(e,r){return e===r||e!==e&&r!==r}return VI=t,VI}var UI,O8;function tA(){if(O8)return UI;O8=1;var t=XP();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return UI=e,UI}var qI,D8;function Zpt(){if(D8)return qI;D8=1;var t=tA(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,c=t(o,i);if(c<0)return!1;var a=o.length-1;return c==a?o.pop():r.call(o,c,1),--this.size,!0}return qI=n,qI}var GI,B8;function Qpt(){if(B8)return GI;B8=1;var t=tA();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return GI=e,GI}var HI,z8;function Jpt(){if(z8)return HI;z8=1;var t=tA();function e(r){return t(this.__data__,r)>-1}return HI=e,HI}var XI,F8;function tmt(){if(F8)return XI;F8=1;var t=tA();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return XI=e,XI}var WI,j8;function eA(){if(j8)return WI;j8=1;var t=Kpt(),e=Zpt(),r=Qpt(),n=Jpt(),i=tmt();function o(c){var a=-1,g=c==null?0:c.length;for(this.clear();++a<g;){var v=c[a];this.set(v[0],v[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,WI=o,WI}var YI,$8;function emt(){if($8)return YI;$8=1;var t=eA();function e(){this.__data__=new t,this.size=0}return YI=e,YI}var KI,V8;function rmt(){if(V8)return KI;V8=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return KI=t,KI}var ZI,U8;function nmt(){if(U8)return ZI;U8=1;function t(e){return this.__data__.get(e)}return ZI=t,ZI}var QI,q8;function imt(){if(q8)return QI;q8=1;function t(e){return this.__data__.has(e)}return QI=t,QI}var JI,G8;function amt(){if(G8)return JI;G8=1;var t=$m(),e=t["__core-js_shared__"];return JI=e,JI}var t3,H8;function omt(){if(H8)return t3;H8=1;var t=amt(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return t3=r,t3}var e3,X8;function sH(){if(X8)return e3;X8=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return e3=r,e3}var r3,W8;function smt(){if(W8)return r3;W8=1;var t=nH(),e=omt(),r=bx(),n=sH(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,a=Object.prototype,g=c.toString,v=a.hasOwnProperty,x=RegExp("^"+g.call(v).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k(I){if(!r(I)||e(I))return!1;var S=t(I)?x:o;return S.test(n(I))}return r3=k,r3}var n3,Y8;function lmt(){if(Y8)return n3;Y8=1;function t(e,r){return e?.[r]}return n3=t,n3}var i3,K8;function g0(){if(K8)return i3;K8=1;var t=smt(),e=lmt();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return i3=r,i3}var a3,Z8;function WP(){if(Z8)return a3;Z8=1;var t=g0(),e=$m(),r=t(e,"Map");return a3=r,a3}var o3,Q8;function rA(){if(Q8)return o3;Q8=1;var t=g0(),e=t(Object,"create");return o3=e,o3}var s3,J8;function cmt(){if(J8)return s3;J8=1;var t=rA();function e(){this.__data__=t?t(null):{},this.size=0}return s3=e,s3}var l3,tF;function umt(){if(tF)return l3;tF=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return l3=t,l3}var c3,eF;function hmt(){if(eF)return c3;eF=1;var t=rA(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var c=this.__data__;if(t){var a=c[o];return a===e?void 0:a}return n.call(c,o)?c[o]:void 0}return c3=i,c3}var u3,rF;function dmt(){if(rF)return u3;rF=1;var t=rA(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return u3=n,u3}var h3,nF;function fmt(){if(nF)return h3;nF=1;var t=rA(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return h3=r,h3}var d3,iF;function pmt(){if(iF)return d3;iF=1;var t=cmt(),e=umt(),r=hmt(),n=dmt(),i=fmt();function o(c){var a=-1,g=c==null?0:c.length;for(this.clear();++a<g;){var v=c[a];this.set(v[0],v[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,d3=o,d3}var f3,aF;function mmt(){if(aF)return f3;aF=1;var t=pmt(),e=eA(),r=WP();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return f3=n,f3}var p3,oF;function gmt(){if(oF)return p3;oF=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return p3=t,p3}var m3,sF;function nA(){if(sF)return m3;sF=1;var t=gmt();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return m3=e,m3}var g3,lF;function ymt(){if(lF)return g3;lF=1;var t=nA();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return g3=e,g3}var y3,cF;function vmt(){if(cF)return y3;cF=1;var t=nA();function e(r){return t(this,r).get(r)}return y3=e,y3}var v3,uF;function bmt(){if(uF)return v3;uF=1;var t=nA();function e(r){return t(this,r).has(r)}return v3=e,v3}var b3,hF;function _mt(){if(hF)return b3;hF=1;var t=nA();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return b3=e,b3}var _3,dF;function YP(){if(dF)return _3;dF=1;var t=mmt(),e=ymt(),r=vmt(),n=bmt(),i=_mt();function o(c){var a=-1,g=c==null?0:c.length;for(this.clear();++a<g;){var v=c[a];this.set(v[0],v[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,_3=o,_3}var x3,fF;function xmt(){if(fF)return x3;fF=1;var t=eA(),e=WP(),r=YP(),n=200;function i(o,c){var a=this.__data__;if(a instanceof t){var g=a.__data__;if(!e||g.length<n-1)return g.push([o,c]),this.size=++a.size,this;a=this.__data__=new r(g)}return a.set(o,c),this.size=a.size,this}return x3=i,x3}var w3,pF;function KP(){if(pF)return w3;pF=1;var t=eA(),e=emt(),r=rmt(),n=nmt(),i=imt(),o=xmt();function c(a){var g=this.__data__=new t(a);this.size=g.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=i,c.prototype.set=o,w3=c,w3}var S3,mF;function wmt(){if(mF)return S3;mF=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return S3=e,S3}var E3,gF;function Smt(){if(gF)return E3;gF=1;function t(e){return this.__data__.has(e)}return E3=t,E3}var T3,yF;function Emt(){if(yF)return T3;yF=1;var t=YP(),e=wmt(),r=Smt();function n(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new t;++o<c;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,T3=n,T3}var C3,vF;function Tmt(){if(vF)return C3;vF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return C3=t,C3}var A3,bF;function Cmt(){if(bF)return A3;bF=1;function t(e,r){return e.has(r)}return A3=t,A3}var k3,_F;function lH(){if(_F)return k3;_F=1;var t=Emt(),e=Tmt(),r=Cmt(),n=1,i=2;function o(c,a,g,v,x,k){var I=g&n,S=c.length,P=a.length;if(S!=P&&!(I&&P>S))return!1;var D=k.get(c),U=k.get(a);if(D&&U)return D==a&&U==c;var H=-1,G=!0,z=g&i?new t:void 0;for(k.set(c,a),k.set(a,c);++H<S;){var j=c[H],X=a[H];if(v)var Y=I?v(X,j,H,a,c,k):v(j,X,H,c,a,k);if(Y!==void 0){if(Y)continue;G=!1;break}if(z){if(!e(a,function(et,st){if(!r(z,st)&&(j===et||x(j,et,g,v,k)))return z.push(st)})){G=!1;break}}else if(!(j===X||x(j,X,g,v,k))){G=!1;break}}return k.delete(c),k.delete(a),G}return k3=o,k3}var I3,xF;function cH(){if(xF)return I3;xF=1;var t=$m(),e=t.Uint8Array;return I3=e,I3}var R3,wF;function Amt(){if(wF)return R3;wF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return R3=t,R3}var N3,SF;function kmt(){if(SF)return N3;SF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return N3=t,N3}var L3,EF;function Imt(){if(EF)return L3;EF=1;var t=Qw(),e=cH(),r=XP(),n=lH(),i=Amt(),o=kmt(),c=1,a=2,g="[object Boolean]",v="[object Date]",x="[object Error]",k="[object Map]",I="[object Number]",S="[object RegExp]",P="[object Set]",D="[object String]",U="[object Symbol]",H="[object ArrayBuffer]",G="[object DataView]",z=t?t.prototype:void 0,j=z?z.valueOf:void 0;function X(Y,et,st,it,vt,at,V){switch(st){case G:if(Y.byteLength!=et.byteLength||Y.byteOffset!=et.byteOffset)return!1;Y=Y.buffer,et=et.buffer;case H:return!(Y.byteLength!=et.byteLength||!at(new e(Y),new e(et)));case g:case v:case I:return r(+Y,+et);case x:return Y.name==et.name&&Y.message==et.message;case S:case D:return Y==et+"";case k:var dt=i;case P:var mt=it&c;if(dt||(dt=o),Y.size!=et.size&&!mt)return!1;var wt=V.get(Y);if(wt)return wt==et;it|=a,V.set(Y,et);var pt=n(dt(Y),dt(et),it,vt,at,V);return V.delete(Y),pt;case U:if(j)return j.call(Y)==j.call(et)}return!1}return L3=X,L3}var M3,TF;function uH(){if(TF)return M3;TF=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return M3=t,M3}var P3,CF;function hH(){if(CF)return P3;CF=1;var t=uH(),e=Rp();function r(n,i,o){var c=i(n);return e(n)?c:t(c,o(n))}return P3=r,P3}var O3,AF;function Rmt(){if(AF)return O3;AF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,c=[];++n<i;){var a=e[n];r(a,n,e)&&(c[o++]=a)}return c}return O3=t,O3}var D3,kF;function dH(){if(kF)return D3;kF=1;function t(){return[]}return D3=t,D3}var B3,IF;function ZP(){if(IF)return B3;IF=1;var t=Rmt(),e=dH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(c){return c==null?[]:(c=Object(c),t(i(c),function(a){return n.call(c,a)}))}:e;return B3=o,B3}var z3,RF;function fH(){if(RF)return z3;RF=1;var t=hH(),e=ZP(),r=Jw();function n(i){return t(i,r,e)}return z3=n,z3}var F3,NF;function Nmt(){if(NF)return F3;NF=1;var t=fH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,c,a,g,v,x){var k=a&e,I=t(o),S=I.length,P=t(c),D=P.length;if(S!=D&&!k)return!1;for(var U=S;U--;){var H=I[U];if(!(k?H in c:n.call(c,H)))return!1}var G=x.get(o),z=x.get(c);if(G&&z)return G==c&&z==o;var j=!0;x.set(o,c),x.set(c,o);for(var X=k;++U<S;){H=I[U];var Y=o[H],et=c[H];if(g)var st=k?g(et,Y,H,c,o,x):g(Y,et,H,o,c,x);if(!(st===void 0?Y===et||v(Y,et,a,g,x):st)){j=!1;break}X||(X=H=="constructor")}if(j&&!X){var it=o.constructor,vt=c.constructor;it!=vt&&"constructor"in o&&"constructor"in c&&!(typeof it=="function"&&it instanceof it&&typeof vt=="function"&&vt instanceof vt)&&(j=!1)}return x.delete(o),x.delete(c),j}return F3=i,F3}var j3,LF;function Lmt(){if(LF)return j3;LF=1;var t=g0(),e=$m(),r=t(e,"DataView");return j3=r,j3}var $3,MF;function Mmt(){if(MF)return $3;MF=1;var t=g0(),e=$m(),r=t(e,"Promise");return $3=r,$3}var V3,PF;function Pmt(){if(PF)return V3;PF=1;var t=g0(),e=$m(),r=t(e,"Set");return V3=r,V3}var U3,OF;function Omt(){if(OF)return U3;OF=1;var t=g0(),e=$m(),r=t(e,"WeakMap");return U3=r,U3}var q3,DF;function iA(){if(DF)return q3;DF=1;var t=Lmt(),e=WP(),r=Mmt(),n=Pmt(),i=Omt(),o=m0(),c=sH(),a="[object Map]",g="[object Object]",v="[object Promise]",x="[object Set]",k="[object WeakMap]",I="[object DataView]",S=c(t),P=c(e),D=c(r),U=c(n),H=c(i),G=o;return(t&&G(new t(new ArrayBuffer(1)))!=I||e&&G(new e)!=a||r&&G(r.resolve())!=v||n&&G(new n)!=x||i&&G(new i)!=k)&&(G=function(z){var j=o(z),X=j==g?z.constructor:void 0,Y=X?c(X):"";if(Y)switch(Y){case S:return I;case P:return a;case D:return v;case U:return x;case H:return k}return j}),q3=G,q3}var G3,BF;function Dmt(){if(BF)return G3;BF=1;var t=KP(),e=lH(),r=Imt(),n=Nmt(),i=iA(),o=Rp(),c=jP(),a=tH(),g=1,v="[object Arguments]",x="[object Array]",k="[object Object]",I=Object.prototype,S=I.hasOwnProperty;function P(D,U,H,G,z,j){var X=o(D),Y=o(U),et=X?x:i(D),st=Y?x:i(U);et=et==v?k:et,st=st==v?k:st;var it=et==k,vt=st==k,at=et==st;if(at&&c(D)){if(!c(U))return!1;X=!0,it=!1}if(at&&!it)return j||(j=new t),X||a(D)?e(D,U,H,G,z,j):r(D,U,et,H,G,z,j);if(!(H&g)){var V=it&&S.call(D,"__wrapped__"),dt=vt&&S.call(U,"__wrapped__");if(V||dt){var mt=V?D.value():D,wt=dt?U.value():U;return j||(j=new t),z(mt,wt,H,G,j)}}return at?(j||(j=new t),n(D,U,H,G,z,j)):!1}return G3=P,G3}var H3,zF;function pH(){if(zF)return H3;zF=1;var t=Dmt(),e=Rg();function r(n,i,o,c,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,c,r,a)}return H3=r,H3}var X3,FF;function Bmt(){if(FF)return X3;FF=1;var t=KP(),e=pH(),r=1,n=2;function i(o,c,a,g){var v=a.length,x=v,k=!g;if(o==null)return!x;for(o=Object(o);v--;){var I=a[v];if(k&&I[2]?I[1]!==o[I[0]]:!(I[0]in o))return!1}for(;++v<x;){I=a[v];var S=I[0],P=o[S],D=I[1];if(k&&I[2]){if(P===void 0&&!(S in o))return!1}else{var U=new t;if(g)var H=g(P,D,S,o,c,U);if(!(H===void 0?e(D,P,r|n,g,U):H))return!1}}return!0}return X3=i,X3}var W3,jF;function mH(){if(jF)return W3;jF=1;var t=bx();function e(r){return r===r&&!t(r)}return W3=e,W3}var Y3,$F;function zmt(){if($F)return Y3;$F=1;var t=mH(),e=Jw();function r(n){for(var i=e(n),o=i.length;o--;){var c=i[o],a=n[c];i[o]=[c,a,t(a)]}return i}return Y3=r,Y3}var K3,VF;function gH(){if(VF)return K3;VF=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return K3=t,K3}var Z3,UF;function Fmt(){if(UF)return Z3;UF=1;var t=Bmt(),e=zmt(),r=gH();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(c){return c===i||t(c,i,o)}}return Z3=n,Z3}var Q3,qF;function QP(){if(qF)return Q3;qF=1;var t=m0(),e=Rg(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Q3=n,Q3}var J3,GF;function JP(){if(GF)return J3;GF=1;var t=Rp(),e=QP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,c){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||c!=null&&o in Object(c)}return J3=i,J3}var tR,HF;function jmt(){if(HF)return tR;HF=1;var t=YP(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var c=arguments,a=i?i.apply(this,c):c[0],g=o.cache;if(g.has(a))return g.get(a);var v=n.apply(this,c);return o.cache=g.set(a,v)||g,v};return o.cache=new(r.Cache||t),o}return r.Cache=t,tR=r,tR}var eR,XF;function $mt(){if(XF)return eR;XF=1;var t=jmt(),e=500;function r(n){var i=t(n,function(c){return o.size===e&&o.clear(),c}),o=i.cache;return i}return eR=r,eR}var rR,WF;function Vmt(){if(WF)return rR;WF=1;var t=$mt(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(c,a,g,v){o.push(g?v.replace(r,"$1"):a||c)}),o});return rR=n,rR}var nR,YF;function Umt(){if(YF)return nR;YF=1;var t=Qw(),e=oH(),r=Rp(),n=QP(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function c(a){if(typeof a=="string")return a;if(r(a))return e(a,c)+"";if(n(a))return o?o.call(a):"";var g=a+"";return g=="0"&&1/a==-1/0?"-0":g}return nR=c,nR}var iR,KF;function qmt(){if(KF)return iR;KF=1;var t=Umt();function e(r){return r==null?"":t(r)}return iR=e,iR}var aR,ZF;function yH(){if(ZF)return aR;ZF=1;var t=Rp(),e=JP(),r=Vmt(),n=qmt();function i(o,c){return t(o)?o:e(o,c)?[o]:r(n(o))}return aR=i,aR}var oR,QF;function aA(){if(QF)return oR;QF=1;var t=QP();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return oR=e,oR}var sR,JF;function vH(){if(JF)return sR;JF=1;var t=yH(),e=aA();function r(n,i){i=t(i,n);for(var o=0,c=i.length;n!=null&&o<c;)n=n[e(i[o++])];return o&&o==c?n:void 0}return sR=r,sR}var lR,tj;function Gmt(){if(tj)return lR;tj=1;var t=vH();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return lR=e,lR}var cR,ej;function Hmt(){if(ej)return cR;ej=1;function t(e,r){return e!=null&&r in Object(e)}return cR=t,cR}var uR,rj;function Xmt(){if(rj)return uR;rj=1;var t=yH(),e=QG(),r=Rp(),n=JG(),i=$P(),o=aA();function c(a,g,v){g=t(g,a);for(var x=-1,k=g.length,I=!1;++x<k;){var S=o(g[x]);if(!(I=a!=null&&v(a,S)))break;a=a[S]}return I||++x!=k?I:(k=a==null?0:a.length,!!k&&i(k)&&n(S,k)&&(r(a)||e(a)))}return uR=c,uR}var hR,nj;function Wmt(){if(nj)return hR;nj=1;var t=Hmt(),e=Xmt();function r(n,i){return n!=null&&e(n,i,t)}return hR=r,hR}var dR,ij;function Ymt(){if(ij)return dR;ij=1;var t=pH(),e=Gmt(),r=Wmt(),n=JP(),i=mH(),o=gH(),c=aA(),a=1,g=2;function v(x,k){return n(x)&&i(k)?o(c(x),k):function(I){var S=e(I,x);return S===void 0&&S===k?r(I,x):t(k,S,a|g)}}return dR=v,dR}var fR,aj;function Kmt(){if(aj)return fR;aj=1;function t(e){return function(r){return r?.[e]}}return fR=t,fR}var pR,oj;function Zmt(){if(oj)return pR;oj=1;var t=vH();function e(r){return function(n){return t(n,r)}}return pR=e,pR}var mR,sj;function Qmt(){if(sj)return mR;sj=1;var t=Kmt(),e=Zmt(),r=JP(),n=aA();function i(o){return r(o)?t(n(o)):e(o)}return mR=i,mR}var gR,lj;function Jmt(){if(lj)return gR;lj=1;var t=Fmt(),e=Ymt(),r=aH(),n=Rp(),i=Qmt();function o(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?e(c[0],c[1]):t(c):i(c)}return gR=o,gR}var yR,cj;function tgt(){if(cj)return yR;cj=1;var t=JC();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var c=i.length,a=n?c:-1,g=Object(i);(n?a--:++a<c)&&o(g[a],a,g)!==!1;);return i}}return yR=e,yR}var vR,uj;function egt(){if(uj)return vR;uj=1;var t=iH(),e=tgt(),r=e(t);return vR=r,vR}var bR,hj;function rgt(){if(hj)return bR;hj=1;var t=egt(),e=JC();function r(n,i){var o=-1,c=e(n)?Array(n.length):[];return t(n,function(a,g,v){c[++o]=i(a,g,v)}),c}return bR=r,bR}var _R,dj;function ngt(){if(dj)return _R;dj=1;var t=oH(),e=Jmt(),r=rgt(),n=Rp();function i(o,c){var a=n(o)?t:r;return a(o,e(c,3))}return _R=i,_R}var fj;function igt(){if(fj)return Eb;fj=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.flattenNames=void 0;var t=Fpt(),e=g(t),r=GP(),n=g(r),i=Ypt(),o=g(i),c=ngt(),a=g(c);function g(x){return x&&x.__esModule?x:{default:x}}var v=Eb.flattenNames=function x(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=[];return(0,a.default)(k,function(S){Array.isArray(S)?x(S).map(function(P){return I.push(P)}):(0,o.default)(S)?(0,n.default)(S,function(P,D){P===!0&&I.push(D),I.push(D+"-"+P)}):(0,e.default)(S)&&I.push(S)}),I};return Eb.default=v,Eb}var Tb={},xR,pj;function agt(){if(pj)return xR;pj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return xR=t,xR}var wR,mj;function ogt(){if(mj)return wR;mj=1;var t=g0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return wR=e,wR}var SR,gj;function bH(){if(gj)return SR;gj=1;var t=ogt();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return SR=e,SR}var ER,yj;function _H(){if(yj)return ER;yj=1;var t=bH(),e=XP(),r=Object.prototype,n=r.hasOwnProperty;function i(o,c,a){var g=o[c];(!(n.call(o,c)&&e(g,a))||a===void 0&&!(c in o))&&t(o,c,a)}return ER=i,ER}var TR,vj;function oA(){if(vj)return TR;vj=1;var t=_H(),e=bH();function r(n,i,o,c){var a=!o;o||(o={});for(var g=-1,v=i.length;++g<v;){var x=i[g],k=c?c(o[x],n[x],x,o,n):void 0;k===void 0&&(k=n[x]),a?e(o,x,k):t(o,x,k)}return o}return TR=r,TR}var CR,bj;function sgt(){if(bj)return CR;bj=1;var t=oA(),e=Jw();function r(n,i){return n&&t(i,e(i),n)}return CR=r,CR}var AR,_j;function lgt(){if(_j)return AR;_j=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return AR=t,AR}var kR,xj;function cgt(){if(xj)return kR;xj=1;var t=bx(),e=qP(),r=lgt(),n=Object.prototype,i=n.hasOwnProperty;function o(c){if(!t(c))return r(c);var a=e(c),g=[];for(var v in c)v=="constructor"&&(a||!i.call(c,v))||g.push(v);return g}return kR=o,kR}var IR,wj;function t4(){if(wj)return IR;wj=1;var t=eH(),e=cgt(),r=JC();function n(i){return r(i)?t(i,!0):e(i)}return IR=n,IR}var RR,Sj;function ugt(){if(Sj)return RR;Sj=1;var t=oA(),e=t4();function r(n,i){return n&&t(i,e(i),n)}return RR=r,RR}var TE={exports:{}};TE.exports;var Ej;function hgt(){return Ej||(Ej=1,(function(t,e){var r=$m(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,c=o?r.Buffer:void 0,a=c?c.allocUnsafe:void 0;function g(v,x){if(x)return v.slice();var k=v.length,I=a?a(k):new v.constructor(k);return v.copy(I),I}t.exports=g})(TE,TE.exports)),TE.exports}var NR,Tj;function dgt(){if(Tj)return NR;Tj=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return NR=t,NR}var LR,Cj;function fgt(){if(Cj)return LR;Cj=1;var t=oA(),e=ZP();function r(n,i){return t(n,e(n),i)}return LR=r,LR}var MR,Aj;function xH(){if(Aj)return MR;Aj=1;var t=uH(),e=HP(),r=ZP(),n=dH(),i=Object.getOwnPropertySymbols,o=i?function(c){for(var a=[];c;)t(a,r(c)),c=e(c);return a}:n;return MR=o,MR}var PR,kj;function pgt(){if(kj)return PR;kj=1;var t=oA(),e=xH();function r(n,i){return t(n,e(n),i)}return PR=r,PR}var OR,Ij;function mgt(){if(Ij)return OR;Ij=1;var t=hH(),e=xH(),r=t4();function n(i){return t(i,r,e)}return OR=n,OR}var DR,Rj;function ggt(){if(Rj)return DR;Rj=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,o=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return DR=r,DR}var BR,Nj;function e4(){if(Nj)return BR;Nj=1;var t=cH();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return BR=e,BR}var zR,Lj;function ygt(){if(Lj)return zR;Lj=1;var t=e4();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return zR=e,zR}var FR,Mj;function vgt(){if(Mj)return FR;Mj=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return FR=e,FR}var jR,Pj;function bgt(){if(Pj)return jR;Pj=1;var t=Qw(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return jR=n,jR}var $R,Oj;function _gt(){if(Oj)return $R;Oj=1;var t=e4();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return $R=e,$R}var VR,Dj;function xgt(){if(Dj)return VR;Dj=1;var t=e4(),e=ygt(),r=vgt(),n=bgt(),i=_gt(),o="[object Boolean]",c="[object Date]",a="[object Map]",g="[object Number]",v="[object RegExp]",x="[object Set]",k="[object String]",I="[object Symbol]",S="[object ArrayBuffer]",P="[object DataView]",D="[object Float32Array]",U="[object Float64Array]",H="[object Int8Array]",G="[object Int16Array]",z="[object Int32Array]",j="[object Uint8Array]",X="[object Uint8ClampedArray]",Y="[object Uint16Array]",et="[object Uint32Array]";function st(it,vt,at){var V=it.constructor;switch(vt){case S:return t(it);case o:case c:return new V(+it);case P:return e(it,at);case D:case U:case H:case G:case z:case j:case X:case Y:case et:return i(it,at);case a:return new V;case g:case k:return new V(it);case v:return r(it);case x:return new V;case I:return n(it)}}return VR=st,VR}var UR,Bj;function wgt(){if(Bj)return UR;Bj=1;var t=bx(),e=Object.create,r=(function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var o=new n;return n.prototype=void 0,o}})();return UR=r,UR}var qR,zj;function Sgt(){if(zj)return qR;zj=1;var t=wgt(),e=HP(),r=qP();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return qR=n,qR}var GR,Fj;function Egt(){if(Fj)return GR;Fj=1;var t=iA(),e=Rg(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return GR=n,GR}var HR,jj;function Tgt(){if(jj)return HR;jj=1;var t=Egt(),e=VP(),r=UP(),n=r&&r.isMap,i=n?e(n):t;return HR=i,HR}var XR,$j;function Cgt(){if($j)return XR;$j=1;var t=iA(),e=Rg(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return XR=n,XR}var WR,Vj;function Agt(){if(Vj)return WR;Vj=1;var t=Cgt(),e=VP(),r=UP(),n=r&&r.isSet,i=n?e(n):t;return WR=i,WR}var YR,Uj;function kgt(){if(Uj)return YR;Uj=1;var t=KP(),e=agt(),r=_H(),n=sgt(),i=ugt(),o=hgt(),c=dgt(),a=fgt(),g=pgt(),v=fH(),x=mgt(),k=iA(),I=ggt(),S=xgt(),P=Sgt(),D=Rp(),U=jP(),H=Tgt(),G=bx(),z=Agt(),j=Jw(),X=t4(),Y=1,et=2,st=4,it="[object Arguments]",vt="[object Array]",at="[object Boolean]",V="[object Date]",dt="[object Error]",mt="[object Function]",wt="[object GeneratorFunction]",pt="[object Map]",At="[object Number]",St="[object Object]",Lt="[object RegExp]",jt="[object Set]",_t="[object String]",lt="[object Symbol]",Tt="[object WeakMap]",kt="[object ArrayBuffer]",Rt="[object DataView]",Ut="[object Float32Array]",ie="[object Float64Array]",Ht="[object Int8Array]",ce="[object Int16Array]",de="[object Int32Array]",Se="[object Uint8Array]",Vt="[object Uint8ClampedArray]",He="[object Uint16Array]",ke="[object Uint32Array]",Jt={};Jt[it]=Jt[vt]=Jt[kt]=Jt[Rt]=Jt[at]=Jt[V]=Jt[Ut]=Jt[ie]=Jt[Ht]=Jt[ce]=Jt[de]=Jt[pt]=Jt[At]=Jt[St]=Jt[Lt]=Jt[jt]=Jt[_t]=Jt[lt]=Jt[Se]=Jt[Vt]=Jt[He]=Jt[ke]=!0,Jt[dt]=Jt[mt]=Jt[Tt]=!1;function $r(vr,Dr,Ie,Mr,ir,Rr){var Pr,Ir=Dr&Y,dr=Dr&et,ar=Dr&st;if(Ie&&(Pr=ir?Ie(vr,Mr,ir,Rr):Ie(vr)),Pr!==void 0)return Pr;if(!G(vr))return vr;var Or=D(vr);if(Or){if(Pr=I(vr),!Ir)return c(vr,Pr)}else{var er=k(vr),Fr=er==mt||er==wt;if(U(vr))return o(vr,Ir);if(er==St||er==it||Fr&&!ir){if(Pr=dr||Fr?{}:P(vr),!Ir)return dr?g(vr,i(Pr,vr)):a(vr,n(Pr,vr))}else{if(!Jt[er])return ir?vr:{};Pr=S(vr,er,Ir)}}Rr||(Rr=new t);var Ze=Rr.get(vr);if(Ze)return Ze;Rr.set(vr,Pr),z(vr)?vr.forEach(function(Ft){Pr.add($r(Ft,Dr,Ie,Ft,vr,Rr))}):H(vr)&&vr.forEach(function(Ft,Mt){Pr.set(Mt,$r(Ft,Dr,Ie,Mt,vr,Rr))});var rr=ar?dr?x:v:dr?X:j,Me=Or?void 0:rr(vr);return e(Me||vr,function(Ft,Mt){Me&&(Mt=Ft,Ft=vr[Mt]),r(Pr,Mt,$r(Ft,Dr,Ie,Mt,vr,Rr))}),Pr}return YR=$r,YR}var KR,qj;function Igt(){if(qj)return KR;qj=1;var t=kgt(),e=1,r=4;function n(i){return t(i,e|r)}return KR=n,KR}var Gj;function Rgt(){if(Gj)return Tb;Gj=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.mergeClasses=void 0;var t=GP(),e=o(t),r=Igt(),n=o(r),i=Object.assign||function(a){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(a[x]=v[x])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var c=Tb.mergeClasses=function(a){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=a.default&&(0,n.default)(a.default)||{};return g.map(function(x){var k=a[x];return k&&(0,e.default)(k,function(I,S){v[S]||(v[S]={}),v[S]=i({},v[S],k[S])}),x}),v};return Tb.default=c,Tb}var Cb={},Hj;function Ngt(){if(Hj)return Cb;Hj=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.autoprefix=void 0;var t=GP(),e=n(t),r=Object.assign||function(c){for(var a=1;a<arguments.length;a++){var g=arguments[a];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(c[v]=g[v])}return c};function n(c){return c&&c.__esModule?c:{default:c}}var i={borderRadius:function(c){return{msBorderRadius:c,MozBorderRadius:c,OBorderRadius:c,WebkitBorderRadius:c,borderRadius:c}},boxShadow:function(c){return{msBoxShadow:c,MozBoxShadow:c,OBoxShadow:c,WebkitBoxShadow:c,boxShadow:c}},userSelect:function(c){return{WebkitTouchCallout:c,KhtmlUserSelect:c,MozUserSelect:c,msUserSelect:c,WebkitUserSelect:c,userSelect:c}},flex:function(c){return{WebkitBoxFlex:c,MozBoxFlex:c,WebkitFlex:c,msFlex:c,flex:c}},flexBasis:function(c){return{WebkitFlexBasis:c,flexBasis:c}},justifyContent:function(c){return{WebkitJustifyContent:c,justifyContent:c}},transition:function(c){return{msTransition:c,MozTransition:c,OTransition:c,WebkitTransition:c,transition:c}},transform:function(c){return{msTransform:c,MozTransform:c,OTransform:c,WebkitTransform:c,transform:c}},absolute:function(c){var a=c&&c.split(" ");return{position:"absolute",top:a&&a[0],right:a&&a[1],bottom:a&&a[2],left:a&&a[3]}},extend:function(c,a){var g=a[c];return g||{extend:c}}},o=Cb.autoprefix=function(c){var a={};return(0,e.default)(c,function(g,v){var x={};(0,e.default)(g,function(k,I){var S=i[I];S?x=r({},x,S(k)):x[I]=k}),a[v]=x}),a};return Cb.default=o,Cb}var Ab={},Xj;function Lgt(){if(Xj)return Ab;Xj=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.hover=void 0;var t=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(g[k]=x[k])}return g},e=we,r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function o(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var a=Ab.hover=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(x){c(k,x);function k(){var I,S,P,D;i(this,k);for(var U=arguments.length,H=Array(U),G=0;G<U;G++)H[G]=arguments[G];return D=(S=(P=o(this,(I=k.__proto__||Object.getPrototypeOf(k)).call.apply(I,[this].concat(H))),P),P.state={hover:!1},P.handleMouseOver=function(){return P.setState({hover:!0})},P.handleMouseOut=function(){return P.setState({hover:!1})},P.render=function(){return r.default.createElement(v,{onMouseOver:P.handleMouseOver,onMouseOut:P.handleMouseOut},r.default.createElement(g,t({},P.props,P.state)))},S),o(P,D)}return k})(r.default.Component)};return Ab.default=a,Ab}var kb={},Wj;function Mgt(){if(Wj)return kb;Wj=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.active=void 0;var t=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(g[k]=x[k])}return g},e=we,r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function o(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var a=kb.active=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(x){c(k,x);function k(){var I,S,P,D;i(this,k);for(var U=arguments.length,H=Array(U),G=0;G<U;G++)H[G]=arguments[G];return D=(S=(P=o(this,(I=k.__proto__||Object.getPrototypeOf(k)).call.apply(I,[this].concat(H))),P),P.state={active:!1},P.handleMouseDown=function(){return P.setState({active:!0})},P.handleMouseUp=function(){return P.setState({active:!1})},P.render=function(){return r.default.createElement(v,{onMouseDown:P.handleMouseDown,onMouseUp:P.handleMouseUp},r.default.createElement(g,t({},P.props,P.state)))},S),o(P,D)}return k})(r.default.Component)};return kb.default=a,kb}var D5={},Yj;function Pgt(){if(Yj)return D5;Yj=1,Object.defineProperty(D5,"__esModule",{value:!0});var t=function(e,r){var n={},i=function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=c};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};return D5.default=t,D5}var Kj;function Ogt(){if(Kj)return sd;Kj=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.ReactCSS=sd.loop=sd.handleActive=sd.handleHover=sd.hover=void 0;var t=igt(),e=I(t),r=Rgt(),n=I(r),i=Ngt(),o=I(i),c=Lgt(),a=I(c),g=Mgt(),v=I(g),x=Pgt(),k=I(x);function I(P){return P&&P.__esModule?P:{default:P}}sd.hover=a.default,sd.handleHover=a.default,sd.handleActive=v.default,sd.loop=k.default;var S=sd.ReactCSS=function(P){for(var D=arguments.length,U=Array(D>1?D-1:0),H=1;H<D;H++)U[H-1]=arguments[H];var G=(0,e.default)(U),z=(0,n.default)(P,G);return(0,o.default)(z)};return sd.default=S,sd}var r4=Ogt();const _a=Mw(r4);var Dgt=function(t,e,r,n,i){var o=i.clientWidth,c=i.clientHeight,a=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,v=a-(i.getBoundingClientRect().left+window.pageXOffset),x=g-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var k=void 0;if(x<0?k=0:x>c?k=1:k=Math.round(x*100/c)/100,e.a!==k)return{h:e.h,s:e.s,l:e.l,a:k,source:"rgb"}}else{var I=void 0;if(v<0?I=0:v>o?I=1:I=Math.round(v*100/o)/100,n!==I)return{h:e.h,s:e.s,l:e.l,a:I,source:"rgb"}}return null},ZR={},Bgt=function(t,e,r,n){if(typeof document>"u"&&!n)return null;var i=n?new n:document.createElement("canvas");i.width=r*2,i.height=r*2;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=e,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null},zgt=function(t,e,r,n){var i=t+"-"+e+"-"+r+(n?"-server":"");if(ZR[i])return ZR[i];var o=Bgt(t,e,r,n);return ZR[i]=o,o},Zj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x=function(t){var e=t.white,r=t.grey,n=t.size,i=t.renderers,o=t.borderRadius,c=t.boxShadow,a=t.children,g=_a({default:{grid:{borderRadius:o,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+zgt(e,r,n,i.canvas)+") center left"}}});return ut.isValidElement(a)?we.cloneElement(a,Zj({},a.props,{style:Zj({},a.props.style,g.grid)})):we.createElement("div",{style:g.grid})};_x.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Fgt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jgt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function $gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n4=(function(t){Vgt(e,t);function e(){var r,n,i,o;$gt(this,e);for(var c=arguments.length,a=Array(c),g=0;g<c;g++)a[g]=arguments[g];return o=(n=(i=Qj(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.handleChange=function(v){var x=Dgt(v,i.props.hsl,i.props.direction,i.props.a,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,v)},i.handleMouseDown=function(v){i.handleChange(v),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),Qj(i,o)}return jgt(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,n=this.props.rgb,i=_a({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:n.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)"},pointer:{left:0,top:n.a*100+"%"}},overwrite:Fgt({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return we.createElement("div",{style:i.alpha},we.createElement("div",{style:i.checkboard},we.createElement(_x,{renderers:this.props.renderers})),we.createElement("div",{style:i.gradient}),we.createElement("div",{style:i.container,ref:function(o){return r.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},we.createElement("div",{style:i.pointer},this.props.pointer?we.createElement(this.props.pointer,this.props):we.createElement("div",{style:i.slider}))))}}]),e})(ut.PureComponent||ut.Component),Ugt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function qgt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ggt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hgt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wgt=1,wH=38,Ygt=40,Kgt=[wH,Ygt],Zgt=function(t){return Kgt.indexOf(t)>-1},Qgt=function(t){return Number(String(t).replace(/%/g,""))},Jgt=1,Ro=(function(t){Xgt(e,t);function e(r){Ggt(this,e);var n=Hgt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var o=Qgt(i.target.value);if(!isNaN(o)&&Zgt(i.keyCode)){var c=n.getArrowOffset(),a=i.keyCode===wH?o+c:o-c;n.setUpdatedValue(a,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var o=Math.round(n.props.value+i.movementX);o>=0&&o<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(o),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Jgt++,n}return Ugt(e,[{key:"componentDidUpdate",value:function(r,n){this.props.value!==this.state.value&&(r.value!==this.props.value||n.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return qgt({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Wgt}},{key:"setUpdatedValue",value:function(r,n){var i=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,n),this.setState({value:r})}},{key:"render",value:function(){var r=this,n=_a({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return we.createElement("div",{style:n.wrap},we.createElement("input",{id:this.inputId,style:n.input,ref:function(i){return r.input=i},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?we.createElement("label",{htmlFor:this.inputId,style:n.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e})(ut.PureComponent||ut.Component),tyt=function(t,e,r,n){var i=n.clientWidth,o=n.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,a=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=c-(n.getBoundingClientRect().left+window.pageXOffset),v=a-(n.getBoundingClientRect().top+window.pageYOffset);if(e==="vertical"){var x=void 0;if(v<0)x=359;else if(v>o)x=0;else{var k=-(v*100/o)+100;x=360*k/100}if(r.h!==x)return{h:x,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var I=void 0;if(g<0)I=0;else if(g>i)I=359;else{var S=g*100/i;I=360*S/100}if(r.h!==I)return{h:I,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},eyt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function ryt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xx=(function(t){nyt(e,t);function e(){var r,n,i,o;ryt(this,e);for(var c=arguments.length,a=Array(c),g=0;g<c;g++)a[g]=arguments[g];return o=(n=(i=Jj(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.handleChange=function(v){var x=tyt(v,i.props.direction,i.props.hsl,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,v)},i.handleMouseDown=function(v){i.handleChange(v),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),Jj(i,o)}return eyt(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,n=this.props.direction,i=n===void 0?"horizontal":n,o=_a({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return we.createElement("div",{style:o.hue},we.createElement("div",{className:"hue-"+i,style:o.container,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},we.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),we.createElement("div",{style:o.pointer},this.props.pointer?we.createElement(this.props.pointer,this.props):we.createElement("div",{style:o.slider}))))}}]),e})(ut.PureComponent||ut.Component);function iyt(){this.__data__=[],this.size=0}function tS(t,e){return t===e||t!==t&&e!==e}function sA(t,e){for(var r=t.length;r--;)if(tS(t[r][0],e))return r;return-1}var ayt=Array.prototype,oyt=ayt.splice;function syt(t){var e=this.__data__,r=sA(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():oyt.call(e,r,1),--this.size,!0}function lyt(t){var e=this.__data__,r=sA(e,t);return r<0?void 0:e[r][1]}function cyt(t){return sA(this.__data__,t)>-1}function uyt(t,e){var r=this.__data__,n=sA(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ng(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ng.prototype.clear=iyt;Ng.prototype.delete=syt;Ng.prototype.get=lyt;Ng.prototype.has=cyt;Ng.prototype.set=uyt;function hyt(){this.__data__=new Ng,this.size=0}function dyt(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function fyt(t){return this.__data__.get(t)}function pyt(t){return this.__data__.has(t)}var SH=typeof global=="object"&&global&&global.Object===Object&&global,myt=typeof self=="object"&&self&&self.Object===Object&&self,Np=SH||myt||Function("return this")(),Ey=Np.Symbol,EH=Object.prototype,gyt=EH.hasOwnProperty,yyt=EH.toString,$1=Ey?Ey.toStringTag:void 0;function vyt(t){var e=gyt.call(t,$1),r=t[$1];try{t[$1]=void 0;var n=!0}catch{}var i=yyt.call(t);return n&&(e?t[$1]=r:delete t[$1]),i}var byt=Object.prototype,_yt=byt.toString;function xyt(t){return _yt.call(t)}var wyt="[object Null]",Syt="[object Undefined]",t7=Ey?Ey.toStringTag:void 0;function y0(t){return t==null?t===void 0?Syt:wyt:t7&&t7 in Object(t)?vyt(t):xyt(t)}function Bf(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Eyt="[object AsyncFunction]",Tyt="[object Function]",Cyt="[object GeneratorFunction]",Ayt="[object Proxy]";function i4(t){if(!Bf(t))return!1;var e=y0(t);return e==Tyt||e==Cyt||e==Eyt||e==Ayt}var QR=Np["__core-js_shared__"],e7=(function(){var t=/[^.]+$/.exec(QR&&QR.keys&&QR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function kyt(t){return!!e7&&e7 in t}var Iyt=Function.prototype,Ryt=Iyt.toString;function v0(t){if(t!=null){try{return Ryt.call(t)}catch{}try{return t+""}catch{}}return""}var Nyt=/[\\^$.*+?()[\]{}|]/g,Lyt=/^\[object .+?Constructor\]$/,Myt=Function.prototype,Pyt=Object.prototype,Oyt=Myt.toString,Dyt=Pyt.hasOwnProperty,Byt=RegExp("^"+Oyt.call(Dyt).replace(Nyt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zyt(t){if(!Bf(t)||kyt(t))return!1;var e=i4(t)?Byt:Lyt;return e.test(v0(t))}function Fyt(t,e){return t?.[e]}function b0(t,e){var r=Fyt(t,e);return zyt(r)?r:void 0}var dw=b0(Np,"Map"),fw=b0(Object,"create");function jyt(){this.__data__=fw?fw(null):{},this.size=0}function $yt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Vyt="__lodash_hash_undefined__",Uyt=Object.prototype,qyt=Uyt.hasOwnProperty;function Gyt(t){var e=this.__data__;if(fw){var r=e[t];return r===Vyt?void 0:r}return qyt.call(e,t)?e[t]:void 0}var Hyt=Object.prototype,Xyt=Hyt.hasOwnProperty;function Wyt(t){var e=this.__data__;return fw?e[t]!==void 0:Xyt.call(e,t)}var Yyt="__lodash_hash_undefined__";function Kyt(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fw&&e===void 0?Yyt:e,this}function n0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}n0.prototype.clear=jyt;n0.prototype.delete=$yt;n0.prototype.get=Gyt;n0.prototype.has=Wyt;n0.prototype.set=Kyt;function Zyt(){this.size=0,this.__data__={hash:new n0,map:new(dw||Ng),string:new n0}}function Qyt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function lA(t,e){var r=t.__data__;return Qyt(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Jyt(t){var e=lA(this,t).delete(t);return this.size-=e?1:0,e}function tvt(t){return lA(this,t).get(t)}function evt(t){return lA(this,t).has(t)}function rvt(t,e){var r=lA(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Lg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Lg.prototype.clear=Zyt;Lg.prototype.delete=Jyt;Lg.prototype.get=tvt;Lg.prototype.has=evt;Lg.prototype.set=rvt;var nvt=200;function ivt(t,e){var r=this.__data__;if(r instanceof Ng){var n=r.__data__;if(!dw||n.length<nvt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Lg(n)}return r.set(t,e),this.size=r.size,this}function Im(t){var e=this.__data__=new Ng(t);this.size=e.size}Im.prototype.clear=hyt;Im.prototype.delete=dyt;Im.prototype.get=fyt;Im.prototype.has=pyt;Im.prototype.set=ivt;var vT=(function(){try{var t=b0(Object,"defineProperty");return t({},"",{}),t}catch{}})();function a4(t,e,r){e=="__proto__"&&vT?vT(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function OL(t,e,r){(r!==void 0&&!tS(t[e],r)||r===void 0&&!(e in t))&&a4(t,e,r)}function avt(t){return function(e,r,n){for(var i=-1,o=Object(e),c=n(e),a=c.length;a--;){var g=c[++i];if(r(o[g],g,o)===!1)break}return e}}var TH=avt(),CH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,r7=CH&&typeof module=="object"&&module&&!module.nodeType&&module,ovt=r7&&r7.exports===CH,n7=ovt?Np.Buffer:void 0;n7&&n7.allocUnsafe;function svt(t,e){return t.slice()}var bT=Np.Uint8Array;function lvt(t){var e=new t.constructor(t.byteLength);return new bT(e).set(new bT(t)),e}function cvt(t,e){var r=lvt(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function uvt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var i7=Object.create,hvt=(function(){function t(){}return function(e){if(!Bf(e))return{};if(i7)return i7(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function AH(t,e){return function(r){return t(e(r))}}var kH=AH(Object.getPrototypeOf,Object),dvt=Object.prototype;function o4(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||dvt;return t===r}function fvt(t){return typeof t.constructor=="function"&&!o4(t)?hvt(kH(t)):{}}function Ty(t){return t!=null&&typeof t=="object"}var pvt="[object Arguments]";function a7(t){return Ty(t)&&y0(t)==pvt}var IH=Object.prototype,mvt=IH.hasOwnProperty,gvt=IH.propertyIsEnumerable,_T=a7((function(){return arguments})())?a7:function(t){return Ty(t)&&mvt.call(t,"callee")&&!gvt.call(t,"callee")},nf=Array.isArray,yvt=9007199254740991;function s4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yvt}function wx(t){return t!=null&&s4(t.length)&&!i4(t)}function vvt(t){return Ty(t)&&wx(t)}function bvt(){return!1}var RH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,o7=RH&&typeof module=="object"&&module&&!module.nodeType&&module,_vt=o7&&o7.exports===RH,s7=_vt?Np.Buffer:void 0,xvt=s7?s7.isBuffer:void 0,xT=xvt||bvt,wvt="[object Object]",Svt=Function.prototype,Evt=Object.prototype,NH=Svt.toString,Tvt=Evt.hasOwnProperty,Cvt=NH.call(Object);function Avt(t){if(!Ty(t)||y0(t)!=wvt)return!1;var e=kH(t);if(e===null)return!0;var r=Tvt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&NH.call(r)==Cvt}var kvt="[object Arguments]",Ivt="[object Array]",Rvt="[object Boolean]",Nvt="[object Date]",Lvt="[object Error]",Mvt="[object Function]",Pvt="[object Map]",Ovt="[object Number]",Dvt="[object Object]",Bvt="[object RegExp]",zvt="[object Set]",Fvt="[object String]",jvt="[object WeakMap]",$vt="[object ArrayBuffer]",Vvt="[object DataView]",Uvt="[object Float32Array]",qvt="[object Float64Array]",Gvt="[object Int8Array]",Hvt="[object Int16Array]",Xvt="[object Int32Array]",Wvt="[object Uint8Array]",Yvt="[object Uint8ClampedArray]",Kvt="[object Uint16Array]",Zvt="[object Uint32Array]",Ml={};Ml[Uvt]=Ml[qvt]=Ml[Gvt]=Ml[Hvt]=Ml[Xvt]=Ml[Wvt]=Ml[Yvt]=Ml[Kvt]=Ml[Zvt]=!0;Ml[kvt]=Ml[Ivt]=Ml[$vt]=Ml[Rvt]=Ml[Vvt]=Ml[Nvt]=Ml[Lvt]=Ml[Mvt]=Ml[Pvt]=Ml[Ovt]=Ml[Dvt]=Ml[Bvt]=Ml[zvt]=Ml[Fvt]=Ml[jvt]=!1;function Qvt(t){return Ty(t)&&s4(t.length)&&!!Ml[y0(t)]}function Jvt(t){return function(e){return t(e)}}var LH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$2=LH&&typeof module=="object"&&module&&!module.nodeType&&module,t0t=$2&&$2.exports===LH,JR=t0t&&SH.process,l7=(function(){try{var t=$2&&$2.require&&$2.require("util").types;return t||JR&&JR.binding&&JR.binding("util")}catch{}})(),c7=l7&&l7.isTypedArray,l4=c7?Jvt(c7):Qvt;function DL(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var e0t=Object.prototype,r0t=e0t.hasOwnProperty;function n0t(t,e,r){var n=t[e];(!(r0t.call(t,e)&&tS(n,r))||r===void 0&&!(e in t))&&a4(t,e,r)}function i0t(t,e,r,n){var i=!r;r||(r={});for(var o=-1,c=e.length;++o<c;){var a=e[o],g=void 0;g===void 0&&(g=t[a]),i?a4(r,a,g):n0t(r,a,g)}return r}function a0t(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var o0t=9007199254740991,s0t=/^(?:0|[1-9]\d*)$/;function c4(t,e){var r=typeof t;return e=e??o0t,!!e&&(r=="number"||r!="symbol"&&s0t.test(t))&&t>-1&&t%1==0&&t<e}var l0t=Object.prototype,c0t=l0t.hasOwnProperty;function MH(t,e){var r=nf(t),n=!r&&_T(t),i=!r&&!n&&xT(t),o=!r&&!n&&!i&&l4(t),c=r||n||i||o,a=c?a0t(t.length,String):[],g=a.length;for(var v in t)(e||c0t.call(t,v))&&!(c&&(v=="length"||i&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||c4(v,g)))&&a.push(v);return a}function u0t(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var h0t=Object.prototype,d0t=h0t.hasOwnProperty;function f0t(t){if(!Bf(t))return u0t(t);var e=o4(t),r=[];for(var n in t)n=="constructor"&&(e||!d0t.call(t,n))||r.push(n);return r}function PH(t){return wx(t)?MH(t,!0):f0t(t)}function p0t(t){return i0t(t,PH(t))}function m0t(t,e,r,n,i,o,c){var a=DL(t,r),g=DL(e,r),v=c.get(g);if(v){OL(t,r,v);return}var x=o?o(a,g,r+"",t,e,c):void 0,k=x===void 0;if(k){var I=nf(g),S=!I&&xT(g),P=!I&&!S&&l4(g);x=g,I||S||P?nf(a)?x=a:vvt(a)?x=uvt(a):S?(k=!1,x=svt(g)):P?(k=!1,x=cvt(g)):x=[]:Avt(g)||_T(g)?(x=a,_T(a)?x=p0t(a):(!Bf(a)||i4(a))&&(x=fvt(g))):k=!1}k&&(c.set(g,x),i(x,g,n,o,c),c.delete(g)),OL(t,r,x)}function OH(t,e,r,n,i){t!==e&&TH(e,function(o,c){if(i||(i=new Im),Bf(o))m0t(t,e,c,r,OH,n,i);else{var a=n?n(DL(t,c),o,c+"",t,e,i):void 0;a===void 0&&(a=o),OL(t,c,a)}},PH)}function cA(t){return t}function g0t(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var u7=Math.max;function y0t(t,e,r){return e=u7(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=u7(n.length-e,0),c=Array(o);++i<o;)c[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(c),g0t(t,this,a)}}function v0t(t){return function(){return t}}var b0t=vT?function(t,e){return vT(t,"toString",{configurable:!0,enumerable:!1,value:v0t(e),writable:!0})}:cA,_0t=800,x0t=16,w0t=Date.now;function S0t(t){var e=0,r=0;return function(){var n=w0t(),i=x0t-(n-r);if(r=n,i>0){if(++e>=_0t)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var E0t=S0t(b0t);function T0t(t,e){return E0t(y0t(t,e,cA),t+"")}function C0t(t,e,r){if(!Bf(r))return!1;var n=typeof e;return(n=="number"?wx(r)&&c4(e,r.length):n=="string"&&e in r)?tS(r[e],t):!1}function A0t(t){return T0t(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,c&&C0t(r[0],r[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}var Sd=A0t(function(t,e,r){OH(t,e,r)}),eS=function(t){var e=t.zDepth,r=t.radius,n=t.background,i=t.children,o=t.styles,c=o===void 0?{}:o,a=_a(Sd({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+e*4+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},c),{"zDepth-1":e===1});return we.createElement("div",{style:a.wrap},we.createElement("div",{style:a.bg}),we.createElement("div",{style:a.content},i))};eS.propTypes={background:Fn.string,zDepth:Fn.oneOf([0,1,2,3,4,5]),radius:Fn.number,styles:Fn.object};eS.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var tN=function(){return Np.Date.now()},k0t=/\s/;function I0t(t){for(var e=t.length;e--&&k0t.test(t.charAt(e)););return e}var R0t=/^\s+/;function N0t(t){return t&&t.slice(0,I0t(t)+1).replace(R0t,"")}var L0t="[object Symbol]";function uA(t){return typeof t=="symbol"||Ty(t)&&y0(t)==L0t}var h7=NaN,M0t=/^[-+]0x[0-9a-f]+$/i,P0t=/^0b[01]+$/i,O0t=/^0o[0-7]+$/i,D0t=parseInt;function d7(t){if(typeof t=="number")return t;if(uA(t))return h7;if(Bf(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bf(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=N0t(t);var r=P0t.test(t);return r||O0t.test(t)?D0t(t.slice(2),r?2:8):M0t.test(t)?h7:+t}var B0t="Expected a function",z0t=Math.max,F0t=Math.min;function DH(t,e,r){var n,i,o,c,a,g,v=0,x=!1,k=!1,I=!0;if(typeof t!="function")throw new TypeError(B0t);e=d7(e)||0,Bf(r)&&(x=!!r.leading,k="maxWait"in r,o=k?z0t(d7(r.maxWait)||0,e):o,I="trailing"in r?!!r.trailing:I);function S(Y){var et=n,st=i;return n=i=void 0,v=Y,c=t.apply(st,et),c}function P(Y){return v=Y,a=setTimeout(H,e),x?S(Y):c}function D(Y){var et=Y-g,st=Y-v,it=e-et;return k?F0t(it,o-st):it}function U(Y){var et=Y-g,st=Y-v;return g===void 0||et>=e||et<0||k&&st>=o}function H(){var Y=tN();if(U(Y))return G(Y);a=setTimeout(H,D(Y))}function G(Y){return a=void 0,I&&n?S(Y):(n=i=void 0,c)}function z(){a!==void 0&&clearTimeout(a),v=0,n=g=i=a=void 0}function j(){return a===void 0?c:G(tN())}function X(){var Y=tN(),et=U(Y);if(n=arguments,i=this,g=Y,et){if(a===void 0)return P(g);if(k)return clearTimeout(a),a=setTimeout(H,e),S(g)}return a===void 0&&(a=setTimeout(H,e)),c}return X.cancel=z,X.flush=j,X}var j0t="Expected a function";function $0t(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(j0t);return Bf(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),DH(t,e,{leading:n,maxWait:e,trailing:i})}var V0t=function(t,e,r){var n=r.getBoundingClientRect(),i=n.width,o=n.height,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,a=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=c-(r.getBoundingClientRect().left+window.pageXOffset),v=a-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>i&&(g=i),v<0?v=0:v>o&&(v=o);var x=g/i,k=1-v/o;return{h:e.h,s:x,v:k,a:e.a,source:"hsv"}},U0t=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function q0t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function H0t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hA=(function(t){H0t(e,t);function e(r){q0t(this,e);var n=G0t(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,V0t(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var o=n.getContainerRenderWindow();o.addEventListener("mousemove",n.handleChange),o.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=$0t(function(i,o,c){i(o,c)},50),n}return U0t(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,n=window;!n.document.contains(r)&&n.parent!==n;)n=n.parent;return n}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,n=this.props.style||{},i=n.color,o=n.white,c=n.black,a=n.pointer,g=n.circle,v=_a({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:o,black:c,pointer:a,circle:g}},{custom:!!this.props.style});return we.createElement("div",{style:v.color,ref:function(x){return r.container=x},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},we.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),we.createElement("div",{style:v.white,className:"saturation-white"},we.createElement("div",{style:v.black,className:"saturation-black"}),we.createElement("div",{style:v.pointer},this.props.pointer?we.createElement(this.props.pointer,this.props):we.createElement("div",{style:v.circle}))))}}]),e})(ut.PureComponent||ut.Component);function X0t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var W0t=AH(Object.keys,Object),Y0t=Object.prototype,K0t=Y0t.hasOwnProperty;function Z0t(t){if(!o4(t))return W0t(t);var e=[];for(var r in Object(t))K0t.call(t,r)&&r!="constructor"&&e.push(r);return e}function u4(t){return wx(t)?MH(t):Z0t(t)}function Q0t(t,e){return t&&TH(t,e,u4)}function J0t(t,e){return function(r,n){if(r==null)return r;if(!wx(r))return t(r,n);for(var i=r.length,o=-1,c=Object(r);++o<i&&n(c[o],o,c)!==!1;);return r}}var BH=J0t(Q0t);function tbt(t){return typeof t=="function"?t:cA}function ebt(t,e){var r=nf(t)?X0t:BH;return r(t,tbt(e))}function wT(t){"@babel/helpers - typeof";return wT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wT(t)}var rbt=/^\s+/,nbt=/\s+$/;function ki(t,e){if(t=t||"",e=e||{},t instanceof ki)return t;if(!(this instanceof ki))return new ki(t,e);var r=ibt(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ki.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,r,n,i,o,c;return e=t.r/255,r=t.g/255,n=t.b/255,e<=.03928?i=e/12.92:i=Math.pow((e+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),n<=.03928?c=n/12.92:c=Math.pow((n+.055)/1.055,2.4),.2126*i+.7152*o+.0722*c},setAlpha:function(t){return this._a=zH(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=p7(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p7(this._r,this._g,this._b),e=Math.round(t.h*360),r=Math.round(t.s*100),n=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=f7(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f7(this._r,this._g,this._b),e=Math.round(t.h*360),r=Math.round(t.s*100),n=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return m7(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return lbt(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(lc(this._r,255)*100)+"%",g:Math.round(lc(this._g,255)*100)+"%",b:Math.round(lc(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(lc(this._r,255)*100)+"%, "+Math.round(lc(this._g,255)*100)+"%, "+Math.round(lc(this._b,255)*100)+"%)":"rgba("+Math.round(lc(this._r,255)*100)+"%, "+Math.round(lc(this._g,255)*100)+"%, "+Math.round(lc(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:_bt[m7(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+g7(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=ki(t);r="#"+g7(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0,i=!e&&n&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ki(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(dbt,arguments)},brighten:function(){return this._applyModification(fbt,arguments)},darken:function(){return this._applyModification(pbt,arguments)},desaturate:function(){return this._applyModification(cbt,arguments)},saturate:function(){return this._applyModification(ubt,arguments)},greyscale:function(){return this._applyModification(hbt,arguments)},spin:function(){return this._applyModification(mbt,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(vbt,arguments)},complement:function(){return this._applyCombination(gbt,arguments)},monochromatic:function(){return this._applyCombination(bbt,arguments)},splitcomplement:function(){return this._applyCombination(ybt,arguments)},triad:function(){return this._applyCombination(y7,[3])},tetrad:function(){return this._applyCombination(y7,[4])}};ki.fromRatio=function(t,e){if(wT(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=g2(t[n]));t=r}return ki(t,e)};function ibt(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,o=null,c=!1,a=!1;return typeof t=="string"&&(t=Ebt(t)),wT(t)=="object"&&(sg(t.r)&&sg(t.g)&&sg(t.b)?(e=abt(t.r,t.g,t.b),c=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):sg(t.h)&&sg(t.s)&&sg(t.v)?(n=g2(t.s),i=g2(t.v),e=sbt(t.h,n,i),c=!0,a="hsv"):sg(t.h)&&sg(t.s)&&sg(t.l)&&(n=g2(t.s),o=g2(t.l),e=obt(t.h,n,o),c=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=zH(r),{ok:c,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function abt(t,e,r){return{r:lc(t,255)*255,g:lc(e,255)*255,b:lc(r,255)*255}}function f7(t,e,r){t=lc(t,255),e=lc(e,255),r=lc(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o,c,a=(n+i)/2;if(n==i)o=c=0;else{var g=n-i;switch(c=a>.5?g/(2-n-i):g/(n+i),n){case t:o=(e-r)/g+(e<r?6:0);break;case e:o=(r-t)/g+2;break;case r:o=(t-e)/g+4;break}o/=6}return{h:o,s:c,l:a}}function obt(t,e,r){var n,i,o;t=lc(t,360),e=lc(e,100),r=lc(r,100);function c(v,x,k){return k<0&&(k+=1),k>1&&(k-=1),k<1/6?v+(x-v)*6*k:k<1/2?x:k<2/3?v+(x-v)*(2/3-k)*6:v}if(e===0)n=i=o=r;else{var a=r<.5?r*(1+e):r+e-r*e,g=2*r-a;n=c(g,a,t+1/3),i=c(g,a,t),o=c(g,a,t-1/3)}return{r:n*255,g:i*255,b:o*255}}function p7(t,e,r){t=lc(t,255),e=lc(e,255),r=lc(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o,c,a=n,g=n-i;if(c=n===0?0:g/n,n==i)o=0;else{switch(n){case t:o=(e-r)/g+(e<r?6:0);break;case e:o=(r-t)/g+2;break;case r:o=(t-e)/g+4;break}o/=6}return{h:o,s:c,v:a}}function sbt(t,e,r){t=lc(t,360)*6,e=lc(e,100),r=lc(r,100);var n=Math.floor(t),i=t-n,o=r*(1-e),c=r*(1-i*e),a=r*(1-(1-i)*e),g=n%6,v=[r,c,o,o,a,r][g],x=[a,r,r,c,o,o][g],k=[o,o,a,r,r,c][g];return{r:v*255,g:x*255,b:k*255}}function m7(t,e,r,n){var i=[yp(Math.round(t).toString(16)),yp(Math.round(e).toString(16)),yp(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function lbt(t,e,r,n,i){var o=[yp(Math.round(t).toString(16)),yp(Math.round(e).toString(16)),yp(Math.round(r).toString(16)),yp(FH(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function g7(t,e,r,n){var i=[yp(FH(n)),yp(Math.round(t).toString(16)),yp(Math.round(e).toString(16)),yp(Math.round(r).toString(16))];return i.join("")}ki.equals=function(t,e){return!t||!e?!1:ki(t).toRgbString()==ki(e).toRgbString()};ki.random=function(){return ki.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function cbt(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.s-=e/100,r.s=dA(r.s),ki(r)}function ubt(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.s+=e/100,r.s=dA(r.s),ki(r)}function hbt(t){return ki(t).desaturate(100)}function dbt(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.l+=e/100,r.l=dA(r.l),ki(r)}function fbt(t,e){e=e===0?0:e||10;var r=ki(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),ki(r)}function pbt(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.l-=e/100,r.l=dA(r.l),ki(r)}function mbt(t,e){var r=ki(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,ki(r)}function gbt(t){var e=ki(t).toHsl();return e.h=(e.h+180)%360,ki(e)}function y7(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ki(t).toHsl(),n=[ki(t)],i=360/e,o=1;o<e;o++)n.push(ki({h:(r.h+o*i)%360,s:r.s,l:r.l}));return n}function ybt(t){var e=ki(t).toHsl(),r=e.h;return[ki(t),ki({h:(r+72)%360,s:e.s,l:e.l}),ki({h:(r+216)%360,s:e.s,l:e.l})]}function vbt(t,e,r){e=e||6,r=r||30;var n=ki(t).toHsl(),i=360/r,o=[ki(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(ki(n));return o}function bbt(t,e){e=e||6;for(var r=ki(t).toHsv(),n=r.h,i=r.s,o=r.v,c=[],a=1/e;e--;)c.push(ki({h:n,s:i,v:o})),o=(o+a)%1;return c}ki.mix=function(t,e,r){r=r===0?0:r||50;var n=ki(t).toRgb(),i=ki(e).toRgb(),o=r/100,c={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return ki(c)};ki.readability=function(t,e){var r=ki(t),n=ki(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};ki.isReadable=function(t,e,r){var n=ki.readability(t,e),i,o;switch(o=!1,i=Tbt(r),i.level+i.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o};ki.mostReadable=function(t,e,r){var n=null,i=0,o,c,a,g;r=r||{},c=r.includeFallbackColors,a=r.level,g=r.size;for(var v=0;v<e.length;v++)o=ki.readability(t,e[v]),o>i&&(i=o,n=ki(e[v]));return ki.isReadable(t,n,{level:a,size:g})||!c?n:(r.includeFallbackColors=!1,ki.mostReadable(t,["#fff","#000"],r))};var BL=ki.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_bt=ki.hexNames=xbt(BL);function xbt(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function zH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function lc(t,e){wbt(t)&&(t="100%");var r=Sbt(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function dA(t){return Math.min(1,Math.max(0,t))}function Hd(t){return parseInt(t,16)}function wbt(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Sbt(t){return typeof t=="string"&&t.indexOf("%")!=-1}function yp(t){return t.length==1?"0"+t:""+t}function g2(t){return t<=1&&(t=t*100+"%"),t}function FH(t){return Math.round(parseFloat(t)*255).toString(16)}function v7(t){return Hd(t)/255}var hp=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function sg(t){return!!hp.CSS_UNIT.exec(t)}function Ebt(t){t=t.replace(rbt,"").replace(nbt,"").toLowerCase();var e=!1;if(BL[t])t=BL[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=hp.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=hp.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=hp.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=hp.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=hp.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=hp.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=hp.hex8.exec(t))?{r:Hd(r[1]),g:Hd(r[2]),b:Hd(r[3]),a:v7(r[4]),format:e?"name":"hex8"}:(r=hp.hex6.exec(t))?{r:Hd(r[1]),g:Hd(r[2]),b:Hd(r[3]),format:e?"name":"hex"}:(r=hp.hex4.exec(t))?{r:Hd(r[1]+""+r[1]),g:Hd(r[2]+""+r[2]),b:Hd(r[3]+""+r[3]),a:v7(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=hp.hex3.exec(t))?{r:Hd(r[1]+""+r[1]),g:Hd(r[2]+""+r[2]),b:Hd(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function Tbt(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var b7=function(t){var e=["r","g","b","a","h","s","l","v"],r=0,n=0;return ebt(e,function(i){if(t[i]&&(r+=1,isNaN(t[i])||(n+=1),i==="s"||i==="l")){var o=/^\d+%$/;o.test(t[i])&&(n+=1)}}),r===n?t:!1},y2=function(t,e){var r=t.hex?ki(t.hex):ki(t),n=r.toHsl(),i=r.toHsv(),o=r.toRgb(),c=r.toHex();n.s===0&&(n.h=e||0,i.h=e||0);var a=c==="000000"&&o.a===0;return{hsl:n,hex:a?"transparent":"#"+c,rgb:o,hsv:i,oldHue:t.h||e||n.h,source:t.source}},zy=function(t){if(t==="transparent")return!0;var e=String(t).charAt(0)==="#"?1:0;return t.length!==4+e&&t.length<7+e&&ki(t).isValid()},h4=function(t){if(!t)return"#fff";var e=y2(t);if(e.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(e.rgb.r*299+e.rgb.g*587+e.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},eN=function(t,e){var r=t.replace("°","");return ki(e+" ("+r+")")._ok},V1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cbt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function Abt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kbt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ibt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ed=function(t){var e=(function(r){Ibt(n,r);function n(i){Abt(this,n);var o=kbt(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o.handleChange=function(c,a){var g=b7(c);if(g){var v=y2(c,c.h||o.state.oldHue);o.setState(v),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,v,a),o.props.onChange&&o.props.onChange(v,a)}},o.handleSwatchHover=function(c,a){var g=b7(c);if(g){var v=y2(c,c.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(v,a)}},o.state=V1({},y2(i.color,0)),o.debounce=DH(function(c,a,g){c(a,g)},100),o}return Cbt(n,[{key:"render",value:function(){var i={};return this.props.onSwatchHover&&(i.onSwatchHover=this.handleSwatchHover),we.createElement(t,V1({},this.props,this.state,{onChange:this.handleChange},i))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return V1({},y2(i.color,o.oldHue))}}]),n})(ut.PureComponent||ut.Component);return e.propTypes=V1({},t.propTypes),e.defaultProps=V1({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e},Rbt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nbt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function Lbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mbt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pbt=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(r){Mbt(n,r);function n(){var i,o,c,a;Lbt(this,n);for(var g=arguments.length,v=Array(g),x=0;x<g;x++)v[x]=arguments[x];return a=(o=(c=_7(this,(i=n.__proto__||Object.getPrototypeOf(n)).call.apply(i,[this].concat(v))),c),c.state={focus:!1},c.handleFocus=function(){return c.setState({focus:!0})},c.handleBlur=function(){return c.setState({focus:!1})},o),_7(c,a)}return Nbt(n,[{key:"render",value:function(){return we.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},we.createElement(t,Rbt({},this.props,this.state)))}}]),n})(we.Component)},x7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Obt=13,Dbt=function(t){var e=t.color,r=t.style,n=t.onClick,i=n===void 0?function(){}:n,o=t.onHover,c=t.title,a=c===void 0?e:c,g=t.children,v=t.focus,x=t.focusStyle,k=x===void 0?{}:x,I=e==="transparent",S=_a({default:{swatch:x7({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,v?k:{})}}),P=function(G){return i(e,G)},D=function(G){return G.keyCode===Obt&&i(e,G)},U=function(G){return o(e,G)},H={};return o&&(H.onMouseOver=U),we.createElement("div",x7({style:S.swatch,onClick:P,title:a,tabIndex:0,onKeyDown:D},H),g,I&&we.createElement(_x,{borderRadius:S.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const _0=Pbt(Dbt);var Bbt=function(t){var e=t.direction,r=_a({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:e==="vertical"});return we.createElement("div",{style:r.picker})},zbt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jH=function(t){var e=t.rgb,r=t.hsl,n=t.width,i=t.height,o=t.onChange,c=t.direction,a=t.style,g=t.renderers,v=t.pointer,x=t.className,k=x===void 0?"":x,I=_a({default:{picker:{position:"relative",width:n,height:i},alpha:{radius:"2px",style:a}}});return we.createElement("div",{style:I.picker,className:"alpha-picker "+k},we.createElement(n4,zbt({},I.alpha,{rgb:e,hsl:r,pointer:v,renderers:g,onChange:o,direction:c})))};jH.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Bbt};Ed(jH);function $H(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Fbt="__lodash_hash_undefined__";function jbt(t){return this.__data__.set(t,Fbt),this}function $bt(t){return this.__data__.has(t)}function ST(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Lg;++e<r;)this.add(t[e])}ST.prototype.add=ST.prototype.push=jbt;ST.prototype.has=$bt;function Vbt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ubt(t,e){return t.has(e)}var qbt=1,Gbt=2;function VH(t,e,r,n,i,o){var c=r&qbt,a=t.length,g=e.length;if(a!=g&&!(c&&g>a))return!1;var v=o.get(t),x=o.get(e);if(v&&x)return v==e&&x==t;var k=-1,I=!0,S=r&Gbt?new ST:void 0;for(o.set(t,e),o.set(e,t);++k<a;){var P=t[k],D=e[k];if(n)var U=c?n(D,P,k,e,t,o):n(P,D,k,t,e,o);if(U!==void 0){if(U)continue;I=!1;break}if(S){if(!Vbt(e,function(H,G){if(!Ubt(S,G)&&(P===H||i(P,H,r,n,o)))return S.push(G)})){I=!1;break}}else if(!(P===D||i(P,D,r,n,o))){I=!1;break}}return o.delete(t),o.delete(e),I}function Hbt(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Xbt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Wbt=1,Ybt=2,Kbt="[object Boolean]",Zbt="[object Date]",Qbt="[object Error]",Jbt="[object Map]",t_t="[object Number]",e_t="[object RegExp]",r_t="[object Set]",n_t="[object String]",i_t="[object Symbol]",a_t="[object ArrayBuffer]",o_t="[object DataView]",w7=Ey?Ey.prototype:void 0,rN=w7?w7.valueOf:void 0;function s_t(t,e,r,n,i,o,c){switch(r){case o_t:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case a_t:return!(t.byteLength!=e.byteLength||!o(new bT(t),new bT(e)));case Kbt:case Zbt:case t_t:return tS(+t,+e);case Qbt:return t.name==e.name&&t.message==e.message;case e_t:case n_t:return t==e+"";case Jbt:var a=Hbt;case r_t:var g=n&Wbt;if(a||(a=Xbt),t.size!=e.size&&!g)return!1;var v=c.get(t);if(v)return v==e;n|=Ybt,c.set(t,e);var x=VH(a(t),a(e),n,i,o,c);return c.delete(t),x;case i_t:if(rN)return rN.call(t)==rN.call(e)}return!1}function l_t(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function c_t(t,e,r){var n=e(t);return nf(t)?n:l_t(n,r(t))}function u_t(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var c=t[r];e(c,r,t)&&(o[i++]=c)}return o}function h_t(){return[]}var d_t=Object.prototype,f_t=d_t.propertyIsEnumerable,S7=Object.getOwnPropertySymbols,p_t=S7?function(t){return t==null?[]:(t=Object(t),u_t(S7(t),function(e){return f_t.call(t,e)}))}:h_t;function E7(t){return c_t(t,u4,p_t)}var m_t=1,g_t=Object.prototype,y_t=g_t.hasOwnProperty;function v_t(t,e,r,n,i,o){var c=r&m_t,a=E7(t),g=a.length,v=E7(e),x=v.length;if(g!=x&&!c)return!1;for(var k=g;k--;){var I=a[k];if(!(c?I in e:y_t.call(e,I)))return!1}var S=o.get(t),P=o.get(e);if(S&&P)return S==e&&P==t;var D=!0;o.set(t,e),o.set(e,t);for(var U=c;++k<g;){I=a[k];var H=t[I],G=e[I];if(n)var z=c?n(G,H,I,e,t,o):n(H,G,I,t,e,o);if(!(z===void 0?H===G||i(H,G,r,n,o):z)){D=!1;break}U||(U=I=="constructor")}if(D&&!U){var j=t.constructor,X=e.constructor;j!=X&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof X=="function"&&X instanceof X)&&(D=!1)}return o.delete(t),o.delete(e),D}var zL=b0(Np,"DataView"),FL=b0(Np,"Promise"),jL=b0(Np,"Set"),$L=b0(Np,"WeakMap"),T7="[object Map]",b_t="[object Object]",C7="[object Promise]",A7="[object Set]",k7="[object WeakMap]",I7="[object DataView]",__t=v0(zL),x_t=v0(dw),w_t=v0(FL),S_t=v0(jL),E_t=v0($L),hy=y0;(zL&&hy(new zL(new ArrayBuffer(1)))!=I7||dw&&hy(new dw)!=T7||FL&&hy(FL.resolve())!=C7||jL&&hy(new jL)!=A7||$L&&hy(new $L)!=k7)&&(hy=function(t){var e=y0(t),r=e==b_t?t.constructor:void 0,n=r?v0(r):"";if(n)switch(n){case __t:return I7;case x_t:return T7;case w_t:return C7;case S_t:return A7;case E_t:return k7}return e});var T_t=1,R7="[object Arguments]",N7="[object Array]",B5="[object Object]",C_t=Object.prototype,L7=C_t.hasOwnProperty;function A_t(t,e,r,n,i,o){var c=nf(t),a=nf(e),g=c?N7:hy(t),v=a?N7:hy(e);g=g==R7?B5:g,v=v==R7?B5:v;var x=g==B5,k=v==B5,I=g==v;if(I&&xT(t)){if(!xT(e))return!1;c=!0,x=!1}if(I&&!x)return o||(o=new Im),c||l4(t)?VH(t,e,r,n,i,o):s_t(t,e,g,r,n,i,o);if(!(r&T_t)){var S=x&&L7.call(t,"__wrapped__"),P=k&&L7.call(e,"__wrapped__");if(S||P){var D=S?t.value():t,U=P?e.value():e;return o||(o=new Im),i(D,U,r,n,o)}}return I?(o||(o=new Im),v_t(t,e,r,n,i,o)):!1}function d4(t,e,r,n,i){return t===e?!0:t==null||e==null||!Ty(t)&&!Ty(e)?t!==t&&e!==e:A_t(t,e,r,n,d4,i)}var k_t=1,I_t=2;function R_t(t,e,r,n){var i=r.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var c=r[i];if(c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){c=r[i];var a=c[0],g=t[a],v=c[1];if(c[2]){if(g===void 0&&!(a in t))return!1}else{var x=new Im,k;if(!(k===void 0?d4(v,g,k_t|I_t,n,x):k))return!1}}return!0}function UH(t){return t===t&&!Bf(t)}function N_t(t){for(var e=u4(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,UH(i)]}return e}function qH(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function L_t(t){var e=N_t(t);return e.length==1&&e[0][2]?qH(e[0][0],e[0][1]):function(r){return r===t||R_t(r,t,e)}}var M_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P_t=/^\w*$/;function f4(t,e){if(nf(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||uA(t)?!0:P_t.test(t)||!M_t.test(t)||e!=null&&t in Object(e)}var O_t="Expected a function";function p4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(O_t);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var c=t.apply(this,n);return r.cache=o.set(i,c)||o,c};return r.cache=new(p4.Cache||Lg),r}p4.Cache=Lg;var D_t=500;function B_t(t){var e=p4(t,function(n){return r.size===D_t&&r.clear(),n}),r=e.cache;return e}var z_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F_t=/\\(\\)?/g,j_t=B_t(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(z_t,function(r,n,i,o){e.push(i?o.replace(F_t,"$1"):n||r)}),e}),M7=Ey?Ey.prototype:void 0,P7=M7?M7.toString:void 0;function GH(t){if(typeof t=="string")return t;if(nf(t))return $H(t,GH)+"";if(uA(t))return P7?P7.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function $_t(t){return t==null?"":GH(t)}function HH(t,e){return nf(t)?t:f4(t,e)?[t]:j_t($_t(t))}function fA(t){if(typeof t=="string"||uA(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function XH(t,e){e=HH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[fA(e[r++])];return r&&r==n?t:void 0}function V_t(t,e,r){var n=t==null?void 0:XH(t,e);return n===void 0?r:n}function U_t(t,e){return t!=null&&e in Object(t)}function q_t(t,e,r){e=HH(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var c=fA(e[n]);if(!(o=t!=null&&r(t,c)))break;t=t[c]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&s4(i)&&c4(c,i)&&(nf(t)||_T(t)))}function G_t(t,e){return t!=null&&q_t(t,e,U_t)}var H_t=1,X_t=2;function W_t(t,e){return f4(t)&&UH(e)?qH(fA(t),e):function(r){var n=V_t(r,t);return n===void 0&&n===e?G_t(r,t):d4(e,n,H_t|X_t)}}function Y_t(t){return function(e){return e?.[t]}}function K_t(t){return function(e){return XH(e,t)}}function Z_t(t){return f4(t)?Y_t(fA(t)):K_t(t)}function Q_t(t){return typeof t=="function"?t:t==null?cA:typeof t=="object"?nf(t)?W_t(t[0],t[1]):L_t(t):Z_t(t)}function J_t(t,e){var r=-1,n=wx(t)?Array(t.length):[];return BH(t,function(i,o,c){n[++r]=e(i,o,c)}),n}function x0(t,e){var r=nf(t)?$H:J_t;return r(t,Q_t(e))}var txt=function(t){var e=t.colors,r=t.onClick,n=t.onSwatchHover,i=_a({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return we.createElement("div",{style:i.swatches},x0(e,function(o){return we.createElement(_0,{key:o,color:o,style:i.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+o}})}),we.createElement("div",{style:i.clear}))},m4=function(t){var e=t.onChange,r=t.onSwatchHover,n=t.hex,i=t.colors,o=t.width,c=t.triangle,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=n==="transparent",I=function(P,D){zy(P)&&e({hex:P,source:"hex"},D)},S=_a(Sd({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:h4(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},g),{"hide-triangle":c==="hide"});return we.createElement("div",{style:S.card,className:"block-picker "+x},we.createElement("div",{style:S.triangle}),we.createElement("div",{style:S.head},k&&we.createElement(_x,{borderRadius:"6px 6px 0 0"}),we.createElement("div",{style:S.label},n)),we.createElement("div",{style:S.body},we.createElement(txt,{colors:i,onClick:I,onSwatchHover:r}),we.createElement(Ro,{style:{input:S.input},value:n,onChange:I})))};m4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),colors:Fn.arrayOf(Fn.string),triangle:Fn.oneOf(["top","hide"]),styles:Fn.object};m4.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ed(m4);var Vb={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Ub={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},qb={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Gb={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Hb={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Xb={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Wb={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yb={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Kb={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},v2={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Zb={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Qb={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Jb={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},t_={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},e_={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},r_={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},n_={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},i_={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},WH=function(t){var e=t.color,r=t.onClick,n=t.onSwatchHover,i=t.hover,o=t.active,c=t.circleSize,a=t.circleSpacing,g=_a({default:{swatch:{width:c,height:c,marginRight:a,marginBottom:a,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(c/2+1)+"px "+e,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+e}}},{hover:i,active:o});return we.createElement("div",{style:g.swatch},we.createElement(_0,{style:g.Swatch,color:e,onClick:r,onHover:n,focusStyle:{boxShadow:g.Swatch.boxShadow+", 0 0 5px "+e}}))};WH.defaultProps={circleSize:28,circleSpacing:14};const ext=r4.handleHover(WH);var g4=function(t){var e=t.width,r=t.onChange,n=t.onSwatchHover,i=t.colors,o=t.hex,c=t.circleSize,a=t.styles,g=a===void 0?{}:a,v=t.circleSpacing,x=t.className,k=x===void 0?"":x,I=_a(Sd({default:{card:{width:e,display:"flex",flexWrap:"wrap",marginRight:-v,marginBottom:-v}}},g)),S=function(P,D){return r({hex:P,source:"hex"},D)};return we.createElement("div",{style:I.card,className:"circle-picker "+k},x0(i,function(P){return we.createElement(ext,{key:P,color:P,onClick:S,onSwatchHover:n,active:o===P.toLowerCase(),circleSize:c,circleSpacing:v})}))};g4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),circleSize:Fn.number,circleSpacing:Fn.number,styles:Fn.object};g4.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Vb[500],Ub[500],qb[500],Gb[500],Hb[500],Xb[500],Wb[500],Yb[500],Kb[500],v2[500],Zb[500],Qb[500],Jb[500],t_[500],e_[500],r_[500],n_[500],i_[500]],styles:{}};Ed(g4);function O7(t){return t===void 0}var z5={},D7;function rxt(){if(D7)return z5;D7=1,Object.defineProperty(z5,"__esModule",{value:!0});var t=Object.assign||function(c){for(var a=1;a<arguments.length;a++){var g=arguments[a];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(c[v]=g[v])}return c},e=we,r=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,a){var g={};for(var v in c)a.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(c,v)&&(g[v]=c[v]);return g}var o=24;return z5.default=function(c){var a=c.fill,g=a===void 0?"currentColor":a,v=c.width,x=v===void 0?o:v,k=c.height,I=k===void 0?o:k,S=c.style,P=S===void 0?{}:S,D=i(c,["fill","width","height","style"]);return r.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:g,width:x,height:I},P)},D),r.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},z5}var nxt=rxt();const ixt=Mw(nxt);var axt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function oxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sxt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lxt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var YH=(function(t){lxt(e,t);function e(r){oxt(this,e);var n=sxt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,o){i.hex?zy(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(O7(i.s)?n.props.hsl.s:i.s),l:Number(O7(i.l)?n.props.hsl.l:i.l),source:"hsl"},o))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return axt(e,[{key:"render",value:function(){var r=this,n=_a({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=we.createElement("div",{style:n.fields,className:"flexbox-fix"},we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=we.createElement("div",{style:n.fields,className:"flexbox-fix"},we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),we.createElement("div",{style:n.alpha},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=we.createElement("div",{style:n.fields,className:"flexbox-fix"},we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),we.createElement("div",{style:n.alpha},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),we.createElement("div",{style:n.wrap,className:"flexbox-fix"},i,we.createElement("div",{style:n.toggle},we.createElement("div",{style:n.icon,onClick:this.toggleViews,ref:function(o){return r.icon=o}},we.createElement(ixt,{style:n.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.hsl.a!==1&&n.view==="hex"?{view:"rgb"}:null}}]),e})(we.Component);YH.defaultProps={view:"hex"};var B7=function(){var t=_a({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return we.createElement("div",{style:t.picker})},cxt=function(){var t=_a({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return we.createElement("div",{style:t.picker})},y4=function(t){var e=t.width,r=t.onChange,n=t.disableAlpha,i=t.rgb,o=t.hsl,c=t.hsv,a=t.hex,g=t.renderers,v=t.styles,x=v===void 0?{}:v,k=t.className,I=k===void 0?"":k,S=t.defaultView,P=_a(Sd({default:{picker:{width:e,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},x),{disableAlpha:n});return we.createElement("div",{style:P.picker,className:"chrome-picker "+I},we.createElement("div",{style:P.saturation},we.createElement(hA,{style:P.Saturation,hsl:o,hsv:c,pointer:cxt,onChange:r})),we.createElement("div",{style:P.body},we.createElement("div",{style:P.controls,className:"flexbox-fix"},we.createElement("div",{style:P.color},we.createElement("div",{style:P.swatch},we.createElement("div",{style:P.active}),we.createElement(_x,{renderers:g}))),we.createElement("div",{style:P.toggles},we.createElement("div",{style:P.hue},we.createElement(xx,{style:P.Hue,hsl:o,pointer:B7,onChange:r})),we.createElement("div",{style:P.alpha},we.createElement(n4,{style:P.Alpha,rgb:i,hsl:o,pointer:B7,renderers:g,onChange:r})))),we.createElement(YH,{rgb:i,hsl:o,hex:a,view:S,onChange:r,disableAlpha:n})))};y4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),disableAlpha:Fn.bool,styles:Fn.object,defaultView:Fn.oneOf(["hex","rgb","hsl"])};y4.defaultProps={width:225,disableAlpha:!1,styles:{}};Ed(y4);var uxt=function(t){var e=t.color,r=t.onClick,n=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.active,c=_a({default:{color:{background:e,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:h4(e),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":e==="#FFFFFF",transparent:e==="transparent"});return we.createElement(_0,{style:c.color,color:e,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},we.createElement("div",{style:c.dot}))},hxt=function(t){var e=t.hex,r=t.rgb,n=t.onChange,i=_a({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:e},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(c,a){c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},a):n({hex:c.hex,source:"hex"},a)};return we.createElement("div",{style:i.fields,className:"flexbox-fix"},we.createElement("div",{style:i.active}),we.createElement(Ro,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:e,onChange:o}),we.createElement(Ro,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:o}),we.createElement(Ro,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:o}),we.createElement(Ro,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:o}))},v4=function(t){var e=t.onChange,r=t.onSwatchHover,n=t.colors,i=t.hex,o=t.rgb,c=t.styles,a=c===void 0?{}:c,g=t.className,v=g===void 0?"":g,x=_a(Sd({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},a)),k=function(I,S){I.hex?zy(I.hex)&&e({hex:I.hex,source:"hex"},S):e(I,S)};return we.createElement(eS,{style:x.Compact,styles:a},we.createElement("div",{style:x.compact,className:"compact-picker "+v},we.createElement("div",null,x0(n,function(I){return we.createElement(uxt,{key:I,color:I,active:I.toLowerCase()===i,onClick:k,onSwatchHover:r})}),we.createElement("div",{style:x.clear})),we.createElement(hxt,{hex:i,rgb:o,onChange:k})))};v4.propTypes={colors:Fn.arrayOf(Fn.string),styles:Fn.object};v4.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ed(v4);var dxt=function(t){var e=t.hover,r=t.color,n=t.onClick,i=t.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=_a({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:e});return we.createElement("div",{style:c.swatch},we.createElement(_0,{color:r,onClick:n,onHover:i,focusStyle:o}))};const fxt=r4.handleHover(dxt);var b4=function(t){var e=t.width,r=t.colors,n=t.onChange,i=t.onSwatchHover,o=t.triangle,c=t.styles,a=c===void 0?{}:c,g=t.className,v=g===void 0?"":g,x=_a(Sd({default:{card:{width:e,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},a),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),k=function(I,S){return n({hex:I,source:"hex"},S)};return we.createElement("div",{style:x.card,className:"github-picker "+v},we.createElement("div",{style:x.triangleShadow}),we.createElement("div",{style:x.triangle}),x0(r,function(I){return we.createElement(fxt,{color:I,key:I,onClick:k,onSwatchHover:i})}))};b4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),colors:Fn.arrayOf(Fn.string),triangle:Fn.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Fn.object};b4.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ed(b4);var pxt=function(t){var e=t.direction,r=_a({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:e==="vertical"});return we.createElement("div",{style:r.picker})},mxt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_4=function(t){var e=t.width,r=t.height,n=t.onChange,i=t.hsl,o=t.direction,c=t.pointer,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=_a(Sd({default:{picker:{position:"relative",width:e,height:r},hue:{radius:"2px"}}},g)),I=function(S){return n({a:1,h:S.h,l:.5,s:1})};return we.createElement("div",{style:k.picker,className:"hue-picker "+x},we.createElement(xx,mxt({},k.hue,{hsl:i,pointer:c,onChange:I,direction:o})))};_4.propTypes={styles:Fn.object};_4.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:pxt,styles:{}};Ed(_4);var gxt=function(t){var e=t.onChange,r=t.hex,n=t.rgb,i=t.styles,o=i===void 0?{}:i,c=t.className,a=c===void 0?"":c,g=_a(Sd({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),v=function(x,k){x.hex?zy(x.hex)&&e({hex:x.hex,source:"hex"},k):(x.r||x.g||x.b)&&e({r:x.r||n.r,g:x.g||n.g,b:x.b||n.b,source:"rgb"},k)};return we.createElement(eS,{styles:o},we.createElement("div",{style:g.material,className:"material-picker "+a},we.createElement(Ro,{style:{wrap:g.HEXwrap,input:g.HEXinput,label:g.HEXlabel},label:"hex",value:r,onChange:v}),we.createElement("div",{style:g.split,className:"flexbox-fix"},we.createElement("div",{style:g.third},we.createElement(Ro,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"r",value:n.r,onChange:v})),we.createElement("div",{style:g.third},we.createElement(Ro,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"g",value:n.g,onChange:v})),we.createElement("div",{style:g.third},we.createElement(Ro,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"b",value:n.b,onChange:v})))))};Ed(gxt);var yxt=function(t){var e=t.onChange,r=t.rgb,n=t.hsv,i=t.hex,o=_a({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(a,g){a["#"]?zy(a["#"])&&e({hex:a["#"],source:"hex"},g):a.r||a.g||a.b?e({r:a.r||r.r,g:a.g||r.g,b:a.b||r.b,source:"rgb"},g):(a.h||a.s||a.v)&&e({h:a.h||n.h,s:a.s||n.s,v:a.v||n.v,source:"hsv"},g)};return we.createElement("div",{style:o.fields},we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(n.h),onChange:c}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(n.s*100),onChange:c}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(n.v*100),onChange:c}),we.createElement("div",{style:o.divider}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:c}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:c}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:c}),we.createElement("div",{style:o.divider}),we.createElement(Ro,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:c}),we.createElement("div",{style:o.fieldSymbols},we.createElement("div",{style:o.symbol},"°"),we.createElement("div",{style:o.symbol},"%"),we.createElement("div",{style:o.symbol},"%")))},vxt=function(t){var e=t.hsl,r=_a({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5});return we.createElement("div",{style:r.picker})},bxt=function(){var t=_a({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return we.createElement("div",{style:t.pointer},we.createElement("div",{style:t.left},we.createElement("div",{style:t.leftInside})),we.createElement("div",{style:t.right},we.createElement("div",{style:t.rightInside})))},z7=function(t){var e=t.onClick,r=t.label,n=t.children,i=t.active,o=_a({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return we.createElement("div",{style:o.button,onClick:e},r||n)},_xt=function(t){var e=t.rgb,r=t.currentColor,n=_a({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+e.r+","+e.g+", "+e.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return we.createElement("div",null,we.createElement("div",{style:n.label},"new"),we.createElement("div",{style:n.swatches},we.createElement("div",{style:n.new}),we.createElement("div",{style:n.current})),we.createElement("div",{style:n.label},"current"))},xxt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function wxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sxt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ext(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x4=(function(t){Ext(e,t);function e(r){wxt(this,e);var n=Sxt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return xxt(e,[{key:"render",value:function(){var r=this.props,n=r.styles,i=n===void 0?{}:n,o=r.className,c=o===void 0?"":o,a=_a(Sd({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return we.createElement("div",{style:a.picker,className:"photoshop-picker "+c},we.createElement("div",{style:a.head},this.props.header),we.createElement("div",{style:a.body,className:"flexbox-fix"},we.createElement("div",{style:a.saturation},we.createElement(hA,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:vxt,onChange:this.props.onChange})),we.createElement("div",{style:a.hue},we.createElement(xx,{direction:"vertical",hsl:this.props.hsl,pointer:bxt,onChange:this.props.onChange})),we.createElement("div",{style:a.controls},we.createElement("div",{style:a.top,className:"flexbox-fix"},we.createElement("div",{style:a.previews},we.createElement(_xt,{rgb:this.props.rgb,currentColor:this.state.currentColor})),we.createElement("div",{style:a.actions},we.createElement(z7,{label:"OK",onClick:this.props.onAccept,active:!0}),we.createElement(z7,{label:"Cancel",onClick:this.props.onCancel}),we.createElement(yxt,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e})(we.Component);x4.propTypes={header:Fn.string,styles:Fn.object};x4.defaultProps={header:"Color Picker",styles:{}};Ed(x4);var Txt=function(t){var e=t.onChange,r=t.rgb,n=t.hsl,i=t.hex,o=t.disableAlpha,c=_a({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),a=function(g,v){g.hex?zy(g.hex)&&e({hex:g.hex,source:"hex"},v):g.r||g.g||g.b?e({r:g.r||r.r,g:g.g||r.g,b:g.b||r.b,a:r.a,source:"rgb"},v):g.a&&(g.a<0?g.a=0:g.a>100&&(g.a=100),g.a/=100,e({h:n.h,s:n.s,l:n.l,a:g.a,source:"rgb"},v))};return we.createElement("div",{style:c.fields,className:"flexbox-fix"},we.createElement("div",{style:c.double},we.createElement(Ro,{style:{input:c.input,label:c.label},label:"hex",value:i.replace("#",""),onChange:a})),we.createElement("div",{style:c.single},we.createElement(Ro,{style:{input:c.input,label:c.label},label:"r",value:r.r,onChange:a,dragLabel:"true",dragMax:"255"})),we.createElement("div",{style:c.single},we.createElement(Ro,{style:{input:c.input,label:c.label},label:"g",value:r.g,onChange:a,dragLabel:"true",dragMax:"255"})),we.createElement("div",{style:c.single},we.createElement(Ro,{style:{input:c.input,label:c.label},label:"b",value:r.b,onChange:a,dragLabel:"true",dragMax:"255"})),we.createElement("div",{style:c.alpha},we.createElement(Ro,{style:{input:c.input,label:c.label},label:"a",value:Math.round(r.a*100),onChange:a,dragLabel:"true",dragMax:"100"})))},Cxt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KH=function(t){var e=t.colors,r=t.onClick,n=r===void 0?function(){}:r,i=t.onSwatchHover,o=_a({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!e||!e.length}),c=function(a,g){n({hex:a,source:"hex"},g)};return we.createElement("div",{style:o.colors,className:"flexbox-fix"},e.map(function(a){var g=typeof a=="string"?{color:a}:a,v=""+g.color+(g.title||"");return we.createElement("div",{key:v,style:o.swatchWrap},we.createElement(_0,Cxt({},g,{style:o.swatch,onClick:c,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+g.color}})))}))};KH.propTypes={colors:Fn.arrayOf(Fn.oneOfType([Fn.string,Fn.shape({color:Fn.string,title:Fn.string})])).isRequired};var Axt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w4=function(t){var e=t.width,r=t.rgb,n=t.hex,i=t.hsv,o=t.hsl,c=t.onChange,a=t.onSwatchHover,g=t.disableAlpha,v=t.presetColors,x=t.renderers,k=t.styles,I=k===void 0?{}:k,S=t.className,P=S===void 0?"":S,D=_a(Sd({default:Axt({picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},I),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},I),{disableAlpha:g});return we.createElement("div",{style:D.picker,className:"sketch-picker "+P},we.createElement("div",{style:D.saturation},we.createElement(hA,{style:D.Saturation,hsl:o,hsv:i,onChange:c})),we.createElement("div",{style:D.controls,className:"flexbox-fix"},we.createElement("div",{style:D.sliders},we.createElement("div",{style:D.hue},we.createElement(xx,{style:D.Hue,hsl:o,onChange:c})),we.createElement("div",{style:D.alpha},we.createElement(n4,{style:D.Alpha,rgb:r,hsl:o,renderers:x,onChange:c}))),we.createElement("div",{style:D.color},we.createElement(_x,null),we.createElement("div",{style:D.activeColor}))),we.createElement(Txt,{rgb:r,hsl:o,hex:n,onChange:c,disableAlpha:g}),we.createElement(KH,{colors:v,onClick:c,onSwatchHover:a}))};w4.propTypes={disableAlpha:Fn.bool,width:Fn.oneOfType([Fn.string,Fn.number]),styles:Fn.object};w4.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Ed(w4);var U1=function(t){var e=t.hsl,r=t.offset,n=t.onClick,i=n===void 0?function(){}:n,o=t.active,c=t.first,a=t.last,g=_a({default:{swatch:{height:"12px",background:"hsl("+e.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:c,last:a}),v=function(x){return i({h:e.h,s:.5,l:r,source:"hsl"},x)};return we.createElement("div",{style:g.swatch,onClick:v})},kxt=function(t){var e=t.onClick,r=t.hsl,n=_a({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return we.createElement("div",{style:n.swatches},we.createElement("div",{style:n.swatch},we.createElement(U1,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:e,first:!0})),we.createElement("div",{style:n.swatch},we.createElement(U1,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:e})),we.createElement("div",{style:n.swatch},we.createElement(U1,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:e})),we.createElement("div",{style:n.swatch},we.createElement(U1,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:e})),we.createElement("div",{style:n.swatch},we.createElement(U1,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:e,last:!0})),we.createElement("div",{style:n.clear}))},Ixt=function(){var t=_a({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return we.createElement("div",{style:t.picker})},S4=function(t){var e=t.hsl,r=t.onChange,n=t.pointer,i=t.styles,o=i===void 0?{}:i,c=t.className,a=c===void 0?"":c,g=_a(Sd({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return we.createElement("div",{style:g.wrap||{},className:"slider-picker "+a},we.createElement("div",{style:g.hue},we.createElement(xx,{style:g.Hue,hsl:e,pointer:n,onChange:r})),we.createElement("div",{style:g.swatches},we.createElement(kxt,{hsl:e,onClick:r})))};S4.propTypes={styles:Fn.object};S4.defaultProps={pointer:Ixt,styles:{}};Ed(S4);var F5={},F7;function Rxt(){if(F7)return F5;F7=1,Object.defineProperty(F5,"__esModule",{value:!0});var t=Object.assign||function(c){for(var a=1;a<arguments.length;a++){var g=arguments[a];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(c[v]=g[v])}return c},e=we,r=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,a){var g={};for(var v in c)a.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(c,v)&&(g[v]=c[v]);return g}var o=24;return F5.default=function(c){var a=c.fill,g=a===void 0?"currentColor":a,v=c.width,x=v===void 0?o:v,k=c.height,I=k===void 0?o:k,S=c.style,P=S===void 0?{}:S,D=i(c,["fill","width","height","style"]);return r.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:g,width:x,height:I},P)},D),r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},F5}var Nxt=Rxt();const Lxt=Mw(Nxt);var Mxt=function(t){var e=t.color,r=t.onClick,n=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.first,c=t.last,a=t.active,g=_a({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:e,marginBottom:"1px"},check:{color:h4(e),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:c,active:a,"color-#FFFFFF":e==="#FFFFFF",transparent:e==="transparent"});return we.createElement(_0,{color:e,style:g.color,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},we.createElement("div",{style:g.check},we.createElement(Lxt,null)))},Pxt=function(t){var e=t.onClick,r=t.onSwatchHover,n=t.group,i=t.active,o=_a({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return we.createElement("div",{style:o.group},x0(n,function(c,a){return we.createElement(Mxt,{key:c,color:c,active:c.toLowerCase()===i,first:a===0,last:a===n.length-1,onClick:e,onSwatchHover:r})}))},E4=function(t){var e=t.width,r=t.height,n=t.onChange,i=t.onSwatchHover,o=t.colors,c=t.hex,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=_a(Sd({default:{picker:{width:e,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},g)),I=function(S,P){return n({hex:S,source:"hex"},P)};return we.createElement("div",{style:k.picker,className:"swatches-picker "+x},we.createElement(eS,null,we.createElement("div",{style:k.overflow},we.createElement("div",{style:k.body},x0(o,function(S){return we.createElement(Pxt,{key:S.toString(),group:S,active:c,onClick:I,onSwatchHover:i})}),we.createElement("div",{style:k.clear})))))};E4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),height:Fn.oneOfType([Fn.string,Fn.number]),colors:Fn.arrayOf(Fn.arrayOf(Fn.string)),styles:Fn.object};E4.defaultProps={width:320,height:240,colors:[[Vb[900],Vb[700],Vb[500],Vb[300],Vb[100]],[Ub[900],Ub[700],Ub[500],Ub[300],Ub[100]],[qb[900],qb[700],qb[500],qb[300],qb[100]],[Gb[900],Gb[700],Gb[500],Gb[300],Gb[100]],[Hb[900],Hb[700],Hb[500],Hb[300],Hb[100]],[Xb[900],Xb[700],Xb[500],Xb[300],Xb[100]],[Wb[900],Wb[700],Wb[500],Wb[300],Wb[100]],[Yb[900],Yb[700],Yb[500],Yb[300],Yb[100]],[Kb[900],Kb[700],Kb[500],Kb[300],Kb[100]],["#194D33",v2[700],v2[500],v2[300],v2[100]],[Zb[900],Zb[700],Zb[500],Zb[300],Zb[100]],[Qb[900],Qb[700],Qb[500],Qb[300],Qb[100]],[Jb[900],Jb[700],Jb[500],Jb[300],Jb[100]],[t_[900],t_[700],t_[500],t_[300],t_[100]],[e_[900],e_[700],e_[500],e_[300],e_[100]],[r_[900],r_[700],r_[500],r_[300],r_[100]],[n_[900],n_[700],n_[500],n_[300],n_[100]],[i_[900],i_[700],i_[500],i_[300],i_[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ed(E4);var T4=function(t){var e=t.onChange,r=t.onSwatchHover,n=t.hex,i=t.colors,o=t.width,c=t.triangle,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=_a(Sd({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},g),{"hide-triangle":c==="hide","top-left-triangle":c==="top-left","top-right-triangle":c==="top-right"}),I=function(S,P){zy(S)&&e({hex:S,source:"hex"},P)};return we.createElement("div",{style:k.card,className:"twitter-picker "+x},we.createElement("div",{style:k.triangleShadow}),we.createElement("div",{style:k.triangle}),we.createElement("div",{style:k.body},x0(i,function(S,P){return we.createElement(_0,{key:P,color:S,hex:S,style:k.swatch,onClick:I,onHover:r,focusStyle:{boxShadow:"0 0 4px "+S}})}),we.createElement("div",{style:k.hash},"#"),we.createElement(Ro,{label:null,style:{input:k.input},value:n.replace("#",""),onChange:I}),we.createElement("div",{style:k.clear})))};T4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),triangle:Fn.oneOf(["hide","top-left","top-right"]),colors:Fn.arrayOf(Fn.string),styles:Fn.object};T4.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ed(T4);var C4=function(t){var e=_a({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return we.createElement("div",{style:e.picker})};C4.propTypes={hsl:Fn.shape({h:Fn.number,s:Fn.number,l:Fn.number,a:Fn.number})};C4.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var A4=function(t){var e=_a({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return we.createElement("div",{style:e.picker})};A4.propTypes={hsl:Fn.shape({h:Fn.number,s:Fn.number,l:Fn.number,a:Fn.number})};A4.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Oxt=function(t){var e=t.onChange,r=t.rgb,n=t.hsl,i=t.hex,o=t.hsv,c=function(k,I){if(k.hex)zy(k.hex)&&e({hex:k.hex,source:"hex"},I);else if(k.rgb){var S=k.rgb.split(",");eN(k.rgb,"rgb")&&e({r:S[0],g:S[1],b:S[2],a:1,source:"rgb"},I)}else if(k.hsv){var P=k.hsv.split(",");eN(k.hsv,"hsv")&&(P[2]=P[2].replace("%",""),P[1]=P[1].replace("%",""),P[0]=P[0].replace("°",""),P[1]==1?P[1]=.01:P[2]==1&&(P[2]=.01),e({h:Number(P[0]),s:Number(P[1]),v:Number(P[2]),source:"hsv"},I))}else if(k.hsl){var D=k.hsl.split(",");eN(k.hsl,"hsl")&&(D[2]=D[2].replace("%",""),D[1]=D[1].replace("%",""),D[0]=D[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),e({h:Number(D[0]),s:Number(D[1]),v:Number(D[2]),source:"hsl"},I))}},a=_a({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),g=r.r+", "+r.g+", "+r.b,v=Math.round(n.h)+"°, "+Math.round(n.s*100)+"%, "+Math.round(n.l*100)+"%",x=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return we.createElement("div",{style:a.wrap,className:"flexbox-fix"},we.createElement("div",{style:a.fields},we.createElement("div",{style:a.double},we.createElement(Ro,{style:{input:a.input,label:a.label},label:"hex",value:i,onChange:c})),we.createElement("div",{style:a.column},we.createElement("div",{style:a.single},we.createElement(Ro,{style:{input:a.input2,label:a.label2},label:"rgb",value:g,onChange:c})),we.createElement("div",{style:a.single},we.createElement(Ro,{style:{input:a.input2,label:a.label2},label:"hsv",value:x,onChange:c})),we.createElement("div",{style:a.single},we.createElement(Ro,{style:{input:a.input2,label:a.label2},label:"hsl",value:v,onChange:c})))))},k4=function(t){var e=t.width,r=t.onChange,n=t.rgb,i=t.hsl,o=t.hsv,c=t.hex,a=t.header,g=t.styles,v=g===void 0?{}:g,x=t.className,k=x===void 0?"":x,I=_a(Sd({default:{picker:{width:e,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},v));return we.createElement("div",{style:I.picker,className:"google-picker "+k},we.createElement("div",{style:I.head},a),we.createElement("div",{style:I.swatch}),we.createElement("div",{style:I.saturation},we.createElement(hA,{hsl:i,hsv:o,pointer:C4,onChange:r})),we.createElement("div",{style:I.body},we.createElement("div",{style:I.controls,className:"flexbox-fix"},we.createElement("div",{style:I.hue},we.createElement(xx,{style:I.Hue,hsl:i,radius:"4px",pointer:A4,onChange:r}))),we.createElement(Oxt,{rgb:n,hsl:i,hex:c,hsv:o,onChange:r})))};k4.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),styles:Fn.object,header:Fn.string};k4.defaultProps={width:652,styles:{},header:"Color picker"};Ed(k4);qr(Py)({marginLeft:"-100px",marginRight:"-21px",paddingLeft:"53px",borderRadius:"0px",boxShadow:"none",backgroundColor:"rgb(0, 0, 0, 0)"});qr(d0)({marginLeft:"61px"});qr(EP)(t=>({paddingRight:t?"56px":0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"}));qr(Oy)({padding:"4px",marginTop:"-3px"});qr(TP)({minWidth:"30px"});qr(kq)({padding:0});var j7;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(j7||(j7={}));const Dxt=Object.freeze({x:0,y:0});var x_;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(x_||(x_={}));var $7;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})($7||($7={}));var wf;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(wf||(wf={}));wf.Space,wf.Enter,wf.Esc,wf.Space,wf.Enter,wf.Tab;var V7;(function(t){t[t.RightClick=2]="RightClick"})(V7||(V7={}));var U7;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(U7||(U7={}));var q7;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(q7||(q7={}));x_.Backward+"",x_.Forward+"",x_.Backward+"",x_.Forward+"";var VL;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(VL||(VL={}));var UL;(function(t){t.Optimized="optimized"})(UL||(UL={}));VL.WhileDragging,UL.Optimized;({...Dxt});var G7;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(G7||(G7={}));wf.Down,wf.Right,wf.Up,wf.Left;qr(Oy)({padding:"4px",marginTop:"-3px"});qr(Oy)({marginLeft:"20px"});yr.Fragment;ba(yr.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));qr("div")(()=>({display:"flex",alignItems:"center"}));qr(d0)(({theme:t})=>({width:30,height:6,backgroundColor:t.palette.text.primary,borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}));ba(yr.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}));ba(yr.jsx("path",{d:"M19 13H5v-2h14z"}));qr(d0)(({theme:t})=>({zIndex:1e3,cursor:"pointer",transform:"scale(1)",[t.breakpoints.down("md")]:{transform:"scale(1.6)"}}));qr(d0)(({theme:t})=>({position:"absolute",right:"-10px",top:"-52px",width:"52px",height:"52px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",[t.breakpoints.down("md")]:{right:"0px",top:"-52px"},circle:{fill:t.palette.compass.compColor,stroke:t.palette.compass.compStroke},path:{fill:t.palette.compass.compStroke},"&:hover circle":{fill:t.palette.compass.compHover}}));qr(d0)(({theme:t})=>({display:"flex",flexDirection:"row","path:nth-of-type(2)":{fill:t.palette.compass.compSouth},"path:nth-of-type(1)":{fill:t.palette.compass.compNorth}}));ba(yr.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}));ba(yr.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}));qr(Pst)(({theme:t})=>({zIndex:1e3,color:t.palette.navigation.buttonColor,transform:"scale(1)"}));var ko={},ju={},H7;function Sx(){if(H7)return ju;H7=1;function t(H,G,z){if(z===void 0&&(z=Array.prototype),H&&typeof z.find=="function")return z.find.call(H,G);for(var j=0;j<H.length;j++)if(r(H,j)){var X=H[j];if(G.call(void 0,X,j,H))return X}}function e(H,G){return G===void 0&&(G=Object),G&&typeof G.getOwnPropertyDescriptors=="function"&&(H=G.create(null,G.getOwnPropertyDescriptors(H))),G&&typeof G.freeze=="function"?G.freeze(H):H}function r(H,G){return Object.prototype.hasOwnProperty.call(H,G)}function n(H,G){if(H===null||typeof H!="object")throw new TypeError("target is not an object");for(var z in G)r(G,z)&&(H[z]=G[z]);return H}var i=e({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});function o(H){return r(i,H.toLowerCase())}var c=e({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a(H){return r(c,H.toLowerCase())}var g=e({script:!1,style:!1,textarea:!0,title:!0});function v(H){var G=H.toLowerCase();return r(g,G)&&!g[G]}function x(H){var G=H.toLowerCase();return r(g,G)&&g[G]}function k(H){return H===S.HTML}function I(H){return k(H)||H===S.XML_XHTML_APPLICATION}var S=e({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),P=Object.keys(S).map(function(H){return S[H]});function D(H){return P.indexOf(H)>-1}var U=e({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return ju.assign=n,ju.find=t,ju.freeze=e,ju.HTML_BOOLEAN_ATTRIBUTES=i,ju.HTML_RAW_TEXT_ELEMENTS=g,ju.HTML_VOID_ELEMENTS=c,ju.hasDefaultHTMLNamespace=I,ju.hasOwn=r,ju.isHTMLBooleanAttribute=o,ju.isHTMLRawTextElement=v,ju.isHTMLEscapableRawTextElement=x,ju.isHTMLMimeType=k,ju.isHTMLVoidElement=a,ju.isValidMimeType=D,ju.MIME_TYPE=S,ju.NAMESPACE=U,ju}var Ib={},X7;function pA(){if(X7)return Ib;X7=1;var t=Sx();function e(I,S){I.prototype=Object.create(Error.prototype,{constructor:{value:I},name:{value:I.name,enumerable:!0,writable:S}})}var r=t.freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),n=Object.keys(r);function i(I){return typeof I=="number"&&I>=1&&I<=25}function o(I){return typeof I=="string"&&I.substring(I.length-r.Error.length)===r.Error}function c(I,S){i(I)?(this.name=n[I],this.message=S||""):(this.message=I,this.name=o(S)?S:r.Error),Error.captureStackTrace&&Error.captureStackTrace(this,c)}e(c,!0),Object.defineProperties(c.prototype,{code:{enumerable:!0,get:function(){var I=n.indexOf(this.name);return i(I)?I:0}}});for(var a={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},g=Object.entries(a),v=0;v<g.length;v++){var x=g[v][0];c[x]=g[v][1]}function k(I,S){this.message=I,this.locator=S,Error.captureStackTrace&&Error.captureStackTrace(this,k)}return e(k),Ib.DOMException=c,Ib.DOMExceptionName=r,Ib.ExceptionCode=a,Ib.ParseError=k,Ib}var Pc={},Fa={},W7;function ZH(){if(W7)return Fa;W7=1;function t(ur){try{typeof ur!="function"&&(ur=RegExp);var Oe=new ur("𝌆","u").exec("𝌆");return!!Oe&&Oe[0].length===2}catch{}return!1}var e=t();function r(ur){if(ur.source[0]!=="[")throw new Error(ur+" can not be used with chars");return ur.source.slice(1,ur.source.lastIndexOf("]"))}function n(ur,Oe){if(ur.source[0]!=="[")throw new Error("/"+ur.source+"/ can not be used with chars_without");if(!Oe||typeof Oe!="string")throw new Error(JSON.stringify(Oe)+" is not a valid search");if(ur.source.indexOf(Oe)===-1)throw new Error('"'+Oe+'" is not is /'+ur.source+"/");if(Oe==="-"&&ur.source.indexOf(Oe)!==1)throw new Error('"'+Oe+'" is not at the first postion of /'+ur.source+"/");return new RegExp(ur.source.replace(Oe,""),e?"u":"")}function i(ur){var Oe=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(Wr){var or=typeof Wr=="string";if(or&&Oe===void 0&&Wr==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return or?Wr:Wr.source}).join(""),e?"mu":"m")}function o(ur){if(arguments.length===0)throw new Error("no parameters provided");return i.apply(o,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var c="�",a=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;e&&(a=i("[",r(a),"\\u{10000}-\\u{10FFFF}","]"));var g=/[\x20\x09\x0D\x0A]/,v=r(g),x=i(g,"+"),k=i(g,"*"),I=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;e&&(I=i("[",r(I),"\\u{10000}-\\u{10FFFF}","]"));var S=r(I),P=i("[",S,r(/[-.0-9\xB7]/),r(/[\u0300-\u036F\u203F-\u2040]/),"]"),D=i(I,P,"*"),U=i(P,"+"),H=i("&",D,";"),G=o(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),z=o(H,"|",G),j=i("%",D,";"),X=o(i('"',o(/[^%&"]/,"|",j,"|",z),"*",'"'),"|",i("'",o(/[^%&']/,"|",j,"|",z),"*","'")),Y=o('"',o(/[^<&"]/,"|",z),"*",'"',"|","'",o(/[^<&']/,"|",z),"*","'"),et=n(I,":"),st=n(P,":"),it=i(et,st,"*"),vt=i(it,o(":",it),"?"),at=i("^",vt,"$"),V=i("(",vt,")"),dt=o(/"[^"]*"|'[^']*'/),mt=i(/^<\?/,"(",D,")",o(x,"(",a,"*?)"),"?",/\?>/),wt=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,pt=o('"',wt,'*"',"|","'",n(wt,"'"),"*'"),At="<!--",St="-->",Lt=i(At,o(n(a,"-"),"|",i("-",n(a,"-"))),"*",St),jt="#PCDATA",_t=o(i(/\(/,k,jt,o(k,/\|/,k,vt),"*",k,/\)\*/),"|",i(/\(/,k,jt,k,/\)/)),lt=/[?*+]?/,Tt=i(/\([^>]+\)/,lt),kt=o("EMPTY","|","ANY","|",_t,"|",Tt),Rt="<!ELEMENT",Ut=i(Rt,x,o(vt,"|",j),x,o(kt,"|",j),k,">"),ie=i("NOTATION",x,/\(/,k,D,o(k,/\|/,k,D),"*",k,/\)/),Ht=i(/\(/,k,U,o(k,/\|/,k,U),"*",k,/\)/),ce=o(ie,"|",Ht),de=o(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",ce),Se=o(/#REQUIRED|#IMPLIED/,"|",o(o("#FIXED",x),"?",Y)),Vt=o(x,D,x,de,x,Se),He="<!ATTLIST",ke=i(He,x,D,Vt,"*",k,">"),Jt="about:legacy-compat",$r=o('"'+Jt+'"',"|","'"+Jt+"'"),vr="SYSTEM",Dr="PUBLIC",Ie=o(o(vr,x,dt),"|",o(Dr,x,pt,x,dt)),Mr=i("^",o(o(vr,x,"(?<SystemLiteralOnly>",dt,")"),"|",o(Dr,x,"(?<PubidLiteral>",pt,")",x,"(?<SystemLiteral>",dt,")"))),ir=o(x,"NDATA",x,D),Rr=o(X,"|",o(Ie,ir,"?")),Pr="<!ENTITY",Ir=i(Pr,x,D,x,Rr,k,">"),dr=o(X,"|",Ie),ar=i(Pr,x,"%",x,D,x,dr,k,">"),Or=o(Ir,"|",ar),er=i(Dr,x,pt),Fr=i("<!NOTATION",x,D,x,o(Ie,"|",er),k,">"),Ze=i(k,"=",k),rr=/1[.]\d+/,Me=i(x,"version",Ze,o("'",rr,"'","|",'"',rr,'"')),Ft=/[A-Za-z][-A-Za-z0-9._]*/,Mt=o(x,"encoding",Ze,o('"',Ft,'"',"|","'",Ft,"'")),Bt=o(x,"standalone",Ze,o("'",o("yes","|","no"),"'","|",'"',o("yes","|","no"),'"')),oe=i(/^<\?xml/,Me,Mt,"?",Bt,"?",k,/\?>/),ye="<!DOCTYPE",je="<![CDATA[",Ge="]]>",Ue=/<!\[CDATA\[/,fr=/\]\]>/,Ke=i(a,"*?",fr),Pe=i(Ue,Ke);return Fa.chars=r,Fa.chars_without=n,Fa.detectUnicodeSupport=t,Fa.reg=i,Fa.regg=o,Fa.ABOUT_LEGACY_COMPAT=Jt,Fa.ABOUT_LEGACY_COMPAT_SystemLiteral=$r,Fa.AttlistDecl=ke,Fa.CDATA_START=je,Fa.CDATA_END=Ge,Fa.CDSect=Pe,Fa.Char=a,Fa.Comment=Lt,Fa.COMMENT_START=At,Fa.COMMENT_END=St,Fa.DOCTYPE_DECL_START=ye,Fa.elementdecl=Ut,Fa.EntityDecl=Or,Fa.EntityValue=X,Fa.ExternalID=Ie,Fa.ExternalID_match=Mr,Fa.Name=D,Fa.NotationDecl=Fr,Fa.Reference=z,Fa.PEReference=j,Fa.PI=mt,Fa.PUBLIC=Dr,Fa.PubidLiteral=pt,Fa.QName=vt,Fa.QName_exact=at,Fa.QName_group=V,Fa.S=x,Fa.SChar_s=v,Fa.S_OPT=k,Fa.SYSTEM=vr,Fa.SystemLiteral=dt,Fa.UNICODE_REPLACEMENT_CHARACTER=c,Fa.UNICODE_SUPPORT=e,Fa.XMLDecl=oe,Fa}var Y7;function QH(){if(Y7)return Pc;Y7=1;var t=Sx(),e=t.find,r=t.hasDefaultHTMLNamespace,n=t.hasOwn,i=t.isHTMLMimeType,o=t.isHTMLRawTextElement,c=t.isHTMLVoidElement,a=t.MIME_TYPE,g=t.NAMESPACE,v=Symbol(),x=pA(),k=x.DOMException,I=x.DOMExceptionName,S=ZH();function P(Pt){if(Pt!==v)throw new TypeError("Illegal constructor")}function D(Pt){return Pt!==""}function U(Pt){return Pt?Pt.split(/[\t\n\f\r ]+/).filter(D):[]}function H(Pt,Xt){return n(Pt,Xt)||(Pt[Xt]=!0),Pt}function G(Pt){if(!Pt)return[];var Xt=U(Pt);return Object.keys(Xt.reduce(H,{}))}function z(Pt){return function(Xt){return Pt&&Pt.indexOf(Xt)!==-1}}function j(Pt){if(!S.QName_exact.test(Pt))throw new k(k.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+Pt+'"')}function X(Pt,Xt){j(Xt),Pt=Pt||null;var be=null,ze=Xt;if(Xt.indexOf(":")>=0){var Lr=Xt.split(":");be=Lr[0],ze=Lr[1]}if(be!==null&&Pt===null)throw new k(k.NAMESPACE_ERR,"prefix is non-null and namespace is null");if(be==="xml"&&Pt!==t.NAMESPACE.XML)throw new k(k.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if((be==="xmlns"||Xt==="xmlns")&&Pt!==t.NAMESPACE.XMLNS)throw new k(k.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(Pt===t.NAMESPACE.XMLNS&&be!=="xmlns"&&Xt!=="xmlns")throw new k(k.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[Pt,be,ze]}function Y(Pt,Xt){for(var be in Pt)n(Pt,be)&&(Xt[be]=Pt[be])}function et(Pt,Xt){var be=Pt.prototype;if(!(be instanceof Xt)){let ze=function(){};ze.prototype=Xt.prototype,ze=new ze,Y(be,ze),Pt.prototype=be=ze}be.constructor!=Pt&&(typeof Pt!="function"&&console.error("unknown Class:"+Pt),be.constructor=Pt)}var st={},it=st.ELEMENT_NODE=1,vt=st.ATTRIBUTE_NODE=2,at=st.TEXT_NODE=3,V=st.CDATA_SECTION_NODE=4,dt=st.ENTITY_REFERENCE_NODE=5,mt=st.ENTITY_NODE=6,wt=st.PROCESSING_INSTRUCTION_NODE=7,pt=st.COMMENT_NODE=8,At=st.DOCUMENT_NODE=9,St=st.DOCUMENT_TYPE_NODE=10,Lt=st.DOCUMENT_FRAGMENT_NODE=11,jt=st.NOTATION_NODE=12,_t=t.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function lt(Pt,Xt){if(Xt.length<Pt.length)return lt(Xt,Pt);var be=null;for(var ze in Pt){if(Pt[ze]!==Xt[ze])return be;be=Pt[ze]}return be}function Tt(Pt){return Pt.guid||(Pt.guid=Math.random()),Pt.guid}function kt(){}kt.prototype={length:0,item:function(Pt){return Pt>=0&&Pt<this.length?this[Pt]:null},toString:function(Pt){for(var Xt=[],be=0;be<this.length;be++)or(this[be],Xt,Pt);return Xt.join("")},filter:function(Pt){return Array.prototype.filter.call(this,Pt)},indexOf:function(Pt){return Array.prototype.indexOf.call(this,Pt)}},kt.prototype[Symbol.iterator]=function(){var Pt=this,Xt=0;return{next:function(){return Xt<Pt.length?{value:Pt[Xt++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function Rt(Pt,Xt){this._node=Pt,this._refresh=Xt,Ut(this)}function Ut(Pt){var Xt=Pt._node._inc||Pt._node.ownerDocument._inc;if(Pt._inc!==Xt){var be=Pt._refresh(Pt._node);if(Zn(Pt,"length",be.length),!Pt.$$length||be.length<Pt.$$length)for(var ze=be.length;ze in Pt;ze++)n(Pt,ze)&&delete Pt[ze];Y(be,Pt),Pt._inc=Xt}}Rt.prototype.item=function(Pt){return Ut(this),this[Pt]||null},et(Rt,kt);function ie(){}function Ht(Pt,Xt){for(var be=0;be<Pt.length;){if(Pt[be]===Xt)return be;be++}}function ce(Pt,Xt,be,ze){if(ze?Xt[Ht(Xt,ze)]=be:(Xt[Xt.length]=be,Xt.length++),Pt){be.ownerElement=Pt;var Lr=Pt.ownerDocument;Lr&&(ze&&vr(Lr,Pt,ze),$r(Lr,Pt,be))}}function de(Pt,Xt,be){var ze=Ht(Xt,be);if(ze>=0){for(var Lr=Xt.length-1;ze<=Lr;)Xt[ze]=Xt[++ze];if(Xt.length=Lr,Pt){var vn=Pt.ownerDocument;vn&&vr(vn,Pt,be),be.ownerElement=null}}}ie.prototype={length:0,item:kt.prototype.item,getNamedItem:function(Pt){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(Pt=Pt.toLowerCase());for(var Xt=0;Xt<this.length;){var be=this[Xt];if(be.nodeName===Pt)return be;Xt++}return null},setNamedItem:function(Pt){var Xt=Pt.ownerElement;if(Xt&&Xt!==this._ownerElement)throw new k(k.INUSE_ATTRIBUTE_ERR);var be=this.getNamedItemNS(Pt.namespaceURI,Pt.localName);return be===Pt?Pt:(ce(this._ownerElement,this,Pt,be),be)},setNamedItemNS:function(Pt){return this.setNamedItem(Pt)},removeNamedItem:function(Pt){var Xt=this.getNamedItem(Pt);if(!Xt)throw new k(k.NOT_FOUND_ERR,Pt);return de(this._ownerElement,this,Xt),Xt},removeNamedItemNS:function(Pt,Xt){var be=this.getNamedItemNS(Pt,Xt);if(!be)throw new k(k.NOT_FOUND_ERR,Pt?Pt+" : "+Xt:Xt);return de(this._ownerElement,this,be),be},getNamedItemNS:function(Pt,Xt){Pt||(Pt=null);for(var be=0;be<this.length;){var ze=this[be];if(ze.localName===Xt&&ze.namespaceURI===Pt)return ze;be++}return null}},ie.prototype[Symbol.iterator]=function(){var Pt=this,Xt=0;return{next:function(){return Xt<Pt.length?{value:Pt[Xt++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function Se(){}Se.prototype={hasFeature:function(Pt,Xt){return!0},createDocument:function(Pt,Xt,be){var ze=a.XML_APPLICATION;Pt===g.HTML?ze=a.XML_XHTML_APPLICATION:Pt===g.SVG&&(ze=a.XML_SVG_IMAGE);var Lr=new Jt(v,{contentType:ze});if(Lr.implementation=this,Lr.childNodes=new kt,Lr.doctype=be||null,be&&Lr.appendChild(be),Xt){var vn=Lr.createElementNS(Pt,Xt);Lr.appendChild(vn)}return Lr},createDocumentType:function(Pt,Xt,be,ze){j(Pt);var Lr=new ye(v);return Lr.name=Pt,Lr.nodeName=Pt,Lr.publicId=Xt||"",Lr.systemId=be||"",Lr.internalSubset=ze||"",Lr.childNodes=new kt,Lr},createHTMLDocument:function(Pt){var Xt=new Jt(v,{contentType:a.HTML});if(Xt.implementation=this,Xt.childNodes=new kt,Pt!==!1){Xt.doctype=this.createDocumentType("html"),Xt.doctype.ownerDocument=Xt,Xt.appendChild(Xt.doctype);var be=Xt.createElement("html");Xt.appendChild(be);var ze=Xt.createElement("head");if(be.appendChild(ze),typeof Pt=="string"){var Lr=Xt.createElement("title");Lr.appendChild(Xt.createTextNode(Pt)),ze.appendChild(Lr)}be.appendChild(Xt.createElement("body"))}return Xt}};function Vt(Pt){P(Pt)}Vt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var Pt=this.getRootNode();return Pt&&Pt.nodeType===Pt.DOCUMENT_NODE},contains:function(Pt){if(!Pt)return!1;var Xt=Pt;do{if(this===Xt)return!0;Xt=Pt.parentNode}while(Xt);return!1},getRootNode:function(Pt){var Xt=this;do{if(!Xt.parentNode)return Xt;Xt=Xt.parentNode}while(Xt)},isEqualNode:function(Pt){if(!Pt||this.nodeType!==Pt.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==Pt.name||this.publicId!==Pt.publicId||this.systemId!==Pt.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==Pt.namespaceURI||this.prefix!==Pt.prefix||this.localName!==Pt.localName||this.attributes.length!==Pt.attributes.length)return!1;for(var Xt=0;Xt<this.attributes.length;Xt++){var be=this.attributes.item(Xt);if(!be.isEqualNode(Pt.getAttributeNodeNS(be.namespaceURI,be.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==Pt.namespaceURI||this.localName!==Pt.localName||this.value!==Pt.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==Pt.target||this.data!==Pt.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==Pt.data)return!1;break}if(this.childNodes.length!==Pt.childNodes.length)return!1;for(var Xt=0;Xt<this.childNodes.length;Xt++)if(!this.childNodes[Xt].isEqualNode(Pt.childNodes[Xt]))return!1;return!0},isSameNode:function(Pt){return this===Pt},insertBefore:function(Pt,Xt){return Ze(this,Pt,Xt)},replaceChild:function(Pt,Xt){Ze(this,Pt,Xt,Fr),Xt&&this.removeChild(Xt)},removeChild:function(Pt){return Ie(this,Pt)},appendChild:function(Pt){return this.insertBefore(Pt,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(Pt){return Kr(this.ownerDocument||this,this,Pt)},normalize:function(){for(var Pt=this.firstChild;Pt;){var Xt=Pt.nextSibling;Xt&&Xt.nodeType==at&&Pt.nodeType==at?(this.removeChild(Xt),Pt.appendData(Xt.data)):(Pt.normalize(),Pt=Xt)}},isSupported:function(Pt,Xt){return this.ownerDocument.implementation.hasFeature(Pt,Xt)},lookupPrefix:function(Pt){for(var Xt=this;Xt;){var be=Xt._nsMap;if(be){for(var ze in be)if(n(be,ze)&&be[ze]===Pt)return ze}Xt=Xt.nodeType==vt?Xt.ownerDocument:Xt.parentNode}return null},lookupNamespaceURI:function(Pt){for(var Xt=this;Xt;){var be=Xt._nsMap;if(be&&n(be,Pt))return be[Pt];Xt=Xt.nodeType==vt?Xt.ownerDocument:Xt.parentNode}return null},isDefaultNamespace:function(Pt){var Xt=this.lookupPrefix(Pt);return Xt==null},compareDocumentPosition:function(Pt){if(this===Pt)return 0;var Xt=Pt,be=this,ze=null,Lr=null;if(Xt instanceof Me&&(ze=Xt,Xt=ze.ownerElement),be instanceof Me&&(Lr=be,be=Lr.ownerElement,ze&&Xt&&be===Xt))for(var vn=0,Vr;Vr=be.attributes[vn];vn++){if(Vr===ze)return _t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+_t.DOCUMENT_POSITION_PRECEDING;if(Vr===Lr)return _t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+_t.DOCUMENT_POSITION_FOLLOWING}if(!Xt||!be||be.ownerDocument!==Xt.ownerDocument)return _t.DOCUMENT_POSITION_DISCONNECTED+_t.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(Tt(be.ownerDocument)>Tt(Xt.ownerDocument)?_t.DOCUMENT_POSITION_FOLLOWING:_t.DOCUMENT_POSITION_PRECEDING);if(Lr&&Xt===be)return _t.DOCUMENT_POSITION_CONTAINS+_t.DOCUMENT_POSITION_PRECEDING;if(ze&&Xt===be)return _t.DOCUMENT_POSITION_CONTAINED_BY+_t.DOCUMENT_POSITION_FOLLOWING;for(var fi=[],On=Xt.parentNode;On;){if(!Lr&&On===be)return _t.DOCUMENT_POSITION_CONTAINED_BY+_t.DOCUMENT_POSITION_FOLLOWING;fi.push(On),On=On.parentNode}fi.reverse();for(var li=[],Ji=be.parentNode;Ji;){if(!ze&&Ji===Xt)return _t.DOCUMENT_POSITION_CONTAINS+_t.DOCUMENT_POSITION_PRECEDING;li.push(Ji),Ji=Ji.parentNode}li.reverse();var en=lt(fi,li);for(var Rn in en.childNodes){var Wn=en.childNodes[Rn];if(Wn===be)return _t.DOCUMENT_POSITION_FOLLOWING;if(Wn===Xt)return _t.DOCUMENT_POSITION_PRECEDING;if(li.indexOf(Wn)>=0)return _t.DOCUMENT_POSITION_FOLLOWING;if(fi.indexOf(Wn)>=0)return _t.DOCUMENT_POSITION_PRECEDING}return 0}};function He(Pt){return Pt=="<"&&"&lt;"||Pt==">"&&"&gt;"||Pt=="&"&&"&amp;"||Pt=='"'&&"&quot;"||"&#"+Pt.charCodeAt()+";"}Y(st,Vt),Y(st,Vt.prototype),Y(_t,Vt),Y(_t,Vt.prototype);function ke(Pt,Xt){if(Xt(Pt))return!0;if(Pt=Pt.firstChild)do if(ke(Pt,Xt))return!0;while(Pt=Pt.nextSibling)}function Jt(Pt,Xt){P(Pt);var be=Xt||{};this.ownerDocument=this,this.contentType=be.contentType||a.XML_APPLICATION,this.type=i(this.contentType)?"html":"xml"}function $r(Pt,Xt,be){Pt&&Pt._inc++;var ze=be.namespaceURI;ze===g.XMLNS&&(Xt._nsMap[be.prefix?be.localName:""]=be.value)}function vr(Pt,Xt,be,ze){Pt&&Pt._inc++;var Lr=be.namespaceURI;Lr===g.XMLNS&&delete Xt._nsMap[be.prefix?be.localName:""]}function Dr(Pt,Xt,be){if(Pt&&Pt._inc){Pt._inc++;var ze=Xt.childNodes;if(be&&!be.nextSibling)ze[ze.length++]=be;else{for(var Lr=Xt.firstChild,vn=0;Lr;)ze[vn++]=Lr,Lr=Lr.nextSibling;ze.length=vn,delete ze[ze.length]}}}function Ie(Pt,Xt){if(Pt!==Xt.parentNode)throw new k(k.NOT_FOUND_ERR,"child's parent is not parent");var be=Xt.previousSibling,ze=Xt.nextSibling;return be?be.nextSibling=ze:Pt.firstChild=ze,ze?ze.previousSibling=be:Pt.lastChild=be,Dr(Pt.ownerDocument,Pt),Xt.parentNode=null,Xt.previousSibling=null,Xt.nextSibling=null,Xt}function Mr(Pt){return Pt&&(Pt.nodeType===Vt.DOCUMENT_NODE||Pt.nodeType===Vt.DOCUMENT_FRAGMENT_NODE||Pt.nodeType===Vt.ELEMENT_NODE)}function ir(Pt){return Pt&&(Pt.nodeType===Vt.CDATA_SECTION_NODE||Pt.nodeType===Vt.COMMENT_NODE||Pt.nodeType===Vt.DOCUMENT_FRAGMENT_NODE||Pt.nodeType===Vt.DOCUMENT_TYPE_NODE||Pt.nodeType===Vt.ELEMENT_NODE||Pt.nodeType===Vt.PROCESSING_INSTRUCTION_NODE||Pt.nodeType===Vt.TEXT_NODE)}function Rr(Pt){return Pt&&Pt.nodeType===Vt.DOCUMENT_TYPE_NODE}function Pr(Pt){return Pt&&Pt.nodeType===Vt.ELEMENT_NODE}function Ir(Pt){return Pt&&Pt.nodeType===Vt.TEXT_NODE}function dr(Pt,Xt){var be=Pt.childNodes||[];if(e(be,Pr)||Rr(Xt))return!1;var ze=e(be,Rr);return!(Xt&&ze&&be.indexOf(ze)>be.indexOf(Xt))}function ar(Pt,Xt){var be=Pt.childNodes||[];function ze(vn){return Pr(vn)&&vn!==Xt}if(e(be,ze))return!1;var Lr=e(be,Rr);return!(Xt&&Lr&&be.indexOf(Lr)>be.indexOf(Xt))}function Or(Pt,Xt,be){if(!Mr(Pt))throw new k(k.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+Pt.nodeType);if(be&&be.parentNode!==Pt)throw new k(k.NOT_FOUND_ERR,"child not in parent");if(!ir(Xt)||Rr(Xt)&&Pt.nodeType!==Vt.DOCUMENT_NODE)throw new k(k.HIERARCHY_REQUEST_ERR,"Unexpected node type "+Xt.nodeType+" for parent node type "+Pt.nodeType)}function er(Pt,Xt,be){var ze=Pt.childNodes||[],Lr=Xt.childNodes||[];if(Xt.nodeType===Vt.DOCUMENT_FRAGMENT_NODE){var vn=Lr.filter(Pr);if(vn.length>1||e(Lr,Ir))throw new k(k.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(vn.length===1&&!dr(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Pr(Xt)&&!dr(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(Rr(Xt)){if(e(ze,Rr))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var Vr=e(ze,Pr);if(be&&ze.indexOf(Vr)<ze.indexOf(be))throw new k(k.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!be&&Vr)throw new k(k.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function Fr(Pt,Xt,be){var ze=Pt.childNodes||[],Lr=Xt.childNodes||[];if(Xt.nodeType===Vt.DOCUMENT_FRAGMENT_NODE){var vn=Lr.filter(Pr);if(vn.length>1||e(Lr,Ir))throw new k(k.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(vn.length===1&&!ar(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Pr(Xt)&&!ar(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(Rr(Xt)){if(e(ze,function(fi){return Rr(fi)&&fi!==be}))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var Vr=e(ze,Pr);if(be&&ze.indexOf(Vr)<ze.indexOf(be))throw new k(k.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function Ze(Pt,Xt,be,ze){Or(Pt,Xt,be),Pt.nodeType===Vt.DOCUMENT_NODE&&(ze||er)(Pt,Xt,be);var Lr=Xt.parentNode;if(Lr&&Lr.removeChild(Xt),Xt.nodeType===Lt){var vn=Xt.firstChild;if(vn==null)return Xt;var Vr=Xt.lastChild}else vn=Vr=Xt;var fi=be?be.previousSibling:Pt.lastChild;vn.previousSibling=fi,Vr.nextSibling=be,fi?fi.nextSibling=vn:Pt.firstChild=vn,be==null?Pt.lastChild=Vr:be.previousSibling=Vr;do vn.parentNode=Pt;while(vn!==Vr&&(vn=vn.nextSibling));return Dr(Pt.ownerDocument||Pt,Pt,Xt),Xt.nodeType==Lt&&(Xt.firstChild=Xt.lastChild=null),Xt}Jt.prototype={implementation:null,nodeName:"#document",nodeType:At,doctype:null,documentElement:null,_inc:1,insertBefore:function(Pt,Xt){if(Pt.nodeType===Lt){for(var be=Pt.firstChild;be;){var ze=be.nextSibling;this.insertBefore(be,Xt),be=ze}return Pt}return Ze(this,Pt,Xt),Pt.ownerDocument=this,this.documentElement===null&&Pt.nodeType===it&&(this.documentElement=Pt),Pt},removeChild:function(Pt){var Xt=Ie(this,Pt);return Xt===this.documentElement&&(this.documentElement=null),Xt},replaceChild:function(Pt,Xt){Ze(this,Pt,Xt,Fr),Pt.ownerDocument=this,Xt&&this.removeChild(Xt),Pr(Pt)&&(this.documentElement=Pt)},importNode:function(Pt,Xt){return bn(this,Pt,Xt)},getElementById:function(Pt){var Xt=null;return ke(this.documentElement,function(be){if(be.nodeType==it&&be.getAttribute("id")==Pt)return Xt=be,!0}),Xt},createElement:function(Pt){var Xt=new rr(v);Xt.ownerDocument=this,this.type==="html"&&(Pt=Pt.toLowerCase()),r(this.contentType)&&(Xt.namespaceURI=g.HTML),Xt.nodeName=Pt,Xt.tagName=Pt,Xt.localName=Pt,Xt.childNodes=new kt;var be=Xt.attributes=new ie;return be._ownerElement=Xt,Xt},createDocumentFragment:function(){var Pt=new fr(v);return Pt.ownerDocument=this,Pt.childNodes=new kt,Pt},createTextNode:function(Pt){var Xt=new Mt(v);return Xt.ownerDocument=this,Xt.childNodes=new kt,Xt.appendData(Pt),Xt},createComment:function(Pt){var Xt=new Bt(v);return Xt.ownerDocument=this,Xt.childNodes=new kt,Xt.appendData(Pt),Xt},createCDATASection:function(Pt){var Xt=new oe(v);return Xt.ownerDocument=this,Xt.childNodes=new kt,Xt.appendData(Pt),Xt},createProcessingInstruction:function(Pt,Xt){var be=new Ke(v);return be.ownerDocument=this,be.childNodes=new kt,be.nodeName=be.target=Pt,be.nodeValue=be.data=Xt,be},createAttribute:function(Pt){if(!S.QName_exact.test(Pt))throw new k(k.INVALID_CHARACTER_ERR,'invalid character in name "'+Pt+'"');return this.type==="html"&&(Pt=Pt.toLowerCase()),this._createAttribute(Pt)},_createAttribute:function(Pt){var Xt=new Me(v);return Xt.ownerDocument=this,Xt.childNodes=new kt,Xt.name=Pt,Xt.nodeName=Pt,Xt.localName=Pt,Xt.specified=!0,Xt},createEntityReference:function(Pt){if(!S.Name.test(Pt))throw new k(k.INVALID_CHARACTER_ERR,'not a valid xml name "'+Pt+'"');if(this.type==="html")throw new k("document is an html document",I.NotSupportedError);var Xt=new Ue(v);return Xt.ownerDocument=this,Xt.childNodes=new kt,Xt.nodeName=Pt,Xt},createElementNS:function(Pt,Xt){var be=X(Pt,Xt),ze=new rr(v),Lr=ze.attributes=new ie;return ze.childNodes=new kt,ze.ownerDocument=this,ze.nodeName=Xt,ze.tagName=Xt,ze.namespaceURI=be[0],ze.prefix=be[1],ze.localName=be[2],Lr._ownerElement=ze,ze},createAttributeNS:function(Pt,Xt){var be=X(Pt,Xt),ze=new Me(v);return ze.ownerDocument=this,ze.childNodes=new kt,ze.nodeName=Xt,ze.name=Xt,ze.specified=!0,ze.namespaceURI=be[0],ze.prefix=be[1],ze.localName=be[2],ze}},et(Jt,Vt);function rr(Pt){P(Pt),this._nsMap=Object.create(null)}rr.prototype={nodeType:it,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===g.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(Pt){return!!this.getAttributeNode(Pt)},getAttribute:function(Pt){var Xt=this.getAttributeNode(Pt);return Xt?Xt.value:null},getAttributeNode:function(Pt){return this._isInHTMLDocumentAndNamespace()&&(Pt=Pt.toLowerCase()),this.attributes.getNamedItem(Pt)},setAttribute:function(Pt,Xt){this._isInHTMLDocumentAndNamespace()&&(Pt=Pt.toLowerCase());var be=this.getAttributeNode(Pt);be?be.value=be.nodeValue=""+Xt:(be=this.ownerDocument._createAttribute(Pt),be.value=be.nodeValue=""+Xt,this.setAttributeNode(be))},removeAttribute:function(Pt){var Xt=this.getAttributeNode(Pt);Xt&&this.removeAttributeNode(Xt)},setAttributeNode:function(Pt){return this.attributes.setNamedItem(Pt)},setAttributeNodeNS:function(Pt){return this.attributes.setNamedItemNS(Pt)},removeAttributeNode:function(Pt){return this.attributes.removeNamedItem(Pt.nodeName)},removeAttributeNS:function(Pt,Xt){var be=this.getAttributeNodeNS(Pt,Xt);be&&this.removeAttributeNode(be)},hasAttributeNS:function(Pt,Xt){return this.getAttributeNodeNS(Pt,Xt)!=null},getAttributeNS:function(Pt,Xt){var be=this.getAttributeNodeNS(Pt,Xt);return be?be.value:null},setAttributeNS:function(Pt,Xt,be){var ze=X(Pt,Xt),Lr=ze[2],vn=this.getAttributeNodeNS(Pt,Lr);vn?vn.value=vn.nodeValue=""+be:(vn=this.ownerDocument.createAttributeNS(Pt,Xt),vn.value=vn.nodeValue=""+be,this.setAttributeNode(vn))},getAttributeNodeNS:function(Pt,Xt){return this.attributes.getNamedItemNS(Pt,Xt)},getElementsByClassName:function(Pt){var Xt=G(Pt);return new Rt(this,function(be){var ze=[];return Xt.length>0&&ke(be,function(Lr){if(Lr!==be&&Lr.nodeType===it){var vn=Lr.getAttribute("class");if(vn){var Vr=Pt===vn;if(!Vr){var fi=G(vn);Vr=Xt.every(z(fi))}Vr&&ze.push(Lr)}}}),ze})},getElementsByTagName:function(Pt){var Xt=(this.nodeType===At?this:this.ownerDocument).type==="html",be=Pt.toLowerCase();return new Rt(this,function(ze){var Lr=[];return ke(ze,function(vn){if(!(vn===ze||vn.nodeType!==it))if(Pt==="*")Lr.push(vn);else{var Vr=vn.getQualifiedName(),fi=Xt&&vn.namespaceURI===g.HTML?be:Pt;Vr===fi&&Lr.push(vn)}}),Lr})},getElementsByTagNameNS:function(Pt,Xt){return new Rt(this,function(be){var ze=[];return ke(be,function(Lr){Lr!==be&&Lr.nodeType===it&&(Pt==="*"||Lr.namespaceURI===Pt)&&(Xt==="*"||Lr.localName==Xt)&&ze.push(Lr)}),ze})}},Jt.prototype.getElementsByClassName=rr.prototype.getElementsByClassName,Jt.prototype.getElementsByTagName=rr.prototype.getElementsByTagName,Jt.prototype.getElementsByTagNameNS=rr.prototype.getElementsByTagNameNS,et(rr,Vt);function Me(Pt){P(Pt),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}Me.prototype.nodeType=vt,et(Me,Vt);function Ft(Pt){P(Pt)}Ft.prototype={data:"",substringData:function(Pt,Xt){return this.data.substring(Pt,Pt+Xt)},appendData:function(Pt){Pt=this.data+Pt,this.nodeValue=this.data=Pt,this.length=Pt.length},insertData:function(Pt,Xt){this.replaceData(Pt,0,Xt)},deleteData:function(Pt,Xt){this.replaceData(Pt,Xt,"")},replaceData:function(Pt,Xt,be){var ze=this.data.substring(0,Pt),Lr=this.data.substring(Pt+Xt);be=ze+be+Lr,this.nodeValue=this.data=be,this.length=be.length}},et(Ft,Vt);function Mt(Pt){P(Pt)}Mt.prototype={nodeName:"#text",nodeType:at,splitText:function(Pt){var Xt=this.data,be=Xt.substring(Pt);Xt=Xt.substring(0,Pt),this.data=this.nodeValue=Xt,this.length=Xt.length;var ze=this.ownerDocument.createTextNode(be);return this.parentNode&&this.parentNode.insertBefore(ze,this.nextSibling),ze}},et(Mt,Ft);function Bt(Pt){P(Pt)}Bt.prototype={nodeName:"#comment",nodeType:pt},et(Bt,Ft);function oe(Pt){P(Pt)}oe.prototype={nodeName:"#cdata-section",nodeType:V},et(oe,Mt);function ye(Pt){P(Pt)}ye.prototype.nodeType=St,et(ye,Vt);function je(Pt){P(Pt)}je.prototype.nodeType=jt,et(je,Vt);function Ge(Pt){P(Pt)}Ge.prototype.nodeType=mt,et(Ge,Vt);function Ue(Pt){P(Pt)}Ue.prototype.nodeType=dt,et(Ue,Vt);function fr(Pt){P(Pt)}fr.prototype.nodeName="#document-fragment",fr.prototype.nodeType=Lt,et(fr,Vt);function Ke(Pt){P(Pt)}Ke.prototype.nodeType=wt,et(Ke,Ft);function Pe(){}Pe.prototype.serializeToString=function(Pt,Xt){return ur.call(Pt,Xt)},Vt.prototype.toString=ur;function ur(Pt){var Xt=[],be=this.nodeType===At&&this.documentElement||this,ze=be.prefix,Lr=be.namespaceURI;if(Lr&&ze==null){var ze=be.lookupPrefix(Lr);if(ze==null)var vn=[{namespace:Lr,prefix:null}]}return or(this,Xt,Pt,vn),Xt.join("")}function Oe(Pt,Xt,be){var ze=Pt.prefix||"",Lr=Pt.namespaceURI;if(!Lr||ze==="xml"&&Lr===g.XML||Lr===g.XMLNS)return!1;for(var vn=be.length;vn--;){var Vr=be[vn];if(Vr.prefix===ze)return Vr.namespace!==Lr}return!0}function Wr(Pt,Xt,be){Pt.push(" ",Xt,'="',be.replace(/[<>&"\t\n\r]/g,He),'"')}function or(Pt,Xt,be,ze){ze||(ze=[]);var Lr=Pt.nodeType===At?Pt:Pt.ownerDocument,vn=Lr.type==="html";if(be)if(Pt=be(Pt),Pt){if(typeof Pt=="string"){Xt.push(Pt);return}}else return;switch(Pt.nodeType){case it:var Vr=Pt.attributes,fi=Vr.length,On=Pt.firstChild,li=Pt.tagName,Ji=li;if(!vn&&!Pt.prefix&&Pt.namespaceURI){for(var en,Rn=0;Rn<Vr.length;Rn++)if(Vr.item(Rn).name==="xmlns"){en=Vr.item(Rn).value;break}if(!en)for(var Wn=ze.length-1;Wn>=0;Wn--){var Ra=ze[Wn];if(Ra.prefix===""&&Ra.namespace===Pt.namespaceURI){en=Ra.namespace;break}}if(en!==Pt.namespaceURI)for(var Wn=ze.length-1;Wn>=0;Wn--){var Ra=ze[Wn];if(Ra.namespace===Pt.namespaceURI){Ra.prefix&&(Ji=Ra.prefix+":"+li);break}}}Xt.push("<",Ji);for(var xo=0;xo<fi;xo++){var Na=Vr.item(xo);Na.prefix=="xmlns"?ze.push({prefix:Na.localName,namespace:Na.value}):Na.nodeName=="xmlns"&&ze.push({prefix:"",namespace:Na.value})}for(var xo=0;xo<fi;xo++){var Na=Vr.item(xo);if(Oe(Na,vn,ze)){var Mn=Na.prefix||"",io=Na.namespaceURI;Wr(Xt,Mn?"xmlns:"+Mn:"xmlns",io),ze.push({prefix:Mn,namespace:io})}or(Na,Xt,be,ze)}if(li===Ji&&Oe(Pt,vn,ze)){var Mn=Pt.prefix||"",io=Pt.namespaceURI;Wr(Xt,Mn?"xmlns:"+Mn:"xmlns",io),ze.push({prefix:Mn,namespace:io})}var rl=!On;if(rl&&(vn||Pt.namespaceURI===g.HTML)&&(rl=c(li)),rl)Xt.push("/>");else{if(Xt.push(">"),vn&&o(li))for(;On;)On.data?Xt.push(On.data):or(On,Xt,be,ze.slice()),On=On.nextSibling;else for(;On;)or(On,Xt,be,ze.slice()),On=On.nextSibling;Xt.push("</",Ji,">")}return;case At:case Lt:for(var On=Pt.firstChild;On;)or(On,Xt,be,ze.slice()),On=On.nextSibling;return;case vt:return Wr(Xt,Pt.name,Pt.value);case at:return Xt.push(Pt.data.replace(/[<&>]/g,He));case V:return Xt.push(S.CDATA_START,Pt.data,S.CDATA_END);case pt:return Xt.push(S.COMMENT_START,Pt.data,S.COMMENT_END);case St:var oa=Pt.publicId,ha=Pt.systemId;Xt.push(S.DOCTYPE_DECL_START," ",Pt.name),oa?(Xt.push(" ",S.PUBLIC," ",oa),ha&&ha!=="."&&Xt.push(" ",ha)):ha&&ha!=="."&&Xt.push(" ",S.SYSTEM," ",ha),Pt.internalSubset&&Xt.push(" [",Pt.internalSubset,"]"),Xt.push(">");return;case wt:return Xt.push("<?",Pt.target," ",Pt.data,"?>");case dt:return Xt.push("&",Pt.nodeName,";");default:Xt.push("??",Pt.nodeName)}}function bn(Pt,Xt,be){var ze;switch(Xt.nodeType){case it:ze=Xt.cloneNode(!1),ze.ownerDocument=Pt;case Lt:break;case vt:be=!0;break}if(ze||(ze=Xt.cloneNode(!1)),ze.ownerDocument=Pt,ze.parentNode=null,be)for(var Lr=Xt.firstChild;Lr;)ze.appendChild(bn(Pt,Lr,be)),Lr=Lr.nextSibling;return ze}function Kr(Pt,Xt,be){var ze=new Xt.constructor(v);for(var Lr in Xt)if(n(Xt,Lr)){var vn=Xt[Lr];typeof vn!="object"&&vn!=ze[Lr]&&(ze[Lr]=vn)}switch(Xt.childNodes&&(ze.childNodes=new kt),ze.ownerDocument=Pt,ze.nodeType){case it:var Vr=Xt.attributes,fi=ze.attributes=new ie,On=Vr.length;fi._ownerElement=ze;for(var li=0;li<On;li++)ze.setAttributeNode(Kr(Pt,Vr.item(li),!0));break;case vt:be=!0}if(be)for(var Ji=Xt.firstChild;Ji;)ze.appendChild(Kr(Pt,Ji,be)),Ji=Ji.nextSibling;return ze}function Zn(Pt,Xt,be){Pt[Xt]=be}try{if(Object.defineProperty){let Pt=function(Xt){switch(Xt.nodeType){case it:case Lt:var be=[];for(Xt=Xt.firstChild;Xt;)Xt.nodeType!==7&&Xt.nodeType!==8&&be.push(Pt(Xt)),Xt=Xt.nextSibling;return be.join("");default:return Xt.nodeValue}};Object.defineProperty(Rt.prototype,"length",{get:function(){return Ut(this),this.$$length}}),Object.defineProperty(Vt.prototype,"textContent",{get:function(){return Pt(this)},set:function(Xt){switch(this.nodeType){case it:case Lt:for(;this.firstChild;)this.removeChild(this.firstChild);(Xt||String(Xt))&&this.appendChild(this.ownerDocument.createTextNode(Xt));break;default:this.data=Xt,this.value=Xt,this.nodeValue=Xt}}}),Zn=function(Xt,be,ze){Xt["$$"+be]=ze}}}catch{}return Pc._updateLiveList=Ut,Pc.Attr=Me,Pc.CDATASection=oe,Pc.CharacterData=Ft,Pc.Comment=Bt,Pc.Document=Jt,Pc.DocumentFragment=fr,Pc.DocumentType=ye,Pc.DOMImplementation=Se,Pc.Element=rr,Pc.Entity=Ge,Pc.EntityReference=Ue,Pc.LiveNodeList=Rt,Pc.NamedNodeMap=ie,Pc.Node=Vt,Pc.NodeList=kt,Pc.Notation=je,Pc.Text=Mt,Pc.ProcessingInstruction=Ke,Pc.XMLSerializer=Pe,Pc}var _v={},K7={},Z7;function Bxt(){return Z7||(Z7=1,(function(t){var e=Sx().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(K7)),K7}var q1={},Q7;function zxt(){if(Q7)return q1;Q7=1;var t=Sx(),e=ZH(),r=pA(),n=t.isHTMLEscapableRawTextElement,i=t.isHTMLMimeType,o=t.isHTMLRawTextElement,c=t.hasOwn,a=t.NAMESPACE,g=r.ParseError,v=r.DOMException,x=0,k=1,I=2,S=3,P=4,D=5,U=6,H=7;function G(){}G.prototype={parse:function(wt,pt,At){var St=this.domBuilder;St.startDocument(),it(pt,pt=Object.create(null)),j(wt,pt,At,St,this.errorHandler),St.endDocument()}};var z=/&#?\w+;?/g;function j(wt,pt,At,St,Lt){var jt=i(St.mimeType);wt.indexOf(e.UNICODE_REPLACEMENT_CHARACTER)>=0&&Lt.warning("Unicode replacement character detected, source encoding issues?");function _t(Ze){if(Ze>65535){Ze-=65536;var rr=55296+(Ze>>10),Me=56320+(Ze&1023);return String.fromCharCode(rr,Me)}else return String.fromCharCode(Ze)}function lt(Ze){var rr=Ze[Ze.length-1]===";"?Ze:Ze+";";if(!jt&&rr!==Ze)return Lt.error("EntityRef: expecting ;"),Ze;var Me=e.Reference.exec(rr);if(!Me||Me[0].length!==rr.length)return Lt.error("entity not matching Reference production: "+Ze),Ze;var Ft=rr.slice(1,-1);return c(At,Ft)?At[Ft]:Ft.charAt(0)==="#"?_t(parseInt(Ft.substring(1).replace("x","0x"))):(Lt.error("entity not found:"+Ze),Ze)}function Tt(Ze){if(Ze>Se){var rr=wt.substring(Se,Ze).replace(z,lt);ie&&Ht(Se),St.characters(rr,0,Ze-Se),Se=Ze}}var kt=0,Rt=0,Ut=/\r\n?|\n|$/g,ie=St.locator;function Ht(Ze,rr){for(;Ze>=Rt&&(rr=Ut.exec(wt));)kt=Rt,Rt=rr.index+rr[0].length,ie.lineNumber++;ie.columnNumber=Ze-kt+1}for(var ce=[{currentNSMap:pt}],de=[],Se=0;;){try{var Vt=wt.indexOf("<",Se);if(Vt<0){if(!jt&&de.length>0)return Lt.fatalError("unclosed xml tag(s): "+de.join(", "));if(!wt.substring(Se).match(/^\s*$/)){var He=St.doc,ke=He.createTextNode(wt.substring(Se));if(He.documentElement)return Lt.error("Extra content at the end of the document");He.appendChild(ke),St.currentElement=ke}return}if(Vt>Se){var Jt=wt.substring(Se,Vt);!jt&&de.length===0&&(Jt=Jt.replace(new RegExp(e.S_OPT.source,"g"),""),Jt&&Lt.error("Unexpected content outside root element: '"+Jt+"'")),Tt(Vt)}switch(wt.charAt(Vt+1)){case"/":var dr=wt.indexOf(">",Vt+2),$r=wt.substring(Vt+2,dr>0?dr:void 0);if(!$r)return Lt.fatalError("end tag name missing");var vr=dr>0&&e.reg("^",e.QName_group,e.S_OPT,"$").exec($r);if(!vr)return Lt.fatalError('end tag name contains invalid characters: "'+$r+'"');if(!St.currentElement&&!St.doc.documentElement)return;var Dr=de[de.length-1]||St.currentElement.tagName||St.doc.documentElement.tagName||"";if(Dr!==vr[1]){var Ie=vr[1].toLowerCase();if(!jt||Dr.toLowerCase()!==Ie)return Lt.fatalError('Opening and ending tag mismatch: "'+Dr+'" != "'+$r+'"')}var Mr=ce.pop();de.pop();var ir=Mr.localNSMap;if(St.endElement(Mr.uri,Mr.localName,Dr),ir)for(var Rr in ir)c(ir,Rr)&&St.endPrefixMapping(Rr);dr++;break;case"?":ie&&Ht(Vt),dr=dt(wt,Vt,St,Lt);break;case"!":ie&&Ht(Vt),dr=V(wt,Vt,St,Lt,jt);break;default:ie&&Ht(Vt);var Pr=new mt,Ir=ce[ce.length-1].currentNSMap,dr=Y(wt,Vt,Pr,Ir,lt,Lt,jt),ar=Pr.length;if(Pr.closed||(jt&&t.isHTMLVoidElement(Pr.tagName)?Pr.closed=!0:de.push(Pr.tagName)),ie&&ar){for(var Or=X(ie,{}),er=0;er<ar;er++){var Fr=Pr[er];Ht(Fr.offset),Fr.locator=X(ie,{})}St.locator=Or,et(Pr,St,Ir)&&ce.push(Pr),St.locator=ie}else et(Pr,St,Ir)&&ce.push(Pr);jt&&!Pr.closed?dr=st(wt,dr,Pr.tagName,lt,St):dr++}}catch(Ze){if(Ze instanceof g)throw Ze;if(Ze instanceof v)throw new g(Ze.name+": "+Ze.message,St.locator,Ze);Lt.error("element parse error: "+Ze),dr=-1}dr>Se?Se=dr:Tt(Math.max(Vt,Se)+1)}}function X(wt,pt){return pt.lineNumber=wt.lineNumber,pt.columnNumber=wt.columnNumber,pt}function Y(wt,pt,At,St,Lt,jt,_t){function lt(Ht,ce,de){if(c(At.attributeNames,Ht))return jt.fatalError("Attribute "+Ht+" redefined");if(!_t&&ce.indexOf("<")>=0)return jt.fatalError("Unescaped '<' not allowed in attributes values");At.addValue(Ht,ce.replace(/[\t\n\r]/g," ").replace(z,Lt),de)}for(var Tt,kt,Rt=++pt,Ut=x;;){var ie=wt.charAt(Rt);switch(ie){case"=":if(Ut===k)Tt=wt.slice(pt,Rt),Ut=S;else if(Ut===I)Ut=S;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Ut===S||Ut===k)if(Ut===k&&(jt.warning('attribute value must after "="'),Tt=wt.slice(pt,Rt)),pt=Rt+1,Rt=wt.indexOf(ie,pt),Rt>0)kt=wt.slice(pt,Rt),lt(Tt,kt,pt-1),Ut=D;else throw new Error("attribute value no end '"+ie+"' match");else if(Ut==P)kt=wt.slice(pt,Rt),lt(Tt,kt,pt),jt.warning('attribute "'+Tt+'" missed start quot('+ie+")!!"),pt=Rt+1,Ut=D;else throw new Error('attribute value must after "="');break;case"/":switch(Ut){case x:At.setTagName(wt.slice(pt,Rt));case D:case U:case H:Ut=H,At.closed=!0;case P:case k:break;case I:At.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return jt.error("unexpected end of input"),Ut==x&&At.setTagName(wt.slice(pt,Rt)),Rt;case">":switch(Ut){case x:At.setTagName(wt.slice(pt,Rt));case D:case U:case H:break;case P:case k:kt=wt.slice(pt,Rt),kt.slice(-1)==="/"&&(At.closed=!0,kt=kt.slice(0,-1));case I:Ut===I&&(kt=Tt),Ut==P?(jt.warning('attribute "'+kt+'" missed quot(")!'),lt(Tt,kt,pt)):(_t||jt.warning('attribute "'+kt+'" missed value!! "'+kt+'" instead!!'),lt(kt,kt,pt));break;case S:if(!_t)return jt.fatalError(`AttValue: ' or " expected`)}return Rt;case"":ie=" ";default:if(ie<=" ")switch(Ut){case x:At.setTagName(wt.slice(pt,Rt)),Ut=U;break;case k:Tt=wt.slice(pt,Rt),Ut=I;break;case P:var kt=wt.slice(pt,Rt);jt.warning('attribute "'+kt+'" missed quot(")!!'),lt(Tt,kt,pt);case D:Ut=U;break}else switch(Ut){case I:_t||jt.warning('attribute "'+Tt+'" missed value!! "'+Tt+'" instead2!!'),lt(Tt,Tt,pt),pt=Rt,Ut=k;break;case D:jt.warning('attribute space is required"'+Tt+'"!!');case U:Ut=k,pt=Rt;break;case S:Ut=P,pt=Rt;break;case H:throw new Error("elements closed character '/' and '>' must be connected to")}}Rt++}}function et(wt,pt,At){for(var St=wt.tagName,Lt=null,jt=wt.length;jt--;){var _t=wt[jt],lt=_t.qName,Tt=_t.value,ie=lt.indexOf(":");if(ie>0)var kt=_t.prefix=lt.slice(0,ie),Rt=lt.slice(ie+1),Ut=kt==="xmlns"&&Rt;else Rt=lt,kt=null,Ut=lt==="xmlns"&&"";_t.localName=Rt,Ut!==!1&&(Lt==null&&(Lt=Object.create(null),it(At,At=Object.create(null))),At[Ut]=Lt[Ut]=Tt,_t.uri=a.XMLNS,pt.startPrefixMapping(Ut,Tt))}for(var jt=wt.length;jt--;)_t=wt[jt],_t.prefix&&(_t.prefix==="xml"&&(_t.uri=a.XML),_t.prefix!=="xmlns"&&(_t.uri=At[_t.prefix]));var ie=St.indexOf(":");ie>0?(kt=wt.prefix=St.slice(0,ie),Rt=wt.localName=St.slice(ie+1)):(kt=null,Rt=wt.localName=St);var Ht=wt.uri=At[kt||""];if(pt.startElement(Ht,Rt,St,wt),wt.closed){if(pt.endElement(Ht,Rt,St),Lt)for(kt in Lt)c(Lt,kt)&&pt.endPrefixMapping(kt)}else return wt.currentNSMap=At,wt.localNSMap=Lt,!0}function st(wt,pt,At,St,Lt){var jt=n(At);if(jt||o(At)){var _t=wt.indexOf("</"+At+">",pt),lt=wt.substring(pt+1,_t);return jt&&(lt=lt.replace(z,St)),Lt.characters(lt,0,lt.length),_t}return pt+1}function it(wt,pt){for(var At in wt)c(wt,At)&&(pt[At]=wt[At])}function vt(wt,pt){var At=pt;function St(Rt){return Rt=Rt||0,wt.charAt(At+Rt)}function Lt(Rt){Rt=Rt||1,At+=Rt}function jt(){for(var Rt=0;At<wt.length;){var Ut=St();if(Ut!==" "&&Ut!==`
`&&Ut!=="	"&&Ut!=="\r")return Rt;Rt++,Lt()}return-1}function _t(){return wt.substring(At)}function lt(Rt){return wt.substring(At,At+Rt.length)===Rt}function Tt(Rt){return wt.substring(At,At+Rt.length).toUpperCase()===Rt.toUpperCase()}function kt(Rt){var Ut=e.reg("^",Rt),ie=Ut.exec(_t());return ie?(Lt(ie[0].length),ie[0]):null}return{char:St,getIndex:function(){return At},getMatch:kt,getSource:function(){return wt},skip:Lt,skipBlanks:jt,substringFromIndex:_t,substringStartsWith:lt,substringStartsWithCaseInsensitive:Tt}}function at(wt,pt){function At(lt,Tt){var kt=e.PI.exec(lt.substringFromIndex());return kt?kt[1].toLowerCase()==="xml"?Tt.fatalError("xml declaration is only allowed at the start of the document, but found at position "+lt.getIndex()):(lt.skip(kt[0].length),kt[0]):Tt.fatalError("processing instruction is not well-formed at position "+lt.getIndex())}var St=wt.getSource();if(wt.char()==="["){wt.skip(1);for(var Lt=wt.getIndex();wt.getIndex()<St.length;){if(wt.skipBlanks(),wt.char()==="]"){var jt=St.substring(Lt,wt.getIndex());return wt.skip(1),jt}var _t=null;if(wt.char()==="<"&&wt.char(1)==="!")switch(wt.char(2)){case"E":wt.char(3)==="L"?_t=wt.getMatch(e.elementdecl):wt.char(3)==="N"&&(_t=wt.getMatch(e.EntityDecl));break;case"A":_t=wt.getMatch(e.AttlistDecl);break;case"N":_t=wt.getMatch(e.NotationDecl);break;case"-":_t=wt.getMatch(e.Comment);break}else if(wt.char()==="<"&&wt.char(1)==="?")_t=At(wt,pt);else if(wt.char()==="%")_t=wt.getMatch(e.PEReference);else return pt.fatalError("Error detected in Markup declaration");if(!_t)return pt.fatalError("Error in internal subset at position "+wt.getIndex())}return pt.fatalError("doctype internal subset is not well-formed, missing ]")}}function V(wt,pt,At,St,Lt){var jt=vt(wt,pt);switch(Lt?jt.char(2).toUpperCase():jt.char(2)){case"-":var _t=jt.getMatch(e.Comment);return _t?(At.comment(_t,e.COMMENT_START.length,_t.length-e.COMMENT_START.length-e.COMMENT_END.length),jt.getIndex()):St.fatalError("comment is not well-formed at position "+jt.getIndex());case"[":var lt=jt.getMatch(e.CDSect);return lt?!Lt&&!At.currentElement?St.fatalError("CDATA outside of element"):(At.startCDATA(),At.characters(lt,e.CDATA_START.length,lt.length-e.CDATA_START.length-e.CDATA_END.length),At.endCDATA(),jt.getIndex()):St.fatalError("Invalid CDATA starting at position "+pt);case"D":{if(At.doc&&At.doc.documentElement)return St.fatalError("Doctype not allowed inside or after documentElement at position "+jt.getIndex());if(Lt?!jt.substringStartsWithCaseInsensitive(e.DOCTYPE_DECL_START):!jt.substringStartsWith(e.DOCTYPE_DECL_START))return St.fatalError("Expected "+e.DOCTYPE_DECL_START+" at position "+jt.getIndex());if(jt.skip(e.DOCTYPE_DECL_START.length),jt.skipBlanks()<1)return St.fatalError("Expected whitespace after "+e.DOCTYPE_DECL_START+" at position "+jt.getIndex());var Tt={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(Tt.name=jt.getMatch(e.Name),!Tt.name)return St.fatalError("doctype name missing or contains unexpected characters at position "+jt.getIndex());if(Lt&&Tt.name.toLowerCase()!=="html"&&St.warning("Unexpected DOCTYPE in HTML document at position "+jt.getIndex()),jt.skipBlanks(),jt.substringStartsWith(e.PUBLIC)||jt.substringStartsWith(e.SYSTEM)){var kt=e.ExternalID_match.exec(jt.substringFromIndex());if(!kt)return St.fatalError("doctype external id is not well-formed at position "+jt.getIndex());kt.groups.SystemLiteralOnly!==void 0?Tt.systemId=kt.groups.SystemLiteralOnly:(Tt.systemId=kt.groups.SystemLiteral,Tt.publicId=kt.groups.PubidLiteral),jt.skip(kt[0].length)}else if(Lt&&jt.substringStartsWithCaseInsensitive(e.SYSTEM)){if(jt.skip(e.SYSTEM.length),jt.skipBlanks()<1)return St.fatalError("Expected whitespace after "+e.SYSTEM+" at position "+jt.getIndex());if(Tt.systemId=jt.getMatch(e.ABOUT_LEGACY_COMPAT_SystemLiteral),!Tt.systemId)return St.fatalError("Expected "+e.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+e.SYSTEM+" at position "+jt.getIndex())}return Lt&&Tt.systemId&&!e.ABOUT_LEGACY_COMPAT_SystemLiteral.test(Tt.systemId)&&St.warning("Unexpected doctype.systemId in HTML document at position "+jt.getIndex()),Lt||(jt.skipBlanks(),Tt.internalSubset=at(jt,St)),jt.skipBlanks(),jt.char()!==">"?St.fatalError("doctype not terminated with > at position "+jt.getIndex()):(jt.skip(1),At.startDTD(Tt.name,Tt.publicId,Tt.systemId,Tt.internalSubset),At.endDTD(),jt.getIndex())}default:return St.fatalError('Not well-formed XML starting with "<!" at position '+pt)}}function dt(wt,pt,At,St){var Lt=wt.substring(pt).match(e.PI);if(!Lt)return St.fatalError("Invalid processing instruction starting at position "+pt);if(Lt[1].toLowerCase()==="xml"){if(pt>0)return St.fatalError("processing instruction at position "+pt+" is an xml declaration which is only at the start of the document");if(!e.XMLDecl.test(wt.substring(pt)))return St.fatalError("xml declaration is not well-formed")}return At.processingInstruction(Lt[1],Lt[2]),pt+Lt[0].length}function mt(){this.attributeNames=Object.create(null)}return mt.prototype={setTagName:function(wt){if(!e.QName_exact.test(wt))throw new Error("invalid tagName:"+wt);this.tagName=wt},addValue:function(wt,pt,At){if(!e.QName_exact.test(wt))throw new Error("invalid attribute:"+wt);this.attributeNames[wt]=this.length,this[this.length++]={qName:wt,value:pt,offset:At}},length:0,getLocalName:function(wt){return this[wt].localName},getLocator:function(wt){return this[wt].locator},getQName:function(wt){return this[wt].qName},getURI:function(wt){return this[wt].uri},getValue:function(wt){return this[wt].value}},q1.XMLReader=G,q1.parseUtils=vt,q1.parseDoctypeCommentOrCData=V,q1}var J7;function Fxt(){if(J7)return _v;J7=1;var t=Sx(),e=QH(),r=pA(),n=Bxt(),i=zxt(),o=e.DOMImplementation,c=t.hasDefaultHTMLNamespace,a=t.isHTMLMimeType,g=t.isValidMimeType,v=t.MIME_TYPE,x=t.NAMESPACE,k=r.ParseError,I=i.XMLReader;function S(Y){return Y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function P(Y){if(Y=Y||{},Y.locator===void 0&&(Y.locator=!0),this.assign=Y.assign||t.assign,this.domHandler=Y.domHandler||D,this.onError=Y.onError||Y.errorHandler,Y.errorHandler&&typeof Y.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");Y.errorHandler&&Y.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=Y.normalizeLineEndings||S,this.locator=!!Y.locator,this.xmlns=this.assign(Object.create(null),Y.xmlns)}P.prototype.parseFromString=function(Y,et){if(!g(et))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+et+'" is not valid.');var st=this.assign(Object.create(null),this.xmlns),it=n.XML_ENTITIES,vt=st[""]||null;c(et)?(it=n.HTML_ENTITIES,vt=x.HTML):et===v.XML_SVG_IMAGE&&(vt=x.SVG),st[""]=vt,st.xml=st.xml||x.XML;var at=new this.domHandler({mimeType:et,defaultNamespace:vt,onError:this.onError}),V=this.locator?{}:void 0;this.locator&&at.setDocumentLocator(V);var dt=new I;dt.errorHandler=at,dt.domBuilder=at;var mt=!t.isHTMLMimeType(et);return mt&&typeof Y!="string"&&dt.errorHandler.fatalError("source is not a string"),dt.parse(this.normalizeLineEndings(String(Y)),st,it),at.doc.documentElement||dt.errorHandler.fatalError("missing root element"),at.doc};function D(Y){var et=Y||{};this.mimeType=et.mimeType||v.XML_APPLICATION,this.defaultNamespace=et.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=et.onError}function U(Y,et){et.lineNumber=Y.lineNumber,et.columnNumber=Y.columnNumber}D.prototype={startDocument:function(){var Y=new o;this.doc=a(this.mimeType)?Y.createHTMLDocument(!1):Y.createDocument(this.defaultNamespace,"")},startElement:function(Y,et,st,it){var vt=this.doc,at=vt.createElementNS(Y,st||et),V=it.length;z(this,at),this.currentElement=at,this.locator&&U(this.locator,at);for(var dt=0;dt<V;dt++){var Y=it.getURI(dt),mt=it.getValue(dt),st=it.getQName(dt),wt=vt.createAttributeNS(Y,st);this.locator&&U(it.getLocator(dt),wt),wt.value=wt.nodeValue=mt,at.setAttributeNode(wt)}},endElement:function(Y,et,st){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Y,et){},endPrefixMapping:function(Y){},processingInstruction:function(Y,et){var st=this.doc.createProcessingInstruction(Y,et);this.locator&&U(this.locator,st),z(this,st)},ignorableWhitespace:function(Y,et,st){},characters:function(Y,et,st){if(Y=G.apply(this,arguments),Y){if(this.cdata)var it=this.doc.createCDATASection(Y);else var it=this.doc.createTextNode(Y);this.currentElement?this.currentElement.appendChild(it):/^\s*$/.test(Y)&&this.doc.appendChild(it),this.locator&&U(this.locator,it)}},skippedEntity:function(Y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Y){Y&&(Y.lineNumber=0),this.locator=Y},comment:function(Y,et,st){Y=G.apply(this,arguments);var it=this.doc.createComment(Y);this.locator&&U(this.locator,it),z(this,it)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Y,et,st,it){var vt=this.doc.implementation;if(vt&&vt.createDocumentType){var at=vt.createDocumentType(Y,et,st,it);this.locator&&U(this.locator,at),z(this,at),this.doc.doctype=at}},reportError:function(Y,et){if(typeof this.onError=="function")try{this.onError(Y,et,this)}catch(st){throw new k("Reporting "+Y+' "'+et+'" caused '+st,this.locator)}else console.error("[xmldom "+Y+"]	"+et,H(this.locator))},warning:function(Y){this.reportError("warning",Y)},error:function(Y){this.reportError("error",Y)},fatalError:function(Y){throw this.reportError("fatalError",Y),new k(Y,this.locator)}};function H(Y){if(Y)return`
@#[line:`+Y.lineNumber+",col:"+Y.columnNumber+"]"}function G(Y,et,st){return typeof Y=="string"?Y.substr(et,st):Y.length>=et+st||et?new java.lang.String(Y,et,st)+"":Y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Y){D.prototype[Y]=function(){return null}});function z(Y,et){Y.currentElement?Y.currentElement.appendChild(et):Y.doc.appendChild(et)}function j(Y){if(Y==="error")throw"onErrorStopParsing"}function X(){throw"onWarningStopParsing"}return _v.__DOMHandler=D,_v.DOMParser=P,_v.normalizeLineEndings=S,_v.onErrorStopParsing=j,_v.onWarningStopParsing=X,_v}var t9;function jxt(){if(t9)return ko;t9=1;var t=Sx();ko.assign=t.assign,ko.hasDefaultHTMLNamespace=t.hasDefaultHTMLNamespace,ko.isHTMLMimeType=t.isHTMLMimeType,ko.isValidMimeType=t.isValidMimeType,ko.MIME_TYPE=t.MIME_TYPE,ko.NAMESPACE=t.NAMESPACE;var e=pA();ko.DOMException=e.DOMException,ko.DOMExceptionName=e.DOMExceptionName,ko.ExceptionCode=e.ExceptionCode,ko.ParseError=e.ParseError;var r=QH();ko.Attr=r.Attr,ko.CDATASection=r.CDATASection,ko.CharacterData=r.CharacterData,ko.Comment=r.Comment,ko.Document=r.Document,ko.DocumentFragment=r.DocumentFragment,ko.DocumentType=r.DocumentType,ko.DOMImplementation=r.DOMImplementation,ko.Element=r.Element,ko.Entity=r.Entity,ko.EntityReference=r.EntityReference,ko.LiveNodeList=r.LiveNodeList,ko.NamedNodeMap=r.NamedNodeMap,ko.Node=r.Node,ko.NodeList=r.NodeList,ko.Notation=r.Notation,ko.ProcessingInstruction=r.ProcessingInstruction,ko.Text=r.Text,ko.XMLSerializer=r.XMLSerializer;var n=Fxt();return ko.DOMParser=n.DOMParser,ko.normalizeLineEndings=n.normalizeLineEndings,ko.onErrorStopParsing=n.onErrorStopParsing,ko.onWarningStopParsing=n.onWarningStopParsing,ko}var $xt=jxt();(function(){const t=/\s*/g,e=/^\s*|\s*$/g,r=/\s+/;function n(z){if(!z||!z.length)return 0;for(var j=0,X=0;j<z.length;j++)X=(X<<5)-X+z.charCodeAt(j)|0;return X}function i(z,j){return z.getElementsByTagName(j)}function o(z,j){return z.getAttribute(j)}function c(z,j){return parseFloat(o(z,j))}function a(z,j){const X=i(z,j);return X.length?X[0]:null}function g(z){return z.normalize&&z.normalize(),z}function v(z){for(var j=0,X=[];j<z.length;j++)X[j]=parseFloat(z[j]);return X}function x(z){return z&&g(z),z&&z.textContent||""}function k(z,j){let X={},Y,et;for(et=0;et<j.length;et++)Y=a(z,j[et]),Y&&(X[j[et]]=x(Y));return X}function I(z,j){for(const X in j)z[X]=j[X]}function S(z){return v(z.replace(t,"").split(","))}function P(z){const j=z.replace(e,"").split(r),X=[];for(let Y=0;Y<j.length;Y++)X.push(S(j[Y]));return X}function D(z){let j=[c(z,"lon"),c(z,"lat")],X=a(z,"ele"),Y=a(z,"gpxtpx:hr")||a(z,"hr"),et=a(z,"time"),st;return X&&(st=parseFloat(x(X)),isNaN(st)||j.push(st)),{coordinates:j,time:et?x(et):null,heartRate:Y?parseFloat(x(Y)):null}}function U(){return{type:"FeatureCollection",features:[]}}let H;if(typeof XMLSerializer<"u")H=new XMLSerializer;else{const z=typeof process=="object"&&!process.browser,j=typeof Titanium=="object";if(typeof exports=="object"&&(z||j))H=$xt.XMLSerializer;else throw new Error("Unable to initialize serializer")}function G(z){return z.xml!==void 0?z.xml:H.serializeToString(z)}return{kml:function(z){const j=U(),X={},Y={},et={},st=["Polygon","LineString","Point","Track","gx:Track"],it=i(z,"Placemark"),vt=i(z,"Style"),at=i(z,"StyleMap");for(let At=0;At<vt.length;At++){const St=n(G(vt[At])).toString(16);X["#"+o(vt[At],"id")]=St,Y[St]=vt[At]}for(let At=0;At<at.length;At++){X["#"+o(at[At],"id")]=n(G(at[At])).toString(16);const St=i(at[At],"Pair"),Lt={};for(let jt=0;jt<St.length;jt++)Lt[x(a(St[jt],"key"))]=x(a(St[jt],"styleUrl"));et["#"+o(at[At],"id")]=Lt}for(let At=0;At<it.length;At++)j.features=j.features.concat(pt(it[At]));function V(At){let St,Lt;return At=At||"",At.substr(0,1)==="#"&&(At=At.substr(1)),(At.length===6||At.length===3)&&(St=At),At.length===8&&(Lt=parseInt(At.substr(0,2),16)/255,St="#"+At.substr(6,2)+At.substr(4,2)+At.substr(2,2)),[St,isNaN(Lt)?void 0:Lt]}function dt(At){return v(At.split(" "))}function mt(At){let St=i(At,"coord"),Lt=[],jt=[];St.length===0&&(St=i(At,"gx:coord"));for(let lt=0;lt<St.length;lt++)Lt.push(dt(x(St[lt])));const _t=i(At,"when");for(let lt=0;lt<_t.length;lt++)jt.push(x(_t[lt]));return{coords:Lt,times:jt}}function wt(At){let St,Lt,jt,_t,lt,Tt=[],kt=[];if(a(At,"MultiGeometry"))return wt(a(At,"MultiGeometry"));if(a(At,"MultiTrack"))return wt(a(At,"MultiTrack"));if(a(At,"gx:MultiTrack"))return wt(a(At,"gx:MultiTrack"));for(jt=0;jt<st.length;jt++)if(Lt=i(At,st[jt]),Lt){for(_t=0;_t<Lt.length;_t++)if(St=Lt[_t],st[jt]==="Point")Tt.push({type:"Point",coordinates:S(x(a(St,"coordinates")))});else if(st[jt]==="LineString")Tt.push({type:"LineString",coordinates:P(x(a(St,"coordinates")))});else if(st[jt]==="Polygon"){const Rt=i(St,"LinearRing"),Ut=[];for(lt=0;lt<Rt.length;lt++)Ut.push(P(x(a(Rt[lt],"coordinates"))));Tt.push({type:"Polygon",coordinates:Ut})}else if(st[jt]==="Track"||st[jt]==="gx:Track"){const Rt=mt(St);Tt.push({type:"LineString",coordinates:Rt.coords}),Rt.times.length&&kt.push(Rt.times)}}return{geoms:Tt,coordTimes:kt}}function pt(At){let St=wt(At),Lt,jt={},_t=x(a(At,"name")),lt=x(a(At,"address")),Tt=x(a(At,"styleUrl")),kt=x(a(At,"description")),Rt=a(At,"TimeSpan"),Ut=a(At,"TimeStamp"),ie=a(At,"ExtendedData"),Ht=a(At,"LineStyle"),ce=a(At,"PolyStyle"),de=a(At,"visibility");if(!St.geoms.length)return[];if(_t&&(jt.name=_t),lt&&(jt.address=lt),Tt){Tt[0]!=="#"&&(Tt="#"+Tt),jt.styleUrl=Tt,X[Tt]&&(jt.styleHash=X[Tt]),et[Tt]&&(jt.styleMapHash=et[Tt],jt.styleHash=X[et[Tt].normal]);const Vt=Y[jt.styleHash];if(Vt){Ht||(Ht=a(Vt,"LineStyle")),ce||(ce=a(Vt,"PolyStyle"));const He=a(Vt,"IconStyle");if(He){const ke=a(He,"Icon");if(ke){const Jt=x(a(ke,"href"));Jt&&(jt.icon=Jt)}}}}if(kt&&(jt.description=kt),Rt){const Vt=x(a(Rt,"begin")),He=x(a(Rt,"end"));jt.timespan={begin:Vt,end:He}}if(Ut&&(jt.timestamp=x(a(Ut,"when"))),Ht){const Vt=V(x(a(Ht,"color"))),He=Vt[0],ke=Vt[1],Jt=parseFloat(x(a(Ht,"width")));He&&(jt.stroke=He),isNaN(ke)||(jt["stroke-opacity"]=ke),isNaN(Jt)||(jt["stroke-width"]=Jt)}if(ce){const Vt=V(x(a(ce,"color"))),He=Vt[0],ke=Vt[1],Jt=x(a(ce,"fill")),$r=x(a(ce,"outline"));He&&(jt.fill=He),isNaN(ke)||(jt["fill-opacity"]=ke),Jt&&(jt["fill-opacity"]=Jt==="1"?jt["fill-opacity"]||1:0),$r&&(jt["stroke-opacity"]=$r==="1"?jt["stroke-opacity"]||1:0)}if(ie){const Vt=i(ie,"Data"),He=i(ie,"SimpleData");for(Lt=0;Lt<Vt.length;Lt++)jt[Vt[Lt].getAttribute("name")]=x(a(Vt[Lt],"value"));for(Lt=0;Lt<He.length;Lt++)jt[He[Lt].getAttribute("name")]=x(He[Lt])}de&&(jt.visibility=x(de)),St.coordTimes.length&&(jt.coordTimes=St.coordTimes.length===1?St.coordTimes[0]:St.coordTimes);const Se={type:"Feature",geometry:St.geoms.length===1?St.geoms[0]:{type:"GeometryCollection",geometries:St.geoms},properties:jt};return o(At,"id")&&(Se.id=o(At,"id")),[Se]}return j},gpx:function(z){let j,X=i(z,"trk"),Y=i(z,"rte"),et=i(z,"wpt"),st=U(),it;for(j=0;j<X.length;j++)it=V(X[j]),it&&st.features.push(it);for(j=0;j<Y.length;j++)it=dt(Y[j]),it&&st.features.push(it);for(j=0;j<et.length;j++)st.features.push(mt(et[j]));function vt(At,St){for(let Lt=0;Lt<St;Lt++)At.push(null);return At}function at(At,St){const Lt=i(At,St),jt=[],_t=[],lt=[],Tt=Lt.length;if(Tt<2)return{};for(let kt=0;kt<Tt;kt++){const Rt=D(Lt[kt]);jt.push(Rt.coordinates),Rt.time&&_t.push(Rt.time),(Rt.heartRate||lt.length)&&(lt.length||vt(lt,kt),lt.push(Rt.heartRate||null))}return{line:jt,times:_t,heartRates:lt}}function V(At){let St=i(At,"trkseg"),Lt=[],jt=[],_t=[],lt;for(let kt=0;kt<St.length;kt++)if(lt=at(St[kt],"trkpt"),lt&&(lt.line&&Lt.push(lt.line),lt.times&&lt.times.length&&jt.push(lt.times),_t.length||lt.heartRates&&lt.heartRates.length)){if(!_t.length)for(let Rt=0;Rt<kt;Rt++)_t.push(vt([],Lt[Rt].length));lt.heartRates&&lt.heartRates.length?_t.push(lt.heartRates):_t.push(vt([],lt.line.length||0))}if(Lt.length===0)return;const Tt=pt(At);return I(Tt,wt(a(At,"extensions"))),jt.length&&(Tt.coordTimes=Lt.length===1?jt[0]:jt),_t.length&&(Tt.heartRates=Lt.length===1?_t[0]:_t),{type:"Feature",properties:Tt,geometry:{type:Lt.length===1?"LineString":"MultiLineString",coordinates:Lt.length===1?Lt[0]:Lt}}}function dt(At){const St=at(At,"rtept");if(!St.line)return;const Lt=pt(At);return I(Lt,wt(a(At,"extensions"))),{type:"Feature",properties:Lt,geometry:{type:"LineString",coordinates:St.line}}}function mt(At){const St=pt(At);return I(St,k(At,["sym"])),{type:"Feature",properties:St,geometry:{type:"Point",coordinates:D(At).coordinates}}}function wt(At){const St={};if(At){const Lt=a(At,"line");if(Lt){const jt=x(a(Lt,"color")),_t=parseFloat(x(a(Lt,"opacity"))),lt=parseFloat(x(a(Lt,"width")));jt&&(St.stroke=jt),isNaN(_t)||(St["stroke-opacity"]=_t),isNaN(lt)||(St["stroke-width"]=lt*96/25.4)}}return St}function pt(At){const St=k(At,["name","cmt","desc","type","time","keywords"]),Lt=i(At,"link");Lt.length&&(St.links=[]);for(let jt=0,_t;jt<Lt.length;jt++)_t={href:o(Lt[jt],"href")},I(_t,k(Lt[jt],["text","type"])),St.links.push(_t);return St}return st}}})();const Vxt=we.createContext({});Vxt.Provider;const Uxt=()=>{const t=Object.fromEntries(new URLSearchParams(window.location.search));return t.layers=JSON.parse(t?.layers?t.layers:"[]"),t};Uxt();/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var ho=t=>t!==void 0,JH=(t,e,r)=>e in t?t[e]:t[e]=r;const ET={ELEMENT:1,TEXT:3,CDATA_SECTION:4};function I4(t,e){return tX(t,e,[]).join("")}function tX(t,e,r){if(t.nodeType===ET.CDATA_SECTION||t.nodeType===ET.TEXT)r.push(t.nodeValue);else{var n;for(n=t.firstChild;n;n=n.nextSibling)tX(n,e,r)}return r}function qxt(t,e,r,n){for(var i=Gxt(e);i;i=Hxt(i)){var o=i.namespaceURI||null,c=t[o];if(ho(c)){var a=c[i.localName];ho(a)&&a.call(n,i,r)}}}function Gxt(t){let e=t.firstElementChild||t.firstChild;for(;e&&e.nodeType!==ET.ELEMENT;)e=e.nextSibling;return e}function Hxt(t){let e=t.nextElementSibling||t.nextSibling;for(;e&&e.nodeType!==ET.ELEMENT;)e=e.nextSibling;return e}function uh(t,e,r){return Xxt(t,e,r)}function Xxt(t,e,r){var n=ho(r)?r:{},i,o;for(i=0,o=t.length;i<o;++i)n[t[i]]=e;return n}function eX(t,e){return(function(r,n){var i=t.call(ho(e)?e:this,r,n);if(ho(i)){var o=n[n.length-1];o.push(i)}})}function hh(t,e,r,n,i){return n.push(t),qxt(e,r,n,i),n.pop()}function Ci(t,e,r){return(function(n,i){let o=t.call(ho(r)?r:this,n,i);if(ho(o)){var c=i[i.length-1],a=ho(e)?e:n.localName;c[a]=o}})}function ld(t,e,r){return(function(n,i){var o=t.call(ho(r)?r:this,n,i);if(ho(o)){var c=i[i.length-1],a=ho(e)?e:n.localName,g=JH(c,a,[]);g.push(o)}})}const Wxt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Yxt(t){return t.replace(Wxt,"")}function Wv(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return ho(e[1])||!1}function w_(t){return yg(I4(t,!1))}function yg(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function nN(t){return TT(I4(t,!1))}function TT(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function as(t){return Yxt(I4(t,!1))}const Kxt="http://www.w3.org/1999/xlink";function R4(t){return t.getAttributeNS(Kxt,"href")}function Zxt(t,e){return hh({},S1t,t,e)}function rX(t){return[yg(t.getAttribute("minx")),yg(t.getAttribute("miny")),yg(t.getAttribute("maxx")),yg(t.getAttribute("maxy"))]}function Qxt(t,e){const r=rX(t),n=[yg(t.getAttribute("resx")),yg(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS")||t.getAttribute("SRS"),extent:r,res:n}}function Jxt(t,e){const r=rX(t);if(!(!ho(r[0])||!ho(r[1])||!ho(r[2])||!ho(r[3])))return r}function t1t(t,e){const r=parseFloat(t.getAttribute("min")),n=parseFloat(t.getAttribute("max"));return{min:r,max:n}}function e1t(t,e){const r=hh({},E1t,t,e);if(!ho(r))return;const n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,c=r.northBoundLatitude;if(!(!ho(n)||!ho(i)||!ho(o)||!ho(c)))return[n,i,o,c]}function r1t(t,e){return hh({},y1t,t,e)}function n1t(t,e){return hh({},v1t,t,e)}function i1t(t,e){return hh({},b1t,t,e)}function a1t(t,e){return hh({},_1t,t,e)}function o1t(t,e){return hh({},x1t,t,e)}function s1t(t,e){return hh([],w1t,t,e)}function l1t(t,e){const r=Wv(t.getAttribute("queryable"));return hh({queryable:ho(r)?r:!1},aX,t,e)}function c1t(t,e){var r=e[e.length-1];const n=hh({},aX,t,e);if(!ho(n))return;let i=Wv(t.getAttribute("queryable"));ho(i)||(i=r.queryable),n.queryable=ho(i)?i:!1;let o=TT(t.getAttribute("cascaded"));ho(o)||(o=r.cascaded),n.cascaded=o;let c=Wv(t.getAttribute("opaque"));ho(c)||(c=r.opaque),n.opaque=ho(c)?c:!1;let a=Wv(t.getAttribute("noSubsets"));ho(a)||(a=r.noSubsets),n.noSubsets=ho(a)?a:!1;let g=yg(t.getAttribute("fixedWidth"));ho(g)||(g=r.fixedWidth),n.fixedWidth=g;let v=yg(t.getAttribute("fixedHeight"));ho(v)||(v=r.fixedHeight),n.fixedHeight=v;const x=["Style","CRS","AuthorityURL"];for(let I=0,S=x.length;I<S;I++){const P=x[I],D=r[P];if(ho(D)){let U=JH(n,P,[]);U=U.concat(D),n[P]=U}}const k=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let I=0,S=k.length;I<S;I++){const P=k[I],D=n[P];if(!ho(D)){const U=r[P];n[P]=U}}return n}function u1t(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Wv(t.getAttribute("multipleValues")),nearestValue:Wv(t.getAttribute("nearestValue")),current:Wv(t.getAttribute("current")),values:as(t)}}function Tg(t,e){return hh({},R1t,t,e)}function h1t(t,e){return hh({},T1t,t,e)}function d1t(t,e){return hh({},A1t,t,e)}function f1t(t,e){return hh({},k1t,t,e)}function iN(t,e){return hh({},C1t,t,e)}function nX(t,e){var r=Tg(t,e);if(ho(r)){const n=[TT(t.getAttribute("width")),TT(t.getAttribute("height"))];return r.size=n,r}}function p1t(t,e){var r=Tg(t,e);if(ho(r))return r.name=t.getAttribute("name"),r}function m1t(t,e){var r=Tg(t,e);if(ho(r))return r.type=t.getAttribute("type"),r}function g1t(t,e){return hh({},I1t,t,e)}function iX(t,e){return hh([],N1t,t,e)}const dh=[null,"http://www.opengis.net/wms"];uh(dh,{Service:Ci(n1t),Capability:Ci(r1t)});const y1t=uh(dh,{Request:Ci(h1t),Exception:Ci(s1t),Layer:Ci(l1t)}),v1t=uh(dh,{Name:Ci(as),Title:Ci(as),Abstract:Ci(as),KeywordList:Ci(iX),OnlineResource:Ci(R4),ContactInformation:Ci(i1t),Fees:Ci(as),AccessConstraints:Ci(as),LayerLimit:Ci(nN),MaxWidth:Ci(nN),MaxHeight:Ci(nN)}),b1t=uh(dh,{ContactPersonPrimary:Ci(a1t),ContactPosition:Ci(as),ContactAddress:Ci(o1t),ContactVoiceTelephone:Ci(as),ContactFacsimileTelephone:Ci(as),ContactElectronicMailAddress:Ci(as)}),_1t=uh(dh,{ContactPerson:Ci(as),ContactOrganization:Ci(as)}),x1t=uh(dh,{AddressType:Ci(as),Address:Ci(as),City:Ci(as),StateOrProvince:Ci(as),PostCode:Ci(as),Country:Ci(as)}),w1t=uh(dh,{Format:eX(as)}),aX=uh(dh,{Name:Ci(as),Title:Ci(as),Abstract:Ci(as),KeywordList:Ci(iX),CRS:ld(as),SRS:ld(as),EX_GeographicBoundingBox:Ci(e1t),LatLonBoundingBox:Ci(Jxt),BoundingBox:ld(Qxt),Dimension:ld(u1t),Attribution:Ci(Zxt),AuthorityURL:ld(p1t),Identifier:ld(as),MetadataURL:ld(m1t),DataURL:ld(Tg),FeatureListURL:ld(Tg),Style:ld(g1t),MinScaleDenominator:Ci(w_),MaxScaleDenominator:Ci(w_),ScaleHint:Ci(t1t),Layer:ld(c1t)}),S1t=uh(dh,{Title:Ci(as),OnlineResource:Ci(R4),LogoURL:Ci(nX)}),E1t=uh(dh,{westBoundLongitude:Ci(w_),eastBoundLongitude:Ci(w_),southBoundLatitude:Ci(w_),northBoundLatitude:Ci(w_)}),T1t=uh(dh,{GetCapabilities:Ci(iN),GetMap:Ci(iN),GetFeatureInfo:Ci(iN)}),C1t=uh(dh,{Format:ld(as),DCPType:ld(d1t)}),A1t=uh(dh,{HTTP:Ci(f1t)}),k1t=uh(dh,{Get:Ci(Tg),Post:Ci(Tg)}),I1t=uh(dh,{Name:Ci(as),Title:Ci(as),Abstract:Ci(as),LegendURL:ld(nX),StyleSheetURL:Ci(Tg),StyleURL:Ci(Tg)}),R1t=uh(dh,{Format:Ci(as),OnlineResource:Ci(R4)}),N1t=uh(dh,{Keyword:eX(as)});ba(yr.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}));ba(yr.jsx("path",{d:"M8 5v14l11-7z"}));ba(yr.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}));ba(yr.jsx("path",{d:"M6 6h12v12H6z"}));ba(yr.jsx("path",{d:"m4 18 8.5-6L4 6zm9-12v12l8.5-6z"}));ba(yr.jsx("path",{d:"M11 18V6l-8.5 6zm.5-6 8.5 6V6z"}));ba(yr.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}));ba([yr.jsx("circle",{cx:"7",cy:"14",r:"3"},"0"),yr.jsx("circle",{cx:"11",cy:"6",r:"3"},"1"),yr.jsx("circle",{cx:"16.6",cy:"17.6",r:"3"},"2")]);function oX(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+"]"}).join(",")+"}")}function L1t(t,e){var r=oX(t);return function(n,i){return e(r(n),i,t)}}function M1t(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var i in n)i in e||r.push(e[i]=i)}),r}function N4(t){var e=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function n(v,x){var k,I,S=i(v,function(P,D){if(k)return k(P,D-1);I=P,k=x?L1t(P,x):oX(P)});return S.columns=I,S}function i(v,x){var k={},I={},S=[],P=v.length,D=0,U=0,H,G;function z(){if(D>=P)return I;if(G)return G=!1,k;var X=D,Y;if(v.charCodeAt(X)===34){for(var et=X;et++<P;)if(v.charCodeAt(et)===34){if(v.charCodeAt(et+1)!==34)break;++et}return D=et+2,Y=v.charCodeAt(et+1),Y===13?(G=!0,v.charCodeAt(et+2)===10&&++D):Y===10&&(G=!0),v.slice(X+1,et).replace(/""/g,'"')}for(;D<P;){var st=1;if(Y=v.charCodeAt(D++),Y===10)G=!0;else if(Y===13)G=!0,v.charCodeAt(D)===10&&(++D,++st);else if(Y!==r)continue;return v.slice(X,D-st)}return v.slice(X)}for(;(H=z())!==I;){for(var j=[];H!==k&&H!==I;)j.push(H),H=z();x&&(j=x(j,U++))==null||S.push(j)}return S}function o(v,x){return x==null&&(x=M1t(v)),[x.map(g).join(t)].concat(v.map(function(k){return x.map(function(I){return g(k[I])}).join(t)})).join(`
`)}function c(v){return v.map(a).join(`
`)}function a(v){return v.map(g).join(t)}function g(v){return v==null?"":e.test(v+="")?'"'+v.replace(/\"/g,'""')+'"':v}return{parse:n,parseRows:i,format:o,formatRows:c}}var mA=N4(","),P1t=mA.parse,O1t=mA.parseRows,D1t=mA.format,B1t=mA.formatRows,gA=N4("	"),z1t=gA.parse,F1t=gA.parseRows,j1t=gA.format,$1t=gA.formatRows;const V1t=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:D1t,csvFormatRows:B1t,csvParse:P1t,csvParseRows:O1t,dsvFormat:N4,tsvFormat:j1t,tsvFormatRows:$1t,tsvParse:z1t,tsvParseRows:F1t},Symbol.toStringTag,{value:"Module"})),U1t=lU(V1t);var xv={exports:{}},e9;function q1t(){if(e9)return xv.exports;e9=1,xv.exports=t,xv.exports.pair=o,xv.exports.format=r,xv.exports.formatPair=e,xv.exports.coordToDMS=n;function t(a,g){var v=i(a,g);return v===null?null:v.val}function e(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,g){var v=n(a,g);return v.whole+"° "+(v.minutes?v.minutes+"' ":"")+(v.seconds?v.seconds+'" ':"")+v.dir}function n(a,g){var v={lat:["N","S"],lon:["E","W"]}[g]||"",x=v[a>=0?0:1],k=Math.abs(a),I=Math.floor(k),S=k-I,P=S*60,D=Math.floor(P),U=Math.floor((P-D)*60);return{whole:I,minutes:D,seconds:U,dir:x}}function i(a,g){if(g||(g="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var v=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,x=a.match(v);if(!x)return null;var k=x[0],I;if(x[1]&&x[5]?(I=x[1],k=k.slice(0,-1)):I=x[1]||x[5],I&&g.indexOf(I)===-1)return null;var S=x[2]?parseFloat(x[2]):0,P=x[3]?parseFloat(x[3])/60:0,D=x[4]?parseFloat(x[4])/3600:0,U=S<0?-1:1;return(I==="S"||I==="W")&&(U*=-1),{val:(Math.abs(S)+P+D)*U,dim:I,matched:k,remain:a.slice(k.length)}}function o(a,g){a=a.trim();var v=i(a,g);if(!v)return null;a=v.remain.trim();var x=i(a,g);return!x||x.remain?null:v.dim?c(v.val,x.val,v.dim):[v.val,x.val]}function c(a,g,v){if(v==="N"||v==="S")return[a,g];if(v==="W"||v==="E")return[g,a]}return xv.exports}var aN,r9;function G1t(){if(r9)return aN;r9=1;var t=U1t,e=q1t(),r=/(Lat)(itude)?/gi,n=/(L)(on|ng)(gitude)?/i;function i(U,H){var G,z,j;for(var X in U)z=X.match(H),z&&(!G||z[0].length/X.length>j)&&(j=z[0].length/X.length,G=X);return G}function o(U){return i(U,r)}function c(U){return i(U,n)}function a(U){return!!U.match(r)}function g(U){return!!U.match(n)}function v(U){return typeof U=="object"?Object.keys(U).length:0}function x(U){var H=[",",";","	","|"],G=[];return H.forEach(function(z){var j=t.dsvFormat(z).parse(U);if(j.length>=1){for(var X=v(j[0]),Y=0;Y<j.length;Y++)if(v(j[Y])!==X)return;G.push({delimiter:z,arity:Object.keys(j[0]).length})}}),G.length?G.sort(function(z,j){return j.arity-z.arity})[0].delimiter:null}function k(U){return delete U.columns,U}function I(U){var H=x(U);return H?k(t.dsvFormat(H).parse(U)):null}function S(U,H,G){G||(G=H,H={}),H.delimiter=H.delimiter||",";var z=H.latfield||"",j=H.lonfield||"",X=H.crs||"",Y=[],et={type:"FeatureCollection",features:Y};if(X!==""&&(et.crs={type:"name",properties:{name:X}}),H.delimiter==="auto"&&typeof U=="string"&&(H.delimiter=x(U),!H.delimiter)){G({type:"Error",message:"Could not autodetect delimiter"});return}var st=H.numericFields?H.numericFields.split(","):null,it=typeof U=="string"?t.dsvFormat(H.delimiter).parse(U,function(St){if(st)for(var Lt in St)st.includes(Lt)&&(St[Lt]=+St[Lt]);return St}):U;if(!it.length){G(null,et);return}var vt=[],at;z||(z=o(it[0])),j||(j=c(it[0]));var V=!z||!j;if(V){for(at=0;at<it.length;at++)Y.push({type:"Feature",properties:it[at],geometry:null});G(vt.length?vt:null,et);return}for(at=0;at<it.length;at++)if(it[at][j]!==void 0&&it[at][z]!==void 0){var dt=it[at][j],mt=it[at][z],wt,pt,At;At=e(dt,"EW"),At&&(dt=At),At=e(mt,"NS"),At&&(mt=At),wt=parseFloat(dt),pt=parseFloat(mt),isNaN(wt)||isNaN(pt)?vt.push({message:"A row contained an invalid value for latitude or longitude",row:it[at],index:at}):(H.includeLatLon||(delete it[at][j],delete it[at][z]),Y.push({type:"Feature",properties:it[at],geometry:{type:"Point",coordinates:[parseFloat(wt),parseFloat(pt)]}}))}G(vt.length?vt:null,et)}function P(U){for(var H=U.features,G={type:"Feature",geometry:{type:"LineString",coordinates:[]}},z=0;z<H.length;z++)G.geometry.coordinates.push(H[z].geometry.coordinates);return G.properties=H.reduce(function(j,X){for(var Y in X.properties)j[Y]||(j[Y]=[]),j[Y].push(X.properties[Y]);return j},{}),{type:"FeatureCollection",features:[G]}}function D(U){for(var H=U.features,G={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},z=0;z<H.length;z++)G.geometry.coordinates[0].push(H[z].geometry.coordinates);return G.properties=H.reduce(function(j,X){for(var Y in X.properties)j[Y]||(j[Y]=[]),j[Y].push(X.properties[Y]);return j},{}),{type:"FeatureCollection",features:[G]}}return aN={isLon:g,isLat:a,guessLatHeader:o,guessLonHeader:c,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:I,csv2geojson:S,toLine:P,toPolygon:D},aN}G1t();var Hh={},n9;function rS(){if(n9)return Hh;n9=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.purgeProps=t,Hh.first=e,Hh.last=r,Hh.coordsToKey=n,Hh.addToMap=i,Hh.removeFromMap=o,Hh.getFirstFromMap=c,Hh.isRing=a,Hh.ringDirection=g,Hh.pointInsidePolygon=v,Hh.strArrayArrayToFloat=x,Hh.strArrayToFloat=k;function t(I,S){if(I){const P=Object.assign({},I);if(S)for(const D of S)delete P[D];return P}return{}}function e(I){return I[0]}function r(I){return I[I.length-1]}function n(I){return I.join(",")}function i(I,S,P){const D=I[S];D?D.push(P):I[S]=[P]}function o(I,S,P){const D=I[S];let U=-1;D&&(U=D.indexOf(P)),U>=0&&D.splice(U,1)}function c(I,S){const P=I[S];return P&&P.length>0?P[0]:null}function a(I){return I.length>3&&n(e(I))===n(r(I))}function g(I,S,P){S=S||0,P=P||1;const D=I.reduce((st,it,vt)=>I[st][S||0]>it[S||0]?st:vt,0),U=D<=0?I.length-2:D-1,H=D>=I.length-1?1:D+1,G=I[U][S],z=I[D][S],j=I[H][S],X=I[U][P],Y=I[D][P],et=I[H][P];return(z-G)*(et-X)-(j-G)*(Y-X)<0?"clockwise":"counterclockwise"}function v(I,S,P,D){P=P||0,D=D||1;let U=!1;for(let H=0,G=S.length-1;H<S.length;G=H++)(S[H][P]<=I[P]&&I[P]<S[G][P]||S[G][P]<=I[P]&&I[P]<S[H][P])&&I[D]<(S[G][D]-S[H][D])*(I[P]-S[H][P])/(S[G][P]-S[H][P])+S[H][D]&&(U=!U);return U}function x(I){return I.map(k)}function k(I){return I.map(parseFloat)}return Hh}var G1={},i9;function H1t(){if(i9)return G1;i9=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.XmlParser=void 0;function t(i){return i.match(/^(.+?)\[(.+?)\]>$/g)!==null}function e(i){const o=/^(.+?)\[(.+?)\]>$/g.exec(i);return o?{evt:o[1]+">",exp:o[2]}:{evt:i}}function r(i){const o="return "+i.replace(/(\$.+?)(?=[=!.])/g,"node.$&")+";";return new Function("node",o)}class n{constructor(o){this.queryParent=!1,this.progressive=!1,this.parentMap=new WeakMap,o&&(this.queryParent=!!o.queryParent,this.progressive=o.progressive,this.queryParent&&(this.parentMap=new WeakMap)),this.evtListeners={}}parse(o,c,a){a=a?a+".":"";const g=/<([^ >\/]+)(.*?)>/mg,v=[];let x=g.exec(o);for(;x;){const k=x[1],I={$tag:k},S=a+k,P=x[2].trim();let D=!1;(P.endsWith("/")||k.startsWith("?")||k.startsWith("!"))&&(D=!0);const U=/([^ ]+?)="(.+?)"/g,H=/([^ ]+?)='(.+?)'/g;let G=U.exec(P),z=!1;for(;G;)z=!0,I[G[1]]=G[2],G=U.exec(P);if(!z)for(G=H.exec(P);G;)z=!0,I[G[1]]=G[2],G=H.exec(P);if(!z&&P!==""&&(I.text=P),this.progressive&&this.emit(`<${S}>`,I,c),!D){const j=new RegExp(`([^]+?)</${k}>`,"g");j.lastIndex=g.lastIndex;const X=j.exec(o);if(X&&X[1]){g.lastIndex=j.lastIndex;const Y=this.parse(X[1],I,S);Y.length>0?I.$innerNodes=Y:I.$innerText=X[1]}}this.queryParent&&c&&this.parentMap.set(I,c),this.progressive&&this.emit(`</${S}>`,I,c),v.push(I),x=g.exec(o)}return v}getParent(o){return this.queryParent?this.parentMap.get(o):null}addListener(o,c){if(t(o)){const a=e(o);a.exp&&(c.condition=r(a.exp)),o=a.evt}this.$addListener(o,c)}removeListener(o,c){t(o)&&(o=e(o).evt),this.$removeListener(o,c)}on(o,c){this.addListener(o,c)}off(o,c){this.removeListener(o,c)}$addListener(o,c){const a=this.evtListeners[o];a?a.push(c):this.evtListeners[o]=[c]}$removeListener(o,c){const a=this.evtListeners[o];let g=-1;a&&(g=a.indexOf(c)),g>=0&&a.splice(g,1)}emit(o,...c){const a=this.evtListeners[o];if(a)for(const g of a)g.condition?g.condition.apply(null,c)===!0&&g.apply(null,c):g.apply(null,c)}}return G1.XmlParser=n,G1}var H1={},X1={},a9;function L4(){if(a9)return X1;a9=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.OsmObject=void 0;class t{constructor(r,n,i){this.type=r,this.id=n,this.refElems=i,this.tags={},this.props={id:this.getCompositeId()},this.refCount=0,this.hasTag=!1,i&&i.add(this.getCompositeId(),this)}addTags(r){this.tags=Object.assign(this.tags,r),this.hasTag=!0}addTag(r,n){this.tags[r]=n,this.hasTag=!0}addProp(r,n){this.props[r]=n}addProps(r){this.props=Object.assign(this.props,r)}getCompositeId(){return`${this.type}/${this.id}`}getProps(){return Object.assign(this.props,this.tags)}}return X1.OsmObject=t,X1}var o9;function sX(){if(o9)return H1;o9=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.Node=void 0;const t=L4(),e=rS();class r extends t.OsmObject{constructor(i,o){super("node",i,o)}setLatLng(i){this.latLng=i}toFeatureArray(){return this.latLng?[{type:"Feature",id:this.getCompositeId(),properties:this.getProps(),geometry:{type:"Point",coordinates:(0,e.strArrayToFloat)([this.latLng.lon,this.latLng.lat])}}]:[]}getLatLng(){return this.latLng}}return H1.Node=r,H1}var wv={},W1={},s9;function lX(){if(s9)return W1;s9=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.LateBinder=void 0;class t{constructor(r,n,i,o){this.container=r,this.valueFunc=n,this.ctx=i,this.args=o}bind(){const r=this.valueFunc.apply(this.ctx,this.args),n=this.container.indexOf(this);if(n<0)return;const i=[n,1];r&&i.push(r),Array.prototype.splice.apply(this.container,i)}}return W1.LateBinder=t,W1}const X1t={},W1t={whitelist:["services","rest_area","escape","elevator"]},Y1t={blacklist:["coastline","cliff","ridge","arete","tree_row"]},K1t={},Z1t={whitelist:["riverbank","dock","boatyard","dam"]},Q1t={},J1t={},t2t={whitelist:["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},e2t={whitelist:["station","turntable","roundhouse","platform"]},r2t={},n2t={},i2t={blacklist:["cutline","embankment","pipeline"]},a2t={whitelist:["plant","substation","generator","transformer"]},o2t={},s2t={},l2t={blacklist:["taxiway"]},c2t={},u2t={},h2t={},d2t={},f2t={},p2t={},m2t={},g2t={},y2t={},v2t={building:X1t,highway:W1t,natural:Y1t,landuse:K1t,waterway:Z1t,amenity:Q1t,leisure:J1t,barrier:t2t,railway:e2t,area:r2t,boundary:n2t,man_made:i2t,power:a2t,place:o2t,shop:s2t,aeroway:l2t,tourism:c2t,historic:u2t,public_transport:h2t,office:d2t,"building:part":{},military:f2t,ruins:p2t,"area:highway":{},craft:m2t,golf:g2t,indoor:y2t};var l9;function cX(){if(l9)return wv;l9=1;var t=wv&&wv.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(wv,"__esModule",{value:!0}),wv.Way=void 0;const e=L4(),r=lX(),n=rS(),i=t(v2t);class o extends e.OsmObject{constructor(a,g){super("way",a,g),this.latLngArray=[],this.isPolygon=!1}addLatLng(a){this.latLngArray.push(a)}setLatLngArray(a){this.latLngArray=a}addNodeRef(a){const g=new r.LateBinder(this.latLngArray,v=>{const x=this.refElems.get(`node/${v}`);if(x)return x.refCount++,x.getLatLng()},this,[a]);this.latLngArray.push(g),this.refElems.addBinder(g)}addTags(a){super.addTags(a);for(const[g,v]of Object.entries(a))this.analyzeTag(g,v)}addTag(a,g){super.addTag(a,g),this.analyzeTag(a,g)}toCoordsArray(){return this.latLngArray.map(a=>[a.lon,a.lat])}toFeatureArray(){let a=this.toCoordsArray();if(a.length>1){const g=(0,n.strArrayArrayToFloat)(a),v={type:"Feature",id:this.getCompositeId(),properties:this.getProps(),geometry:{type:"LineString",coordinates:g}};return this.isPolygon&&(0,n.isRing)(g)?((0,n.ringDirection)(g)!=="counterclockwise"&&g.reverse(),v.geometry={type:"Polygon",coordinates:[g]},[v]):[v]}return[]}analyzeTag(a,g){const v=i.default[a];v&&(this.isPolygon=!0,v.whitelist?this.isPolygon=v.whitelist.indexOf(g)>=0:v.blacklist&&(this.isPolygon=!(v.blacklist.indexOf(g)>=0)))}}return wv.Way=o,wv}var Y1={},K1={},c9;function b2t(){if(c9)return K1;c9=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.WayCollection=void 0;const t=rS();class e extends Array{constructor(){super(),this.firstMap={},this.lastMap={}}addWay(n){const i=n.toCoordsArray();i.length>0&&(this.push(i),(0,t.addToMap)(this.firstMap,(0,t.coordsToKey)((0,t.first)(i)),i),(0,t.addToMap)(this.lastMap,(0,t.coordsToKey)((0,t.last)(i)),i))}mergeWays(){const n=[];let i=this.shift();for(;i;){(0,t.removeFromMap)(this.firstMap,(0,t.coordsToKey)((0,t.first)(i)),i),(0,t.removeFromMap)(this.lastMap,(0,t.coordsToKey)((0,t.last)(i)),i);let o=i,c;do{let a=this.getNextWay(o);c=a.next;let g=a.mergeType;if(c)switch(this.splice(this.indexOf(c),1),(0,t.removeFromMap)(this.firstMap,(0,t.coordsToKey)((0,t.first)(c)),c),(0,t.removeFromMap)(this.lastMap,(0,t.coordsToKey)((0,t.last)(c)),c),g){case 0:o=o.concat(c.slice(1));break;case 1:c.reverse(),o=o.concat(c.slice(1));break;case 2:o.reverse(),o=o.concat(c.slice(1));break;case 3:o=c.concat(o.slice(1));break}}while(c);n.push((0,t.strArrayArrayToFloat)(o)),i=this.shift()}return n}getNextWay(n){const i=(0,t.coordsToKey)((0,t.last)(n)),o=(0,t.coordsToKey)((0,t.first)(n));let c=this.length>0?this[0]:null;if(c){const a=(0,t.coordsToKey)((0,t.first)(c)),g=(0,t.coordsToKey)((0,t.last)(c));if(i===a)return{next:c,mergeType:0};if(i===g)return{next:c,mergeType:1};if(o===a)return{next:c,mergeType:2};if(o===g)return{next:c,mergeType:3}}return c=(0,t.getFirstFromMap)(this.firstMap,i),c?{next:c,mergeType:0}:(c=(0,t.getFirstFromMap)(this.lastMap,i),{next:c,mergeType:1})}toRings(n){const i=this.mergeWays(),o=[];let c=i.shift();for(;c;)(0,t.isRing)(c)&&((0,t.ringDirection)(c)!==n&&c.reverse(),o.push(c)),c=i.shift();return o}}return K1.WayCollection=e,K1}var u9;function _2t(){if(u9)return Y1;u9=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.Relation=void 0;const t=L4(),e=cX(),r=sX(),n=b2t(),i=lX(),o=rS();class c extends t.OsmObject{constructor(g,v){super("relation",g,v),this.relations=[],this.nodes=[],this.bounds=void 0,this.ways=[],this.roles=[]}setBounds(g){this.bounds=g}addMember(g){switch(g.type){case"relation":let v=new i.LateBinder(this.relations,k=>{const I=this.refElems.get(`relation/${k}`);if(I)return I.refCount++,I},this,[g.ref]);this.relations.push(v),this.refElems.addBinder(v);break;case"way":if(g.role||(g.role=""),g.geometry){const k=new e.Way(g.ref,this.refElems);k.setLatLngArray(g.geometry),k.refCount++,this.ways.push(k),this.roles.push(g.role)}else if(g.nodes){const k=new e.Way(g.ref,this.refElems);for(const I of g.nodes)k.addNodeRef(I);k.refCount++,this.ways.push(k),this.roles.push(g.role)}else{let k=new i.LateBinder(this.ways,I=>{const S=this.refElems.get(`way/${I}`);if(S)return S.refCount++,S},this,[g.ref]);this.ways.push(k),this.roles.push(g.role),this.refElems.addBinder(k)}break;case"node":let x=null;if(g.lat&&g.lon){x=new r.Node(g.ref,this.refElems),x.setLatLng({lon:g.lon,lat:g.lat}),g.tags&&x.addTags(g.tags);for(const[k,I]of Object.entries(g))["id","type","lat","lon"].indexOf(k)<0&&x.addProp(k,I);x.refCount++,this.nodes.push(x)}else{let k=new i.LateBinder(this.nodes,I=>{const S=this.refElems.get(`node/${I}`);if(S)return S.refCount++,S},this,[g.ref]);this.nodes.push(k),this.refElems.addBinder(k)}break}}constructStringGeometry(g){const v=g?g.mergeWays():[];return v.length===0?null:{type:"MultiLineString",coordinates:v}}constructPolygonGeometry(g,v){const x=g?g.toRings("counterclockwise"):[],k=v?v.toRings("clockwise"):[];if(x.length>0){const I=[];let S;for(S of x)I.push([S]);for(S=k.shift();S;){for(const P in x)if((0,o.pointInsidePolygon)((0,o.first)(S),x[P])){I[P].push(S);break}S=k.shift()}return I.length===1?{type:"Polygon",coordinates:I[0]}:{type:"MultiPolygon",coordinates:I}}return null}toFeatureArray(){const g=[],v=[];let x=[];for(const I of this.relations)if(I)for(let S=0;S<I.ways.length;S++){const P=I.ways[S];this.ways.push(P),this.roles.push(I.roles[S])}let k={type:"Feature",id:this.getCompositeId(),bbox:this.bounds,properties:this.getProps(),geometry:null};if(this.bounds||delete k.bbox,this.roles.some(I=>I==="outer")){const I=new n.WayCollection,S=new n.WayCollection;for(let U=0;U<this.ways.length;U++){const H=this.ways[U],G=this.roles[U];G==="outer"?I.addWay(H):G==="inner"&&S.addWay(H)}let P=Object.assign({},k),D=this.constructPolygonGeometry(I,S);D&&(P.geometry=D,g.push(P))}else{const I=new n.WayCollection;for(let P of this.ways)I.addWay(P);let S=this.constructStringGeometry(I);if(S){let P=Object.assign({},k);P.geometry=S,v.push(P)}}for(let I of this.nodes)x=x.concat(I.toFeatureArray());return[...g,...v,...x]}}return Y1.Relation=c,Y1}var Z1={},h9;function x2t(){if(h9)return Z1;h9=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.RefElements=void 0;class t extends Map{constructor(){super(),this.binders=[]}add(r,n){this.set(r,n)}addBinder(r){this.binders.push(r)}bindAll(){this.binders.forEach(r=>r.bind())}}return Z1.RefElements=t,Z1}var oN,d9;function w2t(){if(d9)return oN;d9=1;const t=rS(),e=H1t(),r=sX(),n=cX(),i=_2t(),o=x2t();function c(k){if(!k)return{completeFeature:!1,renderTagged:!1,excludeWay:!0};let I=k.excludeWay===void 0||k.excludeWay,S=!!k.completeFeature,P=!!k.renderTagged;return{completeFeature:S,renderTagged:P,excludeWay:I}}function a(k){return k.elements?"json":k.indexOf("<osm")>=0?"xml":k.trim().startsWith("{")?"json-raw":"invalid"}function g(k,I){for(const S of k.elements)switch(S.type){case"node":const P=new r.Node(S.id,I);S.tags&&P.addTags(S.tags),P.addProps((0,t.purgeProps)(S,["id","type","tags","lat","lon"])),P.setLatLng(S);break;case"way":const D=new n.Way(S.id,I);if(S.tags&&D.addTags(S.tags),D.addProps((0,t.purgeProps)(S,["id","type","tags","nodes","geometry"])),S.geometry)D.setLatLngArray(S.geometry);else if(S.nodes)for(const H of S.nodes)D.addNodeRef(H);break;case"relation":const U=new i.Relation(S.id,I);if(S.bounds&&U.setBounds([parseFloat(S.bounds.minlon),parseFloat(S.bounds.minlat),parseFloat(S.bounds.maxlon),parseFloat(S.bounds.maxlat)]),S.tags&&U.addTags(S.tags),U.addProps((0,t.purgeProps)(S,["id","type","tags","bounds","members"])),S.members)for(const H of S.members)U.addMember(H)}}function v(k,I){const S=new e.XmlParser({progressive:!0});S.on("</osm.node>",P=>{const D=new r.Node(P.id,I);for(const[U,H]of Object.entries(P))!U.startsWith("$")&&["id","lon","lat"].indexOf(U)<0&&D.addProp(U,H);if(D.setLatLng(P),P.$innerNodes)for(const U of P.$innerNodes)U.$tag==="tag"&&D.addTag(U.k,U.v)}),S.on("</osm.way>",P=>{const D=new n.Way(P.id,I);for(const[U,H]of Object.entries(P))!U.startsWith("$")&&["id"].indexOf(U)<0&&D.addProp(U,H);if(P.$innerNodes)for(const U of P.$innerNodes)U.$tag==="nd"?U.lon&&U.lat?D.addLatLng(U):U.ref&&D.addNodeRef(U.ref):U.$tag==="tag"&&D.addTag(U.k,U.v)}),S.on("<osm.relation>",P=>new i.Relation(P.id,I)),S.on("</osm.relation.member>",(P,D)=>{const U=I.get(`relation/${D?.id}`),H={type:P.type,role:P.role?P.role:"",ref:P.ref};if(P.lat&&P.lon){H.lat=P.lat,H.lon=P.lon,H.tags={};for(const[G,z]of Object.entries(P))!G.startsWith("$")&&["type","lat","lon"].indexOf(G)<0&&(H[G]=z)}if(P.$innerNodes){const G=[],z=[];for(const j of P.$innerNodes)j.lat&&j.lon?G.push(j):j.ref&&z.push(j.ref);G.length>0?H.geometry=G:z.length>0&&(H.nodes=z)}U.addMember(H)}),S.on("</osm.relation.bounds>",(P,D)=>{I.get(`relation/${D?.id}`).setBounds([parseFloat(P.minlon),parseFloat(P.minlat),parseFloat(P.maxlon),parseFloat(P.maxlat)])}),S.on("</osm.relation.tag>",(P,D)=>{I.get(`relation/${D?.id}`).addTag(P.k,P.v)}),S.parse(k)}function x(k,I){let{completeFeature:S,renderTagged:P,excludeWay:D}=c(I),U=a(k);const H=new o.RefElements;let G=[];U==="json-raw"&&(k=JSON.parse(k),k.elements?U="json":U="invalid"),U==="json"?g(k,H):U==="xml"&&v(k,H),H.bindAll();for(const z of H.values()){if(z.refCount>0&&(!z.hasTag||!P||z instanceof n.Way&&D))continue;const j=z.toFeatureArray();if(z instanceof i.Relation&&!S&&j.length>0)return j[0].geometry;G=G.concat(j)}return{type:"FeatureCollection",features:G}}return oN=x,oN}w2t();var f9;(function(t){t.ABSOLUTE="absolute",t.RELATIVE_TO_GROUND="relativeToGround",t.CLAMP_TO_GROUND="clampToGround",t.CLAMP_TO_SEAFLOOR="clampToSeaFloor",t.RELATIVE_TO_SEAFLOOR="relativeToSeaFloor"})(f9||(f9={}));const S2t=we.createContext({});S2t.Provider;ba(yr.jsx("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 10V8h-2v4H8l4 4 4-4z"}));ba(yr.jsx("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m-1-10v4h2v-4h3l-4-4-4 4z"}));ba(yr.jsx("path",{d:"M5 15H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}));qr(Oy)({padding:"4px",marginTop:"-3px",background:"none","&:hover":{background:"none"}});ba(yr.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"}));ba([yr.jsx("path",{d:"M8 8H6v7c0 1.1.9 2 2 2h9v-2H8z"},"0"),yr.jsx("path",{d:"M20 3h-8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 8h-8V7h8zM4 12H2v7c0 1.1.9 2 2 2h9v-2H4z"},"1")]);ba(yr.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}));ba(yr.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10H7v-2h10z"}));ba(yr.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}));ba(yr.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}));ba(yr.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}));ba(yr.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"}));ba(yr.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"}));ba(yr.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}));ba(yr.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}));ba(yr.jsx("path",{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27zm3.65-11.92c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75z"}));ba(yr.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}));var p9={exports:{}},sN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9;function E2t(){if(m9)return sN;m9=1;var t=we;function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,c=t.useMemo,a=t.useDebugValue;return sN.useSyncExternalStoreWithSelector=function(g,v,x,k,I){var S=i(null);if(S.current===null){var P={hasValue:!1,value:null};S.current=P}else P=S.current;S=c(function(){function U(X){if(!H){if(H=!0,G=X,X=k(X),I!==void 0&&P.hasValue){var Y=P.value;if(I(Y,X))return z=Y}return z=X}if(Y=z,r(G,X))return Y;var et=k(X);return I!==void 0&&I(Y,et)?(G=X,Y):(G=X,z=et)}var H=!1,G,z,j=x===void 0?null:x;return[function(){return U(v())},j===null?void 0:function(){return U(j())}]},[v,x,k,I]);var D=n(g,S[0],S[1]);return o(function(){P.hasValue=!0,P.value=D},[D]),a(D),D},sN}var g9;function T2t(){return g9||(g9=1,p9.exports=E2t()),p9.exports}T2t();function oh(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var C2t=typeof Symbol=="function"&&Symbol.observable||"@@observable",y9=C2t,lN=()=>Math.random().toString(36).substring(7).split("").join("."),A2t={INIT:`@@redux/INIT${lN()}`,REPLACE:`@@redux/REPLACE${lN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${lN()}`},CT=A2t;function M4(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uX(t,e,r){if(typeof t!="function")throw new Error(oh(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(oh(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(oh(1));return r(uX)(t,e)}let n=t,i=e,o=new Map,c=o,a=0,g=!1;function v(){c===o&&(c=new Map,o.forEach((D,U)=>{c.set(U,D)}))}function x(){if(g)throw new Error(oh(3));return i}function k(D){if(typeof D!="function")throw new Error(oh(4));if(g)throw new Error(oh(5));let U=!0;v();const H=a++;return c.set(H,D),function(){if(U){if(g)throw new Error(oh(6));U=!1,v(),c.delete(H),o=null}}}function I(D){if(!M4(D))throw new Error(oh(7));if(typeof D.type>"u")throw new Error(oh(8));if(typeof D.type!="string")throw new Error(oh(17));if(g)throw new Error(oh(9));try{g=!0,i=n(i,D)}finally{g=!1}return(o=c).forEach(U=>{U()}),D}function S(D){if(typeof D!="function")throw new Error(oh(10));n=D,I({type:CT.REPLACE})}function P(){const D=k;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(oh(11));function H(){const G=U;G.next&&G.next(x())}return H(),{unsubscribe:D(H)}},[y9](){return this}}}return I({type:CT.INIT}),{dispatch:I,subscribe:k,getState:x,replaceReducer:S,[y9]:P}}function k2t(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:CT.INIT})>"u")throw new Error(oh(12));if(typeof r(void 0,{type:CT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(oh(13))})}function I2t(t){const e=Object.keys(t),r={};for(let o=0;o<e.length;o++){const c=e[o];typeof t[c]=="function"&&(r[c]=t[c])}const n=Object.keys(r);let i;try{k2t(r)}catch(o){i=o}return function(o={},c){if(i)throw i;let a=!1;const g={};for(let v=0;v<n.length;v++){const x=n[v],k=r[x],I=o[x],S=k(I,c);if(typeof S>"u")throw c&&c.type,new Error(oh(14));g[x]=S,a=a||S!==I}return a=a||n.length!==Object.keys(o).length,a?g:o}}function AT(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function R2t(...t){return e=>(r,n)=>{const i=e(r,n);let o=()=>{throw new Error(oh(15))};const c={getState:i.getState,dispatch:(g,...v)=>o(g,...v)},a=t.map(g=>g(c));return o=AT(...a)(i.dispatch),{...i,dispatch:o}}}function N2t(t){return M4(t)&&"type"in t&&typeof t.type=="string"}var hX=Symbol.for("immer-nothing"),v9=Symbol.for("immer-draftable"),af=Symbol.for("immer-state");function gp(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var tx=Object.getPrototypeOf;function i0(t){return!!t&&!!t[af]}function Cg(t){return t?dX(t)||Array.isArray(t)||!!t[v9]||!!t.constructor?.[v9]||nS(t)||vA(t):!1}var L2t=Object.prototype.constructor.toString();function dX(t){if(!t||typeof t!="object")return!1;const e=tx(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===L2t}function kT(t,e){yA(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function yA(t){const e=t[af];return e?e.type_:Array.isArray(t)?1:nS(t)?2:vA(t)?3:0}function qL(t,e){return yA(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function fX(t,e,r){const n=yA(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function M2t(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nS(t){return t instanceof Map}function vA(t){return t instanceof Set}function Lv(t){return t.copy_||t.base_}function GL(t,e){if(nS(t))return new Map(t);if(vA(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=dX(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[af];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const c=i[o],a=n[c];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[c]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[c]})}return Object.create(tx(t),n)}else{const n=tx(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function P4(t,e=!1){return bA(t)||i0(t)||!Cg(t)||(yA(t)>1&&Object.defineProperties(t,{set:{value:j5},add:{value:j5},clear:{value:j5},delete:{value:j5}}),Object.freeze(t),e&&Object.values(t).forEach(r=>P4(r,!0))),t}function j5(){gp(2)}function bA(t){return Object.isFrozen(t)}var P2t={};function a0(t){const e=P2t[t];return e||gp(0,t),e}var pw;function pX(){return pw}function O2t(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b9(t,e){e&&(a0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function HL(t){XL(t),t.drafts_.forEach(D2t),t.drafts_=null}function XL(t){t===pw&&(pw=t.parent_)}function _9(t){return pw=O2t(pw,t)}function D2t(t){const e=t[af];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function x9(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[af].modified_&&(HL(e),gp(4)),Cg(t)&&(t=IT(e,t),e.parent_||RT(e,t)),e.patches_&&a0("Patches").generateReplacementPatches_(r[af].base_,t,e.patches_,e.inversePatches_)):t=IT(e,r,[]),HL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hX?t:void 0}function IT(t,e,r){if(bA(e))return e;const n=e[af];if(!n)return kT(e,(i,o)=>w9(t,n,e,i,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return RT(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,c=!1;n.type_===3&&(o=new Set(i),i.clear(),c=!0),kT(o,(a,g)=>w9(t,n,i,a,g,r,c)),RT(t,i,!1),r&&t.patches_&&a0("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function w9(t,e,r,n,i,o,c){if(i0(i)){const a=o&&e&&e.type_!==3&&!qL(e.assigned_,n)?o.concat(n):void 0,g=IT(t,i,a);if(fX(r,n,g),i0(g))t.canAutoFreeze_=!1;else return}else c&&r.add(i);if(Cg(i)&&!bA(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;IT(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(nS(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&RT(t,i)}}function RT(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&P4(e,r)}function B2t(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:pX(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=O4;r&&(i=[n],o=mw);const{revoke:c,proxy:a}=Proxy.revocable(i,o);return n.draft_=a,n.revoke_=c,a}var O4={get(t,e){if(e===af)return t;const r=Lv(t);if(!qL(r,e))return z2t(t,r,e);const n=r[e];return t.finalized_||!Cg(n)?n:n===cN(t.base_,e)?(uN(t),t.copy_[e]=YL(n,t)):n},has(t,e){return e in Lv(t)},ownKeys(t){return Reflect.ownKeys(Lv(t))},set(t,e,r){const n=mX(Lv(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=cN(Lv(t),e),o=i?.[af];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(M2t(r,i)&&(r!==void 0||qL(t.base_,e)))return!0;uN(t),WL(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return cN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,uN(t),WL(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Lv(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){gp(11)},getPrototypeOf(t){return tx(t.base_)},setPrototypeOf(){gp(12)}},mw={};kT(O4,(t,e)=>{mw[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mw.deleteProperty=function(t,e){return mw.set.call(this,t,e,void 0)};mw.set=function(t,e,r){return O4.set.call(this,t[0],e,r,t[0])};function cN(t,e){const r=t[af];return(r?Lv(r):t)[e]}function z2t(t,e,r){const n=mX(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function mX(t,e){if(!(e in t))return;let r=tx(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=tx(r)}}function WL(t){t.modified_||(t.modified_=!0,t.parent_&&WL(t.parent_))}function uN(t){t.copy_||(t.copy_=GL(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var F2t=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const c=this;return function(a=o,...g){return c.produce(a,v=>r.call(this,v,...g))}}typeof r!="function"&&gp(6),n!==void 0&&typeof n!="function"&&gp(7);let i;if(Cg(e)){const o=_9(this),c=YL(e,void 0);let a=!0;try{i=r(c),a=!1}finally{a?HL(o):XL(o)}return b9(o,n),x9(i,o)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===hX&&(i=void 0),this.autoFreeze_&&P4(i,!0),n){const o=[],c=[];a0("Patches").generateReplacementPatches_(e,i,o,c),n(o,c)}return i}else gp(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,a=>e(a,...c));let n,i;return[this.produce(e,r,(o,c)=>{n=o,i=c}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cg(t)||gp(8),i0(t)&&(t=j2t(t));const e=_9(this),r=YL(t,void 0);return r[af].isManual_=!0,XL(e),r}finishDraft(t,e){const r=t&&t[af];(!r||!r.isManual_)&&gp(9);const{scope_:n}=r;return b9(n,e),x9(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=a0("Patches").applyPatches_;return i0(t)?n(t,e):this.produce(t,i=>n(i,e))}};function YL(t,e){const r=nS(t)?a0("MapSet").proxyMap_(t,e):vA(t)?a0("MapSet").proxySet_(t,e):B2t(t,e);return(e?e.scope_:pX()).drafts_.push(r),r}function j2t(t){return i0(t)||gp(10,t),gX(t)}function gX(t){if(!Cg(t)||bA(t))return t;const e=t[af];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=GL(t,e.scope_.immer_.useStrictShallowCopy_)}else r=GL(t,!0);return kT(r,(n,i)=>{fX(r,n,gX(i))}),e&&(e.finalized_=!1),r}var $2t=new F2t,yX=$2t.produce;function vX(t){return({dispatch:e,getState:r})=>n=>i=>typeof i=="function"?i(e,r,t):n(i)}var V2t=vX(),U2t=vX,q2t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?AT:AT.apply(null,arguments)};function S9(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(bg(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>N2t(n)&&n.type===t,r}var bX=class b2 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,b2.prototype)}static get[Symbol.species](){return b2}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new b2(...e[0].concat(this)):new b2(...e.concat(this))}};function E9(t){return Cg(t)?yX(t,()=>{}):t}function $5(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function G2t(t){return typeof t=="boolean"}var H2t=()=>function(t){const{thunk:e=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let o=new bX;return e&&(G2t(e)?o.push(V2t):o.push(U2t(e.extraArgument))),o},X2t="RTK_autoBatch",T9=t=>e=>{setTimeout(e,t)},W2t=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,o=!1,c=!1;const a=new Set,g=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:T9(10):t.type==="callback"?t.queueNotification:T9(t.timeout),v=()=>{c=!1,o&&(o=!1,a.forEach(x=>x()))};return Object.assign({},n,{subscribe(x){const k=()=>i&&x(),I=n.subscribe(k);return a.add(x),()=>{I(),a.delete(x)}},dispatch(x){try{return i=!x?.meta?.[X2t],o=!i,o&&(c||(c=!0,g(v))),n.dispatch(x)}finally{i=!0}}})},Y2t=t=>function(e){const{autoBatch:r=!0}=e??{};let n=new bX(t);return r&&n.push(W2t(typeof r=="object"?r:void 0)),n};function K2t(t){const e=H2t(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:o=void 0,enhancers:c=void 0}=t||{};let a;if(typeof r=="function")a=r;else if(M4(r))a=I2t(r);else throw new Error(bg(1));let g;typeof n=="function"?g=n(e):g=e();let v=AT;i&&(v=q2t({trace:!1,...typeof i=="object"&&i}));const x=R2t(...g),k=Y2t(x);let I=typeof c=="function"?c(k):k();const S=v(...I);return uX(a,o,S)}function _X(t){const e={},r=[];let n;const i={addCase(o,c){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(bg(28));if(a in e)throw new Error(bg(29));return e[a]=c,i},addAsyncThunk(o,c){return c.pending&&(e[o.pending.type]=c.pending),c.rejected&&(e[o.rejected.type]=c.rejected),c.fulfilled&&(e[o.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:o.settled,reducer:c.settled}),i},addMatcher(o,c){return r.push({matcher:o,reducer:c}),i},addDefaultCase(o){return n=o,i}};return t(i),[e,r,n]}function Z2t(t){return typeof t=="function"}function Q2t(t,e){let[r,n,i]=_X(e),o;if(Z2t(t))o=()=>E9(t());else{const a=E9(t);o=()=>a}function c(a=o(),g){let v=[r[g.type],...n.filter(({matcher:x})=>x(g)).map(({reducer:x})=>x)];return v.filter(x=>!!x).length===0&&(v=[i]),v.reduce((x,k)=>{if(k)if(i0(x)){const I=k(x,g);return I===void 0?x:I}else{if(Cg(x))return yX(x,I=>k(I,g));{const I=k(x,g);if(I===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return x},a)}return c.getInitialState=o,c}var J2t=Symbol.for("rtk-slice-createasyncthunk");function twt(t,e){return`${t}/${e}`}function ewt({creators:t}={}){const e=t?.asyncThunk?.[J2t];return function(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(bg(11));const o=(typeof r.reducers=="function"?r.reducers(iwt()):r.reducers)||{},c=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(G,z){const j=typeof G=="string"?G:G.type;if(!j)throw new Error(bg(12));if(j in a.sliceCaseReducersByType)throw new Error(bg(13));return a.sliceCaseReducersByType[j]=z,g},addMatcher(G,z){return a.sliceMatchers.push({matcher:G,reducer:z}),g},exposeAction(G,z){return a.actionCreators[G]=z,g},exposeCaseReducer(G,z){return a.sliceCaseReducersByName[G]=z,g}};c.forEach(G=>{const z=o[G],j={reducerName:G,type:twt(n,G),createNotation:typeof r.reducers=="function"};owt(z)?lwt(j,z,g,e):awt(j,z,g)});function v(){const[G={},z=[],j=void 0]=typeof r.extraReducers=="function"?_X(r.extraReducers):[r.extraReducers],X={...G,...a.sliceCaseReducersByType};return Q2t(r.initialState,Y=>{for(let et in X)Y.addCase(et,X[et]);for(let et of a.sliceMatchers)Y.addMatcher(et.matcher,et.reducer);for(let et of z)Y.addMatcher(et.matcher,et.reducer);j&&Y.addDefaultCase(j)})}const x=G=>G,k=new Map,I=new WeakMap;let S;function P(G,z){return S||(S=v()),S(G,z)}function D(){return S||(S=v()),S.getInitialState()}function U(G,z=!1){function j(Y){let et=Y[G];return typeof et>"u"&&z&&(et=$5(I,j,D)),et}function X(Y=x){const et=$5(k,z,()=>new WeakMap);return $5(et,Y,()=>{const st={};for(const[it,vt]of Object.entries(r.selectors??{}))st[it]=rwt(vt,Y,()=>$5(I,Y,D),z);return st})}return{reducerPath:G,getSelectors:X,get selectors(){return X(j)},selectSlice:j}}const H={name:n,reducer:P,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:D,...U(i),injectInto(G,{reducerPath:z,...j}={}){const X=z??i;return G.inject({reducerPath:X,reducer:P},j),{...H,...U(X,!0)}}};return H}}function rwt(t,e,r,n){function i(o,...c){let a=e(o);return typeof a>"u"&&n&&(a=r()),t(a,...c)}return i.unwrapped=t,i}var nwt=ewt();function iwt(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function awt({type:t,reducerName:e,createNotation:r},n,i){let o,c;if("reducer"in n){if(r&&!swt(n))throw new Error(bg(17));o=n.reducer,c=n.prepare}else o=n;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,c?S9(t,c):S9(t))}function owt(t){return t._reducerDefinitionType==="asyncThunk"}function swt(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lwt({type:t,reducerName:e},r,n,i){if(!i)throw new Error(bg(18));const{payloadCreator:o,fulfilled:c,pending:a,rejected:g,settled:v,options:x}=r,k=i(t,o,x);n.exposeAction(e,k),c&&n.addCase(k.fulfilled,c),a&&n.addCase(k.pending,a),g&&n.addCase(k.rejected,g),v&&n.addMatcher(k.settled,v),n.exposeCaseReducer(e,{fulfilled:c||V5,pending:a||V5,rejected:g||V5,settled:v||V5})}function V5(){}function bg(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function xX(t,e,r){e.forEach(n=>{t(n,r),n.layers&&n.layers.length>0&&xX(t,n.layers,n)})}const cwt={mapConfigs:{}},wX=nwt({name:"mapConfig",initialState:cwt,reducers:{setMapConfig:(t,e)=>{const r=e.payload.mapConfig,n=e.payload.key;t.mapConfigs[n]=r},removeMapConfig:(t,e)=>{delete t.mapConfigs[e.payload.key]},setLayerInMapConfig:(t,e)=>{const{mapConfigKey:r,layer:n}=e.payload,i=t.mapConfigs[r];if(i){for(let o=0;o<i.layers.length;o++)if(i.layers[o].uuid===n.uuid){i.layers[o]=n;break}}},removeLayerFromMapConfig:(t,e)=>{const{mapConfigKey:r,layerUuid:n}=e.payload,i=t.mapConfigs[r];if(i){const o=i.layers.findIndex(c=>c.uuid===n);o!==-1&&(delete i.layers[o],xX(function(c,a){a&&a.layers&&(a.layers=a.layers.filter(g=>g.uuid!==n))},i.layerOrder))}},updateLayerOrder:(t,e)=>{const{mapConfigKey:r,newOrder:n}=e.payload,i=t.mapConfigs[r];i&&(i.layerOrder=n)},setMasterVisible(t,e){const{mapConfigKey:r,layerId:n,masterVisible:i}=e.payload,o=t.mapConfigs[r];if(o){const c=o.layers.findIndex(a=>a.uuid===n);if(c!==-1){const a=o.layers[c];if(a){const g=[...o.layers];a.type==="folder"&&o.layerOrder.forEach(v=>{v.uuid===n&&v.layers?.forEach(x=>{const k=o.layers.findIndex(S=>S.uuid===x.uuid),I=g[k];g[k]={...I,masterVisible:i},I?.type==="vt"&&I?.config?.layers&&(I.config.layers=I.config.layers.map(S=>({...S,masterVisible:i})))})}),a.type==="vt"&&a?.config?.layers&&(a.config.layers=a.config.layers.map(v=>({...v,masterVisible:i}))),t.mapConfigs[r].layers=g}}}}}});K2t({reducer:{mapConfig:wX.reducer}});const{setMapConfig:A4t,removeMapConfig:k4t,setLayerInMapConfig:I4t,removeLayerFromMapConfig:R4t,updateLayerOrder:N4t,setMasterVisible:L4t}=wX.actions;ba(yr.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}));qr(Py)({marginLeft:"-100px",marginRight:"-21px",paddingLeft:"53px",borderRadius:"0px",boxShadow:"none",backgroundColor:"rgb(0, 0, 0, 0)"});qr(d0)({marginLeft:"61px"});qr(Oy)({padding:"4px",marginTop:"-3px"});qr(Oy)({marginLeft:"20px"});qr(EP)({paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"});qr(TP)({minWidth:"30px"});qr(Oy)({marginRight:"0px",padding:"0px"});qr(d0)(({open:t})=>({display:t?"block":"none"}));qr(Ww)({marginLeft:"50px"});qr(Ww)({marginTop:"15px"});const gw={black:"#000",white:"#fff"},Rb={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Nb={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Lb={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Mb={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Pb={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Q1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},uwt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ag(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const bp="$$material";function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NT.apply(null,arguments)}function hwt(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dwt(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var fwt=(function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dwt(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=hwt(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t})(),Nh="-ms-",LT="-moz-",gs="-webkit-",SX="comm",D4="rule",B4="decl",pwt="@import",EX="@keyframes",mwt="@layer",gwt=Math.abs,_A=String.fromCharCode,ywt=Object.assign;function vwt(t,e){return lh(t,0)^45?(((e<<2^lh(t,0))<<2^lh(t,1))<<2^lh(t,2))<<2^lh(t,3):0}function TX(t){return t.trim()}function bwt(t,e){return(t=e.exec(t))?t[0]:t}function vs(t,e,r){return t.replace(e,r)}function KL(t,e){return t.indexOf(e)}function lh(t,e){return t.charCodeAt(e)|0}function yw(t,e,r){return t.slice(e,r)}function hm(t){return t.length}function z4(t){return t.length}function U5(t,e){return e.push(t),t}function _wt(t,e){return t.map(e).join("")}var xA=1,ex=1,CX=0,bd=0,mu=0,Ex="";function wA(t,e,r,n,i,o,c){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:xA,column:ex,length:c,return:""}}function J1(t,e){return ywt(wA("",null,null,"",null,null,0),t,{length:-t.length},e)}function xwt(){return mu}function wwt(){return mu=bd>0?lh(Ex,--bd):0,ex--,mu===10&&(ex=1,xA--),mu}function tf(){return mu=bd<CX?lh(Ex,bd++):0,ex++,mu===10&&(ex=1,xA++),mu}function Rm(){return lh(Ex,bd)}function CE(){return bd}function iS(t,e){return yw(Ex,t,e)}function vw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AX(t){return xA=ex=1,CX=hm(Ex=t),bd=0,[]}function kX(t){return Ex="",t}function AE(t){return TX(iS(bd-1,ZL(t===91?t+2:t===40?t+1:t)))}function Swt(t){for(;(mu=Rm())&&mu<33;)tf();return vw(t)>2||vw(mu)>3?"":" "}function Ewt(t,e){for(;--e&&tf()&&!(mu<48||mu>102||mu>57&&mu<65||mu>70&&mu<97););return iS(t,CE()+(e<6&&Rm()==32&&tf()==32))}function ZL(t){for(;tf();)switch(mu){case t:return bd;case 34:case 39:t!==34&&t!==39&&ZL(mu);break;case 40:t===41&&ZL(t);break;case 92:tf();break}return bd}function Twt(t,e){for(;tf()&&t+mu!==57;)if(t+mu===84&&Rm()===47)break;return"/*"+iS(e,bd-1)+"*"+_A(t===47?t:tf())}function Cwt(t){for(;!vw(Rm());)tf();return iS(t,bd)}function Awt(t){return kX(kE("",null,null,null,[""],t=AX(t),0,[0],t))}function kE(t,e,r,n,i,o,c,a,g){for(var v=0,x=0,k=c,I=0,S=0,P=0,D=1,U=1,H=1,G=0,z="",j=i,X=o,Y=n,et=z;U;)switch(P=G,G=tf()){case 40:if(P!=108&&lh(et,k-1)==58){KL(et+=vs(AE(G),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:et+=AE(G);break;case 9:case 10:case 13:case 32:et+=Swt(P);break;case 92:et+=Ewt(CE()-1,7);continue;case 47:switch(Rm()){case 42:case 47:U5(kwt(Twt(tf(),CE()),e,r),g);break;default:et+="/"}break;case 123*D:a[v++]=hm(et)*H;case 125*D:case 59:case 0:switch(G){case 0:case 125:U=0;case 59+x:H==-1&&(et=vs(et,/\f/g,"")),S>0&&hm(et)-k&&U5(S>32?A9(et+";",n,r,k-1):A9(vs(et," ","")+";",n,r,k-2),g);break;case 59:et+=";";default:if(U5(Y=C9(et,e,r,v,x,i,a,z,j=[],X=[],k),o),G===123)if(x===0)kE(et,e,Y,Y,j,o,k,a,X);else switch(I===99&&lh(et,3)===110?100:I){case 100:case 108:case 109:case 115:kE(t,Y,Y,n&&U5(C9(t,Y,Y,0,0,i,a,z,i,j=[],k),X),i,X,k,a,n?j:X);break;default:kE(et,Y,Y,Y,[""],X,0,a,X)}}v=x=S=0,D=H=1,z=et="",k=c;break;case 58:k=1+hm(et),S=P;default:if(D<1){if(G==123)--D;else if(G==125&&D++==0&&wwt()==125)continue}switch(et+=_A(G),G*D){case 38:H=x>0?1:(et+="\f",-1);break;case 44:a[v++]=(hm(et)-1)*H,H=1;break;case 64:Rm()===45&&(et+=AE(tf())),I=Rm(),x=k=hm(z=et+=Cwt(CE())),G++;break;case 45:P===45&&hm(et)==2&&(D=0)}}return o}function C9(t,e,r,n,i,o,c,a,g,v,x){for(var k=i-1,I=i===0?o:[""],S=z4(I),P=0,D=0,U=0;P<n;++P)for(var H=0,G=yw(t,k+1,k=gwt(D=c[P])),z=t;H<S;++H)(z=TX(D>0?I[H]+" "+G:vs(G,/&\f/g,I[H])))&&(g[U++]=z);return wA(t,e,r,i===0?D4:a,g,v,x)}function kwt(t,e,r){return wA(t,e,r,SX,_A(xwt()),yw(t,2,-2),0)}function A9(t,e,r,n){return wA(t,e,r,B4,yw(t,0,n),yw(t,n+1,-1),n)}function O_(t,e){for(var r="",n=z4(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Iwt(t,e,r,n){switch(t.type){case mwt:if(t.children.length)break;case pwt:case B4:return t.return=t.return||t.value;case SX:return"";case EX:return t.return=t.value+"{"+O_(t.children,n)+"}";case D4:t.value=t.props.join(",")}return hm(r=O_(t.children,n))?t.return=t.value+"{"+r+"}":""}function Rwt(t){var e=z4(t);return function(r,n,i,o){for(var c="",a=0;a<e;a++)c+=t[a](r,n,i,o)||"";return c}}function Nwt(t){return function(e){e.root||(e=e.return)&&t(e)}}function IX(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Lwt=function(e,r,n){for(var i=0,o=0;i=o,o=Rm(),i===38&&o===12&&(r[n]=1),!vw(o);)tf();return iS(e,bd)},Mwt=function(e,r){var n=-1,i=44;do switch(vw(i)){case 0:i===38&&Rm()===12&&(r[n]=1),e[n]+=Lwt(bd-1,r,n);break;case 2:e[n]+=AE(i);break;case 4:if(i===44){e[++n]=Rm()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=_A(i)}while(i=tf());return e},Pwt=function(e,r){return kX(Mwt(AX(e),r))},k9=new WeakMap,Owt=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!k9.get(n))&&!i){k9.set(e,!0);for(var o=[],c=Pwt(r,o),a=n.props,g=0,v=0;g<c.length;g++)for(var x=0;x<a.length;x++,v++)e.props[v]=o[g]?c[g].replace(/&\f/g,a[x]):a[x]+" "+c[g]}}},Dwt=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function RX(t,e){switch(vwt(t,e)){case 5103:return gs+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gs+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gs+t+LT+t+Nh+t+t;case 6828:case 4268:return gs+t+Nh+t+t;case 6165:return gs+t+Nh+"flex-"+t+t;case 5187:return gs+t+vs(t,/(\w+).+(:[^]+)/,gs+"box-$1$2"+Nh+"flex-$1$2")+t;case 5443:return gs+t+Nh+"flex-item-"+vs(t,/flex-|-self/,"")+t;case 4675:return gs+t+Nh+"flex-line-pack"+vs(t,/align-content|flex-|-self/,"")+t;case 5548:return gs+t+Nh+vs(t,"shrink","negative")+t;case 5292:return gs+t+Nh+vs(t,"basis","preferred-size")+t;case 6060:return gs+"box-"+vs(t,"-grow","")+gs+t+Nh+vs(t,"grow","positive")+t;case 4554:return gs+vs(t,/([^-])(transform)/g,"$1"+gs+"$2")+t;case 6187:return vs(vs(vs(t,/(zoom-|grab)/,gs+"$1"),/(image-set)/,gs+"$1"),t,"")+t;case 5495:case 3959:return vs(t,/(image-set\([^]*)/,gs+"$1$`$1");case 4968:return vs(vs(t,/(.+:)(flex-)?(.*)/,gs+"box-pack:$3"+Nh+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gs+t+t;case 4095:case 3583:case 4068:case 2532:return vs(t,/(.+)-inline(.+)/,gs+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hm(t)-1-e>6)switch(lh(t,e+1)){case 109:if(lh(t,e+4)!==45)break;case 102:return vs(t,/(.+:)(.+)-([^]+)/,"$1"+gs+"$2-$3$1"+LT+(lh(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~KL(t,"stretch")?RX(vs(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(lh(t,e+1)!==115)break;case 6444:switch(lh(t,hm(t)-3-(~KL(t,"!important")&&10))){case 107:return vs(t,":",":"+gs)+t;case 101:return vs(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gs+(lh(t,14)===45?"inline-":"")+"box$3$1"+gs+"$2$3$1"+Nh+"$2box$3")+t}break;case 5936:switch(lh(t,e+11)){case 114:return gs+t+Nh+vs(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gs+t+Nh+vs(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gs+t+Nh+vs(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gs+t+Nh+t+t}return t}var Bwt=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case B4:e.return=RX(e.value,e.length);break;case EX:return O_([J1(e,{value:vs(e.value,"@","@"+gs)})],i);case D4:if(e.length)return _wt(e.props,function(o){switch(bwt(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return O_([J1(e,{props:[vs(o,/:(read-\w+)/,":"+LT+"$1")]})],i);case"::placeholder":return O_([J1(e,{props:[vs(o,/:(plac\w+)/,":"+gs+"input-$1")]}),J1(e,{props:[vs(o,/:(plac\w+)/,":"+LT+"$1")]}),J1(e,{props:[vs(o,/:(plac\w+)/,Nh+"input-$1")]})],i)}return""})}},zwt=[Bwt],Fwt=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(D){var U=D.getAttribute("data-emotion");U.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var i=e.stylisPlugins||zwt,o={},c,a=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(D){for(var U=D.getAttribute("data-emotion").split(" "),H=1;H<U.length;H++)o[U[H]]=!0;a.push(D)});var g,v=[Owt,Dwt];{var x,k=[Iwt,Nwt(function(D){x.insert(D)})],I=Rwt(v.concat(i,k)),S=function(U){return O_(Awt(U),I)};g=function(U,H,G,z){x=G,S(U?U+"{"+H.styles+"}":H.styles),z&&(P.inserted[H.name]=!0)}}var P={key:r,sheet:new fwt({key:r,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:g};return P.sheet.hydrate(a),P},hN={exports:{}},Is={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I9;function jwt(){if(I9)return Is;I9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,g=t?Symbol.for("react.async_mode"):60111,v=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,k=t?Symbol.for("react.suspense"):60113,I=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,P=t?Symbol.for("react.lazy"):60116,D=t?Symbol.for("react.block"):60121,U=t?Symbol.for("react.fundamental"):60117,H=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function z(X){if(typeof X=="object"&&X!==null){var Y=X.$$typeof;switch(Y){case e:switch(X=X.type,X){case g:case v:case n:case o:case i:case k:return X;default:switch(X=X&&X.$$typeof,X){case a:case x:case P:case S:case c:return X;default:return Y}}case r:return Y}}}function j(X){return z(X)===v}return Is.AsyncMode=g,Is.ConcurrentMode=v,Is.ContextConsumer=a,Is.ContextProvider=c,Is.Element=e,Is.ForwardRef=x,Is.Fragment=n,Is.Lazy=P,Is.Memo=S,Is.Portal=r,Is.Profiler=o,Is.StrictMode=i,Is.Suspense=k,Is.isAsyncMode=function(X){return j(X)||z(X)===g},Is.isConcurrentMode=j,Is.isContextConsumer=function(X){return z(X)===a},Is.isContextProvider=function(X){return z(X)===c},Is.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},Is.isForwardRef=function(X){return z(X)===x},Is.isFragment=function(X){return z(X)===n},Is.isLazy=function(X){return z(X)===P},Is.isMemo=function(X){return z(X)===S},Is.isPortal=function(X){return z(X)===r},Is.isProfiler=function(X){return z(X)===o},Is.isStrictMode=function(X){return z(X)===i},Is.isSuspense=function(X){return z(X)===k},Is.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===n||X===v||X===o||X===i||X===k||X===I||typeof X=="object"&&X!==null&&(X.$$typeof===P||X.$$typeof===S||X.$$typeof===c||X.$$typeof===a||X.$$typeof===x||X.$$typeof===U||X.$$typeof===H||X.$$typeof===G||X.$$typeof===D)},Is.typeOf=z,Is}var R9;function $wt(){return R9||(R9=1,hN.exports=jwt()),hN.exports}var dN,N9;function Vwt(){if(N9)return dN;N9=1;var t=$wt(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=n,o[t.Memo]=i;function c(P){return t.isMemo(P)?i:o[P.$$typeof]||e}var a=Object.defineProperty,g=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,k=Object.getPrototypeOf,I=Object.prototype;function S(P,D,U){if(typeof D!="string"){if(I){var H=k(D);H&&H!==I&&S(P,H,U)}var G=g(D);v&&(G=G.concat(v(D)));for(var z=c(P),j=c(D),X=0;X<G.length;++X){var Y=G[X];if(!r[Y]&&!(U&&U[Y])&&!(j&&j[Y])&&!(z&&z[Y])){var et=x(D,Y);try{a(P,Y,et)}catch{}}}}return P}return dN=S,dN}Vwt();var Uwt=!0;function NX(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var F4=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Uwt===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},j4=function(e,r,n){F4(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function qwt(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Gwt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hwt=/[A-Z]|^ms/g,Xwt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LX=function(e){return e.charCodeAt(1)===45},L9=function(e){return e!=null&&typeof e!="boolean"},fN=IX(function(t){return LX(t)?t:t.replace(Hwt,"-$&").toLowerCase()}),M9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Xwt,function(n,i,o){return dm={name:i,styles:o,next:dm},i})}return Gwt[e]!==1&&!LX(e)&&typeof r=="number"&&r!==0?r+"px":r};function bw(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return dm={name:i.name,styles:i.styles,next:dm},i.name;var o=r;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)dm={name:c.name,styles:c.styles,next:dm},c=c.next;var a=o.styles+";";return a}return Wwt(t,e,r)}case"function":{if(t!==void 0){var g=dm,v=r(t);return dm=g,bw(t,e,v)}break}}var x=r;if(e==null)return x;var k=e[x];return k!==void 0?k:x}function Wwt(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=bw(t,e,r[i])+";";else for(var o in r){var c=r[o];if(typeof c!="object"){var a=c;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":L9(a)&&(n+=fN(o)+":"+M9(o,a)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var g=0;g<c.length;g++)L9(c[g])&&(n+=fN(o)+":"+M9(o,c[g])+";");else{var v=bw(t,e,c);switch(o){case"animation":case"animationName":{n+=fN(o)+":"+v+";";break}default:n+=o+"{"+v+"}"}}}return n}var P9=/label:\s*([^\s;{]+)\s*(;|$)/g,dm;function aS(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";dm=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,i+=bw(r,e,o);else{var c=o;i+=c[0]}for(var a=1;a<t.length;a++)if(i+=bw(r,e,t[a]),n){var g=o;i+=g[a]}P9.lastIndex=0;for(var v="",x;(x=P9.exec(i))!==null;)v+="-"+x[1];var k=qwt(i)+v;return{name:k,styles:i,next:dm}}var Ywt=function(e){return e()},MX=$_.useInsertionEffect?$_.useInsertionEffect:!1,PX=MX||Ywt,O9=MX||ut.useLayoutEffect,OX=ut.createContext(typeof HTMLElement<"u"?Fwt({key:"css"}):null);OX.Provider;var $4=function(e){return ut.forwardRef(function(r,n){var i=ut.useContext(OX);return e(r,i,n)})},oS=ut.createContext({}),V4={}.hasOwnProperty,QL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Kwt=function(e,r){var n={};for(var i in r)V4.call(r,i)&&(n[i]=r[i]);return n[QL]=e,n},Zwt=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return F4(r,n,i),PX(function(){return j4(r,n,i)}),null},Qwt=$4(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[QL],o=[n],c="";typeof t.className=="string"?c=NX(e.registered,o,t.className):t.className!=null&&(c=t.className+" ");var a=aS(o,void 0,ut.useContext(oS));c+=e.key+"-"+a.name;var g={};for(var v in t)V4.call(t,v)&&v!=="css"&&v!==QL&&(g[v]=t[v]);return g.className=c,r&&(g.ref=r),ut.createElement(ut.Fragment,null,ut.createElement(Zwt,{cache:e,serialized:a,isStringTag:typeof i=="string"}),ut.createElement(i,g))}),Jwt=Qwt,D9=function(e,r){var n=arguments;if(r==null||!V4.call(r,"css"))return ut.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Jwt,o[1]=Kwt(e,r);for(var c=2;c<i;c++)o[c]=n[c];return ut.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(D9||(D9={}));var tSt=$4(function(t,e){var r=t.styles,n=aS([r],void 0,ut.useContext(oS)),i=ut.useRef();return O9(function(){var o=e.key+"-global",c=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,g=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(c.before=e.sheet.tags[0]),g!==null&&(a=!0,g.setAttribute("data-emotion",o),c.hydrate([g])),i.current=[c,a],function(){c.flush()}},[e]),O9(function(){var o=i.current,c=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&j4(e,n.next,!0),c.tags.length){var g=c.tags[c.tags.length-1].nextElementSibling;c.before=g,c.flush()}e.insert("",n,c,!1)},[e,n.name]),null});function U4(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return aS(e)}function sS(){var t=U4.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var eSt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rSt=IX(function(t){return eSt.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),nSt=rSt,iSt=function(e){return e!=="theme"},B9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nSt:iSt},z9=function(e,r,n){var i;if(r){var o=r.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},aSt=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return F4(r,n,i),PX(function(){return j4(r,n,i)}),null},oSt=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,c;r!==void 0&&(o=r.label,c=r.target);var a=z9(e,r,n),g=a||B9(i),v=!g("as");return function(){var x=arguments,k=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&k.push("label:"+o+";"),x[0]==null||x[0].raw===void 0)k.push.apply(k,x);else{var I=x[0];k.push(I[0]);for(var S=x.length,P=1;P<S;P++)k.push(x[P],I[P])}var D=$4(function(U,H,G){var z=v&&U.as||i,j="",X=[],Y=U;if(U.theme==null){Y={};for(var et in U)Y[et]=U[et];Y.theme=ut.useContext(oS)}typeof U.className=="string"?j=NX(H.registered,X,U.className):U.className!=null&&(j=U.className+" ");var st=aS(k.concat(X),H.registered,Y);j+=H.key+"-"+st.name,c!==void 0&&(j+=" "+c);var it=v&&a===void 0?B9(z):g,vt={};for(var at in U)v&&at==="as"||it(at)&&(vt[at]=U[at]);return vt.className=j,G&&(vt.ref=G),ut.createElement(ut.Fragment,null,ut.createElement(aSt,{cache:H,serialized:st,isStringTag:typeof z=="string"}),ut.createElement(z,vt))});return D.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",D.defaultProps=e.defaultProps,D.__emotion_real=D,D.__emotion_base=i,D.__emotion_styles=k,D.__emotion_forwardProp=a,Object.defineProperty(D,"toString",{value:function(){return"."+c}}),D.withComponent=function(U,H){var G=t(U,NT({},r,H,{shouldForwardProp:z9(D,H,!0)}));return G.apply(void 0,k)},D}},sSt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],JL=oSt.bind(null);sSt.forEach(function(t){JL[t]=JL(t)});function lSt(t){return t==null||Object.keys(t).length===0}function DX(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(lSt(i)?r:i):e;return Yt.jsx(tSt,{styles:n})}function BX(t,e){return JL(t,e)}function cSt(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const F9=[];function vy(t){return F9[0]=t,aS(F9)}var pN={exports:{}},el={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j9;function uSt(){if(j9)return el;j9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function P(D){if(typeof D=="object"&&D!==null){var U=D.$$typeof;switch(U){case t:switch(D=D.type,D){case r:case i:case n:case g:case v:case I:return D;default:switch(D=D&&D.$$typeof,D){case c:case a:case k:case x:return D;case o:return D;default:return U}}case e:return U}}}return el.ContextConsumer=o,el.ContextProvider=c,el.Element=t,el.ForwardRef=a,el.Fragment=r,el.Lazy=k,el.Memo=x,el.Portal=e,el.Profiler=i,el.StrictMode=n,el.Suspense=g,el.SuspenseList=v,el.isContextConsumer=function(D){return P(D)===o},el.isContextProvider=function(D){return P(D)===c},el.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},el.isForwardRef=function(D){return P(D)===a},el.isFragment=function(D){return P(D)===r},el.isLazy=function(D){return P(D)===k},el.isMemo=function(D){return P(D)===x},el.isPortal=function(D){return P(D)===e},el.isProfiler=function(D){return P(D)===i},el.isStrictMode=function(D){return P(D)===n},el.isSuspense=function(D){return P(D)===g},el.isSuspenseList=function(D){return P(D)===v},el.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===i||D===n||D===g||D===v||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===x||D.$$typeof===c||D.$$typeof===o||D.$$typeof===a||D.$$typeof===S||D.getModuleId!==void 0)},el.typeOf=P,el}var $9;function hSt(){return $9||($9=1,pN.exports=uSt()),pN.exports}var zX=hSt();function mm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function FX(t){if(ut.isValidElement(t)||zX.isValidElementType(t)||!mm(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=FX(t[r])}),e}function Vu(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return mm(t)&&mm(e)&&Object.keys(e).forEach(i=>{ut.isValidElement(e[i])||zX.isValidElementType(e[i])?n[i]=e[i]:mm(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&mm(t[i])?n[i]=Vu(t[i],e[i],r):r.clone?n[i]=mm(e[i])?FX(e[i]):e[i]:n[i]=e[i]}),n}const dSt=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function fSt(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,o=dSt(e),c=Object.keys(o);function a(I){return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${r})`}function g(I){return`@media (max-width:${(typeof e[I]=="number"?e[I]:I)-n/100}${r})`}function v(I,S){const P=c.indexOf(S);return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${r}) and (max-width:${(P!==-1&&typeof e[c[P]]=="number"?e[c[P]]:S)-n/100}${r})`}function x(I){return c.indexOf(I)+1<c.length?v(I,c[c.indexOf(I)+1]):a(I)}function k(I){const S=c.indexOf(I);return S===0?a(c[1]):S===c.length-1?g(c[S]):v(I,c[c.indexOf(I)+1]).replace("@media","@media not all and")}return{keys:c,values:o,up:a,down:g,between:v,only:x,not:k,unit:r,...i}}function V9(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(n.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return r.length?r.reduce((n,i)=>{const o=e[i];return delete n[i],n[i]=o,n},{...e}):e}function pSt(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function mSt(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(o)}function gSt(t){const e=(o,c)=>o.replace("@media",c?`@container ${c}`:"@container");function r(o,c){o.up=(...a)=>e(t.breakpoints.up(...a),c),o.down=(...a)=>e(t.breakpoints.down(...a),c),o.between=(...a)=>e(t.breakpoints.between(...a),c),o.only=(...a)=>e(t.breakpoints.only(...a),c),o.not=(...a)=>{const g=e(t.breakpoints.not(...a),c);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const n={},i=o=>(r(n,o),n);return r(i),{...t,containerQueries:i}}const ySt={borderRadius:4};function V2(t,e){return e?Vu(t,e,{clone:!1}):t}const SA={xs:0,sm:600,md:900,lg:1200,xl:1536},U9={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${SA[t]}px)`},vSt={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:SA[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function Ep(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const o=n.breakpoints||U9;return e.reduce((c,a,g)=>(c[o.up(o.keys[g])]=r(e[g]),c),{})}if(typeof e=="object"){const o=n.breakpoints||U9;return Object.keys(e).reduce((c,a)=>{if(pSt(o.keys,a)){const g=mSt(n.containerQueries?n:vSt,a);g&&(c[g]=r(e[a],a))}else if(Object.keys(o.values||SA).includes(a)){const g=o.up(a);c[g]=r(e[a],a)}else{const g=a;c[g]=e[g]}return c},{})}return r(e)}function jX(t={}){return t.keys?.reduce((r,n)=>{const i=t.up(n);return r[i]={},r},{})||{}}function tM(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function bSt(t,...e){const r=jX(t),n=[r,...e].reduce((i,o)=>Vu(i,o),{});return tM(Object.keys(r),n)}function _St(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,o)=>{o<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function mN({values:t,breakpoints:e,base:r}){const n=r||_St(t,e),i=Object.keys(n);if(i.length===0)return t;let o;return i.reduce((c,a,g)=>(Array.isArray(t)?(c[a]=t[g]!=null?t[g]:t[o],o=g):typeof t=="object"?(c[a]=t[a]!=null?t[a]:t[o],o=a):c[a]=t,c),{})}function cn(t){if(typeof t!="string")throw new Error(Ag(7));return t.charAt(0).toUpperCase()+t.slice(1)}function EA(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function MT(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=EA(t,r)||n,e&&(i=e(i,n,t)),i}function nu(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,o=c=>{if(c[e]==null)return null;const a=c[e],g=c.theme,v=EA(g,n)||{};return Ep(c,a,k=>{let I=MT(v,i,k);return k===I&&typeof k=="string"&&(I=MT(v,i,`${e}${k==="default"?"":cn(k)}`,k)),r===!1?I:{[r]:I}})};return o.propTypes={},o.filterProps=[e],o}function xSt(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const wSt={m:"margin",p:"padding"},SSt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},q9={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ESt=xSt(t=>{if(t.length>2)if(q9[t])t=q9[t];else return[t];const[e,r]=t.split(""),n=wSt[e],i=SSt[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),q4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],G4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...q4,...G4];function lS(t,e,r,n){const i=EA(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),a=i[c];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function TA(t){return lS(t,"spacing",8)}function o0(t,e){return typeof e=="string"||e==null?e:t(e)}function TSt(t,e){return r=>t.reduce((n,i)=>(n[i]=o0(e,r),n),{})}function CSt(t,e,r,n){if(!e.includes(r))return null;const i=ESt(r),o=TSt(i,n),c=t[r];return Ep(t,c,o)}function $X(t,e){const r=TA(t.theme);return Object.keys(t).map(n=>CSt(t,e,n,r)).reduce(V2,{})}function Bc(t){return $X(t,q4)}Bc.propTypes={};Bc.filterProps=q4;function zc(t){return $X(t,G4)}zc.propTypes={};zc.filterProps=G4;function VX(t=8,e=TA({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return r.mui=!0,r}function CA(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>e[o]?V2(i,e[o](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Sf(t){return typeof t!="number"?t:`${t}px solid`}function Uf(t,e){return nu({prop:t,themeKey:"borders",transform:e})}const ASt=Uf("border",Sf),kSt=Uf("borderTop",Sf),ISt=Uf("borderRight",Sf),RSt=Uf("borderBottom",Sf),NSt=Uf("borderLeft",Sf),LSt=Uf("borderColor"),MSt=Uf("borderTopColor"),PSt=Uf("borderRightColor"),OSt=Uf("borderBottomColor"),DSt=Uf("borderLeftColor"),BSt=Uf("outline",Sf),zSt=Uf("outlineColor"),AA=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=lS(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:o0(e,n)});return Ep(t,t.borderRadius,r)}return null};AA.propTypes={};AA.filterProps=["borderRadius"];CA(ASt,kSt,ISt,RSt,NSt,LSt,MSt,PSt,OSt,DSt,AA,BSt,zSt);const kA=t=>{if(t.gap!==void 0&&t.gap!==null){const e=lS(t.theme,"spacing",8),r=n=>({gap:o0(e,n)});return Ep(t,t.gap,r)}return null};kA.propTypes={};kA.filterProps=["gap"];const IA=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=lS(t.theme,"spacing",8),r=n=>({columnGap:o0(e,n)});return Ep(t,t.columnGap,r)}return null};IA.propTypes={};IA.filterProps=["columnGap"];const RA=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=lS(t.theme,"spacing",8),r=n=>({rowGap:o0(e,n)});return Ep(t,t.rowGap,r)}return null};RA.propTypes={};RA.filterProps=["rowGap"];const FSt=nu({prop:"gridColumn"}),jSt=nu({prop:"gridRow"}),$St=nu({prop:"gridAutoFlow"}),VSt=nu({prop:"gridAutoColumns"}),USt=nu({prop:"gridAutoRows"}),qSt=nu({prop:"gridTemplateColumns"}),GSt=nu({prop:"gridTemplateRows"}),HSt=nu({prop:"gridTemplateAreas"}),XSt=nu({prop:"gridArea"});CA(kA,IA,RA,FSt,jSt,$St,VSt,USt,qSt,GSt,HSt,XSt);function D_(t,e){return e==="grey"?e:t}const WSt=nu({prop:"color",themeKey:"palette",transform:D_}),YSt=nu({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:D_}),KSt=nu({prop:"backgroundColor",themeKey:"palette",transform:D_});CA(WSt,YSt,KSt);function Zd(t){return t<=1&&t!==0?`${t*100}%`:t}const ZSt=nu({prop:"width",transform:Zd}),H4=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{const n=t.theme?.breakpoints?.values?.[r]||SA[r];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Zd(r)}};return Ep(t,t.maxWidth,e)}return null};H4.filterProps=["maxWidth"];const QSt=nu({prop:"minWidth",transform:Zd}),JSt=nu({prop:"height",transform:Zd}),t5t=nu({prop:"maxHeight",transform:Zd}),e5t=nu({prop:"minHeight",transform:Zd});nu({prop:"size",cssProperty:"width",transform:Zd});nu({prop:"size",cssProperty:"height",transform:Zd});const r5t=nu({prop:"boxSizing"});CA(ZSt,H4,QSt,JSt,t5t,e5t,r5t);const cS={border:{themeKey:"borders",transform:Sf},borderTop:{themeKey:"borders",transform:Sf},borderRight:{themeKey:"borders",transform:Sf},borderBottom:{themeKey:"borders",transform:Sf},borderLeft:{themeKey:"borders",transform:Sf},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sf},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:AA},color:{themeKey:"palette",transform:D_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:D_},backgroundColor:{themeKey:"palette",transform:D_},p:{style:zc},pt:{style:zc},pr:{style:zc},pb:{style:zc},pl:{style:zc},px:{style:zc},py:{style:zc},padding:{style:zc},paddingTop:{style:zc},paddingRight:{style:zc},paddingBottom:{style:zc},paddingLeft:{style:zc},paddingX:{style:zc},paddingY:{style:zc},paddingInline:{style:zc},paddingInlineStart:{style:zc},paddingInlineEnd:{style:zc},paddingBlock:{style:zc},paddingBlockStart:{style:zc},paddingBlockEnd:{style:zc},m:{style:Bc},mt:{style:Bc},mr:{style:Bc},mb:{style:Bc},ml:{style:Bc},mx:{style:Bc},my:{style:Bc},margin:{style:Bc},marginTop:{style:Bc},marginRight:{style:Bc},marginBottom:{style:Bc},marginLeft:{style:Bc},marginX:{style:Bc},marginY:{style:Bc},marginInline:{style:Bc},marginInlineStart:{style:Bc},marginInlineEnd:{style:Bc},marginBlock:{style:Bc},marginBlockStart:{style:Bc},marginBlockEnd:{style:Bc},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:kA},rowGap:{style:RA},columnGap:{style:IA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zd},maxWidth:{style:H4},minWidth:{transform:Zd},height:{transform:Zd},maxHeight:{transform:Zd},minHeight:{transform:Zd},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function n5t(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function i5t(t,e){return typeof t=="function"?t(e):t}function a5t(){function t(r,n,i,o){const c={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:g=r,themeKey:v,transform:x,style:k}=a;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const I=EA(i,v)||{};return k?k(c):Ep(c,n,P=>{let D=MT(I,x,P);return P===D&&typeof P=="string"&&(D=MT(I,x,`${r}${P==="default"?"":cn(P)}`,P)),g===!1?D:{[g]:D}})}function e(r){const{sx:n,theme:i={},nested:o}=r||{};if(!n)return null;const c=i.unstable_sxConfig??cS;function a(g){let v=g;if(typeof g=="function")v=g(i);else if(typeof g!="object")return g;if(!v)return null;const x=jX(i.breakpoints),k=Object.keys(x);let I=x;return Object.keys(v).forEach(S=>{const P=i5t(v[S],i);if(P!=null)if(typeof P=="object")if(c[S])I=V2(I,t(S,P,i,c));else{const D=Ep({theme:i},P,U=>({[S]:U}));n5t(D,P)?I[S]=e({sx:P,theme:i,nested:!0}):I=V2(I,D)}else I=V2(I,t(S,P,i,c))}),!o&&i.modularCssLayers?{"@layer sx":V9(i,tM(k,I))}:V9(i,tM(k,I))}return Array.isArray(n)?n.map(a):a(n)}return e}const Cy=a5t();Cy.filterProps=["sx"];function o5t(t,e){const r=this;if(r.vars){if(!r.colorSchemes?.[t]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return r.palette.mode===t?e:{}}function NA(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:o={},...c}=t,a=fSt(r),g=VX(i);let v=Vu({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:g,shape:{...ySt,...o}},c);return v=gSt(v),v.applyStyles=o5t,v=e.reduce((x,k)=>Vu(x,k),v),v.unstable_sxConfig={...cS,...c?.unstable_sxConfig},v.unstable_sx=function(k){return Cy({sx:k,theme:this})},v}function s5t(t){return Object.keys(t).length===0}function LA(t=null){const e=ut.useContext(oS);return!e||s5t(e)?t:e}const l5t=NA();function MA(t=l5t){return LA(t)}function gN(t){const e=vy(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function UX({styles:t,themeId:e,defaultTheme:r={}}){const n=MA(r),i=e&&n[e]||n;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(c=>gN(typeof c=="function"?c(i):c)):o=gN(o)),Yt.jsx(DX,{styles:o})}const c5t=t=>{const e={systemProps:{},otherProps:{}},r=t?.theme?.unstable_sxConfig??cS;return Object.keys(t).forEach(n=>{r[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function X4(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=c5t(r);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...c)=>{const a=e(...c);return mm(a)?{...n,...a}:n}:o={...n,...e},{...i,sx:o}}const G9=t=>t,u5t=()=>{let t=G9;return{configure(e){t=e},generate(e){return t(e)},reset(){t=G9}}},qX=u5t();function GX(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=GX(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xn(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=GX(t))&&(n&&(n+=" "),n+=e);return n}function h5t(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,o=BX("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Cy);return ut.forwardRef(function(g,v){const x=MA(r),{className:k,component:I="div",...S}=X4(g);return Yt.jsx(o,{as:I,ref:v,className:Xn(k,i?i(n):n),theme:e&&x[e]||x,...S})})}const d5t={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ea(t,e,r="Mui"){const n=d5t[e];return n?`${r}-${n}`:`${qX.generate(t)}-${e}`}function Wi(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=ea(t,i,r)}),n}function HX(t){const{variants:e,...r}=t,n={variants:e,style:vy(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=vy(i.style))}),n}const f5t=NA();function yN(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Fv(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function p5t(t){return t?(e,r)=>r[t]:null}function m5t(t,e,r){t.theme=y5t(t.theme)?r:t.theme[e]||t.theme}function IE(t,e,r){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>IE(t,i,r));if(Array.isArray(n?.variants)){let i;if(n.isProcessed)i=r?Fv(n.style,r):n.style;else{const{variants:o,...c}=n;i=r?Fv(vy(c),r):c}return XX(t,n.variants,[i],r)}return n?.isProcessed?r?Fv(vy(n.style),r):n.style:r?Fv(vy(n),r):n}function XX(t,e,r=[],n=void 0){let i;t:for(let o=0;o<e.length;o+=1){const c=e[o];if(typeof c.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!c.props(i))continue}else for(const a in c.props)if(t[a]!==c.props[a]&&t.ownerState?.[a]!==c.props[a])continue t;typeof c.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},r.push(n?Fv(vy(c.style(i)),n):c.style(i))):r.push(n?Fv(vy(c.style),n):c.style)}return r}function WX(t={}){const{themeId:e,defaultTheme:r=f5t,rootShouldForwardProp:n=yN,slotShouldForwardProp:i=yN}=t;function o(a){m5t(a,e,r)}return(a,g={})=>{cSt(a,Y=>Y.filter(et=>et!==Cy));const{name:v,slot:x,skipVariantsResolver:k,skipSx:I,overridesResolver:S=p5t(b5t(x)),...P}=g,D=v&&v.startsWith("Mui")||x?"components":"custom",U=k!==void 0?k:x&&x!=="Root"&&x!=="root"||!1,H=I||!1;let G=yN;x==="Root"||x==="root"?G=n:x?G=i:v5t(a)&&(G=void 0);const z=BX(a,{shouldForwardProp:G,label:g5t(),...P}),j=Y=>{if(Y.__emotion_real===Y)return Y;if(typeof Y=="function")return function(st){return IE(st,Y,st.theme.modularCssLayers?D:void 0)};if(mm(Y)){const et=HX(Y);return function(it){return et.variants?IE(it,et,it.theme.modularCssLayers?D:void 0):it.theme.modularCssLayers?Fv(et.style,D):et.style}}return Y},X=(...Y)=>{const et=[],st=Y.map(j),it=[];if(et.push(o),v&&S&&it.push(function(dt){const wt=dt.theme.components?.[v]?.styleOverrides;if(!wt)return null;const pt={};for(const At in wt)pt[At]=IE(dt,wt[At],dt.theme.modularCssLayers?"theme":void 0);return S(dt,pt)}),v&&!U&&it.push(function(dt){const wt=dt.theme?.components?.[v]?.variants;return wt?XX(dt,wt,[],dt.theme.modularCssLayers?"theme":void 0):null}),H||it.push(Cy),Array.isArray(st[0])){const V=st.shift(),dt=new Array(et.length).fill(""),mt=new Array(it.length).fill("");let wt;wt=[...dt,...V,...mt],wt.raw=[...dt,...V.raw,...mt],et.unshift(wt)}const vt=[...et,...st,...it],at=z(...vt);return a.muiName&&(at.muiName=a.muiName),at};return z.withConfig&&(X.withConfig=z.withConfig),X}}function g5t(t,e){return void 0}function y5t(t){for(const e in t)return!1;return!0}function v5t(t){return typeof t=="string"&&t.charCodeAt(0)>96}function b5t(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const _5t=WX();function _w(t,e,r=!1){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=i;if(o==="components"||o==="slots")n[o]={...t[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const c=t[o],a=e[o];if(!a)n[o]=c||{};else if(!c)n[o]=a;else{n[o]={...a};for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const v=g;n[o][v]=_w(c[v],a[v],r)}}}else o==="className"&&r&&e.className?n.className=Xn(t?.className,e?.className):o==="style"&&r&&e.style?n.style={...t?.style,...e?.style}:n[o]===void 0&&(n[o]=t[o])}return n}function YX(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:_w(e.components[r].defaultProps,n)}function x5t({props:t,name:e,defaultTheme:r,themeId:n}){let i=MA(r);return n&&(i=i[n]||i),YX({theme:i,name:e,props:t})}const Qh=typeof window<"u"?ut.useLayoutEffect:ut.useEffect;function w5t(t,e,r,n,i){const[o,c]=ut.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return Qh(()=>{if(!r)return;const a=r(t),g=()=>{c(a.matches)};return g(),a.addEventListener("change",g),()=>{a.removeEventListener("change",g)}},[t,r]),o}const S5t={...$_},KX=S5t.useSyncExternalStore;function E5t(t,e,r,n,i){const o=ut.useCallback(()=>e,[e]),c=ut.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:x}=n(t);return()=>x}return o},[o,t,n,i,r]),[a,g]=ut.useMemo(()=>{if(r===null)return[o,()=>()=>{}];const x=r(t);return[()=>x.matches,k=>(x.addEventListener("change",k),()=>{x.removeEventListener("change",k)})]},[o,r,t]);return KX(g,a,c)}function ZX(t={}){const{themeId:e}=t;return function(n,i={}){let o=LA();o&&e&&(o=o[e]||o);const c=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:g=c?window.matchMedia:null,ssrMatchMedia:v=null,noSsr:x=!1}=YX({name:"MuiUseMediaQuery",props:i,theme:o});let k=typeof n=="function"?n(o):n;return k=k.replace(/^@media( ?)/m,""),k.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(KX!==void 0?E5t:w5t)(k,a,g,v,x)}}ZX();function a_(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function W4(t,e=0,r=1){return a_(t,e,r)}function T5t(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ay(t){if(t.type)return t;if(t.charAt(0)==="#")return Ay(T5t(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Ag(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ag(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const C5t=t=>{const e=Ay(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},_2=(t,e)=>{try{return C5t(t)}catch{return t}};function PA(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function QX(t){t=Ay(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),c=(v,x=(v+r/30)%12)=>i-o*Math.max(Math.min(x-3,9-x,1),-1);let a="rgb";const g=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(a+="a",g.push(e[3])),PA({type:a,values:g})}function eM(t){t=Ay(t);let e=t.type==="hsl"||t.type==="hsla"?Ay(QX(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function A5t(t,e){const r=eM(t),n=eM(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function PT(t,e){return t=Ay(t),e=W4(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,PA(t)}function Sv(t,e,r){try{return PT(t,e)}catch{return t}}function OA(t,e){if(t=Ay(t),e=W4(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return PA(t)}function Us(t,e,r){try{return OA(t,e)}catch{return t}}function DA(t,e){if(t=Ay(t),e=W4(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return PA(t)}function qs(t,e,r){try{return DA(t,e)}catch{return t}}function k5t(t,e=.15){return eM(t)>.5?OA(t,e):DA(t,e)}function q5(t,e,r){try{return k5t(t,e)}catch{return t}}const JX=ut.createContext(null);function Y4(){return ut.useContext(JX)}const I5t=typeof Symbol=="function"&&Symbol.for,R5t=I5t?Symbol.for("mui.nested"):"__THEME_NESTED__";function N5t(t,e){return typeof e=="function"?e(t):{...t,...e}}function L5t(t){const{children:e,theme:r}=t,n=Y4(),i=ut.useMemo(()=>{const o=n===null?{...r}:N5t(n,r);return o!=null&&(o[R5t]=n!==null),o},[r,n]);return Yt.jsx(JX.Provider,{value:i,children:e})}const tW=ut.createContext();function M5t({value:t,...e}){return Yt.jsx(tW.Provider,{value:t??!0,...e})}const Tx=()=>ut.useContext(tW)??!1,eW=ut.createContext(void 0);function P5t({value:t,children:e}){return Yt.jsx(eW.Provider,{value:t,children:e})}function O5t(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?_w(i.defaultProps,n,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?_w(i,n,e.components.mergeClassNameAndStyle):n}function D5t({props:t,name:e}){const r=ut.useContext(eW);return O5t({props:t,name:e,theme:{components:r}})}let H9=0;function B5t(t){const[e,r]=ut.useState(t),n=t||e;return ut.useEffect(()=>{e==null&&(H9+=1,r(`mui-${H9}`))},[e]),n}const z5t={...$_},X9=z5t.useId;function w0(t){if(X9!==void 0){const e=X9();return t??e}return B5t(t)}function F5t(t){const e=LA(),r=w0()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Qh(()=>{const o=document.querySelector("head");if(!o)return;const c=o.firstChild;if(i){if(c&&c.hasAttribute?.("data-mui-layer-order")&&c.getAttribute("data-mui-layer-order")===r)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",r),a.textContent=i,o.prepend(a)}else o.querySelector(`style[data-mui-layer-order="${r}"]`)?.remove()},[i,r]),i?Yt.jsx(UX,{styles:i}):null}const W9={};function Y9(t,e,r,n=!1){return ut.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const o=r(i),c=t?{...e,[t]:o}:o;return n?()=>c:c}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function rW(t){const{children:e,theme:r,themeId:n}=t,i=LA(W9),o=Y4()||W9,c=Y9(n,i,r),a=Y9(n,o,r,!0),g=(n?c[n]:c).direction==="rtl",v=F5t(c);return Yt.jsx(L5t,{theme:a,children:Yt.jsx(oS.Provider,{value:c,children:Yt.jsx(M5t,{value:g,children:Yt.jsxs(P5t,{value:n?c[n].components:c.components,children:[v,e]})})})})}const K9={theme:void 0};function j5t(t){let e,r;return function(i){let o=e;return(o===void 0||i.theme!==r)&&(K9.theme=i.theme,o=HX(t(K9)),e=o,r=i.theme),o}}const K4="mode",Z4="color-scheme",$5t="data-color-scheme";function V5t(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=K4,colorSchemeStorageKey:o=Z4,attribute:c=$5t,colorSchemeNode:a="document.documentElement",nonce:g}=t||{};let v="",x=c;if(c==="class"&&(x=".%s"),c==="data"&&(x="[data-%s]"),x.startsWith(".")){const I=x.substring(1);v+=`${a}.classList.remove('${I}'.replace('%s', light), '${I}'.replace('%s', dark));
      ${a}.classList.add('${I}'.replace('%s', colorScheme));`}const k=x.match(/\[([^[\]]+)\]/);if(k){const[I,S]=k[1].split("=");S||(v+=`${a}.removeAttribute('${I}'.replace('%s', light));
      ${a}.removeAttribute('${I}'.replace('%s', dark));`),v+=`
      ${a}.setAttribute('${I}'.replace('%s', colorScheme), ${S?`${S}.replace('%s', colorScheme)`:'""'});`}else v+=`${a}.setAttribute('${x}', colorScheme);`;return Yt.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${n}';
  const light = localStorage.getItem('${o}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function U5t(){}const q5t=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return U5t;const n=i=>{const o=i.newValue;i.key===t&&r(o)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function vN(){}function Z9(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function nW(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function G5t(t){return nW(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function H5t(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:o=K4,colorSchemeStorageKey:c=Z4,storageWindow:a=typeof window>"u"?void 0:window,storageManager:g=q5t,noSsr:v=!1}=t,x=i.join(","),k=i.length>1,I=ut.useMemo(()=>g?.({key:o,storageWindow:a}),[g,o,a]),S=ut.useMemo(()=>g?.({key:`${c}-light`,storageWindow:a}),[g,c,a]),P=ut.useMemo(()=>g?.({key:`${c}-dark`,storageWindow:a}),[g,c,a]),[D,U]=ut.useState(()=>{const st=I?.get(e)||e,it=S?.get(r)||r,vt=P?.get(n)||n;return{mode:st,systemMode:Z9(st),lightColorScheme:it,darkColorScheme:vt}}),[H,G]=ut.useState(v||!k);ut.useEffect(()=>{G(!0)},[]);const z=G5t(D),j=ut.useCallback(st=>{U(it=>{if(st===it.mode)return it;const vt=st??e;return I?.set(vt),{...it,mode:vt,systemMode:Z9(vt)}})},[I,e]),X=ut.useCallback(st=>{st?typeof st=="string"?st&&!x.includes(st)?console.error(`\`${st}\` does not exist in \`theme.colorSchemes\`.`):U(it=>{const vt={...it};return nW(it,at=>{at==="light"&&(S?.set(st),vt.lightColorScheme=st),at==="dark"&&(P?.set(st),vt.darkColorScheme=st)}),vt}):U(it=>{const vt={...it},at=st.light===null?r:st.light,V=st.dark===null?n:st.dark;return at&&(x.includes(at)?(vt.lightColorScheme=at,S?.set(at)):console.error(`\`${at}\` does not exist in \`theme.colorSchemes\`.`)),V&&(x.includes(V)?(vt.darkColorScheme=V,P?.set(V)):console.error(`\`${V}\` does not exist in \`theme.colorSchemes\`.`)),vt}):U(it=>(S?.set(r),P?.set(n),{...it,lightColorScheme:r,darkColorScheme:n}))},[x,S,P,r,n]),Y=ut.useCallback(st=>{D.mode==="system"&&U(it=>{const vt=st?.matches?"dark":"light";return it.systemMode===vt?it:{...it,systemMode:vt}})},[D.mode]),et=ut.useRef(Y);return et.current=Y,ut.useEffect(()=>{if(typeof window.matchMedia!="function"||!k)return;const st=(...vt)=>et.current(...vt),it=window.matchMedia("(prefers-color-scheme: dark)");return it.addListener(st),st(it),()=>{it.removeListener(st)}},[k]),ut.useEffect(()=>{if(k){const st=I?.subscribe(at=>{(!at||["light","dark","system"].includes(at))&&j(at||e)})||vN,it=S?.subscribe(at=>{(!at||x.match(at))&&X({light:at})})||vN,vt=P?.subscribe(at=>{(!at||x.match(at))&&X({dark:at})})||vN;return()=>{st(),it(),vt()}}},[X,j,x,e,a,k,I,S,P]),{...D,mode:H?D.mode:void 0,systemMode:H?D.systemMode:void 0,colorScheme:H?z:void 0,setMode:j,setColorScheme:X}}const X5t="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function W5t(t){const{themeId:e,theme:r={},modeStorageKey:n=K4,colorSchemeStorageKey:i=Z4,disableTransitionOnChange:o=!1,defaultColorScheme:c,resolveTheme:a}=t,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=ut.createContext(void 0),x=()=>ut.useContext(v)||g,k={},I={};function S(H){const{children:G,theme:z,modeStorageKey:j=n,colorSchemeStorageKey:X=i,disableTransitionOnChange:Y=o,storageManager:et,storageWindow:st=typeof window>"u"?void 0:window,documentNode:it=typeof document>"u"?void 0:document,colorSchemeNode:vt=typeof document>"u"?void 0:document.documentElement,disableNestedContext:at=!1,disableStyleSheetGeneration:V=!1,defaultMode:dt="system",forceThemeRerender:mt=!1,noSsr:wt}=H,pt=ut.useRef(!1),At=Y4(),St=ut.useContext(v),Lt=!!St&&!at,jt=ut.useMemo(()=>z||(typeof r=="function"?r():r),[z]),_t=jt[e],lt=_t||jt,{colorSchemes:Tt=k,components:kt=I,cssVarPrefix:Rt}=lt,Ut=Object.keys(Tt).filter(ar=>!!Tt[ar]).join(","),ie=ut.useMemo(()=>Ut.split(","),[Ut]),Ht=typeof c=="string"?c:c.light,ce=typeof c=="string"?c:c.dark,de=Tt[Ht]&&Tt[ce]?dt:Tt[lt.defaultColorScheme]?.palette?.mode||lt.palette?.mode,{mode:Se,setMode:Vt,systemMode:He,lightColorScheme:ke,darkColorScheme:Jt,colorScheme:$r,setColorScheme:vr}=H5t({supportedColorSchemes:ie,defaultLightColorScheme:Ht,defaultDarkColorScheme:ce,modeStorageKey:j,colorSchemeStorageKey:X,defaultMode:de,storageManager:et,storageWindow:st,noSsr:wt});let Dr=Se,Ie=$r;Lt&&(Dr=St.mode,Ie=St.colorScheme);let Mr=Ie||lt.defaultColorScheme;lt.vars&&!mt&&(Mr=lt.defaultColorScheme);const ir=ut.useMemo(()=>{const ar=lt.generateThemeVars?.()||lt.vars,Or={...lt,components:kt,colorSchemes:Tt,cssVarPrefix:Rt,vars:ar};if(typeof Or.generateSpacing=="function"&&(Or.spacing=Or.generateSpacing()),Mr){const er=Tt[Mr];er&&typeof er=="object"&&Object.keys(er).forEach(Fr=>{er[Fr]&&typeof er[Fr]=="object"?Or[Fr]={...Or[Fr],...er[Fr]}:Or[Fr]=er[Fr]})}return a?a(Or):Or},[lt,Mr,kt,Tt,Rt]),Rr=lt.colorSchemeSelector;Qh(()=>{if(Ie&&vt&&Rr&&Rr!=="media"){const ar=Rr;let Or=Rr;if(ar==="class"&&(Or=".%s"),ar==="data"&&(Or="[data-%s]"),ar?.startsWith("data-")&&!ar.includes("%s")&&(Or=`[${ar}="%s"]`),Or.startsWith("."))vt.classList.remove(...ie.map(er=>Or.substring(1).replace("%s",er))),vt.classList.add(Or.substring(1).replace("%s",Ie));else{const er=Or.replace("%s",Ie).match(/\[([^\]]+)\]/);if(er){const[Fr,Ze]=er[1].split("=");Ze||ie.forEach(rr=>{vt.removeAttribute(Fr.replace(Ie,rr))}),vt.setAttribute(Fr,Ze?Ze.replace(/"|'/g,""):"")}else vt.setAttribute(Or,Ie)}}},[Ie,Rr,vt,ie]),ut.useEffect(()=>{let ar;if(Y&&pt.current&&it){const Or=it.createElement("style");Or.appendChild(it.createTextNode(X5t)),it.head.appendChild(Or),window.getComputedStyle(it.body),ar=setTimeout(()=>{it.head.removeChild(Or)},1)}return()=>{clearTimeout(ar)}},[Ie,Y,it]),ut.useEffect(()=>(pt.current=!0,()=>{pt.current=!1}),[]);const Pr=ut.useMemo(()=>({allColorSchemes:ie,colorScheme:Ie,darkColorScheme:Jt,lightColorScheme:ke,mode:Dr,setColorScheme:vr,setMode:Vt,systemMode:He}),[ie,Ie,Jt,ke,Dr,vr,Vt,He,ir.colorSchemeSelector]);let Ir=!0;(V||lt.cssVariables===!1||Lt&&At?.cssVarPrefix===Rt)&&(Ir=!1);const dr=Yt.jsxs(ut.Fragment,{children:[Yt.jsx(rW,{themeId:_t?e:void 0,theme:ir,children:G}),Ir&&Yt.jsx(DX,{styles:ir.generateStyleSheets?.()||[]})]});return Lt?dr:Yt.jsx(v.Provider,{value:Pr,children:dr})}const P=typeof c=="string"?c:c.light,D=typeof c=="string"?c:c.dark;return{CssVarsProvider:S,useColorScheme:x,getInitColorSchemeScript:H=>V5t({colorSchemeStorageKey:i,defaultLightColorScheme:P,defaultDarkColorScheme:D,modeStorageKey:n,...H})}}function Y5t(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const Q9=(t,e,r,n=[])=>{let i=t;e.forEach((o,c)=>{c===e.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=n.includes(o)?[]:{}),i=i[o])})},K5t=(t,e,r)=>{function n(i,o=[],c=[]){Object.entries(i).forEach(([a,g])=>{(!r||r&&!r([...o,a]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?n(g,[...o,a],Array.isArray(g)?[...c,a]:c):e([...o,a],g,c))})}n(t)},Z5t=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function bN(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},o={},c={};return K5t(t,(a,g,v)=>{if((typeof g=="string"||typeof g=="number")&&(!n||!n(a,g))){const x=`--${r?`${r}-`:""}${a.join("-")}`,k=Z5t(a,g);Object.assign(i,{[x]:k}),Q9(o,a,`var(${x})`,v),Q9(c,a,`var(${x}, ${k})`,v)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:c}}function Q5t(t,e={}){const{getSelector:r=H,disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:o}=e,{colorSchemes:c={},components:a,defaultColorScheme:g="light",...v}=t,{vars:x,css:k,varsWithDefaults:I}=bN(v,e);let S=I;const P={},{[g]:D,...U}=c;if(Object.entries(U||{}).forEach(([j,X])=>{const{vars:Y,css:et,varsWithDefaults:st}=bN(X,e);S=Vu(S,st),P[j]={css:et,vars:Y}}),D){const{css:j,vars:X,varsWithDefaults:Y}=bN(D,e);S=Vu(S,Y),P[g]={css:j,vars:X}}function H(j,X){let Y=i;if(i==="class"&&(Y=".%s"),i==="data"&&(Y="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(Y=`[${i}="%s"]`),j){if(Y==="media")return t.defaultColorScheme===j?":root":{[`@media (prefers-color-scheme: ${c[j]?.palette?.mode||j})`]:{":root":X}};if(Y)return t.defaultColorScheme===j?`:root, ${Y.replace("%s",String(j))}`:Y.replace("%s",String(j))}return":root"}return{vars:S,generateThemeVars:()=>{let j={...x};return Object.entries(P).forEach(([,{vars:X}])=>{j=Vu(j,X)}),j},generateStyleSheets:()=>{const j=[],X=t.defaultColorScheme||"light";function Y(it,vt){Object.keys(vt).length&&j.push(typeof it=="string"?{[it]:{...vt}}:it)}Y(r(void 0,{...k}),k);const{[X]:et,...st}=P;if(et){const{css:it}=et,vt=c[X]?.palette?.mode,at=!n&&vt?{colorScheme:vt,...it}:{...it};Y(r(X,{...at}),at)}return Object.entries(st).forEach(([it,{css:vt}])=>{const at=c[it]?.palette?.mode,V=!n&&at?{colorScheme:at,...vt}:{...vt};Y(r(it,{...V}),V)}),o&&j.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),j}}}function J5t(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}function ra(t,e,r=void 0){const n={};for(const i in t){const o=t[i];let c="",a=!0;for(let g=0;g<o.length;g+=1){const v=o[g];v&&(c+=(a===!0?"":" ")+e(v),a=!1,r&&r[v]&&(c+=" "+r[v]))}n[i]=c}return n}function RE(t,e){return ut.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const tEt=NA(),eEt=_5t("div",{name:"MuiStack",slot:"Root"});function rEt(t){return x5t({props:t,name:"MuiStack",defaultTheme:tEt})}function nEt(t,e){const r=ut.Children.toArray(t).filter(Boolean);return r.reduce((n,i,o)=>(n.push(i),o<r.length-1&&n.push(ut.cloneElement(e,{key:`separator-${o}`})),n),[])}const iEt=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],aEt=({ownerState:t,theme:e})=>{let r={display:"flex",flexDirection:"column",...Ep({theme:e},mN({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(t.spacing){const n=TA(e),i=Object.keys(e.breakpoints.values).reduce((g,v)=>((typeof t.spacing=="object"&&t.spacing[v]!=null||typeof t.direction=="object"&&t.direction[v]!=null)&&(g[v]=!0),g),{}),o=mN({values:t.direction,base:i}),c=mN({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((g,v,x)=>{if(!o[g]){const I=v>0?o[x[v-1]]:"column";o[g]=I}}),r=Vu(r,Ep({theme:e},c,(g,v)=>t.useFlexGap?{gap:o0(n,g)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${iEt(v?o[v]:t.direction)}`]:o0(n,g)}}))}return r=bSt(e.breakpoints,r),r};function oEt(t={}){const{createStyledComponent:e=eEt,useThemeProps:r=rEt,componentName:n="MuiStack"}=t,i=()=>ra({root:["root"]},g=>ea(n,g),{}),o=e(aEt);return ut.forwardRef(function(g,v){const x=r(g),k=X4(x),{component:I="div",direction:S="column",spacing:P=0,divider:D,children:U,className:H,useFlexGap:G=!1,...z}=k,j={direction:S,spacing:P,useFlexGap:G},X=i();return Yt.jsx(o,{as:I,ownerState:j,ref:v,className:Xn(X.root,H),...z,children:D?nEt(U,D):U})})}function iW(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gw.white,default:gw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const aW=iW();function oW(){return{text:{primary:gw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const rM=oW();function J9(t,e,r,n){const i=n.light||n,o=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=DA(t.main,i):e==="dark"&&(t.dark=OA(t.main,o)))}function t$(t,e,r,n,i){const o=i.light||i,c=i.dark||i*1.5;e[r]||(e.hasOwnProperty(n)?e[r]=e[n]:r==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:r==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(c*100).toFixed(0)}%)`))}function sEt(t="light"){return t==="dark"?{main:Lb[200],light:Lb[50],dark:Lb[400]}:{main:Lb[700],light:Lb[400],dark:Lb[800]}}function lEt(t="light"){return t==="dark"?{main:Nb[200],light:Nb[50],dark:Nb[400]}:{main:Nb[500],light:Nb[300],dark:Nb[700]}}function cEt(t="light"){return t==="dark"?{main:Rb[500],light:Rb[300],dark:Rb[700]}:{main:Rb[700],light:Rb[400],dark:Rb[800]}}function uEt(t="light"){return t==="dark"?{main:Mb[400],light:Mb[300],dark:Mb[700]}:{main:Mb[700],light:Mb[500],dark:Mb[900]}}function hEt(t="light"){return t==="dark"?{main:Pb[400],light:Pb[300],dark:Pb[700]}:{main:Pb[800],light:Pb[500],dark:Pb[900]}}function dEt(t="light"){return t==="dark"?{main:Q1[400],light:Q1[300],dark:Q1[700]}:{main:"#ed6c02",light:Q1[500],dark:Q1[900]}}function fEt(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function Q4(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:i,...o}=t,c=t.primary||sEt(e),a=t.secondary||lEt(e),g=t.error||cEt(e),v=t.info||uEt(e),x=t.success||hEt(e),k=t.warning||dEt(e);function I(U){return i?fEt(U):A5t(U,rM.text.primary)>=r?rM.text.primary:aW.text.primary}const S=({color:U,name:H,mainShade:G=500,lightShade:z=300,darkShade:j=700})=>{if(U={...U},!U.main&&U[G]&&(U.main=U[G]),!U.hasOwnProperty("main"))throw new Error(Ag(11,H?` (${H})`:"",G));if(typeof U.main!="string")throw new Error(Ag(12,H?` (${H})`:"",JSON.stringify(U.main)));return i?(t$(i,U,"light",z,n),t$(i,U,"dark",j,n)):(J9(U,"light",z,n),J9(U,"dark",j,n)),U.contrastText||(U.contrastText=I(U.main)),U};let P;return e==="light"?P=iW():e==="dark"&&(P=oW()),Vu({common:{...gw},mode:e,primary:S({color:c,name:"primary"}),secondary:S({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:g,name:"error"}),warning:S({color:k,name:"warning"}),info:S({color:v,name:"info"}),success:S({color:x,name:"success"}),grey:uwt,contrastThreshold:r,getContrastText:I,augmentColor:S,tonalOffset:n,...P},o)}function pEt(t){const e={};return Object.entries(t).forEach(n=>{const[i,o]=n;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function mEt(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function gEt(t){return Math.round(t*1e5)/1e5}const e$={textTransform:"uppercase"},r$='"Roboto", "Helvetica", "Arial", sans-serif';function sW(t,e){const{fontFamily:r=r$,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:a=700,htmlFontSize:g=16,allVariants:v,pxToRem:x,...k}=typeof e=="function"?e(t):e,I=n/14,S=x||(U=>`${U/g*I}rem`),P=(U,H,G,z,j)=>({fontFamily:r,fontWeight:U,fontSize:S(H),lineHeight:G,...r===r$?{letterSpacing:`${gEt(z/H)}em`}:{},...j,...v}),D={h1:P(i,96,1.167,-1.5),h2:P(i,60,1.2,-.5),h3:P(o,48,1.167,0),h4:P(o,34,1.235,.25),h5:P(o,24,1.334,0),h6:P(c,20,1.6,.15),subtitle1:P(o,16,1.75,.15),subtitle2:P(c,14,1.57,.1),body1:P(o,16,1.5,.15),body2:P(o,14,1.43,.15),button:P(c,14,1.75,.4,e$),caption:P(o,12,1.66,.4),overline:P(o,12,2.66,1,e$),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vu({htmlFontSize:g,pxToRem:S,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:a,...D},k,{clone:!1})}const yEt=.2,vEt=.14,bEt=.12;function sc(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${yEt})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${vEt})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${bEt})`].join(",")}const _Et=["none",sc(0,2,1,-1,0,1,1,0,0,1,3,0),sc(0,3,1,-2,0,2,2,0,0,1,5,0),sc(0,3,3,-2,0,3,4,0,0,1,8,0),sc(0,2,4,-1,0,4,5,0,0,1,10,0),sc(0,3,5,-1,0,5,8,0,0,1,14,0),sc(0,3,5,-1,0,6,10,0,0,1,18,0),sc(0,4,5,-2,0,7,10,1,0,2,16,1),sc(0,5,5,-3,0,8,10,1,0,3,14,2),sc(0,5,6,-3,0,9,12,1,0,3,16,2),sc(0,6,6,-3,0,10,14,1,0,4,18,3),sc(0,6,7,-4,0,11,15,1,0,4,20,3),sc(0,7,8,-4,0,12,17,2,0,5,22,4),sc(0,7,8,-4,0,13,19,2,0,5,24,4),sc(0,7,9,-4,0,14,21,2,0,5,26,4),sc(0,8,9,-5,0,15,22,2,0,6,28,5),sc(0,8,10,-5,0,16,24,2,0,6,30,5),sc(0,8,11,-5,0,17,26,2,0,6,32,5),sc(0,9,11,-5,0,18,28,2,0,7,34,6),sc(0,9,12,-6,0,19,29,2,0,7,36,6),sc(0,10,13,-6,0,20,31,3,0,8,38,7),sc(0,10,13,-6,0,21,33,3,0,8,40,7),sc(0,10,14,-6,0,22,35,3,0,8,42,7),sc(0,11,14,-7,0,23,36,3,0,9,44,8),sc(0,11,15,-7,0,24,38,3,0,9,46,8)],xEt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function n$(t){return`${Math.round(t)}ms`}function wEt(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function SEt(t){const e={...xEt,...t.easing},r={...lW,...t.duration};return{getAutoHeightDuration:wEt,create:(i=["all"],o={})=>{const{duration:c=r.standard,easing:a=e.easeInOut,delay:g=0,...v}=o;return(Array.isArray(i)?i:[i]).map(x=>`${x} ${typeof c=="string"?c:n$(c)} ${a} ${typeof g=="string"?g:n$(g)}`).join(",")},...t,easing:e,duration:r}}const EEt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function TEt(t){return mm(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function cW(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let o=0;o<i.length;o++){const[c,a]=i[o];!TEt(a)||c.startsWith("unstable_")?delete n[c]:mm(a)&&(n[c]={...a},r(n[c]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function i$(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const CEt=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let r=0;for(let n=0;n<e.length;n+=1)r+=+e[n];return r};function AEt(t){Object.assign(t,{alpha(e,r){const n=this||t;return n.colorSpace?`oklch(from ${e} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:PT(e,CEt(r))},lighten(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #fff ${i$(r)})`:DA(e,r)},darken(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #000 ${i$(r)})`:OA(e,r)}})}function nM(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:o={},transitions:c={},typography:a={},shape:g,colorSpace:v,...x}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ag(20));const k=Q4({...o,colorSpace:v}),I=NA(t);let S=Vu(I,{mixins:mEt(I.breakpoints,n),palette:k,shadows:_Et.slice(),typography:sW(k,a),transitions:SEt(c),zIndex:{...EEt}});return S=Vu(S,x),S=e.reduce((P,D)=>Vu(P,D),S),S.unstable_sxConfig={...cS,...x?.unstable_sxConfig},S.unstable_sx=function(D){return Cy({sx:D,theme:this})},S.toRuntimeSource=cW,AEt(S),S}function iM(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const kEt=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=iM(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function uW(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function hW(t){return t==="dark"?kEt:[]}function IEt(t){const{palette:e={mode:"light"},opacity:r,overlays:n,colorSpace:i,...o}=t,c=Q4({...e,colorSpace:i});return{palette:c,opacity:{...uW(c.mode),...r},overlays:n||hW(c.mode),...o}}function REt(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const NEt=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],LEt=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const c={};return NEt(t.cssVarPrefix).forEach(a=>{c[a]=r[a],delete r[a]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:c}}:o?{[o.replace("%s",e)]:c,[`${n}, ${o.replace("%s",e)}`]:r}:{[n]:{...r,...c}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(o)return o.replace("%s",String(e))}return n};function MEt(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function an(t,e,r){!t[e]&&r&&(t[e]=r)}function x2(t){return typeof t!="string"||!t.startsWith("hsl")?t:QX(t)}function lg(t,e){`${e}Channel`in t||(t[`${e}Channel`]=_2(x2(t[e])))}function PEt(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const rm=t=>{try{return t()}catch{}},OEt=(t="mui")=>Y5t(t);function _N(t,e,r,n,i){if(!r)return;r=r===!0?{}:r;const o=i==="dark"?"dark":"light";if(!n){e[i]=IEt({...r,palette:{mode:o,...r?.palette},colorSpace:t});return}const{palette:c,...a}=nM({...n,palette:{mode:o,...r?.palette},colorSpace:t});return e[i]={...r,palette:c,opacity:{...uW(o),...r?.opacity},overlays:r?.overlays||hW(o)},a}function DEt(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:c=!1,shouldSkipGeneratingVar:a=REt,colorSchemeSelector:g=r.light&&r.dark?"media":void 0,rootSelector:v=":root",...x}=t,k=Object.keys(r)[0],I=n||(r.light&&k!=="light"?"light":k),S=OEt(o),{[I]:P,light:D,dark:U,...H}=r,G={...H};let z=P;if((I==="dark"&&!("dark"in r)||I==="light"&&!("light"in r))&&(z=!0),!z)throw new Error(Ag(21,I));let j;c&&(j="oklch");const X=_N(j,G,z,x,I);D&&!G.light&&_N(j,G,D,void 0,"light"),U&&!G.dark&&_N(j,G,U,void 0,"dark");let Y={defaultColorScheme:I,...X,cssVarPrefix:o,colorSchemeSelector:g,rootSelector:v,getCssVar:S,colorSchemes:G,font:{...pEt(X.typography),...X.font},spacing:PEt(x.spacing)};Object.keys(Y.colorSchemes).forEach(at=>{const V=Y.colorSchemes[at].palette,dt=wt=>{const pt=wt.split("-"),At=pt[1],St=pt[2];return S(wt,V[At][St])};V.mode==="light"&&(an(V.common,"background","#fff"),an(V.common,"onBackground","#000")),V.mode==="dark"&&(an(V.common,"background","#000"),an(V.common,"onBackground","#fff"));function mt(wt,pt,At){if(j){let St;return wt===Sv&&(St=`transparent ${((1-At)*100).toFixed(0)}%`),wt===Us&&(St=`#000 ${(At*100).toFixed(0)}%`),wt===qs&&(St=`#fff ${(At*100).toFixed(0)}%`),`color-mix(in ${j}, ${pt}, ${St})`}return wt(pt,At)}if(MEt(V,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),V.mode==="light"){an(V.Alert,"errorColor",mt(Us,V.error.light,.6)),an(V.Alert,"infoColor",mt(Us,V.info.light,.6)),an(V.Alert,"successColor",mt(Us,V.success.light,.6)),an(V.Alert,"warningColor",mt(Us,V.warning.light,.6)),an(V.Alert,"errorFilledBg",dt("palette-error-main")),an(V.Alert,"infoFilledBg",dt("palette-info-main")),an(V.Alert,"successFilledBg",dt("palette-success-main")),an(V.Alert,"warningFilledBg",dt("palette-warning-main")),an(V.Alert,"errorFilledColor",rm(()=>V.getContrastText(V.error.main))),an(V.Alert,"infoFilledColor",rm(()=>V.getContrastText(V.info.main))),an(V.Alert,"successFilledColor",rm(()=>V.getContrastText(V.success.main))),an(V.Alert,"warningFilledColor",rm(()=>V.getContrastText(V.warning.main))),an(V.Alert,"errorStandardBg",mt(qs,V.error.light,.9)),an(V.Alert,"infoStandardBg",mt(qs,V.info.light,.9)),an(V.Alert,"successStandardBg",mt(qs,V.success.light,.9)),an(V.Alert,"warningStandardBg",mt(qs,V.warning.light,.9)),an(V.Alert,"errorIconColor",dt("palette-error-main")),an(V.Alert,"infoIconColor",dt("palette-info-main")),an(V.Alert,"successIconColor",dt("palette-success-main")),an(V.Alert,"warningIconColor",dt("palette-warning-main")),an(V.AppBar,"defaultBg",dt("palette-grey-100")),an(V.Avatar,"defaultBg",dt("palette-grey-400")),an(V.Button,"inheritContainedBg",dt("palette-grey-300")),an(V.Button,"inheritContainedHoverBg",dt("palette-grey-A100")),an(V.Chip,"defaultBorder",dt("palette-grey-400")),an(V.Chip,"defaultAvatarColor",dt("palette-grey-700")),an(V.Chip,"defaultIconColor",dt("palette-grey-700")),an(V.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),an(V.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),an(V.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),an(V.LinearProgress,"primaryBg",mt(qs,V.primary.main,.62)),an(V.LinearProgress,"secondaryBg",mt(qs,V.secondary.main,.62)),an(V.LinearProgress,"errorBg",mt(qs,V.error.main,.62)),an(V.LinearProgress,"infoBg",mt(qs,V.info.main,.62)),an(V.LinearProgress,"successBg",mt(qs,V.success.main,.62)),an(V.LinearProgress,"warningBg",mt(qs,V.warning.main,.62)),an(V.Skeleton,"bg",j?mt(Sv,V.text.primary,.11):`rgba(${dt("palette-text-primaryChannel")} / 0.11)`),an(V.Slider,"primaryTrack",mt(qs,V.primary.main,.62)),an(V.Slider,"secondaryTrack",mt(qs,V.secondary.main,.62)),an(V.Slider,"errorTrack",mt(qs,V.error.main,.62)),an(V.Slider,"infoTrack",mt(qs,V.info.main,.62)),an(V.Slider,"successTrack",mt(qs,V.success.main,.62)),an(V.Slider,"warningTrack",mt(qs,V.warning.main,.62));const wt=j?mt(Us,V.background.default,.6825):q5(V.background.default,.8);an(V.SnackbarContent,"bg",wt),an(V.SnackbarContent,"color",rm(()=>j?rM.text.primary:V.getContrastText(wt))),an(V.SpeedDialAction,"fabHoverBg",q5(V.background.paper,.15)),an(V.StepConnector,"border",dt("palette-grey-400")),an(V.StepContent,"border",dt("palette-grey-400")),an(V.Switch,"defaultColor",dt("palette-common-white")),an(V.Switch,"defaultDisabledColor",dt("palette-grey-100")),an(V.Switch,"primaryDisabledColor",mt(qs,V.primary.main,.62)),an(V.Switch,"secondaryDisabledColor",mt(qs,V.secondary.main,.62)),an(V.Switch,"errorDisabledColor",mt(qs,V.error.main,.62)),an(V.Switch,"infoDisabledColor",mt(qs,V.info.main,.62)),an(V.Switch,"successDisabledColor",mt(qs,V.success.main,.62)),an(V.Switch,"warningDisabledColor",mt(qs,V.warning.main,.62)),an(V.TableCell,"border",mt(qs,mt(Sv,V.divider,1),.88)),an(V.Tooltip,"bg",mt(Sv,V.grey[700],.92))}if(V.mode==="dark"){an(V.Alert,"errorColor",mt(qs,V.error.light,.6)),an(V.Alert,"infoColor",mt(qs,V.info.light,.6)),an(V.Alert,"successColor",mt(qs,V.success.light,.6)),an(V.Alert,"warningColor",mt(qs,V.warning.light,.6)),an(V.Alert,"errorFilledBg",dt("palette-error-dark")),an(V.Alert,"infoFilledBg",dt("palette-info-dark")),an(V.Alert,"successFilledBg",dt("palette-success-dark")),an(V.Alert,"warningFilledBg",dt("palette-warning-dark")),an(V.Alert,"errorFilledColor",rm(()=>V.getContrastText(V.error.dark))),an(V.Alert,"infoFilledColor",rm(()=>V.getContrastText(V.info.dark))),an(V.Alert,"successFilledColor",rm(()=>V.getContrastText(V.success.dark))),an(V.Alert,"warningFilledColor",rm(()=>V.getContrastText(V.warning.dark))),an(V.Alert,"errorStandardBg",mt(Us,V.error.light,.9)),an(V.Alert,"infoStandardBg",mt(Us,V.info.light,.9)),an(V.Alert,"successStandardBg",mt(Us,V.success.light,.9)),an(V.Alert,"warningStandardBg",mt(Us,V.warning.light,.9)),an(V.Alert,"errorIconColor",dt("palette-error-main")),an(V.Alert,"infoIconColor",dt("palette-info-main")),an(V.Alert,"successIconColor",dt("palette-success-main")),an(V.Alert,"warningIconColor",dt("palette-warning-main")),an(V.AppBar,"defaultBg",dt("palette-grey-900")),an(V.AppBar,"darkBg",dt("palette-background-paper")),an(V.AppBar,"darkColor",dt("palette-text-primary")),an(V.Avatar,"defaultBg",dt("palette-grey-600")),an(V.Button,"inheritContainedBg",dt("palette-grey-800")),an(V.Button,"inheritContainedHoverBg",dt("palette-grey-700")),an(V.Chip,"defaultBorder",dt("palette-grey-700")),an(V.Chip,"defaultAvatarColor",dt("palette-grey-300")),an(V.Chip,"defaultIconColor",dt("palette-grey-300")),an(V.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),an(V.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),an(V.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),an(V.LinearProgress,"primaryBg",mt(Us,V.primary.main,.5)),an(V.LinearProgress,"secondaryBg",mt(Us,V.secondary.main,.5)),an(V.LinearProgress,"errorBg",mt(Us,V.error.main,.5)),an(V.LinearProgress,"infoBg",mt(Us,V.info.main,.5)),an(V.LinearProgress,"successBg",mt(Us,V.success.main,.5)),an(V.LinearProgress,"warningBg",mt(Us,V.warning.main,.5)),an(V.Skeleton,"bg",j?mt(Sv,V.text.primary,.13):`rgba(${dt("palette-text-primaryChannel")} / 0.13)`),an(V.Slider,"primaryTrack",mt(Us,V.primary.main,.5)),an(V.Slider,"secondaryTrack",mt(Us,V.secondary.main,.5)),an(V.Slider,"errorTrack",mt(Us,V.error.main,.5)),an(V.Slider,"infoTrack",mt(Us,V.info.main,.5)),an(V.Slider,"successTrack",mt(Us,V.success.main,.5)),an(V.Slider,"warningTrack",mt(Us,V.warning.main,.5));const wt=j?mt(qs,V.background.default,.985):q5(V.background.default,.98);an(V.SnackbarContent,"bg",wt),an(V.SnackbarContent,"color",rm(()=>j?aW.text.primary:V.getContrastText(wt))),an(V.SpeedDialAction,"fabHoverBg",q5(V.background.paper,.15)),an(V.StepConnector,"border",dt("palette-grey-600")),an(V.StepContent,"border",dt("palette-grey-600")),an(V.Switch,"defaultColor",dt("palette-grey-300")),an(V.Switch,"defaultDisabledColor",dt("palette-grey-600")),an(V.Switch,"primaryDisabledColor",mt(Us,V.primary.main,.55)),an(V.Switch,"secondaryDisabledColor",mt(Us,V.secondary.main,.55)),an(V.Switch,"errorDisabledColor",mt(Us,V.error.main,.55)),an(V.Switch,"infoDisabledColor",mt(Us,V.info.main,.55)),an(V.Switch,"successDisabledColor",mt(Us,V.success.main,.55)),an(V.Switch,"warningDisabledColor",mt(Us,V.warning.main,.55)),an(V.TableCell,"border",mt(Us,mt(Sv,V.divider,1),.68)),an(V.Tooltip,"bg",mt(Sv,V.grey[700],.92))}lg(V.background,"default"),lg(V.background,"paper"),lg(V.common,"background"),lg(V.common,"onBackground"),lg(V,"divider"),Object.keys(V).forEach(wt=>{const pt=V[wt];wt!=="tonalOffset"&&pt&&typeof pt=="object"&&(pt.main&&an(V[wt],"mainChannel",_2(x2(pt.main))),pt.light&&an(V[wt],"lightChannel",_2(x2(pt.light))),pt.dark&&an(V[wt],"darkChannel",_2(x2(pt.dark))),pt.contrastText&&an(V[wt],"contrastTextChannel",_2(x2(pt.contrastText))),wt==="text"&&(lg(V[wt],"primary"),lg(V[wt],"secondary")),wt==="action"&&(pt.active&&lg(V[wt],"active"),pt.selected&&lg(V[wt],"selected")))})}),Y=e.reduce((at,V)=>Vu(at,V),Y);const et={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:LEt(Y),enableContrastVars:c},{vars:st,generateThemeVars:it,generateStyleSheets:vt}=Q5t(Y,et);return Y.vars=st,Object.entries(Y.colorSchemes[Y.defaultColorScheme]).forEach(([at,V])=>{Y[at]=V}),Y.generateThemeVars=it,Y.generateStyleSheets=vt,Y.generateSpacing=function(){return VX(x.spacing,TA(this))},Y.getColorSchemeSelector=J5t(g),Y.spacing=Y.generateSpacing(),Y.shouldSkipGeneratingVar=a,Y.unstable_sxConfig={...cS,...x?.unstable_sxConfig},Y.unstable_sx=function(V){return Cy({sx:V,theme:this})},Y.toRuntimeSource=cW,Y}function a$(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:Q4({...r===!0?{}:r.palette,mode:e})})}function BA(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r?.mode,...c}=t,a=o||"light",g=i?.[a],v={...i,...r?{[a]:{...typeof g!="boolean"&&g,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return nM(t,...e);let x=r;"palette"in t||v[a]&&(v[a]!==!0?x=v[a].palette:a==="dark"&&(x={mode:"dark"}));const k=nM({...t,palette:x},...e);return k.defaultColorScheme=a,k.colorSchemes=v,k.palette.mode==="light"&&(k.colorSchemes.light={...v.light!==!0&&v.light,palette:k.palette},a$(k,"dark",v.dark)),k.palette.mode==="dark"&&(k.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:k.palette},a$(k,"light",v.light)),k}return!r&&!("light"in v)&&a==="light"&&(v.light=!0),DEt({...c,colorSchemes:v,defaultColorScheme:a,...typeof n!="boolean"&&n},...e)}const J4=BA();function Mg(){const t=MA(J4);return t[bp]||t}function zA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Oh=t=>zA(t)&&t!=="classes",xn=WX({themeId:bp,defaultTheme:J4,rootShouldForwardProp:Oh});function BEt({theme:t,...e}){const r=bp in t?t[bp]:void 0;return Yt.jsx(rW,{...e,themeId:r?bp:void 0,theme:r||t})}const G5={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:zEt}=W5t({themeId:bp,theme:()=>BA({cssVariables:!0}),colorSchemeStorageKey:G5.colorSchemeStorageKey,modeStorageKey:G5.modeStorageKey,defaultColorScheme:{light:G5.defaultLightColorScheme,dark:G5.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:sW(t.palette,t.typography)};return e.unstable_sx=function(n){return Cy({sx:n,theme:this})},e}}),FEt=zEt;function jEt({theme:t,...e}){const r=ut.useMemo(()=>{if(typeof t=="function")return t;const n=bp in t?t[bp]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?Yt.jsx(BEt,{theme:r,...e}):Yt.jsx(FEt,{theme:t,...e})}function o$(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function $Et(t){return Yt.jsx(UX,{...t,defaultTheme:J4,themeId:bp})}function tO(t){return function(r){return Yt.jsx($Et,{styles:typeof t=="function"?n=>t({theme:n,...r}):t})}}function VEt(){return X4}const Mi=j5t;function ca(t){return D5t(t)}function UEt(t){return ea("MuiSvgIcon",t)}Wi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const qEt=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${cn(e)}`,`fontSize${cn(r)}`]};return ra(i,UEt,n)},GEt=xn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${cn(r.color)}`],e[`fontSize${cn(r.fontSize)}`]]}})(Mi(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),aM=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:c="inherit",component:a="svg",fontSize:g="medium",htmlColor:v,inheritViewBox:x=!1,titleAccess:k,viewBox:I="0 0 24 24",...S}=n,P=ut.isValidElement(i)&&i.type==="svg",D={...n,color:c,component:a,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:I,hasSvgAsChild:P},U={};x||(U.viewBox=I);const H=qEt(D);return Yt.jsxs(GEt,{as:a,className:Xn(H.root,o),focusable:"false",color:v,"aria-hidden":k?void 0:!0,role:k?"img":void 0,ref:r,...U,...S,...P&&i.props,ownerState:D,children:[P?i.props.children:i,k?Yt.jsx("title",{children:k}):null]})});aM.muiName="SvgIcon";function zl(t,e){function r(n,i){return Yt.jsx(aM,{"data-testid":void 0,ref:i,...n,children:t})}return r.muiName=aM.muiName,ut.memo(ut.forwardRef(r))}function eO(t,e=166){let r;function n(...i){const o=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(o,e)}return n.clear=()=>{clearTimeout(r)},n}function ch(t){return t&&t.ownerDocument||document}function Tp(t){return ch(t).defaultView||window}function s$(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function rx(t){const{controlled:e,default:r,name:n,state:i="value"}=t,{current:o}=ut.useRef(e!==void 0),[c,a]=ut.useState(r),g=o?e:c,v=ut.useCallback(x=>{o||a(x)},[]);return[g,v]}function Nf(t){const e=ut.useRef(t);return Qh(()=>{e.current=t}),ut.useRef((...r)=>(0,e.current)(...r)).current}function cc(...t){const e=ut.useRef(void 0),r=ut.useCallback(n=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const c=o,a=c(n);return typeof a=="function"?a:()=>{c(null)}}return o.current=n,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},t);return ut.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}function HEt(t,e){const r=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&r>=65&&r<=90&&typeof e=="function"}function rO(t,e){if(!t)return e;function r(c,a){const g={};return Object.keys(a).forEach(v=>{HEt(v,a[v])&&typeof c[v]=="function"&&(g[v]=(...x)=>{c[v](...x),a[v](...x)})}),g}if(typeof t=="function"||typeof e=="function")return c=>{const a=typeof e=="function"?e(c):e,g=typeof t=="function"?t({...c,...a}):t,v=Xn(c?.className,a?.className,g?.className),x=r(g,a);return{...a,...g,...x,...!!v&&{className:v},...a?.style&&g?.style&&{style:{...a.style,...g.style}},...a?.sx&&g?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(g.sx)?g.sx:[g.sx]]}}};const n=e,i=r(t,n),o=Xn(n?.className,t?.className);return{...e,...t,...i,...!!o&&{className:o},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function dW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oM(t,e){return oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},oM(t,e)}function fW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,oM(t,e)}const l$={disabled:!1},OT=we.createContext(null);var XEt=function(e){return e.scrollTop},w2="unmounted",Mv="exited",Pv="entering",o_="entered",sM="exiting",qf=(function(t){fW(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var c=i,a=c&&!c.isMounting?n.enter:n.appear,g;return o.appearStatus=null,n.in?a?(g=Mv,o.appearStatus=Pv):g=o_:n.unmountOnExit||n.mountOnEnter?g=w2:g=Mv,o.state={status:g},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var c=i.in;return c&&o.status===w2?{status:Mv}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==Pv&&c!==o_&&(o=Pv):(c===Pv||c===o_)&&(o=sM)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,c,a;return o=c=a=i,i!=null&&typeof i!="number"&&(o=i.exit,c=i.enter,a=i.appear!==void 0?i.appear:c),{exit:o,enter:c,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Pv){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:py.findDOMNode(this);c&&XEt(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mv&&this.setState({status:w2})},r.performEnter=function(i){var o=this,c=this.props.enter,a=this.context?this.context.isMounting:i,g=this.props.nodeRef?[a]:[py.findDOMNode(this),a],v=g[0],x=g[1],k=this.getTimeouts(),I=a?k.appear:k.enter;if(!i&&!c||l$.disabled){this.safeSetState({status:o_},function(){o.props.onEntered(v)});return}this.props.onEnter(v,x),this.safeSetState({status:Pv},function(){o.props.onEntering(v,x),o.onTransitionEnd(I,function(){o.safeSetState({status:o_},function(){o.props.onEntered(v,x)})})})},r.performExit=function(){var i=this,o=this.props.exit,c=this.getTimeouts(),a=this.props.nodeRef?void 0:py.findDOMNode(this);if(!o||l$.disabled){this.safeSetState({status:Mv},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:sM},function(){i.props.onExiting(a),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:Mv},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,c=!0;return this.nextCallback=function(a){c&&(c=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:py.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!c||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],v=g[0],x=g[1];this.props.addEndListener(v,x)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===w2)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=dW(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement(OT.Provider,{value:null},typeof c=="function"?c(i,a):we.cloneElement(we.Children.only(c),a))},e})(we.Component);qf.contextType=OT;qf.propTypes={};function Ob(){}qf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ob,onEntering:Ob,onEntered:Ob,onExit:Ob,onExiting:Ob,onExited:Ob};qf.UNMOUNTED=w2;qf.EXITED=Mv;qf.ENTERING=Pv;qf.ENTERED=o_;qf.EXITING=sM;function WEt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nO(t,e){var r=function(o){return e&&ut.isValidElement(o)?e(o):o},n=Object.create(null);return t&&ut.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function YEt(t,e){t=t||{},e=e||{};function r(x){return x in e?e[x]:t[x]}var n=Object.create(null),i=[];for(var o in t)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var c,a={};for(var g in e){if(n[g])for(c=0;c<n[g].length;c++){var v=n[g][c];a[n[g][c]]=r(v)}a[g]=r(g)}for(c=0;c<i.length;c++)a[i[c]]=r(i[c]);return a}function jv(t,e,r){return r[e]!=null?r[e]:t.props[e]}function KEt(t,e){return nO(t.children,function(r){return ut.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:jv(r,"appear",t),enter:jv(r,"enter",t),exit:jv(r,"exit",t)})})}function ZEt(t,e,r){var n=nO(t.children),i=YEt(e,n);return Object.keys(i).forEach(function(o){var c=i[o];if(ut.isValidElement(c)){var a=o in e,g=o in n,v=e[o],x=ut.isValidElement(v)&&!v.props.in;g&&(!a||x)?i[o]=ut.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:jv(c,"exit",t),enter:jv(c,"enter",t)}):!g&&a&&!x?i[o]=ut.cloneElement(c,{in:!1}):g&&a&&ut.isValidElement(v)&&(i[o]=ut.cloneElement(c,{onExited:r.bind(null,c),in:v.props.in,exit:jv(c,"exit",t),enter:jv(c,"enter",t)}))}}),i}var QEt=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},JEt={component:"div",childFactory:function(e){return e}},iO=(function(t){fW(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var c=o.handleExited.bind(WEt(o));return o.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},o}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var c=o.children,a=o.handleExited,g=o.firstRender;return{children:g?KEt(i,a):ZEt(i,c,a),firstRender:!1}},r.handleExited=function(i,o){var c=nO(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var g=NT({},a.children);return delete g[i.key],{children:g}}))},r.render=function(){var i=this.props,o=i.component,c=i.childFactory,a=dW(i,["component","childFactory"]),g=this.state.contextValue,v=QEt(this.state.children).map(c);return delete a.appear,delete a.enter,delete a.exit,o===null?we.createElement(OT.Provider,{value:g},v):we.createElement(OT.Provider,{value:g},we.createElement(o,a,v))},e})(we.Component);iO.propTypes={};iO.defaultProps=JEt;const c$={};function pW(t,e){const r=ut.useRef(c$);return r.current===c$&&(r.current=t(e)),r}const tTt=[];function eTt(t){ut.useEffect(t,tTt)}class FA{static create(){return new FA}currentId=null;start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function $v(){const t=pW(FA.create).current;return eTt(t.disposeEffect),t}const aO=t=>t.scrollTop;function ky(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function rTt(t){return ea("MuiCollapse",t)}Wi("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const nTt=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return ra(n,rTt,r)},iTt=xn("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(Mi(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),aTt=xn("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),oTt=xn("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),DT=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:c,collapsedSize:a="0px",component:g,easing:v,in:x,onEnter:k,onEntered:I,onEntering:S,onExit:P,onExited:D,onExiting:U,orientation:H="vertical",style:G,timeout:z=lW.standard,TransitionComponent:j=qf,...X}=n,Y={...n,orientation:H,collapsedSize:a},et=nTt(Y),st=Mg(),it=$v(),vt=ut.useRef(null),at=ut.useRef(),V=typeof a=="number"?`${a}px`:a,dt=H==="horizontal",mt=dt?"width":"height",wt=ut.useRef(null),pt=cc(r,wt),At=Ut=>ie=>{if(Ut){const Ht=wt.current;ie===void 0?Ut(Ht):Ut(Ht,ie)}},St=()=>vt.current?vt.current[dt?"clientWidth":"clientHeight"]:0,Lt=At((Ut,ie)=>{vt.current&&dt&&(vt.current.style.position="absolute"),Ut.style[mt]=V,k&&k(Ut,ie)}),jt=At((Ut,ie)=>{const Ht=St();vt.current&&dt&&(vt.current.style.position="");const{duration:ce,easing:de}=ky({style:G,timeout:z,easing:v},{mode:"enter"});if(z==="auto"){const Se=st.transitions.getAutoHeightDuration(Ht);Ut.style.transitionDuration=`${Se}ms`,at.current=Se}else Ut.style.transitionDuration=typeof ce=="string"?ce:`${ce}ms`;Ut.style[mt]=`${Ht}px`,Ut.style.transitionTimingFunction=de,S&&S(Ut,ie)}),_t=At((Ut,ie)=>{Ut.style[mt]="auto",I&&I(Ut,ie)}),lt=At(Ut=>{Ut.style[mt]=`${St()}px`,P&&P(Ut)}),Tt=At(D),kt=At(Ut=>{const ie=St(),{duration:Ht,easing:ce}=ky({style:G,timeout:z,easing:v},{mode:"exit"});if(z==="auto"){const de=st.transitions.getAutoHeightDuration(ie);Ut.style.transitionDuration=`${de}ms`,at.current=de}else Ut.style.transitionDuration=typeof Ht=="string"?Ht:`${Ht}ms`;Ut.style[mt]=V,Ut.style.transitionTimingFunction=ce,U&&U(Ut)}),Rt=Ut=>{z==="auto"&&it.start(at.current||0,Ut),i&&i(wt.current,Ut)};return Yt.jsx(j,{in:x,onEnter:Lt,onEntered:_t,onEntering:jt,onExit:lt,onExited:Tt,onExiting:kt,addEndListener:Rt,nodeRef:wt,timeout:z==="auto"?null:z,...X,children:(Ut,{ownerState:ie,...Ht})=>Yt.jsx(iTt,{as:g,className:Xn(et.root,c,{entered:et.entered,exited:!x&&V==="0px"&&et.hidden}[Ut]),style:{[dt?"minWidth":"minHeight"]:V,...G},ref:pt,ownerState:{...Y,state:Ut},...Ht,children:Yt.jsx(aTt,{ownerState:{...Y,state:Ut},className:et.wrapper,ref:vt,children:Yt.jsx(oTt,{ownerState:{...Y,state:Ut},className:et.wrapperInner,children:o})})})})});DT&&(DT.muiSupportAuto=!0);function sTt(t){return ea("MuiPaper",t)}Wi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const lTt=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return ra(o,sTt,i)},cTt=xn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(Mi(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Cx=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiPaper"}),i=Mg(),{className:o,component:c="div",elevation:a=1,square:g=!1,variant:v="elevation",...x}=n,k={...n,component:c,elevation:a,square:g,variant:v},I=lTt(k);return Yt.jsx(cTt,{as:c,ownerState:k,className:Xn(I.root,o),ref:r,...x,style:{...v==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${PT("#fff",iM(a))}, ${PT("#fff",iM(a))})`}},...x.style}})});function Nm(t){return typeof t=="string"}function mW(t,e,r){return t===void 0||Nm(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function gW(t,e,r){return typeof t=="function"?t(e,r):t}function U2(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function u$(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function yW(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=t;if(!e){const S=Xn(r?.className,o,i?.className,n?.className),P={...r?.style,...i?.style,...n?.style},D={...r,...i,...n};return S.length>0&&(D.className=S),Object.keys(P).length>0&&(D.style=P),{props:D,internalRef:void 0}}const c=U2({...i,...n}),a=u$(n),g=u$(i),v=e(c),x=Xn(v?.className,r?.className,o,i?.className,n?.className),k={...v?.style,...r?.style,...i?.style,...n?.style},I={...v,...r,...g,...a};return x.length>0&&(I.className=x),Object.keys(k).length>0&&(I.style=k),{props:I,internalRef:v.ref}}function Xi(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:c,shouldForwardComponentProp:a=!1,...g}=e,{component:v,slots:x={[t]:void 0},slotProps:k={[t]:void 0},...I}=o,S=x[t]||n,P=gW(k[t],i),{props:{component:D,...U},internalRef:H}=yW({className:r,...g,externalForwardedProps:t==="root"?I:void 0,externalSlotProps:P}),G=cc(H,P?.ref,e.ref),z=t==="root"?D||v:D,j=mW(S,{...t==="root"&&!v&&!x[t]&&c,...t!=="root"&&!x[t]&&c,...U,...z&&!a&&{as:z},...z&&a&&{component:z},ref:G},i);return[S,j]}function nx(t){try{return t.matches(":focus-visible")}catch{}return!1}class BT{static create(){return new BT}static use(){const e=pW(BT.create).current,[r,n]=ut.useState(!1);return e.shouldMount=r,e.setShouldMount=n,ut.useEffect(e.mountEffect,[r]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=hTt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function uTt(){return BT.use()}function hTt(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function dTt(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:c,in:a,onExited:g,timeout:v}=t,[x,k]=ut.useState(!1),I=Xn(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),S={width:c,height:c,top:-(c/2)+o,left:-(c/2)+i},P=Xn(r.child,x&&r.childLeaving,n&&r.childPulsate);return!a&&!x&&k(!0),ut.useEffect(()=>{if(!a&&g!=null){const D=setTimeout(g,v);return()=>{clearTimeout(D)}}},[g,a,v]),Yt.jsx("span",{className:I,style:S,children:Yt.jsx("span",{className:P})})}const bf=Wi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lM=550,fTt=80,pTt=sS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,mTt=sS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,gTt=sS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,yTt=xn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vTt=xn(dTt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${bf.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${pTt};
    animation-duration: ${lM}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${bf.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${bf.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${bf.childLeaving} {
    opacity: 0;
    animation-name: ${mTt};
    animation-duration: ${lM}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${bf.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${gTt};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,bTt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:c,...a}=n,[g,v]=ut.useState([]),x=ut.useRef(0),k=ut.useRef(null);ut.useEffect(()=>{k.current&&(k.current(),k.current=null)},[g]);const I=ut.useRef(!1),S=$v(),P=ut.useRef(null),D=ut.useRef(null),U=ut.useCallback(j=>{const{pulsate:X,rippleX:Y,rippleY:et,rippleSize:st,cb:it}=j;v(vt=>[...vt,Yt.jsx(vTt,{classes:{ripple:Xn(o.ripple,bf.ripple),rippleVisible:Xn(o.rippleVisible,bf.rippleVisible),ripplePulsate:Xn(o.ripplePulsate,bf.ripplePulsate),child:Xn(o.child,bf.child),childLeaving:Xn(o.childLeaving,bf.childLeaving),childPulsate:Xn(o.childPulsate,bf.childPulsate)},timeout:lM,pulsate:X,rippleX:Y,rippleY:et,rippleSize:st},x.current)]),x.current+=1,k.current=it},[o]),H=ut.useCallback((j={},X={},Y=()=>{})=>{const{pulsate:et=!1,center:st=i||X.pulsate,fakeElement:it=!1}=X;if(j?.type==="mousedown"&&I.current){I.current=!1;return}j?.type==="touchstart"&&(I.current=!0);const vt=it?null:D.current,at=vt?vt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,dt,mt;if(st||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)V=Math.round(at.width/2),dt=Math.round(at.height/2);else{const{clientX:wt,clientY:pt}=j.touches&&j.touches.length>0?j.touches[0]:j;V=Math.round(wt-at.left),dt=Math.round(pt-at.top)}if(st)mt=Math.sqrt((2*at.width**2+at.height**2)/3),mt%2===0&&(mt+=1);else{const wt=Math.max(Math.abs((vt?vt.clientWidth:0)-V),V)*2+2,pt=Math.max(Math.abs((vt?vt.clientHeight:0)-dt),dt)*2+2;mt=Math.sqrt(wt**2+pt**2)}j?.touches?P.current===null&&(P.current=()=>{U({pulsate:et,rippleX:V,rippleY:dt,rippleSize:mt,cb:Y})},S.start(fTt,()=>{P.current&&(P.current(),P.current=null)})):U({pulsate:et,rippleX:V,rippleY:dt,rippleSize:mt,cb:Y})},[i,U,S]),G=ut.useCallback(()=>{H({},{pulsate:!0})},[H]),z=ut.useCallback((j,X)=>{if(S.clear(),j?.type==="touchend"&&P.current){P.current(),P.current=null,S.start(0,()=>{z(j,X)});return}P.current=null,v(Y=>Y.length>0?Y.slice(1):Y),k.current=X},[S]);return ut.useImperativeHandle(r,()=>({pulsate:G,start:H,stop:z}),[G,H,z]),Yt.jsx(yTt,{className:Xn(bf.root,o.root,c),ref:D,...a,children:Yt.jsx(iO,{component:null,exit:!0,children:g})})});function _Tt(t){return ea("MuiButtonBase",t)}const xTt=Wi("MuiButtonBase",["root","disabled","focusVisible"]),wTt=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,c=ra({root:["root",e&&"disabled",r&&"focusVisible"]},_Tt,i);return r&&n&&(c.root+=` ${n}`),c},STt=xn("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${xTt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Iy=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:c,className:a,component:g="button",disabled:v=!1,disableRipple:x=!1,disableTouchRipple:k=!1,focusRipple:I=!1,focusVisibleClassName:S,LinkComponent:P="a",onBlur:D,onClick:U,onContextMenu:H,onDragLeave:G,onFocus:z,onFocusVisible:j,onKeyDown:X,onKeyUp:Y,onMouseDown:et,onMouseLeave:st,onMouseUp:it,onTouchEnd:vt,onTouchMove:at,onTouchStart:V,tabIndex:dt=0,TouchRippleProps:mt,touchRippleRef:wt,type:pt,...At}=n,St=ut.useRef(null),Lt=uTt(),jt=cc(Lt.ref,wt),[_t,lt]=ut.useState(!1);v&&_t&&lt(!1),ut.useImperativeHandle(i,()=>({focusVisible:()=>{lt(!0),St.current.focus()}}),[]);const Tt=Lt.shouldMount&&!x&&!v;ut.useEffect(()=>{_t&&I&&!x&&Lt.pulsate()},[x,I,_t,Lt]);const kt=cg(Lt,"start",et,k),Rt=cg(Lt,"stop",H,k),Ut=cg(Lt,"stop",G,k),ie=cg(Lt,"stop",it,k),Ht=cg(Lt,"stop",Rr=>{_t&&Rr.preventDefault(),st&&st(Rr)},k),ce=cg(Lt,"start",V,k),de=cg(Lt,"stop",vt,k),Se=cg(Lt,"stop",at,k),Vt=cg(Lt,"stop",Rr=>{nx(Rr.target)||lt(!1),D&&D(Rr)},!1),He=Nf(Rr=>{St.current||(St.current=Rr.currentTarget),nx(Rr.target)&&(lt(!0),j&&j(Rr)),z&&z(Rr)}),ke=()=>{const Rr=St.current;return g&&g!=="button"&&!(Rr.tagName==="A"&&Rr.href)},Jt=Nf(Rr=>{I&&!Rr.repeat&&_t&&Rr.key===" "&&Lt.stop(Rr,()=>{Lt.start(Rr)}),Rr.target===Rr.currentTarget&&ke()&&Rr.key===" "&&Rr.preventDefault(),X&&X(Rr),Rr.target===Rr.currentTarget&&ke()&&Rr.key==="Enter"&&!v&&(Rr.preventDefault(),U&&U(Rr))}),$r=Nf(Rr=>{I&&Rr.key===" "&&_t&&!Rr.defaultPrevented&&Lt.stop(Rr,()=>{Lt.pulsate(Rr)}),Y&&Y(Rr),U&&Rr.target===Rr.currentTarget&&ke()&&Rr.key===" "&&!Rr.defaultPrevented&&U(Rr)});let vr=g;vr==="button"&&(At.href||At.to)&&(vr=P);const Dr={};vr==="button"?(Dr.type=pt===void 0?"button":pt,Dr.disabled=v):(!At.href&&!At.to&&(Dr.role="button"),v&&(Dr["aria-disabled"]=v));const Ie=cc(r,St),Mr={...n,centerRipple:o,component:g,disabled:v,disableRipple:x,disableTouchRipple:k,focusRipple:I,tabIndex:dt,focusVisible:_t},ir=wTt(Mr);return Yt.jsxs(STt,{as:vr,className:Xn(ir.root,a),ownerState:Mr,onBlur:Vt,onClick:U,onContextMenu:Rt,onFocus:He,onKeyDown:Jt,onKeyUp:$r,onMouseDown:kt,onMouseLeave:Ht,onMouseUp:ie,onDragLeave:Ut,onTouchEnd:de,onTouchMove:Se,onTouchStart:ce,ref:Ie,tabIndex:v?-1:dt,type:pt,...Dr,...At,children:[c,Tt?Yt.jsx(bTt,{ref:jt,center:o,...mt}):null]})});function cg(t,e,r,n=!1){return Nf(i=>(r&&r(i),n||t[e](i),!0))}function ETt(t){return typeof t.main=="string"}function TTt(t,e=[]){if(!ETt(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function Dl(t=[]){return([,e])=>e&&TTt(e,t)}function CTt(t){return ea("MuiAlert",t)}const h$=Wi("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function ATt(t){return ea("MuiCircularProgress",t)}Wi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const up=44,cM=sS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,uM=sS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,kTt=typeof cM!="string"?U4`
        animation: ${cM} 1.4s linear infinite;
      `:null,ITt=typeof uM!="string"?U4`
        animation: ${uM} 1.4s ease-in-out infinite;
      `:null,RTt=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,o={root:["root",r,`color${cn(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${cn(r)}`,i&&"circleDisableShrink"]};return ra(o,ATt,e)},NTt=xn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${cn(r.color)}`]]}})(Mi(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:kTt||{animation:`${cM} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),LTt=xn("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),MTt=xn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${cn(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(Mi(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:ITt||{animation:`${uM} 1.4s ease-in-out infinite`}}]}))),PTt=xn("circle",{name:"MuiCircularProgress",slot:"Track"})(Mi(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),zT=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:c=!1,enableTrackSlot:a=!1,size:g=40,style:v,thickness:x=3.6,value:k=0,variant:I="indeterminate",...S}=n,P={...n,color:o,disableShrink:c,size:g,thickness:x,value:k,variant:I,enableTrackSlot:a},D=RTt(P),U={},H={},G={};if(I==="determinate"){const z=2*Math.PI*((up-x)/2);U.strokeDasharray=z.toFixed(3),G["aria-valuenow"]=Math.round(k),U.strokeDashoffset=`${((100-k)/100*z).toFixed(3)}px`,H.transform="rotate(-90deg)"}return Yt.jsx(NTt,{className:Xn(D.root,i),style:{width:g,height:g,...H,...v},ownerState:P,ref:r,role:"progressbar",...G,...S,children:Yt.jsxs(LTt,{className:D.svg,ownerState:P,viewBox:`${up/2} ${up/2} ${up} ${up}`,children:[a?Yt.jsx(PTt,{className:D.track,ownerState:P,cx:up,cy:up,r:(up-x)/2,fill:"none",strokeWidth:x,"aria-hidden":"true"}):null,Yt.jsx(MTt,{className:D.circle,style:U,ownerState:P,cx:up,cy:up,r:(up-x)/2,fill:"none",strokeWidth:x})]})})});function OTt(t){return ea("MuiIconButton",t)}const d$=Wi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),DTt=t=>{const{classes:e,disabled:r,color:n,edge:i,size:o,loading:c}=t,a={root:["root",c&&"loading",r&&"disabled",n!=="default"&&`color${cn(n)}`,i&&`edge${cn(i)}`,`size${cn(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ra(a,OTt,e)},BTt=xn(Iy,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${cn(r.color)}`],r.edge&&e[`edge${cn(r.edge)}`],e[`size${cn(r.size)}`]]}})(Mi(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Mi(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${d$.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${d$.loading}`]:{color:"transparent"}}))),zTt=xn("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Wd=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:c,color:a="default",disabled:g=!1,disableFocusRipple:v=!1,size:x="medium",id:k,loading:I=null,loadingIndicator:S,...P}=n,D=w0(k),U=S??Yt.jsx(zT,{"aria-labelledby":D,color:"inherit",size:16}),H={...n,edge:i,color:a,disabled:g,disableFocusRipple:v,loading:I,loadingIndicator:U,size:x},G=DTt(H);return Yt.jsxs(BTt,{id:I?D:k,className:Xn(G.root,c),centerRipple:!0,focusRipple:!v,disabled:g||I,ref:r,...P,ownerState:H,children:[typeof I=="boolean"&&Yt.jsx("span",{className:G.loadingWrapper,style:{display:"contents"},children:Yt.jsx(zTt,{className:G.loadingIndicator,ownerState:H,children:I&&U})}),o]})}),FTt=zl(Yt.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),jTt=zl(Yt.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),$Tt=zl(Yt.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),VTt=zl(Yt.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),UTt=zl(Yt.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),qTt=t=>{const{variant:e,color:r,severity:n,classes:i}=t,o={root:["root",`color${cn(r||n)}`,`${e}${cn(r||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return ra(o,CTt,i)},GTt=xn(Cx,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${cn(r.color||r.severity)}`]]}})(Mi(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,r=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Dl(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:r(t.palette[n].light,.9),[`& .${h$.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Dl(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${h$.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Dl(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),HTt=xn("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),XTt=xn("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),WTt=xn("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),f$={success:Yt.jsx(FTt,{fontSize:"inherit"}),warning:Yt.jsx(jTt,{fontSize:"inherit"}),error:Yt.jsx($Tt,{fontSize:"inherit"}),info:Yt.jsx(VTt,{fontSize:"inherit"})},YTt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiAlert"}),{action:i,children:o,className:c,closeText:a="Close",color:g,components:v={},componentsProps:x={},icon:k,iconMapping:I=f$,onClose:S,role:P="alert",severity:D="success",slotProps:U={},slots:H={},variant:G="standard",...z}=n,j={...n,color:g,severity:D,variant:G,colorSeverity:g||D},X=qTt(j),Y={slots:{closeButton:v.CloseButton,closeIcon:v.CloseIcon,...H},slotProps:{...x,...U}},[et,st]=Xi("root",{ref:r,shouldForwardComponentProp:!0,className:Xn(X.root,c),elementType:GTt,externalForwardedProps:{...Y,...z},ownerState:j,additionalProps:{role:P,elevation:0}}),[it,vt]=Xi("icon",{className:X.icon,elementType:HTt,externalForwardedProps:Y,ownerState:j}),[at,V]=Xi("message",{className:X.message,elementType:XTt,externalForwardedProps:Y,ownerState:j}),[dt,mt]=Xi("action",{className:X.action,elementType:WTt,externalForwardedProps:Y,ownerState:j}),[wt,pt]=Xi("closeButton",{elementType:Wd,externalForwardedProps:Y,ownerState:j}),[At,St]=Xi("closeIcon",{elementType:UTt,externalForwardedProps:Y,ownerState:j});return Yt.jsxs(et,{...st,children:[k!==!1?Yt.jsx(it,{...vt,children:k||I[D]||f$[D]}):null,Yt.jsx(at,{...V,children:o}),i!=null?Yt.jsx(dt,{...mt,children:i}):null,i==null&&S?Yt.jsx(dt,{...mt,children:Yt.jsx(wt,{size:"small","aria-label":a,title:a,color:"inherit",onClick:S,...pt,children:Yt.jsx(At,{fontSize:"small",...St})})}):null]})});function KTt(t){return ea("MuiTypography",t)}const p$=Wi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),ZTt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},QTt=VEt(),JTt=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:c}=t,a={root:["root",o,t.align!=="inherit"&&`align${cn(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return ra(a,KTt,c)},tCt=xn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${cn(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(Mi(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,r])=>e!=="inherit"&&r&&typeof r=="object").map(([e,r])=>({props:{variant:e},style:r})),...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${cn(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),m$={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},uo=ut.forwardRef(function(e,r){const{color:n,...i}=ca({props:e,name:"MuiTypography"}),o=!ZTt[n],c=QTt({...i,...o&&{color:n}}),{align:a="inherit",className:g,component:v,gutterBottom:x=!1,noWrap:k=!1,paragraph:I=!1,variant:S="body1",variantMapping:P=m$,...D}=c,U={...c,align:a,color:n,className:g,component:v,gutterBottom:x,noWrap:k,paragraph:I,variant:S,variantMapping:P},H=v||(I?"p":P[S]||m$[S])||"span",G=JTt(U);return Yt.jsx(tCt,{as:H,ref:r,className:Xn(G.root,g),...D,ownerState:U,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...D.style}})});function eCt(t){return ea("MuiAppBar",t)}Wi("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const rCt=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${cn(e)}`,`position${cn(r)}`]};return ra(i,eCt,n)},g$=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,nCt=xn(Cx,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${cn(r.position)}`],e[`color${cn(r.color)}`]]}})(Mi(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Dl(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?g$(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?g$(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),iCt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:c=!1,position:a="fixed",...g}=n,v={...n,color:o,position:a,enableColorOnDark:c},x=rCt(v);return Yt.jsx(nCt,{square:!0,component:"header",ownerState:v,elevation:4,className:Xn(x.root,i,a==="fixed"&&"mui-fixed"),ref:r,...g})});var gd="top",zf="bottom",Ff="right",yd="left",oO="auto",uS=[gd,zf,Ff,yd],ix="start",xw="end",aCt="clippingParents",vW="viewport",t2="popper",oCt="reference",y$=uS.reduce(function(t,e){return t.concat([e+"-"+ix,e+"-"+xw])},[]),bW=[].concat(uS,[oO]).reduce(function(t,e){return t.concat([e,e+"-"+ix,e+"-"+xw])},[]),sCt="beforeRead",lCt="read",cCt="afterRead",uCt="beforeMain",hCt="main",dCt="afterMain",fCt="beforeWrite",pCt="write",mCt="afterWrite",gCt=[sCt,lCt,cCt,uCt,hCt,dCt,fCt,pCt,mCt];function Om(t){return t?(t.nodeName||"").toLowerCase():null}function of(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function s0(t){var e=of(t).Element;return t instanceof e||t instanceof Element}function Lf(t){var e=of(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sO(t){if(typeof ShadowRoot>"u")return!1;var e=of(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function yCt(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!Lf(o)||!Om(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(c){var a=i[c];a===!1?o.removeAttribute(c):o.setAttribute(c,a===!0?"":a)}))})}function vCt(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},c=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=c.reduce(function(g,v){return g[v]="",g},{});!Lf(i)||!Om(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(g){i.removeAttribute(g)}))})}}const bCt={name:"applyStyles",enabled:!0,phase:"write",fn:yCt,effect:vCt,requires:["computeStyles"]};function Lm(t){return t.split("-")[0]}var Yv=Math.max,FT=Math.min,ax=Math.round;function hM(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _W(){return!/^((?!chrome|android).)*safari/i.test(hM())}function ox(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&Lf(t)&&(i=t.offsetWidth>0&&ax(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ax(n.height)/t.offsetHeight||1);var c=s0(t)?of(t):window,a=c.visualViewport,g=!_W()&&r,v=(n.left+(g&&a?a.offsetLeft:0))/i,x=(n.top+(g&&a?a.offsetTop:0))/o,k=n.width/i,I=n.height/o;return{width:k,height:I,top:x,right:v+k,bottom:x+I,left:v,x:v,y:x}}function lO(t){var e=ox(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function xW(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&sO(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function kg(t){return of(t).getComputedStyle(t)}function _Ct(t){return["table","td","th"].indexOf(Om(t))>=0}function Fy(t){return((s0(t)?t.ownerDocument:t.document)||window.document).documentElement}function jA(t){return Om(t)==="html"?t:t.assignedSlot||t.parentNode||(sO(t)?t.host:null)||Fy(t)}function v$(t){return!Lf(t)||kg(t).position==="fixed"?null:t.offsetParent}function xCt(t){var e=/firefox/i.test(hM()),r=/Trident/i.test(hM());if(r&&Lf(t)){var n=kg(t);if(n.position==="fixed")return null}var i=jA(t);for(sO(i)&&(i=i.host);Lf(i)&&["html","body"].indexOf(Om(i))<0;){var o=kg(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function hS(t){for(var e=of(t),r=v$(t);r&&_Ct(r)&&kg(r).position==="static";)r=v$(r);return r&&(Om(r)==="html"||Om(r)==="body"&&kg(r).position==="static")?e:r||xCt(t)||e}function cO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function q2(t,e,r){return Yv(t,FT(e,r))}function wCt(t,e,r){var n=q2(t,e,r);return n>r?r:n}function wW(){return{top:0,right:0,bottom:0,left:0}}function SW(t){return Object.assign({},wW(),t)}function EW(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var SCt=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,SW(typeof e!="number"?e:EW(e,uS))};function ECt(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,c=r.modifiersData.popperOffsets,a=Lm(r.placement),g=cO(a),v=[yd,Ff].indexOf(a)>=0,x=v?"height":"width";if(!(!o||!c)){var k=SCt(i.padding,r),I=lO(o),S=g==="y"?gd:yd,P=g==="y"?zf:Ff,D=r.rects.reference[x]+r.rects.reference[g]-c[g]-r.rects.popper[x],U=c[g]-r.rects.reference[g],H=hS(o),G=H?g==="y"?H.clientHeight||0:H.clientWidth||0:0,z=D/2-U/2,j=k[S],X=G-I[x]-k[P],Y=G/2-I[x]/2+z,et=q2(j,Y,X),st=g;r.modifiersData[n]=(e={},e[st]=et,e.centerOffset=et-Y,e)}}function TCt(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||xW(e.elements.popper,i)&&(e.elements.arrow=i))}const CCt={name:"arrow",enabled:!0,phase:"main",fn:ECt,effect:TCt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sx(t){return t.split("-")[1]}var ACt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kCt(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:ax(r*i)/i||0,y:ax(n*i)/i||0}}function b$(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,c=t.offsets,a=t.position,g=t.gpuAcceleration,v=t.adaptive,x=t.roundOffsets,k=t.isFixed,I=c.x,S=I===void 0?0:I,P=c.y,D=P===void 0?0:P,U=typeof x=="function"?x({x:S,y:D}):{x:S,y:D};S=U.x,D=U.y;var H=c.hasOwnProperty("x"),G=c.hasOwnProperty("y"),z=yd,j=gd,X=window;if(v){var Y=hS(r),et="clientHeight",st="clientWidth";if(Y===of(r)&&(Y=Fy(r),kg(Y).position!=="static"&&a==="absolute"&&(et="scrollHeight",st="scrollWidth")),Y=Y,i===gd||(i===yd||i===Ff)&&o===xw){j=zf;var it=k&&Y===X&&X.visualViewport?X.visualViewport.height:Y[et];D-=it-n.height,D*=g?1:-1}if(i===yd||(i===gd||i===zf)&&o===xw){z=Ff;var vt=k&&Y===X&&X.visualViewport?X.visualViewport.width:Y[st];S-=vt-n.width,S*=g?1:-1}}var at=Object.assign({position:a},v&&ACt),V=x===!0?kCt({x:S,y:D},of(r)):{x:S,y:D};if(S=V.x,D=V.y,g){var dt;return Object.assign({},at,(dt={},dt[j]=G?"0":"",dt[z]=H?"0":"",dt.transform=(X.devicePixelRatio||1)<=1?"translate("+S+"px, "+D+"px)":"translate3d("+S+"px, "+D+"px, 0)",dt))}return Object.assign({},at,(e={},e[j]=G?D+"px":"",e[z]=H?S+"px":"",e.transform="",e))}function ICt(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,c=o===void 0?!0:o,a=r.roundOffsets,g=a===void 0?!0:a,v={placement:Lm(e.placement),variation:sx(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,b$(Object.assign({},v,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,b$(Object.assign({},v,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const RCt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ICt,data:{}};var H5={passive:!0};function NCt(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,c=n.resize,a=c===void 0?!0:c,g=of(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&v.forEach(function(x){x.addEventListener("scroll",r.update,H5)}),a&&g.addEventListener("resize",r.update,H5),function(){o&&v.forEach(function(x){x.removeEventListener("scroll",r.update,H5)}),a&&g.removeEventListener("resize",r.update,H5)}}const LCt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:NCt,data:{}};var MCt={left:"right",right:"left",bottom:"top",top:"bottom"};function NE(t){return t.replace(/left|right|bottom|top/g,function(e){return MCt[e]})}var PCt={start:"end",end:"start"};function _$(t){return t.replace(/start|end/g,function(e){return PCt[e]})}function uO(t){var e=of(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function hO(t){return ox(Fy(t)).left+uO(t).scrollLeft}function OCt(t,e){var r=of(t),n=Fy(t),i=r.visualViewport,o=n.clientWidth,c=n.clientHeight,a=0,g=0;if(i){o=i.width,c=i.height;var v=_W();(v||!v&&e==="fixed")&&(a=i.offsetLeft,g=i.offsetTop)}return{width:o,height:c,x:a+hO(t),y:g}}function DCt(t){var e,r=Fy(t),n=uO(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Yv(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Yv(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+hO(t),g=-n.scrollTop;return kg(i||r).direction==="rtl"&&(a+=Yv(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:c,x:a,y:g}}function dO(t){var e=kg(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function TW(t){return["html","body","#document"].indexOf(Om(t))>=0?t.ownerDocument.body:Lf(t)&&dO(t)?t:TW(jA(t))}function G2(t,e){var r;e===void 0&&(e=[]);var n=TW(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=of(n),c=i?[o].concat(o.visualViewport||[],dO(n)?n:[]):n,a=e.concat(c);return i?a:a.concat(G2(jA(c)))}function dM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function BCt(t,e){var r=ox(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function x$(t,e,r){return e===vW?dM(OCt(t,r)):s0(e)?BCt(e,r):dM(DCt(Fy(t)))}function zCt(t){var e=G2(jA(t)),r=["absolute","fixed"].indexOf(kg(t).position)>=0,n=r&&Lf(t)?hS(t):t;return s0(n)?e.filter(function(i){return s0(i)&&xW(i,n)&&Om(i)!=="body"}):[]}function FCt(t,e,r,n){var i=e==="clippingParents"?zCt(t):[].concat(e),o=[].concat(i,[r]),c=o[0],a=o.reduce(function(g,v){var x=x$(t,v,n);return g.top=Yv(x.top,g.top),g.right=FT(x.right,g.right),g.bottom=FT(x.bottom,g.bottom),g.left=Yv(x.left,g.left),g},x$(t,c,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function CW(t){var e=t.reference,r=t.element,n=t.placement,i=n?Lm(n):null,o=n?sx(n):null,c=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,g;switch(i){case gd:g={x:c,y:e.y-r.height};break;case zf:g={x:c,y:e.y+e.height};break;case Ff:g={x:e.x+e.width,y:a};break;case yd:g={x:e.x-r.width,y:a};break;default:g={x:e.x,y:e.y}}var v=i?cO(i):null;if(v!=null){var x=v==="y"?"height":"width";switch(o){case ix:g[v]=g[v]-(e[x]/2-r[x]/2);break;case xw:g[v]=g[v]+(e[x]/2-r[x]/2);break}}return g}function ww(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,c=o===void 0?t.strategy:o,a=r.boundary,g=a===void 0?aCt:a,v=r.rootBoundary,x=v===void 0?vW:v,k=r.elementContext,I=k===void 0?t2:k,S=r.altBoundary,P=S===void 0?!1:S,D=r.padding,U=D===void 0?0:D,H=SW(typeof U!="number"?U:EW(U,uS)),G=I===t2?oCt:t2,z=t.rects.popper,j=t.elements[P?G:I],X=FCt(s0(j)?j:j.contextElement||Fy(t.elements.popper),g,x,c),Y=ox(t.elements.reference),et=CW({reference:Y,element:z,placement:i}),st=dM(Object.assign({},z,et)),it=I===t2?st:Y,vt={top:X.top-it.top+H.top,bottom:it.bottom-X.bottom+H.bottom,left:X.left-it.left+H.left,right:it.right-X.right+H.right},at=t.modifiersData.offset;if(I===t2&&at){var V=at[i];Object.keys(vt).forEach(function(dt){var mt=[Ff,zf].indexOf(dt)>=0?1:-1,wt=[gd,zf].indexOf(dt)>=0?"y":"x";vt[dt]+=V[wt]*mt})}return vt}function jCt(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,c=r.padding,a=r.flipVariations,g=r.allowedAutoPlacements,v=g===void 0?bW:g,x=sx(n),k=x?a?y$:y$.filter(function(P){return sx(P)===x}):uS,I=k.filter(function(P){return v.indexOf(P)>=0});I.length===0&&(I=k);var S=I.reduce(function(P,D){return P[D]=ww(t,{placement:D,boundary:i,rootBoundary:o,padding:c})[Lm(D)],P},{});return Object.keys(S).sort(function(P,D){return S[P]-S[D]})}function $Ct(t){if(Lm(t)===oO)return[];var e=NE(t);return[_$(t),e,_$(e)]}function VCt(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,a=c===void 0?!0:c,g=r.fallbackPlacements,v=r.padding,x=r.boundary,k=r.rootBoundary,I=r.altBoundary,S=r.flipVariations,P=S===void 0?!0:S,D=r.allowedAutoPlacements,U=e.options.placement,H=Lm(U),G=H===U,z=g||(G||!P?[NE(U)]:$Ct(U)),j=[U].concat(z).reduce(function(kt,Rt){return kt.concat(Lm(Rt)===oO?jCt(e,{placement:Rt,boundary:x,rootBoundary:k,padding:v,flipVariations:P,allowedAutoPlacements:D}):Rt)},[]),X=e.rects.reference,Y=e.rects.popper,et=new Map,st=!0,it=j[0],vt=0;vt<j.length;vt++){var at=j[vt],V=Lm(at),dt=sx(at)===ix,mt=[gd,zf].indexOf(V)>=0,wt=mt?"width":"height",pt=ww(e,{placement:at,boundary:x,rootBoundary:k,altBoundary:I,padding:v}),At=mt?dt?Ff:yd:dt?zf:gd;X[wt]>Y[wt]&&(At=NE(At));var St=NE(At),Lt=[];if(o&&Lt.push(pt[V]<=0),a&&Lt.push(pt[At]<=0,pt[St]<=0),Lt.every(function(kt){return kt})){it=at,st=!1;break}et.set(at,Lt)}if(st)for(var jt=P?3:1,_t=function(Rt){var Ut=j.find(function(ie){var Ht=et.get(ie);if(Ht)return Ht.slice(0,Rt).every(function(ce){return ce})});if(Ut)return it=Ut,"break"},lt=jt;lt>0;lt--){var Tt=_t(lt);if(Tt==="break")break}e.placement!==it&&(e.modifiersData[n]._skip=!0,e.placement=it,e.reset=!0)}}const UCt={name:"flip",enabled:!0,phase:"main",fn:VCt,requiresIfExists:["offset"],data:{_skip:!1}};function w$(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function S$(t){return[gd,Ff,zf,yd].some(function(e){return t[e]>=0})}function qCt(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,c=ww(e,{elementContext:"reference"}),a=ww(e,{altBoundary:!0}),g=w$(c,n),v=w$(a,i,o),x=S$(g),k=S$(v);e.modifiersData[r]={referenceClippingOffsets:g,popperEscapeOffsets:v,isReferenceHidden:x,hasPopperEscaped:k},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":k})}const GCt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qCt};function HCt(t,e,r){var n=Lm(t),i=[yd,gd].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,c=o[0],a=o[1];return c=c||0,a=(a||0)*i,[yd,Ff].indexOf(n)>=0?{x:a,y:c}:{x:c,y:a}}function XCt(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,c=bW.reduce(function(x,k){return x[k]=HCt(k,e.rects,o),x},{}),a=c[e.placement],g=a.x,v=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=v),e.modifiersData[n]=c}const WCt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:XCt};function YCt(t){var e=t.state,r=t.name;e.modifiersData[r]=CW({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const KCt={name:"popperOffsets",enabled:!0,phase:"read",fn:YCt,data:{}};function ZCt(t){return t==="x"?"y":"x"}function QCt(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,c=r.altAxis,a=c===void 0?!1:c,g=r.boundary,v=r.rootBoundary,x=r.altBoundary,k=r.padding,I=r.tether,S=I===void 0?!0:I,P=r.tetherOffset,D=P===void 0?0:P,U=ww(e,{boundary:g,rootBoundary:v,padding:k,altBoundary:x}),H=Lm(e.placement),G=sx(e.placement),z=!G,j=cO(H),X=ZCt(j),Y=e.modifiersData.popperOffsets,et=e.rects.reference,st=e.rects.popper,it=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,vt=typeof it=="number"?{mainAxis:it,altAxis:it}:Object.assign({mainAxis:0,altAxis:0},it),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(Y){if(o){var dt,mt=j==="y"?gd:yd,wt=j==="y"?zf:Ff,pt=j==="y"?"height":"width",At=Y[j],St=At+U[mt],Lt=At-U[wt],jt=S?-st[pt]/2:0,_t=G===ix?et[pt]:st[pt],lt=G===ix?-st[pt]:-et[pt],Tt=e.elements.arrow,kt=S&&Tt?lO(Tt):{width:0,height:0},Rt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wW(),Ut=Rt[mt],ie=Rt[wt],Ht=q2(0,et[pt],kt[pt]),ce=z?et[pt]/2-jt-Ht-Ut-vt.mainAxis:_t-Ht-Ut-vt.mainAxis,de=z?-et[pt]/2+jt+Ht+ie+vt.mainAxis:lt+Ht+ie+vt.mainAxis,Se=e.elements.arrow&&hS(e.elements.arrow),Vt=Se?j==="y"?Se.clientTop||0:Se.clientLeft||0:0,He=(dt=at?.[j])!=null?dt:0,ke=At+ce-He-Vt,Jt=At+de-He,$r=q2(S?FT(St,ke):St,At,S?Yv(Lt,Jt):Lt);Y[j]=$r,V[j]=$r-At}if(a){var vr,Dr=j==="x"?gd:yd,Ie=j==="x"?zf:Ff,Mr=Y[X],ir=X==="y"?"height":"width",Rr=Mr+U[Dr],Pr=Mr-U[Ie],Ir=[gd,yd].indexOf(H)!==-1,dr=(vr=at?.[X])!=null?vr:0,ar=Ir?Rr:Mr-et[ir]-st[ir]-dr+vt.altAxis,Or=Ir?Mr+et[ir]+st[ir]-dr-vt.altAxis:Pr,er=S&&Ir?wCt(ar,Mr,Or):q2(S?ar:Rr,Mr,S?Or:Pr);Y[X]=er,V[X]=er-Mr}e.modifiersData[n]=V}}const JCt={name:"preventOverflow",enabled:!0,phase:"main",fn:QCt,requiresIfExists:["offset"]};function tAt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function eAt(t){return t===of(t)||!Lf(t)?uO(t):tAt(t)}function rAt(t){var e=t.getBoundingClientRect(),r=ax(e.width)/t.offsetWidth||1,n=ax(e.height)/t.offsetHeight||1;return r!==1||n!==1}function nAt(t,e,r){r===void 0&&(r=!1);var n=Lf(e),i=Lf(e)&&rAt(e),o=Fy(e),c=ox(t,i,r),a={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(n||!n&&!r)&&((Om(e)!=="body"||dO(o))&&(a=eAt(e)),Lf(e)?(g=ox(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):o&&(g.x=hO(o))),{x:c.left+a.scrollLeft-g.x,y:c.top+a.scrollTop-g.y,width:c.width,height:c.height}}function iAt(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var c=[].concat(o.requires||[],o.requiresIfExists||[]);c.forEach(function(a){if(!r.has(a)){var g=e.get(a);g&&i(g)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function aAt(t){var e=iAt(t);return gCt.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function oAt(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function sAt(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var E$={placement:"bottom",modifiers:[],strategy:"absolute"};function T$(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function lAt(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?E$:i;return function(a,g,v){v===void 0&&(v=o);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},E$,o),modifiersData:{},elements:{reference:a,popper:g},attributes:{},styles:{}},k=[],I=!1,S={state:x,setOptions:function(H){var G=typeof H=="function"?H(x.options):H;D(),x.options=Object.assign({},o,x.options,G),x.scrollParents={reference:s0(a)?G2(a):a.contextElement?G2(a.contextElement):[],popper:G2(g)};var z=aAt(sAt([].concat(n,x.options.modifiers)));return x.orderedModifiers=z.filter(function(j){return j.enabled}),P(),S.update()},forceUpdate:function(){if(!I){var H=x.elements,G=H.reference,z=H.popper;if(T$(G,z)){x.rects={reference:nAt(G,hS(z),x.options.strategy==="fixed"),popper:lO(z)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(vt){return x.modifiersData[vt.name]=Object.assign({},vt.data)});for(var j=0;j<x.orderedModifiers.length;j++){if(x.reset===!0){x.reset=!1,j=-1;continue}var X=x.orderedModifiers[j],Y=X.fn,et=X.options,st=et===void 0?{}:et,it=X.name;typeof Y=="function"&&(x=Y({state:x,options:st,name:it,instance:S})||x)}}}},update:oAt(function(){return new Promise(function(U){S.forceUpdate(),U(x)})}),destroy:function(){D(),I=!0}};if(!T$(a,g))return S;S.setOptions(v).then(function(U){!I&&v.onFirstUpdate&&v.onFirstUpdate(U)});function P(){x.orderedModifiers.forEach(function(U){var H=U.name,G=U.options,z=G===void 0?{}:G,j=U.effect;if(typeof j=="function"){var X=j({state:x,name:H,instance:S,options:z}),Y=function(){};k.push(X||Y)}})}function D(){k.forEach(function(U){return U()}),k=[]}return S}}var cAt=[LCt,KCt,RCt,bCt,WCt,UCt,JCt,CCt,GCt],uAt=lAt({defaultModifiers:cAt});function om(t){const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=t,c=i?{}:gW(r,n),{props:a,internalRef:g}=yW({...o,externalSlotProps:c}),v=cc(g,c?.ref,t.additionalProps?.ref);return mW(e,{...a,ref:v},n)}function S0(t){return parseInt(ut.version,10)>=19?t?.props?.ref||null:t?.ref||null}function hAt(t){return typeof t=="function"?t():t}const AW=ut.forwardRef(function(e,r){const{children:n,container:i,disablePortal:o=!1}=e,[c,a]=ut.useState(null),g=cc(ut.isValidElement(n)?S0(n):null,r);if(Qh(()=>{o||a(hAt(i)||document.body)},[i,o]),Qh(()=>{if(c&&!o)return s$(r,c),()=>{s$(r,null)}},[r,c,o]),o){if(ut.isValidElement(n)){const v={ref:g};return ut.cloneElement(n,v)}return n}return c&&DM.createPortal(n,c)});function dAt(t){return ea("MuiPopper",t)}Wi("MuiPopper",["root"]);function fAt(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function fM(t){return typeof t=="function"?t():t}function pAt(t){return t.nodeType!==void 0}const mAt=t=>{const{classes:e}=t;return ra({root:["root"]},dAt,e)},gAt={},yAt=ut.forwardRef(function(e,r){const{anchorEl:n,children:i,direction:o,disablePortal:c,modifiers:a,open:g,placement:v,popperOptions:x,popperRef:k,slotProps:I={},slots:S={},TransitionProps:P,ownerState:D,...U}=e,H=ut.useRef(null),G=cc(H,r),z=ut.useRef(null),j=cc(z,k),X=ut.useRef(j);Qh(()=>{X.current=j},[j]),ut.useImperativeHandle(k,()=>z.current,[]);const Y=fAt(v,o),[et,st]=ut.useState(Y),[it,vt]=ut.useState(fM(n));ut.useEffect(()=>{z.current&&z.current.forceUpdate()}),ut.useEffect(()=>{n&&vt(fM(n))},[n]),Qh(()=>{if(!it||!g)return;const wt=St=>{st(St.placement)};let pt=[{name:"preventOverflow",options:{altBoundary:c}},{name:"flip",options:{altBoundary:c}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:St})=>{wt(St)}}];a!=null&&(pt=pt.concat(a)),x&&x.modifiers!=null&&(pt=pt.concat(x.modifiers));const At=uAt(it,H.current,{placement:Y,...x,modifiers:pt});return X.current(At),()=>{At.destroy(),X.current(null)}},[it,c,a,g,x,Y]);const at={placement:et};P!==null&&(at.TransitionProps=P);const V=mAt(e),dt=S.root??"div",mt=om({elementType:dt,externalSlotProps:I.root,externalForwardedProps:U,additionalProps:{role:"tooltip",ref:G},ownerState:e,className:V.root});return Yt.jsx(dt,{...mt,children:typeof i=="function"?i(at):i})}),vAt=ut.forwardRef(function(e,r){const{anchorEl:n,children:i,container:o,direction:c="ltr",disablePortal:a=!1,keepMounted:g=!1,modifiers:v,open:x,placement:k="bottom",popperOptions:I=gAt,popperRef:S,style:P,transition:D=!1,slotProps:U={},slots:H={},...G}=e,[z,j]=ut.useState(!0),X=()=>{j(!1)},Y=()=>{j(!0)};if(!g&&!x&&(!D||z))return null;let et;if(o)et=o;else if(n){const vt=fM(n);et=vt&&pAt(vt)?ch(vt).body:ch(null).body}const st=!x&&g&&(!D||z)?"none":void 0,it=D?{in:x,onEnter:X,onExited:Y}:void 0;return Yt.jsx(AW,{disablePortal:a,container:et,children:Yt.jsx(yAt,{anchorEl:n,direction:c,disablePortal:a,modifiers:v,ref:r,open:D?!z:x,placement:k,popperOptions:I,popperRef:S,slotProps:U,slots:H,...G,style:{position:"fixed",top:0,left:0,display:st,...P},TransitionProps:it,children:i})})}),bAt=xn(vAt,{name:"MuiPopper",slot:"Root"})({}),kW=ut.forwardRef(function(e,r){const n=Tx(),i=ca({props:e,name:"MuiPopper"}),{anchorEl:o,component:c,components:a,componentsProps:g,container:v,disablePortal:x,keepMounted:k,modifiers:I,open:S,placement:P,popperOptions:D,popperRef:U,transition:H,slots:G,slotProps:z,...j}=i,X=G?.root??a?.Root,Y={anchorEl:o,container:v,disablePortal:x,keepMounted:k,modifiers:I,open:S,placement:P,popperOptions:D,popperRef:U,transition:H,...j};return Yt.jsx(bAt,{as:c,direction:n?"rtl":"ltr",slots:{root:X},slotProps:z??g,...Y,ref:r})}),_At=zl(Yt.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function xAt(t){return ea("MuiChip",t)}const co=Wi("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),wAt=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:o,onDelete:c,clickable:a,variant:g}=t,v={root:["root",g,r&&"disabled",`size${cn(n)}`,`color${cn(i)}`,a&&"clickable",a&&`clickableColor${cn(i)}`,c&&"deletable",c&&`deletableColor${cn(i)}`,`${g}${cn(i)}`],label:["label",`label${cn(n)}`],avatar:["avatar",`avatar${cn(n)}`,`avatarColor${cn(i)}`],icon:["icon",`icon${cn(n)}`,`iconColor${cn(o)}`],deleteIcon:["deleteIcon",`deleteIcon${cn(n)}`,`deleteIconColor${cn(i)}`,`deleteIcon${cn(g)}Color${cn(i)}`]};return ra(v,xAt,e)},SAt=xn("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:o,onDelete:c,size:a,variant:g}=r;return[{[`& .${co.avatar}`]:e.avatar},{[`& .${co.avatar}`]:e[`avatar${cn(a)}`]},{[`& .${co.avatar}`]:e[`avatarColor${cn(n)}`]},{[`& .${co.icon}`]:e.icon},{[`& .${co.icon}`]:e[`icon${cn(a)}`]},{[`& .${co.icon}`]:e[`iconColor${cn(i)}`]},{[`& .${co.deleteIcon}`]:e.deleteIcon},{[`& .${co.deleteIcon}`]:e[`deleteIcon${cn(a)}`]},{[`& .${co.deleteIcon}`]:e[`deleteIconColor${cn(n)}`]},{[`& .${co.deleteIcon}`]:e[`deleteIcon${cn(g)}Color${cn(n)}`]},e.root,e[`size${cn(a)}`],e[`color${cn(n)}`],o&&e.clickable,o&&n!=="default"&&e[`clickableColor${cn(n)})`],c&&e.deletable,c&&n!=="default"&&e[`deletableColor${cn(n)}`],e[g],e[`${g}${cn(n)}`]]}})(Mi(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${co.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${co.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${co.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${co.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${co.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${co.icon}`]:{marginLeft:5,marginRight:-6},[`& .${co.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${co.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${co.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Dl(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,[`& .${co.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${co.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${co.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${co.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(Dl(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${co.focusVisible}`]:{background:(t.vars||t).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${co.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Dl(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${co.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${co.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${co.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${co.avatar}`]:{marginLeft:4},[`& .${co.avatarSmall}`]:{marginLeft:2},[`& .${co.icon}`]:{marginLeft:4},[`& .${co.iconSmall}`]:{marginLeft:2},[`& .${co.deleteIcon}`]:{marginRight:5},[`& .${co.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Dl()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:`1px solid ${t.alpha((t.vars||t).palette[r].main,.7)}`,[`&.${co.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${co.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.focusOpacity)},[`& .${co.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}))]}})),EAt=xn("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${cn(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function C$(t){return t.key==="Backspace"||t.key==="Delete"}const H2=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:c,color:a="default",component:g,deleteIcon:v,disabled:x=!1,icon:k,label:I,onClick:S,onDelete:P,onKeyDown:D,onKeyUp:U,size:H="medium",variant:G="filled",tabIndex:z,skipFocusWhenDisabled:j=!1,slots:X={},slotProps:Y={},...et}=n,st=ut.useRef(null),it=cc(st,r),vt=Ut=>{Ut.stopPropagation(),P&&P(Ut)},at=Ut=>{Ut.currentTarget===Ut.target&&C$(Ut)&&Ut.preventDefault(),D&&D(Ut)},V=Ut=>{Ut.currentTarget===Ut.target&&P&&C$(Ut)&&P(Ut),U&&U(Ut)},dt=c!==!1&&S?!0:c,mt=dt||P?Iy:g||"div",wt={...n,component:mt,disabled:x,size:H,color:a,iconColor:ut.isValidElement(k)&&k.props.color||a,onDelete:!!P,clickable:dt,variant:G},pt=wAt(wt),At=mt===Iy?{component:g||"div",focusVisibleClassName:pt.focusVisible,...P&&{disableRipple:!0}}:{};let St=null;P&&(St=v&&ut.isValidElement(v)?ut.cloneElement(v,{className:Xn(v.props.className,pt.deleteIcon),onClick:vt}):Yt.jsx(_At,{className:pt.deleteIcon,onClick:vt}));let Lt=null;i&&ut.isValidElement(i)&&(Lt=ut.cloneElement(i,{className:Xn(pt.avatar,i.props.className)}));let jt=null;k&&ut.isValidElement(k)&&(jt=ut.cloneElement(k,{className:Xn(pt.icon,k.props.className)}));const _t={slots:X,slotProps:Y},[lt,Tt]=Xi("root",{elementType:SAt,externalForwardedProps:{..._t,...et},ownerState:wt,shouldForwardComponentProp:!0,ref:it,className:Xn(pt.root,o),additionalProps:{disabled:dt&&x?!0:void 0,tabIndex:j&&x?-1:z,...At},getSlotProps:Ut=>({...Ut,onClick:ie=>{Ut.onClick?.(ie),S?.(ie)},onKeyDown:ie=>{Ut.onKeyDown?.(ie),at(ie)},onKeyUp:ie=>{Ut.onKeyUp?.(ie),V(ie)}})}),[kt,Rt]=Xi("label",{elementType:EAt,externalForwardedProps:_t,ownerState:wt,className:pt.label});return Yt.jsxs(lt,{as:mt,...Tt,children:[Lt||jt,Yt.jsx(kt,{...Rt,children:I}),St]})});function X5(t){return parseInt(t,10)||0}const TAt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function CAt(t){for(const e in t)return!1;return!0}function A$(t){return CAt(t)||t.outerHeightStyle===0&&!t.overflowing}const AAt=ut.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:o=1,style:c,value:a,...g}=e,{current:v}=ut.useRef(a!=null),x=ut.useRef(null),k=cc(r,x),I=ut.useRef(null),S=ut.useRef(null),P=ut.useCallback(()=>{const z=x.current,j=S.current;if(!z||!j)return;const Y=Tp(z).getComputedStyle(z);if(Y.width==="0px")return{outerHeightStyle:0,overflowing:!1};j.style.width=Y.width,j.value=z.value||e.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const et=Y.boxSizing,st=X5(Y.paddingBottom)+X5(Y.paddingTop),it=X5(Y.borderBottomWidth)+X5(Y.borderTopWidth),vt=j.scrollHeight;j.value="x";const at=j.scrollHeight;let V=vt;o&&(V=Math.max(Number(o)*at,V)),i&&(V=Math.min(Number(i)*at,V)),V=Math.max(V,at);const dt=V+(et==="border-box"?st+it:0),mt=Math.abs(V-vt)<=1;return{outerHeightStyle:dt,overflowing:mt}},[i,o,e.placeholder]),D=Nf(()=>{const z=x.current,j=P();if(!z||!j||A$(j))return!1;const X=j.outerHeightStyle;return I.current!=null&&I.current!==X}),U=ut.useCallback(()=>{const z=x.current,j=P();if(!z||!j||A$(j))return;const X=j.outerHeightStyle;I.current!==X&&(I.current=X,z.style.height=`${X}px`),z.style.overflow=j.overflowing?"hidden":""},[P]),H=ut.useRef(-1);Qh(()=>{const z=eO(U),j=x?.current;if(!j)return;const X=Tp(j);X.addEventListener("resize",z);let Y;return typeof ResizeObserver<"u"&&(Y=new ResizeObserver(()=>{D()&&(Y.unobserve(j),cancelAnimationFrame(H.current),U(),H.current=requestAnimationFrame(()=>{Y.observe(j)}))}),Y.observe(j)),()=>{z.clear(),cancelAnimationFrame(H.current),X.removeEventListener("resize",z),Y&&Y.disconnect()}},[P,U,D]),Qh(()=>{U()});const G=z=>{v||U();const j=z.target,X=j.value.length,Y=j.value.endsWith(`
`),et=j.selectionStart===X;Y&&et&&j.setSelectionRange(X,X),n&&n(z)};return Yt.jsxs(ut.Fragment,{children:[Yt.jsx("textarea",{value:a,onChange:G,ref:k,rows:o,style:c,...g}),Yt.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:{...TAt.shadow,...c,paddingTop:0,paddingBottom:0}})]})});function E0({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const fO=ut.createContext(void 0);function jy(){return ut.useContext(fO)}function k$(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function jT(t,e=!1){return t&&(k$(t.value)&&t.value!==""||e&&k$(t.defaultValue)&&t.defaultValue!=="")}function kAt(t){return t.startAdornment}function IAt(t){return ea("MuiInputBase",t)}const lx=Wi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var I$;const $A=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${cn(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},VA=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},RAt=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:o,focused:c,formControl:a,fullWidth:g,hiddenLabel:v,multiline:x,readOnly:k,size:I,startAdornment:S,type:P}=t,D={root:["root",`color${cn(r)}`,n&&"disabled",i&&"error",g&&"fullWidth",c&&"focused",a&&"formControl",I&&I!=="medium"&&`size${cn(I)}`,x&&"multiline",S&&"adornedStart",o&&"adornedEnd",v&&"hiddenLabel",k&&"readOnly"],input:["input",n&&"disabled",P==="search"&&"inputTypeSearch",x&&"inputMultiline",I==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",S&&"inputAdornedStart",o&&"inputAdornedEnd",k&&"readOnly"]};return ra(D,IAt,e)},UA=xn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$A})(Mi(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${lx.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),qA=xn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:VA})(Mi(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${lx.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${lx.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),R$=tO({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),pO=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:c,className:a,color:g,components:v={},componentsProps:x={},defaultValue:k,disabled:I,disableInjectingGlobalStyles:S,endAdornment:P,error:D,fullWidth:U=!1,id:H,inputComponent:G="input",inputProps:z={},inputRef:j,margin:X,maxRows:Y,minRows:et,multiline:st=!1,name:it,onBlur:vt,onChange:at,onClick:V,onFocus:dt,onKeyDown:mt,onKeyUp:wt,placeholder:pt,readOnly:At,renderSuffix:St,rows:Lt,size:jt,slotProps:_t={},slots:lt={},startAdornment:Tt,type:kt="text",value:Rt,...Ut}=n,ie=z.value!=null?z.value:Rt,{current:Ht}=ut.useRef(ie!=null),ce=ut.useRef(),de=ut.useCallback(rr=>{},[]),Se=cc(ce,j,z.ref,de),[Vt,He]=ut.useState(!1),ke=jy(),Jt=E0({props:n,muiFormControl:ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Jt.focused=ke?ke.focused:Vt,ut.useEffect(()=>{!ke&&I&&Vt&&(He(!1),vt&&vt())},[ke,I,Vt,vt]);const $r=ke&&ke.onFilled,vr=ke&&ke.onEmpty,Dr=ut.useCallback(rr=>{jT(rr)?$r&&$r():vr&&vr()},[$r,vr]);Qh(()=>{Ht&&Dr({value:ie})},[ie,Dr,Ht]);const Ie=rr=>{dt&&dt(rr),z.onFocus&&z.onFocus(rr),ke&&ke.onFocus?ke.onFocus(rr):He(!0)},Mr=rr=>{vt&&vt(rr),z.onBlur&&z.onBlur(rr),ke&&ke.onBlur?ke.onBlur(rr):He(!1)},ir=(rr,...Me)=>{if(!Ht){const Ft=rr.target||ce.current;if(Ft==null)throw new Error(Ag(1));Dr({value:Ft.value})}z.onChange&&z.onChange(rr,...Me),at&&at(rr,...Me)};ut.useEffect(()=>{Dr(ce.current)},[]);const Rr=rr=>{ce.current&&rr.currentTarget===rr.target&&ce.current.focus(),V&&V(rr)};let Pr=G,Ir=z;st&&Pr==="input"&&(Lt?Ir={type:void 0,minRows:Lt,maxRows:Lt,...Ir}:Ir={type:void 0,maxRows:Y,minRows:et,...Ir},Pr=AAt);const dr=rr=>{Dr(rr.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};ut.useEffect(()=>{ke&&ke.setAdornedStart(!!Tt)},[ke,Tt]);const ar={...n,color:Jt.color||"primary",disabled:Jt.disabled,endAdornment:P,error:Jt.error,focused:Jt.focused,formControl:ke,fullWidth:U,hiddenLabel:Jt.hiddenLabel,multiline:st,size:Jt.size,startAdornment:Tt,type:kt},Or=RAt(ar),er=lt.root||v.Root||UA,Fr=_t.root||x.root||{},Ze=lt.input||v.Input||qA;return Ir={...Ir,..._t.input??x.input},Yt.jsxs(ut.Fragment,{children:[!S&&typeof R$=="function"&&(I$||(I$=Yt.jsx(R$,{}))),Yt.jsxs(er,{...Fr,ref:r,onClick:Rr,...Ut,...!Nm(er)&&{ownerState:{...ar,...Fr.ownerState}},className:Xn(Or.root,Fr.className,a,At&&"MuiInputBase-readOnly"),children:[Tt,Yt.jsx(fO.Provider,{value:null,children:Yt.jsx(Ze,{"aria-invalid":Jt.error,"aria-describedby":i,autoComplete:o,autoFocus:c,defaultValue:k,disabled:Jt.disabled,id:H,onAnimationStart:dr,name:it,placeholder:pt,readOnly:At,required:Jt.required,rows:Lt,value:ie,onKeyDown:mt,onKeyUp:wt,type:kt,...Ir,...!Nm(Ze)&&{as:Pr,ownerState:{...ar,...Ir.ownerState}},ref:Se,className:Xn(Or.input,Ir.className,At&&"MuiInputBase-readOnly"),onBlur:Mr,onChange:ir,onFocus:Ie})}),P,St?St({...Jt,startAdornment:Tt}):null]})]})});function NAt(t){return ea("MuiInput",t)}const e2={...lx,...Wi("MuiInput",["root","underline","input"])};function LAt(t){return ea("MuiOutlinedInput",t)}const nm={...lx,...Wi("MuiOutlinedInput",["root","notchedOutline","input"])};function MAt(t){return ea("MuiFilledInput",t)}const Ev={...lx,...Wi("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},PAt=zl(Yt.jsx("path",{d:"M7 10l5 5 5-5z"})),OAt={entering:{opacity:1},entered:{opacity:1}},pM=ut.forwardRef(function(e,r){const n=Mg(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:a,easing:g,in:v,onEnter:x,onEntered:k,onEntering:I,onExit:S,onExited:P,onExiting:D,style:U,timeout:H=i,TransitionComponent:G=qf,...z}=e,j=ut.useRef(null),X=cc(j,S0(a),r),Y=mt=>wt=>{if(mt){const pt=j.current;wt===void 0?mt(pt):mt(pt,wt)}},et=Y(I),st=Y((mt,wt)=>{aO(mt);const pt=ky({style:U,timeout:H,easing:g},{mode:"enter"});mt.style.webkitTransition=n.transitions.create("opacity",pt),mt.style.transition=n.transitions.create("opacity",pt),x&&x(mt,wt)}),it=Y(k),vt=Y(D),at=Y(mt=>{const wt=ky({style:U,timeout:H,easing:g},{mode:"exit"});mt.style.webkitTransition=n.transitions.create("opacity",wt),mt.style.transition=n.transitions.create("opacity",wt),S&&S(mt)}),V=Y(P),dt=mt=>{o&&o(j.current,mt)};return Yt.jsx(G,{appear:c,in:v,nodeRef:j,onEnter:st,onEntered:it,onEntering:et,onExit:at,onExited:V,onExiting:vt,addEndListener:dt,timeout:H,...z,children:(mt,{ownerState:wt,...pt})=>ut.cloneElement(a,{style:{opacity:0,visibility:mt==="exited"&&!v?"hidden":void 0,...OAt[mt],...U,...a.props.style},ref:X,...pt})})});function DAt(t){return ea("MuiBackdrop",t)}Wi("MuiBackdrop",["root","invisible"]);const BAt=t=>{const{classes:e,invisible:r}=t;return ra({root:["root",r&&"invisible"]},DAt,e)},zAt=xn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),mO=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:c="div",invisible:a=!1,open:g,components:v={},componentsProps:x={},slotProps:k={},slots:I={},TransitionComponent:S,transitionDuration:P,...D}=n,U={...n,component:c,invisible:a},H=BAt(U),G={transition:S,root:v.Root,...I},z={...x,...k},j={component:c,slots:G,slotProps:z},[X,Y]=Xi("root",{elementType:zAt,externalForwardedProps:j,className:Xn(H.root,o),ownerState:U}),[et,st]=Xi("transition",{elementType:pM,externalForwardedProps:j,ownerState:U});return Yt.jsx(et,{in:g,timeout:P,...D,...st,children:Yt.jsx(X,{"aria-hidden":!0,...Y,classes:H,ref:r,children:i})})}),FAt=Wi("MuiBox",["root"]),jAt=BA(),Ga=h5t({themeId:bp,defaultTheme:jAt,defaultClassName:FAt.root,generateClassName:qX.generate});function $At(t){return ea("MuiButton",t)}const Tv=Wi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),VAt=ut.createContext({}),UAt=ut.createContext(void 0),qAt=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:o,loading:c,loadingPosition:a,classes:g}=t,v={root:["root",c&&"loading",o,`${o}${cn(e)}`,`size${cn(i)}`,`${o}Size${cn(i)}`,`color${cn(e)}`,r&&"disableElevation",n&&"fullWidth",c&&`loadingPosition${cn(a)}`],startIcon:["icon","startIcon",`iconSize${cn(i)}`],endIcon:["icon","endIcon",`iconSize${cn(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},x=ra(v,$At,g);return{...g,...x}},IW=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],GAt=xn(Iy,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${cn(r.color)}`],e[`size${cn(r.size)}`],e[`${r.variant}Size${cn(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(Mi(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Tv.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Tv.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Tv.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Tv.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Dl()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Tv.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Tv.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Tv.loading}`]:{color:"transparent"}}}]}})),HAt=xn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${cn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...IW]})),XAt=xn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${cn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...IW]})),WAt=xn("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),N$=xn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),L$=ut.forwardRef(function(e,r){const n=ut.useContext(VAt),i=ut.useContext(UAt),o=_w(n,e),c=ca({props:o,name:"MuiButton"}),{children:a,color:g="primary",component:v="button",className:x,disabled:k=!1,disableElevation:I=!1,disableFocusRipple:S=!1,endIcon:P,focusVisibleClassName:D,fullWidth:U=!1,id:H,loading:G=null,loadingIndicator:z,loadingPosition:j="center",size:X="medium",startIcon:Y,type:et,variant:st="text",...it}=c,vt=w0(H),at=z??Yt.jsx(zT,{"aria-labelledby":vt,color:"inherit",size:16}),V={...c,color:g,component:v,disabled:k,disableElevation:I,disableFocusRipple:S,fullWidth:U,loading:G,loadingIndicator:at,loadingPosition:j,size:X,type:et,variant:st},dt=qAt(V),mt=(Y||G&&j==="start")&&Yt.jsx(HAt,{className:dt.startIcon,ownerState:V,children:Y||Yt.jsx(N$,{className:dt.loadingIconPlaceholder,ownerState:V})}),wt=(P||G&&j==="end")&&Yt.jsx(XAt,{className:dt.endIcon,ownerState:V,children:P||Yt.jsx(N$,{className:dt.loadingIconPlaceholder,ownerState:V})}),pt=i||"",At=typeof G=="boolean"?Yt.jsx("span",{className:dt.loadingWrapper,style:{display:"contents"},children:G&&Yt.jsx(WAt,{className:dt.loadingIndicator,ownerState:V,children:at})}):null;return Yt.jsxs(GAt,{ownerState:V,className:Xn(n.className,dt.root,x,pt),component:v,disabled:k||G,focusRipple:!S,focusVisibleClassName:Xn(dt.focusVisible,D),ref:r,type:et,id:G?vt:H,...it,classes:dt,children:[mt,j!=="end"&&At,a,j==="end"&&At,wt]})});function YAt(t){return ea("PrivateSwitchBase",t)}Wi("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const KAt=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${cn(i)}`],input:["input"]};return ra(o,YAt,e)},ZAt=xn(Iy,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),QAt=xn("input",{name:"MuiSwitchBase",shouldForwardProp:Oh})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),RW=ut.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:o,defaultChecked:c,disabled:a,disableFocusRipple:g=!1,edge:v=!1,icon:x,id:k,inputProps:I,inputRef:S,name:P,onBlur:D,onChange:U,onFocus:H,readOnly:G,required:z=!1,tabIndex:j,type:X,value:Y,slots:et={},slotProps:st={},...it}=e,[vt,at]=rx({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),V=jy(),dt=Rt=>{H&&H(Rt),V&&V.onFocus&&V.onFocus(Rt)},mt=Rt=>{D&&D(Rt),V&&V.onBlur&&V.onBlur(Rt)},wt=Rt=>{if(Rt.nativeEvent.defaultPrevented)return;const Ut=Rt.target.checked;at(Ut),U&&U(Rt,Ut)};let pt=a;V&&typeof pt>"u"&&(pt=V.disabled);const At=X==="checkbox"||X==="radio",St={...e,checked:vt,disabled:pt,disableFocusRipple:g,edge:v},Lt=KAt(St),jt={slots:et,slotProps:{input:I,...st}},[_t,lt]=Xi("root",{ref:r,elementType:ZAt,className:Lt.root,shouldForwardComponentProp:!0,externalForwardedProps:{...jt,component:"span",...it},getSlotProps:Rt=>({...Rt,onFocus:Ut=>{Rt.onFocus?.(Ut),dt(Ut)},onBlur:Ut=>{Rt.onBlur?.(Ut),mt(Ut)}}),ownerState:St,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:pt,role:void 0,tabIndex:null}}),[Tt,kt]=Xi("input",{ref:S,elementType:QAt,className:Lt.input,externalForwardedProps:jt,getSlotProps:Rt=>({...Rt,onChange:Ut=>{Rt.onChange?.(Ut),wt(Ut)}}),ownerState:St,additionalProps:{autoFocus:n,checked:i,defaultChecked:c,disabled:pt,id:At?k:void 0,name:P,readOnly:G,required:z,tabIndex:j,type:X,...X==="checkbox"&&Y===void 0?{}:{value:Y}}});return Yt.jsxs(_t,{...lt,children:[Yt.jsx(Tt,{...kt}),vt?o:x]})}),JAt=zl(Yt.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),tkt=zl(Yt.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),ekt=zl(Yt.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function rkt(t){return ea("MuiCheckbox",t)}const xN=Wi("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),nkt=t=>{const{classes:e,indeterminate:r,color:n,size:i}=t,o={root:["root",r&&"indeterminate",`color${cn(n)}`,`size${cn(i)}`]},c=ra(o,rkt,e);return{...e,...c}},ikt=xn(RW,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${cn(r.size)}`],r.color!=="default"&&e[`color${cn(r.color)}`]]}})(Mi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{[`&.${xN.checked}, &.${xN.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${xN.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),akt=Yt.jsx(tkt,{}),okt=Yt.jsx(JAt,{}),skt=Yt.jsx(ekt,{}),M$=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiCheckbox"}),{checkedIcon:i=akt,color:o="primary",icon:c=okt,indeterminate:a=!1,indeterminateIcon:g=skt,inputProps:v,size:x="medium",disableRipple:k=!1,className:I,slots:S={},slotProps:P={},...D}=n,U=a?g:c,H=a?g:i,G={...n,disableRipple:k,color:o,indeterminate:a,size:x},z=nkt(G),j=P.input??v,[X,Y]=Xi("root",{ref:r,elementType:ikt,className:Xn(z.root,I),shouldForwardComponentProp:!0,externalForwardedProps:{slots:S,slotProps:P,...D},ownerState:G,additionalProps:{type:"checkbox",icon:ut.cloneElement(U,{fontSize:U.props.fontSize??x}),checkedIcon:ut.cloneElement(H,{fontSize:H.props.fontSize??x}),disableRipple:k,slots:S,slotProps:{input:rO(typeof j=="function"?j(G):j,{"data-indeterminate":a})}}});return Yt.jsx(X,{...Y,classes:z})}),mM=typeof tO({})=="function",lkt=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),ckt=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),NW=(t,e=!1)=>{const r={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([o,c])=>{const a=t.getColorSchemeSelector(o);a.startsWith("@")?r[a]={":root":{colorScheme:c.palette?.mode}}:r[a.replace(/\s*&/,"")]={colorScheme:c.palette?.mode}});let n={html:lkt(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...ckt(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...r};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(n=[n,i]),n},LE="mui-ecs",ukt=t=>{const e=NW(t,!1),r=Array.isArray(e)?e[0]:e;return!t.vars&&r&&(r.html[`:root:has(${LE})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([n,i])=>{const o=t.getColorSchemeSelector(n);o.startsWith("@")?r[o]={[`:root:not(:has(.${LE}))`]:{colorScheme:i.palette?.mode}}:r[o.replace(/\s*&/,"")]={[`&:not(:has(.${LE}))`]:{colorScheme:i.palette?.mode}}}),e},hkt=tO(mM?({theme:t,enableColorScheme:e})=>NW(t,e):({theme:t})=>ukt(t));function dkt(t){const e=ca({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=e;return Yt.jsxs(ut.Fragment,{children:[mM&&Yt.jsx(hkt,{enableColorScheme:n}),!mM&&!n&&Yt.jsx("span",{className:LE,style:{display:"none"}}),r]})}function LW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function fkt(t){const e=ch(t);return e.body===t?Tp(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function X2(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function P$(t){return parseInt(Tp(t).getComputedStyle(t).paddingRight,10)||0}function pkt(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function O$(t,e,r,n,i){const o=[e,r,...n];[].forEach.call(t.children,c=>{const a=!o.includes(c),g=!pkt(c);a&&g&&X2(c,i)})}function wN(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function mkt(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(fkt(n)){const c=LW(Tp(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${P$(n)+c}px`;const a=ch(n).querySelectorAll(".mui-fixed");[].forEach.call(a,g=>{r.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${P$(g)+c}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=ch(n).body;else{const c=n.parentElement,a=Tp(n);o=c?.nodeName==="HTML"&&a.getComputedStyle(c).overflowY==="scroll"?c:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:c,property:a})=>{o?c.style.setProperty(a,o):c.style.removeProperty(a)})}}function gkt(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class ykt{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&X2(e.modalRef,!1);const i=gkt(r);O$(r,e.mount,e.modalRef,i,!0);const o=wN(this.containers,c=>c.container===r);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=wN(this.containers,o=>o.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=mkt(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=wN(this.containers,c=>c.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&X2(e.modalRef,r),O$(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const c=o.modals[o.modals.length-1];c.modalRef&&X2(c.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const vkt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function bkt(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function _kt(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function xkt(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||_kt(t))}function wkt(t){const e=[],r=[];return Array.from(t.querySelectorAll(vkt)).forEach((n,i)=>{const o=bkt(n);o===-1||!xkt(n)||(o===0?e.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function Skt(){return!0}function Ekt(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=wkt,isEnabled:c=Skt,open:a}=t,g=ut.useRef(!1),v=ut.useRef(null),x=ut.useRef(null),k=ut.useRef(null),I=ut.useRef(null),S=ut.useRef(!1),P=ut.useRef(null),D=cc(S0(e),P),U=ut.useRef(null);ut.useEffect(()=>{!a||!P.current||(S.current=!r)},[r,a]),ut.useEffect(()=>{if(!a||!P.current)return;const z=ch(P.current);return P.current.contains(z.activeElement)||(P.current.hasAttribute("tabIndex")||P.current.setAttribute("tabIndex","-1"),S.current&&P.current.focus()),()=>{i||(k.current&&k.current.focus&&(g.current=!0,k.current.focus()),k.current=null)}},[a]),ut.useEffect(()=>{if(!a||!P.current)return;const z=ch(P.current),j=et=>{U.current=et,!(n||!c()||et.key!=="Tab")&&z.activeElement===P.current&&et.shiftKey&&(g.current=!0,x.current&&x.current.focus())},X=()=>{const et=P.current;if(et===null)return;if(!z.hasFocus()||!c()||g.current){g.current=!1;return}if(et.contains(z.activeElement)||n&&z.activeElement!==v.current&&z.activeElement!==x.current)return;if(z.activeElement!==I.current)I.current=null;else if(I.current!==null)return;if(!S.current)return;let st=[];if((z.activeElement===v.current||z.activeElement===x.current)&&(st=o(P.current)),st.length>0){const it=!!(U.current?.shiftKey&&U.current?.key==="Tab"),vt=st[0],at=st[st.length-1];typeof vt!="string"&&typeof at!="string"&&(it?at.focus():vt.focus())}else et.focus()};z.addEventListener("focusin",X),z.addEventListener("keydown",j,!0);const Y=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&X()},50);return()=>{clearInterval(Y),z.removeEventListener("focusin",X),z.removeEventListener("keydown",j,!0)}},[r,n,i,c,a,o]);const H=z=>{k.current===null&&(k.current=z.relatedTarget),S.current=!0,I.current=z.target;const j=e.props.onFocus;j&&j(z)},G=z=>{k.current===null&&(k.current=z.relatedTarget),S.current=!0};return Yt.jsxs(ut.Fragment,{children:[Yt.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:v,"data-testid":"sentinelStart"}),ut.cloneElement(e,{ref:D,onFocus:H}),Yt.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:x,"data-testid":"sentinelEnd"})]})}function Tkt(t){return typeof t=="function"?t():t}function Ckt(t){return t?t.props.hasOwnProperty("in"):!1}const D$=()=>{},W5=new ykt;function Akt(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:c,children:a,onClose:g,open:v,rootRef:x}=t,k=ut.useRef({}),I=ut.useRef(null),S=ut.useRef(null),P=cc(S,x),[D,U]=ut.useState(!v),H=Ckt(a);let G=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(G=!1);const z=()=>ch(I.current),j=()=>(k.current.modalRef=S.current,k.current.mount=I.current,k.current),X=()=>{W5.mount(j(),{disableScrollLock:n}),S.current&&(S.current.scrollTop=0)},Y=Nf(()=>{const wt=Tkt(e)||z().body;W5.add(j(),wt),S.current&&X()}),et=()=>W5.isTopModal(j()),st=Nf(wt=>{I.current=wt,wt&&(v&&et()?X():S.current&&X2(S.current,G))}),it=ut.useCallback(()=>{W5.remove(j(),G)},[G]);ut.useEffect(()=>()=>{it()},[it]),ut.useEffect(()=>{v?Y():(!H||!i)&&it()},[v,it,H,i,Y]);const vt=wt=>pt=>{wt.onKeyDown?.(pt),!(pt.key!=="Escape"||pt.which===229||!et())&&(r||(pt.stopPropagation(),g&&g(pt,"escapeKeyDown")))},at=wt=>pt=>{wt.onClick?.(pt),pt.target===pt.currentTarget&&g&&g(pt,"backdropClick")};return{getRootProps:(wt={})=>{const pt=U2(t);delete pt.onTransitionEnter,delete pt.onTransitionExited;const At={...pt,...wt};return{role:"presentation",...At,onKeyDown:vt(At),ref:P}},getBackdropProps:(wt={})=>{const pt=wt;return{"aria-hidden":!0,...pt,onClick:at(pt),open:v}},getTransitionProps:()=>{const wt=()=>{U(!1),o&&o()},pt=()=>{U(!0),c&&c(),i&&it()};return{onEnter:o$(wt,a?.props.onEnter??D$),onExited:o$(pt,a?.props.onExited??D$)}},rootRef:P,portalRef:st,isTopModal:et,exited:D,hasTransition:H}}function kkt(t){return ea("MuiModal",t)}Wi("MuiModal",["root","hidden","backdrop"]);const Ikt=t=>{const{open:e,exited:r,classes:n}=t;return ra({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},kkt,n)},Rkt=xn("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(Mi(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Nkt=xn(mO,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),gO=ut.forwardRef(function(e,r){const n=ca({name:"MuiModal",props:e}),{BackdropComponent:i=Nkt,BackdropProps:o,classes:c,className:a,closeAfterTransition:g=!1,children:v,container:x,component:k,components:I={},componentsProps:S={},disableAutoFocus:P=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:U=!1,disablePortal:H=!1,disableRestoreFocus:G=!1,disableScrollLock:z=!1,hideBackdrop:j=!1,keepMounted:X=!1,onClose:Y,onTransitionEnter:et,onTransitionExited:st,open:it,slotProps:vt={},slots:at={},theme:V,...dt}=n,mt={...n,closeAfterTransition:g,disableAutoFocus:P,disableEnforceFocus:D,disableEscapeKeyDown:U,disablePortal:H,disableRestoreFocus:G,disableScrollLock:z,hideBackdrop:j,keepMounted:X},{getRootProps:wt,getBackdropProps:pt,getTransitionProps:At,portalRef:St,isTopModal:Lt,exited:jt,hasTransition:_t}=Akt({...mt,rootRef:r}),lt={...mt,exited:jt},Tt=Ikt(lt),kt={};if(v.props.tabIndex===void 0&&(kt.tabIndex="-1"),_t){const{onEnter:de,onExited:Se}=At();kt.onEnter=de,kt.onExited=Se}const Rt={slots:{root:I.Root,backdrop:I.Backdrop,...at},slotProps:{...S,...vt}},[Ut,ie]=Xi("root",{ref:r,elementType:Rkt,externalForwardedProps:{...Rt,...dt,component:k},getSlotProps:wt,ownerState:lt,className:Xn(a,Tt?.root,!lt.open&&lt.exited&&Tt?.hidden)}),[Ht,ce]=Xi("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:Rt,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:de=>pt({...de,onClick:Se=>{de?.onClick&&de.onClick(Se)}}),className:Xn(o?.className,Tt?.backdrop),ownerState:lt});return!X&&!it&&(!_t||jt)?null:Yt.jsx(AW,{ref:St,container:x,disablePortal:H,children:Yt.jsxs(Ut,{...ie,children:[!j&&i?Yt.jsx(Ht,{...ce}):null,Yt.jsx(Ekt,{disableEnforceFocus:D,disableAutoFocus:P,disableRestoreFocus:G,isEnabled:Lt,open:it,children:ut.cloneElement(v,kt)})]})})});function Lkt(t){return ea("MuiDialog",t)}const SN=Wi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),MW=ut.createContext({}),Mkt=xn(mO,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Pkt=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:o}=t,c={root:["root"],container:["container",`scroll${cn(r)}`],paper:["paper",`paperScroll${cn(r)}`,`paperWidth${cn(String(n))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return ra(c,Lkt,e)},Okt=xn(gO,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Dkt=xn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${cn(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Bkt=xn(Cx,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${cn(r.scroll)}`],e[`paperWidth${cn(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(Mi(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${SN.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${SN.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${SN.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),zkt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiDialog"}),i=Mg(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":a,"aria-modal":g=!0,BackdropComponent:v,BackdropProps:x,children:k,className:I,disableEscapeKeyDown:S=!1,fullScreen:P=!1,fullWidth:D=!1,maxWidth:U="sm",onClick:H,onClose:G,open:z,PaperComponent:j=Cx,PaperProps:X={},scroll:Y="paper",slots:et={},slotProps:st={},TransitionComponent:it=pM,transitionDuration:vt=o,TransitionProps:at,...V}=n,dt={...n,disableEscapeKeyDown:S,fullScreen:P,fullWidth:D,maxWidth:U,scroll:Y},mt=Pkt(dt),wt=ut.useRef(),pt=He=>{wt.current=He.target===He.currentTarget},At=He=>{H&&H(He),wt.current&&(wt.current=null,G&&G(He,"backdropClick"))},St=w0(a),Lt=ut.useMemo(()=>({titleId:St}),[St]),jt={transition:it,...et},_t={transition:at,paper:X,backdrop:x,...st},lt={slots:jt,slotProps:_t},[Tt,kt]=Xi("root",{elementType:Okt,shouldForwardComponentProp:!0,externalForwardedProps:lt,ownerState:dt,className:Xn(mt.root,I),ref:r}),[Rt,Ut]=Xi("backdrop",{elementType:Mkt,shouldForwardComponentProp:!0,externalForwardedProps:lt,ownerState:dt}),[ie,Ht]=Xi("paper",{elementType:Bkt,shouldForwardComponentProp:!0,externalForwardedProps:lt,ownerState:dt,className:Xn(mt.paper,X.className)}),[ce,de]=Xi("container",{elementType:Dkt,externalForwardedProps:lt,ownerState:dt,className:mt.container}),[Se,Vt]=Xi("transition",{elementType:pM,externalForwardedProps:lt,ownerState:dt,additionalProps:{appear:!0,in:z,timeout:vt,role:"presentation"}});return Yt.jsx(Tt,{closeAfterTransition:!0,slots:{backdrop:Rt},slotProps:{backdrop:{transitionDuration:vt,as:v,...Ut}},disableEscapeKeyDown:S,onClose:G,open:z,onClick:At,...kt,...V,children:Yt.jsx(Se,{...Vt,children:Yt.jsx(ce,{onMouseDown:pt,...de,children:Yt.jsx(ie,{as:j,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":St,"aria-modal":g,...Ht,children:Yt.jsx(MW.Provider,{value:Lt,children:k})})})})})});function Fkt(t){return ea("MuiDialogActions",t)}Wi("MuiDialogActions",["root","spacing"]);const jkt=t=>{const{classes:e,disableSpacing:r}=t;return ra({root:["root",!r&&"spacing"]},Fkt,e)},$kt=xn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Vkt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...c}=n,a={...n,disableSpacing:o},g=jkt(a);return Yt.jsx($kt,{className:Xn(g.root,i),ownerState:a,ref:r,...c})});function Ukt(t){return ea("MuiDialogContent",t)}Wi("MuiDialogContent",["root","dividers"]);function qkt(t){return ea("MuiDialogTitle",t)}const Gkt=Wi("MuiDialogTitle",["root"]),Hkt=t=>{const{classes:e,dividers:r}=t;return ra({root:["root",r&&"dividers"]},Ukt,e)},Xkt=xn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(Mi(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Gkt.root} + &`]:{paddingTop:0}}}]}))),Wkt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...c}=n,a={...n,dividers:o},g=Hkt(a);return Yt.jsx(Xkt,{className:Xn(g.root,i),ownerState:a,ref:r,...c})}),Ykt=t=>{const{classes:e}=t;return ra({root:["root"]},qkt,e)},Kkt=xn(uo,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Zkt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...c}=n,a=n,g=Ykt(a),{titleId:v=o}=ut.useContext(MW);return Yt.jsx(Kkt,{component:"h2",className:Xn(g.root,i),ownerState:a,ref:r,variant:"h6",id:o??v,...c})});function Qkt(t){return ea("MuiDivider",t)}const B$=Wi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Jkt=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:o,orientation:c,textAlign:a,variant:g}=t;return ra({root:["root",e&&"absolute",g,o&&"light",c==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&c==="vertical"&&"withChildrenVertical",a==="right"&&c!=="vertical"&&"textAlignRight",a==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},Qkt,n)},tIt=xn("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(Mi(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),eIt=xn("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(Mi(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Vv=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:c,orientation:a="horizontal",component:g=o||a==="vertical"?"div":"hr",flexItem:v=!1,light:x=!1,role:k=g!=="hr"?"separator":void 0,textAlign:I="center",variant:S="fullWidth",...P}=n,D={...n,absolute:i,component:g,flexItem:v,light:x,orientation:a,role:k,textAlign:I,variant:S},U=Jkt(D);return Yt.jsx(tIt,{as:g,className:Xn(U.root,c),role:k,ref:r,ownerState:D,"aria-orientation":k==="separator"&&(g!=="hr"||a==="vertical")?a:void 0,...P,children:o?Yt.jsx(eIt,{className:U.wrapper,ownerState:D,children:o}):null})});Vv&&(Vv.muiSkipListHighlight=!0);function rIt(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),o=Tp(e);let c;if(e.fakeTransform)c=e.fakeTransform;else{const v=o.getComputedStyle(e);c=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let a=0,g=0;if(c&&c!=="none"&&typeof c=="string"){const v=c.split("(")[1].split(")")[0].split(",");a=parseInt(v[4],10),g=parseInt(v[5],10)}return t==="left"?i?`translateX(${i.right+a-n.left}px)`:`translateX(${o.innerWidth+a-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-a}px)`:`translateX(-${n.left+n.width-a}px)`:t==="up"?i?`translateY(${i.bottom+g-n.top}px)`:`translateY(${o.innerHeight+g-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-g}px)`:`translateY(-${n.top+n.height-g}px)`}function nIt(t){return typeof t=="function"?t():t}function Y5(t,e,r){const n=nIt(r),i=rIt(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const iIt=ut.forwardRef(function(e,r){const n=Mg(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:c,appear:a=!0,children:g,container:v,direction:x="down",easing:k=i,in:I,onEnter:S,onEntered:P,onEntering:D,onExit:U,onExited:H,onExiting:G,style:z,timeout:j=o,TransitionComponent:X=qf,...Y}=e,et=ut.useRef(null),st=cc(S0(g),et,r),it=St=>Lt=>{St&&(Lt===void 0?St(et.current):St(et.current,Lt))},vt=it((St,Lt)=>{Y5(x,St,v),aO(St),S&&S(St,Lt)}),at=it((St,Lt)=>{const jt=ky({timeout:j,style:z,easing:k},{mode:"enter"});St.style.webkitTransition=n.transitions.create("-webkit-transform",{...jt}),St.style.transition=n.transitions.create("transform",{...jt}),St.style.webkitTransform="none",St.style.transform="none",D&&D(St,Lt)}),V=it(P),dt=it(G),mt=it(St=>{const Lt=ky({timeout:j,style:z,easing:k},{mode:"exit"});St.style.webkitTransition=n.transitions.create("-webkit-transform",Lt),St.style.transition=n.transitions.create("transform",Lt),Y5(x,St,v),U&&U(St)}),wt=it(St=>{St.style.webkitTransition="",St.style.transition="",H&&H(St)}),pt=St=>{c&&c(et.current,St)},At=ut.useCallback(()=>{et.current&&Y5(x,et.current,v)},[x,v]);return ut.useEffect(()=>{if(I||x==="down"||x==="right")return;const St=eO(()=>{et.current&&Y5(x,et.current,v)}),Lt=Tp(et.current);return Lt.addEventListener("resize",St),()=>{St.clear(),Lt.removeEventListener("resize",St)}},[x,I,v]),ut.useEffect(()=>{I||At()},[I,At]),Yt.jsx(X,{nodeRef:et,onEnter:vt,onEntered:V,onEntering:at,onExit:mt,onExited:wt,onExiting:dt,addEndListener:pt,appear:a,in:I,timeout:j,...Y,children:(St,{ownerState:Lt,...jt})=>ut.cloneElement(g,{ref:st,style:{visibility:St==="exited"&&!I?"hidden":void 0,...z,...g.props.style},...jt})})});function aIt(t){return ea("MuiDrawer",t)}Wi("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const PW=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},oIt=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root",`anchor${cn(r)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${cn(r)}`,n!=="temporary"&&`paperAnchorDocked${cn(r)}`]};return ra(i,aIt,e)},sIt=xn(gO,{name:"MuiDrawer",slot:"Root",overridesResolver:PW})(Mi(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),lIt=xn("div",{shouldForwardProp:Oh,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:PW})({flex:"0 0 auto"}),cIt=xn(Cx,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${cn(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${cn(r.anchor)}`]]}})(Mi(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),OW={left:"right",right:"left",top:"down",bottom:"up"};function uIt(t){return["left","right"].includes(t)}function hIt({direction:t},e){return t==="rtl"&&uIt(e)?OW[e]:e}const DW=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiDrawer"}),i=Mg(),o=Tx(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:g,children:v,className:x,elevation:k=16,hideBackdrop:I=!1,ModalProps:{BackdropProps:S,...P}={},onClose:D,open:U=!1,PaperProps:H={},SlideProps:G,TransitionComponent:z,transitionDuration:j=c,variant:X="temporary",slots:Y={},slotProps:et={},...st}=n,it=ut.useRef(!1);ut.useEffect(()=>{it.current=!0},[]);const vt=hIt({direction:o?"rtl":"ltr"},a),V={...n,anchor:a,elevation:k,open:U,variant:X,...st},dt=oIt(V),mt={slots:{transition:z,...Y},slotProps:{paper:H,transition:G,...et,backdrop:rO(et.backdrop||{...g,...S},{transitionDuration:j})}},[wt,pt]=Xi("root",{ref:r,elementType:sIt,className:Xn(dt.root,dt.modal,x),shouldForwardComponentProp:!0,ownerState:V,externalForwardedProps:{...mt,...st,...P},additionalProps:{open:U,onClose:D,hideBackdrop:I,slots:{backdrop:mt.slots.backdrop},slotProps:{backdrop:mt.slotProps.backdrop}}}),[At,St]=Xi("paper",{elementType:cIt,shouldForwardComponentProp:!0,className:Xn(dt.paper,H.className),ownerState:V,externalForwardedProps:mt,additionalProps:{elevation:X==="temporary"?k:0,square:!0,...X==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[Lt,jt]=Xi("docked",{elementType:lIt,ref:r,className:Xn(dt.root,dt.docked,x),ownerState:V,externalForwardedProps:mt,additionalProps:st}),[_t,lt]=Xi("transition",{elementType:iIt,ownerState:V,externalForwardedProps:mt,additionalProps:{in:U,direction:OW[vt],timeout:j,appear:it.current}}),Tt=Yt.jsx(At,{...St,children:v});if(X==="permanent")return Yt.jsx(Lt,{...jt,children:Tt});const kt=Yt.jsx(_t,{...lt,children:Tt});return X==="persistent"?Yt.jsx(Lt,{...jt,children:kt}):Yt.jsx(wt,{...pt,children:kt})}),dIt=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:c,multiline:a}=t,g={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${cn(o)}`,c&&"hiddenLabel",a&&"multiline"],input:["input"]},v=ra(g,MAt,e);return{...e,...v}},fIt=xn(UA,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...$A(t,e),!r.disableUnderline&&e.underline]}})(Mi(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${Ev.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${Ev.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ev.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ev.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ev.disabled}, .${Ev.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ev.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Dl()).map(([c])=>({props:{disableUnderline:!1,color:c},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[c]?.main}`}}})),{props:({ownerState:c})=>c.startAdornment,style:{paddingLeft:12}},{props:({ownerState:c})=>c.endAdornment,style:{paddingRight:12}},{props:({ownerState:c})=>c.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:c,size:a})=>c.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel&&c.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),pIt=xn(qA,{name:"MuiFilledInput",slot:"Input",overridesResolver:VA})(Mi(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),yO=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:c,fullWidth:a=!1,hiddenLabel:g,inputComponent:v="input",multiline:x=!1,slotProps:k,slots:I={},type:S="text",...P}=n,D={...n,disableUnderline:i,fullWidth:a,inputComponent:v,multiline:x,type:S},U=dIt(n),H={root:{ownerState:D},input:{ownerState:D}},G=k??c?Vu(H,k??c):H,z=I.root??o.Root??fIt,j=I.input??o.Input??pIt;return Yt.jsx(pO,{slots:{root:z,input:j},slotProps:G,fullWidth:a,inputComponent:v,multiline:x,ref:r,type:S,...P,classes:U})});yO.muiName="Input";function mIt(t){return ea("MuiFormControl",t)}Wi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const gIt=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${cn(r)}`,n&&"fullWidth"]};return ra(i,mIt,e)},yIt=xn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${cn(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),gM=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiFormControl"}),{children:i,className:o,color:c="primary",component:a="div",disabled:g=!1,error:v=!1,focused:x,fullWidth:k=!1,hiddenLabel:I=!1,margin:S="none",required:P=!1,size:D="medium",variant:U="outlined",...H}=n,G={...n,color:c,component:a,disabled:g,error:v,fullWidth:k,hiddenLabel:I,margin:S,required:P,size:D,variant:U},z=gIt(G),[j,X]=ut.useState(()=>{let wt=!1;return i&&ut.Children.forEach(i,pt=>{if(!RE(pt,["Input","Select"]))return;const At=RE(pt,["Select"])?pt.props.input:pt;At&&kAt(At.props)&&(wt=!0)}),wt}),[Y,et]=ut.useState(()=>{let wt=!1;return i&&ut.Children.forEach(i,pt=>{RE(pt,["Input","Select"])&&(jT(pt.props,!0)||jT(pt.props.inputProps,!0))&&(wt=!0)}),wt}),[st,it]=ut.useState(!1);g&&st&&it(!1);const vt=x!==void 0&&!g?x:st;let at;ut.useRef(!1);const V=ut.useCallback(()=>{et(!0)},[]),dt=ut.useCallback(()=>{et(!1)},[]),mt=ut.useMemo(()=>({adornedStart:j,setAdornedStart:X,color:c,disabled:g,error:v,filled:Y,focused:vt,fullWidth:k,hiddenLabel:I,size:D,onBlur:()=>{it(!1)},onFocus:()=>{it(!0)},onEmpty:dt,onFilled:V,registerEffect:at,required:P,variant:U}),[j,c,g,v,Y,vt,k,I,at,dt,V,P,D,U]);return Yt.jsx(fO.Provider,{value:mt,children:Yt.jsx(yIt,{as:a,ownerState:G,className:Xn(z.root,o),ref:r,...H,children:i})})});function vIt(t){return ea("MuiFormControlLabel",t)}const S2=Wi("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),bIt=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:o}=t,c={root:["root",r&&"disabled",`labelPlacement${cn(n)}`,i&&"error",o&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return ra(c,vIt,e)},_It=xn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${S2.label}`]:e.label},e.root,e[`labelPlacement${cn(r.labelPlacement)}`]]}})(Mi(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${S2.disabled}`]:{cursor:"default"},[`& .${S2.label}`]:{[`&.${S2.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),xIt=xn("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Mi(({theme:t})=>({[`&.${S2.error}`]:{color:(t.vars||t).palette.error.main}}))),wIt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:c={},control:a,disabled:g,disableTypography:v,inputRef:x,label:k,labelPlacement:I="end",name:S,onChange:P,required:D,slots:U={},slotProps:H={},value:G,...z}=n,j=jy(),X=g??a.props.disabled??j?.disabled,Y=D??a.props.required,et={disabled:X,required:Y};["checked","name","onChange","value","inputRef"].forEach(wt=>{typeof a.props[wt]>"u"&&typeof n[wt]<"u"&&(et[wt]=n[wt])});const st=E0({props:n,muiFormControl:j,states:["error"]}),it={...n,disabled:X,labelPlacement:I,required:Y,error:st.error},vt=bIt(it),at={slots:U,slotProps:{...c,...H}},[V,dt]=Xi("typography",{elementType:uo,externalForwardedProps:at,ownerState:it});let mt=k;return mt!=null&&mt.type!==uo&&!v&&(mt=Yt.jsx(V,{component:"span",...dt,className:Xn(vt.label,dt?.className),children:mt})),Yt.jsxs(_It,{className:Xn(vt.root,o),ownerState:it,ref:r,...z,children:[ut.cloneElement(a,et),Y?Yt.jsxs("div",{children:[mt,Yt.jsxs(xIt,{ownerState:it,"aria-hidden":!0,className:vt.asterisk,children:[" ","*"]})]}):mt]})});function SIt(t){return ea("MuiFormHelperText",t)}const z$=Wi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var F$;const EIt=t=>{const{classes:e,contained:r,size:n,disabled:i,error:o,filled:c,focused:a,required:g}=t,v={root:["root",i&&"disabled",o&&"error",n&&`size${cn(n)}`,r&&"contained",a&&"focused",c&&"filled",g&&"required"]};return ra(v,SIt,e)},TIt=xn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${cn(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(Mi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${z$.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${z$.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),CIt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:c="p",disabled:a,error:g,filled:v,focused:x,margin:k,required:I,variant:S,...P}=n,D=jy(),U=E0({props:n,muiFormControl:D,states:["variant","size","disabled","error","filled","focused","required"]}),H={...n,component:c,contained:U.variant==="filled"||U.variant==="outlined",variant:U.variant,size:U.size,disabled:U.disabled,error:U.error,filled:U.filled,focused:U.focused,required:U.required};delete H.ownerState;const G=EIt(H);return Yt.jsx(TIt,{as:c,className:Xn(G.root,o),ref:r,...P,ownerState:H,children:i===" "?F$||(F$=Yt.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function AIt(t){return ea("MuiFormLabel",t)}const W2=Wi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kIt=t=>{const{classes:e,color:r,focused:n,disabled:i,error:o,filled:c,required:a}=t,g={root:["root",`color${cn(r)}`,i&&"disabled",o&&"error",c&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return ra(g,AIt,e)},IIt=xn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(Mi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{[`&.${W2.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${W2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${W2.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),RIt=xn("span",{name:"MuiFormLabel",slot:"Asterisk"})(Mi(({theme:t})=>({[`&.${W2.error}`]:{color:(t.vars||t).palette.error.main}}))),NIt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:c,component:a="label",disabled:g,error:v,filled:x,focused:k,required:I,...S}=n,P=jy(),D=E0({props:n,muiFormControl:P,states:["color","required","focused","disabled","error","filled"]}),U={...n,color:D.color||"primary",component:a,disabled:D.disabled,error:D.error,filled:D.filled,focused:D.focused,required:D.required},H=kIt(U);return Yt.jsxs(IIt,{as:a,ownerState:U,className:Xn(H.root,o),ref:r,...S,children:[i,D.required&&Yt.jsxs(RIt,{ownerState:U,"aria-hidden":!0,className:H.asterisk,children:[" ","*"]})]})});function yM(t){return`scale(${t}, ${t**2})`}const LIt={entering:{opacity:1,transform:yM(1)},entered:{opacity:1,transform:"none"}},EN=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),$T=ut.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:o,easing:c,in:a,onEnter:g,onEntered:v,onEntering:x,onExit:k,onExited:I,onExiting:S,style:P,timeout:D="auto",TransitionComponent:U=qf,...H}=e,G=$v(),z=ut.useRef(),j=Mg(),X=ut.useRef(null),Y=cc(X,S0(o),r),et=wt=>pt=>{if(wt){const At=X.current;pt===void 0?wt(At):wt(At,pt)}},st=et(x),it=et((wt,pt)=>{aO(wt);const{duration:At,delay:St,easing:Lt}=ky({style:P,timeout:D,easing:c},{mode:"enter"});let jt;D==="auto"?(jt=j.transitions.getAutoHeightDuration(wt.clientHeight),z.current=jt):jt=At,wt.style.transition=[j.transitions.create("opacity",{duration:jt,delay:St}),j.transitions.create("transform",{duration:EN?jt:jt*.666,delay:St,easing:Lt})].join(","),g&&g(wt,pt)}),vt=et(v),at=et(S),V=et(wt=>{const{duration:pt,delay:At,easing:St}=ky({style:P,timeout:D,easing:c},{mode:"exit"});let Lt;D==="auto"?(Lt=j.transitions.getAutoHeightDuration(wt.clientHeight),z.current=Lt):Lt=pt,wt.style.transition=[j.transitions.create("opacity",{duration:Lt,delay:At}),j.transitions.create("transform",{duration:EN?Lt:Lt*.666,delay:EN?At:At||Lt*.333,easing:St})].join(","),wt.style.opacity=0,wt.style.transform=yM(.75),k&&k(wt)}),dt=et(I),mt=wt=>{D==="auto"&&G.start(z.current||0,wt),n&&n(X.current,wt)};return Yt.jsx(U,{appear:i,in:a,nodeRef:X,onEnter:it,onEntered:vt,onEntering:st,onExit:V,onExited:dt,onExiting:at,addEndListener:mt,timeout:D==="auto"?null:D,...H,children:(wt,{ownerState:pt,...At})=>ut.cloneElement(o,{style:{opacity:0,transform:yM(.75),visibility:wt==="exited"&&!a?"hidden":void 0,...LIt[wt],...P,...o.props.style},ref:Y,...At})})});$T&&($T.muiSupportAuto=!0);const MIt=t=>{const{classes:e,disableUnderline:r}=t,i=ra({root:["root",!r&&"underline"],input:["input"]},NAt,e);return{...e,...i}},PIt=xn(UA,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...$A(t,e),!r.disableUnderline&&e.underline]}})(Mi(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${e2.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${e2.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${e2.disabled}, .${e2.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${e2.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Dl()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),OIt=xn(qA,{name:"MuiInput",slot:"Input",overridesResolver:VA})({}),vO=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:c,fullWidth:a=!1,inputComponent:g="input",multiline:v=!1,slotProps:x,slots:k={},type:I="text",...S}=n,P=MIt(n),U={root:{ownerState:{disableUnderline:i}}},H=x??c?Vu(x??c,U):U,G=k.root??o.Root??PIt,z=k.input??o.Input??OIt;return Yt.jsx(pO,{slots:{root:G,input:z},slotProps:H,fullWidth:a,inputComponent:g,multiline:v,ref:r,type:I,...S,classes:P})});vO.muiName="Input";function DIt(t){return ea("MuiInputLabel",t)}Wi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const BIt=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:o,variant:c,required:a}=t,g={root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&n!=="medium"&&`size${cn(n)}`,c],asterisk:[a&&"asterisk"]},v=ra(g,DIt,e);return{...e,...v}},zIt=xn(NIt,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${W2.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(Mi(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),vM=ut.forwardRef(function(e,r){const n=ca({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:c,variant:a,className:g,...v}=n,x=jy();let k=c;typeof k>"u"&&x&&(k=x.filled||x.focused||x.adornedStart);const I=E0({props:n,muiFormControl:x,states:["size","variant","required","focused"]}),S={...n,disableAnimation:i,formControl:x,shrink:k,size:I.size,variant:I.variant,required:I.required,focused:I.focused},P=BIt(S);return Yt.jsx(zIt,{"data-shrink":k,ref:r,className:Xn(P.root,g),...v,ownerState:S,classes:P})}),Mm=ut.createContext({});function FIt(t){return ea("MuiList",t)}Wi("MuiList",["root","padding","dense","subheader"]);const jIt=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return ra({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},FIt,e)},$It=xn("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Sw=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiList"}),{children:i,className:o,component:c="ul",dense:a=!1,disablePadding:g=!1,subheader:v,...x}=n,k=ut.useMemo(()=>({dense:a}),[a]),I={...n,component:c,dense:a,disablePadding:g},S=jIt(I);return Yt.jsx(Mm.Provider,{value:k,children:Yt.jsxs($It,{as:c,className:Xn(S.root,o),ref:r,ownerState:I,...x,children:[v,i]})})});function VIt(t){return ea("MuiListItem",t)}Wi("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function UIt(t){return ea("MuiListItemButton",t)}const s_=Wi("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),qIt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},GIt=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:o,divider:c,selected:a}=t,v=ra({root:["root",n&&"dense",!o&&"gutters",c&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},UIt,r);return{...r,...v}},HIt=xn(Iy,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:qIt})(Mi(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${s_.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${s_.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${s_.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${s_.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${s_.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),XIt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:c="div",children:a,dense:g=!1,disableGutters:v=!1,divider:x=!1,focusVisibleClassName:k,selected:I=!1,className:S,...P}=n,D=ut.useContext(Mm),U=ut.useMemo(()=>({dense:g||D.dense||!1,alignItems:i,disableGutters:v}),[i,D.dense,g,v]),H=ut.useRef(null);Qh(()=>{o&&H.current&&H.current.focus()},[o]);const G={...n,alignItems:i,dense:U.dense,disableGutters:v,divider:x,selected:I},z=GIt(G),j=cc(H,r);return Yt.jsx(Mm.Provider,{value:U,children:Yt.jsx(HIt,{ref:j,href:P.href||P.to,component:(P.href||P.to)&&c==="div"?"button":c,focusVisibleClassName:Xn(z.focusVisible,k),ownerState:G,className:Xn(z.root,S),...P,classes:z,children:a})})});function WIt(t){return ea("MuiListItemSecondaryAction",t)}Wi("MuiListItemSecondaryAction",["root","disableGutters"]);const YIt=t=>{const{disableGutters:e,classes:r}=t;return ra({root:["root",e&&"disableGutters"]},WIt,r)},KIt=xn("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),BW=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...o}=n,c=ut.useContext(Mm),a={...n,disableGutters:c.disableGutters},g=YIt(a);return Yt.jsx(KIt,{className:Xn(g.root,i),ownerState:a,ref:r,...o})});BW.muiName="ListItemSecondaryAction";const ZIt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},QIt=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:i,disablePadding:o,divider:c,hasSecondaryAction:a}=t;return ra({root:["root",n&&"dense",!i&&"gutters",!o&&"padding",c&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},VIt,r)},JIt=xn("div",{name:"MuiListItem",slot:"Root",overridesResolver:ZIt})(Mi(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${s_.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),t3t=xn("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),ME=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiListItem"}),{alignItems:i="center",children:o,className:c,component:a,components:g={},componentsProps:v={},ContainerComponent:x="li",ContainerProps:{className:k,...I}={},dense:S=!1,disableGutters:P=!1,disablePadding:D=!1,divider:U=!1,secondaryAction:H,slotProps:G={},slots:z={},...j}=n,X=ut.useContext(Mm),Y=ut.useMemo(()=>({dense:S||X.dense||!1,alignItems:i,disableGutters:P}),[i,X.dense,S,P]),et=ut.useRef(null),st=ut.Children.toArray(o),it=st.length&&RE(st[st.length-1],["ListItemSecondaryAction"]),vt={...n,alignItems:i,dense:Y.dense,disableGutters:P,disablePadding:D,divider:U,hasSecondaryAction:it},at=QIt(vt),V=cc(et,r),dt=z.root||g.Root||JIt,mt=G.root||v.root||{},wt={className:Xn(at.root,mt.className,c),...j};let pt=a||"li";return it?(pt=!wt.component&&!a?"div":pt,x==="li"&&(pt==="li"?pt="div":wt.component==="li"&&(wt.component="div")),Yt.jsx(Mm.Provider,{value:Y,children:Yt.jsxs(t3t,{as:x,className:Xn(at.container,k),ref:V,ownerState:vt,...I,children:[Yt.jsx(dt,{...mt,...!Nm(dt)&&{as:pt,ownerState:{...vt,...mt.ownerState}},...wt,children:st}),st.pop()]})})):Yt.jsx(Mm.Provider,{value:Y,children:Yt.jsxs(dt,{...mt,as:pt,ref:V,...!Nm(dt)&&{ownerState:{...vt,...mt.ownerState}},...wt,children:[st,H&&Yt.jsx(BW,{children:H})]})})}),j$=Wi("MuiListItemIcon",["root","alignItemsFlexStart"]);function e3t(t){return ea("MuiListItemText",t)}const S_=Wi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),r3t=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:o}=t;return ra({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},e3t,e)},n3t=xn("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${S_.primary}`]:e.primary},{[`& .${S_.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${p$.root}:where(& .${S_.primary})`]:{display:"block"},[`.${p$.root}:where(& .${S_.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),PE=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:c=!1,inset:a=!1,primary:g,primaryTypographyProps:v,secondary:x,secondaryTypographyProps:k,slots:I={},slotProps:S={},...P}=n,{dense:D}=ut.useContext(Mm);let U=g??i,H=x;const G={...n,disableTypography:c,inset:a,primary:!!U,secondary:!!H,dense:D},z=r3t(G),j={slots:I,slotProps:{primary:v,secondary:k,...S}},[X,Y]=Xi("root",{className:Xn(z.root,o),elementType:n3t,externalForwardedProps:{...j,...P},ownerState:G,ref:r}),[et,st]=Xi("primary",{className:z.primary,elementType:uo,externalForwardedProps:j,ownerState:G}),[it,vt]=Xi("secondary",{className:z.secondary,elementType:uo,externalForwardedProps:j,ownerState:G});return U!=null&&U.type!==uo&&!c&&(U=Yt.jsx(et,{variant:D?"body2":"body1",component:st?.variant?void 0:"span",...st,children:U})),H!=null&&H.type!==uo&&!c&&(H=Yt.jsx(it,{variant:"body2",color:"textSecondary",...vt,children:H})),Yt.jsxs(X,{...Y,children:[U,H]})});function TN(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function $$(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function zW(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function r2(t,e,r,n,i,o){let c=!1,a=i(t,e,e?r:!1);for(;a;){if(a===t.firstChild){if(c)return!1;c=!0}const g=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!zW(a,o)||g)a=i(t,a,r);else return a.focus(),!0}return!1}const i3t=ut.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:c,className:a,disabledItemsFocusable:g=!1,disableListWrap:v=!1,onKeyDown:x,variant:k="selectedMenu",...I}=e,S=ut.useRef(null),P=ut.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Qh(()=>{i&&S.current.focus()},[i]),ut.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(z,{direction:j})=>{const X=!S.current.style.width;if(z.clientHeight<S.current.clientHeight&&X){const Y=`${LW(Tp(z))}px`;S.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=Y,S.current.style.width=`calc(100% + ${Y})`}return S.current}}),[]);const D=z=>{const j=S.current,X=z.key;if(z.ctrlKey||z.metaKey||z.altKey){x&&x(z);return}const et=ch(j).activeElement;if(X==="ArrowDown")z.preventDefault(),r2(j,et,v,g,TN);else if(X==="ArrowUp")z.preventDefault(),r2(j,et,v,g,$$);else if(X==="Home")z.preventDefault(),r2(j,null,v,g,TN);else if(X==="End")z.preventDefault(),r2(j,null,v,g,$$);else if(X.length===1){const st=P.current,it=X.toLowerCase(),vt=performance.now();st.keys.length>0&&(vt-st.lastTime>500?(st.keys=[],st.repeating=!0,st.previousKeyMatched=!0):st.repeating&&it!==st.keys[0]&&(st.repeating=!1)),st.lastTime=vt,st.keys.push(it);const at=et&&!st.repeating&&zW(et,st);st.previousKeyMatched&&(at||r2(j,et,!1,g,TN,st))?z.preventDefault():st.previousKeyMatched=!1}x&&x(z)},U=cc(S,r);let H=-1;ut.Children.forEach(c,(z,j)=>{if(!ut.isValidElement(z)){H===j&&(H+=1,H>=c.length&&(H=-1));return}z.props.disabled||(k==="selectedMenu"&&z.props.selected||H===-1)&&(H=j),H===j&&(z.props.disabled||z.props.muiSkipListHighlight||z.type.muiSkipListHighlight)&&(H+=1,H>=c.length&&(H=-1))});const G=ut.Children.map(c,(z,j)=>{if(j===H){const X={};return o&&(X.autoFocus=!0),z.props.tabIndex===void 0&&k==="selectedMenu"&&(X.tabIndex=0),ut.cloneElement(z,X)}return z});return Yt.jsx(Sw,{role:"menu",ref:U,className:a,onKeyDown:D,tabIndex:i?0:-1,...I,children:G})});function a3t(t){return ea("MuiPopover",t)}Wi("MuiPopover",["root","paper"]);function V$(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function U$(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function q$(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function K5(t){return typeof t=="function"?t():t}const o3t=t=>{const{classes:e}=t;return ra({root:["root"],paper:["paper"]},a3t,e)},s3t=xn(gO,{name:"MuiPopover",slot:"Root"})({}),FW=xn(Cx,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),l3t=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:g="anchorEl",children:v,className:x,container:k,elevation:I=8,marginThreshold:S=16,open:P,PaperProps:D={},slots:U={},slotProps:H={},transformOrigin:G={vertical:"top",horizontal:"left"},TransitionComponent:z,transitionDuration:j="auto",TransitionProps:X={},disableScrollLock:Y=!1,...et}=n,st=ut.useRef(),it={...n,anchorOrigin:c,anchorReference:g,elevation:I,marginThreshold:S,transformOrigin:G,TransitionComponent:z,transitionDuration:j,TransitionProps:X},vt=o3t(it),at=ut.useCallback(()=>{if(g==="anchorPosition")return a;const de=K5(o),Vt=(de&&de.nodeType===1?de:ch(st.current).body).getBoundingClientRect();return{top:Vt.top+V$(Vt,c.vertical),left:Vt.left+U$(Vt,c.horizontal)}},[o,c.horizontal,c.vertical,a,g]),V=ut.useCallback(de=>({vertical:V$(de,G.vertical),horizontal:U$(de,G.horizontal)}),[G.horizontal,G.vertical]),dt=ut.useCallback(de=>{const Se={width:de.offsetWidth,height:de.offsetHeight},Vt=V(Se);if(g==="none")return{top:null,left:null,transformOrigin:q$(Vt)};const He=at();let ke=He.top-Vt.vertical,Jt=He.left-Vt.horizontal;const $r=ke+Se.height,vr=Jt+Se.width,Dr=Tp(K5(o)),Ie=Dr.innerHeight-S,Mr=Dr.innerWidth-S;if(S!==null&&ke<S){const ir=ke-S;ke-=ir,Vt.vertical+=ir}else if(S!==null&&$r>Ie){const ir=$r-Ie;ke-=ir,Vt.vertical+=ir}if(S!==null&&Jt<S){const ir=Jt-S;Jt-=ir,Vt.horizontal+=ir}else if(vr>Mr){const ir=vr-Mr;Jt-=ir,Vt.horizontal+=ir}return{top:`${Math.round(ke)}px`,left:`${Math.round(Jt)}px`,transformOrigin:q$(Vt)}},[o,g,at,V,S]),[mt,wt]=ut.useState(P),pt=ut.useCallback(()=>{const de=st.current;if(!de)return;const Se=dt(de);Se.top!==null&&de.style.setProperty("top",Se.top),Se.left!==null&&(de.style.left=Se.left),de.style.transformOrigin=Se.transformOrigin,wt(!0)},[dt]);ut.useEffect(()=>(Y&&window.addEventListener("scroll",pt),()=>window.removeEventListener("scroll",pt)),[o,Y,pt]);const At=()=>{pt()},St=()=>{wt(!1)};ut.useEffect(()=>{P&&pt()}),ut.useImperativeHandle(i,()=>P?{updatePosition:()=>{pt()}}:null,[P,pt]),ut.useEffect(()=>{if(!P)return;const de=eO(()=>{pt()}),Se=Tp(K5(o));return Se.addEventListener("resize",de),()=>{de.clear(),Se.removeEventListener("resize",de)}},[o,P,pt]);let Lt=j;const jt={slots:{transition:z,...U},slotProps:{transition:X,paper:D,...H}},[_t,lt]=Xi("transition",{elementType:$T,externalForwardedProps:jt,ownerState:it,getSlotProps:de=>({...de,onEntering:(Se,Vt)=>{de.onEntering?.(Se,Vt),At()},onExited:Se=>{de.onExited?.(Se),St()}}),additionalProps:{appear:!0,in:P}});j==="auto"&&!_t.muiSupportAuto&&(Lt=void 0);const Tt=k||(o?ch(K5(o)).body:void 0),[kt,{slots:Rt,slotProps:Ut,...ie}]=Xi("root",{ref:r,elementType:s3t,externalForwardedProps:{...jt,...et},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:U.backdrop},slotProps:{backdrop:rO(typeof H.backdrop=="function"?H.backdrop(it):H.backdrop,{invisible:!0})},container:Tt,open:P},ownerState:it,className:Xn(vt.root,x)}),[Ht,ce]=Xi("paper",{ref:st,className:vt.paper,elementType:FW,externalForwardedProps:jt,shouldForwardComponentProp:!0,additionalProps:{elevation:I,style:mt?void 0:{opacity:0}},ownerState:it});return Yt.jsx(kt,{...ie,...!Nm(kt)&&{slots:Rt,slotProps:Ut,disableScrollLock:Y},children:Yt.jsx(_t,{...lt,timeout:Lt,children:Yt.jsx(Ht,{...ce,children:v})})})});function c3t(t){return ea("MuiMenu",t)}Wi("MuiMenu",["root","paper","list"]);const u3t={vertical:"top",horizontal:"right"},h3t={vertical:"top",horizontal:"left"},d3t=t=>{const{classes:e}=t;return ra({root:["root"],paper:["paper"],list:["list"]},c3t,e)},f3t=xn(l3t,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),p3t=xn(FW,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),m3t=xn(i3t,{name:"MuiMenu",slot:"List"})({outline:0}),g3t=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:c,disableAutoFocusItem:a=!1,MenuListProps:g={},onClose:v,open:x,PaperProps:k={},PopoverClasses:I,transitionDuration:S="auto",TransitionProps:{onEntering:P,...D}={},variant:U="selectedMenu",slots:H={},slotProps:G={},...z}=n,j=Tx(),X={...n,autoFocus:i,disableAutoFocusItem:a,MenuListProps:g,onEntering:P,PaperProps:k,transitionDuration:S,TransitionProps:D,variant:U},Y=d3t(X),et=i&&!a&&x,st=ut.useRef(null),it=(Lt,jt)=>{st.current&&st.current.adjustStyleForScrollbar(Lt,{direction:j?"rtl":"ltr"}),P&&P(Lt,jt)},vt=Lt=>{Lt.key==="Tab"&&(Lt.preventDefault(),v&&v(Lt,"tabKeyDown"))};let at=-1;ut.Children.map(o,(Lt,jt)=>{ut.isValidElement(Lt)&&(Lt.props.disabled||(U==="selectedMenu"&&Lt.props.selected||at===-1)&&(at=jt))});const V={slots:H,slotProps:{list:g,transition:D,paper:k,...G}},dt=om({elementType:H.root,externalSlotProps:G.root,ownerState:X,className:[Y.root,c]}),[mt,wt]=Xi("paper",{className:Y.paper,elementType:p3t,externalForwardedProps:V,shouldForwardComponentProp:!0,ownerState:X}),[pt,At]=Xi("list",{className:Xn(Y.list,g.className),elementType:m3t,shouldForwardComponentProp:!0,externalForwardedProps:V,getSlotProps:Lt=>({...Lt,onKeyDown:jt=>{vt(jt),Lt.onKeyDown?.(jt)}}),ownerState:X}),St=typeof V.slotProps.transition=="function"?V.slotProps.transition(X):V.slotProps.transition;return Yt.jsx(f3t,{onClose:v,anchorOrigin:{vertical:"bottom",horizontal:j?"right":"left"},transformOrigin:j?u3t:h3t,slots:{root:H.root,paper:mt,backdrop:H.backdrop,...H.transition&&{transition:H.transition}},slotProps:{root:dt,paper:wt,backdrop:typeof G.backdrop=="function"?G.backdrop(X):G.backdrop,transition:{...St,onEntering:(...Lt)=>{it(...Lt),St?.onEntering?.(...Lt)}}},open:x,ref:r,transitionDuration:S,ownerState:X,...z,classes:I,children:Yt.jsx(pt,{actions:st,autoFocus:i&&(at===-1||a),autoFocusItem:et,variant:U,...At,children:o})})});function y3t(t){return ea("MuiMenuItem",t)}const n2=Wi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),v3t=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},b3t=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:o,classes:c}=t,g=ra({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},y3t,c);return{...c,...g}},_3t=xn(Iy,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:v3t})(Mi(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${n2.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${n2.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${n2.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${n2.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${n2.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${B$.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${B$.inset}`]:{marginLeft:52},[`& .${S_.root}`]:{marginTop:0,marginBottom:0},[`& .${S_.inset}`]:{paddingLeft:36},[`& .${j$.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${j$.root} svg`]:{fontSize:"1.25rem"}}}]}))),Z5=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:c=!1,divider:a=!1,disableGutters:g=!1,focusVisibleClassName:v,role:x="menuitem",tabIndex:k,className:I,...S}=n,P=ut.useContext(Mm),D=ut.useMemo(()=>({dense:c||P.dense||!1,disableGutters:g}),[P.dense,c,g]),U=ut.useRef(null);Qh(()=>{i&&U.current&&U.current.focus()},[i]);const H={...n,dense:D.dense,divider:a,disableGutters:g},G=b3t(n),z=cc(U,r);let j;return n.disabled||(j=k!==void 0?k:-1),Yt.jsx(Mm.Provider,{value:D,children:Yt.jsx(_3t,{ref:z,role:x,tabIndex:j,component:o,focusVisibleClassName:Xn(G.focusVisible,v),className:Xn(G.root,I),...S,ownerState:H,classes:G})})});function x3t(t){return ea("MuiNativeSelect",t)}const bO=Wi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),w3t=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:c}=t,a={select:["select",r,n&&"disabled",i&&"multiple",c&&"error"],icon:["icon",`icon${cn(r)}`,o&&"iconOpen",n&&"disabled"]};return ra(a,x3t,e)},jW=xn("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${bO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),S3t=xn(jW,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Oh,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${bO.multiple}`]:e.multiple}]}})({}),$W=xn("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${bO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),E3t=xn($W,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${cn(r.variant)}`],r.open&&e.iconOpen]}})({}),T3t=ut.forwardRef(function(e,r){const{className:n,disabled:i,error:o,IconComponent:c,inputRef:a,variant:g="standard",...v}=e,x={...e,disabled:i,variant:g,error:o},k=w3t(x);return Yt.jsxs(ut.Fragment,{children:[Yt.jsx(S3t,{ownerState:x,className:Xn(k.select,n),disabled:i,ref:a||r,...v}),e.multiple?null:Yt.jsx(E3t,{as:c,ownerState:x,className:k.icon})]})});var G$;const C3t=xn("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Oh})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),A3t=xn("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Oh})(Mi(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function k3t(t){const{children:e,classes:r,className:n,label:i,notched:o,...c}=t,a=i!=null&&i!=="",g={...t,notched:o,withLabel:a};return Yt.jsx(C3t,{"aria-hidden":!0,className:n,ownerState:g,...c,children:Yt.jsx(A3t,{ownerState:g,children:a?Yt.jsx("span",{children:i}):G$||(G$=Yt.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const I3t=t=>{const{classes:e}=t,n=ra({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},LAt,e);return{...e,...n}},R3t=xn(UA,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:$A})(Mi(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${nm.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${nm.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${nm.focused} .${nm.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Dl()).map(([r])=>({props:{color:r},style:{[`&.${nm.focused} .${nm.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${nm.error} .${nm.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${nm.disabled} .${nm.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),N3t=xn(k3t,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Mi(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),L3t=xn(qA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:VA})(Mi(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),_O=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:c="input",label:a,multiline:g=!1,notched:v,slots:x={},slotProps:k={},type:I="text",...S}=n,P=I3t(n),D=jy(),U=E0({props:n,muiFormControl:D,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),H={...n,color:U.color||"primary",disabled:U.disabled,error:U.error,focused:U.focused,formControl:D,fullWidth:o,hiddenLabel:U.hiddenLabel,multiline:g,size:U.size,type:I},G=x.root??i.Root??R3t,z=x.input??i.Input??L3t,[j,X]=Xi("notchedOutline",{elementType:N3t,className:P.notchedOutline,shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{slots:x,slotProps:k},additionalProps:{label:a!=null&&a!==""&&U.required?Yt.jsxs(ut.Fragment,{children:[a," ","*"]}):a}});return Yt.jsx(pO,{slots:{root:G,input:z},slotProps:k,renderSuffix:Y=>Yt.jsx(j,{...X,notched:typeof v<"u"?v:!!(Y.startAdornment||Y.filled||Y.focused)}),fullWidth:o,inputComponent:c,multiline:g,ref:r,type:I,...S,classes:{...P,notchedOutline:null}})});_O.muiName="Input";function M3t(t){return ea("MuiPagination",t)}Wi("MuiPagination",["root","ul","outlined","text"]);function P3t(t={}){const{boundaryCount:e=1,componentName:r="usePagination",count:n=1,defaultPage:i=1,disabled:o=!1,hideNextButton:c=!1,hidePrevButton:a=!1,onChange:g,page:v,showFirstButton:x=!1,showLastButton:k=!1,siblingCount:I=1,...S}=t,[P,D]=rx({controlled:v,default:i,name:r,state:"page"}),U=(it,vt)=>{v||D(vt),g&&g(it,vt)},H=(it,vt)=>{const at=vt-it+1;return Array.from({length:at},(V,dt)=>it+dt)},G=H(1,Math.min(e,n)),z=H(Math.max(n-e+1,e+1),n),j=Math.max(Math.min(P-I,n-e-I*2-1),e+2),X=Math.min(Math.max(P+I,e+I*2+2),n-e-1),Y=[...x?["first"]:[],...a?[]:["previous"],...G,...j>e+2?["start-ellipsis"]:e+1<n-e?[e+1]:[],...H(j,X),...X<n-e-1?["end-ellipsis"]:n-e>e?[n-e]:[],...z,...c?[]:["next"],...k?["last"]:[]],et=it=>{switch(it){case"first":return 1;case"previous":return P-1;case"next":return P+1;case"last":return n;default:return null}};return{items:Y.map(it=>typeof it=="number"?{onClick:vt=>{U(vt,it)},type:"page",page:it,selected:it===P,disabled:o,"aria-current":it===P?"page":void 0}:{onClick:vt=>{U(vt,et(it))},type:it,page:et(it),selected:!1,disabled:o||!it.includes("ellipsis")&&(it==="next"||it==="last"?P>=n:P<=1)}),...S}}function O3t(t){return ea("MuiPaginationItem",t)}const Xh=Wi("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),D3t=zl(Yt.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),B3t=zl(Yt.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),z3t=zl(Yt.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),F3t=zl(Yt.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),VW=(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${cn(r.size)}`],r.variant==="text"&&e[`text${cn(r.color)}`],r.variant==="outlined"&&e[`outlined${cn(r.color)}`],r.shape==="rounded"&&e.rounded,r.type==="page"&&e.page,(r.type==="start-ellipsis"||r.type==="end-ellipsis")&&e.ellipsis,(r.type==="previous"||r.type==="next")&&e.previousNext,(r.type==="first"||r.type==="last")&&e.firstLast]},j3t=t=>{const{classes:e,color:r,disabled:n,selected:i,size:o,shape:c,type:a,variant:g}=t,v={root:["root",`size${cn(o)}`,g,c,r!=="standard"&&`color${cn(r)}`,r!=="standard"&&`${g}${cn(r)}`,n&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return ra(v,O3t,e)},$3t=xn("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:VW})(Mi(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${Xh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),V3t=xn(Iy,{name:"MuiPaginationItem",slot:"Root",overridesResolver:VW})(Mi(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${Xh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Xh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xh.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Xh.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${Xh.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Xh.selected}`]:{[`&.${Xh.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${Xh.selected}`]:{[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(Dl(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${Xh.selected}`]:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}},[`&.${Xh.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e].dark},[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(Dl(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${Xh.selected}`]:{color:(t.vars||t).palette[e].main,border:`1px solid ${t.alpha((t.vars||t).palette[e].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xh.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),U3t=xn("div",{name:"MuiPaginationItem",slot:"Icon"})(Mi(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),q3t=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:c,components:a={},disabled:g=!1,page:v,selected:x=!1,shape:k="circular",size:I="medium",slots:S={},slotProps:P={},type:D="page",variant:U="text",...H}=n,G={...n,color:o,disabled:g,selected:x,shape:k,size:I,type:D,variant:U},z=Tx(),j=j3t(G),X={slots:{previous:S.previous??a.previous,next:S.next??a.next,first:S.first??a.first,last:S.last??a.last},slotProps:P},[Y,et]=Xi("previous",{elementType:z3t,externalForwardedProps:X,ownerState:G}),[st,it]=Xi("next",{elementType:F3t,externalForwardedProps:X,ownerState:G}),[vt,at]=Xi("first",{elementType:D3t,externalForwardedProps:X,ownerState:G}),[V,dt]=Xi("last",{elementType:B3t,externalForwardedProps:X,ownerState:G}),mt=z?{previous:"next",next:"previous",first:"last",last:"first"}[D]:D,wt={previous:Y,next:st,first:vt,last:V}[mt],pt={previous:et,next:it,first:at,last:dt}[mt];return D==="start-ellipsis"||D==="end-ellipsis"?Yt.jsx($3t,{ref:r,ownerState:G,className:Xn(j.root,i),children:"…"}):Yt.jsxs(V3t,{ref:r,ownerState:G,component:c,disabled:g,className:Xn(j.root,i),...H,children:[D==="page"&&v,wt?Yt.jsx(U3t,{...pt,className:j.icon,as:wt}):null]})}),G3t=t=>{const{classes:e,variant:r}=t;return ra({root:["root",r],ul:["ul"]},M3t,e)},H3t=xn("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant]]}})({}),X3t=xn("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function W3t(t,e,r){return t==="page"?`${r?"":"Go to "}page ${e}`:`Go to ${t} page`}const bM=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:c="standard",count:a=1,defaultPage:g=1,disabled:v=!1,getItemAriaLabel:x=W3t,hideNextButton:k=!1,hidePrevButton:I=!1,onChange:S,page:P,renderItem:D=vt=>Yt.jsx(q3t,{...vt}),shape:U="circular",showFirstButton:H=!1,showLastButton:G=!1,siblingCount:z=1,size:j="medium",variant:X="text",...Y}=n,{items:et}=P3t({...n,componentName:"Pagination"}),st={...n,boundaryCount:i,color:c,count:a,defaultPage:g,disabled:v,getItemAriaLabel:x,hideNextButton:k,hidePrevButton:I,renderItem:D,shape:U,showFirstButton:H,showLastButton:G,siblingCount:z,size:j,variant:X},it=G3t(st);return Yt.jsx(H3t,{"aria-label":"pagination navigation",className:Xn(it.root,o),ownerState:st,ref:r,...Y,children:Yt.jsx(X3t,{className:it.ul,ownerState:st,children:et.map((vt,at)=>Yt.jsx("li",{children:D({...vt,color:c,"aria-label":x(vt.type,vt.page,vt.selected),shape:U,size:j,variant:X})},at))})})}),Y3t={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function UW(t){return ea("MuiSelect",t)}const i2=Wi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var H$;const K3t=xn(jW,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${i2.select}`]:e.select},{[`&.${i2.select}`]:e[r.variant]},{[`&.${i2.error}`]:e.error},{[`&.${i2.multiple}`]:e.multiple}]}})({[`&.${i2.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Z3t=xn($W,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${cn(r.variant)}`],r.open&&e.iconOpen]}})({}),Q3t=xn("input",{shouldForwardProp:t=>zA(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function X$(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function J3t(t){return t==null||typeof t=="string"&&!t.trim()}const tRt=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:c}=t,a={select:["select",r,n&&"disabled",i&&"multiple",c&&"error"],icon:["icon",`icon${cn(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return ra(a,UW,e)},eRt=ut.forwardRef(function(e,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:c,children:a,className:g,defaultOpen:v,defaultValue:x,disabled:k,displayEmpty:I,error:S=!1,IconComponent:P,inputRef:D,labelId:U,MenuProps:H={},multiple:G,name:z,onBlur:j,onChange:X,onClose:Y,onFocus:et,onOpen:st,open:it,readOnly:vt,renderValue:at,required:V,SelectDisplayProps:dt={},tabIndex:mt,type:wt,value:pt,variant:At="standard",...St}=e,[Lt,jt]=rx({controlled:pt,default:x,name:"Select"}),[_t,lt]=rx({controlled:it,default:v,name:"Select"}),Tt=ut.useRef(null),kt=ut.useRef(null),[Rt,Ut]=ut.useState(null),{current:ie}=ut.useRef(it!=null),[Ht,ce]=ut.useState(),de=cc(r,D),Se=ut.useCallback(Bt=>{kt.current=Bt,Bt&&Ut(Bt)},[]),Vt=Rt?.parentNode;ut.useImperativeHandle(de,()=>({focus:()=>{kt.current.focus()},node:Tt.current,value:Lt}),[Lt]),ut.useEffect(()=>{v&&_t&&Rt&&!ie&&(ce(c?null:Vt.clientWidth),kt.current.focus())},[Rt,c]),ut.useEffect(()=>{o&&kt.current.focus()},[o]),ut.useEffect(()=>{if(!U)return;const Bt=ch(kt.current).getElementById(U);if(Bt){const oe=()=>{getSelection().isCollapsed&&kt.current.focus()};return Bt.addEventListener("click",oe),()=>{Bt.removeEventListener("click",oe)}}},[U]);const He=(Bt,oe)=>{Bt?st&&st(oe):Y&&Y(oe),ie||(ce(c?null:Vt.clientWidth),lt(Bt))},ke=Bt=>{Bt.button===0&&(Bt.preventDefault(),kt.current.focus(),He(!0,Bt))},Jt=Bt=>{He(!1,Bt)},$r=ut.Children.toArray(a),vr=Bt=>{const oe=$r.find(ye=>ye.props.value===Bt.target.value);oe!==void 0&&(jt(oe.props.value),X&&X(Bt,oe))},Dr=Bt=>oe=>{let ye;if(oe.currentTarget.hasAttribute("tabindex")){if(G){ye=Array.isArray(Lt)?Lt.slice():[];const je=Lt.indexOf(Bt.props.value);je===-1?ye.push(Bt.props.value):ye.splice(je,1)}else ye=Bt.props.value;if(Bt.props.onClick&&Bt.props.onClick(oe),Lt!==ye&&(jt(ye),X)){const je=oe.nativeEvent||oe,Ge=new je.constructor(je.type,je);Object.defineProperty(Ge,"target",{writable:!0,value:{value:ye,name:z}}),X(Ge,Bt)}G||He(!1,oe)}},Ie=Bt=>{vt||[" ","ArrowUp","ArrowDown","Enter"].includes(Bt.key)&&(Bt.preventDefault(),He(!0,Bt))},Mr=Rt!==null&&_t,ir=Bt=>{!Mr&&j&&(Object.defineProperty(Bt,"target",{writable:!0,value:{value:Lt,name:z}}),j(Bt))};delete St["aria-invalid"];let Rr,Pr;const Ir=[];let dr=!1;(jT({value:Lt})||I)&&(at?Rr=at(Lt):dr=!0);const ar=$r.map(Bt=>{if(!ut.isValidElement(Bt))return null;let oe;if(G){if(!Array.isArray(Lt))throw new Error(Ag(2));oe=Lt.some(ye=>X$(ye,Bt.props.value)),oe&&dr&&Ir.push(Bt.props.children)}else oe=X$(Lt,Bt.props.value),oe&&dr&&(Pr=Bt.props.children);return ut.cloneElement(Bt,{"aria-selected":oe?"true":"false",onClick:Dr(Bt),onKeyUp:ye=>{ye.key===" "&&ye.preventDefault(),Bt.props.onKeyUp&&Bt.props.onKeyUp(ye)},role:"option",selected:oe,value:void 0,"data-value":Bt.props.value})});dr&&(G?Ir.length===0?Rr=null:Rr=Ir.reduce((Bt,oe,ye)=>(Bt.push(oe),ye<Ir.length-1&&Bt.push(", "),Bt),[]):Rr=Pr);let Or=Ht;!c&&ie&&Rt&&(Or=Vt.clientWidth);let er;typeof mt<"u"?er=mt:er=k?null:0;const Fr=dt.id||(z?`mui-component-select-${z}`:void 0),Ze={...e,variant:At,value:Lt,open:Mr,error:S},rr=tRt(Ze),Me={...H.PaperProps,...typeof H.slotProps?.paper=="function"?H.slotProps.paper(Ze):H.slotProps?.paper},Ft={...H.MenuListProps,...typeof H.slotProps?.list=="function"?H.slotProps.list(Ze):H.slotProps?.list},Mt=w0();return Yt.jsxs(ut.Fragment,{children:[Yt.jsx(K3t,{as:"div",ref:Se,tabIndex:er,role:"combobox","aria-controls":Mr?Mt:void 0,"aria-disabled":k?"true":void 0,"aria-expanded":Mr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[U,Fr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":V?"true":void 0,"aria-invalid":S?"true":void 0,onKeyDown:Ie,onMouseDown:k||vt?null:ke,onBlur:ir,onFocus:et,...dt,ownerState:Ze,className:Xn(dt.className,rr.select,g),id:Fr,children:J3t(Rr)?H$||(H$=Yt.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Rr}),Yt.jsx(Q3t,{"aria-invalid":S,value:Array.isArray(Lt)?Lt.join(","):Lt,name:z,ref:Tt,"aria-hidden":!0,onChange:vr,tabIndex:-1,disabled:k,className:rr.nativeInput,autoFocus:o,required:V,...St,ownerState:Ze}),Yt.jsx(Z3t,{as:P,className:rr.icon,ownerState:Ze}),Yt.jsx(g3t,{id:`menu-${z||""}`,anchorEl:Vt,open:Mr,onClose:Jt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...H,slotProps:{...H.slotProps,list:{"aria-labelledby":U,role:"listbox","aria-multiselectable":G?"true":void 0,disableListWrap:!0,id:Mt,...Ft},paper:{...Me,style:{minWidth:Or,...Me!=null?Me.style:null}}},children:ar})]})}),rRt=t=>{const{classes:e}=t,n=ra({root:["root"]},UW,e);return{...e,...n}},xO={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Oh(t)&&t!=="variant"},nRt=xn(vO,xO)(""),iRt=xn(_O,xO)(""),aRt=xn(yO,xO)(""),VT=ut.forwardRef(function(e,r){const n=ca({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:c={},className:a,defaultOpen:g=!1,displayEmpty:v=!1,IconComponent:x=PAt,id:k,input:I,inputProps:S,label:P,labelId:D,MenuProps:U,multiple:H=!1,native:G=!1,onClose:z,onOpen:j,open:X,renderValue:Y,SelectDisplayProps:et,variant:st="outlined",...it}=n,vt=G?T3t:eRt,at=jy(),V=E0({props:n,muiFormControl:at,states:["variant","error"]}),dt=V.variant||st,mt={...n,variant:dt,classes:c},wt=rRt(mt),{root:pt,...At}=wt,St=I||{standard:Yt.jsx(nRt,{ownerState:mt}),outlined:Yt.jsx(iRt,{label:P,ownerState:mt}),filled:Yt.jsx(aRt,{ownerState:mt})}[dt],Lt=cc(r,S0(St));return Yt.jsx(ut.Fragment,{children:ut.cloneElement(St,{inputComponent:vt,inputProps:{children:o,error:V.error,IconComponent:x,variant:dt,type:void 0,multiple:H,...G?{id:k}:{autoWidth:i,defaultOpen:g,displayEmpty:v,labelId:D,MenuProps:U,onClose:z,onOpen:j,open:X,renderValue:Y,SelectDisplayProps:{id:k,...et}},...S,classes:S?Vu(At,S.classes):At,...I?I.props.inputProps:{}},...(H&&G||v)&&dt==="outlined"?{notched:!0}:{},ref:Lt,className:Xn(St.props.className,a,wt.root),...!I&&{variant:dt},...it})})});VT.muiName="Select";function oRt(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const sRt=2;function Db(t,e,r,n,i){return r===1?Math.min(t+e,i):Math.max(t-e,n)}function qW(t,e){return t-e}function W$(t,e){const{index:r}=t.reduce((n,i,o)=>{const c=Math.abs(e-i);return n===null||c<n.distance||c===n.distance?{distance:c,index:o}:n},null)??{};return r}function Q5(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function UT(t,e,r){return(t-e)*100/(r-e)}function lRt(t,e,r){return(r-e)*t+e}function cRt(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function uRt(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(cRt(e)))}function Y$({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(qW)}function J5({sliderRef:t,activeIndex:e,setActive:r}){const n=ch(t.current);(!t.current?.contains(n.activeElement)||Number(n?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),r&&r(e)}function tE(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?oRt(t,e):!1}const hRt={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},dRt=t=>t;let eE;function K$(){return eE===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?eE=CSS.supports("touch-action","none"):eE=!0),eE}function fRt(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:o=!1,marks:c=!1,max:a=100,min:g=0,name:v,onChange:x,onChangeCommitted:k,orientation:I="horizontal",rootRef:S,scale:P=dRt,step:D=1,shiftStep:U=10,tabIndex:H,value:G}=t,z=ut.useRef(void 0),[j,X]=ut.useState(-1),[Y,et]=ut.useState(-1),[st,it]=ut.useState(!1),vt=ut.useRef(0),at=ut.useRef(null),[V,dt]=rx({controlled:G,default:r??g,name:"Slider"}),mt=x&&((dr,ar,Or)=>{const er=dr.nativeEvent||dr,Fr=new er.constructor(er.type,er);Object.defineProperty(Fr,"target",{writable:!0,value:{value:ar,name:v}}),at.current=ar,x(Fr,ar,Or)}),wt=Array.isArray(V);let pt=wt?V.slice().sort(qW):[V];pt=pt.map(dr=>dr==null?g:a_(dr,g,a));const At=c===!0&&D!==null?[...Array(Math.floor((a-g)/D)+1)].map((dr,ar)=>({value:g+D*ar})):c||[],St=At.map(dr=>dr.value),[Lt,jt]=ut.useState(-1),_t=ut.useRef(null),lt=cc(S,_t),Tt=dr=>ar=>{const Or=Number(ar.currentTarget.getAttribute("data-index"));nx(ar.target)&&jt(Or),et(Or),dr?.onFocus?.(ar)},kt=dr=>ar=>{nx(ar.target)||jt(-1),et(-1),dr?.onBlur?.(ar)},Rt=(dr,ar)=>{const Or=Number(dr.currentTarget.getAttribute("data-index")),er=pt[Or],Fr=St.indexOf(er);let Ze=ar;if(At&&D==null){const rr=St[St.length-1];Ze>=rr?Ze=rr:Ze<=St[0]?Ze=St[0]:Ze=Ze<er?St[Fr-1]:St[Fr+1]}if(Ze=a_(Ze,g,a),wt){i&&(Ze=a_(Ze,pt[Or-1]||-1/0,pt[Or+1]||1/0));const rr=Ze;Ze=Y$({values:pt,newValue:Ze,index:Or});let Me=Or;i||(Me=Ze.indexOf(rr)),J5({sliderRef:_t,activeIndex:Me})}dt(Ze),jt(Or),mt&&!tE(Ze,V)&&mt(dr,Ze,Or),k&&k(dr,at.current??Ze)},Ut=dr=>ar=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ar.key)){ar.preventDefault();const Or=Number(ar.currentTarget.getAttribute("data-index")),er=pt[Or];let Fr=null;if(D!=null){const Ze=ar.shiftKey?U:D;switch(ar.key){case"ArrowUp":Fr=Db(er,Ze,1,g,a);break;case"ArrowRight":Fr=Db(er,Ze,o?-1:1,g,a);break;case"ArrowDown":Fr=Db(er,Ze,-1,g,a);break;case"ArrowLeft":Fr=Db(er,Ze,o?1:-1,g,a);break;case"PageUp":Fr=Db(er,U,1,g,a);break;case"PageDown":Fr=Db(er,U,-1,g,a);break;case"Home":Fr=g;break;case"End":Fr=a;break}}else if(At){const Ze=St[St.length-1],rr=St.indexOf(er),Me=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ft=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Me.includes(ar.key)?rr===0?Fr=St[0]:Fr=St[rr-1]:Ft.includes(ar.key)&&(rr===St.length-1?Fr=Ze:Fr=St[rr+1])}Fr!=null&&Rt(ar,Fr)}dr?.onKeyDown?.(ar)};Qh(()=>{n&&_t.current.contains(document.activeElement)&&document.activeElement?.blur()},[n]),n&&j!==-1&&X(-1),n&&Lt!==-1&&jt(-1);const ie=dr=>ar=>{dr.onChange?.(ar),Rt(ar,ar.target.valueAsNumber)},Ht=ut.useRef(void 0);let ce=I;o&&I==="horizontal"&&(ce+="-reverse");const de=({finger:dr,move:ar=!1})=>{const{current:Or}=_t,{width:er,height:Fr,bottom:Ze,left:rr}=Or.getBoundingClientRect();let Me;ce.startsWith("vertical")?Me=(Ze-dr.y)/Fr:Me=(dr.x-rr)/er,ce.includes("-reverse")&&(Me=1-Me);let Ft;if(Ft=lRt(Me,g,a),D)Ft=uRt(Ft,D,g);else{const Bt=W$(St,Ft);Ft=St[Bt]}Ft=a_(Ft,g,a);let Mt=0;if(wt){ar?Mt=Ht.current:Mt=W$(pt,Ft),i&&(Ft=a_(Ft,pt[Mt-1]||-1/0,pt[Mt+1]||1/0));const Bt=Ft;Ft=Y$({values:pt,newValue:Ft,index:Mt}),i&&ar||(Mt=Ft.indexOf(Bt),Ht.current=Mt)}return{newValue:Ft,activeIndex:Mt}},Se=Nf(dr=>{const ar=Q5(dr,z);if(!ar)return;if(vt.current+=1,dr.type==="mousemove"&&dr.buttons===0){Vt(dr);return}const{newValue:Or,activeIndex:er}=de({finger:ar,move:!0});J5({sliderRef:_t,activeIndex:er,setActive:X}),dt(Or),!st&&vt.current>sRt&&it(!0),mt&&!tE(Or,V)&&mt(dr,Or,er)}),Vt=Nf(dr=>{const ar=Q5(dr,z);if(it(!1),!ar)return;const{newValue:Or}=de({finger:ar,move:!0});X(-1),dr.type==="touchend"&&et(-1),k&&k(dr,at.current??Or),z.current=void 0,ke()}),He=Nf(dr=>{if(n)return;K$()||dr.preventDefault();const ar=dr.changedTouches[0];ar!=null&&(z.current=ar.identifier);const Or=Q5(dr,z);if(Or!==!1){const{newValue:Fr,activeIndex:Ze}=de({finger:Or});J5({sliderRef:_t,activeIndex:Ze,setActive:X}),dt(Fr),mt&&!tE(Fr,V)&&mt(dr,Fr,Ze)}vt.current=0;const er=ch(_t.current);er.addEventListener("touchmove",Se,{passive:!0}),er.addEventListener("touchend",Vt,{passive:!0})}),ke=ut.useCallback(()=>{const dr=ch(_t.current);dr.removeEventListener("mousemove",Se),dr.removeEventListener("mouseup",Vt),dr.removeEventListener("touchmove",Se),dr.removeEventListener("touchend",Vt)},[Vt,Se]);ut.useEffect(()=>{const{current:dr}=_t;return dr.addEventListener("touchstart",He,{passive:K$()}),()=>{dr.removeEventListener("touchstart",He),ke()}},[ke,He]),ut.useEffect(()=>{n&&ke()},[n,ke]);const Jt=dr=>ar=>{if(dr.onMouseDown?.(ar),n||ar.defaultPrevented||ar.button!==0)return;ar.preventDefault();const Or=Q5(ar,z);if(Or!==!1){const{newValue:Fr,activeIndex:Ze}=de({finger:Or});J5({sliderRef:_t,activeIndex:Ze,setActive:X}),dt(Fr),mt&&!tE(Fr,V)&&mt(ar,Fr,Ze)}vt.current=0;const er=ch(_t.current);er.addEventListener("mousemove",Se,{passive:!0}),er.addEventListener("mouseup",Vt)},$r=UT(wt?pt[0]:g,g,a),vr=UT(pt[pt.length-1],g,a)-$r,Dr=(dr={})=>{const ar=U2(dr),Or={onMouseDown:Jt(ar||{})},er={...ar,...Or};return{...dr,ref:lt,...er}},Ie=dr=>ar=>{dr.onMouseOver?.(ar);const Or=Number(ar.currentTarget.getAttribute("data-index"));et(Or)},Mr=dr=>ar=>{dr.onMouseLeave?.(ar),et(-1)},ir=(dr={})=>{const ar=U2(dr),Or={onMouseOver:Ie(ar||{}),onMouseLeave:Mr(ar||{})};return{...dr,...ar,...Or}},Rr=dr=>({pointerEvents:j!==-1&&j!==dr?"none":void 0});let Pr;return I==="vertical"&&(Pr=o?"vertical-rl":"vertical-lr"),{active:j,axis:ce,axisProps:hRt,dragging:st,focusedThumbIndex:Lt,getHiddenInputProps:(dr={})=>{const ar=U2(dr),Or={onChange:ie(ar||{}),onFocus:Tt(ar||{}),onBlur:kt(ar||{}),onKeyDown:Ut(ar||{})},er={...ar,...Or};return{tabIndex:H,"aria-labelledby":e,"aria-orientation":I,"aria-valuemax":P(a),"aria-valuemin":P(g),name:v,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:n,...dr,...er,style:{...Y3t,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Pr}}},getRootProps:Dr,getThumbProps:ir,marks:At,open:Y,range:wt,rootRef:lt,trackLeap:vr,trackOffset:$r,values:pt,getThumbStyle:Rr}}const pRt=t=>!t||!Nm(t);function mRt(t){return ea("MuiSlider",t)}const kf=Wi("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),gRt=t=>{const{open:e}=t;return{offset:Xn(e&&kf.valueLabelOpen),circle:kf.valueLabelCircle,label:kf.valueLabelLabel}};function yRt(t){const{children:e,className:r,value:n}=t,i=gRt(t);return e?ut.cloneElement(e,{className:e.props.className},Yt.jsxs(ut.Fragment,{children:[e.props.children,Yt.jsx("span",{className:Xn(i.offset,r),"aria-hidden":!0,children:Yt.jsx("span",{className:i.circle,children:Yt.jsx("span",{className:i.label,children:n})})})]})):null}function Z$(t){return t}const vRt=xn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${cn(r.color)}`],r.size!=="medium"&&e[`size${cn(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(Mi(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${kf.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${kf.dragging}`]:{[`& .${kf.thumb}, & .${kf.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),bRt=xn("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),_Rt=xn("span",{name:"MuiSlider",slot:"Track"})(Mi(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),xRt=xn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${cn(r.color)}`],r.size!=="medium"&&e[`thumbSize${cn(r.size)}`]]}})(Mi(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${kf.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Dl()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${kf.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${kf.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),wRt=xn(yRt,{name:"MuiSlider",slot:"ValueLabel"})(Mi(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${kf.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${kf.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),SRt=xn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>zA(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(Mi(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),ERt=xn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>zA(t)&&t!=="markLabelActive"})(Mi(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),TRt=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:o,classes:c,color:a,size:g}=t,v={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",a&&`color${cn(a)}`,g&&`size${cn(g)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",g&&`thumbSize${cn(g)}`,a&&`thumbColor${cn(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return ra(v,mRt,c)},CRt=({children:t})=>t,ARt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiSlider"}),i=Tx(),{"aria-label":o,"aria-valuetext":c,"aria-labelledby":a,component:g="span",components:v={},componentsProps:x={},color:k="primary",classes:I,className:S,disableSwap:P=!1,disabled:D=!1,getAriaLabel:U,getAriaValueText:H,marks:G=!1,max:z=100,min:j=0,name:X,onChange:Y,onChangeCommitted:et,orientation:st="horizontal",shiftStep:it=10,size:vt="medium",step:at=1,scale:V=Z$,slotProps:dt,slots:mt,tabIndex:wt,track:pt="normal",value:At,valueLabelDisplay:St="off",valueLabelFormat:Lt=Z$,...jt}=n,_t={...n,isRtl:i,max:z,min:j,classes:I,disabled:D,disableSwap:P,orientation:st,marks:G,color:k,size:vt,step:at,shiftStep:it,scale:V,track:pt,valueLabelDisplay:St,valueLabelFormat:Lt},{axisProps:lt,getRootProps:Tt,getHiddenInputProps:kt,getThumbProps:Rt,open:Ut,active:ie,axis:Ht,focusedThumbIndex:ce,range:de,dragging:Se,marks:Vt,values:He,trackOffset:ke,trackLeap:Jt,getThumbStyle:$r}=fRt({..._t,rootRef:r});_t.marked=Vt.length>0&&Vt.some(Ke=>Ke.label),_t.dragging=Se,_t.focusedThumbIndex=ce;const vr=TRt(_t),Dr=mt?.root??v.Root??vRt,Ie=mt?.rail??v.Rail??bRt,Mr=mt?.track??v.Track??_Rt,ir=mt?.thumb??v.Thumb??xRt,Rr=mt?.valueLabel??v.ValueLabel??wRt,Pr=mt?.mark??v.Mark??SRt,Ir=mt?.markLabel??v.MarkLabel??ERt,dr=mt?.input??v.Input??"input",ar=dt?.root??x.root,Or=dt?.rail??x.rail,er=dt?.track??x.track,Fr=dt?.thumb??x.thumb,Ze=dt?.valueLabel??x.valueLabel,rr=dt?.mark??x.mark,Me=dt?.markLabel??x.markLabel,Ft=dt?.input??x.input,Mt=om({elementType:Dr,getSlotProps:Tt,externalSlotProps:ar,externalForwardedProps:jt,additionalProps:{...pRt(Dr)&&{as:g}},ownerState:{..._t,...ar?.ownerState},className:[vr.root,S]}),Bt=om({elementType:Ie,externalSlotProps:Or,ownerState:_t,className:vr.rail}),oe=om({elementType:Mr,externalSlotProps:er,additionalProps:{style:{...lt[Ht].offset(ke),...lt[Ht].leap(Jt)}},ownerState:{..._t,...er?.ownerState},className:vr.track}),ye=om({elementType:ir,getSlotProps:Rt,externalSlotProps:Fr,ownerState:{..._t,...Fr?.ownerState},className:vr.thumb}),je=om({elementType:Rr,externalSlotProps:Ze,ownerState:{..._t,...Ze?.ownerState},className:vr.valueLabel}),Ge=om({elementType:Pr,externalSlotProps:rr,ownerState:_t,className:vr.mark}),Ue=om({elementType:Ir,externalSlotProps:Me,ownerState:_t,className:vr.markLabel}),fr=om({elementType:dr,getSlotProps:kt,externalSlotProps:Ft,ownerState:_t});return Yt.jsxs(Dr,{...Mt,children:[Yt.jsx(Ie,{...Bt}),Yt.jsx(Mr,{...oe}),Vt.filter(Ke=>Ke.value>=j&&Ke.value<=z).map((Ke,Pe)=>{const ur=UT(Ke.value,j,z),Oe=lt[Ht].offset(ur);let Wr;return pt===!1?Wr=He.includes(Ke.value):Wr=pt==="normal"&&(de?Ke.value>=He[0]&&Ke.value<=He[He.length-1]:Ke.value<=He[0])||pt==="inverted"&&(de?Ke.value<=He[0]||Ke.value>=He[He.length-1]:Ke.value>=He[0]),Yt.jsxs(ut.Fragment,{children:[Yt.jsx(Pr,{"data-index":Pe,...Ge,...!Nm(Pr)&&{markActive:Wr},style:{...Oe,...Ge.style},className:Xn(Ge.className,Wr&&vr.markActive)}),Ke.label!=null?Yt.jsx(Ir,{"aria-hidden":!0,"data-index":Pe,...Ue,...!Nm(Ir)&&{markLabelActive:Wr},style:{...Oe,...Ue.style},className:Xn(vr.markLabel,Ue.className,Wr&&vr.markLabelActive),children:Ke.label}):null]},Pe)}),He.map((Ke,Pe)=>{const ur=UT(Ke,j,z),Oe=lt[Ht].offset(ur),Wr=St==="off"?CRt:Rr;return Yt.jsx(Wr,{...!Nm(Wr)&&{valueLabelFormat:Lt,valueLabelDisplay:St,value:typeof Lt=="function"?Lt(V(Ke),Pe):Lt,index:Pe,open:Ut===Pe||ie===Pe||St==="on",disabled:D},...je,children:Yt.jsx(ir,{"data-index":Pe,...ye,className:Xn(vr.thumb,ye.className,ie===Pe&&vr.active,ce===Pe&&vr.focusVisible),style:{...Oe,...$r(Pe),...ye.style},children:Yt.jsx(dr,{"data-index":Pe,"aria-label":U?U(Pe):o,"aria-valuenow":V(Ke),"aria-labelledby":a,"aria-valuetext":H?H(V(Ke),Pe):c,value:He[Pe],...fr})})},Pe)})]})});function kRt(t){return ea("MuiTooltip",t)}const jc=Wi("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function IRt(t){return Math.round(t*1e5)/1e5}const RRt=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:i,placement:o}=t,c={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${cn(o.split("-")[0])}`],arrow:["arrow"]};return ra(c,kRt,e)},NRt=xn(kW,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(Mi(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${jc.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${jc.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${jc.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${jc.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${jc.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${jc.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${jc.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${jc.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),LRt=xn("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${cn(r.placement.split("-")[0])}`]]}})(Mi(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${jc.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${jc.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${jc.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${jc.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${IRt(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${jc.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${jc.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${jc.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${jc.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${jc.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${jc.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${jc.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${jc.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${jc.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${jc.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),MRt=xn("span",{name:"MuiTooltip",slot:"Arrow"})(Mi(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let rE=!1;const Q$=new FA;let a2={x:0,y:0};function nE(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const o2=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:c,components:a={},componentsProps:g={},describeChild:v=!1,disableFocusListener:x=!1,disableHoverListener:k=!1,disableInteractive:I=!1,disableTouchListener:S=!1,enterDelay:P=100,enterNextDelay:D=0,enterTouchDelay:U=700,followCursor:H=!1,id:G,leaveDelay:z=0,leaveTouchDelay:j=1500,onClose:X,onOpen:Y,open:et,placement:st="bottom",PopperComponent:it,PopperProps:vt={},slotProps:at={},slots:V={},title:dt,TransitionComponent:mt,TransitionProps:wt,...pt}=n,At=ut.isValidElement(o)?o:Yt.jsx("span",{children:o}),St=Mg(),Lt=Tx(),[jt,_t]=ut.useState(),[lt,Tt]=ut.useState(null),kt=ut.useRef(!1),Rt=I||H,Ut=$v(),ie=$v(),Ht=$v(),ce=$v(),[de,Se]=rx({controlled:et,default:!1,name:"Tooltip",state:"open"});let Vt=de;const He=w0(G),ke=ut.useRef(),Jt=Nf(()=>{ke.current!==void 0&&(document.body.style.WebkitUserSelect=ke.current,ke.current=void 0),ce.clear()});ut.useEffect(()=>Jt,[Jt]);const $r=or=>{Q$.clear(),rE=!0,Se(!0),Y&&!Vt&&Y(or)},vr=Nf(or=>{Q$.start(800+z,()=>{rE=!1}),Se(!1),X&&Vt&&X(or),Ut.start(St.transitions.duration.shortest,()=>{kt.current=!1})}),Dr=or=>{kt.current&&or.type!=="touchstart"||(jt&&jt.removeAttribute("title"),ie.clear(),Ht.clear(),P||rE&&D?ie.start(rE?D:P,()=>{$r(or)}):$r(or))},Ie=or=>{ie.clear(),Ht.start(z,()=>{vr(or)})},[,Mr]=ut.useState(!1),ir=or=>{nx(or.target)||(Mr(!1),Ie(or))},Rr=or=>{jt||_t(or.currentTarget),nx(or.target)&&(Mr(!0),Dr(or))},Pr=or=>{kt.current=!0;const bn=At.props;bn.onTouchStart&&bn.onTouchStart(or)},Ir=or=>{Pr(or),Ht.clear(),Ut.clear(),Jt(),ke.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(U,()=>{document.body.style.WebkitUserSelect=ke.current,Dr(or)})},dr=or=>{At.props.onTouchEnd&&At.props.onTouchEnd(or),Jt(),Ht.start(j,()=>{vr(or)})};ut.useEffect(()=>{if(!Vt)return;function or(bn){bn.key==="Escape"&&vr(bn)}return document.addEventListener("keydown",or),()=>{document.removeEventListener("keydown",or)}},[vr,Vt]);const ar=cc(S0(At),_t,r);!dt&&dt!==0&&(Vt=!1);const Or=ut.useRef(),er=or=>{const bn=At.props;bn.onMouseMove&&bn.onMouseMove(or),a2={x:or.clientX,y:or.clientY},Or.current&&Or.current.update()},Fr={},Ze=typeof dt=="string";v?(Fr.title=!Vt&&Ze&&!k?dt:null,Fr["aria-describedby"]=Vt?He:null):(Fr["aria-label"]=Ze?dt:null,Fr["aria-labelledby"]=Vt&&!Ze?He:null);const rr={...Fr,...pt,...At.props,className:Xn(pt.className,At.props.className),onTouchStart:Pr,ref:ar,...H?{onMouseMove:er}:{}},Me={};S||(rr.onTouchStart=Ir,rr.onTouchEnd=dr),k||(rr.onMouseOver=nE(Dr,rr.onMouseOver),rr.onMouseLeave=nE(Ie,rr.onMouseLeave),Rt||(Me.onMouseOver=Dr,Me.onMouseLeave=Ie)),x||(rr.onFocus=nE(Rr,rr.onFocus),rr.onBlur=nE(ir,rr.onBlur),Rt||(Me.onFocus=Rr,Me.onBlur=ir));const Ft={...n,isRtl:Lt,arrow:i,disableInteractive:Rt,placement:st,PopperComponentProp:it,touch:kt.current},Mt=typeof at.popper=="function"?at.popper(Ft):at.popper,Bt=ut.useMemo(()=>{let or=[{name:"arrow",enabled:!!lt,options:{element:lt,padding:4}}];return vt.popperOptions?.modifiers&&(or=or.concat(vt.popperOptions.modifiers)),Mt?.popperOptions?.modifiers&&(or=or.concat(Mt.popperOptions.modifiers)),{...vt.popperOptions,...Mt?.popperOptions,modifiers:or}},[lt,vt.popperOptions,Mt?.popperOptions]),oe=RRt(Ft),ye=typeof at.transition=="function"?at.transition(Ft):at.transition,je={slots:{popper:a.Popper,transition:a.Transition??mt,tooltip:a.Tooltip,arrow:a.Arrow,...V},slotProps:{arrow:at.arrow??g.arrow,popper:{...vt,...Mt??g.popper},tooltip:at.tooltip??g.tooltip,transition:{...wt,...ye??g.transition}}},[Ge,Ue]=Xi("popper",{elementType:NRt,externalForwardedProps:je,ownerState:Ft,className:Xn(oe.popper,vt?.className)}),[fr,Ke]=Xi("transition",{elementType:$T,externalForwardedProps:je,ownerState:Ft}),[Pe,ur]=Xi("tooltip",{elementType:LRt,className:oe.tooltip,externalForwardedProps:je,ownerState:Ft}),[Oe,Wr]=Xi("arrow",{elementType:MRt,className:oe.arrow,externalForwardedProps:je,ownerState:Ft,ref:Tt});return Yt.jsxs(ut.Fragment,{children:[ut.cloneElement(At,rr),Yt.jsx(Ge,{as:it??kW,placement:st,anchorEl:H?{getBoundingClientRect:()=>({top:a2.y,left:a2.x,right:a2.x,bottom:a2.y,width:0,height:0})}:jt,popperRef:Or,open:jt?Vt:!1,id:He,transition:!0,...Me,...Ue,popperOptions:Bt,children:({TransitionProps:or})=>Yt.jsx(fr,{timeout:St.transitions.duration.shorter,...or,...Ke,children:Yt.jsxs(Pe,{...ur,children:[dt,i?Yt.jsx(Oe,{...Wr}):null]})})})]})}),OE=oEt({createStyledComponent:xn("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>ca({props:t,name:"MuiStack"})});function PRt(t){return ea("MuiSwitch",t)}const Wh=Wi("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ORt=t=>{const{classes:e,edge:r,size:n,color:i,checked:o,disabled:c}=t,a={root:["root",r&&`edge${cn(r)}`,`size${cn(n)}`],switchBase:["switchBase",`color${cn(i)}`,o&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},g=ra(a,PRt,e);return{...e,...g}},DRt=xn("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${cn(r.edge)}`],e[`size${cn(r.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Wh.thumb}`]:{width:16,height:16},[`& .${Wh.switchBase}`]:{padding:4,[`&.${Wh.checked}`]:{transform:"translateX(16px)"}}}}]}),BRt=xn(RW,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${Wh.input}`]:e.input},r.color!=="default"&&e[`color${cn(r.color)}`]]}})(Mi(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Wh.checked}`]:{transform:"translateX(20px)"},[`&.${Wh.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Wh.checked} + .${Wh.track}`]:{opacity:.5},[`&.${Wh.disabled} + .${Wh.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Wh.input}`]:{left:"-100%",width:"300%"}})),Mi(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Dl(["light"])).map(([e])=>({props:{color:e},style:{[`&.${Wh.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Wh.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${Wh.checked} + .${Wh.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),zRt=xn("span",{name:"MuiSwitch",slot:"Track"})(Mi(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),FRt=xn("span",{name:"MuiSwitch",slot:"Thumb"})(Mi(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),jRt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:c=!1,size:a="medium",sx:g,slots:v={},slotProps:x={},...k}=n,I={...n,color:o,edge:c,size:a},S=ORt(I),P={slots:v,slotProps:x},[D,U]=Xi("root",{className:Xn(S.root,i),elementType:DRt,externalForwardedProps:P,ownerState:I,additionalProps:{sx:g}}),[H,G]=Xi("thumb",{className:S.thumb,elementType:FRt,externalForwardedProps:P,ownerState:I}),z=Yt.jsx(H,{...G}),[j,X]=Xi("track",{className:S.track,elementType:zRt,externalForwardedProps:P,ownerState:I});return Yt.jsxs(D,{...U,children:[Yt.jsx(BRt,{type:"checkbox",icon:z,checkedIcon:z,ref:r,ownerState:I,...k,classes:{...S,root:S.switchBase},slots:{...v.switchBase&&{root:v.switchBase},...v.input&&{input:v.input}},slotProps:{...x.switchBase&&{root:typeof x.switchBase=="function"?x.switchBase(I):x.switchBase},input:{role:"switch"},...x.input&&{input:typeof x.input=="function"?x.input(I):x.input}}}),Yt.jsx(j,{...X})]})});function $Rt(t){return ea("MuiToolbar",t)}Wi("MuiToolbar",["root","gutters","regular","dense"]);const VRt=t=>{const{classes:e,disableGutters:r,variant:n}=t;return ra({root:["root",!r&&"gutters",n]},$Rt,e)},URt=xn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(Mi(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),qRt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:c=!1,variant:a="regular",...g}=n,v={...n,component:o,disableGutters:c,variant:a},x=VRt(v);return Yt.jsx(URt,{as:o,className:Xn(x.root,i),ref:r,ownerState:v,...g})});function GRt(t){return ea("MuiTextField",t)}Wi("MuiTextField",["root"]);const HRt={standard:vO,filled:yO,outlined:_O},XRt=t=>{const{classes:e}=t;return ra({root:["root"]},GRt,e)},WRt=xn(gM,{name:"MuiTextField",slot:"Root"})({}),YRt=ut.forwardRef(function(e,r){const n=ca({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:c,className:a,color:g="primary",defaultValue:v,disabled:x=!1,error:k=!1,FormHelperTextProps:I,fullWidth:S=!1,helperText:P,id:D,InputLabelProps:U,inputProps:H,InputProps:G,inputRef:z,label:j,maxRows:X,minRows:Y,multiline:et=!1,name:st,onBlur:it,onChange:vt,onFocus:at,placeholder:V,required:dt=!1,rows:mt,select:wt=!1,SelectProps:pt,slots:At={},slotProps:St={},type:Lt,value:jt,variant:_t="outlined",...lt}=n,Tt={...n,autoFocus:o,color:g,disabled:x,error:k,fullWidth:S,multiline:et,required:dt,select:wt,variant:_t},kt=XRt(Tt),Rt=w0(D),Ut=P&&Rt?`${Rt}-helper-text`:void 0,ie=j&&Rt?`${Rt}-label`:void 0,Ht=HRt[_t],ce={slots:At,slotProps:{input:G,inputLabel:U,htmlInput:H,formHelperText:I,select:pt,...St}},de={},Se=ce.slotProps.inputLabel;_t==="outlined"&&(Se&&typeof Se.shrink<"u"&&(de.notched=Se.shrink),de.label=j),wt&&((!pt||!pt.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[Vt,He]=Xi("root",{elementType:WRt,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...lt},ownerState:Tt,className:Xn(kt.root,a),ref:r,additionalProps:{disabled:x,error:k,fullWidth:S,required:dt,color:g,variant:_t}}),[ke,Jt]=Xi("input",{elementType:Ht,externalForwardedProps:ce,additionalProps:de,ownerState:Tt}),[$r,vr]=Xi("inputLabel",{elementType:vM,externalForwardedProps:ce,ownerState:Tt}),[Dr,Ie]=Xi("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:Tt}),[Mr,ir]=Xi("formHelperText",{elementType:CIt,externalForwardedProps:ce,ownerState:Tt}),[Rr,Pr]=Xi("select",{elementType:VT,externalForwardedProps:ce,ownerState:Tt}),Ir=Yt.jsx(ke,{"aria-describedby":Ut,autoComplete:i,autoFocus:o,defaultValue:v,fullWidth:S,multiline:et,name:st,rows:mt,maxRows:X,minRows:Y,type:Lt,value:jt,id:Rt,inputRef:z,onBlur:it,onChange:vt,onFocus:at,placeholder:V,inputProps:Ie,slots:{input:At.htmlInput?Dr:void 0},...Jt});return Yt.jsxs(Vt,{...He,children:[j!=null&&j!==""&&Yt.jsx($r,{htmlFor:Rt,id:ie,...vr,children:j}),wt?Yt.jsx(Rr,{"aria-describedby":Ut,id:Rt,labelId:ie,value:jt,input:Ir,...Pr,children:c}):Ir,P&&Yt.jsx(Mr,{id:Ut,...ir,children:P})]})}),KRt=ZX({themeId:bp}),ZRt=zl(Yt.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),QRt=zl(Yt.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),J$=zl(Yt.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),JRt=zl(Yt.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),_M=zl(Yt.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),GW=zl(Yt.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),tNt=zl(Yt.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),eNt=zl(Yt.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"})),HW=zl(Yt.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"})),rNt=zl(Yt.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),XW=zl([Yt.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),Yt.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")]);function nNt(){return console.log("Rendering Map component"),Yt.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:Yt.jsx(tq,{mapId:"map-1",options:{center:[-98,39],zoom:3,style:{version:8,sources:{"osm-tiles":{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},layers:[{id:"osm-tiles-layer",type:"raster",source:"osm-tiles",minzoom:0,maxzoom:19}]}}})})}const tV=t=>{let e;const r=new Set,n=(v,x)=>{const k=typeof v=="function"?v(e):v;if(!Object.is(k,e)){const I=e;e=x??(typeof k!="object"||k===null)?k:Object.assign({},e,k),r.forEach(S=>S(e,I))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>g,subscribe:v=>(r.add(v),()=>r.delete(v))},g=e=t(n,i,a);return a},iNt=(t=>t?tV(t):tV),aNt=t=>t;function oNt(t,e=aNt){const r=we.useSyncExternalStore(t.subscribe,we.useCallback(()=>e(t.getState()),[t,e]),we.useCallback(()=>e(t.getInitialState()),[t,e]));return we.useDebugValue(r),r}const eV=t=>{const e=iNt(t),r=n=>oNt(e,n);return Object.assign(r,e),r},sNt=(t=>t?eV(t):eV),by=sNt(t=>({wmsServices:[],mapBounds:null,zoomToExtent:null,hoveredExtent:null,addWMSService:e=>t(r=>r.wmsServices.some(i=>i.id===e.id)?(console.log("⚠️ Service already exists, not adding:",e.id),r):(console.log("➕ Adding WMS service:",e.id,"Total services will be:",r.wmsServices.length+1),{wmsServices:[...r.wmsServices,e]})),removeWMSService:e=>t(r=>(console.log("➖ Removing WMS service:",e,"Total services will be:",r.wmsServices.length-1),{wmsServices:r.wmsServices.filter(n=>n.id!==e)})),toggleWMSService:e=>t(r=>({wmsServices:r.wmsServices.map(n=>n.id===e?{...n,visible:!n.visible}:n)})),toggleWMSLayer:(e,r)=>t(n=>({wmsServices:n.wmsServices.map(i=>i.id===e?{...i,layers:i.layers.map(o=>o.id===r?{...o,visible:!o.visible}:o)}:i)})),updateWMSOpacity:(e,r)=>t(n=>({wmsServices:n.wmsServices.map(i=>i.id===e?{...i,opacity:r}:i)})),setMapBounds:e=>t({mapBounds:e}),setZoomToExtent:e=>t({zoomToExtent:e}),setHoveredExtent:e=>t({hoveredExtent:e})})),rV=t=>Symbol.iterator in t,nV=t=>"entries"in t,iV=(t,e)=>{const r=t instanceof Map?t:new Map(t.entries()),n=e instanceof Map?e:new Map(e.entries());if(r.size!==n.size)return!1;for(const[i,o]of r)if(!n.has(i)||!Object.is(o,n.get(i)))return!1;return!0},lNt=(t,e)=>{const r=t[Symbol.iterator](),n=e[Symbol.iterator]();let i=r.next(),o=n.next();for(;!i.done&&!o.done;){if(!Object.is(i.value,o.value))return!1;i=r.next(),o=n.next()}return!!i.done&&!!o.done};function cNt(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:rV(t)&&rV(e)?nV(t)&&nV(e)?iV(t,e):lNt(t,e):iV({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function aV(t){const e=we.useRef(void 0);return r=>{const n=t(r);return cNt(e.current,n)?e.current:e.current=n}}function uNt({service:t}){const e=Uw({mapId:"map-1"}),r=ut.useRef(e.map),n=ut.useRef("");ut.useEffect(()=>{r.current=e.map},[e.map]);const i=ut.useMemo(()=>t.layers.map(o=>`${o.id}:${o.name}:${o.visible}`).join("|"),[t.layers]);return ut.useLayoutEffect(()=>{if(!e.map)return;const o=e.map,c=()=>{if(!o)return;console.log("=== Syncing layers for service:",t.id),console.log("Service visible:",t.visible),console.log("Layers config:",t.layers.map(D=>({id:D.id,name:D.name,visible:D.visible})));const a=t.visible?t.layers.filter(D=>D.visible).map(D=>D.name):[];console.log("Visible layer names:",a);const g=`${t.id}-source`,v=`${t.id}-layer`;if(!t.visible||a.length===0){try{o.getLayer(v)&&(o.removeLayer(v),console.log("Removed layer:",v)),o.getSource(g)&&(o.removeSource(g),console.log("Removed source:",g)),n.current=""}catch(D){console.warn("Error removing layer/source:",D)}return}const x=a.join(",");if(console.log("Current layers on map:",n.current),console.log("New layers param:",x),!(n.current!==x)&&o.getLayer(v)){o.getPaintProperty(v,"raster-opacity")!==t.opacity?(o.setPaintProperty(v,"raster-opacity",t.opacity),console.log("Updated opacity only:",t.opacity)):console.log("No changes needed, layers already correct");return}const I=t.version||"1.1.1",S=I>="1.3.0"?"CRS":"SRS",P=`${t.url}?SERVICE=WMS&VERSION=${I}&REQUEST=GetMap&FORMAT=image/png&TRANSPARENT=TRUE&LAYERS=${x}&STYLES=&${S}=EPSG:3857&WIDTH=256&HEIGHT=256&BBOX={bbox-epsg-3857}`;try{o.getLayer(v)&&o.removeLayer(v),o.getSource(g)&&o.removeSource(g);const D={type:"raster",tiles:[P],tileSize:256};t.attribution&&(D.attribution=t.attribution),o.addSource(g,D),console.log("Added/updated source with layers:",x),o.addLayer({id:v,type:"raster",source:g,paint:{"raster-opacity":t.opacity}}),console.log("Added/updated layer with opacity:",t.opacity),n.current=x}catch(D){console.warn("Error syncing layer:",D)}};if(!o.isStyleLoaded()){const a=()=>{o.off("styledata",a),setTimeout(()=>{r.current&&c()},0)};return o.on("styledata",a),()=>{o.off("styledata",a)}}c()},[e.map,t.id,t.visible,t.opacity,t.url,i]),ut.useEffect(()=>{const o=t.id;return()=>{const c=r.current;if(!c)return;const a=`${o}-layer`,g=`${o}-source`;console.log("Cleaning up service:",o);try{c.getLayer(a)&&(c.removeLayer(a),console.log("Removed layer:",a))}catch(v){console.warn("Error removing layer:",v)}try{c.getSource(g)&&(c.removeSource(g),console.log("Removed source:",g))}catch(v){console.warn("Error removing source:",v)}n.current=""}},[]),null}function hNt(){const t=Uw({mapId:"map-1"}),e=by(i=>i.setMapBounds),r=by(i=>i.zoomToExtent),n=by(i=>i.setZoomToExtent);return ut.useEffect(()=>{if(!t.map)return;const i=()=>{const o=t.map?.getBounds();if(o){const c=o.getSouthWest(),a=o.getNorthEast();e([c.lng,c.lat,a.lng,a.lat])}};return t.map.on("load",i),t.map.on("moveend",i),()=>{t.map?.off("load",i),t.map?.off("moveend",i)}},[t.map,e]),ut.useEffect(()=>{if(!t.map||!r)return;const[i,o,c,a]=r;t.map.fitBounds([[i,o],[c,a]],{padding:50}),n(null)},[t.map,r,n]),null}const WW=ut.memo(()=>{const t=by(aV(n=>n.wmsServices)),e=by(aV(n=>n.hoveredExtent));console.log("MapContent rendering with services:",t.map(n=>({id:n.id,title:n.title})));const r=ut.useMemo(()=>{if(!e)return null;const[n,i,o,c]=e;return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[n,i],[o,i],[o,c],[n,c],[n,i]]]},properties:{}}]}},[e]);return Yt.jsxs(Yt.Fragment,{children:[Yt.jsx(hNt,{}),t.map(n=>Yt.jsx(uNt,{service:n},n.id)),r&&Yt.jsx(Dpt,{geojson:r,layerId:"hovered-extent",type:"line",paint:{"line-color":"#ff0000","line-width":2,"line-dasharray":[2,2]}})]})});WW.displayName="MapContent";/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var fo=t=>t!==void 0,YW=(t,e,r)=>e in t?t[e]:t[e]=r;const Ew={ELEMENT:1,TEXT:3,CDATA_SECTION:4};class dNt{constructor(e){this._parser=new e}toDocument(e){return this._parser.parseFromString(e,"application/xml")}getAllTextContent(e,r){return GA(e,r).join("")}}function GA(t,e){return KW(t,e,[]).join("")}function KW(t,e,r){if(t.nodeType===Ew.CDATA_SECTION||t.nodeType===Ew.TEXT)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{var n;for(n=t.firstChild;n;n=n.nextSibling)KW(n,e,r)}return r}function fNt(t,e,r,n){for(var i=pNt(e);i;i=mNt(i)){var o=i.namespaceURI||null,c=t[o];if(fo(c)){var a=c[i.localName];fo(a)&&a.call(n,i,r)}}}function pNt(t){let e=t.firstElementChild||t.firstChild;for(;e&&e.nodeType!==Ew.ELEMENT;)e=e.nextSibling;return e}function mNt(t){let e=t.nextElementSibling||t.nextSibling;for(;e&&e.nodeType!==Ew.ELEMENT;)e=e.nextSibling;return e}function fh(t,e,r){return gNt(t,e,r)}function gNt(t,e,r){var n=fo(r)?r:{},i,o;for(i=0,o=t.length;i<o;++i)n[t[i]]=e;return n}function ZW(t,e){return(function(r,n){var i=t.call(fo(e)?e:this,r,n);if(fo(i)){var o=n[n.length-1];o.push(i)}})}function qu(t,e,r,n,i){return n.push(t),fNt(e,r,n,i),n.pop()}function Ai(t,e,r){return(function(n,i){let o=t.call(fo(r)?r:this,n,i);if(fo(o)){var c=i[i.length-1],a=fo(e)?e:n.localName;c[a]=o}})}function cd(t,e,r){return(function(n,i){var o=t.call(fo(r)?r:this,n,i);if(fo(o)){var c=i[i.length-1],a=fo(e)?e:n.localName,g=YW(c,a,[]);g.push(o)}})}const yNt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function vNt(t){return t.replace(yNt,"")}function Kv(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return fo(e[1])||!1}function E_(t){return vg(GA(t,!1))}function vg(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function CN(t){return qT(GA(t,!1))}function qT(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function os(t){return vNt(GA(t,!1))}const bNt="http://www.w3.org/1999/xlink";function wO(t){return t.getAttributeNS(bNt,"href")}function _Nt(t,e){return qu({},XNt,t,e)}function QW(t){return[vg(t.getAttribute("minx")),vg(t.getAttribute("miny")),vg(t.getAttribute("maxx")),vg(t.getAttribute("maxy"))]}function xNt(t,e){const r=QW(t),n=[vg(t.getAttribute("resx")),vg(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS")||t.getAttribute("SRS"),extent:r,res:n}}function wNt(t,e){const r=QW(t);if(!(!fo(r[0])||!fo(r[1])||!fo(r[2])||!fo(r[3])))return r}function SNt(t,e){const r=parseFloat(t.getAttribute("min")),n=parseFloat(t.getAttribute("max"));return{min:r,max:n}}function ENt(t,e){const r=qu({},WNt,t,e);if(!fo(r))return;const n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,c=r.northBoundLatitude;if(!(!fo(n)||!fo(i)||!fo(o)||!fo(c)))return[n,i,o,c]}function TNt(t,e){return qu({},$Nt,t,e)}function CNt(t,e){return qu({},VNt,t,e)}function ANt(t,e){return qu({},UNt,t,e)}function kNt(t,e){return qu({},qNt,t,e)}function INt(t,e){return qu({},GNt,t,e)}function RNt(t,e){return qu([],HNt,t,e)}function NNt(t,e){const r=Kv(t.getAttribute("queryable"));return qu({queryable:fo(r)?r:!1},eY,t,e)}function LNt(t,e){var r=e[e.length-1];const n=qu({},eY,t,e);if(!fo(n))return;let i=Kv(t.getAttribute("queryable"));fo(i)||(i=r.queryable),n.queryable=fo(i)?i:!1;let o=qT(t.getAttribute("cascaded"));fo(o)||(o=r.cascaded),n.cascaded=o;let c=Kv(t.getAttribute("opaque"));fo(c)||(c=r.opaque),n.opaque=fo(c)?c:!1;let a=Kv(t.getAttribute("noSubsets"));fo(a)||(a=r.noSubsets),n.noSubsets=fo(a)?a:!1;let g=vg(t.getAttribute("fixedWidth"));fo(g)||(g=r.fixedWidth),n.fixedWidth=g;let v=vg(t.getAttribute("fixedHeight"));fo(v)||(v=r.fixedHeight),n.fixedHeight=v;const x=["Style","CRS","AuthorityURL"];for(let I=0,S=x.length;I<S;I++){const P=x[I],D=r[P];if(fo(D)){let U=YW(n,P,[]);U=U.concat(D),n[P]=U}}const k=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let I=0,S=k.length;I<S;I++){const P=k[I],D=n[P];if(!fo(D)){const U=r[P];n[P]=U}}return n}function MNt(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Kv(t.getAttribute("multipleValues")),nearestValue:Kv(t.getAttribute("nearestValue")),current:Kv(t.getAttribute("current")),values:os(t)}}function Ig(t,e){return qu({},tLt,t,e)}function PNt(t,e){return qu({},YNt,t,e)}function ONt(t,e){return qu({},ZNt,t,e)}function DNt(t,e){return qu({},QNt,t,e)}function AN(t,e){return qu({},KNt,t,e)}function JW(t,e){var r=Ig(t,e);if(fo(r)){const n=[qT(t.getAttribute("width")),qT(t.getAttribute("height"))];return r.size=n,r}}function BNt(t,e){var r=Ig(t,e);if(fo(r))return r.name=t.getAttribute("name"),r}function zNt(t,e){var r=Ig(t,e);if(fo(r))return r.type=t.getAttribute("type"),r}function FNt(t,e){return qu({},JNt,t,e)}function tY(t,e){return qu([],eLt,t,e)}const ph=[null,"http://www.opengis.net/wms"],jNt=fh(ph,{Service:Ai(CNt),Capability:Ai(TNt)}),$Nt=fh(ph,{Request:Ai(PNt),Exception:Ai(RNt),Layer:Ai(NNt)}),VNt=fh(ph,{Name:Ai(os),Title:Ai(os),Abstract:Ai(os),KeywordList:Ai(tY),OnlineResource:Ai(wO),ContactInformation:Ai(ANt),Fees:Ai(os),AccessConstraints:Ai(os),LayerLimit:Ai(CN),MaxWidth:Ai(CN),MaxHeight:Ai(CN)}),UNt=fh(ph,{ContactPersonPrimary:Ai(kNt),ContactPosition:Ai(os),ContactAddress:Ai(INt),ContactVoiceTelephone:Ai(os),ContactFacsimileTelephone:Ai(os),ContactElectronicMailAddress:Ai(os)}),qNt=fh(ph,{ContactPerson:Ai(os),ContactOrganization:Ai(os)}),GNt=fh(ph,{AddressType:Ai(os),Address:Ai(os),City:Ai(os),StateOrProvince:Ai(os),PostCode:Ai(os),Country:Ai(os)}),HNt=fh(ph,{Format:ZW(os)}),eY=fh(ph,{Name:Ai(os),Title:Ai(os),Abstract:Ai(os),KeywordList:Ai(tY),CRS:cd(os),SRS:cd(os),EX_GeographicBoundingBox:Ai(ENt),LatLonBoundingBox:Ai(wNt),BoundingBox:cd(xNt),Dimension:cd(MNt),Attribution:Ai(_Nt),AuthorityURL:cd(BNt),Identifier:cd(os),MetadataURL:cd(zNt),DataURL:cd(Ig),FeatureListURL:cd(Ig),Style:cd(FNt),MinScaleDenominator:Ai(E_),MaxScaleDenominator:Ai(E_),ScaleHint:Ai(SNt),Layer:cd(LNt)}),XNt=fh(ph,{Title:Ai(os),OnlineResource:Ai(wO),LogoURL:Ai(JW)}),WNt=fh(ph,{westBoundLongitude:Ai(E_),eastBoundLongitude:Ai(E_),southBoundLatitude:Ai(E_),northBoundLatitude:Ai(E_)}),YNt=fh(ph,{GetCapabilities:Ai(AN),GetMap:Ai(AN),GetFeatureInfo:Ai(AN)}),KNt=fh(ph,{Format:cd(os),DCPType:cd(ONt)}),ZNt=fh(ph,{HTTP:Ai(DNt)}),QNt=fh(ph,{Get:Ai(Ig),Post:Ai(Ig)}),JNt=fh(ph,{Name:Ai(os),Title:Ai(os),Abstract:Ai(os),LegendURL:cd(JW),StyleSheetURL:Ai(Ig),StyleURL:Ai(Ig)}),tLt=fh(ph,{Format:Ai(os),OnlineResource:Ai(wO)}),eLt=fh(ph,{Keyword:ZW(os)});class rLt{constructor(e,r){!r&&typeof window<"u"&&(r=window.DOMParser),this.version=void 0,this._parser=new dNt(r),this._data=e}data(e){return this._data=e,this}toJSON(e){return e=e||this._data,this.parse(e)}parse(e){return this.readFromDocument(this._parser.toDocument(e))}readFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==Ew.ELEMENT)return this.readFromNode(r);return null}readFromNode(e){return this.version=e.getAttribute("version"),qu({version:this.version},jNt,e,[])||null}}async function nLt(t){const e=`${t}?service=WMS&request=GetCapabilities`;try{const r=await fetch(e,{mode:"cors",cache:"no-cache"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.text();return new rLt(n,DOMParser).toJSON()}catch(r){throw console.warn("Failed to fetch WMS capabilities (likely CORS issue):",r),new Error("Unable to fetch service capabilities. The WMS server may not support CORS. You can still add the service, but layers must be manually specified.")}}function iLt(t){const e=t.Service||{},r=t.version||"1.1.1",n=[],i=g=>{g.Name&&n.push({id:g.Name,name:g.Name,title:g.Title||g.Name,abstract:g.Abstract,visible:n.length<3}),g.Layer&&(Array.isArray(g.Layer)?g.Layer:[g.Layer]).forEach(x=>i(x))};t.Capability?.Layer&&i(t.Capability.Layer);let o;const c=g=>{if(g.EX_GeographicBoundingBox){const v=g.EX_GeographicBoundingBox;return o=[v.westBoundLongitude,v.southBoundLatitude,v.eastBoundLongitude,v.northBoundLatitude],!0}if(g.Layer){const v=Array.isArray(g.Layer)?g.Layer:[g.Layer];for(const x of v)if(c(x))return!0}return!1};t.Capability?.Layer&&c(t.Capability.Layer);let a;return e.ContactInformation?.ContactPersonPrimary?.ContactOrganization?a=e.ContactInformation.ContactPersonPrimary.ContactOrganization:e.ContactInformation?.ContactOrganization&&(a=e.ContactInformation.ContactOrganization),{name:e.Title||"WMS Service",title:e.Title||"WMS Service",visible:!0,opacity:1,layers:n,extent:o,version:r,abstract:e.Abstract,attribution:a}}function va(t,e,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function a(x){try{v(n.next(x))}catch(k){c(k)}}function g(x){try{v(n.throw(x))}catch(k){c(k)}}function v(x){x.done?o(x.value):i(x.value).then(a,g)}v((n=n.apply(t,e||[])).next())})}function oV(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $a(t){return this instanceof $a?(this.v=t,this):new $a(t)}function Em(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(S){return function(P){return Promise.resolve(P).then(S,k)}}function a(S,P){n[S]&&(i[S]=function(D){return new Promise(function(U,H){o.push([S,D,U,H])>1||g(S,D)})},P&&(i[S]=P(i[S])))}function g(S,P){try{v(n[S](P))}catch(D){I(o[0][3],D)}}function v(S){S.value instanceof $a?Promise.resolve(S.value.v).then(x,k):I(o[0][2],S)}function x(S){g("next",S)}function k(S){g("throw",S)}function I(S,P){S(P),o.shift(),o.length&&g(o[0][0],o[0][1])}}function DE(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(c){return(r=!r)?{value:$a(t[i](c)),done:!1}:o?o(c):c}:o}}function Zv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof oV=="function"?oV(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(c){return new Promise(function(a,g){c=t[o](c),i(a,g,c.done,c.value)})}}function i(o,c,a,g){Promise.resolve(g).then(function(v){o({value:v,done:a})},c)}}const aLt=new TextDecoder("utf-8"),xM=t=>aLt.decode(t),oLt=new TextEncoder,SO=t=>oLt.encode(t),sLt=t=>typeof t=="number",rY=t=>typeof t=="boolean",Au=t=>typeof t=="function",_d=t=>t!=null&&Object(t)===t,l0=t=>_d(t)&&Au(t.then),dS=t=>_d(t)&&Au(t[Symbol.iterator]),Ax=t=>_d(t)&&Au(t[Symbol.asyncIterator]),wM=t=>_d(t)&&_d(t.schema),nY=t=>_d(t)&&"done"in t&&"value"in t,iY=t=>_d(t)&&Au(t.stat)&&sLt(t.fd),aY=t=>_d(t)&&EO(t.body),HA=t=>"_getDOMStream"in t&&"_getNodeStream"in t,lLt=t=>_d(t)&&Au(t.abort)&&Au(t.getWriter)&&!HA(t),EO=t=>_d(t)&&Au(t.cancel)&&Au(t.getReader)&&!HA(t),cLt=t=>_d(t)&&Au(t.end)&&Au(t.write)&&rY(t.writable)&&!HA(t),oY=t=>_d(t)&&Au(t.read)&&Au(t.pipe)&&rY(t.readable)&&!HA(t),uLt=t=>_d(t)&&Au(t.clear)&&Au(t.bytes)&&Au(t.position)&&Au(t.setPosition)&&Au(t.capacity)&&Au(t.getBufferIdentifier)&&Au(t.createLong),TO=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function hLt(t){const e=t[0]?[t[0]]:[];let r,n,i,o;for(let c,a,g=0,v=0,x=t.length;++g<x;){if(c=e[v],a=t[g],!c||!a||c.buffer!==a.buffer||a.byteOffset<c.byteOffset){a&&(e[++v]=a);continue}if({byteOffset:r,byteLength:i}=c,{byteOffset:n,byteLength:o}=a,r+i<n||n+o<r){a&&(e[++v]=a);continue}e[v]=new Uint8Array(c.buffer,r,n-r+o)}return e}function sV(t,e,r=0,n=e.byteLength){const i=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,i),c=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,i));return o.set(c,r),t}function Dm(t,e){const r=hLt(t),n=r.reduce((x,k)=>x+k.byteLength,0);let i,o,c,a=0,g=-1;const v=Math.min(e||Number.POSITIVE_INFINITY,n);for(const x=r.length;++g<x;){if(i=r[g],o=i.subarray(0,Math.min(i.length,v-a)),v<=a+o.length){o.length<i.length?r[g]=i.subarray(o.length):o.length===i.length&&g++,c?sV(c,o,a):c=o;break}sV(c||(c=new Uint8Array(v)),o,a),a+=o.length}return[c||new Uint8Array(0),r.slice(g),n-(c?c.byteLength:0)]}function Xs(t,e){let r=nY(e)?e.value:e;return r instanceof t?t===Uint8Array?new t(r.buffer,r.byteOffset,r.byteLength):r:r?(typeof r=="string"&&(r=SO(r)),r instanceof ArrayBuffer?new t(r):r instanceof TO?new t(r):uLt(r)?Xs(t,r.bytes()):ArrayBuffer.isView(r)?r.byteLength<=0?new t(0):new t(r.buffer,r.byteOffset,r.byteLength/t.BYTES_PER_ELEMENT):t.from(r)):new t(0)}const s2=t=>Xs(Int32Array,t),lV=t=>Xs(BigInt64Array,t),Io=t=>Xs(Uint8Array,t),SM=t=>(t.next(),t);function*dLt(t,e){const r=function*(i){yield i},n=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof TO?r(e):dS(e)?e:r(e);return yield*SM((function*(i){let o=null;do o=i.next(yield Xs(t,o));while(!o.done)})(n[Symbol.iterator]())),new t}const fLt=t=>dLt(Uint8Array,t);function sY(t,e){return Em(this,arguments,function*(){if(l0(e))return yield $a(yield $a(yield*DE(Zv(sY(t,yield $a(e))))));const n=function(c){return Em(this,arguments,function*(){yield yield $a(yield $a(c))})},i=function(c){return Em(this,arguments,function*(){yield $a(yield*DE(Zv(SM((function*(a){let g=null;do g=a.next(yield g?.value);while(!g.done)})(c[Symbol.iterator]())))))})},o=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof TO?n(e):dS(e)?i(e):Ax(e)?e:n(e);return yield $a(yield*DE(Zv(SM((function(c){return Em(this,arguments,function*(){let a=null;do a=yield $a(c.next(yield yield $a(Xs(t,a))));while(!a.done)})})(o[Symbol.asyncIterator]()))))),yield $a(new t)})}const pLt=t=>sY(Uint8Array,t);function lY(t,e,r){if(t!==0){r=r.slice(0,e);for(let n=-1,i=r.length;++n<i;)r[n]+=t}return r.subarray(0,e)}function mLt(t,e){let r=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do if(t[r]!==e[r])return!1;while(++r<n);return!0}const _f={fromIterable(t){return iE(gLt(t))},fromAsyncIterable(t){return iE(yLt(t))},fromDOMStream(t){return iE(vLt(t))},fromNodeStream(t){return iE(_Lt(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},iE=t=>(t.next(),t);function*gLt(t){let e,r=!1,n=[],i,o,c,a=0;function g(){return o==="peek"?Dm(n,c)[0]:([i,n,a]=Dm(n,c),i)}({cmd:o,size:c}=(yield null)||{cmd:"read",size:0});const v=fLt(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(c-a)?v.next():v.next(c-a),!e&&i.byteLength>0&&(n.push(i),a+=i.byteLength),e||c<=a)do({cmd:o,size:c}=yield g());while(c<a);while(!e)}catch(x){(r=!0)&&typeof v.throw=="function"&&v.throw(x)}finally{r===!1&&typeof v.return=="function"&&v.return(null)}return null}function yLt(t){return Em(this,arguments,function*(){let r,n=!1,i=[],o,c,a,g=0;function v(){return c==="peek"?Dm(i,a)[0]:([o,i,g]=Dm(i,a),o)}({cmd:c,size:a}=(yield yield $a(null))||{cmd:"read",size:0});const x=pLt(t)[Symbol.asyncIterator]();try{do if({done:r,value:o}=Number.isNaN(a-g)?yield $a(x.next()):yield $a(x.next(a-g)),!r&&o.byteLength>0&&(i.push(o),g+=o.byteLength),r||a<=g)do({cmd:c,size:a}=yield yield $a(v()));while(a<g);while(!r)}catch(k){(n=!0)&&typeof x.throw=="function"&&(yield $a(x.throw(k)))}finally{n===!1&&typeof x.return=="function"&&(yield $a(x.return(new Uint8Array(0))))}return yield $a(null)})}function vLt(t){return Em(this,arguments,function*(){let r=!1,n=!1,i=[],o,c,a,g=0;function v(){return c==="peek"?Dm(i,a)[0]:([o,i,g]=Dm(i,a),o)}({cmd:c,size:a}=(yield yield $a(null))||{cmd:"read",size:0});const x=new bLt(t);try{do if({done:r,value:o}=Number.isNaN(a-g)?yield $a(x.read()):yield $a(x.read(a-g)),!r&&o.byteLength>0&&(i.push(Io(o)),g+=o.byteLength),r||a<=g)do({cmd:c,size:a}=yield yield $a(v()));while(a<g);while(!r)}catch(k){(n=!0)&&(yield $a(x.cancel(k)))}finally{n===!1?yield $a(x.cancel()):t.locked&&x.releaseLock()}return yield $a(null)})}class bLt{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return va(this,void 0,void 0,function*(){const{reader:r,source:n}=this;r&&(yield r.cancel(e).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(e){return va(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const r=yield this.reader.read();return!r.done&&(r.value=Io(r)),r})}}const kN=(t,e)=>{const r=i=>n([e,i]);let n;return[e,r,new Promise(i=>(n=i)&&t.once(e,r))]};function _Lt(t){return Em(this,arguments,function*(){const r=[];let n="error",i=!1,o=null,c,a,g=0,v=[],x;function k(){return c==="peek"?Dm(v,a)[0]:([x,v,g]=Dm(v,a),x)}if({cmd:c,size:a}=(yield yield $a(null))||{cmd:"read",size:0},t.isTTY)return yield yield $a(new Uint8Array(0)),yield $a(null);try{r[0]=kN(t,"end"),r[1]=kN(t,"error");do{if(r[2]=kN(t,"readable"),[n,o]=yield $a(Promise.race(r.map(S=>S[2]))),n==="error")break;if((i=n==="end")||(Number.isFinite(a-g)?(x=Io(t.read(a-g)),x.byteLength<a-g&&(x=Io(t.read()))):x=Io(t.read()),x.byteLength>0&&(v.push(x),g+=x.byteLength)),i||a<=g)do({cmd:c,size:a}=yield yield $a(k()));while(a<g)}while(!i)}finally{yield $a(I(r,n==="error"?o:null))}return yield $a(null);function I(S,P){return x=v=null,new Promise((D,U)=>{for(const[H,G]of S)t.off(H,G);try{const H=t.destroy;H&&H.call(t,P),P=void 0}catch(H){P=H||P}finally{P!=null?U(P):D()}})}})}var tu;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(tu||(tu={}));var Ph;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Ph||(Ph={}));var Mh;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Mh||(Mh={}));var jf;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(jf||(jf={}));var ta;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(ta||(ta={}));var Bm;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Bm||(Bm={}));const IN=2,gm=4,mg=4,Ls=4,dy=new Int32Array(2),cV=new Float32Array(dy.buffer),uV=new Float64Array(dy.buffer),aE=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var EM;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(EM||(EM={}));let cx=class cY{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new cY(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return dy[0]=this.readInt32(e),cV[0]}readFloat64(e){return dy[aE?0:1]=this.readInt32(e),dy[aE?1:0]=this.readInt32(e+4),uV[0]}writeInt8(e,r){this.bytes_[e]=r}writeUint8(e,r){this.bytes_[e]=r}writeInt16(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8}writeUint16(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8}writeInt32(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8,this.bytes_[e+2]=r>>16,this.bytes_[e+3]=r>>24}writeUint32(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8,this.bytes_[e+2]=r>>16,this.bytes_[e+3]=r>>24}writeInt64(e,r){this.writeInt32(e,Number(BigInt.asIntN(32,r))),this.writeInt32(e+4,Number(BigInt.asIntN(32,r>>BigInt(32))))}writeUint64(e,r){this.writeUint32(e,Number(BigInt.asUintN(32,r))),this.writeUint32(e+4,Number(BigInt.asUintN(32,r>>BigInt(32))))}writeFloat32(e,r){cV[0]=r,this.writeInt32(e,dy[0])}writeFloat64(e,r){uV[0]=r,this.writeInt32(e,dy[aE?0:1]),this.writeInt32(e+4,dy[aE?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+gm+mg)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let r=0;r<mg;r++)e+=String.fromCharCode(this.readInt8(this.position_+gm+r));return e}__offset(e,r){const n=e-this.readInt32(e);return r<this.readInt16(n)?this.readInt16(n+r):0}__union(e,r){return e.bb_pos=r+this.readInt32(r),e.bb=this,e}__string(e,r){e+=this.readInt32(e);const n=this.readInt32(e);e+=gm;const i=this.bytes_.subarray(e,e+n);return r===EM.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,r){return typeof e=="string"?this.__string(r):this.__union(e,r)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+gm}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=mg)throw new Error("FlatBuffers: file identifier must be length "+mg);for(let r=0;r<mg;r++)if(e.charCodeAt(r)!=this.readInt8(this.position()+gm+r))return!1;return!0}createScalarList(e,r){const n=[];for(let i=0;i<r;++i){const o=e(i);o!==null&&n.push(o)}return n}createObjList(e,r){const n=[];for(let i=0;i<r;++i){const o=e(i);o!==null&&n.push(o.unpack())}return n}},uY=class hY{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let r;e?r=e:r=1024,this.bb=cx.allocate(r),this.space=r}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,r){e>this.minalign&&(this.minalign=e);const n=~(this.bb.capacity()-this.space+r)+1&e-1;for(;this.space<n+e+r;){const i=this.bb.capacity();this.bb=hY.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)}pad(e){for(let r=0;r<e;r++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,r,n){(this.force_defaults||r!=n)&&(this.addInt8(r),this.slot(e))}addFieldInt16(e,r,n){(this.force_defaults||r!=n)&&(this.addInt16(r),this.slot(e))}addFieldInt32(e,r,n){(this.force_defaults||r!=n)&&(this.addInt32(r),this.slot(e))}addFieldInt64(e,r,n){(this.force_defaults||r!==n)&&(this.addInt64(r),this.slot(e))}addFieldFloat32(e,r,n){(this.force_defaults||r!=n)&&(this.addFloat32(r),this.slot(e))}addFieldFloat64(e,r,n){(this.force_defaults||r!=n)&&(this.addFloat64(r),this.slot(e))}addFieldOffset(e,r,n){(this.force_defaults||r!=n)&&(this.addOffset(r),this.slot(e))}addFieldStruct(e,r,n){r!=n&&(this.nested(r),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const r=e.capacity();if(r&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=r<<1,i=cx.allocate(n);return i.setPosition(n-r),i.bytes().set(e.bytes(),n-r),i}addOffset(e){this.prep(gm,0),this.writeInt32(this.offset()-e+gm)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let r=0;r<e;r++)this.vtable[r]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let r=this.vtable_in_use-1;for(;r>=0&&this.vtable[r]==0;r--);const n=r+1;for(;r>=0;r--)this.addInt16(this.vtable[r]!=0?e-this.vtable[r]:0);const i=2;this.addInt16(e-this.object_start);const o=(n+i)*IN;this.addInt16(o);let c=0;const a=this.space;t:for(r=0;r<this.vtables.length;r++){const g=this.bb.capacity()-this.vtables[r];if(o==this.bb.readInt16(g)){for(let v=IN;v<o;v+=IN)if(this.bb.readInt16(a+v)!=this.bb.readInt16(g+v))continue t;c=this.vtables[r];break}}return c?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,c-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,r,n){const i=n?Ls:0;if(r){const o=r;if(this.prep(this.minalign,gm+mg+i),o.length!=mg)throw new TypeError("FlatBuffers: file identifier must be length "+mg);for(let c=mg-1;c>=0;c--)this.writeInt8(o.charCodeAt(c))}this.prep(this.minalign,gm+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,r){this.finish(e,r,!0)}requiredField(e,r){const n=this.bb.capacity()-e,i=n-this.bb.readInt32(n);if(!(r<this.bb.readInt16(i)&&this.bb.readInt16(i+r)!=0))throw new TypeError("FlatBuffers: field "+r+" must be set")}startVector(e,r,n){this.notNested(),this.vector_num_elems=r,this.prep(gm,e*r),this.prep(n,e*r)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const r=this.createString(e);return this.string_maps.set(e,r),r}createString(e){if(e==null)return 0;let r;return e instanceof Uint8Array?r=e:r=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,r.length,1),this.bb.setPosition(this.space-=r.length),this.bb.bytes().set(r,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const r=[];for(let n=0;n<e.length;++n){const i=e[n];if(i!==null)r.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return r}createStructOffsetList(e,r){return r(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var GT;(function(t){t[t.BUFFER=0]="BUFFER"})(GT||(GT={}));var HT;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(HT||(HT={}));class fy{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsBodyCompression(e,r){return(r||new fy).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,r){return e.setPosition(e.position()+Ls),(r||new fy).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):HT.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):GT.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,r){e.addFieldInt8(0,r,HT.LZ4_FRAME)}static addMethod(e,r){e.addFieldInt8(1,r,GT.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,r,n){return fy.startBodyCompression(e),fy.addCodec(e,r),fy.addMethod(e,n),fy.endBodyCompression(e)}}class dY{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,r,n){return e.prep(8,16),e.writeInt64(BigInt(n??0)),e.writeInt64(BigInt(r??0)),e.offset()}}let fY=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,r,n){return e.prep(8,16),e.writeInt64(BigInt(n??0)),e.writeInt64(BigInt(r??0)),e.offset()}},hg=class TM{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsRecordBatch(e,r){return(r||new TM).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,r){return e.setPosition(e.position()+Ls),(r||new TM).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,r){const n=this.bb.__offset(this.bb_pos,6);return n?(r||new fY).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,r){const n=this.bb.__offset(this.bb_pos,8);return n?(r||new dY).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new fy).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,r){e.addFieldInt64(0,r,BigInt("0"))}static addNodes(e,r){e.addFieldOffset(1,r,0)}static startNodesVector(e,r){e.startVector(16,r,8)}static addBuffers(e,r){e.addFieldOffset(2,r,0)}static startBuffersVector(e,r){e.startVector(16,r,8)}static addCompression(e,r){e.addFieldOffset(3,r,0)}static endRecordBatch(e){return e.endObject()}},l_=class CM{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDictionaryBatch(e,r){return(r||new CM).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,r){return e.setPosition(e.position()+Ls),(r||new CM).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new hg).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,r){e.addFieldInt64(0,r,BigInt("0"))}static addData(e,r){e.addFieldOffset(1,r,0)}static addIsDelta(e,r){e.addFieldInt8(2,+r,0)}static endDictionaryBatch(e){return e.endObject()}};var ux;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(ux||(ux={}));var XT;(function(t){t[t.DenseArray=0]="DenseArray"})(XT||(XT={}));class Yd{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsInt(e,r){return(r||new Yd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,r){return e.setPosition(e.position()+Ls),(r||new Yd).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,r){e.addFieldInt32(0,r,0)}static addIsSigned(e,r){e.addFieldInt8(1,+r,0)}static endInt(e){return e.endObject()}static createInt(e,r,n){return Yd.startInt(e),Yd.addBitWidth(e,r),Yd.addIsSigned(e,n),Yd.endInt(e)}}class gg{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDictionaryEncoding(e,r){return(r||new gg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,r){return e.setPosition(e.position()+Ls),(r||new gg).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Yd).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):XT.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,r){e.addFieldInt64(0,r,BigInt("0"))}static addIndexType(e,r){e.addFieldOffset(1,r,0)}static addIsOrdered(e,r){e.addFieldInt8(2,+r,0)}static addDictionaryKind(e,r){e.addFieldInt16(3,r,XT.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class ku{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsKeyValue(e,r){return(r||new ku).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,r){return e.setPosition(e.position()+Ls),(r||new ku).__init(e.readInt32(e.position())+e.position(),e)}key(e){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb_pos+r,e):null}value(e){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__string(this.bb_pos+r,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,r){e.addFieldOffset(0,r,0)}static addValue(e,r){e.addFieldOffset(1,r,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,r,n){return ku.startKeyValue(e),ku.addKey(e,r),ku.addValue(e,n),ku.endKeyValue(e)}}let hV=class E2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsBinary(e,r){return(r||new E2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,r){return e.setPosition(e.position()+Ls),(r||new E2).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return E2.startBinary(e),E2.endBinary(e)}},dV=class T2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsBool(e,r){return(r||new T2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,r){return e.setPosition(e.position()+Ls),(r||new T2).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return T2.startBool(e),T2.endBool(e)}},BE=class c_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDate(e,r){return(r||new c_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,r){return e.setPosition(e.position()+Ls),(r||new c_).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):jf.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,r){e.addFieldInt16(0,r,jf.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,r){return c_.startDate(e),c_.addUnit(e,r),c_.endDate(e)}},u_=class cy{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDecimal(e,r){return(r||new cy).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,r){return e.setPosition(e.position()+Ls),(r||new cy).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,r){e.addFieldInt32(0,r,0)}static addScale(e,r){e.addFieldInt32(1,r,0)}static addBitWidth(e,r){e.addFieldInt32(2,r,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,r,n,i){return cy.startDecimal(e),cy.addPrecision(e,r),cy.addScale(e,n),cy.addBitWidth(e,i),cy.endDecimal(e)}},zE=class h_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDuration(e,r){return(r||new h_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,r){return e.setPosition(e.position()+Ls),(r||new h_).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ta.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,r){e.addFieldInt16(0,r,ta.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,r){return h_.startDuration(e),h_.addUnit(e,r),h_.endDuration(e)}},FE=class d_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFixedSizeBinary(e,r){return(r||new d_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,r){return e.setPosition(e.position()+Ls),(r||new d_).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,r){e.addFieldInt32(0,r,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,r){return d_.startFixedSizeBinary(e),d_.addByteWidth(e,r),d_.endFixedSizeBinary(e)}},jE=class f_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFixedSizeList(e,r){return(r||new f_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,r){return e.setPosition(e.position()+Ls),(r||new f_).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,r){e.addFieldInt32(0,r,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,r){return f_.startFixedSizeList(e),f_.addListSize(e,r),f_.endFixedSizeList(e)}};class ym{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFloatingPoint(e,r){return(r||new ym).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,r){return e.setPosition(e.position()+Ls),(r||new ym).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Mh.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,r){e.addFieldInt16(0,r,Mh.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,r){return ym.startFloatingPoint(e),ym.addPrecision(e,r),ym.endFloatingPoint(e)}}class vm{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsInterval(e,r){return(r||new vm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,r){return e.setPosition(e.position()+Ls),(r||new vm).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Bm.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,r){e.addFieldInt16(0,r,Bm.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,r){return vm.startInterval(e),vm.addUnit(e,r),vm.endInterval(e)}}let fV=class C2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsLargeBinary(e,r){return(r||new C2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,r){return e.setPosition(e.position()+Ls),(r||new C2).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return C2.startLargeBinary(e),C2.endLargeBinary(e)}},pV=class A2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsLargeUtf8(e,r){return(r||new A2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,r){return e.setPosition(e.position()+Ls),(r||new A2).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return A2.startLargeUtf8(e),A2.endLargeUtf8(e)}},mV=class k2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsList(e,r){return(r||new k2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,r){return e.setPosition(e.position()+Ls),(r||new k2).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return k2.startList(e),k2.endList(e)}},$E=class p_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsMap(e,r){return(r||new p_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,r){return e.setPosition(e.position()+Ls),(r||new p_).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,r){e.addFieldInt8(0,+r,0)}static endMap(e){return e.endObject()}static createMap(e,r){return p_.startMap(e),p_.addKeysSorted(e,r),p_.endMap(e)}},gV=class I2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsNull(e,r){return(r||new I2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,r){return e.setPosition(e.position()+Ls),(r||new I2).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return I2.startNull(e),I2.endNull(e)}};class Uv{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsStruct_(e,r){return(r||new Uv).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,r){return e.setPosition(e.position()+Ls),(r||new Uv).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Uv.startStruct_(e),Uv.endStruct_(e)}}class Ef{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsTime(e,r){return(r||new Ef).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,r){return e.setPosition(e.position()+Ls),(r||new Ef).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ta.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,r){e.addFieldInt16(0,r,ta.MILLISECOND)}static addBitWidth(e,r){e.addFieldInt32(1,r,32)}static endTime(e){return e.endObject()}static createTime(e,r,n){return Ef.startTime(e),Ef.addUnit(e,r),Ef.addBitWidth(e,n),Ef.endTime(e)}}class Tf{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsTimestamp(e,r){return(r||new Tf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,r){return e.setPosition(e.position()+Ls),(r||new Tf).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ta.SECOND}timezone(e){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__string(this.bb_pos+r,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,r){e.addFieldInt16(0,r,ta.SECOND)}static addTimezone(e,r){e.addFieldOffset(1,r,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,r,n){return Tf.startTimestamp(e),Tf.addUnit(e,r),Tf.addTimezone(e,n),Tf.endTimestamp(e)}}class hd{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsUnion(e,r){return(r||new hd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,r){return e.setPosition(e.position()+Ls),(r||new hd).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ph.Sparse}typeIds(e){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt32(this.bb.__vector(this.bb_pos+r)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,r){e.addFieldInt16(0,r,Ph.Sparse)}static addTypeIds(e,r){e.addFieldOffset(1,r,0)}static createTypeIdsVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addInt32(r[n]);return e.endVector()}static startTypeIdsVector(e,r){e.startVector(4,r,4)}static endUnion(e){return e.endObject()}static createUnion(e,r,n){return hd.startUnion(e),hd.addMode(e,r),hd.addTypeIds(e,n),hd.endUnion(e)}}let yV=class R2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsUtf8(e,r){return(r||new R2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,r){return e.setPosition(e.position()+Ls),(r||new R2).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return R2.startUtf8(e),R2.endUtf8(e)}};var Sl;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(Sl||(Sl={}));let yf=class VE{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsField(e,r){return(r||new VE).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,r){return e.setPosition(e.position()+Ls),(r||new VE).__init(e.readInt32(e.position())+e.position(),e)}name(e){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb_pos+r,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Sl.NONE}type(e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__union(e,this.bb_pos+r):null}dictionary(e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new gg).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}children(e,r){const n=this.bb.__offset(this.bb_pos,14);return n?(r||new VE).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,16);return n?(r||new ku).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,r){e.addFieldOffset(0,r,0)}static addNullable(e,r){e.addFieldInt8(1,+r,0)}static addTypeType(e,r){e.addFieldInt8(2,r,Sl.NONE)}static addType(e,r){e.addFieldOffset(3,r,0)}static addDictionary(e,r){e.addFieldOffset(4,r,0)}static addChildren(e,r){e.addFieldOffset(5,r,0)}static createChildrenVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startChildrenVector(e,r){e.startVector(4,r,4)}static addCustomMetadata(e,r){e.addFieldOffset(6,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static endField(e){return e.endObject()}},sm=class ug{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsSchema(e,r){return(r||new ug).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,r){return e.setPosition(e.position()+Ls),(r||new ug).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ux.Little}fields(e,r){const n=this.bb.__offset(this.bb_pos,6);return n?(r||new yf).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,8);return n?(r||new ku).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt64(this.bb.__vector(this.bb_pos+r)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,r){e.addFieldInt16(0,r,ux.Little)}static addFields(e,r){e.addFieldOffset(1,r,0)}static createFieldsVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startFieldsVector(e,r){e.startVector(4,r,4)}static addCustomMetadata(e,r){e.addFieldOffset(2,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static addFeatures(e,r){e.addFieldOffset(3,r,0)}static createFeaturesVector(e,r){e.startVector(8,r.length,8);for(let n=r.length-1;n>=0;n--)e.addInt64(r[n]);return e.endVector()}static startFeaturesVector(e,r){e.startVector(8,r,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,r){e.finish(r)}static finishSizePrefixedSchemaBuffer(e,r){e.finish(r,void 0,!0)}static createSchema(e,r,n,i,o){return ug.startSchema(e),ug.addEndianness(e,r),ug.addFields(e,n),ug.addCustomMetadata(e,i),ug.addFeatures(e,o),ug.endSchema(e)}};var ss;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(ss||(ss={}));var Qe;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(Qe||(Qe={}));var dg;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(dg||(dg={}));const xLt=void 0;function Tw(t){if(t===null)return"null";if(t===xLt)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>Tw(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,r)=>typeof r=="bigint"?`${r}`:r)}function dl(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function pY(t,e){return dl(t/e)+dl(t%e)/dl(e)}const wLt=Symbol.for("isArrowBigNum");function Lp(t,...e){return e.length===0?Object.setPrototypeOf(Xs(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Lp.prototype[wLt]=!0;Lp.prototype.toJSON=function(){return`"${Aw(this)}"`};Lp.prototype.valueOf=function(t){return mY(this,t)};Lp.prototype.toString=function(){return Aw(this)};Lp.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return mY(this);case"string":return Aw(this);case"default":return TLt(this)}return Aw(this)};function B_(...t){return Lp.apply(this,t)}function z_(...t){return Lp.apply(this,t)}function Cw(...t){return Lp.apply(this,t)}Object.setPrototypeOf(B_.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(z_.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Cw.prototype,Object.create(Uint32Array.prototype));Object.assign(B_.prototype,Lp.prototype,{constructor:B_,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(z_.prototype,Lp.prototype,{constructor:z_,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Cw.prototype,Lp.prototype,{constructor:Cw,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const SLt=BigInt(4294967296)*BigInt(4294967296),ELt=SLt-BigInt(1);function mY(t,e){const{buffer:r,byteOffset:n,byteLength:i,signed:o}=t,c=new BigUint64Array(r,n,i/8),a=o&&c.at(-1)&BigInt(1)<<BigInt(63);let g=BigInt(0),v=0;if(a){for(const x of c)g|=(x^ELt)*(BigInt(1)<<BigInt(64*v++));g*=BigInt(-1),g-=BigInt(1)}else for(const x of c)g|=x*(BigInt(1)<<BigInt(64*v++));if(typeof e=="number"){const x=BigInt(Math.pow(10,e)),k=g/x,I=g%x;return dl(k)+dl(I)/dl(x)}return dl(g)}function Aw(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return RN(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return RN(t);e=e.slice();let n=1;for(let o=0;o<e.length;o++){const c=e[o],a=~c+n;e[o]=a,n&=c===0?1:0}return`-${RN(e)}`}function TLt(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Aw(t)}function RN(t){let e="";const r=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let o=-1;const c=n.length-1;do{for(r[0]=n[o=0];o<c;)n[o++]=r[1]=r[0]/10,r[0]=(r[0]-r[1]*10<<16)+n[o];n[o]=r[1]=r[0]/10,r[0]=r[0]-r[1]*10,e=`${r[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class CO{static new(e,r){switch(r){case!0:return new B_(e);case!1:return new z_(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new B_(e)}return e.byteLength===16?new Cw(e):new z_(e)}static signed(e){return new B_(e)}static unsigned(e){return new z_(e)}static decimal(e){return new Cw(e)}constructor(e,r){return CO.new(e,r)}}var gY,yY,vY,bY,_Y,xY,wY,SY,EY,TY,CY,AY,kY,IY,RY,NY,LY,MY,PY,OY,DY,BY;class Ri{static isNull(e){return e?.typeId===Qe.Null}static isInt(e){return e?.typeId===Qe.Int}static isFloat(e){return e?.typeId===Qe.Float}static isBinary(e){return e?.typeId===Qe.Binary}static isLargeBinary(e){return e?.typeId===Qe.LargeBinary}static isUtf8(e){return e?.typeId===Qe.Utf8}static isLargeUtf8(e){return e?.typeId===Qe.LargeUtf8}static isBool(e){return e?.typeId===Qe.Bool}static isDecimal(e){return e?.typeId===Qe.Decimal}static isDate(e){return e?.typeId===Qe.Date}static isTime(e){return e?.typeId===Qe.Time}static isTimestamp(e){return e?.typeId===Qe.Timestamp}static isInterval(e){return e?.typeId===Qe.Interval}static isDuration(e){return e?.typeId===Qe.Duration}static isList(e){return e?.typeId===Qe.List}static isStruct(e){return e?.typeId===Qe.Struct}static isUnion(e){return e?.typeId===Qe.Union}static isFixedSizeBinary(e){return e?.typeId===Qe.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===Qe.FixedSizeList}static isMap(e){return e?.typeId===Qe.Map}static isDictionary(e){return e?.typeId===Qe.Dictionary}static isDenseUnion(e){return Ri.isUnion(e)&&e.mode===Ph.Dense}static isSparseUnion(e){return Ri.isUnion(e)&&e.mode===Ph.Sparse}constructor(e){this.typeId=e}}gY=Symbol.toStringTag;Ri[gY]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(Ri.prototype);class Ry extends Ri{constructor(){super(Qe.Null)}toString(){return"Null"}}yY=Symbol.toStringTag;Ry[yY]=(t=>t[Symbol.toStringTag]="Null")(Ry.prototype);class c0 extends Ri{constructor(e,r){super(Qe.Int),this.isSigned=e,this.bitWidth=r}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}vY=Symbol.toStringTag;c0[vY]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(c0.prototype);class kw extends c0{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(kw.prototype,"ArrayType",{value:Int32Array});class WT extends Ri{constructor(e){super(Qe.Float),this.precision=e}get ArrayType(){switch(this.precision){case Mh.HALF:return Uint16Array;case Mh.SINGLE:return Float32Array;case Mh.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}bY=Symbol.toStringTag;WT[bY]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(WT.prototype);class YT extends Ri{constructor(){super(Qe.Binary)}toString(){return"Binary"}}_Y=Symbol.toStringTag;YT[_Y]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(YT.prototype);class KT extends Ri{constructor(){super(Qe.LargeBinary)}toString(){return"LargeBinary"}}xY=Symbol.toStringTag;KT[xY]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(KT.prototype);class ZT extends Ri{constructor(){super(Qe.Utf8)}toString(){return"Utf8"}}wY=Symbol.toStringTag;ZT[wY]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(ZT.prototype);class QT extends Ri{constructor(){super(Qe.LargeUtf8)}toString(){return"LargeUtf8"}}SY=Symbol.toStringTag;QT[SY]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(QT.prototype);class JT extends Ri{constructor(){super(Qe.Bool)}toString(){return"Bool"}}EY=Symbol.toStringTag;JT[EY]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(JT.prototype);class tC extends Ri{constructor(e,r,n=128){super(Qe.Decimal),this.scale=e,this.precision=r,this.bitWidth=n}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}TY=Symbol.toStringTag;tC[TY]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(tC.prototype);class eC extends Ri{constructor(e){super(Qe.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${jf[this.unit]}>`}get ArrayType(){return this.unit===jf.DAY?Int32Array:BigInt64Array}}CY=Symbol.toStringTag;eC[CY]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(eC.prototype);class rC extends Ri{constructor(e,r){super(Qe.Time),this.unit=e,this.bitWidth=r}toString(){return`Time${this.bitWidth}<${ta[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}AY=Symbol.toStringTag;rC[AY]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(rC.prototype);class nC extends Ri{constructor(e,r){super(Qe.Timestamp),this.unit=e,this.timezone=r}toString(){return`Timestamp<${ta[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}kY=Symbol.toStringTag;nC[kY]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(nC.prototype);class iC extends Ri{constructor(e){super(Qe.Interval),this.unit=e}toString(){return`Interval<${Bm[this.unit]}>`}}IY=Symbol.toStringTag;iC[IY]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(iC.prototype);class aC extends Ri{constructor(e){super(Qe.Duration),this.unit=e}toString(){return`Duration<${ta[this.unit]}>`}}RY=Symbol.toStringTag;aC[RY]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(aC.prototype);class oC extends Ri{constructor(e){super(Qe.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}NY=Symbol.toStringTag;oC[NY]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(oC.prototype);class Kh extends Ri{constructor(e){super(Qe.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}LY=Symbol.toStringTag;Kh[LY]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Kh.prototype);class sC extends Ri{constructor(e,r,n){super(Qe.Union),this.mode=e,this.children=n,this.typeIds=r=Int32Array.from(r),this.typeIdToChildIndex=r.reduce((i,o,c)=>(i[o]=c)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}MY=Symbol.toStringTag;sC[MY]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(sC.prototype);class lC extends Ri{constructor(e){super(Qe.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}PY=Symbol.toStringTag;lC[PY]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(lC.prototype);class cC extends Ri{constructor(e,r){super(Qe.FixedSizeList),this.listSize=e,this.children=[r]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}OY=Symbol.toStringTag;cC[OY]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(cC.prototype);class uC extends Ri{constructor(e,r=!1){var n,i,o;if(super(Qe.Map),this.children=[e],this.keysSorted=r,e&&(e.name="entries",!((n=e?.type)===null||n===void 0)&&n.children)){const c=(i=e?.type)===null||i===void 0?void 0:i.children[0];c&&(c.name="key");const a=(o=e?.type)===null||o===void 0?void 0:o.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}DY=Symbol.toStringTag;uC[DY]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(uC.prototype);const CLt=(t=>()=>++t)(-1);class hx extends Ri{constructor(e,r,n,i){super(Qe.Dictionary),this.indices=r,this.dictionary=e,this.isOrdered=i||!1,this.id=n==null?CLt():dl(n)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}BY=Symbol.toStringTag;hx[BY]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(hx.prototype);function fg(t){const e=t;switch(t.typeId){case Qe.Decimal:return t.bitWidth/32;case Qe.Interval:return 1+e.unit;case Qe.FixedSizeList:return e.listSize;case Qe.FixedSizeBinary:return e.byteWidth;default:return 1}}class Qa{visitMany(e,...r){return e.map((n,i)=>this.visit(n,...r.map(o=>o[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,r=!0){return ALt(this,e,r)}getVisitFnByTypeId(e,r=!0){return m_(this,e,r)}visitNull(e,...r){return null}visitBool(e,...r){return null}visitInt(e,...r){return null}visitFloat(e,...r){return null}visitUtf8(e,...r){return null}visitLargeUtf8(e,...r){return null}visitBinary(e,...r){return null}visitLargeBinary(e,...r){return null}visitFixedSizeBinary(e,...r){return null}visitDate(e,...r){return null}visitTimestamp(e,...r){return null}visitTime(e,...r){return null}visitDecimal(e,...r){return null}visitList(e,...r){return null}visitStruct(e,...r){return null}visitUnion(e,...r){return null}visitDictionary(e,...r){return null}visitInterval(e,...r){return null}visitDuration(e,...r){return null}visitFixedSizeList(e,...r){return null}visitMap(e,...r){return null}}function ALt(t,e,r=!0){return typeof e=="number"?m_(t,e,r):typeof e=="string"&&e in Qe?m_(t,Qe[e],r):e&&e instanceof Ri?m_(t,vV(e),r):e?.type&&e.type instanceof Ri?m_(t,vV(e.type),r):m_(t,Qe.NONE,r)}function m_(t,e,r=!0){let n=null;switch(e){case Qe.Null:n=t.visitNull;break;case Qe.Bool:n=t.visitBool;break;case Qe.Int:n=t.visitInt;break;case Qe.Int8:n=t.visitInt8||t.visitInt;break;case Qe.Int16:n=t.visitInt16||t.visitInt;break;case Qe.Int32:n=t.visitInt32||t.visitInt;break;case Qe.Int64:n=t.visitInt64||t.visitInt;break;case Qe.Uint8:n=t.visitUint8||t.visitInt;break;case Qe.Uint16:n=t.visitUint16||t.visitInt;break;case Qe.Uint32:n=t.visitUint32||t.visitInt;break;case Qe.Uint64:n=t.visitUint64||t.visitInt;break;case Qe.Float:n=t.visitFloat;break;case Qe.Float16:n=t.visitFloat16||t.visitFloat;break;case Qe.Float32:n=t.visitFloat32||t.visitFloat;break;case Qe.Float64:n=t.visitFloat64||t.visitFloat;break;case Qe.Utf8:n=t.visitUtf8;break;case Qe.LargeUtf8:n=t.visitLargeUtf8;break;case Qe.Binary:n=t.visitBinary;break;case Qe.LargeBinary:n=t.visitLargeBinary;break;case Qe.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case Qe.Date:n=t.visitDate;break;case Qe.DateDay:n=t.visitDateDay||t.visitDate;break;case Qe.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case Qe.Timestamp:n=t.visitTimestamp;break;case Qe.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case Qe.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case Qe.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case Qe.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case Qe.Time:n=t.visitTime;break;case Qe.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case Qe.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case Qe.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case Qe.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case Qe.Decimal:n=t.visitDecimal;break;case Qe.List:n=t.visitList;break;case Qe.Struct:n=t.visitStruct;break;case Qe.Union:n=t.visitUnion;break;case Qe.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case Qe.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case Qe.Dictionary:n=t.visitDictionary;break;case Qe.Interval:n=t.visitInterval;break;case Qe.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case Qe.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case Qe.Duration:n=t.visitDuration;break;case Qe.DurationSecond:n=t.visitDurationSecond||t.visitDuration;break;case Qe.DurationMillisecond:n=t.visitDurationMillisecond||t.visitDuration;break;case Qe.DurationMicrosecond:n=t.visitDurationMicrosecond||t.visitDuration;break;case Qe.DurationNanosecond:n=t.visitDurationNanosecond||t.visitDuration;break;case Qe.FixedSizeList:n=t.visitFixedSizeList;break;case Qe.Map:n=t.visitMap;break}if(typeof n=="function")return n;if(!r)return()=>null;throw new Error(`Unrecognized type '${Qe[e]}'`)}function vV(t){switch(t.typeId){case Qe.Null:return Qe.Null;case Qe.Int:{const{bitWidth:e,isSigned:r}=t;switch(e){case 8:return r?Qe.Int8:Qe.Uint8;case 16:return r?Qe.Int16:Qe.Uint16;case 32:return r?Qe.Int32:Qe.Uint32;case 64:return r?Qe.Int64:Qe.Uint64}return Qe.Int}case Qe.Float:switch(t.precision){case Mh.HALF:return Qe.Float16;case Mh.SINGLE:return Qe.Float32;case Mh.DOUBLE:return Qe.Float64}return Qe.Float;case Qe.Binary:return Qe.Binary;case Qe.LargeBinary:return Qe.LargeBinary;case Qe.Utf8:return Qe.Utf8;case Qe.LargeUtf8:return Qe.LargeUtf8;case Qe.Bool:return Qe.Bool;case Qe.Decimal:return Qe.Decimal;case Qe.Time:switch(t.unit){case ta.SECOND:return Qe.TimeSecond;case ta.MILLISECOND:return Qe.TimeMillisecond;case ta.MICROSECOND:return Qe.TimeMicrosecond;case ta.NANOSECOND:return Qe.TimeNanosecond}return Qe.Time;case Qe.Timestamp:switch(t.unit){case ta.SECOND:return Qe.TimestampSecond;case ta.MILLISECOND:return Qe.TimestampMillisecond;case ta.MICROSECOND:return Qe.TimestampMicrosecond;case ta.NANOSECOND:return Qe.TimestampNanosecond}return Qe.Timestamp;case Qe.Date:switch(t.unit){case jf.DAY:return Qe.DateDay;case jf.MILLISECOND:return Qe.DateMillisecond}return Qe.Date;case Qe.Interval:switch(t.unit){case Bm.DAY_TIME:return Qe.IntervalDayTime;case Bm.YEAR_MONTH:return Qe.IntervalYearMonth}return Qe.Interval;case Qe.Duration:switch(t.unit){case ta.SECOND:return Qe.DurationSecond;case ta.MILLISECOND:return Qe.DurationMillisecond;case ta.MICROSECOND:return Qe.DurationMicrosecond;case ta.NANOSECOND:return Qe.DurationNanosecond}return Qe.Duration;case Qe.Map:return Qe.Map;case Qe.List:return Qe.List;case Qe.Struct:return Qe.Struct;case Qe.Union:switch(t.mode){case Ph.Dense:return Qe.DenseUnion;case Ph.Sparse:return Qe.SparseUnion}return Qe.Union;case Qe.FixedSizeBinary:return Qe.FixedSizeBinary;case Qe.FixedSizeList:return Qe.FixedSizeList;case Qe.Dictionary:return Qe.Dictionary}throw new Error(`Unrecognized type '${Qe[t.typeId]}'`)}Qa.prototype.visitInt8=null;Qa.prototype.visitInt16=null;Qa.prototype.visitInt32=null;Qa.prototype.visitInt64=null;Qa.prototype.visitUint8=null;Qa.prototype.visitUint16=null;Qa.prototype.visitUint32=null;Qa.prototype.visitUint64=null;Qa.prototype.visitFloat16=null;Qa.prototype.visitFloat32=null;Qa.prototype.visitFloat64=null;Qa.prototype.visitDateDay=null;Qa.prototype.visitDateMillisecond=null;Qa.prototype.visitTimestampSecond=null;Qa.prototype.visitTimestampMillisecond=null;Qa.prototype.visitTimestampMicrosecond=null;Qa.prototype.visitTimestampNanosecond=null;Qa.prototype.visitTimeSecond=null;Qa.prototype.visitTimeMillisecond=null;Qa.prototype.visitTimeMicrosecond=null;Qa.prototype.visitTimeNanosecond=null;Qa.prototype.visitDenseUnion=null;Qa.prototype.visitSparseUnion=null;Qa.prototype.visitIntervalDayTime=null;Qa.prototype.visitIntervalYearMonth=null;Qa.prototype.visitDuration=null;Qa.prototype.visitDurationSecond=null;Qa.prototype.visitDurationMillisecond=null;Qa.prototype.visitDurationMicrosecond=null;Qa.prototype.visitDurationNanosecond=null;const zY=new Float64Array(1),Bb=new Uint32Array(zY.buffer);function FY(t){const e=(t&31744)>>10,r=(t&1023)/1024,n=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return n*(r?Number.NaN:1/0);case 0:return n*(r?6103515625e-14*r:0)}return n*Math.pow(2,e-15)*(1+r)}function kLt(t){if(t!==t)return 32256;zY[0]=t;const e=(Bb[1]&2147483648)>>16&65535;let r=Bb[1]&2146435072,n=0;return r>=1089470464?Bb[0]>0?r=31744:(r=(r&2080374784)>>16,n=(Bb[1]&1048575)>>10):r<=1056964608?(n=1048576+(Bb[1]&1048575),n=1048576+(n<<(r>>20)-998)>>21,r=0):(r=r-1056964608>>10,n=(Bb[1]&1048575)+512>>10),e|r|n&65535}class na extends Qa{}function ua(t){return(e,r,n)=>{if(e.setValid(r,n!=null))return t(e,r,n)}}const ILt=(t,e,r)=>{t[e]=Math.floor(r/864e5)},jY=(t,e,r,n)=>{if(r+1<e.length){const i=dl(e[r]),o=dl(e[r+1]);t.set(n.subarray(0,o-i),i)}},RLt=({offset:t,values:e},r,n)=>{const i=t+r;n?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Pg=({values:t},e,r)=>{t[e]=r},AO=({values:t},e,r)=>{t[e]=r},$Y=({values:t},e,r)=>{t[e]=kLt(r)},NLt=(t,e,r)=>{switch(t.type.precision){case Mh.HALF:return $Y(t,e,r);case Mh.SINGLE:case Mh.DOUBLE:return AO(t,e,r)}},VY=({values:t},e,r)=>{ILt(t,e,r.valueOf())},UY=({values:t},e,r)=>{t[e]=BigInt(r)},LLt=({stride:t,values:e},r,n)=>{e.set(n.subarray(0,t),t*r)},qY=({values:t,valueOffsets:e},r,n)=>jY(t,e,r,n),GY=({values:t,valueOffsets:e},r,n)=>jY(t,e,r,SO(n)),MLt=(t,e,r)=>{t.type.unit===jf.DAY?VY(t,e,r):UY(t,e,r)},HY=({values:t},e,r)=>{t[e]=BigInt(r/1e3)},XY=({values:t},e,r)=>{t[e]=BigInt(r)},WY=({values:t},e,r)=>{t[e]=BigInt(r*1e3)},YY=({values:t},e,r)=>{t[e]=BigInt(r*1e6)},PLt=(t,e,r)=>{switch(t.type.unit){case ta.SECOND:return HY(t,e,r);case ta.MILLISECOND:return XY(t,e,r);case ta.MICROSECOND:return WY(t,e,r);case ta.NANOSECOND:return YY(t,e,r)}},KY=({values:t},e,r)=>{t[e]=r},ZY=({values:t},e,r)=>{t[e]=r},QY=({values:t},e,r)=>{t[e]=r},JY=({values:t},e,r)=>{t[e]=r},OLt=(t,e,r)=>{switch(t.type.unit){case ta.SECOND:return KY(t,e,r);case ta.MILLISECOND:return ZY(t,e,r);case ta.MICROSECOND:return QY(t,e,r);case ta.NANOSECOND:return JY(t,e,r)}},DLt=({values:t,stride:e},r,n)=>{t.set(n.subarray(0,e),e*r)},BLt=(t,e,r)=>{const n=t.children[0],i=t.valueOffsets,o=$f.getVisitFn(n);if(Array.isArray(r))for(let c=-1,a=i[e],g=i[e+1];a<g;)o(n,a++,r[++c]);else for(let c=-1,a=i[e],g=i[e+1];a<g;)o(n,a++,r.get(++c))},zLt=(t,e,r)=>{const n=t.children[0],{valueOffsets:i}=t,o=$f.getVisitFn(n);let{[e]:c,[e+1]:a}=i;const g=r instanceof Map?r.entries():Object.entries(r);for(const v of g)if(o(n,c,v),++c>=a)break},FLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e[o]),jLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e.get(o)),$Lt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e.get(i.name)),VLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e[i.name]),ULt=(t,e,r)=>{const n=t.type.children.map(o=>$f.getVisitFn(o.type)),i=r instanceof Map?$Lt(e,r):r instanceof Rs?jLt(e,r):Array.isArray(r)?FLt(e,r):VLt(e,r);t.type.children.forEach((o,c)=>i(n[c],t.children[c],o,c))},qLt=(t,e,r)=>{t.type.mode===Ph.Dense?tK(t,e,r):eK(t,e,r)},tK=(t,e,r)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];$f.visit(i,t.valueOffsets[e],r)},eK=(t,e,r)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];$f.visit(i,e,r)},GLt=(t,e,r)=>{var n;(n=t.dictionary)===null||n===void 0||n.set(t.values[e],r)},HLt=(t,e,r)=>{t.type.unit===Bm.DAY_TIME?rK(t,e,r):nK(t,e,r)},rK=({values:t},e,r)=>{t.set(r.subarray(0,2),2*e)},nK=({values:t},e,r)=>{t[e]=r[0]*12+r[1]%12},iK=({values:t},e,r)=>{t[e]=r},aK=({values:t},e,r)=>{t[e]=r},oK=({values:t},e,r)=>{t[e]=r},sK=({values:t},e,r)=>{t[e]=r},XLt=(t,e,r)=>{switch(t.type.unit){case ta.SECOND:return iK(t,e,r);case ta.MILLISECOND:return aK(t,e,r);case ta.MICROSECOND:return oK(t,e,r);case ta.NANOSECOND:return sK(t,e,r)}},WLt=(t,e,r)=>{const{stride:n}=t,i=t.children[0],o=$f.getVisitFn(i);if(Array.isArray(r))for(let c=-1,a=e*n;++c<n;)o(i,a+c,r[c]);else for(let c=-1,a=e*n;++c<n;)o(i,a+c,r.get(c))};na.prototype.visitBool=ua(RLt);na.prototype.visitInt=ua(Pg);na.prototype.visitInt8=ua(Pg);na.prototype.visitInt16=ua(Pg);na.prototype.visitInt32=ua(Pg);na.prototype.visitInt64=ua(Pg);na.prototype.visitUint8=ua(Pg);na.prototype.visitUint16=ua(Pg);na.prototype.visitUint32=ua(Pg);na.prototype.visitUint64=ua(Pg);na.prototype.visitFloat=ua(NLt);na.prototype.visitFloat16=ua($Y);na.prototype.visitFloat32=ua(AO);na.prototype.visitFloat64=ua(AO);na.prototype.visitUtf8=ua(GY);na.prototype.visitLargeUtf8=ua(GY);na.prototype.visitBinary=ua(qY);na.prototype.visitLargeBinary=ua(qY);na.prototype.visitFixedSizeBinary=ua(LLt);na.prototype.visitDate=ua(MLt);na.prototype.visitDateDay=ua(VY);na.prototype.visitDateMillisecond=ua(UY);na.prototype.visitTimestamp=ua(PLt);na.prototype.visitTimestampSecond=ua(HY);na.prototype.visitTimestampMillisecond=ua(XY);na.prototype.visitTimestampMicrosecond=ua(WY);na.prototype.visitTimestampNanosecond=ua(YY);na.prototype.visitTime=ua(OLt);na.prototype.visitTimeSecond=ua(KY);na.prototype.visitTimeMillisecond=ua(ZY);na.prototype.visitTimeMicrosecond=ua(QY);na.prototype.visitTimeNanosecond=ua(JY);na.prototype.visitDecimal=ua(DLt);na.prototype.visitList=ua(BLt);na.prototype.visitStruct=ua(ULt);na.prototype.visitUnion=ua(qLt);na.prototype.visitDenseUnion=ua(tK);na.prototype.visitSparseUnion=ua(eK);na.prototype.visitDictionary=ua(GLt);na.prototype.visitInterval=ua(HLt);na.prototype.visitIntervalDayTime=ua(rK);na.prototype.visitIntervalYearMonth=ua(nK);na.prototype.visitDuration=ua(XLt);na.prototype.visitDurationSecond=ua(iK);na.prototype.visitDurationMillisecond=ua(aK);na.prototype.visitDurationMicrosecond=ua(oK);na.prototype.visitDurationNanosecond=ua(sK);na.prototype.visitFixedSizeList=ua(WLt);na.prototype.visitMap=ua(zLt);const $f=new na,dp=Symbol.for("parent"),F_=Symbol.for("rowIndex");class kO{constructor(e,r){return this[dp]=e,this[F_]=r,new Proxy(this,new KLt)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[F_],r=this[dp],n=r.type.children,i={};for(let o=-1,c=n.length;++o<c;)i[n[o].name]=xd.visit(r.children[o],e);return i}toString(){return`{${[...this].map(([e,r])=>`${Tw(e)}: ${Tw(r)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new YLt(this[dp],this[F_])}}class YLt{constructor(e,r){this.childIndex=0,this.children=e.children,this.rowIndex=r,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,xd.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(kO.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[dp]:{writable:!0,enumerable:!1,configurable:!1,value:null},[F_]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class KLt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[dp].type.children.map(r=>r.name)}has(e,r){return e[dp].type.children.findIndex(n=>n.name===r)!==-1}getOwnPropertyDescriptor(e,r){if(e[dp].type.children.findIndex(n=>n.name===r)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,r){if(Reflect.has(e,r))return e[r];const n=e[dp].type.children.findIndex(i=>i.name===r);if(n!==-1){const i=xd.visit(e[dp].children[n],e[F_]);return Reflect.set(e,r,i),i}}set(e,r,n){const i=e[dp].type.children.findIndex(o=>o.name===r);return i!==-1?($f.visit(e[dp].children[i],e[F_],n),Reflect.set(e,r,n)):Reflect.has(e,r)||typeof r=="symbol"?Reflect.set(e,r,n):!1}}class Yi extends Qa{}function ia(t){return(e,r)=>e.getValid(r)?t(e,r):null}const ZLt=(t,e)=>864e5*t[e],QLt=(t,e)=>null,lK=(t,e,r)=>{if(r+1>=e.length)return null;const n=dl(e[r]),i=dl(e[r+1]);return t.subarray(n,i)},JLt=({offset:t,values:e},r)=>{const n=t+r;return(e[n>>3]&1<<n%8)!==0},cK=({values:t},e)=>ZLt(t,e),uK=({values:t},e)=>dl(t[e]),$y=({stride:t,values:e},r)=>e[t*r],tMt=({stride:t,values:e},r)=>FY(e[t*r]),hK=({values:t},e)=>t[e],eMt=({stride:t,values:e},r)=>e.subarray(t*r,t*(r+1)),dK=({values:t,valueOffsets:e},r)=>lK(t,e,r),fK=({values:t,valueOffsets:e},r)=>{const n=lK(t,e,r);return n!==null?xM(n):null},rMt=({values:t},e)=>t[e],nMt=({type:t,values:e},r)=>t.precision!==Mh.HALF?e[r]:FY(e[r]),iMt=(t,e)=>t.type.unit===jf.DAY?cK(t,e):uK(t,e),pK=({values:t},e)=>1e3*dl(t[e]),mK=({values:t},e)=>dl(t[e]),gK=({values:t},e)=>pY(t[e],BigInt(1e3)),yK=({values:t},e)=>pY(t[e],BigInt(1e6)),aMt=(t,e)=>{switch(t.type.unit){case ta.SECOND:return pK(t,e);case ta.MILLISECOND:return mK(t,e);case ta.MICROSECOND:return gK(t,e);case ta.NANOSECOND:return yK(t,e)}},vK=({values:t},e)=>t[e],bK=({values:t},e)=>t[e],_K=({values:t},e)=>t[e],xK=({values:t},e)=>t[e],oMt=(t,e)=>{switch(t.type.unit){case ta.SECOND:return vK(t,e);case ta.MILLISECOND:return bK(t,e);case ta.MICROSECOND:return _K(t,e);case ta.NANOSECOND:return xK(t,e)}},sMt=({values:t,stride:e},r)=>CO.decimal(t.subarray(e*r,e*(r+1))),lMt=(t,e)=>{const{valueOffsets:r,stride:n,children:i}=t,{[e*n]:o,[e*n+1]:c}=r,g=i[0].slice(o,c-o);return new Rs([g])},cMt=(t,e)=>{const{valueOffsets:r,children:n}=t,{[e]:i,[e+1]:o}=r,c=n[0];return new IO(c.slice(i,o-i))},uMt=(t,e)=>new kO(t,e),hMt=(t,e)=>t.type.mode===Ph.Dense?wK(t,e):SK(t,e),wK=(t,e)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];return xd.visit(n,t.valueOffsets[e])},SK=(t,e)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];return xd.visit(n,e)},dMt=(t,e)=>{var r;return(r=t.dictionary)===null||r===void 0?void 0:r.get(t.values[e])},fMt=(t,e)=>t.type.unit===Bm.DAY_TIME?EK(t,e):TK(t,e),EK=({values:t},e)=>t.subarray(2*e,2*(e+1)),TK=({values:t},e)=>{const r=t[e],n=new Int32Array(2);return n[0]=Math.trunc(r/12),n[1]=Math.trunc(r%12),n},CK=({values:t},e)=>t[e],AK=({values:t},e)=>t[e],kK=({values:t},e)=>t[e],IK=({values:t},e)=>t[e],pMt=(t,e)=>{switch(t.type.unit){case ta.SECOND:return CK(t,e);case ta.MILLISECOND:return AK(t,e);case ta.MICROSECOND:return kK(t,e);case ta.NANOSECOND:return IK(t,e)}},mMt=(t,e)=>{const{stride:r,children:n}=t,o=n[0].slice(e*r,r);return new Rs([o])};Yi.prototype.visitNull=ia(QLt);Yi.prototype.visitBool=ia(JLt);Yi.prototype.visitInt=ia(rMt);Yi.prototype.visitInt8=ia($y);Yi.prototype.visitInt16=ia($y);Yi.prototype.visitInt32=ia($y);Yi.prototype.visitInt64=ia(hK);Yi.prototype.visitUint8=ia($y);Yi.prototype.visitUint16=ia($y);Yi.prototype.visitUint32=ia($y);Yi.prototype.visitUint64=ia(hK);Yi.prototype.visitFloat=ia(nMt);Yi.prototype.visitFloat16=ia(tMt);Yi.prototype.visitFloat32=ia($y);Yi.prototype.visitFloat64=ia($y);Yi.prototype.visitUtf8=ia(fK);Yi.prototype.visitLargeUtf8=ia(fK);Yi.prototype.visitBinary=ia(dK);Yi.prototype.visitLargeBinary=ia(dK);Yi.prototype.visitFixedSizeBinary=ia(eMt);Yi.prototype.visitDate=ia(iMt);Yi.prototype.visitDateDay=ia(cK);Yi.prototype.visitDateMillisecond=ia(uK);Yi.prototype.visitTimestamp=ia(aMt);Yi.prototype.visitTimestampSecond=ia(pK);Yi.prototype.visitTimestampMillisecond=ia(mK);Yi.prototype.visitTimestampMicrosecond=ia(gK);Yi.prototype.visitTimestampNanosecond=ia(yK);Yi.prototype.visitTime=ia(oMt);Yi.prototype.visitTimeSecond=ia(vK);Yi.prototype.visitTimeMillisecond=ia(bK);Yi.prototype.visitTimeMicrosecond=ia(_K);Yi.prototype.visitTimeNanosecond=ia(xK);Yi.prototype.visitDecimal=ia(sMt);Yi.prototype.visitList=ia(lMt);Yi.prototype.visitStruct=ia(uMt);Yi.prototype.visitUnion=ia(hMt);Yi.prototype.visitDenseUnion=ia(wK);Yi.prototype.visitSparseUnion=ia(SK);Yi.prototype.visitDictionary=ia(dMt);Yi.prototype.visitInterval=ia(fMt);Yi.prototype.visitIntervalDayTime=ia(EK);Yi.prototype.visitIntervalYearMonth=ia(TK);Yi.prototype.visitDuration=ia(pMt);Yi.prototype.visitDurationSecond=ia(CK);Yi.prototype.visitDurationMillisecond=ia(AK);Yi.prototype.visitDurationMicrosecond=ia(kK);Yi.prototype.visitDurationNanosecond=ia(IK);Yi.prototype.visitFixedSizeList=ia(mMt);Yi.prototype.visitMap=ia(cMt);const xd=new Yi,g_=Symbol.for("keys"),j_=Symbol.for("vals"),y_=Symbol.for("kKeysAsStrings"),AM=Symbol.for("_kKeysAsStrings");class IO{constructor(e){return this[g_]=new Rs([e.children[0]]).memoize(),this[j_]=e.children[1],new Proxy(this,new yMt)}get[y_](){return this[AM]||(this[AM]=Array.from(this[g_].toArray(),String))}[Symbol.iterator](){return new gMt(this[g_],this[j_])}get size(){return this[g_].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[g_],r=this[j_],n={};for(let i=-1,o=e.length;++i<o;)n[e.get(i)]=xd.visit(r,i);return n}toString(){return`{${[...this].map(([e,r])=>`${Tw(e)}: ${Tw(r)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class gMt{constructor(e,r){this.keys=e,this.vals=r,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),xd.visit(this.vals,e)]})}}class yMt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[y_]}has(e,r){return e[y_].includes(r)}getOwnPropertyDescriptor(e,r){if(e[y_].indexOf(r)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,r){if(Reflect.has(e,r))return e[r];const n=e[y_].indexOf(r);if(n!==-1){const i=xd.visit(Reflect.get(e,j_),n);return Reflect.set(e,r,i),i}}set(e,r,n){const i=e[y_].indexOf(r);return i!==-1?($f.visit(Reflect.get(e,j_),i,n),Reflect.set(e,r,n)):Reflect.has(e,r)?Reflect.set(e,r,n):!1}}Object.defineProperties(IO.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[g_]:{writable:!0,enumerable:!1,configurable:!1,value:null},[j_]:{writable:!0,enumerable:!1,configurable:!1,value:null},[AM]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let bV;function RK(t,e,r,n){const{length:i=0}=t;let o=typeof e!="number"?0:e,c=typeof r!="number"?i:r;return o<0&&(o=(o%i+i)%i),c<0&&(c=(c%i+i)%i),c<o&&(bV=o,o=c,c=bV),c>i&&(c=i),n?n(t,o,c):[o,c]}const RO=(t,e)=>t<0?e+t:t,_V=t=>t!==t;function kx(t){if(typeof t!=="object"||t===null)return _V(t)?_V:r=>r===t;if(t instanceof Date){const r=t.valueOf();return n=>n instanceof Date?n.valueOf()===r:!1}return ArrayBuffer.isView(t)?r=>r?mLt(t,r):!1:t instanceof Map?bMt(t):Array.isArray(t)?vMt(t):t instanceof Rs?_Mt(t):xMt(t,!0)}function vMt(t){const e=[];for(let r=-1,n=t.length;++r<n;)e[r]=kx(t[r]);return XA(e)}function bMt(t){let e=-1;const r=[];for(const n of t.values())r[++e]=kx(n);return XA(r)}function _Mt(t){const e=[];for(let r=-1,n=t.length;++r<n;)e[r]=kx(t.get(r));return XA(e)}function xMt(t,e=!1){const r=Object.keys(t);if(!e&&r.length===0)return()=>!1;const n=[];for(let i=-1,o=r.length;++i<o;)n[i]=kx(t[r[i]]);return XA(n,r)}function XA(t,e){return r=>{if(!r||typeof r!="object")return!1;switch(r.constructor){case Array:return wMt(t,r);case Map:return xV(t,r,r.keys());case IO:case kO:case Object:case void 0:return xV(t,r,e||Object.keys(r))}return r instanceof Rs?SMt(t,r):!1}}function wMt(t,e){const r=t.length;if(e.length!==r)return!1;for(let n=-1;++n<r;)if(!t[n](e[n]))return!1;return!0}function SMt(t,e){const r=t.length;if(e.length!==r)return!1;for(let n=-1;++n<r;)if(!t[n](e.get(n)))return!1;return!0}function xV(t,e,r){const n=r[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let c=0;const a=t.length;let g=o.next(),v=n.next(),x=i.next();for(;c<a&&!v.done&&!x.done&&!g.done&&!(v.value!==x.value||!t[c](g.value));++c,v=n.next(),x=i.next(),g=o.next());return c===a&&v.done&&x.done&&g.done?!0:(n.return&&n.return(),i.return&&i.return(),o.return&&o.return(),!1)}function NK(t,e,r,n){return(r&1<<n)!==0}function EMt(t,e,r,n){return(r&1<<n)>>n}function hC(t,e,r){const n=r.byteLength+7&-8;if(t>0||r.byteLength<n){const i=new Uint8Array(n);return i.set(t%8===0?r.subarray(t>>3):dC(new NO(r,t,e,null,NK)).subarray(0,n)),i}return r}function dC(t){const e=[];let r=0,n=0,i=0;for(const c of t)c&&(i|=1<<n),++n===8&&(e[r++]=i,i=n=0);(r===0||n>0)&&(e[r++]=i);const o=new Uint8Array(e.length+7&-8);return o.set(e),o}class NO{constructor(e,r,n,i,o){this.bytes=e,this.length=n,this.context=i,this.get=o,this.bit=r%8,this.byteIndex=r>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function kM(t,e,r){if(r-e<=0)return 0;if(r-e<8){let o=0;for(const c of new NO(t,e,r-e,t,EMt))o+=c;return o}const n=r>>3<<3,i=e+(e%8===0?0:8-e%8);return kM(t,e,i)+kM(t,n,r)+TMt(t,i>>3,n-i>>3)}function TMt(t,e,r){let n=0,i=Math.trunc(e);const o=new DataView(t.buffer,t.byteOffset,t.byteLength),c=r===void 0?t.byteLength:i+r;for(;c-i>=4;)n+=NN(o.getUint32(i)),i+=4;for(;c-i>=2;)n+=NN(o.getUint16(i)),i+=2;for(;c-i>=1;)n+=NN(o.getUint8(i)),i+=1;return n}function NN(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const CMt=-1;class Gs{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return Ri.isSparseUnion(e)?this.children.some(r=>r.nullable):Ri.isDenseUnion(e)?this.children.some(r=>r.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:r,values:n,nullBitmap:i,typeIds:o}=this;return r&&(e+=r.byteLength),n&&(e+=n.byteLength),i&&(e+=i.byteLength),o&&(e+=o.byteLength),this.children.reduce((c,a)=>c+a.byteLength,e)}get nullCount(){if(Ri.isUnion(this.type))return this.children.reduce((n,i)=>n+i.nullCount,0);let e=this._nullCount,r;return e<=CMt&&(r=this.nullBitmap)&&(this._nullCount=e=r.length===0?0:this.length-kM(r,this.offset,this.offset+this.length)),e}constructor(e,r,n,i,o,c=[],a){this.type=e,this.children=c,this.dictionary=a,this.offset=Math.floor(Math.max(r||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let g;o instanceof Gs?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=fg(e),o&&((g=o[0])&&(this.valueOffsets=g),(g=o[1])&&(this.values=g),(g=o[2])&&(this.nullBitmap=g),(g=o[3])&&(this.typeIds=g)))}getValid(e){const{type:r}=this;if(Ri.isUnion(r)){const n=r,i=this.children[n.typeIdToChildIndex[this.typeIds[e]]],o=n.mode===Ph.Dense?this.valueOffsets[e]:e;return i.getValid(o)}if(this.nullable&&this.nullCount>0){const n=this.offset+e;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(e,r){let n;const{type:i}=this;if(Ri.isUnion(i)){const o=i,c=this.children[o.typeIdToChildIndex[this.typeIds[e]]],a=o.mode===Ph.Dense?this.valueOffsets[e]:e;n=c.getValid(a),c.setValid(a,r)}else{let{nullBitmap:o}=this;const{offset:c,length:a}=this,g=c+e,v=1<<g%8,x=g>>3;(!o||o.byteLength<=x)&&(o=new Uint8Array((c+a+63&-64)>>3).fill(255),this.nullCount>0?(o.set(hC(c,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:o})):Object.assign(this,{nullBitmap:o,_nullCount:0}));const k=o[x];n=(k&v)!==0,o[x]=r?k|v:k&~v}return n!==!!r&&(this._nullCount=this.nullCount+(r?-1:1)),r}clone(e=this.type,r=this.offset,n=this.length,i=this._nullCount,o=this,c=this.children){return new Gs(e,r,n,i,o,c,this.dictionary)}slice(e,r){const{stride:n,typeId:i,children:o}=this,c=+(this._nullCount===0)-1,a=i===16?n:1,g=this._sliceBuffers(e,r,n,i);return this.clone(this.type,this.offset+e,r,c,g,o.length===0||this.valueOffsets?o:this._sliceChildren(o,a*e,a*r))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===Qe.Null)return this.clone(this.type,0,e,0);const{length:r,nullCount:n}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,r>>3);i[r>>3]=(1<<r-(r&-8))-1,n>0&&i.set(hC(this.offset,r,this.nullBitmap),0);const o=this.buffers;return o[dg.VALIDITY]=i,this.clone(this.type,0,e,n+(e-r),o)}_sliceBuffers(e,r,n,i){let o;const{buffers:c}=this;return(o=c[dg.TYPE])&&(c[dg.TYPE]=o.subarray(e,e+r)),(o=c[dg.OFFSET])&&(c[dg.OFFSET]=o.subarray(e,e+r+1))||(o=c[dg.DATA])&&(c[dg.DATA]=i===6?o:o.subarray(n*e,n*(e+r))),c}_sliceChildren(e,r,n){return e.map(i=>i.slice(r,n))}}Gs.prototype.children=Object.freeze([]);class Y2 extends Qa{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:r,["offset"]:n=0,["length"]:i=0}=e;return new Gs(r,n,i,i)}visitBool(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitInt(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitFloat(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitUtf8(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.data),o=Io(e.nullBitmap),c=s2(e.valueOffsets),{["length"]:a=c.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[c,i,o])}visitLargeUtf8(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.data),o=Io(e.nullBitmap),c=lV(e.valueOffsets),{["length"]:a=c.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[c,i,o])}visitBinary(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.data),o=Io(e.nullBitmap),c=s2(e.valueOffsets),{["length"]:a=c.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[c,i,o])}visitLargeBinary(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.data),o=Io(e.nullBitmap),c=lV(e.valueOffsets),{["length"]:a=c.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[c,i,o])}visitFixedSizeBinary(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitDate(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitTimestamp(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitTime(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitDecimal(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitList(e){const{["type"]:r,["offset"]:n=0,["child"]:i}=e,o=Io(e.nullBitmap),c=s2(e.valueOffsets),{["length"]:a=c.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[c,void 0,o],[i])}visitStruct(e){const{["type"]:r,["offset"]:n=0,["children"]:i=[]}=e,o=Io(e.nullBitmap),{length:c=i.reduce((g,{length:v})=>Math.max(g,v),0),nullCount:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,void 0,o],i)}visitUnion(e){const{["type"]:r,["offset"]:n=0,["children"]:i=[]}=e,o=Xs(r.ArrayType,e.typeIds),{["length"]:c=o.length,["nullCount"]:a=-1}=e;if(Ri.isSparseUnion(r))return new Gs(r,n,c,a,[void 0,void 0,void 0,o],i);const g=s2(e.valueOffsets);return new Gs(r,n,c,a,[g,void 0,void 0,o],i)}visitDictionary(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.indices.ArrayType,e.data),{["dictionary"]:c=new Rs([new Y2().visit({type:r.dictionary})])}=e,{["length"]:a=o.length,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[void 0,o,i],[],c)}visitInterval(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitDuration(e){const{["type"]:r,["offset"]:n=0}=e,i=Io(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:c=o.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,o,i])}visitFixedSizeList(e){const{["type"]:r,["offset"]:n=0,["child"]:i=new Y2().visit({type:r.valueType})}=e,o=Io(e.nullBitmap),{["length"]:c=i.length/fg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,c,a,[void 0,void 0,o],[i])}visitMap(e){const{["type"]:r,["offset"]:n=0,["child"]:i=new Y2().visit({type:r.childType})}=e,o=Io(e.nullBitmap),c=s2(e.valueOffsets),{["length"]:a=c.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[c,void 0,o],[i])}}const AMt=new Y2;function no(t){return AMt.visit(t)}class wV{constructor(e=0,r){this.numChunks=e,this.getChunkIterator=r,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function kMt(t){return t.some(e=>e.nullable)}function LK(t){return t.reduce((e,r)=>e+r.nullCount,0)}function MK(t){return t.reduce((e,r,n)=>(e[n+1]=e[n]+r.length,e),new Uint32Array(t.length+1))}function PK(t,e,r,n){const i=[];for(let o=-1,c=t.length;++o<c;){const a=t[o],g=e[o],{length:v}=a;if(g>=n)break;if(r>=g+v)continue;if(g>=r&&g+v<=n){i.push(a);continue}const x=Math.max(0,r-g),k=Math.min(n-g,v);i.push(a.slice(x,k-x))}return i.length===0&&i.push(t[0].slice(0,0)),i}function LO(t,e,r,n){let i=0,o=0,c=e.length-1;do{if(i>=c-1)return r<e[c]?n(t,i,r-e[i]):null;o=i+Math.trunc((c-i)*.5),r<e[o]?c=o:i=o}while(i<c)}function MO(t,e){return t.getValid(e)}function fC(t){function e(r,n,i){return t(r[n],i)}return function(r){const n=this.data;return LO(n,this._offsets,r,e)}}function OK(t){let e;function r(n,i,o){return t(n[i],o,e)}return function(n,i){const o=this.data;e=i;const c=LO(o,this._offsets,n,r);return e=void 0,c}}function DK(t){let e;function r(n,i,o){let c=o,a=0,g=0;for(let v=i-1,x=n.length;++v<x;){const k=n[v];if(~(a=t(k,e,c)))return g+a;c=0,g+=k.length}return-1}return function(n,i){e=n;const o=this.data,c=typeof i!="number"?r(o,0,0):LO(o,this._offsets,i,r);return e=void 0,c}}class Ki extends Qa{}function IMt(t,e){return e===null&&t.length>0?0:-1}function RMt(t,e){const{nullBitmap:r}=t;if(!r||t.nullCount<=0)return-1;let n=0;for(const i of new NO(r,t.offset+(e||0),t.length,r,NK)){if(!i)return n;++n}return-1}function ya(t,e,r){if(e===void 0)return-1;if(e===null)switch(t.typeId){case Qe.Union:break;case Qe.Dictionary:break;default:return RMt(t,r)}const n=xd.getVisitFn(t),i=kx(e);for(let o=(r||0)-1,c=t.length;++o<c;)if(i(n(t,o)))return o;return-1}function BK(t,e,r){const n=xd.getVisitFn(t),i=kx(e);for(let o=(r||0)-1,c=t.length;++o<c;)if(i(n(t,o)))return o;return-1}Ki.prototype.visitNull=IMt;Ki.prototype.visitBool=ya;Ki.prototype.visitInt=ya;Ki.prototype.visitInt8=ya;Ki.prototype.visitInt16=ya;Ki.prototype.visitInt32=ya;Ki.prototype.visitInt64=ya;Ki.prototype.visitUint8=ya;Ki.prototype.visitUint16=ya;Ki.prototype.visitUint32=ya;Ki.prototype.visitUint64=ya;Ki.prototype.visitFloat=ya;Ki.prototype.visitFloat16=ya;Ki.prototype.visitFloat32=ya;Ki.prototype.visitFloat64=ya;Ki.prototype.visitUtf8=ya;Ki.prototype.visitLargeUtf8=ya;Ki.prototype.visitBinary=ya;Ki.prototype.visitLargeBinary=ya;Ki.prototype.visitFixedSizeBinary=ya;Ki.prototype.visitDate=ya;Ki.prototype.visitDateDay=ya;Ki.prototype.visitDateMillisecond=ya;Ki.prototype.visitTimestamp=ya;Ki.prototype.visitTimestampSecond=ya;Ki.prototype.visitTimestampMillisecond=ya;Ki.prototype.visitTimestampMicrosecond=ya;Ki.prototype.visitTimestampNanosecond=ya;Ki.prototype.visitTime=ya;Ki.prototype.visitTimeSecond=ya;Ki.prototype.visitTimeMillisecond=ya;Ki.prototype.visitTimeMicrosecond=ya;Ki.prototype.visitTimeNanosecond=ya;Ki.prototype.visitDecimal=ya;Ki.prototype.visitList=ya;Ki.prototype.visitStruct=ya;Ki.prototype.visitUnion=ya;Ki.prototype.visitDenseUnion=BK;Ki.prototype.visitSparseUnion=BK;Ki.prototype.visitDictionary=ya;Ki.prototype.visitInterval=ya;Ki.prototype.visitIntervalDayTime=ya;Ki.prototype.visitIntervalYearMonth=ya;Ki.prototype.visitDuration=ya;Ki.prototype.visitDurationSecond=ya;Ki.prototype.visitDurationMillisecond=ya;Ki.prototype.visitDurationMicrosecond=ya;Ki.prototype.visitDurationNanosecond=ya;Ki.prototype.visitFixedSizeList=ya;Ki.prototype.visitMap=ya;const pC=new Ki;class Zi extends Qa{}function aa(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(Ri.isInt(e)&&e.bitWidth!==64||Ri.isTime(e)&&e.bitWidth!==64||Ri.isFloat(e)&&e.precision!==Mh.HALF))return new wV(t.data.length,n=>{const i=t.data[n];return i.values.subarray(0,i.length)[Symbol.iterator]()});let r=0;return new wV(t.data.length,n=>{const o=t.data[n].length,c=t.slice(r,r+o);return r+=o,new NMt(c)})}class NMt{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Zi.prototype.visitNull=aa;Zi.prototype.visitBool=aa;Zi.prototype.visitInt=aa;Zi.prototype.visitInt8=aa;Zi.prototype.visitInt16=aa;Zi.prototype.visitInt32=aa;Zi.prototype.visitInt64=aa;Zi.prototype.visitUint8=aa;Zi.prototype.visitUint16=aa;Zi.prototype.visitUint32=aa;Zi.prototype.visitUint64=aa;Zi.prototype.visitFloat=aa;Zi.prototype.visitFloat16=aa;Zi.prototype.visitFloat32=aa;Zi.prototype.visitFloat64=aa;Zi.prototype.visitUtf8=aa;Zi.prototype.visitLargeUtf8=aa;Zi.prototype.visitBinary=aa;Zi.prototype.visitLargeBinary=aa;Zi.prototype.visitFixedSizeBinary=aa;Zi.prototype.visitDate=aa;Zi.prototype.visitDateDay=aa;Zi.prototype.visitDateMillisecond=aa;Zi.prototype.visitTimestamp=aa;Zi.prototype.visitTimestampSecond=aa;Zi.prototype.visitTimestampMillisecond=aa;Zi.prototype.visitTimestampMicrosecond=aa;Zi.prototype.visitTimestampNanosecond=aa;Zi.prototype.visitTime=aa;Zi.prototype.visitTimeSecond=aa;Zi.prototype.visitTimeMillisecond=aa;Zi.prototype.visitTimeMicrosecond=aa;Zi.prototype.visitTimeNanosecond=aa;Zi.prototype.visitDecimal=aa;Zi.prototype.visitList=aa;Zi.prototype.visitStruct=aa;Zi.prototype.visitUnion=aa;Zi.prototype.visitDenseUnion=aa;Zi.prototype.visitSparseUnion=aa;Zi.prototype.visitDictionary=aa;Zi.prototype.visitInterval=aa;Zi.prototype.visitIntervalDayTime=aa;Zi.prototype.visitIntervalYearMonth=aa;Zi.prototype.visitDuration=aa;Zi.prototype.visitDurationSecond=aa;Zi.prototype.visitDurationMillisecond=aa;Zi.prototype.visitDurationMicrosecond=aa;Zi.prototype.visitDurationNanosecond=aa;Zi.prototype.visitFixedSizeList=aa;Zi.prototype.visitMap=aa;const PO=new Zi;var zK;const FK={},jK={};class Rs{constructor(e){var r,n,i;const o=e[0]instanceof Rs?e.flatMap(a=>a.data):e;if(o.length===0||o.some(a=>!(a instanceof Gs)))throw new TypeError("Vector constructor expects an Array of Data instances.");const c=(r=o[0])===null||r===void 0?void 0:r.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:g,indexOf:v}=FK[c.typeId],x=o[0];this.isValid=k=>MO(x,k),this.get=k=>a(x,k),this.set=(k,I)=>g(x,k,I),this.indexOf=k=>v(x,k),this._offsets=[0,x.length];break}default:Object.setPrototypeOf(this,jK[c.typeId]),this._offsets=MK(o);break}this.data=o,this.type=c,this.stride=fg(c),this.numChildren=(i=(n=c.children)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,r)=>e+r.byteLength,0)}get nullable(){return kMt(this.data)}get nullCount(){return LK(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Qe[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(RO(e,this.length))}set(e,r){}indexOf(e,r){return-1}includes(e,r){return this.indexOf(e,r)>-1}[Symbol.iterator](){return PO.visit(this)}concat(...e){return new Rs(this.data.concat(e.flatMap(r=>r.data).flat(Number.POSITIVE_INFINITY)))}slice(e,r){return new Rs(RK(this,e,r,({data:n,_offsets:i},o,c)=>PK(n,i,o,c)))}toJSON(){return[...this]}toArray(){const{type:e,data:r,length:n,stride:i,ArrayType:o}=this;switch(e.typeId){case Qe.Int:case Qe.Float:case Qe.Decimal:case Qe.Time:case Qe.Timestamp:switch(r.length){case 0:return new o;case 1:return r[0].values.subarray(0,n*i);default:return r.reduce((c,{values:a,length:g})=>(c.array.set(a.subarray(0,g*i),c.offset),c.offset+=g*i,c),{array:new o(n*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var r;return this.getChildAt((r=this.type.children)===null||r===void 0?void 0:r.findIndex(n=>n.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Rs(this.data.map(({children:r})=>r[e])):null}get isMemoized(){return Ri.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Ri.isDictionary(this.type)){const e=new mC(this.data[0].dictionary),r=this.data.map(n=>{const i=n.clone();return i.dictionary=e,i});return new Rs(r)}return new mC(this)}unmemoize(){if(Ri.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),r=this.data.map(n=>{const i=n.clone();return i.dictionary=e,i});return new Rs(r)}return this}}zK=Symbol.toStringTag;Rs[zK]=(t=>{t.type=Ri.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(Qe).map(r=>Qe[r]).filter(r=>typeof r=="number"&&r!==Qe.NONE);for(const r of e){const n=xd.getVisitFnByTypeId(r),i=$f.getVisitFnByTypeId(r),o=pC.getVisitFnByTypeId(r);FK[r]={get:n,set:i,indexOf:o},jK[r]=Object.create(t,{isValid:{value:fC(MO)},get:{value:fC(xd.getVisitFnByTypeId(r))},set:{value:OK($f.getVisitFnByTypeId(r))},indexOf:{value:DK(pC.getVisitFnByTypeId(r))}})}return"Vector"})(Rs.prototype);class mC extends Rs{constructor(e){super(e.data);const r=this.get,n=this.set,i=this.slice,o=new Array(this.length);Object.defineProperty(this,"get",{value(c){const a=o[c];if(a!==void 0)return a;const g=r.call(this,c);return o[c]=g,g}}),Object.defineProperty(this,"set",{value(c,a){n.call(this,c,a),o[c]=a}}),Object.defineProperty(this,"slice",{value:(c,a)=>new mC(i.call(this,c,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Rs(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class IM{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,r,n,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(n),e.writeInt64(BigInt(r??0)),e.offset()}}class Xd{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFooter(e,r){return(r||new Xd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,r){return e.setPosition(e.position()+Ls),(r||new Xd).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tu.V1}schema(e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new sm).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}dictionaries(e,r){const n=this.bb.__offset(this.bb_pos,8);return n?(r||new IM).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,r){const n=this.bb.__offset(this.bb_pos,10);return n?(r||new IM).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,12);return n?(r||new ku).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,r){e.addFieldInt16(0,r,tu.V1)}static addSchema(e,r){e.addFieldOffset(1,r,0)}static addDictionaries(e,r){e.addFieldOffset(2,r,0)}static startDictionariesVector(e,r){e.startVector(24,r,8)}static addRecordBatches(e,r){e.addFieldOffset(3,r,0)}static startRecordBatchesVector(e,r){e.startVector(24,r,8)}static addCustomMetadata(e,r){e.addFieldOffset(4,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,r){e.finish(r)}static finishSizePrefixedFooterBuffer(e,r){e.finish(r,void 0,!0)}}class Ns{constructor(e=[],r,n,i=tu.V5){this.fields=e||[],this.metadata=r||new Map,n||(n=RM(this.fields)),this.dictionaries=n,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,r)=>`${r}: ${e}`).join(", ")} }>`}select(e){const r=new Set(e),n=this.fields.filter(i=>r.has(i.name));return new Ns(n,this.metadata)}selectAt(e){const r=e.map(n=>this.fields[n]).filter(Boolean);return new Ns(r,this.metadata)}assign(...e){const r=e[0]instanceof Ns?e[0]:Array.isArray(e[0])?new Ns(e[0]):new Ns(e),n=[...this.fields],i=oE(oE(new Map,this.metadata),r.metadata),o=r.fields.filter(a=>{const g=n.findIndex(v=>v.name===a.name);return~g?(n[g]=a.clone({metadata:oE(oE(new Map,n[g].metadata),a.metadata)}))&&!1:!0}),c=RM(o,new Map);return new Ns([...n,...o],i,new Map([...this.dictionaries,...c]))}}Ns.prototype.fields=null;Ns.prototype.metadata=null;Ns.prototype.dictionaries=null;class Bl{static new(...e){let[r,n,i,o]=e;return e[0]&&typeof e[0]=="object"&&({name:r}=e[0],n===void 0&&(n=e[0].type),i===void 0&&(i=e[0].nullable),o===void 0&&(o=e[0].metadata)),new Bl(`${r}`,n,i,o)}constructor(e,r,n=!1,i){this.name=e,this.type=r,this.nullable=n,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[r,n,i,o]=e;return!e[0]||typeof e[0]!="object"?[r=this.name,n=this.type,i=this.nullable,o=this.metadata]=e:{name:r=this.name,type:n=this.type,nullable:i=this.nullable,metadata:o=this.metadata}=e[0],Bl.new(r,n,i,o)}}Bl.prototype.type=null;Bl.prototype.name=null;Bl.prototype.nullable=null;Bl.prototype.metadata=null;function oE(t,e){return new Map([...t||new Map,...e||new Map])}function RM(t,e=new Map){for(let r=-1,n=t.length;++r<n;){const o=t[r].type;if(Ri.isDictionary(o)){if(!e.has(o.id))e.set(o.id,o.dictionary);else if(e.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&RM(o.children,e)}return e}var LMt=uY,MMt=cx;class Iw{static decode(e){e=new MMt(Io(e));const r=Xd.getRootAsFooter(e),n=Ns.decode(r.schema(),new Map,r.version());return new PMt(n,r)}static encode(e){const r=new LMt,n=Ns.encode(r,e.schema);Xd.startRecordBatchesVector(r,e.numRecordBatches);for(const c of[...e.recordBatches()].slice().reverse())Ny.encode(r,c);const i=r.endVector();Xd.startDictionariesVector(r,e.numDictionaries);for(const c of[...e.dictionaryBatches()].slice().reverse())Ny.encode(r,c);const o=r.endVector();return Xd.startFooter(r),Xd.addSchema(r,n),Xd.addVersion(r,tu.V5),Xd.addRecordBatches(r,i),Xd.addDictionaries(r,o),Xd.finishFooterBuffer(r,Xd.endFooter(r)),r.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,r=tu.V5,n,i){this.schema=e,this.version=r,n&&(this._recordBatches=n),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,r=-1,n=this.numRecordBatches;++r<n;)(e=this.getRecordBatch(r))&&(yield e)}*dictionaryBatches(){for(let e,r=-1,n=this.numDictionaries;++r<n;)(e=this.getDictionaryBatch(r))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class PMt extends Iw{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,r){super(e,r.version()),this._footer=r}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const r=this._footer.recordBatches(e);if(r)return Ny.decode(r)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const r=this._footer.dictionaries(e);if(r)return Ny.decode(r)}return null}}class Ny{static decode(e){return new Ny(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,r){const{metaDataLength:n}=r,i=BigInt(r.offset),o=BigInt(r.bodyLength);return IM.createBlock(e,i,n,o)}constructor(e,r,n){this.metaDataLength=e,this.offset=dl(n),this.bodyLength=dl(r)}}const vc=Object.freeze({done:!0,value:void 0});class SV{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class OO{tee(){return this._getDOMStream().tee()}pipe(e,r){return this._getNodeStream().pipe(e,r)}pipeTo(e,r){return this._getDOMStream().pipeTo(e,r)}pipeThrough(e,r){return this._getDOMStream().pipeThrough(e,r)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class OMt extends OO{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return va(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(vc);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return _f.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return _f.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return va(this,void 0,void 0,function*(){return yield this.abort(e),vc})}return(e){return va(this,void 0,void 0,function*(){return yield this.close(),vc})}read(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((r,n)=>{this.resolvers.push({resolve:r,reject:n})}):Promise.resolve(vc)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class UE extends OMt{write(e){if((e=Io(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?xM(this.toUint8Array(!0)):this.toUint8Array(!1).then(xM)}toUint8Array(e=!1){return e?Dm(this._values)[0]:va(this,void 0,void 0,function*(){var r,n,i,o;const c=[];let a=0;try{for(var g=!0,v=Zv(this),x;x=yield v.next(),r=x.done,!r;g=!0){o=x.value,g=!1;const k=o;c.push(k),a+=k.byteLength}}catch(k){n={error:k}}finally{try{!g&&!r&&(i=v.return)&&(yield i.call(v))}finally{if(n)throw n.error}}return Dm(c,a)[0]})}}class gC{constructor(e){e&&(this.source=new DMt(_f.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class dx{constructor(e){e instanceof dx?this.source=e.source:e instanceof UE?this.source=new Cv(_f.fromAsyncIterable(e)):oY(e)?this.source=new Cv(_f.fromNodeStream(e)):EO(e)?this.source=new Cv(_f.fromDOMStream(e)):aY(e)?this.source=new Cv(_f.fromDOMStream(e.body)):dS(e)?this.source=new Cv(_f.fromIterable(e)):l0(e)?this.source=new Cv(_f.fromAsyncIterable(e)):Ax(e)&&(this.source=new Cv(_f.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class DMt{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,r="read"){return this.source.next({cmd:r,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||vc)}return(e){return Object.create(this.source.return&&this.source.return(e)||vc)}}class Cv{constructor(e){this.source=e,this._closedPromise=new Promise(r=>this._closedPromiseResolve=r)}cancel(e){return va(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return va(this,arguments,void 0,function*(r,n="read"){return yield this.source.next({cmd:n,size:r})})}throw(e){return va(this,void 0,void 0,function*(){const r=this.source.throw&&(yield this.source.throw(e))||vc;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(r)})}return(e){return va(this,void 0,void 0,function*(){const r=this.source.return&&(yield this.source.return(e))||vc;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(r)})}}class EV extends gC{constructor(e,r){super(),this.position=0,this.buffer=Io(e),this.size=r===void 0?this.buffer.byteLength:r}readInt32(e){const{buffer:r,byteOffset:n}=this.readAt(e,4);return new DataView(r,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:r,size:n,position:i}=this;return r&&i<n?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(n,i+Math.min(n-i,e)),r.subarray(i,this.position)):null}readAt(e,r){const n=this.buffer,i=Math.min(this.size,e+r);return n?n.subarray(e,i):new Uint8Array(r)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class yC extends dx{constructor(e,r){super(),this.position=0,this._handle=e,typeof r=="number"?this.size=r:this._pending=va(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return va(this,void 0,void 0,function*(){const{buffer:r,byteOffset:n}=yield this.readAt(e,4);return new DataView(r,n).getInt32(0,!0)})}seek(e){return va(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return va(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:n,position:i}=this;if(r&&i<n){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let o=i,c=0,a=0;const g=Math.min(n,o+Math.min(n-o,e)),v=new Uint8Array(Math.max(0,(this.position=g)-o));for(;(o+=a)<g&&(c+=a)<v.byteLength;)({bytesRead:a}=yield r.read(v,c,v.byteLength-c,o));return v}return null})}readAt(e,r){return va(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i}=this;if(n&&e+r<i){const o=Math.min(i,e+r),c=new Uint8Array(o-e);return(yield n.read(c,0,r,e)).buffer}return new Uint8Array(r)})}close(){return va(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return va(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return va(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const BMt=65536;function T_(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const fx=8,DO=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class $K{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const r=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=r[3]*n[3];this.buffer[0]=i&65535;let o=i>>>16;return i=r[2]*n[3],o+=i,i=r[3]*n[2]>>>0,o+=i,this.buffer[0]+=o<<16,this.buffer[1]=o>>>0<i?BMt:0,this.buffer[1]+=o>>>16,this.buffer[1]+=r[1]*n[3]+r[2]*n[2]+r[3]*n[1],this.buffer[1]+=r[0]*n[3]+r[1]*n[2]+r[2]*n[1]+r[3]*n[0]<<16,this}_plus(e){const r=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],r<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=r}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${T_(this.buffer[1])} ${T_(this.buffer[0])}`}}class Hs extends $K{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,r=new Uint32Array(2)){return Hs.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(2)){return Hs.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(2)){const n=e.length,i=new Hs(r);for(let o=0;o<n;){const c=fx<n-o?fx:n-o,a=new Hs(new Uint32Array([Number.parseInt(e.slice(o,o+c),10),0])),g=new Hs(new Uint32Array([DO[c],0]));i.times(g),i.plus(a),o+=c}return i}static convertArray(e){const r=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)Hs.from(e[n],new Uint32Array(r.buffer,r.byteOffset+2*n*4,2));return r}static multiply(e,r){return new Hs(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new Hs(new Uint32Array(e.buffer)).plus(r)}}class ud extends $K{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const r=this.buffer[1]<<0,n=e.buffer[1]<<0;return r<n||r===n&&this.buffer[0]<e.buffer[0]}static from(e,r=new Uint32Array(2)){return ud.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(2)){return ud.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(2)){const n=e.startsWith("-"),i=e.length,o=new ud(r);for(let c=n?1:0;c<i;){const a=fx<i-c?fx:i-c,g=new ud(new Uint32Array([Number.parseInt(e.slice(c,c+a),10),0])),v=new ud(new Uint32Array([DO[a],0]));o.times(v),o.plus(g),c+=a}return n?o.negate():o}static convertArray(e){const r=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)ud.from(e[n],new Uint32Array(r.buffer,r.byteOffset+2*n*4,2));return r}static multiply(e,r){return new ud(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new ud(new Uint32Array(e.buffer)).plus(r)}}class lm{constructor(e){this.buffer=e}high(){return new ud(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ud(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const r=new Hs(new Uint32Array([this.buffer[3],0])),n=new Hs(new Uint32Array([this.buffer[2],0])),i=new Hs(new Uint32Array([this.buffer[1],0])),o=new Hs(new Uint32Array([this.buffer[0],0])),c=new Hs(new Uint32Array([e.buffer[3],0])),a=new Hs(new Uint32Array([e.buffer[2],0])),g=new Hs(new Uint32Array([e.buffer[1],0])),v=new Hs(new Uint32Array([e.buffer[0],0]));let x=Hs.multiply(o,v);this.buffer[0]=x.low();const k=new Hs(new Uint32Array([x.high(),0]));return x=Hs.multiply(i,v),k.plus(x),x=Hs.multiply(o,g),k.plus(x),this.buffer[1]=k.low(),this.buffer[3]=k.lessThan(x)?1:0,this.buffer[2]=k.high(),new Hs(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Hs.multiply(n,v)).plus(Hs.multiply(i,g)).plus(Hs.multiply(o,a)),this.buffer[3]+=Hs.multiply(r,v).plus(Hs.multiply(n,g)).plus(Hs.multiply(i,a)).plus(Hs.multiply(o,c)).low(),this}plus(e){const r=new Uint32Array(4);return r[3]=this.buffer[3]+e.buffer[3]>>>0,r[2]=this.buffer[2]+e.buffer[2]>>>0,r[1]=this.buffer[1]+e.buffer[1]>>>0,r[0]=this.buffer[0]+e.buffer[0]>>>0,r[0]<this.buffer[0]>>>0&&++r[1],r[1]<this.buffer[1]>>>0&&++r[2],r[2]<this.buffer[2]>>>0&&++r[3],this.buffer[3]=r[3],this.buffer[2]=r[2],this.buffer[1]=r[1],this.buffer[0]=r[0],this}hex(){return`${T_(this.buffer[3])} ${T_(this.buffer[2])} ${T_(this.buffer[1])} ${T_(this.buffer[0])}`}static multiply(e,r){return new lm(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new lm(new Uint32Array(e.buffer)).plus(r)}static from(e,r=new Uint32Array(4)){return lm.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(4)){return lm.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(4)){const n=e.startsWith("-"),i=e.length,o=new lm(r);for(let c=n?1:0;c<i;){const a=fx<i-c?fx:i-c,g=new lm(new Uint32Array([Number.parseInt(e.slice(c,c+a),10),0,0,0])),v=new lm(new Uint32Array([DO[a],0,0,0]));o.times(v),o.plus(g),c+=a}return n?o.negate():o}static convertArray(e){const r=new Uint32Array(e.length*4);for(let n=-1,i=e.length;++n<i;)lm.from(e[n],new Uint32Array(r.buffer,r.byteOffset+16*n,4));return r}}class VK extends Qa{constructor(e,r,n,i,o=tu.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=r,this.buffers=n,this.dictionaries=i,this.metadataVersion=o}visit(e){return super.visit(e instanceof Bl?e.type:e)}visitNull(e,{length:r}=this.nextFieldNode()){return no({type:e,length:r})}visitBool(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitInt(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFloat(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitUtf8(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDate(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTimestamp(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTime(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDecimal(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitList(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),children:this.visitMany(e.children)})}visitUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return this.metadataVersion<tu.V5&&this.readNullBitmap(e,n),e.mode===Ph.Sparse?this.visitSparseUnion(e,{length:r,nullCount:n}):this.visitDenseUnion(e,{length:r,nullCount:n})}visitDenseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDuration(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFixedSizeList(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),child:this.visit(e.children[0])})}visitMap(e,{length:r,nullCount:n}=this.nextFieldNode()){return no({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,r,n=this.nextBufferRange()){return r>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,r){return this.readData(e,r)}readTypeIds(e,r){return this.readData(e,r)}readData(e,{length:r,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+r)}readDictionary(e){return this.dictionaries.get(e.id)}}class zMt extends VK{constructor(e,r,n,i,o){super(new Uint8Array(0),r,n,i,o),this.sources=e}readNullBitmap(e,r,{offset:n}=this.nextBufferRange()){return r<=0?new Uint8Array(0):dC(this.sources[n])}readOffsets(e,{offset:r}=this.nextBufferRange()){return Xs(Uint8Array,Xs(e.OffsetArrayType,this.sources[r]))}readTypeIds(e,{offset:r}=this.nextBufferRange()){return Xs(Uint8Array,Xs(e.ArrayType,this.sources[r]))}readData(e,{offset:r}=this.nextBufferRange()){const{sources:n}=this;return Ri.isTimestamp(e)||(Ri.isInt(e)||Ri.isTime(e))&&e.bitWidth===64||Ri.isDuration(e)||Ri.isDate(e)&&e.unit===jf.MILLISECOND?Xs(Uint8Array,ud.convertArray(n[r])):Ri.isDecimal(e)?Xs(Uint8Array,lm.convertArray(n[r])):Ri.isBinary(e)||Ri.isLargeBinary(e)||Ri.isFixedSizeBinary(e)?FMt(n[r]):Ri.isBool(e)?dC(n[r]):Ri.isUtf8(e)||Ri.isLargeUtf8(e)?SO(n[r].join("")):Xs(Uint8Array,Xs(e.ArrayType,n[r].map(i=>+i)))}}function FMt(t){const e=t.join(""),r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n>>1]=Number.parseInt(e.slice(n,n+2),16);return r}class Qi extends Qa{compareSchemas(e,r){return e===r||r instanceof e.constructor&&this.compareManyFields(e.fields,r.fields)}compareManyFields(e,r){return e===r||Array.isArray(e)&&Array.isArray(r)&&e.length===r.length&&e.every((n,i)=>this.compareFields(n,r[i]))}compareFields(e,r){return e===r||r instanceof e.constructor&&e.name===r.name&&e.nullable===r.nullable&&this.visit(e.type,r.type)}}function Jh(t,e){return e instanceof t.constructor}function T0(t,e){return t===e||Jh(t,e)}function Og(t,e){return t===e||Jh(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function WA(t,e){return t===e||Jh(t,e)&&t.precision===e.precision}function jMt(t,e){return t===e||Jh(t,e)&&t.byteWidth===e.byteWidth}function BO(t,e){return t===e||Jh(t,e)&&t.unit===e.unit}function fS(t,e){return t===e||Jh(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function pS(t,e){return t===e||Jh(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function $Mt(t,e){return t===e||Jh(t,e)&&t.children.length===e.children.length&&Ly.compareManyFields(t.children,e.children)}function VMt(t,e){return t===e||Jh(t,e)&&t.children.length===e.children.length&&Ly.compareManyFields(t.children,e.children)}function zO(t,e){return t===e||Jh(t,e)&&t.mode===e.mode&&t.typeIds.every((r,n)=>r===e.typeIds[n])&&Ly.compareManyFields(t.children,e.children)}function UMt(t,e){return t===e||Jh(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Ly.visit(t.indices,e.indices)&&Ly.visit(t.dictionary,e.dictionary)}function FO(t,e){return t===e||Jh(t,e)&&t.unit===e.unit}function mS(t,e){return t===e||Jh(t,e)&&t.unit===e.unit}function qMt(t,e){return t===e||Jh(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Ly.compareManyFields(t.children,e.children)}function GMt(t,e){return t===e||Jh(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Ly.compareManyFields(t.children,e.children)}Qi.prototype.visitNull=T0;Qi.prototype.visitBool=T0;Qi.prototype.visitInt=Og;Qi.prototype.visitInt8=Og;Qi.prototype.visitInt16=Og;Qi.prototype.visitInt32=Og;Qi.prototype.visitInt64=Og;Qi.prototype.visitUint8=Og;Qi.prototype.visitUint16=Og;Qi.prototype.visitUint32=Og;Qi.prototype.visitUint64=Og;Qi.prototype.visitFloat=WA;Qi.prototype.visitFloat16=WA;Qi.prototype.visitFloat32=WA;Qi.prototype.visitFloat64=WA;Qi.prototype.visitUtf8=T0;Qi.prototype.visitLargeUtf8=T0;Qi.prototype.visitBinary=T0;Qi.prototype.visitLargeBinary=T0;Qi.prototype.visitFixedSizeBinary=jMt;Qi.prototype.visitDate=BO;Qi.prototype.visitDateDay=BO;Qi.prototype.visitDateMillisecond=BO;Qi.prototype.visitTimestamp=fS;Qi.prototype.visitTimestampSecond=fS;Qi.prototype.visitTimestampMillisecond=fS;Qi.prototype.visitTimestampMicrosecond=fS;Qi.prototype.visitTimestampNanosecond=fS;Qi.prototype.visitTime=pS;Qi.prototype.visitTimeSecond=pS;Qi.prototype.visitTimeMillisecond=pS;Qi.prototype.visitTimeMicrosecond=pS;Qi.prototype.visitTimeNanosecond=pS;Qi.prototype.visitDecimal=T0;Qi.prototype.visitList=$Mt;Qi.prototype.visitStruct=VMt;Qi.prototype.visitUnion=zO;Qi.prototype.visitDenseUnion=zO;Qi.prototype.visitSparseUnion=zO;Qi.prototype.visitDictionary=UMt;Qi.prototype.visitInterval=FO;Qi.prototype.visitIntervalDayTime=FO;Qi.prototype.visitIntervalYearMonth=FO;Qi.prototype.visitDuration=mS;Qi.prototype.visitDurationSecond=mS;Qi.prototype.visitDurationMillisecond=mS;Qi.prototype.visitDurationMicrosecond=mS;Qi.prototype.visitDurationNanosecond=mS;Qi.prototype.visitFixedSizeList=qMt;Qi.prototype.visitMap=GMt;const Ly=new Qi;function NM(t,e){return Ly.compareSchemas(t,e)}function LN(t,e){return HMt(t,e.map(r=>r.data.concat()))}function HMt(t,e){const r=[...t.fields],n=[],i={numBatches:e.reduce((k,I)=>Math.max(k,I.length),0)};let o=0,c=0,a=-1;const g=e.length;let v,x=[];for(;i.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,a=-1;++a<g;)x[a]=v=e[a].shift(),c=Math.min(c,v?v.length:c);Number.isFinite(c)&&(x=XMt(r,c,x,e,i),c>0&&(n[o++]=no({type:new Kh(r),length:c,nullCount:0,children:x.slice()})))}return[t=t.assign(r),n.map(k=>new dd(t,k))]}function XMt(t,e,r,n,i){var o;const c=(e+63&-64)>>3;for(let a=-1,g=n.length;++a<g;){const v=r[a],x=v?.length;if(x>=e)x===e?r[a]=v:(r[a]=v.slice(0,e),i.numBatches=Math.max(i.numBatches,n[a].unshift(v.slice(e,x-e))));else{const k=t[a];t[a]=k.clone({nullable:!0}),r[a]=(o=v?._changeLengthAndBackfillNullBitmap(e))!==null&&o!==void 0?o:no({type:k.type,length:e,nullCount:e,nullBitmap:new Uint8Array(c)})}}return r}var UK;class Yh{constructor(...e){var r,n;if(e.length===0)return this.batches=[],this.schema=new Ns([]),this._offsets=[0],this;let i,o;e[0]instanceof Ns&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(o=e.pop());const c=g=>{if(g){if(g instanceof dd)return[g];if(g instanceof Yh)return g.batches;if(g instanceof Gs){if(g.type instanceof Kh)return[new dd(new Ns(g.type.children),g)]}else{if(Array.isArray(g))return g.flatMap(v=>c(v));if(typeof g[Symbol.iterator]=="function")return[...g].flatMap(v=>c(v));if(typeof g=="object"){const v=Object.keys(g),x=v.map(S=>new Rs([g[S]])),k=i??new Ns(v.map((S,P)=>new Bl(String(S),x[P].type,x[P].nullable))),[,I]=LN(k,x);return I.length===0?[new dd(g)]:I}}}return[]},a=e.flatMap(g=>c(g));if(i=(n=i??((r=a[0])===null||r===void 0?void 0:r.schema))!==null&&n!==void 0?n:new Ns([]),!(i instanceof Ns))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const g of a){if(!(g instanceof dd))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!NM(i,g.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=o??MK(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,r)=>e+r.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=LK(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(RO(e,this.numRows))}set(e,r){}indexOf(e,r){return-1}[Symbol.iterator](){return this.batches.length>0?PO.visit(new Rs(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const r=this.schema,n=this.data.concat(e.flatMap(({data:i})=>i));return new Yh(r,n.map(i=>new dd(r,i)))}slice(e,r){const n=this.schema;[e,r]=RK({length:this.numRows},e,r);const i=PK(this.data,this._offsets,e,r);return new Yh(n,i.map(o=>new dd(n,o)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(r=>r.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const r=this.data.map(n=>n.children[e]);if(r.length===0){const{type:n}=this.schema.fields[e],i=no({type:n,length:0,nullCount:0});r.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Rs(r)}return null}setChild(e,r){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===e),r)}setChildAt(e,r){let n=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){r||(r=new Rs([no({type:new Ry,length:this.numRows})]));const o=n.fields.slice(),c=o[e].clone({type:r.type}),a=this.schema.fields.map((g,v)=>this.getChildAt(v));[o[e],a[e]]=[c,r],[n,i]=LN(n,a)}return new Yh(n,i)}select(e){const r=this.schema.fields.reduce((n,i,o)=>n.set(i.name,o),new Map);return this.selectAt(e.map(n=>r.get(n)).filter(n=>n>-1))}selectAt(e){const r=this.schema.selectAt(e),n=this.batches.map(i=>i.selectAt(e));return new Yh(r,n)}assign(e){const r=this.schema.fields,[n,i]=e.schema.fields.reduce((a,g,v)=>{const[x,k]=a,I=r.findIndex(S=>S.name===g.name);return~I?k[I]=v:x.push(v),a},[[],[]]),o=this.schema.assign(e.schema),c=[...r.map((a,g)=>[g,i[g]]).map(([a,g])=>g===void 0?this.getChildAt(a):e.getChildAt(g)),...n.map(a=>e.getChildAt(a))].filter(Boolean);return new Yh(...LN(o,c))}}UK=Symbol.toStringTag;Yh[UK]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=fC(MO),t.get=fC(xd.getVisitFn(Qe.Struct)),t.set=OK($f.getVisitFn(Qe.Struct)),t.indexOf=DK(pC.getVisitFn(Qe.Struct)),"Table"))(Yh.prototype);var qK;let dd=class N2{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Ns))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=no({nullCount:0,type:new Kh(this.schema.fields),children:this.schema.fields.map(r=>no({type:r.type,nullCount:0}))})]=e,!(this.data instanceof Gs))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=TV(this.schema,this.data.children);break}case 1:{const[r]=e,{fields:n,children:i,length:o}=Object.keys(r).reduce((g,v,x)=>(g.children[x]=r[v],g.length=Math.max(g.length,r[v].length),g.fields[x]=Bl.new({name:v,type:r[v].type,nullable:!0}),g),{length:0,fields:new Array,children:new Array}),c=new Ns(n),a=no({type:new Kh(n),length:o,children:i,nullCount:0});[this.schema,this.data]=TV(c,a.children,o);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=GK(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return xd.visit(this.data,e)}at(e){return this.get(RO(e,this.numRows))}set(e,r){return $f.visit(this.data,e,r)}indexOf(e,r){return pC.visit(this.data,e,r)}[Symbol.iterator](){return PO.visit(new Rs([this.data]))}toArray(){return[...this]}concat(...e){return new Yh(this.schema,[this,...e])}slice(e,r){const[n]=new Rs([this.data]).slice(e,r).data;return new N2(this.schema,n)}getChild(e){var r;return this.getChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(n=>n.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Rs([this.data.children[e]]):null}setChild(e,r){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===e),r)}setChildAt(e,r){let n=this.schema,i=this.data;if(e>-1&&e<this.numCols){r||(r=new Rs([no({type:new Ry,length:this.numRows})]));const o=n.fields.slice(),c=i.children.slice(),a=o[e].clone({type:r.type});[o[e],c[e]]=[a,r.data[0]],n=new Ns(o,new Map(this.schema.metadata)),i=no({type:new Kh(o),children:c})}return new N2(n,i)}select(e){const r=this.schema.select(e),n=new Kh(r.fields),i=[];for(const o of e){const c=this.schema.fields.findIndex(a=>a.name===o);~c&&(i[c]=this.data.children[c])}return new N2(r,no({type:n,length:this.numRows,children:i}))}selectAt(e){const r=this.schema.selectAt(e),n=e.map(o=>this.data.children[o]).filter(Boolean),i=no({type:new Kh(r.fields),length:this.numRows,children:n});return new N2(r,i)}};qK=Symbol.toStringTag;dd[qK]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(dd.prototype);function TV(t,e,r=e.reduce((n,i)=>Math.max(n,i.length),0)){var n;const i=[...t.fields],o=[...e],c=(r+63&-64)>>3;for(const[a,g]of t.fields.entries()){const v=e[a];(!v||v.length!==r)&&(i[a]=g.clone({nullable:!0}),o[a]=(n=v?._changeLengthAndBackfillNullBitmap(r))!==null&&n!==void 0?n:no({type:g.type,length:r,nullCount:r,nullBitmap:new Uint8Array(c)}))}return[t.assign(i),no({type:new Kh(i),length:r,children:o})]}function GK(t,e,r=new Map){var n,i;if(((n=t?.length)!==null&&n!==void 0?n:0)>0&&t?.length===e?.length)for(let o=-1,c=t.length;++o<c;){const{type:a}=t[o],g=e[o];for(const v of[g,...((i=g?.dictionary)===null||i===void 0?void 0:i.data)||[]])GK(a.children,v?.children,r);if(Ri.isDictionary(a)){const{id:v}=a;if(!r.has(v))g?.dictionary&&r.set(v,g.dictionary);else if(r.get(v)!==g.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return r}class jO extends dd{constructor(e){const r=e.fields.map(i=>no({type:i.type})),n=no({type:new Kh(e.fields),nullCount:0,children:r});super(e,n)}}let ly=class am{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsMessage(e,r){return(r||new am).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,r){return e.setPosition(e.position()+Ls),(r||new am).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tu.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):ss.NONE}header(e){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__union(e,this.bb_pos+r):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,12);return n?(r||new ku).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,r){e.addFieldInt16(0,r,tu.V1)}static addHeaderType(e,r){e.addFieldInt8(1,r,ss.NONE)}static addHeader(e,r){e.addFieldOffset(2,r,0)}static addBodyLength(e,r){e.addFieldInt64(3,r,BigInt("0"))}static addCustomMetadata(e,r){e.addFieldOffset(4,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,r){e.finish(r)}static finishSizePrefixedMessageBuffer(e,r){e.finish(r,void 0,!0)}static createMessage(e,r,n,i,o,c){return am.startMessage(e),am.addVersion(e,r),am.addHeaderType(e,n),am.addHeader(e,i),am.addBodyLength(e,o),am.addCustomMetadata(e,c),am.endMessage(e)}};class WMt extends Qa{visit(e,r){return e==null||r==null?void 0:super.visit(e,r)}visitNull(e,r){return gV.startNull(r),gV.endNull(r)}visitInt(e,r){return Yd.startInt(r),Yd.addBitWidth(r,e.bitWidth),Yd.addIsSigned(r,e.isSigned),Yd.endInt(r)}visitFloat(e,r){return ym.startFloatingPoint(r),ym.addPrecision(r,e.precision),ym.endFloatingPoint(r)}visitBinary(e,r){return hV.startBinary(r),hV.endBinary(r)}visitLargeBinary(e,r){return fV.startLargeBinary(r),fV.endLargeBinary(r)}visitBool(e,r){return dV.startBool(r),dV.endBool(r)}visitUtf8(e,r){return yV.startUtf8(r),yV.endUtf8(r)}visitLargeUtf8(e,r){return pV.startLargeUtf8(r),pV.endLargeUtf8(r)}visitDecimal(e,r){return u_.startDecimal(r),u_.addScale(r,e.scale),u_.addPrecision(r,e.precision),u_.addBitWidth(r,e.bitWidth),u_.endDecimal(r)}visitDate(e,r){return BE.startDate(r),BE.addUnit(r,e.unit),BE.endDate(r)}visitTime(e,r){return Ef.startTime(r),Ef.addUnit(r,e.unit),Ef.addBitWidth(r,e.bitWidth),Ef.endTime(r)}visitTimestamp(e,r){const n=e.timezone&&r.createString(e.timezone)||void 0;return Tf.startTimestamp(r),Tf.addUnit(r,e.unit),n!==void 0&&Tf.addTimezone(r,n),Tf.endTimestamp(r)}visitInterval(e,r){return vm.startInterval(r),vm.addUnit(r,e.unit),vm.endInterval(r)}visitDuration(e,r){return zE.startDuration(r),zE.addUnit(r,e.unit),zE.endDuration(r)}visitList(e,r){return mV.startList(r),mV.endList(r)}visitStruct(e,r){return Uv.startStruct_(r),Uv.endStruct_(r)}visitUnion(e,r){hd.startTypeIdsVector(r,e.typeIds.length);const n=hd.createTypeIdsVector(r,e.typeIds);return hd.startUnion(r),hd.addMode(r,e.mode),hd.addTypeIds(r,n),hd.endUnion(r)}visitDictionary(e,r){const n=this.visit(e.indices,r);return gg.startDictionaryEncoding(r),gg.addId(r,BigInt(e.id)),gg.addIsOrdered(r,e.isOrdered),n!==void 0&&gg.addIndexType(r,n),gg.endDictionaryEncoding(r)}visitFixedSizeBinary(e,r){return FE.startFixedSizeBinary(r),FE.addByteWidth(r,e.byteWidth),FE.endFixedSizeBinary(r)}visitFixedSizeList(e,r){return jE.startFixedSizeList(r),jE.addListSize(r,e.listSize),jE.endFixedSizeList(r)}visitMap(e,r){return $E.startMap(r),$E.addKeysSorted(r,e.keysSorted),$E.endMap(r)}}const MN=new WMt;function YMt(t,e=new Map){return new Ns(ZMt(t,e),qE(t.metadata),e)}function HK(t){return new sf(t.count,XK(t.columns),WK(t.columns))}function KMt(t){return new zm(HK(t.data),t.id,t.isDelta)}function ZMt(t,e){return(t.fields||[]).filter(Boolean).map(r=>Bl.fromJSON(r,e))}function CV(t,e){return(t.children||[]).filter(Boolean).map(r=>Bl.fromJSON(r,e))}function XK(t){return(t||[]).reduce((e,r)=>[...e,new My(r.count,QMt(r.VALIDITY)),...XK(r.children)],[])}function WK(t,e=[]){for(let r=-1,n=(t||[]).length;++r<n;){const i=t[r];i.VALIDITY&&e.push(new Tm(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new Tm(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new Tm(e.length,i.OFFSET.length)),i.DATA&&e.push(new Tm(e.length,i.DATA.length)),e=WK(i.children,e)}return e}function QMt(t){return(t||[]).reduce((e,r)=>e+ +(r===0),0)}function JMt(t,e){let r,n,i,o,c,a;return!e||!(o=t.dictionary)?(c=kV(t,CV(t,e)),i=new Bl(t.name,c,t.nullable,qE(t.metadata))):e.has(r=o.id)?(n=(n=o.indexType)?AV(n):new kw,a=new hx(e.get(r),n,r,o.isOrdered),i=new Bl(t.name,a,t.nullable,qE(t.metadata))):(n=(n=o.indexType)?AV(n):new kw,e.set(r,c=kV(t,CV(t,e))),a=new hx(c,n,r,o.isOrdered),i=new Bl(t.name,a,t.nullable,qE(t.metadata))),i||null}function qE(t=[]){return new Map(t.map(({key:e,value:r})=>[e,r]))}function AV(t){return new c0(t.isSigned,t.bitWidth)}function kV(t,e){const r=t.type.name;switch(r){case"NONE":return new Ry;case"null":return new Ry;case"binary":return new YT;case"largebinary":return new KT;case"utf8":return new ZT;case"largeutf8":return new QT;case"bool":return new JT;case"list":return new oC((e||[])[0]);case"struct":return new Kh(e||[]);case"struct_":return new Kh(e||[])}switch(r){case"int":{const n=t.type;return new c0(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=t.type;return new WT(Mh[n.precision])}case"decimal":{const n=t.type;return new tC(n.scale,n.precision,n.bitWidth)}case"date":{const n=t.type;return new eC(jf[n.unit])}case"time":{const n=t.type;return new rC(ta[n.unit],n.bitWidth)}case"timestamp":{const n=t.type;return new nC(ta[n.unit],n.timezone)}case"interval":{const n=t.type;return new iC(Bm[n.unit])}case"duration":{const n=t.type;return new aC(ta[n.unit])}case"union":{const n=t.type,[i,...o]=(n.mode+"").toLowerCase(),c=i.toUpperCase()+o.join("");return new sC(Ph[c],n.typeIds||[],e||[])}case"fixedsizebinary":{const n=t.type;return new lC(n.byteWidth)}case"fixedsizelist":{const n=t.type;return new cC(n.listSize,(e||[])[0])}case"map":{const n=t.type;return new uC((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${r}"`)}var tPt=uY,ePt=cx;class Zh{static fromJSON(e,r){const n=new Zh(0,tu.V5,r);return n._createHeader=rPt(e,r),n}static decode(e){e=new ePt(Io(e));const r=ly.getRootAsMessage(e),n=r.bodyLength(),i=r.version(),o=r.headerType(),c=new Zh(n,i,o);return c._createHeader=nPt(r,o),c}static encode(e){const r=new tPt;let n=-1;return e.isSchema()?n=Ns.encode(r,e.header()):e.isRecordBatch()?n=sf.encode(r,e.header()):e.isDictionaryBatch()&&(n=zm.encode(r,e.header())),ly.startMessage(r),ly.addVersion(r,tu.V5),ly.addHeader(r,n),ly.addHeaderType(r,e.headerType),ly.addBodyLength(r,BigInt(e.bodyLength)),ly.finishMessageBuffer(r,ly.endMessage(r)),r.asUint8Array()}static from(e,r=0){if(e instanceof Ns)return new Zh(0,tu.V5,ss.Schema,e);if(e instanceof sf)return new Zh(r,tu.V5,ss.RecordBatch,e);if(e instanceof zm)return new Zh(r,tu.V5,ss.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ss.Schema}isRecordBatch(){return this.headerType===ss.RecordBatch}isDictionaryBatch(){return this.headerType===ss.DictionaryBatch}constructor(e,r,n,i){this._version=r,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=dl(e)}}class sf{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,r,n){this._nodes=r,this._buffers=n,this._length=dl(e)}}class zm{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,r,n=!1){this._data=e,this._isDelta=n,this._id=dl(r)}}class Tm{constructor(e,r){this.offset=dl(e),this.length=dl(r)}}class My{constructor(e,r){this.length=dl(e),this.nullCount=dl(r)}}function rPt(t,e){return(()=>{switch(e){case ss.Schema:return Ns.fromJSON(t);case ss.RecordBatch:return sf.fromJSON(t);case ss.DictionaryBatch:return zm.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${ss[e]}, type: ${e} }`)})}function nPt(t,e){return(()=>{switch(e){case ss.Schema:return Ns.decode(t.header(new sm),new Map,t.version());case ss.RecordBatch:return sf.decode(t.header(new hg),t.version());case ss.DictionaryBatch:return zm.decode(t.header(new l_),t.version())}throw new Error(`Unrecognized Message type: { name: ${ss[e]}, type: ${e} }`)})}Bl.encode=pPt;Bl.decode=dPt;Bl.fromJSON=JMt;Ns.encode=fPt;Ns.decode=iPt;Ns.fromJSON=YMt;sf.encode=mPt;sf.decode=aPt;sf.fromJSON=HK;zm.encode=gPt;zm.decode=oPt;zm.fromJSON=KMt;My.encode=yPt;My.decode=lPt;Tm.encode=vPt;Tm.decode=sPt;function iPt(t,e=new Map,r=tu.V5){const n=hPt(t,e);return new Ns(n,GE(t),e,r)}function aPt(t,e=tu.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new sf(t.length(),cPt(t),uPt(t,e))}function oPt(t,e=tu.V5){return new zm(sf.decode(t.data(),e),t.id(),t.isDelta())}function sPt(t){return new Tm(t.offset(),t.length())}function lPt(t){return new My(t.length(),t.nullCount())}function cPt(t){const e=[];for(let r,n=-1,i=-1,o=t.nodesLength();++n<o;)(r=t.nodes(n))&&(e[++i]=My.decode(r));return e}function uPt(t,e){const r=[];for(let n,i=-1,o=-1,c=t.buffersLength();++i<c;)(n=t.buffers(i))&&(e<tu.V4&&(n.bb_pos+=8*(i+1)),r[++o]=Tm.decode(n));return r}function hPt(t,e){const r=[];for(let n,i=-1,o=-1,c=t.fieldsLength();++i<c;)(n=t.fields(i))&&(r[++o]=Bl.decode(n,e));return r}function IV(t,e){const r=[];for(let n,i=-1,o=-1,c=t.childrenLength();++i<c;)(n=t.children(i))&&(r[++o]=Bl.decode(n,e));return r}function dPt(t,e){let r,n,i,o,c,a;return!e||!(a=t.dictionary())?(i=NV(t,IV(t,e)),n=new Bl(t.name(),i,t.nullable(),GE(t))):e.has(r=dl(a.id()))?(o=(o=a.indexType())?RV(o):new kw,c=new hx(e.get(r),o,r,a.isOrdered()),n=new Bl(t.name(),c,t.nullable(),GE(t))):(o=(o=a.indexType())?RV(o):new kw,e.set(r,i=NV(t,IV(t,e))),c=new hx(i,o,r,a.isOrdered()),n=new Bl(t.name(),c,t.nullable(),GE(t))),n||null}function GE(t){const e=new Map;if(t)for(let r,n,i=-1,o=Math.trunc(t.customMetadataLength());++i<o;)(r=t.customMetadata(i))&&(n=r.key())!=null&&e.set(n,r.value());return e}function RV(t){return new c0(t.isSigned(),t.bitWidth())}function NV(t,e){const r=t.typeType();switch(r){case Sl.NONE:return new Ry;case Sl.Null:return new Ry;case Sl.Binary:return new YT;case Sl.LargeBinary:return new KT;case Sl.Utf8:return new ZT;case Sl.LargeUtf8:return new QT;case Sl.Bool:return new JT;case Sl.List:return new oC((e||[])[0]);case Sl.Struct_:return new Kh(e||[])}switch(r){case Sl.Int:{const n=t.type(new Yd);return new c0(n.isSigned(),n.bitWidth())}case Sl.FloatingPoint:{const n=t.type(new ym);return new WT(n.precision())}case Sl.Decimal:{const n=t.type(new u_);return new tC(n.scale(),n.precision(),n.bitWidth())}case Sl.Date:{const n=t.type(new BE);return new eC(n.unit())}case Sl.Time:{const n=t.type(new Ef);return new rC(n.unit(),n.bitWidth())}case Sl.Timestamp:{const n=t.type(new Tf);return new nC(n.unit(),n.timezone())}case Sl.Interval:{const n=t.type(new vm);return new iC(n.unit())}case Sl.Duration:{const n=t.type(new zE);return new aC(n.unit())}case Sl.Union:{const n=t.type(new hd);return new sC(n.mode(),n.typeIdsArray()||[],e||[])}case Sl.FixedSizeBinary:{const n=t.type(new FE);return new lC(n.byteWidth())}case Sl.FixedSizeList:{const n=t.type(new jE);return new cC(n.listSize(),(e||[])[0])}case Sl.Map:{const n=t.type(new $E);return new uC((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Sl[r]}" (${r})`)}function fPt(t,e){const r=e.fields.map(o=>Bl.encode(t,o));sm.startFieldsVector(t,r.length);const n=sm.createFieldsVector(t,r),i=e.metadata&&e.metadata.size>0?sm.createCustomMetadataVector(t,[...e.metadata].map(([o,c])=>{const a=t.createString(`${o}`),g=t.createString(`${c}`);return ku.startKeyValue(t),ku.addKey(t,a),ku.addValue(t,g),ku.endKeyValue(t)})):-1;return sm.startSchema(t),sm.addFields(t,n),sm.addEndianness(t,bPt?ux.Little:ux.Big),i!==-1&&sm.addCustomMetadata(t,i),sm.endSchema(t)}function pPt(t,e){let r=-1,n=-1,i=-1;const o=e.type;let c=e.typeId;Ri.isDictionary(o)?(c=o.dictionary.typeId,i=MN.visit(o,t),n=MN.visit(o.dictionary,t)):n=MN.visit(o,t);const a=(o.children||[]).map(x=>Bl.encode(t,x)),g=yf.createChildrenVector(t,a),v=e.metadata&&e.metadata.size>0?yf.createCustomMetadataVector(t,[...e.metadata].map(([x,k])=>{const I=t.createString(`${x}`),S=t.createString(`${k}`);return ku.startKeyValue(t),ku.addKey(t,I),ku.addValue(t,S),ku.endKeyValue(t)})):-1;return e.name&&(r=t.createString(e.name)),yf.startField(t),yf.addType(t,n),yf.addTypeType(t,c),yf.addChildren(t,g),yf.addNullable(t,!!e.nullable),r!==-1&&yf.addName(t,r),i!==-1&&yf.addDictionary(t,i),v!==-1&&yf.addCustomMetadata(t,v),yf.endField(t)}function mPt(t,e){const r=e.nodes||[],n=e.buffers||[];hg.startNodesVector(t,r.length);for(const c of r.slice().reverse())My.encode(t,c);const i=t.endVector();hg.startBuffersVector(t,n.length);for(const c of n.slice().reverse())Tm.encode(t,c);const o=t.endVector();return hg.startRecordBatch(t),hg.addLength(t,BigInt(e.length)),hg.addNodes(t,i),hg.addBuffers(t,o),hg.endRecordBatch(t)}function gPt(t,e){const r=sf.encode(t,e.data);return l_.startDictionaryBatch(t),l_.addId(t,BigInt(e.id)),l_.addIsDelta(t,e.isDelta),l_.addData(t,r),l_.endDictionaryBatch(t)}function yPt(t,e){return fY.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function vPt(t,e){return dY.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const bPt=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),$O=t=>`Expected ${ss[t]} Message in stream, but was null or length 0.`,VO=t=>`Header pointer of flatbuffer-encoded ${ss[t]} Message is null or length 0.`,YK=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,KK=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class ZK{constructor(e){this.source=e instanceof gC?e:new gC(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?vc:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let r;if((r=this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error($O(e));return r.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const r=Io(this.source.read(e));if(r.byteLength<e)throw new Error(KK(e,r.byteLength));return r.byteOffset%8===0&&r.byteOffset+r.byteLength<=r.buffer.byteLength?r:r.slice()}readSchema(e=!1){const r=ss.Schema,n=this.readMessage(r),i=n?.header();if(e&&!i)throw new Error(VO(r));return i}readMetadataLength(){const e=this.source.read(YA),r=e&&new cx(e),n=r?.readInt32(0)||0;return{done:n===0,value:n}}readMetadata(e){const r=this.source.read(e);if(!r)return vc;if(r.byteLength<e)throw new Error(YK(e,r.byteLength));return{done:!1,value:Zh.decode(r)}}}class _Pt{constructor(e,r){this.source=e instanceof dx?e:iY(e)?new yC(e,r):new dx(e)}[Symbol.asyncIterator](){return this}next(){return va(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?vc:e})}throw(e){return va(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return va(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return va(this,void 0,void 0,function*(){let r;if((r=yield this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error($O(e));return r.value})}readMessageBody(e){return va(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const r=Io(yield this.source.read(e));if(r.byteLength<e)throw new Error(KK(e,r.byteLength));return r.byteOffset%8===0&&r.byteOffset+r.byteLength<=r.buffer.byteLength?r:r.slice()})}readSchema(){return va(this,arguments,void 0,function*(e=!1){const r=ss.Schema,n=yield this.readMessage(r),i=n?.header();if(e&&!i)throw new Error(VO(r));return i})}readMetadataLength(){return va(this,void 0,void 0,function*(){const e=yield this.source.read(YA),r=e&&new cx(e),n=r?.readInt32(0)||0;return{done:n===0,value:n}})}readMetadata(e){return va(this,void 0,void 0,function*(){const r=yield this.source.read(e);if(!r)return vc;if(r.byteLength<e)throw new Error(YK(e,r.byteLength));return{done:!1,value:Zh.decode(r)}})}}class xPt extends ZK{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof SV?e:new SV(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Zh.fromJSON(e.schema,ss.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const r=e.dictionaries[this._dictionaryIndex++];return this._body=r.data.columns,{done:!1,value:Zh.fromJSON(r,ss.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const r=e.batches[this._batchIndex++];return this._body=r.columns,{done:!1,value:Zh.fromJSON(r,ss.RecordBatch)}}return this._body=[],vc}readMessageBody(e){return r(this._body);function r(n){return(n||[]).reduce((i,o)=>[...i,...o.VALIDITY&&[o.VALIDITY]||[],...o.TYPE_ID&&[o.TYPE_ID]||[],...o.OFFSET&&[o.OFFSET]||[],...o.DATA&&[o.DATA]||[],...r(o.children)],[])}}readMessage(e){let r;if((r=this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error($O(e));return r.value}readSchema(){const e=ss.Schema,r=this.readMessage(e),n=r?.header();if(!r||!n)throw new Error(VO(e));return n}}const YA=4,LM="ARROW1",Rw=new Uint8Array(LM.length);for(let t=0;t<LM.length;t+=1)Rw[t]=LM.codePointAt(t);function UO(t,e=0){for(let r=-1,n=Rw.length;++r<n;)if(Rw[r]!==t[e+r])return!1;return!0}const gS=Rw.length,QK=gS+YA,wPt=gS*2+YA;class Mf extends OO{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const r=this._impl.open(e);return l0(r)?r.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return _f.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return _f.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,r){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Mf?e:wM(e)?CPt(e):iY(e)?IPt(e):l0(e)?va(this,void 0,void 0,function*(){return yield Mf.from(yield e)}):aY(e)||EO(e)||oY(e)||Ax(e)?kPt(new dx(e)):APt(new gC(e))}static readAll(e){return e instanceof Mf?e.isSync()?LV(e):MV(e):wM(e)||ArrayBuffer.isView(e)||dS(e)||nY(e)?LV(e):MV(e)}}class vC extends Mf{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Em(this,arguments,function*(){yield $a(yield*DE(Zv(this[Symbol.iterator]())))})}}class bC extends Mf{constructor(e){super(e),this._impl=e}readAll(){return va(this,void 0,void 0,function*(){var e,r,n,i;const o=new Array;try{for(var c=!0,a=Zv(this),g;g=yield a.next(),e=g.done,!e;c=!0){i=g.value,c=!1;const v=i;o.push(v)}}catch(v){r={error:v}}finally{try{!c&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class JK extends vC{constructor(e){super(e),this._impl=e}}class SPt extends bC{constructor(e){super(e),this._impl=e}}class tZ{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,r){const n=this._loadVectors(e,r,this.schema.fields),i=no({type:new Kh(this.schema.fields),length:e.length,children:n});return new dd(this.schema,i)}_loadDictionaryBatch(e,r){const{id:n,isDelta:i}=e,{dictionaries:o,schema:c}=this,a=o.get(n),g=c.dictionaries.get(n),v=this._loadVectors(e.data,r,[g]);return(a&&i?a.concat(new Rs(v)):new Rs(v)).memoize()}_loadVectors(e,r,n){return new VK(r,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}class _C extends tZ{constructor(e,r){super(r),this._reader=wM(e)?new xPt(this._handle=e):new ZK(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=rZ(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):vc}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):vc}next(){if(this.closed)return vc;let e;const{_reader:r}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const n=e.header(),i=r.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const n=e.header(),i=r.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new jO(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class xC extends tZ{constructor(e,r){super(r),this._reader=new _Pt(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return va(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return va(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=rZ(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return va(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):vc})}return(e){return va(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):vc})}next(){return va(this,void 0,void 0,function*(){if(this.closed)return vc;let e;const{_reader:r}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const n=e.header(),i=yield r.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const n=e.header(),i=yield r.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new jO(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return va(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class eZ extends _C{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,r){super(e instanceof EV?e:new EV(e),r)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var r;if(this.closed)return null;this._footer||this.open();const n=(r=this._footer)===null||r===void 0?void 0:r.getRecordBatch(e);if(n&&this._handle.seek(n.offset)){const i=this._reader.readMessage(ss.RecordBatch);if(i?.isRecordBatch()){const o=i.header(),c=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,c)}}return null}_readDictionaryBatch(e){var r;const n=(r=this._footer)===null||r===void 0?void 0:r.getDictionaryBatch(e);if(n&&this._handle.seek(n.offset)){const i=this._reader.readMessage(ss.DictionaryBatch);if(i?.isDictionaryBatch()){const o=i.header(),c=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(o,c);this.dictionaries.set(o.id,a)}}}_readFooter(){const{_handle:e}=this,r=e.size-QK,n=e.readInt32(r),i=e.readAt(r-n,n);return Iw.decode(i)}_readNextMessageAndValidate(e){var r;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(r=this._footer)===null||r===void 0?void 0:r.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(e)}return null}}class EPt extends xC{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...r){const n=typeof r[0]!="number"?r.shift():void 0,i=r[0]instanceof Map?r.shift():void 0;super(e instanceof yC?e:new yC(e,n),i)}isFile(){return!0}isAsync(){return!0}open(e){const r=Object.create(null,{open:{get:()=>super.open}});return va(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield r.open.call(this,e)})}readRecordBatch(e){return va(this,void 0,void 0,function*(){var r;if(this.closed)return null;this._footer||(yield this.open());const n=(r=this._footer)===null||r===void 0?void 0:r.getRecordBatch(e);if(n&&(yield this._handle.seek(n.offset))){const i=yield this._reader.readMessage(ss.RecordBatch);if(i?.isRecordBatch()){const o=i.header(),c=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,c)}}return null})}_readDictionaryBatch(e){return va(this,void 0,void 0,function*(){var r;const n=(r=this._footer)===null||r===void 0?void 0:r.getDictionaryBatch(e);if(n&&(yield this._handle.seek(n.offset))){const i=yield this._reader.readMessage(ss.DictionaryBatch);if(i?.isDictionaryBatch()){const o=i.header(),c=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(o,c);this.dictionaries.set(o.id,a)}}})}_readFooter(){return va(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const r=e.size-QK,n=yield e.readInt32(r),i=yield e.readAt(r-n,n);return Iw.decode(i)})}_readNextMessageAndValidate(e){return va(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=this._footer.getRecordBatch(this._recordBatchIndex);if(r&&(yield this._handle.seek(r.offset)))return yield this._reader.readMessage(e)}return null})}}class TPt extends _C{constructor(e,r){super(e,r)}_loadVectors(e,r,n){return new zMt(r,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}function rZ(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*LV(t){const e=Mf.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function MV(t){return Em(this,arguments,function*(){const r=yield $a(Mf.from(t));try{if(!(yield $a(r.open({autoDestroy:!1}))).closed)do yield yield $a(r);while(!(yield $a(r.reset().open())).closed)}finally{yield $a(r.cancel())}})}function CPt(t){return new vC(new TPt(t))}function APt(t){const e=t.peek(gS+7&-8);return e&&e.byteLength>=4?UO(e)?new JK(new eZ(t.read())):new vC(new _C(t)):new vC(new _C((function*(){})()))}function kPt(t){return va(this,void 0,void 0,function*(){const e=yield t.peek(gS+7&-8);return e&&e.byteLength>=4?UO(e)?new JK(new eZ(yield t.read())):new bC(new xC(t)):new bC(new xC((function(){return Em(this,arguments,function*(){})})()))})}function IPt(t){return va(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),r=new yC(t,e);return e>=wPt&&UO(yield r.readAt(0,gS+7&-8))?new SPt(new EPt(r)):new bC(new xC(r))})}class bc extends Qa{static assemble(...e){const r=i=>i.flatMap(o=>Array.isArray(o)?r(o):o instanceof dd?o.data.children:o.data),n=new bc;return n.visitMany(r(e)),n}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Rs)return this.visitMany(e.data),this;const{type:r}=e;if(!Ri.isDictionary(r)){const{length:n}=e;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Ri.isUnion(r))this.nodes.push(new My(n,0));else{const{nullCount:i}=e;Ri.isNull(r)||_p.call(this,i<=0?new Uint8Array(0):hC(e.offset,n,e.nullBitmap)),this.nodes.push(new My(n,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function _p(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new Tm(this._byteLength,e)),this._byteLength+=e,this}function RPt(t){var e;const{type:r,length:n,typeIds:i,valueOffsets:o}=t;if(_p.call(this,i),r.mode===Ph.Sparse)return MM.call(this,t);if(r.mode===Ph.Dense){if(t.offset<=0)return _p.call(this,o),MM.call(this,t);{const c=new Int32Array(n),a=Object.create(null),g=Object.create(null);for(let v,x,k=-1;++k<n;)(v=i[k])!==void 0&&((x=a[v])===void 0&&(x=a[v]=o[k]),c[k]=o[k]-x,g[v]=((e=g[v])!==null&&e!==void 0?e:0)+1);_p.call(this,c),this.visitMany(t.children.map((v,x)=>{const k=r.typeIds[x],I=a[k],S=g[k];return v.slice(I,Math.min(n,S))}))}}return this}function NPt(t){let e;return t.nullCount>=t.length?_p.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?_p.call(this,hC(t.offset,t.length,e)):_p.call(this,dC(t.values))}function Dg(t){return _p.call(this,t.values.subarray(0,t.length*t.stride))}function KA(t){const{length:e,values:r,valueOffsets:n}=t,i=dl(n[0]),o=dl(n[e]),c=Math.min(o-i,r.byteLength-i);return _p.call(this,lY(-i,e+1,n)),_p.call(this,r.subarray(i,i+c)),this}function qO(t){const{length:e,valueOffsets:r}=t;if(r){const{[0]:n,[e]:i}=r;return _p.call(this,lY(-n,e+1,r)),this.visit(t.children[0].slice(n,i-n))}return this.visit(t.children[0])}function MM(t){return this.visitMany(t.type.children.map((e,r)=>t.children[r]).filter(Boolean))[0]}bc.prototype.visitBool=NPt;bc.prototype.visitInt=Dg;bc.prototype.visitFloat=Dg;bc.prototype.visitUtf8=KA;bc.prototype.visitLargeUtf8=KA;bc.prototype.visitBinary=KA;bc.prototype.visitLargeBinary=KA;bc.prototype.visitFixedSizeBinary=Dg;bc.prototype.visitDate=Dg;bc.prototype.visitTimestamp=Dg;bc.prototype.visitTime=Dg;bc.prototype.visitDecimal=Dg;bc.prototype.visitList=qO;bc.prototype.visitStruct=MM;bc.prototype.visitUnion=RPt;bc.prototype.visitInterval=Dg;bc.prototype.visitDuration=Dg;bc.prototype.visitFixedSizeList=qO;bc.prototype.visitMap=qO;class nZ extends OO{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,r){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new UE,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,_d(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return l0(e)?e.then(r=>this.writeAll(r)):Ax(e)?WO(this,e):XO(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,r=null){return e===this._sink||e instanceof UE?this._sink=e:(this._sink=new UE,e&&lLt(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&cLt(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!r||!NM(r,this._schema))&&(r==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=r,this._writeSchema(r))),this}write(e){let r=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Yh&&!(r=e.schema))return this.finish()&&void 0;if(e instanceof dd&&!(r=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(r&&!NM(r,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,r)}e instanceof dd?e instanceof jO||this._writeRecordBatch(e):e instanceof Yh?this.writeAll(e.batches):dS(e)&&this.writeAll(e)}_writeMessage(e,r=8){const n=r-1,i=Zh.encode(e),o=i.byteLength,c=this._writeLegacyIpcFormat?4:8,a=o+c+n&~n,g=a-o-c;return e.headerType===ss.RecordBatch?this._recordBatchBlocks.push(new Ny(a,e.bodyLength,this._position)):e.headerType===ss.DictionaryBatch&&this._dictionaryBlocks.push(new Ny(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-c)),o>0&&this._write(i),this._writePadding(g)}_write(e){if(this._started){const r=Io(e);r&&r.byteLength>0&&(this._sink.write(r),this._position+=r.byteLength)}return this}_writeSchema(e){return this._writeMessage(Zh.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Rw)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:r,nodes:n,bufferRegions:i,buffers:o}=bc.assemble(e),c=new sf(e.numRows,n,i),a=Zh.from(c,r);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(o)}_writeDictionaryBatch(e,r,n=!1){const{byteLength:i,nodes:o,bufferRegions:c,buffers:a}=bc.assemble(new Rs([e])),g=new sf(e.length,o,c),v=new zm(g,r,n),x=Zh.from(v,i);return this._writeMessage(x)._writeBodyBuffers(a)}_writeBodyBuffers(e){let r,n,i;for(let o=-1,c=e.length;++o<c;)(r=e[o])&&(n=r.byteLength)>0&&(this._write(r),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}_writeDictionaries(e){var r,n;for(const[i,o]of e.dictionaries){const c=(r=o?.data)!==null&&r!==void 0?r:[],a=this._seenDictionaries.get(i),g=(n=this._dictionaryDeltaOffsets.get(i))!==null&&n!==void 0?n:0;if(!a||a.data[0]!==c[0])for(const[v,x]of c.entries())this._writeDictionaryBatch(x,i,v>0);else if(g<c.length)for(const v of c.slice(g))this._writeDictionaryBatch(v,i,!0);this._seenDictionaries.set(i,o),this._dictionaryDeltaOffsets.set(i,c.length)}return this}}class GO extends nZ{static writeAll(e,r){const n=new GO(r);return l0(e)?e.then(i=>n.writeAll(i)):Ax(e)?WO(n,e):XO(n,e)}}class HO extends nZ{static writeAll(e){const r=new HO;return l0(e)?e.then(n=>r.writeAll(n)):Ax(e)?WO(r,e):XO(r,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,r,n=!1){if(!n&&this._seenDictionaries.has(r))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,r,n)}_writeFooter(e){const r=Iw.encode(new Iw(e,tu.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(r)._write(Int32Array.of(r.byteLength))._writeMagic()}}function XO(t,e){let r=e;e instanceof Yh&&(r=e.batches,t.reset(void 0,e.schema));for(const n of r)t.write(n);return t.finish()}function WO(t,e){return va(this,void 0,void 0,function*(){var r,n,i,o,c,a,g;try{for(r=!0,n=Zv(e);i=yield n.next(),o=i.done,!o;r=!0){g=i.value,r=!1;const v=g;t.write(v)}}catch(v){c={error:v}}finally{try{!r&&!o&&(a=n.return)&&(yield a.call(n))}finally{if(c)throw c.error}}return t.finish()})}function LPt(t,e="stream"){return(e==="stream"?GO:HO).writeAll(t).toUint8Array(!0)}var MPt=Object.create,iZ=Object.defineProperty,PPt=Object.getOwnPropertyDescriptor,OPt=Object.getOwnPropertyNames,DPt=Object.getPrototypeOf,BPt=Object.prototype.hasOwnProperty,zPt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),FPt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of OPt(e))!BPt.call(t,i)&&i!==r&&iZ(t,i,{get:()=>e[i],enumerable:!(n=PPt(e,i))||n.enumerable});return t},jPt=(t,e,r)=>(r=t!=null?MPt(DPt(t)):{},FPt(!t||!t.__esModule?iZ(r,"default",{value:t,enumerable:!0}):r,t)),$Pt=zPt((t,e)=>{e.exports=Worker}),VPt=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(VPt||{}),UPt=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(UPt||{}),qPt=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(qPt||{}),GPt=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(GPt||{}),HPt=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(HPt||{}),XPt=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(XPt||{}),WPt=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}},YPt=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",t[t.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",t))(YPt||{}),KPt=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),r=Mf.from(e);return console.assert(r.isSync(),"Reader is not sync"),console.assert(r.isFile(),"Reader is not file"),new Yh(r)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let r=await this._bindings.startPendingQuery(this._conn,t,e);for(;r==null;)r=await this._bindings.pollPendingQuery(this._conn);let n=new aZ(this._bindings,this._conn,r),i=await Mf.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new ZPt(this._bindings,this._conn,e)}async insertArrowTable(t,e){let r=LPt(t,"stream");await this.insertArrowFromIPCStream(r,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},aZ=class{constructor(t,e,r){this.db=t,this.conn=e,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(this._inFlight!=null&&(t=await this._inFlight,this._inFlight=null);t==null;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},ZPt=class{constructor(t,e,r){this.bindings=t,this.connectionId=e,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),r=Mf.from(e);return console.assert(r.isSync()),console.assert(r.isFile()),new Yh(r)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),r=new aZ(this.bindings,this.connectionId,e),n=await Mf.from(r);return console.assert(n.isAsync()),console.assert(n.isStream()),n}},QPt=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(QPt||{}),JPt=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(JPt||{}),Po=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((r,n)=>{this.promiseResolver=r,this.promiseRejecter=n})}};function HE(t){switch(t.typeId){case Qe.Binary:return{sqlType:"binary"};case Qe.Bool:return{sqlType:"bool"};case Qe.Date:return{sqlType:"date"};case Qe.DateDay:return{sqlType:"date32[d]"};case Qe.DateMillisecond:return{sqlType:"date64[ms]"};case Qe.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case Qe.Float:return{sqlType:"float"};case Qe.Float16:return{sqlType:"float16"};case Qe.Float32:return{sqlType:"float32"};case Qe.Float64:return{sqlType:"float64"};case Qe.Int:return{sqlType:"int32"};case Qe.Int16:return{sqlType:"int16"};case Qe.Int32:return{sqlType:"int32"};case Qe.Int64:return{sqlType:"int64"};case Qe.Uint16:return{sqlType:"uint16"};case Qe.Uint32:return{sqlType:"uint32"};case Qe.Uint64:return{sqlType:"uint64"};case Qe.Uint8:return{sqlType:"uint8"};case Qe.IntervalDayTime:return{sqlType:"interval[dt]"};case Qe.IntervalYearMonth:return{sqlType:"interval[m]"};case Qe.List:return{sqlType:"list",valueType:HE(t.valueType)};case Qe.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case Qe.Null:return{sqlType:"null"};case Qe.Utf8:return{sqlType:"utf8"};case Qe.Struct:return{sqlType:"struct",fields:t.children.map(e=>PM(e.name,e.type))};case Qe.Map:{let e=t;return{sqlType:"map",keyType:HE(e.keyType),valueType:HE(e.valueType)}}case Qe.Time:return{sqlType:"time[s]"};case Qe.TimeMicrosecond:return{sqlType:"time[us]"};case Qe.TimeMillisecond:return{sqlType:"time[ms]"};case Qe.TimeNanosecond:return{sqlType:"time[ns]"};case Qe.TimeSecond:return{sqlType:"time[s]"};case Qe.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case Qe.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case Qe.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case Qe.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case Qe.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function PM(t,e){let r=HE(e);return r.name=t,r}var t4t=new TextEncoder,e4t=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,r)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let r=this._nextMessageId++;return this._pendingRequests.set(r,t),this._worker.postMessage({messageId:r,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let r=t.data;switch(r.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(r.data);return}case"LOG":{this._logger.log(r.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(r.data);return}}let n=this._pendingRequests.get(r.requestId);if(!n){console.warn("unassociated response: [".concat(r.requestId,", ").concat(r.type.toString(),"]"));return}if(this._pendingRequests.delete(r.requestId),r.type=="ERROR"){let i=new Error(r.data.message);i.name=r.data.name,(e=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&e.writable&&(i.stack=r.data.stack),n.promiseRejecter(i);return}switch(n.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(r.type=="OK"){n.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],r.type=="OK"){n.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if(r.type=="FILE_INFOS"){n.promiseResolver(r.data);return}break;case"GET_VERSION":if(r.type=="VERSION_STRING"){n.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if(r.type=="FEATURE_FLAGS"){n.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if(r.type=="TABLE_NAMES"){n.promiseResolver(r.data);return}break;case"TOKENIZE":if(r.type=="SCRIPT_TOKENS"){n.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if(r.type=="FILE_BUFFER"){n.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if(r.type=="FILE_STATISTICS"){n.promiseResolver(r.data);return}break;case"CONNECT":if(r.type=="CONNECTION_INFO"){n.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(r.type=="QUERY_RESULT"){n.promiseResolver(r.data);return}break;case"SEND_PREPARED":if(r.type=="QUERY_RESULT_HEADER"){n.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(r.data);return}break;case"POLL_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],r.type=="SUCCESS"){n.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if(r.type=="QUERY_RESULT_CHUNK"){n.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if(r.type=="PREPARED_STATEMENT_ID"){n.promiseResolver(r.data);return}break}n.promiseRejecter(new Error("unexpected response type: ".concat(r.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let t=new Po("RESET",null);return await this.postTask(t)}async ping(){let t=new Po("PING",null);await this.postTask(t)}async dropFile(t){let e=new Po("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new Po("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new Po("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,r=n=>{}){this._onInstantiationProgress.push(r);let n=new Po("INSTANTIATE",[t,e]);return await this.postTask(n)}async getVersion(){let t=new Po("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new Po("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new Po("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new Po("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new Po("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new KPt(this,t)}async disconnect(t){let e=new Po("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let r=new Po("RUN_QUERY",[t,e]);return await this.postTask(r)}async startPendingQuery(t,e,r=!1){let n=new Po("START_PENDING_QUERY",[t,e,r]);return await this.postTask(n)}async pollPendingQuery(t){let e=new Po("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new Po("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new Po("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let r=new Po("GET_TABLE_NAMES",[t,e]);return await this.postTask(r)}async createPrepared(t,e){let r=new Po("CREATE_PREPARED",[t,e]);return await this.postTask(r)}async closePrepared(t,e){let r=new Po("CLOSE_PREPARED",[t,e]);await this.postTask(r)}async runPrepared(t,e,r){let n=new Po("RUN_PREPARED",[t,e,r]);return await this.postTask(n)}async sendPrepared(t,e,r){let n=new Po("SEND_PREPARED",[t,e,r]);return await this.postTask(n)}async globFiles(t){let e=new Po("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let r=t4t.encode(e);await this.registerFileBuffer(t,r)}async registerFileURL(t,e,r,n){e===void 0&&(e=t);let i=new Po("REGISTER_FILE_URL",[t,e,r,n]);await this.postTask(i)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let r=new Po("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(r,[e.buffer])}async registerFileHandle(t,e,r,n){let i=new Po("REGISTER_FILE_HANDLE",[t,e,r,n]);await this.postTask(i,[])}async registerOPFSFileName(t){let e=new Po("REGISTER_OPFS_FILE_NAME",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let r=new Po("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(r,[])}async exportFileStatistics(t){let e=new Po("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new Po("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let r=new Po("COPY_FILE_TO_PATH",[t,e]);await this.postTask(r)}async insertArrowFromIPCStream(t,e,r){if(e.length==0)return;let n=new Po("INSERT_ARROW_FROM_IPC_STREAM",[t,e,r]);await this.postTask(n,[e.buffer])}async insertCSVFromPath(t,e,r){if(r.columns!==void 0){let i=[];for(let o in r.columns){let c=r.columns[o];i.push(PM(o,c))}r.columnsFlat=i,delete r.columns}let n=new Po("IMPORT_CSV_FROM_PATH",[t,e,r]);await this.postTask(n)}async insertJSONFromPath(t,e,r){if(r.columns!==void 0){let i=[];for(let o in r.columns){let c=r.columns[o];i.push(PM(o,c))}r.columnsFlat=i,delete r.columns}let n=new Po("IMPORT_JSON_FROM_PATH",[t,e,r]);await this.postTask(n)}};function r4t(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}r4t();var n4t=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(n4t||{}),i4t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),a4t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),o4t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),s4t=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),YO={name:"@duckdb/duckdb-wasm",version:"1.30.0"},l4t=YO.name,c4t=YO.version,KO=YO.version.split(".");KO[0];KO[1];KO[2];var u4t=()=>typeof navigator>"u";function h4t(){let t="https://cdn.jsdelivr.net/npm/".concat(l4t,"@").concat(c4t,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var PN=null,ON=null,DN=null,BN=null,zN=null;async function d4t(){return PN==null&&(PN=typeof BigInt64Array<"u"),ON==null&&(ON=await a4t()),DN==null&&(DN=await s4t()),BN==null&&(BN=await o4t()),zN==null&&(zN=await i4t()),{bigInt64Array:PN,crossOriginIsolated:u4t()||globalThis.crossOriginIsolated||!1,wasmExceptions:ON,wasmSIMD:BN,wasmThreads:DN,wasmBulkMemory:zN}}async function f4t(t){let e=await d4t();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}jPt($Pt());let Av=null,kv=null,PV=!1,sE=null;async function yS(){return PV&&Av&&kv?{db:Av,conn:kv}:sE||(sE=(async()=>{const t=h4t(),e=await f4t(t),r=URL.createObjectURL(new Blob([`importScripts("${e.mainWorker}");`],{type:"text/javascript"})),n=new Worker(r),i=new WPt;Av=new e4t(i,n),await Av.instantiate(e.mainModule,e.pthreadWorker),URL.revokeObjectURL(r),kv=await Av.connect(),await kv.query("INSTALL spatial;"),await kv.query("LOAD spatial;");const c=await(await fetch("/wms-map-viewer/wms_unrestricted.duckdb")).arrayBuffer();return await Av.registerFileBuffer("wms_unrestricted.duckdb",new Uint8Array(c)),await kv.query("ATTACH 'wms_unrestricted.duckdb' AS wms (READ_ONLY);"),PV=!0,{db:Av,conn:kv}})(),sE)}function XE(t){return t.replace(/'/g,"''")}async function p4t(t="",e="all",r="all",n=5,i=0){const{conn:o}=await yS(),c=[];if(t){const U=XE(t.toLowerCase());c.push(`(LOWER(name) LIKE '%${U}%' OR LOWER(description) LIKE '%${U}%')`)}if(e!=="all"){const U=XE(e);c.push(`category = '${U}'`)}if(r!=="all"){const U=XE(r);c.push(`country = '${U}'`)}const a=c.length>0?`WHERE ${c.join(" AND ")}`:"",g=`SELECT COUNT(*) as total FROM wms.wms_resources ${a}`,x=(await o.query(g)).toArray()[0].total,k=Number(x),I=`
    SELECT
      id,
      name,
      url,
      category,
      country,
      description,
      ST_XMin(geom) as minx,
      ST_YMin(geom) as miny,
      ST_XMax(geom) as maxx,
      ST_YMax(geom) as maxy,
      area
    FROM wms.wms_resources
    ${a}
    ORDER BY name
    LIMIT ${n} OFFSET ${i}
  `;return{data:(await o.query(I)).toArray().map(U=>({id:U.id,name:U.name,url:U.url,category:U.category,country:U.country,description:U.description,extent:U.minx!==null?[U.minx,U.miny,U.maxx,U.maxy]:void 0,area:U.area})),total:k}}async function m4t(){const{conn:t}=await yS();return(await t.query(`
    SELECT DISTINCT category 
    FROM wms.wms_resources 
    WHERE category IS NOT NULL 
    ORDER BY category
  `)).toArray().map(r=>r.category)}async function g4t(){const{conn:t}=await yS();return(await t.query(`
    SELECT DISTINCT country 
    FROM wms.wms_resources 
    WHERE country IS NOT NULL 
    ORDER BY country
  `)).toArray().map(r=>r.country)}async function y4t(t,e=1.5){const{conn:r}=await yS(),[n,i,o,c]=t,a=`POLYGON((${n} ${i}, ${o} ${i}, ${o} ${c}, ${n} ${c}, ${n} ${i}))`,v=(o-n)*(c-i)*e;return(await r.query(`
    SELECT
      id,
      name,
      url,
      category,
      country,
      description,
      ST_XMin(geom) as minx,
      ST_YMin(geom) as miny,
      ST_XMax(geom) as maxx,
      ST_YMax(geom) as maxy,
      area
    FROM wms.wms_resources
    WHERE ST_Intersects(geom, ST_GeomFromText('${a}'))
    AND area <= ${v}
    ORDER BY area ASC NULLS LAST, name ASC
  `)).toArray().map(S=>({id:S.id,name:S.name,url:S.url,category:S.category,country:S.country,description:S.description,extent:S.minx!==null?[S.minx,S.miny,S.maxx,S.maxy]:void 0,area:S.area}))}async function v4t(t){const{conn:e}=await yS(),r=XE(t),i=(await e.query(`
    SELECT
      id,
      name,
      url,
      category,
      country,
      description,
      ST_XMin(geom) as minx,
      ST_YMin(geom) as miny,
      ST_XMax(geom) as maxx,
      ST_YMax(geom) as maxy,
      area
    FROM wms.wms_resources
    WHERE id = '${r}'
  `)).toArray();if(i.length===0)return null;const o=i[0];return{id:o.id,name:o.name,url:o.url,category:o.category,country:o.country,description:o.description,extent:o.minx!==null?[o.minx,o.miny,o.maxx,o.maxy]:void 0,area:o.area}}function b4t({open:t=!1,onClose:e,embedded:r=!1}){const[n,i]=ut.useState(""),[o,c]=ut.useState("all"),[a,g]=ut.useState("all"),[v,x]=ut.useState(!1),[k,I]=ut.useState(null),[S,P]=ut.useState(null),[D,U]=ut.useState(1),[H,G]=ut.useState(!0),[z,j]=ut.useState([]),[X,Y]=ut.useState([]),[et,st]=ut.useState([]),[it,vt]=ut.useState(0),at=5,{addWMSService:V,mapBounds:dt,wmsServices:mt,setZoomToExtent:wt,setHoveredExtent:pt}=by();ut.useEffect(()=>{async function _t(){try{const[lt,Tt]=await Promise.all([m4t(),g4t()]);j(lt),Y(Tt)}catch(lt){console.error("Failed to load filters:",lt),P("Failed to load database filters")}}_t()},[]),ut.useEffect(()=>{async function _t(){G(!0);try{if(v){if(!dt){P("Map bounds not available. Cannot filter by extent."),st([]),vt(0);return}let Tt=await y4t(dt,1.5);if(n){const Ut=n.toLowerCase();Tt=Tt.filter(ie=>ie.name.toLowerCase().includes(Ut)||ie.description&&ie.description.toLowerCase().includes(Ut))}o!=="all"&&(Tt=Tt.filter(Ut=>Ut.category===o)),a!=="all"&&(Tt=Tt.filter(Ut=>Ut.country===a));const kt=(D-1)*at,Rt=Tt.slice(kt,kt+at);st(Rt),vt(Tt.length)}else{const lt=(D-1)*at,Tt=await p4t(n,o,a,at,lt);st(Tt.data),vt(Tt.total)}}catch(lt){console.error("Failed to load services:",lt),P("Failed to load WMS services from database"),st([]),vt(0)}finally{G(!1)}}_t()},[n,o,a,v,D,at,dt]),ut.useEffect(()=>{U(1)},[n,o,a,v]);const At=async _t=>{I(_t.id),P(null);try{const lt=await nLt(_t.url),Tt=iLt(lt);V({id:_t.id,url:_t.url,...Tt,extent:_t.extent||Tt.extent}),I(null)}catch(lt){console.warn(`Could not fetch capabilities for ${_t.name}, adding with default config:`,lt),V({id:_t.id,url:_t.url,name:_t.name,title:_t.name,visible:!0,opacity:1,layers:[{id:"default-layer",name:"default-layer",title:"Default Layer (capabilities unavailable)",abstract:"Capabilities could not be fetched. You may need to configure layer names manually.",visible:!0}],extent:_t.extent,version:"1.1.1"}),I(null),P(`Added ${_t.name} with default configuration. The server doesn't support CORS for capabilities, but tiles should still work. You may need to manually configure layer names.`),setTimeout(()=>P(null),5e3)}},St=_t=>{if(!_t||!dt||!Array.isArray(_t)||_t.length!==4)return!0;const[lt,Tt,kt,Rt]=_t,[Ut,ie,Ht,ce]=dt;return!(kt<Ut||lt>Ht||Rt<ie||Tt>ce)},Lt=Math.ceil(it/at),jt=Yt.jsxs(Ga,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:"100%"},children:[!r&&Yt.jsxs(Ga,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:1,borderColor:"divider",flexShrink:0},children:[Yt.jsxs(Ga,{sx:{display:"flex",alignItems:"center",gap:1},children:[Yt.jsx(HW,{}),Yt.jsx(uo,{variant:"h6",children:"WMS Library"})]}),Yt.jsx(Wd,{onClick:e,children:Yt.jsx(QRt,{})})]}),Yt.jsxs(Ga,{sx:{p:r?1.5:2,borderBottom:1,borderColor:"divider",flexShrink:0},children:[Yt.jsx(YRt,{fullWidth:!0,size:"small",placeholder:"Search services...",value:n,onChange:_t=>i(_t.target.value),sx:{mb:r?1:2}}),Yt.jsxs(Ga,{sx:{display:"flex",gap:1},children:[Yt.jsxs(gM,{size:"small",fullWidth:!0,children:[Yt.jsx(vM,{children:"Category"}),Yt.jsxs(VT,{value:o,label:"Category",onChange:_t=>c(_t.target.value),children:[Yt.jsx(Z5,{value:"all",children:"All Categories"}),z.map(_t=>Yt.jsx(Z5,{value:_t,children:_t},_t))]})]}),Yt.jsxs(gM,{size:"small",fullWidth:!0,children:[Yt.jsx(vM,{children:"Country"}),Yt.jsxs(VT,{value:a,label:"Country",onChange:_t=>g(_t.target.value),children:[Yt.jsx(Z5,{value:"all",children:"All Countries"}),X.map(_t=>Yt.jsx(Z5,{value:_t,children:_t},_t))]})]})]}),Yt.jsx(wIt,{control:Yt.jsx(jRt,{checked:v,onChange:_t=>x(_t.target.checked),disabled:!dt}),label:"Filter by current map extent",sx:{mt:1}})]}),S&&Yt.jsx(YTt,{severity:"error",onClose:()=>P(null),sx:{m:r?1:2,flexShrink:0},children:S}),H&&Yt.jsx(Ga,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:4},children:Yt.jsx(zT,{})}),!H&&Yt.jsxs(Ga,{sx:{flexGrow:1,overflowY:"auto",overflowX:"hidden",minHeight:0},children:[Yt.jsx(Sw,{dense:r,sx:{overflowX:"hidden"},children:et.map(_t=>{const lt=St(_t.extent),Tt=mt.some(kt=>kt.id===_t.id);return Yt.jsxs(Ga,{sx:{overflowX:"hidden"},children:[Yt.jsx(ME,{disablePadding:!0,sx:{overflowX:"hidden"},secondaryAction:Yt.jsxs(Ga,{sx:{display:"flex",gap:.5},children:[_t.extent&&Yt.jsx(Wd,{size:"small",color:"primary",onClick:()=>wt(_t.extent),title:"Zoom to extent",sx:r?{p:.25}:{},children:Yt.jsx(XW,{fontSize:r?"small":"medium"})}),Yt.jsx(Wd,{size:"small",color:"primary",onClick:()=>At(_t),disabled:k===_t.id||Tt,title:Tt?"Service added":"Add service",sx:r?{p:.25}:{},children:k===_t.id?Yt.jsx(zT,{size:20}):Yt.jsx(ZRt,{fontSize:r?"small":"medium"})})]}),children:Yt.jsx(XIt,{dense:r,sx:{overflowX:"hidden",pr:r?8:10},onMouseEnter:()=>pt(_t.extent||null),onMouseLeave:()=>pt(null),children:Yt.jsx(PE,{primary:_t.name,secondary:Yt.jsxs(Yt.Fragment,{children:[_t.description&&!r&&Yt.jsx(uo,{component:"span",variant:"caption",display:"block",sx:{mb:.5},children:_t.description}),Yt.jsxs(Ga,{component:"span",sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:r?.25:0},children:[Yt.jsx(H2,{label:_t.category,size:"small",sx:r?{height:18,fontSize:"0.65rem"}:{}}),Yt.jsx(H2,{label:_t.country,size:"small",color:"primary",sx:r?{height:18,fontSize:"0.65rem"}:{}}),dt&&!r&&Yt.jsx(H2,{label:lt?"In View":"Out of View",size:"small",color:lt?"success":"default"})]})]}),primaryTypographyProps:r?{variant:"caption",fontSize:"0.75rem",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}:{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},secondaryTypographyProps:{component:"div"}})})}),Yt.jsx(Vv,{})]},_t.id)})}),et.length===0&&Yt.jsx(Ga,{sx:{p:r?1:2,textAlign:"center"},children:Yt.jsx(uo,{variant:"body2",color:"text.secondary",fontSize:r?"0.75rem":void 0,children:"No services found matching your criteria."})})]}),it>0&&!H&&Yt.jsxs(Ga,{sx:{p:r?1:2,borderTop:1,borderColor:"divider",flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[Yt.jsxs(uo,{variant:"caption",color:"text.secondary",children:["Showing ",(D-1)*at+1,"-",Math.min(D*at,it)," of ",it," services"]}),Yt.jsx(OE,{spacing:2,children:Yt.jsx(bM,{count:Lt,page:D,onChange:(_t,lt)=>U(lt),color:"primary",size:r?"small":"medium"})})]})]});return r?jt:Yt.jsx(DW,{anchor:"left",open:t,onClose:e,sx:{"& .MuiDrawer-paper":{width:400,boxSizing:"border-box"}},children:jt})}function _4t({service:t}){const[e,r]=ut.useState(!0),[n,i]=ut.useState(!1),[o,c]=ut.useState(null),[a,g]=ut.useState(!1),[v,x]=ut.useState(1),[k,I]=ut.useState(1),S=10,P=Uw({mapId:"map-1"}),{toggleWMSService:D,toggleWMSLayer:U,removeWMSService:H,updateWMSOpacity:G}=by(),z=()=>{if(t.extent&&P.map){const[et,st,it,vt]=t.extent;P.map.fitBounds([[et,st],[it,vt]],{padding:50,duration:1e3})}},j=async()=>{if(i(!0),!o){g(!0);try{const et=await v4t(t.id);c(et)}catch(et){console.error("Failed to load WMS details:",et)}finally{g(!1)}}},X=et=>{navigator.clipboard.writeText(et)},Y=`${t.url}?service=WMS&request=GetCapabilities`;return Yt.jsxs(Ga,{sx:{borderBottom:1,borderColor:"divider",overflowX:"hidden"},children:[Yt.jsxs(ME,{dense:!0,sx:{py:.25,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"},overflowX:"hidden"},children:[Yt.jsx(M$,{edge:"start",checked:t.visible,onChange:()=>D(t.id),size:"small",sx:{py:0}}),Yt.jsx(PE,{primary:t.title,secondary:`${t.layers.length} layer(s)`,primaryTypographyProps:{variant:"caption",fontSize:"0.8rem",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}},secondaryTypographyProps:{variant:"caption",fontSize:"0.7rem"}}),Yt.jsx(o2,{title:"Service info",children:Yt.jsx(Wd,{size:"small",onClick:j,sx:{p:.5},children:Yt.jsx(tNt,{fontSize:"small"})})}),t.extent&&Yt.jsx(o2,{title:"Zoom to extent",children:Yt.jsx(Wd,{size:"small",onClick:z,sx:{p:.5},children:Yt.jsx(XW,{fontSize:"small"})})}),Yt.jsx(o2,{title:"Remove service",children:Yt.jsx(Wd,{size:"small",onClick:()=>H(t.id),color:"error",sx:{p:.5},children:Yt.jsx(JRt,{fontSize:"small"})})}),Yt.jsx(Wd,{size:"small",onClick:()=>r(!e),sx:{p:.5},children:e?Yt.jsx(_M,{fontSize:"small"}):Yt.jsx(GW,{fontSize:"small"})})]}),Yt.jsxs(zkt,{open:n,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[Yt.jsx(Zkt,{children:Yt.jsxs(Ga,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Yt.jsx(uo,{variant:"h6",children:t.title}),Yt.jsx(Wd,{size:"small",onClick:()=>i(!1),children:Yt.jsx(_M,{})})]})}),Yt.jsx(Wkt,{children:Yt.jsxs(OE,{spacing:2,children:[t.abstract&&Yt.jsxs(Ga,{children:[Yt.jsx(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Description"}),Yt.jsx(uo,{variant:"body2",color:"text.secondary",children:t.abstract})]}),a&&Yt.jsx(uo,{variant:"body2",color:"text.secondary",children:"Loading details..."}),o&&Yt.jsxs(Yt.Fragment,{children:[o.description&&Yt.jsxs(Ga,{children:[Yt.jsx(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Additional Info"}),Yt.jsx(uo,{variant:"body2",color:"text.secondary",children:o.description})]}),Yt.jsx(Ga,{children:Yt.jsxs(OE,{direction:"row",spacing:1,children:[Yt.jsx(H2,{label:o.category,size:"small"}),Yt.jsx(H2,{label:o.country,size:"small",color:"primary"})]})})]}),Yt.jsx(Vv,{}),Yt.jsxs(Ga,{children:[Yt.jsx(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Technical Details"}),Yt.jsxs(OE,{spacing:1,children:[t.version&&Yt.jsxs(uo,{variant:"body2",children:[Yt.jsx("strong",{children:"WMS Version:"})," ",t.version]}),Yt.jsxs(uo,{variant:"body2",children:[Yt.jsx("strong",{children:"Layers:"})," ",t.layers.length]}),t.extent&&Yt.jsxs(uo,{variant:"body2",children:[Yt.jsx("strong",{children:"Extent:"})," [",t.extent.map(et=>et.toFixed(2)).join(", "),"]"]})]})]}),t.attribution&&Yt.jsxs(Yt.Fragment,{children:[Yt.jsx(Vv,{}),Yt.jsxs(Ga,{children:[Yt.jsx(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Attribution"}),Yt.jsx(uo,{variant:"body2",color:"text.secondary",children:t.attribution})]})]}),Yt.jsx(Vv,{}),Yt.jsxs(Ga,{children:[Yt.jsxs(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:["Available Layers (",t.layers.length,")"]}),Yt.jsx(Sw,{dense:!0,disablePadding:!0,sx:{maxHeight:200,overflowY:"auto"},children:t.layers.slice((k-1)*S,k*S).map(et=>Yt.jsx(ME,{sx:{px:0,py:.5},children:Yt.jsx(PE,{primary:Yt.jsx(uo,{variant:"body2",fontWeight:"medium",children:et.title}),secondary:Yt.jsxs(Yt.Fragment,{children:[Yt.jsxs(uo,{variant:"caption",component:"span",display:"block",color:"text.secondary",children:["Name: ",et.name]}),et.abstract&&Yt.jsx(uo,{variant:"caption",component:"span",display:"block",color:"text.secondary",children:et.abstract})]})})},et.id))}),t.layers.length>S&&Yt.jsx(Ga,{sx:{display:"flex",justifyContent:"center",mt:1},children:Yt.jsx(bM,{count:Math.ceil(t.layers.length/S),page:k,onChange:(et,st)=>I(st),size:"small",color:"primary"})})]}),Yt.jsx(Vv,{}),Yt.jsxs(Ga,{children:[Yt.jsx(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"GetCapabilities URL"}),Yt.jsxs(Ga,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[Yt.jsx(uo,{variant:"body2",sx:{flexGrow:1,wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.75rem",bgcolor:"action.hover",p:1,borderRadius:1},children:Y}),Yt.jsx(o2,{title:"Copy to clipboard",children:Yt.jsx(Wd,{size:"small",onClick:()=>X(Y),children:Yt.jsx(J$,{fontSize:"small"})})})]}),Yt.jsx(Ga,{sx:{mt:1},children:Yt.jsx(L$,{size:"small",variant:"outlined",onClick:()=>window.open(Y,"_blank"),fullWidth:!0,children:"Open Capabilities in New Tab"})})]}),Yt.jsxs(Ga,{children:[Yt.jsx(uo,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Service URL"}),Yt.jsxs(Ga,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[Yt.jsx(uo,{variant:"body2",sx:{flexGrow:1,wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.75rem",bgcolor:"action.hover",p:1,borderRadius:1},children:t.url}),Yt.jsx(o2,{title:"Copy to clipboard",children:Yt.jsx(Wd,{size:"small",onClick:()=>X(t.url),children:Yt.jsx(J$,{fontSize:"small"})})})]})]})]})}),Yt.jsx(Vkt,{children:Yt.jsx(L$,{onClick:()=>i(!1),children:"Close"})})]}),Yt.jsx(DT,{in:e,timeout:0,unmountOnExit:!0,children:Yt.jsxs(Ga,{sx:{pl:3,pr:1.5,py:.5,bgcolor:"action.hover",overflowX:"hidden"},children:[Yt.jsxs(Ga,{sx:{mb:.5},children:[Yt.jsx(uo,{variant:"caption",fontSize:"0.7rem",gutterBottom:!0,display:"block",children:"Opacity"}),Yt.jsx(ARt,{value:t.opacity,onChange:(et,st)=>G(t.id,st),min:0,max:1,step:.1,valueLabelDisplay:"auto",size:"small",sx:{mt:.5}})]}),Yt.jsx(Sw,{dense:!0,disablePadding:!0,children:t.layers.slice((v-1)*S,v*S).map(et=>Yt.jsxs(ME,{sx:{py:.15,pl:0,overflowX:"hidden"},children:[Yt.jsx(M$,{edge:"start",checked:et.visible,onChange:()=>U(t.id,et.id),size:"small",sx:{py:0,flexShrink:0}}),Yt.jsx(PE,{primary:et.title,secondary:et.abstract,primaryTypographyProps:{variant:"caption",fontSize:"0.75rem",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},secondaryTypographyProps:{variant:"caption",sx:{fontSize:"0.65rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"}}})]},et.id))}),t.layers.length>S&&Yt.jsx(Ga,{sx:{display:"flex",justifyContent:"center",mt:1,mb:.5},children:Yt.jsx(bM,{count:Math.ceil(t.layers.length/S),page:v,onChange:(et,st)=>x(st),size:"small",color:"primary"})})]})})]})}function x4t({open:t}){const{wmsServices:e}=by(),[r,n]=ut.useState(!0);return Yt.jsx(DW,{variant:"persistent",anchor:"left",open:t,sx:{width:t?{xs:"100%",sm:320,md:350}:0,flexShrink:0,"& .MuiDrawer-paper":{width:{xs:"100%",sm:320,md:350},maxWidth:{xs:"85vw",sm:350},boxSizing:"border-box",top:48,height:"calc(100% - 48px)",border:"none",borderRight:1,borderColor:"divider",transition:"width 0.3s ease-in-out",overflowX:"hidden",overflowY:"auto"}},children:Yt.jsxs(Ga,{sx:{height:"100%",minHeight:"fit-content",bgcolor:"background.default",display:"flex",flexDirection:"column",overflow:"hidden"},children:[Yt.jsxs(Ga,{sx:{display:"flex",flexDirection:"column",flexGrow:r?1:0,minHeight:r?0:"auto",overflow:"hidden"},children:[Yt.jsxs(Ga,{sx:{p:1.5,borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",gap:1,bgcolor:"primary.main",color:"primary.contrastText",cursor:"pointer",flexShrink:0,"&:hover":{bgcolor:"primary.dark"}},onClick:()=>n(!r),children:[Yt.jsx(HW,{fontSize:"small"}),Yt.jsx(uo,{variant:"subtitle2",fontSize:"0.9rem",sx:{flexGrow:1},children:"WMS Library"}),Yt.jsx(Wd,{size:"small",sx:{color:"inherit",p:.5},children:r?Yt.jsx(_M,{fontSize:"small"}):Yt.jsx(GW,{fontSize:"small"})})]}),Yt.jsx(DT,{in:r,timeout:300,sx:{flexGrow:1,minHeight:0},children:Yt.jsx(Ga,{sx:{height:"100%",overflow:"hidden",borderBottom:1,borderColor:"divider",display:"flex",flexDirection:"column"},children:Yt.jsx(b4t,{embedded:!0})})})]}),Yt.jsxs(Ga,{sx:{p:1.5,borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",gap:1,bgcolor:"background.paper",flexShrink:0},children:[Yt.jsx(eNt,{fontSize:"small"}),Yt.jsx(uo,{variant:"subtitle2",fontSize:"0.9rem",children:"Active Layers"})]}),Yt.jsx(Ga,{sx:{flexGrow:r?0:1,flexShrink:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:e.length===0?Yt.jsx(Ga,{sx:{p:1.5,textAlign:"center"},children:Yt.jsx(uo,{variant:"caption",color:"text.secondary",children:"No layers added yet. Use the WMS Library above to add services."})}):Yt.jsx(Sw,{disablePadding:!0,sx:{overflowX:"hidden"},children:e.map(i=>Yt.jsx(_4t,{service:i},i.id))})})]})})}function w4t(){const t=Mg(),e=KRt(t.breakpoints.down("md")),[r,n]=ut.useState(!e);ut.useEffect(()=>{n(!e)},[e]);const i=()=>{n(!r)},o=()=>{e&&n(!1)};return Yt.jsxs(Ga,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[Yt.jsx(iCt,{position:"static",elevation:2,sx:{zIndex:c=>c.zIndex.drawer+1,bgcolor:"primary.main"},children:Yt.jsxs(qRt,{variant:"dense",sx:{minHeight:48},children:[Yt.jsx(Wd,{color:"inherit","aria-label":"toggle sidebar",edge:"start",onClick:i,sx:{mr:2},children:Yt.jsx(rNt,{})}),Yt.jsxs(Ga,{sx:{display:"flex",alignItems:"center",gap:1},children:[Yt.jsx(uo,{variant:"h6",component:"div",sx:{fontSize:{xs:"0.95rem",sm:"1.1rem"},display:{xs:"none",sm:"block"}},children:"WMS Map Viewer"}),Yt.jsx(uo,{variant:"h6",component:"div",sx:{fontSize:"0.95rem",display:{xs:"block",sm:"none"}},children:"Map Viewer"})]})]})}),Yt.jsxs(Ga,{sx:{display:"flex",flexGrow:1,overflow:"hidden",position:"relative"},children:[Yt.jsx(x4t,{open:r}),e&&Yt.jsx(mO,{open:r,onClick:o,sx:{zIndex:c=>c.zIndex.drawer-1,top:48,bgcolor:"rgba(0, 0, 0, 0.5)"}}),Yt.jsxs(Ga,{sx:{flexGrow:1,position:"relative"},children:[Yt.jsx(nNt,{}),Yt.jsx(WW,{})]})]})]})}const S4t=BA({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}});gZ.createRoot(document.getElementById("root")).render(Yt.jsx(ut.StrictMode,{children:Yt.jsxs(jEt,{theme:S4t,children:[Yt.jsx(dkt,{}),Yt.jsx(Vit,{children:Yt.jsx(w4t,{})})]})}));export{my as T,Ws as Z,Mw as d};
