function QK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function k$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lk={exports:{}},S1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function JK(){if(XO)return S1;XO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:t,type:n,key:u,ref:i!==void 0?i:null,props:o}}return S1.Fragment=e,S1.jsx=r,S1.jsxs=r,S1}var WO;function tZ(){return WO||(WO=1,lk.exports=JK()),lk.exports}var Qt=tZ(),uk={exports:{}},Aa={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO;function eZ(){if(YO)return Aa;YO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),R=Symbol.iterator;function A(Et){return Et===null||typeof Et!="object"?null:(Et=R&&Et[R]||Et["@@iterator"],typeof Et=="function"?Et:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function H(Et,lt,kt){this.props=Et,this.context=lt,this.refs=U,this.updater=kt||O}H.prototype.isReactComponent={},H.prototype.setState=function(Et,lt){if(typeof Et!="object"&&typeof Et!="function"&&Et!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Et,lt,"setState")},H.prototype.forceUpdate=function(Et){this.updater.enqueueForceUpdate(this,Et,"forceUpdate")};function G(){}G.prototype=H.prototype;function z(Et,lt,kt){this.props=Et,this.context=lt,this.refs=U,this.updater=kt||O}var j=z.prototype=new G;j.constructor=z,D(j,H.prototype),j.isPureReactComponent=!0;var X=Array.isArray;function Y(){}var rt={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function it(Et,lt,kt){var At=kt.ref;return{$$typeof:t,type:Et,key:lt,ref:At!==void 0?At:null,props:kt}}function bt(Et,lt){return it(Et.type,lt,Et.props)}function at(Et){return typeof Et=="object"&&Et!==null&&Et.$$typeof===t}function $(Et){var lt={"=":"=0",":":"=2"};return"$"+Et.replace(/[=:]/g,function(kt){return lt[kt]})}var dt=/\/+/g;function mt(Et,lt){return typeof Et=="object"&&Et!==null&&Et.key!=null?$(""+Et.key):lt.toString(36)}function wt(Et){switch(Et.status){case"fulfilled":return Et.value;case"rejected":throw Et.reason;default:switch(typeof Et.status=="string"?Et.then(Y,Y):(Et.status="pending",Et.then(function(lt){Et.status==="pending"&&(Et.status="fulfilled",Et.value=lt)},function(lt){Et.status==="pending"&&(Et.status="rejected",Et.reason=lt)})),Et.status){case"fulfilled":return Et.value;case"rejected":throw Et.reason}}throw Et}function pt(Et,lt,kt,At,Nt){var qt=typeof Et;(qt==="undefined"||qt==="boolean")&&(Et=null);var ie=!1;if(Et===null)ie=!0;else switch(qt){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(Et.$$typeof){case t:case e:ie=!0;break;case x:return ie=Et._init,pt(ie(Et._payload),lt,kt,At,Nt)}}if(ie)return Nt=Nt(Et),ie=At===""?"."+mt(Et,0):At,X(Nt)?(kt="",ie!=null&&(kt=ie.replace(dt,"$&/")+"/"),pt(Nt,lt,kt,"",function(de){return de})):Nt!=null&&(at(Nt)&&(Nt=bt(Nt,kt+(Nt.key==null||Et&&Et.key===Nt.key?"":(""+Nt.key).replace(dt,"$&/")+"/")+ie)),lt.push(Nt)),1;ie=0;var Ht=At===""?".":At+":";if(X(Et))for(var ce=0;ce<Et.length;ce++)At=Et[ce],qt=Ht+mt(At,ce),ie+=pt(At,lt,kt,qt,Nt);else if(ce=A(Et),typeof ce=="function")for(Et=ce.call(Et),ce=0;!(At=Et.next()).done;)At=At.value,qt=Ht+mt(At,ce++),ie+=pt(At,lt,kt,qt,Nt);else if(qt==="object"){if(typeof Et.then=="function")return pt(wt(Et),lt,kt,At,Nt);throw lt=String(Et),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(Et).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return ie}function Ct(Et,lt,kt){if(Et==null)return Et;var At=[],Nt=0;return pt(Et,At,"","",function(qt){return lt.call(kt,qt,Nt++)}),At}function vt(Et){if(Et._status===-1){var lt=Et._result;lt=lt(),lt.then(function(kt){(Et._status===0||Et._status===-1)&&(Et._status=1,Et._result=kt)},function(kt){(Et._status===0||Et._status===-1)&&(Et._status=2,Et._result=kt)}),Et._status===-1&&(Et._status=0,Et._result=lt)}if(Et._status===1)return Et._result.default;throw Et._result}var It=typeof reportError=="function"?reportError:function(Et){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Et=="object"&&Et!==null&&typeof Et.message=="string"?String(Et.message):String(Et),error:Et});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Et);return}console.error(Et)},Ft={map:Ct,forEach:function(Et,lt,kt){Ct(Et,function(){lt.apply(this,arguments)},kt)},count:function(Et){var lt=0;return Ct(Et,function(){lt++}),lt},toArray:function(Et){return Ct(Et,function(lt){return lt})||[]},only:function(Et){if(!at(Et))throw Error("React.Children.only expected to receive a single React element child.");return Et}};return Aa.Activity=k,Aa.Children=Ft,Aa.Component=H,Aa.Fragment=r,Aa.Profiler=i,Aa.PureComponent=z,Aa.StrictMode=n,Aa.Suspense=g,Aa.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Aa.__COMPILER_RUNTIME={__proto__:null,c:function(Et){return rt.H.useMemoCache(Et)}},Aa.cache=function(Et){return function(){return Et.apply(null,arguments)}},Aa.cacheSignal=function(){return null},Aa.cloneElement=function(Et,lt,kt){if(Et==null)throw Error("The argument must be a React element, but you passed "+Et+".");var At=D({},Et.props),Nt=Et.key;if(lt!=null)for(qt in lt.key!==void 0&&(Nt=""+lt.key),lt)!st.call(lt,qt)||qt==="key"||qt==="__self"||qt==="__source"||qt==="ref"&&lt.ref===void 0||(At[qt]=lt[qt]);var qt=arguments.length-2;if(qt===1)At.children=kt;else if(1<qt){for(var ie=Array(qt),Ht=0;Ht<qt;Ht++)ie[Ht]=arguments[Ht+2];At.children=ie}return it(Et.type,Nt,At)},Aa.createContext=function(Et){return Et={$$typeof:u,_currentValue:Et,_currentValue2:Et,_threadCount:0,Provider:null,Consumer:null},Et.Provider=Et,Et.Consumer={$$typeof:o,_context:Et},Et},Aa.createElement=function(Et,lt,kt){var At,Nt={},qt=null;if(lt!=null)for(At in lt.key!==void 0&&(qt=""+lt.key),lt)st.call(lt,At)&&At!=="key"&&At!=="__self"&&At!=="__source"&&(Nt[At]=lt[At]);var ie=arguments.length-2;if(ie===1)Nt.children=kt;else if(1<ie){for(var Ht=Array(ie),ce=0;ce<ie;ce++)Ht[ce]=arguments[ce+2];Nt.children=Ht}if(Et&&Et.defaultProps)for(At in ie=Et.defaultProps,ie)Nt[At]===void 0&&(Nt[At]=ie[At]);return it(Et,qt,Nt)},Aa.createRef=function(){return{current:null}},Aa.forwardRef=function(Et){return{$$typeof:a,render:Et}},Aa.isValidElement=at,Aa.lazy=function(Et){return{$$typeof:x,_payload:{_status:-1,_result:Et},_init:vt}},Aa.memo=function(Et,lt){return{$$typeof:v,type:Et,compare:lt===void 0?null:lt}},Aa.startTransition=function(Et){var lt=rt.T,kt={};rt.T=kt;try{var At=Et(),Nt=rt.S;Nt!==null&&Nt(kt,At),typeof At=="object"&&At!==null&&typeof At.then=="function"&&At.then(Y,It)}catch(qt){It(qt)}finally{lt!==null&&kt.types!==null&&(lt.types=kt.types),rt.T=lt}},Aa.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Aa.use=function(Et){return rt.H.use(Et)},Aa.useActionState=function(Et,lt,kt){return rt.H.useActionState(Et,lt,kt)},Aa.useCallback=function(Et,lt){return rt.H.useCallback(Et,lt)},Aa.useContext=function(Et){return rt.H.useContext(Et)},Aa.useDebugValue=function(){},Aa.useDeferredValue=function(Et,lt){return rt.H.useDeferredValue(Et,lt)},Aa.useEffect=function(Et,lt){return rt.H.useEffect(Et,lt)},Aa.useEffectEvent=function(Et){return rt.H.useEffectEvent(Et)},Aa.useId=function(){return rt.H.useId()},Aa.useImperativeHandle=function(Et,lt,kt){return rt.H.useImperativeHandle(Et,lt,kt)},Aa.useInsertionEffect=function(Et,lt){return rt.H.useInsertionEffect(Et,lt)},Aa.useLayoutEffect=function(Et,lt){return rt.H.useLayoutEffect(Et,lt)},Aa.useMemo=function(Et,lt){return rt.H.useMemo(Et,lt)},Aa.useOptimistic=function(Et,lt){return rt.H.useOptimistic(Et,lt)},Aa.useReducer=function(Et,lt,kt){return rt.H.useReducer(Et,lt,kt)},Aa.useRef=function(Et){return rt.H.useRef(Et)},Aa.useState=function(Et){return rt.H.useState(Et)},Aa.useSyncExternalStore=function(Et,lt,kt){return rt.H.useSyncExternalStore(Et,lt,kt)},Aa.useTransition=function(){return rt.H.useTransition()},Aa.version="19.2.0",Aa}var KO;function IM(){return KO||(KO=1,uk.exports=eZ()),uk.exports}var ht=IM();const we=k$(ht),F_=QK({__proto__:null,default:we},[ht]);var ck={exports:{}},E1={},hk={exports:{}},dk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function rZ(){return ZO||(ZO=1,(function(t){function e(pt,Ct){var vt=pt.length;pt.push(Ct);t:for(;0<vt;){var It=vt-1>>>1,Ft=pt[It];if(0<i(Ft,Ct))pt[It]=Ct,pt[vt]=Ft,vt=It;else break t}}function r(pt){return pt.length===0?null:pt[0]}function n(pt){if(pt.length===0)return null;var Ct=pt[0],vt=pt.pop();if(vt!==Ct){pt[0]=vt;t:for(var It=0,Ft=pt.length,Et=Ft>>>1;It<Et;){var lt=2*(It+1)-1,kt=pt[lt],At=lt+1,Nt=pt[At];if(0>i(kt,vt))At<Ft&&0>i(Nt,kt)?(pt[It]=Nt,pt[At]=vt,It=At):(pt[It]=kt,pt[lt]=vt,It=lt);else if(At<Ft&&0>i(Nt,vt))pt[It]=Nt,pt[At]=vt,It=At;else break t}}return Ct}function i(pt,Ct){var vt=pt.sortIndex-Ct.sortIndex;return vt!==0?vt:pt.id-Ct.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,a=u.now();t.unstable_now=function(){return u.now()-a}}var g=[],v=[],x=1,k=null,R=3,A=!1,O=!1,D=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function j(pt){for(var Ct=r(v);Ct!==null;){if(Ct.callback===null)n(v);else if(Ct.startTime<=pt)n(v),Ct.sortIndex=Ct.expirationTime,e(g,Ct);else break;Ct=r(v)}}function X(pt){if(D=!1,j(pt),!O)if(r(g)!==null)O=!0,Y||(Y=!0,$());else{var Ct=r(v);Ct!==null&&wt(X,Ct.startTime-pt)}}var Y=!1,rt=-1,st=5,it=-1;function bt(){return U?!0:!(t.unstable_now()-it<st)}function at(){if(U=!1,Y){var pt=t.unstable_now();it=pt;var Ct=!0;try{t:{O=!1,D&&(D=!1,G(rt),rt=-1),A=!0;var vt=R;try{e:{for(j(pt),k=r(g);k!==null&&!(k.expirationTime>pt&&bt());){var It=k.callback;if(typeof It=="function"){k.callback=null,R=k.priorityLevel;var Ft=It(k.expirationTime<=pt);if(pt=t.unstable_now(),typeof Ft=="function"){k.callback=Ft,j(pt),Ct=!0;break e}k===r(g)&&n(g),j(pt)}else n(g);k=r(g)}if(k!==null)Ct=!0;else{var Et=r(v);Et!==null&&wt(X,Et.startTime-pt),Ct=!1}}break t}finally{k=null,R=vt,A=!1}Ct=void 0}}finally{Ct?$():Y=!1}}}var $;if(typeof z=="function")$=function(){z(at)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,mt=dt.port2;dt.port1.onmessage=at,$=function(){mt.postMessage(null)}}else $=function(){H(at,0)};function wt(pt,Ct){rt=H(function(){pt(t.unstable_now())},Ct)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(pt){pt.callback=null},t.unstable_forceFrameRate=function(pt){0>pt||125<pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<pt?Math.floor(1e3/pt):5},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_next=function(pt){switch(R){case 1:case 2:case 3:var Ct=3;break;default:Ct=R}var vt=R;R=Ct;try{return pt()}finally{R=vt}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(pt,Ct){switch(pt){case 1:case 2:case 3:case 4:case 5:break;default:pt=3}var vt=R;R=pt;try{return Ct()}finally{R=vt}},t.unstable_scheduleCallback=function(pt,Ct,vt){var It=t.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?It+vt:It):vt=It,pt){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=vt+Ft,pt={id:x++,callback:Ct,priorityLevel:pt,startTime:vt,expirationTime:Ft,sortIndex:-1},vt>It?(pt.sortIndex=vt,e(v,pt),r(g)===null&&pt===r(v)&&(D?(G(rt),rt=-1):D=!0,wt(X,vt-It))):(pt.sortIndex=Ft,e(g,pt),O||A||(O=!0,Y||(Y=!0,$()))),pt},t.unstable_shouldYield=bt,t.unstable_wrapCallback=function(pt){var Ct=R;return function(){var vt=R;R=Ct;try{return pt.apply(this,arguments)}finally{R=vt}}}})(dk)),dk}var QO;function nZ(){return QO||(QO=1,hk.exports=rZ()),hk.exports}var fk={exports:{}},Th={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function iZ(){if(JO)return Th;JO=1;var t=IM();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(g,v,x){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:k==null?null:""+k,children:g,containerInfo:v,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Th.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Th.createPortal=function(g,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return o(g,v,null,x)},Th.flushSync=function(g){var v=u.T,x=n.p;try{if(u.T=null,n.p=2,g)return g()}finally{u.T=v,n.p=x,n.d.f()}},Th.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,n.d.C(g,v))},Th.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},Th.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var x=v.as,k=a(x,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,A=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?n.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:k,integrity:R,fetchPriority:A}):x==="script"&&n.d.X(g,{crossOrigin:k,integrity:R,fetchPriority:A,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Th.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=a(v.as,v.crossOrigin);n.d.M(g,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&n.d.M(g)},Th.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,k=a(x,v.crossOrigin);n.d.L(g,x,{crossOrigin:k,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Th.preloadModule=function(g,v){if(typeof g=="string")if(v){var x=a(v.as,v.crossOrigin);n.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else n.d.m(g)},Th.requestFormReset=function(g){n.d.r(g)},Th.unstable_batchedUpdates=function(g,v){return g(v)},Th.useFormState=function(g,v,x){return u.H.useFormState(g,v,x)},Th.useFormStatus=function(){return u.H.useHostTransitionStatus()},Th.version="19.2.0",Th}var tD;function I$(){if(tD)return fk.exports;tD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fk.exports=iZ(),fk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function aZ(){if(eD)return E1;eD=1;var t=nZ(),e=IM(),r=I$();function n(c){var p="https://react.dev/errors/"+c;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function o(c){var p=c,w=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,(p.flags&4098)!==0&&(w=p.return),c=p.return;while(c)}return p.tag===3?w:null}function u(c){if(c.tag===13){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function a(c){if(c.tag===31){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function g(c){if(o(c)!==c)throw Error(n(188))}function v(c){var p=c.alternate;if(!p){if(p=o(c),p===null)throw Error(n(188));return p!==c?null:c}for(var w=c,I=p;;){var W=w.return;if(W===null)break;var et=W.alternate;if(et===null){if(I=W.return,I!==null){w=I;continue}break}if(W.child===et.child){for(et=W.child;et;){if(et===w)return g(W),c;if(et===I)return g(W),p;et=et.sibling}throw Error(n(188))}if(w.return!==I.return)w=W,I=et;else{for(var Ot=!1,se=W.child;se;){if(se===w){Ot=!0,w=W,I=et;break}if(se===I){Ot=!0,I=W,w=et;break}se=se.sibling}if(!Ot){for(se=et.child;se;){if(se===w){Ot=!0,w=et,I=W;break}if(se===I){Ot=!0,I=et,w=W;break}se=se.sibling}if(!Ot)throw Error(n(189))}}if(w.alternate!==I)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?c:p}function x(c){var p=c.tag;if(p===5||p===26||p===27||p===6)return c;for(c=c.child;c!==null;){if(p=x(c),p!==null)return p;c=c.sibling}return null}var k=Object.assign,R=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),rt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),bt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function $(c){return c===null||typeof c!="object"?null:(c=at&&c[at]||c["@@iterator"],typeof c=="function"?c:null)}var dt=Symbol.for("react.client.reference");function mt(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===dt?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case D:return"Fragment";case H:return"Profiler";case U:return"StrictMode";case X:return"Suspense";case Y:return"SuspenseList";case it:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case O:return"Portal";case z:return c.displayName||"Context";case G:return(c._context.displayName||"Context")+".Consumer";case j:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case rt:return p=c.displayName||null,p!==null?p:mt(c.type)||"Memo";case st:p=c._payload,c=c._init;try{return mt(c(p))}catch{}}return null}var wt=Array.isArray,pt=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt={pending:!1,data:null,method:null,action:null},It=[],Ft=-1;function Et(c){return{current:c}}function lt(c){0>Ft||(c.current=It[Ft],It[Ft]=null,Ft--)}function kt(c,p){Ft++,It[Ft]=c.current,c.current=p}var At=Et(null),Nt=Et(null),qt=Et(null),ie=Et(null);function Ht(c,p){switch(kt(qt,p),kt(Nt,c),kt(At,null),p.nodeType){case 9:case 11:c=(c=p.documentElement)&&(c=c.namespaceURI)?m1(c):0;break;default:if(c=p.tagName,p=p.namespaceURI)p=m1(p),c=lv(p,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}lt(At),kt(At,c)}function ce(){lt(At),lt(Nt),lt(qt)}function de(c){c.memoizedState!==null&&kt(ie,c);var p=At.current,w=lv(p,c.type);p!==w&&(kt(Nt,c),kt(At,w))}function Se(c){Nt.current===c&&(lt(At),lt(Nt)),ie.current===c&&(lt(ie),ui._currentValue=vt)}var $t,He;function ke(c){if($t===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);$t=p&&p[1]||"",He=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$t+c+He}var Jt=!1;function Vr(c,p){if(!c||Jt)return"";Jt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(p){var fn=function(){throw Error()};if(Object.defineProperty(fn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fn,[])}catch(Ur){var Cr=Ur}Reflect.construct(c,[],fn)}else{try{fn.call()}catch(Ur){Cr=Ur}c.call(fn.prototype)}}else{try{throw Error()}catch(Ur){Cr=Ur}(fn=c())&&typeof fn.catch=="function"&&fn.catch(function(){})}}catch(Ur){if(Ur&&Cr&&typeof Ur.stack=="string")return[Ur.stack,Cr.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var W=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");W&&W.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var et=I.DetermineComponentFrameRoot(),Ot=et[0],se=et[1];if(Ot&&se){var Ye=Ot.split(`
`),Br=se.split(`
`);for(W=I=0;I<Ye.length&&!Ye[I].includes("DetermineComponentFrameRoot");)I++;for(;W<Br.length&&!Br[W].includes("DetermineComponentFrameRoot");)W++;if(I===Ye.length||W===Br.length)for(I=Ye.length-1,W=Br.length-1;1<=I&&0<=W&&Ye[I]!==Br[W];)W--;for(;1<=I&&0<=W;I--,W--)if(Ye[I]!==Br[W]){if(I!==1||W!==1)do if(I--,W--,0>W||Ye[I]!==Br[W]){var Jr=`
`+Ye[I].replace(" at new "," at ");return c.displayName&&Jr.includes("<anonymous>")&&(Jr=Jr.replace("<anonymous>",c.displayName)),Jr}while(1<=I&&0<=W);break}}}finally{Jt=!1,Error.prepareStackTrace=w}return(w=c?c.displayName||c.name:"")?ke(w):""}function vr(c,p){switch(c.tag){case 26:case 27:case 5:return ke(c.type);case 16:return ke("Lazy");case 13:return c.child!==p&&p!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Vr(c.type,!1);case 11:return Vr(c.type.render,!1);case 1:return Vr(c.type,!0);case 31:return ke("Activity");default:return""}}function Dr(c){try{var p="",w=null;do p+=vr(c,w),w=c,c=c.return;while(c);return p}catch(I){return`
Error generating stack: `+I.message+`
`+I.stack}}var Ie=Object.prototype.hasOwnProperty,Mr=t.unstable_scheduleCallback,ir=t.unstable_cancelCallback,Rr=t.unstable_shouldYield,Pr=t.unstable_requestPaint,Ir=t.unstable_now,dr=t.unstable_getCurrentPriorityLevel,ar=t.unstable_ImmediatePriority,Or=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,Fr=t.unstable_LowPriority,Ze=t.unstable_IdlePriority,rr=t.log,Me=t.unstable_setDisableYieldValue,jt=null,Mt=null;function Bt(c){if(typeof rr=="function"&&Me(c),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(jt,c)}catch{}}var oe=Math.clz32?Math.clz32:Ge,ye=Math.log,je=Math.LN2;function Ge(c){return c>>>=0,c===0?32:31-(ye(c)/je|0)|0}var Ue=256,fr=262144,Ke=4194304;function Pe(c){var p=c&42;if(p!==0)return p;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function cr(c,p,w){var I=c.pendingLanes;if(I===0)return 0;var W=0,et=c.suspendedLanes,Ot=c.pingedLanes;c=c.warmLanes;var se=I&134217727;return se!==0?(I=se&~et,I!==0?W=Pe(I):(Ot&=se,Ot!==0?W=Pe(Ot):w||(w=se&~c,w!==0&&(W=Pe(w))))):(se=I&~et,se!==0?W=Pe(se):Ot!==0?W=Pe(Ot):w||(w=I&~c,w!==0&&(W=Pe(w)))),W===0?0:p!==0&&p!==W&&(p&et)===0&&(et=W&-W,w=p&-p,et>=w||et===32&&(w&4194048)!==0)?p:W}function Oe(c,p){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&p)===0}function Wr(c,p){switch(c){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(){var c=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),c}function vn(c){for(var p=[],w=0;31>w;w++)p.push(c);return p}function Kr(c,p){c.pendingLanes|=p,p!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Kn(c,p,w,I,W,et){var Ot=c.pendingLanes;c.pendingLanes=w,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=w,c.entangledLanes&=w,c.errorRecoveryDisabledLanes&=w,c.shellSuspendCounter=0;var se=c.entanglements,Ye=c.expirationTimes,Br=c.hiddenUpdates;for(w=Ot&~w;0<w;){var Jr=31-oe(w),fn=1<<Jr;se[Jr]=0,Ye[Jr]=-1;var Cr=Br[Jr];if(Cr!==null)for(Br[Jr]=null,Jr=0;Jr<Cr.length;Jr++){var Ur=Cr[Jr];Ur!==null&&(Ur.lane&=-536870913)}w&=~fn}I!==0&&Pt(c,I,0),et!==0&&W===0&&c.tag!==0&&(c.suspendedLanes|=et&~(Ot&~p))}function Pt(c,p,w){c.pendingLanes|=p,c.suspendedLanes&=~p;var I=31-oe(p);c.entangledLanes|=p,c.entanglements[I]=c.entanglements[I]|1073741824|w&261930}function Xt(c,p){var w=c.entangledLanes|=p;for(c=c.entanglements;w;){var I=31-oe(w),W=1<<I;W&p|c[I]&p&&(c[I]|=p),w&=~W}}function be(c,p){var w=p&-p;return w=(w&42)!==0?1:ze(w),(w&(c.suspendedLanes|p))!==0?0:w}function ze(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Lr(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function yn(){var c=Ct.p;return c!==0?c:(c=window.event,c===void 0?32:Fc(c.type))}function $r(c,p){var w=Ct.p;try{return Ct.p=c,p()}finally{Ct.p=w}}var fi=Math.random().toString(36).slice(2),On="__reactFiber$"+fi,li="__reactProps$"+fi,Ki="__reactContainer$"+fi,en="__reactEvents$"+fi,Rn="__reactListeners$"+fi,Xn="__reactHandles$"+fi,Ra="__reactResources$"+fi,_o="__reactMarker$"+fi;function Na(c){delete c[On],delete c[li],delete c[en],delete c[Rn],delete c[Xn]}function Mn(c){var p=c[On];if(p)return p;for(var w=c.parentNode;w;){if(p=w[Ki]||w[On]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(c=_1(c);c!==null;){if(w=c[On])return w;c=_1(c)}return p}c=w,w=c.parentNode}return null}function io(c){if(c=c[On]||c[Ki]){var p=c.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return c}return null}function rl(c){var p=c.tag;if(p===5||p===26||p===27||p===6)return c.stateNode;throw Error(n(33))}function ra(c){var p=c[Ra];return p||(p=c[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function sa(c){c[_o]=!0}var cu=new Set,Vi={};function nl(c,p){Xo(c,p),Xo(c+"Capture",p)}function Xo(c,p){for(Vi[c]=p,c=0;c<p.length;c++)cu.add(p[c])}var Mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},zl={};function Ks(c){return Ie.call(zl,c)?!0:Ie.call(xs,c)?!1:Mi.test(c)?zl[c]=!0:(xs[c]=!0,!1)}function Do(c,p,w){if(Ks(p))if(w===null)c.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":c.removeAttribute(p);return;case"boolean":var I=p.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-"){c.removeAttribute(p);return}}c.setAttribute(p,""+w)}}function Fl(c,p,w){if(w===null)c.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttribute(p,""+w)}}function Ga(c,p,w,I){if(I===null)c.removeAttribute(w);else{switch(typeof I){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(w);return}c.setAttributeNS(p,w,""+I)}}function fl(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Gc(c){var p=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function pl(c,p,w){var I=Object.getOwnPropertyDescriptor(c.constructor.prototype,p);if(!c.hasOwnProperty(p)&&typeof I<"u"&&typeof I.get=="function"&&typeof I.set=="function"){var W=I.get,et=I.set;return Object.defineProperty(c,p,{configurable:!0,get:function(){return W.call(this)},set:function(Ot){w=""+Ot,et.call(this,Ot)}}),Object.defineProperty(c,p,{enumerable:I.enumerable}),{getValue:function(){return w},setValue:function(Ot){w=""+Ot},stopTracking:function(){c._valueTracker=null,delete c[p]}}}}function El(c){if(!c._valueTracker){var p=Gc(c)?"checked":"value";c._valueTracker=pl(c,p,""+c[p])}}function Wo(c){if(!c)return!1;var p=c._valueTracker;if(!p)return!0;var w=p.getValue(),I="";return c&&(I=Gc(c)?c.checked?"true":"false":c.value),c=I,c!==w?(p.setValue(c),!0):!1}function Yo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Ko=/[\n"\\]/g;function Zo(c){return c.replace(Ko,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function ic(c,p,w,I,W,et,Ot,se){c.name="",Ot!=null&&typeof Ot!="function"&&typeof Ot!="symbol"&&typeof Ot!="boolean"?c.type=Ot:c.removeAttribute("type"),p!=null?Ot==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+fl(p)):c.value!==""+fl(p)&&(c.value=""+fl(p)):Ot!=="submit"&&Ot!=="reset"||c.removeAttribute("value"),p!=null?Q(c,Ot,fl(p)):w!=null?Q(c,Ot,fl(w)):I!=null&&c.removeAttribute("value"),W==null&&et!=null&&(c.defaultChecked=!!et),W!=null&&(c.checked=W&&typeof W!="function"&&typeof W!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?c.name=""+fl(se):c.removeAttribute("name")}function yc(c,p,w,I,W,et,Ot,se){if(et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"&&(c.type=et),p!=null||w!=null){if(!(et!=="submit"&&et!=="reset"||p!=null)){El(c);return}w=w!=null?""+fl(w):"",p=p!=null?""+fl(p):w,se||p===c.value||(c.value=p),c.defaultValue=p}I=I??W,I=typeof I!="function"&&typeof I!="symbol"&&!!I,c.checked=se?c.checked:!!I,c.defaultChecked=!!I,Ot!=null&&typeof Ot!="function"&&typeof Ot!="symbol"&&typeof Ot!="boolean"&&(c.name=Ot),El(c)}function Q(c,p,w){p==="number"&&Yo(c.ownerDocument)===c||c.defaultValue===""+w||(c.defaultValue=""+w)}function gt(c,p,w,I){if(c=c.options,p){p={};for(var W=0;W<w.length;W++)p["$"+w[W]]=!0;for(w=0;w<c.length;w++)W=p.hasOwnProperty("$"+c[w].value),c[w].selected!==W&&(c[w].selected=W),W&&I&&(c[w].defaultSelected=!0)}else{for(w=""+fl(w),p=null,W=0;W<c.length;W++){if(c[W].value===w){c[W].selected=!0,I&&(c[W].defaultSelected=!0);return}p!==null||c[W].disabled||(p=c[W])}p!==null&&(p.selected=!0)}}function ee(c,p,w){if(p!=null&&(p=""+fl(p),p!==c.value&&(c.value=p),w==null)){c.defaultValue!==p&&(c.defaultValue=p);return}c.defaultValue=w!=null?""+fl(w):""}function Re(c,p,w,I){if(p==null){if(I!=null){if(w!=null)throw Error(n(92));if(wt(I)){if(1<I.length)throw Error(n(93));I=I[0]}w=I}w==null&&(w=""),p=w}w=fl(p),c.defaultValue=w,I=c.textContent,I===w&&I!==""&&I!==null&&(c.value=I),El(c)}function qe(c,p){if(p){var w=c.firstChild;if(w&&w===c.lastChild&&w.nodeType===3){w.nodeValue=p;return}}c.textContent=p}var Fe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nr(c,p,w){var I=p.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?I?c.setProperty(p,""):p==="float"?c.cssFloat="":c[p]="":I?c.setProperty(p,w):typeof w!="number"||w===0||Fe.has(p)?p==="float"?c.cssFloat=w:c[p]=(""+w).trim():c[p]=w+"px"}function rn(c,p,w){if(p!=null&&typeof p!="object")throw Error(n(62));if(c=c.style,w!=null){for(var I in w)!w.hasOwnProperty(I)||p!=null&&p.hasOwnProperty(I)||(I.indexOf("--")===0?c.setProperty(I,""):I==="float"?c.cssFloat="":c[I]="");for(var W in p)I=p[W],p.hasOwnProperty(W)&&w[W]!==I&&nr(c,W,I)}else for(var et in p)p.hasOwnProperty(et)&&nr(c,et,p[et])}function pn(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dn(c){return Sn.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Wn(){}var Nn=null;function ti(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var jn=null,Zr=null;function Ln(c){var p=io(c);if(p&&(c=p.stateNode)){var w=c[li]||null;t:switch(c=p.stateNode,p.type){case"input":if(ic(c,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),p=w.name,w.type==="radio"&&p!=null){for(w=c;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+Zo(""+p)+'"][type="radio"]'),p=0;p<w.length;p++){var I=w[p];if(I!==c&&I.form===c.form){var W=I[li]||null;if(!W)throw Error(n(90));ic(I,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name)}}for(p=0;p<w.length;p++)I=w[p],I.form===c.form&&Wo(I)}break t;case"textarea":ee(c,w.value,w.defaultValue);break t;case"select":p=w.value,p!=null&&gt(c,!!w.multiple,p,!1)}}}var yi=!1;function na(c,p,w){if(yi)return c(p,w);yi=!0;try{var I=c(p);return I}finally{if(yi=!1,(jn!==null||Zr!==null)&&(Hp(),jn&&(p=jn,c=Zr,Zr=jn=null,Ln(p),c)))for(p=0;p<c.length;p++)Ln(c[p])}}function Ii(c,p){var w=c.stateNode;if(w===null)return null;var I=w[li]||null;if(I===null)return null;w=I[p];t:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(c=c.type,I=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!I;break t;default:c=!1}if(c)return null;if(w&&typeof w!="function")throw Error(n(231,p,typeof w));return w}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(Bi)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){la=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{la=!1}var Ha=null,pi=null,ei=null;function Tl(){if(ei)return ei;var c,p=pi,w=p.length,I,W="value"in Ha?Ha.value:Ha.textContent,et=W.length;for(c=0;c<w&&p[c]===W[c];c++);var Ot=w-c;for(I=1;I<=Ot&&p[w-I]===W[et-I];I++);return ei=W.slice(c,1<I?1-I:void 0)}function zn(c){var p=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&p===13&&(c=13)):c=p,c===10&&(c=13),32<=c||c===13?c:0}function jl(){return!0}function No(){return!1}function xo(c){function p(w,I,W,et,Ot){this._reactName=w,this._targetInst=W,this.type=I,this.nativeEvent=et,this.target=Ot,this.currentTarget=null;for(var se in c)c.hasOwnProperty(se)&&(w=c[se],this[se]=w?w(et):et[se]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?jl:No,this.isPropagationStopped=No,this}return k(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),p}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=xo(fo),Ms=k({},fo,{view:0,detail:0}),Cl=xo(Ms),xu,Vl,wo,Bo=k({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==wo&&(wo&&c.type==="mousemove"?(xu=c.screenX-wo.screenX,Vl=c.screenY-wo.screenY):Vl=xu=0,wo=c),xu)},movementY:function(c){return"movementY"in c?c.movementY:Vl}}),Ba=xo(Bo),zo=k({},Bo,{dataTransfer:0}),ut=xo(zo),Yt=k({},Ms,{relatedTarget:0}),ve=xo(Yt),Xe=k({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),pr=xo(Xe),Yr=k({},fo,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),mn=xo(Yr),$n=k({},fo,{data:0}),ri=xo($n),Ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(c){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(c):(c=wi[c])?!!p[c]:!1}function Pi(){return xa}var $i=k({},Ms,{key:function(c){if(c.key){var p=Ti[c.key]||c.key;if(p!=="Unidentified")return p}return c.type==="keypress"?(c=zn(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Fi[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(c){return c.type==="keypress"?zn(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?zn(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Lo=xo($i),Qa=k({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=xo(Qa),$l=k({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),wu=xo($l),Ic=k({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ul=xo(Ic),Rc=k({},Bo,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),po=xo(Rc),Su=k({},fo,{newState:0,oldState:0}),vc=xo(Su),ql=[9,13,27,32],So=Bi&&"CompositionEvent"in window,Fo=null;Bi&&"documentMode"in document&&(Fo=document.documentMode);var Ja=Bi&&"TextEvent"in window&&!Fo,hu=Bi&&(!So||Fo&&8<Fo&&11>=Fo),$u=" ",oo=!1;function bc(c,p){switch(c){case"keyup":return ql.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uu(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var il=!1;function ws(c,p){switch(c){case"compositionend":return Uu(p);case"keypress":return p.which!==32?null:(oo=!0,$u);case"textInput":return c=p.data,c===$u&&oo?null:c;default:return null}}function Zs(c,p){if(il)return c==="compositionend"||!So&&bc(c,p)?(c=Tl(),ei=pi=Ha=null,il=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return hu&&p.locale!=="ko"?null:p.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p==="input"?!!mh[c.type]:p==="textarea"}function qu(c,p,w,I){jn?Zr?Zr.push(I):Zr=[I]:jn=I,p=sv(p,"onChange"),0<p.length&&(w=new _u("onChange","change",null,w,I),c.push({event:w,listeners:p}))}var Gl=null,jo=null;function Ss(c){d1(c,0)}function Gu(c){var p=rl(c);if(Wo(p))return c}function Es(c,p){if(c==="change")return p}var Hu=!1;if(Bi){var Ps;if(Bi){var du="oninput"in document;if(!du){var Eo=document.createElement("div");Eo.setAttribute("oninput","return;"),du=typeof Eo.oninput=="function"}Ps=du}else Ps=!1;Hu=Ps&&(!document.documentMode||9<document.documentMode)}function fu(){Gl&&(Gl.detachEvent("onpropertychange",pu),jo=Gl=null)}function pu(c){if(c.propertyName==="value"&&Gu(jo)){var p=[];qu(p,jo,c,ti(c)),na(Ss,p)}}function Al(c,p,w){c==="focusin"?(fu(),Gl=p,jo=w,Gl.attachEvent("onpropertychange",pu)):c==="focusout"&&fu()}function _c(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Gu(jo)}function Xc(c,p){if(c==="click")return Gu(p)}function Eu(c,p){if(c==="input"||c==="change")return Gu(p)}function xc(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var Ts=typeof Object.is=="function"?Object.is:xc;function lr(c,p){if(Ts(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var w=Object.keys(c),I=Object.keys(p);if(w.length!==I.length)return!1;for(I=0;I<w.length;I++){var W=w[I];if(!Ie.call(p,W)||!Ts(c[W],p[W]))return!1}return!0}function mr(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function An(c,p){var w=mr(c);c=0;for(var I;w;){if(w.nodeType===3){if(I=c+w.textContent.length,c<=p&&I>=p)return{node:w,offset:p-c};c=I}t:{for(;w;){if(w.nextSibling){w=w.nextSibling;break t}w=w.parentNode}w=void 0}w=mr(w)}}function Dn(c,p){return c&&p?c===p?!0:c&&c.nodeType===3?!1:p&&p.nodeType===3?Dn(c,p.parentNode):"contains"in c?c.contains(p):c.compareDocumentPosition?!!(c.compareDocumentPosition(p)&16):!1:!1}function Ni(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var p=Yo(c.document);p instanceof c.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)c=p.contentWindow;else break;p=Yo(c.document)}return p}function Vn(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p&&(p==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||p==="textarea"||c.contentEditable==="true")}var C=Bi&&"documentMode"in document&&11>=document.documentMode,m=null,y=null,T=null,F=!1;function nt(c,p,w){var I=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;F||m==null||m!==Yo(I)||(I=m,"selectionStart"in I&&Vn(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),T&&lr(T,I)||(T=I,I=sv(y,"onSelect"),0<I.length&&(p=new _u("onSelect","select",null,p,w),c.push({event:p,listeners:I}),p.target=m)))}function xt(c,p){var w={};return w[c.toLowerCase()]=p.toLowerCase(),w["Webkit"+c]="webkit"+p,w["Moz"+c]="moz"+p,w}var Dt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionrun:xt("Transition","TransitionRun"),transitionstart:xt("Transition","TransitionStart"),transitioncancel:xt("Transition","TransitionCancel"),transitionend:xt("Transition","TransitionEnd")},re={},_e={};Bi&&(_e=document.createElement("div").style,"AnimationEvent"in window||(delete Dt.animationend.animation,delete Dt.animationiteration.animation,delete Dt.animationstart.animation),"TransitionEvent"in window||delete Dt.transitionend.transition);function sr(c){if(re[c])return re[c];if(!Dt[c])return c;var p=Dt[c],w;for(w in p)if(p.hasOwnProperty(w)&&w in _e)return re[c]=p[w];return c}var _r=sr("animationend"),tn=sr("animationiteration"),In=sr("animationstart"),Zn=sr("transitionrun"),hi=sr("transitionstart"),Yn=sr("transitioncancel"),Hn=sr("transitionend"),fa=new Map,Ui="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ui.push("scrollEnd");function $a(c,p){fa.set(c,p),nl(p,[c])}var Vo=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},so=[],ls=0,Tu=0;function Cu(){for(var c=ls,p=Tu=ls=0;p<c;){var w=so[p];so[p++]=null;var I=so[p];so[p++]=null;var W=so[p];so[p++]=null;var et=so[p];if(so[p++]=null,I!==null&&W!==null){var Ot=I.pending;Ot===null?W.next=W:(W.next=Ot.next,Ot.next=W),I.pending=W}et!==0&&Il(w,W,et)}}function kl(c,p,w,I){so[ls++]=c,so[ls++]=p,so[ls++]=w,so[ls++]=I,Tu|=I,c.lanes|=I,c=c.alternate,c!==null&&(c.lanes|=I)}function ml(c,p,w,I){return kl(c,p,w,I),To(c)}function Au(c,p){return kl(c,null,null,p),To(c)}function Il(c,p,w){c.lanes|=w;var I=c.alternate;I!==null&&(I.lanes|=w);for(var W=!1,et=c.return;et!==null;)et.childLanes|=w,I=et.alternate,I!==null&&(I.childLanes|=w),et.tag===22&&(c=et.stateNode,c===null||c._visibility&1||(W=!0)),c=et,et=et.return;return c.tag===3?(et=c.stateNode,W&&p!==null&&(W=31-oe(w),c=et.hiddenUpdates,I=c[W],I===null?c[W]=[p]:I.push(p),p.lane=w|536870912),et):null}function To(c){if(50<Wg)throw Wg=0,pf=null,Error(n(185));for(var p=c.return;p!==null;)c=p,p=c.return;return c.tag===3?c.stateNode:null}var Cs={};function Wc(c,p,w,I){this.tag=c,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(c,p,w,I){return new Wc(c,p,w,I)}function Xu(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Hl(c,p){var w=c.alternate;return w===null?(w=mi(c.tag,p,c.key,c.mode),w.elementType=c.elementType,w.type=c.type,w.stateNode=c.stateNode,w.alternate=c,c.alternate=w):(w.pendingProps=p,w.type=c.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=c.flags&65011712,w.childLanes=c.childLanes,w.lanes=c.lanes,w.child=c.child,w.memoizedProps=c.memoizedProps,w.memoizedState=c.memoizedState,w.updateQueue=c.updateQueue,p=c.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=c.sibling,w.index=c.index,w.ref=c.ref,w.refCleanup=c.refCleanup,w}function sf(c,p){c.flags&=65011714;var w=c.alternate;return w===null?(c.childLanes=0,c.lanes=p,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=w.childLanes,c.lanes=w.lanes,c.child=w.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=w.memoizedProps,c.memoizedState=w.memoizedState,c.updateQueue=w.updateQueue,c.type=w.type,p=w.dependencies,c.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),c}function gh(c,p,w,I,W,et){var Ot=0;if(I=c,typeof c=="function")Xu(c)&&(Ot=1);else if(typeof c=="string")Ot=hn(c,w,At.current)?26:c==="html"||c==="head"||c==="body"?27:5;else t:switch(c){case it:return c=mi(31,w,p,W),c.elementType=it,c.lanes=et,c;case D:return Jh(w.children,W,et,p);case U:Ot=8,W|=24;break;case H:return c=mi(12,w,p,W|2),c.elementType=H,c.lanes=et,c;case X:return c=mi(13,w,p,W),c.elementType=X,c.lanes=et,c;case Y:return c=mi(19,w,p,W),c.elementType=Y,c.lanes=et,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case z:Ot=10;break t;case G:Ot=9;break t;case j:Ot=11;break t;case rt:Ot=14;break t;case st:Ot=16,I=null;break t}Ot=29,w=Error(n(130,c===null?"null":typeof c,"")),I=null}return p=mi(Ot,w,p,W),p.elementType=c,p.type=I,p.lanes=et,p}function Jh(c,p,w,I){return c=mi(7,c,I,p),c.lanes=w,c}function qf(c,p,w){return c=mi(6,c,null,p),c.lanes=w,c}function Gf(c){var p=mi(18,null,null,0);return p.stateNode=c,p}function Ed(c,p,w){return p=mi(4,c.children!==null?c.children:[],c.key,p),p.lanes=w,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}var Td=new WeakMap;function Wu(c,p){if(typeof c=="object"&&c!==null){var w=Td.get(c);return w!==void 0?w:(p={value:c,source:p,stack:Dr(p)},Td.set(c,p),p)}return{value:c,source:p,stack:Dr(p)}}var Dh=[],Yc=0,Cd=null,Ad=0,ku=[],mu=0,wc=null,Iu=1,ac="";function gl(c,p){Dh[Yc++]=Ad,Dh[Yc++]=Cd,Cd=c,Ad=p}function Dg(c,p,w){ku[mu++]=Iu,ku[mu++]=ac,ku[mu++]=wc,wc=c;var I=Iu;c=ac;var W=32-oe(I)-1;I&=~(1<<W),w+=1;var et=32-oe(p)+W;if(30<et){var Ot=W-W%5;et=(I&(1<<Ot)-1).toString(32),I>>=Ot,W-=Ot,Iu=1<<32-oe(p)+W|w<<W|I,ac=et+c}else Iu=1<<et|w<<W|I,ac=c}function Lp(c){c.return!==null&&(gl(c,1),Dg(c,1,0))}function kd(c){for(;c===Cd;)Cd=Dh[--Yc],Dh[Yc]=null,Ad=Dh[--Yc],Dh[Yc]=null;for(;c===wc;)wc=ku[--mu],ku[mu]=null,ac=ku[--mu],ku[mu]=null,Iu=ku[--mu],ku[mu]=null}function Mp(c,p){ku[mu++]=Iu,ku[mu++]=ac,ku[mu++]=wc,Iu=p.id,ac=p.overflow,wc=c}var Xl=null,Qo=null,wa=!1,Wl=null,us=!1,Nc=Error(n(519));function mo(c){var p=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(Wu(p,c)),Nc}function yh(c){var p=c.stateNode,w=c.type,I=c.memoizedProps;switch(p[On]=c,p[li]=I,w){case"dialog":Oa("cancel",p),Oa("close",p);break;case"iframe":case"object":case"embed":Oa("load",p);break;case"video":case"audio":for(w=0;w<Zg.length;w++)Oa(Zg[w],p);break;case"source":Oa("error",p);break;case"img":case"image":case"link":Oa("error",p),Oa("load",p);break;case"details":Oa("toggle",p);break;case"input":Oa("invalid",p),yc(p,I.value,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name,!0);break;case"select":Oa("invalid",p);break;case"textarea":Oa("invalid",p),Re(p,I.value,I.defaultValue,I.children)}w=I.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||p.textContent===""+w||I.suppressHydrationWarning===!0||ap(p.textContent,w)?(I.popover!=null&&(Oa("beforetoggle",p),Oa("toggle",p)),I.onScroll!=null&&Oa("scroll",p),I.onScrollEnd!=null&&Oa("scrollend",p),I.onClick!=null&&(p.onclick=Wn),p=!0):p=!1,p||mo(c,!0)}function yl(c){for(Xl=c.return;Xl;)switch(Xl.tag){case 5:case 31:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Xl=Xl.return}}function vl(c){if(c!==Xl)return!1;if(!wa)return yl(c),wa=!0,!1;var p=c.tag,w;if((w=p!==3&&p!==27)&&((w=p===5)&&(w=c.type,w=!(w!=="form"&&w!=="button")||Jg(c.type,c.memoizedProps)),w=!w),w&&Qo&&mo(c),yl(c),p===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Qo=sb(c)}else if(p===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Qo=sb(c)}else p===27?(p=Qo,op(c.type)?(c=Zm,Zm=null,Qo=c):Qo=p):Qo=Xl?qh(c.stateNode.nextSibling):null;return!0}function Kc(){Qo=Xl=null,wa=!1}function td(){var c=Wl;return c!==null&&(eh===null?eh=c:eh.push.apply(eh,c),Wl=null),c}function Zc(c){Wl===null?Wl=[c]:Wl.push(c)}var lf=Et(null),Lc=null,Mc=null;function Bh(c,p,w){kt(lf,p._currentValue),p._currentValue=w}function Sc(c){c._currentValue=lf.current,lt(lf)}function Qc(c,p,w){for(;c!==null;){var I=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,I!==null&&(I.childLanes|=p)):I!==null&&(I.childLanes&p)!==p&&(I.childLanes|=p),c===w)break;c=c.return}}function Pc(c,p,w,I){var W=c.child;for(W!==null&&(W.return=c);W!==null;){var et=W.dependencies;if(et!==null){var Ot=W.child;et=et.firstContext;t:for(;et!==null;){var se=et;et=W;for(var Ye=0;Ye<p.length;Ye++)if(se.context===p[Ye]){et.lanes|=w,se=et.alternate,se!==null&&(se.lanes|=w),Qc(et.return,w,c),I||(Ot=null);break t}et=se.next}}else if(W.tag===18){if(Ot=W.return,Ot===null)throw Error(n(341));Ot.lanes|=w,et=Ot.alternate,et!==null&&(et.lanes|=w),Qc(Ot,w,c),Ot=null}else Ot=W.child;if(Ot!==null)Ot.return=W;else for(Ot=W;Ot!==null;){if(Ot===c){Ot=null;break}if(W=Ot.sibling,W!==null){W.return=Ot.return,Ot=W;break}Ot=Ot.return}W=Ot}}function al(c,p,w,I){c=null;for(var W=p,et=!1;W!==null;){if(!et){if((W.flags&524288)!==0)et=!0;else if((W.flags&262144)!==0)break}if(W.tag===10){var Ot=W.alternate;if(Ot===null)throw Error(n(387));if(Ot=Ot.memoizedProps,Ot!==null){var se=W.type;Ts(W.pendingProps.value,Ot.value)||(c!==null?c.push(se):c=[se])}}else if(W===ie.current){if(Ot=W.alternate,Ot===null)throw Error(n(387));Ot.memoizedState.memoizedState!==W.memoizedState.memoizedState&&(c!==null?c.push(ui):c=[ui])}W=W.return}c!==null&&Pc(p,c,w,I),p.flags|=262144}function oc(c){for(c=c.firstContext;c!==null;){if(!Ts(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function vh(c){Lc=c,Mc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Yl(c){return Id(Lc,c)}function Hf(c,p){return Lc===null&&vh(c),Id(c,p)}function Id(c,p){var w=p._currentValue;if(p={context:p,memoizedValue:w,next:null},Mc===null){if(c===null)throw Error(n(308));Mc=p,c.dependencies={lanes:0,firstContext:p},c.flags|=524288}else Mc=Mc.next=p;return w}var Vm=typeof AbortController<"u"?AbortController:function(){var c=[],p=this.signal={aborted:!1,addEventListener:function(w,I){c.push(I)}};this.abort=function(){p.aborted=!0,c.forEach(function(w){return w()})}},Pp=t.unstable_scheduleCallback,Bg=t.unstable_NormalPriority,As={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new Vm,data:new Map,refCount:0}}function bh(c){c.refCount--,c.refCount===0&&Pp(Bg,function(){c.controller.abort()})}var Ru=null,sc=0,V=0,Z=null;function yt(c,p){if(Ru===null){var w=Ru=[];sc=0,V=c1(),Z={status:"pending",value:void 0,then:function(I){w.push(I)}}}return sc++,p.then(Lt,Lt),p}function Lt(){if(--sc===0&&Ru!==null){Z!==null&&(Z.status="fulfilled");var c=Ru;Ru=null,V=0,Z=null;for(var p=0;p<c.length;p++)(0,c[p])()}}function Kt(c,p){var w=[],I={status:"pending",value:null,reason:null,then:function(W){w.push(W)}};return c.then(function(){I.status="fulfilled",I.value=p;for(var W=0;W<w.length;W++)(0,w[W])(p)},function(W){for(I.status="rejected",I.reason=W,W=0;W<w.length;W++)(0,w[W])(void 0)}),I}var ne=pt.S;pt.S=function(c,p){CS=Ir(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&yt(c,p),ne!==null&&ne(c,p)};var ae=Et(null);function ue(){var c=ae.current;return c!==null?c:Go.pooledCache}function ge(c,p){p===null?kt(ae,ae.current):kt(ae,p.pool)}function Te(){var c=ue();return c===null?null:{parent:As._currentValue,pool:c}}var Ce=Error(n(460)),Nr=Error(n(474)),Ae=Error(n(542)),hr={then:function(){}};function br(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Xr(c,p,w){switch(w=c[w],w===void 0?c.push(p):w!==p&&(p.then(Wn,Wn),p=w),p.status){case"fulfilled":return p.value;case"rejected":throw c=p.reason,wn(c),c;default:if(typeof p.status=="string")p.then(Wn,Wn);else{if(c=Go,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=p,c.status="pending",c.then(function(I){if(p.status==="pending"){var W=p;W.status="fulfilled",W.value=I}},function(I){if(p.status==="pending"){var W=p;W.status="rejected",W.reason=I}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw c=p.reason,wn(c),c}throw wr=p,Ce}}function Er(c){try{var p=c._init;return p(c._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(wr=w,Ce):w}}var wr=null;function Qr(){if(wr===null)throw Error(n(459));var c=wr;return wr=null,c}function wn(c){if(c===Ce||c===Ae)throw Error(n(483))}var ln=null,ci=0;function ni(c){var p=ci;return ci+=1,ln===null&&(ln=[]),Xr(ln,c,p)}function zi(c,p){p=p.props.ref,c.ref=p!==void 0?p:null}function ai(c,p){throw p.$$typeof===R?Error(n(525)):(c=Object.prototype.toString.call(p),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c)))}function Ea(c){function p(gr,ur){if(c){var zr=gr.deletions;zr===null?(gr.deletions=[ur],gr.flags|=16):zr.push(ur)}}function w(gr,ur){if(!c)return null;for(;ur!==null;)p(gr,ur),ur=ur.sibling;return null}function I(gr){for(var ur=new Map;gr!==null;)gr.key!==null?ur.set(gr.key,gr):ur.set(gr.index,gr),gr=gr.sibling;return ur}function W(gr,ur){return gr=Hl(gr,ur),gr.index=0,gr.sibling=null,gr}function et(gr,ur,zr){return gr.index=zr,c?(zr=gr.alternate,zr!==null?(zr=zr.index,zr<ur?(gr.flags|=67108866,ur):zr):(gr.flags|=67108866,ur)):(gr.flags|=1048576,ur)}function Ot(gr){return c&&gr.alternate===null&&(gr.flags|=67108866),gr}function se(gr,ur,zr,cn){return ur===null||ur.tag!==6?(ur=qf(zr,gr.mode,cn),ur.return=gr,ur):(ur=W(ur,zr),ur.return=gr,ur)}function Ye(gr,ur,zr,cn){var Di=zr.type;return Di===D?Jr(gr,ur,zr.props.children,cn,zr.key):ur!==null&&(ur.elementType===Di||typeof Di=="object"&&Di!==null&&Di.$$typeof===st&&Er(Di)===ur.type)?(ur=W(ur,zr.props),zi(ur,zr),ur.return=gr,ur):(ur=gh(zr.type,zr.key,zr.props,null,gr.mode,cn),zi(ur,zr),ur.return=gr,ur)}function Br(gr,ur,zr,cn){return ur===null||ur.tag!==4||ur.stateNode.containerInfo!==zr.containerInfo||ur.stateNode.implementation!==zr.implementation?(ur=Ed(zr,gr.mode,cn),ur.return=gr,ur):(ur=W(ur,zr.children||[]),ur.return=gr,ur)}function Jr(gr,ur,zr,cn,Di){return ur===null||ur.tag!==7?(ur=Jh(zr,gr.mode,cn,Di),ur.return=gr,ur):(ur=W(ur,zr),ur.return=gr,ur)}function fn(gr,ur,zr){if(typeof ur=="string"&&ur!==""||typeof ur=="number"||typeof ur=="bigint")return ur=qf(""+ur,gr.mode,zr),ur.return=gr,ur;if(typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case A:return zr=gh(ur.type,ur.key,ur.props,null,gr.mode,zr),zi(zr,ur),zr.return=gr,zr;case O:return ur=Ed(ur,gr.mode,zr),ur.return=gr,ur;case st:return ur=Er(ur),fn(gr,ur,zr)}if(wt(ur)||$(ur))return ur=Jh(ur,gr.mode,zr,null),ur.return=gr,ur;if(typeof ur.then=="function")return fn(gr,ni(ur),zr);if(ur.$$typeof===z)return fn(gr,Hf(gr,ur),zr);ai(gr,ur)}return null}function Cr(gr,ur,zr,cn){var Di=ur!==null?ur.key:null;if(typeof zr=="string"&&zr!==""||typeof zr=="number"||typeof zr=="bigint")return Di!==null?null:se(gr,ur,""+zr,cn);if(typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case A:return zr.key===Di?Ye(gr,ur,zr,cn):null;case O:return zr.key===Di?Br(gr,ur,zr,cn):null;case st:return zr=Er(zr),Cr(gr,ur,zr,cn)}if(wt(zr)||$(zr))return Di!==null?null:Jr(gr,ur,zr,cn,null);if(typeof zr.then=="function")return Cr(gr,ur,ni(zr),cn);if(zr.$$typeof===z)return Cr(gr,ur,Hf(gr,zr),cn);ai(gr,zr)}return null}function Ur(gr,ur,zr,cn,Di){if(typeof cn=="string"&&cn!==""||typeof cn=="number"||typeof cn=="bigint")return gr=gr.get(zr)||null,se(ur,gr,""+cn,Di);if(typeof cn=="object"&&cn!==null){switch(cn.$$typeof){case A:return gr=gr.get(cn.key===null?zr:cn.key)||null,Ye(ur,gr,cn,Di);case O:return gr=gr.get(cn.key===null?zr:cn.key)||null,Br(ur,gr,cn,Di);case st:return cn=Er(cn),Ur(gr,ur,zr,cn,Di)}if(wt(cn)||$(cn))return gr=gr.get(zr)||null,Jr(ur,gr,cn,Di,null);if(typeof cn.then=="function")return Ur(gr,ur,zr,ni(cn),Di);if(cn.$$typeof===z)return Ur(gr,ur,zr,Hf(ur,cn),Di);ai(ur,cn)}return null}function si(gr,ur,zr,cn){for(var Di=null,ns=null,Si=ur,za=ur=0,bo=null;Si!==null&&za<zr.length;za++){Si.index>za?(bo=Si,Si=null):bo=Si.sibling;var is=Cr(gr,Si,zr[za],cn);if(is===null){Si===null&&(Si=bo);break}c&&Si&&is.alternate===null&&p(gr,Si),ur=et(is,ur,za),ns===null?Di=is:ns.sibling=is,ns=is,Si=bo}if(za===zr.length)return w(gr,Si),wa&&gl(gr,za),Di;if(Si===null){for(;za<zr.length;za++)Si=fn(gr,zr[za],cn),Si!==null&&(ur=et(Si,ur,za),ns===null?Di=Si:ns.sibling=Si,ns=Si);return wa&&gl(gr,za),Di}for(Si=I(Si);za<zr.length;za++)bo=Ur(Si,gr,za,zr[za],cn),bo!==null&&(c&&bo.alternate!==null&&Si.delete(bo.key===null?za:bo.key),ur=et(bo,ur,za),ns===null?Di=bo:ns.sibling=bo,ns=bo);return c&&Si.forEach(function(ry){return p(gr,ry)}),wa&&gl(gr,za),Di}function xi(gr,ur,zr,cn){if(zr==null)throw Error(n(151));for(var Di=null,ns=null,Si=ur,za=ur=0,bo=null,is=zr.next();Si!==null&&!is.done;za++,is=zr.next()){Si.index>za?(bo=Si,Si=null):bo=Si.sibling;var ry=Cr(gr,Si,is.value,cn);if(ry===null){Si===null&&(Si=bo);break}c&&Si&&ry.alternate===null&&p(gr,Si),ur=et(ry,ur,za),ns===null?Di=ry:ns.sibling=ry,ns=ry,Si=bo}if(is.done)return w(gr,Si),wa&&gl(gr,za),Di;if(Si===null){for(;!is.done;za++,is=zr.next())is=fn(gr,is.value,cn),is!==null&&(ur=et(is,ur,za),ns===null?Di=is:ns.sibling=is,ns=is);return wa&&gl(gr,za),Di}for(Si=I(Si);!is.done;za++,is=zr.next())is=Ur(Si,gr,za,is.value,cn),is!==null&&(c&&is.alternate!==null&&Si.delete(is.key===null?za:is.key),ur=et(is,ur,za),ns===null?Di=is:ns.sibling=is,ns=is);return c&&Si.forEach(function(ZK){return p(gr,ZK)}),wa&&gl(gr,za),Di}function vo(gr,ur,zr,cn){if(typeof zr=="object"&&zr!==null&&zr.type===D&&zr.key===null&&(zr=zr.props.children),typeof zr=="object"&&zr!==null){switch(zr.$$typeof){case A:t:{for(var Di=zr.key;ur!==null;){if(ur.key===Di){if(Di=zr.type,Di===D){if(ur.tag===7){w(gr,ur.sibling),cn=W(ur,zr.props.children),cn.return=gr,gr=cn;break t}}else if(ur.elementType===Di||typeof Di=="object"&&Di!==null&&Di.$$typeof===st&&Er(Di)===ur.type){w(gr,ur.sibling),cn=W(ur,zr.props),zi(cn,zr),cn.return=gr,gr=cn;break t}w(gr,ur);break}else p(gr,ur);ur=ur.sibling}zr.type===D?(cn=Jh(zr.props.children,gr.mode,cn,zr.key),cn.return=gr,gr=cn):(cn=gh(zr.type,zr.key,zr.props,null,gr.mode,cn),zi(cn,zr),cn.return=gr,gr=cn)}return Ot(gr);case O:t:{for(Di=zr.key;ur!==null;){if(ur.key===Di)if(ur.tag===4&&ur.stateNode.containerInfo===zr.containerInfo&&ur.stateNode.implementation===zr.implementation){w(gr,ur.sibling),cn=W(ur,zr.children||[]),cn.return=gr,gr=cn;break t}else{w(gr,ur);break}else p(gr,ur);ur=ur.sibling}cn=Ed(zr,gr.mode,cn),cn.return=gr,gr=cn}return Ot(gr);case st:return zr=Er(zr),vo(gr,ur,zr,cn)}if(wt(zr))return si(gr,ur,zr,cn);if($(zr)){if(Di=$(zr),typeof Di!="function")throw Error(n(150));return zr=Di.call(zr),xi(gr,ur,zr,cn)}if(typeof zr.then=="function")return vo(gr,ur,ni(zr),cn);if(zr.$$typeof===z)return vo(gr,ur,Hf(gr,zr),cn);ai(gr,zr)}return typeof zr=="string"&&zr!==""||typeof zr=="number"||typeof zr=="bigint"?(zr=""+zr,ur!==null&&ur.tag===6?(w(gr,ur.sibling),cn=W(ur,zr),cn.return=gr,gr=cn):(w(gr,ur),cn=qf(zr,gr.mode,cn),cn.return=gr,gr=cn),Ot(gr)):w(gr,ur)}return function(gr,ur,zr,cn){try{ci=0;var Di=vo(gr,ur,zr,cn);return ln=null,Di}catch(Si){if(Si===Ce||Si===Ae)throw Si;var ns=mi(29,Si,null,gr.mode);return ns.lanes=cn,ns.return=gr,ns}finally{}}}var Jo=Ea(!0),ji=Ea(!1),ii=!1;function Pn(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function go(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Gn(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function qi(c,p,w){var I=c.updateQueue;if(I===null)return null;if(I=I.shared,(qo&2)!==0){var W=I.pending;return W===null?p.next=p:(p.next=W.next,W.next=p),I.pending=p,p=To(c),Il(c,null,w),p}return kl(c,I,p,w),To(c)}function to(c,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194048)!==0)){var I=p.lanes;I&=c.pendingLanes,w|=I,p.lanes=w,Xt(c,w)}}function ol(c,p){var w=c.updateQueue,I=c.alternate;if(I!==null&&(I=I.updateQueue,w===I)){var W=null,et=null;if(w=w.firstBaseUpdate,w!==null){do{var Ot={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};et===null?W=et=Ot:et=et.next=Ot,w=w.next}while(w!==null);et===null?W=et=p:et=et.next=p}else W=et=p;w={baseState:I.baseState,firstBaseUpdate:W,lastBaseUpdate:et,shared:I.shared,callbacks:I.callbacks},c.updateQueue=w;return}c=w.lastBaseUpdate,c===null?w.firstBaseUpdate=p:c.next=p,w.lastBaseUpdate=p}var Kl=!1;function $o(){if(Kl){var c=Z;if(c!==null)throw c}}function bl(c,p,w,I){Kl=!1;var W=c.updateQueue;ii=!1;var et=W.firstBaseUpdate,Ot=W.lastBaseUpdate,se=W.shared.pending;if(se!==null){W.shared.pending=null;var Ye=se,Br=Ye.next;Ye.next=null,Ot===null?et=Br:Ot.next=Br,Ot=Ye;var Jr=c.alternate;Jr!==null&&(Jr=Jr.updateQueue,se=Jr.lastBaseUpdate,se!==Ot&&(se===null?Jr.firstBaseUpdate=Br:se.next=Br,Jr.lastBaseUpdate=Ye))}if(et!==null){var fn=W.baseState;Ot=0,Jr=Br=Ye=null,se=et;do{var Cr=se.lane&-536870913,Ur=Cr!==se.lane;if(Ur?(eo&Cr)===Cr:(I&Cr)===Cr){Cr!==0&&Cr===V&&(Kl=!0),Jr!==null&&(Jr=Jr.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});t:{var si=c,xi=se;Cr=p;var vo=w;switch(xi.tag){case 1:if(si=xi.payload,typeof si=="function"){fn=si.call(vo,fn,Cr);break t}fn=si;break t;case 3:si.flags=si.flags&-65537|128;case 0:if(si=xi.payload,Cr=typeof si=="function"?si.call(vo,fn,Cr):si,Cr==null)break t;fn=k({},fn,Cr);break t;case 2:ii=!0}}Cr=se.callback,Cr!==null&&(c.flags|=64,Ur&&(c.flags|=8192),Ur=W.callbacks,Ur===null?W.callbacks=[Cr]:Ur.push(Cr))}else Ur={lane:Cr,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Jr===null?(Br=Jr=Ur,Ye=fn):Jr=Jr.next=Ur,Ot|=Cr;if(se=se.next,se===null){if(se=W.shared.pending,se===null)break;Ur=se,se=Ur.next,Ur.next=null,W.lastBaseUpdate=Ur,W.shared.pending=null}}while(!0);Jr===null&&(Ye=fn),W.baseState=Ye,W.firstBaseUpdate=Br,W.lastBaseUpdate=Jr,et===null&&(W.shared.lanes=0),Qf|=Ot,c.lanes=Ot,c.memoizedState=fn}}function cs(c,p){if(typeof c!="function")throw Error(n(191,c));c.call(p)}function Os(c,p){var w=c.callbacks;if(w!==null)for(c.callbacks=null,c=0;c<w.length;c++)cs(w[c],p)}var gn=Et(null),kn=Et(0);function ts(c,p){c=df,kt(kn,c),kt(gn,p),df=c|p.baseLanes}function Xa(){kt(kn,df),kt(gn,gn.current)}function Ds(){df=kn.current,lt(gn),lt(kn)}var La=Et(null),Wa=null;function Ma(c){var p=c.alternate;kt(Ua,Ua.current&1),kt(La,c),Wa===null&&(p===null||gn.current!==null||p.memoizedState!==null)&&(Wa=c)}function yo(c){kt(Ua,Ua.current),kt(La,c),Wa===null&&(Wa=c)}function es(c){c.tag===22?(kt(Ua,Ua.current),kt(La,c),Wa===null&&(Wa=c)):ia()}function ia(){kt(Ua,Ua.current),kt(La,La.current)}function Oi(c){lt(La),Wa===c&&(Wa=null),lt(Ua)}var Ua=Et(0);function Bs(c){for(var p=c;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||ob(w)||uv(w)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Co=0,bi=null,_i=null,Ta=null,Zl=!1,lc=!1,Ql=!1,Qs=0,N=0,s=null,d=0;function _(){throw Error(n(321))}function S(c,p){if(p===null)return!1;for(var w=0;w<p.length&&w<c.length;w++)if(!Ts(c[w],p[w]))return!1;return!0}function L(c,p,w,I,W,et){return Co=et,bi=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,pt.H=c===null||c.memoizedState===null?Ix:Rx,Ql=!1,et=w(I,W),Ql=!1,lc&&(et=K(p,w,I,W)),B(c),et}function B(c){pt.H=Md;var p=_i!==null&&_i.next!==null;if(Co=0,Ta=_i=bi=null,Zl=!1,N=0,s=null,p)throw Error(n(300));c===null||gu||(c=c.dependencies,c!==null&&oc(c)&&(gu=!0))}function K(c,p,w,I){bi=c;var W=0;do{if(lc&&(s=null),N=0,lc=!1,25<=W)throw Error(n(301));if(W+=1,Ta=_i=null,c.updateQueue!=null){var et=c.updateQueue;et.lastEffect=null,et.events=null,et.stores=null,et.memoCache!=null&&(et.memoCache.index=0)}pt.H=T0,et=p(w,I)}while(lc);return et}function tt(){var c=pt.H,p=c.useState()[0];return p=typeof p.then=="function"?fe(p):p,c=c.useState()[0],(_i!==null?_i.memoizedState:null)!==c&&(bi.flags|=1024),p}function ct(){var c=Qs!==0;return Qs=0,c}function _t(c,p,w){p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~w}function Rt(c){if(Zl){for(c=c.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}Zl=!1}Co=0,Ta=_i=bi=null,lc=!1,N=Qs=0,s=null}function Tt(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ta===null?bi.memoizedState=Ta=c:Ta=Ta.next=c,Ta}function zt(){if(_i===null){var c=bi.alternate;c=c!==null?c.memoizedState:null}else c=_i.next;var p=Ta===null?bi.memoizedState:Ta.next;if(p!==null)Ta=p,_i=c;else{if(c===null)throw bi.alternate===null?Error(n(467)):Error(n(310));_i=c,c={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},Ta===null?bi.memoizedState=Ta=c:Ta=Ta.next=c}return Ta}function Zt(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fe(c){var p=N;return N+=1,s===null&&(s=[]),c=Xr(s,c,p),p=bi,(Ta===null?p.memoizedState:Ta.next)===null&&(p=p.alternate,pt.H=p===null||p.memoizedState===null?Ix:Rx),c}function pe(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return fe(c);if(c.$$typeof===z)return Yl(c)}throw Error(n(438,String(c)))}function me(c){var p=null,w=bi.updateQueue;if(w!==null&&(p=w.memoCache),p==null){var I=bi.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(p={data:I.data.map(function(W){return W.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),w===null&&(w=Zt(),bi.updateQueue=w),w.memoCache=p,w=p.data[p.index],w===void 0)for(w=p.data[p.index]=Array(c),I=0;I<c;I++)w[I]=bt;return p.index++,w}function xe(c,p){return typeof p=="function"?p(c):p}function Be(c){var p=zt();return Le(p,_i,c)}function Le(c,p,w){var I=c.queue;if(I===null)throw Error(n(311));I.lastRenderedReducer=w;var W=c.baseQueue,et=I.pending;if(et!==null){if(W!==null){var Ot=W.next;W.next=et.next,et.next=Ot}p.baseQueue=W=et,I.pending=null}if(et=c.baseState,W===null)c.memoizedState=et;else{p=W.next;var se=Ot=null,Ye=null,Br=p,Jr=!1;do{var fn=Br.lane&-536870913;if(fn!==Br.lane?(eo&fn)===fn:(Co&fn)===fn){var Cr=Br.revertLane;if(Cr===0)Ye!==null&&(Ye=Ye.next={lane:0,revertLane:0,gesture:null,action:Br.action,hasEagerState:Br.hasEagerState,eagerState:Br.eagerState,next:null}),fn===V&&(Jr=!0);else if((Co&Cr)===Cr){Br=Br.next,Cr===V&&(Jr=!0);continue}else fn={lane:0,revertLane:Br.revertLane,gesture:null,action:Br.action,hasEagerState:Br.hasEagerState,eagerState:Br.eagerState,next:null},Ye===null?(se=Ye=fn,Ot=et):Ye=Ye.next=fn,bi.lanes|=Cr,Qf|=Cr;fn=Br.action,Ql&&w(et,fn),et=Br.hasEagerState?Br.eagerState:w(et,fn)}else Cr={lane:fn,revertLane:Br.revertLane,gesture:Br.gesture,action:Br.action,hasEagerState:Br.hasEagerState,eagerState:Br.eagerState,next:null},Ye===null?(se=Ye=Cr,Ot=et):Ye=Ye.next=Cr,bi.lanes|=fn,Qf|=fn;Br=Br.next}while(Br!==null&&Br!==p);if(Ye===null?Ot=et:Ye.next=se,!Ts(et,c.memoizedState)&&(gu=!0,Jr&&(w=Z,w!==null)))throw w;c.memoizedState=et,c.baseState=Ot,c.baseQueue=Ye,I.lastRenderedState=et}return W===null&&(I.lanes=0),[c.memoizedState,I.dispatch]}function $e(c){var p=zt(),w=p.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=c;var I=w.dispatch,W=w.pending,et=p.memoizedState;if(W!==null){w.pending=null;var Ot=W=W.next;do et=c(et,Ot.action),Ot=Ot.next;while(Ot!==W);Ts(et,p.memoizedState)||(gu=!0),p.memoizedState=et,p.baseQueue===null&&(p.baseState=et),w.lastRenderedState=et}return[et,I]}function We(c,p,w){var I=bi,W=zt(),et=wa;if(et){if(w===void 0)throw Error(n(407));w=w()}else w=p();var Ot=!Ts((_i||W).memoizedState,w);if(Ot&&(W.memoizedState=w,gu=!0),W=W.queue,ed(Ar.bind(null,I,W,c),[c]),W.getSnapshot!==p||Ot||Ta!==null&&Ta.memoizedState.tag&1){if(I.flags|=2048,ua(9,{destroy:void 0},tr.bind(null,I,W,w,p),null),Go===null)throw Error(n(349));et||(Co&127)!==0||Ne(I,p,w)}return w}function Ne(c,p,w){c.flags|=16384,c={getSnapshot:p,value:w},p=bi.updateQueue,p===null?(p=Zt(),bi.updateQueue=p,p.stores=[c]):(w=p.stores,w===null?p.stores=[c]:w.push(c))}function tr(c,p,w,I){p.value=w,p.getSnapshot=I,xr(p)&&Sr(c)}function Ar(c,p,w){return w(function(){xr(p)&&Sr(c)})}function xr(c){var p=c.getSnapshot;c=c.value;try{var w=p();return!Ts(c,w)}catch{return!0}}function Sr(c){var p=Au(c,2);p!==null&&Sh(p,c,2)}function kr(c){var p=Tt();if(typeof c=="function"){var w=c;if(c=w(),Ql){Bt(!0);try{w()}finally{Bt(!1)}}}return p.memoizedState=p.baseState=c,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xe,lastRenderedState:c},p}function Cn(c,p,w,I){return c.baseState=w,Le(c,_i,typeof I=="function"?I:xe)}function En(c,p,w,I,W){if(hf(c))throw Error(n(485));if(c=p.action,c!==null){var et={payload:W,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ot){et.listeners.push(Ot)}};pt.T!==null?w(!0):et.isTransition=!1,I(et),w=p.pending,w===null?(et.next=p.pending=et,on(p,et)):(et.next=w.next,p.pending=w.next=et)}}function on(c,p){var w=p.action,I=p.payload,W=c.state;if(p.isTransition){var et=pt.T,Ot={};pt.T=Ot;try{var se=w(W,I),Ye=pt.S;Ye!==null&&Ye(Ot,se),Un(c,p,se)}catch(Br){Sa(c,p,Br)}finally{et!==null&&Ot.types!==null&&(et.types=Ot.types),pt.T=et}}else try{et=w(W,I),Un(c,p,et)}catch(Br){Sa(c,p,Br)}}function Un(c,p,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(I){Gi(c,p,I)},function(I){return Sa(c,p,I)}):Gi(c,p,w)}function Gi(c,p,w){p.status="fulfilled",p.value=w,Uo(p),c.state=w,p=c.pending,p!==null&&(w=p.next,w===p?c.pending=null:(w=w.next,p.next=w,on(c,w)))}function Sa(c,p,w){var I=c.pending;if(c.pending=null,I!==null){I=I.next;do p.status="rejected",p.reason=w,Uo(p),p=p.next;while(p!==I)}c.action=null}function Uo(c){c=c.listeners;for(var p=0;p<c.length;p++)(0,c[p])()}function Ya(c,p){return p}function Ka(c,p){if(wa){var w=Go.formState;if(w!==null){t:{var I=bi;if(wa){if(Qo){e:{for(var W=Qo,et=us;W.nodeType!==8;){if(!et){W=null;break e}if(W=qh(W.nextSibling),W===null){W=null;break e}}et=W.data,W=et==="F!"||et==="F"?W:null}if(W){Qo=qh(W.nextSibling),I=W.data==="F!";break t}}mo(I)}I=!1}I&&(p=w[0])}}return w=Tt(),w.memoizedState=w.baseState=p,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:p},w.queue=I,w=Ld.bind(null,bi,I),I.dispatch=w,I=kr(!1),et=$m.bind(null,bi,!1,I.queue),I=Tt(),W={state:p,dispatch:null,action:c,pending:null},I.queue=W,w=En.bind(null,bi,W,et,w),W.dispatch=w,I.memoizedState=c,[p,w,!1]}function Da(c){var p=zt();return Pa(p,_i,c)}function Pa(c,p,w){if(p=Le(c,p,Ya)[0],c=Be(xe)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var I=fe(p)}catch(Ot){throw Ot===Ce?Ae:Ot}else I=p;p=zt();var W=p.queue,et=W.dispatch;return w!==p.memoizedState&&(bi.flags|=2048,ua(9,{destroy:void 0},lo.bind(null,W,w),null)),[I,et,c]}function lo(c,p){c.action=p}function _l(c){var p=zt(),w=_i;if(w!==null)return Pa(p,w,c);zt(),p=p.memoizedState,w=zt();var I=w.queue.dispatch;return w.memoizedState=c,[p,I,!1]}function ua(c,p,w,I){return c={tag:c,create:w,deps:I,inst:p,next:null},p=bi.updateQueue,p===null&&(p=Zt(),bi.updateQueue=p),w=p.lastEffect,w===null?p.lastEffect=c.next=c:(I=w.next,w.next=c,c.next=I,p.lastEffect=c),c}function Rl(){return zt().memoizedState}function sl(c,p,w,I){var W=Tt();bi.flags|=c,W.memoizedState=ua(1|p,{destroy:void 0},w,I===void 0?null:I)}function Ec(c,p,w,I){var W=zt();I=I===void 0?null:I;var et=W.memoizedState.inst;_i!==null&&I!==null&&S(I,_i.memoizedState.deps)?W.memoizedState=ua(p,et,w,I):(bi.flags|=c,W.memoizedState=ua(1|p,et,w,I))}function Rd(c,p){sl(8390656,8,c,p)}function ed(c,p){Ec(2048,8,c,p)}function rd(c){bi.flags|=4;var p=bi.updateQueue;if(p===null)p=Zt(),bi.updateQueue=p,p.events=[c];else{var w=p.events;w===null?p.events=[c]:w.push(c)}}function Op(c){var p=zt().memoizedState;return rd({ref:p,nextImpl:c}),function(){if((qo&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}function Dp(c,p){return Ec(4,2,c,p)}function Xf(c,p){return Ec(4,4,c,p)}function Tc(c,p){if(typeof p=="function"){c=c();var w=p(c);return function(){typeof w=="function"?w():p(null)}}if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function _h(c,p,w){w=w!=null?w.concat([c]):null,Ec(4,4,Tc.bind(null,p,c),w)}function nd(){}function uf(c,p){var w=zt();p=p===void 0?null:p;var I=w.memoizedState;return p!==null&&S(p,I[1])?I[0]:(w.memoizedState=[c,p],c)}function ll(c,p){var w=zt();p=p===void 0?null:p;var I=w.memoizedState;if(p!==null&&S(p,I[1]))return I[0];if(I=c(),Ql){Bt(!0);try{c()}finally{Bt(!1)}}return w.memoizedState=[I,p],I}function rs(c,p,w){return w===void 0||(Co&1073741824)!==0&&(eo&261930)===0?c.memoizedState=p:(c.memoizedState=w,c=kS(),bi.lanes|=c,Qf|=c,w)}function uc(c,p,w,I){return Ts(w,p)?w:gn.current!==null?(c=rs(c,w,I),Ts(c,p)||(gu=!0),c):(Co&42)===0||(Co&1073741824)!==0&&(eo&261930)===0?(gu=!0,c.memoizedState=w):(c=kS(),bi.lanes|=c,Qf|=c,p)}function Jl(c,p,w,I,W){var et=Ct.p;Ct.p=et!==0&&8>et?et:8;var Ot=pt.T,se={};pt.T=se,$m(c,!1,p,w);try{var Ye=W(),Br=pt.S;if(Br!==null&&Br(se,Ye),Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var Jr=Kt(Ye,I);Wf(c,p,Jr,rh(c))}else Wf(c,p,I,rh(c))}catch(fn){Wf(c,p,{then:function(){},status:"rejected",reason:fn},rh())}finally{Ct.p=et,Ot!==null&&se.types!==null&&(Ot.types=se.types),pt.T=Ot}}function E0(){}function Fy(c,p,w,I){if(c.tag!==5)throw Error(n(476));var W=zg(c).queue;Jl(c,W,p,vt,w===null?E0:function(){return Bp(c),w(I)})}function zg(c){var p=c.memoizedState;if(p!==null)return p;p={memoizedState:vt,baseState:vt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xe,lastRenderedState:vt},next:null};var w={};return p.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xe,lastRenderedState:w},next:null},c.memoizedState=p,c=c.alternate,c!==null&&(c.memoizedState=p),p}function Bp(c){var p=zg(c);p.next===null&&(p=c.alternate.memoizedState),Wf(c,p.next.queue,{},rh())}function cf(){return Yl(ui)}function id(){return zt().memoizedState}function Nu(){return zt().memoizedState}function Nd(c){for(var p=c.return;p!==null;){switch(p.tag){case 24:case 3:var w=rh();c=Gn(w);var I=qi(p,c,w);I!==null&&(Sh(I,p,w),to(I,p,w)),p={cache:zh()},c.payload=p;return}p=p.return}}function jy(c,p,w){var I=rh();w={lane:I,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},hf(c)?kx(p,w):(w=ml(c,p,w,I),w!==null&&(Sh(w,c,I),zp(w,p,I)))}function Ld(c,p,w){var I=rh();Wf(c,p,w,I)}function Wf(c,p,w,I){var W={lane:I,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(hf(c))kx(p,W);else{var et=c.alternate;if(c.lanes===0&&(et===null||et.lanes===0)&&(et=p.lastRenderedReducer,et!==null))try{var Ot=p.lastRenderedState,se=et(Ot,w);if(W.hasEagerState=!0,W.eagerState=se,Ts(se,Ot))return kl(c,p,W,0),Go===null&&Cu(),!1}catch{}finally{}if(w=ml(c,p,W,I),w!==null)return Sh(w,c,I),zp(w,p,I),!0}return!1}function $m(c,p,w,I){if(I={lane:2,revertLane:c1(),gesture:null,action:I,hasEagerState:!1,eagerState:null,next:null},hf(c)){if(p)throw Error(n(479))}else p=ml(c,w,I,2),p!==null&&Sh(p,c,2)}function hf(c){var p=c.alternate;return c===bi||p!==null&&p===bi}function kx(c,p){lc=Zl=!0;var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}function zp(c,p,w){if((w&4194048)!==0){var I=p.lanes;I&=c.pendingLanes,w|=I,p.lanes=w,Xt(c,w)}}var Md={readContext:Yl,use:pe,useCallback:_,useContext:_,useEffect:_,useImperativeHandle:_,useLayoutEffect:_,useInsertionEffect:_,useMemo:_,useReducer:_,useRef:_,useState:_,useDebugValue:_,useDeferredValue:_,useTransition:_,useSyncExternalStore:_,useId:_,useHostTransitionStatus:_,useFormState:_,useActionState:_,useOptimistic:_,useMemoCache:_,useCacheRefresh:_};Md.useEffectEvent=_;var Ix={readContext:Yl,use:pe,useCallback:function(c,p){return Tt().memoizedState=[c,p===void 0?null:p],c},useContext:Yl,useEffect:Rd,useImperativeHandle:function(c,p,w){w=w!=null?w.concat([c]):null,sl(4194308,4,Tc.bind(null,p,c),w)},useLayoutEffect:function(c,p){return sl(4194308,4,c,p)},useInsertionEffect:function(c,p){sl(4,2,c,p)},useMemo:function(c,p){var w=Tt();p=p===void 0?null:p;var I=c();if(Ql){Bt(!0);try{c()}finally{Bt(!1)}}return w.memoizedState=[I,p],I},useReducer:function(c,p,w){var I=Tt();if(w!==void 0){var W=w(p);if(Ql){Bt(!0);try{w(p)}finally{Bt(!1)}}}else W=p;return I.memoizedState=I.baseState=W,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:W},I.queue=c,c=c.dispatch=jy.bind(null,bi,c),[I.memoizedState,c]},useRef:function(c){var p=Tt();return c={current:c},p.memoizedState=c},useState:function(c){c=kr(c);var p=c.queue,w=Ld.bind(null,bi,p);return p.dispatch=w,[c.memoizedState,w]},useDebugValue:nd,useDeferredValue:function(c,p){var w=Tt();return rs(w,c,p)},useTransition:function(){var c=kr(!1);return c=Jl.bind(null,bi,c.queue,!0,!1),Tt().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,p,w){var I=bi,W=Tt();if(wa){if(w===void 0)throw Error(n(407));w=w()}else{if(w=p(),Go===null)throw Error(n(349));(eo&127)!==0||Ne(I,p,w)}W.memoizedState=w;var et={value:w,getSnapshot:p};return W.queue=et,Rd(Ar.bind(null,I,et,c),[c]),I.flags|=2048,ua(9,{destroy:void 0},tr.bind(null,I,et,w,p),null),w},useId:function(){var c=Tt(),p=Go.identifierPrefix;if(wa){var w=ac,I=Iu;w=(I&~(1<<32-oe(I)-1)).toString(32)+w,p="_"+p+"R_"+w,w=Qs++,0<w&&(p+="H"+w.toString(32)),p+="_"}else w=d++,p="_"+p+"r_"+w.toString(32)+"_";return c.memoizedState=p},useHostTransitionStatus:cf,useFormState:Ka,useActionState:Ka,useOptimistic:function(c){var p=Tt();p.memoizedState=p.baseState=c;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=w,p=$m.bind(null,bi,!0,w),w.dispatch=p,[c,p]},useMemoCache:me,useCacheRefresh:function(){return Tt().memoizedState=Nd.bind(null,bi)},useEffectEvent:function(c){var p=Tt(),w={impl:c};return p.memoizedState=w,function(){if((qo&2)!==0)throw Error(n(440));return w.impl.apply(void 0,arguments)}}},Rx={readContext:Yl,use:pe,useCallback:uf,useContext:Yl,useEffect:ed,useImperativeHandle:_h,useInsertionEffect:Dp,useLayoutEffect:Xf,useMemo:ll,useReducer:Be,useRef:Rl,useState:function(){return Be(xe)},useDebugValue:nd,useDeferredValue:function(c,p){var w=zt();return uc(w,_i.memoizedState,c,p)},useTransition:function(){var c=Be(xe)[0],p=zt().memoizedState;return[typeof c=="boolean"?c:fe(c),p]},useSyncExternalStore:We,useId:id,useHostTransitionStatus:cf,useFormState:Da,useActionState:Da,useOptimistic:function(c,p){var w=zt();return Cn(w,_i,c,p)},useMemoCache:me,useCacheRefresh:Nu};Rx.useEffectEvent=Op;var T0={readContext:Yl,use:pe,useCallback:uf,useContext:Yl,useEffect:ed,useImperativeHandle:_h,useInsertionEffect:Dp,useLayoutEffect:Xf,useMemo:ll,useReducer:$e,useRef:Rl,useState:function(){return $e(xe)},useDebugValue:nd,useDeferredValue:function(c,p){var w=zt();return _i===null?rs(w,c,p):uc(w,_i.memoizedState,c,p)},useTransition:function(){var c=$e(xe)[0],p=zt().memoizedState;return[typeof c=="boolean"?c:fe(c),p]},useSyncExternalStore:We,useId:id,useHostTransitionStatus:cf,useFormState:_l,useActionState:_l,useOptimistic:function(c,p){var w=zt();return _i!==null?Cn(w,_i,c,p):(w.baseState=c,[c,w.queue.dispatch])},useMemoCache:me,useCacheRefresh:Nu};T0.useEffectEvent=Op;function C0(c,p,w,I){p=c.memoizedState,w=w(I,p),w=w==null?p:k({},p,w),c.memoizedState=w,c.lanes===0&&(c.updateQueue.baseState=w)}var Nx={enqueueSetState:function(c,p,w){c=c._reactInternals;var I=rh(),W=Gn(I);W.payload=p,w!=null&&(W.callback=w),p=qi(c,W,I),p!==null&&(Sh(p,c,I),to(p,c,I))},enqueueReplaceState:function(c,p,w){c=c._reactInternals;var I=rh(),W=Gn(I);W.tag=1,W.payload=p,w!=null&&(W.callback=w),p=qi(c,W,I),p!==null&&(Sh(p,c,I),to(p,c,I))},enqueueForceUpdate:function(c,p){c=c._reactInternals;var w=rh(),I=Gn(w);I.tag=2,p!=null&&(I.callback=p),p=qi(c,I,w),p!==null&&(Sh(p,c,w),to(p,c,w))}};function Lx(c,p,w,I,W,et,Ot){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(I,et,Ot):p.prototype&&p.prototype.isPureReactComponent?!lr(w,I)||!lr(W,et):!0}function fS(c,p,w,I){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,I),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,I),p.state!==c&&Nx.enqueueReplaceState(p,p.state,null)}function Yf(c,p){var w=p;if("ref"in p){w={};for(var I in p)I!=="ref"&&(w[I]=p[I])}if(c=c.defaultProps){w===p&&(w=k({},w));for(var W in c)w[W]===void 0&&(w[W]=c[W])}return w}function pS(c){Vo(c)}function A0(c){console.error(c)}function Mx(c){Vo(c)}function Vy(c,p){try{var w=c.onUncaughtError;w(p.value,{componentStack:p.stack})}catch(I){setTimeout(function(){throw I})}}function Um(c,p,w){try{var I=c.onCaughtError;I(w.value,{componentStack:w.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(W){setTimeout(function(){throw W})}}function Px(c,p,w){return w=Gn(w),w.tag=3,w.payload={element:null},w.callback=function(){Vy(c,p)},w}function Fg(c){return c=Gn(c),c.tag=3,c}function $y(c,p,w,I){var W=w.type.getDerivedStateFromError;if(typeof W=="function"){var et=I.value;c.payload=function(){return W(et)},c.callback=function(){Um(p,w,I)}}var Ot=w.stateNode;Ot!==null&&typeof Ot.componentDidCatch=="function"&&(c.callback=function(){Um(p,w,I),typeof W!="function"&&(qp===null?qp=new Set([this]):qp.add(this));var se=I.stack;this.componentDidCatch(I.value,{componentStack:se!==null?se:""})})}function k0(c,p,w,I,W){if(w.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(p=w.alternate,p!==null&&al(p,w,W,!0),w=La.current,w!==null){switch(w.tag){case 31:case 13:return Wa===null?nv():w.alternate===null&&wl===0&&(wl=3),w.flags&=-257,w.flags|=65536,w.lanes=W,I===hr?w.flags|=16384:(p=w.updateQueue,p===null?w.updateQueue=new Set([I]):p.add(I),o1(c,I,W)),!1;case 22:return w.flags|=65536,I===hr?w.flags|=16384:(p=w.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([I])},w.updateQueue=p):(w=p.retryQueue,w===null?p.retryQueue=new Set([I]):w.add(I)),o1(c,I,W)),!1}throw Error(n(435,w.tag))}return o1(c,I,W),nv(),!1}if(wa)return p=La.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=W,I!==Nc&&(c=Error(n(422),{cause:I}),Zc(Wu(c,w)))):(I!==Nc&&(p=Error(n(423),{cause:I}),Zc(Wu(p,w))),c=c.current.alternate,c.flags|=65536,W&=-W,c.lanes|=W,I=Wu(I,w),W=Px(c.stateNode,I,W),ol(c,W),wl!==4&&(wl=2)),!1;var et=Error(n(520),{cause:I});if(et=Wu(et,w),Jy===null?Jy=[et]:Jy.push(et),wl!==4&&(wl=2),p===null)return!0;I=Wu(I,w),w=p;do{switch(w.tag){case 3:return w.flags|=65536,c=W&-W,w.lanes|=c,c=Px(w.stateNode,I,c),ol(w,c),!1;case 1:if(p=w.type,et=w.stateNode,(w.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||et!==null&&typeof et.componentDidCatch=="function"&&(qp===null||!qp.has(et))))return w.flags|=65536,W&=-W,w.lanes|=W,W=Fg(W),$y(W,c,w,I),ol(w,W),!1}w=w.return}while(w!==null);return!1}var I0=Error(n(461)),gu=!1;function Cc(c,p,w,I){p.child=c===null?ji(p,null,w,I):Jo(p,c.child,w,I)}function mS(c,p,w,I,W){w=w.render;var et=p.ref;if("ref"in I){var Ot={};for(var se in I)se!=="ref"&&(Ot[se]=I[se])}else Ot=I;return vh(p),I=L(c,p,w,Ot,et,W),se=ct(),c!==null&&!gu?(_t(c,p,W),Pd(c,p,W)):(wa&&se&&Lp(p),p.flags|=1,Cc(c,p,I,W),p.child)}function Ox(c,p,w,I,W){if(c===null){var et=w.type;return typeof et=="function"&&!Xu(et)&&et.defaultProps===void 0&&w.compare===null?(p.tag=15,p.type=et,Dx(c,p,et,I,W)):(c=gh(w.type,null,I,p,p.mode,W),c.ref=p.ref,c.return=p,p.child=c)}if(et=c.child,!Wy(c,W)){var Ot=et.memoizedProps;if(w=w.compare,w=w!==null?w:lr,w(Ot,I)&&c.ref===p.ref)return Pd(c,p,W)}return p.flags|=1,c=Hl(et,I),c.ref=p.ref,c.return=p,p.child=c}function Dx(c,p,w,I,W){if(c!==null){var et=c.memoizedProps;if(lr(et,I)&&c.ref===p.ref)if(gu=!1,p.pendingProps=I=et,Wy(c,W))(c.flags&131072)!==0&&(gu=!0);else return p.lanes=c.lanes,Pd(c,p,W)}return L0(c,p,w,I,W)}function Bx(c,p,w,I){var W=I.children,et=c!==null?c.memoizedState:null;if(c===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),I.mode==="hidden"){if((p.flags&128)!==0){if(et=et!==null?et.baseLanes|w:w,c!==null){for(I=p.child=c.child,W=0;I!==null;)W=W|I.lanes|I.childLanes,I=I.sibling;I=W&~et}else I=0,p.child=null;return R0(c,p,et,w,I)}if((w&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},c!==null&&ge(p,et!==null?et.cachePool:null),et!==null?ts(p,et):Xa(),es(p);else return I=p.lanes=536870912,R0(c,p,et!==null?et.baseLanes|w:w,w,I)}else et!==null?(ge(p,et.cachePool),ts(p,et),ia(),p.memoizedState=null):(c!==null&&ge(p,null),Xa(),ia());return Cc(c,p,W,w),p.child}function Uy(c,p){return c!==null&&c.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function R0(c,p,w,I,W){var et=ue();return et=et===null?null:{parent:As._currentValue,pool:et},p.memoizedState={baseLanes:w,cachePool:et},c!==null&&ge(p,null),Xa(),es(p),c!==null&&al(c,p,I,!0),p.childLanes=W,null}function qy(c,p){return p=Xy({mode:p.mode,children:p.children},c.mode),p.ref=c.ref,c.child=p,p.return=c,p}function N0(c,p,w){return Jo(p,c.child,null,w),c=qy(p,p.pendingProps),c.flags|=2,Oi(p),p.memoizedState=null,c}function Gy(c,p,w){var I=p.pendingProps,W=(p.flags&128)!==0;if(p.flags&=-129,c===null){if(wa){if(I.mode==="hidden")return c=qy(p,I),p.lanes=536870912,Uy(null,c);if(yo(p),(c=Qo)?(c=QS(c,us),c=c!==null&&c.data==="&"?c:null,c!==null&&(p.memoizedState={dehydrated:c,treeContext:wc!==null?{id:Iu,overflow:ac}:null,retryLane:536870912,hydrationErrors:null},w=Gf(c),w.return=p,p.child=w,Xl=p,Qo=null)):c=null,c===null)throw mo(p);return p.lanes=536870912,null}return qy(p,I)}var et=c.memoizedState;if(et!==null){var Ot=et.dehydrated;if(yo(p),W)if(p.flags&256)p.flags&=-257,p=N0(c,p,w);else if(p.memoizedState!==null)p.child=c.child,p.flags|=128,p=null;else throw Error(n(558));else if(gu||al(c,p,w,!1),W=(w&c.childLanes)!==0,gu||W){if(I=Go,I!==null&&(Ot=be(I,w),Ot!==0&&Ot!==et.retryLane))throw et.retryLane=Ot,Au(c,Ot),Sh(I,c,Ot),I0;nv(),p=N0(c,p,w)}else c=et.treeContext,Qo=qh(Ot.nextSibling),Xl=p,wa=!0,Wl=null,us=!1,c!==null&&Mp(p,c),p=qy(p,I),p.flags|=4096;return p}return c=Hl(c.child,{mode:I.mode,children:I.children}),c.ref=p.ref,p.child=c,c.return=p,c}function cc(c,p){var w=p.ref;if(w===null)c!==null&&c.ref!==null&&(p.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(n(284));(c===null||c.ref!==w)&&(p.flags|=4194816)}}function L0(c,p,w,I,W){return vh(p),w=L(c,p,w,I,void 0,W),I=ct(),c!==null&&!gu?(_t(c,p,W),Pd(c,p,W)):(wa&&I&&Lp(p),p.flags|=1,Cc(c,p,w,W),p.child)}function M0(c,p,w,I,W,et){return vh(p),p.updateQueue=null,w=K(p,I,w,W),B(c),I=ct(),c!==null&&!gu?(_t(c,p,et),Pd(c,p,et)):(wa&&I&&Lp(p),p.flags|=1,Cc(c,p,w,et),p.child)}function gS(c,p,w,I,W){if(vh(p),p.stateNode===null){var et=Cs,Ot=w.contextType;typeof Ot=="object"&&Ot!==null&&(et=Yl(Ot)),et=new w(I,et),p.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Nx,p.stateNode=et,et._reactInternals=p,et=p.stateNode,et.props=I,et.state=p.memoizedState,et.refs={},Pn(p),Ot=w.contextType,et.context=typeof Ot=="object"&&Ot!==null?Yl(Ot):Cs,et.state=p.memoizedState,Ot=w.getDerivedStateFromProps,typeof Ot=="function"&&(C0(p,w,Ot,I),et.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(Ot=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),Ot!==et.state&&Nx.enqueueReplaceState(et,et.state,null),bl(p,I,et,W),$o(),et.state=p.memoizedState),typeof et.componentDidMount=="function"&&(p.flags|=4194308),I=!0}else if(c===null){et=p.stateNode;var se=p.memoizedProps,Ye=Yf(w,se);et.props=Ye;var Br=et.context,Jr=w.contextType;Ot=Cs,typeof Jr=="object"&&Jr!==null&&(Ot=Yl(Jr));var fn=w.getDerivedStateFromProps;Jr=typeof fn=="function"||typeof et.getSnapshotBeforeUpdate=="function",se=p.pendingProps!==se,Jr||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(se||Br!==Ot)&&fS(p,et,I,Ot),ii=!1;var Cr=p.memoizedState;et.state=Cr,bl(p,I,et,W),$o(),Br=p.memoizedState,se||Cr!==Br||ii?(typeof fn=="function"&&(C0(p,w,fn,I),Br=p.memoizedState),(Ye=ii||Lx(p,w,Ye,I,Cr,Br,Ot))?(Jr||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(p.flags|=4194308)):(typeof et.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=I,p.memoizedState=Br),et.props=I,et.state=Br,et.context=Ot,I=Ye):(typeof et.componentDidMount=="function"&&(p.flags|=4194308),I=!1)}else{et=p.stateNode,go(c,p),Ot=p.memoizedProps,Jr=Yf(w,Ot),et.props=Jr,fn=p.pendingProps,Cr=et.context,Br=w.contextType,Ye=Cs,typeof Br=="object"&&Br!==null&&(Ye=Yl(Br)),se=w.getDerivedStateFromProps,(Br=typeof se=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(Ot!==fn||Cr!==Ye)&&fS(p,et,I,Ye),ii=!1,Cr=p.memoizedState,et.state=Cr,bl(p,I,et,W),$o();var Ur=p.memoizedState;Ot!==fn||Cr!==Ur||ii||c!==null&&c.dependencies!==null&&oc(c.dependencies)?(typeof se=="function"&&(C0(p,w,se,I),Ur=p.memoizedState),(Jr=ii||Lx(p,w,Jr,I,Cr,Ur,Ye)||c!==null&&c.dependencies!==null&&oc(c.dependencies))?(Br||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(I,Ur,Ye),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(I,Ur,Ye)),typeof et.componentDidUpdate=="function"&&(p.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof et.componentDidUpdate!="function"||Ot===c.memoizedProps&&Cr===c.memoizedState||(p.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||Ot===c.memoizedProps&&Cr===c.memoizedState||(p.flags|=1024),p.memoizedProps=I,p.memoizedState=Ur),et.props=I,et.state=Ur,et.context=Ye,I=Jr):(typeof et.componentDidUpdate!="function"||Ot===c.memoizedProps&&Cr===c.memoizedState||(p.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||Ot===c.memoizedProps&&Cr===c.memoizedState||(p.flags|=1024),I=!1)}return et=I,cc(c,p),I=(p.flags&128)!==0,et||I?(et=p.stateNode,w=I&&typeof w.getDerivedStateFromError!="function"?null:et.render(),p.flags|=1,c!==null&&I?(p.child=Jo(p,c.child,null,W),p.child=Jo(p,null,w,W)):Cc(c,p,w,W),p.memoizedState=et.state,c=p.child):c=Pd(c,p,W),c}function zx(c,p,w,I){return Kc(),p.flags|=256,Cc(c,p,w,I),p.child}var Fx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jx(c){return{baseLanes:c,cachePool:Te()}}function P0(c,p,w){return c=c!==null?c.childLanes&~w:0,p&&(c|=$h),c}function yS(c,p,w){var I=p.pendingProps,W=!1,et=(p.flags&128)!==0,Ot;if((Ot=et)||(Ot=c!==null&&c.memoizedState===null?!1:(Ua.current&2)!==0),Ot&&(W=!0,p.flags&=-129),Ot=(p.flags&32)!==0,p.flags&=-33,c===null){if(wa){if(W?Ma(p):ia(),(c=Qo)?(c=QS(c,us),c=c!==null&&c.data!=="&"?c:null,c!==null&&(p.memoizedState={dehydrated:c,treeContext:wc!==null?{id:Iu,overflow:ac}:null,retryLane:536870912,hydrationErrors:null},w=Gf(c),w.return=p,p.child=w,Xl=p,Qo=null)):c=null,c===null)throw mo(p);return uv(c)?p.lanes=32:p.lanes=536870912,null}var se=I.children;return I=I.fallback,W?(ia(),W=p.mode,se=Xy({mode:"hidden",children:se},W),I=Jh(I,W,w,null),se.return=p,I.return=p,se.sibling=I,p.child=se,I=p.child,I.memoizedState=jx(w),I.childLanes=P0(c,Ot,w),p.memoizedState=Fx,Uy(null,I)):(Ma(p),Hy(p,se))}var Ye=c.memoizedState;if(Ye!==null&&(se=Ye.dehydrated,se!==null)){if(et)p.flags&256?(Ma(p),p.flags&=-257,p=O0(c,p,w)):p.memoizedState!==null?(ia(),p.child=c.child,p.flags|=128,p=null):(ia(),se=I.fallback,W=p.mode,I=Xy({mode:"visible",children:I.children},W),se=Jh(se,W,w,null),se.flags|=2,I.return=p,se.return=p,I.sibling=se,p.child=I,Jo(p,c.child,null,w),I=p.child,I.memoizedState=jx(w),I.childLanes=P0(c,Ot,w),p.memoizedState=Fx,p=Uy(null,I));else if(Ma(p),uv(se)){if(Ot=se.nextSibling&&se.nextSibling.dataset,Ot)var Br=Ot.dgst;Ot=Br,I=Error(n(419)),I.stack="",I.digest=Ot,Zc({value:I,source:null,stack:null}),p=O0(c,p,w)}else if(gu||al(c,p,w,!1),Ot=(w&c.childLanes)!==0,gu||Ot){if(Ot=Go,Ot!==null&&(I=be(Ot,w),I!==0&&I!==Ye.retryLane))throw Ye.retryLane=I,Au(c,I),Sh(Ot,c,I),I0;ob(se)||nv(),p=O0(c,p,w)}else ob(se)?(p.flags|=192,p.child=c.child,p=null):(c=Ye.treeContext,Qo=qh(se.nextSibling),Xl=p,wa=!0,Wl=null,us=!1,c!==null&&Mp(p,c),p=Hy(p,I.children),p.flags|=4096);return p}return W?(ia(),se=I.fallback,W=p.mode,Ye=c.child,Br=Ye.sibling,I=Hl(Ye,{mode:"hidden",children:I.children}),I.subtreeFlags=Ye.subtreeFlags&65011712,Br!==null?se=Hl(Br,se):(se=Jh(se,W,w,null),se.flags|=2),se.return=p,I.return=p,I.sibling=se,p.child=I,Uy(null,I),I=p.child,se=c.child.memoizedState,se===null?se=jx(w):(W=se.cachePool,W!==null?(Ye=As._currentValue,W=W.parent!==Ye?{parent:Ye,pool:Ye}:W):W=Te(),se={baseLanes:se.baseLanes|w,cachePool:W}),I.memoizedState=se,I.childLanes=P0(c,Ot,w),p.memoizedState=Fx,Uy(c.child,I)):(Ma(p),w=c.child,c=w.sibling,w=Hl(w,{mode:"visible",children:I.children}),w.return=p,w.sibling=null,c!==null&&(Ot=p.deletions,Ot===null?(p.deletions=[c],p.flags|=16):Ot.push(c)),p.child=w,p.memoizedState=null,w)}function Hy(c,p){return p=Xy({mode:"visible",children:p},c.mode),p.return=c,c.child=p}function Xy(c,p){return c=mi(22,c,null,p),c.lanes=0,c}function O0(c,p,w){return Jo(p,c.child,null,w),c=Hy(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function vS(c,p,w){c.lanes|=p;var I=c.alternate;I!==null&&(I.lanes|=p),Qc(c.return,p,w)}function Vx(c,p,w,I,W,et){var Ot=c.memoizedState;Ot===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:I,tail:w,tailMode:W,treeForkCount:et}:(Ot.isBackwards=p,Ot.rendering=null,Ot.renderingStartTime=0,Ot.last=I,Ot.tail=w,Ot.tailMode=W,Ot.treeForkCount=et)}function bS(c,p,w){var I=p.pendingProps,W=I.revealOrder,et=I.tail;I=I.children;var Ot=Ua.current,se=(Ot&2)!==0;if(se?(Ot=Ot&1|2,p.flags|=128):Ot&=1,kt(Ua,Ot),Cc(c,p,I,w),I=wa?Ad:0,!se&&c!==null&&(c.flags&128)!==0)t:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&vS(c,w,p);else if(c.tag===19)vS(c,w,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break t;for(;c.sibling===null;){if(c.return===null||c.return===p)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(W){case"forwards":for(w=p.child,W=null;w!==null;)c=w.alternate,c!==null&&Bs(c)===null&&(W=w),w=w.sibling;w=W,w===null?(W=p.child,p.child=null):(W=w.sibling,w.sibling=null),Vx(p,!1,W,w,et,I);break;case"backwards":case"unstable_legacy-backwards":for(w=null,W=p.child,p.child=null;W!==null;){if(c=W.alternate,c!==null&&Bs(c)===null){p.child=W;break}c=W.sibling,W.sibling=w,w=W,W=c}Vx(p,!0,w,null,et,I);break;case"together":Vx(p,!1,null,null,void 0,I);break;default:p.memoizedState=null}return p.child}function Pd(c,p,w){if(c!==null&&(p.dependencies=c.dependencies),Qf|=p.lanes,(w&p.childLanes)===0)if(c!==null){if(al(c,p,w,!1),(w&p.childLanes)===0)return null}else return null;if(c!==null&&p.child!==c.child)throw Error(n(153));if(p.child!==null){for(c=p.child,w=Hl(c,c.pendingProps),p.child=w,w.return=p;c.sibling!==null;)c=c.sibling,w=w.sibling=Hl(c,c.pendingProps),w.return=p;w.sibling=null}return p.child}function Wy(c,p){return(c.lanes&p)!==0?!0:(c=c.dependencies,!!(c!==null&&oc(c)))}function _S(c,p,w){switch(p.tag){case 3:Ht(p,p.stateNode.containerInfo),Bh(p,As,c.memoizedState.cache),Kc();break;case 27:case 5:de(p);break;case 4:Ht(p,p.stateNode.containerInfo);break;case 10:Bh(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,yo(p),null;break;case 13:var I=p.memoizedState;if(I!==null)return I.dehydrated!==null?(Ma(p),p.flags|=128,null):(w&p.child.childLanes)!==0?yS(c,p,w):(Ma(p),c=Pd(c,p,w),c!==null?c.sibling:null);Ma(p);break;case 19:var W=(c.flags&128)!==0;if(I=(w&p.childLanes)!==0,I||(al(c,p,w,!1),I=(w&p.childLanes)!==0),W){if(I)return bS(c,p,w);p.flags|=128}if(W=p.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),kt(Ua,Ua.current),I)break;return null;case 22:return p.lanes=0,Bx(c,p,w,p.pendingProps);case 24:Bh(p,As,c.memoizedState.cache)}return Pd(c,p,w)}function Fp(c,p,w){if(c!==null)if(c.memoizedProps!==p.pendingProps)gu=!0;else{if(!Wy(c,w)&&(p.flags&128)===0)return gu=!1,_S(c,p,w);gu=(c.flags&131072)!==0}else gu=!1,wa&&(p.flags&1048576)!==0&&Dg(p,Ad,p.index);switch(p.lanes=0,p.tag){case 16:t:{var I=p.pendingProps;if(c=Er(p.elementType),p.type=c,typeof c=="function")Xu(c)?(I=Yf(c,I),p.tag=1,p=gS(null,p,c,I,w)):(p.tag=0,p=L0(null,p,c,I,w));else{if(c!=null){var W=c.$$typeof;if(W===j){p.tag=11,p=mS(null,p,c,I,w);break t}else if(W===rt){p.tag=14,p=Ox(null,p,c,I,w);break t}}throw p=mt(c)||c,Error(n(306,p,""))}}return p;case 0:return L0(c,p,p.type,p.pendingProps,w);case 1:return I=p.type,W=Yf(I,p.pendingProps),gS(c,p,I,W,w);case 3:t:{if(Ht(p,p.stateNode.containerInfo),c===null)throw Error(n(387));I=p.pendingProps;var et=p.memoizedState;W=et.element,go(c,p),bl(p,I,null,w);var Ot=p.memoizedState;if(I=Ot.cache,Bh(p,As,I),I!==et.cache&&Pc(p,[As],w,!0),$o(),I=Ot.element,et.isDehydrated)if(et={element:I,isDehydrated:!1,cache:Ot.cache},p.updateQueue.baseState=et,p.memoizedState=et,p.flags&256){p=zx(c,p,I,w);break t}else if(I!==W){W=Wu(Error(n(424)),p),Zc(W),p=zx(c,p,I,w);break t}else{switch(c=p.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Qo=qh(c.firstChild),Xl=p,wa=!0,Wl=null,us=!0,w=ji(p,null,I,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(Kc(),I===W){p=Pd(c,p,w);break t}Cc(c,p,I,w)}p=p.child}return p;case 26:return cc(c,p),c===null?(w=ft(p.type,null,p.pendingProps,null))?p.memoizedState=w:wa||(w=p.type,c=p.pendingProps,I=Ym(qt.current).createElement(w),I[On]=p,I[li]=c,hc(I,w,c),sa(I),p.stateNode=I):p.memoizedState=ft(p.type,c.memoizedProps,p.pendingProps,c.memoizedState),null;case 27:return de(p),c===null&&wa&&(I=p.stateNode=lb(p.type,p.pendingProps,qt.current),Xl=p,us=!0,W=Qo,op(p.type)?(Zm=W,Qo=qh(I.firstChild)):Qo=W),Cc(c,p,p.pendingProps.children,w),cc(c,p),c===null&&(p.flags|=4194304),p.child;case 5:return c===null&&wa&&((W=I=Qo)&&(I=KS(I,p.type,p.pendingProps,us),I!==null?(p.stateNode=I,Xl=p,Qo=qh(I.firstChild),us=!1,W=!0):W=!1),W||mo(p)),de(p),W=p.type,et=p.pendingProps,Ot=c!==null?c.memoizedProps:null,I=et.children,Jg(W,et)?I=null:Ot!==null&&Jg(W,Ot)&&(p.flags|=32),p.memoizedState!==null&&(W=L(c,p,tt,null,null,w),ui._currentValue=W),cc(c,p),Cc(c,p,I,w),p.child;case 6:return c===null&&wa&&((c=w=Qo)&&(w=ZS(w,p.pendingProps,us),w!==null?(p.stateNode=w,Xl=p,Qo=null,c=!0):c=!1),c||mo(p)),null;case 13:return yS(c,p,w);case 4:return Ht(p,p.stateNode.containerInfo),I=p.pendingProps,c===null?p.child=Jo(p,null,I,w):Cc(c,p,I,w),p.child;case 11:return mS(c,p,p.type,p.pendingProps,w);case 7:return Cc(c,p,p.pendingProps,w),p.child;case 8:return Cc(c,p,p.pendingProps.children,w),p.child;case 12:return Cc(c,p,p.pendingProps.children,w),p.child;case 10:return I=p.pendingProps,Bh(p,p.type,I.value),Cc(c,p,I.children,w),p.child;case 9:return W=p.type._context,I=p.pendingProps.children,vh(p),W=Yl(W),I=I(W),p.flags|=1,Cc(c,p,I,w),p.child;case 14:return Ox(c,p,p.type,p.pendingProps,w);case 15:return Dx(c,p,p.type,p.pendingProps,w);case 19:return bS(c,p,w);case 31:return Gy(c,p,w);case 22:return Bx(c,p,w,p.pendingProps);case 24:return vh(p),I=Yl(As),c===null?(W=ue(),W===null&&(W=Go,et=zh(),W.pooledCache=et,et.refCount++,et!==null&&(W.pooledCacheLanes|=w),W=et),p.memoizedState={parent:I,cache:W},Pn(p),Bh(p,As,W)):((c.lanes&w)!==0&&(go(c,p),bl(p,null,null,w),$o()),W=c.memoizedState,et=p.memoizedState,W.parent!==I?(W={parent:I,cache:I},p.memoizedState=W,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=W),Bh(p,As,I)):(I=et.cache,Bh(p,As,I),I!==W.cache&&Pc(p,[As],w,!0))),Cc(c,p,p.pendingProps.children,w),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function Fh(c){c.flags|=4}function $x(c,p,w,I,W){if((p=(c.mode&32)!==0)&&(p=!1),p){if(c.flags|=16777216,(W&335544128)===W)if(c.stateNode.complete)c.flags|=8192;else if(RS())c.flags|=8192;else throw wr=hr,Nr}else c.flags&=-16777217}function xS(c,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!jr(p))if(RS())c.flags|=8192;else throw wr=hr,Nr}function D0(c,p){p!==null&&(c.flags|=4),c.flags&16384&&(p=c.tag!==22?or():536870912,c.lanes|=p,Jf|=p)}function Yy(c,p){if(!wa)switch(c.tailMode){case"hidden":p=c.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?c.tail=null:w.sibling=null;break;case"collapsed":w=c.tail;for(var I=null;w!==null;)w.alternate!==null&&(I=w),w=w.sibling;I===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:I.sibling=null}}function ul(c){var p=c.alternate!==null&&c.alternate.child===c.child,w=0,I=0;if(p)for(var W=c.child;W!==null;)w|=W.lanes|W.childLanes,I|=W.subtreeFlags&65011712,I|=W.flags&65011712,W.return=c,W=W.sibling;else for(W=c.child;W!==null;)w|=W.lanes|W.childLanes,I|=W.subtreeFlags,I|=W.flags,W.return=c,W=W.sibling;return c.subtreeFlags|=I,c.childLanes=w,p}function XA(c,p,w){var I=p.pendingProps;switch(kd(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ul(p),null;case 1:return ul(p),null;case 3:return w=p.stateNode,I=null,c!==null&&(I=c.memoizedState.cache),p.memoizedState.cache!==I&&(p.flags|=2048),Sc(As),ce(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(vl(p)?Fh(p):c===null||c.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,td())),ul(p),null;case 26:var W=p.type,et=p.memoizedState;return c===null?(Fh(p),et!==null?(ul(p),xS(p,et)):(ul(p),$x(p,W,null,I,w))):et?et!==c.memoizedState?(Fh(p),ul(p),xS(p,et)):(ul(p),p.flags&=-16777217):(c=c.memoizedProps,c!==I&&Fh(p),ul(p),$x(p,W,c,I,w)),null;case 27:if(Se(p),w=qt.current,W=p.type,c!==null&&p.stateNode!=null)c.memoizedProps!==I&&Fh(p);else{if(!I){if(p.stateNode===null)throw Error(n(166));return ul(p),null}c=At.current,vl(p)?yh(p):(c=lb(W,I,w),p.stateNode=c,Fh(p))}return ul(p),null;case 5:if(Se(p),W=p.type,c!==null&&p.stateNode!=null)c.memoizedProps!==I&&Fh(p);else{if(!I){if(p.stateNode===null)throw Error(n(166));return ul(p),null}if(et=At.current,vl(p))yh(p);else{var Ot=Ym(qt.current);switch(et){case 1:et=Ot.createElementNS("http://www.w3.org/2000/svg",W);break;case 2:et=Ot.createElementNS("http://www.w3.org/1998/Math/MathML",W);break;default:switch(W){case"svg":et=Ot.createElementNS("http://www.w3.org/2000/svg",W);break;case"math":et=Ot.createElementNS("http://www.w3.org/1998/Math/MathML",W);break;case"script":et=Ot.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild);break;case"select":et=typeof I.is=="string"?Ot.createElement("select",{is:I.is}):Ot.createElement("select"),I.multiple?et.multiple=!0:I.size&&(et.size=I.size);break;default:et=typeof I.is=="string"?Ot.createElement(W,{is:I.is}):Ot.createElement(W)}}et[On]=p,et[li]=I;t:for(Ot=p.child;Ot!==null;){if(Ot.tag===5||Ot.tag===6)et.appendChild(Ot.stateNode);else if(Ot.tag!==4&&Ot.tag!==27&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===p)break t;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===p)break t;Ot=Ot.return}Ot.sibling.return=Ot.return,Ot=Ot.sibling}p.stateNode=et;t:switch(hc(et,W,I),W){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break t;case"img":I=!0;break t;default:I=!1}I&&Fh(p)}}return ul(p),$x(p,p.type,c===null?null:c.memoizedProps,p.pendingProps,w),null;case 6:if(c&&p.stateNode!=null)c.memoizedProps!==I&&Fh(p);else{if(typeof I!="string"&&p.stateNode===null)throw Error(n(166));if(c=qt.current,vl(p)){if(c=p.stateNode,w=p.memoizedProps,I=null,W=Xl,W!==null)switch(W.tag){case 27:case 5:I=W.memoizedProps}c[On]=p,c=!!(c.nodeValue===w||I!==null&&I.suppressHydrationWarning===!0||ap(c.nodeValue,w)),c||mo(p,!0)}else c=Ym(c).createTextNode(I),c[On]=p,p.stateNode=c}return ul(p),null;case 31:if(w=p.memoizedState,c===null||c.memoizedState!==null){if(I=vl(p),w!==null){if(c===null){if(!I)throw Error(n(318));if(c=p.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[On]=p}else Kc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ul(p),c=!1}else w=td(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=w),c=!0;if(!c)return p.flags&256?(Oi(p),p):(Oi(p),null);if((p.flags&128)!==0)throw Error(n(558))}return ul(p),null;case 13:if(I=p.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(W=vl(p),I!==null&&I.dehydrated!==null){if(c===null){if(!W)throw Error(n(318));if(W=p.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(n(317));W[On]=p}else Kc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ul(p),W=!1}else W=td(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=W),W=!0;if(!W)return p.flags&256?(Oi(p),p):(Oi(p),null)}return Oi(p),(p.flags&128)!==0?(p.lanes=w,p):(w=I!==null,c=c!==null&&c.memoizedState!==null,w&&(I=p.child,W=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(W=I.alternate.memoizedState.cachePool.pool),et=null,I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(et=I.memoizedState.cachePool.pool),et!==W&&(I.flags|=2048)),w!==c&&w&&(p.child.flags|=8192),D0(p,p.updateQueue),ul(p),null);case 4:return ce(),c===null&&eb(p.stateNode.containerInfo),ul(p),null;case 10:return Sc(p.type),ul(p),null;case 19:if(lt(Ua),I=p.memoizedState,I===null)return ul(p),null;if(W=(p.flags&128)!==0,et=I.rendering,et===null)if(W)Yy(I,!1);else{if(wl!==0||c!==null&&(c.flags&128)!==0)for(c=p.child;c!==null;){if(et=Bs(c),et!==null){for(p.flags|=128,Yy(I,!1),c=et.updateQueue,p.updateQueue=c,D0(p,c),p.subtreeFlags=0,c=w,w=p.child;w!==null;)sf(w,c),w=w.sibling;return kt(Ua,Ua.current&1|2),wa&&gl(p,I.treeForkCount),p.child}c=c.sibling}I.tail!==null&&Ir()>tv&&(p.flags|=128,W=!0,Yy(I,!1),p.lanes=4194304)}else{if(!W)if(c=Bs(et),c!==null){if(p.flags|=128,W=!0,c=c.updateQueue,p.updateQueue=c,D0(p,c),Yy(I,!0),I.tail===null&&I.tailMode==="hidden"&&!et.alternate&&!wa)return ul(p),null}else 2*Ir()-I.renderingStartTime>tv&&w!==536870912&&(p.flags|=128,W=!0,Yy(I,!1),p.lanes=4194304);I.isBackwards?(et.sibling=p.child,p.child=et):(c=I.last,c!==null?c.sibling=et:p.child=et,I.last=et)}return I.tail!==null?(c=I.tail,I.rendering=c,I.tail=c.sibling,I.renderingStartTime=Ir(),c.sibling=null,w=Ua.current,kt(Ua,W?w&1|2:w&1),wa&&gl(p,I.treeForkCount),c):(ul(p),null);case 22:case 23:return Oi(p),Ds(),I=p.memoizedState!==null,c!==null?c.memoizedState!==null!==I&&(p.flags|=8192):I&&(p.flags|=8192),I?(w&536870912)!==0&&(p.flags&128)===0&&(ul(p),p.subtreeFlags&6&&(p.flags|=8192)):ul(p),w=p.updateQueue,w!==null&&D0(p,w.retryQueue),w=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),I=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(I=p.memoizedState.cachePool.pool),I!==w&&(p.flags|=2048),c!==null&&lt(ae),null;case 24:return w=null,c!==null&&(w=c.memoizedState.cache),p.memoizedState.cache!==w&&(p.flags|=2048),Sc(As),ul(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function WA(c,p){switch(kd(p),p.tag){case 1:return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return Sc(As),ce(),c=p.flags,(c&65536)!==0&&(c&128)===0?(p.flags=c&-65537|128,p):null;case 26:case 27:case 5:return Se(p),null;case 31:if(p.memoizedState!==null){if(Oi(p),p.alternate===null)throw Error(n(340));Kc()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 13:if(Oi(p),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Kc()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return lt(Ua),null;case 4:return ce(),null;case 10:return Sc(p.type),null;case 22:case 23:return Oi(p),Ds(),c!==null&&lt(ae),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 24:return Sc(As),null;case 25:return null;default:return null}}function B0(c,p){switch(kd(p),p.tag){case 3:Sc(As),ce();break;case 26:case 27:case 5:Se(p);break;case 4:ce();break;case 31:p.memoizedState!==null&&Oi(p);break;case 13:Oi(p);break;case 19:lt(Ua);break;case 10:Sc(p.type);break;case 22:case 23:Oi(p),Ds(),c!==null&&lt(ae);break;case 24:Sc(As)}}function Ky(c,p){try{var w=p.updateQueue,I=w!==null?w.lastEffect:null;if(I!==null){var W=I.next;w=W;do{if((w.tag&c)===c){I=void 0;var et=w.create,Ot=w.inst;I=et(),Ot.destroy=I}w=w.next}while(w!==W)}}catch(se){Ho(p,p.return,se)}}function Kf(c,p,w){try{var I=p.updateQueue,W=I!==null?I.lastEffect:null;if(W!==null){var et=W.next;I=et;do{if((I.tag&c)===c){var Ot=I.inst,se=Ot.destroy;if(se!==void 0){Ot.destroy=void 0,W=p;var Ye=w,Br=se;try{Br()}catch(Jr){Ho(W,Ye,Jr)}}}I=I.next}while(I!==et)}}catch(Jr){Ho(p,p.return,Jr)}}function jg(c){var p=c.updateQueue;if(p!==null){var w=c.stateNode;try{Os(p,w)}catch(I){Ho(c,c.return,I)}}}function wS(c,p,w){w.props=Yf(c.type,c.memoizedProps),w.state=c.memoizedState;try{w.componentWillUnmount()}catch(I){Ho(c,p,I)}}function zs(c,p){try{var w=c.ref;if(w!==null){switch(c.tag){case 26:case 27:case 5:var I=c.stateNode;break;case 30:I=c.stateNode;break;default:I=c.stateNode}typeof w=="function"?c.refCleanup=w(I):w.current=I}}catch(W){Ho(c,p,W)}}function Jc(c,p){var w=c.ref,I=c.refCleanup;if(w!==null)if(typeof I=="function")try{I()}catch(W){Ho(c,p,W)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(W){Ho(c,p,W)}else w.current=null}function Ux(c){var p=c.type,w=c.memoizedProps,I=c.stateNode;try{t:switch(p){case"button":case"input":case"select":case"textarea":w.autoFocus&&I.focus();break t;case"img":w.src?I.src=w.src:w.srcSet&&(I.srcset=w.srcSet)}}catch(W){Ho(c,c.return,W)}}function Vg(c,p,w){try{var I=c.stateNode;XS(I,c.type,w,p),I[li]=p}catch(W){Ho(c,c.return,W)}}function Zy(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&op(c.type)||c.tag===4}function qm(c){t:for(;;){for(;c.sibling===null;){if(c.return===null||Zy(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&op(c.type)||c.flags&2||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function z0(c,p,w){var I=c.tag;if(I===5||I===6)c=c.stateNode,p?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(c,p):(p=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,p.appendChild(c),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=Wn));else if(I!==4&&(I===27&&op(c.type)&&(w=c.stateNode,p=null),c=c.child,c!==null))for(z0(c,p,w),c=c.sibling;c!==null;)z0(c,p,w),c=c.sibling}function Qy(c,p,w){var I=c.tag;if(I===5||I===6)c=c.stateNode,p?w.insertBefore(c,p):w.appendChild(c);else if(I!==4&&(I===27&&op(c.type)&&(w=c.stateNode),c=c.child,c!==null))for(Qy(c,p,w),c=c.sibling;c!==null;)Qy(c,p,w),c=c.sibling}function $g(c){var p=c.stateNode,w=c.memoizedProps;try{for(var I=c.type,W=p.attributes;W.length;)p.removeAttributeNode(W[0]);hc(p,I,w),p[On]=c,p[li]=w}catch(et){Ho(c,c.return,et)}}var Od=!1,cl=!1,Ug=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,tu=null;function YA(c,p){if(c=c.containerInfo,nb=fs,c=Ni(c),Vn(c)){if("selectionStart"in c)var w={start:c.selectionStart,end:c.selectionEnd};else t:{w=(w=c.ownerDocument)&&w.defaultView||window;var I=w.getSelection&&w.getSelection();if(I&&I.rangeCount!==0){w=I.anchorNode;var W=I.anchorOffset,et=I.focusNode;I=I.focusOffset;try{w.nodeType,et.nodeType}catch{w=null;break t}var Ot=0,se=-1,Ye=-1,Br=0,Jr=0,fn=c,Cr=null;e:for(;;){for(var Ur;fn!==w||W!==0&&fn.nodeType!==3||(se=Ot+W),fn!==et||I!==0&&fn.nodeType!==3||(Ye=Ot+I),fn.nodeType===3&&(Ot+=fn.nodeValue.length),(Ur=fn.firstChild)!==null;)Cr=fn,fn=Ur;for(;;){if(fn===c)break e;if(Cr===w&&++Br===W&&(se=Ot),Cr===et&&++Jr===I&&(Ye=Ot),(Ur=fn.nextSibling)!==null)break;fn=Cr,Cr=fn.parentNode}fn=Ur}w=se===-1||Ye===-1?null:{start:se,end:Ye}}else w=null}w=w||{start:0,end:0}}else w=null;for(ib={focusedElem:c,selectionRange:w},fs=!1,tu=p;tu!==null;)if(p=tu,c=p.child,(p.subtreeFlags&1028)!==0&&c!==null)c.return=p,tu=c;else for(;tu!==null;){switch(p=tu,et=p.alternate,c=p.flags,p.tag){case 0:if((c&4)!==0&&(c=p.updateQueue,c=c!==null?c.events:null,c!==null))for(w=0;w<c.length;w++)W=c[w],W.ref.impl=W.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&et!==null){c=void 0,w=p,W=et.memoizedProps,et=et.memoizedState,I=w.stateNode;try{var si=Yf(w.type,W);c=I.getSnapshotBeforeUpdate(si,et),I.__reactInternalSnapshotBeforeUpdate=c}catch(xi){Ho(w,w.return,xi)}}break;case 3:if((c&1024)!==0){if(c=p.stateNode.containerInfo,w=c.nodeType,w===9)v1(c);else if(w===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":v1(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=p.sibling,c!==null){c.return=p.return,tu=c;break}tu=p.return}}function qx(c,p,w){var I=w.flags;switch(w.tag){case 0:case 11:case 15:Bd(c,w),I&4&&Ky(5,w);break;case 1:if(Bd(c,w),I&4)if(c=w.stateNode,p===null)try{c.componentDidMount()}catch(Ot){Ho(w,w.return,Ot)}else{var W=Yf(w.type,p.memoizedProps);p=p.memoizedState;try{c.componentDidUpdate(W,p,c.__reactInternalSnapshotBeforeUpdate)}catch(Ot){Ho(w,w.return,Ot)}}I&64&&jg(w),I&512&&zs(w,w.return);break;case 3:if(Bd(c,w),I&64&&(c=w.updateQueue,c!==null)){if(p=null,w.child!==null)switch(w.child.tag){case 27:case 5:p=w.child.stateNode;break;case 1:p=w.child.stateNode}try{Os(c,p)}catch(Ot){Ho(w,w.return,Ot)}}break;case 27:p===null&&I&4&&$g(w);case 26:case 5:Bd(c,w),p===null&&I&4&&Ux(w),I&512&&zs(w,w.return);break;case 12:Bd(c,w);break;case 31:Bd(c,w),I&4&&Gx(c,w);break;case 13:Bd(c,w),I&4&&Hx(c,w),I&64&&(c=w.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(w=s1.bind(null,w),b1(c,w))));break;case 22:if(I=w.memoizedState!==null||Od,!I){p=p!==null&&p.memoizedState!==null||cl,W=Od;var et=cl;Od=I,(cl=p)&&!et?zd(c,w,(w.subtreeFlags&8772)!==0):Bd(c,w),Od=W,cl=et}break;case 30:break;default:Bd(c,w)}}function jp(c){var p=c.alternate;p!==null&&(c.alternate=null,jp(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&Na(p)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var xl=null,th=!1;function jh(c,p,w){for(w=w.child;w!==null;)F0(c,p,w),w=w.sibling}function F0(c,p,w){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(jt,w)}catch{}switch(w.tag){case 26:cl||Jc(w,p),jh(c,p,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:cl||Jc(w,p);var I=xl,W=th;op(w.type)&&(xl=w.stateNode,th=!1),jh(c,p,w),Kp(w.stateNode),xl=I,th=W;break;case 5:cl||Jc(w,p);case 6:if(I=xl,W=th,xl=null,jh(c,p,w),xl=I,th=W,xl!==null)if(th)try{(xl.nodeType===9?xl.body:xl.nodeName==="HTML"?xl.ownerDocument.body:xl).removeChild(w.stateNode)}catch(et){Ho(w,p,et)}else try{xl.removeChild(w.stateNode)}catch(et){Ho(w,p,et)}break;case 18:xl!==null&&(th?(c=xl,y1(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,w.stateNode),Zp(c)):y1(xl,w.stateNode));break;case 4:I=xl,W=th,xl=w.stateNode.containerInfo,th=!0,jh(c,p,w),xl=I,th=W;break;case 0:case 11:case 14:case 15:Kf(2,w,p),cl||Kf(4,w,p),jh(c,p,w);break;case 1:cl||(Jc(w,p),I=w.stateNode,typeof I.componentWillUnmount=="function"&&wS(w,p,I)),jh(c,p,w);break;case 21:jh(c,p,w);break;case 22:cl=(I=cl)||w.memoizedState!==null,jh(c,p,w),cl=I;break;default:jh(c,p,w)}}function Gx(c,p){if(p.memoizedState===null&&(c=p.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Zp(c)}catch(w){Ho(p,p.return,w)}}}function Hx(c,p){if(p.memoizedState===null&&(c=p.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Zp(c)}catch(w){Ho(p,p.return,w)}}function KA(c){switch(c.tag){case 31:case 13:case 19:var p=c.stateNode;return p===null&&(p=c.stateNode=new Gm),p;case 22:return c=c.stateNode,p=c._retryCache,p===null&&(p=c._retryCache=new Gm),p;default:throw Error(n(435,c.tag))}}function j0(c,p){var w=KA(c);p.forEach(function(I){if(!w.has(I)){w.add(I);var W=JA.bind(null,c,I);I.then(W,W)}})}function xh(c,p){var w=p.deletions;if(w!==null)for(var I=0;I<w.length;I++){var W=w[I],et=c,Ot=p,se=Ot;t:for(;se!==null;){switch(se.tag){case 27:if(op(se.type)){xl=se.stateNode,th=!1;break t}break;case 5:xl=se.stateNode,th=!1;break t;case 3:case 4:xl=se.stateNode.containerInfo,th=!0;break t}se=se.return}if(xl===null)throw Error(n(160));F0(et,Ot,W),xl=null,th=!1,et=W.alternate,et!==null&&(et.return=null),W.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)SS(p,c),p=p.sibling}var Dd=null;function SS(c,p){var w=c.alternate,I=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:xh(p,c),Oc(c),I&4&&(Kf(3,c,c.return),Ky(3,c),Kf(5,c,c.return));break;case 1:xh(p,c),Oc(c),I&512&&(cl||w===null||Jc(w,w.return)),I&64&&Od&&(c=c.updateQueue,c!==null&&(I=c.callbacks,I!==null&&(w=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=w===null?I:w.concat(I))));break;case 26:var W=Dd;if(xh(p,c),Oc(c),I&512&&(cl||w===null||Jc(w,w.return)),I&4){var et=w!==null?w.memoizedState:null;if(I=c.memoizedState,w===null)if(I===null)if(c.stateNode===null){t:{I=c.type,w=c.memoizedProps,W=W.ownerDocument||W;e:switch(I){case"title":et=W.getElementsByTagName("title")[0],(!et||et[_o]||et[On]||et.namespaceURI==="http://www.w3.org/2000/svg"||et.hasAttribute("itemprop"))&&(et=W.createElement(I),W.head.insertBefore(et,W.querySelector("head > title"))),hc(et,I,w),et[On]=c,sa(et),I=et;break t;case"link":var Ot=Ve("link","href",W).get(I+(w.href||""));if(Ot){for(var se=0;se<Ot.length;se++)if(et=Ot[se],et.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&et.getAttribute("rel")===(w.rel==null?null:w.rel)&&et.getAttribute("title")===(w.title==null?null:w.title)&&et.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){Ot.splice(se,1);break e}}et=W.createElement(I),hc(et,I,w),W.head.appendChild(et);break;case"meta":if(Ot=Ve("meta","content",W).get(I+(w.content||""))){for(se=0;se<Ot.length;se++)if(et=Ot[se],et.getAttribute("content")===(w.content==null?null:""+w.content)&&et.getAttribute("name")===(w.name==null?null:w.name)&&et.getAttribute("property")===(w.property==null?null:w.property)&&et.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&et.getAttribute("charset")===(w.charSet==null?null:w.charSet)){Ot.splice(se,1);break e}}et=W.createElement(I),hc(et,I,w),W.head.appendChild(et);break;default:throw Error(n(468,I))}et[On]=c,sa(et),I=et}c.stateNode=I}else Tr(W,c.type,c.stateNode);else c.stateNode=Ee(W,I,c.memoizedProps);else et!==I?(et===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):et.count--,I===null?Tr(W,c.type,c.stateNode):Ee(W,I,c.memoizedProps)):I===null&&c.stateNode!==null&&Vg(c,c.memoizedProps,w.memoizedProps)}break;case 27:xh(p,c),Oc(c),I&512&&(cl||w===null||Jc(w,w.return)),w!==null&&I&4&&Vg(c,c.memoizedProps,w.memoizedProps);break;case 5:if(xh(p,c),Oc(c),I&512&&(cl||w===null||Jc(w,w.return)),c.flags&32){W=c.stateNode;try{qe(W,"")}catch(si){Ho(c,c.return,si)}}I&4&&c.stateNode!=null&&(W=c.memoizedProps,Vg(c,W,w!==null?w.memoizedProps:W)),I&1024&&(Ug=!0);break;case 6:if(xh(p,c),Oc(c),I&4){if(c.stateNode===null)throw Error(n(162));I=c.memoizedProps,w=c.stateNode;try{w.nodeValue=I}catch(si){Ho(c,c.return,si)}}break;case 3:if(le=null,W=Dd,Dd=ey(p.containerInfo),xh(p,c),Dd=W,Oc(c),I&4&&w!==null&&w.memoizedState.isDehydrated)try{Zp(p.containerInfo)}catch(si){Ho(c,c.return,si)}Ug&&(Ug=!1,Xx(c));break;case 4:I=Dd,Dd=ey(c.stateNode.containerInfo),xh(p,c),Oc(c),Dd=I;break;case 12:xh(p,c),Oc(c);break;case 31:xh(p,c),Oc(c),I&4&&(I=c.updateQueue,I!==null&&(c.updateQueue=null,j0(c,I)));break;case 13:xh(p,c),Oc(c),c.child.flags&8192&&c.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(H0=Ir()),I&4&&(I=c.updateQueue,I!==null&&(c.updateQueue=null,j0(c,I)));break;case 22:W=c.memoizedState!==null;var Ye=w!==null&&w.memoizedState!==null,Br=Od,Jr=cl;if(Od=Br||W,cl=Jr||Ye,xh(p,c),cl=Jr,Od=Br,Oc(c),I&8192)t:for(p=c.stateNode,p._visibility=W?p._visibility&-2:p._visibility|1,W&&(w===null||Ye||Od||cl||Vp(c)),w=null,p=c;;){if(p.tag===5||p.tag===26){if(w===null){Ye=w=p;try{if(et=Ye.stateNode,W)Ot=et.style,typeof Ot.setProperty=="function"?Ot.setProperty("display","none","important"):Ot.display="none";else{se=Ye.stateNode;var fn=Ye.memoizedProps.style,Cr=fn!=null&&fn.hasOwnProperty("display")?fn.display:null;se.style.display=Cr==null||typeof Cr=="boolean"?"":(""+Cr).trim()}}catch(si){Ho(Ye,Ye.return,si)}}}else if(p.tag===6){if(w===null){Ye=p;try{Ye.stateNode.nodeValue=W?"":Ye.memoizedProps}catch(si){Ho(Ye,Ye.return,si)}}}else if(p.tag===18){if(w===null){Ye=p;try{var Ur=Ye.stateNode;W?ab(Ur,!0):ab(Ye.stateNode,!1)}catch(si){Ho(Ye,Ye.return,si)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===c)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break t;for(;p.sibling===null;){if(p.return===null||p.return===c)break t;w===p&&(w=null),p=p.return}w===p&&(w=null),p.sibling.return=p.return,p=p.sibling}I&4&&(I=c.updateQueue,I!==null&&(w=I.retryQueue,w!==null&&(I.retryQueue=null,j0(c,w))));break;case 19:xh(p,c),Oc(c),I&4&&(I=c.updateQueue,I!==null&&(c.updateQueue=null,j0(c,I)));break;case 30:break;case 21:break;default:xh(p,c),Oc(c)}}function Oc(c){var p=c.flags;if(p&2){try{for(var w,I=c.return;I!==null;){if(Zy(I)){w=I;break}I=I.return}if(w==null)throw Error(n(160));switch(w.tag){case 27:var W=w.stateNode,et=qm(c);Qy(c,et,W);break;case 5:var Ot=w.stateNode;w.flags&32&&(qe(Ot,""),w.flags&=-33);var se=qm(c);Qy(c,se,Ot);break;case 3:case 4:var Ye=w.stateNode.containerInfo,Br=qm(c);z0(c,Br,Ye);break;default:throw Error(n(161))}}catch(Jr){Ho(c,c.return,Jr)}c.flags&=-3}p&4096&&(c.flags&=-4097)}function Xx(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var p=c;Xx(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),c=c.sibling}}function Bd(c,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)qx(c,p.alternate,p),p=p.sibling}function Vp(c){for(c=c.child;c!==null;){var p=c;switch(p.tag){case 0:case 11:case 14:case 15:Kf(4,p,p.return),Vp(p);break;case 1:Jc(p,p.return);var w=p.stateNode;typeof w.componentWillUnmount=="function"&&wS(p,p.return,w),Vp(p);break;case 27:Kp(p.stateNode);case 26:case 5:Jc(p,p.return),Vp(p);break;case 22:p.memoizedState===null&&Vp(p);break;case 30:Vp(p);break;default:Vp(p)}c=c.sibling}}function zd(c,p,w){for(w=w&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var I=p.alternate,W=c,et=p,Ot=et.flags;switch(et.tag){case 0:case 11:case 15:zd(W,et,w),Ky(4,et);break;case 1:if(zd(W,et,w),I=et,W=I.stateNode,typeof W.componentDidMount=="function")try{W.componentDidMount()}catch(Br){Ho(I,I.return,Br)}if(I=et,W=I.updateQueue,W!==null){var se=I.stateNode;try{var Ye=W.shared.hiddenCallbacks;if(Ye!==null)for(W.shared.hiddenCallbacks=null,W=0;W<Ye.length;W++)cs(Ye[W],se)}catch(Br){Ho(I,I.return,Br)}}w&&Ot&64&&jg(et),zs(et,et.return);break;case 27:$g(et);case 26:case 5:zd(W,et,w),w&&I===null&&Ot&4&&Ux(et),zs(et,et.return);break;case 12:zd(W,et,w);break;case 31:zd(W,et,w),w&&Ot&4&&Gx(W,et);break;case 13:zd(W,et,w),w&&Ot&4&&Hx(W,et);break;case 22:et.memoizedState===null&&zd(W,et,w),zs(et,et.return);break;case 30:break;default:zd(W,et,w)}p=p.sibling}}function V0(c,p){var w=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),c=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(c=p.memoizedState.cachePool.pool),c!==w&&(c!=null&&c.refCount++,w!=null&&bh(w))}function $0(c,p){c=null,p.alternate!==null&&(c=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==c&&(p.refCount++,c!=null&&bh(c))}function wh(c,p,w,I){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Wx(c,p,w,I),p=p.sibling}function Wx(c,p,w,I){var W=p.flags;switch(p.tag){case 0:case 11:case 15:wh(c,p,w,I),W&2048&&Ky(9,p);break;case 1:wh(c,p,w,I);break;case 3:wh(c,p,w,I),W&2048&&(c=null,p.alternate!==null&&(c=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==c&&(p.refCount++,c!=null&&bh(c)));break;case 12:if(W&2048){wh(c,p,w,I),c=p.stateNode;try{var et=p.memoizedProps,Ot=et.id,se=et.onPostCommit;typeof se=="function"&&se(Ot,p.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Ye){Ho(p,p.return,Ye)}}else wh(c,p,w,I);break;case 31:wh(c,p,w,I);break;case 13:wh(c,p,w,I);break;case 23:break;case 22:et=p.stateNode,Ot=p.alternate,p.memoizedState!==null?et._visibility&2?wh(c,p,w,I):qg(c,p):et._visibility&2?wh(c,p,w,I):(et._visibility|=2,Hm(c,p,w,I,(p.subtreeFlags&10256)!==0||!1)),W&2048&&V0(Ot,p);break;case 24:wh(c,p,w,I),W&2048&&$0(p.alternate,p);break;default:wh(c,p,w,I)}}function Hm(c,p,w,I,W){for(W=W&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var et=c,Ot=p,se=w,Ye=I,Br=Ot.flags;switch(Ot.tag){case 0:case 11:case 15:Hm(et,Ot,se,Ye,W),Ky(8,Ot);break;case 23:break;case 22:var Jr=Ot.stateNode;Ot.memoizedState!==null?Jr._visibility&2?Hm(et,Ot,se,Ye,W):qg(et,Ot):(Jr._visibility|=2,Hm(et,Ot,se,Ye,W)),W&&Br&2048&&V0(Ot.alternate,Ot);break;case 24:Hm(et,Ot,se,Ye,W),W&&Br&2048&&$0(Ot.alternate,Ot);break;default:Hm(et,Ot,se,Ye,W)}p=p.sibling}}function qg(c,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var w=c,I=p,W=I.flags;switch(I.tag){case 22:qg(w,I),W&2048&&V0(I.alternate,I);break;case 24:qg(w,I),W&2048&&$0(I.alternate,I);break;default:qg(w,I)}p=p.sibling}}var Zf=8192;function Gg(c,p,w){if(c.subtreeFlags&Zf)for(c=c.child;c!==null;)U0(c,p,w),c=c.sibling}function U0(c,p,w){switch(c.tag){case 26:Gg(c,p,w),c.flags&Zf&&c.memoizedState!==null&&Gr(w,Dd,c.memoizedState,c.memoizedProps);break;case 5:Gg(c,p,w);break;case 3:case 4:var I=Dd;Dd=ey(c.stateNode.containerInfo),Gg(c,p,w),Dd=I;break;case 22:c.memoizedState===null&&(I=c.alternate,I!==null&&I.memoizedState!==null?(I=Zf,Zf=16777216,Gg(c,p,w),Zf=I):Gg(c,p,w));break;default:Gg(c,p,w)}}function Hg(c){var p=c.alternate;if(p!==null&&(c=p.child,c!==null)){p.child=null;do p=c.sibling,c.sibling=null,c=p;while(c!==null)}}function Xm(c){var p=c.deletions;if((c.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var I=p[w];tu=I,Yx(I,c)}Hg(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ES(c),c=c.sibling}function ES(c){switch(c.tag){case 0:case 11:case 15:Xm(c),c.flags&2048&&Kf(9,c,c.return);break;case 3:Xm(c);break;case 12:Xm(c);break;case 22:var p=c.stateNode;c.memoizedState!==null&&p._visibility&2&&(c.return===null||c.return.tag!==13)?(p._visibility&=-3,q0(c)):Xm(c);break;default:Xm(c)}}function q0(c){var p=c.deletions;if((c.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var I=p[w];tu=I,Yx(I,c)}Hg(c)}for(c=c.child;c!==null;){switch(p=c,p.tag){case 0:case 11:case 15:Kf(8,p,p.return),q0(p);break;case 22:w=p.stateNode,w._visibility&2&&(w._visibility&=-3,q0(p));break;default:q0(p)}c=c.sibling}}function Yx(c,p){for(;tu!==null;){var w=tu;switch(w.tag){case 0:case 11:case 15:Kf(8,w,p);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var I=w.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:bh(w.memoizedState.cache)}if(I=w.child,I!==null)I.return=w,tu=I;else t:for(w=c;tu!==null;){I=tu;var W=I.sibling,et=I.return;if(jp(I),I===w){tu=null;break t}if(W!==null){W.return=et,tu=W;break t}tu=et}}}var TS={getCacheForType:function(c){var p=Yl(As),w=p.data.get(c);return w===void 0&&(w=c(),p.data.set(c,w)),w},cacheSignal:function(){return Yl(As).controller.signal}},ZA=typeof WeakMap=="function"?WeakMap:Map,qo=0,Go=null,qa=null,eo=0,hs=0,Vh=null,$p=!1,Xg=!1,Kx=!1,df=0,wl=0,Qf=0,Up=0,G0=0,$h=0,Jf=0,Jy=null,eh=null,Zx=!1,H0=0,CS=0,tv=1/0,X0=null,qp=null,Nl=0,tp=null,Gp=null,ff=0,eu=0,ev=null,AS=null,Wg=0,pf=null;function rh(){return(qo&2)!==0&&eo!==0?eo&-eo:pt.T!==null?c1():yn()}function kS(){if($h===0)if((eo&536870912)===0||wa){var c=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),$h=c}else $h=536870912;return c=La.current,c!==null&&(c.flags|=32),$h}function Sh(c,p,w){(c===Go&&(hs===2||hs===9)||c.cancelPendingCommit!==null)&&(rp(c,0),ep(c,eo,$h,!1)),Kr(c,w),((qo&2)===0||c!==Go)&&(c===Go&&((qo&2)===0&&(Up|=w),wl===4&&ep(c,eo,$h,!1)),Uh(c))}function IS(c,p,w){if((qo&6)!==0)throw Error(n(327));var I=!w&&(p&127)===0&&(p&c.expiredLanes)===0||Oe(c,p),W=I?MS(c,p):e1(c,p,!0),et=I;do{if(W===0){Xg&&!I&&ep(c,p,0,!1);break}else{if(w=c.current.alternate,et&&!Jx(w)){W=e1(c,p,!1),et=!1;continue}if(W===2){if(et=p,c.errorRecoveryDisabledLanes&et)var Ot=0;else Ot=c.pendingLanes&-536870913,Ot=Ot!==0?Ot:Ot&536870912?536870912:0;if(Ot!==0){p=Ot;t:{var se=c;W=Jy;var Ye=se.current.memoizedState.isDehydrated;if(Ye&&(rp(se,Ot).flags|=256),Ot=e1(se,Ot,!1),Ot!==2){if(Kx&&!Ye){se.errorRecoveryDisabledLanes|=et,Up|=et,W=4;break t}et=eh,eh=W,et!==null&&(eh===null?eh=et:eh.push.apply(eh,et))}W=Ot}if(et=!1,W!==2)continue}}if(W===1){rp(c,0),ep(c,p,0,!0);break}t:{switch(I=c,et=W,et){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:ep(I,p,$h,!$p);break t;case 2:eh=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(W=H0+300-Ir(),10<W)){if(ep(I,p,$h,!$p),cr(I,0,!0)!==0)break t;ff=p,I.timeoutHandle=YS(Qx.bind(null,I,w,eh,X0,Zx,p,$h,Up,Jf,$p,et,"Throttled",-0,0),W);break t}Qx(I,w,eh,X0,Zx,p,$h,Up,Jf,$p,et,null,-0,0)}}break}while(!0);Uh(c)}function Qx(c,p,w,I,W,et,Ot,se,Ye,Br,Jr,fn,Cr,Ur){if(c.timeoutHandle=-1,fn=p.subtreeFlags,fn&8192||(fn&16785408)===16785408){fn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},U0(p,et,fn);var si=(et&62914560)===et?H0-Ir():(et&4194048)===et?CS-Ir():0;if(si=sn(fn,si),si!==null){ff=et,c.cancelPendingCommit=si(DS.bind(null,c,p,et,w,I,W,Ot,se,Ye,Jr,fn,null,Cr,Ur)),ep(c,et,Ot,!Br);return}}DS(c,p,et,w,I,W,Ot,se,Ye)}function Jx(c){for(var p=c;;){var w=p.tag;if((w===0||w===11||w===15)&&p.flags&16384&&(w=p.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var I=0;I<w.length;I++){var W=w[I],et=W.getSnapshot;W=W.value;try{if(!Ts(et(),W))return!1}catch{return!1}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ep(c,p,w,I){p&=~G0,p&=~Up,c.suspendedLanes|=p,c.pingedLanes&=~p,I&&(c.warmLanes|=p),I=c.expirationTimes;for(var W=p;0<W;){var et=31-oe(W),Ot=1<<et;I[et]=-1,W&=~Ot}w!==0&&Pt(c,w,p)}function Hp(){return(qo&6)===0?(Kg(0),!1):!0}function Xp(){if(qa!==null){if(hs===0)var c=qa.return;else c=qa,Mc=Lc=null,Rt(c),ln=null,ci=0,c=qa;for(;c!==null;)B0(c.alternate,c),c=c.return;qa=null}}function rp(c,p){var w=c.timeoutHandle;w!==-1&&(c.timeoutHandle=-1,ak(w)),w=c.cancelPendingCommit,w!==null&&(c.cancelPendingCommit=null,w()),ff=0,Xp(),Go=c,qa=w=Hl(c.current,null),eo=p,hs=0,Vh=null,$p=!1,Xg=Oe(c,p),Kx=!1,Jf=$h=G0=Up=Qf=wl=0,eh=Jy=null,Zx=!1,(p&8)!==0&&(p|=p&32);var I=c.entangledLanes;if(I!==0)for(c=c.entanglements,I&=p;0<I;){var W=31-oe(I),et=1<<W;p|=c[W],I&=~et}return df=p,Cu(),w}function rv(c,p){bi=null,pt.H=Md,p===Ce||p===Ae?(p=Qr(),hs=3):p===Nr?(p=Qr(),hs=4):hs=p===I0?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Vh=p,qa===null&&(wl=1,Vy(c,Wu(p,c.current)))}function RS(){var c=La.current;return c===null?!0:(eo&4194048)===eo?Wa===null:(eo&62914560)===eo||(eo&536870912)!==0?c===Wa:!1}function NS(){var c=pt.H;return pt.H=Md,c===null?Md:c}function t1(){var c=pt.A;return pt.A=TS,c}function nv(){wl=4,$p||(eo&4194048)!==eo&&La.current!==null||(Xg=!0),(Qf&134217727)===0&&(Up&134217727)===0||Go===null||ep(Go,eo,$h,!1)}function e1(c,p,w){var I=qo;qo|=2;var W=NS(),et=t1();(Go!==c||eo!==p)&&(X0=null,rp(c,p)),p=!1;var Ot=wl;t:do try{if(hs!==0&&qa!==null){var se=qa,Ye=Vh;switch(hs){case 8:Xp(),Ot=6;break t;case 3:case 2:case 9:case 6:La.current===null&&(p=!0);var Br=hs;if(hs=0,Vh=null,Wm(c,se,Ye,Br),w&&Xg){Ot=0;break t}break;default:Br=hs,hs=0,Vh=null,Wm(c,se,Ye,Br)}}LS(),Ot=wl;break}catch(Jr){rv(c,Jr)}while(!0);return p&&c.shellSuspendCounter++,Mc=Lc=null,qo=I,pt.H=W,pt.A=et,qa===null&&(Go=null,eo=0,Cu()),Ot}function LS(){for(;qa!==null;)W0(qa)}function MS(c,p){var w=qo;qo|=2;var I=NS(),W=t1();Go!==c||eo!==p?(X0=null,tv=Ir()+500,rp(c,p)):Xg=Oe(c,p);t:do try{if(hs!==0&&qa!==null){p=qa;var et=Vh;e:switch(hs){case 1:hs=0,Vh=null,Wm(c,p,et,1);break;case 2:case 9:if(br(et)){hs=0,Vh=null,PS(p);break}p=function(){hs!==2&&hs!==9||Go!==c||(hs=7),Uh(c)},et.then(p,p);break t;case 3:hs=7;break t;case 4:hs=5;break t;case 7:br(et)?(hs=0,Vh=null,PS(p)):(hs=0,Vh=null,Wm(c,p,et,7));break;case 5:var Ot=null;switch(qa.tag){case 26:Ot=qa.memoizedState;case 5:case 27:var se=qa;if(Ot?jr(Ot):se.stateNode.complete){hs=0,Vh=null;var Ye=se.sibling;if(Ye!==null)qa=Ye;else{var Br=se.return;Br!==null?(qa=Br,Y0(Br)):qa=null}break e}}hs=0,Vh=null,Wm(c,p,et,5);break;case 6:hs=0,Vh=null,Wm(c,p,et,6);break;case 8:Xp(),wl=6;break t;default:throw Error(n(462))}}r1();break}catch(Jr){rv(c,Jr)}while(!0);return Mc=Lc=null,pt.H=I,pt.A=W,qo=w,qa!==null?0:(Go=null,eo=0,Cu(),wl)}function r1(){for(;qa!==null&&!Rr();)W0(qa)}function W0(c){var p=Fp(c.alternate,c,df);c.memoizedProps=c.pendingProps,p===null?Y0(c):qa=p}function PS(c){var p=c,w=p.alternate;switch(p.tag){case 15:case 0:p=M0(w,p,p.pendingProps,p.type,void 0,eo);break;case 11:p=M0(w,p,p.pendingProps,p.type.render,p.ref,eo);break;case 5:Rt(p);default:B0(w,p),p=qa=sf(p,df),p=Fp(w,p,df)}c.memoizedProps=c.pendingProps,p===null?Y0(c):qa=p}function Wm(c,p,w,I){Mc=Lc=null,Rt(p),ln=null,ci=0;var W=p.return;try{if(k0(c,W,p,w,eo)){wl=1,Vy(c,Wu(w,c.current)),qa=null;return}}catch(et){if(W!==null)throw qa=W,et;wl=1,Vy(c,Wu(w,c.current)),qa=null;return}p.flags&32768?(wa||I===1?c=!0:Xg||(eo&536870912)!==0?c=!1:($p=c=!0,(I===2||I===9||I===3||I===6)&&(I=La.current,I!==null&&I.tag===13&&(I.flags|=16384))),OS(p,c)):Y0(p)}function Y0(c){var p=c;do{if((p.flags&32768)!==0){OS(p,$p);return}c=p.return;var w=XA(p.alternate,p,df);if(w!==null){qa=w;return}if(p=p.sibling,p!==null){qa=p;return}qa=p=c}while(p!==null);wl===0&&(wl=5)}function OS(c,p){do{var w=WA(c.alternate,c);if(w!==null){w.flags&=32767,qa=w;return}if(w=c.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!p&&(c=c.sibling,c!==null)){qa=c;return}qa=c=w}while(c!==null);wl=6,qa=null}function DS(c,p,w,I,W,et,Ot,se,Ye){c.cancelPendingCommit=null;do ad();while(Nl!==0);if((qo&6)!==0)throw Error(n(327));if(p!==null){if(p===c.current)throw Error(n(177));if(et=p.lanes|p.childLanes,et|=Tu,Kn(c,w,et,Ot,se,Ye),c===Go&&(qa=Go=null,eo=0),Gp=p,tp=c,ff=w,eu=et,ev=W,AS=I,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,l1(er,function(){return np(),null})):(c.callbackNode=null,c.callbackPriority=0),I=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||I){I=pt.T,pt.T=null,W=Ct.p,Ct.p=2,Ot=qo,qo|=4;try{YA(c,p,w)}finally{qo=Ot,Ct.p=W,pt.T=I}}Nl=1,BS(),zS(),n1()}}function BS(){if(Nl===1){Nl=0;var c=tp,p=Gp,w=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||w){w=pt.T,pt.T=null;var I=Ct.p;Ct.p=2;var W=qo;qo|=4;try{SS(p,c);var et=ib,Ot=Ni(c.containerInfo),se=et.focusedElem,Ye=et.selectionRange;if(Ot!==se&&se&&se.ownerDocument&&Dn(se.ownerDocument.documentElement,se)){if(Ye!==null&&Vn(se)){var Br=Ye.start,Jr=Ye.end;if(Jr===void 0&&(Jr=Br),"selectionStart"in se)se.selectionStart=Br,se.selectionEnd=Math.min(Jr,se.value.length);else{var fn=se.ownerDocument||document,Cr=fn&&fn.defaultView||window;if(Cr.getSelection){var Ur=Cr.getSelection(),si=se.textContent.length,xi=Math.min(Ye.start,si),vo=Ye.end===void 0?xi:Math.min(Ye.end,si);!Ur.extend&&xi>vo&&(Ot=vo,vo=xi,xi=Ot);var gr=An(se,xi),ur=An(se,vo);if(gr&&ur&&(Ur.rangeCount!==1||Ur.anchorNode!==gr.node||Ur.anchorOffset!==gr.offset||Ur.focusNode!==ur.node||Ur.focusOffset!==ur.offset)){var zr=fn.createRange();zr.setStart(gr.node,gr.offset),Ur.removeAllRanges(),xi>vo?(Ur.addRange(zr),Ur.extend(ur.node,ur.offset)):(zr.setEnd(ur.node,ur.offset),Ur.addRange(zr))}}}}for(fn=[],Ur=se;Ur=Ur.parentNode;)Ur.nodeType===1&&fn.push({element:Ur,left:Ur.scrollLeft,top:Ur.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<fn.length;se++){var cn=fn[se];cn.element.scrollLeft=cn.left,cn.element.scrollTop=cn.top}}fs=!!nb,ib=nb=null}finally{qo=W,Ct.p=I,pt.T=w}}c.current=p,Nl=2}}function zS(){if(Nl===2){Nl=0;var c=tp,p=Gp,w=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||w){w=pt.T,pt.T=null;var I=Ct.p;Ct.p=2;var W=qo;qo|=4;try{qx(c,p.alternate,p)}finally{qo=W,Ct.p=I,pt.T=w}}Nl=3}}function n1(){if(Nl===4||Nl===3){Nl=0,Pr();var c=tp,p=Gp,w=ff,I=AS;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Nl=5:(Nl=0,Gp=tp=null,i1(c,c.pendingLanes));var W=c.pendingLanes;if(W===0&&(qp=null),Lr(w),p=p.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(jt,p,void 0,(p.current.flags&128)===128)}catch{}if(I!==null){p=pt.T,W=Ct.p,Ct.p=2,pt.T=null;try{for(var et=c.onRecoverableError,Ot=0;Ot<I.length;Ot++){var se=I[Ot];et(se.value,{componentStack:se.stack})}}finally{pt.T=p,Ct.p=W}}(ff&3)!==0&&ad(),Uh(c),W=c.pendingLanes,(w&261930)!==0&&(W&42)!==0?c===pf?Wg++:(Wg=0,pf=c):Wg=0,Kg(0)}}function i1(c,p){(c.pooledCacheLanes&=p)===0&&(p=c.pooledCache,p!=null&&(c.pooledCache=null,bh(p)))}function ad(){return BS(),zS(),n1(),np()}function np(){if(Nl!==5)return!1;var c=tp,p=eu;eu=0;var w=Lr(ff),I=pt.T,W=Ct.p;try{Ct.p=32>w?32:w,pt.T=null,w=ev,ev=null;var et=tp,Ot=ff;if(Nl=0,Gp=tp=null,ff=0,(qo&6)!==0)throw Error(n(331));var se=qo;if(qo|=4,ES(et.current),Wx(et,et.current,Ot,w),qo=se,Kg(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(jt,et)}catch{}return!0}finally{Ct.p=W,pt.T=I,i1(c,p)}}function a1(c,p,w){p=Wu(w,p),p=Px(c.stateNode,p,2),c=qi(c,p,2),c!==null&&(Kr(c,2),Uh(c))}function Ho(c,p,w){if(c.tag===3)a1(c,c,w);else for(;p!==null;){if(p.tag===3){a1(p,c,w);break}else if(p.tag===1){var I=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(qp===null||!qp.has(I))){c=Wu(w,c),w=Fg(2),I=qi(p,w,2),I!==null&&($y(w,I,p,c),Kr(I,2),Uh(I));break}}p=p.return}}function o1(c,p,w){var I=c.pingCache;if(I===null){I=c.pingCache=new ZA;var W=new Set;I.set(p,W)}else W=I.get(p),W===void 0&&(W=new Set,I.set(p,W));W.has(w)||(Kx=!0,W.add(w),c=QA.bind(null,c,p,w),p.then(c,c))}function QA(c,p,w){var I=c.pingCache;I!==null&&I.delete(p),c.pingedLanes|=c.suspendedLanes&w,c.warmLanes&=~w,Go===c&&(eo&w)===w&&(wl===4||wl===3&&(eo&62914560)===eo&&300>Ir()-H0?(qo&2)===0&&rp(c,0):G0|=w,Jf===eo&&(Jf=0)),Uh(c)}function iv(c,p){p===0&&(p=or()),c=Au(c,p),c!==null&&(Kr(c,p),Uh(c))}function s1(c){var p=c.memoizedState,w=0;p!==null&&(w=p.retryLane),iv(c,w)}function JA(c,p){var w=0;switch(c.tag){case 31:case 13:var I=c.stateNode,W=c.memoizedState;W!==null&&(w=W.retryLane);break;case 19:I=c.stateNode;break;case 22:I=c.stateNode._retryCache;break;default:throw Error(n(314))}I!==null&&I.delete(p),iv(c,w)}function l1(c,p){return Mr(c,p)}var Yg=null,Fd=null,K0=!1,av=!1,ov=!1,ip=0;function Uh(c){c!==Fd&&c.next===null&&(Fd===null?Yg=Fd=c:Fd=Fd.next=c),av=!0,K0||(K0=!0,ek())}function Kg(c,p){if(!ov&&av){ov=!0;do for(var w=!1,I=Yg;I!==null;){if(c!==0){var W=I.pendingLanes;if(W===0)var et=0;else{var Ot=I.suspendedLanes,se=I.pingedLanes;et=(1<<31-oe(42|c)+1)-1,et&=W&~(Ot&~se),et=et&201326741?et&201326741|1:et?et|2:0}et!==0&&(w=!0,VS(I,et))}else et=eo,et=cr(I,I===Go?et:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),(et&3)===0||Oe(I,et)||(w=!0,VS(I,et));I=I.next}while(w);ov=!1}}function tk(){FS()}function FS(){av=K0=!1;var c=0;ip!==0&&ik()&&(c=ip);for(var p=Ir(),w=null,I=Yg;I!==null;){var W=I.next,et=u1(I,p);et===0?(I.next=null,w===null?Yg=W:w.next=W,W===null&&(Fd=w)):(w=I,(c!==0||(et&3)!==0)&&(av=!0)),I=W}Nl!==0&&Nl!==5||Kg(c),ip!==0&&(ip=0)}function u1(c,p){for(var w=c.suspendedLanes,I=c.pingedLanes,W=c.expirationTimes,et=c.pendingLanes&-62914561;0<et;){var Ot=31-oe(et),se=1<<Ot,Ye=W[Ot];Ye===-1?((se&w)===0||(se&I)!==0)&&(W[Ot]=Wr(se,p)):Ye<=p&&(c.expiredLanes|=se),et&=~se}if(p=Go,w=eo,w=cr(c,c===p?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),I=c.callbackNode,w===0||c===p&&(hs===2||hs===9)||c.cancelPendingCommit!==null)return I!==null&&I!==null&&ir(I),c.callbackNode=null,c.callbackPriority=0;if((w&3)===0||Oe(c,w)){if(p=w&-w,p===c.callbackPriority)return p;switch(I!==null&&ir(I),Lr(w)){case 2:case 8:w=Or;break;case 32:w=er;break;case 268435456:w=Ze;break;default:w=er}return I=jS.bind(null,c),w=Mr(w,I),c.callbackPriority=p,c.callbackNode=w,p}return I!==null&&I!==null&&ir(I),c.callbackPriority=2,c.callbackNode=null,2}function jS(c,p){if(Nl!==0&&Nl!==5)return c.callbackNode=null,c.callbackPriority=0,null;var w=c.callbackNode;if(ad()&&c.callbackNode!==w)return null;var I=eo;return I=cr(c,c===Go?I:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),I===0?null:(IS(c,I,p),u1(c,Ir()),c.callbackNode!=null&&c.callbackNode===w?jS.bind(null,c):null)}function VS(c,p){if(ad())return null;IS(c,p,!0)}function ek(){dc(function(){(qo&6)!==0?Mr(ar,tk):FS()})}function c1(){if(ip===0){var c=V;c===0&&(c=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),ip=c}return ip}function $S(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:dn(""+c)}function Z0(c,p){var w=p.ownerDocument.createElement("input");return w.name=p.name,w.value=p.value,c.id&&w.setAttribute("form",c.id),p.parentNode.insertBefore(w,p),c=new FormData(c),w.parentNode.removeChild(w),c}function Wp(c,p,w,I,W){if(p==="submit"&&w&&w.stateNode===W){var et=$S((W[li]||null).action),Ot=I.submitter;Ot&&(p=(p=Ot[li]||null)?$S(p.formAction):Ot.getAttribute("formAction"),p!==null&&(et=p,Ot=null));var se=new _u("action","action",null,I,W);c.push({event:se,listeners:[{instance:null,listener:function(){if(I.defaultPrevented){if(ip!==0){var Ye=Ot?Z0(W,Ot):new FormData(W);Fy(w,{pending:!0,data:Ye,method:W.method,action:et},null,Ye)}}else typeof et=="function"&&(se.preventDefault(),Ye=Ot?Z0(W,Ot):new FormData(W),Fy(w,{pending:!0,data:Ye,method:W.method,action:et},et,Ye))},currentTarget:W}]})}}for(var Q0=0;Q0<Ui.length;Q0++){var J0=Ui[Q0],US=J0.toLowerCase(),qS=J0[0].toUpperCase()+J0.slice(1);$a(US,"on"+qS)}$a(_r,"onAnimationEnd"),$a(tn,"onAnimationIteration"),$a(In,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(Zn,"onTransitionRun"),$a(hi,"onTransitionStart"),$a(Yn,"onTransitionCancel"),$a(Hn,"onTransitionEnd"),Xo("onMouseEnter",["mouseout","mouseover"]),Xo("onMouseLeave",["mouseout","mouseover"]),Xo("onPointerEnter",["pointerout","pointerover"]),Xo("onPointerLeave",["pointerout","pointerover"]),nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nl("onBeforeInput",["compositionend","keypress","textInput","paste"]),nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zg));function d1(c,p){p=(p&4)!==0;for(var w=0;w<c.length;w++){var I=c[w],W=I.event;I=I.listeners;t:{var et=void 0;if(p)for(var Ot=I.length-1;0<=Ot;Ot--){var se=I[Ot],Ye=se.instance,Br=se.currentTarget;if(se=se.listener,Ye!==et&&W.isPropagationStopped())break t;et=se,W.currentTarget=Br;try{et(W)}catch(Jr){Vo(Jr)}W.currentTarget=null,et=Ye}else for(Ot=0;Ot<I.length;Ot++){if(se=I[Ot],Ye=se.instance,Br=se.currentTarget,se=se.listener,Ye!==et&&W.isPropagationStopped())break t;et=se,W.currentTarget=Br;try{et(W)}catch(Jr){Vo(Jr)}W.currentTarget=null,et=Ye}}}}function Oa(c,p){var w=p[en];w===void 0&&(w=p[en]=new Set);var I=c+"__bubble";w.has(I)||(Eh(p,c,2,!1),w.add(I))}function tb(c,p,w){var I=0;p&&(I|=4),Eh(w,c,I,p)}var Qg="_reactListening"+Math.random().toString(36).slice(2);function eb(c){if(!c[Qg]){c[Qg]=!0,cu.forEach(function(w){w!=="selectionchange"&&(h1.has(w)||tb(w,!1,c),tb(w,!0,c))});var p=c.nodeType===9?c:c.ownerDocument;p===null||p[Qg]||(p[Qg]=!0,tb("selectionchange",!1,p))}}function Eh(c,p,w,I){switch(Fc(p)){case 2:var W=Mu;break;case 8:W=Ku;break;default:W=yu}w=W.bind(null,p,w,c),W=void 0,!la||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(W=!0),I?W!==void 0?c.addEventListener(p,w,{capture:!0,passive:W}):c.addEventListener(p,w,!0):W!==void 0?c.addEventListener(p,w,{passive:W}):c.addEventListener(p,w,!1)}function Yp(c,p,w,I,W){var et=I;if((p&1)===0&&(p&2)===0&&I!==null)t:for(;;){if(I===null)return;var Ot=I.tag;if(Ot===3||Ot===4){var se=I.stateNode.containerInfo;if(se===W)break;if(Ot===4)for(Ot=I.return;Ot!==null;){var Ye=Ot.tag;if((Ye===3||Ye===4)&&Ot.stateNode.containerInfo===W)return;Ot=Ot.return}for(;se!==null;){if(Ot=Mn(se),Ot===null)return;if(Ye=Ot.tag,Ye===5||Ye===6||Ye===26||Ye===27){I=et=Ot;continue t}se=se.parentNode}}I=I.return}na(function(){var Br=et,Jr=ti(w),fn=[];t:{var Cr=fa.get(c);if(Cr!==void 0){var Ur=_u,si=c;switch(c){case"keypress":if(zn(w)===0)break t;case"keydown":case"keyup":Ur=Lo;break;case"focusin":si="focus",Ur=ve;break;case"focusout":si="blur",Ur=ve;break;case"beforeblur":case"afterblur":Ur=ve;break;case"click":if(w.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ur=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ur=ut;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ur=wu;break;case _r:case tn:case In:Ur=pr;break;case Hn:Ur=Ul;break;case"scroll":case"scrollend":Ur=Cl;break;case"wheel":Ur=po;break;case"copy":case"cut":case"paste":Ur=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ur=ao;break;case"toggle":case"beforetoggle":Ur=vc}var xi=(p&4)!==0,vo=!xi&&(c==="scroll"||c==="scrollend"),gr=xi?Cr!==null?Cr+"Capture":null:Cr;xi=[];for(var ur=Br,zr;ur!==null;){var cn=ur;if(zr=cn.stateNode,cn=cn.tag,cn!==5&&cn!==26&&cn!==27||zr===null||gr===null||(cn=Ii(ur,gr),cn!=null&&xi.push(jd(ur,cn,zr))),vo)break;ur=ur.return}0<xi.length&&(Cr=new Ur(Cr,si,null,w,Jr),fn.push({event:Cr,listeners:xi}))}}if((p&7)===0){t:{if(Cr=c==="mouseover"||c==="pointerover",Ur=c==="mouseout"||c==="pointerout",Cr&&w!==Nn&&(si=w.relatedTarget||w.fromElement)&&(Mn(si)||si[Ki]))break t;if((Ur||Cr)&&(Cr=Jr.window===Jr?Jr:(Cr=Jr.ownerDocument)?Cr.defaultView||Cr.parentWindow:window,Ur?(si=w.relatedTarget||w.toElement,Ur=Br,si=si?Mn(si):null,si!==null&&(vo=o(si),xi=si.tag,si!==vo||xi!==5&&xi!==27&&xi!==6)&&(si=null)):(Ur=null,si=Br),Ur!==si)){if(xi=Ba,cn="onMouseLeave",gr="onMouseEnter",ur="mouse",(c==="pointerout"||c==="pointerover")&&(xi=ao,cn="onPointerLeave",gr="onPointerEnter",ur="pointer"),vo=Ur==null?Cr:rl(Ur),zr=si==null?Cr:rl(si),Cr=new xi(cn,ur+"leave",Ur,w,Jr),Cr.target=vo,Cr.relatedTarget=zr,cn=null,Mn(Jr)===Br&&(xi=new xi(gr,ur+"enter",si,w,Jr),xi.target=zr,xi.relatedTarget=vo,cn=xi),vo=cn,Ur&&si)e:{for(xi=GS,gr=Ur,ur=si,zr=0,cn=gr;cn;cn=xi(cn))zr++;cn=0;for(var Di=ur;Di;Di=xi(Di))cn++;for(;0<zr-cn;)gr=xi(gr),zr--;for(;0<cn-zr;)ur=xi(ur),cn--;for(;zr--;){if(gr===ur||ur!==null&&gr===ur.alternate){xi=gr;break e}gr=xi(gr),ur=xi(ur)}xi=null}else xi=null;Ur!==null&&f1(fn,Cr,Ur,xi,!1),si!==null&&vo!==null&&f1(fn,vo,si,xi,!0)}}t:{if(Cr=Br?rl(Br):window,Ur=Cr.nodeName&&Cr.nodeName.toLowerCase(),Ur==="select"||Ur==="input"&&Cr.type==="file")var ns=Es;else if(Hc(Cr))if(Hu)ns=Eu;else{ns=_c;var Si=Al}else Ur=Cr.nodeName,!Ur||Ur.toLowerCase()!=="input"||Cr.type!=="checkbox"&&Cr.type!=="radio"?Br&&pn(Br.elementType)&&(ns=Es):ns=Xc;if(ns&&(ns=ns(c,Br))){qu(fn,ns,w,Jr);break t}Si&&Si(c,Cr,Br),c==="focusout"&&Br&&Cr.type==="number"&&Br.memoizedProps.value!=null&&Q(Cr,"number",Cr.value)}switch(Si=Br?rl(Br):window,c){case"focusin":(Hc(Si)||Si.contentEditable==="true")&&(m=Si,y=Br,T=null);break;case"focusout":T=y=m=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,nt(fn,w,Jr);break;case"selectionchange":if(C)break;case"keydown":case"keyup":nt(fn,w,Jr)}var za;if(So)t:{switch(c){case"compositionstart":var bo="onCompositionStart";break t;case"compositionend":bo="onCompositionEnd";break t;case"compositionupdate":bo="onCompositionUpdate";break t}bo=void 0}else il?bc(c,w)&&(bo="onCompositionEnd"):c==="keydown"&&w.keyCode===229&&(bo="onCompositionStart");bo&&(hu&&w.locale!=="ko"&&(il||bo!=="onCompositionStart"?bo==="onCompositionEnd"&&il&&(za=Tl()):(Ha=Jr,pi="value"in Ha?Ha.value:Ha.textContent,il=!0)),Si=sv(Br,bo),0<Si.length&&(bo=new ri(bo,c,null,w,Jr),fn.push({event:bo,listeners:Si}),za?bo.data=za:(za=Uu(w),za!==null&&(bo.data=za)))),(za=Ja?ws(c,w):Zs(c,w))&&(bo=sv(Br,"onBeforeInput"),0<bo.length&&(Si=new ri("onBeforeInput","beforeinput",null,w,Jr),fn.push({event:Si,listeners:bo}),Si.data=za)),Wp(fn,c,Br,w,Jr)}d1(fn,p)})}function jd(c,p,w){return{instance:c,listener:p,currentTarget:w}}function sv(c,p){for(var w=p+"Capture",I=[];c!==null;){var W=c,et=W.stateNode;if(W=W.tag,W!==5&&W!==26&&W!==27||et===null||(W=Ii(c,w),W!=null&&I.unshift(jd(c,W,et)),W=Ii(c,p),W!=null&&I.push(jd(c,W,et))),c.tag===3)return I;c=c.return}return[]}function GS(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function f1(c,p,w,I,W){for(var et=p._reactName,Ot=[];w!==null&&w!==I;){var se=w,Ye=se.alternate,Br=se.stateNode;if(se=se.tag,Ye!==null&&Ye===I)break;se!==5&&se!==26&&se!==27||Br===null||(Ye=Br,W?(Br=Ii(w,et),Br!=null&&Ot.unshift(jd(w,Br,Ye))):W||(Br=Ii(w,et),Br!=null&&Ot.push(jd(w,Br,Ye)))),w=w.return}Ot.length!==0&&c.push({event:p,listeners:Ot})}var HS=/\r\n?/g,rk=/\u0000|\uFFFD/g;function p1(c){return(typeof c=="string"?c:""+c).replace(HS,`
`).replace(rk,"")}function ap(c,p){return p=p1(p),p1(c)===p}function ds(c,p,w,I,W,et){switch(w){case"children":typeof I=="string"?p==="body"||p==="textarea"&&I===""||qe(c,I):(typeof I=="number"||typeof I=="bigint")&&p!=="body"&&qe(c,""+I);break;case"className":Fl(c,"class",I);break;case"tabIndex":Fl(c,"tabindex",I);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(c,w,I);break;case"style":rn(c,I,et);break;case"data":if(p!=="object"){Fl(c,"data",I);break}case"src":case"href":if(I===""&&(p!=="a"||w!=="href")){c.removeAttribute(w);break}if(I==null||typeof I=="function"||typeof I=="symbol"||typeof I=="boolean"){c.removeAttribute(w);break}I=dn(""+I),c.setAttribute(w,I);break;case"action":case"formAction":if(typeof I=="function"){c.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof et=="function"&&(w==="formAction"?(p!=="input"&&ds(c,p,"name",W.name,W,null),ds(c,p,"formEncType",W.formEncType,W,null),ds(c,p,"formMethod",W.formMethod,W,null),ds(c,p,"formTarget",W.formTarget,W,null)):(ds(c,p,"encType",W.encType,W,null),ds(c,p,"method",W.method,W,null),ds(c,p,"target",W.target,W,null)));if(I==null||typeof I=="symbol"||typeof I=="boolean"){c.removeAttribute(w);break}I=dn(""+I),c.setAttribute(w,I);break;case"onClick":I!=null&&(c.onclick=Wn);break;case"onScroll":I!=null&&Oa("scroll",c);break;case"onScrollEnd":I!=null&&Oa("scrollend",c);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(n(61));if(w=I.__html,w!=null){if(W.children!=null)throw Error(n(60));c.innerHTML=w}}break;case"multiple":c.multiple=I&&typeof I!="function"&&typeof I!="symbol";break;case"muted":c.muted=I&&typeof I!="function"&&typeof I!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(I==null||typeof I=="function"||typeof I=="boolean"||typeof I=="symbol"){c.removeAttribute("xlink:href");break}w=dn(""+I),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I!=null&&typeof I!="function"&&typeof I!="symbol"?c.setAttribute(w,""+I):c.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":I&&typeof I!="function"&&typeof I!="symbol"?c.setAttribute(w,""):c.removeAttribute(w);break;case"capture":case"download":I===!0?c.setAttribute(w,""):I!==!1&&I!=null&&typeof I!="function"&&typeof I!="symbol"?c.setAttribute(w,I):c.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":I!=null&&typeof I!="function"&&typeof I!="symbol"&&!isNaN(I)&&1<=I?c.setAttribute(w,I):c.removeAttribute(w);break;case"rowSpan":case"start":I==null||typeof I=="function"||typeof I=="symbol"||isNaN(I)?c.removeAttribute(w):c.setAttribute(w,I);break;case"popover":Oa("beforetoggle",c),Oa("toggle",c),Do(c,"popover",I);break;case"xlinkActuate":Ga(c,"http://www.w3.org/1999/xlink","xlink:actuate",I);break;case"xlinkArcrole":Ga(c,"http://www.w3.org/1999/xlink","xlink:arcrole",I);break;case"xlinkRole":Ga(c,"http://www.w3.org/1999/xlink","xlink:role",I);break;case"xlinkShow":Ga(c,"http://www.w3.org/1999/xlink","xlink:show",I);break;case"xlinkTitle":Ga(c,"http://www.w3.org/1999/xlink","xlink:title",I);break;case"xlinkType":Ga(c,"http://www.w3.org/1999/xlink","xlink:type",I);break;case"xmlBase":Ga(c,"http://www.w3.org/XML/1998/namespace","xml:base",I);break;case"xmlLang":Ga(c,"http://www.w3.org/XML/1998/namespace","xml:lang",I);break;case"xmlSpace":Ga(c,"http://www.w3.org/XML/1998/namespace","xml:space",I);break;case"is":Do(c,"is",I);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=un.get(w)||w,Do(c,w,I))}}function rb(c,p,w,I,W,et){switch(w){case"style":rn(c,I,et);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(n(61));if(w=I.__html,w!=null){if(W.children!=null)throw Error(n(60));c.innerHTML=w}}break;case"children":typeof I=="string"?qe(c,I):(typeof I=="number"||typeof I=="bigint")&&qe(c,""+I);break;case"onScroll":I!=null&&Oa("scroll",c);break;case"onScrollEnd":I!=null&&Oa("scrollend",c);break;case"onClick":I!=null&&(c.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vi.hasOwnProperty(w))t:{if(w[0]==="o"&&w[1]==="n"&&(W=w.endsWith("Capture"),p=w.slice(2,W?w.length-7:void 0),et=c[li]||null,et=et!=null?et[w]:null,typeof et=="function"&&c.removeEventListener(p,et,W),typeof I=="function")){typeof et!="function"&&et!==null&&(w in c?c[w]=null:c.hasAttribute(w)&&c.removeAttribute(w)),c.addEventListener(p,I,W);break t}w in c?c[w]=I:I===!0?c.setAttribute(w,""):Do(c,w,I)}}}function hc(c,p,w){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oa("error",c),Oa("load",c);var I=!1,W=!1,et;for(et in w)if(w.hasOwnProperty(et)){var Ot=w[et];if(Ot!=null)switch(et){case"src":I=!0;break;case"srcSet":W=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:ds(c,p,et,Ot,w,null)}}W&&ds(c,p,"srcSet",w.srcSet,w,null),I&&ds(c,p,"src",w.src,w,null);return;case"input":Oa("invalid",c);var se=et=Ot=W=null,Ye=null,Br=null;for(I in w)if(w.hasOwnProperty(I)){var Jr=w[I];if(Jr!=null)switch(I){case"name":W=Jr;break;case"type":Ot=Jr;break;case"checked":Ye=Jr;break;case"defaultChecked":Br=Jr;break;case"value":et=Jr;break;case"defaultValue":se=Jr;break;case"children":case"dangerouslySetInnerHTML":if(Jr!=null)throw Error(n(137,p));break;default:ds(c,p,I,Jr,w,null)}}yc(c,et,se,Ye,Br,Ot,W,!1);return;case"select":Oa("invalid",c),I=Ot=et=null;for(W in w)if(w.hasOwnProperty(W)&&(se=w[W],se!=null))switch(W){case"value":et=se;break;case"defaultValue":Ot=se;break;case"multiple":I=se;default:ds(c,p,W,se,w,null)}p=et,w=Ot,c.multiple=!!I,p!=null?gt(c,!!I,p,!1):w!=null&&gt(c,!!I,w,!0);return;case"textarea":Oa("invalid",c),et=W=I=null;for(Ot in w)if(w.hasOwnProperty(Ot)&&(se=w[Ot],se!=null))switch(Ot){case"value":I=se;break;case"defaultValue":W=se;break;case"children":et=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:ds(c,p,Ot,se,w,null)}Re(c,I,W,et);return;case"option":for(Ye in w)if(w.hasOwnProperty(Ye)&&(I=w[Ye],I!=null))switch(Ye){case"selected":c.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ds(c,p,Ye,I,w,null)}return;case"dialog":Oa("beforetoggle",c),Oa("toggle",c),Oa("cancel",c),Oa("close",c);break;case"iframe":case"object":Oa("load",c);break;case"video":case"audio":for(I=0;I<Zg.length;I++)Oa(Zg[I],c);break;case"image":Oa("error",c),Oa("load",c);break;case"details":Oa("toggle",c);break;case"embed":case"source":case"link":Oa("error",c),Oa("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Br in w)if(w.hasOwnProperty(Br)&&(I=w[Br],I!=null))switch(Br){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:ds(c,p,Br,I,w,null)}return;default:if(pn(p)){for(Jr in w)w.hasOwnProperty(Jr)&&(I=w[Jr],I!==void 0&&rb(c,p,Jr,I,w,void 0));return}}for(se in w)w.hasOwnProperty(se)&&(I=w[se],I!=null&&ds(c,p,se,I,w,null))}function XS(c,p,w,I){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var W=null,et=null,Ot=null,se=null,Ye=null,Br=null,Jr=null;for(Ur in w){var fn=w[Ur];if(w.hasOwnProperty(Ur)&&fn!=null)switch(Ur){case"checked":break;case"value":break;case"defaultValue":Ye=fn;default:I.hasOwnProperty(Ur)||ds(c,p,Ur,null,I,fn)}}for(var Cr in I){var Ur=I[Cr];if(fn=w[Cr],I.hasOwnProperty(Cr)&&(Ur!=null||fn!=null))switch(Cr){case"type":et=Ur;break;case"name":W=Ur;break;case"checked":Br=Ur;break;case"defaultChecked":Jr=Ur;break;case"value":Ot=Ur;break;case"defaultValue":se=Ur;break;case"children":case"dangerouslySetInnerHTML":if(Ur!=null)throw Error(n(137,p));break;default:Ur!==fn&&ds(c,p,Cr,Ur,I,fn)}}ic(c,Ot,se,Ye,Br,Jr,et,W);return;case"select":Ur=Ot=se=Cr=null;for(et in w)if(Ye=w[et],w.hasOwnProperty(et)&&Ye!=null)switch(et){case"value":break;case"multiple":Ur=Ye;default:I.hasOwnProperty(et)||ds(c,p,et,null,I,Ye)}for(W in I)if(et=I[W],Ye=w[W],I.hasOwnProperty(W)&&(et!=null||Ye!=null))switch(W){case"value":Cr=et;break;case"defaultValue":se=et;break;case"multiple":Ot=et;default:et!==Ye&&ds(c,p,W,et,I,Ye)}p=se,w=Ot,I=Ur,Cr!=null?gt(c,!!w,Cr,!1):!!I!=!!w&&(p!=null?gt(c,!!w,p,!0):gt(c,!!w,w?[]:"",!1));return;case"textarea":Ur=Cr=null;for(se in w)if(W=w[se],w.hasOwnProperty(se)&&W!=null&&!I.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:ds(c,p,se,null,I,W)}for(Ot in I)if(W=I[Ot],et=w[Ot],I.hasOwnProperty(Ot)&&(W!=null||et!=null))switch(Ot){case"value":Cr=W;break;case"defaultValue":Ur=W;break;case"children":break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:W!==et&&ds(c,p,Ot,W,I,et)}ee(c,Cr,Ur);return;case"option":for(var si in w)if(Cr=w[si],w.hasOwnProperty(si)&&Cr!=null&&!I.hasOwnProperty(si))switch(si){case"selected":c.selected=!1;break;default:ds(c,p,si,null,I,Cr)}for(Ye in I)if(Cr=I[Ye],Ur=w[Ye],I.hasOwnProperty(Ye)&&Cr!==Ur&&(Cr!=null||Ur!=null))switch(Ye){case"selected":c.selected=Cr&&typeof Cr!="function"&&typeof Cr!="symbol";break;default:ds(c,p,Ye,Cr,I,Ur)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xi in w)Cr=w[xi],w.hasOwnProperty(xi)&&Cr!=null&&!I.hasOwnProperty(xi)&&ds(c,p,xi,null,I,Cr);for(Br in I)if(Cr=I[Br],Ur=w[Br],I.hasOwnProperty(Br)&&Cr!==Ur&&(Cr!=null||Ur!=null))switch(Br){case"children":case"dangerouslySetInnerHTML":if(Cr!=null)throw Error(n(137,p));break;default:ds(c,p,Br,Cr,I,Ur)}return;default:if(pn(p)){for(var vo in w)Cr=w[vo],w.hasOwnProperty(vo)&&Cr!==void 0&&!I.hasOwnProperty(vo)&&rb(c,p,vo,void 0,I,Cr);for(Jr in I)Cr=I[Jr],Ur=w[Jr],!I.hasOwnProperty(Jr)||Cr===Ur||Cr===void 0&&Ur===void 0||rb(c,p,Jr,Cr,I,Ur);return}}for(var gr in w)Cr=w[gr],w.hasOwnProperty(gr)&&Cr!=null&&!I.hasOwnProperty(gr)&&ds(c,p,gr,null,I,Cr);for(fn in I)Cr=I[fn],Ur=w[fn],!I.hasOwnProperty(fn)||Cr===Ur||Cr==null&&Ur==null||ds(c,p,fn,Cr,I,Ur)}function WS(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nk(){if(typeof performance.getEntriesByType=="function"){for(var c=0,p=0,w=performance.getEntriesByType("resource"),I=0;I<w.length;I++){var W=w[I],et=W.transferSize,Ot=W.initiatorType,se=W.duration;if(et&&se&&WS(Ot)){for(Ot=0,se=W.responseEnd,I+=1;I<w.length;I++){var Ye=w[I],Br=Ye.startTime;if(Br>se)break;var Jr=Ye.transferSize,fn=Ye.initiatorType;Jr&&WS(fn)&&(Ye=Ye.responseEnd,Ot+=Jr*(Ye<se?1:(se-Br)/(Ye-Br)))}if(--I,p+=8*(et+Ot)/(W.duration/1e3),c++,10<c)break}}if(0<c)return p/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var nb=null,ib=null;function Ym(c){return c.nodeType===9?c:c.ownerDocument}function m1(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(c,p){if(c===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&p==="foreignObject"?0:c}function Jg(c,p){return c==="textarea"||c==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ty=null;function ik(){var c=window.event;return c&&c.type==="popstate"?c===ty?!1:(ty=c,!0):(ty=null,!1)}var YS=typeof setTimeout=="function"?setTimeout:void 0,ak=typeof clearTimeout=="function"?clearTimeout:void 0,Km=typeof Promise=="function"?Promise:void 0,dc=typeof queueMicrotask=="function"?queueMicrotask:typeof Km<"u"?function(c){return Km.resolve(null).then(c).catch(g1)}:YS;function g1(c){setTimeout(function(){throw c})}function op(c){return c==="head"}function y1(c,p){var w=p,I=0;do{var W=w.nextSibling;if(c.removeChild(w),W&&W.nodeType===8)if(w=W.data,w==="/$"||w==="/&"){if(I===0){c.removeChild(W),Zp(p);return}I--}else if(w==="$"||w==="$?"||w==="$~"||w==="$!"||w==="&")I++;else if(w==="html")Kp(c.ownerDocument.documentElement);else if(w==="head"){w=c.ownerDocument.head,Kp(w);for(var et=w.firstChild;et;){var Ot=et.nextSibling,se=et.nodeName;et[_o]||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&et.rel.toLowerCase()==="stylesheet"||w.removeChild(et),et=Ot}}else w==="body"&&Kp(c.ownerDocument.body);w=W}while(w);Zp(p)}function ab(c,p){var w=c;c=0;do{var I=w.nextSibling;if(w.nodeType===1?p?(w._stashedDisplay=w.style.display,w.style.display="none"):(w.style.display=w._stashedDisplay||"",w.getAttribute("style")===""&&w.removeAttribute("style")):w.nodeType===3&&(p?(w._stashedText=w.nodeValue,w.nodeValue=""):w.nodeValue=w._stashedText||""),I&&I.nodeType===8)if(w=I.data,w==="/$"){if(c===0)break;c--}else w!=="$"&&w!=="$?"&&w!=="$~"&&w!=="$!"||c++;w=I}while(w)}function v1(c){var p=c.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var w=p;switch(p=p.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":v1(w),Na(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}c.removeChild(w)}}function KS(c,p,w,I){for(;c.nodeType===1;){var W=w;if(c.nodeName.toLowerCase()!==p.toLowerCase()){if(!I&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(I){if(!c[_o])switch(p){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(et=c.getAttribute("rel"),et==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(et!==W.rel||c.getAttribute("href")!==(W.href==null||W.href===""?null:W.href)||c.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin)||c.getAttribute("title")!==(W.title==null?null:W.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(et=c.getAttribute("src"),(et!==(W.src==null?null:W.src)||c.getAttribute("type")!==(W.type==null?null:W.type)||c.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin))&&et&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(p==="input"&&c.type==="hidden"){var et=W.name==null?null:""+W.name;if(W.type==="hidden"&&c.getAttribute("name")===et)return c}else return c;if(c=qh(c.nextSibling),c===null)break}return null}function ZS(c,p,w){if(p==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!w||(c=qh(c.nextSibling),c===null))return null;return c}function QS(c,p){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=qh(c.nextSibling),c===null))return null;return c}function ob(c){return c.data==="$?"||c.data==="$~"}function uv(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function b1(c,p){var w=c.ownerDocument;if(c.data==="$~")c._reactRetry=p;else if(c.data!=="$?"||w.readyState!=="loading")p();else{var I=function(){p(),w.removeEventListener("DOMContentLoaded",I)};w.addEventListener("DOMContentLoaded",I),c._reactRetry=I}}function qh(c){for(;c!=null;c=c.nextSibling){var p=c.nodeType;if(p===1||p===3)break;if(p===8){if(p=c.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return c}var Zm=null;function sb(c){c=c.nextSibling;for(var p=0;c;){if(c.nodeType===8){var w=c.data;if(w==="/$"||w==="/&"){if(p===0)return qh(c.nextSibling);p--}else w!=="$"&&w!=="$!"&&w!=="$?"&&w!=="$~"&&w!=="&"||p++}c=c.nextSibling}return null}function _1(c){c=c.previousSibling;for(var p=0;c;){if(c.nodeType===8){var w=c.data;if(w==="$"||w==="$!"||w==="$?"||w==="$~"||w==="&"){if(p===0)return c;p--}else w!=="/$"&&w!=="/&"||p++}c=c.previousSibling}return null}function lb(c,p,w){switch(p=Ym(w),c){case"html":if(c=p.documentElement,!c)throw Error(n(452));return c;case"head":if(c=p.head,!c)throw Error(n(453));return c;case"body":if(c=p.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Kp(c){for(var p=c.attributes;p.length;)c.removeAttributeNode(p[0]);Na(c)}var Dc=new Map,ub=new Set;function ey(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Vd=Ct.d;Ct.d={f:ok,r:f,D:b,C:E,L:M,m:P,X:J,S:q,M:ot};function ok(){var c=Vd.f(),p=Hp();return c||p}function f(c){var p=io(c);p!==null&&p.tag===5&&p.type==="form"?Bp(p):Vd.r(c)}var l=typeof document>"u"?null:document;function h(c,p,w){var I=l;if(I&&typeof p=="string"&&p){var W=Zo(p);W='link[rel="'+c+'"][href="'+W+'"]',typeof w=="string"&&(W+='[crossorigin="'+w+'"]'),ub.has(W)||(ub.add(W),c={rel:c,crossOrigin:w,href:p},I.querySelector(W)===null&&(p=I.createElement("link"),hc(p,"link",c),sa(p),I.head.appendChild(p)))}}function b(c){Vd.D(c),h("dns-prefetch",c,null)}function E(c,p){Vd.C(c,p),h("preconnect",c,p)}function M(c,p,w){Vd.L(c,p,w);var I=l;if(I&&c&&p){var W='link[rel="preload"][as="'+Zo(p)+'"]';p==="image"&&w&&w.imageSrcSet?(W+='[imagesrcset="'+Zo(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(W+='[imagesizes="'+Zo(w.imageSizes)+'"]')):W+='[href="'+Zo(c)+'"]';var et=W;switch(p){case"style":et=St(c);break;case"script":et=te(c)}Dc.has(et)||(c=k({rel:"preload",href:p==="image"&&w&&w.imageSrcSet?void 0:c,as:p},w),Dc.set(et,c),I.querySelector(W)!==null||p==="style"&&I.querySelector(Vt(et))||p==="script"&&I.querySelector(he(et))||(p=I.createElement("link"),hc(p,"link",c),sa(p),I.head.appendChild(p)))}}function P(c,p){Vd.m(c,p);var w=l;if(w&&c){var I=p&&typeof p.as=="string"?p.as:"script",W='link[rel="modulepreload"][as="'+Zo(I)+'"][href="'+Zo(c)+'"]',et=W;switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":et=te(c)}if(!Dc.has(et)&&(c=k({rel:"modulepreload",href:c},p),Dc.set(et,c),w.querySelector(W)===null)){switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(he(et)))return}I=w.createElement("link"),hc(I,"link",c),sa(I),w.head.appendChild(I)}}}function q(c,p,w){Vd.S(c,p,w);var I=l;if(I&&c){var W=ra(I).hoistableStyles,et=St(c);p=p||"default";var Ot=W.get(et);if(!Ot){var se={loading:0,preload:null};if(Ot=I.querySelector(Vt(et)))se.loading=5;else{c=k({rel:"stylesheet",href:c,"data-precedence":p},w),(w=Dc.get(et))&&De(c,w);var Ye=Ot=I.createElement("link");sa(Ye),hc(Ye,"link",c),Ye._p=new Promise(function(Br,Jr){Ye.onload=Br,Ye.onerror=Jr}),Ye.addEventListener("load",function(){se.loading|=1}),Ye.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Je(Ot,p,I)}Ot={type:"stylesheet",instance:Ot,count:1,state:se},W.set(et,Ot)}}}function J(c,p){Vd.X(c,p);var w=l;if(w&&c){var I=ra(w).hoistableScripts,W=te(c),et=I.get(W);et||(et=w.querySelector(he(W)),et||(c=k({src:c,async:!0},p),(p=Dc.get(W))&&Ut(c,p),et=w.createElement("script"),sa(et),hc(et,"link",c),w.head.appendChild(et)),et={type:"script",instance:et,count:1,state:null},I.set(W,et))}}function ot(c,p){Vd.M(c,p);var w=l;if(w&&c){var I=ra(w).hoistableScripts,W=te(c),et=I.get(W);et||(et=w.querySelector(he(W)),et||(c=k({src:c,async:!0,type:"module"},p),(p=Dc.get(W))&&Ut(c,p),et=w.createElement("script"),sa(et),hc(et,"link",c),w.head.appendChild(et)),et={type:"script",instance:et,count:1,state:null},I.set(W,et))}}function ft(c,p,w,I){var W=(W=qt.current)?ey(W):null;if(!W)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(p=St(w.href),w=ra(W).hoistableStyles,I=w.get(p),I||(I={type:"style",instance:null,count:0,state:null},w.set(p,I)),I):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){c=St(w.href);var et=ra(W).hoistableStyles,Ot=et.get(c);if(Ot||(W=W.ownerDocument||W,Ot={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},et.set(c,Ot),(et=W.querySelector(Vt(c)))&&!et._p&&(Ot.instance=et,Ot.state.loading=5),Dc.has(c)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},Dc.set(c,w),et||Wt(W,c,w,Ot.state))),p&&I===null)throw Error(n(528,""));return Ot}if(p&&I!==null)throw Error(n(529,""));return null;case"script":return p=w.async,w=w.src,typeof w=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=te(w),w=ra(W).hoistableScripts,I=w.get(p),I||(I={type:"script",instance:null,count:0,state:null},w.set(p,I)),I):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function St(c){return'href="'+Zo(c)+'"'}function Vt(c){return'link[rel="stylesheet"]['+c+"]"}function Gt(c){return k({},c,{"data-precedence":c.precedence,precedence:null})}function Wt(c,p,w,I){c.querySelector('link[rel="preload"][as="style"]['+p+"]")?I.loading=1:(p=c.createElement("link"),I.preload=p,p.addEventListener("load",function(){return I.loading|=1}),p.addEventListener("error",function(){return I.loading|=2}),hc(p,"link",w),sa(p),c.head.appendChild(p))}function te(c){return'[src="'+Zo(c)+'"]'}function he(c){return"script[async]"+c}function Ee(c,p,w){if(p.count++,p.instance===null)switch(p.type){case"style":var I=c.querySelector('style[data-href~="'+Zo(w.href)+'"]');if(I)return p.instance=I,sa(I),I;var W=k({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return I=(c.ownerDocument||c).createElement("style"),sa(I),hc(I,"style",W),Je(I,w.precedence,c),p.instance=I;case"stylesheet":W=St(w.href);var et=c.querySelector(Vt(W));if(et)return p.state.loading|=4,p.instance=et,sa(et),et;I=Gt(w),(W=Dc.get(W))&&De(I,W),et=(c.ownerDocument||c).createElement("link"),sa(et);var Ot=et;return Ot._p=new Promise(function(se,Ye){Ot.onload=se,Ot.onerror=Ye}),hc(et,"link",I),p.state.loading|=4,Je(et,w.precedence,c),p.instance=et;case"script":return et=te(w.src),(W=c.querySelector(he(et)))?(p.instance=W,sa(W),W):(I=w,(W=Dc.get(et))&&(I=k({},w),Ut(I,W)),c=c.ownerDocument||c,W=c.createElement("script"),sa(W),hc(W,"link",I),c.head.appendChild(W),p.instance=W);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(I=p.instance,p.state.loading|=4,Je(I,w.precedence,c));return p.instance}function Je(c,p,w){for(var I=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),W=I.length?I[I.length-1]:null,et=W,Ot=0;Ot<I.length;Ot++){var se=I[Ot];if(se.dataset.precedence===p)et=se;else if(et!==W)break}et?et.parentNode.insertBefore(c,et.nextSibling):(p=w.nodeType===9?w.head:w,p.insertBefore(c,p.firstChild))}function De(c,p){c.crossOrigin==null&&(c.crossOrigin=p.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=p.referrerPolicy),c.title==null&&(c.title=p.title)}function Ut(c,p){c.crossOrigin==null&&(c.crossOrigin=p.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=p.referrerPolicy),c.integrity==null&&(c.integrity=p.integrity)}var le=null;function Ve(c,p,w){if(le===null){var I=new Map,W=le=new Map;W.set(w,I)}else W=le,I=W.get(w),I||(I=new Map,W.set(w,I));if(I.has(c))return I;for(I.set(c,null),w=w.getElementsByTagName(c),W=0;W<w.length;W++){var et=w[W];if(!(et[_o]||et[On]||c==="link"&&et.getAttribute("rel")==="stylesheet")&&et.namespaceURI!=="http://www.w3.org/2000/svg"){var Ot=et.getAttribute(p)||"";Ot=c+Ot;var se=I.get(Ot);se?se.push(et):I.set(Ot,[et])}}return I}function Tr(c,p,w){c=c.ownerDocument||c,c.head.insertBefore(w,p==="title"?c.querySelector("head > title"):null)}function hn(c,p,w){if(w===1||p.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return c=p.disabled,typeof p.precedence=="string"&&c==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function jr(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function Gr(c,p,w,I){if(w.type==="stylesheet"&&(typeof I.media!="string"||matchMedia(I.media).matches!==!1)&&(w.state.loading&4)===0){if(w.instance===null){var W=St(I.href),et=p.querySelector(Vt(W));if(et){p=et._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(c.count++,c=_n.bind(c),p.then(c,c)),w.state.loading|=4,w.instance=et,sa(et);return}et=p.ownerDocument||p,I=Gt(I),(W=Dc.get(W))&&De(I,W),et=et.createElement("link"),sa(et);var Ot=et;Ot._p=new Promise(function(se,Ye){Ot.onload=se,Ot.onerror=Ye}),hc(et,"link",I),w.instance=et}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(w,p),(p=w.state.preload)&&(w.state.loading&3)===0&&(c.count++,w=_n.bind(c),p.addEventListener("load",w),p.addEventListener("error",w))}}var xn=0;function sn(c,p){return c.stylesheets&&c.count===0&&qn(c,c.stylesheets),0<c.count||0<c.imgCount?function(w){var I=setTimeout(function(){if(c.stylesheets&&qn(c,c.stylesheets),c.unsuspend){var et=c.unsuspend;c.unsuspend=null,et()}},6e4+p);0<c.imgBytes&&xn===0&&(xn=62500*nk());var W=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&qn(c,c.stylesheets),c.unsuspend)){var et=c.unsuspend;c.unsuspend=null,et()}},(c.imgBytes>xn?50:800)+p);return c.unsuspend=w,function(){c.unsuspend=null,clearTimeout(I),clearTimeout(W)}}:null}function _n(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qn(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Hr=null;function qn(c,p){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Hr=new Map,p.forEach(vi,c),Hr=null,_n.call(c))}function vi(c,p){if(!(p.state.loading&4)){var w=Hr.get(c);if(w)var I=w.get(null);else{w=new Map,Hr.set(c,w);for(var W=c.querySelectorAll("link[data-precedence],style[data-precedence]"),et=0;et<W.length;et++){var Ot=W[et];(Ot.nodeName==="LINK"||Ot.getAttribute("media")!=="not all")&&(w.set(Ot.dataset.precedence,Ot),I=Ot)}I&&w.set(null,I)}W=p.instance,Ot=W.getAttribute("data-precedence"),et=w.get(Ot)||I,et===I&&w.set(null,W),w.set(Ot,W),this.count++,I=_n.bind(this),W.addEventListener("load",I),W.addEventListener("error",I),et?et.parentNode.insertBefore(W,et.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(W,c.firstChild)),p.state.loading|=4}}var ui={$$typeof:z,Provider:null,Consumer:null,_currentValue:vt,_currentValue2:vt,_threadCount:0};function oi(c,p,w,I,W,et,Ot,se,Ye){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=I,this.onUncaughtError=W,this.onCaughtError=et,this.onRecoverableError=Ot,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ye,this.incompleteTransitions=new Map}function Ca(c,p,w,I,W,et,Ot,se,Ye,Br,Jr,fn){return c=new oi(c,p,w,Ot,Ye,Br,Jr,fn,se),p=1,et===!0&&(p|=24),et=mi(3,null,null,p),c.current=et,et.stateNode=c,p=zh(),p.refCount++,c.pooledCache=p,p.refCount++,et.memoizedState={element:I,isDehydrated:w,cache:p},Pn(et),c}function Js(c){return c?(c=Cs,c):Cs}function ru(c,p,w,I,W,et){W=Js(W),I.context===null?I.context=W:I.pendingContext=W,I=Gn(p),I.payload={element:w},et=et===void 0?null:et,et!==null&&(I.callback=et),w=qi(c,I,p),w!==null&&(Sh(w,c,p),to(w,c,p))}function Yu(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var w=c.retryLane;c.retryLane=w!==0&&w<p?w:p}}function nh(c,p){Yu(c,p),(c=c.alternate)&&Yu(c,p)}function Bc(c){if(c.tag===13||c.tag===31){var p=Au(c,67108864);p!==null&&Sh(p,c,67108864),nh(c,67108864)}}function Lu(c){if(c.tag===13||c.tag===31){var p=rh();p=ze(p);var w=Au(c,p);w!==null&&Sh(w,c,p),nh(c,p)}}var fs=!0;function Mu(c,p,w,I){var W=pt.T;pt.T=null;var et=Ct.p;try{Ct.p=2,yu(c,p,w,I)}finally{Ct.p=et,pt.T=W}}function Ku(c,p,w,I){var W=pt.T;pt.T=null;var et=Ct.p;try{Ct.p=8,yu(c,p,w,I)}finally{Ct.p=et,pt.T=W}}function yu(c,p,w,I){if(fs){var W=fc(I);if(W===null)Yp(c,p,I,zc,w),JS(c,I);else if(Qm(W,c,p,w,I))I.stopPropagation();else if(JS(c,I),p&4&&-1<$d.indexOf(c)){for(;W!==null;){var et=io(W);if(et!==null)switch(et.tag){case 3:if(et=et.stateNode,et.current.memoizedState.isDehydrated){var Ot=Pe(et.pendingLanes);if(Ot!==0){var se=et;for(se.pendingLanes|=2,se.entangledLanes|=2;Ot;){var Ye=1<<31-oe(Ot);se.entanglements[1]|=Ye,Ot&=~Ye}Uh(et),(qo&6)===0&&(tv=Ir()+500,Kg(0))}}break;case 31:case 13:se=Au(et,2),se!==null&&Sh(se,et,2),Hp(),nh(et,2)}if(et=fc(I),et===null&&Yp(c,p,I,zc,w),et===W)break;W=et}W!==null&&I.stopPropagation()}else Yp(c,p,I,null,w)}}function fc(c){return c=ti(c),nu(c)}var zc=null;function nu(c){if(zc=null,c=Mn(c),c!==null){var p=o(c);if(p===null)c=null;else{var w=p.tag;if(w===13){if(c=u(p),c!==null)return c;c=null}else if(w===31){if(c=a(p),c!==null)return c;c=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;c=null}else p!==c&&(c=null)}}return zc=c,null}function Fc(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case ar:return 2;case Or:return 8;case er:case Fr:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Ll=!1,Fs=null,js=null,ps=null,Mo=new Map,ih=new Map,Gh=[],$d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JS(c,p){switch(c){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Mo.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(p.pointerId)}}function mf(c,p,w,I,W,et){return c===null||c.nativeEvent!==et?(c={blockedOn:p,domEventName:w,eventSystemFlags:I,nativeEvent:et,targetContainers:[W]},p!==null&&(p=io(p),p!==null&&Bc(p)),c):(c.eventSystemFlags|=I,p=c.targetContainers,W!==null&&p.indexOf(W)===-1&&p.push(W),c)}function Qm(c,p,w,I,W){switch(p){case"focusin":return Fs=mf(Fs,c,p,w,I,W),!0;case"dragenter":return js=mf(js,c,p,w,I,W),!0;case"mouseover":return ps=mf(ps,c,p,w,I,W),!0;case"pointerover":var et=W.pointerId;return Mo.set(et,mf(Mo.get(et)||null,c,p,w,I,W)),!0;case"gotpointercapture":return et=W.pointerId,ih.set(et,mf(ih.get(et)||null,c,p,w,I,W)),!0}return!1}function Jm(c){var p=Mn(c.target);if(p!==null){var w=o(p);if(w!==null){if(p=w.tag,p===13){if(p=u(w),p!==null){c.blockedOn=p,$r(c.priority,function(){Lu(w)});return}}else if(p===31){if(p=a(w),p!==null){c.blockedOn=p,$r(c.priority,function(){Lu(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){c.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}c.blockedOn=null}function sp(c){if(c.blockedOn!==null)return!1;for(var p=c.targetContainers;0<p.length;){var w=fc(c.nativeEvent);if(w===null){w=c.nativeEvent;var I=new w.constructor(w.type,w);Nn=I,w.target.dispatchEvent(I),Nn=null}else return p=io(w),p!==null&&Bc(p),c.blockedOn=w,!1;p.shift()}return!0}function tg(c,p,w){sp(c)&&w.delete(p)}function t5(){Ll=!1,Fs!==null&&sp(Fs)&&(Fs=null),js!==null&&sp(js)&&(js=null),ps!==null&&sp(ps)&&(ps=null),Mo.forEach(tg),ih.forEach(tg)}function cv(c,p){c.blockedOn===p&&(c.blockedOn=null,Ll||(Ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,t5)))}var hv=null;function x1(c){hv!==c&&(hv=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hv===c&&(hv=null);for(var p=0;p<c.length;p+=3){var w=c[p],I=c[p+1],W=c[p+2];if(typeof I!="function"){if(nu(I||w)===null)continue;break}var et=io(w);et!==null&&(c.splice(p,3),p-=3,Fy(et,{pending:!0,data:W,method:w.method,action:I},I,W))}}))}function Zp(c){function p(Ye){return cv(Ye,c)}Fs!==null&&cv(Fs,c),js!==null&&cv(js,c),ps!==null&&cv(ps,c),Mo.forEach(p),ih.forEach(p);for(var w=0;w<Gh.length;w++){var I=Gh[w];I.blockedOn===c&&(I.blockedOn=null)}for(;0<Gh.length&&(w=Gh[0],w.blockedOn===null);)Jm(w),w.blockedOn===null&&Gh.shift();if(w=(c.ownerDocument||c).$$reactFormReplay,w!=null)for(I=0;I<w.length;I+=3){var W=w[I],et=w[I+1],Ot=W[li]||null;if(typeof et=="function")Ot||x1(w);else if(Ot){var se=null;if(et&&et.hasAttribute("formAction")){if(W=et,Ot=et[li]||null)se=Ot.formAction;else if(nu(W)!==null)continue}else se=Ot.action;typeof se=="function"?w[I+1]=se:(w.splice(I,3),I-=3),x1(w)}}}function cb(){function c(et){et.canIntercept&&et.info==="react-transition"&&et.intercept({handler:function(){return new Promise(function(Ot){return W=Ot})},focusReset:"manual",scroll:"manual"})}function p(){W!==null&&(W(),W=null),I||setTimeout(w,20)}function w(){if(!I&&!navigation.transition){var et=navigation.currentEntry;et&&et.url!=null&&navigation.navigate(et.url,{state:et.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var I=!1,W=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(w,100),function(){I=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),W!==null&&(W(),W=null)}}}function Ud(c){this._internalRoot=c}dv.prototype.render=Ud.prototype.render=function(c){var p=this._internalRoot;if(p===null)throw Error(n(409));var w=p.current,I=rh();ru(w,I,c,p,null,null)},dv.prototype.unmount=Ud.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var p=c.containerInfo;ru(c.current,2,null,c,null,null),Hp(),p[Ki]=null}};function dv(c){this._internalRoot=c}dv.prototype.unstable_scheduleHydration=function(c){if(c){var p=yn();c={blockedOn:null,target:c,priority:p};for(var w=0;w<Gh.length&&p!==0&&p<Gh[w].priority;w++);Gh.splice(w,0,c),w===0&&Jm(c)}};var w1=e.version;if(w1!=="19.2.0")throw Error(n(527,w1,"19.2.0"));Ct.findDOMNode=function(c){var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=v(p),c=c!==null?x(c):null,c=c===null?null:c.stateNode,c};var sk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:pt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hb.isDisabled&&hb.supportsFiber)try{jt=hb.inject(sk),Mt=hb}catch{}}return E1.createRoot=function(c,p){if(!i(c))throw Error(n(299));var w=!1,I="",W=pS,et=A0,Ot=Mx;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onUncaughtError!==void 0&&(W=p.onUncaughtError),p.onCaughtError!==void 0&&(et=p.onCaughtError),p.onRecoverableError!==void 0&&(Ot=p.onRecoverableError)),p=Ca(c,1,!1,null,null,w,I,null,W,et,Ot,cb),c[Ki]=p.current,eb(c),new Ud(p)},E1.hydrateRoot=function(c,p,w){if(!i(c))throw Error(n(299));var I=!1,W="",et=pS,Ot=A0,se=Mx,Ye=null;return w!=null&&(w.unstable_strictMode===!0&&(I=!0),w.identifierPrefix!==void 0&&(W=w.identifierPrefix),w.onUncaughtError!==void 0&&(et=w.onUncaughtError),w.onCaughtError!==void 0&&(Ot=w.onCaughtError),w.onRecoverableError!==void 0&&(se=w.onRecoverableError),w.formState!==void 0&&(Ye=w.formState)),p=Ca(c,1,!0,p,w??null,I,W,Ye,et,Ot,se,cb),p.context=Js(null),w=p.current,I=rh(),I=ze(I),W=Gn(I),W.callback=null,qi(w,W,I),w=I,p.current.lanes=w,Kr(p,w),Uh(p),c[Ki]=p.current,eb(c),new dv(p)},E1.version="19.2.0",E1}var rD;function oZ(){if(rD)return ck.exports;rD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ck.exports=aZ(),ck.exports}var sZ=oZ();const lZ="modulepreload",uZ=function(t){return"/wms-map-viewer/"+t},nD={},pk=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(x=>Promise.resolve(x).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),a=u?.nonce||u?.getAttribute("nonce");i=g(r.map(v=>{if(v=uZ(v),v in nD)return;nD[v]=!0;const x=v.endsWith(".css"),k=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${k}`))return;const R=document.createElement("link");if(R.rel=x?"stylesheet":lZ,x||(R.as="script"),R.crossOrigin="",R.href=v,a&&R.setAttribute("nonce",a),document.head.appendChild(R),x)return new Promise((A,O)=>{R.addEventListener("load",A),R.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(u){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u}return i.then(u=>{for(const a of u||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var RM=I$();const fy=k$(RM);var cZ={value:()=>{}};function R$(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new nE(r)}function nE(t){this._=t}function hZ(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}nE.prototype=R$.prototype={constructor:nE,on:function(t,e){var r=this._,n=hZ(t+"",r),i,o=-1,u=n.length;if(arguments.length<2){for(;++o<u;)if((i=(t=n[o]).type)&&(i=dZ(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(i=(t=n[o]).type)r[i]=iD(r[i],t.name,e);else if(e==null)for(i in r)r[i]=iD(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new nE(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,i=o.length;n<i;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};function dZ(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function iD(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=cZ,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var ON="http://www.w3.org/1999/xhtml";const aD={svg:"http://www.w3.org/2000/svg",xhtml:ON,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yC(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),aD.hasOwnProperty(e)?{space:aD[e],local:t}:t}function fZ(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ON&&e.documentElement.namespaceURI===ON?e.createElement(t):e.createElementNS(r,t)}}function pZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function N$(t){var e=yC(t);return(e.local?pZ:fZ)(e)}function mZ(){}function NM(t){return t==null?mZ:function(){return this.querySelector(t)}}function gZ(t){typeof t!="function"&&(t=NM(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],u=o.length,a=n[i]=new Array(u),g,v,x=0;x<u;++x)(g=o[x])&&(v=t.call(g,g.__data__,x,o))&&("__data__"in g&&(v.__data__=g.__data__),a[x]=v);return new _p(n,this._parents)}function yZ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vZ(){return[]}function L$(t){return t==null?vZ:function(){return this.querySelectorAll(t)}}function bZ(t){return function(){return yZ(t.apply(this,arguments))}}function _Z(t){typeof t=="function"?t=bZ(t):t=L$(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var u=e[o],a=u.length,g,v=0;v<a;++v)(g=u[v])&&(n.push(t.call(g,g.__data__,v,u)),i.push(g));return new _p(n,i)}function M$(t){return function(){return this.matches(t)}}function P$(t){return function(e){return e.matches(t)}}var xZ=Array.prototype.find;function wZ(t){return function(){return xZ.call(this.children,t)}}function SZ(){return this.firstElementChild}function EZ(t){return this.select(t==null?SZ:wZ(typeof t=="function"?t:P$(t)))}var TZ=Array.prototype.filter;function CZ(){return Array.from(this.children)}function AZ(t){return function(){return TZ.call(this.children,t)}}function kZ(t){return this.selectAll(t==null?CZ:AZ(typeof t=="function"?t:P$(t)))}function IZ(t){typeof t!="function"&&(t=M$(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],u=o.length,a=n[i]=[],g,v=0;v<u;++v)(g=o[v])&&t.call(g,g.__data__,v,o)&&a.push(g);return new _p(n,this._parents)}function O$(t){return new Array(t.length)}function RZ(){return new _p(this._enter||this._groups.map(O$),this._parents)}function UE(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}UE.prototype={constructor:UE,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function NZ(t){return function(){return t}}function LZ(t,e,r,n,i,o){for(var u=0,a,g=e.length,v=o.length;u<v;++u)(a=e[u])?(a.__data__=o[u],n[u]=a):r[u]=new UE(t,o[u]);for(;u<g;++u)(a=e[u])&&(i[u]=a)}function MZ(t,e,r,n,i,o,u){var a,g,v=new Map,x=e.length,k=o.length,R=new Array(x),A;for(a=0;a<x;++a)(g=e[a])&&(R[a]=A=u.call(g,g.__data__,a,e)+"",v.has(A)?i[a]=g:v.set(A,g));for(a=0;a<k;++a)A=u.call(t,o[a],a,o)+"",(g=v.get(A))?(n[a]=g,g.__data__=o[a],v.delete(A)):r[a]=new UE(t,o[a]);for(a=0;a<x;++a)(g=e[a])&&v.get(R[a])===g&&(i[a]=g)}function PZ(t){return t.__data__}function OZ(t,e){if(!arguments.length)return Array.from(this,PZ);var r=e?MZ:LZ,n=this._parents,i=this._groups;typeof t!="function"&&(t=NZ(t));for(var o=i.length,u=new Array(o),a=new Array(o),g=new Array(o),v=0;v<o;++v){var x=n[v],k=i[v],R=k.length,A=DZ(t.call(x,x&&x.__data__,v,n)),O=A.length,D=a[v]=new Array(O),U=u[v]=new Array(O),H=g[v]=new Array(R);r(x,k,D,U,H,A,e);for(var G=0,z=0,j,X;G<O;++G)if(j=D[G]){for(G>=z&&(z=G+1);!(X=U[z])&&++z<O;);j._next=X||null}}return u=new _p(u,n),u._enter=a,u._exit=g,u}function DZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BZ(){return new _p(this._exit||this._groups.map(O$),this._parents)}function zZ(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function FZ(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,u=Math.min(i,o),a=new Array(i),g=0;g<u;++g)for(var v=r[g],x=n[g],k=v.length,R=a[g]=new Array(k),A,O=0;O<k;++O)(A=v[O]||x[O])&&(R[O]=A);for(;g<i;++g)a[g]=r[g];return new _p(a,this._parents)}function jZ(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,o=n[i],u;--i>=0;)(u=n[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function VZ(t){t||(t=$Z);function e(k,R){return k&&R?t(k.__data__,R.__data__):!k-!R}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var u=r[o],a=u.length,g=i[o]=new Array(a),v,x=0;x<a;++x)(v=u[x])&&(g[x]=v);g.sort(e)}return new _p(i,this._parents).order()}function $Z(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function UZ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qZ(){return Array.from(this)}function GZ(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var u=n[i];if(u)return u}return null}function HZ(){let t=0;for(const e of this)++t;return t}function XZ(){return!this.node()}function WZ(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,u=i.length,a;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function YZ(t){return function(){this.removeAttribute(t)}}function KZ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ZZ(t,e){return function(){this.setAttribute(t,e)}}function QZ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function JZ(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function tQ(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function eQ(t,e){var r=yC(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?KZ:YZ:typeof e=="function"?r.local?tQ:JZ:r.local?QZ:ZZ)(r,e))}function D$(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rQ(t){return function(){this.style.removeProperty(t)}}function nQ(t,e,r){return function(){this.style.setProperty(t,e,r)}}function iQ(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function aQ(t,e,r){return arguments.length>1?this.each((e==null?rQ:typeof e=="function"?iQ:nQ)(t,e,r??"")):j_(this.node(),t)}function j_(t,e){return t.style.getPropertyValue(e)||D$(t).getComputedStyle(t,null).getPropertyValue(e)}function oQ(t){return function(){delete this[t]}}function sQ(t,e){return function(){this[t]=e}}function lQ(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function uQ(t,e){return arguments.length>1?this.each((e==null?oQ:typeof e=="function"?lQ:sQ)(t,e)):this.node()[t]}function B$(t){return t.trim().split(/^|\s+/)}function LM(t){return t.classList||new z$(t)}function z$(t){this._node=t,this._names=B$(t.getAttribute("class")||"")}z$.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function F$(t,e){for(var r=LM(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function j$(t,e){for(var r=LM(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function cQ(t){return function(){F$(this,t)}}function hQ(t){return function(){j$(this,t)}}function dQ(t,e){return function(){(e.apply(this,arguments)?F$:j$)(this,t)}}function fQ(t,e){var r=B$(t+"");if(arguments.length<2){for(var n=LM(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?dQ:e?cQ:hQ)(r,e))}function pQ(){this.textContent=""}function mQ(t){return function(){this.textContent=t}}function gQ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function yQ(t){return arguments.length?this.each(t==null?pQ:(typeof t=="function"?gQ:mQ)(t)):this.node().textContent}function vQ(){this.innerHTML=""}function bQ(t){return function(){this.innerHTML=t}}function _Q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xQ(t){return arguments.length?this.each(t==null?vQ:(typeof t=="function"?_Q:bQ)(t)):this.node().innerHTML}function wQ(){this.nextSibling&&this.parentNode.appendChild(this)}function SQ(){return this.each(wQ)}function EQ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TQ(){return this.each(EQ)}function CQ(t){var e=typeof t=="function"?t:N$(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function AQ(){return null}function kQ(t,e){var r=typeof t=="function"?t:N$(t),n=e==null?AQ:typeof e=="function"?e:NM(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function IQ(){var t=this.parentNode;t&&t.removeChild(this)}function RQ(){return this.each(IQ)}function NQ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function LQ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function MQ(t){return this.select(t?LQ:NQ)}function PQ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function OQ(t){return function(e){t.call(this,e,this.__data__)}}function DQ(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function BQ(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,o;r<i;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function zQ(t,e,r){return function(){var n=this.__on,i,o=OQ(e);if(n){for(var u=0,a=n.length;u<a;++u)if((i=n[u]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=e;return}}this.addEventListener(t.type,o,r),i={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(i):this.__on=[i]}}function FQ(t,e,r){var n=DQ(t+""),i,o=n.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var g=0,v=a.length,x;g<v;++g)for(i=0,x=a[g];i<o;++i)if((u=n[i]).type===x.type&&u.name===x.name)return x.value}return}for(a=e?zQ:BQ,i=0;i<o;++i)this.each(a(n[i],e,r));return this}function V$(t,e,r){var n=D$(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function jQ(t,e){return function(){return V$(this,t,e)}}function VQ(t,e){return function(){return V$(this,t,e.apply(this,arguments))}}function $Q(t,e){return this.each((typeof e=="function"?VQ:jQ)(t,e))}function*UQ(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length,u;i<o;++i)(u=n[i])&&(yield u)}var qQ=[null];function _p(t,e){this._groups=t,this._parents=e}function kw(){return new _p([[document.documentElement]],qQ)}function GQ(){return this}_p.prototype=kw.prototype={constructor:_p,select:gZ,selectAll:_Z,selectChild:EZ,selectChildren:kZ,filter:IZ,data:OZ,enter:RZ,exit:BZ,join:zZ,merge:FZ,selection:GQ,order:jZ,sort:VZ,call:UZ,nodes:qZ,node:GZ,size:HZ,empty:XZ,each:WZ,attr:eQ,style:aQ,property:uQ,classed:fQ,text:yQ,html:xQ,raise:SQ,lower:TQ,append:CQ,insert:kQ,remove:RQ,clone:MQ,datum:PQ,on:FQ,dispatch:$Q,[Symbol.iterator]:UQ};function MM(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function $$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Iw(){}var W2=.7,qE=1/W2,E_="\\s*([+-]?\\d+)\\s*",Y2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HQ=/^#([0-9a-f]{3,8})$/,XQ=new RegExp(`^rgb\\(${E_},${E_},${E_}\\)$`),WQ=new RegExp(`^rgb\\(${Tm},${Tm},${Tm}\\)$`),YQ=new RegExp(`^rgba\\(${E_},${E_},${E_},${Y2}\\)$`),KQ=new RegExp(`^rgba\\(${Tm},${Tm},${Tm},${Y2}\\)$`),ZQ=new RegExp(`^hsl\\(${Y2},${Tm},${Tm}\\)$`),QQ=new RegExp(`^hsla\\(${Y2},${Tm},${Tm},${Y2}\\)$`),oD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MM(Iw,K2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sD,formatHex:sD,formatHex8:JQ,formatHsl:tJ,formatRgb:lD,toString:lD});function sD(){return this.rgb().formatHex()}function JQ(){return this.rgb().formatHex8()}function tJ(){return U$(this).formatHsl()}function lD(){return this.rgb().formatRgb()}function K2(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=HQ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?uD(e):r===3?new dd(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?e5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?e5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XQ.exec(t))?new dd(e[1],e[2],e[3],1):(e=WQ.exec(t))?new dd(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=YQ.exec(t))?e5(e[1],e[2],e[3],e[4]):(e=KQ.exec(t))?e5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ZQ.exec(t))?dD(e[1],e[2]/100,e[3]/100,1):(e=QQ.exec(t))?dD(e[1],e[2]/100,e[3]/100,e[4]):oD.hasOwnProperty(t)?uD(oD[t]):t==="transparent"?new dd(NaN,NaN,NaN,0):null}function uD(t){return new dd(t>>16&255,t>>8&255,t&255,1)}function e5(t,e,r,n){return n<=0&&(t=e=r=NaN),new dd(t,e,r,n)}function eJ(t){return t instanceof Iw||(t=K2(t)),t?(t=t.rgb(),new dd(t.r,t.g,t.b,t.opacity)):new dd}function DN(t,e,r,n){return arguments.length===1?eJ(t):new dd(t,e,r,n??1)}function dd(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}MM(dd,DN,$$(Iw,{brighter(t){return t=t==null?qE:Math.pow(qE,t),new dd(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?W2:Math.pow(W2,t),new dd(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dd(Vv(this.r),Vv(this.g),Vv(this.b),GE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cD,formatHex:cD,formatHex8:rJ,formatRgb:hD,toString:hD}));function cD(){return`#${Mv(this.r)}${Mv(this.g)}${Mv(this.b)}`}function rJ(){return`#${Mv(this.r)}${Mv(this.g)}${Mv(this.b)}${Mv((isNaN(this.opacity)?1:this.opacity)*255)}`}function hD(){const t=GE(this.opacity);return`${t===1?"rgb(":"rgba("}${Vv(this.r)}, ${Vv(this.g)}, ${Vv(this.b)}${t===1?")":`, ${t})`}`}function GE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vv(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mv(t){return t=Vv(t),(t<16?"0":"")+t.toString(16)}function dD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fp(t,e,r,n)}function U$(t){if(t instanceof fp)return new fp(t.h,t.s,t.l,t.opacity);if(t instanceof Iw||(t=K2(t)),!t)return new fp;if(t instanceof fp)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),u=NaN,a=o-i,g=(o+i)/2;return a?(e===o?u=(r-n)/a+(r<n)*6:r===o?u=(n-e)/a+2:u=(e-r)/a+4,a/=g<.5?o+i:2-o-i,u*=60):a=g>0&&g<1?0:u,new fp(u,a,g,t.opacity)}function nJ(t,e,r,n){return arguments.length===1?U$(t):new fp(t,e,r,n??1)}function fp(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}MM(fp,nJ,$$(Iw,{brighter(t){return t=t==null?qE:Math.pow(qE,t),new fp(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?W2:Math.pow(W2,t),new fp(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new dd(mk(t>=240?t-240:t+120,i,n),mk(t,i,n),mk(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new fp(fD(this.h),r5(this.s),r5(this.l),GE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=GE(this.opacity);return`${t===1?"hsl(":"hsla("}${fD(this.h)}, ${r5(this.s)*100}%, ${r5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fD(t){return t=(t||0)%360,t<0?t+360:t}function r5(t){return Math.max(0,Math.min(1,t||0))}function mk(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const q$=t=>()=>t;function iJ(t,e){return function(r){return t+r*e}}function aJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function oJ(t){return(t=+t)==1?G$:function(e,r){return r-e?aJ(e,r,t):q$(isNaN(e)?r:e)}}function G$(t,e){var r=e-t;return r?iJ(t,r):q$(isNaN(t)?e:t)}const pD=(function t(e){var r=oJ(e);function n(i,o){var u=r((i=DN(i)).r,(o=DN(o)).r),a=r(i.g,o.g),g=r(i.b,o.b),v=G$(i.opacity,o.opacity);return function(x){return i.r=u(x),i.g=a(x),i.b=g(x),i.opacity=v(x),i+""}}return n.gamma=t,n})(1);function uy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var BN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gk=new RegExp(BN.source,"g");function sJ(t){return function(){return t}}function lJ(t){return function(e){return t(e)+""}}function uJ(t,e){var r=BN.lastIndex=gk.lastIndex=0,n,i,o,u=-1,a=[],g=[];for(t=t+"",e=e+"";(n=BN.exec(t))&&(i=gk.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[u]?a[u]+=o:a[++u]=o),(n=n[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,g.push({i:u,x:uy(n,i)})),r=gk.lastIndex;return r<e.length&&(o=e.slice(r),a[u]?a[u]+=o:a[++u]=o),a.length<2?g[0]?lJ(g[0].x):sJ(e):(e=g.length,function(v){for(var x=0,k;x<e;++x)a[(k=g[x]).i]=k.x(v);return a.join("")})}var mD=180/Math.PI,zN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H$(t,e,r,n,i,o){var u,a,g;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(g=t*r+e*n)&&(r-=t*g,n-=e*g),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,g/=a),t*n<e*r&&(t=-t,e=-e,g=-g,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*mD,skewX:Math.atan(g)*mD,scaleX:u,scaleY:a}}var n5;function cJ(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zN:H$(e.a,e.b,e.c,e.d,e.e,e.f)}function hJ(t){return t==null||(n5||(n5=document.createElementNS("http://www.w3.org/2000/svg","g")),n5.setAttribute("transform",t),!(t=n5.transform.baseVal.consolidate()))?zN:(t=t.matrix,H$(t.a,t.b,t.c,t.d,t.e,t.f))}function X$(t,e,r,n){function i(v){return v.length?v.pop()+" ":""}function o(v,x,k,R,A,O){if(v!==k||x!==R){var D=A.push("translate(",null,e,null,r);O.push({i:D-4,x:uy(v,k)},{i:D-2,x:uy(x,R)})}else(k||R)&&A.push("translate("+k+e+R+r)}function u(v,x,k,R){v!==x?(v-x>180?x+=360:x-v>180&&(v+=360),R.push({i:k.push(i(k)+"rotate(",null,n)-2,x:uy(v,x)})):x&&k.push(i(k)+"rotate("+x+n)}function a(v,x,k,R){v!==x?R.push({i:k.push(i(k)+"skewX(",null,n)-2,x:uy(v,x)}):x&&k.push(i(k)+"skewX("+x+n)}function g(v,x,k,R,A,O){if(v!==k||x!==R){var D=A.push(i(A)+"scale(",null,",",null,")");O.push({i:D-4,x:uy(v,k)},{i:D-2,x:uy(x,R)})}else(k!==1||R!==1)&&A.push(i(A)+"scale("+k+","+R+")")}return function(v,x){var k=[],R=[];return v=t(v),x=t(x),o(v.translateX,v.translateY,x.translateX,x.translateY,k,R),u(v.rotate,x.rotate,k,R),a(v.skewX,x.skewX,k,R),g(v.scaleX,v.scaleY,x.scaleX,x.scaleY,k,R),v=x=null,function(A){for(var O=-1,D=R.length,U;++O<D;)k[(U=R[O]).i]=U.x(A);return k.join("")}}}var dJ=X$(cJ,"px, ","px)","deg)"),fJ=X$(hJ,", ",")",")"),V_=0,s2=0,T1=0,W$=1e3,HE,l2,XE=0,Kv=0,vC=0,Z2=typeof performance=="object"&&performance.now?performance:Date,Y$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function PM(){return Kv||(Y$(pJ),Kv=Z2.now()+vC)}function pJ(){Kv=0}function WE(){this._call=this._time=this._next=null}WE.prototype=K$.prototype={constructor:WE,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?PM():+r)+(e==null?0:+e),!this._next&&l2!==this&&(l2?l2._next=this:HE=this,l2=this),this._call=t,this._time=r,FN()},stop:function(){this._call&&(this._call=null,this._time=1/0,FN())}};function K$(t,e,r){var n=new WE;return n.restart(t,e,r),n}function mJ(){PM(),++V_;for(var t=HE,e;t;)(e=Kv-t._time)>=0&&t._call.call(void 0,e),t=t._next;--V_}function gD(){Kv=(XE=Z2.now())+vC,V_=s2=0;try{mJ()}finally{V_=0,yJ(),Kv=0}}function gJ(){var t=Z2.now(),e=t-XE;e>W$&&(vC-=e,XE=t)}function yJ(){for(var t,e=HE,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:HE=r);l2=t,FN(n)}function FN(t){if(!V_){s2&&(s2=clearTimeout(s2));var e=t-Kv;e>24?(t<1/0&&(s2=setTimeout(gD,t-Z2.now()-vC)),T1&&(T1=clearInterval(T1))):(T1||(XE=Z2.now(),T1=setInterval(gJ,W$)),V_=1,Y$(gD))}}function yD(t,e,r){var n=new WE;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var vJ=R$("start","end","cancel","interrupt"),bJ=[],Z$=0,vD=1,jN=2,iE=3,bD=4,VN=5,aE=6;function bC(t,e,r,n,i,o){var u=t.__transition;if(!u)t.__transition={};else if(r in u)return;_J(t,r,{name:e,index:n,group:i,on:vJ,tween:bJ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Z$})}function OM(t,e){var r=Tp(t,e);if(r.state>Z$)throw new Error("too late; already scheduled");return r}function zm(t,e){var r=Tp(t,e);if(r.state>iE)throw new Error("too late; already running");return r}function Tp(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function _J(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=K$(o,0,r.time);function o(v){r.state=vD,r.timer.restart(u,r.delay,r.time),r.delay<=v&&u(v-r.delay)}function u(v){var x,k,R,A;if(r.state!==vD)return g();for(x in n)if(A=n[x],A.name===r.name){if(A.state===iE)return yD(u);A.state===bD?(A.state=aE,A.timer.stop(),A.on.call("interrupt",t,t.__data__,A.index,A.group),delete n[x]):+x<e&&(A.state=aE,A.timer.stop(),A.on.call("cancel",t,t.__data__,A.index,A.group),delete n[x])}if(yD(function(){r.state===iE&&(r.state=bD,r.timer.restart(a,r.delay,r.time),a(v))}),r.state=jN,r.on.call("start",t,t.__data__,r.index,r.group),r.state===jN){for(r.state=iE,i=new Array(R=r.tween.length),x=0,k=-1;x<R;++x)(A=r.tween[x].value.call(t,t.__data__,r.index,r.group))&&(i[++k]=A);i.length=k+1}}function a(v){for(var x=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart(g),r.state=VN,1),k=-1,R=i.length;++k<R;)i[k].call(t,x);r.state===VN&&(r.on.call("end",t,t.__data__,r.index,r.group),g())}function g(){r.state=aE,r.timer.stop(),delete n[e];for(var v in n)return;delete t.__transition}}function xJ(t,e){var r=t.__transition,n,i,o=!0,u;if(r){e=e==null?null:e+"";for(u in r){if((n=r[u]).name!==e){o=!1;continue}i=n.state>jN&&n.state<VN,n.state=aE,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[u]}o&&delete t.__transition}}function wJ(t){return this.each(function(){xJ(this,t)})}function SJ(t,e){var r,n;return function(){var i=zm(this,t),o=i.tween;if(o!==r){n=r=o;for(var u=0,a=n.length;u<a;++u)if(n[u].name===e){n=n.slice(),n.splice(u,1);break}}i.tween=n}}function EJ(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=zm(this,t),u=o.tween;if(u!==n){i=(n=u).slice();for(var a={name:e,value:r},g=0,v=i.length;g<v;++g)if(i[g].name===e){i[g]=a;break}g===v&&i.push(a)}o.tween=i}}function TJ(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Tp(this.node(),r).tween,i=0,o=n.length,u;i<o;++i)if((u=n[i]).name===t)return u.value;return null}return this.each((e==null?SJ:EJ)(r,t,e))}function DM(t,e,r){var n=t._id;return t.each(function(){var i=zm(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return Tp(i,n).value[e]}}function Q$(t,e){var r;return(typeof e=="number"?uy:e instanceof K2?pD:(r=K2(e))?(e=r,pD):uJ)(t,e)}function CJ(t){return function(){this.removeAttribute(t)}}function AJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kJ(t,e,r){var n,i=r+"",o;return function(){var u=this.getAttribute(t);return u===i?null:u===n?o:o=e(n=u,r)}}function IJ(t,e,r){var n,i=r+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===i?null:u===n?o:o=e(n=u,r)}}function RJ(t,e,r){var n,i,o;return function(){var u,a=r(this),g;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),g=a+"",u===g?null:u===n&&g===i?o:(i=g,o=e(n=u,a)))}}function NJ(t,e,r){var n,i,o;return function(){var u,a=r(this),g;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),g=a+"",u===g?null:u===n&&g===i?o:(i=g,o=e(n=u,a)))}}function LJ(t,e){var r=yC(t),n=r==="transform"?fJ:Q$;return this.attrTween(t,typeof e=="function"?(r.local?NJ:RJ)(r,n,DM(this,"attr."+t,e)):e==null?(r.local?AJ:CJ)(r):(r.local?IJ:kJ)(r,n,e))}function MJ(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function PJ(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function OJ(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&PJ(t,o)),r}return i._value=e,i}function DJ(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&MJ(t,o)),r}return i._value=e,i}function BJ(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=yC(t);return this.tween(r,(n.local?OJ:DJ)(n,e))}function zJ(t,e){return function(){OM(this,t).delay=+e.apply(this,arguments)}}function FJ(t,e){return e=+e,function(){OM(this,t).delay=e}}function jJ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zJ:FJ)(e,t)):Tp(this.node(),e).delay}function VJ(t,e){return function(){zm(this,t).duration=+e.apply(this,arguments)}}function $J(t,e){return e=+e,function(){zm(this,t).duration=e}}function UJ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?VJ:$J)(e,t)):Tp(this.node(),e).duration}function qJ(t,e){if(typeof e!="function")throw new Error;return function(){zm(this,t).ease=e}}function GJ(t){var e=this._id;return arguments.length?this.each(qJ(e,t)):Tp(this.node(),e).ease}function HJ(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;zm(this,t).ease=r}}function XJ(t){if(typeof t!="function")throw new Error;return this.each(HJ(this._id,t))}function WJ(t){typeof t!="function"&&(t=M$(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],u=o.length,a=n[i]=[],g,v=0;v<u;++v)(g=o[v])&&t.call(g,g.__data__,v,o)&&a.push(g);return new bg(n,this._parents,this._name,this._id)}function YJ(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),u=new Array(n),a=0;a<o;++a)for(var g=e[a],v=r[a],x=g.length,k=u[a]=new Array(x),R,A=0;A<x;++A)(R=g[A]||v[A])&&(k[A]=R);for(;a<n;++a)u[a]=e[a];return new bg(u,this._parents,this._name,this._id)}function KJ(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function ZJ(t,e,r){var n,i,o=KJ(e)?OM:zm;return function(){var u=o(this,t),a=u.on;a!==n&&(i=(n=a).copy()).on(e,r),u.on=i}}function QJ(t,e){var r=this._id;return arguments.length<2?Tp(this.node(),r).on.on(t):this.each(ZJ(r,t,e))}function JJ(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function ttt(){return this.on("end.remove",JJ(this._id))}function ett(t){var e=this._name,r=this._id;typeof t!="function"&&(t=NM(t));for(var n=this._groups,i=n.length,o=new Array(i),u=0;u<i;++u)for(var a=n[u],g=a.length,v=o[u]=new Array(g),x,k,R=0;R<g;++R)(x=a[R])&&(k=t.call(x,x.__data__,R,a))&&("__data__"in x&&(k.__data__=x.__data__),v[R]=k,bC(v[R],e,r,R,v,Tp(x,r)));return new bg(o,this._parents,e,r)}function rtt(t){var e=this._name,r=this._id;typeof t!="function"&&(t=L$(t));for(var n=this._groups,i=n.length,o=[],u=[],a=0;a<i;++a)for(var g=n[a],v=g.length,x,k=0;k<v;++k)if(x=g[k]){for(var R=t.call(x,x.__data__,k,g),A,O=Tp(x,r),D=0,U=R.length;D<U;++D)(A=R[D])&&bC(A,e,r,D,R,O);o.push(R),u.push(x)}return new bg(o,u,e,r)}var ntt=kw.prototype.constructor;function itt(){return new ntt(this._groups,this._parents)}function att(t,e){var r,n,i;return function(){var o=j_(this,t),u=(this.style.removeProperty(t),j_(this,t));return o===u?null:o===r&&u===n?i:i=e(r=o,n=u)}}function J$(t){return function(){this.style.removeProperty(t)}}function ott(t,e,r){var n,i=r+"",o;return function(){var u=j_(this,t);return u===i?null:u===n?o:o=e(n=u,r)}}function stt(t,e,r){var n,i,o;return function(){var u=j_(this,t),a=r(this),g=a+"";return a==null&&(g=a=(this.style.removeProperty(t),j_(this,t))),u===g?null:u===n&&g===i?o:(i=g,o=e(n=u,a))}}function ltt(t,e){var r,n,i,o="style."+e,u="end."+o,a;return function(){var g=zm(this,t),v=g.on,x=g.value[o]==null?a||(a=J$(e)):void 0;(v!==r||i!==x)&&(n=(r=v).copy()).on(u,i=x),g.on=n}}function utt(t,e,r){var n=(t+="")=="transform"?dJ:Q$;return e==null?this.styleTween(t,att(t,n)).on("end.style."+t,J$(t)):typeof e=="function"?this.styleTween(t,stt(t,n,DM(this,"style."+t,e))).each(ltt(this._id,t)):this.styleTween(t,ott(t,n,e),r).on("end.style."+t,null)}function ctt(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function htt(t,e,r){var n,i;function o(){var u=e.apply(this,arguments);return u!==i&&(n=(i=u)&&ctt(t,u,r)),n}return o._value=e,o}function dtt(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,htt(t,e,r??""))}function ftt(t){return function(){this.textContent=t}}function ptt(t){return function(){var e=t(this);this.textContent=e??""}}function mtt(t){return this.tween("text",typeof t=="function"?ptt(DM(this,"text",t)):ftt(t==null?"":t+""))}function gtt(t){return function(e){this.textContent=t.call(this,e)}}function ytt(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&gtt(i)),e}return n._value=t,n}function vtt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ytt(t))}function btt(){for(var t=this._name,e=this._id,r=tU(),n=this._groups,i=n.length,o=0;o<i;++o)for(var u=n[o],a=u.length,g,v=0;v<a;++v)if(g=u[v]){var x=Tp(g,e);bC(g,t,r,v,u,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new bg(n,this._parents,t,r)}function _tt(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,u){var a={value:u},g={value:function(){--i===0&&o()}};r.each(function(){var v=zm(this,n),x=v.on;x!==t&&(e=(t=x).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(g)),v.on=e}),i===0&&o()})}var xtt=0;function bg(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function tU(){return++xtt}var eg=kw.prototype;bg.prototype={constructor:bg,select:ett,selectAll:rtt,selectChild:eg.selectChild,selectChildren:eg.selectChildren,filter:WJ,merge:YJ,selection:itt,transition:btt,call:eg.call,nodes:eg.nodes,node:eg.node,size:eg.size,empty:eg.empty,each:eg.each,on:QJ,attr:LJ,attrTween:BJ,style:utt,styleTween:dtt,text:mtt,textTween:vtt,remove:ttt,tween:TJ,delay:jJ,duration:UJ,ease:GJ,easeVarying:XJ,end:_tt,[Symbol.iterator]:eg[Symbol.iterator]};function wtt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Stt={time:null,delay:0,duration:250,ease:wtt};function Ett(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Ttt(t){var e,r;t instanceof bg?(e=t._id,t=t._name):(e=tU(),(r=Stt).time=PM(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var u=n[o],a=u.length,g,v=0;v<a;++v)(g=u[v])&&bC(g,t,e,v,u,r||Ett(g,e));return new bg(n,this._parents,t,e)}kw.prototype.interrupt=wJ;kw.prototype.transition=Ttt;function u2(t,e,r){this.k=t,this.x=e,this.y=r}u2.prototype={constructor:u2,scale:function(t){return t===1?this:new u2(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new u2(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};u2.prototype;var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var $N={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.6.0/LICENSE.txt
 */var Ctt=$N.exports,_D;function Att(){return _D||(_D=1,(function(t,e){(function(r,n){t.exports=n()})(Ctt,(function(){var r={},n={};function i(u,a,g){if(n[u]=g,u==="index"){var v="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",x={};return n.shared(x),n.index(r,x),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([v],{type:"text/javascript"}))),r}}i("shared",["exports"],(function(u){function a(f,l,h,b){return new(h||(h=Promise))((function(E,M){function P(ot){try{J(b.next(ot))}catch(ft){M(ft)}}function q(ot){try{J(b.throw(ot))}catch(ft){M(ft)}}function J(ot){var ft;ot.done?E(ot.value):(ft=ot.value,ft instanceof h?ft:new h((function(St){St(ft)}))).then(P,q)}J((b=b.apply(f,l||[])).next())}))}function g(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var v,x;function k(){if(x)return v;function f(l,h){this.x=l,this.y=h}return x=1,v=f,f.prototype={clone:function(){return new f(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,h){return this.clone()._rotateAround(l,h)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var h=l.x-this.x,b=l.y-this.y;return h*h+b*b},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,h){return Math.atan2(this.x*h-this.y*l,this.x*l+this.y*h)},_matMult:function(l){var h=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=h,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var h=Math.cos(l),b=Math.sin(l),E=b*this.x+h*this.y;return this.x=h*this.x-b*this.y,this.y=E,this},_rotateAround:function(l,h){var b=Math.cos(l),E=Math.sin(l),M=h.y+E*(this.x-h.x)+b*(this.y-h.y);return this.x=h.x+b*(this.x-h.x)-E*(this.y-h.y),this.y=M,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},f.convert=function(l){return l instanceof f?l:Array.isArray(l)?new f(l[0],l[1]):l},v}typeof SuppressedError=="function"&&SuppressedError;var R,A,O=g(k()),D=(function(){if(A)return R;function f(l,h,b,E){this.cx=3*l,this.bx=3*(b-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(E-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=b,this.p2y=E}return A=1,R=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var b=l,E=0;E<8;E++){var M=this.sampleCurveX(b)-l;if(Math.abs(M)<h)return b;var P=this.sampleCurveDerivativeX(b);if(Math.abs(P)<1e-6)break;b-=M/P}var q=0,J=1;for(b=l,E=0;E<20&&(M=this.sampleCurveX(b),!(Math.abs(M-l)<h));E++)l>M?q=b:J=b,b=.5*(J-q)+q;return b},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},R})(),U=g(D);let H,G;function z(){return H==null&&(H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),H}function j(){if(G==null&&(G=!1,z())){const f=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(f){for(let h=0;h<25;h++){const b=4*h;f.fillStyle=`rgb(${b},${b+1},${b+2})`,f.fillRect(h%5,Math.floor(h/5),1,1)}const l=f.getImageData(0,0,5,5).data;for(let h=0;h<100;h++)if(h%4!=3&&l[h]!==h){G=!0;break}}}return G||!1}var X=1e-6,Y=typeof Float32Array<"u"?Float32Array:Array;function rt(){var f=new Y(9);return Y!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function st(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function it(){var f=new Y(3);return Y!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function bt(f){return Math.hypot(f[0],f[1],f[2])}function at(f,l,h){var b=new Y(3);return b[0]=f,b[1]=l,b[2]=h,b}function $(f,l,h){return f[0]=l[0]+h[0],f[1]=l[1]+h[1],f[2]=l[2]+h[2],f}function dt(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f}function mt(f,l,h){var b=l[0],E=l[1],M=l[2],P=h[0],q=h[1],J=h[2];return f[0]=E*J-M*q,f[1]=M*P-b*J,f[2]=b*q-E*P,f}Math.hypot||(Math.hypot=function(){for(var f=0,l=arguments.length;l--;)f+=arguments[l]*arguments[l];return Math.sqrt(f)});var wt,pt=bt;function Ct(f,l,h){var b=l[0],E=l[1],M=l[2],P=l[3];return f[0]=h[0]*b+h[4]*E+h[8]*M+h[12]*P,f[1]=h[1]*b+h[5]*E+h[9]*M+h[13]*P,f[2]=h[2]*b+h[6]*E+h[10]*M+h[14]*P,f[3]=h[3]*b+h[7]*E+h[11]*M+h[15]*P,f}function vt(){var f=new Y(4);return Y!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f[3]=1,f}function It(f,l,h,b){var E=.5*Math.PI/180;l*=E,h*=E,b*=E;var M=Math.sin(l),P=Math.cos(l),q=Math.sin(h),J=Math.cos(h),ot=Math.sin(b),ft=Math.cos(b);return f[0]=M*J*ft-P*q*ot,f[1]=P*q*ft+M*J*ot,f[2]=P*J*ot-M*q*ft,f[3]=P*J*ft+M*q*ot,f}function Ft(){var f=new Y(2);return Y!=Float32Array&&(f[0]=0,f[1]=0),f}function Et(f,l){var h=new Y(2);return h[0]=f,h[1]=l,h}it(),wt=new Y(4),Y!=Float32Array&&(wt[0]=0,wt[1]=0,wt[2]=0,wt[3]=0),it(),at(1,0,0),at(0,1,0),vt(),vt(),rt(),Ft();const lt=8192;function kt(f,l,h){return l*(lt/(f.tileSize*Math.pow(2,h-f.tileID.overscaledZ)))}function At(f,l){return(f%l+l)%l}function Nt(f,l,h){return f*(1-h)+l*h}function qt(f){if(f<=0)return 0;if(f>=1)return 1;const l=f*f,h=l*f;return 4*(f<.5?h:3*(f-l)+h-.75)}function ie(f,l,h,b){const E=new U(f,l,h,b);return M=>E.solve(M)}const Ht=ie(.25,.1,.25,1);function ce(f,l,h){return Math.min(h,Math.max(l,f))}function de(f,l,h){const b=h-l,E=((f-l)%b+b)%b+l;return E===l?h:E}function Se(f,...l){for(const h of l)for(const b in h)f[b]=h[b];return f}let $t=1;function He(f,l,h){const b={};for(const E in f)b[E]=l.call(this,f[E],E,f);return b}function ke(f,l,h){const b={};for(const E in f)l.call(this,f[E],E,f)&&(b[E]=f[E]);return b}function Jt(f){return Array.isArray(f)?f.map(Jt):typeof f=="object"&&f?He(f,Jt):f}const Vr={};function vr(f){Vr[f]||(typeof console<"u"&&console.warn(f),Vr[f]=!0)}function Dr(f,l,h){return(h.y-f.y)*(l.x-f.x)>(l.y-f.y)*(h.x-f.x)}function Ie(f){return typeof WorkerGlobalScope<"u"&&f!==void 0&&f instanceof WorkerGlobalScope}let Mr=null;function ir(f){return typeof ImageBitmap<"u"&&f instanceof ImageBitmap}const Rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Pr(f,l,h,b,E){return a(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const M=new VideoFrame(f,{timestamp:0});try{const P=M?.format;if(!P||!P.startsWith("BGR")&&!P.startsWith("RGB"))throw new Error(`Unrecognized format ${P}`);const q=P.startsWith("BGR"),J=new Uint8ClampedArray(b*E*4);if(yield M.copyTo(J,(function(ot,ft,St,Vt,Gt){const Wt=4*Math.max(1,0),te=(Math.max(0,St)-St)*Vt*4+Wt,he=4*Vt,Ee=Math.max(0,ft),Je=Math.max(0,St);return{rect:{x:Ee,y:Je,width:Math.min(ot.width,ft+Vt)-Ee,height:Math.min(ot.height,St+Gt)-Je},layout:[{offset:te,stride:he}]}})(f,l,h,b,E)),q)for(let ot=0;ot<J.length;ot+=4){const ft=J[ot];J[ot]=J[ot+2],J[ot+2]=ft}return J}finally{M.close()}}))}let Ir,dr;function ar(f,l,h,b){return f.addEventListener(l,h,b),{unsubscribe:()=>{f.removeEventListener(l,h,b)}}}function Or(f){return f*Math.PI/180}function er(f){return f/Math.PI*180}const Fr={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Ze={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},rr="AbortError";function Me(){return new Error(rr)}const jt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Mt(f){return jt.REGISTERED_PROTOCOLS[f.substring(0,f.indexOf("://"))]}const Bt="global-dispatcher";class oe extends Error{constructor(l,h,b,E){super(`AJAXError: ${h} (${l}): ${b}`),this.status=l,this.statusText=h,this.url=b,this.body=E}}const ye=()=>Ie(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,je=function(f,l){if(/:\/\//.test(f.url)&&!/^https?:|^file:/.test(f.url)){const b=Mt(f.url);if(b)return b(f,l);if(Ie(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,targetMapId:Bt},l)}if(!(/^file:/.test(h=f.url)||/^file:/.test(ye())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(b,E){return a(this,void 0,void 0,(function*(){const M=new Request(b.url,{method:b.method||"GET",body:b.body,credentials:b.credentials,headers:b.headers,cache:b.cache,referrer:ye(),signal:E.signal});let P,q;b.type!=="json"||M.headers.has("Accept")||M.headers.set("Accept","application/json");try{P=yield fetch(M)}catch(ot){throw new oe(0,ot.message,b.url,new Blob)}if(!P.ok){const ot=yield P.blob();throw new oe(P.status,P.statusText,b.url,ot)}q=b.type==="arrayBuffer"||b.type==="image"?P.arrayBuffer():b.type==="json"?P.json():P.text();const J=yield q;if(E.signal.aborted)throw Me();return{data:J,cacheControl:P.headers.get("Cache-Control"),expires:P.headers.get("Expires")}}))})(f,l);if(Ie(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,mustQueue:!0,targetMapId:Bt},l)}var h;return(function(b,E){return new Promise(((M,P)=>{var q;const J=new XMLHttpRequest;J.open(b.method||"GET",b.url,!0),b.type!=="arrayBuffer"&&b.type!=="image"||(J.responseType="arraybuffer");for(const ot in b.headers)J.setRequestHeader(ot,b.headers[ot]);b.type==="json"&&(J.responseType="text",!((q=b.headers)===null||q===void 0)&&q.Accept||J.setRequestHeader("Accept","application/json")),J.withCredentials=b.credentials==="include",J.onerror=()=>{P(new Error(J.statusText))},J.onload=()=>{if(!E.signal.aborted)if((J.status>=200&&J.status<300||J.status===0)&&J.response!==null){let ot=J.response;if(b.type==="json")try{ot=JSON.parse(J.response)}catch(ft){return void P(ft)}M({data:ot,cacheControl:J.getResponseHeader("Cache-Control"),expires:J.getResponseHeader("Expires")})}else{const ot=new Blob([J.response],{type:J.getResponseHeader("Content-Type")});P(new oe(J.status,J.statusText,b.url,ot))}},E.signal.addEventListener("abort",(()=>{J.abort(),P(Me())})),J.send(b.body)}))})(f,l)};function Ge(f){if(!f||f.indexOf("://")<=0||f.indexOf("data:image/")===0||f.indexOf("blob:")===0)return!0;const l=new URL(f),h=window.location;return l.protocol===h.protocol&&l.host===h.host}function Ue(f,l,h){h[f]&&h[f].indexOf(l)!==-1||(h[f]=h[f]||[],h[f].push(l))}function fr(f,l,h){if(h&&h[f]){const b=h[f].indexOf(l);b!==-1&&h[f].splice(b,1)}}class Ke{constructor(l,h={}){Se(this,h),this.type=l}}class Pe extends Ke{constructor(l,h={}){super("error",Se({error:l},h))}}class cr{on(l,h){return this._listeners=this._listeners||{},Ue(l,h,this._listeners),{unsubscribe:()=>{this.off(l,h)}}}off(l,h){return fr(l,h,this._listeners),fr(l,h,this._oneTimeListeners),this}once(l,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},Ue(l,h,this._oneTimeListeners),this):new Promise((b=>this.once(l,b)))}fire(l,h){typeof l=="string"&&(l=new Ke(l,h||{}));const b=l.type;if(this.listens(b)){l.target=this;const E=this._listeners&&this._listeners[b]?this._listeners[b].slice():[];for(const q of E)q.call(this,l);const M=this._oneTimeListeners&&this._oneTimeListeners[b]?this._oneTimeListeners[b].slice():[];for(const q of M)fr(b,q,this._oneTimeListeners),q.call(this,l);const P=this._eventedParent;P&&(Se(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),P.fire(l))}else l instanceof Pe&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,h){return this._eventedParent=l,this._eventedParentData=h,this}}var Oe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Wr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function or(f,l){const h={};for(const b in f)b!=="ref"&&(h[b]=f[b]);return Wr.forEach((b=>{b in l&&(h[b]=l[b])})),h}function vn(f,l){if(Array.isArray(f)){if(!Array.isArray(l)||f.length!==l.length)return!1;for(let h=0;h<f.length;h++)if(!vn(f[h],l[h]))return!1;return!0}if(typeof f=="object"&&f!==null&&l!==null){if(typeof l!="object"||Object.keys(f).length!==Object.keys(l).length)return!1;for(const h in f)if(!vn(f[h],l[h]))return!1;return!0}return f===l}function Kr(f,l){f.push(l)}function Kn(f,l,h){Kr(h,{command:"addSource",args:[f,l[f]]})}function Pt(f,l,h){Kr(l,{command:"removeSource",args:[f]}),h[f]=!0}function Xt(f,l,h,b){Pt(f,h,b),Kn(f,l,h)}function be(f,l,h){let b;for(b in f[h])if(Object.prototype.hasOwnProperty.call(f[h],b)&&b!=="data"&&!vn(f[h][b],l[h][b]))return!1;for(b in l[h])if(Object.prototype.hasOwnProperty.call(l[h],b)&&b!=="data"&&!vn(f[h][b],l[h][b]))return!1;return!0}function ze(f,l,h,b,E,M){f=f||{},l=l||{};for(const P in f)Object.prototype.hasOwnProperty.call(f,P)&&(vn(f[P],l[P])||h.push({command:M,args:[b,P,l[P],E]}));for(const P in l)Object.prototype.hasOwnProperty.call(l,P)&&!Object.prototype.hasOwnProperty.call(f,P)&&(vn(f[P],l[P])||h.push({command:M,args:[b,P,l[P],E]}))}function Lr(f){return f.id}function yn(f,l){return f[l.id]=l,f}class $r{constructor(l,h,b,E){this.message=(l?`${l}: `:"")+b,E&&(this.identifier=E),h!=null&&h.__line__&&(this.line=h.__line__)}}function fi(f,...l){for(const h of l)for(const b in h)f[b]=h[b];return f}class On extends Error{constructor(l,h){super(h),this.message=h,this.key=l}}class li{constructor(l,h=[]){this.parent=l,this.bindings={};for(const[b,E]of h)this.bindings[b]=E}concat(l){return new li(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Ki={kind:"null"},en={kind:"number"},Rn={kind:"string"},Xn={kind:"boolean"},Ra={kind:"color"},_o={kind:"projectionDefinition"},Na={kind:"object"},Mn={kind:"value"},io={kind:"collator"},rl={kind:"formatted"},ra={kind:"padding"},sa={kind:"colorArray"},cu={kind:"numberArray"},Vi={kind:"resolvedImage"},nl={kind:"variableAnchorOffsetCollection"};function Xo(f,l){return{kind:"array",itemType:f,N:l}}function Mi(f){if(f.kind==="array"){const l=Mi(f.itemType);return typeof f.N=="number"?`array<${l}, ${f.N}>`:f.itemType.kind==="value"?"array":`array<${l}>`}return f.kind}const xs=[Ki,en,Rn,Xn,Ra,_o,rl,Na,Xo(Mn),ra,cu,sa,Vi,nl];function zl(f,l){if(l.kind==="error")return null;if(f.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!zl(f.itemType,l.itemType))&&(typeof f.N!="number"||f.N===l.N))return null}else{if(f.kind===l.kind)return null;if(f.kind==="value"){for(const h of xs)if(!zl(h,l))return null}}return`Expected ${Mi(f)} but found ${Mi(l)} instead.`}function Ks(f,l){return l.some((h=>h.kind===f.kind))}function Do(f,l){return l.some((h=>h==="null"?f===null:h==="array"?Array.isArray(f):h==="object"?f&&!Array.isArray(f)&&typeof f=="object":h===typeof f))}function Fl(f,l){return f.kind==="array"&&l.kind==="array"?f.itemType.kind===l.itemType.kind&&typeof f.N=="number":f.kind===l.kind}const Ga=.96422,fl=.82521,Gc=4/29,pl=6/29,El=3*pl*pl,Wo=pl*pl*pl,Yo=Math.PI/180,Ko=180/Math.PI;function Zo(f){return(f%=360)<0&&(f+=360),f}function ic([f,l,h,b]){let E,M;const P=Q((.2225045*(f=yc(f))+.7168786*(l=yc(l))+.0606169*(h=yc(h)))/1);f===l&&l===h?E=M=P:(E=Q((.4360747*f+.3850649*l+.1430804*h)/Ga),M=Q((.0139322*f+.0971045*l+.7141733*h)/fl));const q=116*P-16;return[q<0?0:q,500*(E-P),200*(P-M),b]}function yc(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Q(f){return f>Wo?Math.pow(f,1/3):f/El+Gc}function gt([f,l,h,b]){let E=(f+16)/116,M=isNaN(l)?E:E+l/500,P=isNaN(h)?E:E-h/200;return E=1*Re(E),M=Ga*Re(M),P=fl*Re(P),[ee(3.1338561*M-1.6168667*E-.4906146*P),ee(-.9787684*M+1.9161415*E+.033454*P),ee(.0719453*M-.2289914*E+1.4052427*P),b]}function ee(f){return(f=f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055)<0?0:f>1?1:f}function Re(f){return f>pl?f*f*f:El*(f-Gc)}const qe=Object.hasOwn||function(f,l){return Object.prototype.hasOwnProperty.call(f,l)};function Fe(f,l){return qe(f,l)?f[l]:void 0}function nr(f){return parseInt(f.padEnd(2,f),16)/255}function rn(f,l){return pn(l?f/100:f,0,1)}function pn(f,l,h){return Math.min(Math.max(l,f),h)}function un(f){return!f.some(Number.isNaN)}const Sn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function dn(f,l,h){return f+h*(l-f)}function Wn(f,l,h){return f.map(((b,E)=>dn(b,l[E],h)))}class Nn{constructor(l,h,b,E=1,M=!0){this.r=l,this.g=h,this.b=b,this.a=E,M||(this.r*=E,this.g*=E,this.b*=E,E||this.overwriteGetter("rgb",[l,h,b,E]))}static parse(l){if(l instanceof Nn)return l;if(typeof l!="string")return;const h=(function(b){if((b=b.toLowerCase().trim())==="transparent")return[0,0,0,0];const E=Fe(Sn,b);if(E){const[P,q,J]=E;return[P/255,q/255,J/255,1]}if(b.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(b)){const P=b.length<6?1:2;let q=1;return[nr(b.slice(q,q+=P)),nr(b.slice(q,q+=P)),nr(b.slice(q,q+=P)),nr(b.slice(q,q+P)||"ff")]}if(b.startsWith("rgb")){const P=b.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee,Je]=P,De=[ft||" ",Gt||" ",he].join("");if(De==="  "||De==="  /"||De===",,"||De===",,,"){const Ut=[ot,Vt,te].join(""),le=Ut==="%%%"?100:Ut===""?255:0;if(le){const Ve=[pn(+J/le,0,1),pn(+St/le,0,1),pn(+Wt/le,0,1),Ee?rn(+Ee,Je):1];if(un(Ve))return Ve}}return}}const M=b.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(M){const[P,q,J,ot,ft,St,Vt,Gt,Wt]=M,te=[J||" ",ft||" ",Vt].join("");if(te==="  "||te==="  /"||te===",,"||te===",,,"){const he=[+q,pn(+ot,0,100),pn(+St,0,100),Gt?rn(+Gt,Wt):1];if(un(he))return(function([Ee,Je,De,Ut]){function le(Ve){const Tr=(Ve+Ee/30)%12,hn=Je*Math.min(De,1-De);return De-hn*Math.max(-1,Math.min(Tr-3,9-Tr,1))}return Ee=Zo(Ee),Je/=100,De/=100,[le(0),le(8),le(4),Ut]})(he)}}})(l);return h?new Nn(...h,!1):void 0}get rgb(){const{r:l,g:h,b,a:E}=this,M=E||1/0;return this.overwriteGetter("rgb",[l/M,h/M,b/M,E])}get hcl(){return this.overwriteGetter("hcl",(function(l){const[h,b,E,M]=ic(l),P=Math.sqrt(b*b+E*E);return[Math.round(1e4*P)?Zo(Math.atan2(E,b)*Ko):NaN,P,h,M]})(this.rgb))}get lab(){return this.overwriteGetter("lab",ic(this.rgb))}overwriteGetter(l,h){return Object.defineProperty(this,l,{value:h}),h}toString(){const[l,h,b,E]=this.rgb;return`rgba(${[l,h,b].map((M=>Math.round(255*M))).join(",")},${E})`}static interpolate(l,h,b,E="rgb"){switch(E){case"rgb":{const[M,P,q,J]=Wn(l.rgb,h.rgb,b);return new Nn(M,P,q,J,!1)}case"hcl":{const[M,P,q,J]=l.hcl,[ot,ft,St,Vt]=h.hcl;let Gt,Wt;if(isNaN(M)||isNaN(ot))isNaN(M)?isNaN(ot)?Gt=NaN:(Gt=ot,q!==1&&q!==0||(Wt=ft)):(Gt=M,St!==1&&St!==0||(Wt=P));else{let De=ot-M;ot>M&&De>180?De-=360:ot<M&&M-ot>180&&(De+=360),Gt=M+b*De}const[te,he,Ee,Je]=(function([De,Ut,le,Ve]){return De=isNaN(De)?0:De*Yo,gt([le,Math.cos(De)*Ut,Math.sin(De)*Ut,Ve])})([Gt,Wt??dn(P,ft,b),dn(q,St,b),dn(J,Vt,b)]);return new Nn(te,he,Ee,Je,!1)}case"lab":{const[M,P,q,J]=gt(Wn(l.lab,h.lab,b));return new Nn(M,P,q,J,!1)}}}}Nn.black=new Nn(0,0,0,1),Nn.white=new Nn(1,1,1,1),Nn.transparent=new Nn(0,0,0,0),Nn.red=new Nn(1,0,0,1);class ti{constructor(l,h,b){this.sensitivity=l?h?"variant":"case":h?"accent":"base",this.locale=b,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,h){return this.collator.compare(l,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const jn=["bottom","center","top"];class Zr{constructor(l,h,b,E,M,P){this.text=l,this.image=h,this.scale=b,this.fontStack=E,this.textColor=M,this.verticalAlign=P}}class Ln{constructor(l){this.sections=l}static fromString(l){return new Ln([new Zr(l,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((l=>l.text.length!==0||l.image&&l.image.name.length!==0))}static factory(l){return l instanceof Ln?l:Ln.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map((l=>l.text)).join("")}}class yi{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof yi)return l;if(typeof l=="number")return new yi([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const h of l)if(typeof h!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new yi(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b){return new yi(Wn(l.values,h.values,b))}}class na{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof na)return l;if(typeof l=="number")return new na([l]);if(Array.isArray(l)){for(const h of l)if(typeof h!="number")return;return new na(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b){return new na(Wn(l.values,h.values,b))}}class Ii{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ii)return l;if(typeof l=="string"){const b=Nn.parse(l);return b?new Ii([b]):void 0}if(!Array.isArray(l))return;const h=[];for(const b of l){if(typeof b!="string")return;const E=Nn.parse(b);if(!E)return;h.push(E)}return new Ii(h)}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b,E="rgb"){const M=[];if(l.values.length!=h.values.length)throw new Error(`colorArray: Arrays have mismatched length (${l.values.length} vs. ${h.values.length}), cannot interpolate.`);for(let P=0;P<l.values.length;P++)M.push(Nn.interpolate(l.values[P],h.values[P],b,E));return new Ii(M)}}class Bi extends Error{constructor(l){super(l),this.name="RuntimeError"}toJSON(){return this.message}}const la=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Bn{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Bn)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let h=0;h<l.length;h+=2){const b=l[h],E=l[h+1];if(typeof b!="string"||!la.has(b)||!Array.isArray(E)||E.length!==2||typeof E[0]!="number"||typeof E[1]!="number")return}return new Bn(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,b){const E=l.values,M=h.values;if(E.length!==M.length)throw new Bi(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${h.toString()}`);const P=[];for(let q=0;q<E.length;q+=2){if(E[q]!==M[q])throw new Bi(`Cannot interpolate values containing mismatched anchors. from[${q}]: ${E[q]}, to[${q}]: ${M[q]}`);P.push(E[q]);const[J,ot]=E[q+1],[ft,St]=M[q+1];P.push([dn(J,ft,b),dn(ot,St,b)])}return new Bn(P)}}class Ha{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Ha({name:l,available:!1}):null}}class pi{constructor(l,h,b){this.from=l,this.to=h,this.transition=b}static interpolate(l,h,b){return new pi(l,h,b)}static parse(l){return l instanceof pi?l:Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"?new pi(l[0],l[1],l[2]):typeof l=="object"&&typeof l.from=="string"&&typeof l.to=="string"&&typeof l.transition=="number"?new pi(l.from,l.to,l.transition):typeof l=="string"?new pi(l,l,1):void 0}}function ei(f,l,h,b){return typeof f=="number"&&f>=0&&f<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof h=="number"&&h>=0&&h<=255?b===void 0||typeof b=="number"&&b>=0&&b<=1?null:`Invalid rgba value [${[f,l,h,b].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof b=="number"?[f,l,h,b]:[f,l,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Tl(f){if(f===null||typeof f=="string"||typeof f=="boolean"||typeof f=="number"||f instanceof pi||f instanceof Nn||f instanceof ti||f instanceof Ln||f instanceof yi||f instanceof na||f instanceof Ii||f instanceof Bn||f instanceof Ha)return!0;if(Array.isArray(f)){for(const l of f)if(!Tl(l))return!1;return!0}if(typeof f=="object"){for(const l in f)if(!Tl(f[l]))return!1;return!0}return!1}function zn(f){if(f===null)return Ki;if(typeof f=="string")return Rn;if(typeof f=="boolean")return Xn;if(typeof f=="number")return en;if(f instanceof Nn)return Ra;if(f instanceof pi)return _o;if(f instanceof ti)return io;if(f instanceof Ln)return rl;if(f instanceof yi)return ra;if(f instanceof na)return cu;if(f instanceof Ii)return sa;if(f instanceof Bn)return nl;if(f instanceof Ha)return Vi;if(Array.isArray(f)){const l=f.length;let h;for(const b of f){const E=zn(b);if(h){if(h===E)continue;h=Mn;break}h=E}return Xo(h||Mn,l)}return Na}function jl(f){const l=typeof f;return f===null?"":l==="string"||l==="number"||l==="boolean"?String(f):f instanceof Nn||f instanceof pi||f instanceof Ln||f instanceof yi||f instanceof na||f instanceof Ii||f instanceof Bn||f instanceof Ha?f.toString():JSON.stringify(f)}class No{constructor(l,h){this.type=l,this.value=h}static parse(l,h){if(l.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Tl(l[1]))return h.error("invalid value");const b=l[1];let E=zn(b);const M=h.expectedType;return E.kind!=="array"||E.N!==0||!M||M.kind!=="array"||typeof M.N=="number"&&M.N!==0||(E=M),new No(E,b)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const xo={string:Rn,number:en,boolean:Xn,object:Na};class fo{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let b,E=1;const M=l[0];if(M==="array"){let q,J;if(l.length>2){const ot=l[1];if(typeof ot!="string"||!(ot in xo)||ot==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);q=xo[ot],E++}else q=Mn;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return h.error('The length argument to "array" must be a positive integer literal',2);J=l[2],E++}b=Xo(q,J)}else{if(!xo[M])throw new Error(`Types doesn't contain name = ${M}`);b=xo[M]}const P=[];for(;E<l.length;E++){const q=h.parse(l[E],E,Mn);if(!q)return null;P.push(q)}return new fo(b,P)}evaluate(l){for(let h=0;h<this.args.length;h++){const b=this.args[h].evaluate(l);if(!zl(this.type,zn(b)))return b;if(h===this.args.length-1)throw new Bi(`Expected value to be of type ${Mi(this.type)}, but found ${Mi(zn(b))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const _u={"to-boolean":Xn,"to-color":Ra,"to-number":en,"to-string":Rn};class Ms{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const b=l[0];if(!_u[b])throw new Error(`Can't parse ${b} as it is not part of the known types`);if((b==="to-boolean"||b==="to-string")&&l.length!==2)return h.error("Expected one argument.");const E=_u[b],M=[];for(let P=1;P<l.length;P++){const q=h.parse(l[P],P,Mn);if(!q)return null;M.push(q)}return new Ms(E,M)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let h,b;for(const E of this.args){if(h=E.evaluate(l),b=null,h instanceof Nn)return h;if(typeof h=="string"){const M=l.parseColor(h);if(M)return M}else if(Array.isArray(h)&&(b=h.length<3||h.length>4?`Invalid rgba value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:ei(h[0],h[1],h[2],h[3]),!b))return new Nn(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new Bi(b||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const b of this.args){h=b.evaluate(l);const E=yi.parse(h);if(E)return E}throw new Bi(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"numberArray":{let h;for(const b of this.args){h=b.evaluate(l);const E=na.parse(h);if(E)return E}throw new Bi(`Could not parse numberArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"colorArray":{let h;for(const b of this.args){h=b.evaluate(l);const E=Ii.parse(h);if(E)return E}throw new Bi(`Could not parse colorArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const b of this.args){h=b.evaluate(l);const E=Bn.parse(h);if(E)return E}throw new Bi(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const b of this.args){if(h=b.evaluate(l),h===null)return 0;const E=Number(h);if(!isNaN(E))return E}throw new Bi(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return Ln.fromString(jl(this.args[0].evaluate(l)));case"resolvedImage":return Ha.fromString(jl(this.args[0].evaluate(l)));case"projectionDefinition":return this.args[0].evaluate(l);default:return jl(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const Cl=["Unknown","Point","LineString","Polygon"];class xu{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Cl[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let h=this._parseColorCache.get(l);return h||(h=Nn.parse(l),this._parseColorCache.set(l,h)),h}}class Vl{constructor(l,h,b=[],E,M=new li,P=[]){this.registry=l,this.path=b,this.key=b.map((q=>`[${q}]`)).join(""),this.scope=M,this.errors=P,this.expectedType=E,this._isConstant=h}parse(l,h,b,E,M={}){return h?this.concat(h,b,E)._parse(l,M):this._parse(l,M)}_parse(l,h){function b(E,M,P){return P==="assert"?new fo(M,[E]):P==="coerce"?new Ms(M,[E]):E}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const E=l[0];if(typeof E!="string")return this.error(`Expression name must be a string, but found ${typeof E} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const M=this.registry[E];if(M){let P=M.parse(l,this);if(!P)return null;if(this.expectedType){const q=this.expectedType,J=P.type;if(q.kind!=="string"&&q.kind!=="number"&&q.kind!=="boolean"&&q.kind!=="object"&&q.kind!=="array"||J.kind!=="value"){if(q.kind==="projectionDefinition"&&["string","array"].includes(J.kind)||["color","formatted","resolvedImage"].includes(q.kind)&&["value","string"].includes(J.kind)||["padding","numberArray"].includes(q.kind)&&["value","number","array"].includes(J.kind)||q.kind==="colorArray"&&["value","string","array"].includes(J.kind)||q.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(J.kind))P=b(P,q,h.typeAnnotation||"coerce");else if(this.checkSubtype(q,J))return null}else P=b(P,q,h.typeAnnotation||"assert")}if(!(P instanceof No)&&P.type.kind!=="resolvedImage"&&this._isConstant(P)){const q=new xu;try{P=new No(P.type,P.evaluate(q))}catch(J){return this.error(J.message),null}}return P}return this.error(`Unknown expression "${E}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,h,b){const E=typeof l=="number"?this.path.concat(l):this.path,M=b?this.scope.concat(b):this.scope;return new Vl(this.registry,this._isConstant,E,h||null,M,this.errors)}error(l,...h){const b=`${this.key}${h.map((E=>`[${E}]`)).join("")}`;this.errors.push(new On(b,l))}checkSubtype(l,h){const b=zl(l,h);return b&&this.error(b),b}}class wo{constructor(l,h){this.type=h.type,this.bindings=[].concat(l),this.result=h}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const h of this.bindings)l(h[1]);l(this.result)}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const b=[];for(let M=1;M<l.length-1;M+=2){const P=l[M];if(typeof P!="string")return h.error(`Expected string, but found ${typeof P} instead.`,M);if(/[^a-zA-Z0-9_]/.test(P))return h.error("Variable names must contain only alphanumeric characters or '_'.",M);const q=h.parse(l[M+1],M+1);if(!q)return null;b.push([P,q])}const E=h.parse(l[l.length-1],l.length-1,h.expectedType,b);return E?new wo(b,E):null}outputDefined(){return this.result.outputDefined()}}class Bo{constructor(l,h){this.type=h.type,this.name=l,this.boundExpression=h}static parse(l,h){if(l.length!==2||typeof l[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const b=l[1];return h.scope.has(b)?new Bo(b,h.scope.get(b)):h.error(`Unknown variable "${b}". Make sure "${b}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Ba{constructor(l,h,b){this.type=l,this.index=h,this.input=b}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,en),E=h.parse(l[2],2,Xo(h.expectedType||Mn));return b&&E?new Ba(E.type.itemType,b,E):null}evaluate(l){const h=this.index.evaluate(l),b=this.input.evaluate(l);if(h<0)throw new Bi(`Array index out of bounds: ${h} < 0.`);if(h>=b.length)throw new Bi(`Array index out of bounds: ${h} > ${b.length-1}.`);if(h!==Math.floor(h))throw new Bi(`Array index must be an integer, but found ${h} instead.`);return b[h]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class zo{constructor(l,h){this.type=Xn,this.needle=l,this.haystack=h}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Mn),E=h.parse(l[2],2,Mn);return b&&E?Ks(b.type,[Xn,Rn,en,Ki,Mn])?new zo(b,E):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${Mi(b.type)} instead`):null}evaluate(l){const h=this.needle.evaluate(l),b=this.haystack.evaluate(l);if(!b)return!1;if(!Do(h,["boolean","string","number","null"]))throw new Bi(`Expected first argument to be of type boolean, string, number or null, but found ${Mi(zn(h))} instead.`);if(!Do(b,["string","array"]))throw new Bi(`Expected second argument to be of type array or string, but found ${Mi(zn(b))} instead.`);return b.indexOf(h)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class ut{constructor(l,h,b){this.type=en,this.needle=l,this.haystack=h,this.fromIndex=b}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Mn),E=h.parse(l[2],2,Mn);if(!b||!E)return null;if(!Ks(b.type,[Xn,Rn,en,Ki,Mn]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${Mi(b.type)} instead`);if(l.length===4){const M=h.parse(l[3],3,en);return M?new ut(b,E,M):null}return new ut(b,E)}evaluate(l){const h=this.needle.evaluate(l),b=this.haystack.evaluate(l);if(!Do(h,["boolean","string","number","null"]))throw new Bi(`Expected first argument to be of type boolean, string, number or null, but found ${Mi(zn(h))} instead.`);let E;if(this.fromIndex&&(E=this.fromIndex.evaluate(l)),Do(b,["string"])){const M=b.indexOf(h,E);return M===-1?-1:[...b.slice(0,M)].length}if(Do(b,["array"]))return b.indexOf(h,E);throw new Bi(`Expected second argument to be of type array or string, but found ${Mi(zn(b))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Yt{constructor(l,h,b,E,M,P){this.inputType=l,this.type=h,this.input=b,this.cases=E,this.outputs=M,this.otherwise=P}static parse(l,h){if(l.length<5)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return h.error("Expected an even number of arguments.");let b,E;h.expectedType&&h.expectedType.kind!=="value"&&(E=h.expectedType);const M={},P=[];for(let ot=2;ot<l.length-1;ot+=2){let ft=l[ot];const St=l[ot+1];Array.isArray(ft)||(ft=[ft]);const Vt=h.concat(ot);if(ft.length===0)return Vt.error("Expected at least one branch label.");for(const Wt of ft){if(typeof Wt!="number"&&typeof Wt!="string")return Vt.error("Branch labels must be numbers or strings.");if(typeof Wt=="number"&&Math.abs(Wt)>Number.MAX_SAFE_INTEGER)return Vt.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Wt=="number"&&Math.floor(Wt)!==Wt)return Vt.error("Numeric branch labels must be integer values.");if(b){if(Vt.checkSubtype(b,zn(Wt)))return null}else b=zn(Wt);if(M[String(Wt)]!==void 0)return Vt.error("Branch labels must be unique.");M[String(Wt)]=P.length}const Gt=h.parse(St,ot,E);if(!Gt)return null;E=E||Gt.type,P.push(Gt)}const q=h.parse(l[1],1,Mn);if(!q)return null;const J=h.parse(l[l.length-1],l.length-1,E);return J?q.type.kind!=="value"&&h.concat(1).checkSubtype(b,q.type)?null:new Yt(b,E,q,M,P,J):null}evaluate(l){const h=this.input.evaluate(l);return(zn(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))&&this.otherwise.outputDefined()}}class ve{constructor(l,h,b){this.type=l,this.branches=h,this.otherwise=b}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return h.error("Expected an odd number of arguments.");let b;h.expectedType&&h.expectedType.kind!=="value"&&(b=h.expectedType);const E=[];for(let P=1;P<l.length-1;P+=2){const q=h.parse(l[P],P,Xn);if(!q)return null;const J=h.parse(l[P+1],P+1,b);if(!J)return null;E.push([q,J]),b=b||J.type}const M=h.parse(l[l.length-1],l.length-1,b);if(!M)return null;if(!b)throw new Error("Can't infer output type");return new ve(b,E,M)}evaluate(l){for(const[h,b]of this.branches)if(h.evaluate(l))return b.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[h,b]of this.branches)l(h),l(b);l(this.otherwise)}outputDefined(){return this.branches.every((([l,h])=>h.outputDefined()))&&this.otherwise.outputDefined()}}class Xe{constructor(l,h,b,E){this.type=l,this.input=h,this.beginIndex=b,this.endIndex=E}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const b=h.parse(l[1],1,Mn),E=h.parse(l[2],2,en);if(!b||!E)return null;if(!Ks(b.type,[Xo(Mn),Rn,Mn]))return h.error(`Expected first argument to be of type array or string, but found ${Mi(b.type)} instead`);if(l.length===4){const M=h.parse(l[3],3,en);return M?new Xe(b.type,b,E,M):null}return new Xe(b.type,b,E)}evaluate(l){const h=this.input.evaluate(l),b=this.beginIndex.evaluate(l);let E;if(this.endIndex&&(E=this.endIndex.evaluate(l)),Do(h,["string"]))return[...h].slice(b,E).join("");if(Do(h,["array"]))return h.slice(b,E);throw new Bi(`Expected first argument to be of type array or string, but found ${Mi(zn(h))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function pr(f,l){const h=f.length-1;let b,E,M=0,P=h,q=0;for(;M<=P;)if(q=Math.floor((M+P)/2),b=f[q],E=f[q+1],b<=l){if(q===h||l<E)return q;M=q+1}else{if(!(b>l))throw new Bi("Input is not a number.");P=q-1}return 0}class Yr{constructor(l,h,b){this.type=l,this.input=h,this.labels=[],this.outputs=[];for(const[E,M]of b)this.labels.push(E),this.outputs.push(M)}static parse(l,h){if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");const b=h.parse(l[1],1,en);if(!b)return null;const E=[];let M=null;h.expectedType&&h.expectedType.kind!=="value"&&(M=h.expectedType);for(let P=1;P<l.length;P+=2){const q=P===1?-1/0:l[P],J=l[P+1],ot=P,ft=P+1;if(typeof q!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ot);if(E.length&&E[E.length-1][0]>=q)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ot);const St=h.parse(J,ft,M);if(!St)return null;M=M||St.type,E.push([q,St])}return new Yr(M,b,E)}evaluate(l){const h=this.labels,b=this.outputs;if(h.length===1)return b[0].evaluate(l);const E=this.input.evaluate(l);if(E<=h[0])return b[0].evaluate(l);const M=h.length;return E>=h[M-1]?b[M-1].evaluate(l):b[pr(h,E)].evaluate(l)}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function mn(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var $n,ri,Ti=(function(){if(ri)return $n;function f(l,h,b,E){this.cx=3*l,this.bx=3*(b-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(E-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=b,this.p2y=E}return ri=1,$n=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var b=l,E=0;E<8;E++){var M=this.sampleCurveX(b)-l;if(Math.abs(M)<h)return b;var P=this.sampleCurveDerivativeX(b);if(Math.abs(P)<1e-6)break;b-=M/P}var q=0,J=1;for(b=l,E=0;E<20&&(M=this.sampleCurveX(b),!(Math.abs(M-l)<h));E++)l>M?q=b:J=b,b=.5*(J-q)+q;return b},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},$n})(),Fi=mn(Ti);class wi{constructor(l,h,b,E,M){this.type=l,this.operator=h,this.interpolation=b,this.input=E,this.labels=[],this.outputs=[];for(const[P,q]of M)this.labels.push(P),this.outputs.push(q)}static interpolationFactor(l,h,b,E){let M=0;if(l.name==="exponential")M=xa(h,l.base,b,E);else if(l.name==="linear")M=xa(h,1,b,E);else if(l.name==="cubic-bezier"){const P=l.controlPoints;M=new Fi(P[0],P[1],P[2],P[3]).solve(xa(h,1,b,E))}return M}static parse(l,h){let[b,E,M,...P]=l;if(!Array.isArray(E)||E.length===0)return h.error("Expected an interpolation type expression.",1);if(E[0]==="linear")E={name:"linear"};else if(E[0]==="exponential"){const ot=E[1];if(typeof ot!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);E={name:"exponential",base:ot}}else{if(E[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(E[0])}`,1,0);{const ot=E.slice(1);if(ot.length!==4||ot.some((ft=>typeof ft!="number"||ft<0||ft>1)))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);E={name:"cubic-bezier",controlPoints:ot}}}if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(M=h.parse(M,2,en),!M)return null;const q=[];let J=null;b!=="interpolate-hcl"&&b!=="interpolate-lab"||h.expectedType==sa?h.expectedType&&h.expectedType.kind!=="value"&&(J=h.expectedType):J=Ra;for(let ot=0;ot<P.length;ot+=2){const ft=P[ot],St=P[ot+1],Vt=ot+3,Gt=ot+4;if(typeof ft!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Vt);if(q.length&&q[q.length-1][0]>=ft)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Vt);const Wt=h.parse(St,Gt,J);if(!Wt)return null;J=J||Wt.type,q.push([ft,Wt])}return Fl(J,en)||Fl(J,_o)||Fl(J,Ra)||Fl(J,ra)||Fl(J,cu)||Fl(J,sa)||Fl(J,nl)||Fl(J,Xo(en))?new wi(J,b,E,M,q):h.error(`Type ${Mi(J)} is not interpolatable.`)}evaluate(l){const h=this.labels,b=this.outputs;if(h.length===1)return b[0].evaluate(l);const E=this.input.evaluate(l);if(E<=h[0])return b[0].evaluate(l);const M=h.length;if(E>=h[M-1])return b[M-1].evaluate(l);const P=pr(h,E),q=wi.interpolationFactor(this.interpolation,E,h[P],h[P+1]),J=b[P].evaluate(l),ot=b[P+1].evaluate(l);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return dn(J,ot,q);case"color":return Nn.interpolate(J,ot,q);case"padding":return yi.interpolate(J,ot,q);case"colorArray":return Ii.interpolate(J,ot,q);case"numberArray":return na.interpolate(J,ot,q);case"variableAnchorOffsetCollection":return Bn.interpolate(J,ot,q);case"array":return Wn(J,ot,q);case"projectionDefinition":return pi.interpolate(J,ot,q)}case"interpolate-hcl":switch(this.type.kind){case"color":return Nn.interpolate(J,ot,q,"hcl");case"colorArray":return Ii.interpolate(J,ot,q,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Nn.interpolate(J,ot,q,"lab");case"colorArray":return Ii.interpolate(J,ot,q,"lab")}}}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function xa(f,l,h,b){const E=b-h,M=f-h;return E===0?0:l===1?M/E:(Math.pow(l,M)-1)/(Math.pow(l,E)-1)}const Pi={color:Nn.interpolate,number:dn,padding:yi.interpolate,numberArray:na.interpolate,colorArray:Ii.interpolate,variableAnchorOffsetCollection:Bn.interpolate,array:Wn};class $i{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let b=null;const E=h.expectedType;E&&E.kind!=="value"&&(b=E);const M=[];for(const q of l.slice(1)){const J=h.parse(q,1+M.length,b,void 0,{typeAnnotation:"omit"});if(!J)return null;b=b||J.type,M.push(J)}if(!b)throw new Error("No output type");const P=E&&M.some((q=>zl(E,q.type)));return new $i(P?Mn:b,M)}evaluate(l){let h,b=null,E=0;for(const M of this.args)if(E++,b=M.evaluate(l),b&&b instanceof Ha&&!b.available&&(h||(h=b.name),b=null,E===this.args.length&&(b=h)),b!==null)break;return b}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}function Lo(f,l){return f==="=="||f==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Qa(f,l,h,b){return b.compare(l,h)===0}function ao(f,l,h){const b=f!=="=="&&f!=="!=";return class rU{constructor(M,P,q){this.type=Xn,this.lhs=M,this.rhs=P,this.collator=q,this.hasUntypedArgument=M.type.kind==="value"||P.type.kind==="value"}static parse(M,P){if(M.length!==3&&M.length!==4)return P.error("Expected two or three arguments.");const q=M[0];let J=P.parse(M[1],1,Mn);if(!J)return null;if(!Lo(q,J.type))return P.concat(1).error(`"${q}" comparisons are not supported for type '${Mi(J.type)}'.`);let ot=P.parse(M[2],2,Mn);if(!ot)return null;if(!Lo(q,ot.type))return P.concat(2).error(`"${q}" comparisons are not supported for type '${Mi(ot.type)}'.`);if(J.type.kind!==ot.type.kind&&J.type.kind!=="value"&&ot.type.kind!=="value")return P.error(`Cannot compare types '${Mi(J.type)}' and '${Mi(ot.type)}'.`);b&&(J.type.kind==="value"&&ot.type.kind!=="value"?J=new fo(ot.type,[J]):J.type.kind!=="value"&&ot.type.kind==="value"&&(ot=new fo(J.type,[ot])));let ft=null;if(M.length===4){if(J.type.kind!=="string"&&ot.type.kind!=="string"&&J.type.kind!=="value"&&ot.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(ft=P.parse(M[3],3,io),!ft)return null}return new rU(J,ot,ft)}evaluate(M){const P=this.lhs.evaluate(M),q=this.rhs.evaluate(M);if(b&&this.hasUntypedArgument){const J=zn(P),ot=zn(q);if(J.kind!==ot.kind||J.kind!=="string"&&J.kind!=="number")throw new Bi(`Expected arguments for "${f}" to be (string, string) or (number, number), but found (${J.kind}, ${ot.kind}) instead.`)}if(this.collator&&!b&&this.hasUntypedArgument){const J=zn(P),ot=zn(q);if(J.kind!=="string"||ot.kind!=="string")return l(M,P,q)}return this.collator?h(M,P,q,this.collator.evaluate(M)):l(M,P,q)}eachChild(M){M(this.lhs),M(this.rhs),this.collator&&M(this.collator)}outputDefined(){return!0}}}const $l=ao("==",(function(f,l,h){return l===h}),Qa),wu=ao("!=",(function(f,l,h){return l!==h}),(function(f,l,h,b){return!Qa(0,l,h,b)})),Ic=ao("<",(function(f,l,h){return l<h}),(function(f,l,h,b){return b.compare(l,h)<0})),Ul=ao(">",(function(f,l,h){return l>h}),(function(f,l,h,b){return b.compare(l,h)>0})),Rc=ao("<=",(function(f,l,h){return l<=h}),(function(f,l,h,b){return b.compare(l,h)<=0})),po=ao(">=",(function(f,l,h){return l>=h}),(function(f,l,h,b){return b.compare(l,h)>=0}));class Su{constructor(l,h,b){this.type=io,this.locale=b,this.caseSensitive=l,this.diacriticSensitive=h}static parse(l,h){if(l.length!==2)return h.error("Expected one argument.");const b=l[1];if(typeof b!="object"||Array.isArray(b))return h.error("Collator options argument must be an object.");const E=h.parse(b["case-sensitive"]!==void 0&&b["case-sensitive"],1,Xn);if(!E)return null;const M=h.parse(b["diacritic-sensitive"]!==void 0&&b["diacritic-sensitive"],1,Xn);if(!M)return null;let P=null;return b.locale&&(P=h.parse(b.locale,1,Rn),!P)?null:new Su(E,M,P)}evaluate(l){return new ti(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class vc{constructor(l,h,b,E,M){this.type=Rn,this.number=l,this.locale=h,this.currency=b,this.minFractionDigits=E,this.maxFractionDigits=M}static parse(l,h){if(l.length!==3)return h.error("Expected two arguments.");const b=h.parse(l[1],1,en);if(!b)return null;const E=l[2];if(typeof E!="object"||Array.isArray(E))return h.error("NumberFormat options argument must be an object.");let M=null;if(E.locale&&(M=h.parse(E.locale,1,Rn),!M))return null;let P=null;if(E.currency&&(P=h.parse(E.currency,1,Rn),!P))return null;let q=null;if(E["min-fraction-digits"]&&(q=h.parse(E["min-fraction-digits"],1,en),!q))return null;let J=null;return E["max-fraction-digits"]&&(J=h.parse(E["max-fraction-digits"],1,en),!J)?null:new vc(b,M,P,q,J)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class ql{constructor(l){this.type=rl,this.sections=l}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const b=l[1];if(!Array.isArray(b)&&typeof b=="object")return h.error("First argument must be an image or text section.");const E=[];let M=!1;for(let P=1;P<=l.length-1;++P){const q=l[P];if(M&&typeof q=="object"&&!Array.isArray(q)){M=!1;let J=null;if(q["font-scale"]&&(J=h.parse(q["font-scale"],1,en),!J))return null;let ot=null;if(q["text-font"]&&(ot=h.parse(q["text-font"],1,Xo(Rn)),!ot))return null;let ft=null;if(q["text-color"]&&(ft=h.parse(q["text-color"],1,Ra),!ft))return null;let St=null;if(q["vertical-align"]){if(typeof q["vertical-align"]=="string"&&!jn.includes(q["vertical-align"]))return h.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${q["vertical-align"]}' instead.`);if(St=h.parse(q["vertical-align"],1,Rn),!St)return null}const Vt=E[E.length-1];Vt.scale=J,Vt.font=ot,Vt.textColor=ft,Vt.verticalAlign=St}else{const J=h.parse(l[P],1,Mn);if(!J)return null;const ot=J.type.kind;if(ot!=="string"&&ot!=="value"&&ot!=="null"&&ot!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");M=!0,E.push({content:J,scale:null,font:null,textColor:null,verticalAlign:null})}}return new ql(E)}evaluate(l){return new Ln(this.sections.map((h=>{const b=h.content.evaluate(l);return zn(b)===Vi?new Zr("",b,null,null,null,h.verticalAlign?h.verticalAlign.evaluate(l):null):new Zr(jl(b),null,h.scale?h.scale.evaluate(l):null,h.font?h.font.evaluate(l).join(","):null,h.textColor?h.textColor.evaluate(l):null,h.verticalAlign?h.verticalAlign.evaluate(l):null)})))}eachChild(l){for(const h of this.sections)l(h.content),h.scale&&l(h.scale),h.font&&l(h.font),h.textColor&&l(h.textColor),h.verticalAlign&&l(h.verticalAlign)}outputDefined(){return!1}}class So{constructor(l){this.type=Vi,this.input=l}static parse(l,h){if(l.length!==2)return h.error("Expected two arguments.");const b=h.parse(l[1],1,Rn);return b?new So(b):h.error("No image name provided.")}evaluate(l){const h=this.input.evaluate(l),b=Ha.fromString(h);return b&&l.availableImages&&(b.available=l.availableImages.indexOf(h)>-1),b}eachChild(l){l(this.input)}outputDefined(){return!1}}class Fo{constructor(l){this.type=en,this.input=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const b=h.parse(l[1],1);return b?b.type.kind!=="array"&&b.type.kind!=="string"&&b.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${Mi(b.type)} instead.`):new Fo(b):null}evaluate(l){const h=this.input.evaluate(l);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new Bi(`Expected value to be of type string or array, but found ${Mi(zn(h))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Ja=8192;function hu(f,l){const h=(180+f[0])/360,b=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f[1]*Math.PI/360)))/360,E=Math.pow(2,l.z);return[Math.round(h*E*Ja),Math.round(b*E*Ja)]}function $u(f,l){const h=Math.pow(2,l.z);return[(E=(f[0]/Ja+l.x)/h,360*E-180),(b=(f[1]/Ja+l.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*b)*Math.PI/180))-90)];var b,E}function oo(f,l){f[0]=Math.min(f[0],l[0]),f[1]=Math.min(f[1],l[1]),f[2]=Math.max(f[2],l[0]),f[3]=Math.max(f[3],l[1])}function bc(f,l){return!(f[0]<=l[0]||f[2]>=l[2]||f[1]<=l[1]||f[3]>=l[3])}function Uu(f,l,h){const b=f[0]-l[0],E=f[1]-l[1],M=f[0]-h[0],P=f[1]-h[1];return b*P-M*E==0&&b*M<=0&&E*P<=0}function il(f,l,h,b){return(E=[b[0]-h[0],b[1]-h[1]])[0]*(M=[l[0]-f[0],l[1]-f[1]])[1]-E[1]*M[0]!=0&&!(!Gl(f,l,h,b)||!Gl(h,b,f,l));var E,M}function ws(f,l,h){for(const b of h)for(let E=0;E<b.length-1;++E)if(il(f,l,b[E],b[E+1]))return!0;return!1}function Zs(f,l,h=!1){let b=!1;for(const q of l)for(let J=0;J<q.length-1;J++){if(Uu(f,q[J],q[J+1]))return h;(M=q[J])[1]>(E=f)[1]!=(P=q[J+1])[1]>E[1]&&E[0]<(P[0]-M[0])*(E[1]-M[1])/(P[1]-M[1])+M[0]&&(b=!b)}var E,M,P;return b}function mh(f,l){for(const h of l)if(Zs(f,h))return!0;return!1}function Hc(f,l){for(const h of f)if(!Zs(h,l))return!1;for(let h=0;h<f.length-1;++h)if(ws(f[h],f[h+1],l))return!1;return!0}function qu(f,l){for(const h of l)if(Hc(f,h))return!0;return!1}function Gl(f,l,h,b){const E=b[0]-h[0],M=b[1]-h[1],P=(f[0]-h[0])*M-E*(f[1]-h[1]),q=(l[0]-h[0])*M-E*(l[1]-h[1]);return P>0&&q<0||P<0&&q>0}function jo(f,l,h){const b=[];for(let E=0;E<f.length;E++){const M=[];for(let P=0;P<f[E].length;P++){const q=hu(f[E][P],h);oo(l,q),M.push(q)}b.push(M)}return b}function Ss(f,l,h){const b=[];for(let E=0;E<f.length;E++){const M=jo(f[E],l,h);b.push(M)}return b}function Gu(f,l,h,b){if(f[0]<h[0]||f[0]>h[2]){const E=.5*b;let M=f[0]-h[0]>E?-b:h[0]-f[0]>E?b:0;M===0&&(M=f[0]-h[2]>E?-b:h[2]-f[0]>E?b:0),f[0]+=M}oo(l,f)}function Es(f,l,h,b){const E=Math.pow(2,b.z)*Ja,M=[b.x*Ja,b.y*Ja],P=[];for(const q of f)for(const J of q){const ot=[J.x+M[0],J.y+M[1]];Gu(ot,l,h,E),P.push(ot)}return P}function Hu(f,l,h,b){const E=Math.pow(2,b.z)*Ja,M=[b.x*Ja,b.y*Ja],P=[];for(const J of f){const ot=[];for(const ft of J){const St=[ft.x+M[0],ft.y+M[1]];oo(l,St),ot.push(St)}P.push(ot)}if(l[2]-l[0]<=E/2){(q=l)[0]=q[1]=1/0,q[2]=q[3]=-1/0;for(const J of P)for(const ot of J)Gu(ot,l,h,E)}var q;return P}class Ps{constructor(l,h){this.type=Xn,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Tl(l[1])){const b=l[1];if(b.type==="FeatureCollection"){const E=[];for(const M of b.features){const{type:P,coordinates:q}=M.geometry;P==="Polygon"&&E.push(q),P==="MultiPolygon"&&E.push(...q)}if(E.length)return new Ps(b,{type:"MultiPolygon",coordinates:E})}else if(b.type==="Feature"){const E=b.geometry.type;if(E==="Polygon"||E==="MultiPolygon")return new Ps(b,b.geometry)}else if(b.type==="Polygon"||b.type==="MultiPolygon")return new Ps(b,b)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,b){const E=[1/0,1/0,-1/0,-1/0],M=[1/0,1/0,-1/0,-1/0],P=h.canonicalID();if(b.type==="Polygon"){const q=jo(b.coordinates,M,P),J=Es(h.geometry(),E,M,P);if(!bc(E,M))return!1;for(const ot of J)if(!Zs(ot,q))return!1}if(b.type==="MultiPolygon"){const q=Ss(b.coordinates,M,P),J=Es(h.geometry(),E,M,P);if(!bc(E,M))return!1;for(const ot of J)if(!mh(ot,q))return!1}return!0})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,b){const E=[1/0,1/0,-1/0,-1/0],M=[1/0,1/0,-1/0,-1/0],P=h.canonicalID();if(b.type==="Polygon"){const q=jo(b.coordinates,M,P),J=Hu(h.geometry(),E,M,P);if(!bc(E,M))return!1;for(const ot of J)if(!Hc(ot,q))return!1}if(b.type==="MultiPolygon"){const q=Ss(b.coordinates,M,P),J=Hu(h.geometry(),E,M,P);if(!bc(E,M))return!1;for(const ot of J)if(!qu(ot,q))return!1}return!0})(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let du=class{constructor(f=[],l=(h,b)=>h<b?-1:h>b?1:0){if(this.data=f,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(f){this.data.push(f),this._up(this.length++)}pop(){if(this.length===0)return;const f=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),f}peek(){return this.data[0]}_up(f){const{data:l,compare:h}=this,b=l[f];for(;f>0;){const E=f-1>>1,M=l[E];if(h(b,M)>=0)break;l[f]=M,f=E}l[f]=b}_down(f){const{data:l,compare:h}=this,b=this.length>>1,E=l[f];for(;f<b;){let M=1+(f<<1);const P=M+1;if(P<this.length&&h(l[P],l[M])<0&&(M=P),h(l[M],E)>=0)break;l[f]=l[M],f=M}l[f]=E}};function Eo(f,l,h=0,b=f.length-1,E=pu){for(;b>h;){if(b-h>600){const J=b-h+1,ot=l-h+1,ft=Math.log(J),St=.5*Math.exp(2*ft/3),Vt=.5*Math.sqrt(ft*St*(J-St)/J)*(ot-J/2<0?-1:1);Eo(f,l,Math.max(h,Math.floor(l-ot*St/J+Vt)),Math.min(b,Math.floor(l+(J-ot)*St/J+Vt)),E)}const M=f[l];let P=h,q=b;for(fu(f,h,l),E(f[b],M)>0&&fu(f,h,b);P<q;){for(fu(f,P,q),P++,q--;E(f[P],M)<0;)P++;for(;E(f[q],M)>0;)q--}E(f[h],M)===0?fu(f,h,q):(q++,fu(f,q,b)),q<=l&&(h=q+1),l<=q&&(b=q-1)}}function fu(f,l,h){const b=f[l];f[l]=f[h],f[h]=b}function pu(f,l){return f<l?-1:f>l?1:0}function Al(f,l){if(f.length<=1)return[f];const h=[];let b,E;for(const M of f){const P=Xc(M);P!==0&&(M.area=Math.abs(P),E===void 0&&(E=P<0),E===P<0?(b&&h.push(b),b=[M]):b.push(M))}if(b&&h.push(b),l>1)for(let M=0;M<h.length;M++)h[M].length<=l||(Eo(h[M],l,1,h[M].length-1,_c),h[M]=h[M].slice(0,l));return h}function _c(f,l){return l.area-f.area}function Xc(f){let l=0;for(let h,b,E=0,M=f.length,P=M-1;E<M;P=E++)h=f[E],b=f[P],l+=(b.x-h.x)*(h.y+b.y);return l}const Eu=1/298.257223563,xc=Eu*(2-Eu),Ts=Math.PI/180;class lr{constructor(l){const h=6378.137*Ts*1e3,b=Math.cos(l*Ts),E=1/(1-xc*(1-b*b)),M=Math.sqrt(E);this.kx=h*M*b,this.ky=h*M*E*(1-xc)}distance(l,h){const b=this.wrap(l[0]-h[0])*this.kx,E=(l[1]-h[1])*this.ky;return Math.sqrt(b*b+E*E)}pointOnLine(l,h){let b,E,M,P,q=1/0;for(let J=0;J<l.length-1;J++){let ot=l[J][0],ft=l[J][1],St=this.wrap(l[J+1][0]-ot)*this.kx,Vt=(l[J+1][1]-ft)*this.ky,Gt=0;St===0&&Vt===0||(Gt=(this.wrap(h[0]-ot)*this.kx*St+(h[1]-ft)*this.ky*Vt)/(St*St+Vt*Vt),Gt>1?(ot=l[J+1][0],ft=l[J+1][1]):Gt>0&&(ot+=St/this.kx*Gt,ft+=Vt/this.ky*Gt)),St=this.wrap(h[0]-ot)*this.kx,Vt=(h[1]-ft)*this.ky;const Wt=St*St+Vt*Vt;Wt<q&&(q=Wt,b=ot,E=ft,M=J,P=Gt)}return{point:[b,E],index:M,t:Math.max(0,Math.min(1,P))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function mr(f,l){return l[0]-f[0]}function An(f){return f[1]-f[0]+1}function Dn(f,l){return f[1]>=f[0]&&f[1]<l}function Ni(f,l){if(f[0]>f[1])return[null,null];const h=An(f);if(l){if(h===2)return[f,null];const E=Math.floor(h/2);return[[f[0],f[0]+E],[f[0]+E,f[1]]]}if(h===1)return[f,null];const b=Math.floor(h/2)-1;return[[f[0],f[0]+b],[f[0]+b+1,f[1]]]}function Vn(f,l){if(!Dn(l,f.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let b=l[0];b<=l[1];++b)oo(h,f[b]);return h}function C(f){const l=[1/0,1/0,-1/0,-1/0];for(const h of f)for(const b of h)oo(l,b);return l}function m(f){return f[0]!==-1/0&&f[1]!==-1/0&&f[2]!==1/0&&f[3]!==1/0}function y(f,l,h){if(!m(f)||!m(l))return NaN;let b=0,E=0;return f[2]<l[0]&&(b=l[0]-f[2]),f[0]>l[2]&&(b=f[0]-l[2]),f[1]>l[3]&&(E=f[1]-l[3]),f[3]<l[1]&&(E=l[1]-f[3]),h.distance([0,0],[b,E])}function T(f,l,h){const b=h.pointOnLine(l,f);return h.distance(f,b.point)}function F(f,l,h,b,E){const M=Math.min(T(f,[h,b],E),T(l,[h,b],E)),P=Math.min(T(h,[f,l],E),T(b,[f,l],E));return Math.min(M,P)}function nt(f,l,h,b,E){if(!Dn(l,f.length)||!Dn(b,h.length))return 1/0;let M=1/0;for(let P=l[0];P<l[1];++P){const q=f[P],J=f[P+1];for(let ot=b[0];ot<b[1];++ot){const ft=h[ot],St=h[ot+1];if(il(q,J,ft,St))return 0;M=Math.min(M,F(q,J,ft,St,E))}}return M}function xt(f,l,h,b,E){if(!Dn(l,f.length)||!Dn(b,h.length))return NaN;let M=1/0;for(let P=l[0];P<=l[1];++P)for(let q=b[0];q<=b[1];++q)if(M=Math.min(M,E.distance(f[P],h[q])),M===0)return M;return M}function Dt(f,l,h){if(Zs(f,l,!0))return 0;let b=1/0;for(const E of l){const M=E[0],P=E[E.length-1];if(M!==P&&(b=Math.min(b,T(f,[P,M],h)),b===0))return b;const q=h.pointOnLine(E,f);if(b=Math.min(b,h.distance(f,q.point)),b===0)return b}return b}function re(f,l,h,b){if(!Dn(l,f.length))return NaN;for(let M=l[0];M<=l[1];++M)if(Zs(f[M],h,!0))return 0;let E=1/0;for(let M=l[0];M<l[1];++M){const P=f[M],q=f[M+1];for(const J of h)for(let ot=0,ft=J.length,St=ft-1;ot<ft;St=ot++){const Vt=J[St],Gt=J[ot];if(il(P,q,Vt,Gt))return 0;E=Math.min(E,F(P,q,Vt,Gt,b))}}return E}function _e(f,l){for(const h of f)for(const b of h)if(Zs(b,l,!0))return!0;return!1}function sr(f,l,h,b=1/0){const E=C(f),M=C(l);if(b!==1/0&&y(E,M,h)>=b)return b;if(bc(E,M)){if(_e(f,l))return 0}else if(_e(l,f))return 0;let P=1/0;for(const q of f)for(let J=0,ot=q.length,ft=ot-1;J<ot;ft=J++){const St=q[ft],Vt=q[J];for(const Gt of l)for(let Wt=0,te=Gt.length,he=te-1;Wt<te;he=Wt++){const Ee=Gt[he],Je=Gt[Wt];if(il(St,Vt,Ee,Je))return 0;P=Math.min(P,F(St,Vt,Ee,Je,h))}}return P}function _r(f,l,h,b,E,M){if(!M)return;const P=y(Vn(b,M),E,h);P<l&&f.push([P,M,[0,0]])}function tn(f,l,h,b,E,M,P){if(!M||!P)return;const q=y(Vn(b,M),Vn(E,P),h);q<l&&f.push([q,M,P])}function In(f,l,h,b,E=1/0){let M=Math.min(b.distance(f[0],h[0][0]),E);if(M===0)return M;const P=new du([[0,[0,f.length-1],[0,0]]],mr),q=C(h);for(;P.length>0;){const J=P.pop();if(J[0]>=M)continue;const ot=J[1],ft=l?50:100;if(An(ot)<=ft){if(!Dn(ot,f.length))return NaN;if(l){const St=re(f,ot,h,b);if(isNaN(St)||St===0)return St;M=Math.min(M,St)}else for(let St=ot[0];St<=ot[1];++St){const Vt=Dt(f[St],h,b);if(M=Math.min(M,Vt),M===0)return 0}}else{const St=Ni(ot,l);_r(P,M,b,f,q,St[0]),_r(P,M,b,f,q,St[1])}}return M}function Zn(f,l,h,b,E,M=1/0){let P=Math.min(M,E.distance(f[0],h[0]));if(P===0)return P;const q=new du([[0,[0,f.length-1],[0,h.length-1]]],mr);for(;q.length>0;){const J=q.pop();if(J[0]>=P)continue;const ot=J[1],ft=J[2],St=l?50:100,Vt=b?50:100;if(An(ot)<=St&&An(ft)<=Vt){if(!Dn(ot,f.length)&&Dn(ft,h.length))return NaN;let Gt;if(l&&b)Gt=nt(f,ot,h,ft,E),P=Math.min(P,Gt);else if(l&&!b){const Wt=f.slice(ot[0],ot[1]+1);for(let te=ft[0];te<=ft[1];++te)if(Gt=T(h[te],Wt,E),P=Math.min(P,Gt),P===0)return P}else if(!l&&b){const Wt=h.slice(ft[0],ft[1]+1);for(let te=ot[0];te<=ot[1];++te)if(Gt=T(f[te],Wt,E),P=Math.min(P,Gt),P===0)return P}else Gt=xt(f,ot,h,ft,E),P=Math.min(P,Gt)}else{const Gt=Ni(ot,l),Wt=Ni(ft,b);tn(q,P,E,f,h,Gt[0],Wt[0]),tn(q,P,E,f,h,Gt[0],Wt[1]),tn(q,P,E,f,h,Gt[1],Wt[0]),tn(q,P,E,f,h,Gt[1],Wt[1])}}return P}function hi(f){return f.type==="MultiPolygon"?f.coordinates.map((l=>({type:"Polygon",coordinates:l}))):f.type==="MultiLineString"?f.coordinates.map((l=>({type:"LineString",coordinates:l}))):f.type==="MultiPoint"?f.coordinates.map((l=>({type:"Point",coordinates:l}))):[f]}class Yn{constructor(l,h){this.type=en,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Tl(l[1])){const b=l[1];if(b.type==="FeatureCollection")return new Yn(b,b.features.map((E=>hi(E.geometry))).flat());if(b.type==="Feature")return new Yn(b,hi(b.geometry));if("type"in b&&"coordinates"in b)return new Yn(b,hi(b))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,b){const E=h.geometry(),M=E.flat().map((J=>$u([J.x,J.y],h.canonical)));if(E.length===0)return NaN;const P=new lr(M[0][1]);let q=1/0;for(const J of b){switch(J.type){case"Point":q=Math.min(q,Zn(M,!1,[J.coordinates],!1,P,q));break;case"LineString":q=Math.min(q,Zn(M,!1,J.coordinates,!0,P,q));break;case"Polygon":q=Math.min(q,In(M,!1,J.coordinates,P,q))}if(q===0)return q}return q})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,b){const E=h.geometry(),M=E.flat().map((J=>$u([J.x,J.y],h.canonical)));if(E.length===0)return NaN;const P=new lr(M[0][1]);let q=1/0;for(const J of b){switch(J.type){case"Point":q=Math.min(q,Zn(M,!0,[J.coordinates],!1,P,q));break;case"LineString":q=Math.min(q,Zn(M,!0,J.coordinates,!0,P,q));break;case"Polygon":q=Math.min(q,In(M,!0,J.coordinates,P,q))}if(q===0)return q}return q})(l,this.geometries);if(l.geometryType()==="Polygon")return(function(h,b){const E=h.geometry();if(E.length===0||E[0].length===0)return NaN;const M=Al(E,0).map((J=>J.map((ot=>ot.map((ft=>$u([ft.x,ft.y],h.canonical))))))),P=new lr(M[0][0][0][1]);let q=1/0;for(const J of b)for(const ot of M){switch(J.type){case"Point":q=Math.min(q,In([J.coordinates],!1,ot,P,q));break;case"LineString":q=Math.min(q,In(J.coordinates,!0,ot,P,q));break;case"Polygon":q=Math.min(q,sr(ot,J.coordinates,P,q))}if(q===0)return q}return q})(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Hn{constructor(l){this.type=Mn,this.key=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const b=l[1];return b==null?h.error("Global state property must be defined."):typeof b!="string"?h.error(`Global state property must be string, but found ${typeof l[1]} instead.`):new Hn(b)}evaluate(l){var h;const b=(h=l.globals)===null||h===void 0?void 0:h.globalState;return b&&Object.keys(b).length!==0?Fe(b,this.key):null}eachChild(){}outputDefined(){return!1}}const fa={"==":$l,"!=":wu,">":Ul,"<":Ic,">=":po,"<=":Rc,array:fo,at:Ba,boolean:fo,case:ve,coalesce:$i,collator:Su,format:ql,image:So,in:zo,"index-of":ut,interpolate:wi,"interpolate-hcl":wi,"interpolate-lab":wi,length:Fo,let:wo,literal:No,match:Yt,number:fo,"number-format":vc,object:fo,slice:Xe,step:Yr,string:fo,"to-boolean":Ms,"to-color":Ms,"to-number":Ms,"to-string":Ms,var:Bo,within:Ps,distance:Yn,"global-state":Hn};class Ui{constructor(l,h,b,E){this.name=l,this.type=h,this._evaluate=b,this.args=E}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,h){const b=l[0],E=Ui.definitions[b];if(!E)return h.error(`Unknown expression "${b}". If you wanted a literal array, use ["literal", [...]].`,0);const M=Array.isArray(E)?E[0]:E.type,P=Array.isArray(E)?[[E[1],E[2]]]:E.overloads,q=P.filter((([ot])=>!Array.isArray(ot)||ot.length===l.length-1));let J=null;for(const[ot,ft]of q){J=new Vl(h.registry,Tu,h.path,null,h.scope);const St=[];let Vt=!1;for(let Gt=1;Gt<l.length;Gt++){const Wt=l[Gt],te=Array.isArray(ot)?ot[Gt-1]:ot.type,he=J.parse(Wt,1+St.length,te);if(!he){Vt=!0;break}St.push(he)}if(!Vt)if(Array.isArray(ot)&&ot.length!==St.length)J.error(`Expected ${ot.length} arguments, but found ${St.length} instead.`);else{for(let Gt=0;Gt<St.length;Gt++){const Wt=Array.isArray(ot)?ot[Gt]:ot.type,te=St[Gt];J.concat(Gt+1).checkSubtype(Wt,te.type)}if(J.errors.length===0)return new Ui(b,M,ft,St)}}if(q.length===1)h.errors.push(...J.errors);else{const ot=(q.length?q:P).map((([St])=>{return Vt=St,Array.isArray(Vt)?`(${Vt.map(Mi).join(", ")})`:`(${Mi(Vt.type)}...)`;var Vt})).join(" | "),ft=[];for(let St=1;St<l.length;St++){const Vt=h.parse(l[St],1+ft.length);if(!Vt)return null;ft.push(Mi(Vt.type))}h.error(`Expected arguments of type ${ot}, but found (${ft.join(", ")}) instead.`)}return null}static register(l,h){Ui.definitions=h;for(const b in h)l[b]=Ui}}function $a(f,[l,h,b,E]){l=l.evaluate(f),h=h.evaluate(f),b=b.evaluate(f);const M=E?E.evaluate(f):1,P=ei(l,h,b,M);if(P)throw new Bi(P);return new Nn(l/255,h/255,b/255,M,!1)}function Vo(f,l){return f in l}function so(f,l){const h=l[f];return h===void 0?null:h}function ls(f){return{type:f}}function Tu(f){if(f instanceof Bo)return Tu(f.boundExpression);if(f instanceof Ui&&f.name==="error"||f instanceof Su||f instanceof Ps||f instanceof Yn||f instanceof Hn)return!1;const l=f instanceof Ms||f instanceof fo;let h=!0;return f.eachChild((b=>{h=l?h&&Tu(b):h&&b instanceof No})),!!h&&Cu(f)&&ml(f,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Cu(f){if(f instanceof Ui&&(f.name==="get"&&f.args.length===1||f.name==="feature-state"||f.name==="has"&&f.args.length===1||f.name==="properties"||f.name==="geometry-type"||f.name==="id"||/^filter-/.test(f.name))||f instanceof Ps||f instanceof Yn)return!1;let l=!0;return f.eachChild((h=>{l&&!Cu(h)&&(l=!1)})),l}function kl(f){if(f instanceof Ui&&f.name==="feature-state")return!1;let l=!0;return f.eachChild((h=>{l&&!kl(h)&&(l=!1)})),l}function ml(f,l){if(f instanceof Ui&&l.indexOf(f.name)>=0)return!1;let h=!0;return f.eachChild((b=>{h&&!ml(b,l)&&(h=!1)})),h}function Au(f){return{result:"success",value:f}}function Il(f){return{result:"error",value:f}}function To(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function Cs(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function Wc(f){return!!f.expression&&f.expression.interpolated}function mi(f){return f instanceof Number?"number":f instanceof String?"string":f instanceof Boolean?"boolean":Array.isArray(f)?"array":f===null?"null":typeof f}function Xu(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)&&zn(f)===Na}function Hl(f){return f}function sf(f,l){const h=f.stops&&typeof f.stops[0][0]=="object",b=h||!(h||f.property!==void 0),E=f.type||(Wc(l)?"exponential":"interval"),M=(function(ft){switch(ft.type){case"color":return Nn.parse;case"padding":return yi.parse;case"numberArray":return na.parse;case"colorArray":return Ii.parse;default:return null}})(l);if(M&&((f=fi({},f)).stops&&(f.stops=f.stops.map((ft=>[ft[0],M(ft[1])]))),f.default=M(f.default?f.default:l.default)),f.colorSpace&&(P=f.colorSpace)!=="rgb"&&P!=="hcl"&&P!=="lab")throw new Error(`Unknown color space: "${f.colorSpace}"`);var P;const q=(function(ft){switch(ft){case"exponential":return Gf;case"interval":return qf;case"categorical":return Jh;case"identity":return Ed;default:throw new Error(`Unknown function type "${ft}"`)}})(E);let J,ot;if(E==="categorical"){J=Object.create(null);for(const ft of f.stops)J[ft[0]]=ft[1];ot=typeof f.stops[0][0]}if(h){const ft={},St=[];for(let Wt=0;Wt<f.stops.length;Wt++){const te=f.stops[Wt],he=te[0].zoom;ft[he]===void 0&&(ft[he]={zoom:he,type:f.type,property:f.property,default:f.default,stops:[]},St.push(he)),ft[he].stops.push([te[0].value,te[1]])}const Vt=[];for(const Wt of St)Vt.push([ft[Wt].zoom,sf(ft[Wt],l)]);const Gt={name:"linear"};return{kind:"composite",interpolationType:Gt,interpolationFactor:wi.interpolationFactor.bind(void 0,Gt),zoomStops:Vt.map((Wt=>Wt[0])),evaluate:({zoom:Wt},te)=>Gf({stops:Vt,base:f.base},l,Wt).evaluate(Wt,te)}}if(b){const ft=E==="exponential"?{name:"exponential",base:f.base!==void 0?f.base:1}:null;return{kind:"camera",interpolationType:ft,interpolationFactor:wi.interpolationFactor.bind(void 0,ft),zoomStops:f.stops.map((St=>St[0])),evaluate:({zoom:St})=>q(f,l,St,J,ot)}}return{kind:"source",evaluate(ft,St){const Vt=St&&St.properties?St.properties[f.property]:void 0;return Vt===void 0?gh(f.default,l.default):q(f,l,Vt,J,ot)}}}function gh(f,l,h){return f!==void 0?f:l!==void 0?l:h!==void 0?h:void 0}function Jh(f,l,h,b,E){return gh(typeof h===E?b[h]:void 0,f.default,l.default)}function qf(f,l,h){if(mi(h)!=="number")return gh(f.default,l.default);const b=f.stops.length;if(b===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[b-1][0])return f.stops[b-1][1];const E=pr(f.stops.map((M=>M[0])),h);return f.stops[E][1]}function Gf(f,l,h){const b=f.base!==void 0?f.base:1;if(mi(h)!=="number")return gh(f.default,l.default);const E=f.stops.length;if(E===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[E-1][0])return f.stops[E-1][1];const M=pr(f.stops.map((ft=>ft[0])),h),P=(function(ft,St,Vt,Gt){const Wt=Gt-Vt,te=ft-Vt;return Wt===0?0:St===1?te/Wt:(Math.pow(St,te)-1)/(Math.pow(St,Wt)-1)})(h,b,f.stops[M][0],f.stops[M+1][0]),q=f.stops[M][1],J=f.stops[M+1][1],ot=Pi[l.type]||Hl;return typeof q.evaluate=="function"?{evaluate(...ft){const St=q.evaluate.apply(void 0,ft),Vt=J.evaluate.apply(void 0,ft);if(St!==void 0&&Vt!==void 0)return ot(St,Vt,P,f.colorSpace)}}:ot(q,J,P,f.colorSpace)}function Ed(f,l,h){switch(l.type){case"color":h=Nn.parse(h);break;case"formatted":h=Ln.fromString(h.toString());break;case"resolvedImage":h=Ha.fromString(h.toString());break;case"padding":h=yi.parse(h);break;case"colorArray":h=Ii.parse(h);break;case"numberArray":h=na.parse(h);break;default:mi(h)===l.type||l.type==="enum"&&l.values[h]||(h=void 0)}return gh(h,f.default,l.default)}Ui.register(fa,{error:[{kind:"error"},[Rn],(f,[l])=>{throw new Bi(l.evaluate(f))}],typeof:[Rn,[Mn],(f,[l])=>Mi(zn(l.evaluate(f)))],"to-rgba":[Xo(en,4),[Ra],(f,[l])=>{const[h,b,E,M]=l.evaluate(f).rgb;return[255*h,255*b,255*E,M]}],rgb:[Ra,[en,en,en],$a],rgba:[Ra,[en,en,en,en],$a],has:{type:Xn,overloads:[[[Rn],(f,[l])=>Vo(l.evaluate(f),f.properties())],[[Rn,Na],(f,[l,h])=>Vo(l.evaluate(f),h.evaluate(f))]]},get:{type:Mn,overloads:[[[Rn],(f,[l])=>so(l.evaluate(f),f.properties())],[[Rn,Na],(f,[l,h])=>so(l.evaluate(f),h.evaluate(f))]]},"feature-state":[Mn,[Rn],(f,[l])=>so(l.evaluate(f),f.featureState||{})],properties:[Na,[],f=>f.properties()],"geometry-type":[Rn,[],f=>f.geometryType()],id:[Mn,[],f=>f.id()],zoom:[en,[],f=>f.globals.zoom],"heatmap-density":[en,[],f=>f.globals.heatmapDensity||0],elevation:[en,[],f=>f.globals.elevation||0],"line-progress":[en,[],f=>f.globals.lineProgress||0],accumulated:[Mn,[],f=>f.globals.accumulated===void 0?null:f.globals.accumulated],"+":[en,ls(en),(f,l)=>{let h=0;for(const b of l)h+=b.evaluate(f);return h}],"*":[en,ls(en),(f,l)=>{let h=1;for(const b of l)h*=b.evaluate(f);return h}],"-":{type:en,overloads:[[[en,en],(f,[l,h])=>l.evaluate(f)-h.evaluate(f)],[[en],(f,[l])=>-l.evaluate(f)]]},"/":[en,[en,en],(f,[l,h])=>l.evaluate(f)/h.evaluate(f)],"%":[en,[en,en],(f,[l,h])=>l.evaluate(f)%h.evaluate(f)],ln2:[en,[],()=>Math.LN2],pi:[en,[],()=>Math.PI],e:[en,[],()=>Math.E],"^":[en,[en,en],(f,[l,h])=>Math.pow(l.evaluate(f),h.evaluate(f))],sqrt:[en,[en],(f,[l])=>Math.sqrt(l.evaluate(f))],log10:[en,[en],(f,[l])=>Math.log(l.evaluate(f))/Math.LN10],ln:[en,[en],(f,[l])=>Math.log(l.evaluate(f))],log2:[en,[en],(f,[l])=>Math.log(l.evaluate(f))/Math.LN2],sin:[en,[en],(f,[l])=>Math.sin(l.evaluate(f))],cos:[en,[en],(f,[l])=>Math.cos(l.evaluate(f))],tan:[en,[en],(f,[l])=>Math.tan(l.evaluate(f))],asin:[en,[en],(f,[l])=>Math.asin(l.evaluate(f))],acos:[en,[en],(f,[l])=>Math.acos(l.evaluate(f))],atan:[en,[en],(f,[l])=>Math.atan(l.evaluate(f))],min:[en,ls(en),(f,l)=>Math.min(...l.map((h=>h.evaluate(f))))],max:[en,ls(en),(f,l)=>Math.max(...l.map((h=>h.evaluate(f))))],abs:[en,[en],(f,[l])=>Math.abs(l.evaluate(f))],round:[en,[en],(f,[l])=>{const h=l.evaluate(f);return h<0?-Math.round(-h):Math.round(h)}],floor:[en,[en],(f,[l])=>Math.floor(l.evaluate(f))],ceil:[en,[en],(f,[l])=>Math.ceil(l.evaluate(f))],"filter-==":[Xn,[Rn,Mn],(f,[l,h])=>f.properties()[l.value]===h.value],"filter-id-==":[Xn,[Mn],(f,[l])=>f.id()===l.value],"filter-type-==":[Xn,[Rn],(f,[l])=>f.geometryType()===l.value],"filter-<":[Xn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],E=h.value;return typeof b==typeof E&&b<E}],"filter-id-<":[Xn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h<b}],"filter->":[Xn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],E=h.value;return typeof b==typeof E&&b>E}],"filter-id->":[Xn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h>b}],"filter-<=":[Xn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],E=h.value;return typeof b==typeof E&&b<=E}],"filter-id-<=":[Xn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h<=b}],"filter->=":[Xn,[Rn,Mn],(f,[l,h])=>{const b=f.properties()[l.value],E=h.value;return typeof b==typeof E&&b>=E}],"filter-id->=":[Xn,[Mn],(f,[l])=>{const h=f.id(),b=l.value;return typeof h==typeof b&&h>=b}],"filter-has":[Xn,[Mn],(f,[l])=>l.value in f.properties()],"filter-has-id":[Xn,[],f=>f.id()!==null&&f.id()!==void 0],"filter-type-in":[Xn,[Xo(Rn)],(f,[l])=>l.value.indexOf(f.geometryType())>=0],"filter-id-in":[Xn,[Xo(Mn)],(f,[l])=>l.value.indexOf(f.id())>=0],"filter-in-small":[Xn,[Rn,Xo(Mn)],(f,[l,h])=>h.value.indexOf(f.properties()[l.value])>=0],"filter-in-large":[Xn,[Rn,Xo(Mn)],(f,[l,h])=>(function(b,E,M,P){for(;M<=P;){const q=M+P>>1;if(E[q]===b)return!0;E[q]>b?P=q-1:M=q+1}return!1})(f.properties()[l.value],h.value,0,h.value.length-1)],all:{type:Xn,overloads:[[[Xn,Xn],(f,[l,h])=>l.evaluate(f)&&h.evaluate(f)],[ls(Xn),(f,l)=>{for(const h of l)if(!h.evaluate(f))return!1;return!0}]]},any:{type:Xn,overloads:[[[Xn,Xn],(f,[l,h])=>l.evaluate(f)||h.evaluate(f)],[ls(Xn),(f,l)=>{for(const h of l)if(h.evaluate(f))return!0;return!1}]]},"!":[Xn,[Xn],(f,[l])=>!l.evaluate(f)],"is-supported-script":[Xn,[Rn],(f,[l])=>{const h=f.globals&&f.globals.isSupportedScript;return!h||h(l.evaluate(f))}],upcase:[Rn,[Rn],(f,[l])=>l.evaluate(f).toUpperCase()],downcase:[Rn,[Rn],(f,[l])=>l.evaluate(f).toLowerCase()],concat:[Rn,ls(Mn),(f,l)=>l.map((h=>jl(h.evaluate(f)))).join("")],"resolved-locale":[Rn,[io],(f,[l])=>l.evaluate(f).resolvedLocale()]});class Td{constructor(l,h){this.expression=l,this._warningHistory={},this._evaluator=new xu,this._defaultValue=h?(function(b){if(b.type==="color"&&Xu(b.default))return new Nn(0,0,0,0);switch(b.type){case"color":return Nn.parse(b.default)||null;case"padding":return yi.parse(b.default)||null;case"numberArray":return na.parse(b.default)||null;case"colorArray":return Ii.parse(b.default)||null;case"variableAnchorOffsetCollection":return Bn.parse(b.default)||null;case"projectionDefinition":return pi.parse(b.default)||null;default:return b.default===void 0?null:b.default}})(h):null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(l,h,b,E,M,P){return this._evaluator.globals=l,this._evaluator.feature=h,this._evaluator.featureState=b,this._evaluator.canonical=E,this._evaluator.availableImages=M||null,this._evaluator.formattedSection=P,this.expression.evaluate(this._evaluator)}evaluate(l,h,b,E,M,P){this._evaluator.globals=l,this._evaluator.feature=h||null,this._evaluator.featureState=b||null,this._evaluator.canonical=E,this._evaluator.availableImages=M||null,this._evaluator.formattedSection=P||null;try{const q=this.expression.evaluate(this._evaluator);if(q==null||typeof q=="number"&&q!=q)return this._defaultValue;if(this._enumValues&&!(q in this._enumValues))throw new Bi(`Expected value to be one of ${Object.keys(this._enumValues).map((J=>JSON.stringify(J))).join(", ")}, but found ${JSON.stringify(q)} instead.`);return q}catch(q){return this._warningHistory[q.message]||(this._warningHistory[q.message]=!0,typeof console<"u"&&console.warn(q.message)),this._defaultValue}}}function Wu(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in fa}function Dh(f,l){const h=new Vl(fa,Tu,[],l?(function(E){const M={color:Ra,string:Rn,number:en,enum:Rn,boolean:Xn,formatted:rl,padding:ra,numberArray:cu,colorArray:sa,projectionDefinition:_o,resolvedImage:Vi,variableAnchorOffsetCollection:nl};return E.type==="array"?Xo(M[E.value]||Mn,E.length):M[E.type]})(l):void 0),b=h.parse(f,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return b?Au(new Td(b,l)):Il(h.errors)}class Yc{constructor(l,h){this.kind=l,this._styleExpression=h,this.isStateDependent=l!=="constant"&&!kl(h.expression),this.globalStateRefs=wc(h.expression)}evaluateWithoutErrorHandling(l,h,b,E,M,P){return this._styleExpression.evaluateWithoutErrorHandling(l,h,b,E,M,P)}evaluate(l,h,b,E,M,P){return this._styleExpression.evaluate(l,h,b,E,M,P)}}class Cd{constructor(l,h,b,E){this.kind=l,this.zoomStops=b,this._styleExpression=h,this.isStateDependent=l!=="camera"&&!kl(h.expression),this.globalStateRefs=wc(h.expression),this.interpolationType=E}evaluateWithoutErrorHandling(l,h,b,E,M,P){return this._styleExpression.evaluateWithoutErrorHandling(l,h,b,E,M,P)}evaluate(l,h,b,E,M,P){return this._styleExpression.evaluate(l,h,b,E,M,P)}interpolationFactor(l,h,b){return this.interpolationType?wi.interpolationFactor(this.interpolationType,l,h,b):0}}function Ad(f,l){const h=Dh(f,l);if(h.result==="error")return h;const b=h.value.expression,E=Cu(b);if(!E&&!To(l))return Il([new On("","data expressions not supported")]);const M=ml(b,["zoom"]);if(!M&&!Cs(l))return Il([new On("","zoom expressions not supported")]);const P=mu(b);return P||M?P instanceof On?Il([P]):P instanceof wi&&!Wc(l)?Il([new On("",'"interpolate" expressions cannot be used with this property')]):Au(P?new Cd(E?"camera":"composite",h.value,P.labels,P instanceof wi?P.interpolation:void 0):new Yc(E?"constant":"source",h.value)):Il([new On("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ku{constructor(l,h){this._parameters=l,this._specification=h,fi(this,sf(this._parameters,this._specification))}static deserialize(l){return new ku(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function mu(f){let l=null;if(f instanceof wo)l=mu(f.result);else if(f instanceof $i){for(const h of f.args)if(l=mu(h),l)break}else(f instanceof Yr||f instanceof wi)&&f.input instanceof Ui&&f.input.name==="zoom"&&(l=f);return l instanceof On||f.eachChild((h=>{const b=mu(h);b instanceof On?l=b:!l&&b?l=new On("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&b&&l!==b&&(l=new On("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),l}function wc(f,l=new Set){return f instanceof Hn&&l.add(f.key),f.eachChild((h=>{wc(h,l)})),l}function Iu(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(const l of f.slice(1))if(!Iu(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const ac={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function gl(f){if(f==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};Iu(f)||(f=kd(f));const l=Dh(f,ac);if(l.result==="error")throw new Error(l.value.map((h=>`${h.key}: ${h.message}`)).join(", "));return{filter:(h,b,E)=>l.value.evaluate(h,b,{},E),needGeometry:Lp(f),getGlobalStateRefs:()=>wc(l.value.expression)}}function Dg(f,l){return f<l?-1:f>l?1:0}function Lp(f){if(!Array.isArray(f))return!1;if(f[0]==="within"||f[0]==="distance")return!0;for(let l=1;l<f.length;l++)if(Lp(f[l]))return!0;return!1}function kd(f){if(!f)return!0;const l=f[0];return f.length<=1?l!=="any":l==="=="?Mp(f[1],f[2],"=="):l==="!="?wa(Mp(f[1],f[2],"==")):l==="<"||l===">"||l==="<="||l===">="?Mp(f[1],f[2],l):l==="any"?(h=f.slice(1),["any"].concat(h.map(kd))):l==="all"?["all"].concat(f.slice(1).map(kd)):l==="none"?["all"].concat(f.slice(1).map(kd).map(wa)):l==="in"?Xl(f[1],f.slice(2)):l==="!in"?wa(Xl(f[1],f.slice(2))):l==="has"?Qo(f[1]):l!=="!has"||wa(Qo(f[1]));var h}function Mp(f,l,h){switch(f){case"$type":return[`filter-type-${h}`,l];case"$id":return[`filter-id-${h}`,l];default:return[`filter-${h}`,f,l]}}function Xl(f,l){if(l.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some((h=>typeof h!=typeof l[0]))?["filter-in-large",f,["literal",l.sort(Dg)]]:["filter-in-small",f,["literal",l]]}}function Qo(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function wa(f){return["!",f]}function Wl(f){const l=typeof f;if(l==="number"||l==="boolean"||l==="string"||f==null)return JSON.stringify(f);if(Array.isArray(f)){let E="[";for(const M of f)E+=`${Wl(M)},`;return`${E}]`}const h=Object.keys(f).sort();let b="{";for(let E=0;E<h.length;E++)b+=`${JSON.stringify(h[E])}:${Wl(f[h[E]])},`;return`${b}}`}function us(f){let l="";for(const h of Wr)l+=`/${Wl(f[h])}`;return l}function Nc(f){const l=f.value;return l?[new $r(f.key,l,"constants have been deprecated as of v8")]:[]}function mo(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function yh(f){if(Array.isArray(f))return f.map(yh);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){const l={};for(const h in f)l[h]=yh(f[h]);return l}return mo(f)}function yl(f){const l=f.key,h=f.value,b=f.valueSpec||{},E=f.objectElementValidators||{},M=f.style,P=f.styleSpec,q=f.validateSpec;let J=[];const ot=mi(h);if(ot!=="object")return[new $r(l,h,`object expected, ${ot} found`)];for(const ft in h){const St=ft.split(".")[0],Vt=Fe(b,St)||b["*"];let Gt;if(Fe(E,St))Gt=E[St];else if(Fe(b,St))Gt=q;else if(E["*"])Gt=E["*"];else{if(!b["*"]){J.push(new $r(l,h[ft],`unknown property "${ft}"`));continue}Gt=q}J=J.concat(Gt({key:(l&&`${l}.`)+ft,value:h[ft],valueSpec:Vt,style:M,styleSpec:P,object:h,objectKey:ft,validateSpec:q},h))}for(const ft in b)E[ft]||b[ft].required&&b[ft].default===void 0&&h[ft]===void 0&&J.push(new $r(l,h,`missing required property "${ft}"`));return J}function vl(f){const l=f.value,h=f.valueSpec,b=f.style,E=f.styleSpec,M=f.key,P=f.arrayElementValidator||f.validateSpec;if(mi(l)!=="array")return[new $r(M,l,`array expected, ${mi(l)} found`)];if(h.length&&l.length!==h.length)return[new $r(M,l,`array length ${h.length} expected, length ${l.length} found`)];if(h["min-length"]&&l.length<h["min-length"])return[new $r(M,l,`array length at least ${h["min-length"]} expected, length ${l.length} found`)];let q={type:h.value,values:h.values};E.$version<7&&(q.function=h.function),mi(h.value)==="object"&&(q=h.value);let J=[];for(let ot=0;ot<l.length;ot++)J=J.concat(P({array:l,arrayIndex:ot,value:l[ot],valueSpec:q,validateSpec:f.validateSpec,style:b,styleSpec:E,key:`${M}[${ot}]`}));return J}function Kc(f){const l=f.key,h=f.value,b=f.valueSpec;let E=mi(h);return E==="number"&&h!=h&&(E="NaN"),E!=="number"?[new $r(l,h,`number expected, ${E} found`)]:"minimum"in b&&h<b.minimum?[new $r(l,h,`${h} is less than the minimum value ${b.minimum}`)]:"maximum"in b&&h>b.maximum?[new $r(l,h,`${h} is greater than the maximum value ${b.maximum}`)]:[]}function td(f){const l=f.valueSpec,h=mo(f.value.type);let b,E,M,P={};const q=h!=="categorical"&&f.value.property===void 0,J=!q,ot=mi(f.value.stops)==="array"&&mi(f.value.stops[0])==="array"&&mi(f.value.stops[0][0])==="object",ft=yl({key:f.key,value:f.value,valueSpec:f.styleSpec.function,validateSpec:f.validateSpec,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{stops:function(Gt){if(h==="identity")return[new $r(Gt.key,Gt.value,'identity function may not have a "stops" property')];let Wt=[];const te=Gt.value;return Wt=Wt.concat(vl({key:Gt.key,value:te,valueSpec:Gt.valueSpec,validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec,arrayElementValidator:St})),mi(te)==="array"&&te.length===0&&Wt.push(new $r(Gt.key,te,"array must have at least one stop")),Wt},default:function(Gt){return Gt.validateSpec({key:Gt.key,value:Gt.value,valueSpec:l,validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec})}}});return h==="identity"&&q&&ft.push(new $r(f.key,f.value,'missing required property "property"')),h==="identity"||f.value.stops||ft.push(new $r(f.key,f.value,'missing required property "stops"')),h==="exponential"&&f.valueSpec.expression&&!Wc(f.valueSpec)&&ft.push(new $r(f.key,f.value,"exponential functions not supported")),f.styleSpec.$version>=8&&(J&&!To(f.valueSpec)?ft.push(new $r(f.key,f.value,"property functions not supported")):q&&!Cs(f.valueSpec)&&ft.push(new $r(f.key,f.value,"zoom functions not supported"))),h!=="categorical"&&!ot||f.value.property!==void 0||ft.push(new $r(f.key,f.value,'"property" property is required')),ft;function St(Gt){let Wt=[];const te=Gt.value,he=Gt.key;if(mi(te)!=="array")return[new $r(he,te,`array expected, ${mi(te)} found`)];if(te.length!==2)return[new $r(he,te,`array length 2 expected, length ${te.length} found`)];if(ot){if(mi(te[0])!=="object")return[new $r(he,te,`object expected, ${mi(te[0])} found`)];if(te[0].zoom===void 0)return[new $r(he,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new $r(he,te,"object stop key must have value")];if(M&&M>mo(te[0].zoom))return[new $r(he,te[0].zoom,"stop zoom values must appear in ascending order")];mo(te[0].zoom)!==M&&(M=mo(te[0].zoom),E=void 0,P={}),Wt=Wt.concat(yl({key:`${he}[0]`,value:te[0],valueSpec:{zoom:{}},validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec,objectElementValidators:{zoom:Kc,value:Vt}}))}else Wt=Wt.concat(Vt({key:`${he}[0]`,value:te[0],validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec},te));return Wu(yh(te[1]))?Wt.concat([new $r(`${he}[1]`,te[1],"expressions are not allowed in function stops.")]):Wt.concat(Gt.validateSpec({key:`${he}[1]`,value:te[1],valueSpec:l,validateSpec:Gt.validateSpec,style:Gt.style,styleSpec:Gt.styleSpec}))}function Vt(Gt,Wt){const te=mi(Gt.value),he=mo(Gt.value),Ee=Gt.value!==null?Gt.value:Wt;if(b){if(te!==b)return[new $r(Gt.key,Ee,`${te} stop domain type must match previous stop domain type ${b}`)]}else b=te;if(te!=="number"&&te!=="string"&&te!=="boolean")return[new $r(Gt.key,Ee,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&h!=="categorical"){let Je=`number expected, ${te} found`;return To(l)&&h===void 0&&(Je+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new $r(Gt.key,Ee,Je)]}return h!=="categorical"||te!=="number"||isFinite(he)&&Math.floor(he)===he?h!=="categorical"&&te==="number"&&E!==void 0&&he<E?[new $r(Gt.key,Ee,"stop domain values must appear in ascending order")]:(E=he,h==="categorical"&&he in P?[new $r(Gt.key,Ee,"stop domain values must be unique")]:(P[he]=!0,[])):[new $r(Gt.key,Ee,`integer expected, found ${he}`)]}}function Zc(f){const l=(f.expressionContext==="property"?Ad:Dh)(yh(f.value),f.valueSpec);if(l.result==="error")return l.value.map((b=>new $r(`${f.key}${b.key}`,f.value,b.message)));const h=l.value.expression||l.value._styleExpression.expression;if(f.expressionContext==="property"&&f.propertyKey==="text-font"&&!h.outputDefined())return[new $r(f.key,f.value,`Invalid data expression for "${f.propertyKey}". Output values must be contained as literals within the expression.`)];if(f.expressionContext==="property"&&f.propertyType==="layout"&&!kl(h))return[new $r(f.key,f.value,'"feature-state" data expressions are not supported with layout properties.')];if(f.expressionContext==="filter"&&!kl(h))return[new $r(f.key,f.value,'"feature-state" data expressions are not supported with filters.')];if(f.expressionContext&&f.expressionContext.indexOf("cluster")===0){if(!ml(h,["zoom","feature-state"]))return[new $r(f.key,f.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(f.expressionContext==="cluster-initial"&&!Cu(h))return[new $r(f.key,f.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function lf(f){const l=f.key,h=f.value,b=mi(h);return b!=="string"?[new $r(l,h,`color expected, ${b} found`)]:Nn.parse(String(h))?[]:[new $r(l,h,`color expected, "${h}" found`)]}function Lc(f){const l=f.key,h=f.value,b=f.valueSpec,E=[];return Array.isArray(b.values)?b.values.indexOf(mo(h))===-1&&E.push(new $r(l,h,`expected one of [${b.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(b.values).indexOf(mo(h))===-1&&E.push(new $r(l,h,`expected one of [${Object.keys(b.values).join(", ")}], ${JSON.stringify(h)} found`)),E}function Mc(f){return Iu(yh(f.value))?Zc(fi({},f,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Bh(f)}function Bh(f){const l=f.value,h=f.key;if(mi(l)!=="array")return[new $r(h,l,`array expected, ${mi(l)} found`)];const b=f.styleSpec;let E,M=[];if(l.length<1)return[new $r(h,l,"filter array must have at least 1 element")];switch(M=M.concat(Lc({key:`${h}[0]`,value:l[0],valueSpec:b.filter_operator,style:f.style,styleSpec:f.styleSpec})),mo(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&mo(l[1])==="$type"&&M.push(new $r(h,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&M.push(new $r(h,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(E=mi(l[1]),E!=="string"&&M.push(new $r(`${h}[1]`,l[1],`string expected, ${E} found`)));for(let P=2;P<l.length;P++)E=mi(l[P]),mo(l[1])==="$type"?M=M.concat(Lc({key:`${h}[${P}]`,value:l[P],valueSpec:b.geometry_type,style:f.style,styleSpec:f.styleSpec})):E!=="string"&&E!=="number"&&E!=="boolean"&&M.push(new $r(`${h}[${P}]`,l[P],`string, number, or boolean expected, ${E} found`));break;case"any":case"all":case"none":for(let P=1;P<l.length;P++)M=M.concat(Bh({key:`${h}[${P}]`,value:l[P],style:f.style,styleSpec:f.styleSpec}));break;case"has":case"!has":E=mi(l[1]),l.length!==2?M.push(new $r(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):E!=="string"&&M.push(new $r(`${h}[1]`,l[1],`string expected, ${E} found`))}return M}function Sc(f,l){const h=f.key,b=f.validateSpec,E=f.style,M=f.styleSpec,P=f.value,q=f.objectKey,J=M[`${l}_${f.layerType}`];if(!J)return[];const ot=q.match(/^(.*)-transition$/);if(l==="paint"&&ot&&J[ot[1]]&&J[ot[1]].transition)return b({key:h,value:P,valueSpec:M.transition,style:E,styleSpec:M});const ft=f.valueSpec||J[q];if(!ft)return[new $r(h,P,`unknown property "${q}"`)];let St;if(mi(P)==="string"&&To(ft)&&!ft.tokens&&(St=/^{([^}]+)}$/.exec(P)))return[new $r(h,P,`"${q}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(St[1])} }\`.`)];const Vt=[];return f.layerType==="symbol"&&(q==="text-field"&&E&&!E.glyphs&&Vt.push(new $r(h,P,'use of "text-field" requires a style "glyphs" property')),q==="text-font"&&Xu(yh(P))&&mo(P.type)==="identity"&&Vt.push(new $r(h,P,'"text-font" does not support identity functions'))),Vt.concat(b({key:f.key,value:P,valueSpec:ft,style:E,styleSpec:M,expressionContext:"property",propertyType:l,propertyKey:q}))}function Qc(f){return Sc(f,"paint")}function Pc(f){return Sc(f,"layout")}function al(f){let l=[];const h=f.value,b=f.key,E=f.style,M=f.styleSpec;if(mi(h)!=="object")return[new $r(b,h,`object expected, ${mi(h)} found`)];h.type||h.ref||l.push(new $r(b,h,'either "type" or "ref" is required'));let P=mo(h.type);const q=mo(h.ref);if(h.id){const J=mo(h.id);for(let ot=0;ot<f.arrayIndex;ot++){const ft=E.layers[ot];mo(ft.id)===J&&l.push(new $r(b,h.id,`duplicate layer id "${h.id}", previously used at line ${ft.id.__line__}`))}}if("ref"in h){let J;["type","source","source-layer","filter","layout"].forEach((ot=>{ot in h&&l.push(new $r(b,h[ot],`"${ot}" is prohibited for ref layers`))})),E.layers.forEach((ot=>{mo(ot.id)===q&&(J=ot)})),J?J.ref?l.push(new $r(b,h.ref,"ref cannot reference another ref layer")):P=mo(J.type):l.push(new $r(b,h.ref,`ref layer "${q}" not found`))}else if(P!=="background")if(h.source){const J=E.sources&&E.sources[h.source],ot=J&&mo(J.type);J?ot==="vector"&&P==="raster"?l.push(new $r(b,h.source,`layer "${h.id}" requires a raster source`)):ot!=="raster-dem"&&P==="hillshade"||ot!=="raster-dem"&&P==="color-relief"?l.push(new $r(b,h.source,`layer "${h.id}" requires a raster-dem source`)):ot==="raster"&&P!=="raster"?l.push(new $r(b,h.source,`layer "${h.id}" requires a vector source`)):ot!=="vector"||h["source-layer"]?ot==="raster-dem"&&P!=="hillshade"&&P!=="color-relief"?l.push(new $r(b,h.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):P!=="line"||!h.paint||!h.paint["line-gradient"]||ot==="geojson"&&J.lineMetrics||l.push(new $r(b,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new $r(b,h,`layer "${h.id}" must specify a "source-layer"`)):l.push(new $r(b,h.source,`source "${h.source}" not found`))}else l.push(new $r(b,h,'missing required property "source"'));return l=l.concat(yl({key:b,value:h,valueSpec:M.layer,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*":()=>[],type:()=>f.validateSpec({key:`${b}.type`,value:h.type,valueSpec:M.layer.type,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,object:h,objectKey:"type"}),filter:Mc,layout:J=>yl({layer:h,key:J.key,value:J.value,style:J.style,styleSpec:J.styleSpec,validateSpec:J.validateSpec,objectElementValidators:{"*":ot=>Pc(fi({layerType:P},ot))}}),paint:J=>yl({layer:h,key:J.key,value:J.value,style:J.style,styleSpec:J.styleSpec,validateSpec:J.validateSpec,objectElementValidators:{"*":ot=>Qc(fi({layerType:P},ot))}})}})),l}function oc(f){const l=f.value,h=f.key,b=mi(l);return b!=="string"?[new $r(h,l,`string expected, ${b} found`)]:[]}const vh={promoteId:function({key:f,value:l}){if(mi(l)==="string")return oc({key:f,value:l});{const h=[];for(const b in l)h.push(...oc({key:`${f}.${b}`,value:l[b]}));return h}}};function Yl(f){const l=f.value,h=f.key,b=f.styleSpec,E=f.style,M=f.validateSpec;if(!l.type)return[new $r(h,l,'"type" is required')];const P=mo(l.type);let q;switch(P){case"vector":case"raster":return q=yl({key:h,value:l,valueSpec:b[`source_${P.replace("-","_")}`],style:f.style,styleSpec:b,objectElementValidators:vh,validateSpec:M}),q;case"raster-dem":return q=(function(J){var ot;const ft=(ot=J.sourceName)!==null&&ot!==void 0?ot:"",St=J.value,Vt=J.styleSpec,Gt=Vt.source_raster_dem,Wt=J.style;let te=[];const he=mi(St);if(St===void 0)return te;if(he!=="object")return te.push(new $r("source_raster_dem",St,`object expected, ${he} found`)),te;const Ee=mo(St.encoding)==="custom",Je=["redFactor","greenFactor","blueFactor","baseShift"],De=J.value.encoding?`"${J.value.encoding}"`:"Default";for(const Ut in St)!Ee&&Je.includes(Ut)?te.push(new $r(Ut,St[Ut],`In "${ft}": "${Ut}" is only valid when "encoding" is set to "custom". ${De} encoding found`)):Gt[Ut]?te=te.concat(J.validateSpec({key:Ut,value:St[Ut],valueSpec:Gt[Ut],validateSpec:J.validateSpec,style:Wt,styleSpec:Vt})):te.push(new $r(Ut,St[Ut],`unknown property "${Ut}"`));return te})({sourceName:h,value:l,style:f.style,styleSpec:b,validateSpec:M}),q;case"geojson":if(q=yl({key:h,value:l,valueSpec:b.source_geojson,style:E,styleSpec:b,validateSpec:M,objectElementValidators:vh}),l.cluster)for(const J in l.clusterProperties){const[ot,ft]=l.clusterProperties[J],St=typeof ot=="string"?[ot,["accumulated"],["get",J]]:ot;q.push(...Zc({key:`${h}.${J}.map`,value:ft,expressionContext:"cluster-map"})),q.push(...Zc({key:`${h}.${J}.reduce`,value:St,expressionContext:"cluster-reduce"}))}return q;case"video":return yl({key:h,value:l,valueSpec:b.source_video,style:E,validateSpec:M,styleSpec:b});case"image":return yl({key:h,value:l,valueSpec:b.source_image,style:E,validateSpec:M,styleSpec:b});case"canvas":return[new $r(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Lc({key:`${h}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Hf(f){const l=f.value,h=f.styleSpec,b=h.light,E=f.style;let M=[];const P=mi(l);if(l===void 0)return M;if(P!=="object")return M=M.concat([new $r("light",l,`object expected, ${P} found`)]),M;for(const q in l){const J=q.match(/^(.*)-transition$/);M=M.concat(J&&b[J[1]]&&b[J[1]].transition?f.validateSpec({key:q,value:l[q],valueSpec:h.transition,validateSpec:f.validateSpec,style:E,styleSpec:h}):b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],validateSpec:f.validateSpec,style:E,styleSpec:h}):[new $r(q,l[q],`unknown property "${q}"`)])}return M}function Id(f){const l=f.value,h=f.styleSpec,b=h.sky,E=f.style,M=mi(l);if(l===void 0)return[];if(M!=="object")return[new $r("sky",l,`object expected, ${M} found`)];let P=[];for(const q in l)P=P.concat(b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],style:E,styleSpec:h}):[new $r(q,l[q],`unknown property "${q}"`)]);return P}function Vm(f){const l=f.value,h=f.styleSpec,b=h.terrain,E=f.style;let M=[];const P=mi(l);if(l===void 0)return M;if(P!=="object")return M=M.concat([new $r("terrain",l,`object expected, ${P} found`)]),M;for(const q in l)M=M.concat(b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],validateSpec:f.validateSpec,style:E,styleSpec:h}):[new $r(q,l[q],`unknown property "${q}"`)]);return M}function Pp(f){let l=[];const h=f.value,b=f.key;if(Array.isArray(h)){const E=[],M=[];for(const P in h)h[P].id&&E.includes(h[P].id)&&l.push(new $r(b,h,`all the sprites' ids must be unique, but ${h[P].id} is duplicated`)),E.push(h[P].id),h[P].url&&M.includes(h[P].url)&&l.push(new $r(b,h,`all the sprites' URLs must be unique, but ${h[P].url} is duplicated`)),M.push(h[P].url),l=l.concat(yl({key:`${b}[${P}]`,value:h[P],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:f.validateSpec}));return l}return oc({key:b,value:h})}function Bg(f){return l=f.value,l&&l.constructor===Object?[]:[new $r(f.key,f.value,`object expected, ${mi(f.value)} found`)];var l}const As={"*":()=>[],array:vl,boolean:function(f){const l=f.value,h=f.key,b=mi(l);return b!=="boolean"?[new $r(h,l,`boolean expected, ${b} found`)]:[]},number:Kc,color:lf,constants:Nc,enum:Lc,filter:Mc,function:td,layer:al,object:yl,source:Yl,light:Hf,sky:Id,terrain:Vm,projection:function(f){const l=f.value,h=f.styleSpec,b=h.projection,E=f.style,M=mi(l);if(l===void 0)return[];if(M!=="object")return[new $r("projection",l,`object expected, ${M} found`)];let P=[];for(const q in l)P=P.concat(b[q]?f.validateSpec({key:q,value:l[q],valueSpec:b[q],style:E,styleSpec:h}):[new $r(q,l[q],`unknown property "${q}"`)]);return P},projectionDefinition:function(f){const l=f.key;let h=f.value;h=h instanceof String?h.valueOf():h;const b=mi(h);return b!=="array"||(function(E){return Array.isArray(E)&&E.length===3&&typeof E[0]=="string"&&typeof E[1]=="string"&&typeof E[2]=="number"})(h)||(function(E){return!!["interpolate","step","literal"].includes(E[0])})(h)?["array","string"].includes(b)?[]:[new $r(l,h,`projection expected, invalid type "${b}" found`)]:[new $r(l,h,`projection expected, invalid array ${JSON.stringify(h)} found`)]},string:oc,formatted:function(f){return oc(f).length===0?[]:Zc(f)},resolvedImage:function(f){return oc(f).length===0?[]:Zc(f)},padding:function(f){const l=f.key,h=f.value;if(mi(h)==="array"){if(h.length<1||h.length>4)return[new $r(l,h,`padding requires 1 to 4 values; ${h.length} values found`)];const b={type:"number"};let E=[];for(let M=0;M<h.length;M++)E=E.concat(f.validateSpec({key:`${l}[${M}]`,value:h[M],validateSpec:f.validateSpec,valueSpec:b}));return E}return Kc({key:l,value:h,valueSpec:{}})},numberArray:function(f){const l=f.key,h=f.value;if(mi(h)==="array"){const b={type:"number"};if(h.length<1)return[new $r(l,h,"array length at least 1 expected, length 0 found")];let E=[];for(let M=0;M<h.length;M++)E=E.concat(f.validateSpec({key:`${l}[${M}]`,value:h[M],validateSpec:f.validateSpec,valueSpec:b}));return E}return Kc({key:l,value:h,valueSpec:{}})},colorArray:function(f){const l=f.key,h=f.value;if(mi(h)==="array"){if(h.length<1)return[new $r(l,h,"array length at least 1 expected, length 0 found")];let b=[];for(let E=0;E<h.length;E++)b=b.concat(lf({key:`${l}[${E}]`,value:h[E]}));return b}return lf({key:l,value:h})},variableAnchorOffsetCollection:function(f){const l=f.key,h=f.value,b=mi(h),E=f.styleSpec;if(b!=="array"||h.length<1||h.length%2!=0)return[new $r(l,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let M=[];for(let P=0;P<h.length;P+=2)M=M.concat(Lc({key:`${l}[${P}]`,value:h[P],valueSpec:E.layout_symbol["text-anchor"]})),M=M.concat(vl({key:`${l}[${P+1}]`,value:h[P+1],valueSpec:{length:2,value:"number"},validateSpec:f.validateSpec,style:f.style,styleSpec:E}));return M},sprite:Pp,state:Bg};function zh(f){const l=f.value,h=f.valueSpec,b=f.styleSpec;return f.validateSpec=zh,h.expression&&Xu(mo(l))?td(f):h.expression&&Wu(yh(l))?Zc(f):h.type&&As[h.type]?As[h.type](f):yl(fi({},f,{valueSpec:h.type?b[h.type]:h}))}function bh(f){const l=f.value,h=f.key,b=oc(f);return b.length||(l.indexOf("{fontstack}")===-1&&b.push(new $r(h,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&b.push(new $r(h,l,'"glyphs" url must include a "{range}" token'))),b}function Ru(f,l=Oe){let h=[];return h=h.concat(zh({key:"",value:f,valueSpec:l.$root,styleSpec:l,style:f,validateSpec:zh,objectElementValidators:{glyphs:bh,"*":()=>[]}})),f.constants&&(h=h.concat(Nc({key:"constants",value:f.constants}))),V(h)}function sc(f){return function(l){return f({...l,validateSpec:zh})}}function V(f){return[].concat(f).sort(((l,h)=>l.line-h.line))}function Z(f){return function(...l){return V(f.apply(this,l))}}Ru.source=Z(sc(Yl)),Ru.sprite=Z(sc(Pp)),Ru.glyphs=Z(sc(bh)),Ru.light=Z(sc(Hf)),Ru.sky=Z(sc(Id)),Ru.terrain=Z(sc(Vm)),Ru.state=Z(sc(Bg)),Ru.layer=Z(sc(al)),Ru.filter=Z(sc(Mc)),Ru.paintProperty=Z(sc(Qc)),Ru.layoutProperty=Z(sc(Pc));const yt=Ru,Lt=yt.light,Kt=yt.sky,ne=yt.paintProperty,ae=yt.layoutProperty;function ue(f,l){let h=!1;if(l&&l.length)for(const b of l)f.fire(new Pe(new Error(b.message))),h=!0;return h}class ge{constructor(l,h,b){const E=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const P=new Int32Array(this.arrayBuffer);l=P[0],this.d=(h=P[1])+2*(b=P[2]);for(let J=0;J<this.d*this.d;J++){const ot=P[3+J],ft=P[3+J+1];E.push(ot===ft?null:P.subarray(ot,ft))}const q=P[3+E.length+1];this.keys=P.subarray(P[3+E.length],q),this.bboxes=P.subarray(q),this.insert=this._insertReadonly}else{this.d=h+2*b;for(let P=0;P<this.d*this.d;P++)E.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=l,this.padding=b,this.scale=h/l,this.uid=0;const M=b/h*l;this.min=-M,this.max=l+M}insert(l,h,b,E,M){this._forEachCell(h,b,E,M,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(h),this.bboxes.push(b),this.bboxes.push(E),this.bboxes.push(M)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,h,b,E,M,P){this.cells[M].push(P)}query(l,h,b,E,M){const P=this.min,q=this.max;if(l<=P&&h<=P&&q<=b&&q<=E&&!M)return Array.prototype.slice.call(this.keys);{const J=[];return this._forEachCell(l,h,b,E,this._queryCell,J,{},M),J}}_queryCell(l,h,b,E,M,P,q,J){const ot=this.cells[M];if(ot!==null){const ft=this.keys,St=this.bboxes;for(let Vt=0;Vt<ot.length;Vt++){const Gt=ot[Vt];if(q[Gt]===void 0){const Wt=4*Gt;(J?J(St[Wt+0],St[Wt+1],St[Wt+2],St[Wt+3]):l<=St[Wt+2]&&h<=St[Wt+3]&&b>=St[Wt+0]&&E>=St[Wt+1])?(q[Gt]=!0,P.push(ft[Gt])):q[Gt]=!1}}}}_forEachCell(l,h,b,E,M,P,q,J){const ot=this._convertToCellCoord(l),ft=this._convertToCellCoord(h),St=this._convertToCellCoord(b),Vt=this._convertToCellCoord(E);for(let Gt=ot;Gt<=St;Gt++)for(let Wt=ft;Wt<=Vt;Wt++){const te=this.d*Wt+Gt;if((!J||J(this._convertFromCellCoord(Gt),this._convertFromCellCoord(Wt),this._convertFromCellCoord(Gt+1),this._convertFromCellCoord(Wt+1)))&&M.call(this,l,h,b,E,te,P,q,J))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,h=3+this.cells.length+1+1;let b=0;for(let P=0;P<this.cells.length;P++)b+=this.cells[P].length;const E=new Int32Array(h+b+this.keys.length+this.bboxes.length);E[0]=this.extent,E[1]=this.n,E[2]=this.padding;let M=h;for(let P=0;P<l.length;P++){const q=l[P];E[3+P]=M,E.set(q,M),M+=q.length}return E[3+l.length]=M,E.set(this.keys,M),M+=this.keys.length,E[3+l.length+1]=M,E.set(this.bboxes,M),M+=this.bboxes.length,E.buffer}static serialize(l,h){const b=l.toArrayBuffer();return h&&h.push(b),{buffer:b}}static deserialize(l){return new ge(l.buffer)}}const Te={};function Ce(f,l,h={}){if(Te[f])throw new Error(`${f} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:f,writeable:!1}),Te[f]={klass:l,omit:h.omit||[],shallow:h.shallow||[]}}Ce("Object",Object),Ce("Set",Set),Ce("TransferableGridIndex",ge),Ce("Color",Nn),Ce("Error",Error),Ce("AJAXError",oe),Ce("ResolvedImage",Ha),Ce("StylePropertyFunction",ku),Ce("StyleExpression",Td,{omit:["_evaluator"]}),Ce("ZoomDependentExpression",Cd),Ce("ZoomConstantExpression",Yc),Ce("CompoundExpression",Ui,{omit:["_evaluate"]});for(const f in fa)fa[f]._classRegistryKey||Ce(`Expression_${f}`,fa[f]);function Nr(f){return f&&typeof ArrayBuffer<"u"&&(f instanceof ArrayBuffer||f.constructor&&f.constructor.name==="ArrayBuffer")}function Ae(f){return f.$name||f.constructor._classRegistryKey}function hr(f){return!(function(l){if(l===null||typeof l!="object")return!1;const h=Ae(l);return!(!h||h==="Object")})(f)&&(f==null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f instanceof Boolean||f instanceof Number||f instanceof String||f instanceof Date||f instanceof RegExp||f instanceof Blob||f instanceof Error||Nr(f)||ir(f)||ArrayBuffer.isView(f)||f instanceof ImageData)}function br(f,l){if(hr(f))return(Nr(f)||ir(f))&&l&&l.push(f),ArrayBuffer.isView(f)&&l&&l.push(f.buffer),f instanceof ImageData&&l&&l.push(f.data.buffer),f;if(Array.isArray(f)){const M=[];for(const P of f)M.push(br(P,l));return M}if(typeof f!="object")throw new Error("can't serialize object of type "+typeof f);const h=Ae(f);if(!h)throw new Error(`can't serialize object of unregistered class ${f.constructor.name}`);if(!Te[h])throw new Error(`${h} is not registered.`);const{klass:b}=Te[h],E=b.serialize?b.serialize(f,l):{};if(b.serialize){if(l&&E===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const M in f){if(!f.hasOwnProperty(M)||Te[h].omit.indexOf(M)>=0)continue;const P=f[M];E[M]=Te[h].shallow.indexOf(M)>=0?P:br(P,l)}f instanceof Error&&(E.message=f.message)}if(E.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(E.$name=h),E}function Xr(f){if(hr(f))return f;if(Array.isArray(f))return f.map(Xr);if(typeof f!="object")throw new Error("can't deserialize object of type "+typeof f);const l=Ae(f)||"Object";if(!Te[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:h}=Te[l];if(!h)throw new Error(`can't deserialize unregistered class ${l}`);if(h.deserialize)return h.deserialize(f);const b=Object.create(h.prototype);for(const E of Object.keys(f)){if(E==="$name")continue;const M=f[E];b[E]=Te[l].shallow.indexOf(E)>=0?M:Xr(M)}return b}class Er{constructor(){this.first=!0}update(l,h){const b=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=b,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=b,!0):(this.lastFloorZoom>b?(this.lastIntegerZoom=b+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<b&&(this.lastIntegerZoom=b,this.lastIntegerZoomTime=h),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=b,!0))}}const wr={"Latin-1 Supplement":f=>f>=128&&f<=255,"Hangul Jamo":f=>f>=4352&&f<=4607,Khmer:f=>f>=6016&&f<=6143,"General Punctuation":f=>f>=8192&&f<=8303,"Letterlike Symbols":f=>f>=8448&&f<=8527,"Number Forms":f=>f>=8528&&f<=8591,"Miscellaneous Technical":f=>f>=8960&&f<=9215,"Control Pictures":f=>f>=9216&&f<=9279,"Optical Character Recognition":f=>f>=9280&&f<=9311,"Enclosed Alphanumerics":f=>f>=9312&&f<=9471,"Geometric Shapes":f=>f>=9632&&f<=9727,"Miscellaneous Symbols":f=>f>=9728&&f<=9983,"Miscellaneous Symbols and Arrows":f=>f>=11008&&f<=11263,"Ideographic Description Characters":f=>f>=12272&&f<=12287,"CJK Symbols and Punctuation":f=>f>=12288&&f<=12351,Hiragana:f=>f>=12352&&f<=12447,Katakana:f=>f>=12448&&f<=12543,Kanbun:f=>f>=12688&&f<=12703,"CJK Strokes":f=>f>=12736&&f<=12783,"Enclosed CJK Letters and Months":f=>f>=12800&&f<=13055,"CJK Compatibility":f=>f>=13056&&f<=13311,"Yijing Hexagram Symbols":f=>f>=19904&&f<=19967,"CJK Unified Ideographs":f=>f>=19968&&f<=40959,"Hangul Syllables":f=>f>=44032&&f<=55215,"Private Use Area":f=>f>=57344&&f<=63743,"Vertical Forms":f=>f>=65040&&f<=65055,"CJK Compatibility Forms":f=>f>=65072&&f<=65103,"Small Form Variants":f=>f>=65104&&f<=65135,"Halfwidth and Fullwidth Forms":f=>f>=65280&&f<=65519};function Qr(f){for(const l of f)if(ai(l.charCodeAt(0)))return!0;return!1}function wn(f){for(const l of f)if(!ni(l.charCodeAt(0)))return!1;return!0}function ln(f){const l=f.map((h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}})).filter((h=>h));return new RegExp(l.join("|"),"u")}const ci=ln(["Arab","Dupl","Mong","Ougr","Syrc"]);function ni(f){return!ci.test(String.fromCodePoint(f))}const zi=ln(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function ai(f){return!(f!==746&&f!==747&&(f<4352||!(wr["CJK Compatibility Forms"](f)&&!(f>=65097&&f<=65103)||wr["CJK Compatibility"](f)||wr["CJK Strokes"](f)||!(!wr["CJK Symbols and Punctuation"](f)||f>=12296&&f<=12305||f>=12308&&f<=12319||f===12336)||wr["Enclosed CJK Letters and Months"](f)||wr["Ideographic Description Characters"](f)||wr.Kanbun(f)||wr.Katakana(f)&&f!==12540||!(!wr["Halfwidth and Fullwidth Forms"](f)||f===65288||f===65289||f===65293||f>=65306&&f<=65310||f===65339||f===65341||f===65343||f>=65371&&f<=65503||f===65507||f>=65512&&f<=65519)||!(!wr["Small Form Variants"](f)||f>=65112&&f<=65118||f>=65123&&f<=65126)||wr["Vertical Forms"](f)||wr["Yijing Hexagram Symbols"](f)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(f))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(f))||zi.test(String.fromCodePoint(f)))))}function Ea(f){return!(ai(f)||(function(l){return!!(wr["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||wr["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||wr["Letterlike Symbols"](l)||wr["Number Forms"](l)||wr["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||wr["Control Pictures"](l)&&l!==9251||wr["Optical Character Recognition"](l)||wr["Enclosed Alphanumerics"](l)||wr["Geometric Shapes"](l)||wr["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||wr["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||wr["CJK Symbols and Punctuation"](l)||wr.Katakana(l)||wr["Private Use Area"](l)||wr["CJK Compatibility Forms"](l)||wr["Small Form Variants"](l)||wr["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)})(f))}const Jo=ln(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function ji(f){return Jo.test(String.fromCodePoint(f))}function ii(f,l){return!(!l&&ji(f)||f>=2304&&f<=3583||f>=3840&&f<=4255||wr.Khmer(f))}function Pn(f){for(const l of f)if(ji(l.charCodeAt(0)))return!0;return!1}const go=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(f){this.pluginStatus=f.pluginStatus,this.pluginURL=f.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(f){if(go.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=f.applyArabicShaping,this.processBidirectionalText=f.processBidirectionalText,this.processStyledBidirectionalText=f.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(f,l){return a(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(f.pluginStatus!=="loading")return this.setState(f),f;const h=f.pluginURL,b=new Promise((M=>{this.loadScriptResolve=M}));l(h);const E=new Promise((M=>setTimeout((()=>M()),this.TIMEOUT)));if(yield Promise.race([b,E]),this.isParsed()){const M={pluginStatus:"loaded",pluginURL:h};return this.setState(M),M}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${h}`)}))}};class Gn{constructor(l,h){this.zoom=l,h?(this.now=h.now||0,this.fadeDuration=h.fadeDuration||0,this.zoomHistory=h.zoomHistory||new Er,this.transition=h.transition||{},this.globalState=h.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Er,this.transition={},this.globalState={})}isSupportedScript(l){return(function(h,b){for(const E of h)if(!ii(E.charCodeAt(0),b))return!1;return!0})(l,go.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,h=l-Math.floor(l),b=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*b}:{fromScale:.5,toScale:1,t:1-(1-b)*h}}}class qi{constructor(l,h){this.property=l,this.value=h,this.expression=(function(b,E){if(Xu(b))return new ku(b,E);if(Wu(b)){const M=Ad(b,E);if(M.result==="error")throw new Error(M.value.map((P=>`${P.key}: ${P.message}`)).join(", "));return M.value}{let M=b;return E.type==="color"&&typeof b=="string"?M=Nn.parse(b):E.type!=="padding"||typeof b!="number"&&!Array.isArray(b)?E.type!=="numberArray"||typeof b!="number"&&!Array.isArray(b)?E.type!=="colorArray"||typeof b!="string"&&!Array.isArray(b)?E.type==="variableAnchorOffsetCollection"&&Array.isArray(b)?M=Bn.parse(b):E.type==="projectionDefinition"&&typeof b=="string"&&(M=pi.parse(b)):M=Ii.parse(b):M=na.parse(b):M=yi.parse(b),{globalStateRefs:new Set,kind:"constant",evaluate:()=>M}}})(h===void 0?l.specification.default:h,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(l,h,b){return this.property.possiblyEvaluate(this,l,h,b)}}class to{constructor(l){this.property=l,this.value=new qi(l,void 0)}transitioned(l,h){return new Kl(this.property,this.value,h,Se({},l.transition,this.transition),l.now)}untransitioned(){return new Kl(this.property,this.value,null,{},0)}}class ol{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return Jt(this._values[l].value.value)}setValue(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new to(this._values[l].property)),this._values[l].value=new qi(this._values[l].property,h===null?void 0:Jt(h))}getTransition(l){return Jt(this._values[l].transition)}setTransition(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new to(this._values[l].property)),this._values[l].transition=Jt(h)||void 0}serialize(){const l={};for(const h of Object.keys(this._values)){const b=this.getValue(h);b!==void 0&&(l[h]=b);const E=this.getTransition(h);E!==void 0&&(l[`${h}-transition`]=E)}return l}transitioned(l,h){const b=new $o(this._properties);for(const E of Object.keys(this._values))b._values[E]=this._values[E].transitioned(l,h._values[E]);return b}untransitioned(){const l=new $o(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].untransitioned();return l}}class Kl{constructor(l,h,b,E,M){this.property=l,this.value=h,this.begin=M+E.delay||0,this.end=this.begin+E.duration||0,l.specification.transition&&(E.delay||E.duration)&&(this.prior=b)}possiblyEvaluate(l,h,b){const E=l.now||0,M=this.value.possiblyEvaluate(l,h,b),P=this.prior;if(P){if(E>this.end)return this.prior=null,M;if(this.value.isDataDriven())return this.prior=null,M;if(E<this.begin)return P.possiblyEvaluate(l,h,b);{const q=(E-this.begin)/(this.end-this.begin);return this.property.interpolate(P.possiblyEvaluate(l,h,b),M,qt(q))}}return M}}class $o{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,h,b){const E=new Os(this._properties);for(const M of Object.keys(this._values))E._values[M]=this._values[M].possiblyEvaluate(l,h,b);return E}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class bl{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return Jt(this._values[l].value)}setValue(l,h){this._values[l]=new qi(this._values[l].property,h===null?void 0:Jt(h))}serialize(){const l={};for(const h of Object.keys(this._values)){const b=this.getValue(h);b!==void 0&&(l[h]=b)}return l}possiblyEvaluate(l,h,b){const E=new Os(this._properties);for(const M of Object.keys(this._values))E._values[M]=this._values[M].possiblyEvaluate(l,h,b);return E}}class cs{constructor(l,h,b){this.property=l,this.value=h,this.parameters=b}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,h,b,E){return this.property.evaluate(this.value,this.parameters,l,h,b,E)}}class Os{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class gn{constructor(l){this.specification=l}possiblyEvaluate(l,h){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(h)}interpolate(l,h,b){const E=Pi[this.specification.type];return E?E(l,h,b):l}}class kn{constructor(l,h){this.specification=l,this.overrides=h}possiblyEvaluate(l,h,b,E){return new cs(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(h,null,{},b,E)}:l.expression,h)}interpolate(l,h,b){if(l.value.kind!=="constant"||h.value.kind!=="constant")return l;if(l.value.value===void 0||h.value.value===void 0)return new cs(this,{kind:"constant",value:void 0},l.parameters);const E=Pi[this.specification.type];if(E){const M=E(l.value.value,h.value.value,b);return new cs(this,{kind:"constant",value:M},l.parameters)}return l}evaluate(l,h,b,E,M,P){return l.kind==="constant"?l.value:l.evaluate(h,b,E,M,P)}}class ts extends kn{possiblyEvaluate(l,h,b,E){if(l.value===void 0)return new cs(this,{kind:"constant",value:void 0},h);if(l.expression.kind==="constant"){const M=l.expression.evaluate(h,null,{},b,E),P=l.property.specification.type==="resolvedImage"&&typeof M!="string"?M.name:M,q=this._calculate(P,P,P,h);return new cs(this,{kind:"constant",value:q},h)}if(l.expression.kind==="camera"){const M=this._calculate(l.expression.evaluate({zoom:h.zoom-1}),l.expression.evaluate({zoom:h.zoom}),l.expression.evaluate({zoom:h.zoom+1}),h);return new cs(this,{kind:"constant",value:M},h)}return new cs(this,l.expression,h)}evaluate(l,h,b,E,M,P){if(l.kind==="source"){const q=l.evaluate(h,b,E,M,P);return this._calculate(q,q,q,h)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(h.zoom)-1},b,E),l.evaluate({zoom:Math.floor(h.zoom)},b,E),l.evaluate({zoom:Math.floor(h.zoom)+1},b,E),h):l.value}_calculate(l,h,b,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:b,to:h}}interpolate(l){return l}}class Xa{constructor(l){this.specification=l}possiblyEvaluate(l,h,b,E){if(l.value!==void 0){if(l.expression.kind==="constant"){const M=l.expression.evaluate(h,null,{},b,E);return this._calculate(M,M,M,h)}return this._calculate(l.expression.evaluate(new Gn(Math.floor(h.zoom-1),h)),l.expression.evaluate(new Gn(Math.floor(h.zoom),h)),l.expression.evaluate(new Gn(Math.floor(h.zoom+1),h)),h)}}_calculate(l,h,b,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:b,to:h}}interpolate(l){return l}}class Ds{constructor(l){this.specification=l}possiblyEvaluate(l,h,b,E){return!!l.expression.evaluate(h,null,{},b,E)}interpolate(){return!1}}class La{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in l){const b=l[h];b.specification.overridable&&this.overridableProperties.push(h);const E=this.defaultPropertyValues[h]=new qi(b,void 0),M=this.defaultTransitionablePropertyValues[h]=new to(b);this.defaultTransitioningPropertyValues[h]=M.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=E.possiblyEvaluate({})}}}Ce("DataDrivenProperty",kn),Ce("DataConstantProperty",gn),Ce("CrossFadedDataDrivenProperty",ts),Ce("CrossFadedProperty",Xa),Ce("ColorRampProperty",Ds);const Wa="-transition";class Ma extends cr{constructor(l,h){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter,this._featureFilter=gl(l.filter)),h.layout&&(this._unevaluatedLayout=new bl(h.layout)),h.paint)){this._transitionablePaint=new ol(h.paint);for(const b in l.paint)this.setPaintProperty(b,l.paint[b],{validate:!1});for(const b in l.layout)this.setLayoutProperty(b,l.layout[b],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Os(h.paint)}}setFilter(l){this.filter=l,this._featureFilter=gl(l)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}getLayoutAffectingGlobalStateRefs(){const l=new Set;if(this._unevaluatedLayout)for(const h in this._unevaluatedLayout._values){const b=this._unevaluatedLayout._values[h];for(const E of b.getGlobalStateRefs())l.add(E)}for(const h of this._featureFilter.getGlobalStateRefs())l.add(h);return l}setLayoutProperty(l,h,b={}){h!=null&&this._validate(ae,`layers.${this.id}.layout.${l}`,l,h,b)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,h):this.visibility=h)}getPaintProperty(l){return l.endsWith(Wa)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,h,b={}){if(h!=null&&this._validate(ne,`layers.${this.id}.paint.${l}`,l,h,b))return!1;if(l.endsWith(Wa))return this._transitionablePaint.setTransition(l.slice(0,-11),h||void 0),!1;{const E=this._transitionablePaint._values[l],M=E.property.specification["property-type"]==="cross-faded-data-driven",P=E.value.isDataDriven(),q=E.value;this._transitionablePaint.setValue(l,h),this._handleSpecialPaintPropertyUpdate(l);const J=this._transitionablePaint._values[l].value;return J.isDataDriven()||P||M||this._handleOverridablePaintPropertyUpdate(l,q,J)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,h,b){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,h){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,h)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ke(l,((h,b)=>!(h===void 0||b==="layout"&&!Object.keys(h).length||b==="paint"&&!Object.keys(h).length)))}_validate(l,h,b,E,M={}){return(!M||M.validate!==!1)&&ue(this,l.call(yt,{key:h,layerType:this.type,objectKey:b,value:E,styleSpec:Oe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const h=this.paint.get(l);if(h instanceof cs&&To(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}const yo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class es{constructor(l,h){this._structArray=l,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ia{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,h){return l._trim(),h&&(l.isTransferred=!0,h.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const h=Object.create(this.prototype);return h.arrayBuffer=l.arrayBuffer,h.length=l.length,h.capacity=l.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Oi(f,l=1){let h=0,b=0;return{members:f.map((E=>{const M=yo[E.type].BYTES_PER_ELEMENT,P=h=Ua(h,Math.max(l,M)),q=E.components||1;return b=Math.max(b,M),h+=M*q,{name:E.name,type:E.type,components:q,offset:P}})),size:Ua(h,Math.max(b,l)),alignment:l}}function Ua(f,l){return Math.ceil(f/l)*l}class Bs extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const E=2*l;return this.int16[E+0]=h,this.int16[E+1]=b,l}}Bs.prototype.bytesPerElement=4,Ce("StructArrayLayout2i4",Bs);class Co extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,b)}emplace(l,h,b,E){const M=3*l;return this.int16[M+0]=h,this.int16[M+1]=b,this.int16[M+2]=E,l}}Co.prototype.bytesPerElement=6,Ce("StructArrayLayout3i6",Co);class bi extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,E){const M=this.length;return this.resize(M+1),this.emplace(M,l,h,b,E)}emplace(l,h,b,E,M){const P=4*l;return this.int16[P+0]=h,this.int16[P+1]=b,this.int16[P+2]=E,this.int16[P+3]=M,l}}bi.prototype.bytesPerElement=8,Ce("StructArrayLayout4i8",bi);class _i extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,E,M,P)}emplace(l,h,b,E,M,P,q){const J=6*l;return this.int16[J+0]=h,this.int16[J+1]=b,this.int16[J+2]=E,this.int16[J+3]=M,this.int16[J+4]=P,this.int16[J+5]=q,l}}_i.prototype.bytesPerElement=12,Ce("StructArrayLayout2i4i12",_i);class Ta extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,E,M,P)}emplace(l,h,b,E,M,P,q){const J=4*l,ot=8*l;return this.int16[J+0]=h,this.int16[J+1]=b,this.uint8[ot+4]=E,this.uint8[ot+5]=M,this.uint8[ot+6]=P,this.uint8[ot+7]=q,l}}Ta.prototype.bytesPerElement=8,Ce("StructArrayLayout2i4ub8",Ta);class Zl extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const E=2*l;return this.float32[E+0]=h,this.float32[E+1]=b,l}}Zl.prototype.bytesPerElement=8,Ce("StructArrayLayout2f8",Zl);class lc extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P,q,J,ot,ft){const St=this.length;return this.resize(St+1),this.emplace(St,l,h,b,E,M,P,q,J,ot,ft)}emplace(l,h,b,E,M,P,q,J,ot,ft,St){const Vt=10*l;return this.uint16[Vt+0]=h,this.uint16[Vt+1]=b,this.uint16[Vt+2]=E,this.uint16[Vt+3]=M,this.uint16[Vt+4]=P,this.uint16[Vt+5]=q,this.uint16[Vt+6]=J,this.uint16[Vt+7]=ot,this.uint16[Vt+8]=ft,this.uint16[Vt+9]=St,l}}lc.prototype.bytesPerElement=20,Ce("StructArrayLayout10ui20",lc);class Ql extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P,q,J,ot,ft,St,Vt){const Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,l,h,b,E,M,P,q,J,ot,ft,St,Vt)}emplace(l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt){const Wt=12*l;return this.int16[Wt+0]=h,this.int16[Wt+1]=b,this.int16[Wt+2]=E,this.int16[Wt+3]=M,this.uint16[Wt+4]=P,this.uint16[Wt+5]=q,this.uint16[Wt+6]=J,this.uint16[Wt+7]=ot,this.int16[Wt+8]=ft,this.int16[Wt+9]=St,this.int16[Wt+10]=Vt,this.int16[Wt+11]=Gt,l}}Ql.prototype.bytesPerElement=24,Ce("StructArrayLayout4i4ui4i24",Ql);class Qs extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,b)}emplace(l,h,b,E){const M=3*l;return this.float32[M+0]=h,this.float32[M+1]=b,this.float32[M+2]=E,l}}Qs.prototype.bytesPerElement=12,Ce("StructArrayLayout3f12",Qs);class N extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint32[1*l+0]=h,l}}N.prototype.bytesPerElement=4,Ce("StructArrayLayout1ul4",N);class s extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P,q,J,ot){const ft=this.length;return this.resize(ft+1),this.emplace(ft,l,h,b,E,M,P,q,J,ot)}emplace(l,h,b,E,M,P,q,J,ot,ft){const St=10*l,Vt=5*l;return this.int16[St+0]=h,this.int16[St+1]=b,this.int16[St+2]=E,this.int16[St+3]=M,this.int16[St+4]=P,this.int16[St+5]=q,this.uint32[Vt+3]=J,this.uint16[St+8]=ot,this.uint16[St+9]=ft,l}}s.prototype.bytesPerElement=20,Ce("StructArrayLayout6i1ul2ui20",s);class d extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,E,M,P)}emplace(l,h,b,E,M,P,q){const J=6*l;return this.int16[J+0]=h,this.int16[J+1]=b,this.int16[J+2]=E,this.int16[J+3]=M,this.int16[J+4]=P,this.int16[J+5]=q,l}}d.prototype.bytesPerElement=12,Ce("StructArrayLayout2i2i2i12",d);class _ extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M){const P=this.length;return this.resize(P+1),this.emplace(P,l,h,b,E,M)}emplace(l,h,b,E,M,P){const q=4*l,J=8*l;return this.float32[q+0]=h,this.float32[q+1]=b,this.float32[q+2]=E,this.int16[J+6]=M,this.int16[J+7]=P,l}}_.prototype.bytesPerElement=16,Ce("StructArrayLayout2f1f2i16",_);class S extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P){const q=this.length;return this.resize(q+1),this.emplace(q,l,h,b,E,M,P)}emplace(l,h,b,E,M,P,q){const J=16*l,ot=4*l,ft=8*l;return this.uint8[J+0]=h,this.uint8[J+1]=b,this.float32[ot+1]=E,this.float32[ot+2]=M,this.int16[ft+6]=P,this.int16[ft+7]=q,l}}S.prototype.bytesPerElement=16,Ce("StructArrayLayout2ub2f2i16",S);class L extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,b)}emplace(l,h,b,E){const M=3*l;return this.uint16[M+0]=h,this.uint16[M+1]=b,this.uint16[M+2]=E,l}}L.prototype.bytesPerElement=6,Ce("StructArrayLayout3ui6",L);class B extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee){const Je=this.length;return this.resize(Je+1),this.emplace(Je,l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee)}emplace(l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee,Je){const De=24*l,Ut=12*l,le=48*l;return this.int16[De+0]=h,this.int16[De+1]=b,this.uint16[De+2]=E,this.uint16[De+3]=M,this.uint32[Ut+2]=P,this.uint32[Ut+3]=q,this.uint32[Ut+4]=J,this.uint16[De+10]=ot,this.uint16[De+11]=ft,this.uint16[De+12]=St,this.float32[Ut+7]=Vt,this.float32[Ut+8]=Gt,this.uint8[le+36]=Wt,this.uint8[le+37]=te,this.uint8[le+38]=he,this.uint32[Ut+10]=Ee,this.int16[De+22]=Je,l}}B.prototype.bytesPerElement=48,Ce("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",B);class K extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee,Je,De,Ut,le,Ve,Tr,hn,jr,Gr,xn,sn){const _n=this.length;return this.resize(_n+1),this.emplace(_n,l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee,Je,De,Ut,le,Ve,Tr,hn,jr,Gr,xn,sn)}emplace(l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee,Je,De,Ut,le,Ve,Tr,hn,jr,Gr,xn,sn,_n){const Hr=32*l,qn=16*l;return this.int16[Hr+0]=h,this.int16[Hr+1]=b,this.int16[Hr+2]=E,this.int16[Hr+3]=M,this.int16[Hr+4]=P,this.int16[Hr+5]=q,this.int16[Hr+6]=J,this.int16[Hr+7]=ot,this.uint16[Hr+8]=ft,this.uint16[Hr+9]=St,this.uint16[Hr+10]=Vt,this.uint16[Hr+11]=Gt,this.uint16[Hr+12]=Wt,this.uint16[Hr+13]=te,this.uint16[Hr+14]=he,this.uint16[Hr+15]=Ee,this.uint16[Hr+16]=Je,this.uint16[Hr+17]=De,this.uint16[Hr+18]=Ut,this.uint16[Hr+19]=le,this.uint16[Hr+20]=Ve,this.uint16[Hr+21]=Tr,this.uint16[Hr+22]=hn,this.uint32[qn+12]=jr,this.float32[qn+13]=Gr,this.float32[qn+14]=xn,this.uint16[Hr+30]=sn,this.uint16[Hr+31]=_n,l}}K.prototype.bytesPerElement=64,Ce("StructArrayLayout8i15ui1ul2f2ui64",K);class tt extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.float32[1*l+0]=h,l}}tt.prototype.bytesPerElement=4,Ce("StructArrayLayout1f4",tt);class ct extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,b)}emplace(l,h,b,E){const M=3*l;return this.uint16[6*l+0]=h,this.float32[M+1]=b,this.float32[M+2]=E,l}}ct.prototype.bytesPerElement=12,Ce("StructArrayLayout1ui2f12",ct);class _t extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,b){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,b)}emplace(l,h,b,E){const M=4*l;return this.uint32[2*l+0]=h,this.uint16[M+2]=b,this.uint16[M+3]=E,l}}_t.prototype.bytesPerElement=8,Ce("StructArrayLayout1ul2ui8",_t);class Rt extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h){const b=this.length;return this.resize(b+1),this.emplace(b,l,h)}emplace(l,h,b){const E=2*l;return this.uint16[E+0]=h,this.uint16[E+1]=b,l}}Rt.prototype.bytesPerElement=4,Ce("StructArrayLayout2ui4",Rt);class Tt extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint16[1*l+0]=h,l}}Tt.prototype.bytesPerElement=2,Ce("StructArrayLayout1ui2",Tt);class zt extends ia{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,b,E){const M=this.length;return this.resize(M+1),this.emplace(M,l,h,b,E)}emplace(l,h,b,E,M){const P=4*l;return this.float32[P+0]=h,this.float32[P+1]=b,this.float32[P+2]=E,this.float32[P+3]=M,l}}zt.prototype.bytesPerElement=16,Ce("StructArrayLayout4f16",zt);class Zt extends es{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new O(this.anchorPointX,this.anchorPointY)}}Zt.prototype.size=20;class fe extends s{get(l){return new Zt(this,l)}}Ce("CollisionBoxArray",fe);class pe extends es{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}pe.prototype.size=48;class me extends B{get(l){return new pe(this,l)}}Ce("PlacedSymbolArray",me);class xe extends es{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}xe.prototype.size=64;class Be extends K{get(l){return new xe(this,l)}}Ce("SymbolInstanceArray",Be);class Le extends tt{getoffsetX(l){return this.float32[1*l+0]}}Ce("GlyphOffsetArray",Le);class $e extends Co{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Ce("SymbolLineVertexArray",$e);class We extends es{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}We.prototype.size=12;class Ne extends ct{get(l){return new We(this,l)}}Ce("TextAnchorOffsetArray",Ne);class tr extends es{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}tr.prototype.size=8;class Ar extends _t{get(l){return new tr(this,l)}}Ce("FeatureIndexArray",Ar);class xr extends Bs{}class Sr extends Bs{}class kr extends Bs{}class Cn extends _i{}class En extends Ta{}class on extends Zl{}class Un extends lc{}class Gi extends Ql{}class Sa extends Qs{}class Uo extends N{}class Ya extends d{}class Ka extends S{}class Da extends L{}class Pa extends Rt{}const lo=Oi([{name:"a_pos",components:2,type:"Int16"}],4),{members:_l}=lo;class ua{constructor(l=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=l}prepareSegment(l,h,b,E){const M=this.segments[this.segments.length-1];return l>ua.MAX_VERTEX_ARRAY_LENGTH&&vr(`Max vertices per segment is ${ua.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${ua.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!M||M.vertexLength+l>ua.MAX_VERTEX_ARRAY_LENGTH||M.sortKey!==E?this.createNewSegment(h,b,E):M}createNewSegment(l,h,b){const E={vertexOffset:l.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0,vaos:{}};return b!==void 0&&(E.sortKey=b),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(E),E}getOrCreateLatestSegment(l,h,b){return this.prepareSegment(0,l,h,b)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const l of this.segments)for(const h in l.vaos)l.vaos[h].destroy()}static simpleSegment(l,h,b,E){return new ua([{vertexOffset:l,primitiveOffset:h,vertexLength:b,primitiveLength:E,vaos:{},sortKey:0}])}}function Rl(f,l){return 256*(f=ce(Math.floor(f),0,255))+ce(Math.floor(l),0,255)}ua.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ce("SegmentVector",ua);const sl=Oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ec,Rd,ed,rd={exports:{}},Op={exports:{}},Dp={exports:{}},Xf=(function(){if(ed)return rd.exports;ed=1;var f=(Ec||(Ec=1,Op.exports=function(h,b){var E,M,P,q,J,ot,ft,St;for(M=h.length-(E=3&h.length),P=b,J=3432918353,ot=461845907,St=0;St<M;)ft=255&h.charCodeAt(St)|(255&h.charCodeAt(++St))<<8|(255&h.charCodeAt(++St))<<16|(255&h.charCodeAt(++St))<<24,++St,P=27492+(65535&(q=5*(65535&(P=(P^=ft=(65535&(ft=(ft=(65535&ft)*J+(((ft>>>16)*J&65535)<<16)&4294967295)<<15|ft>>>17))*ot+(((ft>>>16)*ot&65535)<<16)&4294967295)<<13|P>>>19))+((5*(P>>>16)&65535)<<16)&4294967295))+((58964+(q>>>16)&65535)<<16);switch(ft=0,E){case 3:ft^=(255&h.charCodeAt(St+2))<<16;case 2:ft^=(255&h.charCodeAt(St+1))<<8;case 1:P^=ft=(65535&(ft=(ft=(65535&(ft^=255&h.charCodeAt(St)))*J+(((ft>>>16)*J&65535)<<16)&4294967295)<<15|ft>>>17))*ot+(((ft>>>16)*ot&65535)<<16)&4294967295}return P^=h.length,P=2246822507*(65535&(P^=P>>>16))+((2246822507*(P>>>16)&65535)<<16)&4294967295,P=3266489909*(65535&(P^=P>>>13))+((3266489909*(P>>>16)&65535)<<16)&4294967295,(P^=P>>>16)>>>0}),Op.exports),l=(Rd||(Rd=1,Dp.exports=function(h,b){for(var E,M=h.length,P=b^M,q=0;M>=4;)E=1540483477*(65535&(E=255&h.charCodeAt(q)|(255&h.charCodeAt(++q))<<8|(255&h.charCodeAt(++q))<<16|(255&h.charCodeAt(++q))<<24))+((1540483477*(E>>>16)&65535)<<16),P=1540483477*(65535&P)+((1540483477*(P>>>16)&65535)<<16)^(E=1540483477*(65535&(E^=E>>>24))+((1540483477*(E>>>16)&65535)<<16)),M-=4,++q;switch(M){case 3:P^=(255&h.charCodeAt(q+2))<<16;case 2:P^=(255&h.charCodeAt(q+1))<<8;case 1:P=1540483477*(65535&(P^=255&h.charCodeAt(q)))+((1540483477*(P>>>16)&65535)<<16)}return P=1540483477*(65535&(P^=P>>>13))+((1540483477*(P>>>16)&65535)<<16),(P^=P>>>15)>>>0}),Dp.exports);return rd.exports=f,rd.exports.murmur3=f,rd.exports.murmur2=l,rd.exports})(),Tc=g(Xf);class _h{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,h,b,E){this.ids.push(nd(l)),this.positions.push(h,b,E)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=nd(l);let b=0,E=this.ids.length-1;for(;b<E;){const P=b+E>>1;this.ids[P]>=h?E=P:b=P+1}const M=[];for(;this.ids[b]===h;)M.push({index:this.positions[3*b],start:this.positions[3*b+1],end:this.positions[3*b+2]}),b++;return M}static serialize(l,h){const b=new Float64Array(l.ids),E=new Uint32Array(l.positions);return uf(b,E,0,b.length-1),h&&h.push(b.buffer,E.buffer),{ids:b,positions:E}}static deserialize(l){const h=new _h;return h.ids=l.ids,h.positions=l.positions,h.indexed=!0,h}}function nd(f){const l=+f;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:Tc(String(f))}function uf(f,l,h,b){for(;h<b;){const E=f[h+b>>1];let M=h-1,P=b+1;for(;;){do M++;while(f[M]<E);do P--;while(f[P]>E);if(M>=P)break;ll(f,M,P),ll(l,3*M,3*P),ll(l,3*M+1,3*P+1),ll(l,3*M+2,3*P+2)}P-h<b-P?(uf(f,l,h,P),h=P+1):(uf(f,l,P+1,b),b=P)}}function ll(f,l,h){const b=f[l];f[l]=f[h],f[h]=b}Ce("FeaturePositionMap",_h);class rs{constructor(l,h){this.gl=l.gl,this.location=h}}class uc extends rs{constructor(l,h){super(l,h),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Jl extends rs{constructor(l,h){super(l,h),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class E0 extends rs{constructor(l,h){super(l,h),this.current=Nn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Fy=new Float32Array(16);function zg(f){return[Rl(255*f.r,255*f.g),Rl(255*f.b,255*f.a)]}class Bp{constructor(l,h,b){this.value=l,this.uniformNames=h.map((E=>`u_${E}`)),this.type=b}setUniform(l,h,b){l.set(b.constantOr(this.value))}getBinding(l,h,b){return this.type==="color"?new E0(l,h):new uc(l,h)}}class cf{constructor(l,h){this.uniformNames=h.map((b=>`u_${b}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=l.tlbr}setUniform(l,h,b,E){const M=E==="u_pattern_to"?this.patternTo:E==="u_pattern_from"?this.patternFrom:E==="u_pixel_ratio_to"?this.pixelRatioTo:E==="u_pixel_ratio_from"?this.pixelRatioFrom:null;M&&l.set(M)}getBinding(l,h,b){return b.substr(0,9)==="u_pattern"?new Jl(l,h):new uc(l,h)}}class id{constructor(l,h,b,E){this.expression=l,this.type=b,this.maxValue=0,this.paintVertexAttributes=h.map((M=>({name:`a_${M}`,type:"Float32",components:b==="color"?2:1,offset:0}))),this.paintVertexArray=new E}populatePaintArray(l,h,b,E,M){const P=this.paintVertexArray.length,q=this.expression.evaluate(new Gn(0),h,{},E,[],M);this.paintVertexArray.resize(l),this._setPaintValue(P,l,q)}updatePaintArray(l,h,b,E){const M=this.expression.evaluate({zoom:0},b,E);this._setPaintValue(l,h,M)}_setPaintValue(l,h,b){if(this.type==="color"){const E=zg(b);for(let M=l;M<h;M++)this.paintVertexArray.emplace(M,E[0],E[1])}else{for(let E=l;E<h;E++)this.paintVertexArray.emplace(E,b);this.maxValue=Math.max(this.maxValue,Math.abs(b))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Nu{constructor(l,h,b,E,M,P){this.expression=l,this.uniformNames=h.map((q=>`u_${q}_t`)),this.type=b,this.useIntegerZoom=E,this.zoom=M,this.maxValue=0,this.paintVertexAttributes=h.map((q=>({name:`a_${q}`,type:"Float32",components:b==="color"?4:2,offset:0}))),this.paintVertexArray=new P}populatePaintArray(l,h,b,E,M){const P=this.expression.evaluate(new Gn(this.zoom),h,{},E,[],M),q=this.expression.evaluate(new Gn(this.zoom+1),h,{},E,[],M),J=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(J,l,P,q)}updatePaintArray(l,h,b,E){const M=this.expression.evaluate({zoom:this.zoom},b,E),P=this.expression.evaluate({zoom:this.zoom+1},b,E);this._setPaintValue(l,h,M,P)}_setPaintValue(l,h,b,E){if(this.type==="color"){const M=zg(b),P=zg(E);for(let q=l;q<h;q++)this.paintVertexArray.emplace(q,M[0],M[1],P[0],P[1])}else{for(let M=l;M<h;M++)this.paintVertexArray.emplace(M,b,E);this.maxValue=Math.max(this.maxValue,Math.abs(b),Math.abs(E))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,h){const b=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,E=ce(this.expression.interpolationFactor(b,this.zoom,this.zoom+1),0,1);l.set(E)}getBinding(l,h,b){return new uc(l,h)}}class Nd{constructor(l,h,b,E,M,P){this.expression=l,this.type=h,this.useIntegerZoom=b,this.zoom=E,this.layerId=P,this.zoomInPaintVertexArray=new M,this.zoomOutPaintVertexArray=new M}populatePaintArray(l,h,b){const E=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(E,l,h.patterns&&h.patterns[this.layerId],b)}updatePaintArray(l,h,b,E,M){this._setPaintValues(l,h,b.patterns&&b.patterns[this.layerId],M)}_setPaintValues(l,h,b,E){if(!E||!b)return;const{min:M,mid:P,max:q}=b,J=E[M],ot=E[P],ft=E[q];if(J&&ot&&ft)for(let St=l;St<h;St++)this.zoomInPaintVertexArray.emplace(St,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],J.tl[0],J.tl[1],J.br[0],J.br[1],ot.pixelRatio,J.pixelRatio),this.zoomOutPaintVertexArray.emplace(St,ot.tl[0],ot.tl[1],ot.br[0],ot.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1],ot.pixelRatio,ft.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,sl.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,sl.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class jy{constructor(l,h,b){this.binders={},this._buffers=[];const E=[];for(const M in l.paint._values){if(!b(M))continue;const P=l.paint.get(M);if(!(P instanceof cs&&To(P.property.specification)))continue;const q=Wf(M,l.type),J=P.value,ot=P.property.specification.type,ft=P.property.useIntegerZoom,St=P.property.specification["property-type"],Vt=St==="cross-faded"||St==="cross-faded-data-driven";if(J.kind==="constant")this.binders[M]=Vt?new cf(J.value,q):new Bp(J.value,q,ot),E.push(`/u_${M}`);else if(J.kind==="source"||Vt){const Gt=$m(M,ot,"source");this.binders[M]=Vt?new Nd(J,ot,ft,h,Gt,l.id):new id(J,q,ot,Gt),E.push(`/a_${M}`)}else{const Gt=$m(M,ot,"composite");this.binders[M]=new Nu(J,q,ot,ft,h,Gt),E.push(`/z_${M}`)}}this.cacheKey=E.sort().join("")}getMaxValue(l){const h=this.binders[l];return h instanceof id||h instanceof Nu?h.maxValue:0}populatePaintArrays(l,h,b,E,M){for(const P in this.binders){const q=this.binders[P];(q instanceof id||q instanceof Nu||q instanceof Nd)&&q.populatePaintArray(l,h,b,E,M)}}setConstantPatternPositions(l,h){for(const b in this.binders){const E=this.binders[b];E instanceof cf&&E.setConstantPatternPositions(l,h)}}updatePaintArrays(l,h,b,E,M){let P=!1;for(const q in l){const J=h.getPositions(q);for(const ot of J){const ft=b.feature(ot.index);for(const St in this.binders){const Vt=this.binders[St];if((Vt instanceof id||Vt instanceof Nu||Vt instanceof Nd)&&Vt.expression.isStateDependent===!0){const Gt=E.paint.get(St);Vt.expression=Gt.value,Vt.updatePaintArray(ot.start,ot.end,ft,l[q],M),P=!0}}}}return P}defines(){const l=[];for(const h in this.binders){const b=this.binders[h];(b instanceof Bp||b instanceof cf)&&l.push(...b.uniformNames.map((E=>`#define HAS_UNIFORM_${E}`)))}return l}getBinderAttributes(){const l=[];for(const h in this.binders){const b=this.binders[h];if(b instanceof id||b instanceof Nu)for(let E=0;E<b.paintVertexAttributes.length;E++)l.push(b.paintVertexAttributes[E].name);else if(b instanceof Nd)for(let E=0;E<sl.members.length;E++)l.push(sl.members[E].name)}return l}getBinderUniforms(){const l=[];for(const h in this.binders){const b=this.binders[h];if(b instanceof Bp||b instanceof cf||b instanceof Nu)for(const E of b.uniformNames)l.push(E)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,h){const b=[];for(const E in this.binders){const M=this.binders[E];if(M instanceof Bp||M instanceof cf||M instanceof Nu){for(const P of M.uniformNames)if(h[P]){const q=M.getBinding(l,h[P],P);b.push({name:P,property:E,binding:q})}}}return b}setUniforms(l,h,b,E){for(const{name:M,property:P,binding:q}of h)this.binders[P].setUniform(q,E,b.get(P),M)}updatePaintBuffers(l){this._buffers=[];for(const h in this.binders){const b=this.binders[h];if(l&&b instanceof Nd){const E=l.fromScale===2?b.zoomInPaintVertexBuffer:b.zoomOutPaintVertexBuffer;E&&this._buffers.push(E)}else(b instanceof id||b instanceof Nu)&&b.paintVertexBuffer&&this._buffers.push(b.paintVertexBuffer)}}upload(l){for(const h in this.binders){const b=this.binders[h];(b instanceof id||b instanceof Nu||b instanceof Nd)&&b.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const h=this.binders[l];(h instanceof id||h instanceof Nu||h instanceof Nd)&&h.destroy()}}}class Ld{constructor(l,h,b=()=>!0){this.programConfigurations={};for(const E of l)this.programConfigurations[E.id]=new jy(E,h,b);this.needsUpload=!1,this._featureMap=new _h,this._bufferOffset=0}populatePaintArrays(l,h,b,E,M,P){for(const q in this.programConfigurations)this.programConfigurations[q].populatePaintArrays(l,h,E,M,P);h.id!==void 0&&this._featureMap.add(h.id,b,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,h,b,E){for(const M of b)this.needsUpload=this.programConfigurations[M.id].updatePaintArrays(l,this._featureMap,h,M,E)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function Wf(f,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[f]||[f.replace(`${l}-`,"").replace(/-/g,"_")]}function $m(f,l,h){const b={color:{source:Zl,composite:zt},number:{source:tt,composite:Zl}},E=(function(M){return{"line-pattern":{source:Un,composite:Un},"fill-pattern":{source:Un,composite:Un},"fill-extrusion-pattern":{source:Un,composite:Un}}[M]})(f);return E&&E[h]||b[l][h]}Ce("ConstantBinder",Bp),Ce("CrossFadedConstantBinder",cf),Ce("SourceExpressionBinder",id),Ce("CrossFadedCompositeBinder",Nd),Ce("CompositeExpressionBinder",Nu),Ce("ProgramConfiguration",jy,{omit:["_buffers"]}),Ce("ProgramConfigurationSet",Ld);const hf=Math.pow(2,14)-1,kx=-hf-1;function zp(f){const l=lt/f.extent,h=f.loadGeometry();for(let b=0;b<h.length;b++){const E=h[b];for(let M=0;M<E.length;M++){const P=E[M],q=Math.round(P.x*l),J=Math.round(P.y*l);P.x=ce(q,kx,hf),P.y=ce(J,kx,hf),(q<P.x||q>P.x+1||J<P.y||J>P.y+1)&&vr("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function Md(f,l){return{type:f.type,id:f.id,properties:f.properties,geometry:l?zp(f):[]}}const Ix=-32768;function Rx(f,l,h,b,E){f.emplaceBack(Ix+8*l+b,Ix+8*h+E)}class T0{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Sr,this.indexArray=new Da,this.segments=new ua,this.programConfigurations=new Ld(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){const E=this.layers[0],M=[];let P=null,q=!1,J=E.type==="heatmap";if(E.type==="circle"){const ft=E;P=ft.layout.get("circle-sort-key"),q=!P.isConstant(),J=J||ft.paint.get("circle-pitch-alignment")==="map"}const ot=J?h.subdivisionGranularity.circle:1;for(const{feature:ft,id:St,index:Vt,sourceLayerIndex:Gt}of l){const Wt=this.layers[0]._featureFilter.needGeometry,te=Md(ft,Wt);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),te,b))continue;const he=q?P.evaluate(te,{},b):void 0,Ee={id:St,properties:ft.properties,type:ft.type,sourceLayerIndex:Gt,index:Vt,geometry:Wt?te.geometry:zp(ft),patterns:{},sortKey:he};M.push(Ee)}q&&M.sort(((ft,St)=>ft.sortKey-St.sortKey));for(const ft of M){const{geometry:St,index:Vt,sourceLayerIndex:Gt}=ft,Wt=l[Vt].feature;this.addFeature(ft,St,Vt,b,ot),h.featureIndex.insert(Wt,St,Vt,Gt,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,_l),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,h,b,E,M=1){let P;switch(M){case 1:P=[0,7];break;case 3:P=[0,2,5,7];break;case 5:P=[0,1,3,4,6,7];break;case 7:P=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${M}; valid values are 1, 3, 5, 7.`)}const q=P.length;for(const J of h)for(const ot of J){const ft=ot.x,St=ot.y;if(ft<0||ft>=lt||St<0||St>=lt)continue;const Vt=this.segments.prepareSegment(q*q,this.layoutVertexArray,this.indexArray,l.sortKey),Gt=Vt.vertexLength;for(let Wt=0;Wt<q;Wt++)for(let te=0;te<q;te++)Rx(this.layoutVertexArray,ft,St,P[te],P[Wt]);for(let Wt=0;Wt<q-1;Wt++)for(let te=0;te<q-1;te++){const he=Gt+Wt*q+te,Ee=Gt+(Wt+1)*q+te;this.indexArray.emplaceBack(he,Ee+1,he+1),this.indexArray.emplaceBack(he,Ee,Ee+1)}Vt.vertexLength+=q*q,Vt.primitiveLength+=(q-1)*(q-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,{},E)}}function C0(f,l){for(let h=0;h<f.length;h++)if(Um(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(Um(f,l[h]))return!0;return!!Yf(f,l)}function Nx(f,l,h){return!!Um(f,l)||!!A0(l,f,h)}function Lx(f,l){if(f.length===1)return Vy(l,f[0]);for(let h=0;h<l.length;h++){const b=l[h];for(let E=0;E<b.length;E++)if(Um(f,b[E]))return!0}for(let h=0;h<f.length;h++)if(Vy(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(Yf(f,l[h]))return!0;return!1}function fS(f,l,h){if(f.length>1){if(Yf(f,l))return!0;for(let b=0;b<l.length;b++)if(A0(l[b],f,h))return!0}for(let b=0;b<f.length;b++)if(A0(f[b],l,h))return!0;return!1}function Yf(f,l){if(f.length===0||l.length===0)return!1;for(let h=0;h<f.length-1;h++){const b=f[h],E=f[h+1];for(let M=0;M<l.length-1;M++)if(pS(b,E,l[M],l[M+1]))return!0}return!1}function pS(f,l,h,b){return Dr(f,h,b)!==Dr(l,h,b)&&Dr(f,l,h)!==Dr(f,l,b)}function A0(f,l,h){const b=h*h;if(l.length===1)return f.distSqr(l[0])<b;for(let E=1;E<l.length;E++)if(Mx(f,l[E-1],l[E])<b)return!0;return!1}function Mx(f,l,h){const b=l.distSqr(h);if(b===0)return f.distSqr(l);const E=((f.x-l.x)*(h.x-l.x)+(f.y-l.y)*(h.y-l.y))/b;return f.distSqr(E<0?l:E>1?h:h.sub(l)._mult(E)._add(l))}function Vy(f,l){let h,b,E,M=!1;for(let P=0;P<f.length;P++){h=f[P];for(let q=0,J=h.length-1;q<h.length;J=q++)b=h[q],E=h[J],b.y>l.y!=E.y>l.y&&l.x<(E.x-b.x)*(l.y-b.y)/(E.y-b.y)+b.x&&(M=!M)}return M}function Um(f,l){let h=!1;for(let b=0,E=f.length-1;b<f.length;E=b++){const M=f[b],P=f[E];M.y>l.y!=P.y>l.y&&l.x<(P.x-M.x)*(l.y-M.y)/(P.y-M.y)+M.x&&(h=!h)}return h}function Px(f,l,h){const b=h[0],E=h[2];if(f.x<b.x&&l.x<b.x||f.x>E.x&&l.x>E.x||f.y<b.y&&l.y<b.y||f.y>E.y&&l.y>E.y)return!1;const M=Dr(f,l,h[0]);return M!==Dr(f,l,h[1])||M!==Dr(f,l,h[2])||M!==Dr(f,l,h[3])}function Fg(f,l,h){const b=l.paint.get(f).value;return b.kind==="constant"?b.value:h.programConfigurations.get(l.id).getMaxValue(f)}function $y(f){return Math.sqrt(f[0]*f[0]+f[1]*f[1])}function k0(f,l,h,b,E){if(!l[0]&&!l[1])return f;const M=O.convert(l)._mult(E);h==="viewport"&&M._rotate(-b);const P=[];for(let q=0;q<f.length;q++)P.push(f[q].sub(M));return P}let I0,gu;Ce("CircleBucket",T0,{omit:["layers"]});var Cc={get paint(){return gu=gu||new La({"circle-radius":new kn(Oe.paint_circle["circle-radius"]),"circle-color":new kn(Oe.paint_circle["circle-color"]),"circle-blur":new kn(Oe.paint_circle["circle-blur"]),"circle-opacity":new kn(Oe.paint_circle["circle-opacity"]),"circle-translate":new gn(Oe.paint_circle["circle-translate"]),"circle-translate-anchor":new gn(Oe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gn(Oe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gn(Oe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kn(Oe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kn(Oe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kn(Oe.paint_circle["circle-stroke-opacity"])})},get layout(){return I0=I0||new La({"circle-sort-key":new kn(Oe.layout_circle["circle-sort-key"])})}};class mS extends Ma{constructor(l){super(l,Cc)}createBucket(l){return new T0(l)}queryRadius(l){const h=l;return Fg("circle-radius",this,h)+Fg("circle-stroke-width",this,h)+$y(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:b,geometry:E,transform:M,pixelsToTileUnits:P,unwrappedTileID:q,getElevation:J}){const ot=k0(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-M.bearingInRadians,P),ft=this.paint.get("circle-radius").evaluate(h,b)+this.paint.get("circle-stroke-width").evaluate(h,b),St=this.paint.get("circle-pitch-alignment")==="map",Vt=St?ot:(function(Wt,te,he,Ee){return Wt.map((Je=>Ox(Je,te,he,Ee)))})(ot,M,q,J),Gt=St?ft*P:ft;for(const Wt of E)for(const te of Wt){const he=St?te:Ox(te,M,q,J);let Ee=Gt;const Je=M.projectTileCoordinates(te.x,te.y,q,J).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ee*=Je/M.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ee*=M.cameraToCenterDistance/Je),Nx(Vt,he,Ee))return!0}return!1}}function Ox(f,l,h,b){const E=l.projectTileCoordinates(f.x,f.y,h,b).point;return new O((.5*E.x+.5)*l.width,(.5*-E.y+.5)*l.height)}class Dx extends T0{}let Bx;Ce("HeatmapBucket",Dx,{omit:["layers"]});var Uy={get paint(){return Bx=Bx||new La({"heatmap-radius":new kn(Oe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kn(Oe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gn(Oe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ds(Oe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gn(Oe.paint_heatmap["heatmap-opacity"])})}};function R0(f,{width:l,height:h},b,E){if(E){if(E instanceof Uint8ClampedArray)E=new Uint8Array(E.buffer);else if(E.length!==l*h*b)throw new RangeError(`mismatched image size. expected: ${E.length} but got: ${l*h*b}`)}else E=new Uint8Array(l*h*b);return f.width=l,f.height=h,f.data=E,f}function qy(f,{width:l,height:h},b){if(l===f.width&&h===f.height)return;const E=R0({},{width:l,height:h},b);N0(f,E,{x:0,y:0},{x:0,y:0},{width:Math.min(f.width,l),height:Math.min(f.height,h)},b),f.width=l,f.height=h,f.data=E.data}function N0(f,l,h,b,E,M){if(E.width===0||E.height===0)return l;if(E.width>f.width||E.height>f.height||h.x>f.width-E.width||h.y>f.height-E.height)throw new RangeError("out of range source coordinates for image copy");if(E.width>l.width||E.height>l.height||b.x>l.width-E.width||b.y>l.height-E.height)throw new RangeError("out of range destination coordinates for image copy");const P=f.data,q=l.data;if(P===q)throw new Error("srcData equals dstData, so image is already copied");for(let J=0;J<E.height;J++){const ot=((h.y+J)*f.width+h.x)*M,ft=((b.y+J)*l.width+b.x)*M;for(let St=0;St<E.width*M;St++)q[ft+St]=P[ot+St]}return l}class Gy{constructor(l,h){R0(this,l,1,h)}resize(l){qy(this,l,1)}clone(){return new Gy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,b,E,M){N0(l,h,b,E,M,1)}}class cc{constructor(l,h){R0(this,l,4,h)}resize(l){qy(this,l,4)}replace(l,h){h?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new cc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,b,E,M){N0(l,h,b,E,M,4)}setPixel(l,h,b){const E=4*(l*this.width+h);this.data[E+0]=Math.round(255*b.r/b.a),this.data[E+1]=Math.round(255*b.g/b.a),this.data[E+2]=Math.round(255*b.b/b.a),this.data[E+3]=Math.round(255*b.a)}}function L0(f){const l={},h=f.resolution||256,b=f.clips?f.clips.length:1,E=f.image||new cc({width:h,height:b});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const M=(P,q,J)=>{l[f.evaluationKey]=J;const ot=f.expression.evaluate(l);E.setPixel(P/4/h,q/4,ot)};if(f.clips)for(let P=0,q=0;P<b;++P,q+=4*h)for(let J=0,ot=0;J<h;J++,ot+=4){const ft=J/(h-1),{start:St,end:Vt}=f.clips[P];M(q,ot,St*(1-ft)+Vt*ft)}else for(let P=0,q=0;P<h;P++,q+=4)M(0,q,P/(h-1));return E}Ce("AlphaImage",Gy),Ce("RGBAImage",cc);const M0="big-fb";class gS extends Ma{createBucket(l){return new Dx(l)}constructor(l){super(l,Uy),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=L0({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(M0)&&this.heatmapFbos.delete(M0)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let zx;var Fx={get paint(){return zx=zx||new La({"hillshade-illumination-direction":new gn(Oe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new gn(Oe.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new gn(Oe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gn(Oe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gn(Oe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gn(Oe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gn(Oe.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new gn(Oe.paint_hillshade["hillshade-method"])})}};class jx extends Ma{constructor(l){super(l,Fx),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let l=this.paint.get("hillshade-illumination-direction").values,h=this.paint.get("hillshade-illumination-altitude").values,b=this.paint.get("hillshade-highlight-color").values,E=this.paint.get("hillshade-shadow-color").values;const M=Math.max(l.length,h.length,b.length,E.length);l=l.concat(Array(M-l.length).fill(l.at(-1))),h=h.concat(Array(M-h.length).fill(h.at(-1))),b=b.concat(Array(M-b.length).fill(b.at(-1))),E=E.concat(Array(M-E.length).fill(E.at(-1)));const P=h.map(Or);return{directionRadians:l.map(Or),altitudeRadians:P,shadowColor:E,highlightColor:b}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let P0;var yS={get paint(){return P0=P0||new La({"color-relief-opacity":new gn(Oe["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Ds(Oe["paint_color-relief"]["color-relief-color"])})}};class Hy{constructor(l,h,b,E){this.context=l,this.format=b,this.texture=l.gl.createTexture(),this.update(h,E)}update(l,h,b){const{width:E,height:M}=l,P=!(this.size&&this.size[0]===E&&this.size[1]===M||b),{context:q}=this,{gl:J}=q;if(this.useMipmap=!!(h&&h.useMipmap),J.bindTexture(J.TEXTURE_2D,this.texture),q.pixelStoreUnpackFlipY.set(!1),q.pixelStoreUnpack.set(1),q.pixelStoreUnpackPremultiplyAlpha.set(this.format===J.RGBA&&(!h||h.premultiply!==!1)),P)this.size=[E,M],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||ir(l)?J.texImage2D(J.TEXTURE_2D,0,this.format,this.format,J.UNSIGNED_BYTE,l):J.texImage2D(J.TEXTURE_2D,0,this.format,E,M,0,this.format,J.UNSIGNED_BYTE,l.data);else{const{x:ot,y:ft}=b||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||ir(l)?J.texSubImage2D(J.TEXTURE_2D,0,ot,ft,J.RGBA,J.UNSIGNED_BYTE,l):J.texSubImage2D(J.TEXTURE_2D,0,ot,ft,E,M,J.RGBA,J.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&J.generateMipmap(J.TEXTURE_2D),q.pixelStoreUnpackFlipY.setDefault(),q.pixelStoreUnpack.setDefault(),q.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(l,h,b){const{context:E}=this,{gl:M}=E;M.bindTexture(M.TEXTURE_2D,this.texture),b!==M.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(b=M.LINEAR),l!==this.filter&&(M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,l),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,b||l),this.filter=l),h!==this.wrap&&(M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,h),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class Xy{constructor(l,h,b,E=1,M=1,P=1,q=0){if(this.uid=l,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(b&&!["mapbox","terrarium","custom"].includes(b))return void vr(`"${b}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const J=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),b){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=E,this.greenFactor=M,this.blueFactor=P,this.baseShift=q;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let ot=0;ot<J;ot++)this.data[this._idx(-1,ot)]=this.data[this._idx(0,ot)],this.data[this._idx(J,ot)]=this.data[this._idx(J-1,ot)],this.data[this._idx(ot,-1)]=this.data[this._idx(ot,0)],this.data[this._idx(ot,J)]=this.data[this._idx(ot,J-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(J,-1)]=this.data[this._idx(J-1,0)],this.data[this._idx(-1,J)]=this.data[this._idx(0,J-1)],this.data[this._idx(J,J)]=this.data[this._idx(J-1,J-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let ot=0;ot<J;ot++)for(let ft=0;ft<J;ft++){const St=this.get(ot,ft);St>this.max&&(this.max=St),St<this.min&&(this.min=St)}}get(l,h){const b=new Uint8Array(this.data.buffer),E=4*this._idx(l,h);return this.unpack(b[E],b[E+1],b[E+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,h){if(l<-1||l>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(l+1)}unpack(l,h,b){return l*this.redFactor+h*this.greenFactor+b*this.blueFactor-this.baseShift}pack(l){return O0(l,this.getUnpackVector())}getPixels(){return new cc({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,h,b){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let E=h*this.dim,M=h*this.dim+this.dim,P=b*this.dim,q=b*this.dim+this.dim;switch(h){case-1:E=M-1;break;case 1:M=E+1}switch(b){case-1:P=q-1;break;case 1:q=P+1}const J=-h*this.dim,ot=-b*this.dim;for(let ft=P;ft<q;ft++)for(let St=E;St<M;St++)this.data[this._idx(St,ft)]=l.data[this._idx(St+J,ft+ot)]}}function O0(f,l){const h=l[0],b=l[1],E=l[2],M=l[3],P=Math.min(h,b,E),q=Math.round((f+M)/P);return{r:Math.floor(q*P/h)%256,g:Math.floor(q*P/b)%256,b:Math.floor(q*P/E)%256}}Ce("DEMData",Xy);class vS extends Ma{constructor(l){super(l,yS)}_createColorRamp(l){const h={elevationStops:[],colorStops:[]},b=this._transitionablePaint._values["color-relief-color"].value.expression;if(b instanceof Yc&&b._styleExpression.expression instanceof wi){this.colorRampExpression=b;const P=b._styleExpression.expression;h.elevationStops=P.labels,h.colorStops=[];for(const q of h.elevationStops)h.colorStops.push(P.evaluate({globals:{elevation:q}}))}if(h.elevationStops.length<1&&(h.elevationStops=[0],h.colorStops=[Nn.transparent]),h.elevationStops.length<2&&(h.elevationStops.push(h.elevationStops[0]+1),h.colorStops.push(h.colorStops[0])),h.elevationStops.length<=l)return h;const E={elevationStops:[],colorStops:[]},M=(h.elevationStops.length-1)/(l-1);for(let P=0;P<h.elevationStops.length-.5;P+=M)E.elevationStops.push(h.elevationStops[Math.round(P)]),E.colorStops.push(h.colorStops[Math.round(P)]);return vr(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),E}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(l,h,b){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const E=this._createColorRamp(h),M=new cc({width:E.colorStops.length,height:1}),P=new cc({width:E.colorStops.length,height:1});for(let q=0;q<E.elevationStops.length;q++){const J=O0(E.elevationStops[q],b);P.setPixel(0,q,new Nn(J.r/255,J.g/255,J.b/255,1)),M.setPixel(0,q,E.colorStops[q])}return this.colorRampTextures={elevationTexture:new Hy(l,P,l.gl.RGBA),colorTexture:new Hy(l,M,l.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const Vx=Oi([{name:"a_pos",components:2,type:"Int16"}],4),{members:bS}=Vx;function Pd(f,l,h){const b=h.patternDependencies;let E=!1;for(const M of l){const P=M.paint.get(`${f}-pattern`);P.isConstant()||(E=!0);const q=P.constantOr(null);q&&(E=!0,b[q.to]=!0,b[q.from]=!0)}return E}function Wy(f,l,h,b,E){const M=E.patternDependencies;for(const P of l){const q=P.paint.get(`${f}-pattern`).value;if(q.kind!=="constant"){let J=q.evaluate({zoom:b-1},h,{},E.availableImages),ot=q.evaluate({zoom:b},h,{},E.availableImages),ft=q.evaluate({zoom:b+1},h,{},E.availableImages);J=J&&J.name?J.name:J,ot=ot&&ot.name?ot.name:ot,ft=ft&&ft.name?ft.name:ft,M[J]=!0,M[ot]=!0,M[ft]=!0,h.patterns[P.id]={min:J,mid:ot,max:ft}}}return h}function _S(f,l,h,b,E){let M;if(E===(function(P,q,J,ot){let ft=0;for(let St=q,Vt=J-ot;St<J;St+=ot)ft+=(P[Vt]-P[St])*(P[St+1]+P[Vt+1]),Vt=St;return ft})(f,l,h,b)>0)for(let P=l;P<h;P+=b)M=Qy(P/b|0,f[P],f[P+1],M);else for(let P=h-b;P>=l;P-=b)M=Qy(P/b|0,f[P],f[P+1],M);return M&&Jc(M,M.next)&&($g(M),M=M.next),M}function Fp(f,l){if(!f)return f;l||(l=f);let h,b=f;do if(h=!1,b.steiner||!Jc(b,b.next)&&zs(b.prev,b,b.next)!==0)b=b.next;else{if($g(b),b=l=b.prev,b===b.next)break;h=!0}while(h||b!==l);return l}function Fh(f,l,h,b,E,M,P){if(!f)return;!P&&M&&(function(J,ot,ft,St){let Vt=J;do Vt.z===0&&(Vt.z=B0(Vt.x,Vt.y,ot,ft,St)),Vt.prevZ=Vt.prev,Vt.nextZ=Vt.next,Vt=Vt.next;while(Vt!==J);Vt.prevZ.nextZ=null,Vt.prevZ=null,(function(Gt){let Wt,te=1;do{let he,Ee=Gt;Gt=null;let Je=null;for(Wt=0;Ee;){Wt++;let De=Ee,Ut=0;for(let Ve=0;Ve<te&&(Ut++,De=De.nextZ,De);Ve++);let le=te;for(;Ut>0||le>0&&De;)Ut!==0&&(le===0||!De||Ee.z<=De.z)?(he=Ee,Ee=Ee.nextZ,Ut--):(he=De,De=De.nextZ,le--),Je?Je.nextZ=he:Gt=he,he.prevZ=Je,Je=he;Ee=De}Je.nextZ=null,te*=2}while(Wt>1)})(Vt)})(f,b,E,M);let q=f;for(;f.prev!==f.next;){const J=f.prev,ot=f.next;if(M?xS(f,b,E,M):$x(f))l.push(J.i,f.i,ot.i),$g(f),f=ot.next,q=ot.next;else if((f=ot)===q){P?P===1?Fh(f=D0(Fp(f),l),l,h,b,E,M,2):P===2&&Yy(f,l,h,b,E,M):Fh(Fp(f),l,h,b,E,M,1);break}}}function $x(f){const l=f.prev,h=f,b=f.next;if(zs(l,h,b)>=0)return!1;const E=l.x,M=h.x,P=b.x,q=l.y,J=h.y,ot=b.y,ft=Math.min(E,M,P),St=Math.min(q,J,ot),Vt=Math.max(E,M,P),Gt=Math.max(q,J,ot);let Wt=b.next;for(;Wt!==l;){if(Wt.x>=ft&&Wt.x<=Vt&&Wt.y>=St&&Wt.y<=Gt&&jg(E,q,M,J,P,ot,Wt.x,Wt.y)&&zs(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.next}return!0}function xS(f,l,h,b){const E=f.prev,M=f,P=f.next;if(zs(E,M,P)>=0)return!1;const q=E.x,J=M.x,ot=P.x,ft=E.y,St=M.y,Vt=P.y,Gt=Math.min(q,J,ot),Wt=Math.min(ft,St,Vt),te=Math.max(q,J,ot),he=Math.max(ft,St,Vt),Ee=B0(Gt,Wt,l,h,b),Je=B0(te,he,l,h,b);let De=f.prevZ,Ut=f.nextZ;for(;De&&De.z>=Ee&&Ut&&Ut.z<=Je;){if(De.x>=Gt&&De.x<=te&&De.y>=Wt&&De.y<=he&&De!==E&&De!==P&&jg(q,ft,J,St,ot,Vt,De.x,De.y)&&zs(De.prev,De,De.next)>=0||(De=De.prevZ,Ut.x>=Gt&&Ut.x<=te&&Ut.y>=Wt&&Ut.y<=he&&Ut!==E&&Ut!==P&&jg(q,ft,J,St,ot,Vt,Ut.x,Ut.y)&&zs(Ut.prev,Ut,Ut.next)>=0))return!1;Ut=Ut.nextZ}for(;De&&De.z>=Ee;){if(De.x>=Gt&&De.x<=te&&De.y>=Wt&&De.y<=he&&De!==E&&De!==P&&jg(q,ft,J,St,ot,Vt,De.x,De.y)&&zs(De.prev,De,De.next)>=0)return!1;De=De.prevZ}for(;Ut&&Ut.z<=Je;){if(Ut.x>=Gt&&Ut.x<=te&&Ut.y>=Wt&&Ut.y<=he&&Ut!==E&&Ut!==P&&jg(q,ft,J,St,ot,Vt,Ut.x,Ut.y)&&zs(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.nextZ}return!0}function D0(f,l){let h=f;do{const b=h.prev,E=h.next.next;!Jc(b,E)&&Ux(b,h,h.next,E)&&qm(b,E)&&qm(E,b)&&(l.push(b.i,h.i,E.i),$g(h),$g(h.next),h=f=E),h=h.next}while(h!==f);return Fp(h)}function Yy(f,l,h,b,E,M){let P=f;do{let q=P.next.next;for(;q!==P.prev;){if(P.i!==q.i&&wS(P,q)){let J=z0(P,q);return P=Fp(P,P.next),J=Fp(J,J.next),Fh(P,l,h,b,E,M,0),void Fh(J,l,h,b,E,M,0)}q=q.next}P=P.next}while(P!==f)}function ul(f,l){let h=f.x-l.x;return h===0&&(h=f.y-l.y,h===0)&&(h=(f.next.y-f.y)/(f.next.x-f.x)-(l.next.y-l.y)/(l.next.x-l.x)),h}function XA(f,l){const h=(function(E,M){let P=M;const q=E.x,J=E.y;let ot,ft=-1/0;if(Jc(E,P))return P;do{if(Jc(E,P.next))return P.next;if(J<=P.y&&J>=P.next.y&&P.next.y!==P.y){const te=P.x+(J-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(te<=q&&te>ft&&(ft=te,ot=P.x<P.next.x?P:P.next,te===q))return ot}P=P.next}while(P!==M);if(!ot)return null;const St=ot,Vt=ot.x,Gt=ot.y;let Wt=1/0;P=ot;do{if(q>=P.x&&P.x>=Vt&&q!==P.x&&Kf(J<Gt?q:ft,J,Vt,Gt,J<Gt?ft:q,J,P.x,P.y)){const te=Math.abs(J-P.y)/(q-P.x);qm(P,E)&&(te<Wt||te===Wt&&(P.x>ot.x||P.x===ot.x&&WA(ot,P)))&&(ot=P,Wt=te)}P=P.next}while(P!==St);return ot})(f,l);if(!h)return l;const b=z0(h,f);return Fp(b,b.next),Fp(h,h.next)}function WA(f,l){return zs(f.prev,f,l.prev)<0&&zs(l.next,f,f.next)<0}function B0(f,l,h,b,E){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=(f-h)*E|0)|f<<8))|f<<4))|f<<2))|f<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-b)*E|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function Ky(f){let l=f,h=f;do(l.x<h.x||l.x===h.x&&l.y<h.y)&&(h=l),l=l.next;while(l!==f);return h}function Kf(f,l,h,b,E,M,P,q){return(E-P)*(l-q)>=(f-P)*(M-q)&&(f-P)*(b-q)>=(h-P)*(l-q)&&(h-P)*(M-q)>=(E-P)*(b-q)}function jg(f,l,h,b,E,M,P,q){return!(f===P&&l===q)&&Kf(f,l,h,b,E,M,P,q)}function wS(f,l){return f.next.i!==l.i&&f.prev.i!==l.i&&!(function(h,b){let E=h;do{if(E.i!==h.i&&E.next.i!==h.i&&E.i!==b.i&&E.next.i!==b.i&&Ux(E,E.next,h,b))return!0;E=E.next}while(E!==h);return!1})(f,l)&&(qm(f,l)&&qm(l,f)&&(function(h,b){let E=h,M=!1;const P=(h.x+b.x)/2,q=(h.y+b.y)/2;do E.y>q!=E.next.y>q&&E.next.y!==E.y&&P<(E.next.x-E.x)*(q-E.y)/(E.next.y-E.y)+E.x&&(M=!M),E=E.next;while(E!==h);return M})(f,l)&&(zs(f.prev,f,l.prev)||zs(f,l.prev,l))||Jc(f,l)&&zs(f.prev,f,f.next)>0&&zs(l.prev,l,l.next)>0)}function zs(f,l,h){return(l.y-f.y)*(h.x-l.x)-(l.x-f.x)*(h.y-l.y)}function Jc(f,l){return f.x===l.x&&f.y===l.y}function Ux(f,l,h,b){const E=Zy(zs(f,l,h)),M=Zy(zs(f,l,b)),P=Zy(zs(h,b,f)),q=Zy(zs(h,b,l));return E!==M&&P!==q||!(E!==0||!Vg(f,h,l))||!(M!==0||!Vg(f,b,l))||!(P!==0||!Vg(h,f,b))||!(q!==0||!Vg(h,l,b))}function Vg(f,l,h){return l.x<=Math.max(f.x,h.x)&&l.x>=Math.min(f.x,h.x)&&l.y<=Math.max(f.y,h.y)&&l.y>=Math.min(f.y,h.y)}function Zy(f){return f>0?1:f<0?-1:0}function qm(f,l){return zs(f.prev,f,f.next)<0?zs(f,l,f.next)>=0&&zs(f,f.prev,l)>=0:zs(f,l,f.prev)<0||zs(f,f.next,l)<0}function z0(f,l){const h=Od(f.i,f.x,f.y),b=Od(l.i,l.x,l.y),E=f.next,M=l.prev;return f.next=l,l.prev=f,h.next=E,E.prev=h,b.next=h,h.prev=b,M.next=b,b.prev=M,b}function Qy(f,l,h,b){const E=Od(f,l,h);return b?(E.next=b.next,E.prev=b,b.next.prev=E,b.next=E):(E.prev=E,E.next=E),E}function $g(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function Od(f,l,h){return{i:f,x:l,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class cl{constructor(l,h){if(h>l)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=l,this._minGranularity=h}getGranularityForZoomLevel(l){return Math.max(Math.floor(this._baseZoomGranularity/(1<<l)),this._minGranularity,1)}}class Ug{constructor(l){this.fill=l.fill,this.line=l.line,this.tile=l.tile,this.stencil=l.stencil,this.circle=l.circle}}Ug.noSubdivision=new Ug({fill:new cl(0,0),line:new cl(0,0),tile:new cl(0,0),stencil:new cl(0,0),circle:1}),Ce("SubdivisionGranularityExpression",cl),Ce("SubdivisionGranularitySetting",Ug);const Gm=-32768,tu=32767;class YA{constructor(l,h){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=l,this._granularityCellSize=lt/l,this._canonical=h}_getKey(l,h){return(l+=32768)<<16|h+32768}_vertexToIndex(l,h){if(l<-32768||h<-32768||l>32767||h>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const b=0|Math.round(l),E=0|Math.round(h),M=this._getKey(b,E);if(this._vertexDictionary.has(M))return this._vertexDictionary.get(M);const P=this._vertexBuffer.length/2;return this._vertexDictionary.set(M,P),this._vertexBuffer.push(b,E),P}_subdivideTrianglesScanline(l){if(this._granularity<2)return(function(E,M){const P=[];for(let q=0;q<M.length;q+=3){const J=M[q],ot=M[q+1],ft=M[q+2],St=E[2*J],Vt=E[2*J+1];(E[2*ot]-St)*(E[2*ft+1]-Vt)-(E[2*ot+1]-Vt)*(E[2*ft]-St)>0?(P.push(J),P.push(ft),P.push(ot)):(P.push(J),P.push(ot),P.push(ft))}return P})(this._vertexBuffer,l);const h=[],b=l.length;for(let E=0;E<b;E+=3){const M=[l[E+0],l[E+1],l[E+2]],P=[this._vertexBuffer[2*l[E+0]+0],this._vertexBuffer[2*l[E+0]+1],this._vertexBuffer[2*l[E+1]+0],this._vertexBuffer[2*l[E+1]+1],this._vertexBuffer[2*l[E+2]+0],this._vertexBuffer[2*l[E+2]+1]];let q=1/0,J=1/0,ot=-1/0,ft=-1/0;for(let te=0;te<3;te++){const he=P[2*te],Ee=P[2*te+1];q=Math.min(q,he),ot=Math.max(ot,he),J=Math.min(J,Ee),ft=Math.max(ft,Ee)}if(q===ot||J===ft)continue;const St=Math.floor(q/this._granularityCellSize),Vt=Math.ceil(ot/this._granularityCellSize),Gt=Math.floor(J/this._granularityCellSize),Wt=Math.ceil(ft/this._granularityCellSize);if(St!==Vt||Gt!==Wt)for(let te=Gt;te<Wt;te++){const he=this._scanlineGenerateVertexRingForCellRow(te,P,M);xl(this._vertexBuffer,he,h)}else h.push(...M)}return h}_scanlineGenerateVertexRingForCellRow(l,h,b){const E=l*this._granularityCellSize,M=E+this._granularityCellSize,P=[];for(let q=0;q<3;q++){const J=h[2*q],ot=h[2*q+1],ft=h[2*(q+1)%6],St=h[(2*(q+1)+1)%6],Vt=h[2*(q+2)%6],Gt=h[(2*(q+2)+1)%6],Wt=ft-J,te=St-ot,he=Wt===0,Ee=te===0,Je=(E-ot)/te,De=(M-ot)/te,Ut=Math.min(Je,De),le=Math.max(Je,De);if(!Ee&&(Ut>=1||le<=0)||Ee&&(ot<E||ot>M)){St>=E&&St<=M&&P.push(b[(q+1)%3]);continue}!Ee&&Ut>0&&P.push(this._vertexToIndex(J+Wt*Ut,ot+te*Ut));const Ve=J+Wt*Math.max(Ut,0),Tr=J+Wt*Math.min(le,1);he||this._generateIntraEdgeVertices(P,J,ot,ft,St,Ve,Tr),!Ee&&le<1&&P.push(this._vertexToIndex(J+Wt*le,ot+te*le)),(Ee||St>=E&&St<=M)&&P.push(b[(q+1)%3]),!Ee&&(St<=E||St>=M)&&this._generateInterEdgeVertices(P,J,ot,ft,St,Vt,Gt,Tr,E,M)}return P}_generateIntraEdgeVertices(l,h,b,E,M,P,q){const J=E-h,ot=M-b,ft=ot===0,St=ft?Math.min(h,E):Math.min(P,q),Vt=ft?Math.max(h,E):Math.max(P,q),Gt=Math.floor(St/this._granularityCellSize)+1,Wt=Math.ceil(Vt/this._granularityCellSize)-1;if(ft?h<E:P<q)for(let te=Gt;te<=Wt;te++){const he=te*this._granularityCellSize;l.push(this._vertexToIndex(he,b+ot*(he-h)/J))}else for(let te=Wt;te>=Gt;te--){const he=te*this._granularityCellSize;l.push(this._vertexToIndex(he,b+ot*(he-h)/J))}}_generateInterEdgeVertices(l,h,b,E,M,P,q,J,ot,ft){const St=M-b,Vt=P-E,Gt=q-M,Wt=(ot-M)/Gt,te=(ft-M)/Gt,he=Math.min(Wt,te),Ee=Math.max(Wt,te),Je=E+Vt*he;let De=Math.floor(Math.min(Je,J)/this._granularityCellSize)+1,Ut=Math.ceil(Math.max(Je,J)/this._granularityCellSize)-1,le=J<Je;const Ve=Gt===0;if(Ve&&(q===ot||q===ft))return;if(Ve||he>=1||Ee<=0){const hn=b-q,jr=P+(h-P)*Math.min((ot-q)/hn,(ft-q)/hn);De=Math.floor(Math.min(jr,J)/this._granularityCellSize)+1,Ut=Math.ceil(Math.max(jr,J)/this._granularityCellSize)-1,le=J<jr}const Tr=St>0?ft:ot;if(le)for(let hn=De;hn<=Ut;hn++)l.push(this._vertexToIndex(hn*this._granularityCellSize,Tr));else for(let hn=Ut;hn>=De;hn--)l.push(this._vertexToIndex(hn*this._granularityCellSize,Tr))}_generateOutline(l){const h=[];for(const b of l){const E=jp(b,this._granularity,!0),M=this._pointArrayToIndices(E),P=[];for(let q=1;q<M.length;q++)P.push(M[q-1]),P.push(M[q]);h.push(P)}return h}_handlePoles(l){let h=!1,b=!1;this._canonical&&(this._canonical.y===0&&(h=!0),this._canonical.y===(1<<this._canonical.z)-1&&(b=!0)),(h||b)&&this._fillPoles(l,h,b)}_ensureNoPoleVertices(){const l=this._vertexBuffer;for(let h=0;h<l.length;h+=2){const b=l[h+1];b===Gm&&(l[h+1]=-32767),b===tu&&(l[h+1]=32766)}}_generatePoleQuad(l,h,b,E,M,P){E>M!=(P===Gm)?(l.push(h),l.push(b),l.push(this._vertexToIndex(E,P)),l.push(b),l.push(this._vertexToIndex(M,P)),l.push(this._vertexToIndex(E,P))):(l.push(b),l.push(h),l.push(this._vertexToIndex(E,P)),l.push(this._vertexToIndex(M,P)),l.push(b),l.push(this._vertexToIndex(E,P)))}_fillPoles(l,h,b){const E=this._vertexBuffer,M=lt,P=l.length;for(let q=2;q<P;q+=3){const J=l[q-2],ot=l[q-1],ft=l[q],St=E[2*J],Vt=E[2*J+1],Gt=E[2*ot],Wt=E[2*ot+1],te=E[2*ft],he=E[2*ft+1];h&&(Vt===0&&Wt===0&&this._generatePoleQuad(l,J,ot,St,Gt,Gm),Wt===0&&he===0&&this._generatePoleQuad(l,ot,ft,Gt,te,Gm),he===0&&Vt===0&&this._generatePoleQuad(l,ft,J,te,St,Gm)),b&&(Vt===M&&Wt===M&&this._generatePoleQuad(l,J,ot,St,Gt,tu),Wt===M&&he===M&&this._generatePoleQuad(l,ot,ft,Gt,te,tu),he===M&&Vt===M&&this._generatePoleQuad(l,ft,J,te,St,tu))}}_initializeVertices(l){for(let h=0;h<l.length;h+=2)this._vertexToIndex(l[h],l[h+1])}subdividePolygonInternal(l,h){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:b,holeIndices:E}=(function(q){const J=[],ot=[];for(const ft of q)if(ft.length!==0){ft!==q[0]&&J.push(ot.length/2);for(let St=0;St<ft.length;St++)ot.push(ft[St].x),ot.push(ft[St].y)}return{flattened:ot,holeIndices:J}})(l);let M;this._initializeVertices(b);try{const q=(function(ot,ft,St=2){const Vt=ft&&ft.length,Gt=Vt?ft[0]*St:ot.length;let Wt=_S(ot,0,Gt,St,!0);const te=[];if(!Wt||Wt.next===Wt.prev)return te;let he,Ee,Je;if(Vt&&(Wt=(function(De,Ut,le,Ve){const Tr=[];for(let hn=0,jr=Ut.length;hn<jr;hn++){const Gr=_S(De,Ut[hn]*Ve,hn<jr-1?Ut[hn+1]*Ve:De.length,Ve,!1);Gr===Gr.next&&(Gr.steiner=!0),Tr.push(Ky(Gr))}Tr.sort(ul);for(let hn=0;hn<Tr.length;hn++)le=XA(Tr[hn],le);return le})(ot,ft,Wt,St)),ot.length>80*St){he=1/0,Ee=1/0;let De=-1/0,Ut=-1/0;for(let le=St;le<Gt;le+=St){const Ve=ot[le],Tr=ot[le+1];Ve<he&&(he=Ve),Tr<Ee&&(Ee=Tr),Ve>De&&(De=Ve),Tr>Ut&&(Ut=Tr)}Je=Math.max(De-he,Ut-Ee),Je=Je!==0?32767/Je:0}return Fh(Wt,te,St,he,Ee,Je,0),te})(b,E),J=this._convertIndices(b,q);M=this._subdivideTrianglesScanline(J)}catch(q){console.error(q)}let P=[];return h&&(P=this._generateOutline(l)),this._ensureNoPoleVertices(),this._handlePoles(M),{verticesFlattened:this._vertexBuffer,indicesTriangles:M,indicesLineList:P}}_convertIndices(l,h){const b=[];for(let E=0;E<h.length;E++)b.push(this._vertexToIndex(l[2*h[E]],l[2*h[E]+1]));return b}_pointArrayToIndices(l){const h=[];for(let b=0;b<l.length;b++){const E=l[b];h.push(this._vertexToIndex(E.x,E.y))}return h}}function qx(f,l,h,b=!0){return new YA(h,l).subdividePolygonInternal(f,b)}function jp(f,l,h=!1){if(!f||f.length<1)return[];if(f.length<2)return[];const b=f[0],E=f[f.length-1],M=h&&(b.x!==E.x||b.y!==E.y);if(l<2)return M?[...f,f[0]]:[...f];const P=Math.floor(lt/l),q=[];q.push(new O(f[0].x,f[0].y));const J=f.length,ot=M?J:J-1;for(let ft=0;ft<ot;ft++){const St=f[ft],Vt=ft<J-1?f[ft+1]:f[0],Gt=St.x,Wt=St.y,te=Vt.x,he=Vt.y,Ee=Gt!==te,Je=Wt!==he;if(!Ee&&!Je)continue;const De=te-Gt,Ut=he-Wt,le=Math.abs(De),Ve=Math.abs(Ut);let Tr=Gt,hn=Wt;for(;;){const Gr=De>0?(Math.floor(Tr/P)+1)*P:(Math.ceil(Tr/P)-1)*P,xn=Ut>0?(Math.floor(hn/P)+1)*P:(Math.ceil(hn/P)-1)*P,sn=Math.abs(Tr-Gr),_n=Math.abs(hn-xn),Hr=Math.abs(Tr-te),qn=Math.abs(hn-he),vi=Ee?sn/le:Number.POSITIVE_INFINITY,ui=Je?_n/Ve:Number.POSITIVE_INFINITY;if((Hr<=sn||!Ee)&&(qn<=_n||!Je))break;if(vi<ui&&Ee||!Je){Tr=Gr,hn+=Ut*vi;const oi=new O(Tr,Math.round(hn));q[q.length-1].x===oi.x&&q[q.length-1].y===oi.y||q.push(oi)}else{Tr+=De*ui,hn=xn;const oi=new O(Math.round(Tr),hn);q[q.length-1].x===oi.x&&q[q.length-1].y===oi.y||q.push(oi)}}const jr=new O(te,he);q[q.length-1].x===jr.x&&q[q.length-1].y===jr.y||q.push(jr)}return q}function xl(f,l,h){if(l.length===0)throw new Error("Subdivision vertex ring is empty.");let b=0,E=f[2*l[0]];for(let J=1;J<l.length;J++){const ot=f[2*l[J]];ot<E&&(E=ot,b=J)}const M=l.length;let P=b,q=(P+1)%M;for(;;){const J=P-1>=0?P-1:M-1,ot=(q+1)%M,ft=f[2*l[J]],St=f[2*l[ot]],Vt=f[2*l[P]],Gt=f[2*l[P]+1],Wt=f[2*l[q]+1];let te=!1;if(ft<St)te=!0;else if(ft>St)te=!1;else{const he=Wt-Gt,Ee=-(f[2*l[q]]-Vt),Je=Gt<Wt?1:-1;((ft-Vt)*he+(f[2*l[J]+1]-Gt)*Ee)*Je>((St-Vt)*he+(f[2*l[ot]+1]-Gt)*Ee)*Je&&(te=!0)}if(te){const he=l[J],Ee=l[P],Je=l[q];he!==Ee&&he!==Je&&Ee!==Je&&h.push(Je,Ee,he),P--,P<0&&(P=M-1)}else{const he=l[ot],Ee=l[P],Je=l[q];he!==Ee&&he!==Je&&Ee!==Je&&h.push(Je,Ee,he),q++,q>=M&&(q=0)}if(J===ot)break}}function th(f,l,h,b,E,M,P,q,J){const ot=E.length/2,ft=P&&q&&J;if(ot<ua.MAX_VERTEX_ARRAY_LENGTH){const St=l.prepareSegment(ot,h,b),Vt=St.vertexLength;for(let te=0;te<M.length;te+=3)b.emplaceBack(Vt+M[te],Vt+M[te+1],Vt+M[te+2]);let Gt,Wt;St.vertexLength+=ot,St.primitiveLength+=M.length/3,ft&&(Wt=P.prepareSegment(ot,h,q),Gt=Wt.vertexLength,Wt.vertexLength+=ot);for(let te=0;te<E.length;te+=2)f(E[te],E[te+1]);if(ft)for(let te=0;te<J.length;te++){const he=J[te];for(let Ee=1;Ee<he.length;Ee+=2)q.emplaceBack(Gt+he[Ee-1],Gt+he[Ee]);Wt.primitiveLength+=he.length/2}}else(function(St,Vt,Gt,Wt,te,he){const Ee=[];for(let Ve=0;Ve<Wt.length/2;Ve++)Ee.push(-1);const Je={count:0};let De=0,Ut=St.getOrCreateLatestSegment(Vt,Gt),le=Ut.vertexLength;for(let Ve=2;Ve<te.length;Ve+=3){const Tr=te[Ve-2],hn=te[Ve-1],jr=te[Ve];let Gr=Ee[Tr]<De,xn=Ee[hn]<De,sn=Ee[jr]<De;Ut.vertexLength+((Gr?1:0)+(xn?1:0)+(sn?1:0))>ua.MAX_VERTEX_ARRAY_LENGTH&&(Ut=St.createNewSegment(Vt,Gt),De=Je.count,Gr=!0,xn=!0,sn=!0,le=0);const _n=jh(Ee,Wt,he,Je,Tr,Gr,Ut),Hr=jh(Ee,Wt,he,Je,hn,xn,Ut),qn=jh(Ee,Wt,he,Je,jr,sn,Ut);Gt.emplaceBack(le+_n-De,le+Hr-De,le+qn-De),Ut.primitiveLength++}})(l,h,b,E,M,f),ft&&(function(St,Vt,Gt,Wt,te,he){const Ee=[];for(let Ve=0;Ve<Wt.length/2;Ve++)Ee.push(-1);const Je={count:0};let De=0,Ut=St.getOrCreateLatestSegment(Vt,Gt),le=Ut.vertexLength;for(let Ve=0;Ve<te.length;Ve++){const Tr=te[Ve];for(let hn=1;hn<te[Ve].length;hn+=2){const jr=Tr[hn-1],Gr=Tr[hn];let xn=Ee[jr]<De,sn=Ee[Gr]<De;Ut.vertexLength+((xn?1:0)+(sn?1:0))>ua.MAX_VERTEX_ARRAY_LENGTH&&(Ut=St.createNewSegment(Vt,Gt),De=Je.count,xn=!0,sn=!0,le=0);const _n=jh(Ee,Wt,he,Je,jr,xn,Ut),Hr=jh(Ee,Wt,he,Je,Gr,sn,Ut);Gt.emplaceBack(le+_n-De,le+Hr-De),Ut.primitiveLength++}}})(P,h,q,E,J,f),l.forceNewSegmentOnNextPrepare(),P?.forceNewSegmentOnNextPrepare()}function jh(f,l,h,b,E,M,P){if(M){const q=b.count;return h(l[2*E],l[2*E+1]),f[E]=b.count,b.count++,P.vertexLength++,q}return f[E]}class F0{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new kr,this.indexArray=new Da,this.indexArray2=new Pa,this.programConfigurations=new Ld(l.layers,l.zoom),this.segments=new ua,this.segments2=new ua,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){this.hasPattern=Pd("fill",this.layers,h);const E=this.layers[0].layout.get("fill-sort-key"),M=!E.isConstant(),P=[];for(const{feature:q,id:J,index:ot,sourceLayerIndex:ft}of l){const St=this.layers[0]._featureFilter.needGeometry,Vt=Md(q,St);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),Vt,b))continue;const Gt=M?E.evaluate(Vt,{},b,h.availableImages):void 0,Wt={id:J,properties:q.properties,type:q.type,sourceLayerIndex:ft,index:ot,geometry:St?Vt.geometry:zp(q),patterns:{},sortKey:Gt};P.push(Wt)}M&&P.sort(((q,J)=>q.sortKey-J.sortKey));for(const q of P){const{geometry:J,index:ot,sourceLayerIndex:ft}=q;if(this.hasPattern){const St=Wy("fill",this.layers,q,this.zoom,h);this.patternFeatures.push(St)}else this.addFeature(q,J,ot,b,{},h.subdivisionGranularity);h.featureIndex.insert(l[ot].feature,J,ot,ft,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}addFeatures(l,h,b){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,h,b,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,bS),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,h,b,E,M,P){for(const q of Al(h,500)){const J=qx(q,E,P.fill.getGranularityForZoomLevel(E.z)),ot=this.layoutVertexArray;th(((ft,St)=>{ot.emplaceBack(ft,St)}),this.segments,this.layoutVertexArray,this.indexArray,J.verticesFlattened,J.indicesTriangles,this.segments2,this.indexArray2,J.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,M,E)}}let Gx,Hx;Ce("FillBucket",F0,{omit:["layers","patternFeatures"]});var KA={get paint(){return Hx=Hx||new La({"fill-antialias":new gn(Oe.paint_fill["fill-antialias"]),"fill-opacity":new kn(Oe.paint_fill["fill-opacity"]),"fill-color":new kn(Oe.paint_fill["fill-color"]),"fill-outline-color":new kn(Oe.paint_fill["fill-outline-color"]),"fill-translate":new gn(Oe.paint_fill["fill-translate"]),"fill-translate-anchor":new gn(Oe.paint_fill["fill-translate-anchor"]),"fill-pattern":new ts(Oe.paint_fill["fill-pattern"])})},get layout(){return Gx=Gx||new La({"fill-sort-key":new kn(Oe.layout_fill["fill-sort-key"])})}};class j0 extends Ma{constructor(l){super(l,KA)}recalculate(l,h){super.recalculate(l,h);const b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new F0(l)}queryRadius(){return $y(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:l,geometry:h,transform:b,pixelsToTileUnits:E}){return Lx(k0(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-b.bearingInRadians,E),h)}isTileClipped(){return!0}}const xh=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Dd=Oi([{name:"a_centroid",components:2,type:"Int16"}],4),{members:SS}=xh;var Oc,Xx,Bd,Vp,zd,V0,$0,wh={};function Wx(){if(Xx)return Oc;Xx=1;var f=k();function l(E,M,P,q,J){this.properties={},this.extent=P,this.type=0,this._pbf=E,this._geometry=-1,this._keys=q,this._values=J,E.readFields(h,this,M)}function h(E,M,P){E==1?M.id=P.readVarint():E==2?(function(q,J){for(var ot=q.readVarint()+q.pos;q.pos<ot;){var ft=J._keys[q.readVarint()],St=J._values[q.readVarint()];J.properties[ft]=St}})(P,M):E==3?M.type=P.readVarint():E==4&&(M._geometry=P.pos)}function b(E){for(var M,P,q=0,J=0,ot=E.length,ft=ot-1;J<ot;ft=J++)q+=((P=E[ft]).x-(M=E[J]).x)*(M.y+P.y);return q}return Oc=l,l.types=["Unknown","Point","LineString","Polygon"],l.prototype.loadGeometry=function(){var E=this._pbf;E.pos=this._geometry;for(var M,P=E.readVarint()+E.pos,q=1,J=0,ot=0,ft=0,St=[];E.pos<P;){if(J<=0){var Vt=E.readVarint();q=7&Vt,J=Vt>>3}if(J--,q===1||q===2)ot+=E.readSVarint(),ft+=E.readSVarint(),q===1&&(M&&St.push(M),M=[]),M.push(new f(ot,ft));else{if(q!==7)throw new Error("unknown command "+q);M&&M.push(M[0].clone())}}return M&&St.push(M),St},l.prototype.bbox=function(){var E=this._pbf;E.pos=this._geometry;for(var M=E.readVarint()+E.pos,P=1,q=0,J=0,ot=0,ft=1/0,St=-1/0,Vt=1/0,Gt=-1/0;E.pos<M;){if(q<=0){var Wt=E.readVarint();P=7&Wt,q=Wt>>3}if(q--,P===1||P===2)(J+=E.readSVarint())<ft&&(ft=J),J>St&&(St=J),(ot+=E.readSVarint())<Vt&&(Vt=ot),ot>Gt&&(Gt=ot);else if(P!==7)throw new Error("unknown command "+P)}return[ft,Vt,St,Gt]},l.prototype.toGeoJSON=function(E,M,P){var q,J,ot=this.extent*Math.pow(2,P),ft=this.extent*E,St=this.extent*M,Vt=this.loadGeometry(),Gt=l.types[this.type];function Wt(Ee){for(var Je=0;Je<Ee.length;Je++){var De=Ee[Je];Ee[Je]=[360*(De.x+ft)/ot-180,360/Math.PI*Math.atan(Math.exp((180-360*(De.y+St)/ot)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(q=0;q<Vt.length;q++)te[q]=Vt[q][0];Wt(Vt=te);break;case 2:for(q=0;q<Vt.length;q++)Wt(Vt[q]);break;case 3:for(Vt=(function(Ee){var Je=Ee.length;if(Je<=1)return[Ee];for(var De,Ut,le=[],Ve=0;Ve<Je;Ve++){var Tr=b(Ee[Ve]);Tr!==0&&(Ut===void 0&&(Ut=Tr<0),Ut===Tr<0?(De&&le.push(De),De=[Ee[Ve]]):De.push(Ee[Ve]))}return De&&le.push(De),le})(Vt),q=0;q<Vt.length;q++)for(J=0;J<Vt[q].length;J++)Wt(Vt[q][J])}Vt.length===1?Vt=Vt[0]:Gt="Multi"+Gt;var he={type:"Feature",geometry:{type:Gt,coordinates:Vt},properties:this.properties};return"id"in this&&(he.id=this.id),he},Oc}function Hm(){if(Vp)return Bd;Vp=1;var f=Wx();function l(b,E){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=b,this._keys=[],this._values=[],this._features=[],b.readFields(h,this,E),this.length=this._features.length}function h(b,E,M){b===15?E.version=M.readVarint():b===1?E.name=M.readString():b===5?E.extent=M.readVarint():b===2?E._features.push(M.pos):b===3?E._keys.push(M.readString()):b===4&&E._values.push((function(P){for(var q=null,J=P.readVarint()+P.pos;P.pos<J;){var ot=P.readVarint()>>3;q=ot===1?P.readString():ot===2?P.readFloat():ot===3?P.readDouble():ot===4?P.readVarint64():ot===5?P.readVarint():ot===6?P.readSVarint():ot===7?P.readBoolean():null}return q})(M))}return Bd=l,l.prototype.feature=function(b){if(b<0||b>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[b];var E=this._pbf.readVarint()+this._pbf.pos;return new f(this._pbf,E,this.extent,this._keys,this._values)},Bd}function qg(){return $0||($0=1,wh.VectorTile=(function(){if(V0)return zd;V0=1;var f=Hm();function l(h,b,E){if(h===3){var M=new f(E,E.readVarint()+E.pos);M.length&&(b[M.name]=M)}}return zd=function(h,b){this.layers=h.readFields(l,{},b)},zd})(),wh.VectorTileFeature=Wx(),wh.VectorTileLayer=Hm()),wh}var Zf=g(qg());const Gg=Zf.VectorTileFeature.types,U0=Math.pow(2,13);function Hg(f,l,h,b,E,M,P,q){f.emplaceBack(l,h,2*Math.floor(b*U0)+P,E*U0*2,M*U0*2,Math.round(q))}class Xm{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Cn,this.centroidVertexArray=new xr,this.indexArray=new Da,this.programConfigurations=new Ld(l.layers,l.zoom),this.segments=new ua,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){this.features=[],this.hasPattern=Pd("fill-extrusion",this.layers,h);for(const{feature:E,id:M,index:P,sourceLayerIndex:q}of l){const J=this.layers[0]._featureFilter.needGeometry,ot=Md(E,J);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),ot,b))continue;const ft={id:M,sourceLayerIndex:q,index:P,geometry:J?ot.geometry:zp(E),properties:E.properties,type:E.type,patterns:{}};this.hasPattern?this.features.push(Wy("fill-extrusion",this.layers,ft,this.zoom,h)):this.addFeature(ft,ft.geometry,P,b,{},h.subdivisionGranularity),h.featureIndex.insert(E,ft.geometry,P,q,this.index,!0)}}addFeatures(l,h,b){for(const E of this.features){const{geometry:M}=E;this.addFeature(E,M,E.index,h,b,l.subdivisionGranularity)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,SS),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,Dd.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,h,b,E,M,P){for(const q of Al(h,500)){const J={x:0,y:0,sampleCount:0},ot=this.layoutVertexArray.length;this.processPolygon(J,E,l,q,P);const ft=this.layoutVertexArray.length-ot,St=Math.floor(J.x/J.sampleCount),Vt=Math.floor(J.y/J.sampleCount);for(let Gt=0;Gt<ft;Gt++)this.centroidVertexArray.emplaceBack(St,Vt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,M,E)}processPolygon(l,h,b,E,M){if(E.length<1||Yx(E[0]))return;for(const St of E)St.length!==0&&ES(l,St);const P={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},q=M.fill.getGranularityForZoomLevel(h.z),J=Gg[b.type]==="Polygon";for(const St of E){if(St.length===0||Yx(St))continue;const Vt=jp(St,q,J);this._generateSideFaces(Vt,P)}if(!J)return;const ot=qx(E,h,q,!1),ft=this.layoutVertexArray;th(((St,Vt)=>{Hg(ft,St,Vt,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,ot.verticesFlattened,ot.indicesTriangles)}_generateSideFaces(l,h){let b=0;for(let E=1;E<l.length;E++){const M=l[E],P=l[E-1];if(q0(M,P))continue;h.segment.vertexLength+4>ua.MAX_VERTEX_ARRAY_LENGTH&&(h.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const q=M.sub(P)._perp()._unit(),J=P.dist(M);b+J>32768&&(b=0),Hg(this.layoutVertexArray,M.x,M.y,q.x,q.y,0,0,b),Hg(this.layoutVertexArray,M.x,M.y,q.x,q.y,0,1,b),b+=J,Hg(this.layoutVertexArray,P.x,P.y,q.x,q.y,0,0,b),Hg(this.layoutVertexArray,P.x,P.y,q.x,q.y,0,1,b);const ot=h.segment.vertexLength;this.indexArray.emplaceBack(ot,ot+2,ot+1),this.indexArray.emplaceBack(ot+1,ot+2,ot+3),h.segment.vertexLength+=4,h.segment.primitiveLength+=2}}}function ES(f,l){for(let h=0;h<l.length;h++){const b=l[h];h===l.length-1&&l[0].x===b.x&&l[0].y===b.y||(f.x+=b.x,f.y+=b.y,f.sampleCount++)}}function q0(f,l){return f.x===l.x&&(f.x<0||f.x>lt)||f.y===l.y&&(f.y<0||f.y>lt)}function Yx(f){return f.every((l=>l.x<0))||f.every((l=>l.x>lt))||f.every((l=>l.y<0))||f.every((l=>l.y>lt))}let TS;Ce("FillExtrusionBucket",Xm,{omit:["layers","features"]});var ZA={get paint(){return TS=TS||new La({"fill-extrusion-opacity":new gn(Oe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kn(Oe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gn(Oe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gn(Oe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ts(Oe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kn(Oe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kn(Oe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gn(Oe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class qo extends Ma{constructor(l){super(l,ZA)}createBucket(l){return new Xm(l)}queryRadius(){return $y(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:b,geometry:E,transform:M,pixelsToTileUnits:P,pixelPosMatrix:q}){const J=k0(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-M.bearingInRadians,P),ot=this.paint.get("fill-extrusion-height").evaluate(h,b),ft=this.paint.get("fill-extrusion-base").evaluate(h,b),St=(function(Gt,Wt){const te=[];for(const he of Gt){const Ee=[he.x,he.y,0,1];Ct(Ee,Ee,Wt),te.push(new O(Ee[0]/Ee[3],Ee[1]/Ee[3]))}return te})(J,q),Vt=(function(Gt,Wt,te,he){const Ee=[],Je=[],De=he[8]*Wt,Ut=he[9]*Wt,le=he[10]*Wt,Ve=he[11]*Wt,Tr=he[8]*te,hn=he[9]*te,jr=he[10]*te,Gr=he[11]*te;for(const xn of Gt){const sn=[],_n=[];for(const Hr of xn){const qn=Hr.x,vi=Hr.y,ui=he[0]*qn+he[4]*vi+he[12],oi=he[1]*qn+he[5]*vi+he[13],Ca=he[2]*qn+he[6]*vi+he[14],Js=he[3]*qn+he[7]*vi+he[15],ru=Ca+le,Yu=Js+Ve,nh=ui+Tr,Bc=oi+hn,Lu=Ca+jr,fs=Js+Gr,Mu=new O((ui+De)/Yu,(oi+Ut)/Yu);Mu.z=ru/Yu,sn.push(Mu);const Ku=new O(nh/fs,Bc/fs);Ku.z=Lu/fs,_n.push(Ku)}Ee.push(sn),Je.push(_n)}return[Ee,Je]})(E,ft,ot,q);return(function(Gt,Wt,te){let he=1/0;Lx(te,Wt)&&(he=qa(te,Wt[0]));for(let Ee=0;Ee<Wt.length;Ee++){const Je=Wt[Ee],De=Gt[Ee];for(let Ut=0;Ut<Je.length-1;Ut++){const le=Je[Ut],Ve=[le,Je[Ut+1],De[Ut+1],De[Ut],le];C0(te,Ve)&&(he=Math.min(he,qa(te,Ve)))}}return he!==1/0&&he})(Vt[0],Vt[1],St)}}function Go(f,l){return f.x*l.x+f.y*l.y}function qa(f,l){if(f.length===1){let h=0;const b=l[h++];let E;for(;!E||b.equals(E);)if(E=l[h++],!E)return 1/0;for(;h<l.length;h++){const M=l[h],P=f[0],q=E.sub(b),J=M.sub(b),ot=P.sub(b),ft=Go(q,q),St=Go(q,J),Vt=Go(J,J),Gt=Go(ot,q),Wt=Go(ot,J),te=ft*Vt-St*St,he=(Vt*Gt-St*Wt)/te,Ee=(ft*Wt-St*Gt)/te,Je=b.z*(1-he-Ee)+E.z*he+M.z*Ee;if(isFinite(Je))return Je}return 1/0}{let h=1/0;for(const b of l)h=Math.min(h,b.z);return h}}const eo=Oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:hs}=eo,Vh=Oi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:$p}=Vh,Xg=Zf.VectorTileFeature.types,Kx=Math.cos(Math.PI/180*37.5),df=Math.pow(2,14)/.5;class wl{constructor(l){this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((h=>{this.gradients[h.id]={}})),this.layoutVertexArray=new En,this.layoutVertexArray2=new on,this.indexArray=new Da,this.programConfigurations=new Ld(l.layers,l.zoom),this.segments=new ua,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,b){this.hasPattern=Pd("line",this.layers,h);const E=this.layers[0].layout.get("line-sort-key"),M=!E.isConstant(),P=[];for(const{feature:q,id:J,index:ot,sourceLayerIndex:ft}of l){const St=this.layers[0]._featureFilter.needGeometry,Vt=Md(q,St);if(!this.layers[0]._featureFilter.filter(new Gn(this.zoom,{globalState:this.globalState}),Vt,b))continue;const Gt=M?E.evaluate(Vt,{},b):void 0,Wt={id:J,properties:q.properties,type:q.type,sourceLayerIndex:ft,index:ot,geometry:St?Vt.geometry:zp(q),patterns:{},sortKey:Gt};P.push(Wt)}M&&P.sort(((q,J)=>q.sortKey-J.sortKey));for(const q of P){const{geometry:J,index:ot,sourceLayerIndex:ft}=q;if(this.hasPattern){const St=Wy("line",this.layers,q,this.zoom,h);this.patternFeatures.push(St)}else this.addFeature(q,J,ot,b,{},h.subdivisionGranularity);h.featureIndex.insert(l[ot].feature,J,ot,ft,this.index)}}update(l,h,b){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,b)}addFeatures(l,h,b){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,h,b,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,$p)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,hs),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,h,b,E,M,P){const q=this.layers[0].layout,J=q.get("line-join").evaluate(l,{}),ot=q.get("line-cap"),ft=q.get("line-miter-limit"),St=q.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const Vt of h)this.addLine(Vt,l,J,ot,ft,St,E,P);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,b,M,E)}addLine(l,h,b,E,M,P,q,J){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,l=jp(l,q?J.line.getGranularityForZoomLevel(q.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let De=0;De<l.length-1;De++)this.totalDistance+=l[De].dist(l[De+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const ot=Xg[h.type]==="Polygon";let ft=l.length;for(;ft>=2&&l[ft-1].equals(l[ft-2]);)ft--;let St=0;for(;St<ft-1&&l[St].equals(l[St+1]);)St++;if(ft<(ot?3:2))return;b==="bevel"&&(M=1.05);const Vt=this.overscaling<=16?122880/(512*this.overscaling):0,Gt=this.segments.prepareSegment(10*ft,this.layoutVertexArray,this.indexArray);let Wt,te,he,Ee,Je;this.e1=this.e2=-1,ot&&(Wt=l[ft-2],Je=l[St].sub(Wt)._unit()._perp());for(let De=St;De<ft;De++){if(he=De===ft-1?ot?l[St+1]:void 0:l[De+1],he&&l[De].equals(he))continue;Je&&(Ee=Je),Wt&&(te=Wt),Wt=l[De],Je=he?he.sub(Wt)._unit()._perp():Ee,Ee=Ee||Je;let Ut=Ee.add(Je);Ut.x===0&&Ut.y===0||Ut._unit();const le=Ee.x*Je.x+Ee.y*Je.y,Ve=Ut.x*Je.x+Ut.y*Je.y,Tr=Ve!==0?1/Ve:1/0,hn=2*Math.sqrt(2-2*Ve),jr=Ve<Kx&&te&&he,Gr=Ee.x*Je.y-Ee.y*Je.x>0;if(jr&&De>St){const _n=Wt.dist(te);if(_n>2*Vt){const Hr=Wt.sub(Wt.sub(te)._mult(Vt/_n)._round());this.updateDistance(te,Hr),this.addCurrentVertex(Hr,Ee,0,0,Gt),te=Hr}}const xn=te&&he;let sn=xn?b:ot?"butt":E;if(xn&&sn==="round"&&(Tr<P?sn="miter":Tr<=2&&(sn="fakeround")),sn==="miter"&&Tr>M&&(sn="bevel"),sn==="bevel"&&(Tr>2&&(sn="flipbevel"),Tr<M&&(sn="miter")),te&&this.updateDistance(te,Wt),sn==="miter")Ut._mult(Tr),this.addCurrentVertex(Wt,Ut,0,0,Gt);else if(sn==="flipbevel"){if(Tr>100)Ut=Je.mult(-1);else{const _n=Tr*Ee.add(Je).mag()/Ee.sub(Je).mag();Ut._perp()._mult(_n*(Gr?-1:1))}this.addCurrentVertex(Wt,Ut,0,0,Gt),this.addCurrentVertex(Wt,Ut.mult(-1),0,0,Gt)}else if(sn==="bevel"||sn==="fakeround"){const _n=-Math.sqrt(Tr*Tr-1),Hr=Gr?_n:0,qn=Gr?0:_n;if(te&&this.addCurrentVertex(Wt,Ee,Hr,qn,Gt),sn==="fakeround"){const vi=Math.round(180*hn/Math.PI/20);for(let ui=1;ui<vi;ui++){let oi=ui/vi;if(oi!==.5){const Js=oi-.5;oi+=oi*Js*(oi-1)*((1.0904+le*(le*(3.55645-1.43519*le)-3.2452))*Js*Js+(.848013+le*(.215638*le-1.06021)))}const Ca=Je.sub(Ee)._mult(oi)._add(Ee)._unit()._mult(Gr?-1:1);this.addHalfVertex(Wt,Ca.x,Ca.y,!1,Gr,0,Gt)}}he&&this.addCurrentVertex(Wt,Je,-Hr,-qn,Gt)}else if(sn==="butt")this.addCurrentVertex(Wt,Ut,0,0,Gt);else if(sn==="square"){const _n=te?1:-1;this.addCurrentVertex(Wt,Ut,_n,_n,Gt)}else sn==="round"&&(te&&(this.addCurrentVertex(Wt,Ee,0,0,Gt),this.addCurrentVertex(Wt,Ee,1,1,Gt,!0)),he&&(this.addCurrentVertex(Wt,Je,-1,-1,Gt,!0),this.addCurrentVertex(Wt,Je,0,0,Gt)));if(jr&&De<ft-1){const _n=Wt.dist(he);if(_n>2*Vt){const Hr=Wt.add(he.sub(Wt)._mult(Vt/_n)._round());this.updateDistance(Wt,Hr),this.addCurrentVertex(Hr,Je,0,0,Gt),Wt=Hr}}}}addCurrentVertex(l,h,b,E,M,P=!1){const q=h.y*E-h.x,J=-h.y-h.x*E;this.addHalfVertex(l,h.x+h.y*b,h.y-h.x*b,P,!1,b,M),this.addHalfVertex(l,q,J,P,!0,-E,M),this.distance>df/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,h,b,E,M,P))}addHalfVertex({x:l,y:h},b,E,M,P,q,J){const ot=.5*(this.lineClips?this.scaledDistance*(df-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(M?1:0),(h<<1)+(P?1:0),Math.round(63*b)+128,Math.round(63*E)+128,1+(q===0?0:q<0?-1:1)|(63&ot)<<2,ot>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ft=J.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,ft,this.e2),J.primitiveLength++),P?this.e2=ft:this.e1=ft}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,h){this.distance+=l.dist(h),this.updateScaledDistance()}}let Qf,Up;Ce("LineBucket",wl,{omit:["layers","patternFeatures"]});var G0={get paint(){return Up=Up||new La({"line-opacity":new kn(Oe.paint_line["line-opacity"]),"line-color":new kn(Oe.paint_line["line-color"]),"line-translate":new gn(Oe.paint_line["line-translate"]),"line-translate-anchor":new gn(Oe.paint_line["line-translate-anchor"]),"line-width":new kn(Oe.paint_line["line-width"]),"line-gap-width":new kn(Oe.paint_line["line-gap-width"]),"line-offset":new kn(Oe.paint_line["line-offset"]),"line-blur":new kn(Oe.paint_line["line-blur"]),"line-dasharray":new Xa(Oe.paint_line["line-dasharray"]),"line-pattern":new ts(Oe.paint_line["line-pattern"]),"line-gradient":new Ds(Oe.paint_line["line-gradient"])})},get layout(){return Qf=Qf||new La({"line-cap":new gn(Oe.layout_line["line-cap"]),"line-join":new kn(Oe.layout_line["line-join"]),"line-miter-limit":new gn(Oe.layout_line["line-miter-limit"]),"line-round-limit":new gn(Oe.layout_line["line-round-limit"]),"line-sort-key":new kn(Oe.layout_line["line-sort-key"])})}};class $h extends kn{possiblyEvaluate(l,h){return h=new Gn(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(l,h)}evaluate(l,h,b,E){return h=Se({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(l,h,b,E)}}let Jf;class Jy extends Ma{constructor(l){super(l,G0),this.gradientVersion=0,Jf||(Jf=new $h(G0.paint.properties["line-width"].specification),Jf.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!(function(b){return b._styleExpression!==void 0})(h)&&h._styleExpression.expression instanceof Yr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,h){super.recalculate(l,h),this.paint._values["line-floorwidth"]=Jf.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new wl(l)}queryRadius(l){const h=l,b=eh(Fg("line-width",this,h),Fg("line-gap-width",this,h)),E=Fg("line-offset",this,h);return b/2+Math.abs(E)+$y(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:b,geometry:E,transform:M,pixelsToTileUnits:P}){const q=k0(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-M.bearingInRadians,P),J=P/2*eh(this.paint.get("line-width").evaluate(h,b),this.paint.get("line-gap-width").evaluate(h,b)),ot=this.paint.get("line-offset").evaluate(h,b);return ot&&(E=(function(ft,St){const Vt=[];for(let Gt=0;Gt<ft.length;Gt++){const Wt=ft[Gt],te=[];for(let he=0;he<Wt.length;he++){const Ee=Wt[he-1],Je=Wt[he],De=Wt[he+1],Ut=he===0?new O(0,0):Je.sub(Ee)._unit()._perp(),le=he===Wt.length-1?new O(0,0):De.sub(Je)._unit()._perp(),Ve=Ut._add(le)._unit(),Tr=Ve.x*le.x+Ve.y*le.y;Tr!==0&&Ve._mult(1/Tr),te.push(Ve._mult(St)._add(Je))}Vt.push(te)}return Vt})(E,ot*P)),(function(ft,St,Vt){for(let Gt=0;Gt<St.length;Gt++){const Wt=St[Gt];if(ft.length>=3){for(let te=0;te<Wt.length;te++)if(Um(ft,Wt[te]))return!0}if(fS(ft,Wt,Vt))return!0}return!1})(q,E,J)}isTileClipped(){return!0}}function eh(f,l){return l>0?l+2*f:f}const Zx=Oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),H0=Oi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const CS=Oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const tv=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),X0=Oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qp(f,l,h){return f.sections.forEach((b=>{b.text=(function(E,M,P){const q=M.layout.get("text-transform").evaluate(P,{});return q==="uppercase"?E=E.toLocaleUpperCase():q==="lowercase"&&(E=E.toLocaleLowerCase()),go.applyArabicShaping&&(E=go.applyArabicShaping(E)),E})(b.text,l,h)})),f}Oi([{name:"triangle",components:3,type:"Uint16"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Oi([{type:"Float32",name:"offsetX"}]),Oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Oi([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Nl={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var tp,Gp,ff,eu=24,ev={};function AS(){return tp||(tp=1,ev.read=function(f,l,h,b,E){var M,P,q=8*E-b-1,J=(1<<q)-1,ot=J>>1,ft=-7,St=h?E-1:0,Vt=h?-1:1,Gt=f[l+St];for(St+=Vt,M=Gt&(1<<-ft)-1,Gt>>=-ft,ft+=q;ft>0;M=256*M+f[l+St],St+=Vt,ft-=8);for(P=M&(1<<-ft)-1,M>>=-ft,ft+=b;ft>0;P=256*P+f[l+St],St+=Vt,ft-=8);if(M===0)M=1-ot;else{if(M===J)return P?NaN:1/0*(Gt?-1:1);P+=Math.pow(2,b),M-=ot}return(Gt?-1:1)*P*Math.pow(2,M-b)},ev.write=function(f,l,h,b,E,M){var P,q,J,ot=8*M-E-1,ft=(1<<ot)-1,St=ft>>1,Vt=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,Gt=b?0:M-1,Wt=b?1:-1,te=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(q=isNaN(l)?1:0,P=ft):(P=Math.floor(Math.log(l)/Math.LN2),l*(J=Math.pow(2,-P))<1&&(P--,J*=2),(l+=P+St>=1?Vt/J:Vt*Math.pow(2,1-St))*J>=2&&(P++,J/=2),P+St>=ft?(q=0,P=ft):P+St>=1?(q=(l*J-1)*Math.pow(2,E),P+=St):(q=l*Math.pow(2,St-1)*Math.pow(2,E),P=0));E>=8;f[h+Gt]=255&q,Gt+=Wt,q/=256,E-=8);for(P=P<<E|q,ot+=E;ot>0;f[h+Gt]=255&P,Gt+=Wt,P/=256,ot-=8);f[h+Gt-Wt]|=128*te}),ev}function Wg(){if(ff)return Gp;ff=1,Gp=l;var f=AS();function l(Ut){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Ut)?Ut:new Uint8Array(Ut||0),this.pos=0,this.type=0,this.length=this.buf.length}l.Varint=0,l.Fixed64=1,l.Bytes=2,l.Fixed32=5;var h=4294967296,b=1/h,E=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function M(Ut){return Ut.type===l.Bytes?Ut.readVarint()+Ut.pos:Ut.pos+1}function P(Ut,le,Ve){return Ve?4294967296*le+(Ut>>>0):4294967296*(le>>>0)+(Ut>>>0)}function q(Ut,le,Ve){var Tr=le<=16383?1:le<=2097151?2:le<=268435455?3:Math.floor(Math.log(le)/(7*Math.LN2));Ve.realloc(Tr);for(var hn=Ve.pos-1;hn>=Ut;hn--)Ve.buf[hn+Tr]=Ve.buf[hn]}function J(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeVarint(Ut[Ve])}function ot(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeSVarint(Ut[Ve])}function ft(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeFloat(Ut[Ve])}function St(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeDouble(Ut[Ve])}function Vt(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeBoolean(Ut[Ve])}function Gt(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeFixed32(Ut[Ve])}function Wt(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeSFixed32(Ut[Ve])}function te(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeFixed64(Ut[Ve])}function he(Ut,le){for(var Ve=0;Ve<Ut.length;Ve++)le.writeSFixed64(Ut[Ve])}function Ee(Ut,le){return(Ut[le]|Ut[le+1]<<8|Ut[le+2]<<16)+16777216*Ut[le+3]}function Je(Ut,le,Ve){Ut[Ve]=le,Ut[Ve+1]=le>>>8,Ut[Ve+2]=le>>>16,Ut[Ve+3]=le>>>24}function De(Ut,le){return(Ut[le]|Ut[le+1]<<8|Ut[le+2]<<16)+(Ut[le+3]<<24)}return l.prototype={destroy:function(){this.buf=null},readFields:function(Ut,le,Ve){for(Ve=Ve||this.length;this.pos<Ve;){var Tr=this.readVarint(),hn=Tr>>3,jr=this.pos;this.type=7&Tr,Ut(hn,le,this),this.pos===jr&&this.skip(Tr)}return le},readMessage:function(Ut,le){return this.readFields(Ut,le,this.readVarint()+this.pos)},readFixed32:function(){var Ut=Ee(this.buf,this.pos);return this.pos+=4,Ut},readSFixed32:function(){var Ut=De(this.buf,this.pos);return this.pos+=4,Ut},readFixed64:function(){var Ut=Ee(this.buf,this.pos)+Ee(this.buf,this.pos+4)*h;return this.pos+=8,Ut},readSFixed64:function(){var Ut=Ee(this.buf,this.pos)+De(this.buf,this.pos+4)*h;return this.pos+=8,Ut},readFloat:function(){var Ut=f.read(this.buf,this.pos,!0,23,4);return this.pos+=4,Ut},readDouble:function(){var Ut=f.read(this.buf,this.pos,!0,52,8);return this.pos+=8,Ut},readVarint:function(Ut){var le,Ve,Tr=this.buf;return le=127&(Ve=Tr[this.pos++]),Ve<128?le:(le|=(127&(Ve=Tr[this.pos++]))<<7,Ve<128?le:(le|=(127&(Ve=Tr[this.pos++]))<<14,Ve<128?le:(le|=(127&(Ve=Tr[this.pos++]))<<21,Ve<128?le:(function(hn,jr,Gr){var xn,sn,_n=Gr.buf;if(xn=(112&(sn=_n[Gr.pos++]))>>4,sn<128||(xn|=(127&(sn=_n[Gr.pos++]))<<3,sn<128)||(xn|=(127&(sn=_n[Gr.pos++]))<<10,sn<128)||(xn|=(127&(sn=_n[Gr.pos++]))<<17,sn<128)||(xn|=(127&(sn=_n[Gr.pos++]))<<24,sn<128)||(xn|=(1&(sn=_n[Gr.pos++]))<<31,sn<128))return P(hn,xn,jr);throw new Error("Expected varint not more than 10 bytes")})(le|=(15&(Ve=Tr[this.pos]))<<28,Ut,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Ut=this.readVarint();return Ut%2==1?(Ut+1)/-2:Ut/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var Ut=this.readVarint()+this.pos,le=this.pos;return this.pos=Ut,Ut-le>=12&&E?(function(Ve,Tr,hn){return E.decode(Ve.subarray(Tr,hn))})(this.buf,le,Ut):(function(Ve,Tr,hn){for(var jr="",Gr=Tr;Gr<hn;){var xn,sn,_n,Hr=Ve[Gr],qn=null,vi=Hr>239?4:Hr>223?3:Hr>191?2:1;if(Gr+vi>hn)break;vi===1?Hr<128&&(qn=Hr):vi===2?(192&(xn=Ve[Gr+1]))==128&&(qn=(31&Hr)<<6|63&xn)<=127&&(qn=null):vi===3?(sn=Ve[Gr+2],(192&(xn=Ve[Gr+1]))==128&&(192&sn)==128&&((qn=(15&Hr)<<12|(63&xn)<<6|63&sn)<=2047||qn>=55296&&qn<=57343)&&(qn=null)):vi===4&&(sn=Ve[Gr+2],_n=Ve[Gr+3],(192&(xn=Ve[Gr+1]))==128&&(192&sn)==128&&(192&_n)==128&&((qn=(15&Hr)<<18|(63&xn)<<12|(63&sn)<<6|63&_n)<=65535||qn>=1114112)&&(qn=null)),qn===null?(qn=65533,vi=1):qn>65535&&(qn-=65536,jr+=String.fromCharCode(qn>>>10&1023|55296),qn=56320|1023&qn),jr+=String.fromCharCode(qn),Gr+=vi}return jr})(this.buf,le,Ut)},readBytes:function(){var Ut=this.readVarint()+this.pos,le=this.buf.subarray(this.pos,Ut);return this.pos=Ut,le},readPackedVarint:function(Ut,le){if(this.type!==l.Bytes)return Ut.push(this.readVarint(le));var Ve=M(this);for(Ut=Ut||[];this.pos<Ve;)Ut.push(this.readVarint(le));return Ut},readPackedSVarint:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readSVarint());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readSVarint());return Ut},readPackedBoolean:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readBoolean());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readBoolean());return Ut},readPackedFloat:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readFloat());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readFloat());return Ut},readPackedDouble:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readDouble());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readDouble());return Ut},readPackedFixed32:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readFixed32());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readFixed32());return Ut},readPackedSFixed32:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readSFixed32());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readSFixed32());return Ut},readPackedFixed64:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readFixed64());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readFixed64());return Ut},readPackedSFixed64:function(Ut){if(this.type!==l.Bytes)return Ut.push(this.readSFixed64());var le=M(this);for(Ut=Ut||[];this.pos<le;)Ut.push(this.readSFixed64());return Ut},skip:function(Ut){var le=7&Ut;if(le===l.Varint)for(;this.buf[this.pos++]>127;);else if(le===l.Bytes)this.pos=this.readVarint()+this.pos;else if(le===l.Fixed32)this.pos+=4;else{if(le!==l.Fixed64)throw new Error("Unimplemented type: "+le);this.pos+=8}},writeTag:function(Ut,le){this.writeVarint(Ut<<3|le)},realloc:function(Ut){for(var le=this.length||16;le<this.pos+Ut;)le*=2;if(le!==this.length){var Ve=new Uint8Array(le);Ve.set(this.buf),this.buf=Ve,this.length=le}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Ut){this.realloc(4),Je(this.buf,Ut,this.pos),this.pos+=4},writeSFixed32:function(Ut){this.realloc(4),Je(this.buf,Ut,this.pos),this.pos+=4},writeFixed64:function(Ut){this.realloc(8),Je(this.buf,-1&Ut,this.pos),Je(this.buf,Math.floor(Ut*b),this.pos+4),this.pos+=8},writeSFixed64:function(Ut){this.realloc(8),Je(this.buf,-1&Ut,this.pos),Je(this.buf,Math.floor(Ut*b),this.pos+4),this.pos+=8},writeVarint:function(Ut){(Ut=+Ut||0)>268435455||Ut<0?(function(le,Ve){var Tr,hn;if(le>=0?(Tr=le%4294967296|0,hn=le/4294967296|0):(hn=~(-le/4294967296),4294967295^(Tr=~(-le%4294967296))?Tr=Tr+1|0:(Tr=0,hn=hn+1|0)),le>=18446744073709552e3||le<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Ve.realloc(10),(function(jr,Gr,xn){xn.buf[xn.pos++]=127&jr|128,jr>>>=7,xn.buf[xn.pos++]=127&jr|128,jr>>>=7,xn.buf[xn.pos++]=127&jr|128,jr>>>=7,xn.buf[xn.pos++]=127&jr|128,xn.buf[xn.pos]=127&(jr>>>=7)})(Tr,0,Ve),(function(jr,Gr){var xn=(7&jr)<<4;Gr.buf[Gr.pos++]|=xn|((jr>>>=3)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr|((jr>>>=7)?128:0),jr&&(Gr.buf[Gr.pos++]=127&jr)))))})(hn,Ve)})(Ut,this):(this.realloc(4),this.buf[this.pos++]=127&Ut|(Ut>127?128:0),Ut<=127||(this.buf[this.pos++]=127&(Ut>>>=7)|(Ut>127?128:0),Ut<=127||(this.buf[this.pos++]=127&(Ut>>>=7)|(Ut>127?128:0),Ut<=127||(this.buf[this.pos++]=Ut>>>7&127))))},writeSVarint:function(Ut){this.writeVarint(Ut<0?2*-Ut-1:2*Ut)},writeBoolean:function(Ut){this.writeVarint(!!Ut)},writeString:function(Ut){Ut=String(Ut),this.realloc(4*Ut.length),this.pos++;var le=this.pos;this.pos=(function(Tr,hn,jr){for(var Gr,xn,sn=0;sn<hn.length;sn++){if((Gr=hn.charCodeAt(sn))>55295&&Gr<57344){if(!xn){Gr>56319||sn+1===hn.length?(Tr[jr++]=239,Tr[jr++]=191,Tr[jr++]=189):xn=Gr;continue}if(Gr<56320){Tr[jr++]=239,Tr[jr++]=191,Tr[jr++]=189,xn=Gr;continue}Gr=xn-55296<<10|Gr-56320|65536,xn=null}else xn&&(Tr[jr++]=239,Tr[jr++]=191,Tr[jr++]=189,xn=null);Gr<128?Tr[jr++]=Gr:(Gr<2048?Tr[jr++]=Gr>>6|192:(Gr<65536?Tr[jr++]=Gr>>12|224:(Tr[jr++]=Gr>>18|240,Tr[jr++]=Gr>>12&63|128),Tr[jr++]=Gr>>6&63|128),Tr[jr++]=63&Gr|128)}return jr})(this.buf,Ut,this.pos);var Ve=this.pos-le;Ve>=128&&q(le,Ve,this),this.pos=le-1,this.writeVarint(Ve),this.pos+=Ve},writeFloat:function(Ut){this.realloc(4),f.write(this.buf,Ut,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Ut){this.realloc(8),f.write(this.buf,Ut,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Ut){var le=Ut.length;this.writeVarint(le),this.realloc(le);for(var Ve=0;Ve<le;Ve++)this.buf[this.pos++]=Ut[Ve]},writeRawMessage:function(Ut,le){this.pos++;var Ve=this.pos;Ut(le,this);var Tr=this.pos-Ve;Tr>=128&&q(Ve,Tr,this),this.pos=Ve-1,this.writeVarint(Tr),this.pos+=Tr},writeMessage:function(Ut,le,Ve){this.writeTag(Ut,l.Bytes),this.writeRawMessage(le,Ve)},writePackedVarint:function(Ut,le){le.length&&this.writeMessage(Ut,J,le)},writePackedSVarint:function(Ut,le){le.length&&this.writeMessage(Ut,ot,le)},writePackedBoolean:function(Ut,le){le.length&&this.writeMessage(Ut,Vt,le)},writePackedFloat:function(Ut,le){le.length&&this.writeMessage(Ut,ft,le)},writePackedDouble:function(Ut,le){le.length&&this.writeMessage(Ut,St,le)},writePackedFixed32:function(Ut,le){le.length&&this.writeMessage(Ut,Gt,le)},writePackedSFixed32:function(Ut,le){le.length&&this.writeMessage(Ut,Wt,le)},writePackedFixed64:function(Ut,le){le.length&&this.writeMessage(Ut,te,le)},writePackedSFixed64:function(Ut,le){le.length&&this.writeMessage(Ut,he,le)},writeBytesField:function(Ut,le){this.writeTag(Ut,l.Bytes),this.writeBytes(le)},writeFixed32Field:function(Ut,le){this.writeTag(Ut,l.Fixed32),this.writeFixed32(le)},writeSFixed32Field:function(Ut,le){this.writeTag(Ut,l.Fixed32),this.writeSFixed32(le)},writeFixed64Field:function(Ut,le){this.writeTag(Ut,l.Fixed64),this.writeFixed64(le)},writeSFixed64Field:function(Ut,le){this.writeTag(Ut,l.Fixed64),this.writeSFixed64(le)},writeVarintField:function(Ut,le){this.writeTag(Ut,l.Varint),this.writeVarint(le)},writeSVarintField:function(Ut,le){this.writeTag(Ut,l.Varint),this.writeSVarint(le)},writeStringField:function(Ut,le){this.writeTag(Ut,l.Bytes),this.writeString(le)},writeFloatField:function(Ut,le){this.writeTag(Ut,l.Fixed32),this.writeFloat(le)},writeDoubleField:function(Ut,le){this.writeTag(Ut,l.Fixed64),this.writeDouble(le)},writeBooleanField:function(Ut,le){this.writeVarintField(Ut,!!le)}},Gp}var pf,rh=g(Wg());function kS(f,l,h){f===1&&h.readMessage(Sh,l)}function Sh(f,l,h){if(f===3){const{id:b,bitmap:E,width:M,height:P,left:q,top:J,advance:ot}=h.readMessage(IS,{});l.push({id:b,bitmap:new Gy({width:M+6,height:P+6},E),metrics:{width:M,height:P,left:q,top:J,advance:ot}})}}function IS(f,l,h){f===1?l.id=h.readVarint():f===2?l.bitmap=h.readBytes():f===3?l.width=h.readVarint():f===4?l.height=h.readVarint():f===5?l.left=h.readSVarint():f===6?l.top=h.readSVarint():f===7&&(l.advance=h.readVarint())}function Qx(f){let l=0,h=0;for(const P of f)l+=P.w*P.h,h=Math.max(h,P.w);f.sort(((P,q)=>q.h-P.h));const b=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),h),h:1/0}];let E=0,M=0;for(const P of f)for(let q=b.length-1;q>=0;q--){const J=b[q];if(!(P.w>J.w||P.h>J.h)){if(P.x=J.x,P.y=J.y,M=Math.max(M,P.y+P.h),E=Math.max(E,P.x+P.w),P.w===J.w&&P.h===J.h){const ot=b.pop();q<b.length&&(b[q]=ot)}else P.h===J.h?(J.x+=P.w,J.w-=P.w):P.w===J.w?(J.y+=P.h,J.h-=P.h):(b.push({x:J.x+P.w,y:J.y,w:J.w-P.w,h:P.h}),J.y+=P.h,J.h-=P.h);break}}return{w:E,h:M,fill:l/(E*M)||0}}class Jx{constructor(l,{pixelRatio:h,version:b,stretchX:E,stretchY:M,content:P,textFitWidth:q,textFitHeight:J}){this.paddedRect=l,this.pixelRatio=h,this.stretchX=E,this.stretchY=M,this.content=P,this.version=b,this.textFitWidth=q,this.textFitHeight=J}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class ep{constructor(l,h){const b={},E={};this.haveRenderCallbacks=[];const M=[];this.addImages(l,b,M),this.addImages(h,E,M);const{w:P,h:q}=Qx(M),J=new cc({width:P||1,height:q||1});for(const ot in l){const ft=l[ot],St=b[ot].paddedRect;cc.copy(ft.data,J,{x:0,y:0},{x:St.x+1,y:St.y+1},ft.data)}for(const ot in h){const ft=h[ot],St=E[ot].paddedRect,Vt=St.x+1,Gt=St.y+1,Wt=ft.data.width,te=ft.data.height;cc.copy(ft.data,J,{x:0,y:0},{x:Vt,y:Gt},ft.data),cc.copy(ft.data,J,{x:0,y:te-1},{x:Vt,y:Gt-1},{width:Wt,height:1}),cc.copy(ft.data,J,{x:0,y:0},{x:Vt,y:Gt+te},{width:Wt,height:1}),cc.copy(ft.data,J,{x:Wt-1,y:0},{x:Vt-1,y:Gt},{width:1,height:te}),cc.copy(ft.data,J,{x:0,y:0},{x:Vt+Wt,y:Gt},{width:1,height:te})}this.image=J,this.iconPositions=b,this.patternPositions=E}addImages(l,h,b){for(const E in l){const M=l[E],P={x:0,y:0,w:M.data.width+2,h:M.data.height+2};b.push(P),h[E]=new Jx(P,M),M.hasRenderCallback&&this.haveRenderCallbacks.push(E)}}patchUpdatedImages(l,h){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const b in l.updatedImages)this.patchUpdatedImage(this.iconPositions[b],l.getImage(b),h),this.patchUpdatedImage(this.patternPositions[b],l.getImage(b),h)}patchUpdatedImage(l,h,b){if(!l||!h||l.version===h.version)return;l.version=h.version;const[E,M]=l.tl;b.update(h.data,void 0,{x:E,y:M})}}Ce("ImagePosition",Jx),Ce("ImageAtlas",ep),u.an=void 0,(pf=u.an||(u.an={}))[pf.none=0]="none",pf[pf.horizontal=1]="horizontal",pf[pf.vertical=2]="vertical",pf[pf.horizontalOnly=3]="horizontalOnly";class Hp{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(l,h,b){const E=new Hp;return E.scale=l||1,E.fontStack=h,E.verticalAlign=b||"bottom",E}static forImage(l,h){const b=new Hp;return b.imageName=l,b.verticalAlign=h||"bottom",b}}class Xp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,h){const b=new Xp;for(let E=0;E<l.sections.length;E++){const M=l.sections[E];M.image?b.addImageSection(M):b.addTextSection(M,h)}return b}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=(function(l){let h="";for(let b=0;b<l.length;b++){const E=l.charCodeAt(b+1)||null,M=l.charCodeAt(b-1)||null;h+=E&&Ea(E)&&!Nl[l[b+1]]||M&&Ea(M)&&!Nl[l[b-1]]||!Nl[l[b]]?l[b]:Nl[l[b]]}return h})(this.text)}trim(){let l=0;for(let b=0;b<this.text.length&&rv[this.text.charCodeAt(b)];b++)l++;let h=this.text.length;for(let b=this.text.length-1;b>=0&&b>=l&&rv[this.text.charCodeAt(b)];b--)h--;this.text=this.text.substring(l,h),this.sectionIndex=this.sectionIndex.slice(l,h)}substring(l,h){const b=new Xp;return b.text=this.text.substring(l,h),b.sectionIndex=this.sectionIndex.slice(l,h),b.sections=this.sections,b}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((l,h)=>Math.max(l,this.sections[h].scale)),0)}getMaxImageSize(l){let h=0,b=0;for(let E=0;E<this.length();E++){const M=this.getSection(E);if(M.imageName){const P=l[M.imageName];if(!P)continue;const q=P.displaySize;h=Math.max(h,q[0]),b=Math.max(b,q[1])}}return{maxImageWidth:h,maxImageHeight:b}}addTextSection(l,h){this.text+=l.text,this.sections.push(Hp.forText(l.scale,l.fontStack||h,l.verticalAlign));const b=this.sections.length-1;for(let E=0;E<l.text.length;++E)this.sectionIndex.push(b)}addImageSection(l){const h=l.image?l.image.name:"";if(h.length===0)return void vr("Can't add FormattedSection with an empty image.");const b=this.getNextImageSectionCharCode();b?(this.text+=String.fromCharCode(b),this.sections.push(Hp.forImage(h,l.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):vr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function rp(f,l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt){const te=Xp.fromFeature(f,E);let he;St===u.an.vertical&&te.verticalizePunctuation();const{processBidirectionalText:Ee,processStyledBidirectionalText:Je}=go;if(Ee&&te.sections.length===1){he=[];const le=Ee(te.toString(),r1(te,ot,M,l,b,Gt));for(const Ve of le){const Tr=new Xp;Tr.text=Ve,Tr.sections=te.sections;for(let hn=0;hn<Ve.length;hn++)Tr.sectionIndex.push(0);he.push(Tr)}}else if(Je){he=[];const le=Je(te.text,te.sectionIndex,r1(te,ot,M,l,b,Gt));for(const Ve of le){const Tr=new Xp;Tr.text=Ve[0],Tr.sectionIndex=Ve[1],Tr.sections=te.sections,he.push(Tr)}}else he=(function(le,Ve){const Tr=[],hn=le.text;let jr=0;for(const Gr of Ve)Tr.push(le.substring(jr,Gr)),jr=Gr;return jr<hn.length&&Tr.push(le.substring(jr,hn.length)),Tr})(te,r1(te,ot,M,l,b,Gt));const De=[],Ut={positionedLines:De,text:te.toString(),top:ft[1],bottom:ft[1],left:ft[0],right:ft[0],writingMode:St,iconsInText:!1,verticalizable:!1};return(function(le,Ve,Tr,hn,jr,Gr,xn,sn,_n,Hr,qn,vi){let ui=0,oi=0,Ca=0,Js=0;const ru=sn==="right"?1:sn==="left"?0:.5,Yu=eu/vi;let nh=0;for(const fs of jr){fs.trim();const Mu=fs.getMaxScale(),Ku={positionedGlyphs:[],lineOffset:0};le.positionedLines[nh]=Ku;const yu=Ku.positionedGlyphs;let fc=0;if(!fs.length()){oi+=Gr,++nh;continue}const zc=PS(hn,fs,Yu);for(let Fc=0;Fc<fs.length();Fc++){const Ll=fs.getSection(Fc),Fs=fs.getSectionIndex(Fc),js=fs.getCharCode(Fc),ps=Y0(_n,qn,js);let Mo;if(Ll.imageName){if(le.iconsInText=!0,Ll.scale=Ll.scale*Yu,Mo=DS(Ll,ps,Mu,zc,hn),!Mo)continue;fc=Math.max(fc,Mo.imageOffset)}else if(Mo=OS(Ll,js,ps,zc,Ve,Tr),!Mo)continue;const{rect:ih,metrics:Gh,baselineOffset:$d}=Mo;yu.push({glyph:js,imageName:Ll.imageName,x:ui,y:oi+$d+-17,vertical:ps,scale:Ll.scale,fontStack:Ll.fontStack,sectionIndex:Fs,metrics:Gh,rect:ih}),ps?(le.verticalizable=!0,ui+=(Ll.imageName?Gh.advance:eu)*Ll.scale+Hr):ui+=Gh.advance*Ll.scale+Hr}yu.length!==0&&(Ca=Math.max(ui-Hr,Ca),BS(yu,0,yu.length-1,ru)),ui=0,Ku.lineOffset=Math.max(fc,(Mu-1)*eu);const nu=Gr*Mu+fc;oi+=nu,Js=Math.max(nu,Js),++nh}const{horizontalAlign:Bc,verticalAlign:Lu}=W0(xn);(function(fs,Mu,Ku,yu,fc,zc,nu,Fc,Ll){const Fs=(Mu-Ku)*fc;let js=0;js=zc!==nu?-Fc*yu- -17:-yu*Ll*nu+.5*nu;for(const ps of fs)for(const Mo of ps.positionedGlyphs)Mo.x+=Fs,Mo.y+=js})(le.positionedLines,ru,Bc,Lu,Ca,Js,Gr,oi,jr.length),le.top+=-Lu*oi,le.bottom=le.top+oi,le.left+=-Bc*Ca,le.right=le.left+Ca})(Ut,l,h,b,he,P,q,J,St,ot,Vt,Wt),!(function(le){for(const Ve of le)if(Ve.positionedGlyphs.length!==0)return!1;return!0})(De)&&Ut}const rv={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},RS={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},NS={40:!0};function t1(f,l,h,b,E,M){if(l.imageName){const P=b[l.imageName];return P?P.displaySize[0]*l.scale*eu/M+E:0}{const P=h[l.fontStack],q=P&&P[f];return q?q.metrics.advance*l.scale+E:0}}function nv(f,l,h,b){const E=Math.pow(f-l,2);return b?f<l?E/2:2*E:E+Math.abs(h)*h}function e1(f,l,h){let b=0;return f===10&&(b-=1e4),h&&(b+=150),f!==40&&f!==65288||(b+=50),l!==41&&l!==65289||(b+=50),b}function LS(f,l,h,b,E,M){let P=null,q=nv(l,h,E,M);for(const J of b){const ot=nv(l-J.x,h,E,M)+J.badness;ot<=q&&(P=J,q=ot)}return{index:f,x:l,priorBreak:P,badness:q}}function MS(f){return f?MS(f.priorBreak).concat(f.index):[]}function r1(f,l,h,b,E,M){if(!f)return[];const P=[],q=(function(St,Vt,Gt,Wt,te,he){let Ee=0;for(let Je=0;Je<St.length();Je++){const De=St.getSection(Je);Ee+=t1(St.getCharCode(Je),De,Wt,te,Vt,he)}return Ee/Math.max(1,Math.ceil(Ee/Gt))})(f,l,h,b,E,M),J=f.text.indexOf("")>=0;let ot=0;for(let St=0;St<f.length();St++){const Vt=f.getSection(St),Gt=f.getCharCode(St);if(rv[Gt]||(ot+=t1(Gt,Vt,b,E,l,M)),St<f.length()-1){const Wt=!((ft=Gt)<11904)&&(!!wr["CJK Compatibility Forms"](ft)||!!wr["CJK Compatibility"](ft)||!!wr["CJK Strokes"](ft)||!!wr["CJK Symbols and Punctuation"](ft)||!!wr["Enclosed CJK Letters and Months"](ft)||!!wr["Halfwidth and Fullwidth Forms"](ft)||!!wr["Ideographic Description Characters"](ft)||!!wr["Vertical Forms"](ft)||zi.test(String.fromCodePoint(ft)));(RS[Gt]||Wt||Vt.imageName||St!==f.length()-2&&NS[f.getCharCode(St+1)])&&P.push(LS(St+1,ot,q,P,e1(Gt,f.getCharCode(St+1),Wt&&J),!1))}}var ft;return MS(LS(f.length(),ot,q,P,0,!0))}function W0(f){let l=.5,h=.5;switch(f){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(f){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:l,verticalAlign:h}}function PS(f,l,h){const b=l.getMaxScale()*eu,{maxImageWidth:E,maxImageHeight:M}=l.getMaxImageSize(f),P=Math.max(b,M*h);return{verticalLineContentWidth:Math.max(b,E*h),horizontalLineContentHeight:P}}function Wm(f){switch(f){case"top":return 0;case"center":return .5;default:return 1}}function Y0(f,l,h){return!(f===u.an.horizontal||!l&&!ai(h)||l&&(rv[h]||(b=h,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(b)))));var b}function OS(f,l,h,b,E,M){const P=M[f.fontStack],q=(function(ot,ft,St,Vt){if(ot&&ot.rect)return ot;const Gt=ft[St.fontStack],Wt=Gt&&Gt[Vt];return Wt?{rect:null,metrics:Wt.metrics}:null})(P&&P[l],E,f,l);if(q===null)return null;let J;if(h)J=b.verticalLineContentWidth-f.scale*eu;else{const ot=Wm(f.verticalAlign);J=(b.horizontalLineContentHeight-f.scale*eu)*ot}return{rect:q.rect,metrics:q.metrics,baselineOffset:J}}function DS(f,l,h,b,E){const M=E[f.imageName];if(!M)return null;const P=M.paddedRect,q=M.displaySize,J={width:q[0],height:q[1],left:1,top:-3,advance:l?q[1]:q[0]};let ot;if(l)ot=b.verticalLineContentWidth-q[1]*f.scale;else{const ft=Wm(f.verticalAlign);ot=(b.horizontalLineContentHeight-q[1]*f.scale)*ft}return{rect:P,metrics:J,baselineOffset:ot,imageOffset:(l?q[0]:q[1])*f.scale-eu*h}}function BS(f,l,h,b){if(b===0)return;const E=f[h],M=(f[h].x+E.metrics.advance*E.scale)*b;for(let P=l;P<=h;P++)f[P].x-=M}function zS(f,l,h){const{horizontalAlign:b,verticalAlign:E}=W0(h),M=l[0]-f.displaySize[0]*b,P=l[1]-f.displaySize[1]*E;return{image:f,top:P,bottom:P+f.displaySize[1],left:M,right:M+f.displaySize[0]}}function n1(f){var l,h;let b=f.left,E=f.top,M=f.right-b,P=f.bottom-E;const q=(l=f.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",J=(h=f.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",ot=(f.image.content[2]-f.image.content[0])/(f.image.content[3]-f.image.content[1]);if(J==="proportional"){if(q==="stretchOnly"&&M/P<ot||q==="proportional"){const ft=Math.ceil(P*ot);b*=ft/M,M=ft}}else if(q==="proportional"&&J==="stretchOnly"&&ot!==0&&M/P>ot){const ft=Math.ceil(M/ot);E*=ft/P,P=ft}return{x1:b,y1:E,x2:b+M,y2:E+P}}function i1(f,l,h,b,E,M){const P=f.image;let q;if(P.content){const he=P.content,Ee=P.pixelRatio||1;q=[he[0]/Ee,he[1]/Ee,P.displaySize[0]-he[2]/Ee,P.displaySize[1]-he[3]/Ee]}const J=l.left*M,ot=l.right*M;let ft,St,Vt,Gt;h==="width"||h==="both"?(Gt=E[0]+J-b[3],St=E[0]+ot+b[1]):(Gt=E[0]+(J+ot-P.displaySize[0])/2,St=Gt+P.displaySize[0]);const Wt=l.top*M,te=l.bottom*M;return h==="height"||h==="both"?(ft=E[1]+Wt-b[0],Vt=E[1]+te+b[2]):(ft=E[1]+(Wt+te-P.displaySize[1])/2,Vt=ft+P.displaySize[1]),{image:P,top:ft,right:St,bottom:Vt,left:Gt,collisionPadding:q}}const ad=128,np=32640;function a1(f,l){const{expression:h}=l;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Gn(f+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:b,interpolationType:E}=h;let M=0;for(;M<b.length&&b[M]<=f;)M++;M=Math.max(0,M-1);let P=M;for(;P<b.length&&b[P]<f+1;)P++;P=Math.min(b.length-1,P);const q=b[M],J=b[P];return h.kind==="composite"?{kind:"composite",minZoom:q,maxZoom:J,interpolationType:E}:{kind:"camera",minZoom:q,maxZoom:J,minSize:h.evaluate(new Gn(q)),maxSize:h.evaluate(new Gn(J)),interpolationType:E}}}function Ho(f,l,h){let b="never";const E=f.get(l);return E?b=E:f.get(h)&&(b="always"),b}const o1=Zf.VectorTileFeature.types,QA=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function iv(f,l,h,b,E,M,P,q,J,ot,ft,St,Vt){const Gt=q?Math.min(np,Math.round(q[0])):0,Wt=q?Math.min(np,Math.round(q[1])):0;f.emplaceBack(l,h,Math.round(32*b),Math.round(32*E),M,P,(Gt<<1)+(J?1:0),Wt,16*ot,16*ft,256*St,256*Vt)}function s1(f,l,h){f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h)}function JA(f){for(const l of f.sections)if(Pn(l.text))return!0;return!1}class l1{constructor(l){this.layoutVertexArray=new Gi,this.indexArray=new Da,this.programConfigurations=l,this.segments=new ua,this.dynamicLayoutVertexArray=new Sa,this.opacityVertexArray=new Uo,this.hasVisibleVertices=!1,this.placedSymbolArray=new me}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,h,b,E){this.isEmpty()||(b&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Zx.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,H0.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,QA,!0),this.opacityVertexBuffer.itemSize=1),(b||E)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ce("SymbolBuffers",l1);class Yg{constructor(l,h,b){this.layoutVertexArray=new l,this.layoutAttributes=h,this.indexArray=new b,this.segments=new ua,this.collisionVertexArray=new Ka}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,CS.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ce("CollisionBuffers",Yg);class Fd{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.globalState=l.globalState,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((P=>P.id)),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=a1(this.zoom,h["text-size"]),this.iconSizeData=a1(this.zoom,h["icon-size"]);const b=this.layers[0].layout,E=b.get("symbol-sort-key"),M=b.get("symbol-z-order");this.canOverlap=Ho(b,"text-overlap","text-allow-overlap")!=="never"||Ho(b,"icon-overlap","icon-allow-overlap")!=="never"||b.get("text-ignore-placement")||b.get("icon-ignore-placement"),this.sortFeaturesByKey=M!=="viewport-y"&&!E.isConstant(),this.sortFeaturesByY=(M==="viewport-y"||M==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,b.get("symbol-placement")==="point"&&(this.writingModes=b.get("text-writing-mode").map((P=>u.an[P]))),this.stateDependentLayerIds=this.layers.filter((P=>P.isStateDependent())).map((P=>P.id)),this.sourceID=l.sourceID}createArrays(){this.text=new l1(new Ld(this.layers,this.zoom,(l=>/^text/.test(l)))),this.icon=new l1(new Ld(this.layers,this.zoom,(l=>/^icon/.test(l)))),this.glyphOffsetArray=new Le,this.lineVertexArray=new $e,this.symbolInstances=new Be,this.textAnchorOffsets=new Ne}calculateGlyphDependencies(l,h,b,E,M){for(let P=0;P<l.length;P++)if(h[l.charCodeAt(P)]=!0,(b||E)&&M){const q=Nl[l.charAt(P)];q&&(h[q.charCodeAt(0)]=!0)}}populate(l,h,b){const E=this.layers[0],M=E.layout,P=M.get("text-font"),q=M.get("text-field"),J=M.get("icon-image"),ot=(q.value.kind!=="constant"||q.value.value instanceof Ln&&!q.value.value.isEmpty()||q.value.value.toString().length>0)&&(P.value.kind!=="constant"||P.value.value.length>0),ft=J.value.kind!=="constant"||!!J.value.value||Object.keys(J.parameters).length>0,St=M.get("symbol-sort-key");if(this.features=[],!ot&&!ft)return;const Vt=h.iconDependencies,Gt=h.glyphDependencies,Wt=h.availableImages,te=new Gn(this.zoom,{globalState:this.globalState});for(const{feature:he,id:Ee,index:Je,sourceLayerIndex:De}of l){const Ut=E._featureFilter.needGeometry,le=Md(he,Ut);if(!E._featureFilter.filter(te,le,b))continue;let Ve,Tr;if(Ut||(le.geometry=zp(he)),ot){const jr=E.getValueAndResolveTokens("text-field",le,b,Wt),Gr=Ln.factory(jr),xn=this.hasRTLText=this.hasRTLText||JA(Gr);(!xn||go.getRTLTextPluginStatus()==="unavailable"||xn&&go.isParsed())&&(Ve=qp(Gr,E,le))}if(ft){const jr=E.getValueAndResolveTokens("icon-image",le,b,Wt);Tr=jr instanceof Ha?jr:Ha.fromString(jr)}if(!Ve&&!Tr)continue;const hn=this.sortFeaturesByKey?St.evaluate(le,{},b):void 0;if(this.features.push({id:Ee,text:Ve,icon:Tr,index:Je,sourceLayerIndex:De,geometry:le.geometry,properties:he.properties,type:o1[he.type],sortKey:hn}),Tr&&(Vt[Tr.name]=!0),Ve){const jr=P.evaluate(le,{},b).join(","),Gr=M.get("text-rotation-alignment")!=="viewport"&&M.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.an.vertical)>=0;for(const xn of Ve.sections)if(xn.image)Vt[xn.image.name]=!0;else{const sn=Qr(Ve.toString()),_n=xn.fontStack||jr,Hr=Gt[_n]=Gt[_n]||{};this.calculateGlyphDependencies(xn.text,Hr,Gr,this.allowVerticalPlacement,sn)}}}M.get("symbol-placement")==="line"&&(this.features=(function(he){const Ee={},Je={},De=[];let Ut=0;function le(jr){De.push(he[jr]),Ut++}function Ve(jr,Gr,xn){const sn=Je[jr];return delete Je[jr],Je[Gr]=sn,De[sn].geometry[0].pop(),De[sn].geometry[0]=De[sn].geometry[0].concat(xn[0]),sn}function Tr(jr,Gr,xn){const sn=Ee[Gr];return delete Ee[Gr],Ee[jr]=sn,De[sn].geometry[0].shift(),De[sn].geometry[0]=xn[0].concat(De[sn].geometry[0]),sn}function hn(jr,Gr,xn){const sn=xn?Gr[0][Gr[0].length-1]:Gr[0][0];return`${jr}:${sn.x}:${sn.y}`}for(let jr=0;jr<he.length;jr++){const Gr=he[jr],xn=Gr.geometry,sn=Gr.text?Gr.text.toString():null;if(!sn){le(jr);continue}const _n=hn(sn,xn),Hr=hn(sn,xn,!0);if(_n in Je&&Hr in Ee&&Je[_n]!==Ee[Hr]){const qn=Tr(_n,Hr,xn),vi=Ve(_n,Hr,De[qn].geometry);delete Ee[_n],delete Je[Hr],Je[hn(sn,De[vi].geometry,!0)]=vi,De[qn].geometry=null}else _n in Je?Ve(_n,Hr,xn):Hr in Ee?Tr(_n,Hr,xn):(le(jr),Ee[_n]=Ut-1,Je[Hr]=Ut-1)}return De.filter((jr=>jr.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((he,Ee)=>he.sortKey-Ee.sortKey))}update(l,h,b){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,h,this.layers,b),this.icon.programConfigurations.updatePaintArrays(l,h,this.layers,b))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,h){const b=this.lineVertexArray.length;if(l.segment!==void 0){let E=l.dist(h[l.segment+1]),M=l.dist(h[l.segment]);const P={};for(let q=l.segment+1;q<h.length;q++)P[q]={x:h[q].x,y:h[q].y,tileUnitDistanceFromAnchor:E},q<h.length-1&&(E+=h[q+1].dist(h[q]));for(let q=l.segment||0;q>=0;q--)P[q]={x:h[q].x,y:h[q].y,tileUnitDistanceFromAnchor:M},q>0&&(M+=h[q-1].dist(h[q]));for(let q=0;q<h.length;q++){const J=P[q];this.lineVertexArray.emplaceBack(J.x,J.y,J.tileUnitDistanceFromAnchor)}}return{lineStartIndex:b,lineLength:this.lineVertexArray.length-b}}addSymbols(l,h,b,E,M,P,q,J,ot,ft,St,Vt){const Gt=l.indexArray,Wt=l.layoutVertexArray,te=l.segments.prepareSegment(4*h.length,Wt,Gt,this.canOverlap?P.sortKey:void 0),he=this.glyphOffsetArray.length,Ee=te.vertexLength,Je=this.allowVerticalPlacement&&q===u.an.vertical?Math.PI/2:0,De=P.text&&P.text.sections;for(let Ut=0;Ut<h.length;Ut++){const{tl:le,tr:Ve,bl:Tr,br:hn,tex:jr,pixelOffsetTL:Gr,pixelOffsetBR:xn,minFontScaleX:sn,minFontScaleY:_n,glyphOffset:Hr,isSDF:qn,sectionIndex:vi}=h[Ut],ui=te.vertexLength,oi=Hr[1];iv(Wt,J.x,J.y,le.x,oi+le.y,jr.x,jr.y,b,qn,Gr.x,Gr.y,sn,_n),iv(Wt,J.x,J.y,Ve.x,oi+Ve.y,jr.x+jr.w,jr.y,b,qn,xn.x,Gr.y,sn,_n),iv(Wt,J.x,J.y,Tr.x,oi+Tr.y,jr.x,jr.y+jr.h,b,qn,Gr.x,xn.y,sn,_n),iv(Wt,J.x,J.y,hn.x,oi+hn.y,jr.x+jr.w,jr.y+jr.h,b,qn,xn.x,xn.y,sn,_n),s1(l.dynamicLayoutVertexArray,J,Je),Gt.emplaceBack(ui,ui+2,ui+1),Gt.emplaceBack(ui+1,ui+2,ui+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Hr[0]),Ut!==h.length-1&&vi===h[Ut+1].sectionIndex||l.programConfigurations.populatePaintArrays(Wt.length,P,P.index,{},Vt,De&&De[vi])}l.placedSymbolArray.emplaceBack(J.x,J.y,he,this.glyphOffsetArray.length-he,Ee,ot,ft,J.segment,b?b[0]:0,b?b[1]:0,E[0],E[1],q,0,!1,0,St)}_addCollisionDebugVertex(l,h,b,E,M,P){return h.emplaceBack(0,0),l.emplaceBack(b.x,b.y,E,M,Math.round(P.x),Math.round(P.y))}addCollisionDebugVertices(l,h,b,E,M,P,q){const J=M.segments.prepareSegment(4,M.layoutVertexArray,M.indexArray),ot=J.vertexLength,ft=M.layoutVertexArray,St=M.collisionVertexArray,Vt=q.anchorX,Gt=q.anchorY;this._addCollisionDebugVertex(ft,St,P,Vt,Gt,new O(l,h)),this._addCollisionDebugVertex(ft,St,P,Vt,Gt,new O(b,h)),this._addCollisionDebugVertex(ft,St,P,Vt,Gt,new O(b,E)),this._addCollisionDebugVertex(ft,St,P,Vt,Gt,new O(l,E)),J.vertexLength+=4;const Wt=M.indexArray;Wt.emplaceBack(ot,ot+1),Wt.emplaceBack(ot+1,ot+2),Wt.emplaceBack(ot+2,ot+3),Wt.emplaceBack(ot+3,ot),J.primitiveLength+=4}addDebugCollisionBoxes(l,h,b,E){for(let M=l;M<h;M++){const P=this.collisionBoxArray.get(M);this.addCollisionDebugVertices(P.x1,P.y1,P.x2,P.y2,E?this.textCollisionBox:this.iconCollisionBox,P.anchorPoint,b)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Yg(Ya,tv.members,Pa),this.iconCollisionBox=new Yg(Ya,tv.members,Pa);for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(l,h,b,E,M,P,q,J,ot){const ft={};for(let St=h;St<b;St++){const Vt=l.get(St);ft.textBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},ft.textFeatureIndex=Vt.featureIndex;break}for(let St=E;St<M;St++){const Vt=l.get(St);ft.verticalTextBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},ft.verticalTextFeatureIndex=Vt.featureIndex;break}for(let St=P;St<q;St++){const Vt=l.get(St);ft.iconBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},ft.iconFeatureIndex=Vt.featureIndex;break}for(let St=J;St<ot;St++){const Vt=l.get(St);ft.verticalIconBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},ft.verticalIconFeatureIndex=Vt.featureIndex;break}return ft}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const b=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,b.textBoxStartIndex,b.textBoxEndIndex,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b.iconBoxStartIndex,b.iconBoxEndIndex,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,h){const b=l.placedSymbolArray.get(h),E=b.vertexStartIndex+4*b.numGlyphs;for(let M=b.vertexStartIndex;M<E;M+=4)l.indexArray.emplaceBack(M,M+2,M+1),l.indexArray.emplaceBack(M+1,M+2,M+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(l),b=Math.cos(l),E=[],M=[],P=[];for(let q=0;q<this.symbolInstances.length;++q){P.push(q);const J=this.symbolInstances.get(q);E.push(0|Math.round(h*J.anchorX+b*J.anchorY)),M.push(J.featureIndex)}return P.sort(((q,J)=>E[q]-E[J]||M[J]-M[q])),P}addToSortKeyRanges(l,h){const b=this.sortKeyRanges[this.sortKeyRanges.length-1];b&&b.sortKey===h?b.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const b=this.symbolInstances.get(h);this.featureSortOrder.push(b.featureIndex),[b.rightJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.leftJustifiedTextSymbolIndex].forEach(((E,M,P)=>{E>=0&&P.indexOf(E)===M&&this.addIndicesForPlacedSymbol(this.text,E)})),b.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,b.verticalPlacedTextSymbolIndex),b.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.placedIconSymbolIndex),b.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,b.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let K0,av;Ce("SymbolBucket",Fd,{omit:["layers","collisionBoxArray","features","compareText"]}),Fd.MAX_GLYPHS=65535,Fd.addDynamicAttributes=s1;var ov={get paint(){return av=av||new La({"icon-opacity":new kn(Oe.paint_symbol["icon-opacity"]),"icon-color":new kn(Oe.paint_symbol["icon-color"]),"icon-halo-color":new kn(Oe.paint_symbol["icon-halo-color"]),"icon-halo-width":new kn(Oe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kn(Oe.paint_symbol["icon-halo-blur"]),"icon-translate":new gn(Oe.paint_symbol["icon-translate"]),"icon-translate-anchor":new gn(Oe.paint_symbol["icon-translate-anchor"]),"text-opacity":new kn(Oe.paint_symbol["text-opacity"]),"text-color":new kn(Oe.paint_symbol["text-color"],{runtimeType:Ra,getOverride:f=>f.textColor,hasOverride:f=>!!f.textColor}),"text-halo-color":new kn(Oe.paint_symbol["text-halo-color"]),"text-halo-width":new kn(Oe.paint_symbol["text-halo-width"]),"text-halo-blur":new kn(Oe.paint_symbol["text-halo-blur"]),"text-translate":new gn(Oe.paint_symbol["text-translate"]),"text-translate-anchor":new gn(Oe.paint_symbol["text-translate-anchor"])})},get layout(){return K0=K0||new La({"symbol-placement":new gn(Oe.layout_symbol["symbol-placement"]),"symbol-spacing":new gn(Oe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gn(Oe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kn(Oe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gn(Oe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gn(Oe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new gn(Oe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new gn(Oe.layout_symbol["icon-ignore-placement"]),"icon-optional":new gn(Oe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gn(Oe.layout_symbol["icon-rotation-alignment"]),"icon-size":new kn(Oe.layout_symbol["icon-size"]),"icon-text-fit":new gn(Oe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gn(Oe.layout_symbol["icon-text-fit-padding"]),"icon-image":new kn(Oe.layout_symbol["icon-image"]),"icon-rotate":new kn(Oe.layout_symbol["icon-rotate"]),"icon-padding":new kn(Oe.layout_symbol["icon-padding"]),"icon-keep-upright":new gn(Oe.layout_symbol["icon-keep-upright"]),"icon-offset":new kn(Oe.layout_symbol["icon-offset"]),"icon-anchor":new kn(Oe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gn(Oe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gn(Oe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gn(Oe.layout_symbol["text-rotation-alignment"]),"text-field":new kn(Oe.layout_symbol["text-field"]),"text-font":new kn(Oe.layout_symbol["text-font"]),"text-size":new kn(Oe.layout_symbol["text-size"]),"text-max-width":new kn(Oe.layout_symbol["text-max-width"]),"text-line-height":new gn(Oe.layout_symbol["text-line-height"]),"text-letter-spacing":new kn(Oe.layout_symbol["text-letter-spacing"]),"text-justify":new kn(Oe.layout_symbol["text-justify"]),"text-radial-offset":new kn(Oe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gn(Oe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new kn(Oe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new kn(Oe.layout_symbol["text-anchor"]),"text-max-angle":new gn(Oe.layout_symbol["text-max-angle"]),"text-writing-mode":new gn(Oe.layout_symbol["text-writing-mode"]),"text-rotate":new kn(Oe.layout_symbol["text-rotate"]),"text-padding":new gn(Oe.layout_symbol["text-padding"]),"text-keep-upright":new gn(Oe.layout_symbol["text-keep-upright"]),"text-transform":new kn(Oe.layout_symbol["text-transform"]),"text-offset":new kn(Oe.layout_symbol["text-offset"]),"text-allow-overlap":new gn(Oe.layout_symbol["text-allow-overlap"]),"text-overlap":new gn(Oe.layout_symbol["text-overlap"]),"text-ignore-placement":new gn(Oe.layout_symbol["text-ignore-placement"]),"text-optional":new gn(Oe.layout_symbol["text-optional"])})}};class ip{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Ki,this.defaultValue=l}evaluate(l){if(l.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(l.formattedSection))return h.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ce("FormatSectionOverride",ip,{omit:["defaultValue"]});class Uh extends Ma{constructor(l){super(l,ov)}recalculate(l,h){if(super.recalculate(l,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const b=this.layout.get("text-writing-mode");if(b){const E=[];for(const M of b)E.indexOf(M)<0&&E.push(M);this.layout._values["text-writing-mode"]=E}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,h,b,E){const M=this.layout.get(l).evaluate(h,{},b,E),P=this._unevaluatedLayout._values[l];return P.isDataDriven()||Wu(P.value)||!M?M:(function(q,J){return J.replace(/{([^{}]+)}/g,((ot,ft)=>q&&ft in q?String(q[ft]):""))})(h.properties,M)}createBucket(l){return new Fd(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of ov.paint.overridableProperties){if(!Uh.hasPaintOverride(this.layout,l))continue;const h=this.paint.get(l),b=new ip(h),E=new Td(b,h.property.specification);let M=null;M=h.value.kind==="constant"||h.value.kind==="source"?new Yc("source",E):new Cd("composite",E,h.value.zoomStops),this.paint._values[l]=new cs(h.property,M,h.parameters)}}_handleOverridablePaintPropertyUpdate(l,h,b){return!(!this.layout||h.isDataDriven()||b.isDataDriven())&&Uh.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,h){const b=l.get("text-field"),E=ov.paint.properties[h];let M=!1;const P=q=>{for(const J of q)if(E.overrides&&E.overrides.hasOverride(J))return void(M=!0)};if(b.value.kind==="constant"&&b.value.value instanceof Ln)P(b.value.value.sections);else if(b.value.kind==="source"){const q=ot=>{M||(ot instanceof No&&zn(ot.value)===rl?P(ot.value.sections):ot instanceof ql?P(ot.sections):ot.eachChild(q))},J=b.value;J._styleExpression&&q(J._styleExpression.expression)}return M}}let Kg;var tk={get paint(){return Kg=Kg||new La({"background-color":new gn(Oe.paint_background["background-color"]),"background-pattern":new Xa(Oe.paint_background["background-pattern"]),"background-opacity":new gn(Oe.paint_background["background-opacity"])})}};class FS extends Ma{constructor(l){super(l,tk)}}let u1;var jS={get paint(){return u1=u1||new La({"raster-opacity":new gn(Oe.paint_raster["raster-opacity"]),"raster-hue-rotate":new gn(Oe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gn(Oe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gn(Oe.paint_raster["raster-brightness-max"]),"raster-saturation":new gn(Oe.paint_raster["raster-saturation"]),"raster-contrast":new gn(Oe.paint_raster["raster-contrast"]),"raster-resampling":new gn(Oe.paint_raster["raster-resampling"]),"raster-fade-duration":new gn(Oe.paint_raster["raster-fade-duration"])})}};class VS extends Ma{constructor(l){super(l,jS)}}class ek extends Ma{constructor(l){super(l,{}),this.onAdd=h=>{this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},this.onRemove=h=>{this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class c1{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const $S={once:!0},Z0=63710088e-1;class Wp{constructor(l,h){if(isNaN(l)||isNaN(h))throw new Error(`Invalid LngLat object: (${l}, ${h})`);if(this.lng=+l,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Wp(de(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const h=Math.PI/180,b=this.lat*h,E=l.lat*h,M=Math.sin(b)*Math.sin(E)+Math.cos(b)*Math.cos(E)*Math.cos((l.lng-this.lng)*h);return Z0*Math.acos(Math.min(M,1))}static convert(l){if(l instanceof Wp)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Wp(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Wp(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Q0=2*Math.PI*Z0;function J0(f){return Q0*Math.cos(f*Math.PI/180)}function US(f){return(180+f)/360}function qS(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function Zg(f,l){return f/J0(l)}function h1(f){return 360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90}function d1(f,l){return f*J0(h1(l))}class Oa{constructor(l,h,b=0){this.x=+l,this.y=+h,this.z=+b}static fromLngLat(l,h=0){const b=Wp.convert(l);return new Oa(US(b.lng),qS(b.lat),Zg(h,b.lat))}toLngLat(){return new Wp(360*this.x-180,h1(this.y))}toAltitude(){return d1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Q0*(l=h1(this.y),1/Math.cos(l*Math.PI/180));var l}}function tb(f,l,h){var b=2*Math.PI*6378137/256/Math.pow(2,h);return[f*b-2*Math.PI*6378137/2,l*b-2*Math.PI*6378137/2]}class Qg{constructor(l,h,b){if(!(function(E,M,P){return!(E<0||E>25||P<0||P>=Math.pow(2,E)||M<0||M>=Math.pow(2,E))})(l,h,b))throw new Error(`x=${h}, y=${b}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=h,this.y=b,this.key=Yp(0,l,l,h,b)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,h,b){const E=(P=this.y,q=this.z,J=tb(256*(M=this.x),256*(P=Math.pow(2,q)-P-1),q),ot=tb(256*(M+1),256*(P+1),q),J[0]+","+J[1]+","+ot[0]+","+ot[1]);var M,P,q,J,ot;const ft=(function(St,Vt,Gt){let Wt,te="";for(let he=St;he>0;he--)Wt=1<<he-1,te+=(Vt&Wt?1:0)+(Gt&Wt?2:0);return te})(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(b==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,ft).replace(/{bbox-epsg-3857}/g,E)}isChildOf(l){const h=this.z-l.z;return h>0&&l.x===this.x>>h&&l.y===this.y>>h}getTilePoint(l){const h=Math.pow(2,this.z);return new O((l.x*h-this.x)*lt,(l.y*h-this.y)*lt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class eb{constructor(l,h){this.wrap=l,this.canonical=h,this.key=Yp(l,h.z,h.z,h.x,h.y)}}class Eh{constructor(l,h,b,E,M){if(this.terrainRttPosMatrix32f=null,l<b)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${b}`);this.overscaledZ=l,this.wrap=h,this.canonical=new Qg(b,+E,+M),this.key=Yp(h,l,b,E,M)}clone(){return new Eh(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-l;return l>this.canonical.z?new Eh(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Eh(l,this.wrap,l,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(l,h){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const b=this.canonical.z-l;return l>this.canonical.z?Yp(this.wrap*+h,l,this.canonical.z,this.canonical.x,this.canonical.y):Yp(this.wrap*+h,l,l,this.canonical.x>>b,this.canonical.y>>b)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const h=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>h&&l.canonical.y===this.canonical.y>>h}children(l){if(this.overscaledZ>=l)return[new Eh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,b=2*this.canonical.x,E=2*this.canonical.y;return[new Eh(h,this.wrap,h,b,E),new Eh(h,this.wrap,h,b+1,E),new Eh(h,this.wrap,h,b,E+1),new Eh(h,this.wrap,h,b+1,E+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Eh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Eh(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new eb(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new Oa(l.x-this.wrap,l.y))}}function Yp(f,l,h,b,E){(f*=2)<0&&(f=-1*f-1);const M=1<<h;return(M*M*f+M*E+b).toString(36)+h.toString(36)+l.toString(36)}Ce("CanonicalTileID",Qg),Ce("OverscaledTileID",Eh,{omit:["terrainRttPosMatrix32f"]});class jd{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(l){return this.minX=Math.min(this.minX,l.x),this.minY=Math.min(this.minY,l.y),this.maxX=Math.max(this.maxX,l.x),this.maxY=Math.max(this.maxY,l.y),this}expandBy(l){return this.minX-=l,this.minY-=l,this.maxX+=l,this.maxY+=l,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(l){return this.expandBy(-l)}map(l){const h=new jd;return h.extend(l(new O(this.minX,this.minY))),h.extend(l(new O(this.maxX,this.minY))),h.extend(l(new O(this.minX,this.maxY))),h.extend(l(new O(this.maxX,this.maxY))),h}static fromPoints(l){const h=new jd;for(const b of l)h.extend(b);return h}contains(l){return l.x>=this.minX&&l.x<=this.maxX&&l.y>=this.minY&&l.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(l){return!this.empty()&&!l.empty()&&l.minX>=this.minX&&l.maxX<=this.maxX&&l.minY>=this.minY&&l.maxY<=this.maxY}intersects(l){return!this.empty()&&!l.empty()&&l.minX<=this.maxX&&l.maxX>=this.minX&&l.minY<=this.maxY&&l.maxY>=this.minY}}class sv{constructor(l){this._stringToNumber={},this._numberToString=[];for(let h=0;h<l.length;h++){const b=l[h];this._stringToNumber[b]=h,this._numberToString[h]=b}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class GS{constructor(l,h,b,E,M){this.type="Feature",this._vectorTileFeature=l,l._z=h,l._x=b,l._y=E,this.properties=l.properties,this.id=M}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&(l[h]=this[h]);return l}}class f1{constructor(l,h){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new ge(lt,16,0),this.grid3D=new ge(lt,16,0),this.featureIndexArray=new Ar,this.promoteId=h}insert(l,h,b,E,M,P){const q=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(b,E,M);const J=P?this.grid3D:this.grid;for(let ot=0;ot<h.length;ot++){const ft=h[ot],St=[1/0,1/0,-1/0,-1/0];for(let Vt=0;Vt<ft.length;Vt++){const Gt=ft[Vt];St[0]=Math.min(St[0],Gt.x),St[1]=Math.min(St[1],Gt.y),St[2]=Math.max(St[2],Gt.x),St[3]=Math.max(St[3],Gt.y)}St[0]<lt&&St[1]<lt&&St[2]>=0&&St[3]>=0&&J.insert(q,St[0],St[1],St[2],St[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Zf.VectorTile(new rh(this.rawTileData)).layers,this.sourceLayerCoder=new sv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,h,b,E){this.loadVTLayers();const M=l.params,P=lt/l.tileSize/l.scale,q=gl(M.filter),J=l.queryGeometry,ot=l.queryPadding*P,ft=jd.fromPoints(J),St=this.grid.query(ft.minX-ot,ft.minY-ot,ft.maxX+ot,ft.maxY+ot),Vt=jd.fromPoints(l.cameraQueryGeometry).expandBy(ot),Gt=this.grid3D.query(Vt.minX,Vt.minY,Vt.maxX,Vt.maxY,((he,Ee,Je,De)=>(function(Ut,le,Ve,Tr,hn){for(const Gr of Ut)if(le<=Gr.x&&Ve<=Gr.y&&Tr>=Gr.x&&hn>=Gr.y)return!0;const jr=[new O(le,Ve),new O(le,hn),new O(Tr,hn),new O(Tr,Ve)];if(Ut.length>2){for(const Gr of jr)if(Um(Ut,Gr))return!0}for(let Gr=0;Gr<Ut.length-1;Gr++)if(Px(Ut[Gr],Ut[Gr+1],jr))return!0;return!1})(l.cameraQueryGeometry,he-ot,Ee-ot,Je+ot,De+ot)));for(const he of Gt)St.push(he);St.sort(rk);const Wt={};let te;for(let he=0;he<St.length;he++){const Ee=St[he];if(Ee===te)continue;te=Ee;const Je=this.featureIndexArray.get(Ee);let De=null;this.loadMatchingFeature(Wt,Je.bucketIndex,Je.sourceLayerIndex,Je.featureIndex,q,M.layers,M.availableImages,h,b,E,((Ut,le,Ve)=>(De||(De=zp(Ut)),le.queryIntersectsFeature({queryGeometry:J,feature:Ut,featureState:Ve,geometry:De,zoom:this.z,transform:l.transform,pixelsToTileUnits:P,pixelPosMatrix:l.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:l.getElevation}))))}return Wt}loadMatchingFeature(l,h,b,E,M,P,q,J,ot,ft,St){const Vt=this.bucketLayerIDs[h];if(P&&!Vt.some((he=>P.has(he))))return;const Gt=this.sourceLayerCoder.decode(b),Wt=this.vtLayers[Gt].feature(E);if(M.needGeometry){const he=Md(Wt,!0);if(!M.filter(new Gn(this.tileID.overscaledZ),he,this.tileID.canonical))return}else if(!M.filter(new Gn(this.tileID.overscaledZ),Wt))return;const te=this.getId(Wt,Gt);for(let he=0;he<Vt.length;he++){const Ee=Vt[he];if(P&&!P.has(Ee))continue;const Je=J[Ee];if(!Je)continue;let De={};te&&ft&&(De=ft.getState(Je.sourceLayer||"_geojsonTileLayer",te));const Ut=Se({},ot[Ee]);Ut.paint=HS(Ut.paint,Je.paint,Wt,De,q),Ut.layout=HS(Ut.layout,Je.layout,Wt,De,q);const le=!St||St(Wt,Je,De);if(!le)continue;const Ve=new GS(Wt,this.z,this.x,this.y,te);Ve.layer=Ut;let Tr=l[Ee];Tr===void 0&&(Tr=l[Ee]=[]),Tr.push({featureIndex:E,feature:Ve,intersectionZ:le})}}lookupSymbolFeatures(l,h,b,E,M,P,q,J){const ot={};this.loadVTLayers();const ft=gl(M);for(const St of l)this.loadMatchingFeature(ot,b,E,St,ft,P,q,J,h);return ot}hasLayer(l){for(const h of this.bucketLayerIDs)for(const b of h)if(l===b)return!0;return!1}getId(l,h){var b;let E=l.id;return this.promoteId&&(E=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof E=="boolean"&&(E=Number(E)),E===void 0&&!((b=l.properties)===null||b===void 0)&&b.cluster&&this.promoteId&&(E=Number(l.properties.cluster_id))),E}}function HS(f,l,h,b,E){return He(f,((M,P)=>{const q=l instanceof Os?l.get(P):null;return q&&q.evaluate?q.evaluate(h,b,E):q}))}function rk(f,l){return l-f}function p1(f,l,h,b,E){const M=[];for(let P=0;P<f.length;P++){const q=f[P];let J;for(let ot=0;ot<q.length-1;ot++){let ft=q[ot],St=q[ot+1];ft.x<l&&St.x<l||(ft.x<l?ft=new O(l,ft.y+(l-ft.x)/(St.x-ft.x)*(St.y-ft.y))._round():St.x<l&&(St=new O(l,ft.y+(l-ft.x)/(St.x-ft.x)*(St.y-ft.y))._round()),ft.y<h&&St.y<h||(ft.y<h?ft=new O(ft.x+(h-ft.y)/(St.y-ft.y)*(St.x-ft.x),h)._round():St.y<h&&(St=new O(ft.x+(h-ft.y)/(St.y-ft.y)*(St.x-ft.x),h)._round()),ft.x>=b&&St.x>=b||(ft.x>=b?ft=new O(b,ft.y+(b-ft.x)/(St.x-ft.x)*(St.y-ft.y))._round():St.x>=b&&(St=new O(b,ft.y+(b-ft.x)/(St.x-ft.x)*(St.y-ft.y))._round()),ft.y>=E&&St.y>=E||(ft.y>=E?ft=new O(ft.x+(E-ft.y)/(St.y-ft.y)*(St.x-ft.x),E)._round():St.y>=E&&(St=new O(ft.x+(E-ft.y)/(St.y-ft.y)*(St.x-ft.x),E)._round()),J&&ft.equals(J[J.length-1])||(J=[ft],M.push(J)),J.push(St)))))}}return M}Ce("FeatureIndex",f1,{omit:["rawTileData","sourceLayerCoder"]});class ap extends O{constructor(l,h,b,E){super(l,h),this.angle=b,E!==void 0&&(this.segment=E)}clone(){return new ap(this.x,this.y,this.angle,this.segment)}}function ds(f,l,h,b,E){if(l.segment===void 0||h===0)return!0;let M=l,P=l.segment+1,q=0;for(;q>-h/2;){if(P--,P<0)return!1;q-=f[P].dist(M),M=f[P]}q+=f[P].dist(f[P+1]),P++;const J=[];let ot=0;for(;q<h/2;){const ft=f[P],St=f[P+1];if(!St)return!1;let Vt=f[P-1].angleTo(ft)-ft.angleTo(St);for(Vt=Math.abs((Vt+3*Math.PI)%(2*Math.PI)-Math.PI),J.push({distance:q,angleDelta:Vt}),ot+=Vt;q-J[0].distance>b;)ot-=J.shift().angleDelta;if(ot>E)return!1;P++,q+=ft.dist(St)}return!0}function rb(f){let l=0;for(let h=0;h<f.length-1;h++)l+=f[h].dist(f[h+1]);return l}function hc(f,l,h){return f?.6*l*h:0}function XS(f,l){return Math.max(f?f.right-f.left:0,l?l.right-l.left:0)}function WS(f,l,h,b,E,M){const P=hc(h,E,M),q=XS(h,b)*M;let J=0;const ot=rb(f)/2;for(let ft=0;ft<f.length-1;ft++){const St=f[ft],Vt=f[ft+1],Gt=St.dist(Vt);if(J+Gt>ot){const Wt=(ot-J)/Gt,te=Pi.number(St.x,Vt.x,Wt),he=Pi.number(St.y,Vt.y,Wt),Ee=new ap(te,he,Vt.angleTo(St),ft);return Ee._round(),!P||ds(f,Ee,q,P,l)?Ee:void 0}J+=Gt}}function nk(f,l,h,b,E,M,P,q,J){const ot=hc(b,M,P),ft=XS(b,E),St=ft*P,Vt=f[0].x===0||f[0].x===J||f[0].y===0||f[0].y===J;return l-St<l/4&&(l=St+l/4),nb(f,Vt?l/2*q%l:(ft/2+2*M)*P*q%l,l,ot,h,St,Vt,!1,J)}function nb(f,l,h,b,E,M,P,q,J){const ot=M/2,ft=rb(f);let St=0,Vt=l-h,Gt=[];for(let Wt=0;Wt<f.length-1;Wt++){const te=f[Wt],he=f[Wt+1],Ee=te.dist(he),Je=he.angleTo(te);for(;Vt+h<St+Ee;){Vt+=h;const De=(Vt-St)/Ee,Ut=Pi.number(te.x,he.x,De),le=Pi.number(te.y,he.y,De);if(Ut>=0&&Ut<J&&le>=0&&le<J&&Vt-ot>=0&&Vt+ot<=ft){const Ve=new ap(Ut,le,Je,Wt);Ve._round(),b&&!ds(f,Ve,M,b,E)||Gt.push(Ve)}}St+=Ee}return q||Gt.length||P||(Gt=nb(f,St/2,h,b,E,M,P,!0,J)),Gt}function ib(f,l,h,b){const E=[],M=f.image,P=M.pixelRatio,q=M.paddedRect.w-2,J=M.paddedRect.h-2;let ot={x1:f.left,y1:f.top,x2:f.right,y2:f.bottom};const ft=M.stretchX||[[0,q]],St=M.stretchY||[[0,J]],Vt=(Hr,qn)=>Hr+qn[1]-qn[0],Gt=ft.reduce(Vt,0),Wt=St.reduce(Vt,0),te=q-Gt,he=J-Wt;let Ee=0,Je=Gt,De=0,Ut=Wt,le=0,Ve=te,Tr=0,hn=he;if(M.content&&b){const Hr=M.content,qn=Hr[2]-Hr[0],vi=Hr[3]-Hr[1];(M.textFitWidth||M.textFitHeight)&&(ot=n1(f)),Ee=Ym(ft,0,Hr[0]),De=Ym(St,0,Hr[1]),Je=Ym(ft,Hr[0],Hr[2]),Ut=Ym(St,Hr[1],Hr[3]),le=Hr[0]-Ee,Tr=Hr[1]-De,Ve=qn-Je,hn=vi-Ut}const jr=ot.x1,Gr=ot.y1,xn=ot.x2-jr,sn=ot.y2-Gr,_n=(Hr,qn,vi,ui)=>{const oi=lv(Hr.stretch-Ee,Je,xn,jr),Ca=Jg(Hr.fixed-le,Ve,Hr.stretch,Gt),Js=lv(qn.stretch-De,Ut,sn,Gr),ru=Jg(qn.fixed-Tr,hn,qn.stretch,Wt),Yu=lv(vi.stretch-Ee,Je,xn,jr),nh=Jg(vi.fixed-le,Ve,vi.stretch,Gt),Bc=lv(ui.stretch-De,Ut,sn,Gr),Lu=Jg(ui.fixed-Tr,hn,ui.stretch,Wt),fs=new O(oi,Js),Mu=new O(Yu,Js),Ku=new O(Yu,Bc),yu=new O(oi,Bc),fc=new O(Ca/P,ru/P),zc=new O(nh/P,Lu/P),nu=l*Math.PI/180;if(nu){const Fs=Math.sin(nu),js=Math.cos(nu),ps=[js,-Fs,Fs,js];fs._matMult(ps),Mu._matMult(ps),yu._matMult(ps),Ku._matMult(ps)}const Fc=Hr.stretch+Hr.fixed,Ll=qn.stretch+qn.fixed;return{tl:fs,tr:Mu,bl:yu,br:Ku,tex:{x:M.paddedRect.x+1+Fc,y:M.paddedRect.y+1+Ll,w:vi.stretch+vi.fixed-Fc,h:ui.stretch+ui.fixed-Ll},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:fc,pixelOffsetBR:zc,minFontScaleX:Ve/P/xn,minFontScaleY:hn/P/sn,isSDF:h}};if(b&&(M.stretchX||M.stretchY)){const Hr=m1(ft,te,Gt),qn=m1(St,he,Wt);for(let vi=0;vi<Hr.length-1;vi++){const ui=Hr[vi],oi=Hr[vi+1];for(let Ca=0;Ca<qn.length-1;Ca++)E.push(_n(ui,qn[Ca],oi,qn[Ca+1]))}}else E.push(_n({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:q+1},{fixed:0,stretch:J+1}));return E}function Ym(f,l,h){let b=0;for(const E of f)b+=Math.max(l,Math.min(h,E[1]))-Math.max(l,Math.min(h,E[0]));return b}function m1(f,l,h){const b=[{fixed:-1,stretch:0}];for(const[E,M]of f){const P=b[b.length-1];b.push({fixed:E-P.stretch,stretch:P.stretch}),b.push({fixed:E-P.stretch,stretch:P.stretch+(M-E)})}return b.push({fixed:l+1,stretch:h}),b}function lv(f,l,h,b){return f/l*h+b}function Jg(f,l,h,b){return f-l*h/b}Ce("Anchor",ap);class ty{constructor(l,h,b,E,M,P,q,J,ot,ft){var St;if(this.boxStartIndex=l.length,ot){let Vt=P.top,Gt=P.bottom;const Wt=P.collisionPadding;Wt&&(Vt-=Wt[1],Gt+=Wt[3]);let te=Gt-Vt;te>0&&(te=Math.max(10,te),this.circleDiameter=te)}else{const Vt=!((St=P.image)===null||St===void 0)&&St.content&&(P.image.textFitWidth||P.image.textFitHeight)?n1(P):{x1:P.left,y1:P.top,x2:P.right,y2:P.bottom};Vt.y1=Vt.y1*q-J[0],Vt.y2=Vt.y2*q+J[2],Vt.x1=Vt.x1*q-J[3],Vt.x2=Vt.x2*q+J[1];const Gt=P.collisionPadding;if(Gt&&(Vt.x1-=Gt[0]*q,Vt.y1-=Gt[1]*q,Vt.x2+=Gt[2]*q,Vt.y2+=Gt[3]*q),ft){const Wt=new O(Vt.x1,Vt.y1),te=new O(Vt.x2,Vt.y1),he=new O(Vt.x1,Vt.y2),Ee=new O(Vt.x2,Vt.y2),Je=ft*Math.PI/180;Wt._rotate(Je),te._rotate(Je),he._rotate(Je),Ee._rotate(Je),Vt.x1=Math.min(Wt.x,te.x,he.x,Ee.x),Vt.x2=Math.max(Wt.x,te.x,he.x,Ee.x),Vt.y1=Math.min(Wt.y,te.y,he.y,Ee.y),Vt.y2=Math.max(Wt.y,te.y,he.y,Ee.y)}l.emplaceBack(h.x,h.y,Vt.x1,Vt.y1,Vt.x2,Vt.y2,b,E,M)}this.boxEndIndex=l.length}}class ik{constructor(l=[],h=(b,E)=>b<E?-1:b>E?1:0){if(this.data=l,this.length=this.data.length,this.compare=h,this.length>0)for(let b=(this.length>>1)-1;b>=0;b--)this._down(b)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:h,compare:b}=this,E=h[l];for(;l>0;){const M=l-1>>1,P=h[M];if(b(E,P)>=0)break;h[l]=P,l=M}h[l]=E}_down(l){const{data:h,compare:b}=this,E=this.length>>1,M=h[l];for(;l<E;){let P=1+(l<<1);const q=P+1;if(q<this.length&&b(h[q],h[P])<0&&(P=q),b(h[P],M)>=0)break;h[l]=h[P],l=P}h[l]=M}}function YS(f,l=1,h=!1){const b=jd.fromPoints(f[0]),E=Math.min(b.width(),b.height());let M=E/2;const P=new ik([],ak),{minX:q,minY:J,maxX:ot,maxY:ft}=b;if(E===0)return new O(q,J);for(let Gt=q;Gt<ot;Gt+=E)for(let Wt=J;Wt<ft;Wt+=E)P.push(new Km(Gt+M,Wt+M,M,f));let St=(function(Gt){let Wt=0,te=0,he=0;const Ee=Gt[0];for(let Je=0,De=Ee.length,Ut=De-1;Je<De;Ut=Je++){const le=Ee[Je],Ve=Ee[Ut],Tr=le.x*Ve.y-Ve.x*le.y;te+=(le.x+Ve.x)*Tr,he+=(le.y+Ve.y)*Tr,Wt+=3*Tr}return new Km(te/Wt,he/Wt,0,Gt)})(f),Vt=P.length;for(;P.length;){const Gt=P.pop();(Gt.d>St.d||!St.d)&&(St=Gt,h&&console.log("found best %d after %d probes",Math.round(1e4*Gt.d)/1e4,Vt)),Gt.max-St.d<=l||(M=Gt.h/2,P.push(new Km(Gt.p.x-M,Gt.p.y-M,M,f)),P.push(new Km(Gt.p.x+M,Gt.p.y-M,M,f)),P.push(new Km(Gt.p.x-M,Gt.p.y+M,M,f)),P.push(new Km(Gt.p.x+M,Gt.p.y+M,M,f)),Vt+=4)}return h&&(console.log(`num probes: ${Vt}`),console.log(`best distance: ${St.d}`)),St.p}function ak(f,l){return l.max-f.max}function Km(f,l,h,b){this.p=new O(f,l),this.h=h,this.d=(function(E,M){let P=!1,q=1/0;for(let J=0;J<M.length;J++){const ot=M[J];for(let ft=0,St=ot.length,Vt=St-1;ft<St;Vt=ft++){const Gt=ot[ft],Wt=ot[Vt];Gt.y>E.y!=Wt.y>E.y&&E.x<(Wt.x-Gt.x)*(E.y-Gt.y)/(Wt.y-Gt.y)+Gt.x&&(P=!P),q=Math.min(q,Mx(E,Gt,Wt))}}return(P?1:-1)*Math.sqrt(q)})(this.p,b),this.max=this.d+this.h*Math.SQRT2}var dc;u.aD=void 0,(dc=u.aD||(u.aD={}))[dc.center=1]="center",dc[dc.left=2]="left",dc[dc.right=3]="right",dc[dc.top=4]="top",dc[dc.bottom=5]="bottom",dc[dc["top-left"]=6]="top-left",dc[dc["top-right"]=7]="top-right",dc[dc["bottom-left"]=8]="bottom-left",dc[dc["bottom-right"]=9]="bottom-right";const g1=Number.POSITIVE_INFINITY;function op(f,l){return l[1]!==g1?(function(h,b,E){let M=0,P=0;switch(b=Math.abs(b),E=Math.abs(E),h){case"top-right":case"top-left":case"top":P=E-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-E}switch(h){case"top-right":case"bottom-right":case"right":M=-b;break;case"top-left":case"bottom-left":case"left":M=b}return[M,P]})(f,l[0],l[1]):(function(h,b){let E=0,M=0;b<0&&(b=0);const P=b/Math.SQRT2;switch(h){case"top-right":case"top-left":M=P-7;break;case"bottom-right":case"bottom-left":M=7-P;break;case"bottom":M=7-b;break;case"top":M=b-7}switch(h){case"top-right":case"bottom-right":E=-P;break;case"top-left":case"bottom-left":E=P;break;case"left":E=b;break;case"right":E=-b}return[E,M]})(f,l[0])}function y1(f,l,h){var b;const E=f.layout,M=(b=E.get("text-variable-anchor-offset"))===null||b===void 0?void 0:b.evaluate(l,{},h);if(M){const q=M.values,J=[];for(let ot=0;ot<q.length;ot+=2){const ft=J[ot]=q[ot],St=q[ot+1].map((Vt=>Vt*eu));ft.startsWith("top")?St[1]-=7:ft.startsWith("bottom")&&(St[1]+=7),J[ot+1]=St}return new Bn(J)}const P=E.get("text-variable-anchor");if(P){let q;q=f._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[E.get("text-radial-offset").evaluate(l,{},h)*eu,g1]:E.get("text-offset").evaluate(l,{},h).map((ot=>ot*eu));const J=[];for(const ot of P)J.push(ot,op(ot,q));return new Bn(J)}return null}function ab(f){switch(f){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function v1(f,l,h,b,E,M,P,q,J,ot,ft,St){let Vt=M.textMaxSize.evaluate(l,{});Vt===void 0&&(Vt=P);const Gt=f.layers[0].layout,Wt=Gt.get("icon-offset").evaluate(l,{},ft),te=ZS(h.horizontal),he=P/24,Ee=f.tilePixelRatio*he,Je=f.tilePixelRatio*Vt/24,De=f.tilePixelRatio*q,Ut=f.tilePixelRatio*Gt.get("symbol-spacing"),le=Gt.get("text-padding")*f.tilePixelRatio,Ve=(function(vi,ui,oi,Ca=1){const Js=vi.get("icon-padding").evaluate(ui,{},oi),ru=Js&&Js.values;return[ru[0]*Ca,ru[1]*Ca,ru[2]*Ca,ru[3]*Ca]})(Gt,l,ft,f.tilePixelRatio),Tr=Gt.get("text-max-angle")/180*Math.PI,hn=Gt.get("text-rotation-alignment")!=="viewport"&&Gt.get("symbol-placement")!=="point",jr=Gt.get("icon-rotation-alignment")==="map"&&Gt.get("symbol-placement")!=="point",Gr=Gt.get("symbol-placement"),xn=Ut/2,sn=Gt.get("icon-text-fit");let _n;b&&sn!=="none"&&(f.allowVerticalPlacement&&h.vertical&&(_n=i1(b,h.vertical,sn,Gt.get("icon-text-fit-padding"),Wt,he)),te&&(b=i1(b,te,sn,Gt.get("icon-text-fit-padding"),Wt,he)));const Hr=ft?St.line.getGranularityForZoomLevel(ft.z):1,qn=(vi,ui)=>{ui.x<0||ui.x>=lt||ui.y<0||ui.y>=lt||(function(oi,Ca,Js,ru,Yu,nh,Bc,Lu,fs,Mu,Ku,yu,fc,zc,nu,Fc,Ll,Fs,js,ps,Mo,ih,Gh,$d,JS){const mf=oi.addToLineVertexArray(Ca,Js);let Qm,Jm,sp,tg,t5=0,cv=0,hv=0,x1=0,Zp=-1,cb=-1;const Ud={};let dv=Tc("");if(oi.allowVerticalPlacement&&ru.vertical){const Cr=Lu.layout.get("text-rotate").evaluate(Mo,{},$d)+90;sp=new ty(fs,Ca,Mu,Ku,yu,ru.vertical,fc,zc,nu,Cr),Bc&&(tg=new ty(fs,Ca,Mu,Ku,yu,Bc,Ll,Fs,nu,Cr))}if(Yu){const Cr=Lu.layout.get("icon-rotate").evaluate(Mo,{}),Ur=Lu.layout.get("icon-text-fit")!=="none",si=ib(Yu,Cr,Gh,Ur),xi=Bc?ib(Bc,Cr,Gh,Ur):void 0;Jm=new ty(fs,Ca,Mu,Ku,yu,Yu,Ll,Fs,!1,Cr),t5=4*si.length;const vo=oi.iconSizeData;let gr=null;vo.kind==="source"?(gr=[ad*Lu.layout.get("icon-size").evaluate(Mo,{})],gr[0]>np&&vr(`${oi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):vo.kind==="composite"&&(gr=[ad*ih.compositeIconSizes[0].evaluate(Mo,{},$d),ad*ih.compositeIconSizes[1].evaluate(Mo,{},$d)],(gr[0]>np||gr[1]>np)&&vr(`${oi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),oi.addSymbols(oi.icon,si,gr,ps,js,Mo,u.an.none,Ca,mf.lineStartIndex,mf.lineLength,-1,$d),Zp=oi.icon.placedSymbolArray.length-1,xi&&(cv=4*xi.length,oi.addSymbols(oi.icon,xi,gr,ps,js,Mo,u.an.vertical,Ca,mf.lineStartIndex,mf.lineLength,-1,$d),cb=oi.icon.placedSymbolArray.length-1)}const w1=Object.keys(ru.horizontal);for(const Cr of w1){const Ur=ru.horizontal[Cr];if(!Qm){dv=Tc(Ur.text);const xi=Lu.layout.get("text-rotate").evaluate(Mo,{},$d);Qm=new ty(fs,Ca,Mu,Ku,yu,Ur,fc,zc,nu,xi)}const si=Ur.positionedLines.length===1;if(hv+=KS(oi,Ca,Ur,nh,Lu,nu,Mo,Fc,mf,ru.vertical?u.an.horizontal:u.an.horizontalOnly,si?w1:[Cr],Ud,Zp,ih,$d),si)break}ru.vertical&&(x1+=KS(oi,Ca,ru.vertical,nh,Lu,nu,Mo,Fc,mf,u.an.vertical,["vertical"],Ud,cb,ih,$d));const sk=Qm?Qm.boxStartIndex:oi.collisionBoxArray.length,hb=Qm?Qm.boxEndIndex:oi.collisionBoxArray.length,c=sp?sp.boxStartIndex:oi.collisionBoxArray.length,p=sp?sp.boxEndIndex:oi.collisionBoxArray.length,w=Jm?Jm.boxStartIndex:oi.collisionBoxArray.length,I=Jm?Jm.boxEndIndex:oi.collisionBoxArray.length,W=tg?tg.boxStartIndex:oi.collisionBoxArray.length,et=tg?tg.boxEndIndex:oi.collisionBoxArray.length;let Ot=-1;const se=(Cr,Ur)=>Cr&&Cr.circleDiameter?Math.max(Cr.circleDiameter,Ur):Ur;Ot=se(Qm,Ot),Ot=se(sp,Ot),Ot=se(Jm,Ot),Ot=se(tg,Ot);const Ye=Ot>-1?1:0;Ye&&(Ot*=JS/eu),oi.glyphOffsetArray.length>=Fd.MAX_GLYPHS&&vr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mo.sortKey!==void 0&&oi.addToSortKeyRanges(oi.symbolInstances.length,Mo.sortKey);const Br=y1(Lu,Mo,$d),[Jr,fn]=(function(Cr,Ur){const si=Cr.length,xi=Ur?.values;if(xi?.length>0)for(let vo=0;vo<xi.length;vo+=2){const gr=xi[vo+1];Cr.emplaceBack(u.aD[xi[vo]],gr[0],gr[1])}return[si,Cr.length]})(oi.textAnchorOffsets,Br);oi.symbolInstances.emplaceBack(Ca.x,Ca.y,Ud.right>=0?Ud.right:-1,Ud.center>=0?Ud.center:-1,Ud.left>=0?Ud.left:-1,Ud.vertical||-1,Zp,cb,dv,sk,hb,c,p,w,I,W,et,Mu,hv,x1,t5,cv,Ye,0,fc,Ot,Jr,fn)})(f,ui,vi,h,b,E,_n,f.layers[0],f.collisionBoxArray,l.index,l.sourceLayerIndex,f.index,Ee,[le,le,le,le],hn,J,De,Ve,jr,Wt,l,M,ot,ft,P)};if(Gr==="line")for(const vi of p1(l.geometry,0,0,lt,lt)){const ui=jp(vi,Hr),oi=nk(ui,Ut,Tr,h.vertical||te,b,24,Je,f.overscaling,lt);for(const Ca of oi)te&&QS(f,te.text,xn,Ca)||qn(ui,Ca)}else if(Gr==="line-center"){for(const vi of l.geometry)if(vi.length>1){const ui=jp(vi,Hr),oi=WS(ui,Tr,h.vertical||te,b,24,Je);oi&&qn(ui,oi)}}else if(l.type==="Polygon")for(const vi of Al(l.geometry,0)){const ui=YS(vi,16);qn(jp(vi[0],Hr,!0),new ap(ui.x,ui.y,0))}else if(l.type==="LineString")for(const vi of l.geometry){const ui=jp(vi,Hr);qn(ui,new ap(ui[0].x,ui[0].y,0))}else if(l.type==="Point")for(const vi of l.geometry)for(const ui of vi)qn([ui],new ap(ui.x,ui.y,0))}function KS(f,l,h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt){const te=(function(Je,De,Ut,le,Ve,Tr,hn,jr){const Gr=le.layout.get("text-rotate").evaluate(Tr,{})*Math.PI/180,xn=[];for(const sn of De.positionedLines)for(const _n of sn.positionedGlyphs){if(!_n.rect)continue;const Hr=_n.rect||{};let qn=4,vi=!0,ui=1,oi=0;const Ca=(Ve||jr)&&_n.vertical,Js=_n.metrics.advance*_n.scale/2;if(jr&&De.verticalizable&&(oi=sn.lineOffset/2-(_n.imageName?-(eu-_n.metrics.width*_n.scale)/2:(_n.scale-1)*eu)),_n.imageName){const Fs=hn[_n.imageName];vi=Fs.sdf,ui=Fs.pixelRatio,qn=1/ui}const ru=Ve?[_n.x+Js,_n.y]:[0,0];let Yu=Ve?[0,0]:[_n.x+Js+Ut[0],_n.y+Ut[1]-oi],nh=[0,0];Ca&&(nh=Yu,Yu=[0,0]);const Bc=_n.metrics.isDoubleResolution?2:1,Lu=(_n.metrics.left-qn)*_n.scale-Js+Yu[0],fs=(-_n.metrics.top-qn)*_n.scale+Yu[1],Mu=Lu+Hr.w/Bc*_n.scale/ui,Ku=fs+Hr.h/Bc*_n.scale/ui,yu=new O(Lu,fs),fc=new O(Mu,fs),zc=new O(Lu,Ku),nu=new O(Mu,Ku);if(Ca){const Fs=new O(-Js,Js- -17),js=-Math.PI/2,ps=12-Js,Mo=new O(22-ps,-(_n.imageName?ps:0)),ih=new O(...nh);yu._rotateAround(js,Fs)._add(Mo)._add(ih),fc._rotateAround(js,Fs)._add(Mo)._add(ih),zc._rotateAround(js,Fs)._add(Mo)._add(ih),nu._rotateAround(js,Fs)._add(Mo)._add(ih)}if(Gr){const Fs=Math.sin(Gr),js=Math.cos(Gr),ps=[js,-Fs,Fs,js];yu._matMult(ps),fc._matMult(ps),zc._matMult(ps),nu._matMult(ps)}const Fc=new O(0,0),Ll=new O(0,0);xn.push({tl:yu,tr:fc,bl:zc,br:nu,tex:Hr,writingMode:De.writingMode,glyphOffset:ru,sectionIndex:_n.sectionIndex,isSDF:vi,pixelOffsetTL:Fc,pixelOffsetBR:Ll,minFontScaleX:0,minFontScaleY:0})}return xn})(0,h,q,E,M,P,b,f.allowVerticalPlacement),he=f.textSizeData;let Ee=null;he.kind==="source"?(Ee=[ad*E.layout.get("text-size").evaluate(P,{})],Ee[0]>np&&vr(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):he.kind==="composite"&&(Ee=[ad*Gt.compositeTextSizes[0].evaluate(P,{},Wt),ad*Gt.compositeTextSizes[1].evaluate(P,{},Wt)],(Ee[0]>np||Ee[1]>np)&&vr(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),f.addSymbols(f.text,te,Ee,q,M,P,ot,l,J.lineStartIndex,J.lineLength,Vt,Wt);for(const Je of ft)St[Je]=f.text.placedSymbolArray.length-1;return 4*te.length}function ZS(f){for(const l in f)return f[l];return null}function QS(f,l,h,b){const E=f.compareText;if(l in E){const M=E[l];for(let P=M.length-1;P>=0;P--)if(b.dist(M[P])<h)return!0}else E[l]=[];return E[l].push(b),!1}const ob=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class uv{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,b]=new Uint8Array(l,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const E=b>>4;if(E!==1)throw new Error(`Got v${E} data when expected v1.`);const M=ob[15&b];if(!M)throw new Error("Unrecognized array type.");const[P]=new Uint16Array(l,2,1),[q]=new Uint32Array(l,4,1);return new uv(q,P,M,l)}constructor(l,h=64,b=Float64Array,E){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=b,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const M=ob.indexOf(this.ArrayType),P=2*l*this.ArrayType.BYTES_PER_ELEMENT,q=l*this.IndexArrayType.BYTES_PER_ELEMENT,J=(8-q%8)%8;if(M<0)throw new Error(`Unexpected typed array class: ${b}.`);E&&E instanceof ArrayBuffer?(this.data=E,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+q+J,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+P+q+J),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+q+J,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+M]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=l)}add(l,h){const b=this._pos>>1;return this.ids[b]=b,this.coords[this._pos++]=l,this.coords[this._pos++]=h,b}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return b1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,h,b,E){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:M,coords:P,nodeSize:q}=this,J=[0,M.length-1,0],ot=[];for(;J.length;){const ft=J.pop()||0,St=J.pop()||0,Vt=J.pop()||0;if(St-Vt<=q){for(let he=Vt;he<=St;he++){const Ee=P[2*he],Je=P[2*he+1];Ee>=l&&Ee<=b&&Je>=h&&Je<=E&&ot.push(M[he])}continue}const Gt=Vt+St>>1,Wt=P[2*Gt],te=P[2*Gt+1];Wt>=l&&Wt<=b&&te>=h&&te<=E&&ot.push(M[Gt]),(ft===0?l<=Wt:h<=te)&&(J.push(Vt),J.push(Gt-1),J.push(1-ft)),(ft===0?b>=Wt:E>=te)&&(J.push(Gt+1),J.push(St),J.push(1-ft))}return ot}within(l,h,b){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:M,nodeSize:P}=this,q=[0,E.length-1,0],J=[],ot=b*b;for(;q.length;){const ft=q.pop()||0,St=q.pop()||0,Vt=q.pop()||0;if(St-Vt<=P){for(let he=Vt;he<=St;he++)_1(M[2*he],M[2*he+1],l,h)<=ot&&J.push(E[he]);continue}const Gt=Vt+St>>1,Wt=M[2*Gt],te=M[2*Gt+1];_1(Wt,te,l,h)<=ot&&J.push(E[Gt]),(ft===0?l-b<=Wt:h-b<=te)&&(q.push(Vt),q.push(Gt-1),q.push(1-ft)),(ft===0?l+b>=Wt:h+b>=te)&&(q.push(Gt+1),q.push(St),q.push(1-ft))}return J}}function b1(f,l,h,b,E,M){if(E-b<=h)return;const P=b+E>>1;qh(f,l,P,b,E,M),b1(f,l,h,b,P-1,1-M),b1(f,l,h,P+1,E,1-M)}function qh(f,l,h,b,E,M){for(;E>b;){if(E-b>600){const ot=E-b+1,ft=h-b+1,St=Math.log(ot),Vt=.5*Math.exp(2*St/3),Gt=.5*Math.sqrt(St*Vt*(ot-Vt)/ot)*(ft-ot/2<0?-1:1);qh(f,l,h,Math.max(b,Math.floor(h-ft*Vt/ot+Gt)),Math.min(E,Math.floor(h+(ot-ft)*Vt/ot+Gt)),M)}const P=l[2*h+M];let q=b,J=E;for(Zm(f,l,b,h),l[2*E+M]>P&&Zm(f,l,b,E);q<J;){for(Zm(f,l,q,J),q++,J--;l[2*q+M]<P;)q++;for(;l[2*J+M]>P;)J--}l[2*b+M]===P?Zm(f,l,b,J):(J++,Zm(f,l,J,E)),J<=h&&(b=J+1),h<=J&&(E=J-1)}}function Zm(f,l,h,b){sb(f,h,b),sb(l,2*h,2*b),sb(l,2*h+1,2*b+1)}function sb(f,l,h){const b=f[l];f[l]=f[h],f[h]=b}function _1(f,l,h,b){const E=f-h,M=l-b;return E*E+M*M}var lb;u.cw=void 0,(lb=u.cw||(u.cw={})).create="create",lb.load="load",lb.fullLoad="fullLoad";let Kp=null,Dc=[];const ub=1e3/60,ey="loadTime",Vd="fullLoadTime",ok={mark(f){performance.mark(f)},frame(f){const l=f;Kp!=null&&Dc.push(l-Kp),Kp=l},clearMetrics(){Kp=null,Dc=[],performance.clearMeasures(ey),performance.clearMeasures(Vd);for(const f in u.cw)performance.clearMarks(u.cw[f])},getPerformanceMetrics(){performance.measure(ey,u.cw.create,u.cw.load),performance.measure(Vd,u.cw.create,u.cw.fullLoad);const f=performance.getEntriesByName(ey)[0].duration,l=performance.getEntriesByName(Vd)[0].duration,h=Dc.length,b=1/(Dc.reduce(((M,P)=>M+P),0)/h/1e3),E=Dc.filter((M=>M>ub)).reduce(((M,P)=>M+(P-ub)/ub),0);return{loadTime:f,fullLoadTime:l,fps:b,percentDroppedFrames:E/(h+E)*100,totalFrames:h}}};u.$=lt,u.A=Y,u.B=function([f,l,h]){return l+=90,l*=Math.PI/180,h*=Math.PI/180,{x:f*Math.cos(l)*Math.sin(h),y:f*Math.sin(l)*Math.sin(h),z:f*Math.cos(h)}},u.C=Pi,u.D=gn,u.E=cr,u.F=Gn,u.G=Kt,u.H=function(f){if(Mr==null){const l=f.navigator?f.navigator.userAgent:null;Mr=!!f.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Mr},u.I=Jx,u.J=class{constructor(f,l){this.target=f,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new c1((()=>this.process())),this.subscription=ar(this.target,"message",(h=>this.receive(h)),!1),this.globalScope=Ie(self)?f:window}registerMessageHandler(f,l){this.messageHandlers[f]=l}sendAsync(f,l){return new Promise(((h,b)=>{const E=Math.round(1e18*Math.random()).toString(36).substring(0,10),M=l?ar(l.signal,"abort",(()=>{M?.unsubscribe(),delete this.resolveRejects[E];const J={id:E,type:"<cancel>",origin:location.origin,targetMapId:f.targetMapId,sourceMapId:this.mapId};this.target.postMessage(J)}),$S):null;this.resolveRejects[E]={resolve:J=>{M?.unsubscribe(),h(J)},reject:J=>{M?.unsubscribe(),b(J)}};const P=[],q=Object.assign(Object.assign({},f),{id:E,sourceMapId:this.mapId,origin:location.origin,data:br(f.data,P)});this.target.postMessage(q,{transfer:P})}))}receive(f){const l=f.data,h=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[h];const b=this.abortControllers[h];return delete this.abortControllers[h],void(b&&b.abort())}if(Ie(self)||l.mustQueue)return this.tasks[h]=l,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,l)}}process(){if(this.taskQueue.length===0)return;const f=this.taskQueue.shift(),l=this.tasks[f];delete this.tasks[f],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(f,l)}processTask(f,l){return a(this,void 0,void 0,(function*(){if(l.type==="<response>"){const E=this.resolveRejects[f];return delete this.resolveRejects[f],E?void(l.error?E.reject(Xr(l.error)):E.resolve(Xr(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(f,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=Xr(l.data),b=new AbortController;this.abortControllers[f]=b;try{const E=yield this.messageHandlers[l.type](l.sourceMapId,h,b);this.completeTask(f,null,E)}catch(E){this.completeTask(f,E)}}))}completeTask(f,l,h){const b=[];delete this.abortControllers[f];const E={id:f,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?br(l):null,data:br(h,b)};this.target.postMessage(E,{transfer:b})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},u.K=Bt,u.L=function(){var f=new Y(16);return Y!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f},u.M=function(f,l,h){var b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te=h[0],he=h[1],Ee=h[2];return l===f?(f[12]=l[0]*te+l[4]*he+l[8]*Ee+l[12],f[13]=l[1]*te+l[5]*he+l[9]*Ee+l[13],f[14]=l[2]*te+l[6]*he+l[10]*Ee+l[14],f[15]=l[3]*te+l[7]*he+l[11]*Ee+l[15]):(E=l[1],M=l[2],P=l[3],q=l[4],J=l[5],ot=l[6],ft=l[7],St=l[8],Vt=l[9],Gt=l[10],Wt=l[11],f[0]=b=l[0],f[1]=E,f[2]=M,f[3]=P,f[4]=q,f[5]=J,f[6]=ot,f[7]=ft,f[8]=St,f[9]=Vt,f[10]=Gt,f[11]=Wt,f[12]=b*te+q*he+St*Ee+l[12],f[13]=E*te+J*he+Vt*Ee+l[13],f[14]=M*te+ot*he+Gt*Ee+l[14],f[15]=P*te+ft*he+Wt*Ee+l[15]),f},u.N=function(f,l,h){var b=h[0],E=h[1],M=h[2];return f[0]=l[0]*b,f[1]=l[1]*b,f[2]=l[2]*b,f[3]=l[3]*b,f[4]=l[4]*E,f[5]=l[5]*E,f[6]=l[6]*E,f[7]=l[7]*E,f[8]=l[8]*M,f[9]=l[9]*M,f[10]=l[10]*M,f[11]=l[11]*M,f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},u.O=function(f,l,h){var b=l[0],E=l[1],M=l[2],P=l[3],q=l[4],J=l[5],ot=l[6],ft=l[7],St=l[8],Vt=l[9],Gt=l[10],Wt=l[11],te=l[12],he=l[13],Ee=l[14],Je=l[15],De=h[0],Ut=h[1],le=h[2],Ve=h[3];return f[0]=De*b+Ut*q+le*St+Ve*te,f[1]=De*E+Ut*J+le*Vt+Ve*he,f[2]=De*M+Ut*ot+le*Gt+Ve*Ee,f[3]=De*P+Ut*ft+le*Wt+Ve*Je,f[4]=(De=h[4])*b+(Ut=h[5])*q+(le=h[6])*St+(Ve=h[7])*te,f[5]=De*E+Ut*J+le*Vt+Ve*he,f[6]=De*M+Ut*ot+le*Gt+Ve*Ee,f[7]=De*P+Ut*ft+le*Wt+Ve*Je,f[8]=(De=h[8])*b+(Ut=h[9])*q+(le=h[10])*St+(Ve=h[11])*te,f[9]=De*E+Ut*J+le*Vt+Ve*he,f[10]=De*M+Ut*ot+le*Gt+Ve*Ee,f[11]=De*P+Ut*ft+le*Wt+Ve*Je,f[12]=(De=h[12])*b+(Ut=h[13])*q+(le=h[14])*St+(Ve=h[15])*te,f[13]=De*E+Ut*J+le*Vt+Ve*he,f[14]=De*M+Ut*ot+le*Gt+Ve*Ee,f[15]=De*P+Ut*ft+le*Wt+Ve*Je,f},u.P=O,u.Q=function(f,l){const h={};for(let b=0;b<l.length;b++){const E=l[b];E in f&&(h[E]=f[E])}return h},u.R=cc,u.S=Wp,u.T=Hy,u.U=qS,u.V=US,u.W=z,u.X=j,u.Y=Pr,u.Z=Eh,u._=a,u.a=jt,u.a$=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f[3]=l[3]*h,f},u.a0=Oa,u.a1=jd,u.a2=25,u.a3=Qg,u.a4=f=>{const l=window.document.createElement("video");return l.muted=!0,new Promise((h=>{l.onloadstart=()=>{h(l)};for(const b of f){const E=window.document.createElement("source");Ge(b)||(l.crossOrigin="Anonymous"),E.src=b,l.appendChild(E)}}))},u.a5=$r,u.a6=function(){return $t++},u.a7=fe,u.a8=Fd,u.a9=gl,u.aA=eu,u.aB=kt,u.aC=function(f,l,h,b,E=!1){if(!h[0]&&!h[1])return[0,0];const M=E?b==="map"?-f.bearingInRadians:0:b==="viewport"?f.bearingInRadians:0;if(M){const P=Math.sin(M),q=Math.cos(M);h=[h[0]*q-h[1]*P,h[0]*P+h[1]*q]}return[E?h[0]:kt(l,h[0],f.zoom),E?h[1]:kt(l,h[1],f.zoom)]},u.aE=Ho,u.aF=ab,u.aG=W0,u.aH=uv,u.aI=Oi,u.aJ=Ug,u.aK=xr,u.aL=ua,u.aM=Da,u.aN=de,u.aO=er,u.aP=d1,u.aQ=dt,u.aR=$,u.aS=function(f){var l=new Y(3);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l},u.aT=function(f,l,h){return f[0]=l[0]-h[0],f[1]=l[1]-h[1],f[2]=l[2]-h[2],f},u.aU=function(f,l){var h=l[0],b=l[1],E=l[2],M=h*h+b*b+E*E;return M>0&&(M=1/Math.sqrt(M)),f[0]=l[0]*M,f[1]=l[1]*M,f[2]=l[2]*M,f},u.aV=mt,u.aW=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]},u.aX=function(f,l,h){return f[0]=l[0]*h[0],f[1]=l[1]*h[1],f[2]=l[2]*h[2],f[3]=l[3]*h[3],f},u.aY=bt,u.aZ=function(f,l,h){const b=l[0]*h[0]+l[1]*h[1]+l[2]*h[2];return b===0?null:(-(f[0]*h[0]+f[1]*h[1]+f[2]*h[2])-h[3])/b},u.a_=pt,u.aa=Md,u.ab=GS,u.ac=function(f){const l={};if(f.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((h,b,E,M)=>{const P=E||M;return l[b]=!P||P.toLowerCase(),""})),l["max-age"]){const h=parseInt(l["max-age"],10);isNaN(h)?delete l["max-age"]:l["max-age"]=h}return l},u.ad=Or,u.ae=function(f){return Math.pow(2,f)},u.af=st,u.ag=ce,u.ah=85.051129,u.ai=Zg,u.aj=function(f){return Math.log(f)/Math.LN2},u.ak=function(f){var l=f[0],h=f[1];return l*l+h*h},u.al=function(f,l){const h=[];for(const b in f)b in l||h.push(b);return h},u.am=function(f,l){let h=0,b=0;if(f.kind==="constant")b=f.layoutSize;else if(f.kind!=="source"){const{interpolationType:E,minZoom:M,maxZoom:P}=f,q=E?ce(wi.interpolationFactor(E,l,M,P),0,1):0;f.kind==="camera"?b=Pi.number(f.minSize,f.maxSize,q):h=q}return{uSizeT:h,uSize:b}},u.ao=function(f,{uSize:l,uSizeT:h},{lowerSize:b,upperSize:E}){return f.kind==="source"?b/ad:f.kind==="composite"?Pi.number(b/ad,E/ad,h):l},u.ap=function(f,l){var h=l[0],b=l[1],E=l[2],M=l[3],P=l[4],q=l[5],J=l[6],ot=l[7],ft=l[8],St=l[9],Vt=l[10],Gt=l[11],Wt=l[12],te=l[13],he=l[14],Ee=l[15],Je=h*q-b*P,De=h*J-E*P,Ut=h*ot-M*P,le=b*J-E*q,Ve=b*ot-M*q,Tr=E*ot-M*J,hn=ft*te-St*Wt,jr=ft*he-Vt*Wt,Gr=ft*Ee-Gt*Wt,xn=St*he-Vt*te,sn=St*Ee-Gt*te,_n=Vt*Ee-Gt*he,Hr=Je*_n-De*sn+Ut*xn+le*Gr-Ve*jr+Tr*hn;return Hr?(f[0]=(q*_n-J*sn+ot*xn)*(Hr=1/Hr),f[1]=(E*sn-b*_n-M*xn)*Hr,f[2]=(te*Tr-he*Ve+Ee*le)*Hr,f[3]=(Vt*Ve-St*Tr-Gt*le)*Hr,f[4]=(J*Gr-P*_n-ot*jr)*Hr,f[5]=(h*_n-E*Gr+M*jr)*Hr,f[6]=(he*Ut-Wt*Tr-Ee*De)*Hr,f[7]=(ft*Tr-Vt*Ut+Gt*De)*Hr,f[8]=(P*sn-q*Gr+ot*hn)*Hr,f[9]=(b*Gr-h*sn-M*hn)*Hr,f[10]=(Wt*Ve-te*Ut+Ee*Je)*Hr,f[11]=(St*Ut-ft*Ve-Gt*Je)*Hr,f[12]=(q*jr-P*xn-J*hn)*Hr,f[13]=(h*xn-b*jr+E*hn)*Hr,f[14]=(te*De-Wt*le-he*Je)*Hr,f[15]=(ft*le-St*De+Vt*Je)*Hr,f):null},u.aq=Ft,u.ar=function(f){return Math.hypot(f[0],f[1])},u.as=function(f){return f[0]=0,f[1]=0,f},u.at=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f},u.au=s1,u.av=Ct,u.aw=function(f,l,h,b){const E=l.y-f.y,M=l.x-f.x,P=b.y-h.y,q=b.x-h.x,J=P*M-q*E;if(J===0)return null;const ot=(q*(f.y-h.y)-P*(f.x-h.x))/J;return new O(f.x+ot*M,f.y+ot*E)},u.ax=p1,u.ay=C0,u.az=function(f){let l=1/0,h=1/0,b=-1/0,E=-1/0;for(const M of f)l=Math.min(l,M.x),h=Math.min(h,M.y),b=Math.max(b,M.x),E=Math.max(E,M.y);return[l,h,b,E]},u.b=ir,u.b$=X0,u.b0=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]},u.b1=eb,u.b2=Yp,u.b3=function(f,l,h,b,E){var M,P=1/Math.tan(l/2);return f[0]=P/h,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=P,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,E!=null&&E!==1/0?(f[10]=(E+b)*(M=1/(b-E)),f[14]=2*E*b*M):(f[10]=-1,f[14]=-2*b),f},u.b4=function(f){var l=new Y(16);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],l[9]=f[9],l[10]=f[10],l[11]=f[11],l[12]=f[12],l[13]=f[13],l[14]=f[14],l[15]=f[15],l},u.b5=function(f,l,h){var b=Math.sin(h),E=Math.cos(h),M=l[0],P=l[1],q=l[2],J=l[3],ot=l[4],ft=l[5],St=l[6],Vt=l[7];return l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=M*E+ot*b,f[1]=P*E+ft*b,f[2]=q*E+St*b,f[3]=J*E+Vt*b,f[4]=ot*E-M*b,f[5]=ft*E-P*b,f[6]=St*E-q*b,f[7]=Vt*E-J*b,f},u.b6=function(f,l,h){var b=Math.sin(h),E=Math.cos(h),M=l[4],P=l[5],q=l[6],J=l[7],ot=l[8],ft=l[9],St=l[10],Vt=l[11];return l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[4]=M*E+ot*b,f[5]=P*E+ft*b,f[6]=q*E+St*b,f[7]=J*E+Vt*b,f[8]=ot*E-M*b,f[9]=ft*E-P*b,f[10]=St*E-q*b,f[11]=Vt*E-J*b,f},u.b7=function(){const f=new Float32Array(16);return st(f),f},u.b8=function(){const f=new Float64Array(16);return st(f),f},u.b9=function(){return new Float64Array(16)},u.bA=function(f){return f[0]=0,f[1]=0,f[2]=0,f},u.bB=function(f,l,h,b){const E=Math.sqrt(f*f+l*l),M=Math.sqrt(h*h+b*b);f/=E,l/=E,h/=M,b/=M;const P=Math.acos(f*h+l*b);return-l*h+f*b>0?P:-P},u.bC=function(f,l){const h=At(f,2*Math.PI),b=At(l,2*Math.PI);return Math.min(Math.abs(h-b),Math.abs(h-b+2*Math.PI),Math.abs(h-b-2*Math.PI))},u.bD=function(){const f={},l=Oe.$version;for(const h in Oe.$root){const b=Oe.$root[h];if(b.required){let E=null;E=h==="version"?l:b.type==="array"?[]:{},E!=null&&(f[h]=E)}}return f},u.bE=Er,u.bF=ye,u.bG=function f(l,h){if(Array.isArray(l)){if(!Array.isArray(h)||l.length!==h.length)return!1;for(let b=0;b<l.length;b++)if(!f(l[b],h[b]))return!1;return!0}if(typeof l=="object"&&l!==null&&h!==null){if(typeof h!="object"||Object.keys(l).length!==Object.keys(h).length)return!1;for(const b in l)if(!f(l[b],h[b]))return!1;return!0}return l===h},u.bH=function(f){f=f.slice();const l=Object.create(null);for(let h=0;h<f.length;h++)l[f[h].id]=f[h];for(let h=0;h<f.length;h++)"ref"in f[h]&&(f[h]=or(f[h],l[f[h].ref]));return f},u.bI=function(f){if(f.type==="custom")return new ek(f);switch(f.type){case"background":return new FS(f);case"circle":return new mS(f);case"color-relief":return new vS(f);case"fill":return new j0(f);case"fill-extrusion":return new qo(f);case"heatmap":return new gS(f);case"hillshade":return new jx(f);case"line":return new Jy(f);case"raster":return new VS(f);case"symbol":return new Uh(f)}},u.bJ=Jt,u.bK=function(f,l){if(!f)return[{command:"setStyle",args:[l]}];let h=[];try{if(!vn(f.version,l.version))return[{command:"setStyle",args:[l]}];vn(f.center,l.center)||h.push({command:"setCenter",args:[l.center]}),vn(f.state,l.state)||h.push({command:"setGlobalState",args:[l.state]}),vn(f.centerAltitude,l.centerAltitude)||h.push({command:"setCenterAltitude",args:[l.centerAltitude]}),vn(f.zoom,l.zoom)||h.push({command:"setZoom",args:[l.zoom]}),vn(f.bearing,l.bearing)||h.push({command:"setBearing",args:[l.bearing]}),vn(f.pitch,l.pitch)||h.push({command:"setPitch",args:[l.pitch]}),vn(f.roll,l.roll)||h.push({command:"setRoll",args:[l.roll]}),vn(f.sprite,l.sprite)||h.push({command:"setSprite",args:[l.sprite]}),vn(f.glyphs,l.glyphs)||h.push({command:"setGlyphs",args:[l.glyphs]}),vn(f.transition,l.transition)||h.push({command:"setTransition",args:[l.transition]}),vn(f.light,l.light)||h.push({command:"setLight",args:[l.light]}),vn(f.terrain,l.terrain)||h.push({command:"setTerrain",args:[l.terrain]}),vn(f.sky,l.sky)||h.push({command:"setSky",args:[l.sky]}),vn(f.projection,l.projection)||h.push({command:"setProjection",args:[l.projection]});const b={},E=[];(function(P,q,J,ot){let ft;for(ft in q=q||{},P=P||{})Object.prototype.hasOwnProperty.call(P,ft)&&(Object.prototype.hasOwnProperty.call(q,ft)||Pt(ft,J,ot));for(ft in q)Object.prototype.hasOwnProperty.call(q,ft)&&(Object.prototype.hasOwnProperty.call(P,ft)?vn(P[ft],q[ft])||(P[ft].type==="geojson"&&q[ft].type==="geojson"&&be(P,q,ft)?Kr(J,{command:"setGeoJSONSourceData",args:[ft,q[ft].data]}):Xt(ft,q,J,ot)):Kn(ft,q,J))})(f.sources,l.sources,E,b);const M=[];f.layers&&f.layers.forEach((P=>{"source"in P&&b[P.source]?h.push({command:"removeLayer",args:[P.id]}):M.push(P)})),h=h.concat(E),(function(P,q,J){q=q||[];const ot=(P=P||[]).map(Lr),ft=q.map(Lr),St=P.reduce(yn,{}),Vt=q.reduce(yn,{}),Gt=ot.slice(),Wt=Object.create(null);let te,he,Ee,Je,De;for(let Ut=0,le=0;Ut<ot.length;Ut++)te=ot[Ut],Object.prototype.hasOwnProperty.call(Vt,te)?le++:(Kr(J,{command:"removeLayer",args:[te]}),Gt.splice(Gt.indexOf(te,le),1));for(let Ut=0,le=0;Ut<ft.length;Ut++)te=ft[ft.length-1-Ut],Gt[Gt.length-1-Ut]!==te&&(Object.prototype.hasOwnProperty.call(St,te)?(Kr(J,{command:"removeLayer",args:[te]}),Gt.splice(Gt.lastIndexOf(te,Gt.length-le),1)):le++,Je=Gt[Gt.length-Ut],Kr(J,{command:"addLayer",args:[Vt[te],Je]}),Gt.splice(Gt.length-Ut,0,te),Wt[te]=!0);for(let Ut=0;Ut<ft.length;Ut++)if(te=ft[Ut],he=St[te],Ee=Vt[te],!Wt[te]&&!vn(he,Ee))if(vn(he.source,Ee.source)&&vn(he["source-layer"],Ee["source-layer"])&&vn(he.type,Ee.type)){for(De in ze(he.layout,Ee.layout,J,te,null,"setLayoutProperty"),ze(he.paint,Ee.paint,J,te,null,"setPaintProperty"),vn(he.filter,Ee.filter)||Kr(J,{command:"setFilter",args:[te,Ee.filter]}),vn(he.minzoom,Ee.minzoom)&&vn(he.maxzoom,Ee.maxzoom)||Kr(J,{command:"setLayerZoomRange",args:[te,Ee.minzoom,Ee.maxzoom]}),he)Object.prototype.hasOwnProperty.call(he,De)&&De!=="layout"&&De!=="paint"&&De!=="filter"&&De!=="metadata"&&De!=="minzoom"&&De!=="maxzoom"&&(De.indexOf("paint.")===0?ze(he[De],Ee[De],J,te,De.slice(6),"setPaintProperty"):vn(he[De],Ee[De])||Kr(J,{command:"setLayerProperty",args:[te,De,Ee[De]]}));for(De in Ee)Object.prototype.hasOwnProperty.call(Ee,De)&&!Object.prototype.hasOwnProperty.call(he,De)&&De!=="layout"&&De!=="paint"&&De!=="filter"&&De!=="metadata"&&De!=="minzoom"&&De!=="maxzoom"&&(De.indexOf("paint.")===0?ze(he[De],Ee[De],J,te,De.slice(6),"setPaintProperty"):vn(he[De],Ee[De])||Kr(J,{command:"setLayerProperty",args:[te,De,Ee[De]]}))}else Kr(J,{command:"removeLayer",args:[te]}),Je=Gt[Gt.lastIndexOf(te)+1],Kr(J,{command:"addLayer",args:[Ee,Je]})})(M,l.layers,h)}catch(b){console.warn("Unable to compute style diff:",b),h=[{command:"setStyle",args:[l]}]}return h},u.bL=function(f){const l=[],h=f.id;return h===void 0&&l.push({message:`layers.${h}: missing required property "id"`}),f.render===void 0&&l.push({message:`layers.${h}: missing required method "render"`}),f.renderingMode&&f.renderingMode!=="2d"&&f.renderingMode!=="3d"&&l.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),l},u.bM=He,u.bN=ke,u.bO=class extends rs{constructor(f,l){super(f,l),this.current=0}set(f){this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}},u.bP=E0,u.bQ=class extends rs{constructor(f,l){super(f,l),this.current=Fy}set(f){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let l=1;l<16;l++)if(f[l]!==this.current[l]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}},u.bR=Jl,u.bS=class extends rs{constructor(f,l){super(f,l),this.current=[0,0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2]))}},u.bT=class extends rs{constructor(f,l){super(f,l),this.current=[0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1]))}},u.bU=rt,u.bV=function(f,l){var h=Math.sin(l),b=Math.cos(l);return f[0]=b,f[1]=h,f[2]=0,f[3]=-h,f[4]=b,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},u.bW=function(f,l,h){var b=l[0],E=l[1],M=l[2];return f[0]=b*h[0]+E*h[3]+M*h[6],f[1]=b*h[1]+E*h[4]+M*h[7],f[2]=b*h[2]+E*h[5]+M*h[8],f},u.bX=function(f,l,h,b,E,M,P){var q=1/(l-h),J=1/(b-E),ot=1/(M-P);return f[0]=-2*q,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*J,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*ot,f[11]=0,f[12]=(l+h)*q,f[13]=(E+b)*J,f[14]=(P+M)*ot,f[15]=1,f},u.bY=class extends rs{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(4*f.length);for(let h=0;h<f.length;h++)l[4*h]=f[h].r,l[4*h+1]=f[h].g,l[4*h+2]=f[h].b,l[4*h+3]=f[h].a;this.gl.uniform4fv(this.location,l)}}},u.bZ=class extends rs{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(f);this.gl.uniform1fv(this.location,l)}}},u.b_=class extends _{},u.ba=function(f,l,h){const b=new Float64Array(4);return It(b,f,l-90,h),b},u.bb=function(f,l,h,b){var E,M,P,q,J,ot=l[0],ft=l[1],St=l[2],Vt=l[3],Gt=h[0],Wt=h[1],te=h[2],he=h[3];return(M=ot*Gt+ft*Wt+St*te+Vt*he)<0&&(M=-M,Gt=-Gt,Wt=-Wt,te=-te,he=-he),1-M>X?(E=Math.acos(M),P=Math.sin(E),q=Math.sin((1-b)*E)/P,J=Math.sin(b*E)/P):(q=1-b,J=b),f[0]=q*ot+J*Gt,f[1]=q*ft+J*Wt,f[2]=q*St+J*te,f[3]=q*Vt+J*he,f},u.bc=function(f){const l=new Float64Array(9);var h,b,E,M,P,q,J,ot,ft,St,Vt,Gt,Wt,te,he,Ee,Je,De;St=(E=(b=f)[0])*(J=E+E),Vt=(M=b[1])*J,Wt=(P=b[2])*J,te=P*(ot=M+M),Ee=(q=b[3])*J,Je=q*ot,De=q*(ft=P+P),(h=l)[0]=1-(Gt=M*ot)-(he=P*ft),h[3]=Vt-De,h[6]=Wt+Je,h[1]=Vt+De,h[4]=1-St-he,h[7]=te-Ee,h[2]=Wt-Je,h[5]=te+Ee,h[8]=1-St-Gt;const Ut=er(-Math.asin(ce(l[2],-1,1)));let le,Ve;return Math.hypot(l[5],l[8])<.001?(le=0,Ve=-er(Math.atan2(l[3],l[4]))):(le=er(l[5]===0&&l[8]===0?0:Math.atan2(l[5],l[8])),Ve=er(l[1]===0&&l[0]===0?0:Math.atan2(l[1],l[0]))),{roll:le,pitch:Ut+90,bearing:Ve}},u.bd=function(f,l){return f.roll==l.roll&&f.pitch==l.pitch&&f.bearing==l.bearing},u.be=Nn,u.bf=uc,u.bg=Gm,u.bh=tu,u.bi=cl,u.bj=Nt,u.bk=qt,u.bl=pi,u.bm=function(f,l,h,b,E){return Nt(b,E,ce((f-l)/(h-l),0,1))},u.bn=At,u.bo=function(){return new Float64Array(3)},u.bp=function(f,l,h,b){return f[0]=l[0]+h[0]*b,f[1]=l[1]+h[1]*b,f[2]=l[2]+h[2]*b,f},u.bq=It,u.br=function(f,l,h){var b=h[0],E=h[1],M=h[2],P=l[0],q=l[1],J=l[2],ot=E*J-M*q,ft=M*P-b*J,St=b*q-E*P,Vt=E*St-M*ft,Gt=M*ot-b*St,Wt=b*ft-E*ot,te=2*h[3];return ft*=te,St*=te,Gt*=2,Wt*=2,f[0]=P+(ot*=te)+(Vt*=2),f[1]=q+ft+Gt,f[2]=J+St+Wt,f},u.bs=function(f,l,h){const b=(E=[f[0],f[1],f[2],l[0],l[1],l[2],h[0],h[1],h[2]])[0]*((ft=E[8])*(P=E[4])-(q=E[5])*(ot=E[7]))+E[1]*(-ft*(M=E[3])+q*(J=E[6]))+E[2]*(ot*M-P*J);var E,M,P,q,J,ot,ft;if(b===0)return null;const St=mt([],[l[0],l[1],l[2]],[h[0],h[1],h[2]]),Vt=mt([],[h[0],h[1],h[2]],[f[0],f[1],f[2]]),Gt=mt([],[f[0],f[1],f[2]],[l[0],l[1],l[2]]),Wt=dt([],St,-f[3]);return $(Wt,Wt,dt([],Vt,-l[3])),$(Wt,Wt,dt([],Gt,-h[3])),dt(Wt,Wt,1/b),Wt},u.bt=Z0,u.bu=function(){return new Float64Array(4)},u.bv=function(f,l,h,b){var E=[],M=[];return E[0]=l[0]-h[0],E[1]=l[1]-h[1],E[2]=l[2]-h[2],M[0]=E[0]*Math.cos(b)-E[1]*Math.sin(b),M[1]=E[0]*Math.sin(b)+E[1]*Math.cos(b),M[2]=E[2],f[0]=M[0]+h[0],f[1]=M[1]+h[1],f[2]=M[2]+h[2],f},u.bw=function(f,l,h,b){var E=[],M=[];return E[0]=l[0]-h[0],E[1]=l[1]-h[1],E[2]=l[2]-h[2],M[0]=E[0],M[1]=E[1]*Math.cos(b)-E[2]*Math.sin(b),M[2]=E[1]*Math.sin(b)+E[2]*Math.cos(b),f[0]=M[0]+h[0],f[1]=M[1]+h[1],f[2]=M[2]+h[2],f},u.bx=function(f,l,h,b){var E=[],M=[];return E[0]=l[0]-h[0],E[1]=l[1]-h[1],E[2]=l[2]-h[2],M[0]=E[2]*Math.sin(b)+E[0]*Math.cos(b),M[1]=E[1],M[2]=E[2]*Math.cos(b)-E[0]*Math.sin(b),f[0]=M[0]+h[0],f[1]=M[1]+h[1],f[2]=M[2]+h[2],f},u.by=function(f,l,h){var b=Math.sin(h),E=Math.cos(h),M=l[0],P=l[1],q=l[2],J=l[3],ot=l[8],ft=l[9],St=l[10],Vt=l[11];return l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=M*E-ot*b,f[1]=P*E-ft*b,f[2]=q*E-St*b,f[3]=J*E-Vt*b,f[8]=M*b+ot*E,f[9]=P*b+ft*E,f[10]=q*b+St*E,f[11]=J*b+Vt*E,f},u.bz=function(f,l){const h=At(f,360),b=At(l,360),E=b-h,M=b>h?E-360:E+360;return Math.abs(E)<Math.abs(M)?E:M},u.c=Me,u.c0=class extends L{},u.c1=M0,u.c2=function(f){return f<=1?1:Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},u.c3=L0,u.c4=function(f,l,h){var b=l[0],E=l[1],M=l[2],P=h[3]*b+h[7]*E+h[11]*M+h[15];return f[0]=(h[0]*b+h[4]*E+h[8]*M+h[12])/(P=P||1),f[1]=(h[1]*b+h[5]*E+h[9]*M+h[13])/P,f[2]=(h[2]*b+h[6]*E+h[10]*M+h[14])/P,f},u.c5=class extends bi{},u.c6=class extends Tt{},u.c7=function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},u.c8=function(f,l){var h=f[0],b=f[1],E=f[2],M=f[3],P=f[4],q=f[5],J=f[6],ot=f[7],ft=f[8],St=f[9],Vt=f[10],Gt=f[11],Wt=f[12],te=f[13],he=f[14],Ee=f[15],Je=l[0],De=l[1],Ut=l[2],le=l[3],Ve=l[4],Tr=l[5],hn=l[6],jr=l[7],Gr=l[8],xn=l[9],sn=l[10],_n=l[11],Hr=l[12],qn=l[13],vi=l[14],ui=l[15];return Math.abs(h-Je)<=X*Math.max(1,Math.abs(h),Math.abs(Je))&&Math.abs(b-De)<=X*Math.max(1,Math.abs(b),Math.abs(De))&&Math.abs(E-Ut)<=X*Math.max(1,Math.abs(E),Math.abs(Ut))&&Math.abs(M-le)<=X*Math.max(1,Math.abs(M),Math.abs(le))&&Math.abs(P-Ve)<=X*Math.max(1,Math.abs(P),Math.abs(Ve))&&Math.abs(q-Tr)<=X*Math.max(1,Math.abs(q),Math.abs(Tr))&&Math.abs(J-hn)<=X*Math.max(1,Math.abs(J),Math.abs(hn))&&Math.abs(ot-jr)<=X*Math.max(1,Math.abs(ot),Math.abs(jr))&&Math.abs(ft-Gr)<=X*Math.max(1,Math.abs(ft),Math.abs(Gr))&&Math.abs(St-xn)<=X*Math.max(1,Math.abs(St),Math.abs(xn))&&Math.abs(Vt-sn)<=X*Math.max(1,Math.abs(Vt),Math.abs(sn))&&Math.abs(Gt-_n)<=X*Math.max(1,Math.abs(Gt),Math.abs(_n))&&Math.abs(Wt-Hr)<=X*Math.max(1,Math.abs(Wt),Math.abs(Hr))&&Math.abs(te-qn)<=X*Math.max(1,Math.abs(te),Math.abs(qn))&&Math.abs(he-vi)<=X*Math.max(1,Math.abs(he),Math.abs(vi))&&Math.abs(Ee-ui)<=X*Math.max(1,Math.abs(Ee),Math.abs(ui))},u.c9=function(f,l){return f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},u.cA=function(f){delete jt.REGISTERED_PROTOCOLS[f]},u.cB=function(f,l){const h={};for(let E=0;E<f.length;E++){const M=l&&l[f[E].id]||us(f[E]);l&&(l[f[E].id]=M);let P=h[M];P||(P=h[M]=[]),P.push(f[E])}const b=[];for(const E in h)b.push(h[E]);return b},u.cC=Ce,u.cD=sv,u.cE=f1,u.cF=ep,u.cG=function(f){f.bucket.createArrays(),f.bucket.tilePixelRatio=lt/(512*f.bucket.overscaling),f.bucket.compareText={},f.bucket.iconsNeedLinear=!1;const l=f.bucket.layers[0],h=l.layout,b=l._unevaluatedLayout._values,E={layoutIconSize:b["icon-size"].possiblyEvaluate(new Gn(f.bucket.zoom+1),f.canonical),layoutTextSize:b["text-size"].possiblyEvaluate(new Gn(f.bucket.zoom+1),f.canonical),textMaxSize:b["text-size"].possiblyEvaluate(new Gn(18))};if(f.bucket.textSizeData.kind==="composite"){const{minZoom:ot,maxZoom:ft}=f.bucket.textSizeData;E.compositeTextSizes=[b["text-size"].possiblyEvaluate(new Gn(ot),f.canonical),b["text-size"].possiblyEvaluate(new Gn(ft),f.canonical)]}if(f.bucket.iconSizeData.kind==="composite"){const{minZoom:ot,maxZoom:ft}=f.bucket.iconSizeData;E.compositeIconSizes=[b["icon-size"].possiblyEvaluate(new Gn(ot),f.canonical),b["icon-size"].possiblyEvaluate(new Gn(ft),f.canonical)]}const M=h.get("text-line-height")*eu,P=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",q=h.get("text-keep-upright"),J=h.get("text-size");for(const ot of f.bucket.features){const ft=h.get("text-font").evaluate(ot,{},f.canonical).join(","),St=J.evaluate(ot,{},f.canonical),Vt=E.layoutTextSize.evaluate(ot,{},f.canonical),Gt=E.layoutIconSize.evaluate(ot,{},f.canonical),Wt={horizontal:{},vertical:void 0},te=ot.text;let he,Ee=[0,0];if(te){const Ut=te.toString(),le=h.get("text-letter-spacing").evaluate(ot,{},f.canonical)*eu,Ve=wn(Ut)?le:0,Tr=h.get("text-anchor").evaluate(ot,{},f.canonical),hn=y1(l,ot,f.canonical);if(!hn){const sn=h.get("text-radial-offset").evaluate(ot,{},f.canonical);Ee=sn?op(Tr,[sn*eu,g1]):h.get("text-offset").evaluate(ot,{},f.canonical).map((_n=>_n*eu))}let jr=P?"center":h.get("text-justify").evaluate(ot,{},f.canonical);const Gr=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate(ot,{},f.canonical)*eu:1/0,xn=()=>{f.bucket.allowVerticalPlacement&&Qr(Ut)&&(Wt.vertical=rp(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,Tr,"left",Ve,Ee,u.an.vertical,!0,Vt,St))};if(!P&&hn){const sn=new Set;if(jr==="auto")for(let Hr=0;Hr<hn.values.length;Hr+=2)sn.add(ab(hn.values[Hr]));else sn.add(jr);let _n=!1;for(const Hr of sn)if(!Wt.horizontal[Hr])if(_n)Wt.horizontal[Hr]=Wt.horizontal[0];else{const qn=rp(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,"center",Hr,Ve,Ee,u.an.horizontal,!1,Vt,St);qn&&(Wt.horizontal[Hr]=qn,_n=qn.positionedLines.length===1)}xn()}else{jr==="auto"&&(jr=ab(Tr));const sn=rp(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,Tr,jr,Ve,Ee,u.an.horizontal,!1,Vt,St);sn&&(Wt.horizontal[jr]=sn),xn(),Qr(Ut)&&P&&q&&(Wt.vertical=rp(te,f.glyphMap,f.glyphPositions,f.imagePositions,ft,Gr,M,Tr,jr,Ve,Ee,u.an.vertical,!1,Vt,St))}}let Je=!1;if(ot.icon&&ot.icon.name){const Ut=f.imageMap[ot.icon.name];Ut&&(he=zS(f.imagePositions[ot.icon.name],h.get("icon-offset").evaluate(ot,{},f.canonical),h.get("icon-anchor").evaluate(ot,{},f.canonical)),Je=!!Ut.sdf,f.bucket.sdfIcons===void 0?f.bucket.sdfIcons=Je:f.bucket.sdfIcons!==Je&&vr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ut.pixelRatio!==f.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(f.bucket.iconsNeedLinear=!0))}const De=ZS(Wt.horizontal)||Wt.vertical;f.bucket.iconsInText=!!De&&De.iconsInText,(De||he)&&v1(f.bucket,ot,Wt,he,f.imageMap,E,Vt,Gt,Ee,Je,f.canonical,f.subdivisionGranularity)}f.showCollisionBoxes&&f.bucket.generateCollisionDebugBuffers()},u.cH=wl,u.cI=F0,u.cJ=Xm,u.cK=Zf,u.cL=rh,u.cM=class{constructor(f){this._marks={start:[f.url,"start"].join("#"),end:[f.url,"end"].join("#"),measure:f.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let f=performance.getEntriesByName(this._marks.measure);return f.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),f=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),f}},u.cN=function(f,l,h,b,E){return a(this,void 0,void 0,(function*(){if(j())try{return yield Pr(f,l,h,b,E)}catch{}return(function(M,P,q,J,ot){const ft=M.width,St=M.height;Ir&&dr||(Ir=new OffscreenCanvas(ft,St),dr=Ir.getContext("2d",{willReadFrequently:!0})),Ir.width=ft,Ir.height=St,dr.drawImage(M,0,0,ft,St);const Vt=dr.getImageData(P,q,J,ot);return dr.clearRect(0,0,ft,St),Vt.data})(f,l,h,b,E)}))},u.cO=Xy,u.cP=g,u.cQ=k,u.cR=qg,u.cS=Wg,u.cT=Dh,u.cU=go,u.ca=f=>f.type==="symbol",u.cb=f=>f.type==="circle",u.cc=f=>f.type==="heatmap",u.cd=f=>f.type==="line",u.ce=f=>f.type==="fill",u.cf=f=>f.type==="fill-extrusion",u.cg=f=>f.type==="hillshade",u.ch=f=>f.type==="color-relief",u.ci=f=>f.type==="raster",u.cj=f=>f.type==="background",u.ck=f=>f.type==="custom",u.cl=ie,u.cm=function(f,l,h){const b=Et(l.x-h.x,l.y-h.y),E=Et(f.x-h.x,f.y-h.y);var M,P;return er(Math.atan2(b[0]*E[1]-b[1]*E[0],(M=b)[0]*(P=E)[0]+M[1]*P[1]))},u.cn=Ht,u.co=function(f,l){return Ze[l]&&(f instanceof MouseEvent||f instanceof WheelEvent)},u.cp=function(f,l){return Fr[l]&&"touches"in f},u.cq=function(f){return Fr[f]||Ze[f]},u.cr=function(f,l,h){var b=l[0],E=l[1];return f[0]=h[0]*b+h[4]*E+h[12],f[1]=h[1]*b+h[5]*E+h[13],f},u.cs=function(f,l){const{x:h,y:b}=Oa.fromLngLat(l);return!(f<0||f>25||b<0||b>=1||h<0||h>=1)},u.ct=function(f,l){return f[0]=l[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=l[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=l[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f},u.cu=class extends Co{},u.cv=ok,u.cx=function(f){return f.message===rr},u.cy=oe,u.cz=function(f,l){jt.REGISTERED_PROTOCOLS[f]=l},u.d=Ge,u.e=Se,u.f=f=>a(void 0,void 0,void 0,(function*(){if(f.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(f)],{type:"image/png"});try{return createImageBitmap(l)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),u.g=Mt,u.h=f=>new Promise(((l,h)=>{const b=new Image;b.onload=()=>{l(b),URL.revokeObjectURL(b.src),b.onload=null,window.requestAnimationFrame((()=>{b.src=Rr}))},b.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const E=new Blob([new Uint8Array(f)],{type:"image/png"});b.src=f.byteLength?URL.createObjectURL(E):Rr})),u.i=Ie,u.j=(f,l)=>je(Se(f,{type:"json"}),l),u.k=Pe,u.l=Ke,u.m=je,u.n=(f,l)=>je(Se(f,{type:"arrayBuffer"}),l),u.o=function(f){return new rh(f).readFields(kS,[])},u.p=Qx,u.q=Gy,u.r=La,u.s=ar,u.t=ol,u.u=wr,u.v=Oe,u.w=vr,u.x=Lt,u.y=ue,u.z=yt})),i("worker",["./shared"],(function(u){class a{constructor(jt){this.keyCache={},jt&&this.replace(jt)}replace(jt){this._layerConfigs={},this._layers={},this.update(jt,[])}update(jt,Mt){for(const oe of jt){this._layerConfigs[oe.id]=oe;const ye=this._layers[oe.id]=u.bI(oe);ye._featureFilter=u.a9(ye.filter),this.keyCache[oe.id]&&delete this.keyCache[oe.id]}for(const oe of Mt)delete this.keyCache[oe],delete this._layerConfigs[oe],delete this._layers[oe];this.familiesBySource={};const Bt=u.cB(Object.values(this._layerConfigs),this.keyCache);for(const oe of Bt){const ye=oe.map((Pe=>this._layers[Pe.id])),je=ye[0];if(je.visibility==="none")continue;const Ge=je.source||"";let Ue=this.familiesBySource[Ge];Ue||(Ue=this.familiesBySource[Ge]={});const fr=je.sourceLayer||"_geojsonTileLayer";let Ke=Ue[fr];Ke||(Ke=Ue[fr]=[]),Ke.push(ye)}}}class g{constructor(jt){const Mt={},Bt=[];for(const Ge in jt){const Ue=jt[Ge],fr=Mt[Ge]={};for(const Ke in Ue){const Pe=Ue[+Ke];if(!Pe||Pe.bitmap.width===0||Pe.bitmap.height===0)continue;const cr={x:0,y:0,w:Pe.bitmap.width+2,h:Pe.bitmap.height+2};Bt.push(cr),fr[Ke]={rect:cr,metrics:Pe.metrics}}}const{w:oe,h:ye}=u.p(Bt),je=new u.q({width:oe||1,height:ye||1});for(const Ge in jt){const Ue=jt[Ge];for(const fr in Ue){const Ke=Ue[+fr];if(!Ke||Ke.bitmap.width===0||Ke.bitmap.height===0)continue;const Pe=Mt[Ge][fr].rect;u.q.copy(Ke.bitmap,je,{x:0,y:0},{x:Pe.x+1,y:Pe.y+1},Ke.bitmap)}}this.image=je,this.positions=Mt}}u.cC("GlyphAtlas",g);class v{constructor(jt){this.tileID=new u.Z(jt.tileID.overscaledZ,jt.tileID.wrap,jt.tileID.canonical.z,jt.tileID.canonical.x,jt.tileID.canonical.y),this.uid=jt.uid,this.zoom=jt.zoom,this.pixelRatio=jt.pixelRatio,this.tileSize=jt.tileSize,this.source=jt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=jt.showCollisionBoxes,this.collectResourceTiming=!!jt.collectResourceTiming,this.returnDependencies=!!jt.returnDependencies,this.promoteId=jt.promoteId,this.inFlightDependencies=[],this.globalState=jt.globalState}parse(jt,Mt,Bt,oe,ye){return u._(this,void 0,void 0,(function*(){this.status="parsing",this.data=jt,this.collisionBoxArray=new u.a7;const je=new u.cD(Object.keys(jt.layers).sort()),Ge=new u.cE(this.tileID,this.promoteId);Ge.bucketLayerIDs=[];const Ue={},fr={featureIndex:Ge,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Bt,subdivisionGranularity:ye},Ke=Mt.familiesBySource[this.source];for(const ze in Ke){const Lr=jt.layers[ze];if(!Lr)continue;Lr.version===1&&u.w(`Vector tile source "${this.source}" layer "${ze}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const yn=je.encode(ze),$r=[];for(let fi=0;fi<Lr.length;fi++){const On=Lr.feature(fi),li=Ge.getId(On,ze);$r.push({feature:On,id:li,index:fi,sourceLayerIndex:yn})}for(const fi of Ke[ze]){const On=fi[0];On.source!==this.source&&u.w(`layer.source = ${On.source} does not equal this.source = ${this.source}`),On.minzoom&&this.zoom<Math.floor(On.minzoom)||On.maxzoom&&this.zoom>=On.maxzoom||On.visibility!=="none"&&(x(fi,this.zoom,Bt),(Ue[On.id]=On.createBucket({index:Ge.bucketLayerIDs.length,layers:fi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:yn,sourceID:this.source,globalState:this.globalState})).populate($r,fr,this.tileID.canonical),Ge.bucketLayerIDs.push(fi.map((li=>li.id))))}}const Pe=u.bM(fr.glyphDependencies,(ze=>Object.keys(ze).map(Number)));this.inFlightDependencies.forEach((ze=>ze?.abort())),this.inFlightDependencies=[];let cr=Promise.resolve({});if(Object.keys(Pe).length){const ze=new AbortController;this.inFlightDependencies.push(ze),cr=oe.sendAsync({type:"GG",data:{stacks:Pe,source:this.source,tileID:this.tileID,type:"glyphs"}},ze)}const Oe=Object.keys(fr.iconDependencies);let Wr=Promise.resolve({});if(Oe.length){const ze=new AbortController;this.inFlightDependencies.push(ze),Wr=oe.sendAsync({type:"GI",data:{icons:Oe,source:this.source,tileID:this.tileID,type:"icons"}},ze)}const or=Object.keys(fr.patternDependencies);let vn=Promise.resolve({});if(or.length){const ze=new AbortController;this.inFlightDependencies.push(ze),vn=oe.sendAsync({type:"GI",data:{icons:or,source:this.source,tileID:this.tileID,type:"patterns"}},ze)}const[Kr,Kn,Pt]=yield Promise.all([cr,Wr,vn]),Xt=new g(Kr),be=new u.cF(Kn,Pt);for(const ze in Ue){const Lr=Ue[ze];Lr instanceof u.a8?(x(Lr.layers,this.zoom,Bt),u.cG({bucket:Lr,glyphMap:Kr,glyphPositions:Xt.positions,imageMap:Kn,imagePositions:be.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:fr.subdivisionGranularity})):Lr.hasPattern&&(Lr instanceof u.cH||Lr instanceof u.cI||Lr instanceof u.cJ)&&(x(Lr.layers,this.zoom,Bt),Lr.addFeatures(fr,this.tileID.canonical,be.patternPositions))}return this.status="done",{buckets:Object.values(Ue).filter((ze=>!ze.isEmpty())),featureIndex:Ge,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Xt.image,imageAtlas:be,glyphMap:this.returnDependencies?Kr:null,iconMap:this.returnDependencies?Kn:null,glyphPositions:this.returnDependencies?Xt.positions:null}}))}}function x(Me,jt,Mt){const Bt=new u.F(jt);for(const oe of Me)oe.recalculate(Bt,Mt)}class k{constructor(jt,Mt,Bt){this.actor=jt,this.layerIndex=Mt,this.availableImages=Bt,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(jt,Mt){return u._(this,void 0,void 0,(function*(){const Bt=yield u.n(jt.request,Mt);try{return{vectorTile:new u.cK.VectorTile(new u.cL(Bt.data)),rawData:Bt.data,cacheControl:Bt.cacheControl,expires:Bt.expires}}catch(oe){const ye=new Uint8Array(Bt.data);let je=`Unable to parse the tile at ${jt.request.url}, `;throw je+=ye[0]===31&&ye[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${oe.message}`,new Error(je)}}))}loadTile(jt){return u._(this,void 0,void 0,(function*(){const Mt=jt.uid,Bt=!!(jt&&jt.request&&jt.request.collectResourceTiming)&&new u.cM(jt.request),oe=new v(jt);this.loading[Mt]=oe;const ye=new AbortController;oe.abort=ye;try{const je=yield this.loadVectorTile(jt,ye);if(delete this.loading[Mt],!je)return null;const Ge=je.rawData,Ue={};je.expires&&(Ue.expires=je.expires),je.cacheControl&&(Ue.cacheControl=je.cacheControl);const fr={};if(Bt){const Pe=Bt.finish();Pe&&(fr.resourceTiming=JSON.parse(JSON.stringify(Pe)))}oe.vectorTile=je.vectorTile;const Ke=oe.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor,jt.subdivisionGranularity);this.loaded[Mt]=oe,this.fetching[Mt]={rawTileData:Ge,cacheControl:Ue,resourceTiming:fr};try{const Pe=yield Ke;return u.e({rawTileData:Ge.slice(0)},Pe,Ue,fr)}finally{delete this.fetching[Mt]}}catch(je){throw delete this.loading[Mt],oe.status="done",this.loaded[Mt]=oe,je}}))}reloadTile(jt){return u._(this,void 0,void 0,(function*(){const Mt=jt.uid;if(!this.loaded||!this.loaded[Mt])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Bt=this.loaded[Mt];if(Bt.showCollisionBoxes=jt.showCollisionBoxes,Bt.globalState=jt.globalState,Bt.status==="parsing"){const oe=yield Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,jt.subdivisionGranularity);let ye;if(this.fetching[Mt]){const{rawTileData:je,cacheControl:Ge,resourceTiming:Ue}=this.fetching[Mt];delete this.fetching[Mt],ye=u.e({rawTileData:je.slice(0)},oe,Ge,Ue)}else ye=oe;return ye}if(Bt.status==="done"&&Bt.vectorTile)return Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,jt.subdivisionGranularity)}))}abortTile(jt){return u._(this,void 0,void 0,(function*(){const Mt=this.loading,Bt=jt.uid;Mt&&Mt[Bt]&&Mt[Bt].abort&&(Mt[Bt].abort.abort(),delete Mt[Bt])}))}removeTile(jt){return u._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[jt.uid]&&delete this.loaded[jt.uid]}))}}class R{constructor(){this.loaded={}}loadTile(jt){return u._(this,void 0,void 0,(function*(){const{uid:Mt,encoding:Bt,rawImageData:oe,redFactor:ye,greenFactor:je,blueFactor:Ge,baseShift:Ue}=jt,fr=oe.width+2,Ke=oe.height+2,Pe=u.b(oe)?new u.R({width:fr,height:Ke},yield u.cN(oe,-1,-1,fr,Ke)):oe,cr=new u.cO(Mt,Pe,Bt,ye,je,Ge,Ue);return this.loaded=this.loaded||{},this.loaded[Mt]=cr,cr}))}removeTile(jt){const Mt=this.loaded,Bt=jt.uid;Mt&&Mt[Bt]&&delete Mt[Bt]}}var A,O,D=(function(){if(O)return A;function Me(Mt,Bt){if(Mt.length!==0){jt(Mt[0],Bt);for(var oe=1;oe<Mt.length;oe++)jt(Mt[oe],!Bt)}}function jt(Mt,Bt){for(var oe=0,ye=0,je=0,Ge=Mt.length,Ue=Ge-1;je<Ge;Ue=je++){var fr=(Mt[je][0]-Mt[Ue][0])*(Mt[Ue][1]+Mt[je][1]),Ke=oe+fr;ye+=Math.abs(oe)>=Math.abs(fr)?oe-Ke+fr:fr-Ke+oe,oe=Ke}oe+ye>=0!=!!Bt&&Mt.reverse()}return O=1,A=function Mt(Bt,oe){var ye,je=Bt&&Bt.type;if(je==="FeatureCollection")for(ye=0;ye<Bt.features.length;ye++)Mt(Bt.features[ye],oe);else if(je==="GeometryCollection")for(ye=0;ye<Bt.geometries.length;ye++)Mt(Bt.geometries[ye],oe);else if(je==="Feature")Mt(Bt.geometry,oe);else if(je==="Polygon")Me(Bt.coordinates,oe);else if(je==="MultiPolygon")for(ye=0;ye<Bt.coordinates.length;ye++)Me(Bt.coordinates[ye],oe);return Bt}})(),U=u.cP(D);const H=u.cK.VectorTileFeature.prototype.toGeoJSON;class G{constructor(jt){this._feature=jt,this.extent=u.$,this.type=jt.type,this.properties=jt.tags,"id"in jt&&!isNaN(jt.id)&&(this.id=parseInt(jt.id,10))}loadGeometry(){if(this._feature.type===1){const jt=[];for(const Mt of this._feature.geometry)jt.push([new u.P(Mt[0],Mt[1])]);return jt}{const jt=[];for(const Mt of this._feature.geometry){const Bt=[];for(const oe of Mt)Bt.push(new u.P(oe[0],oe[1]));jt.push(Bt)}return jt}}toGeoJSON(jt,Mt,Bt){return H.call(this,jt,Mt,Bt)}}class z{constructor(jt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.$,this.length=jt.length,this._features=jt}feature(jt){return new G(this._features[jt])}}var j,X,Y,rt={exports:{}},st=(function(){if(Y)return rt.exports;Y=1;var Me=u.cS(),jt=(function(){if(X)return j;X=1;var Ke=u.cQ(),Pe=u.cR().VectorTileFeature;function cr(Wr,or){this.options=or||{},this.features=Wr,this.length=Wr.length}function Oe(Wr,or){this.id=typeof Wr.id=="number"?Wr.id:void 0,this.type=Wr.type,this.rawGeometry=Wr.type===1?[Wr.geometry]:Wr.geometry,this.properties=Wr.tags,this.extent=or||4096}return j=cr,cr.prototype.feature=function(Wr){return new Oe(this.features[Wr],this.options.extent)},Oe.prototype.loadGeometry=function(){var Wr=this.rawGeometry;this.geometry=[];for(var or=0;or<Wr.length;or++){for(var vn=Wr[or],Kr=[],Kn=0;Kn<vn.length;Kn++)Kr.push(new Ke(vn[Kn][0],vn[Kn][1]));this.geometry.push(Kr)}return this.geometry},Oe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Wr=this.geometry,or=1/0,vn=-1/0,Kr=1/0,Kn=-1/0,Pt=0;Pt<Wr.length;Pt++)for(var Xt=Wr[Pt],be=0;be<Xt.length;be++){var ze=Xt[be];or=Math.min(or,ze.x),vn=Math.max(vn,ze.x),Kr=Math.min(Kr,ze.y),Kn=Math.max(Kn,ze.y)}return[or,Kr,vn,Kn]},Oe.prototype.toGeoJSON=Pe.prototype.toGeoJSON,j})();function Mt(Ke){var Pe=new Me;return(function(cr,Oe){for(var Wr in cr.layers)Oe.writeMessage(3,Bt,cr.layers[Wr])})(Ke,Pe),Pe.finish()}function Bt(Ke,Pe){var cr;Pe.writeVarintField(15,Ke.version||1),Pe.writeStringField(1,Ke.name||""),Pe.writeVarintField(5,Ke.extent||4096);var Oe={keys:[],values:[],keycache:{},valuecache:{}};for(cr=0;cr<Ke.length;cr++)Oe.feature=Ke.feature(cr),Pe.writeMessage(2,oe,Oe);var Wr=Oe.keys;for(cr=0;cr<Wr.length;cr++)Pe.writeStringField(3,Wr[cr]);var or=Oe.values;for(cr=0;cr<or.length;cr++)Pe.writeMessage(4,fr,or[cr])}function oe(Ke,Pe){var cr=Ke.feature;cr.id!==void 0&&Pe.writeVarintField(1,cr.id),Pe.writeMessage(2,ye,Ke),Pe.writeVarintField(3,cr.type),Pe.writeMessage(4,Ue,cr)}function ye(Ke,Pe){var cr=Ke.feature,Oe=Ke.keys,Wr=Ke.values,or=Ke.keycache,vn=Ke.valuecache;for(var Kr in cr.properties){var Kn=cr.properties[Kr],Pt=or[Kr];if(Kn!==null){Pt===void 0&&(Oe.push(Kr),or[Kr]=Pt=Oe.length-1),Pe.writeVarint(Pt);var Xt=typeof Kn;Xt!=="string"&&Xt!=="boolean"&&Xt!=="number"&&(Kn=JSON.stringify(Kn));var be=Xt+":"+Kn,ze=vn[be];ze===void 0&&(Wr.push(Kn),vn[be]=ze=Wr.length-1),Pe.writeVarint(ze)}}}function je(Ke,Pe){return(Pe<<3)+(7&Ke)}function Ge(Ke){return Ke<<1^Ke>>31}function Ue(Ke,Pe){for(var cr=Ke.loadGeometry(),Oe=Ke.type,Wr=0,or=0,vn=cr.length,Kr=0;Kr<vn;Kr++){var Kn=cr[Kr],Pt=1;Oe===1&&(Pt=Kn.length),Pe.writeVarint(je(1,Pt));for(var Xt=Oe===3?Kn.length-1:Kn.length,be=0;be<Xt;be++){be===1&&Oe!==1&&Pe.writeVarint(je(2,Xt-1));var ze=Kn[be].x-Wr,Lr=Kn[be].y-or;Pe.writeVarint(Ge(ze)),Pe.writeVarint(Ge(Lr)),Wr+=ze,or+=Lr}Oe===3&&Pe.writeVarint(je(7,1))}}function fr(Ke,Pe){var cr=typeof Ke;cr==="string"?Pe.writeStringField(1,Ke):cr==="boolean"?Pe.writeBooleanField(7,Ke):cr==="number"&&(Ke%1!=0?Pe.writeDoubleField(3,Ke):Ke<0?Pe.writeSVarintField(6,Ke):Pe.writeVarintField(5,Ke))}return rt.exports=Mt,rt.exports.fromVectorTileJs=Mt,rt.exports.fromGeojsonVt=function(Ke,Pe){Pe=Pe||{};var cr={};for(var Oe in Ke)cr[Oe]=new jt(Ke[Oe].features,Pe),cr[Oe].name=Oe,cr[Oe].version=Pe.version,cr[Oe].extent=Pe.extent;return Mt({layers:cr})},rt.exports.GeoJSONWrapper=jt,rt.exports})(),it=u.cP(st);const bt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Me=>Me},at=Math.fround||($=new Float32Array(1),Me=>($[0]=+Me,$[0]));var $;class dt{constructor(jt){this.options=Object.assign(Object.create(bt),jt),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(jt){const{log:Mt,minZoom:Bt,maxZoom:oe}=this.options;Mt&&console.time("total time");const ye=`prepare ${jt.length} points`;Mt&&console.time(ye),this.points=jt;const je=[];for(let Ue=0;Ue<jt.length;Ue++){const fr=jt[Ue];if(!fr.geometry)continue;const[Ke,Pe]=fr.geometry.coordinates,cr=at(pt(Ke)),Oe=at(Ct(Pe));je.push(cr,Oe,1/0,Ue,-1,1),this.options.reduce&&je.push(0)}let Ge=this.trees[oe+1]=this._createTree(je);Mt&&console.timeEnd(ye);for(let Ue=oe;Ue>=Bt;Ue--){const fr=+Date.now();Ge=this.trees[Ue]=this._createTree(this._cluster(Ge,Ue)),Mt&&console.log("z%d: %d clusters in %dms",Ue,Ge.numItems,+Date.now()-fr)}return Mt&&console.timeEnd("total time"),this}getClusters(jt,Mt){let Bt=((jt[0]+180)%360+360)%360-180;const oe=Math.max(-90,Math.min(90,jt[1]));let ye=jt[2]===180?180:((jt[2]+180)%360+360)%360-180;const je=Math.max(-90,Math.min(90,jt[3]));if(jt[2]-jt[0]>=360)Bt=-180,ye=180;else if(Bt>ye){const Pe=this.getClusters([Bt,oe,180,je],Mt),cr=this.getClusters([-180,oe,ye,je],Mt);return Pe.concat(cr)}const Ge=this.trees[this._limitZoom(Mt)],Ue=Ge.range(pt(Bt),Ct(je),pt(ye),Ct(oe)),fr=Ge.data,Ke=[];for(const Pe of Ue){const cr=this.stride*Pe;Ke.push(fr[cr+5]>1?mt(fr,cr,this.clusterProps):this.points[fr[cr+3]])}return Ke}getChildren(jt){const Mt=this._getOriginId(jt),Bt=this._getOriginZoom(jt),oe="No cluster with the specified id.",ye=this.trees[Bt];if(!ye)throw new Error(oe);const je=ye.data;if(Mt*this.stride>=je.length)throw new Error(oe);const Ge=this.options.radius/(this.options.extent*Math.pow(2,Bt-1)),Ue=ye.within(je[Mt*this.stride],je[Mt*this.stride+1],Ge),fr=[];for(const Ke of Ue){const Pe=Ke*this.stride;je[Pe+4]===jt&&fr.push(je[Pe+5]>1?mt(je,Pe,this.clusterProps):this.points[je[Pe+3]])}if(fr.length===0)throw new Error(oe);return fr}getLeaves(jt,Mt,Bt){const oe=[];return this._appendLeaves(oe,jt,Mt=Mt||10,Bt=Bt||0,0),oe}getTile(jt,Mt,Bt){const oe=this.trees[this._limitZoom(jt)],ye=Math.pow(2,jt),{extent:je,radius:Ge}=this.options,Ue=Ge/je,fr=(Bt-Ue)/ye,Ke=(Bt+1+Ue)/ye,Pe={features:[]};return this._addTileFeatures(oe.range((Mt-Ue)/ye,fr,(Mt+1+Ue)/ye,Ke),oe.data,Mt,Bt,ye,Pe),Mt===0&&this._addTileFeatures(oe.range(1-Ue/ye,fr,1,Ke),oe.data,ye,Bt,ye,Pe),Mt===ye-1&&this._addTileFeatures(oe.range(0,fr,Ue/ye,Ke),oe.data,-1,Bt,ye,Pe),Pe.features.length?Pe:null}getClusterExpansionZoom(jt){let Mt=this._getOriginZoom(jt)-1;for(;Mt<=this.options.maxZoom;){const Bt=this.getChildren(jt);if(Mt++,Bt.length!==1)break;jt=Bt[0].properties.cluster_id}return Mt}_appendLeaves(jt,Mt,Bt,oe,ye){const je=this.getChildren(Mt);for(const Ge of je){const Ue=Ge.properties;if(Ue&&Ue.cluster?ye+Ue.point_count<=oe?ye+=Ue.point_count:ye=this._appendLeaves(jt,Ue.cluster_id,Bt,oe,ye):ye<oe?ye++:jt.push(Ge),jt.length===Bt)break}return ye}_createTree(jt){const Mt=new u.aH(jt.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Bt=0;Bt<jt.length;Bt+=this.stride)Mt.add(jt[Bt],jt[Bt+1]);return Mt.finish(),Mt.data=jt,Mt}_addTileFeatures(jt,Mt,Bt,oe,ye,je){for(const Ge of jt){const Ue=Ge*this.stride,fr=Mt[Ue+5]>1;let Ke,Pe,cr;if(fr)Ke=wt(Mt,Ue,this.clusterProps),Pe=Mt[Ue],cr=Mt[Ue+1];else{const or=this.points[Mt[Ue+3]];Ke=or.properties;const[vn,Kr]=or.geometry.coordinates;Pe=pt(vn),cr=Ct(Kr)}const Oe={type:1,geometry:[[Math.round(this.options.extent*(Pe*ye-Bt)),Math.round(this.options.extent*(cr*ye-oe))]],tags:Ke};let Wr;Wr=fr||this.options.generateId?Mt[Ue+3]:this.points[Mt[Ue+3]].id,Wr!==void 0&&(Oe.id=Wr),je.features.push(Oe)}}_limitZoom(jt){return Math.max(this.options.minZoom,Math.min(Math.floor(+jt),this.options.maxZoom+1))}_cluster(jt,Mt){const{radius:Bt,extent:oe,reduce:ye,minPoints:je}=this.options,Ge=Bt/(oe*Math.pow(2,Mt)),Ue=jt.data,fr=[],Ke=this.stride;for(let Pe=0;Pe<Ue.length;Pe+=Ke){if(Ue[Pe+2]<=Mt)continue;Ue[Pe+2]=Mt;const cr=Ue[Pe],Oe=Ue[Pe+1],Wr=jt.within(Ue[Pe],Ue[Pe+1],Ge),or=Ue[Pe+5];let vn=or;for(const Kr of Wr){const Kn=Kr*Ke;Ue[Kn+2]>Mt&&(vn+=Ue[Kn+5])}if(vn>or&&vn>=je){let Kr,Kn=cr*or,Pt=Oe*or,Xt=-1;const be=(Pe/Ke<<5)+(Mt+1)+this.points.length;for(const ze of Wr){const Lr=ze*Ke;if(Ue[Lr+2]<=Mt)continue;Ue[Lr+2]=Mt;const yn=Ue[Lr+5];Kn+=Ue[Lr]*yn,Pt+=Ue[Lr+1]*yn,Ue[Lr+4]=be,ye&&(Kr||(Kr=this._map(Ue,Pe,!0),Xt=this.clusterProps.length,this.clusterProps.push(Kr)),ye(Kr,this._map(Ue,Lr)))}Ue[Pe+4]=be,fr.push(Kn/vn,Pt/vn,1/0,be,-1,vn),ye&&fr.push(Xt)}else{for(let Kr=0;Kr<Ke;Kr++)fr.push(Ue[Pe+Kr]);if(vn>1)for(const Kr of Wr){const Kn=Kr*Ke;if(!(Ue[Kn+2]<=Mt)){Ue[Kn+2]=Mt;for(let Pt=0;Pt<Ke;Pt++)fr.push(Ue[Kn+Pt])}}}}return fr}_getOriginId(jt){return jt-this.points.length>>5}_getOriginZoom(jt){return(jt-this.points.length)%32}_map(jt,Mt,Bt){if(jt[Mt+5]>1){const je=this.clusterProps[jt[Mt+6]];return Bt?Object.assign({},je):je}const oe=this.points[jt[Mt+3]].properties,ye=this.options.map(oe);return Bt&&ye===oe?Object.assign({},ye):ye}}function mt(Me,jt,Mt){return{type:"Feature",id:Me[jt+3],properties:wt(Me,jt,Mt),geometry:{type:"Point",coordinates:[(Bt=Me[jt],360*(Bt-.5)),vt(Me[jt+1])]}};var Bt}function wt(Me,jt,Mt){const Bt=Me[jt+5],oe=Bt>=1e4?`${Math.round(Bt/1e3)}k`:Bt>=1e3?Math.round(Bt/100)/10+"k":Bt,ye=Me[jt+6],je=ye===-1?{}:Object.assign({},Mt[ye]);return Object.assign(je,{cluster:!0,cluster_id:Me[jt+3],point_count:Bt,point_count_abbreviated:oe})}function pt(Me){return Me/360+.5}function Ct(Me){const jt=Math.sin(Me*Math.PI/180),Mt=.5-.25*Math.log((1+jt)/(1-jt))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function vt(Me){const jt=(180-360*Me)*Math.PI/180;return 360*Math.atan(Math.exp(jt))/Math.PI-90}function It(Me,jt,Mt,Bt){let oe=Bt;const ye=jt+(Mt-jt>>1);let je,Ge=Mt-jt;const Ue=Me[jt],fr=Me[jt+1],Ke=Me[Mt],Pe=Me[Mt+1];for(let cr=jt+3;cr<Mt;cr+=3){const Oe=Ft(Me[cr],Me[cr+1],Ue,fr,Ke,Pe);if(Oe>oe)je=cr,oe=Oe;else if(Oe===oe){const Wr=Math.abs(cr-ye);Wr<Ge&&(je=cr,Ge=Wr)}}oe>Bt&&(je-jt>3&&It(Me,jt,je,Bt),Me[je+2]=oe,Mt-je>3&&It(Me,je,Mt,Bt))}function Ft(Me,jt,Mt,Bt,oe,ye){let je=oe-Mt,Ge=ye-Bt;if(je!==0||Ge!==0){const Ue=((Me-Mt)*je+(jt-Bt)*Ge)/(je*je+Ge*Ge);Ue>1?(Mt=oe,Bt=ye):Ue>0&&(Mt+=je*Ue,Bt+=Ge*Ue)}return je=Me-Mt,Ge=jt-Bt,je*je+Ge*Ge}function Et(Me,jt,Mt,Bt){const oe={id:Me??null,type:jt,geometry:Mt,tags:Bt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(jt==="Point"||jt==="MultiPoint"||jt==="LineString")lt(oe,Mt);else if(jt==="Polygon")lt(oe,Mt[0]);else if(jt==="MultiLineString")for(const ye of Mt)lt(oe,ye);else if(jt==="MultiPolygon")for(const ye of Mt)lt(oe,ye[0]);return oe}function lt(Me,jt){for(let Mt=0;Mt<jt.length;Mt+=3)Me.minX=Math.min(Me.minX,jt[Mt]),Me.minY=Math.min(Me.minY,jt[Mt+1]),Me.maxX=Math.max(Me.maxX,jt[Mt]),Me.maxY=Math.max(Me.maxY,jt[Mt+1])}function kt(Me,jt,Mt,Bt){if(!jt.geometry)return;const oe=jt.geometry.coordinates;if(oe&&oe.length===0)return;const ye=jt.geometry.type,je=Math.pow(Mt.tolerance/((1<<Mt.maxZoom)*Mt.extent),2);let Ge=[],Ue=jt.id;if(Mt.promoteId?Ue=jt.properties[Mt.promoteId]:Mt.generateId&&(Ue=Bt||0),ye==="Point")At(oe,Ge);else if(ye==="MultiPoint")for(const fr of oe)At(fr,Ge);else if(ye==="LineString")Nt(oe,Ge,je,!1);else if(ye==="MultiLineString"){if(Mt.lineMetrics){for(const fr of oe)Ge=[],Nt(fr,Ge,je,!1),Me.push(Et(Ue,"LineString",Ge,jt.properties));return}qt(oe,Ge,je,!1)}else if(ye==="Polygon")qt(oe,Ge,je,!0);else{if(ye!=="MultiPolygon"){if(ye==="GeometryCollection"){for(const fr of jt.geometry.geometries)kt(Me,{id:Ue,geometry:fr,properties:jt.properties},Mt,Bt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const fr of oe){const Ke=[];qt(fr,Ke,je,!0),Ge.push(Ke)}}Me.push(Et(Ue,ye,Ge,jt.properties))}function At(Me,jt){jt.push(ie(Me[0]),Ht(Me[1]),0)}function Nt(Me,jt,Mt,Bt){let oe,ye,je=0;for(let Ue=0;Ue<Me.length;Ue++){const fr=ie(Me[Ue][0]),Ke=Ht(Me[Ue][1]);jt.push(fr,Ke,0),Ue>0&&(je+=Bt?(oe*Ke-fr*ye)/2:Math.sqrt(Math.pow(fr-oe,2)+Math.pow(Ke-ye,2))),oe=fr,ye=Ke}const Ge=jt.length-3;jt[2]=1,It(jt,0,Ge,Mt),jt[Ge+2]=1,jt.size=Math.abs(je),jt.start=0,jt.end=jt.size}function qt(Me,jt,Mt,Bt){for(let oe=0;oe<Me.length;oe++){const ye=[];Nt(Me[oe],ye,Mt,Bt),jt.push(ye)}}function ie(Me){return Me/360+.5}function Ht(Me){const jt=Math.sin(Me*Math.PI/180),Mt=.5-.25*Math.log((1+jt)/(1-jt))/Math.PI;return Mt<0?0:Mt>1?1:Mt}function ce(Me,jt,Mt,Bt,oe,ye,je,Ge){if(Bt/=jt,ye>=(Mt/=jt)&&je<Bt)return Me;if(je<Mt||ye>=Bt)return null;const Ue=[];for(const fr of Me){const Ke=fr.geometry;let Pe=fr.type;const cr=oe===0?fr.minX:fr.minY,Oe=oe===0?fr.maxX:fr.maxY;if(cr>=Mt&&Oe<Bt){Ue.push(fr);continue}if(Oe<Mt||cr>=Bt)continue;let Wr=[];if(Pe==="Point"||Pe==="MultiPoint")de(Ke,Wr,Mt,Bt,oe);else if(Pe==="LineString")Se(Ke,Wr,Mt,Bt,oe,!1,Ge.lineMetrics);else if(Pe==="MultiLineString")He(Ke,Wr,Mt,Bt,oe,!1);else if(Pe==="Polygon")He(Ke,Wr,Mt,Bt,oe,!0);else if(Pe==="MultiPolygon")for(const or of Ke){const vn=[];He(or,vn,Mt,Bt,oe,!0),vn.length&&Wr.push(vn)}if(Wr.length){if(Ge.lineMetrics&&Pe==="LineString"){for(const or of Wr)Ue.push(Et(fr.id,Pe,or,fr.tags));continue}Pe!=="LineString"&&Pe!=="MultiLineString"||(Wr.length===1?(Pe="LineString",Wr=Wr[0]):Pe="MultiLineString"),Pe!=="Point"&&Pe!=="MultiPoint"||(Pe=Wr.length===3?"Point":"MultiPoint"),Ue.push(Et(fr.id,Pe,Wr,fr.tags))}}return Ue.length?Ue:null}function de(Me,jt,Mt,Bt,oe){for(let ye=0;ye<Me.length;ye+=3){const je=Me[ye+oe];je>=Mt&&je<=Bt&&ke(jt,Me[ye],Me[ye+1],Me[ye+2])}}function Se(Me,jt,Mt,Bt,oe,ye,je){let Ge=$t(Me);const Ue=oe===0?Jt:Vr;let fr,Ke,Pe=Me.start;for(let vn=0;vn<Me.length-3;vn+=3){const Kr=Me[vn],Kn=Me[vn+1],Pt=Me[vn+2],Xt=Me[vn+3],be=Me[vn+4],ze=oe===0?Kr:Kn,Lr=oe===0?Xt:be;let yn=!1;je&&(fr=Math.sqrt(Math.pow(Kr-Xt,2)+Math.pow(Kn-be,2))),ze<Mt?Lr>Mt&&(Ke=Ue(Ge,Kr,Kn,Xt,be,Mt),je&&(Ge.start=Pe+fr*Ke)):ze>Bt?Lr<Bt&&(Ke=Ue(Ge,Kr,Kn,Xt,be,Bt),je&&(Ge.start=Pe+fr*Ke)):ke(Ge,Kr,Kn,Pt),Lr<Mt&&ze>=Mt&&(Ke=Ue(Ge,Kr,Kn,Xt,be,Mt),yn=!0),Lr>Bt&&ze<=Bt&&(Ke=Ue(Ge,Kr,Kn,Xt,be,Bt),yn=!0),!ye&&yn&&(je&&(Ge.end=Pe+fr*Ke),jt.push(Ge),Ge=$t(Me)),je&&(Pe+=fr)}let cr=Me.length-3;const Oe=Me[cr],Wr=Me[cr+1],or=oe===0?Oe:Wr;or>=Mt&&or<=Bt&&ke(Ge,Oe,Wr,Me[cr+2]),cr=Ge.length-3,ye&&cr>=3&&(Ge[cr]!==Ge[0]||Ge[cr+1]!==Ge[1])&&ke(Ge,Ge[0],Ge[1],Ge[2]),Ge.length&&jt.push(Ge)}function $t(Me){const jt=[];return jt.size=Me.size,jt.start=Me.start,jt.end=Me.end,jt}function He(Me,jt,Mt,Bt,oe,ye){for(const je of Me)Se(je,jt,Mt,Bt,oe,ye,!1)}function ke(Me,jt,Mt,Bt){Me.push(jt,Mt,Bt)}function Jt(Me,jt,Mt,Bt,oe,ye){const je=(ye-jt)/(Bt-jt);return ke(Me,ye,Mt+(oe-Mt)*je,1),je}function Vr(Me,jt,Mt,Bt,oe,ye){const je=(ye-Mt)/(oe-Mt);return ke(Me,jt+(Bt-jt)*je,ye,1),je}function vr(Me,jt){const Mt=[];for(let Bt=0;Bt<Me.length;Bt++){const oe=Me[Bt],ye=oe.type;let je;if(ye==="Point"||ye==="MultiPoint"||ye==="LineString")je=Dr(oe.geometry,jt);else if(ye==="MultiLineString"||ye==="Polygon"){je=[];for(const Ge of oe.geometry)je.push(Dr(Ge,jt))}else if(ye==="MultiPolygon"){je=[];for(const Ge of oe.geometry){const Ue=[];for(const fr of Ge)Ue.push(Dr(fr,jt));je.push(Ue)}}Mt.push(Et(oe.id,ye,je,oe.tags))}return Mt}function Dr(Me,jt){const Mt=[];Mt.size=Me.size,Me.start!==void 0&&(Mt.start=Me.start,Mt.end=Me.end);for(let Bt=0;Bt<Me.length;Bt+=3)Mt.push(Me[Bt]+jt,Me[Bt+1],Me[Bt+2]);return Mt}function Ie(Me,jt){if(Me.transformed)return Me;const Mt=1<<Me.z,Bt=Me.x,oe=Me.y;for(const ye of Me.features){const je=ye.geometry,Ge=ye.type;if(ye.geometry=[],Ge===1)for(let Ue=0;Ue<je.length;Ue+=2)ye.geometry.push(Mr(je[Ue],je[Ue+1],jt,Mt,Bt,oe));else for(let Ue=0;Ue<je.length;Ue++){const fr=[];for(let Ke=0;Ke<je[Ue].length;Ke+=2)fr.push(Mr(je[Ue][Ke],je[Ue][Ke+1],jt,Mt,Bt,oe));ye.geometry.push(fr)}}return Me.transformed=!0,Me}function Mr(Me,jt,Mt,Bt,oe,ye){return[Math.round(Mt*(Me*Bt-oe)),Math.round(Mt*(jt*Bt-ye))]}function ir(Me,jt,Mt,Bt,oe){const ye=jt===oe.maxZoom?0:oe.tolerance/((1<<jt)*oe.extent),je={features:[],numPoints:0,numSimplified:0,numFeatures:Me.length,source:null,x:Mt,y:Bt,z:jt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Ge of Me)Rr(je,Ge,ye,oe);return je}function Rr(Me,jt,Mt,Bt){const oe=jt.geometry,ye=jt.type,je=[];if(Me.minX=Math.min(Me.minX,jt.minX),Me.minY=Math.min(Me.minY,jt.minY),Me.maxX=Math.max(Me.maxX,jt.maxX),Me.maxY=Math.max(Me.maxY,jt.maxY),ye==="Point"||ye==="MultiPoint")for(let Ge=0;Ge<oe.length;Ge+=3)je.push(oe[Ge],oe[Ge+1]),Me.numPoints++,Me.numSimplified++;else if(ye==="LineString")Pr(je,oe,Me,Mt,!1,!1);else if(ye==="MultiLineString"||ye==="Polygon")for(let Ge=0;Ge<oe.length;Ge++)Pr(je,oe[Ge],Me,Mt,ye==="Polygon",Ge===0);else if(ye==="MultiPolygon")for(let Ge=0;Ge<oe.length;Ge++){const Ue=oe[Ge];for(let fr=0;fr<Ue.length;fr++)Pr(je,Ue[fr],Me,Mt,!0,fr===0)}if(je.length){let Ge=jt.tags||null;if(ye==="LineString"&&Bt.lineMetrics){Ge={};for(const fr in jt.tags)Ge[fr]=jt.tags[fr];Ge.mapbox_clip_start=oe.start/oe.size,Ge.mapbox_clip_end=oe.end/oe.size}const Ue={geometry:je,type:ye==="Polygon"||ye==="MultiPolygon"?3:ye==="LineString"||ye==="MultiLineString"?2:1,tags:Ge};jt.id!==null&&(Ue.id=jt.id),Me.features.push(Ue)}}function Pr(Me,jt,Mt,Bt,oe,ye){const je=Bt*Bt;if(Bt>0&&jt.size<(oe?je:Bt))return void(Mt.numPoints+=jt.length/3);const Ge=[];for(let Ue=0;Ue<jt.length;Ue+=3)(Bt===0||jt[Ue+2]>je)&&(Mt.numSimplified++,Ge.push(jt[Ue],jt[Ue+1])),Mt.numPoints++;oe&&(function(Ue,fr){let Ke=0;for(let Pe=0,cr=Ue.length,Oe=cr-2;Pe<cr;Oe=Pe,Pe+=2)Ke+=(Ue[Pe]-Ue[Oe])*(Ue[Pe+1]+Ue[Oe+1]);if(Ke>0===fr)for(let Pe=0,cr=Ue.length;Pe<cr/2;Pe+=2){const Oe=Ue[Pe],Wr=Ue[Pe+1];Ue[Pe]=Ue[cr-2-Pe],Ue[Pe+1]=Ue[cr-1-Pe],Ue[cr-2-Pe]=Oe,Ue[cr-1-Pe]=Wr}})(Ge,ye),Me.push(Ge)}const Ir={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class dr{constructor(jt,Mt){const Bt=(Mt=this.options=(function(ye,je){for(const Ge in je)ye[Ge]=je[Ge];return ye})(Object.create(Ir),Mt)).debug;if(Bt&&console.time("preprocess data"),Mt.maxZoom<0||Mt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Mt.promoteId&&Mt.generateId)throw new Error("promoteId and generateId cannot be used together.");let oe=(function(ye,je){const Ge=[];if(ye.type==="FeatureCollection")for(let Ue=0;Ue<ye.features.length;Ue++)kt(Ge,ye.features[Ue],je,Ue);else kt(Ge,ye.type==="Feature"?ye:{geometry:ye},je);return Ge})(jt,Mt);this.tiles={},this.tileCoords=[],Bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Mt.indexMaxZoom,Mt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=(function(ye,je){const Ge=je.buffer/je.extent;let Ue=ye;const fr=ce(ye,1,-1-Ge,Ge,0,-1,2,je),Ke=ce(ye,1,1-Ge,2+Ge,0,-1,2,je);return(fr||Ke)&&(Ue=ce(ye,1,-Ge,1+Ge,0,-1,2,je)||[],fr&&(Ue=vr(fr,1).concat(Ue)),Ke&&(Ue=Ue.concat(vr(Ke,-1)))),Ue})(oe,Mt),oe.length&&this.splitTile(oe,0,0,0),Bt&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(jt,Mt,Bt,oe,ye,je,Ge){const Ue=[jt,Mt,Bt,oe],fr=this.options,Ke=fr.debug;for(;Ue.length;){oe=Ue.pop(),Bt=Ue.pop(),Mt=Ue.pop(),jt=Ue.pop();const Pe=1<<Mt,cr=ar(Mt,Bt,oe);let Oe=this.tiles[cr];if(!Oe&&(Ke>1&&console.time("creation"),Oe=this.tiles[cr]=ir(jt,Mt,Bt,oe,fr),this.tileCoords.push({z:Mt,x:Bt,y:oe}),Ke)){Ke>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Mt,Bt,oe,Oe.numFeatures,Oe.numPoints,Oe.numSimplified),console.timeEnd("creation"));const yn=`z${Mt}`;this.stats[yn]=(this.stats[yn]||0)+1,this.total++}if(Oe.source=jt,ye==null){if(Mt===fr.indexMaxZoom||Oe.numPoints<=fr.indexMaxPoints)continue}else{if(Mt===fr.maxZoom||Mt===ye)continue;if(ye!=null){const yn=ye-Mt;if(Bt!==je>>yn||oe!==Ge>>yn)continue}}if(Oe.source=null,jt.length===0)continue;Ke>1&&console.time("clipping");const Wr=.5*fr.buffer/fr.extent,or=.5-Wr,vn=.5+Wr,Kr=1+Wr;let Kn=null,Pt=null,Xt=null,be=null,ze=ce(jt,Pe,Bt-Wr,Bt+vn,0,Oe.minX,Oe.maxX,fr),Lr=ce(jt,Pe,Bt+or,Bt+Kr,0,Oe.minX,Oe.maxX,fr);jt=null,ze&&(Kn=ce(ze,Pe,oe-Wr,oe+vn,1,Oe.minY,Oe.maxY,fr),Pt=ce(ze,Pe,oe+or,oe+Kr,1,Oe.minY,Oe.maxY,fr),ze=null),Lr&&(Xt=ce(Lr,Pe,oe-Wr,oe+vn,1,Oe.minY,Oe.maxY,fr),be=ce(Lr,Pe,oe+or,oe+Kr,1,Oe.minY,Oe.maxY,fr),Lr=null),Ke>1&&console.timeEnd("clipping"),Ue.push(Kn||[],Mt+1,2*Bt,2*oe),Ue.push(Pt||[],Mt+1,2*Bt,2*oe+1),Ue.push(Xt||[],Mt+1,2*Bt+1,2*oe),Ue.push(be||[],Mt+1,2*Bt+1,2*oe+1)}}getTile(jt,Mt,Bt){jt=+jt,Mt=+Mt,Bt=+Bt;const oe=this.options,{extent:ye,debug:je}=oe;if(jt<0||jt>24)return null;const Ge=1<<jt,Ue=ar(jt,Mt=Mt+Ge&Ge-1,Bt);if(this.tiles[Ue])return Ie(this.tiles[Ue],ye);je>1&&console.log("drilling down to z%d-%d-%d",jt,Mt,Bt);let fr,Ke=jt,Pe=Mt,cr=Bt;for(;!fr&&Ke>0;)Ke--,Pe>>=1,cr>>=1,fr=this.tiles[ar(Ke,Pe,cr)];return fr&&fr.source?(je>1&&(console.log("found parent tile z%d-%d-%d",Ke,Pe,cr),console.time("drilling down")),this.splitTile(fr.source,Ke,Pe,cr,jt,Mt,Bt),je>1&&console.timeEnd("drilling down"),this.tiles[Ue]?Ie(this.tiles[Ue],ye):null):null}}function ar(Me,jt,Mt){return 32*((1<<Me)*Mt+jt)+Me}function Or(Me,jt){return jt?Me.properties[jt]:Me.id}function er(Me,jt){if(Me==null)return!0;if(Me.type==="Feature")return Or(Me,jt)!=null;if(Me.type==="FeatureCollection"){const Mt=new Set;for(const Bt of Me.features){const oe=Or(Bt,jt);if(oe==null||Mt.has(oe))return!1;Mt.add(oe)}return!0}return!1}function Fr(Me,jt){const Mt=new Map;if(Me!=null)if(Me.type==="Feature")Mt.set(Or(Me,jt),Me);else for(const Bt of Me.features)Mt.set(Or(Bt,jt),Bt);return Mt}class Ze extends k{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(jt,Mt){return u._(this,void 0,void 0,(function*(){const Bt=jt.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const oe=this._geoJSONIndex.getTile(Bt.z,Bt.x,Bt.y);if(!oe)return null;const ye=new z(oe.features);let je=it(ye);return je.byteOffset===0&&je.byteLength===je.buffer.byteLength||(je=new Uint8Array(je)),{vectorTile:ye,rawData:je.buffer}}))}loadData(jt){return u._(this,void 0,void 0,(function*(){var Mt;(Mt=this._pendingRequest)===null||Mt===void 0||Mt.abort();const Bt=!!(jt&&jt.request&&jt.request.collectResourceTiming)&&new u.cM(jt.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(jt,this._pendingRequest),this._geoJSONIndex=jt.cluster?new dt((function({superclusterOptions:je,clusterProperties:Ge}){if(!Ge||!je)return je;const Ue={},fr={},Ke={accumulated:null,zoom:0},Pe={properties:null},cr=Object.keys(Ge);for(const Oe of cr){const[Wr,or]=Ge[Oe],vn=u.cT(or),Kr=u.cT(typeof Wr=="string"?[Wr,["accumulated"],["get",Oe]]:Wr);Ue[Oe]=vn.value,fr[Oe]=Kr.value}return je.map=Oe=>{Pe.properties=Oe;const Wr={};for(const or of cr)Wr[or]=Ue[or].evaluate(Ke,Pe);return Wr},je.reduce=(Oe,Wr)=>{Pe.properties=Wr;for(const or of cr)Ke.accumulated=Oe[or],Oe[or]=fr[or].evaluate(Ke,Pe)},je})(jt)).load((yield this._pendingData).features):(oe=yield this._pendingData,new dr(oe,jt.geojsonVtOptions)),this.loaded={};const ye={};if(Bt){const je=Bt.finish();je&&(ye.resourceTiming={},ye.resourceTiming[jt.source]=JSON.parse(JSON.stringify(je)))}return ye}catch(ye){if(delete this._pendingRequest,u.cx(ye))return{abandoned:!0};throw ye}var oe}))}getData(){return u._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(jt){const Mt=this.loaded;return Mt&&Mt[jt.uid]?super.reloadTile(jt):this.loadTile(jt)}loadAndProcessGeoJSON(jt,Mt){return u._(this,void 0,void 0,(function*(){let Bt=yield this.loadGeoJSON(jt,Mt);if(delete this._pendingRequest,typeof Bt!="object")throw new Error(`Input data given to '${jt.source}' is not a valid GeoJSON object.`);if(U(Bt,!0),jt.filter){const oe=u.cT(jt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(oe.result==="error")throw new Error(oe.value.map((ye=>`${ye.key}: ${ye.message}`)).join(", "));Bt={type:"FeatureCollection",features:Bt.features.filter((ye=>oe.value.evaluate({zoom:0},ye)))}}return Bt}))}loadGeoJSON(jt,Mt){return u._(this,void 0,void 0,(function*(){const{promoteId:Bt}=jt;if(jt.request){const oe=yield u.j(jt.request,Mt);return this._dataUpdateable=er(oe.data,Bt)?Fr(oe.data,Bt):void 0,oe.data}if(typeof jt.data=="string")try{const oe=JSON.parse(jt.data);return this._dataUpdateable=er(oe,Bt)?Fr(oe,Bt):void 0,oe}catch{throw new Error(`Input data given to '${jt.source}' is not a valid GeoJSON object.`)}if(!jt.dataDiff)throw new Error(`Input data given to '${jt.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${jt.source}`);return(function(oe,ye,je){var Ge,Ue,fr,Ke;if(ye.removeAll&&oe.clear(),ye.remove)for(const Pe of ye.remove)oe.delete(Pe);if(ye.add)for(const Pe of ye.add){const cr=Or(Pe,je);cr!=null&&oe.set(cr,Pe)}if(ye.update)for(const Pe of ye.update){let cr=oe.get(Pe.id);if(cr==null)continue;const Oe=!Pe.removeAllProperties&&(((Ge=Pe.removeProperties)===null||Ge===void 0?void 0:Ge.length)>0||((Ue=Pe.addOrUpdateProperties)===null||Ue===void 0?void 0:Ue.length)>0);if((Pe.newGeometry||Pe.removeAllProperties||Oe)&&(cr=Object.assign({},cr),oe.set(Pe.id,cr),Oe&&(cr.properties=Object.assign({},cr.properties))),Pe.newGeometry&&(cr.geometry=Pe.newGeometry),Pe.removeAllProperties)cr.properties={};else if(((fr=Pe.removeProperties)===null||fr===void 0?void 0:fr.length)>0)for(const Wr of Pe.removeProperties)Object.prototype.hasOwnProperty.call(cr.properties,Wr)&&delete cr.properties[Wr];if(((Ke=Pe.addOrUpdateProperties)===null||Ke===void 0?void 0:Ke.length)>0)for(const{key:Wr,value:or}of Pe.addOrUpdateProperties)cr.properties[Wr]=or}})(this._dataUpdateable,jt.dataDiff,Bt),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(jt){return u._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(jt){return this._geoJSONIndex.getClusterExpansionZoom(jt.clusterId)}getClusterChildren(jt){return this._geoJSONIndex.getChildren(jt.clusterId)}getClusterLeaves(jt){return this._geoJSONIndex.getLeaves(jt.clusterId,jt.limit,jt.offset)}}class rr{constructor(jt){this.self=jt,this.actor=new u.J(jt),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Mt,Bt)=>{if(this.externalWorkerSourceTypes[Mt])throw new Error(`Worker source with name "${Mt}" already registered.`);this.externalWorkerSourceTypes[Mt]=Bt},this.self.addProtocol=u.cz,this.self.removeProtocol=u.cA,this.self.registerRTLTextPlugin=Mt=>{u.cU.setMethods(Mt)},this.actor.registerMessageHandler("LDT",((Mt,Bt)=>this._getDEMWorkerSource(Mt,Bt.source).loadTile(Bt))),this.actor.registerMessageHandler("RDT",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(Mt,Bt.source).removeTile(Bt)})))),this.actor.registerMessageHandler("GCEZ",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){return this._getWorkerSource(Mt,Bt.type,Bt.source).getClusterExpansionZoom(Bt)})))),this.actor.registerMessageHandler("GCC",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){return this._getWorkerSource(Mt,Bt.type,Bt.source).getClusterChildren(Bt)})))),this.actor.registerMessageHandler("GCL",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){return this._getWorkerSource(Mt,Bt.type,Bt.source).getClusterLeaves(Bt)})))),this.actor.registerMessageHandler("LD",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).loadData(Bt))),this.actor.registerMessageHandler("GD",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).getData())),this.actor.registerMessageHandler("LT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).loadTile(Bt))),this.actor.registerMessageHandler("RT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).reloadTile(Bt))),this.actor.registerMessageHandler("AT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).abortTile(Bt))),this.actor.registerMessageHandler("RMT",((Mt,Bt)=>this._getWorkerSource(Mt,Bt.type,Bt.source).removeTile(Bt))),this.actor.registerMessageHandler("RS",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){if(!this.workerSources[Mt]||!this.workerSources[Mt][Bt.type]||!this.workerSources[Mt][Bt.type][Bt.source])return;const oe=this.workerSources[Mt][Bt.type][Bt.source];delete this.workerSources[Mt][Bt.type][Bt.source],oe.removeSource!==void 0&&oe.removeSource(Bt)})))),this.actor.registerMessageHandler("RM",(Mt=>u._(this,void 0,void 0,(function*(){delete this.layerIndexes[Mt],delete this.availableImages[Mt],delete this.workerSources[Mt],delete this.demWorkerSources[Mt]})))),this.actor.registerMessageHandler("SR",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){this.referrer=Bt})))),this.actor.registerMessageHandler("SRPS",((Mt,Bt)=>this._syncRTLPluginState(Mt,Bt))),this.actor.registerMessageHandler("IS",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){this.self.importScripts(Bt)})))),this.actor.registerMessageHandler("SI",((Mt,Bt)=>this._setImages(Mt,Bt))),this.actor.registerMessageHandler("UL",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){this._getLayerIndex(Mt).update(Bt.layers,Bt.removedIds)})))),this.actor.registerMessageHandler("SL",((Mt,Bt)=>u._(this,void 0,void 0,(function*(){this._getLayerIndex(Mt).replace(Bt)}))))}_setImages(jt,Mt){return u._(this,void 0,void 0,(function*(){this.availableImages[jt]=Mt;for(const Bt in this.workerSources[jt]){const oe=this.workerSources[jt][Bt];for(const ye in oe)oe[ye].availableImages=Mt}}))}_syncRTLPluginState(jt,Mt){return u._(this,void 0,void 0,(function*(){return yield u.cU.syncState(Mt,this.self.importScripts)}))}_getAvailableImages(jt){let Mt=this.availableImages[jt];return Mt||(Mt=[]),Mt}_getLayerIndex(jt){let Mt=this.layerIndexes[jt];return Mt||(Mt=this.layerIndexes[jt]=new a),Mt}_getWorkerSource(jt,Mt,Bt){if(this.workerSources[jt]||(this.workerSources[jt]={}),this.workerSources[jt][Mt]||(this.workerSources[jt][Mt]={}),!this.workerSources[jt][Mt][Bt]){const oe={sendAsync:(ye,je)=>(ye.targetMapId=jt,this.actor.sendAsync(ye,je))};switch(Mt){case"vector":this.workerSources[jt][Mt][Bt]=new k(oe,this._getLayerIndex(jt),this._getAvailableImages(jt));break;case"geojson":this.workerSources[jt][Mt][Bt]=new Ze(oe,this._getLayerIndex(jt),this._getAvailableImages(jt));break;default:this.workerSources[jt][Mt][Bt]=new this.externalWorkerSourceTypes[Mt](oe,this._getLayerIndex(jt),this._getAvailableImages(jt))}}return this.workerSources[jt][Mt][Bt]}_getDEMWorkerSource(jt,Mt){return this.demWorkerSources[jt]||(this.demWorkerSources[jt]={}),this.demWorkerSources[jt][Mt]||(this.demWorkerSources[jt][Mt]=new R),this.demWorkerSources[jt][Mt]}}return u.i(self)&&(self.worker=new rr(self)),rr})),i("index",["exports","./shared"],(function(u,a){var g="5.6.0";function v(){var N=new a.A(4);return a.A!=Float32Array&&(N[1]=0,N[2]=0),N[0]=1,N[3]=1,N}let x,k;const R={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(N,s,d){const _=requestAnimationFrame((L=>{S(),s(L)})),{unsubscribe:S}=a.s(N.signal,"abort",(()=>{S(),cancelAnimationFrame(_),d(a.c())}),!1)},frameAsync(N){return new Promise(((s,d)=>{this.frame(N,s,d)}))},getImageData(N,s=0){return this.getImageCanvasContext(N).getImageData(-s,-s,N.width+2*s,N.height+2*s)},getImageCanvasContext(N){const s=window.document.createElement("canvas"),d=s.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return s.width=N.width,s.height=N.height,d.drawImage(N,0,0,N.width,N.height),d},resolveURL:N=>(x||(x=document.createElement("a")),x.href=N,x.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(k==null&&(k=matchMedia("(prefers-reduced-motion: reduce)")),k.matches)}};class A{static testProp(s){if(!A.docStyle)return s[0];for(let d=0;d<s.length;d++)if(s[d]in A.docStyle)return s[d];return s[0]}static create(s,d,_){const S=window.document.createElement(s);return d!==void 0&&(S.className=d),_&&_.appendChild(S),S}static createNS(s,d){return window.document.createElementNS(s,d)}static disableDrag(){A.docStyle&&A.selectProp&&(A.userSelect=A.docStyle[A.selectProp],A.docStyle[A.selectProp]="none")}static enableDrag(){A.docStyle&&A.selectProp&&(A.docStyle[A.selectProp]=A.userSelect)}static setTransform(s,d){s.style[A.transformProp]=d}static addEventListener(s,d,_,S={}){s.addEventListener(d,_,"passive"in S?S:S.capture)}static removeEventListener(s,d,_,S={}){s.removeEventListener(d,_,"passive"in S?S:S.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",A.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",A.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",A.suppressClickInternal,!0)}),0)}static getScale(s){const d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}static getPoint(s,d,_){const S=d.boundingClientRect;return new a.P((_.clientX-S.left)/d.x-s.clientLeft,(_.clientY-S.top)/d.y-s.clientTop)}static mousePos(s,d){const _=A.getScale(s);return A.getPoint(s,_,d)}static touchPos(s,d){const _=[],S=A.getScale(s);for(let L=0;L<d.length;L++)_.push(A.getPoint(s,S,d[L]));return _}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}static sanitize(s){const d=new DOMParser().parseFromString(s,"text/html").body||document.createElement("body"),_=d.querySelectorAll("script");for(const S of _)S.remove();return A.clean(d),d.innerHTML}static isPossiblyDangerous(s,d){const _=d.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(s)||!_.includes("javascript:")&&!_.includes("data:"))||!!s.startsWith("on")||void 0}static clean(s){const d=s.children;for(const _ of d)A.removeAttributes(_),A.clean(_)}static removeAttributes(s){for(const{name:d,value:_}of s.attributes)A.isPossiblyDangerous(d,_)&&s.removeAttribute(d)}}A.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,A.selectProp=A.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),A.transformProp=A.testProp(["transform","WebkitTransform"]);const O={supported:!1,testSupport:function(N){!H&&U&&(G?z(N):D=N)}};let D,U,H=!1,G=!1;function z(N){const s=N.createTexture();N.bindTexture(N.TEXTURE_2D,s);try{if(N.texImage2D(N.TEXTURE_2D,0,N.RGBA,N.RGBA,N.UNSIGNED_BYTE,U),N.isContextLost())return;O.supported=!0}catch{}N.deleteTexture(s),H=!0}var j;typeof document<"u"&&(U=document.createElement("img"),U.onload=()=>{D&&z(D),D=null,G=!0},U.onerror=()=>{H=!0,D=null},U.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(N){let s,d,_,S;N.resetRequestQueue=()=>{s=[],d=0,_=0,S={}},N.addThrottleControl=tt=>{const ct=_++;return S[ct]=tt,ct},N.removeThrottleControl=tt=>{delete S[tt],B()},N.getImage=(tt,ct,_t=!0)=>new Promise(((Rt,Tt)=>{O.supported&&(tt.headers||(tt.headers={}),tt.headers.accept="image/webp,*/*"),a.e(tt,{type:"image"}),s.push({abortController:ct,requestParameters:tt,supportImageRefresh:_t,state:"queued",onError:zt=>{Tt(zt)},onSuccess:zt=>{Rt(zt)}}),B()}));const L=tt=>a._(this,void 0,void 0,(function*(){tt.state="running";const{requestParameters:ct,supportImageRefresh:_t,onError:Rt,onSuccess:Tt,abortController:zt}=tt,Zt=_t===!1&&!a.i(self)&&!a.g(ct.url)&&(!ct.headers||Object.keys(ct.headers).reduce(((me,xe)=>me&&xe==="accept"),!0));d++;const fe=Zt?K(ct,zt):a.m(ct,zt);try{const me=yield fe;delete tt.abortController,tt.state="completed",me.data instanceof HTMLImageElement||a.b(me.data)?Tt(me):me.data&&Tt({data:yield(pe=me.data,typeof createImageBitmap=="function"?a.f(pe):a.h(pe)),cacheControl:me.cacheControl,expires:me.expires})}catch(me){delete tt.abortController,Rt(me)}finally{d--,B()}var pe})),B=()=>{const tt=(()=>{for(const ct of Object.keys(S))if(S[ct]())return!0;return!1})()?a.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let ct=d;ct<tt&&s.length>0;ct++){const _t=s.shift();_t.abortController.signal.aborted?ct--:L(_t)}},K=(tt,ct)=>new Promise(((_t,Rt)=>{const Tt=new Image,zt=tt.url,Zt=tt.credentials;Zt&&Zt==="include"?Tt.crossOrigin="use-credentials":(Zt&&Zt==="same-origin"||!a.d(zt))&&(Tt.crossOrigin="anonymous"),ct.signal.addEventListener("abort",(()=>{Tt.src="",Rt(a.c())})),Tt.fetchPriority="high",Tt.onload=()=>{Tt.onerror=Tt.onload=null,_t({data:Tt})},Tt.onerror=()=>{Tt.onerror=Tt.onload=null,ct.signal.aborted||Rt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Tt.src=zt}))})(j||(j={})),j.resetRequestQueue();class X{constructor(s){this._transformRequestFn=s}transformRequest(s,d){return this._transformRequestFn&&this._transformRequestFn(s,d)||{url:s}}setTransformRequest(s){this._transformRequestFn=s}}function Y(N){const s=[];if(typeof N=="string")s.push({id:"default",url:N});else if(N&&N.length>0){const d=[];for(const{id:_,url:S}of N){const L=`${_}${S}`;d.indexOf(L)===-1&&(d.push(L),s.push({id:_,url:S}))}}return s}function rt(N,s,d){try{const _=new URL(N);return _.pathname+=`${s}${d}`,_.toString()}catch{throw new Error(`Invalid sprite URL "${N}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function st(N){const{userImage:s}=N;return!!(s&&s.render&&s.render())&&(N.data.replace(new Uint8Array(s.data.buffer)),!0)}class it extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:d,promiseResolve:_}of this.requestors)_(this._getImagesForIds(d));this.requestors=[]}}getImage(s){const d=this.images[s];if(d&&!d.data&&d.spriteData){const _=d.spriteData;d.data=new a.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),d.spriteData=null}return d}addImage(s,d){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,d)&&(this.images[s]=d)}_validate(s,d){let _=!0;const S=d.data||d.spriteData;return this._validateStretch(d.stretchX,S&&S.width)||(this.fire(new a.k(new Error(`Image "${s}" has invalid "stretchX" value`))),_=!1),this._validateStretch(d.stretchY,S&&S.height)||(this.fire(new a.k(new Error(`Image "${s}" has invalid "stretchY" value`))),_=!1),this._validateContent(d.content,d)||(this.fire(new a.k(new Error(`Image "${s}" has invalid "content" value`))),_=!1),_}_validateStretch(s,d){if(!s)return!0;let _=0;for(const S of s){if(S[0]<_||S[1]<S[0]||d<S[1])return!1;_=S[1]}return!0}_validateContent(s,d){if(!s)return!0;if(s.length!==4)return!1;const _=d.spriteData,S=_&&_.width||d.data.width,L=_&&_.height||d.data.height;return!(s[0]<0||S<s[0]||s[1]<0||L<s[1]||s[2]<0||S<s[2]||s[3]<0||L<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,d,_=!0){const S=this.getImage(s);if(_&&(S.data.width!==d.data.width||S.data.height!==d.data.height))throw new Error(`size mismatch between old image (${S.data.width}x${S.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=S.version+1,this.images[s]=d,this.updatedImages[s]=!0}removeImage(s){const d=this.images[s];delete this.images[s],delete this.patterns[s],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s){return new Promise(((d,_)=>{let S=!0;if(!this.isLoaded())for(const L of s)this.images[L]||(S=!1);this.isLoaded()||S?d(this._getImagesForIds(s)):this.requestors.push({ids:s,promiseResolve:d})}))}_getImagesForIds(s){const d={};for(const _ of s){let S=this.getImage(_);S||(this.fire(new a.l("styleimagemissing",{id:_})),S=this.getImage(_)),S?d[_]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,textFitWidth:S.textFitWidth,textFitHeight:S.textFitHeight,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){const{width:s,height:d}=this.atlasImage;return{width:s,height:d}}getPattern(s){const d=this.patterns[s],_=this.getImage(s);if(!_)return null;if(d&&d.position.version===_.version)return d.position;if(d)d.position.version=_.version;else{const S={w:_.data.width+2,h:_.data.height+2,x:0,y:0},L=new a.I(S,_);this.patterns[s]={bin:S,position:L}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const d=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(s,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const L in this.patterns)s.push(this.patterns[L].bin);const{w:d,h:_}=a.p(s),S=this.atlasImage;S.resize({width:d||1,height:_||1});for(const L in this.patterns){const{bin:B}=this.patterns[L],K=B.x+1,tt=B.y+1,ct=this.getImage(L).data,_t=ct.width,Rt=ct.height;a.R.copy(ct,S,{x:0,y:0},{x:K,y:tt},{width:_t,height:Rt}),a.R.copy(ct,S,{x:0,y:Rt-1},{x:K,y:tt-1},{width:_t,height:1}),a.R.copy(ct,S,{x:0,y:0},{x:K,y:tt+Rt},{width:_t,height:1}),a.R.copy(ct,S,{x:_t-1,y:0},{x:K-1,y:tt},{width:1,height:Rt}),a.R.copy(ct,S,{x:0,y:0},{x:K+_t,y:tt},{width:1,height:Rt})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const d of s){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const _=this.getImage(d);_||a.w(`Image with ID: "${d}" was not found`),st(_)&&this.updateImage(d,_)}}}const bt=1e20;function at(N,s,d,_,S,L,B,K,tt){for(let ct=s;ct<s+_;ct++)$(N,d*L+ct,L,S,B,K,tt);for(let ct=d;ct<d+S;ct++)$(N,ct*L+s,1,_,B,K,tt)}function $(N,s,d,_,S,L,B){L[0]=0,B[0]=-1e20,B[1]=bt,S[0]=N[s];for(let K=1,tt=0,ct=0;K<_;K++){S[K]=N[s+K*d];const _t=K*K;do{const Rt=L[tt];ct=(S[K]-S[Rt]+_t-Rt*Rt)/(K-Rt)/2}while(ct<=B[tt]&&--tt>-1);tt++,L[tt]=K,B[tt]=ct,B[tt+1]=bt}for(let K=0,tt=0;K<_;K++){for(;B[tt+1]<K;)tt++;const ct=L[tt],_t=K-ct;N[s+K*d]=S[ct]+_t*_t}}class dt{constructor(s,d){this.requestManager=s,this.localIdeographFontFamily=d,this.entries={}}setURL(s){this.url=s}getGlyphs(s){return a._(this,void 0,void 0,(function*(){const d=[];for(const L in s)for(const B of s[L])d.push(this._getAndCacheGlyphsPromise(L,B));const _=yield Promise.all(d),S={};for(const{stack:L,id:B,glyph:K}of _)S[L]||(S[L]={}),S[L][B]=K&&{id:K.id,bitmap:K.bitmap.clone(),metrics:K.metrics};return S}))}_getAndCacheGlyphsPromise(s,d){return a._(this,void 0,void 0,(function*(){let _=this.entries[s];_||(_=this.entries[s]={glyphs:{},requests:{},ranges:{}});let S=_.glyphs[d];if(S!==void 0)return{stack:s,id:d,glyph:S};if(S=this._tinySDF(_,s,d),S)return _.glyphs[d]=S,{stack:s,id:d,glyph:S};const L=Math.floor(d/256);if(256*L>65535)throw new Error("glyphs > 65535 not supported");if(_.ranges[L])return{stack:s,id:d,glyph:S};if(!this.url)throw new Error("glyphsUrl is not set");if(!_.requests[L]){const K=dt.loadGlyphRange(s,L,this.url,this.requestManager);_.requests[L]=K}const B=yield _.requests[L];for(const K in B)this._doesCharSupportLocalGlyph(+K)||(_.glyphs[+K]=B[+K]);return _.ranges[L]=!0,{stack:s,id:d,glyph:B[d]||null}}))}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(s))||a.u["CJK Unified Ideographs"](s)||a.u["Hangul Syllables"](s)||a.u.Hiragana(s)||a.u.Katakana(s)||a.u["CJK Symbols and Punctuation"](s)||a.u["Halfwidth and Fullwidth Forms"](s))}_tinySDF(s,d,_){const S=this.localIdeographFontFamily;if(!S||!this._doesCharSupportLocalGlyph(_))return;let L=s.tinySDF;if(!L){let K="400";/bold/i.test(d)?K="900":/medium/i.test(d)?K="500":/light/i.test(d)&&(K="200"),L=s.tinySDF=new dt.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:S,fontWeight:K})}const B=L.draw(String.fromCharCode(_));return{id:_,bitmap:new a.q({width:B.width||60,height:B.height||60},B.data),metrics:{width:B.glyphWidth/2||24,height:B.glyphHeight/2||24,left:B.glyphLeft/2+.5||0,top:B.glyphTop/2-27.5||-8,advance:B.glyphAdvance/2||24,isDoubleResolution:!0}}}}dt.loadGlyphRange=function(N,s,d,_){return a._(this,void 0,void 0,(function*(){const S=256*s,L=S+255,B=_.transformRequest(d.replace("{fontstack}",N).replace("{range}",`${S}-${L}`),"Glyphs"),K=yield a.n(B,new AbortController);if(!K||!K.data)throw new Error(`Could not load glyph range. range: ${s}, ${S}-${L}`);const tt={};for(const ct of a.o(K.data))tt[ct.id]=ct;return tt}))},dt.TinySDF=class{constructor({fontSize:N=24,buffer:s=3,radius:d=8,cutoff:_=.25,fontFamily:S="sans-serif",fontWeight:L="normal",fontStyle:B="normal"}={}){this.buffer=s,this.cutoff=_,this.radius=d;const K=this.size=N+4*s,tt=this._createCanvas(K),ct=this.ctx=tt.getContext("2d",{willReadFrequently:!0});ct.font=`${B} ${L} ${N}px ${S}`,ct.textBaseline="alphabetic",ct.textAlign="left",ct.fillStyle="black",this.gridOuter=new Float64Array(K*K),this.gridInner=new Float64Array(K*K),this.f=new Float64Array(K),this.z=new Float64Array(K+1),this.v=new Uint16Array(K)}_createCanvas(N){const s=document.createElement("canvas");return s.width=s.height=N,s}draw(N){const{width:s,actualBoundingBoxAscent:d,actualBoundingBoxDescent:_,actualBoundingBoxLeft:S,actualBoundingBoxRight:L}=this.ctx.measureText(N),B=Math.ceil(d),K=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(L-S))),tt=Math.min(this.size-this.buffer,B+Math.ceil(_)),ct=K+2*this.buffer,_t=tt+2*this.buffer,Rt=Math.max(ct*_t,0),Tt=new Uint8ClampedArray(Rt),zt={data:Tt,width:ct,height:_t,glyphWidth:K,glyphHeight:tt,glyphTop:B,glyphLeft:0,glyphAdvance:s};if(K===0||tt===0)return zt;const{ctx:Zt,buffer:fe,gridInner:pe,gridOuter:me}=this;Zt.clearRect(fe,fe,K,tt),Zt.fillText(N,fe,fe+B);const xe=Zt.getImageData(fe,fe,K,tt);me.fill(bt,0,Rt),pe.fill(0,0,Rt);for(let Be=0;Be<tt;Be++)for(let Le=0;Le<K;Le++){const $e=xe.data[4*(Be*K+Le)+3]/255;if($e===0)continue;const We=(Be+fe)*ct+Le+fe;if($e===1)me[We]=0,pe[We]=bt;else{const Ne=.5-$e;me[We]=Ne>0?Ne*Ne:0,pe[We]=Ne<0?Ne*Ne:0}}at(me,0,0,ct,_t,ct,this.f,this.v,this.z),at(pe,fe,fe,K,tt,ct,this.f,this.v,this.z);for(let Be=0;Be<Rt;Be++){const Le=Math.sqrt(me[Be])-Math.sqrt(pe[Be]);Tt[Be]=Math.round(255-255*(Le/this.radius+this.cutoff))}return zt}};class mt{constructor(){this.specification=a.v.light.position}possiblyEvaluate(s,d){return a.B(s.expression.evaluate(d))}interpolate(s,d,_){return{x:a.C.number(s.x,d.x,_),y:a.C.number(s.y,d.y,_),z:a.C.number(s.z,d.z,_)}}}let wt;class pt extends a.E{constructor(s){super(),wt=wt||new a.r({anchor:new a.D(a.v.light.anchor),position:new mt,color:new a.D(a.v.light.color),intensity:new a.D(a.v.light.intensity)}),this._transitionable=new a.t(wt),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,d={}){if(!this._validate(a.x,s,d))for(const _ in s){const S=s[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),S):this._transitionable.setValue(_,S)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,_){return(!_||_.validate!==!1)&&a.y(this,s.call(a.z,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.v}))}}const Ct=new a.r({"sky-color":new a.D(a.v.sky["sky-color"]),"horizon-color":new a.D(a.v.sky["horizon-color"]),"fog-color":new a.D(a.v.sky["fog-color"]),"fog-ground-blend":new a.D(a.v.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.v.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.v.sky["atmosphere-blend"])});class vt extends a.E{constructor(s){super(),this._transitionable=new a.t(Ct),this.setSky(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.F(0))}setSky(s,d={}){if(!this._validate(a.G,s,d)){s||(s={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const _ in s){const S=s[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),S):this._transitionable.setValue(_,S)}}}getSky(){return this._transitionable.serialize()}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,d,_={}){return _?.validate!==!1&&a.y(this,s.call(a.z,a.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:a.v})))}calculateFogBlendOpacity(s){return s<60?0:s<70?(s-60)/10:1}}class It{constructor(s,d){this.width=s,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,d){const _=s.join(",")+String(d);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(s,d)),this.dashEntry[_]}getDashRanges(s,d,_){const S=[];let L=s.length%2==1?-s[s.length-1]*_:0,B=s[0]*_,K=!0;S.push({left:L,right:B,isDash:K,zeroLength:s[0]===0});let tt=s[0];for(let ct=1;ct<s.length;ct++){K=!K;const _t=s[ct];L=tt*_,tt+=_t,B=tt*_,S.push({left:L,right:B,isDash:K,zeroLength:_t===0})}return S}addRoundDash(s,d,_){const S=d/2;for(let L=-_;L<=_;L++){const B=this.width*(this.nextRow+_+L);let K=0,tt=s[K];for(let ct=0;ct<this.width;ct++){ct/tt.right>1&&(tt=s[++K]);const _t=Math.abs(ct-tt.left),Rt=Math.abs(ct-tt.right),Tt=Math.min(_t,Rt);let zt;const Zt=L/_*(S+1);if(tt.isDash){const fe=S-Math.abs(Zt);zt=Math.sqrt(Tt*Tt+fe*fe)}else zt=S-Math.sqrt(Tt*Tt+Zt*Zt);this.data[B+ct]=Math.max(0,Math.min(255,zt+128))}}}addRegularDash(s){for(let K=s.length-1;K>=0;--K){const tt=s[K],ct=s[K+1];tt.zeroLength?s.splice(K,1):ct&&ct.isDash===tt.isDash&&(ct.left=tt.left,s.splice(K,1))}const d=s[0],_=s[s.length-1];d.isDash===_.isDash&&(d.left=_.left-this.width,_.right=d.right+this.width);const S=this.width*this.nextRow;let L=0,B=s[L];for(let K=0;K<this.width;K++){K/B.right>1&&(B=s[++L]);const tt=Math.abs(K-B.left),ct=Math.abs(K-B.right),_t=Math.min(tt,ct);this.data[S+K]=Math.max(0,Math.min(255,(B.isDash?_t:-_t)+128))}}addDash(s,d){const _=d?7:0,S=2*_+1;if(this.nextRow+S>this.height)return a.w("LineAtlas out of space"),null;let L=0;for(let K=0;K<s.length;K++)L+=s[K];if(L!==0){const K=this.width/L,tt=this.getDashRanges(s,this.width,K);d?this.addRoundDash(tt,K,_):this.addRegularDash(tt)}const B={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:L};return this.nextRow+=S,this.dirty=!0,B}bind(s){const d=s.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}const Ft="maplibre_preloaded_worker_pool";class Et{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<Et.workerCount;)this.workers.push(new Worker(a.a.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach((d=>{d.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Ft]}numActive(){return Object.keys(this.active).length}}const lt=Math.floor(R.hardwareConcurrency/2);let kt,At;function Nt(){return kt||(kt=new Et),kt}Et.workerCount=a.H(globalThis)?Math.max(Math.min(lt,3),1):1;class qt{constructor(s,d){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=d;const _=this.workerPool.acquire(d);for(let S=0;S<_.length;S++){const L=new a.J(_[S],d);L.name=`Worker ${S}`,this.actors.push(L)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,d){const _=[];for(const S of this.actors)_.push(S.sendAsync({type:s,data:d}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach((d=>{d.remove()})),this.actors=[],s&&this.workerPool.release(this.id)}registerMessageHandler(s,d){for(const _ of this.actors)_.registerMessageHandler(s,d)}}function ie(){return At||(At=new qt(Nt(),a.K),At.registerMessageHandler("GR",((N,s,d)=>a.m(s,d)))),At}function Ht(N,s){const d=a.L();return a.M(d,d,[1,1,0]),a.N(d,d,[.5*N.width,.5*N.height,1]),N.calculatePosMatrix?a.O(d,d,N.calculatePosMatrix(s.toUnwrapped())):d}function ce(N,s,d,_,S,L,B){var K;const tt=(function(Tt,zt,Zt){if(Tt)for(const fe of Tt){const pe=zt[fe];if(pe&&pe.source===Zt&&pe.type==="fill-extrusion")return!0}else for(const fe in zt){const pe=zt[fe];if(pe.source===Zt&&pe.type==="fill-extrusion")return!0}return!1})((K=S?.layers)!==null&&K!==void 0?K:null,s,N.id),ct=L.maxPitchScaleFactor(),_t=N.tilesIn(_,ct,tt);_t.sort(de);const Rt=[];for(const Tt of _t)Rt.push({wrappedTileID:Tt.tileID.wrapped().key,queryResults:Tt.tile.queryRenderedFeatures(s,d,N._state,Tt.queryGeometry,Tt.cameraQueryGeometry,Tt.scale,S,L,ct,Ht(N.transform,Tt.tileID),B?(zt,Zt)=>B(Tt.tileID,zt,Zt):void 0)});return(function(Tt,zt){for(const Zt in Tt)for(const fe of Tt[Zt])Se(fe,zt);return Tt})((function(Tt){const zt={},Zt={};for(const fe of Tt){const pe=fe.queryResults,me=fe.wrappedTileID,xe=Zt[me]=Zt[me]||{};for(const Be in pe){const Le=pe[Be],$e=xe[Be]=xe[Be]||{},We=zt[Be]=zt[Be]||[];for(const Ne of Le)$e[Ne.featureIndex]||($e[Ne.featureIndex]=!0,We.push(Ne))}}return zt})(Rt),N)}function de(N,s){const d=N.tileID,_=s.tileID;return d.overscaledZ-_.overscaledZ||d.canonical.y-_.canonical.y||d.wrap-_.wrap||d.canonical.x-_.canonical.x}function Se(N,s){const d=N.feature,_=s.getFeatureState(d.layer["source-layer"],d.id);d.source=d.layer.source,d.layer["source-layer"]&&(d.sourceLayer=d.layer["source-layer"]),d.state=_}function $t(N,s,d){return a._(this,void 0,void 0,(function*(){let _=N;if(N.url?_=(yield a.j(s.transformRequest(N.url,"Source"),d)).data:yield R.frameAsync(d),!_)return null;const S=a.Q(a.e(_,N),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(S.vectorLayerIds=_.vector_layers.map((L=>L.id))),S}))}class He{constructor(s,d){s&&(d?this.setSouthWest(s).setNorthEast(d):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof a.S?new a.S(s.lng,s.lat):a.S.convert(s),this}setSouthWest(s){return this._sw=s instanceof a.S?new a.S(s.lng,s.lat):a.S.convert(s),this}extend(s){const d=this._sw,_=this._ne;let S,L;if(s instanceof a.S)S=s,L=s;else{if(!(s instanceof He))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(He.convert(s)):this.extend(a.S.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(a.S.convert(s)):this;if(S=s._sw,L=s._ne,!S||!L)return this}return d||_?(d.lng=Math.min(S.lng,d.lng),d.lat=Math.min(S.lat,d.lat),_.lng=Math.max(L.lng,_.lng),_.lat=Math.max(L.lat,_.lat)):(this._sw=new a.S(S.lng,S.lat),this._ne=new a.S(L.lng,L.lat)),this}getCenter(){return new a.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.S(this.getWest(),this.getNorth())}getSouthEast(){return new a.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:d,lat:_}=a.S.convert(s);let S=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&S}static convert(s){return s instanceof He?s:s&&new He(s)}static fromLngLat(s,d=0){const _=360*d/40075017,S=_/Math.cos(Math.PI/180*s.lat);return new He(new a.S(s.lng-S,s.lat-_),new a.S(s.lng+S,s.lat+_))}adjustAntiMeridian(){const s=new a.S(this._sw.lng,this._sw.lat),d=new a.S(this._ne.lng,this._ne.lat);return new He(s,s.lng>d.lng?new a.S(d.lng+360,d.lat):d)}}class ke{constructor(s,d,_){this.bounds=He.convert(this.validateBounds(s)),this.minzoom=d||0,this.maxzoom=_||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const d=Math.pow(2,s.z),_=Math.floor(a.V(this.bounds.getWest())*d),S=Math.floor(a.U(this.bounds.getNorth())*d),L=Math.ceil(a.V(this.bounds.getEast())*d),B=Math.ceil(a.U(this.bounds.getSouth())*d);return s.x>=_&&s.x<L&&s.y>=S&&s.y<B}}class Jt extends a.E{constructor(s,d,_,S){if(super(),this.id=s,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.Q(d,["url","scheme","tileSize","promoteId"])),this._options=a.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S)}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const s=yield $t(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),s&&(a.e(this,s),s.bounds&&(this.tileBounds=new ke(s.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this.fire(new a.k(s))}}))}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.abort(),s(),this.load()}setTiles(s){return this.setSourceProperty((()=>{this._options.tiles=s})),this}setUrl(s){return this.setSourceProperty((()=>{this.url=s,this._options.url=s})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(d,"Tile"),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};_.request.collectResourceTiming=this._collectResourceTiming;let S="RT";if(s.actor&&s.state!=="expired"){if(s.state==="loading")return new Promise(((L,B)=>{s.reloadPromise={resolve:L,reject:B}}))}else s.actor=this.dispatcher.getActor(),S="LT";s.abortController=new AbortController;try{const L=yield s.actor.sendAsync({type:S,data:_},s.abortController);if(delete s.abortController,s.aborted)return;this._afterTileLoadWorkerResponse(s,L)}catch(L){if(delete s.abortController,s.aborted)return;if(L&&L.status!==404)throw L;this._afterTileLoadWorkerResponse(s,null)}}))}_afterTileLoadWorkerResponse(s,d){if(d&&d.resourceTiming&&(s.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&s.setExpiryData(d),s.loadVectorData(d,this.map.painter),s.reloadPromise){const _=s.reloadPromise;s.reloadPromise=null,this.loadTile(s).then(_.resolve).catch(_.reject)}}abortTile(s){return a._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.actor&&(yield s.actor.sendAsync({type:"AT",data:{uid:s.uid,type:this.type,source:this.id}}))}))}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.unloadVectorData(),s.actor&&(yield s.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Vr extends a.E{constructor(s,d,_,S){super(),this.id=s,this.dispatcher=_,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},d),a.e(this,a.Q(d,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,(function*(s=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const d=yield $t(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,d&&(a.e(this,d),d.bounds&&(this.tileBounds=new ke(d.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:s})))}catch(d){this._tileJSONRequest=null,this.fire(new a.k(d))}}))}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),s(),this.load(!0)}setTiles(s){return this.setSourceProperty((()=>{this._options.tiles=s})),this}setUrl(s){return this.setSourceProperty((()=>{this.url=s,this._options.url=s})),this}serialize(){return a.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.abortController=new AbortController;try{const _=yield j.getImage(this.map._requestManager.transformRequest(d,"Tile"),s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&s.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const S=this.map.painter.context,L=S.gl,B=_.data;s.texture=this.map.painter.getTileTexture(B.width),s.texture?s.texture.update(B,{useMipmap:!0}):(s.texture=new a.T(S,B,L.RGBA,{useMipmap:!0}),s.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST)),s.state="loaded"}}catch(_){if(delete s.abortController,s.aborted)s.state="unloaded";else if(_)throw s.state="errored",_}}))}abortTile(s){return a._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController)}))}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.texture&&this.map.painter.saveTileTexture(s.texture)}))}hasTransition(){return!1}}class vr extends Vr{constructor(s,d,_,S){super(s,d,_,S),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(d,"Tile");s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.abortController=new AbortController;try{const S=yield j.getImage(_,s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(S&&S.data){const L=S.data;this.map._refreshExpiredTiles&&(S.cacheControl||S.expires)&&s.setExpiryData({cacheControl:S.cacheControl,expires:S.expires});const B=a.b(L)&&a.W()?L:yield this.readImageNow(L),K={type:this.type,uid:s.uid,source:this.id,rawImageData:B,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!s.actor||s.state==="expired"){s.actor=this.dispatcher.getActor();const tt=yield s.actor.sendAsync({type:"LDT",data:K});s.dem=tt,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded"}}}catch(S){if(delete s.abortController,s.aborted)s.state="unloaded";else if(S)throw s.state="errored",S}}))}readImageNow(s){return a._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&a.X()){const d=s.width+2,_=s.height+2;try{return new a.R({width:d,height:_},yield a.Y(s,-1,-1,d,_))}catch{}}return R.getImageData(s,1)}))}_getNeighboringTiles(s){const d=s.canonical,_=Math.pow(2,d.z),S=(d.x-1+_)%_,L=d.x===0?s.wrap-1:s.wrap,B=(d.x+1+_)%_,K=d.x+1===_?s.wrap+1:s.wrap,tt={};return tt[new a.Z(s.overscaledZ,L,d.z,S,d.y).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,K,d.z,B,d.y).key]={backfilled:!1},d.y>0&&(tt[new a.Z(s.overscaledZ,L,d.z,S,d.y-1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,s.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,K,d.z,B,d.y-1).key]={backfilled:!1}),d.y+1<_&&(tt[new a.Z(s.overscaledZ,L,d.z,S,d.y+1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,s.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},tt[new a.Z(s.overscaledZ,K,d.z,B,d.y+1).key]={backfilled:!1}),tt}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&(yield s.actor.sendAsync({type:"RDT",data:{type:this.type,uid:s.uid,source:this.id}}))}))}}class Dr extends a.E{constructor(s,d,_,S){super(),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(S),this._data=d.data,this._options=a.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId,d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(d.buffer!==void 0?d.buffer:128),tolerance:this._pixelsToTileUnits(d.tolerance!==void 0?d.tolerance:.375),extent:a.$,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(d.clusterMaxZoom),minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.$,radius:this._pixelsToTileUnits(d.clusterRadius||50),log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(s){return s*(a.$/this.tileSize)}_getClusterMaxZoom(s){const d=s?Math.round(s):this.maxzoom-1;return Number.isInteger(s)||s===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${s}" rounded to "${d}"`),d}load(){return a._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}getData(){return a._(this,void 0,void 0,(function*(){const s=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:s})}))}getCoordinatesFromGeometry(s){return s.type==="GeometryCollection"?s.geometries.map((d=>d.coordinates)).flat(1/0):s.coordinates.flat(1/0)}getBounds(){return a._(this,void 0,void 0,(function*(){const s=new He,d=yield this.getData();let _;switch(d.type){case"FeatureCollection":_=d.features.map((S=>this.getCoordinatesFromGeometry(S.geometry))).flat(1/0);break;case"Feature":_=this.getCoordinatesFromGeometry(d.geometry);break;default:_=this.getCoordinatesFromGeometry(d)}if(_.length==0)return s;for(let S=0;S<_.length-1;S+=2)s.extend([_[S],_[S+1]]);return s}))}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(s.clusterRadius)),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(s.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(s){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:s,source:this.id}})}getClusterChildren(s){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:s,source:this.id}})}getClusterLeaves(s,d,_){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:s,limit:d,offset:_}})}_updateWorkerData(s){return a._(this,void 0,void 0,(function*(){const d=a.e({type:this.type},this.workerOptions);s?d.dataDiff=s:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(R.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new a.l("dataloading",{dataType:"source"}));try{const _=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||_.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));let S=null;_.resourceTiming&&_.resourceTiming[this.id]&&(S=_.resourceTiming[this.id].slice(0));const L={dataType:"source"};this._collectResourceTiming&&S&&S.length>0&&a.e(L,{resourceTiming:S}),this.fire(new a.l("data",Object.assign(Object.assign({},L),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},L),{sourceDataType:"content"})))}catch(_){if(this._pendingLoads--,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(_))}}))}loaded(){return this._pendingLoads===0}loadTile(s){return a._(this,void 0,void 0,(function*(){const d=s.actor?"RT":"LT";s.actor=this.actor;const _={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};s.abortController=new AbortController;const S=yield this.actor.sendAsync({type:d,data:_},s.abortController);delete s.abortController,s.unloadVectorData(),s.aborted||s.loadVectorData(S,this.map.painter,d==="RT")}))}abortTile(s){return a._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.aborted=!0}))}unloadTile(s){return a._(this,void 0,void 0,(function*(){s.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Ie extends a.E{constructor(s,d,_,S){super(),this.flippedWindingOrder=!1,this.id=s,this.dispatcher=_,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=d}load(s){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const d=yield j.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,s&&(this.coordinates=s),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new a.k(d))}}))}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=s.url,this.load(s.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(s){this.coordinates=s;const d=s.map(a.a0.fromLngLat);var _;return this.tileID=(function(S){const L=a.a1.fromPoints(S),B=L.width(),K=L.height(),tt=Math.max(B,K),ct=Math.max(0,Math.floor(-Math.log(tt)/Math.LN2)),_t=Math.pow(2,ct);return new a.a3(ct,Math.floor((L.minX+L.maxX)/2*_t),Math.floor((L.minY+L.maxY)/2*_t))})(d),this.terrainTileRanges=this._getOverlappingTileRanges(d),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=d.map((S=>this.tileID.getTilePoint(S)._round())),this.flippedWindingOrder=((_=this.tileCoords)[1].x-_[0].x)*(_[2].y-_[0].y)-(_[1].y-_[0].y)*(_[2].x-_[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const s=this.map.painter.context,d=s.gl;this.texture||(this.texture=new a.T(s,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let _=!1;for(const S in this.tiles){const L=this.tiles[S];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(s){return a._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={}):s.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(s){const{minX:d,minY:_,maxX:S,maxY:L}=a.a1.fromPoints(s),B={};for(let K=0;K<=a.a2;K++){const tt=Math.pow(2,K),ct=Math.floor(d*tt),_t=Math.floor(_*tt),Rt=Math.floor(S*tt),Tt=Math.floor(L*tt);B[K]={minTileX:ct,minTileY:_t,maxTileX:Rt,maxTileY:Tt}}return B}}class Mr extends Ie{constructor(s,d,_,S){super(s,d,_,S),this.roundZoom=!0,this.type="video",this.options=d}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1;const s=this.options;this.urls=[];for(const d of s.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{const d=yield a.a4(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new a.k(d))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const d=this.video.seekable;s<d.start(0)||s>d.end(0)?this.fire(new a.k(new a.a5(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const s=this.map.painter.context,d=s.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(s,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let _=!1;for(const S in this.tiles){const L=this.tiles[S];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ir extends Ie{constructor(s,d,_,S){super(s,d,_,S),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some((L=>!Array.isArray(L)||L.length!==2||L.some((B=>typeof B!="number"))))||this.fire(new a.k(new a.a5(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.a5(`sources.${s}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.k(new a.a5(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.a5(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.a5(`sources.${s}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context,_=d.gl;this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(d,this.canvas,_.RGBA,{premultiply:!0});let S=!1;for(const L in this.tiles){const B=this.tiles[L];B.state!=="loaded"&&(B.state="loaded",B.texture=this.texture,S=!0)}S&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const Rr={},Pr=N=>{switch(N){case"geojson":return Dr;case"image":return Ie;case"raster":return Vr;case"raster-dem":return vr;case"vector":return Jt;case"video":return Mr;case"canvas":return ir}return Rr[N]},Ir="RTLPluginLoaded";class dr extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=ie()}_syncState(s){return this.status=s,this.dispatcher.broadcast("SRPS",{pluginStatus:s,pluginURL:this.url}).catch((d=>{throw this.status="error",d}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(s){return a._(this,arguments,void 0,(function*(d,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=R.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return a._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(Ir))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ar=null;function Or(){return ar||(ar=new dr),ar}class er{constructor(s,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=a.a6(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){const d=s+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,d,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=(function(S,L){const B={};if(!L)return B;for(const K of S){const tt=K.layerIds.map((ct=>L.getLayer(ct))).filter(Boolean);if(tt.length!==0){K.layers=tt,K.stateDependentLayerIds&&(K.stateDependentLayers=K.stateDependentLayerIds.map((ct=>tt.filter((_t=>_t.id===ct))[0])));for(const ct of tt)B[ct.id]=K}}return B})(s.buckets,d?.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const L=this.buckets[S];if(L instanceof a.a8){if(this.hasSymbolBuckets=!0,!_)break;L.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const L=this.buckets[S];if(L instanceof a.a8&&L.hasRTLText){this.hasRTLText=!0,Or().lazyLoad();break}}this.queryPadding=0;for(const S in this.buckets){const L=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(S).queryRadius(L))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new a.a7}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const _ in this.buckets){const S=this.buckets[_];S.uploadPending()&&S.upload(s)}const d=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(s,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(s,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,d,_,S,L,B,K,tt,ct,_t,Rt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:S,cameraQueryGeometry:L,scale:B,tileSize:this.tileSize,pixelPosMatrix:_t,transform:tt,params:K,queryPadding:this.queryPadding*ct,getElevation:Rt},s,d,_):{}}querySourceFeatures(s,d){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const S=_.loadVTLayers(),L=d&&d.sourceLayer?d.sourceLayer:"",B=S._geojsonTileLayer||S[L];if(!B)return;const K=a.a9(d&&d.filter),{z:tt,x:ct,y:_t}=this.tileID.canonical,Rt={z:tt,x:ct,y:_t};for(let Tt=0;Tt<B.length;Tt++){const zt=B.feature(Tt);if(K.needGeometry){const pe=a.aa(zt,!0);if(!K.filter(new a.F(this.tileID.overscaledZ),pe,this.tileID.canonical))continue}else if(!K.filter(new a.F(this.tileID.overscaledZ),zt))continue;const Zt=_.getId(zt,L),fe=new a.ab(zt,tt,ct,_t,Zt);fe.tile=Rt,s.push(fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const d=this.expirationTime;if(s.cacheControl){const _=a.ac(s.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const _=Date.now();let S=!1;if(this.expirationTime>_)S=!1;else if(d)if(this.expirationTime<d)S=!0;else{const L=this.expirationTime-d;L?this.expirationTime=_+Math.max(L,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const S in this.buckets){if(!d.style.hasLayer(S))continue;const L=this.buckets[S],B=L.layers[0].sourceLayer||"_geojsonTileLayer",K=_[B],tt=s[B];if(!K||!tt||Object.keys(tt).length===0)continue;L.update(tt,K,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ct=d&&d.style&&d.style.getLayer(S);ct&&(this.queryPadding=Math.max(this.queryPadding,ct.queryRadius(L)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<R.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=R.now()+s}setDependencies(s,d){const _={};for(const S of d)_[S]=!0;this.dependencies[s]=_}hasDependency(s,d){for(const _ of s){const S=this.dependencies[_];if(S){for(const L of d)if(S[L])return!0}}return!1}}class Fr{constructor(s,d){this.max=s,this.onRemove=d,this.reset()}reset(){for(const s in this.data)for(const d of this.data[s])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(s,d,_){const S=s.wrapped().key;this.data[S]===void 0&&(this.data[S]=[]);const L={value:d,timeout:void 0};if(_!==void 0&&(L.timeout=setTimeout((()=>{this.remove(s,L)}),_)),this.data[S].push(L),this.order.push(S),this.order.length>this.max){const B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const d=this.data[s].shift();return d.timeout&&clearTimeout(d.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),d.value}getByKey(s){const d=this.data[s];return d?d[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,d){if(!this.has(s))return this;const _=s.wrapped().key,S=d===void 0?0:this.data[_].indexOf(d),L=this.data[_][S];return this.data[_].splice(S,1),L.timeout&&clearTimeout(L.timeout),this.data[_].length===0&&delete this.data[_],this.onRemove(L.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(s){const d=[];for(const _ in this.data)for(const S of this.data[_])s(S.value)||d.push(S);for(const _ of d)this.remove(_.value.tileID,_)}}class Ze{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,d,_){const S=String(d);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][S]=this.stateChanges[s][S]||{},a.e(this.stateChanges[s][S],_),this.deletedStates[s]===null){this.deletedStates[s]={};for(const L in this.state[s])L!==S&&(this.deletedStates[s][L]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][S]===null){this.deletedStates[s][S]={};for(const L in this.state[s][S])_[L]||(this.deletedStates[s][S][L]=null)}else for(const L in _)this.deletedStates[s]&&this.deletedStates[s][S]&&this.deletedStates[s][S][L]===null&&delete this.deletedStates[s][S][L]}removeFeatureState(s,d,_){if(this.deletedStates[s]===null)return;const S=String(d);if(this.deletedStates[s]=this.deletedStates[s]||{},_&&d!==void 0)this.deletedStates[s][S]!==null&&(this.deletedStates[s][S]=this.deletedStates[s][S]||{},this.deletedStates[s][S][_]=null);else if(d!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][S])for(_ in this.deletedStates[s][S]={},this.stateChanges[s][S])this.deletedStates[s][S][_]=null;else this.deletedStates[s][S]=null;else this.deletedStates[s]=null}getState(s,d){const _=String(d),S=a.e({},(this.state[s]||{})[_],(this.stateChanges[s]||{})[_]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){const L=this.deletedStates[s][d];if(L===null)return{};for(const B in L)delete S[B]}return S}initializeTileState(s,d){s.setFeatureState(this.state,d)}coalesceChanges(s,d){const _={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const L={};for(const B in this.stateChanges[S])this.state[S][B]||(this.state[S][B]={}),a.e(this.state[S][B],this.stateChanges[S][B]),L[B]=this.state[S][B];_[S]=L}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const L={};if(this.deletedStates[S]===null)for(const B in this.state[S])L[B]={},this.state[S][B]={};else for(const B in this.deletedStates[S]){if(this.deletedStates[S][B]===null)this.state[S][B]={};else for(const K of Object.keys(this.deletedStates[S][B]))delete this.state[S][B][K];L[B]=this.state[S][B]}_[S]=_[S]||{},a.e(_[S],L)}if(this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0)for(const S in s)s[S].setFeatureState(_,d)}}const rr=89.25;function Me(N,s){const d=a.ag(s.lat,-85.051129,a.ah);return new a.P(a.V(s.lng)*N,a.U(d)*N)}function jt(N,s){return new a.a0(s.x/N,s.y/N).toLngLat()}function Mt(N){return N.cameraToCenterDistance*Math.min(.85*Math.tan(a.ad(90-N.pitch)),Math.tan(a.ad(rr-N.pitch)))}function Bt(N,s){const d=N.canonical,_=s/a.ae(d.z),S=d.x+Math.pow(2,d.z)*N.wrap,L=a.af(new Float64Array(16));return a.M(L,L,[S*_,d.y*_,0]),a.N(L,L,[_/a.$,_/a.$,1]),L}function oe(N,s,d,_,S){const L=a.a0.fromLngLat(N,s),B=S*a.ai(1,N.lat),K=B*Math.cos(a.ad(d)),tt=Math.sqrt(B*B-K*K),ct=tt*Math.sin(a.ad(-_)),_t=tt*Math.cos(a.ad(-_));return new a.a0(L.x+ct,L.y+_t,L.z+K)}function ye(N,s,d){const _=s.intersectsFrustum(N);if(!d||_===0)return _;const S=s.intersectsPlane(d);return S===0?0:_===2&&S===2?2:1}function je(N,s,d){let _=0;const S=(d-s)/10;for(let L=0;L<10;L++)_+=S*Math.pow(Math.cos(s+(L+.5)/10*(d-s)),N);return _}function Ge(N,s){return function(d,_,S,L,B){const K=2*((N-1)/a.aj(Math.cos(a.ad(rr-B))/Math.cos(a.ad(rr)))-1),tt=Math.acos(S/L),ct=2*je(K-1,0,a.ad(B/2)),_t=Math.min(a.ad(rr),tt+a.ad(B/2)),Rt=je(K-1,Math.min(_t,tt-a.ad(B/2)),_t),Tt=Math.atan(_/S),zt=Math.hypot(_,S);let Zt=d;return Zt+=a.aj(L/zt/Math.max(.5,Math.cos(a.ad(B/2)))),Zt+=K*a.aj(Math.cos(Tt))/2,Zt-=a.aj(Math.max(1,Rt/ct/s))/2,Zt}}const Ue=Ge(9.314,3);function fr(N,s){const d=(s.roundZoom?Math.round:Math.floor)(N.zoom+a.aj(N.tileSize/s.tileSize));return Math.max(0,d)}function Ke(N,s){const d=N.getCameraFrustum(),_=N.getClippingPlane(),S=N.screenPointToMercatorCoordinate(N.getCameraPoint()),L=a.a0.fromLngLat(N.center,N.elevation);S.z=L.z+Math.cos(N.pitchInRadians)*N.cameraToCenterDistance/N.worldSize;const B=N.getCoveringTilesDetailsProvider(),K=B.allowVariableZoom(N,s),tt=fr(N,s),ct=s.minzoom||0,_t=s.maxzoom!==void 0?s.maxzoom:N.maxZoom,Rt=Math.min(Math.max(0,tt),_t),Tt=Math.pow(2,Rt),zt=[Tt*S.x,Tt*S.y,0],Zt=[Tt*L.x,Tt*L.y,0],fe=Math.hypot(L.x-S.x,L.y-S.y),pe=Math.abs(L.z-S.z),me=Math.hypot(fe,pe),xe=$e=>({zoom:0,x:0,y:0,wrap:$e,fullyVisible:!1}),Be=[],Le=[];if(N.renderWorldCopies&&B.allowWorldCopies())for(let $e=1;$e<=3;$e++)Be.push(xe(-$e)),Be.push(xe($e));for(Be.push(xe(0));Be.length>0;){const $e=Be.pop(),We=$e.x,Ne=$e.y;let tr=$e.fullyVisible;const Ar={x:We,y:Ne,z:$e.zoom},xr=B.getTileBoundingVolume(Ar,$e.wrap,N.elevation,s);if(!tr){const En=ye(d,xr,_);if(En===0)continue;tr=En===2}const Sr=B.distanceToTile2d(S.x,S.y,Ar,xr);let kr=tt;K&&(kr=(s.calculateTileZoom||Ue)(N.zoom+a.aj(N.tileSize/s.tileSize),Sr,pe,me,N.fov)),kr=(s.roundZoom?Math.round:Math.floor)(kr),kr=Math.max(0,kr);const Cn=Math.min(kr,_t);if($e.wrap=B.getWrap(L,Ar,$e.wrap),$e.zoom>=Cn){if($e.zoom<ct)continue;const En=Rt-$e.zoom,on=zt[0]-.5-(We<<En),Un=zt[1]-.5-(Ne<<En),Gi=s.reparseOverscaled?Math.max($e.zoom,kr):$e.zoom;Le.push({tileID:new a.Z($e.zoom===_t?Gi:$e.zoom,$e.wrap,$e.zoom,We,Ne),distanceSq:a.ak([Zt[0]-.5-We,Zt[1]-.5-Ne]),tileDistanceToCamera:Math.sqrt(on*on+Un*Un)})}else for(let En=0;En<4;En++)Be.push({zoom:$e.zoom+1,x:(We<<1)+En%2,y:(Ne<<1)+(En>>1),wrap:$e.wrap,fullyVisible:tr})}return Le.sort((($e,We)=>$e.distanceSq-We.distanceSq)).map(($e=>$e.tileID))}const Pe=a.a1.fromPoints([new a.P(0,0),new a.P(a.$,a.$)]);class cr extends a.E{constructor(s,d,_){super(),this.id=s,this.dispatcher=_,this.on("data",(S=>this._dataHandler(S))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((S,L,B,K)=>{const tt=new(Pr(L.type))(S,L,B,K);if(tt.id!==S)throw new Error(`Expected Source id to be ${S} instead of ${tt.id}`);return tt})(s,d,_,this),this._tiles={},this._cache=new Fr(0,(S=>this._unloadTile(S))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ze,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s in this._tiles){const d=this._tiles[s];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,d,_){return a._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(s),this._tileLoaded(s,d,_)}catch(S){s.state="errored",S.status!==404?this._source.fire(new a.k(S,{tile:s})):this.update(this.transform,this.terrain)}}))}_unloadTile(s){this._source.unloadTile&&this._source.unloadTile(s)}_abortTile(s){this._source.abortTile&&this._source.abortTile(s),this._source.fire(new a.l("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const _=this._tiles[d];_.upload(s),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((s=>s.tileID)).sort(Oe).map((s=>s.key))}getRenderableIds(s){const d=[];for(const _ in this._tiles)this._isIdRenderable(_,s)&&d.push(this._tiles[_]);return s?d.sort(((_,S)=>{const L=_.tileID,B=S.tileID,K=new a.P(L.canonical.x,L.canonical.y)._rotate(-this.transform.bearingInRadians),tt=new a.P(B.canonical.x,B.canonical.y)._rotate(-this.transform.bearingInRadians);return L.overscaledZ-B.overscaledZ||tt.y-K.y||tt.x-K.x})).map((_=>_.tileID.key)):d.map((_=>_.tileID)).sort(Oe).map((_=>_.key))}hasRenderableParent(s){const d=this.findLoadedParent(s,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(s,d){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(d||!this._tiles[s].holdingForFade())}reload(s){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const d in this._tiles)s?this._reloadTile(d,"expired"):this._tiles[d].state!=="errored"&&this._reloadTile(d,"reloading")}}_reloadTile(s,d){return a._(this,void 0,void 0,(function*(){const _=this._tiles[s];_&&(_.state!=="loading"&&(_.state=d),yield this._loadTile(_,s,d))}))}_tileLoaded(s,d,_){s.timeAdded=R.now(),_==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(d,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){const d=this.getRenderableIds();for(let S=0;S<d.length;S++){const L=d[S];if(s.neighboringTiles&&s.neighboringTiles[L]){const B=this.getTileByID(L);_(s,B),_(B,s)}}function _(S,L){S.needsHillshadePrepare=!0,S.needsTerrainPrepare=!0;let B=L.tileID.canonical.x-S.tileID.canonical.x;const K=L.tileID.canonical.y-S.tileID.canonical.y,tt=Math.pow(2,S.tileID.canonical.z),ct=L.tileID.key;B===0&&K===0||Math.abs(K)>1||(Math.abs(B)>1&&(Math.abs(B+tt)===1?B+=tt:Math.abs(B-tt)===1&&(B-=tt)),L.dem&&S.dem&&(S.dem.backfillBorder(L.dem,B,K),S.neighboringTiles&&S.neighboringTiles[ct]&&(S.neighboringTiles[ct].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,d,_,S){for(const L in this._tiles){let B=this._tiles[L];if(S[L]||!B.hasData()||B.tileID.overscaledZ<=d||B.tileID.overscaledZ>_)continue;let K=B.tileID;for(;B&&B.tileID.overscaledZ>d+1;){const ct=B.tileID.scaledTo(B.tileID.overscaledZ-1);B=this._tiles[ct.key],B&&B.hasData()&&(K=ct)}let tt=K;for(;tt.overscaledZ>d;)if(tt=tt.scaledTo(tt.overscaledZ-1),s[tt.key]||s[tt.canonical.key]){S[K.key]=K;break}}}findLoadedParent(s,d){if(s.key in this._loadedParentTiles){const _=this._loadedParentTiles[s.key];return _&&_.tileID.overscaledZ>=d?_:null}for(let _=s.overscaledZ-1;_>=d;_--){const S=s.scaledTo(_),L=this._getLoadedTile(S);if(L)return L}}findLoadedSibling(s){return this._getLoadedTile(s)}_getLoadedTile(s){const d=this._tiles[s.key];return d&&d.hasData()?d:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){const d=Math.ceil(s.width/this._source.tileSize)+1,_=Math.ceil(s.height/this._source.tileSize)+1,S=Math.floor(d*_*(this._maxTileCacheZoomLevels===null?a.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),L=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(L)}handleWrapJump(s){const d=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,d){const _={};for(const S in this._tiles){const L=this._tiles[S];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+d),_[L.tileID.key]=L}this._tiles=_;for(const S in this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(const S in this._tiles)this._setTileReloadTimer(S,this._tiles[S])}}_updateCoveredAndRetainedTiles(s,d,_,S,L,B){const K={},tt={},ct=Object.keys(s),_t=R.now();for(const Rt of ct){const Tt=s[Rt],zt=this._tiles[Rt];if(!zt||zt.fadeEndTime!==0&&zt.fadeEndTime<=_t)continue;const Zt=this.findLoadedParent(Tt,d),fe=this.findLoadedSibling(Tt),pe=Zt||fe||null;pe&&(this._addTile(pe.tileID),K[pe.tileID.key]=pe.tileID),tt[Rt]=Tt}this._retainLoadedChildren(tt,S,_,s);for(const Rt in K)s[Rt]||(this._coveredTiles[Rt]=!0,s[Rt]=K[Rt]);if(B){const Rt={},Tt={};for(const zt of L)this._tiles[zt.key].hasData()?Rt[zt.key]=zt:Tt[zt.key]=zt;for(const zt in Tt){const Zt=Tt[zt].children(this._source.maxzoom);this._tiles[Zt[0].key]&&this._tiles[Zt[1].key]&&this._tiles[Zt[2].key]&&this._tiles[Zt[3].key]&&(Rt[Zt[0].key]=s[Zt[0].key]=Zt[0],Rt[Zt[1].key]=s[Zt[1].key]=Zt[1],Rt[Zt[2].key]=s[Zt[2].key]=Zt[2],Rt[Zt[3].key]=s[Zt[3].key]=Zt[3],delete Tt[zt])}for(const zt in Tt){const Zt=Tt[zt],fe=this.findLoadedParent(Zt,this._source.minzoom),pe=this.findLoadedSibling(Zt),me=fe||pe||null;if(me){Rt[me.tileID.key]=s[me.tileID.key]=me.tileID;for(const xe in Rt)Rt[xe].isChildOf(me.tileID)&&delete Rt[xe]}}for(const zt in this._tiles)Rt[zt]||(this._coveredTiles[zt]=!0)}}update(s,d){if(!this._sourceLoaded||this._paused)return;let _;this.transform=s,this.terrain=d,this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=s.getVisibleUnwrappedCoordinates(this._source.tileID).map((_t=>new a.Z(_t.canonical.z,_t.wrap,_t.canonical.z,_t.canonical.x,_t.canonical.y))):(_=Ke(s,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(_=_.filter((_t=>this._source.hasTile(_t))))):_=[];const S=fr(s,this._source),L=Math.max(S-cr.maxOverzooming,this._source.minzoom),B=Math.max(S+cr.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const _t={};for(const Rt of _)if(Rt.canonical.z>this._source.minzoom){const Tt=Rt.scaledTo(Rt.canonical.z-1);_t[Tt.key]=Tt;const zt=Rt.scaledTo(Math.max(this._source.minzoom,Math.min(Rt.canonical.z,5)));_t[zt.key]=zt}_=_.concat(Object.values(_t))}const K=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,K&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const tt=this._updateRetainedTiles(_,S);Wr(this._source.type)&&this._updateCoveredAndRetainedTiles(tt,L,B,S,_,d);for(const _t in tt)this._tiles[_t].clearFadeHold();const ct=a.al(this._tiles,tt);for(const _t of ct){const Rt=this._tiles[_t];Rt.hasSymbolBuckets&&!Rt.holdingForFade()?Rt.setHoldDuration(this.map._fadeDuration):Rt.hasSymbolBuckets&&!Rt.symbolFadeFinished()||this._removeTile(_t)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,d){var _;const S={},L={},B=Math.max(d-cr.maxOverzooming,this._source.minzoom),K=Math.max(d+cr.maxUnderzooming,this._source.minzoom),tt={};for(const ct of s){const _t=this._addTile(ct);S[ct.key]=ct,_t.hasData()||d<this._source.maxzoom&&(tt[ct.key]=ct)}this._retainLoadedChildren(tt,d,K,S);for(const ct of s){let _t=this._tiles[ct.key];if(_t.hasData())continue;if(d+1>this._source.maxzoom){const Tt=ct.children(this._source.maxzoom)[0],zt=this.getTile(Tt);if(zt&&zt.hasData()){S[Tt.key]=Tt;continue}}else{const Tt=ct.children(this._source.maxzoom);if(S[Tt[0].key]&&S[Tt[1].key]&&S[Tt[2].key]&&S[Tt[3].key])continue}let Rt=_t.wasRequested();for(let Tt=ct.overscaledZ-1;Tt>=B;--Tt){const zt=ct.scaledTo(Tt);if(L[zt.key])break;if(L[zt.key]=!0,_t=this.getTile(zt),!_t&&Rt&&(_t=this._addTile(zt)),_t){const Zt=_t.hasData();if((Zt||!(!((_=this.map)===null||_===void 0)&&_.cancelPendingTileRequestsWhileZooming)||Rt)&&(S[zt.key]=zt),Rt=_t.wasRequested(),Zt)break}}}return S}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const d=[];let _,S=this._tiles[s].tileID;for(;S.overscaledZ>0;){if(S.key in this._loadedParentTiles){_=this._loadedParentTiles[S.key];break}d.push(S.key);const L=S.scaledTo(S.overscaledZ-1);if(_=this._getLoadedTile(L),_)break;S=L}for(const L of d)this._loadedParentTiles[L]=_}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const s in this._tiles){const d=this._tiles[s].tileID,_=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=_}}_addTile(s){let d=this._tiles[s.key];if(d)return d;d=this._cache.getAndRemove(s),d&&(this._setTileReloadTimer(s.key,d),d.tileID=s,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,d)));const _=d;return d||(d=new er(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(d,s.key,d.state)),d.uses++,this._tiles[s.key]=d,_||this._source.fire(new a.l("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(s,d){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const _=d.getExpiryTimeout();_&&(this._timers[s]=setTimeout((()=>{this._reloadTile(s,"expired"),delete this._timers[s]}),_))}refreshTiles(s){for(const d in this._tiles)(this._isIdRenderable(d)||this._tiles[d].state=="errored")&&s.some((_=>_.equals(this._tiles[d].tileID.canonical)))&&this._reloadTile(d,"expired")}_removeTile(s){const d=this._tiles[s];d&&(d.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(s){const d=s.sourceDataType;s.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&s.dataType==="source"&&d==="content"&&(this.reload(s.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,d,_){const S=[],L=this.transform;if(!L)return S;const B=L.getCoveringTilesDetailsProvider().allowWorldCopies(),K=_?L.getCameraQueryGeometry(s):s,tt=zt=>L.screenPointToMercatorCoordinate(zt,this.terrain),ct=this.transformBbox(s,tt,!B),_t=this.transformBbox(K,tt,!B),Rt=this.getIds(),Tt=a.a1.fromPoints(_t);for(let zt=0;zt<Rt.length;zt++){const Zt=this._tiles[Rt[zt]];if(Zt.holdingForFade())continue;const fe=B?[Zt.tileID]:[Zt.tileID.unwrapTo(-1),Zt.tileID.unwrapTo(0)],pe=Math.pow(2,L.zoom-Zt.tileID.overscaledZ),me=d*Zt.queryPadding*a.$/Zt.tileSize/pe;for(const xe of fe){const Be=Tt.map((Le=>xe.getTilePoint(new a.a0(Le.x,Le.y))));if(Be.expandBy(me),Be.intersects(Pe)){const Le=ct.map((We=>xe.getTilePoint(We))),$e=_t.map((We=>xe.getTilePoint(We)));S.push({tile:Zt,tileID:B?xe:xe.unwrapTo(0),queryGeometry:Le,cameraQueryGeometry:$e,scale:pe})}}}return S}transformBbox(s,d,_){let S=s.map(d);if(_){const L=a.a1.fromPoints(s);L.shrinkBy(.001*Math.min(L.width(),L.height()));const B=L.map(d);a.a1.fromPoints(S).covers(B)||(S=S.map((K=>K.x>.5?new a.a0(K.x-1,K.y,K.z):K)))}return S}getVisibleCoordinates(s){const d=this.getRenderableIds(s).map((_=>this._tiles[_].tileID));return this.transform&&this.transform.populateCache(d),d}hasTransition(){if(this._source.hasTransition())return!0;if(Wr(this._source.type)){const s=R.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=s)return!0}return!1}setFeatureState(s,d,_){this._state.updateState(s=s||"_geojsonTileLayer",d,_)}removeFeatureState(s,d,_){this._state.removeFeatureState(s=s||"_geojsonTileLayer",d,_)}getFeatureState(s,d){return this._state.getState(s=s||"_geojsonTileLayer",d)}setDependencies(s,d,_){const S=this._tiles[s];S&&S.setDependencies(d,_)}reloadTilesForDependencies(s,d){for(const _ in this._tiles)this._tiles[_].hasDependency(s,d)&&this._reloadTile(_,"reloading");this._cache.filter((_=>!_.hasDependency(s,d)))}}function Oe(N,s){const d=Math.abs(2*N.wrap)-+(N.wrap<0),_=Math.abs(2*s.wrap)-+(s.wrap<0);return N.overscaledZ-s.overscaledZ||_-d||s.canonical.y-N.canonical.y||s.canonical.x-N.canonical.x}function Wr(N){return N==="raster"||N==="image"||N==="video"}cr.maxOverzooming=10,cr.maxUnderzooming=3;class or{constructor(s,d){this.reset(s,d)}reset(s,d){this.points=s||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=a.ag(s,0,1);let d=1,_=this._distances[d];const S=s*this.paddedLength+this.padding;for(;_<S&&d<this._distances.length;)_=this._distances[++d];const L=d-1,B=this._distances[L],K=_-B,tt=K>0?(S-B)/K:0;return this.points[L].mult(1-tt).add(this.points[d].mult(tt))}}function vn(N,s){let d=!0;return N==="always"||N!=="never"&&s!=="never"||(d=!1),d}class Kr{constructor(s,d,_){const S=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(s/_),this.yCellCount=Math.ceil(d/_);for(let B=0;B<this.xCellCount*this.yCellCount;B++)S.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=d,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,d,_,S,L){this._forEachCell(d,_,S,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(d),this.bboxes.push(_),this.bboxes.push(S),this.bboxes.push(L)}insertCircle(s,d,_,S){this._forEachCell(d-S,_-S,d+S,_+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(d),this.circles.push(_),this.circles.push(S)}_insertBoxCell(s,d,_,S,L,B){this.boxCells[L].push(B)}_insertCircleCell(s,d,_,S,L,B){this.circleCells[L].push(B)}_query(s,d,_,S,L,B,K){if(_<0||s>this.width||S<0||d>this.height)return[];const tt=[];if(s<=0&&d<=0&&this.width<=_&&this.height<=S){if(L)return[{key:null,x1:s,y1:d,x2:_,y2:S}];for(let ct=0;ct<this.boxKeys.length;ct++)tt.push({key:this.boxKeys[ct],x1:this.bboxes[4*ct],y1:this.bboxes[4*ct+1],x2:this.bboxes[4*ct+2],y2:this.bboxes[4*ct+3]});for(let ct=0;ct<this.circleKeys.length;ct++){const _t=this.circles[3*ct],Rt=this.circles[3*ct+1],Tt=this.circles[3*ct+2];tt.push({key:this.circleKeys[ct],x1:_t-Tt,y1:Rt-Tt,x2:_t+Tt,y2:Rt+Tt})}}else this._forEachCell(s,d,_,S,this._queryCell,tt,{hitTest:L,overlapMode:B,seenUids:{box:{},circle:{}}},K);return tt}query(s,d,_,S){return this._query(s,d,_,S,!1,null)}hitTest(s,d,_,S,L,B){return this._query(s,d,_,S,!0,L,B).length>0}hitTestCircle(s,d,_,S,L){const B=s-_,K=s+_,tt=d-_,ct=d+_;if(K<0||B>this.width||ct<0||tt>this.height)return!1;const _t=[];return this._forEachCell(B,tt,K,ct,this._queryCellCircle,_t,{hitTest:!0,overlapMode:S,circle:{x:s,y:d,radius:_},seenUids:{box:{},circle:{}}},L),_t.length>0}_queryCell(s,d,_,S,L,B,K,tt){const{seenUids:ct,hitTest:_t,overlapMode:Rt}=K,Tt=this.boxCells[L];if(Tt!==null){const Zt=this.bboxes;for(const fe of Tt)if(!ct.box[fe]){ct.box[fe]=!0;const pe=4*fe,me=this.boxKeys[fe];if(s<=Zt[pe+2]&&d<=Zt[pe+3]&&_>=Zt[pe+0]&&S>=Zt[pe+1]&&(!tt||tt(me))&&(!_t||!vn(Rt,me.overlapMode))&&(B.push({key:me,x1:Zt[pe],y1:Zt[pe+1],x2:Zt[pe+2],y2:Zt[pe+3]}),_t))return!0}}const zt=this.circleCells[L];if(zt!==null){const Zt=this.circles;for(const fe of zt)if(!ct.circle[fe]){ct.circle[fe]=!0;const pe=3*fe,me=this.circleKeys[fe];if(this._circleAndRectCollide(Zt[pe],Zt[pe+1],Zt[pe+2],s,d,_,S)&&(!tt||tt(me))&&(!_t||!vn(Rt,me.overlapMode))){const xe=Zt[pe],Be=Zt[pe+1],Le=Zt[pe+2];if(B.push({key:me,x1:xe-Le,y1:Be-Le,x2:xe+Le,y2:Be+Le}),_t)return!0}}}return!1}_queryCellCircle(s,d,_,S,L,B,K,tt){const{circle:ct,seenUids:_t,overlapMode:Rt}=K,Tt=this.boxCells[L];if(Tt!==null){const Zt=this.bboxes;for(const fe of Tt)if(!_t.box[fe]){_t.box[fe]=!0;const pe=4*fe,me=this.boxKeys[fe];if(this._circleAndRectCollide(ct.x,ct.y,ct.radius,Zt[pe+0],Zt[pe+1],Zt[pe+2],Zt[pe+3])&&(!tt||tt(me))&&!vn(Rt,me.overlapMode))return B.push(!0),!0}}const zt=this.circleCells[L];if(zt!==null){const Zt=this.circles;for(const fe of zt)if(!_t.circle[fe]){_t.circle[fe]=!0;const pe=3*fe,me=this.circleKeys[fe];if(this._circlesCollide(Zt[pe],Zt[pe+1],Zt[pe+2],ct.x,ct.y,ct.radius)&&(!tt||tt(me))&&!vn(Rt,me.overlapMode))return B.push(!0),!0}}}_forEachCell(s,d,_,S,L,B,K,tt){const ct=this._convertToXCellCoord(s),_t=this._convertToYCellCoord(d),Rt=this._convertToXCellCoord(_),Tt=this._convertToYCellCoord(S);for(let zt=ct;zt<=Rt;zt++)for(let Zt=_t;Zt<=Tt;Zt++)if(L.call(this,s,d,_,S,this.xCellCount*Zt+zt,B,K,tt))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,d,_,S,L,B){const K=S-s,tt=L-d,ct=_+B;return ct*ct>K*K+tt*tt}_circleAndRectCollide(s,d,_,S,L,B,K){const tt=(B-S)/2,ct=Math.abs(s-(S+tt));if(ct>tt+_)return!1;const _t=(K-L)/2,Rt=Math.abs(d-(L+_t));if(Rt>_t+_)return!1;if(ct<=tt||Rt<=_t)return!0;const Tt=ct-tt,zt=Rt-_t;return Tt*Tt+zt*zt<=_*_}}function Kn(N,s,d){const _=a.L();if(!N){const{vecSouth:Rt,vecEast:Tt}=Xt(s),zt=v();zt[0]=Tt[0],zt[1]=Tt[1],zt[2]=Rt[0],zt[3]=Rt[1],S=zt,(_t=(B=(L=zt)[0])*(ct=L[3])-(tt=L[2])*(K=L[1]))&&(S[0]=ct*(_t=1/_t),S[1]=-K*_t,S[2]=-tt*_t,S[3]=B*_t),_[0]=zt[0],_[1]=zt[1],_[4]=zt[2],_[5]=zt[3]}var S,L,B,K,tt,ct,_t;return a.N(_,_,[1/d,1/d,1]),_}function Pt(N,s,d,_){if(N){const S=a.L();if(!s){const{vecSouth:L,vecEast:B}=Xt(d);S[0]=B[0],S[1]=B[1],S[4]=L[0],S[5]=L[1]}return a.N(S,S,[_,_,1]),S}return d.pixelsToClipSpaceMatrix}function Xt(N){const s=Math.cos(N.rollInRadians),d=Math.sin(N.rollInRadians),_=Math.cos(N.pitchInRadians),S=Math.cos(N.bearingInRadians),L=Math.sin(N.bearingInRadians),B=a.aq();B[0]=-S*_*d-L*s,B[1]=-L*_*d+S*s;const K=a.ar(B);K<1e-9?a.as(B):a.at(B,B,1/K);const tt=a.aq();tt[0]=S*_*s-L*d,tt[1]=L*_*s+S*d;const ct=a.ar(tt);return ct<1e-9?a.as(tt):a.at(tt,tt,1/ct),{vecEast:tt,vecSouth:B}}function be(N,s,d,_){let S;_?(S=[N,s,_(N,s),1],a.av(S,S,d)):(S=[N,s,0,1],rl(S,S,d));const L=S[3];return{point:new a.P(S[0]/L,S[1]/L),signedDistanceFromCamera:L,isOccluded:!1}}function ze(N,s){return .5+N/s*.5}function Lr(N,s){return N.x>=-s[0]&&N.x<=s[0]&&N.y>=-s[1]&&N.y<=s[1]}function yn(N,s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt){const zt=d?N.textSizeData:N.iconSizeData,Zt=a.am(zt,s.transform.zoom),fe=[256/s.width*2+1,256/s.height*2+1],pe=d?N.text.dynamicLayoutVertexArray:N.icon.dynamicLayoutVertexArray;pe.clear();const me=N.lineVertexArray,xe=d?N.text.placedSymbolArray:N.icon.placedSymbolArray,Be=s.transform.width/s.transform.height;let Le=!1;for(let $e=0;$e<xe.length;$e++){const We=xe.get($e);if(We.hidden||We.writingMode===a.an.vertical&&!Le){io(We.numGlyphs,pe);continue}Le=!1;const Ne=new a.P(We.anchorX,We.anchorY),tr={getElevation:Tt,pitchedLabelPlaneMatrix:_,lineVertexArray:me,pitchWithMap:L,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:s.transform,tileAnchorPoint:Ne,unwrappedTileID:tt,width:ct,height:_t,translation:Rt},Ar=Xn(We.anchorX,We.anchorY,tr);if(!Lr(Ar.point,fe)){io(We.numGlyphs,pe);continue}const xr=ze(s.transform.cameraToCenterDistance,Ar.signedDistanceFromCamera),Sr=a.ao(zt,Zt,We),kr=L?Sr*s.transform.getPitchedTextCorrection(We.anchorX,We.anchorY,tt)/xr:Sr*xr,Cn=On({projectionContext:tr,pitchedLabelPlaneMatrixInverse:S,symbol:We,fontSize:kr,flip:!1,keepUpright:B,glyphOffsetArray:N.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Be,rotateToLine:K});Le=Cn.useVertical,(Cn.notEnoughRoom||Le||Cn.needsFlipping&&On({projectionContext:tr,pitchedLabelPlaneMatrixInverse:S,symbol:We,fontSize:kr,flip:!0,keepUpright:B,glyphOffsetArray:N.glyphOffsetArray,dynamicLayoutVertexArray:pe,aspectRatio:Be,rotateToLine:K}).notEnoughRoom)&&io(We.numGlyphs,pe)}d?N.text.dynamicLayoutVertexBuffer.updateData(pe):N.icon.dynamicLayoutVertexBuffer.updateData(pe)}function $r(N,s,d,_,S,L,B,K){const tt=L.glyphStartIndex+L.numGlyphs,ct=L.lineStartIndex,_t=L.lineStartIndex+L.lineLength,Rt=s.getoffsetX(L.glyphStartIndex),Tt=s.getoffsetX(tt-1),zt=Na(N*Rt,d,_,S,L.segment,ct,_t,K,B);if(!zt)return null;const Zt=Na(N*Tt,d,_,S,L.segment,ct,_t,K,B);return Zt?K.projectionCache.anyProjectionOccluded?null:{first:zt,last:Zt}:null}function fi(N,s,d,_){return N===a.an.horizontal&&Math.abs(d.y-s.y)>Math.abs(d.x-s.x)*_?{useVertical:!0}:(N===a.an.vertical?s.y<d.y:s.x>d.x)?{needsFlipping:!0}:null}function On(N){const{projectionContext:s,pitchedLabelPlaneMatrixInverse:d,symbol:_,fontSize:S,flip:L,keepUpright:B,glyphOffsetArray:K,dynamicLayoutVertexArray:tt,aspectRatio:ct,rotateToLine:_t}=N,Rt=S/24,Tt=_.lineOffsetX*Rt,zt=_.lineOffsetY*Rt;let Zt;if(_.numGlyphs>1){const fe=_.glyphStartIndex+_.numGlyphs,pe=_.lineStartIndex,me=_.lineStartIndex+_.lineLength,xe=$r(Rt,K,Tt,zt,L,_,_t,s);if(!xe)return{notEnoughRoom:!0};const Be=Rn(xe.first.point.x,xe.first.point.y,s,d),Le=Rn(xe.last.point.x,xe.last.point.y,s,d);if(B&&!L){const $e=fi(_.writingMode,Be,Le,ct);if($e)return $e}Zt=[xe.first];for(let $e=_.glyphStartIndex+1;$e<fe-1;$e++){const We=Na(Rt*K.getoffsetX($e),Tt,zt,L,_.segment,pe,me,s,_t);if(!We)return{notEnoughRoom:!0};Zt.push(We)}Zt.push(xe.last)}else{if(B&&!L){const pe=en(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,me=_.lineStartIndex+_.segment+1,xe=new a.P(s.lineVertexArray.getx(me),s.lineVertexArray.gety(me)),Be=en(xe.x,xe.y,s),Le=Be.signedDistanceFromCamera>0?Be.point:li(s.tileAnchorPoint,xe,pe,1,s),$e=Rn(pe.x,pe.y,s,d),We=Rn(Le.x,Le.y,s,d),Ne=fi(_.writingMode,$e,We,ct);if(Ne)return Ne}const fe=Na(Rt*K.getoffsetX(_.glyphStartIndex),Tt,zt,L,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,s,_t);if(!fe||s.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Zt=[fe]}for(const fe of Zt)a.au(tt,fe.point,fe.angle);return{}}function li(N,s,d,_,S){const L=N.add(N.sub(s)._unit()),B=en(L.x,L.y,S).point,K=d.sub(B);return d.add(K._mult(_/K.mag()))}function Ki(N,s,d){const _=s.projectionCache;if(_.projections[N])return _.projections[N];const S=new a.P(s.lineVertexArray.getx(N),s.lineVertexArray.gety(N)),L=en(S.x,S.y,s);if(L.signedDistanceFromCamera>0)return _.projections[N]=L.point,_.anyProjectionOccluded=_.anyProjectionOccluded||L.isOccluded,L.point;const B=N-d.direction;return li(d.distanceFromAnchor===0?s.tileAnchorPoint:new a.P(s.lineVertexArray.getx(B),s.lineVertexArray.gety(B)),S,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,s)}function en(N,s,d){const _=N+d.translation[0],S=s+d.translation[1];let L;return d.pitchWithMap?(L=be(_,S,d.pitchedLabelPlaneMatrix,d.getElevation),L.isOccluded=!1):(L=d.transform.projectTileCoordinates(_,S,d.unwrappedTileID,d.getElevation),L.point.x=(.5*L.point.x+.5)*d.width,L.point.y=(.5*-L.point.y+.5)*d.height),L}function Rn(N,s,d,_){if(d.pitchWithMap){const S=[N,s,0,1];return a.av(S,S,_),d.transform.projectTileCoordinates(S[0]/S[3],S[1]/S[3],d.unwrappedTileID,d.getElevation).point}return{x:N/d.width*2-1,y:s/d.height*2-1}}function Xn(N,s,d){return d.transform.projectTileCoordinates(N,s,d.unwrappedTileID,d.getElevation)}function Ra(N,s,d){return N._unit()._perp()._mult(s*d)}function _o(N,s,d,_,S,L,B,K,tt){if(K.projectionCache.offsets[N])return K.projectionCache.offsets[N];const ct=d.add(s);if(N+tt.direction<_||N+tt.direction>=S)return K.projectionCache.offsets[N]=ct,ct;const _t=Ki(N+tt.direction,K,tt),Rt=Ra(_t.sub(d),B,tt.direction),Tt=d.add(Rt),zt=_t.add(Rt);return K.projectionCache.offsets[N]=a.aw(L,ct,Tt,zt)||ct,K.projectionCache.offsets[N]}function Na(N,s,d,_,S,L,B,K,tt){const ct=_?N-s:N+s;let _t=ct>0?1:-1,Rt=0;_&&(_t*=-1,Rt=Math.PI),_t<0&&(Rt+=Math.PI);let Tt,zt=_t>0?L+S:L+S+1;K.projectionCache.cachedAnchorPoint?Tt=K.projectionCache.cachedAnchorPoint:(Tt=en(K.tileAnchorPoint.x,K.tileAnchorPoint.y,K).point,K.projectionCache.cachedAnchorPoint=Tt);let Zt,fe,pe=Tt,me=Tt,xe=0,Be=0;const Le=Math.abs(ct),$e=[];let We;for(;xe+Be<=Le;){if(zt+=_t,zt<L||zt>=B)return null;xe+=Be,me=pe,fe=Zt;const Ar={absOffsetX:Le,direction:_t,distanceFromAnchor:xe,previousVertex:me};if(pe=Ki(zt,K,Ar),d===0)$e.push(me),We=pe.sub(me);else{let xr;const Sr=pe.sub(me);xr=Sr.mag()===0?Ra(Ki(zt+_t,K,Ar).sub(pe),d,_t):Ra(Sr,d,_t),fe||(fe=me.add(xr)),Zt=_o(zt,xr,pe,L,B,fe,d,K,Ar),$e.push(fe),We=Zt.sub(fe)}Be=We.mag()}const Ne=We._mult((Le-xe)/Be)._add(fe||me),tr=Rt+Math.atan2(pe.y-me.y,pe.x-me.x);return $e.push(Ne),{point:Ne,angle:tt?tr:0,path:$e}}const Mn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function io(N,s){for(let d=0;d<N;d++){const _=s.length;s.resize(_+4),s.float32.set(Mn,3*_)}}function rl(N,s,d){const _=s[0],S=s[1];return N[0]=d[0]*_+d[4]*S+d[12],N[1]=d[1]*_+d[5]*S+d[13],N[3]=d[3]*_+d[7]*S+d[15],N}const ra=100;class sa{constructor(s,d=new Kr(s.width+200,s.height+200,25),_=new Kr(s.width+200,s.height+200,25)){this.transform=s,this.grid=d,this.ignoredGrid=_,this.pitchFactor=Math.cos(s.pitch*Math.PI/180)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+ra,this.screenBottomBoundary=s.height+ra,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt){const zt=this.projectAndGetPerspectiveRatio(s.anchorPointX+tt[0],s.anchorPointY+tt[1],L,_t,Tt),Zt=_*zt.perspectiveRatio;let fe;if(B||K)fe=this._projectCollisionBox(s,Zt,S,L,B,K,tt,zt,_t,Rt,Tt);else{const We=zt.x+(Rt?Rt.x*Zt:0),Ne=zt.y+(Rt?Rt.y*Zt:0);fe={allPointsOccluded:!1,box:[We+s.x1*Zt,Ne+s.y1*Zt,We+s.x2*Zt,Ne+s.y2*Zt]}}const[pe,me,xe,Be]=fe.box,Le=B?fe.allPointsOccluded:zt.isOccluded;let $e=Le;return $e||($e=zt.perspectiveRatio<this.perspectiveRatioCutoff),$e||($e=!this.isInsideGrid(pe,me,xe,Be)),$e||d!=="always"&&this.grid.hitTest(pe,me,xe,Be,d,ct)?{box:[pe,me,xe,Be],placeable:!1,offscreen:!1,occluded:Le}:{box:[pe,me,xe,Be],placeable:!0,offscreen:this.isOffscreen(pe,me,xe,Be),occluded:Le}}placeCollisionCircles(s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt,zt,Zt){const fe=[],pe=new a.P(d.anchorX,d.anchorY),me=this.getPerspectiveRatio(pe.x,pe.y,B,Zt),xe=(ct?L*this.transform.getPitchedTextCorrection(d.anchorX,d.anchorY,B)/me:L*me)/a.aA,Be={getElevation:Zt,pitchedLabelPlaneMatrix:K,lineVertexArray:_,pitchWithMap:ct,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:pe,unwrappedTileID:B,width:this.transform.width,height:this.transform.height,translation:zt},Le=$r(xe,S,d.lineOffsetX*xe,d.lineOffsetY*xe,!1,d,!1,Be);let $e=!1,We=!1,Ne=!0;if(Le){const tr=.5*Rt*me+Tt,Ar=new a.P(-100,-100),xr=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Sr=new or,kr=Le.first,Cn=Le.last;let En=[];for(let Gi=kr.path.length-1;Gi>=1;Gi--)En.push(kr.path[Gi]);for(let Gi=1;Gi<Cn.path.length;Gi++)En.push(Cn.path[Gi]);const on=2.5*tr;if(ct){const Gi=this.projectPathToScreenSpace(En,Be);En=Gi.some((Sa=>Sa.signedDistanceFromCamera<=0))?[]:Gi.map((Sa=>Sa.point))}let Un=[];if(En.length>0){const Gi=En[0].clone(),Sa=En[0].clone();for(let Uo=1;Uo<En.length;Uo++)Gi.x=Math.min(Gi.x,En[Uo].x),Gi.y=Math.min(Gi.y,En[Uo].y),Sa.x=Math.max(Sa.x,En[Uo].x),Sa.y=Math.max(Sa.y,En[Uo].y);Un=Gi.x>=Ar.x&&Sa.x<=xr.x&&Gi.y>=Ar.y&&Sa.y<=xr.y?[En]:Sa.x<Ar.x||Gi.x>xr.x||Sa.y<Ar.y||Gi.y>xr.y?[]:a.ax([En],Ar.x,Ar.y,xr.x,xr.y)}for(const Gi of Un){Sr.reset(Gi,.25*tr);let Sa=0;Sa=Sr.length<=.5*tr?1:Math.ceil(Sr.paddedLength/on)+1;for(let Uo=0;Uo<Sa;Uo++){const Ya=Uo/Math.max(Sa-1,1),Ka=Sr.lerp(Ya),Da=Ka.x+ra,Pa=Ka.y+ra;fe.push(Da,Pa,tr,0);const lo=Da-tr,_l=Pa-tr,ua=Da+tr,Rl=Pa+tr;if(Ne=Ne&&this.isOffscreen(lo,_l,ua,Rl),We=We||this.isInsideGrid(lo,_l,ua,Rl),s!=="always"&&this.grid.hitTestCircle(Da,Pa,tr,s,_t)&&($e=!0,!tt))return{circles:[],offscreen:!1,collisionDetected:$e}}}}return{circles:!tt&&$e||!We||me<this.perspectiveRatioCutoff?[]:fe,offscreen:Ne,collisionDetected:$e}}projectPathToScreenSpace(s,d){const _=(function(S,L){const B=a.L();return a.ap(B,L.pitchedLabelPlaneMatrix),S.map((K=>{const tt=be(K.x,K.y,B,L.getElevation),ct=L.transform.projectTileCoordinates(tt.point.x,tt.point.y,L.unwrappedTileID,L.getElevation);return ct.point.x=(.5*ct.point.x+.5)*L.width,ct.point.y=(.5*-ct.point.y+.5)*L.height,ct}))})(s,d);return(function(S){let L=0,B=0,K=0,tt=0;for(let ct=0;ct<S.length;ct++)S[ct].isOccluded?(K=ct+1,tt=0):(tt++,tt>B&&(B=tt,L=K));return S.slice(L,L+B)})(_)}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[],_=new a.a1;for(const Rt of s){const Tt=new a.P(Rt.x+ra,Rt.y+ra);_.extend(Tt),d.push(Tt)}const{minX:S,minY:L,maxX:B,maxY:K}=_,tt=this.grid.query(S,L,B,K).concat(this.ignoredGrid.query(S,L,B,K)),ct={},_t={};for(const Rt of tt){const Tt=Rt.key;if(ct[Tt.bucketInstanceId]===void 0&&(ct[Tt.bucketInstanceId]={}),ct[Tt.bucketInstanceId][Tt.featureIndex])continue;const zt=[new a.P(Rt.x1,Rt.y1),new a.P(Rt.x2,Rt.y1),new a.P(Rt.x2,Rt.y2),new a.P(Rt.x1,Rt.y2)];a.ay(d,zt)&&(ct[Tt.bucketInstanceId][Tt.featureIndex]=!0,_t[Tt.bucketInstanceId]===void 0&&(_t[Tt.bucketInstanceId]=[]),_t[Tt.bucketInstanceId].push(Tt.featureIndex))}return _t}insertCollisionBox(s,d,_,S,L,B){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:S,featureIndex:L,collisionGroupID:B,overlapMode:d},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,d,_,S,L,B){const K=_?this.ignoredGrid:this.grid,tt={bucketInstanceId:S,featureIndex:L,collisionGroupID:B,overlapMode:d};for(let ct=0;ct<s.length;ct+=4)K.insertCircle(tt,s[ct],s[ct+1],s[ct+2])}projectAndGetPerspectiveRatio(s,d,_,S,L){if(L){let B;S?(B=[s,d,S(s,d),1],a.av(B,B,L)):(B=[s,d,0,1],rl(B,B,L));const K=B[3];return{x:(B[0]/K+1)/2*this.transform.width+ra,y:(-B[1]/K+1)/2*this.transform.height+ra,perspectiveRatio:.5+this.transform.cameraToCenterDistance/K*.5,isOccluded:!1,signedDistanceFromCamera:K}}{const B=this.transform.projectTileCoordinates(s,d,_,S);return{x:(B.point.x+1)/2*this.transform.width+ra,y:(1-B.point.y)/2*this.transform.height+ra,perspectiveRatio:.5+this.transform.cameraToCenterDistance/B.signedDistanceFromCamera*.5,isOccluded:B.isOccluded,signedDistanceFromCamera:B.signedDistanceFromCamera}}}getPerspectiveRatio(s,d,_,S){const L=this.transform.projectTileCoordinates(s,d,_,S);return .5+this.transform.cameraToCenterDistance/L.signedDistanceFromCamera*.5}isOffscreen(s,d,_,S){return _<ra||s>=this.screenRightBoundary||S<ra||d>this.screenBottomBoundary}isInsideGrid(s,d,_,S){return _>=0&&s<this.gridRightBoundary&&S>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const s=a.af([]);return a.M(s,s,[-100,-100,0]),s}_projectCollisionBox(s,d,_,S,L,B,K,tt,ct,_t,Rt){let Tt=1,zt=0,Zt=0,fe=1;const pe=s.anchorPointX+K[0],me=s.anchorPointY+K[1];if(B&&!L){const En=this.projectAndGetPerspectiveRatio(pe+1,me,S,ct,Rt),on=En.x-tt.x,Un=Math.atan((En.y-tt.y)/on)+(on<0?Math.PI:0),Gi=Math.sin(Un),Sa=Math.cos(Un);Tt=Sa,zt=Gi,Zt=-Gi,fe=Sa}else if(!B&&L){const En=Xt(this.transform);Tt=En.vecEast[0],zt=En.vecEast[1],Zt=En.vecSouth[0],fe=En.vecSouth[1]}let xe=tt.x,Be=tt.y,Le=d;L&&(xe=pe,Be=me,Le=Math.pow(2,-(this.transform.zoom-_.overscaledZ)),Le*=this.transform.getPitchedTextCorrection(pe,me,S),_t||(Le*=a.ag(.5+tt.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),_t&&(xe+=Tt*_t.x*Le+Zt*_t.y*Le,Be+=zt*_t.x*Le+fe*_t.y*Le);const $e=s.x1*Le,We=s.x2*Le,Ne=($e+We)/2,tr=s.y1*Le,Ar=s.y2*Le,xr=(tr+Ar)/2,Sr=[{offsetX:$e,offsetY:tr},{offsetX:Ne,offsetY:tr},{offsetX:We,offsetY:tr},{offsetX:We,offsetY:xr},{offsetX:We,offsetY:Ar},{offsetX:Ne,offsetY:Ar},{offsetX:$e,offsetY:Ar},{offsetX:$e,offsetY:xr}];let kr=[];for(const{offsetX:En,offsetY:on}of Sr)kr.push(new a.P(xe+Tt*En+Zt*on,Be+zt*En+fe*on));let Cn=!1;if(L){const En=kr.map((on=>this.projectAndGetPerspectiveRatio(on.x,on.y,S,ct,Rt)));Cn=En.some((on=>!on.isOccluded)),kr=En.map((on=>new a.P(on.x,on.y)))}else Cn=!0;return{box:a.az(kr),allPointsOccluded:!Cn}}}class cu{constructor(s,d,_,S){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?d:-d))):S&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Vi{constructor(s,d,_,S,L){this.text=new cu(s?s.text:null,d,_,L),this.icon=new cu(s?s.icon:null,d,S,L)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class nl{constructor(s,d,_){this.text=s,this.icon=d,this.skipFade=_}}class Xo{constructor(s,d,_,S,L){this.bucketInstanceId=s,this.featureIndex=d,this.sourceLayerIndex=_,this.bucketIndex=S,this.tileID=L}}class Mi{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const d=++this.maxGroupID;this.collisionGroups[s]={ID:d,predicate:_=>_.collisionGroupID===d}}return this.collisionGroups[s]}}function xs(N,s,d,_,S){const{horizontalAlign:L,verticalAlign:B}=a.aG(N);return new a.P(-(L-.5)*s+_[0]*S,-(B-.5)*d+_[1]*S)}class zl{constructor(s,d,_,S,L){this.transform=s.clone(),this.terrain=d,this.collisionIndex=new sa(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Mi(S),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(s){const d=this.terrain;return d?(_,S)=>d.getElevation(s,_,S):null}getBucketParts(s,d,_,S){const L=_.getBucket(d),B=_.latestFeatureIndex;if(!L||!B||d.id!==L.layerIds[0])return;const K=_.collisionBoxArray,tt=L.layers[0].layout,ct=L.layers[0].paint,_t=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),Rt=_.tileSize/a.$,Tt=_.tileID.toUnwrapped(),zt=tt.get("text-rotation-alignment")==="map",Zt=a.aB(_,1,this.transform.zoom),fe=a.aC(this.collisionIndex.transform,_,ct.get("text-translate"),ct.get("text-translate-anchor")),pe=a.aC(this.collisionIndex.transform,_,ct.get("icon-translate"),ct.get("icon-translate-anchor")),me=Kn(zt,this.transform,Zt);this.retainedQueryData[L.bucketInstanceId]=new Xo(L.bucketInstanceId,B,L.sourceLayerIndex,L.index,_.tileID);const xe={bucket:L,layout:tt,translationText:fe,translationIcon:pe,unwrappedTileID:Tt,pitchedLabelPlaneMatrix:me,scale:_t,textPixelRatio:Rt,holdingForFade:_.holdingForFade(),collisionBoxArray:K,partiallyEvaluatedTextSize:a.am(L.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID)};if(S)for(const Be of L.sortKeyRanges){const{sortKey:Le,symbolInstanceStart:$e,symbolInstanceEnd:We}=Be;s.push({sortKey:Le,symbolInstanceStart:$e,symbolInstanceEnd:We,parameters:xe})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:xe})}attemptAnchorPlacement(s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt,zt,Zt,fe,pe,me,xe,Be,Le){const $e=a.aD[s.textAnchor],We=[s.textOffset0,s.textOffset1],Ne=xs($e,_,S,We,L),tr=this.collisionIndex.placeCollisionBox(d,Tt,tt,ct,_t,K,B,pe,Rt.predicate,Be,Ne,Le);if((!xe||this.collisionIndex.placeCollisionBox(xe,Tt,tt,ct,_t,K,B,me,Rt.predicate,Be,Ne,Le).placeable)&&tr.placeable){let Ar;if(this.prevPlacement&&this.prevPlacement.variableOffsets[zt.crossTileID]&&this.prevPlacement.placements[zt.crossTileID]&&this.prevPlacement.placements[zt.crossTileID].text&&(Ar=this.prevPlacement.variableOffsets[zt.crossTileID].anchor),zt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[zt.crossTileID]={textOffset:We,width:_,height:S,anchor:$e,textBoxScale:L,prevAnchor:Ar},this.markUsedJustification(Zt,$e,zt,fe),Zt.allowVerticalPlacement&&(this.markUsedOrientation(Zt,fe,zt),this.placedOrientations[zt.crossTileID]=fe),{shift:Ne,placedGlyphBoxes:tr}}}placeLayerBucketPart(s,d,_){const{bucket:S,layout:L,translationText:B,translationIcon:K,unwrappedTileID:tt,pitchedLabelPlaneMatrix:ct,textPixelRatio:_t,holdingForFade:Rt,collisionBoxArray:Tt,partiallyEvaluatedTextSize:zt,collisionGroup:Zt}=s.parameters,fe=L.get("text-optional"),pe=L.get("icon-optional"),me=a.aE(L,"text-overlap","text-allow-overlap"),xe=me==="always",Be=a.aE(L,"icon-overlap","icon-allow-overlap"),Le=Be==="always",$e=L.get("text-rotation-alignment")==="map",We=L.get("text-pitch-alignment")==="map",Ne=L.get("icon-text-fit")!=="none",tr=L.get("symbol-z-order")==="viewport-y",Ar=xe&&(Le||!S.hasIconData()||pe),xr=Le&&(xe||!S.hasTextData()||fe);!S.collisionArrays&&Tt&&S.deserializeCollisionBoxes(Tt);const Sr=this.retainedQueryData[S.bucketInstanceId].tileID,kr=this._getTerrainElevationFunc(Sr),Cn=this.transform.getFastPathSimpleProjectionMatrix(Sr),En=(on,Un,Gi)=>{var Sa,Uo;if(d[on.crossTileID])return;if(Rt)return void(this.placements[on.crossTileID]=new nl(!1,!1,!1));let Ya=!1,Ka=!1,Da=!0,Pa=null,lo={box:null,placeable:!1,offscreen:null,occluded:!1},_l={placeable:!1},ua=null,Rl=null,sl=null,Ec=0,Rd=0,ed=0;Un.textFeatureIndex?Ec=Un.textFeatureIndex:on.useRuntimeCollisionCircles&&(Ec=on.featureIndex),Un.verticalTextFeatureIndex&&(Rd=Un.verticalTextFeatureIndex);const rd=Un.textBox;if(rd){const Tc=ll=>{let rs=a.an.horizontal;if(S.allowVerticalPlacement&&!ll&&this.prevPlacement){const uc=this.prevPlacement.placedOrientations[on.crossTileID];uc&&(this.placedOrientations[on.crossTileID]=uc,rs=uc,this.markUsedOrientation(S,rs,on))}return rs},_h=(ll,rs)=>{if(S.allowVerticalPlacement&&on.numVerticalGlyphVertices>0&&Un.verticalTextBox){for(const uc of S.writingModes)if(uc===a.an.vertical?(lo=rs(),_l=lo):lo=ll(),lo&&lo.placeable)break}else lo=ll()},nd=on.textAnchorOffsetStartIndex,uf=on.textAnchorOffsetEndIndex;if(uf===nd){const ll=(rs,uc)=>{const Jl=this.collisionIndex.placeCollisionBox(rs,me,_t,Sr,tt,We,$e,B,Zt.predicate,kr,void 0,Cn);return Jl&&Jl.placeable&&(this.markUsedOrientation(S,uc,on),this.placedOrientations[on.crossTileID]=uc),Jl};_h((()=>ll(rd,a.an.horizontal)),(()=>{const rs=Un.verticalTextBox;return S.allowVerticalPlacement&&on.numVerticalGlyphVertices>0&&rs?ll(rs,a.an.vertical):{box:null,offscreen:null}})),Tc(lo&&lo.placeable)}else{let ll=a.aD[(Uo=(Sa=this.prevPlacement)===null||Sa===void 0?void 0:Sa.variableOffsets[on.crossTileID])===null||Uo===void 0?void 0:Uo.anchor];const rs=(Jl,E0,Fy)=>{const zg=Jl.x2-Jl.x1,Bp=Jl.y2-Jl.y1,cf=on.textBoxScale,id=Ne&&Be==="never"?E0:null;let Nu=null,Nd=me==="never"?1:2,jy="never";ll&&Nd++;for(let Ld=0;Ld<Nd;Ld++){for(let Wf=nd;Wf<uf;Wf++){const $m=S.textAnchorOffsets.get(Wf);if(ll&&$m.textAnchor!==ll)continue;const hf=this.attemptAnchorPlacement($m,Jl,zg,Bp,cf,$e,We,_t,Sr,tt,Zt,jy,on,S,Fy,B,K,id,kr);if(hf&&(Nu=hf.placedGlyphBoxes,Nu&&Nu.placeable))return Ya=!0,Pa=hf.shift,Nu}ll?ll=null:jy=me}return _&&!Nu&&(Nu={box:this.collisionIndex.placeCollisionBox(rd,"always",_t,Sr,tt,We,$e,B,Zt.predicate,kr,void 0,Cn).box,offscreen:!1,placeable:!1,occluded:!1}),Nu};_h((()=>rs(rd,Un.iconBox,a.an.horizontal)),(()=>{const Jl=Un.verticalTextBox;return S.allowVerticalPlacement&&(!lo||!lo.placeable)&&on.numVerticalGlyphVertices>0&&Jl?rs(Jl,Un.verticalIconBox,a.an.vertical):{box:null,occluded:!0,offscreen:null}})),lo&&(Ya=lo.placeable,Da=lo.offscreen);const uc=Tc(lo&&lo.placeable);if(!Ya&&this.prevPlacement){const Jl=this.prevPlacement.variableOffsets[on.crossTileID];Jl&&(this.variableOffsets[on.crossTileID]=Jl,this.markUsedJustification(S,Jl.anchor,on,uc))}}}if(ua=lo,Ya=ua&&ua.placeable,Da=ua&&ua.offscreen,on.useRuntimeCollisionCircles){const Tc=S.text.placedSymbolArray.get(on.centerJustifiedTextSymbolIndex),_h=a.ao(S.textSizeData,zt,Tc),nd=L.get("text-padding");Rl=this.collisionIndex.placeCollisionCircles(me,Tc,S.lineVertexArray,S.glyphOffsetArray,_h,tt,ct,_,We,Zt.predicate,on.collisionCircleDiameter,nd,B,kr),Rl.circles.length&&Rl.collisionDetected&&!_&&a.w("Collisions detected, but collision boxes are not shown"),Ya=xe||Rl.circles.length>0&&!Rl.collisionDetected,Da=Da&&Rl.offscreen}if(Un.iconFeatureIndex&&(ed=Un.iconFeatureIndex),Un.iconBox){const Tc=_h=>this.collisionIndex.placeCollisionBox(_h,Be,_t,Sr,tt,We,$e,K,Zt.predicate,kr,Ne&&Pa?Pa:void 0,Cn);_l&&_l.placeable&&Un.verticalIconBox?(sl=Tc(Un.verticalIconBox),Ka=sl.placeable):(sl=Tc(Un.iconBox),Ka=sl.placeable),Da=Da&&sl.offscreen}const Op=fe||on.numHorizontalGlyphVertices===0&&on.numVerticalGlyphVertices===0,Dp=pe||on.numIconVertices===0;Op||Dp?Dp?Op||(Ka=Ka&&Ya):Ya=Ka&&Ya:Ka=Ya=Ka&&Ya;const Xf=Ka&&sl.placeable;if(Ya&&ua.placeable&&this.collisionIndex.insertCollisionBox(ua.box,me,L.get("text-ignore-placement"),S.bucketInstanceId,_l&&_l.placeable&&Rd?Rd:Ec,Zt.ID),Xf&&this.collisionIndex.insertCollisionBox(sl.box,Be,L.get("icon-ignore-placement"),S.bucketInstanceId,ed,Zt.ID),Rl&&Ya&&this.collisionIndex.insertCollisionCircles(Rl.circles,me,L.get("text-ignore-placement"),S.bucketInstanceId,Ec,Zt.ID),_&&this.storeCollisionData(S.bucketInstanceId,Gi,Un,ua,sl,Rl),on.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(S.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[on.crossTileID]=new nl((Ya||Ar)&&!ua?.occluded,(Ka||xr)&&!sl?.occluded,Da||S.justReloaded),d[on.crossTileID]=!0};if(tr){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const on=S.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Un=on.length-1;Un>=0;--Un){const Gi=on[Un];En(S.symbolInstances.get(Gi),S.collisionArrays[Gi],Gi)}}else for(let on=s.symbolInstanceStart;on<s.symbolInstanceEnd;on++)En(S.symbolInstances.get(on),S.collisionArrays[on],on);S.justReloaded=!1}storeCollisionData(s,d,_,S,L,B){if(_.textBox||_.iconBox){let K,tt;this.collisionBoxArrays.has(s)?K=this.collisionBoxArrays.get(s):(K=new Map,this.collisionBoxArrays.set(s,K)),K.has(d)?tt=K.get(d):(tt={text:null,icon:null},K.set(d,tt)),_.textBox&&(tt.text=S.box),_.iconBox&&(tt.icon=L.box)}if(B){let K=this.collisionCircleArrays[s];K===void 0&&(K=this.collisionCircleArrays[s]=[]);for(let tt=0;tt<B.circles.length;tt+=4)K.push(B.circles[tt+0]-ra),K.push(B.circles[tt+1]-ra),K.push(B.circles[tt+2]),K.push(B.collisionDetected?1:0)}}markUsedJustification(s,d,_,S){let L;L=S===a.an.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[a.aF(d)];const B=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const K of B)K>=0&&(s.text.placedSymbolArray.get(K).crossTileID=L>=0&&K!==L?0:_.crossTileID)}markUsedOrientation(s,d,_){const S=d===a.an.horizontal||d===a.an.horizontalOnly?d:0,L=d===a.an.vertical?d:0,B=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const K of B)s.text.placedSymbolArray.get(K).placedOrientation=S;_.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=L)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let _=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const S=d?d.symbolFadeChange(s):1,L=d?d.opacities:{},B=d?d.variableOffsets:{},K=d?d.placedOrientations:{};for(const tt in this.placements){const ct=this.placements[tt],_t=L[tt];_t?(this.opacities[tt]=new Vi(_t,S,ct.text,ct.icon),_=_||ct.text!==_t.text.placed||ct.icon!==_t.icon.placed):(this.opacities[tt]=new Vi(null,S,ct.text,ct.icon,ct.skipFade),_=_||ct.text||ct.icon)}for(const tt in L){const ct=L[tt];if(!this.opacities[tt]){const _t=new Vi(ct,S,!1,!1);_t.isHidden()||(this.opacities[tt]=_t,_=_||ct.text.placed||ct.icon.placed)}}for(const tt in B)this.variableOffsets[tt]||!this.opacities[tt]||this.opacities[tt].isHidden()||(this.variableOffsets[tt]=B[tt]);for(const tt in K)this.placedOrientations[tt]||!this.opacities[tt]||this.opacities[tt].isHidden()||(this.placedOrientations[tt]=K[tt]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:s)}updateLayerOpacities(s,d){const _={};for(const S of d){const L=S.getBucket(s);L&&S.latestFeatureIndex&&s.id===L.layerIds[0]&&this.updateBucketOpacities(L,S.tileID,_,S.collisionBoxArray)}}updateBucketOpacities(s,d,_,S){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const L=s.layers[0],B=L.layout,K=new Vi(null,0,!1,!1,!0),tt=B.get("text-allow-overlap"),ct=B.get("icon-allow-overlap"),_t=L._unevaluatedLayout.hasValue("text-variable-anchor")||L._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Rt=B.get("text-rotation-alignment")==="map",Tt=B.get("text-pitch-alignment")==="map",zt=B.get("icon-text-fit")!=="none",Zt=new Vi(null,0,tt&&(ct||!s.hasIconData()||B.get("icon-optional")),ct&&(tt||!s.hasTextData()||B.get("text-optional")),!0);!s.collisionArrays&&S&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(S);const fe=(me,xe,Be)=>{for(let Le=0;Le<xe/4;Le++)me.opacityVertexArray.emplaceBack(Be);me.hasVisibleVertices=me.hasVisibleVertices||Be!==Yo},pe=this.collisionBoxArrays.get(s.bucketInstanceId);for(let me=0;me<s.symbolInstances.length;me++){const xe=s.symbolInstances.get(me),{numHorizontalGlyphVertices:Be,numVerticalGlyphVertices:Le,crossTileID:$e}=xe;let We=this.opacities[$e];_[$e]?We=K:We||(We=Zt,this.opacities[$e]=We),_[$e]=!0;const Ne=xe.numIconVertices>0,tr=this.placedOrientations[xe.crossTileID],Ar=tr===a.an.vertical,xr=tr===a.an.horizontal||tr===a.an.horizontalOnly;if(Be>0||Le>0){const kr=Wo(We.text);fe(s.text,Be,Ar?Yo:kr),fe(s.text,Le,xr?Yo:kr);const Cn=We.text.isHidden();[xe.rightJustifiedTextSymbolIndex,xe.centerJustifiedTextSymbolIndex,xe.leftJustifiedTextSymbolIndex].forEach((Un=>{Un>=0&&(s.text.placedSymbolArray.get(Un).hidden=Cn||Ar?1:0)})),xe.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(xe.verticalPlacedTextSymbolIndex).hidden=Cn||xr?1:0);const En=this.variableOffsets[xe.crossTileID];En&&this.markUsedJustification(s,En.anchor,xe,tr);const on=this.placedOrientations[xe.crossTileID];on&&(this.markUsedJustification(s,"left",xe,on),this.markUsedOrientation(s,on,xe))}if(Ne){const kr=Wo(We.icon),Cn=!(zt&&xe.verticalPlacedIconSymbolIndex&&Ar);xe.placedIconSymbolIndex>=0&&(fe(s.icon,xe.numIconVertices,Cn?kr:Yo),s.icon.placedSymbolArray.get(xe.placedIconSymbolIndex).hidden=We.icon.isHidden()),xe.verticalPlacedIconSymbolIndex>=0&&(fe(s.icon,xe.numVerticalIconVertices,Cn?Yo:kr),s.icon.placedSymbolArray.get(xe.verticalPlacedIconSymbolIndex).hidden=We.icon.isHidden())}const Sr=pe&&pe.has(me)?pe.get(me):{text:null,icon:null};if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const kr=s.collisionArrays[me];if(kr){let Cn=new a.P(0,0);if(kr.textBox||kr.verticalTextBox){let En=!0;if(_t){const on=this.variableOffsets[$e];on?(Cn=xs(on.anchor,on.width,on.height,on.textOffset,on.textBoxScale),Rt&&Cn._rotate(Tt?-this.transform.bearingInRadians:this.transform.bearingInRadians)):En=!1}if(kr.textBox||kr.verticalTextBox){let on;kr.textBox&&(on=Ar),kr.verticalTextBox&&(on=xr),Ks(s.textCollisionBox.collisionVertexArray,We.text.placed,!En||on,Sr.text,Cn.x,Cn.y)}}if(kr.iconBox||kr.verticalIconBox){const En=!!(!xr&&kr.verticalIconBox);let on;kr.iconBox&&(on=En),kr.verticalIconBox&&(on=!En),Ks(s.iconCollisionBox.collisionVertexArray,We.icon.placed,on,Sr.icon,zt?Cn.x:0,zt?Cn.y:0)}}}}if(s.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);s.bucketInstanceId in this.collisionCircleArrays&&(s.collisionCircleArray=this.collisionCircleArrays[s.bucketInstanceId],delete this.collisionCircleArrays[s.bucketInstanceId])}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,d){const _=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*_>s}setStale(){this.stale=!0}}function Ks(N,s,d,_,S,L){_&&_.length!==0||(_=[0,0,0,0]);const B=_[0]-ra,K=_[1]-ra,tt=_[2]-ra,ct=_[3]-ra;N.emplaceBack(s?1:0,d?1:0,S||0,L||0,B,K),N.emplaceBack(s?1:0,d?1:0,S||0,L||0,tt,K),N.emplaceBack(s?1:0,d?1:0,S||0,L||0,tt,ct),N.emplaceBack(s?1:0,d?1:0,S||0,L||0,B,ct)}const Do=Math.pow(2,25),Fl=Math.pow(2,24),Ga=Math.pow(2,17),fl=Math.pow(2,16),Gc=Math.pow(2,9),pl=Math.pow(2,8),El=Math.pow(2,1);function Wo(N){if(N.opacity===0&&!N.placed)return 0;if(N.opacity===1&&N.placed)return 4294967295;const s=N.placed?1:0,d=Math.floor(127*N.opacity);return d*Do+s*Fl+d*Ga+s*fl+d*Gc+s*pl+d*El+s}const Yo=0;class Ko{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,d,_,S,L){const B=this._bucketParts;for(;this._currentTileIndex<s.length;)if(d.getBucketParts(B,S,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,B.sort(((K,tt)=>K.sortKey-tt.sortKey)));this._currentPartIndex<B.length;)if(d.placeLayerBucketPart(B[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,L())return!0;return!1}}class Zo{constructor(s,d,_,S,L,B,K,tt){this.placement=new zl(s,d,B,K,tt),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=S,this._showCollisionBoxes=L,this._done=!1}isDone(){return this._done}continuePlacement(s,d,_){const S=R.now(),L=()=>!this._forceFullPlacement&&R.now()-S>2;for(;this._currentPlacementIndex>=0;){const B=d[s[this._currentPlacementIndex]],K=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=K)&&(!B.maxzoom||B.maxzoom>K)){if(this._inProgressLayer||(this._inProgressLayer=new Ko(B)),this._inProgressLayer.continuePlacement(_[B.source],this.placement,this._showCollisionBoxes,B,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const ic=512/a.$/2;class yc{constructor(s,d,_){this.tileID=s,this.bucketInstanceId=_,this._symbolsByKey={};const S=new Map;for(let L=0;L<d.length;L++){const B=d.get(L),K=B.key,tt=S.get(K);tt?tt.push(B):S.set(K,[B])}for(const[L,B]of S){const K={positions:B.map((tt=>({x:Math.floor(tt.anchorX*ic),y:Math.floor(tt.anchorY*ic)}))),crossTileIDs:B.map((tt=>tt.crossTileID))};if(K.positions.length>128){const tt=new a.aH(K.positions.length,16,Uint16Array);for(const{x:ct,y:_t}of K.positions)tt.add(ct,_t);tt.finish(),delete K.positions,K.index=tt}this._symbolsByKey[L]=K}}getScaledCoordinates(s,d){const{x:_,y:S,z:L}=this.tileID.canonical,{x:B,y:K,z:tt}=d.canonical,ct=ic/Math.pow(2,tt-L),_t=(K*a.$+s.anchorY)*ct,Rt=S*a.$*ic;return{x:Math.floor((B*a.$+s.anchorX)*ct-_*a.$*ic),y:Math.floor(_t-Rt)}}findMatches(s,d,_){const S=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let L=0;L<s.length;L++){const B=s.get(L);if(B.crossTileID)continue;const K=this._symbolsByKey[B.key];if(!K)continue;const tt=this.getScaledCoordinates(B,d);if(K.index){const ct=K.index.range(tt.x-S,tt.y-S,tt.x+S,tt.y+S).sort();for(const _t of ct){const Rt=K.crossTileIDs[_t];if(!_[Rt]){_[Rt]=!0,B.crossTileID=Rt;break}}}else if(K.positions)for(let ct=0;ct<K.positions.length;ct++){const _t=K.positions[ct],Rt=K.crossTileIDs[ct];if(Math.abs(_t.x-tt.x)<=S&&Math.abs(_t.y-tt.y)<=S&&!_[Rt]){_[Rt]=!0,B.crossTileID=Rt;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:s})=>s))}}class Q{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class gt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const d=Math.round((s-this.lng)/360);if(d!==0)for(const _ in this.indexes){const S=this.indexes[_],L={};for(const B in S){const K=S[B];K.tileID=K.tileID.unwrapTo(K.tileID.wrap+d),L[K.tileID.key]=K}this.indexes[_]=L}this.lng=s}addBucket(s,d,_){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let L=0;L<d.symbolInstances.length;L++)d.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const S=this.usedCrossTileIDs[s.overscaledZ];for(const L in this.indexes){const B=this.indexes[L];if(Number(L)>s.overscaledZ)for(const K in B){const tt=B[K];tt.tileID.isChildOf(s)&&tt.findMatches(d.symbolInstances,s,S)}else{const K=B[s.scaledTo(Number(L)).key];K&&K.findMatches(d.symbolInstances,s,S)}}for(let L=0;L<d.symbolInstances.length;L++){const B=d.symbolInstances.get(L);B.crossTileID||(B.crossTileID=_.generate(),S[B.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new yc(s,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(s,d){for(const _ of d.getCrossTileIDsLists())for(const S of _)delete this.usedCrossTileIDs[s][S]}removeStaleBuckets(s){let d=!1;for(const _ in this.indexes){const S=this.indexes[_];for(const L in S)s[S[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,S[L]),delete S[L],d=!0)}return d}}class ee{constructor(){this.layerIndexes={},this.crossTileIDs=new Q,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,d,_){let S=this.layerIndexes[s.id];S===void 0&&(S=this.layerIndexes[s.id]=new gt);let L=!1;const B={};S.handleWrapJump(_);for(const K of d){const tt=K.getBucket(s);tt&&s.id===tt.layerIds[0]&&(tt.bucketInstanceId||(tt.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(K.tileID,tt,this.crossTileIDs)&&(L=!0),B[tt.bucketInstanceId]=!0)}return S.removeStaleBuckets(B)&&(L=!0),L}pruneUnusedLayers(s){const d={};s.forEach((_=>{d[_]=!0}));for(const _ in this.layerIndexes)d[_]||delete this.layerIndexes[_]}}var Re="void main() {fragColor=vec4(1.0);}";const qe={prelude:Fe(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Fe("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Fe("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Fe(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Fe(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Fe(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Fe(Re,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Fe(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Fe(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Fe("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Fe("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(textureSize(u_elevation_stops,0)[0]);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int num_elevation_stops=textureSize(u_elevation_stops,0)[0];int r=(num_elevation_stops-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(textureSize(u_color_stops,0)[0]);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Fe("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Fe(Re,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Fe(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Fe(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Fe(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Fe(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Fe(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Fe(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Fe(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Fe(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Fe(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Fe(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Fe(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Fe(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Fe(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Fe(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Fe("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Fe("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Fe("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Fe("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Fe(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Fe("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Fe(N,s){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=s.match(/in ([\w]+) ([\w]+)/g),S=N.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),B=L?L.concat(S):S,K={};return{fragmentSource:N=N.replace(d,((tt,ct,_t,Rt,Tt)=>(K[Tt]=!0,ct==="define"?`
#ifndef HAS_UNIFORM_u_${Tt}
in ${_t} ${Rt} ${Tt};
#else
uniform ${_t} ${Rt} u_${Tt};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Tt}
    ${_t} ${Rt} ${Tt} = u_${Tt};
#endif
`))),vertexSource:s=s.replace(d,((tt,ct,_t,Rt,Tt)=>{const zt=Rt==="float"?"vec2":"vec4",Zt=Tt.match(/color/)?"color":zt;return K[Tt]?ct==="define"?`
#ifndef HAS_UNIFORM_u_${Tt}
uniform lowp float u_${Tt}_t;
in ${_t} ${zt} a_${Tt};
out ${_t} ${Rt} ${Tt};
#else
uniform ${_t} ${Rt} u_${Tt};
#endif
`:Zt==="vec4"?`
#ifndef HAS_UNIFORM_u_${Tt}
    ${Tt} = a_${Tt};
#else
    ${_t} ${Rt} ${Tt} = u_${Tt};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Tt}
    ${Tt} = unpack_mix_${Zt}(a_${Tt}, u_${Tt}_t);
#else
    ${_t} ${Rt} ${Tt} = u_${Tt};
#endif
`:ct==="define"?`
#ifndef HAS_UNIFORM_u_${Tt}
uniform lowp float u_${Tt}_t;
in ${_t} ${zt} a_${Tt};
#else
uniform ${_t} ${Rt} u_${Tt};
#endif
`:Zt==="vec4"?`
#ifndef HAS_UNIFORM_u_${Tt}
    ${_t} ${Rt} ${Tt} = a_${Tt};
#else
    ${_t} ${Rt} ${Tt} = u_${Tt};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Tt}
    ${_t} ${Rt} ${Tt} = unpack_mix_${Zt}(a_${Tt}, u_${Tt}_t);
#else
    ${_t} ${Rt} ${Tt} = u_${Tt};
#endif
`})),staticAttributes:_,staticUniforms:B}}class nr{constructor(s,d,_){this.vertexBuffer=s,this.indexBuffer=d,this.segments=_}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var rn=a.aI([{name:"a_pos",type:"Int16",components:2}]);const pn="#define PROJECTION_MERCATOR",un="mercator";class Sn{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return un}get shaderDefine(){return pn}get shaderPreludeCode(){return qe.projectionMercator}get vertexShaderPreludeCode(){return qe.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aJ.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(s){}getMeshFromTileID(s,d,_,S,L){if(this._cachedMesh)return this._cachedMesh;const B=new a.aK;B.emplaceBack(0,0),B.emplaceBack(a.$,0),B.emplaceBack(0,a.$),B.emplaceBack(a.$,a.$);const K=s.createVertexBuffer(B,rn.members),tt=a.aL.simpleSegment(0,0,4,2),ct=new a.aM;ct.emplaceBack(1,0,2),ct.emplaceBack(1,2,3);const _t=s.createIndexBuffer(ct);return this._cachedMesh=new nr(K,_t,tt),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(s){}}class dn{constructor(s=0,d=0,_=0,S=0){if(isNaN(s)||s<0||isNaN(d)||d<0||isNaN(_)||_<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=d,this.left=_,this.right=S}interpolate(s,d,_){return d.top!=null&&s.top!=null&&(this.top=a.C.number(s.top,d.top,_)),d.bottom!=null&&s.bottom!=null&&(this.bottom=a.C.number(s.bottom,d.bottom,_)),d.left!=null&&s.left!=null&&(this.left=a.C.number(s.left,d.left,_)),d.right!=null&&s.right!=null&&(this.right=a.C.number(s.right,d.right,_)),this}getCenter(s,d){const _=a.ag((this.left+s-this.right)/2,0,s),S=a.ag((this.top+d-this.bottom)/2,0,d);return new a.P(_,S)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new dn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Wn(N,s){if(!N.renderWorldCopies||N.lngRange)return;const d=s.lng-N.center.lng;s.lng+=d>180?-360:d<-180?360:0}function Nn(N){return Math.max(0,Math.floor(N))}class ti{constructor(s,d,_,S,L,B){this._callbacks=s,this._tileSize=512,this._renderWorldCopies=B===void 0||!!B,this._minZoom=d||0,this._maxZoom=_||22,this._minPitch=S??0,this._maxPitch=L??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Nn(this._zoom),this._scale=a.ae(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new dn,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(s,d,_){this._latRange=s.latRange,this._lngRange=s.lngRange,this._width=s.width,this._height=s.height,this._center=s.center,this._elevation=s.elevation,this._minElevationForCurrentTile=s.minElevationForCurrentTile,this._zoom=s.zoom,this._tileZoom=Nn(this._zoom),this._scale=a.ae(this._zoom),this._bearingInRadians=s.bearingInRadians,this._fovInRadians=s.fovInRadians,this._pitchInRadians=s.pitchInRadians,this._rollInRadians=s.rollInRadians,this._unmodified=s.unmodified,this._edgeInsets=new dn(s.padding.top,s.padding.bottom,s.padding.left,s.padding.right),this._minZoom=s.minZoom,this._maxZoom=s.maxZoom,this._minPitch=s.minPitch,this._maxPitch=s.maxPitch,this._renderWorldCopies=s.renderWorldCopies,this._cameraToCenterDistance=s.cameraToCenterDistance,this._nearZ=s.nearZ,this._farZ=s.farZ,this._autoCalculateNearFarZ=!_&&s.autoCalculateNearFarZ,d&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(s){this._minElevationForCurrentTile=s}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(s){this._minZoom!==s&&(this._minZoom=s,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(s){this._minPitch!==s&&(this._minPitch=s,this.setPitch(Math.max(this.pitch,s)))}get maxPitch(){return this._maxPitch}setMaxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.setPitch(Math.min(this.pitch,s)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(s){const d=a.aN(s,-180,180)*Math.PI/180;var _,S,L,B,K,tt,ct,_t,Rt;this._bearingInRadians!==d&&(this._unmodified=!1,this._bearingInRadians=d,this._calcMatrices(),this._rotationMatrix=v(),_=this._rotationMatrix,L=-this._bearingInRadians,B=(S=this._rotationMatrix)[0],K=S[1],tt=S[2],ct=S[3],_t=Math.sin(L),Rt=Math.cos(L),_[0]=B*Rt+tt*_t,_[1]=K*Rt+ct*_t,_[2]=B*-_t+tt*Rt,_[3]=K*-_t+ct*Rt)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(s){const d=a.ag(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==d&&(this._unmodified=!1,this._pitchInRadians=d,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(s){const d=s/180*Math.PI;this._rollInRadians!==d&&(this._unmodified=!1,this._rollInRadians=d,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aO(this._fovInRadians)}setFov(s){s=a.ag(s,.1,150),this.fov!==s&&(this._unmodified=!1,this._fovInRadians=a.ad(s),this._calcMatrices())}get zoom(){return this._zoom}setZoom(s){const d=this.getConstrained(this._center,s).zoom;this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this._tileZoom=Math.max(0,Math.floor(d)),this._scale=a.ae(d),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(s,d){this._autoCalculateNearFarZ=!1,this._nearZ=s,this._farZ=d,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,d,_){this._unmodified=!1,this._edgeInsets.interpolate(s,d,_),this._constrain(),this._calcMatrices()}resize(s,d,_=!0){this._width=s,this._height=d,_&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new He([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(s){s?(this._lngRange=[s.getWest(),s.getEast()],this._latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,a.ah])}getConstrained(s,d){return this._callbacks.getConstrained(s,d)}getCameraQueryGeometry(s,d){if(d.length===1)return[d[0],s];{const{minX:_,minY:S,maxX:L,maxY:B}=a.a1.fromPoints(d).extend(s);return[new a.P(_,S),new a.P(L,S),new a.P(L,B),new a.P(_,B),new a.P(_,S)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const s=this._unmodified,{center:d,zoom:_}=this.getConstrained(this.center,this.zoom);this.setCenter(d),this.setZoom(_),this._unmodified=s,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let s=a.af(new Float64Array(16));a.N(s,s,[this._width/2,-this._height/2,1]),a.M(s,s,[1,-1,0]),this._clipSpaceToPixelsMatrix=s,s=a.af(new Float64Array(16)),a.N(s,s,[1,-1,1]),a.M(s,s,[-1,-1,0]),a.N(s,s,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=s,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(s,d,_,S){const L=_!==void 0?_:this.bearing,B=S=S!==void 0?S:this.pitch,K=a.a0.fromLngLat(s,d),tt=-Math.cos(a.ad(B)),ct=Math.sin(a.ad(B)),_t=ct*Math.sin(a.ad(L)),Rt=-ct*Math.cos(a.ad(L));let Tt=this.elevation;const zt=d-Tt;let Zt;tt*zt>=0||Math.abs(tt)<.1?(Zt=1e4,Tt=d+Zt*tt):Zt=-zt/tt;let fe,pe,me=a.aP(1,K.y),xe=0;do{if(xe+=1,xe>10)break;pe=Zt/me,fe=new a.a0(K.x+_t*pe,K.y+Rt*pe),me=1/fe.meterInMercatorCoordinateUnits()}while(Math.abs(Zt-pe*me)>1e-12);return{center:fe.toLngLat(),elevation:Tt,zoom:a.aj(this.height/2/Math.tan(this.fovInRadians/2)/pe/this.tileSize)}}recalculateZoomAndCenter(s){if(this.elevation-s==0)return;const d=a.ai(1,this.center.lat)*this.worldSize,_=this.cameraToCenterDistance/d,S=a.a0.fromLngLat(this.center,this.elevation),L=oe(this.center,this.elevation,this.pitch,this.bearing,_);this._elevation=s;const B=this.calculateCenterFromCameraLngLatAlt(L.toLngLat(),a.aP(L.z,S.y),this.bearing,this.pitch);this._elevation=B.elevation,this._center=B.center,this.setZoom(B.zoom)}getCameraPoint(){const s=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(s*Math.sin(this.rollInRadians),s*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const s=a.ai(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/s).toLngLat()}getMercatorTileCoordinates(s){if(!s)return[0,0,1,1];const d=s.canonical.z>=0?1<<s.canonical.z:Math.pow(2,s.canonical.z);return[s.canonical.x/d,s.canonical.y/d,1/d/a.$,1/d/a.$]}}class jn{constructor(s,d){this.min=s,this.max=d,this.center=a.aQ([],a.aR([],this.min,this.max),.5)}quadrant(s){const d=[s%2==0,s<2],_=a.aS(this.min),S=a.aS(this.max);for(let L=0;L<d.length;L++)_[L]=d[L]?this.min[L]:this.center[L],S[L]=d[L]?this.center[L]:this.max[L];return S[2]=this.max[2],new jn(_,S)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersectsFrustum(s){let d=!0;for(let _=0;_<s.planes.length;_++){const S=this.intersectsPlane(s.planes[_]);if(S===0)return 0;S===1&&(d=!1)}return d?2:s.aabb.min[0]>this.max[0]||s.aabb.min[1]>this.max[1]||s.aabb.min[2]>this.max[2]||s.aabb.max[0]<this.min[0]||s.aabb.max[1]<this.min[1]||s.aabb.max[2]<this.min[2]?0:1}intersectsPlane(s){let d=s[3],_=s[3];for(let S=0;S<3;S++)s[S]>0?(d+=s[S]*this.min[S],_+=s[S]*this.max[S]):(_+=s[S]*this.min[S],d+=s[S]*this.max[S]);return d>=0?2:_<0?0:1}}class Zr{distanceToTile2d(s,d,_,S){const L=S.distanceX([s,d]),B=S.distanceY([s,d]);return Math.hypot(L,B)}getWrap(s,d,_){return _}getTileBoundingVolume(s,d,_,S){var L,B;let K=_,tt=_;if(S?.terrain){const _t=new a.Z(s.z,d,s.z,s.x,s.y),Rt=S.terrain.getMinMaxElevation(_t);K=(L=Rt.minElevation)!==null&&L!==void 0?L:_,tt=(B=Rt.maxElevation)!==null&&B!==void 0?B:_}const ct=1<<s.z;return new jn([d+s.x/ct,s.y/ct,K],[d+(s.x+1)/ct,(s.y+1)/ct,tt])}allowVariableZoom(s,d){const _=s.fov*(Math.abs(Math.cos(s.rollInRadians))*s.height+Math.abs(Math.sin(s.rollInRadians))*s.width)/s.height,S=a.ag(78.5-_/2,0,60);return!!d.terrain||s.pitch>S}allowWorldCopies(){return!0}prepareNextFrame(){}}class Ln{constructor(s,d,_){this.points=s,this.planes=d,this.aabb=_}static fromInvProjectionMatrix(s,d=1,_=0,S,L){const B=L?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],K=Math.pow(2,_),tt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((Tt=>(function(zt,Zt,fe,pe){const me=a.av([],zt,Zt),xe=1/me[3]/fe*pe;return a.aX(me,me,[xe,xe,1/me[3],xe])})(Tt,s,d,K)));S&&(function(Tt,zt,Zt,fe){const pe=fe?4:0,me=fe?0:4;let xe=0;const Be=[],Le=[];for(let Ne=0;Ne<4;Ne++){const tr=a.aT([],Tt[Ne+me],Tt[Ne+pe]),Ar=a.aY(tr);a.aQ(tr,tr,1/Ar),Be.push(Ar),Le.push(tr)}for(let Ne=0;Ne<4;Ne++){const tr=a.aZ(Tt[Ne+pe],Le[Ne],Zt);xe=tr!==null&&tr>=0?Math.max(xe,tr):Math.max(xe,Be[Ne])}const $e=(function(Ne,tr){const Ar=a.aT([],Ne[tr[0]],Ne[tr[1]]),xr=a.aT([],Ne[tr[2]],Ne[tr[1]]),Sr=[0,0,0,0];return a.aU(Sr,a.aV([],Ar,xr)),Sr[3]=-a.aW(Sr,Ne[tr[0]]),Sr})(Tt,zt),We=(function(Ne,tr){const Ar=a.a_(Ne),xr=a.a$([],Ne,1/Ar),Sr=a.aT([],tr,a.aQ([],xr,a.aW(tr,xr))),kr=a.a_(Sr);if(kr>0){const Cn=Math.sqrt(1-xr[3]*xr[3]),En=a.aQ([],xr,-xr[3]),on=a.aR([],En,a.aQ([],Sr,Cn/kr));return a.b0(tr,on)}return null})(Zt,$e);if(We!==null){const Ne=We/a.aW(Le[0],$e);xe=Math.min(xe,Ne)}for(let Ne=0;Ne<4;Ne++){const tr=Math.min(xe,Be[Ne]);Tt[Ne+me]=[Tt[Ne+pe][0]+Le[Ne][0]*tr,Tt[Ne+pe][1]+Le[Ne][1]*tr,Tt[Ne+pe][2]+Le[Ne][2]*tr,1]}})(tt,B[0],S,L);const ct=B.map((Tt=>{const zt=a.aT([],tt[Tt[0]],tt[Tt[1]]),Zt=a.aT([],tt[Tt[2]],tt[Tt[1]]),fe=a.aU([],a.aV([],zt,Zt)),pe=-a.aW(fe,tt[Tt[1]]);return fe.concat(pe)})),_t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],Rt=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Tt of tt)for(let zt=0;zt<3;zt++)_t[zt]=Math.min(_t[zt],Tt[zt]),Rt[zt]=Math.max(Rt[zt],Tt[zt]);return new Ln(tt,ct,new jn(_t,Rt))}}class yi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,d,_){return this._helper.interpolatePadding(s,d,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,d,_=!0){this._helper.resize(s,d,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,d){this._helper.overrideNearFarZ(s,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s,d){}constructor(s,d,_,S,L){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new ti({calcMatrices:()=>{this._calcMatrices()},getConstrained:(B,K)=>this.getConstrained(B,K)},s,d,_,S,L),this._coveringTilesDetailsProvider=new Zr}clone(){const s=new yi;return s.apply(this),s}apply(s,d,_){this._helper.apply(s,d,_)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(s){const d=[new a.b1(0,s)];if(this._helper._renderWorldCopies){const _=this.screenPointToMercatorCoordinate(new a.P(0,0)),S=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),L=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),B=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),K=Math.floor(Math.min(_.x,S.x,L.x,B.x)),tt=Math.floor(Math.max(_.x,S.x,L.x,B.x)),ct=1;for(let _t=K-ct;_t<=tt+ct;_t++)_t!==0&&d.push(new a.b1(_t,s))}return d}getCameraFrustum(){return Ln.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){const d=this.screenPointToLocation(this.centerPoint,s),_=s?s.getElevationForLngLatZoom(d,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(_)}setLocationAtPoint(s,d){const _=a.ai(this.elevation,this.center.lat),S=this.screenPointToMercatorCoordinateAtZ(d,_),L=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,_),B=a.a0.fromLngLat(s),K=new a.a0(B.x-(S.x-L.x),B.y-(S.y-L.y));this.setCenter(K?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(s,d){return d?this.coordinatePoint(a.a0.fromLngLat(s),d.getElevationForLngLatZoom(s,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(a.a0.fromLngLat(s))}screenPointToLocation(s,d){var _;return(_=this.screenPointToMercatorCoordinate(s,d))===null||_===void 0?void 0:_.toLngLat()}screenPointToMercatorCoordinate(s,d){if(d){const _=d.pointCoordinate(s);if(_!=null)return _}return this.screenPointToMercatorCoordinateAtZ(s)}screenPointToMercatorCoordinateAtZ(s,d){const _=d||0,S=[s.x,s.y,0,1],L=[s.x,s.y,1,1];a.av(S,S,this._pixelMatrixInverse),a.av(L,L,this._pixelMatrixInverse);const B=S[3],K=L[3],tt=S[1]/B,ct=L[1]/K,_t=S[2]/B,Rt=L[2]/K,Tt=_t===Rt?0:(_-_t)/(Rt-_t);return new a.a0(a.C.number(S[0]/B,L[0]/K,Tt)/this.worldSize,a.C.number(tt,ct,Tt)/this.worldSize,_)}coordinatePoint(s,d=0,_=this._pixelMatrix){const S=[s.x*this.worldSize,s.y*this.worldSize,d,1];return a.av(S,S,_),new a.P(S[0]/S[3],S[1]/S[3])}getBounds(){const s=Math.max(0,this._helper._height/2-Mt(this));return new He().extend(this.screenPointToLocation(new a.P(0,s))).extend(this.screenPointToLocation(new a.P(this._helper._width,s))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(s,d){return d?d.pointCoordinate(s)!=null:s.y>this.height/2-Mt(this)}calculatePosMatrix(s,d=!1,_){var S;const L=(S=s.key)!==null&&S!==void 0?S:a.b2(s.wrap,s.canonical.z,s.canonical.z,s.canonical.x,s.canonical.y),B=d?this._alignedPosMatrixCache:this._posMatrixCache;if(B.has(L)){const ct=B.get(L);return _?ct.f32:ct.f64}const K=Bt(s,this.worldSize);a.O(K,d?this._alignedProjMatrix:this._viewProjMatrix,K);const tt={f64:K,f32:new Float32Array(K)};return B.set(L,tt),_?tt.f32:tt.f64}calculateFogMatrix(s){const d=s.key,_=this._fogMatrixCacheF32;if(_.has(d))return _.get(d);const S=Bt(s,this.worldSize);return a.O(S,this._fogMatrix,S),_.set(d,new Float32Array(S)),_.get(d)}getConstrained(s,d){d=a.ag(+d,this.minZoom,this.maxZoom);const _={center:new a.S(s.lng,s.lat),zoom:d};let S=this._helper._lngRange;this._helper._renderWorldCopies||S!==null||(S=[-179.9999999999,180-1e-10]);const L=this.tileSize*a.ae(_.zoom);let B=0,K=L,tt=0,ct=L,_t=0,Rt=0;const{x:Tt,y:zt}=this.size;if(this._helper._latRange){const Be=this._helper._latRange;B=a.U(Be[1])*L,K=a.U(Be[0])*L,K-B<zt&&(_t=zt/(K-B))}S&&(tt=a.aN(a.V(S[0])*L,0,L),ct=a.aN(a.V(S[1])*L,0,L),ct<tt&&(ct+=L),ct-tt<Tt&&(Rt=Tt/(ct-tt)));const{x:Zt,y:fe}=Me(L,s);let pe,me;const xe=Math.max(Rt||0,_t||0);if(xe){const Be=new a.P(Rt?(ct+tt)/2:Zt,_t?(K+B)/2:fe);return _.center=jt(L,Be).wrap(),_.zoom+=a.aj(xe),_}if(this._helper._latRange){const Be=zt/2;fe-Be<B&&(me=B+Be),fe+Be>K&&(me=K-Be)}if(S){const Be=(tt+ct)/2;let Le=Zt;this._helper._renderWorldCopies&&(Le=a.aN(Zt,Be-L/2,Be+L/2));const $e=Tt/2;Le-$e<tt&&(pe=tt+$e),Le+$e>ct&&(pe=ct-$e)}if(pe!==void 0||me!==void 0){const Be=new a.P(pe??Zt,me??fe);_.center=jt(L,Be).wrap()}return _}calculateCenterFromCameraLngLatAlt(s,d,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(s,d,_,S)}_calculateNearFarZIfNeeded(s,d,_){if(!this._helper.autoCalculateNearFarZ)return;const S=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),L=s-S*this._helper._pixelPerMeter/Math.cos(d),B=S<0?L:s,K=Math.PI/2+this.pitchInRadians,tt=a.ad(this.fov)*(Math.abs(Math.cos(a.ad(this.roll)))*this.height+Math.abs(Math.sin(a.ad(this.roll)))*this.width)/this.height*(.5+_.y/this.height),ct=Math.sin(tt)*B/Math.sin(a.ag(Math.PI-K-tt,.01,Math.PI-.01)),_t=Mt(this),Rt=Math.atan(_t/this._helper.cameraToCenterDistance),Tt=a.ad(.75),zt=Rt>Tt?2*Rt*(.5+_.y/(2*_t)):Tt,Zt=Math.sin(zt)*B/Math.sin(a.ag(Math.PI-K-zt,.01,Math.PI-.01)),fe=Math.min(ct,Zt);this._helper._farZ=1.01*(Math.cos(Math.PI/2-d)*fe+B),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const s=this.centerOffset,d=Me(this.worldSize,this.center),_=d.x,S=d.y;this._helper._pixelPerMeter=a.ai(1,this.center.lat)*this.worldSize;const L=a.ad(Math.min(this.pitch,rr)),B=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(L));let K;this._calculateNearFarZIfNeeded(B,L,s),K=new Float64Array(16),a.b3(K,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.ap(this._invProjMatrix,K),K[8]=2*-s.x/this._helper._width,K[9]=2*s.y/this._helper._height,this._projectionMatrix=a.b4(K),a.N(K,K,[1,-1,1]),a.M(K,K,[0,0,-this._helper.cameraToCenterDistance]),a.b5(K,K,-this.rollInRadians),a.b6(K,K,this.pitchInRadians),a.b5(K,K,-this.bearingInRadians),a.M(K,K,[-_,-S,0]),this._mercatorMatrix=a.N([],K,[this.worldSize,this.worldSize,this.worldSize]),a.N(K,K,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,K),a.M(K,K,[0,0,-this.elevation]),this._viewProjMatrix=K,this._invViewProjMatrix=a.ap([],K);const tt=[0,0,-1,1];a.av(tt,tt,this._invViewProjMatrix),this._cameraPosition=[tt[0]/tt[3],tt[1]/tt[3],tt[2]/tt[3]],this._fogMatrix=new Float64Array(16),a.b3(this._fogMatrix,this.fovInRadians,this.width/this.height,B,this._helper._farZ),this._fogMatrix[8]=2*-s.x/this.width,this._fogMatrix[9]=2*s.y/this.height,a.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.b5(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.b6(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.b5(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.M(this._fogMatrix,this._fogMatrix,[-_,-S,0]),a.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,K);const ct=this._helper._width%2/2,_t=this._helper._height%2/2,Rt=Math.cos(this.bearingInRadians),Tt=Math.sin(-this.bearingInRadians),zt=_-Math.round(_)+Rt*ct+Tt*_t,Zt=S-Math.round(S)+Rt*_t+Tt*ct,fe=new Float64Array(K);if(a.M(fe,fe,[zt>.5?zt-1:zt,Zt>.5?Zt-1:Zt,0]),this._alignedProjMatrix=fe,K=a.ap(new Float64Array(16),this._pixelMatrix),!K)throw new Error("failed to invert matrix");this._pixelMatrixInverse=K,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const s=this.screenPointToMercatorCoordinate(new a.P(0,0)),d=[s.x*this.worldSize,s.y*this.worldSize,0,1];return a.av(d,d,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const s=a.ai(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/s).toLngLat()}lngLatToCameraDepth(s,d){const _=a.a0.fromLngLat(s),S=[_.x*this.worldSize,_.y*this.worldSize,d,1];return a.av(S,S,this._viewProjMatrix),S[2]/S[3]}getProjectionData(s){const{overscaledTileID:d,aligned:_,applyTerrainMatrix:S}=s,L=this._helper.getMercatorTileCoordinates(d),B=d?this.calculatePosMatrix(d,_,!0):null;let K;return K=d&&d.terrainRttPosMatrix32f&&S?d.terrainRttPosMatrix32f:B||a.b7(),{mainMatrix:K,tileMercatorCoords:L,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:K}}isLocationOccluded(s){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(s,d,_){return 1}transformLightDirection(s){return a.aS(s)}getRayDirectionFromPixel(s){throw new Error("Not implemented.")}projectTileCoordinates(s,d,_,S){const L=this.calculatePosMatrix(_);let B;S?(B=[s,d,S(s,d),1],a.av(B,B,L)):(B=[s,d,0,1],rl(B,B,L));const K=B[3];return{point:new a.P(B[0]/K,B[1]/K),signedDistanceFromCamera:K,isOccluded:!1}}populateCache(s){for(const d of s)this.calculatePosMatrix(d)}getMatrixForModel(s,d){const _=a.a0.fromLngLat(s,d),S=_.meterInMercatorCoordinateUnits(),L=a.b8();return a.M(L,L,[_.x,_.y,_.z]),a.b5(L,L,Math.PI),a.b6(L,L,Math.PI/2),a.N(L,L,[-S,S,S]),L}getProjectionDataForCustomLayer(s=!0){const d=new a.Z(0,0,0,0,0),_=this.getProjectionData({overscaledTileID:d,applyGlobeMatrix:s}),S=Bt(d,this.worldSize);a.O(S,this._viewProjMatrix,S),_.tileMercatorCoords=[0,0,1,1];const L=[a.$,a.$,this.worldSize/this._helper.pixelsPerMeter],B=a.b9();return a.N(B,S,L),_.fallbackMatrix=B,_.mainMatrix=B,_}getFastPathSimpleProjectionMatrix(s){return this.calculatePosMatrix(s)}}function na(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Ii(N){if(N.useSlerp)if(N.k<1){const s=a.ba(N.startEulerAngles.roll,N.startEulerAngles.pitch,N.startEulerAngles.bearing),d=a.ba(N.endEulerAngles.roll,N.endEulerAngles.pitch,N.endEulerAngles.bearing),_=new Float64Array(4);a.bb(_,s,d,N.k);const S=a.bc(_);N.tr.setRoll(S.roll),N.tr.setPitch(S.pitch),N.tr.setBearing(S.bearing)}else N.tr.setRoll(N.endEulerAngles.roll),N.tr.setPitch(N.endEulerAngles.pitch),N.tr.setBearing(N.endEulerAngles.bearing);else N.tr.setRoll(a.C.number(N.startEulerAngles.roll,N.endEulerAngles.roll,N.k)),N.tr.setPitch(a.C.number(N.startEulerAngles.pitch,N.endEulerAngles.pitch,N.k)),N.tr.setBearing(a.C.number(N.startEulerAngles.bearing,N.endEulerAngles.bearing,N.k))}function Bi(N,s,d,_,S){const L=S.padding,B=Me(S.worldSize,d.getNorthWest()),K=Me(S.worldSize,d.getNorthEast()),tt=Me(S.worldSize,d.getSouthEast()),ct=Me(S.worldSize,d.getSouthWest()),_t=a.ad(-_),Rt=B.rotate(_t),Tt=K.rotate(_t),zt=tt.rotate(_t),Zt=ct.rotate(_t),fe=new a.P(Math.max(Rt.x,Tt.x,Zt.x,zt.x),Math.max(Rt.y,Tt.y,Zt.y,zt.y)),pe=new a.P(Math.min(Rt.x,Tt.x,Zt.x,zt.x),Math.min(Rt.y,Tt.y,Zt.y,zt.y)),me=fe.sub(pe),xe=(S.width-(L.left+L.right+s.left+s.right))/me.x,Be=(S.height-(L.top+L.bottom+s.top+s.bottom))/me.y;if(Be<0||xe<0)return void na();const Le=Math.min(a.aj(S.scale*Math.min(xe,Be)),N.maxZoom),$e=a.P.convert(N.offset),We=new a.P((s.left-s.right)/2,(s.top-s.bottom)/2).rotate(a.ad(_)),Ne=$e.add(We).mult(S.scale/a.ae(Le));return{center:jt(S.worldSize,B.add(tt).div(2).sub(Ne)),zoom:Le,bearing:_}}class la{get useGlobeControls(){return!1}handlePanInertia(s,d){return{easingOffset:s,easingCenter:d.center}}handleMapControlsRollPitchBearingZoom(s,d){s.bearingDelta&&d.setBearing(d.bearing+s.bearingDelta),s.pitchDelta&&d.setPitch(d.pitch+s.pitchDelta),s.rollDelta&&d.setRoll(d.roll+s.rollDelta),s.zoomDelta&&d.setZoom(d.zoom+s.zoomDelta)}handleMapControlsPan(s,d,_){s.around.distSqr(d.centerPoint)<.01||d.setLocationAtPoint(_,s.around)}cameraForBoxAndBearing(s,d,_,S,L){return Bi(s,d,_,S,L)}handleJumpToCenterZoom(s,d){s.zoom!==(d.zoom!==void 0?+d.zoom:s.zoom)&&s.setZoom(+d.zoom),d.center!==void 0&&s.setCenter(a.S.convert(d.center))}handleEaseTo(s,d){const _=s.zoom,S=s.padding,L={roll:s.roll,pitch:s.pitch,bearing:s.bearing},B={roll:d.roll===void 0?s.roll:d.roll,pitch:d.pitch===void 0?s.pitch:d.pitch,bearing:d.bearing===void 0?s.bearing:d.bearing},K=d.zoom!==void 0,tt=!s.isPaddingEqual(d.padding);let ct=!1;const _t=K?+d.zoom:s.zoom;let Rt=s.centerPoint.add(d.offsetAsPoint);const Tt=s.screenPointToLocation(Rt),{center:zt,zoom:Zt}=s.getConstrained(a.S.convert(d.center||Tt),_t??_);Wn(s,zt);const fe=Me(s.worldSize,Tt),pe=Me(s.worldSize,zt).sub(fe),me=a.ae(Zt-_);return ct=Zt!==_,{easeFunc:xe=>{if(ct&&s.setZoom(a.C.number(_,Zt,xe)),a.bd(L,B)||Ii({startEulerAngles:L,endEulerAngles:B,tr:s,k:xe,useSlerp:L.roll!=B.roll}),tt&&(s.interpolatePadding(S,d.padding,xe),Rt=s.centerPoint.add(d.offsetAsPoint)),d.around)s.setLocationAtPoint(d.around,d.aroundPoint);else{const Be=a.ae(s.zoom-_),Le=Zt>_?Math.min(2,me):Math.max(.5,me),$e=Math.pow(Le,1-xe),We=jt(s.worldSize,fe.add(pe.mult(xe*$e)).mult(Be));s.setLocationAtPoint(s.renderWorldCopies?We.wrap():We,Rt)}},isZooming:ct,elevationCenter:zt}}handleFlyTo(s,d){const _=d.zoom!==void 0,S=s.zoom,L=s.getConstrained(a.S.convert(d.center||d.locationAtOffset),_?+d.zoom:S),B=L.center,K=L.zoom;Wn(s,B);const tt=Me(s.worldSize,d.locationAtOffset),ct=Me(s.worldSize,B).sub(tt),_t=ct.mag(),Rt=a.ae(K-S);let Tt;if(d.minZoom!==void 0){const zt=Math.min(+d.minZoom,S,K),Zt=s.getConstrained(B,zt).zoom;Tt=a.ae(Zt-S)}return{easeFunc:(zt,Zt,fe,pe)=>{s.setZoom(zt===1?K:S+a.aj(Zt));const me=zt===1?B:jt(s.worldSize,tt.add(ct.mult(fe)).mult(Zt));s.setLocationAtPoint(s.renderWorldCopies?me.wrap():me,pe)},scaleOfZoom:Rt,targetCenter:B,scaleOfMinZoom:Tt,pixelPathLength:_t}}}class Bn{constructor(s,d,_){this.blendFunction=s,this.blendColor=d,this.mask=_}}Bn.Replace=[1,0],Bn.disabled=new Bn(Bn.Replace,a.be.transparent,[!1,!1,!1,!1]),Bn.unblended=new Bn(Bn.Replace,a.be.transparent,[!0,!0,!0,!0]),Bn.alphaBlended=new Bn([1,771],a.be.transparent,[!0,!0,!0,!0]);const Ha=2305;class pi{constructor(s,d,_){this.enable=s,this.mode=d,this.frontFace=_}}pi.disabled=new pi(!1,1029,Ha),pi.backCCW=new pi(!0,1029,Ha),pi.frontCCW=new pi(!0,1028,Ha);class ei{constructor(s,d,_){this.func=s,this.mask=d,this.range=_}}ei.ReadOnly=!1,ei.ReadWrite=!0,ei.disabled=new ei(519,ei.ReadOnly,[0,1]);const Tl=7680;class zn{constructor(s,d,_,S,L,B){this.test=s,this.ref=d,this.mask=_,this.fail=S,this.depthFail=L,this.pass=B}}zn.disabled=new zn({func:519,mask:0},0,0,Tl,Tl,Tl);const jl=new WeakMap;function No(N){var s;if(jl.has(N))return jl.get(N);{const d=(s=N.getParameter(N.VERSION))===null||s===void 0?void 0:s.startsWith("WebGL 2.0");return jl.set(N,d),d}}class xo{get awaitingQuery(){return!!this._readbackQueue}constructor(s){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=s;const d=s.context,_=d.gl;this._texFormat=_.RGBA,this._texType=_.UNSIGNED_BYTE;const S=new a.aK;S.emplaceBack(-1,-1),S.emplaceBack(2,-1),S.emplaceBack(-1,2);const L=new a.aM;L.emplaceBack(0,1,2),this._fullscreenTriangle=new nr(d.createVertexBuffer(S,rn.members),d.createIndexBuffer(L),a.aL.simpleSegment(0,0,S.length,L.length)),this._resultBuffer=new Uint8Array(4),d.activeTexture.set(_.TEXTURE1);const B=_.createTexture();_.bindTexture(_.TEXTURE_2D,B),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texImage2D(_.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=d.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(B),No(_)&&(this._pbo=_.createBuffer(),_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.bufferData(_.PIXEL_PACK_BUFFER,4,_.STREAM_READ),_.bindBuffer(_.PIXEL_PACK_BUFFER,null))}destroy(){const s=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),s.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(s,d){const _=this._updateCount;return this._readbackQueue?_>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():_>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(s,d),this._updateCount++,this._measuredError}_bindFramebuffer(){const s=this._cachedRenderContext.context,d=s.gl;s.activeTexture.set(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this._fbo.colorAttachment.get()),s.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(s,d){const _=this._cachedRenderContext.context,S=_.gl;if(this._bindFramebuffer(),_.viewport.set([0,0,this._texWidth,this._texHeight]),_.clear({color:a.be.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(_,S.TRIANGLES,ei.disabled,zn.disabled,Bn.unblended,pi.disabled,((L,B)=>({u_input:L,u_output_expected:B}))(s,d),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&No(S)){S.bindBuffer(S.PIXEL_PACK_BUFFER,this._pbo),S.readBuffer(S.COLOR_ATTACHMENT0),S.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),S.bindBuffer(S.PIXEL_PACK_BUFFER,null);const L=S.fenceSync(S.SYNC_GPU_COMMANDS_COMPLETE,0);S.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:L}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const s=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&No(s)){const d=s.clientWaitSync(this._readbackQueue.sync,0,0);if(d===s.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(d===s.TIMEOUT_EXPIRED)return;s.bindBuffer(s.PIXEL_PACK_BUFFER,this._pbo),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),s.bindBuffer(s.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),s.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=xo._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(s){let d=0;return d+=s[0]/256,d+=s[1]/65536,d+=s[2]/16777216,s[3]<127&&(d=-d),d/128}}const fo=a.$/128;function _u(N,s){const d=N.granularity!==void 0?Math.max(N.granularity,1):1,_=d+(N.generateBorders?2:0),S=d+(N.extendToNorthPole||N.generateBorders?1:0)+(N.extendToSouthPole||N.generateBorders?1:0),L=_+1,B=S+1,K=N.generateBorders?-1:0,tt=N.generateBorders||N.extendToNorthPole?-1:0,ct=d+(N.generateBorders?1:0),_t=d+(N.generateBorders||N.extendToSouthPole?1:0),Rt=L*B,Tt=_*S*6,zt=L*B>65536;if(zt&&s==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Zt=zt||s==="32bit",fe=new Int16Array(2*Rt);let pe=0;for(let Be=tt;Be<=_t;Be++)for(let Le=K;Le<=ct;Le++){let $e=Le/d*a.$;Le===-1&&($e=-64),Le===d+1&&($e=a.$+fo);let We=Be/d*a.$;Be===-1&&(We=N.extendToNorthPole?a.bg:-64),Be===d+1&&(We=N.extendToSouthPole?a.bh:a.$+fo),fe[pe++]=$e,fe[pe++]=We}const me=Zt?new Uint32Array(Tt):new Uint16Array(Tt);let xe=0;for(let Be=0;Be<S;Be++)for(let Le=0;Le<_;Le++){const $e=Le+1+Be*L,We=Le+(Be+1)*L,Ne=Le+1+(Be+1)*L;me[xe++]=Le+Be*L,me[xe++]=We,me[xe++]=$e,me[xe++]=$e,me[xe++]=We,me[xe++]=Ne}return{vertices:fe.buffer.slice(0),indices:me.buffer.slice(0),uses32bitIndices:Zt}}const Ms=new a.aJ({fill:new a.bi(128,2),line:new a.bi(512,0),tile:new a.bi(128,32),stencil:new a.bi(128,1),circle:3});class Cl{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return qe.projectionGlobe}get vertexShaderPreludeCode(){return qe.projectionMercator.vertexSource}get subdivisionGranularity(){return Ms}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(s){this._errorMeasurement||(this._errorMeasurement=new xo(s));const d=a.U(this._errorQueryLatitudeDegrees),_=2*Math.atan(Math.exp(Math.PI-d*Math.PI*2))-.5*Math.PI,S=this._errorMeasurement.updateErrorLoop(d,_),L=R.now();S!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=S,this._errorMeasurementLastChangeTime=L);const B=Math.min(Math.max((L-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bj(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bk(B))}_getMeshKey(s){return`${s.granularity.toString(36)}_${s.generateBorders?"b":""}${s.extendToNorthPole?"n":""}${s.extendToSouthPole?"s":""}`}getMeshFromTileID(s,d,_,S,L){const B=(L==="stencil"?Ms.stencil:Ms.tile).getGranularityForZoomLevel(d.z);return this._getMesh(s,{granularity:B,generateBorders:_,extendToNorthPole:d.y===0&&S,extendToSouthPole:d.y===(1<<d.z)-1&&S})}_getMesh(s,d){const _=this._getMeshKey(d);if(_ in this._tileMeshCache)return this._tileMeshCache[_];const S=(function(L,B){const K=_u(B,"16bit"),tt=a.aK.deserialize({arrayBuffer:K.vertices,length:K.vertices.byteLength/2/2}),ct=a.aM.deserialize({arrayBuffer:K.indices,length:K.indices.byteLength/2/3});return new nr(L.createVertexBuffer(tt,rn.members),L.createIndexBuffer(ct),a.aL.simpleSegment(0,0,tt.length,ct.length))})(s,d);return this._tileMeshCache[_]=S,S}recalculate(s){}hasTransition(){const s=R.now();let d=!1;return d=d||(s-this._errorMeasurementLastChangeTime)/1e3<.7,d=d||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,d}setErrorQueryLatitudeDegrees(s){this._errorQueryLatitudeDegrees=s}}const xu=new a.r({type:new a.D(a.v.projection.type)});class Vl extends a.E{constructor(s){super(),this._transitionable=new a.t(xu),this.setProjection(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.F(0)),this._mercatorProjection=new Sn,this._verticalPerspectiveProjection=new Cl}get transitionState(){const s=this.properties.get("type");if(typeof s=="string"&&s==="mercator")return 0;if(typeof s=="string"&&s==="vertical-perspective")return 1;if(s instanceof a.bl){if(s.from==="vertical-perspective"&&s.to==="mercator")return 1-s.transition;if(s.from==="mercator"&&s.to==="vertical-perspective")return s.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(s){this._mercatorProjection.updateGPUdependent(s),this._verticalPerspectiveProjection.updateGPUdependent(s)}getMeshFromTileID(s,d,_,S,L){return this.currentProjection.getMeshFromTileID(s,d,_,S,L)}setProjection(s){this._transitionable.setValue("type",s?.type||"mercator")}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}setErrorQueryLatitudeDegrees(s){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(s),this._mercatorProjection.setErrorQueryLatitudeDegrees(s)}}function wo(N){const s=zo(N.worldSize,N.center.lat);return 2*Math.PI*s}function Bo(N,s,d,_,S){const L=1/(1<<S),B=s/a.$*L+_*L,K=a.bn((N/a.$*L+d*L)*Math.PI*2+Math.PI,2*Math.PI),tt=2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI,ct=Math.cos(tt),_t=new Float64Array(3);return _t[0]=Math.sin(K)*ct,_t[1]=Math.sin(tt),_t[2]=Math.cos(K)*ct,_t}function Ba(N){return(function(s,d){const _=Math.cos(d),S=new Float64Array(3);return S[0]=Math.sin(s)*_,S[1]=Math.sin(d),S[2]=Math.cos(s)*_,S})(N.lng*Math.PI/180,N.lat*Math.PI/180)}function zo(N,s){return N/(2*Math.PI)/Math.cos(s*Math.PI/180)}function ut(N){const s=Math.asin(N[1])/Math.PI*180,d=Math.sqrt(N[0]*N[0]+N[2]*N[2]);if(d>1e-6){const _=N[0]/d,S=Math.acos(N[2]/d),L=(_>0?S:-S)/Math.PI*180;return new a.S(a.aN(L,-180,180),s)}return new a.S(0,s)}function Yt(N){return Math.cos(N*Math.PI/180)}function ve(N,s){const d=Yt(N),_=Yt(s);return a.aj(_/d)}function Xe(N,s){const d=N.rotate(s.bearingInRadians),_=s.zoom+ve(s.center.lat,0),S=a.bj(1/Yt(s.center.lat),1/Yt(Math.min(Math.abs(s.center.lat),60)),a.bm(_,7,3,0,1)),L=360/wo({worldSize:s.worldSize,center:{lat:s.center.lat}});return new a.S(s.center.lng-d.x*L*S,a.ag(s.center.lat+d.y*L,-85.051129,a.ah))}function pr(N){const s=.5*N,d=Math.sin(s),_=Math.cos(s);return Math.log(d+_)-Math.log(_-d)}function Yr(N,s,d,_){const S=N.lat+d*_;if(Math.abs(d)>1){const L=(Math.sign(N.lat+d)!==Math.sign(N.lat)?-Math.abs(N.lat):Math.abs(N.lat))*Math.PI/180,B=Math.abs(N.lat+d)*Math.PI/180,K=pr(L+_*(B-L)),tt=pr(L),ct=pr(B);return new a.S(N.lng+s*((K-tt)/(ct-tt)),S)}return new a.S(N.lng+s*_,S)}class mn{constructor(s){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=s}swapBuffers(){if(!this._hadAnyChanges)return;const s=this._cachePrevious;this._cachePrevious=this._cache,this._cache=s,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(s,d,_,S){const L=`${s.z}_${s.x}_${s.y}_${S?.terrain?"t":""}`,B=this._cache.get(L);if(B)return B;const K=this._cachePrevious.get(L);if(K)return this._cache.set(L,K),K;const tt=this._boundingVolumeFactory(s,d,_,S);return this._cache.set(L,tt),this._hadAnyChanges=!0,tt}}class $n{constructor(s,d,_,S){this.min=_,this.max=S,this.points=s,this.planes=d}static fromAabb(s,d){const _=[];for(let S=0;S<8;S++)_.push([1&~S?s[0]:d[0],(S>>1&1)==1?d[1]:s[1],(S>>2&1)==1?d[2]:s[2]]);return new $n(_,[[-1,0,0,d[0]],[1,0,0,-s[0]],[0,-1,0,d[1]],[0,1,0,-s[1]],[0,0,-1,d[2]],[0,0,1,-s[2]]],s,d)}static fromCenterSizeAngles(s,d,_){const S=a.bq([],_[0],_[1],_[2]),L=a.br([],[d[0],0,0],S),B=a.br([],[0,d[1],0],S),K=a.br([],[0,0,d[2]],S),tt=[...s],ct=[...s];for(let Rt=0;Rt<8;Rt++)for(let Tt=0;Tt<3;Tt++){const zt=s[Tt]+L[Tt]*(1&~Rt?-1:1)+B[Tt]*((Rt>>1&1)==1?1:-1)+K[Tt]*((Rt>>2&1)==1?1:-1);tt[Tt]=Math.min(tt[Tt],zt),ct[Tt]=Math.max(ct[Tt],zt)}const _t=[];for(let Rt=0;Rt<8;Rt++){const Tt=[...s];a.aR(Tt,Tt,a.aQ([],L,1&~Rt?-1:1)),a.aR(Tt,Tt,a.aQ([],B,(Rt>>1&1)==1?1:-1)),a.aR(Tt,Tt,a.aQ([],K,(Rt>>2&1)==1?1:-1)),_t.push(Tt)}return new $n(_t,[[...L,-a.aW(L,_t[0])],[...B,-a.aW(B,_t[0])],[...K,-a.aW(K,_t[0])],[-L[0],-L[1],-L[2],-a.aW(L,_t[7])],[-B[0],-B[1],-B[2],-a.aW(B,_t[7])],[-K[0],-K[1],-K[2],-a.aW(K,_t[7])]],tt,ct)}intersectsFrustum(s){let d=!0;const _=this.points.length,S=this.planes.length,L=s.planes.length,B=s.points.length;for(let K=0;K<L;K++){const tt=s.planes[K];let ct=0;for(let _t=0;_t<_;_t++){const Rt=this.points[_t];tt[0]*Rt[0]+tt[1]*Rt[1]+tt[2]*Rt[2]+tt[3]>=0&&ct++}if(ct===0)return 0;ct<_&&(d=!1)}if(d)return 2;for(let K=0;K<S;K++){const tt=this.planes[K];let ct=0;for(let _t=0;_t<B;_t++){const Rt=s.points[_t];tt[0]*Rt[0]+tt[1]*Rt[1]+tt[2]*Rt[2]+tt[3]>=0&&ct++}if(ct===0)return 0}return 1}intersectsPlane(s){const d=this.points.length;let _=0;for(let S=0;S<d;S++){const L=this.points[S];s[0]*L[0]+s[1]*L[1]+s[2]*L[2]+s[3]>=0&&_++}return _===d?2:_===0?0:1}}function ri(N,s,d){const _=N-s;return _<0?-_:Math.max(0,_-d)}function Ti(N,s,d,_,S){const L=N-d;let B;return B=L<0?Math.min(-L,1+L-S):L>1?Math.min(Math.max(L-S,0),1-L):0,Math.max(B,ri(s,_,S))}class Fi{constructor(){this._boundingVolumeCache=new mn(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(s,d,_,S){const L=1<<_.z,B=1/L,K=_.x/L,tt=_.y/L;let ct=2;return ct=Math.min(ct,Ti(s,d,K,tt,B)),ct=Math.min(ct,Ti(s,d,K+.5,-tt-B,B)),ct=Math.min(ct,Ti(s,d,K+.5,2-tt-B,B)),ct}getWrap(s,d,_){const S=1<<d.z,L=1/S,B=d.x/S,K=ri(s.x,B,L),tt=ri(s.x,B-1,L),ct=ri(s.x,B+1,L),_t=Math.min(K,tt,ct);return _t===ct?1:_t===tt?-1:0}allowVariableZoom(s,d){return fr(s,d)>4}allowWorldCopies(){return!1}getTileBoundingVolume(s,d,_,S){return this._boundingVolumeCache.getTileBoundingVolume(s,d,_,S)}_computeTileBoundingVolume(s,d,_,S){var L,B;let K=_,tt=_;if(S?.terrain){const ct=new a.Z(s.z,d,s.z,s.x,s.y),_t=S.terrain.getMinMaxElevation(ct);K=(L=_t.minElevation)!==null&&L!==void 0?L:_,tt=(B=_t.maxElevation)!==null&&B!==void 0?B:_}if(K/=a.bt,tt/=a.bt,K+=1,tt+=1,s.z<=0)return $n.fromAabb([-tt,-tt,-tt],[tt,tt,tt]);if(s.z===1)return $n.fromAabb([s.x===0?-tt:0,s.y===0?0:-tt,-tt],[s.x===0?0:tt,s.y===0?tt:0,tt]);{const ct=[Bo(0,0,s.x,s.y,s.z),Bo(a.$,0,s.x,s.y,s.z),Bo(a.$,a.$,s.x,s.y,s.z),Bo(0,a.$,s.x,s.y,s.z)],_t=[];for(const Sr of ct)_t.push(a.aQ([],Sr,tt));if(tt!==K)for(const Sr of ct)_t.push(a.aQ([],Sr,K));s.y===0&&_t.push([0,1,0]),s.y===(1<<s.z)-1&&_t.push([0,-1,0]);const Rt=[1,1,1],Tt=[-1,-1,-1];for(const Sr of _t)for(let kr=0;kr<3;kr++)Rt[kr]=Math.min(Rt[kr],Sr[kr]),Tt[kr]=Math.max(Tt[kr],Sr[kr]);const zt=Bo(a.$/2,a.$/2,s.x,s.y,s.z),Zt=a.aV([],[0,1,0],zt);a.aU(Zt,Zt);const fe=a.aV([],zt,Zt);a.aU(fe,fe);const pe=a.aV([],ct[2],ct[1]);a.aU(pe,pe);const me=a.aV([],ct[0],ct[3]);a.aU(me,me),_t.push(a.aQ([],zt,tt)),s.y>=(1<<s.z)/2&&_t.push(a.aQ([],Bo(a.$/2,0,s.x,s.y,s.z),tt)),s.y<(1<<s.z)/2&&_t.push(a.aQ([],Bo(a.$/2,a.$,s.x,s.y,s.z),tt));const xe=wi(zt,_t),Be=wi(fe,_t),Le=[-zt[0],-zt[1],-zt[2],xe.max],$e=[zt[0],zt[1],zt[2],-xe.min],We=[-fe[0],-fe[1],-fe[2],Be.max],Ne=[fe[0],fe[1],fe[2],-Be.min],tr=[...pe,0],Ar=[...me,0],xr=[];return s.y===0?xr.push(a.bs(Ar,tr,Le),a.bs(Ar,tr,$e)):xr.push(a.bs(We,tr,Le),a.bs(We,tr,$e),a.bs(We,Ar,Le),a.bs(We,Ar,$e)),s.y===(1<<s.z)-1?xr.push(a.bs(Ar,tr,Le),a.bs(Ar,tr,$e)):xr.push(a.bs(Ne,tr,Le),a.bs(Ne,tr,$e),a.bs(Ne,Ar,Le),a.bs(Ne,Ar,$e)),new $n(xr,[Le,$e,We,Ne,tr,Ar],Rt,Tt)}}}function wi(N,s){let d=1/0,_=-1/0;for(const S of s){const L=a.aW(N,S);d=Math.min(d,L),_=Math.max(_,L)}return{min:d,max:_}}class xa{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,d,_){return this._helper.interpolatePadding(s,d,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,d){this._helper.resize(s,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,d){this._helper.overrideNearFarZ(s,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s){}constructor(){this._cachedClippingPlane=a.bu(),this._projectionMatrix=a.b8(),this._globeViewProjMatrix32f=a.b7(),this._globeViewProjMatrixNoCorrection=a.b8(),this._globeViewProjMatrixNoCorrectionInverted=a.b8(),this._globeProjMatrixInverted=a.b8(),this._cameraPosition=a.bo(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new ti({calcMatrices:()=>{this._calcMatrices()},getConstrained:(s,d)=>this.getConstrained(s,d)}),this._coveringTilesDetailsProvider=new Fi}clone(){const s=new xa;return s.apply(this),s}apply(s,d){this._globeLatitudeErrorCorrectionRadians=d||0,this._helper.apply(s)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const s=a.bo();return s[0]=this._cameraPosition[0],s[1]=this._cameraPosition[1],s[2]=this._cameraPosition[2],s}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(s){const{overscaledTileID:d,applyGlobeMatrix:_}=s,S=this._helper.getMercatorTileCoordinates(d);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:S,clippingPlane:this._cachedClippingPlane,projectionTransition:_?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(s){const d=this.pitchInRadians,_=this.cameraToCenterDistance/s,S=Math.sin(d)*_,L=Math.cos(d)*_+1,B=1/Math.sqrt(S*S+L*L)*1;let K=-S,tt=L;const ct=Math.sqrt(K*K+tt*tt);K/=ct,tt/=ct;const _t=[0,K,tt];a.bv(_t,_t,[0,0,0],-this.bearingInRadians),a.bw(_t,_t,[0,0,0],-1*this.center.lat*Math.PI/180),a.bx(_t,_t,[0,0,0],this.center.lng*Math.PI/180);const Rt=1/a.aY(_t);return a.aQ(_t,_t,Rt),[..._t,-B*Rt]}isLocationOccluded(s){return!this.isSurfacePointVisible(Ba(s))}transformLightDirection(s){const d=this._helper._center.lng*Math.PI/180,_=this._helper._center.lat*Math.PI/180,S=Math.cos(_),L=[Math.sin(d)*S,Math.sin(_),Math.cos(d)*S],B=[L[2],0,-L[0]],K=[0,0,0];a.aV(K,B,L),a.aU(B,B),a.aU(K,K);const tt=[0,0,0];return a.aU(tt,[B[0]*s[0]+K[0]*s[1]+L[0]*s[2],B[1]*s[0]+K[1]*s[1]+L[1]*s[2],B[2]*s[0]+K[2]*s[1]+L[2]*s[2]]),tt}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(s,d,_){const S=(function(K,tt,ct){const _t=1/(1<<ct.z);return new a.a0(K/a.$*_t+ct.x*_t,tt/a.$*_t+ct.y*_t)})(s,d,_.canonical),L=(B=S.y,[a.bn(S.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-B*Math.PI*2))-.5*Math.PI]);var B;return this.getCircleRadiusCorrection()/Math.cos(L[1])}projectTileCoordinates(s,d,_,S){const L=_.canonical,B=Bo(s,d,L.x,L.y,L.z),K=1+(S?S(s,d):0)/a.bt,tt=[B[0]*K,B[1]*K,B[2]*K,1];a.av(tt,tt,this._globeViewProjMatrixNoCorrection);const ct=this._cachedClippingPlane,_t=ct[0]*B[0]+ct[1]*B[1]+ct[2]*B[2]+ct[3]<0;return{point:new a.P(tt[0]/tt[3],tt[1]/tt[3]),signedDistanceFromCamera:tt[3],isOccluded:_t}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const s=zo(this.worldSize,this.center.lat),d=a.b9(),_=a.b9();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*s),a.b3(d,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const S=this.centerOffset;d[8]=2*-S.x/this._helper._width,d[9]=2*S.y/this._helper._height,this._projectionMatrix=a.b4(d),this._globeProjMatrixInverted=a.b9(),a.ap(this._globeProjMatrixInverted,d),a.M(d,d,[0,0,-this.cameraToCenterDistance]),a.b5(d,d,this.rollInRadians),a.b6(d,d,-this.pitchInRadians),a.b5(d,d,this.bearingInRadians),a.M(d,d,[0,0,-s]);const L=a.bo();L[0]=s,L[1]=s,L[2]=s,a.b6(_,d,this.center.lat*Math.PI/180),a.by(_,_,-this.center.lng*Math.PI/180),a.N(_,_,L),this._globeViewProjMatrixNoCorrection=_,a.b6(d,d,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.by(d,d,-this.center.lng*Math.PI/180),a.N(d,d,L),this._globeViewProjMatrix32f=new Float32Array(d),this._globeViewProjMatrixNoCorrectionInverted=a.b9(),a.ap(this._globeViewProjMatrixNoCorrectionInverted,_);const B=a.bo();this._cameraPosition=a.bo(),this._cameraPosition[2]=this.cameraToCenterDistance/s,a.bv(this._cameraPosition,this._cameraPosition,B,-this.rollInRadians),a.bw(this._cameraPosition,this._cameraPosition,B,this.pitchInRadians),a.bv(this._cameraPosition,this._cameraPosition,B,-this.bearingInRadians),a.aR(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bw(this._cameraPosition,this._cameraPosition,B,-this.center.lat*Math.PI/180),a.bx(this._cameraPosition,this._cameraPosition,B,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(s);const K=a.b4(this._globeViewProjMatrixNoCorrectionInverted);a.N(K,K,[1,1,-1]),this._cachedFrustum=Ln.fromInvProjectionMatrix(K,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(s){a.w("calculateFogMatrix is not supported on globe projection.");const d=a.b9();return a.af(d),d}getVisibleUnwrappedCoordinates(s){return[new a.b1(0,s)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){s&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,d){if(!this._globeViewProjMatrixNoCorrection)return 1;const _=Ba(s);a.aQ(_,_,1+d/a.bt);const S=a.bu();return a.av(S,[_[0],_[1],_[2],1],this._globeViewProjMatrixNoCorrection),S[2]/S[3]}populateCache(s){}getBounds(){const s=.5*this.width,d=.5*this.height,_=[new a.P(0,0),new a.P(s,0),new a.P(this.width,0),new a.P(this.width,d),new a.P(this.width,this.height),new a.P(s,this.height),new a.P(0,this.height),new a.P(0,d)],S=[];for(const Rt of _)S.push(this.unprojectScreenPoint(Rt));let L=0,B=0,K=0,tt=0;const ct=this.center;for(const Rt of S){const Tt=a.bz(ct.lng,Rt.lng),zt=a.bz(ct.lat,Rt.lat);Tt<B&&(B=Tt),Tt>L&&(L=Tt),zt<tt&&(tt=zt),zt>K&&(K=zt)}const _t=[ct.lng+B,ct.lat+tt,ct.lng+L,ct.lat+K];return this.isSurfacePointOnScreen([0,1,0])&&(_t[3]=90,_t[0]=-180,_t[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(_t[1]=-90,_t[0]=-180,_t[2]=180),new He(_t)}getConstrained(s,d){const _=a.ag(s.lat,-85.051129,a.ah),S=a.ag(+d,this.minZoom+ve(0,_),this.maxZoom);return{center:new a.S(s.lng,_),zoom:S}}calculateCenterFromCameraLngLatAlt(s,d,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(s,d,_,S)}setLocationAtPoint(s,d){const _=Ba(this.unprojectScreenPoint(d)),S=Ba(s),L=a.bo();a.bA(L);const B=a.bo();a.bx(B,_,L,-this.center.lng*Math.PI/180),a.bw(B,B,L,this.center.lat*Math.PI/180);const K=S[0]*S[0]+S[2]*S[2],tt=B[0]*B[0];if(K<tt)return;const ct=Math.sqrt(K-tt),_t=-ct,Rt=a.bB(S[0],S[2],B[0],ct),Tt=a.bB(S[0],S[2],B[0],_t),zt=a.bo();a.bx(zt,S,L,-Rt);const Zt=a.bB(zt[1],zt[2],B[1],B[2]),fe=a.bo();a.bx(fe,S,L,-Tt);const pe=a.bB(fe[1],fe[2],B[1],B[2]),me=.5*Math.PI,xe=Zt>=-me&&Zt<=me,Be=pe>=-me&&pe<=me;let Le,$e;if(xe&&Be){const Ar=this.center.lng*Math.PI/180,xr=this.center.lat*Math.PI/180;a.bC(Rt,Ar)+a.bC(Zt,xr)<a.bC(Tt,Ar)+a.bC(pe,xr)?(Le=Rt,$e=Zt):(Le=Tt,$e=pe)}else if(xe)Le=Rt,$e=Zt;else{if(!Be)return;Le=Tt,$e=pe}const We=Le/Math.PI*180,Ne=$e/Math.PI*180,tr=this.center.lat;this.setCenter(new a.S(We,a.ag(Ne,-90,90))),this.setZoom(this.zoom+ve(tr,this.center.lat))}locationToScreenPoint(s,d){const _=Ba(s);if(d){const S=d.getElevationForLngLatZoom(s,this._helper._tileZoom);a.aQ(_,_,1+S/a.bt)}return this._projectSurfacePointToScreen(_)}_projectSurfacePointToScreen(s){const d=a.bu();return a.av(d,[...s,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],new a.P((.5*d[0]+.5)*this.width,(.5*-d[1]+.5)*this.height)}screenPointToMercatorCoordinate(s,d){if(d){const _=d.pointCoordinate(s);if(_)return _}return a.a0.fromLngLat(this.unprojectScreenPoint(s))}screenPointToLocation(s,d){var _;return(_=this.screenPointToMercatorCoordinate(s,d))===null||_===void 0?void 0:_.toLngLat()}isPointOnMapSurface(s,d){const _=this._cameraPosition,S=this.getRayDirectionFromPixel(s);return!!this.rayPlanetIntersection(_,S)}getRayDirectionFromPixel(s){const d=a.bu();d[0]=s.x/this.width*2-1,d[1]=-1*(s.y/this.height*2-1),d[2]=1,d[3]=1,a.av(d,d,this._globeViewProjMatrixNoCorrectionInverted),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3];const _=a.bo();_[0]=d[0]-this._cameraPosition[0],_[1]=d[1]-this._cameraPosition[1],_[2]=d[2]-this._cameraPosition[2];const S=a.bo();return a.aU(S,_),S}isSurfacePointVisible(s){const d=this._cachedClippingPlane;return d[0]*s[0]+d[1]*s[1]+d[2]*s[2]+d[3]>=0}isSurfacePointOnScreen(s){if(!this.isSurfacePointVisible(s))return!1;const d=a.bu();return a.av(d,[...s,1],this._globeViewProjMatrixNoCorrection),d[0]/=d[3],d[1]/=d[3],d[2]/=d[3],d[0]>-1&&d[0]<1&&d[1]>-1&&d[1]<1&&d[2]>-1&&d[2]<1}rayPlanetIntersection(s,d){const _=a.aW(s,d),S=a.bo(),L=a.bo();a.aQ(L,d,_),a.aT(S,s,L);const B=1-a.aW(S,S);if(B<0)return null;const K=a.aW(s,s)-1,tt=-_+(_<0?1:-1)*Math.sqrt(B),ct=K/tt,_t=tt;return{tMin:Math.min(ct,_t),tMax:Math.max(ct,_t)}}unprojectScreenPoint(s){const d=this._cameraPosition,_=this.getRayDirectionFromPixel(s),S=this.rayPlanetIntersection(d,_);if(S){const _t=a.bo();a.aR(_t,d,[_[0]*S.tMin,_[1]*S.tMin,_[2]*S.tMin]);const Rt=a.bo();return a.aU(Rt,_t),ut(Rt)}const L=this._cachedClippingPlane,B=L[0]*_[0]+L[1]*_[1]+L[2]*_[2],K=-a.b0(L,d)/B,tt=a.bo();if(K>0)a.aR(tt,d,[_[0]*K,_[1]*K,_[2]*K]);else{const _t=a.bo();a.aR(_t,d,[2*_[0],2*_[1],2*_[2]]);const Rt=a.b0(this._cachedClippingPlane,_t);a.aT(tt,_t,[this._cachedClippingPlane[0]*Rt,this._cachedClippingPlane[1]*Rt,this._cachedClippingPlane[2]*Rt])}const ct=(function(_t){const Rt=a.bo();return Rt[0]=_t[0]*-_t[3],Rt[1]=_t[1]*-_t[3],Rt[2]=_t[2]*-_t[3],{center:Rt,radius:Math.sqrt(1-_t[3]*_t[3])}})(L);return ut((function(_t,Rt,Tt){const zt=a.bo();a.aT(zt,Tt,_t);const Zt=a.bo();return a.bp(Zt,_t,zt,Rt/a.a_(zt)),Zt})(ct.center,ct.radius,tt))}getMatrixForModel(s,d){const _=a.S.convert(s),S=1/a.bt,L=a.b8();return a.by(L,L,_.lng/180*Math.PI),a.b6(L,L,-_.lat/180*Math.PI),a.M(L,L,[0,0,1+d/a.bt]),a.b6(L,L,.5*Math.PI),a.N(L,L,[S,S,S]),L}getProjectionDataForCustomLayer(s=!0){const d=this.getProjectionData({overscaledTileID:new a.Z(0,0,0,0,0),applyGlobeMatrix:s});return d.tileMercatorCoords=[0,0,1,1],d}getFastPathSimpleProjectionMatrix(s){}}class Pi{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,d,_){return this._helper.interpolatePadding(s,d,_)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,d,_=!0){this._helper.resize(s,d,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}overrideNearFarZ(s,d){this._helper.overrideNearFarZ(s,d)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(s,d){this._globeness=s,this._globeLatitudeErrorCorrectionRadians=d,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new ti({calcMatrices:()=>{this._calcMatrices()},getConstrained:(s,d)=>this.getConstrained(s,d)}),this._globeness=1,this._mercatorTransform=new yi,this._verticalPerspectiveTransform=new xa}clone(){const s=new Pi;return s._globeness=this._globeness,s._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,s.apply(this),s}apply(s){this._helper.apply(s),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(s){const d=this._mercatorTransform.getProjectionData(s),_=this._verticalPerspectiveTransform.getProjectionData(s);return{mainMatrix:this.isGlobeRendering?_.mainMatrix:d.mainMatrix,clippingPlane:_.clippingPlane,tileMercatorCoords:_.tileMercatorCoords,projectionTransition:s.applyGlobeMatrix?this._globeness:0,fallbackMatrix:d.fallbackMatrix}}isLocationOccluded(s){return this.currentTransform.isLocationOccluded(s)}transformLightDirection(s){return this.currentTransform.transformLightDirection(s)}getPixelScale(){return a.bj(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bj(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(s,d,_){const S=this._mercatorTransform.getPitchedTextCorrection(s,d,_),L=this._verticalPerspectiveTransform.getPitchedTextCorrection(s,d,_);return a.bj(S,L,this._globeness)}projectTileCoordinates(s,d,_,S){return this.currentTransform.projectTileCoordinates(s,d,_,S)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(s){return this.currentTransform.calculateFogMatrix(s)}getVisibleUnwrappedCoordinates(s){return this.currentTransform.getVisibleUnwrappedCoordinates(s)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(s){this._mercatorTransform.recalculateZoomAndCenter(s),this._verticalPerspectiveTransform.recalculateZoomAndCenter(s)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,d){return this.currentTransform.lngLatToCameraDepth(s,d)}populateCache(s){this._mercatorTransform.populateCache(s),this._verticalPerspectiveTransform.populateCache(s)}getBounds(){return this.currentTransform.getBounds()}getConstrained(s,d){return this.currentTransform.getConstrained(s,d)}calculateCenterFromCameraLngLatAlt(s,d,_,S){return this._helper.calculateCenterFromCameraLngLatAlt(s,d,_,S)}setLocationAtPoint(s,d){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(s,d),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(s,d),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(s,d){return this.currentTransform.locationToScreenPoint(s,d)}screenPointToMercatorCoordinate(s,d){return this.currentTransform.screenPointToMercatorCoordinate(s,d)}screenPointToLocation(s,d){return this.currentTransform.screenPointToLocation(s,d)}isPointOnMapSurface(s,d){return this.currentTransform.isPointOnMapSurface(s,d)}getRayDirectionFromPixel(s){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(s)}getMatrixForModel(s,d){return this.currentTransform.getMatrixForModel(s,d)}getProjectionDataForCustomLayer(s=!0){const d=this._mercatorTransform.getProjectionDataForCustomLayer(s);if(!this.isGlobeRendering)return d;const _=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(s);return _.fallbackMatrix=d.mainMatrix,_}getFastPathSimpleProjectionMatrix(s){return this.currentTransform.getFastPathSimpleProjectionMatrix(s)}}class $i{get useGlobeControls(){return!0}handlePanInertia(s,d){const _=Xe(s,d);return Math.abs(_.lng-d.center.lng)>180&&(_.lng=d.center.lng+179.5*Math.sign(_.lng-d.center.lng)),{easingCenter:_,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(s,d){const _=s.around,S=d.screenPointToLocation(_);s.bearingDelta&&d.setBearing(d.bearing+s.bearingDelta),s.pitchDelta&&d.setPitch(d.pitch+s.pitchDelta),s.rollDelta&&d.setRoll(d.roll+s.rollDelta);const L=d.zoom;s.zoomDelta&&d.setZoom(d.zoom+s.zoomDelta);const B=d.zoom-L;if(B===0)return;const K=a.bz(d.center.lng,S.lng),tt=K/(Math.abs(K/180)+1),ct=a.bz(d.center.lat,S.lat),_t=d.getRayDirectionFromPixel(_),Rt=d.cameraPosition,Tt=-1*a.aW(Rt,_t),zt=a.bo();a.aR(zt,Rt,[_t[0]*Tt,_t[1]*Tt,_t[2]*Tt]);const Zt=a.aY(zt)-1,fe=Math.exp(.5*-Math.max(Zt-.3,0)),pe=zo(d.worldSize,d.center.lat)/Math.min(d.width,d.height),me=a.bm(pe,.9,.5,1,.25),xe=(1-a.ae(-B))*Math.min(fe,me),Be=d.center.lat,Le=d.zoom,$e=new a.S(d.center.lng+tt*xe,a.ag(d.center.lat+ct*xe,-85.051129,a.ah));d.setLocationAtPoint(S,_);const We=d.center,Ne=a.bm(Math.abs(K),45,85,0,1),tr=a.bm(pe,.75,.35,0,1),Ar=Math.pow(Math.max(Ne,tr),.25),xr=a.bz(We.lng,$e.lng),Sr=a.bz(We.lat,$e.lat);d.setCenter(new a.S(We.lng+xr*Ar,We.lat+Sr*Ar).wrap()),d.setZoom(Le+ve(Be,d.center.lat))}handleMapControlsPan(s,d,_){if(!s.panDelta)return;const S=d.center.lat,L=d.zoom;d.setCenter(Xe(s.panDelta,d).wrap()),d.setZoom(L+ve(S,d.center.lat))}cameraForBoxAndBearing(s,d,_,S,L){const B=Bi(s,d,_,S,L),K=d.left/L.width*2-1,tt=(L.width-d.right)/L.width*2-1,ct=d.top/L.height*-2+1,_t=(L.height-d.bottom)/L.height*-2+1,Rt=a.bz(_.getWest(),_.getEast())<0,Tt=Rt?_.getEast():_.getWest(),zt=Rt?_.getWest():_.getEast(),Zt=Math.max(_.getNorth(),_.getSouth()),fe=Math.min(_.getNorth(),_.getSouth()),pe=Tt+.5*a.bz(Tt,zt),me=Zt+.5*a.bz(Zt,fe),xe=L.clone();xe.setCenter(B.center),xe.setBearing(B.bearing),xe.setPitch(0),xe.setRoll(0),xe.setZoom(B.zoom);const Be=xe.modelViewProjectionMatrix,Le=[Ba(_.getNorthWest()),Ba(_.getNorthEast()),Ba(_.getSouthWest()),Ba(_.getSouthEast()),Ba(new a.S(zt,me)),Ba(new a.S(Tt,me)),Ba(new a.S(pe,Zt)),Ba(new a.S(pe,fe))],$e=Ba(B.center);let We=Number.POSITIVE_INFINITY;for(const Ne of Le)K<0&&(We=$i.getLesserNonNegativeNonNull(We,$i.solveVectorScale(Ne,$e,Be,"x",K))),tt>0&&(We=$i.getLesserNonNegativeNonNull(We,$i.solveVectorScale(Ne,$e,Be,"x",tt))),ct>0&&(We=$i.getLesserNonNegativeNonNull(We,$i.solveVectorScale(Ne,$e,Be,"y",ct))),_t<0&&(We=$i.getLesserNonNegativeNonNull(We,$i.solveVectorScale(Ne,$e,Be,"y",_t)));if(Number.isFinite(We)&&We!==0)return B.zoom=xe.zoom+a.aj(We),B;na()}handleJumpToCenterZoom(s,d){const _=s.center.lat,S=s.getConstrained(d.center?a.S.convert(d.center):s.center,s.zoom).center;s.setCenter(S.wrap());const L=d.zoom!==void 0?+d.zoom:s.zoom+ve(_,S.lat);s.zoom!==L&&s.setZoom(L)}handleEaseTo(s,d){const _=s.zoom,S=s.center,L=s.padding,B={roll:s.roll,pitch:s.pitch,bearing:s.bearing},K={roll:d.roll===void 0?s.roll:d.roll,pitch:d.pitch===void 0?s.pitch:d.pitch,bearing:d.bearing===void 0?s.bearing:d.bearing},tt=d.zoom!==void 0,ct=!s.isPaddingEqual(d.padding);let _t=!1;const Rt=d.center?a.S.convert(d.center):S,Tt=s.getConstrained(Rt,_).center;Wn(s,Tt);const zt=s.clone();zt.setCenter(Tt),zt.setZoom(tt?+d.zoom:_+ve(S.lat,Rt.lat)),zt.setBearing(d.bearing);const Zt=new a.P(a.ag(s.centerPoint.x+d.offsetAsPoint.x,0,s.width),a.ag(s.centerPoint.y+d.offsetAsPoint.y,0,s.height));zt.setLocationAtPoint(Tt,Zt);const fe=(d.offset&&d.offsetAsPoint.mag())>0?zt.center:Tt,pe=tt?+d.zoom:_+ve(S.lat,fe.lat),me=_+ve(S.lat,0),xe=pe+ve(fe.lat,0),Be=a.bz(S.lng,fe.lng),Le=a.bz(S.lat,fe.lat),$e=a.ae(xe-me);return _t=pe!==_,{easeFunc:We=>{if(a.bd(B,K)||Ii({startEulerAngles:B,endEulerAngles:K,tr:s,k:We,useSlerp:B.roll!=K.roll}),ct&&s.interpolatePadding(L,d.padding,We),d.around)a.w("Easing around a point is not supported under globe projection."),s.setLocationAtPoint(d.around,d.aroundPoint);else{const Ne=xe>me?Math.min(2,$e):Math.max(.5,$e),tr=Math.pow(Ne,1-We),Ar=Yr(S,Be,Le,We*tr);s.setCenter(Ar.wrap())}if(_t){const Ne=a.C.number(me,xe,We)+ve(0,s.center.lat);s.setZoom(Ne)}},isZooming:_t,elevationCenter:fe}}handleFlyTo(s,d){const _=d.zoom!==void 0,S=s.center,L=s.zoom,B=s.padding,K=!s.isPaddingEqual(d.padding),tt=s.getConstrained(a.S.convert(d.center||d.locationAtOffset),L).center,ct=_?+d.zoom:s.zoom+ve(s.center.lat,tt.lat),_t=s.clone();_t.setCenter(tt),_t.setZoom(ct),_t.setBearing(d.bearing);const Rt=new a.P(a.ag(s.centerPoint.x+d.offsetAsPoint.x,0,s.width),a.ag(s.centerPoint.y+d.offsetAsPoint.y,0,s.height));_t.setLocationAtPoint(tt,Rt);const Tt=_t.center;Wn(s,Tt);const zt=(function(Le,$e,We){const Ne=Ba($e),tr=Ba(We),Ar=a.aW(Ne,tr),xr=Math.acos(Ar),Sr=wo(Le);return xr/(2*Math.PI)*Sr})(s,S,Tt),Zt=L+ve(S.lat,0),fe=ct+ve(Tt.lat,0),pe=a.ae(fe-Zt);let me;if(typeof d.minZoom=="number"){const Le=+d.minZoom+ve(Tt.lat,0),$e=Math.min(Le,Zt,fe)+ve(0,Tt.lat),We=s.getConstrained(Tt,$e).zoom+ve(Tt.lat,0);me=a.ae(We-Zt)}const xe=a.bz(S.lng,Tt.lng),Be=a.bz(S.lat,Tt.lat);return{easeFunc:(Le,$e,We,Ne)=>{const tr=Yr(S,xe,Be,We);K&&s.interpolatePadding(B,d.padding,Le);const Ar=Le===1?Tt:tr;s.setCenter(Ar.wrap());const xr=Zt+a.aj($e);s.setZoom(Le===1?ct:xr+ve(0,Ar.lat))},scaleOfZoom:pe,targetCenter:Tt,scaleOfMinZoom:me,pixelPathLength:zt}}static solveVectorScale(s,d,_,S,L){const B=S==="x"?[_[0],_[4],_[8],_[12]]:[_[1],_[5],_[9],_[13]],K=[_[3],_[7],_[11],_[15]],tt=s[0]*B[0]+s[1]*B[1]+s[2]*B[2],ct=s[0]*K[0]+s[1]*K[1]+s[2]*K[2],_t=d[0]*B[0]+d[1]*B[1]+d[2]*B[2],Rt=d[0]*K[0]+d[1]*K[1]+d[2]*K[2];return _t+L*ct===tt+L*Rt||K[3]*(tt-_t)+B[3]*(Rt-ct)+tt*Rt==_t*ct?null:(_t+B[3]-L*Rt-L*K[3])/(_t-tt-L*Rt+L*ct)}static getLesserNonNegativeNonNull(s,d){return d!==null&&d>=0&&d<s?d:s}}class Lo{constructor(s){this._globe=s,this._mercatorCameraHelper=new la,this._verticalPerspectiveCameraHelper=new $i}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(s,d){return this.currentHelper.handlePanInertia(s,d)}handleMapControlsRollPitchBearingZoom(s,d){return this.currentHelper.handleMapControlsRollPitchBearingZoom(s,d)}handleMapControlsPan(s,d,_){this.currentHelper.handleMapControlsPan(s,d,_)}cameraForBoxAndBearing(s,d,_,S,L){return this.currentHelper.cameraForBoxAndBearing(s,d,_,S,L)}handleJumpToCenterZoom(s,d){this.currentHelper.handleJumpToCenterZoom(s,d)}handleEaseTo(s,d){return this.currentHelper.handleEaseTo(s,d)}handleFlyTo(s,d){return this.currentHelper.handleFlyTo(s,d)}}const Qa=(N,s)=>a.y(N,s&&s.filter((d=>d.identifier!=="source.canvas"))),ao=a.bD();class $l extends a.E{constructor(s,d={}){super(),this._rtlPluginLoaded=()=>{for(const _ in this.sourceCaches){const S=this.sourceCaches[_].getSource().type;S!=="vector"&&S!=="geojson"||this.sourceCaches[_].reload()}},this.map=s,this.dispatcher=new qt(Nt(),s._getMapId()),this.dispatcher.registerMessageHandler("GG",((_,S)=>this.getGlyphs(_,S))),this.dispatcher.registerMessageHandler("GI",((_,S)=>this.getImages(_,S))),this.imageManager=new it,this.imageManager.setEventedParent(this),this.glyphManager=new dt(s._requestManager,d.localIdeographFontFamily),this.lineAtlas=new It(256,512),this.crossTileSymbolIndex=new ee,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.bE,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",a.bF()),Or().on(Ir,this._rtlPluginLoaded),this.on("data",(_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const S=this.sourceCaches[_.sourceId];if(!S)return;const L=S.getSource();if(L&&L.vectorLayerIds)for(const B in this._layers){const K=this._layers[B];K.source===L.id&&this._validateLayer(K)}}))}setGlobalStateProperty(s,d){var _,S,L;this._checkLoaded();const B=d===null?(L=(S=(_=this.stylesheet.state)===null||_===void 0?void 0:_[s])===null||S===void 0?void 0:S.default)!==null&&L!==void 0?L:null:d;if(a.bG(B,this._globalState[s]))return this;this._globalState[s]=B;const K=this._findGlobalStateAffectedSources([s]);for(const tt in this.sourceCaches)K.has(tt)&&(this._reloadSource(tt),this._changed=!0)}getGlobalState(){return this._globalState}setGlobalState(s){this._checkLoaded();const d=[];for(const S in s)!a.bG(this._globalState[S],s[S].default)&&(d.push(S),this._globalState[S]=s[S].default);const _=this._findGlobalStateAffectedSources(d);for(const S in this.sourceCaches)_.has(S)&&(this._reloadSource(S),this._changed=!0)}_findGlobalStateAffectedSources(s){if(s.length===0)return new Set;const d=new Set;for(const _ in this._layers){const S=this._layers[_],L=S.getLayoutAffectingGlobalStateRefs();for(const B of s)L.has(B)&&d.add(S.source)}return d}loadURL(s,d={},_){this.fire(new a.l("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const S=this.map._requestManager.transformRequest(s,"Style");this._loadStyleRequest=new AbortController;const L=this._loadStyleRequest;a.j(S,this._loadStyleRequest).then((B=>{this._loadStyleRequest=null,this._load(B.data,d,_)})).catch((B=>{this._loadStyleRequest=null,B&&!L.signal.aborted&&this.fire(new a.k(B))}))}loadJSON(s,d={},_){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,R.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(s,d,_)})).catch((()=>{}))}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(ao,{validate:!1})}_load(s,d,_){var S,L,B;const K=d.transformStyle?d.transformStyle(_,s):s;if(!d.validate||!Qa(this,a.z(K))){this._loaded=!0,this.stylesheet=K;for(const tt in K.sources)this.addSource(tt,K.sources[tt],{validate:!1});K.sprite?this._loadSprite(K.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(K.glyphs),this._createLayers(),this.light=new pt(this.stylesheet.light),this._setProjectionInternal(((S=this.stylesheet.projection)===null||S===void 0?void 0:S.type)||"mercator"),this.sky=new vt(this.stylesheet.sky),this.map.setTerrain((L=this.stylesheet.terrain)!==null&&L!==void 0?L:null),this.setGlobalState((B=this.stylesheet.state)!==null&&B!==void 0?B:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){const s=a.bH(this.stylesheet.layers);this.dispatcher.broadcast("SL",s),this._order=s.map((d=>d.id)),this._layers={},this._serializedLayers=null;for(const d of s){const _=a.bI(d);_.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=_}}_loadSprite(s,d=!1,_=void 0){let S;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(L,B,K,tt){return a._(this,void 0,void 0,(function*(){const ct=Y(L),_t=K>1?"@2x":"",Rt={},Tt={};for(const{id:zt,url:Zt}of ct){const fe=B.transformRequest(rt(Zt,_t,".json"),"SpriteJSON");Rt[zt]=a.j(fe,tt);const pe=B.transformRequest(rt(Zt,_t,".png"),"SpriteImage");Tt[zt]=j.getImage(pe,tt)}return yield Promise.all([...Object.values(Rt),...Object.values(Tt)]),(function(zt,Zt){return a._(this,void 0,void 0,(function*(){const fe={};for(const pe in zt){fe[pe]={};const me=R.getImageCanvasContext((yield Zt[pe]).data),xe=(yield zt[pe]).data;for(const Be in xe){const{width:Le,height:$e,x:We,y:Ne,sdf:tr,pixelRatio:Ar,stretchX:xr,stretchY:Sr,content:kr,textFitWidth:Cn,textFitHeight:En}=xe[Be];fe[pe][Be]={data:null,pixelRatio:Ar,sdf:tr,stretchX:xr,stretchY:Sr,content:kr,textFitWidth:Cn,textFitHeight:En,spriteData:{width:Le,height:$e,x:We,y:Ne,context:me}}}}return fe}))})(Rt,Tt)}))})(s,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((L=>{if(this._spriteRequest=null,L)for(const B in L){this._spritesImagesIds[B]=[];const K=this._spritesImagesIds[B]?this._spritesImagesIds[B].filter((tt=>!(tt in L))):[];for(const tt of K)this.imageManager.removeImage(tt),this._changedImages[tt]=!0;for(const tt in L[B]){const ct=B==="default"?tt:`${B}:${tt}`;this._spritesImagesIds[B].push(ct),ct in this.imageManager.images?this.imageManager.updateImage(ct,L[B][tt],!1):this.imageManager.addImage(ct,L[B][tt]),d&&(this._changedImages[ct]=!0)}}})).catch((L=>{this._spriteRequest=null,S=L,this.fire(new a.k(S))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),_&&_(S)}))}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(s){const d=this.sourceCaches[s.source];if(!d)return;const _=s.sourceLayer;if(!_)return;const S=d.getSource();(S.type==="geojson"||S.vectorLayerIds&&S.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.k(new Error(`Source layer "${_}" does not exist on source "${S.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s,d=!1){const _=this._serializedAllLayers();if(!s||s.length===0)return Object.values(d?a.bJ(_):_);const S=[];for(const L of s)if(_[L]){const B=d?a.bJ(_[L]):_[L];S.push(B)}return S}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const d=Object.keys(this._layers);for(const _ of d){const S=this._layers[_];S.type!=="custom"&&(s[_]=S.serialize())}return s}hasTransitions(){var s,d,_;if(!((s=this.light)===null||s===void 0)&&s.hasTransition()||!((d=this.sky)===null||d===void 0)&&d.hasTransition()||!((_=this.projection)===null||_===void 0)&&_.hasTransition())return!0;for(const S in this.sourceCaches)if(this.sourceCaches[S].hasTransition())return!0;for(const S in this._layers)if(this._layers[S].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const d=this._changed;if(d){const S=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);(S.length||L.length)&&this._updateWorkerLayers(S,L);for(const B in this._updatedSources){const K=this._updatedSources[B];if(K==="reload")this._reloadSource(B);else{if(K!=="clear")throw new Error(`Invalid action ${K}`);this._clearSource(B)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const B in this._updatedPaintProps)this._layers[B].updateTransitions(s);this.light.updateTransitions(s),this.sky.updateTransitions(s),this._resetUpdates()}const _={};for(const S in this.sourceCaches){const L=this.sourceCaches[S];_[S]=L.used,L.used=!1}for(const S of this._order){const L=this._layers[S];L.recalculate(s,this._availableImages),!L.isHidden(s.zoom)&&L.source&&(this.sourceCaches[L.source].used=!0)}for(const S in _){const L=this.sourceCaches[S];!!_[S]!=!!L.used&&L.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:S}))}this.light.recalculate(s),this.sky.recalculate(s),this.projection.recalculate(s),this.z=s.zoom,d&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(s,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,d={}){var _;this._checkLoaded();const S=this.serialize();if(s=d.transformStyle?d.transformStyle(S,s):s,((_=d.validate)===null||_===void 0||_)&&Qa(this,a.z(s)))return!1;(s=a.bJ(s)).layers=a.bH(s.layers);const L=a.bK(S,s),B=this._getOperationsToPerform(L);if(B.unimplemented.length>0)throw new Error(`Unimplemented: ${B.unimplemented.join(", ")}.`);if(B.operations.length===0)return!1;for(const K of B.operations)K();return this.stylesheet=s,this._serializedLayers=null,!0}_getOperationsToPerform(s){const d=[],_=[];for(const S of s)switch(S.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":d.push((()=>this.addLayer.apply(this,S.args)));break;case"removeLayer":d.push((()=>this.removeLayer.apply(this,S.args)));break;case"setPaintProperty":d.push((()=>this.setPaintProperty.apply(this,S.args)));break;case"setLayoutProperty":d.push((()=>this.setLayoutProperty.apply(this,S.args)));break;case"setFilter":d.push((()=>this.setFilter.apply(this,S.args)));break;case"addSource":d.push((()=>this.addSource.apply(this,S.args)));break;case"removeSource":d.push((()=>this.removeSource.apply(this,S.args)));break;case"setLayerZoomRange":d.push((()=>this.setLayerZoomRange.apply(this,S.args)));break;case"setLight":d.push((()=>this.setLight.apply(this,S.args)));break;case"setGeoJSONSourceData":d.push((()=>this.setGeoJSONSourceData.apply(this,S.args)));break;case"setGlyphs":d.push((()=>this.setGlyphs.apply(this,S.args)));break;case"setSprite":d.push((()=>this.setSprite.apply(this,S.args)));break;case"setTerrain":d.push((()=>this.map.setTerrain.apply(this,S.args)));break;case"setSky":d.push((()=>this.setSky.apply(this,S.args)));break;case"setProjection":this.setProjection.apply(this,S.args);break;case"setGlobalState":d.push((()=>this.setGlobalState.apply(this,S.args)));break;case"setTransition":d.push((()=>{}));break;default:_.push(S.command)}return{operations:d,unimplemented:_}}addImage(s,d){if(this.getImage(s))return this.fire(new a.k(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,d),this._afterImageUpdated(s)}updateImage(s,d){this.imageManager.updateImage(s,d)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new a.k(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,d,_={}){if(this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(a.z.source,`sources.${s}`,d,null,_))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const S=this.sourceCaches[s]=new cr(s,d,this.dispatcher);S.style=this,S.setEventedParent(this,(()=>({isSourceLoaded:S.loaded(),source:S.serialize(),sourceId:s}))),S.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===s)return this.fire(new a.k(new Error(`Source "${s}" cannot be removed while layer "${_}" is using it.`)));const d=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],d.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,d){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error(`There is no source with this ID=${s}`);const _=this.sourceCaches[s].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(d),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,d,_={}){this._checkLoaded();const S=s.id;if(this.getLayer(S))return void this.fire(new a.k(new Error(`Layer "${S}" already exists on this map.`)));let L;if(s.type==="custom"){if(Qa(this,a.bL(s)))return;L=a.bI(s)}else{if("source"in s&&typeof s.source=="object"&&(this.addSource(S,s.source),s=a.bJ(s),s=a.e(s,{source:S})),this._validate(a.z.layer,`layers.${S}`,s,{arrayIndex:-1},_))return;L=a.bI(s),this._validateLayer(L),L.setEventedParent(this,{layer:{id:S}})}const B=d?this._order.indexOf(d):this._order.length;if(d&&B===-1)this.fire(new a.k(new Error(`Cannot add layer "${S}" before non-existing layer "${d}".`)));else{if(this._order.splice(B,0,S),this._layerOrderChanged=!0,this._layers[S]=L,this._removedLayers[S]&&L.source&&L.type!=="custom"){const K=this._removedLayers[S];delete this._removedLayers[S],K.type!==L.type?this._updatedSources[L.source]="clear":(this._updatedSources[L.source]="reload",this.sourceCaches[L.source].pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map)}}moveLayer(s,d){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new a.k(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===d)return;const _=this._order.indexOf(s);this._order.splice(_,1);const S=d?this._order.indexOf(d):this._order.length;d&&S===-1?this.fire(new a.k(new Error(`Cannot move layer "${s}" before non-existing layer "${d}".`))):(this._order.splice(S,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const d=this._layers[s];if(!d)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${s}".`)));d.setEventedParent(null);const _=this._order.indexOf(s);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=d,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],d.onRemove&&d.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,d,_){this._checkLoaded();const S=this.getLayer(s);S?S.minzoom===d&&S.maxzoom===_||(d!=null&&(S.minzoom=d),_!=null&&(S.maxzoom=_),this._updateLayer(S)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,d,_={}){this._checkLoaded();const S=this.getLayer(s);if(S){if(!a.bG(S.filter,d))return d==null?(S.setFilter(void 0),void this._updateLayer(S)):void(this._validate(a.z.filter,`layers.${S.id}.filter`,d,null,_)||(S.setFilter(a.bJ(d)),this._updateLayer(S)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return a.bJ(this.getLayer(s).filter)}setLayoutProperty(s,d,_,S={}){this._checkLoaded();const L=this.getLayer(s);L?a.bG(L.getLayoutProperty(d),_)||(L.setLayoutProperty(d,_,S),this._updateLayer(L)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,d){const _=this.getLayer(s);if(_)return _.getLayoutProperty(d);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,d,_,S={}){this._checkLoaded();const L=this.getLayer(s);L?a.bG(L.getPaintProperty(d),_)||(L.setPaintProperty(d,_,S)&&this._updateLayer(L),this._changed=!0,this._updatedPaintProps[s]=!0,this._serializedLayers=null):this.fire(new a.k(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,d){return this.getLayer(s).getPaintProperty(d)}setFeatureState(s,d){this._checkLoaded();const _=s.source,S=s.sourceLayer,L=this.sourceCaches[_];if(L===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const B=L.getSource().type;B==="geojson"&&S?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):B!=="vector"||S?(s.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),L.setFeatureState(S,s.id,d)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,d){this._checkLoaded();const _=s.source,S=this.sourceCaches[_];if(S===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const L=S.getSource().type,B=L==="vector"?s.sourceLayer:void 0;L!=="vector"||B?d&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):S.removeFeatureState(B,s.id,d):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const d=s.source,_=s.sourceLayer,S=this.sourceCaches[d];if(S!==void 0)return S.getSource().type!=="vector"||_?(s.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),S.getFeatureState(_,s.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=a.bM(this.sourceCaches,(L=>L.serialize())),d=this._serializeByIds(this._order,!0),_=this.map.getTerrain()||void 0,S=this.stylesheet;return a.bN({version:S.version,name:S.name,metadata:S.metadata,light:S.light,sky:S.sky,center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,sprite:S.sprite,glyphs:S.glyphs,transition:S.transition,projection:S.projection,sources:s,layers:d,terrain:_},(L=>L!==void 0))}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const d=B=>this._layers[B].type==="fill-extrusion",_={},S=[];for(let B=this._order.length-1;B>=0;B--){const K=this._order[B];if(d(K)){_[K]=B;for(const tt of s){const ct=tt[K];if(ct)for(const _t of ct)S.push(_t)}}}S.sort(((B,K)=>K.intersectionZ-B.intersectionZ));const L=[];for(let B=this._order.length-1;B>=0;B--){const K=this._order[B];if(d(K))for(let tt=S.length-1;tt>=0;tt--){const ct=S[tt].feature;if(_[ct.layer.id]<B)break;L.push(ct),S.pop()}else for(const tt of s){const ct=tt[K];if(ct)for(const _t of ct)L.push(_t.feature)}}return L}queryRenderedFeatures(s,d,_){d&&d.filter&&this._validate(a.z.filter,"queryRenderedFeatures.filter",d.filter,null,d);const S={};if(d&&d.layers){if(!(Array.isArray(d.layers)||d.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const ct of d.layers){const _t=this._layers[ct];if(!_t)return this.fire(new a.k(new Error(`The layer '${ct}' does not exist in the map's style and cannot be queried for features.`))),[];S[_t.source]=!0}}const L=[];d.availableImages=this._availableImages;const B=this._serializedAllLayers(),K=d.layers instanceof Set?d.layers:Array.isArray(d.layers)?new Set(d.layers):null,tt=Object.assign(Object.assign({},d),{layers:K});for(const ct in this.sourceCaches)d.layers&&!S[ct]||L.push(ce(this.sourceCaches[ct],this._layers,B,s,tt,_,this.map.terrain?(_t,Rt,Tt)=>this.map.terrain.getElevation(_t,Rt,Tt):void 0));return this.placement&&L.push((function(ct,_t,Rt,Tt,zt,Zt,fe){const pe={},me=Zt.queryRenderedSymbols(Tt),xe=[];for(const Be of Object.keys(me).map(Number))xe.push(fe[Be]);xe.sort(de);for(const Be of xe){const Le=Be.featureIndex.lookupSymbolFeatures(me[Be.bucketInstanceId],_t,Be.bucketIndex,Be.sourceLayerIndex,zt.filter,zt.layers,zt.availableImages,ct);for(const $e in Le){const We=pe[$e]=pe[$e]||[],Ne=Le[$e];Ne.sort(((tr,Ar)=>{const xr=Be.featureSortOrder;if(xr){const Sr=xr.indexOf(tr.featureIndex);return xr.indexOf(Ar.featureIndex)-Sr}return Ar.featureIndex-tr.featureIndex}));for(const tr of Ne)We.push(tr)}}return(function(Be,Le,$e){for(const We in Be)for(const Ne of Be[We])Se(Ne,$e[Le[We].source]);return Be})(pe,ct,Rt)})(this._layers,B,this.sourceCaches,s,tt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(s,d){d&&d.filter&&this._validate(a.z.filter,"querySourceFeatures.filter",d.filter,null,d);const _=this.sourceCaches[s];return _?(function(S,L){const B=S.getRenderableIds().map((ct=>S.getTileByID(ct))),K=[],tt={};for(let ct=0;ct<B.length;ct++){const _t=B[ct],Rt=_t.tileID.canonical.key;tt[Rt]||(tt[Rt]=!0,_t.querySourceFeatures(K,L))}return K})(_,d):[]}getLight(){return this.light.getLight()}setLight(s,d={}){this._checkLoaded();const _=this.light.getLight();let S=!1;for(const B in s)if(!a.bG(s[B],_[B])){S=!0;break}if(!S)return;const L={now:R.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,d),this.light.updateTransitions(L)}getProjection(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.projection}setProjection(s){if(this._checkLoaded(),this.projection){if(this.projection.name===s.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=s,this._setProjectionInternal(s.type)}getSky(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.sky}setSky(s,d={}){this._checkLoaded();const _=this.getSky();let S=!1;if(!s&&!_)return;if(s&&!_)S=!0;else if(!s&&_)S=!0;else for(const B in s)if(!a.bG(s[B],_[B])){S=!0;break}if(!S)return;const L={now:R.now(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=s,this.sky.setSky(s,d),this.sky.updateTransitions(L)}_setProjectionInternal(s){const d=(function(_){if(Array.isArray(_)){const S=new Vl({type:_});return{projection:S,transform:new Pi,cameraHelper:new Lo(S)}}switch(_){case"mercator":return{projection:new Sn,transform:new yi,cameraHelper:new la};case"globe":{const S=new Vl({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:S,transform:new Pi,cameraHelper:new Lo(S)}}case"vertical-perspective":return{projection:new Cl,transform:new xa,cameraHelper:new $i};default:return a.w(`Unknown projection name: ${_}. Falling back to mercator projection.`),{projection:new Sn,transform:new yi,cameraHelper:new la}}})(s);this.projection=d.projection,this.map.migrateProjection(d.transform,d.cameraHelper);for(const _ in this.sourceCaches)this.sourceCaches[_].reload()}_validate(s,d,_,S,L={}){return(!L||L.validate!==!1)&&Qa(this,s.call(a.z,a.e({key:d,style:this.serialize(),value:_,styleSpec:a.v},S)))}_remove(s=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Or().off(Ir,this._rtlPluginLoaded);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const _=this.sourceCaches[d];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),s&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(const d in this.sourceCaches)this.sourceCaches[d].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,d,_,S,L=!1){let B=!1,K=!1;const tt={};for(const ct of this._order){const _t=this._layers[ct];if(_t.type!=="symbol")continue;if(!tt[_t.source]){const Tt=this.sourceCaches[_t.source];tt[_t.source]=Tt.getRenderableIds(!0).map((zt=>Tt.getTileByID(zt))).sort(((zt,Zt)=>Zt.tileID.overscaledZ-zt.tileID.overscaledZ||(zt.tileID.isLessThan(Zt.tileID)?-1:1)))}const Rt=this.crossTileSymbolIndex.addLayer(_t,tt[_t.source],s.center.lng);B=B||Rt}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((L=L||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(R.now(),s.zoom))&&(this.pauseablePlacement=new Zo(s,this.map.terrain,this._order,L,d,_,S,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,tt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(R.now()),K=!0),B&&this.pauseablePlacement.placement.setStale()),K||B)for(const ct of this._order){const _t=this._layers[ct];_t.type==="symbol"&&this.placement.updateLayerOpacities(_t,tt[_t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(R.now())}_releaseSymbolFadeTiles(){for(const s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,d){return a._(this,void 0,void 0,(function*(){const _=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();const S=this.sourceCaches[d.source];return S&&S.setDependencies(d.tileID.key,d.type,d.icons),_}))}getGlyphs(s,d){return a._(this,void 0,void 0,(function*(){const _=yield this.glyphManager.getGlyphs(d.stacks),S=this.sourceCaches[d.source];return S&&S.setDependencies(d.tileID.key,d.type,[""]),_}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,d={}){this._checkLoaded(),s&&this._validate(a.z.glyphs,"glyphs",s,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,d,_={},S){this._checkLoaded();const L=[{id:s,url:d}],B=[...Y(this.stylesheet.sprite),...L];this._validate(a.z.sprite,"sprite",B,null,_)||(this.stylesheet.sprite=B,this._loadSprite(L,!0,S))}removeSprite(s){this._checkLoaded();const d=Y(this.stylesheet.sprite);if(d.find((_=>_.id===s))){if(this._spritesImagesIds[s])for(const _ of this._spritesImagesIds[s])this.imageManager.removeImage(_),this._changedImages[_]=!0;d.splice(d.findIndex((_=>_.id===s)),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return Y(this.stylesheet.sprite)}setSprite(s,d={},_){this._checkLoaded(),s&&this._validate(a.z.sprite,"sprite",s,null,d)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,_):(this._unloadSprite(),_&&_(null)))}}var wu=a.aI([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ic{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,d,_,S,L,B,K,tt,ct){this.context=s;let _t=this.boundPaintVertexBuffers.length!==S.length;for(let Rt=0;!_t&&Rt<S.length;Rt++)this.boundPaintVertexBuffers[Rt]!==S[Rt]&&(_t=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==_||_t||this.boundIndexBuffer!==L||this.boundVertexOffset!==B||this.boundDynamicVertexBuffer!==K||this.boundDynamicVertexBuffer2!==tt||this.boundDynamicVertexBuffer3!==ct?this.freshBind(d,_,S,L,B,K,tt,ct):(s.bindVertexArray.set(this.vao),K&&K.bind(),L&&L.dynamicDraw&&L.bind(),tt&&tt.bind(),ct&&ct.bind())}freshBind(s,d,_,S,L,B,K,tt){const ct=s.numAttributes,_t=this.context,Rt=_t.gl;this.vao&&this.destroy(),this.vao=_t.createVertexArray(),_t.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=S,this.boundVertexOffset=L,this.boundDynamicVertexBuffer=B,this.boundDynamicVertexBuffer2=K,this.boundDynamicVertexBuffer3=tt,d.enableAttributes(Rt,s);for(const Tt of _)Tt.enableAttributes(Rt,s);B&&B.enableAttributes(Rt,s),K&&K.enableAttributes(Rt,s),tt&&tt.enableAttributes(Rt,s),d.bind(),d.setVertexAttribPointers(Rt,s,L);for(const Tt of _)Tt.bind(),Tt.setVertexAttribPointers(Rt,s,L);B&&(B.bind(),B.setVertexAttribPointers(Rt,s,L)),S&&S.bind(),K&&(K.bind(),K.setVertexAttribPointers(Rt,s,L)),tt&&(tt.bind(),tt.setVertexAttribPointers(Rt,s,L)),_t.currentNumAttributes=ct}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Ul=(N,s,d,_,S)=>({u_texture:0,u_ele_delta:N,u_fog_matrix:s,u_fog_color:d?d.properties.get("fog-color"):a.be.white,u_fog_ground_blend:d?d.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:S?0:d?d.calculateFogBlendOpacity(_):0,u_horizon_color:d?d.properties.get("horizon-color"):a.be.white,u_horizon_fog_blend:d?d.properties.get("horizon-fog-blend"):1,u_is_globe_mode:S?1:0}),Rc={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function po(N){const s=[];for(let d=0;d<N.length;d++){if(N[d]===null)continue;const _=N[d].split(" ");s.push(_.pop())}return s}class Su{constructor(s,d,_,S,L,B,K,tt,ct=[]){const _t=s.gl;this.program=_t.createProgram();const Rt=po(d.staticAttributes),Tt=_?_.getBinderAttributes():[],zt=Rt.concat(Tt),Zt=qe.prelude.staticUniforms?po(qe.prelude.staticUniforms):[],fe=K.staticUniforms?po(K.staticUniforms):[],pe=d.staticUniforms?po(d.staticUniforms):[],me=_?_.getBinderUniforms():[],xe=Zt.concat(fe).concat(pe).concat(me),Be=[];for(const xr of xe)Be.indexOf(xr)<0&&Be.push(xr);const Le=_?_.defines():[];No(_t)&&Le.unshift("#version 300 es"),L&&Le.push("#define OVERDRAW_INSPECTOR;"),B&&Le.push("#define TERRAIN3D;"),tt&&Le.push(tt),ct&&Le.push(...ct);let $e=Le.concat(qe.prelude.fragmentSource,K.fragmentSource,d.fragmentSource).join(`
`),We=Le.concat(qe.prelude.vertexSource,K.vertexSource,d.vertexSource).join(`
`);No(_t)||($e=(function(xr){return xr.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})($e),We=(function(xr){return xr.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(We));const Ne=_t.createShader(_t.FRAGMENT_SHADER);if(_t.isContextLost())return void(this.failedToCreate=!0);if(_t.shaderSource(Ne,$e),_t.compileShader(Ne),!_t.getShaderParameter(Ne,_t.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${_t.getShaderInfoLog(Ne)}`);_t.attachShader(this.program,Ne);const tr=_t.createShader(_t.VERTEX_SHADER);if(_t.isContextLost())return void(this.failedToCreate=!0);if(_t.shaderSource(tr,We),_t.compileShader(tr),!_t.getShaderParameter(tr,_t.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${_t.getShaderInfoLog(tr)}`);_t.attachShader(this.program,tr),this.attributes={};const Ar={};this.numAttributes=zt.length;for(let xr=0;xr<this.numAttributes;xr++)zt[xr]&&(_t.bindAttribLocation(this.program,xr,zt[xr]),this.attributes[zt[xr]]=xr);if(_t.linkProgram(this.program),!_t.getProgramParameter(this.program,_t.LINK_STATUS))throw new Error(`Program failed to link: ${_t.getProgramInfoLog(this.program)}`);_t.deleteShader(tr),_t.deleteShader(Ne);for(let xr=0;xr<Be.length;xr++){const Sr=Be[xr];if(Sr&&!Ar[Sr]){const kr=_t.getUniformLocation(this.program,Sr);kr&&(Ar[Sr]=kr)}}this.fixedUniforms=S(s,Ar),this.terrainUniforms=((xr,Sr)=>({u_depth:new a.bO(xr,Sr.u_depth),u_terrain:new a.bO(xr,Sr.u_terrain),u_terrain_dim:new a.bf(xr,Sr.u_terrain_dim),u_terrain_matrix:new a.bQ(xr,Sr.u_terrain_matrix),u_terrain_unpack:new a.bR(xr,Sr.u_terrain_unpack),u_terrain_exaggeration:new a.bf(xr,Sr.u_terrain_exaggeration)}))(s,Ar),this.projectionUniforms=((xr,Sr)=>({u_projection_matrix:new a.bQ(xr,Sr.u_projection_matrix),u_projection_tile_mercator_coords:new a.bR(xr,Sr.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.bR(xr,Sr.u_projection_clipping_plane),u_projection_transition:new a.bf(xr,Sr.u_projection_transition),u_projection_fallback_matrix:new a.bQ(xr,Sr.u_projection_fallback_matrix)}))(s,Ar),this.binderUniforms=_?_.getUniforms(s,Ar):[]}draw(s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt,zt,Zt,fe,pe,me,xe,Be){const Le=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(_),s.setStencilMode(S),s.setColorMode(L),s.setCullFace(B),tt){s.activeTexture.set(Le.TEXTURE2),Le.bindTexture(Le.TEXTURE_2D,tt.depthTexture),s.activeTexture.set(Le.TEXTURE3),Le.bindTexture(Le.TEXTURE_2D,tt.texture);for(const We in this.terrainUniforms)this.terrainUniforms[We].set(tt[We])}if(ct)for(const We in ct)this.projectionUniforms[Rc[We]].set(ct[We]);if(K)for(const We in this.fixedUniforms)this.fixedUniforms[We].set(K[We]);pe&&pe.setUniforms(s,this.binderUniforms,Zt,{zoom:fe});let $e=0;switch(d){case Le.LINES:$e=2;break;case Le.TRIANGLES:$e=3;break;case Le.LINE_STRIP:$e=1}for(const We of zt.get()){const Ne=We.vaos||(We.vaos={});(Ne[_t]||(Ne[_t]=new Ic)).bind(s,this,Rt,pe?pe.getPaintVertexBuffers():[],Tt,We.vertexOffset,me,xe,Be),Le.drawElements(d,We.primitiveLength*$e,Le.UNSIGNED_SHORT,We.primitiveOffset*$e*2)}}}function vc(N,s,d){const _=1/a.aB(d,1,s.transform.tileZoom),S=Math.pow(2,d.tileID.overscaledZ),L=d.tileSize*Math.pow(2,s.transform.tileZoom)/S,B=L*(d.tileID.canonical.x+d.tileID.wrap*S),K=L*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[_,N.fromScale,N.toScale],u_fade:N.t,u_pixel_coord_upper:[B>>16,K>>16],u_pixel_coord_lower:[65535&B,65535&K]}}const ql=(N,s,d,_)=>{const S=N.style.light,L=S.properties.get("position"),B=[L.x,L.y,L.z],K=a.bU();S.properties.get("anchor")==="viewport"&&a.bV(K,N.transform.bearingInRadians),a.bW(B,B,K);const tt=N.transform.transformLightDirection(B),ct=S.properties.get("color");return{u_lightpos:B,u_lightpos_globe:tt,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[ct.r,ct.g,ct.b],u_vertical_gradient:+s,u_opacity:d,u_fill_translate:_}},So=(N,s,d,_,S,L,B)=>a.e(ql(N,s,d,_),vc(L,N,B),{u_height_factor:-Math.pow(2,S.overscaledZ)/B.tileSize/8}),Fo=(N,s,d,_)=>a.e(vc(s,N,d),{u_fill_translate:_}),Ja=(N,s)=>({u_world:N,u_fill_translate:s}),hu=(N,s,d,_,S)=>a.e(Fo(N,s,d,S),{u_world:_}),$u=(N,s,d,_,S)=>{const L=N.transform;let B,K,tt=0;if(d.paint.get("circle-pitch-alignment")==="map"){const ct=a.aB(s,1,L.zoom);B=!0,K=[ct,ct],tt=ct/(a.$*Math.pow(2,s.tileID.overscaledZ))*2*Math.PI*S}else B=!1,K=L.pixelsToGLUnits;return{u_camera_to_center_distance:L.cameraToCenterDistance,u_scale_with_map:+(d.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+B,u_device_pixel_ratio:N.pixelRatio,u_extrude_scale:K,u_globe_extrude_scale:tt,u_translate:_}},oo=N=>({u_pixel_extrude_scale:[1/N.width,1/N.height]}),bc=N=>({u_viewport_size:[N.width,N.height]}),Uu=(N,s=1)=>({u_color:N,u_overlay:0,u_overlay_scale:s}),il=(N,s,d,_)=>{const S=a.aB(N,1,s)/(a.$*Math.pow(2,N.tileID.overscaledZ))*2*Math.PI*_;return{u_extrude_scale:a.aB(N,1,s),u_intensity:d,u_globe_extrude_scale:S}},ws=(N,s,d,_)=>{const S=a.L();a.bX(S,0,N.width,N.height,0,0,1);const L=N.context.gl;return{u_matrix:S,u_world:[L.drawingBufferWidth,L.drawingBufferHeight],u_image:d,u_color_ramp:_,u_opacity:s.paint.get("heatmap-opacity")}},Zs=(N,s,d)=>{const _=d.paint.get("hillshade-accent-color");let S;switch(d.paint.get("hillshade-method")){case"basic":S=4;break;case"combined":S=1;break;case"igor":S=2;break;case"multidirectional":S=3;break;default:S=0}const L=d.getIlluminationProperties();for(let B=0;B<L.directionRadians.length;B++)d.paint.get("hillshade-illumination-anchor")==="viewport"&&(L.directionRadians[B]+=N.transform.bearingInRadians);return{u_image:0,u_latrange:Hc(0,s.tileID),u_exaggeration:d.paint.get("hillshade-exaggeration"),u_altitudes:L.altitudeRadians,u_azimuths:L.directionRadians,u_accent:_,u_method:S,u_highlights:L.highlightColor,u_shadows:L.shadowColor}},mh=(N,s)=>{const d=s.stride,_=a.L();return a.bX(_,0,a.$,-8192,0,0,1),a.M(_,_,[0,-8192,0]),{u_matrix:_,u_image:1,u_dimension:[d,d],u_zoom:N.overscaledZ,u_unpack:s.getUnpackVector()}};function Hc(N,s){const d=Math.pow(2,s.canonical.z),_=s.canonical.y;return[new a.a0(0,_/d).toLngLat().lat,new a.a0(0,(_+1)/d).toLngLat().lat]}const qu=(N,s)=>({u_image:0,u_unpack:s.getUnpackVector(),u_dimension:[s.stride,s.stride],u_elevation_stops:1,u_color_stops:4,u_opacity:N.paint.get("color-relief-opacity")}),Gl=(N,s,d,_)=>{const S=N.transform;return{u_translation:Hu(N,s,d),u_ratio:_/a.aB(s,1,S.zoom),u_device_pixel_ratio:N.pixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},jo=(N,s,d,_,S)=>a.e(Gl(N,s,d,_),{u_image:0,u_image_height:S}),Ss=(N,s,d,_,S)=>{const L=N.transform,B=Es(s,L);return{u_translation:Hu(N,s,d),u_texsize:s.imageAtlasTexture.size,u_ratio:_/a.aB(s,1,L.zoom),u_device_pixel_ratio:N.pixelRatio,u_image:0,u_scale:[B,S.fromScale,S.toScale],u_fade:S.t,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},Gu=(N,s,d,_,S,L)=>{const B=N.lineAtlas,K=Es(s,N.transform),tt=d.layout.get("line-cap")==="round",ct=B.getDash(S.from,tt),_t=B.getDash(S.to,tt),Rt=ct.width*L.fromScale,Tt=_t.width*L.toScale;return a.e(Gl(N,s,d,_),{u_patternscale_a:[K/Rt,-ct.height/2],u_patternscale_b:[K/Tt,-_t.height/2],u_sdfgamma:B.width/(256*Math.min(Rt,Tt)*N.pixelRatio)/2,u_image:0,u_tex_y_a:ct.y,u_tex_y_b:_t.y,u_mix:L.t})};function Es(N,s){return 1/a.aB(N,1,s.tileZoom)}function Hu(N,s,d){return a.aC(N.transform,s,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Ps=(N,s,d,_,S)=>{return{u_tl_parent:N,u_scale_parent:s,u_buffer_scale:1,u_fade_t:d.mix,u_opacity:d.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(B=_.paint.get("raster-saturation"),B>0?1-1/(1.001-B):-B),u_contrast_factor:(L=_.paint.get("raster-contrast"),L>0?1/(1-L):1+L),u_spin_weights:du(_.paint.get("raster-hue-rotate")),u_coords_top:[S[0].x,S[0].y,S[1].x,S[1].y],u_coords_bottom:[S[3].x,S[3].y,S[2].x,S[2].y]};var L,B};function du(N){N*=Math.PI/180;const s=Math.sin(N),d=Math.cos(N);return[(2*d+1)/3,(-Math.sqrt(3)*s-d+1)/3,(Math.sqrt(3)*s-d+1)/3]}const Eo=(N,s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt)=>{const zt=B.transform;return{u_is_size_zoom_constant:+(N==="constant"||N==="source"),u_is_size_feature_constant:+(N==="constant"||N==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:zt.cameraToCenterDistance,u_pitch:zt.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:zt.width/zt.height,u_fade_change:B.options.fadeDuration?B.symbolFadeChange:1,u_label_plane_matrix:K,u_coord_matrix:tt,u_is_text:+_t,u_pitch_with_map:+_,u_is_along_line:S,u_is_variable_anchor:L,u_texsize:Rt,u_texture:0,u_translation:ct,u_pitched_scale:Tt}},fu=(N,s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt,zt)=>{const Zt=B.transform;return a.e(Eo(N,s,d,_,S,L,B,K,tt,ct,_t,Rt,zt),{u_gamma_scale:_?Math.cos(Zt.pitch*Math.PI/180)*Zt.cameraToCenterDistance:1,u_device_pixel_ratio:B.pixelRatio,u_is_halo:1})},pu=(N,s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt)=>a.e(fu(N,s,d,_,S,L,B,K,tt,ct,!0,_t,0,Tt),{u_texsize_icon:Rt,u_texture_icon:1}),Al=(N,s)=>({u_opacity:N,u_color:s}),_c=(N,s,d,_,S)=>a.e((function(L,B,K,tt){const ct=K.imageManager.getPattern(L.from.toString()),_t=K.imageManager.getPattern(L.to.toString()),{width:Rt,height:Tt}=K.imageManager.getPixelSize(),zt=Math.pow(2,tt.tileID.overscaledZ),Zt=tt.tileSize*Math.pow(2,K.transform.tileZoom)/zt,fe=Zt*(tt.tileID.canonical.x+tt.tileID.wrap*zt),pe=Zt*tt.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ct.tl,u_pattern_br_a:ct.br,u_pattern_tl_b:_t.tl,u_pattern_br_b:_t.br,u_texsize:[Rt,Tt],u_mix:B.t,u_pattern_size_a:ct.displaySize,u_pattern_size_b:_t.displaySize,u_scale_a:B.fromScale,u_scale_b:B.toScale,u_tile_units_to_pixels:1/a.aB(tt,1,K.transform.tileZoom),u_pixel_coord_upper:[fe>>16,pe>>16],u_pixel_coord_lower:[65535&fe,65535&pe]}})(d,S,s,_),{u_opacity:N}),Xc=(N,s)=>{},Eu={fillExtrusion:(N,s)=>({u_lightpos:new a.bS(N,s.u_lightpos),u_lightpos_globe:new a.bS(N,s.u_lightpos_globe),u_lightintensity:new a.bf(N,s.u_lightintensity),u_lightcolor:new a.bS(N,s.u_lightcolor),u_vertical_gradient:new a.bf(N,s.u_vertical_gradient),u_opacity:new a.bf(N,s.u_opacity),u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillExtrusionPattern:(N,s)=>({u_lightpos:new a.bS(N,s.u_lightpos),u_lightpos_globe:new a.bS(N,s.u_lightpos_globe),u_lightintensity:new a.bf(N,s.u_lightintensity),u_lightcolor:new a.bS(N,s.u_lightcolor),u_vertical_gradient:new a.bf(N,s.u_vertical_gradient),u_height_factor:new a.bf(N,s.u_height_factor),u_opacity:new a.bf(N,s.u_opacity),u_fill_translate:new a.bT(N,s.u_fill_translate),u_image:new a.bO(N,s.u_image),u_texsize:new a.bT(N,s.u_texsize),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade)}),fill:(N,s)=>({u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillPattern:(N,s)=>({u_image:new a.bO(N,s.u_image),u_texsize:new a.bT(N,s.u_texsize),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade),u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillOutline:(N,s)=>({u_world:new a.bT(N,s.u_world),u_fill_translate:new a.bT(N,s.u_fill_translate)}),fillOutlinePattern:(N,s)=>({u_world:new a.bT(N,s.u_world),u_image:new a.bO(N,s.u_image),u_texsize:new a.bT(N,s.u_texsize),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade),u_fill_translate:new a.bT(N,s.u_fill_translate)}),circle:(N,s)=>({u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_scale_with_map:new a.bO(N,s.u_scale_with_map),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_extrude_scale:new a.bT(N,s.u_extrude_scale),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_globe_extrude_scale:new a.bf(N,s.u_globe_extrude_scale),u_translate:new a.bT(N,s.u_translate)}),collisionBox:(N,s)=>({u_pixel_extrude_scale:new a.bT(N,s.u_pixel_extrude_scale)}),collisionCircle:(N,s)=>({u_viewport_size:new a.bT(N,s.u_viewport_size)}),debug:(N,s)=>({u_color:new a.bP(N,s.u_color),u_overlay:new a.bO(N,s.u_overlay),u_overlay_scale:new a.bf(N,s.u_overlay_scale)}),depth:Xc,clippingMask:Xc,heatmap:(N,s)=>({u_extrude_scale:new a.bf(N,s.u_extrude_scale),u_intensity:new a.bf(N,s.u_intensity),u_globe_extrude_scale:new a.bf(N,s.u_globe_extrude_scale)}),heatmapTexture:(N,s)=>({u_matrix:new a.bQ(N,s.u_matrix),u_world:new a.bT(N,s.u_world),u_image:new a.bO(N,s.u_image),u_color_ramp:new a.bO(N,s.u_color_ramp),u_opacity:new a.bf(N,s.u_opacity)}),hillshade:(N,s)=>({u_image:new a.bO(N,s.u_image),u_latrange:new a.bT(N,s.u_latrange),u_exaggeration:new a.bf(N,s.u_exaggeration),u_altitudes:new a.bZ(N,s.u_altitudes),u_azimuths:new a.bZ(N,s.u_azimuths),u_accent:new a.bP(N,s.u_accent),u_method:new a.bO(N,s.u_method),u_shadows:new a.bY(N,s.u_shadows),u_highlights:new a.bY(N,s.u_highlights)}),hillshadePrepare:(N,s)=>({u_matrix:new a.bQ(N,s.u_matrix),u_image:new a.bO(N,s.u_image),u_dimension:new a.bT(N,s.u_dimension),u_zoom:new a.bf(N,s.u_zoom),u_unpack:new a.bR(N,s.u_unpack)}),colorRelief:(N,s)=>({u_image:new a.bO(N,s.u_image),u_unpack:new a.bR(N,s.u_unpack),u_dimension:new a.bT(N,s.u_dimension),u_elevation_stops:new a.bO(N,s.u_elevation_stops),u_color_stops:new a.bO(N,s.u_color_stops),u_opacity:new a.bf(N,s.u_opacity)}),line:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels)}),lineGradient:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels),u_image:new a.bO(N,s.u_image),u_image_height:new a.bf(N,s.u_image_height)}),linePattern:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_texsize:new a.bT(N,s.u_texsize),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_image:new a.bO(N,s.u_image),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels),u_scale:new a.bS(N,s.u_scale),u_fade:new a.bf(N,s.u_fade)}),lineSDF:(N,s)=>({u_translation:new a.bT(N,s.u_translation),u_ratio:new a.bf(N,s.u_ratio),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_units_to_pixels:new a.bT(N,s.u_units_to_pixels),u_patternscale_a:new a.bT(N,s.u_patternscale_a),u_patternscale_b:new a.bT(N,s.u_patternscale_b),u_sdfgamma:new a.bf(N,s.u_sdfgamma),u_image:new a.bO(N,s.u_image),u_tex_y_a:new a.bf(N,s.u_tex_y_a),u_tex_y_b:new a.bf(N,s.u_tex_y_b),u_mix:new a.bf(N,s.u_mix)}),raster:(N,s)=>({u_tl_parent:new a.bT(N,s.u_tl_parent),u_scale_parent:new a.bf(N,s.u_scale_parent),u_buffer_scale:new a.bf(N,s.u_buffer_scale),u_fade_t:new a.bf(N,s.u_fade_t),u_opacity:new a.bf(N,s.u_opacity),u_image0:new a.bO(N,s.u_image0),u_image1:new a.bO(N,s.u_image1),u_brightness_low:new a.bf(N,s.u_brightness_low),u_brightness_high:new a.bf(N,s.u_brightness_high),u_saturation_factor:new a.bf(N,s.u_saturation_factor),u_contrast_factor:new a.bf(N,s.u_contrast_factor),u_spin_weights:new a.bS(N,s.u_spin_weights),u_coords_top:new a.bR(N,s.u_coords_top),u_coords_bottom:new a.bR(N,s.u_coords_bottom)}),symbolIcon:(N,s)=>({u_is_size_zoom_constant:new a.bO(N,s.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bO(N,s.u_is_size_feature_constant),u_size_t:new a.bf(N,s.u_size_t),u_size:new a.bf(N,s.u_size),u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_pitch:new a.bf(N,s.u_pitch),u_rotate_symbol:new a.bO(N,s.u_rotate_symbol),u_aspect_ratio:new a.bf(N,s.u_aspect_ratio),u_fade_change:new a.bf(N,s.u_fade_change),u_label_plane_matrix:new a.bQ(N,s.u_label_plane_matrix),u_coord_matrix:new a.bQ(N,s.u_coord_matrix),u_is_text:new a.bO(N,s.u_is_text),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_is_along_line:new a.bO(N,s.u_is_along_line),u_is_variable_anchor:new a.bO(N,s.u_is_variable_anchor),u_texsize:new a.bT(N,s.u_texsize),u_texture:new a.bO(N,s.u_texture),u_translation:new a.bT(N,s.u_translation),u_pitched_scale:new a.bf(N,s.u_pitched_scale)}),symbolSDF:(N,s)=>({u_is_size_zoom_constant:new a.bO(N,s.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bO(N,s.u_is_size_feature_constant),u_size_t:new a.bf(N,s.u_size_t),u_size:new a.bf(N,s.u_size),u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_pitch:new a.bf(N,s.u_pitch),u_rotate_symbol:new a.bO(N,s.u_rotate_symbol),u_aspect_ratio:new a.bf(N,s.u_aspect_ratio),u_fade_change:new a.bf(N,s.u_fade_change),u_label_plane_matrix:new a.bQ(N,s.u_label_plane_matrix),u_coord_matrix:new a.bQ(N,s.u_coord_matrix),u_is_text:new a.bO(N,s.u_is_text),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_is_along_line:new a.bO(N,s.u_is_along_line),u_is_variable_anchor:new a.bO(N,s.u_is_variable_anchor),u_texsize:new a.bT(N,s.u_texsize),u_texture:new a.bO(N,s.u_texture),u_gamma_scale:new a.bf(N,s.u_gamma_scale),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_is_halo:new a.bO(N,s.u_is_halo),u_translation:new a.bT(N,s.u_translation),u_pitched_scale:new a.bf(N,s.u_pitched_scale)}),symbolTextAndIcon:(N,s)=>({u_is_size_zoom_constant:new a.bO(N,s.u_is_size_zoom_constant),u_is_size_feature_constant:new a.bO(N,s.u_is_size_feature_constant),u_size_t:new a.bf(N,s.u_size_t),u_size:new a.bf(N,s.u_size),u_camera_to_center_distance:new a.bf(N,s.u_camera_to_center_distance),u_pitch:new a.bf(N,s.u_pitch),u_rotate_symbol:new a.bO(N,s.u_rotate_symbol),u_aspect_ratio:new a.bf(N,s.u_aspect_ratio),u_fade_change:new a.bf(N,s.u_fade_change),u_label_plane_matrix:new a.bQ(N,s.u_label_plane_matrix),u_coord_matrix:new a.bQ(N,s.u_coord_matrix),u_is_text:new a.bO(N,s.u_is_text),u_pitch_with_map:new a.bO(N,s.u_pitch_with_map),u_is_along_line:new a.bO(N,s.u_is_along_line),u_is_variable_anchor:new a.bO(N,s.u_is_variable_anchor),u_texsize:new a.bT(N,s.u_texsize),u_texsize_icon:new a.bT(N,s.u_texsize_icon),u_texture:new a.bO(N,s.u_texture),u_texture_icon:new a.bO(N,s.u_texture_icon),u_gamma_scale:new a.bf(N,s.u_gamma_scale),u_device_pixel_ratio:new a.bf(N,s.u_device_pixel_ratio),u_is_halo:new a.bO(N,s.u_is_halo),u_translation:new a.bT(N,s.u_translation),u_pitched_scale:new a.bf(N,s.u_pitched_scale)}),background:(N,s)=>({u_opacity:new a.bf(N,s.u_opacity),u_color:new a.bP(N,s.u_color)}),backgroundPattern:(N,s)=>({u_opacity:new a.bf(N,s.u_opacity),u_image:new a.bO(N,s.u_image),u_pattern_tl_a:new a.bT(N,s.u_pattern_tl_a),u_pattern_br_a:new a.bT(N,s.u_pattern_br_a),u_pattern_tl_b:new a.bT(N,s.u_pattern_tl_b),u_pattern_br_b:new a.bT(N,s.u_pattern_br_b),u_texsize:new a.bT(N,s.u_texsize),u_mix:new a.bf(N,s.u_mix),u_pattern_size_a:new a.bT(N,s.u_pattern_size_a),u_pattern_size_b:new a.bT(N,s.u_pattern_size_b),u_scale_a:new a.bf(N,s.u_scale_a),u_scale_b:new a.bf(N,s.u_scale_b),u_pixel_coord_upper:new a.bT(N,s.u_pixel_coord_upper),u_pixel_coord_lower:new a.bT(N,s.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bf(N,s.u_tile_units_to_pixels)}),terrain:(N,s)=>({u_texture:new a.bO(N,s.u_texture),u_ele_delta:new a.bf(N,s.u_ele_delta),u_fog_matrix:new a.bQ(N,s.u_fog_matrix),u_fog_color:new a.bP(N,s.u_fog_color),u_fog_ground_blend:new a.bf(N,s.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bf(N,s.u_fog_ground_blend_opacity),u_horizon_color:new a.bP(N,s.u_horizon_color),u_horizon_fog_blend:new a.bf(N,s.u_horizon_fog_blend),u_is_globe_mode:new a.bf(N,s.u_is_globe_mode)}),terrainDepth:(N,s)=>({u_ele_delta:new a.bf(N,s.u_ele_delta)}),terrainCoords:(N,s)=>({u_texture:new a.bO(N,s.u_texture),u_terrain_coords_id:new a.bf(N,s.u_terrain_coords_id),u_ele_delta:new a.bf(N,s.u_ele_delta)}),projectionErrorMeasurement:(N,s)=>({u_input:new a.bf(N,s.u_input),u_output_expected:new a.bf(N,s.u_output_expected)}),atmosphere:(N,s)=>({u_sun_pos:new a.bS(N,s.u_sun_pos),u_atmosphere_blend:new a.bf(N,s.u_atmosphere_blend),u_globe_position:new a.bS(N,s.u_globe_position),u_globe_radius:new a.bf(N,s.u_globe_radius),u_inv_proj_matrix:new a.bQ(N,s.u_inv_proj_matrix)}),sky:(N,s)=>({u_sky_color:new a.bP(N,s.u_sky_color),u_horizon_color:new a.bP(N,s.u_horizon_color),u_horizon:new a.bT(N,s.u_horizon),u_horizon_normal:new a.bT(N,s.u_horizon_normal),u_sky_horizon_blend:new a.bf(N,s.u_sky_horizon_blend),u_sky_blend:new a.bf(N,s.u_sky_blend)})};class xc{constructor(s,d,_){this.context=s;const S=s.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ts={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class lr{constructor(s,d,_,S){this.length=d.length,this.attributes=_,this.itemSize=d.bytesPerElement,this.dynamicDraw=S,this.context=s;const L=s.gl;this.buffer=L.createBuffer(),s.bindVertexBuffer.set(this.buffer),L.bufferData(L.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,d){for(let _=0;_<this.attributes.length;_++){const S=d.attributes[this.attributes[_].name];S!==void 0&&s.enableVertexAttribArray(S)}}setVertexAttribPointers(s,d,_){for(let S=0;S<this.attributes.length;S++){const L=this.attributes[S],B=d.attributes[L.name];B!==void 0&&s.vertexAttribPointer(B,L.components,s[Ts[L.type]],!1,this.itemSize,L.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class mr{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class An extends mr{getDefault(){return a.be.transparent}set(s){const d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Dn extends mr{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class Ni extends mr{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class Vn extends mr{getDefault(){return[!0,!0,!0,!0]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class C extends mr{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class m extends mr{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class y extends mr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const d=this.current;(s.func!==d.func||s.ref!==d.ref||s.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class T extends mr{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class F extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=s,this.dirty=!1}}class nt extends mr{getDefault(){return[0,1]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class xt extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=s,this.dirty=!1}}class Dt extends mr{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class re extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.BLEND):d.disable(d.BLEND),this.current=s,this.dirty=!1}}class _e extends mr{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class sr extends mr{getDefault(){return a.be.transparent}set(s){const d=this.current;(s.r!==d.r||s.g!==d.g||s.b!==d.b||s.a!==d.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class _r extends mr{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class tn extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;s?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=s,this.dirty=!1}}class In extends mr{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class Zn extends mr{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class hi extends mr{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class Yn extends mr{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class Hn extends mr{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const d=this.current;(s[0]!==d[0]||s[1]!==d[1]||s[2]!==d[2]||s[3]!==d[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class fa extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class Ui extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class $a extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class Vo extends mr{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class so extends mr{getDefault(){return null}set(s){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class ls extends mr{getDefault(){return null}set(s){var d;if(s===this.current&&!this.dirty)return;const _=this.gl;No(_)?_.bindVertexArray(s):(d=_.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class Tu extends mr{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class Cu extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class kl extends mr{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class ml extends mr{constructor(s,d){super(s),this.context=s,this.parent=d}getDefault(){return null}}class Au extends ml{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class Il extends ml{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class To extends ml{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,s),this.current=s,this.dirty=!1}}const Cs="Framebuffer is not complete";class Wc{constructor(s,d,_,S,L){this.context=s,this.width=d,this.height=_;const B=s.gl,K=this.framebuffer=B.createFramebuffer();if(this.colorAttachment=new Au(s,K),S)this.depthAttachment=L?new To(s,K):new Il(s,K);else if(L)throw new Error("Stencil cannot be set without depth");if(B.checkFramebufferStatus(B.FRAMEBUFFER)!==B.FRAMEBUFFER_COMPLETE)throw new Error(Cs)}destroy(){const s=this.context.gl,d=this.colorAttachment.get();if(d&&s.deleteTexture(d),this.depthAttachment){const _=this.depthAttachment.get();_&&s.deleteRenderbuffer(_)}s.deleteFramebuffer(this.framebuffer)}}class mi{constructor(s){var d,_;if(this.gl=s,this.clearColor=new An(this),this.clearDepth=new Dn(this),this.clearStencil=new Ni(this),this.colorMask=new Vn(this),this.depthMask=new C(this),this.stencilMask=new m(this),this.stencilFunc=new y(this),this.stencilOp=new T(this),this.stencilTest=new F(this),this.depthRange=new nt(this),this.depthTest=new xt(this),this.depthFunc=new Dt(this),this.blend=new re(this),this.blendFunc=new _e(this),this.blendColor=new sr(this),this.blendEquation=new _r(this),this.cullFace=new tn(this),this.cullFaceSide=new In(this),this.frontFace=new Zn(this),this.program=new hi(this),this.activeTexture=new Yn(this),this.viewport=new Hn(this),this.bindFramebuffer=new fa(this),this.bindRenderbuffer=new Ui(this),this.bindTexture=new $a(this),this.bindVertexBuffer=new Vo(this),this.bindElementBuffer=new so(this),this.bindVertexArray=new ls(this),this.pixelStoreUnpack=new Tu(this),this.pixelStoreUnpackPremultiplyAlpha=new Cu(this),this.pixelStoreUnpackFlipY=new kl(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),No(s)){this.HALF_FLOAT=s.HALF_FLOAT;const S=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=s.RGBA16F)!==null&&d!==void 0?d:S?.RGBA16F_EXT,this.RGB16F=(_=s.RGB16F)!==null&&_!==void 0?_:S?.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const S=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=S?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,d){return new xc(this,s,d)}createVertexBuffer(s,d,_){return new lr(this,s,d,_)}createRenderbuffer(s,d,_){const S=this.gl,L=S.createRenderbuffer();return this.bindRenderbuffer.set(L),S.renderbufferStorage(S.RENDERBUFFER,s,d,_),this.bindRenderbuffer.set(null),L}createFramebuffer(s,d,_,S){return new Wc(this,s,d,_,S)}clear({color:s,depth:d,stencil:_}){const S=this.gl;let L=0;s&&(L|=S.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(L|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),_!==void 0&&(L|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),S.clear(L)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){a.bG(s.blendFunction,Bn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return No(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var d;return No(this.gl)?this.gl.deleteVertexArray(s):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}let Xu;function Hl(N,s,d,_,S){const L=N.context,B=N.transform,K=L.gl,tt=N.useProgram("collisionBox"),ct=[];let _t=0,Rt=0;for(let me=0;me<_.length;me++){const xe=_[me],Be=s.getTile(xe).getBucket(d);if(!Be)continue;const Le=S?Be.textCollisionBox:Be.iconCollisionBox,$e=Be.collisionCircleArray;$e.length>0&&(ct.push({circleArray:$e,circleOffset:Rt,coord:xe}),_t+=$e.length/4,Rt=_t),Le&&tt.draw(L,K.LINES,ei.disabled,zn.disabled,N.colorModeForRenderPass(),pi.disabled,oo(N.transform),N.style.map.terrain&&N.style.map.terrain.getTerrainData(xe),B.getProjectionData({overscaledTileID:xe,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),d.id,Le.layoutVertexBuffer,Le.indexBuffer,Le.segments,null,N.transform.zoom,null,null,Le.collisionVertexBuffer)}if(!S||!ct.length)return;const Tt=N.useProgram("collisionCircle"),zt=new a.b_;zt.resize(4*_t),zt._trim();let Zt=0;for(const me of ct)for(let xe=0;xe<me.circleArray.length/4;xe++){const Be=4*xe,Le=me.circleArray[Be+0],$e=me.circleArray[Be+1],We=me.circleArray[Be+2],Ne=me.circleArray[Be+3];zt.emplace(Zt++,Le,$e,We,Ne,0),zt.emplace(Zt++,Le,$e,We,Ne,1),zt.emplace(Zt++,Le,$e,We,Ne,2),zt.emplace(Zt++,Le,$e,We,Ne,3)}(!Xu||Xu.length<2*_t)&&(Xu=(function(me){const xe=2*me,Be=new a.c0;Be.resize(xe),Be._trim();for(let Le=0;Le<xe;Le++){const $e=6*Le;Be.uint16[$e+0]=4*Le+0,Be.uint16[$e+1]=4*Le+1,Be.uint16[$e+2]=4*Le+2,Be.uint16[$e+3]=4*Le+2,Be.uint16[$e+4]=4*Le+3,Be.uint16[$e+5]=4*Le+0}return Be})(_t));const fe=L.createIndexBuffer(Xu,!0),pe=L.createVertexBuffer(zt,a.b$.members,!0);for(const me of ct){const xe=bc(N.transform);Tt.draw(L,K.TRIANGLES,ei.disabled,zn.disabled,N.colorModeForRenderPass(),pi.disabled,xe,N.style.map.terrain&&N.style.map.terrain.getTerrainData(me.coord),null,d.id,pe,fe,a.aL.simpleSegment(0,2*me.circleOffset,me.circleArray.length,me.circleArray.length/2),null,N.transform.zoom,null,null,null)}pe.destroy(),fe.destroy()}const sf=a.af(new Float32Array(16));function gh(N,s,d,_,S,L){const{horizontalAlign:B,verticalAlign:K}=a.aG(N);return new a.P((-(B-.5)*s/S+_[0])*L,(-(K-.5)*d/S+_[1])*L)}function Jh(N,s,d,_,S,L){const B=s.tileAnchorPoint.add(new a.P(s.translation[0],s.translation[1]));if(s.pitchWithMap){let K=_.mult(L);d||(K=K.rotate(-S));const tt=B.add(K);return be(tt.x,tt.y,s.pitchedLabelPlaneMatrix,s.getElevation).point}if(d){const K=en(s.tileAnchorPoint.x+1,s.tileAnchorPoint.y,s).point.sub(N),tt=Math.atan(K.y/K.x)+(K.x<0?Math.PI:0);return N.add(_.rotate(tt))}return N.add(_)}function qf(N,s,d,_,S,L,B,K,tt,ct,_t,Rt){const Tt=N.text.placedSymbolArray,zt=N.text.dynamicLayoutVertexArray,Zt=N.icon.dynamicLayoutVertexArray,fe={};zt.clear();for(let pe=0;pe<Tt.length;pe++){const me=Tt.get(pe),xe=me.hidden||!me.crossTileID||N.allowVerticalPlacement&&!me.placedOrientation?null:_[me.crossTileID];if(xe){const Be=new a.P(me.anchorX,me.anchorY),Le={getElevation:Rt,width:S.width,height:S.height,pitchedLabelPlaneMatrix:L,pitchWithMap:d,transform:S,tileAnchorPoint:Be,translation:ct,unwrappedTileID:_t},$e=d?Xn(Be.x,Be.y,Le):en(Be.x,Be.y,Le),We=ze(S.cameraToCenterDistance,$e.signedDistanceFromCamera);let Ne=a.ao(N.textSizeData,K,me)*We/a.aA;d&&(Ne*=N.tilePixelRatio/B);const{width:tr,height:Ar,anchor:xr,textOffset:Sr,textBoxScale:kr}=xe,Cn=gh(xr,tr,Ar,Sr,kr,Ne),En=S.getPitchedTextCorrection(Be.x+ct[0],Be.y+ct[1],_t),on=Jh($e.point,Le,s,Cn,-S.bearingInRadians,En),Un=N.allowVerticalPlacement&&me.placedOrientation===a.an.vertical?Math.PI/2:0;for(let Gi=0;Gi<me.numGlyphs;Gi++)a.au(zt,on,Un);tt&&me.associatedIconIndex>=0&&(fe[me.associatedIconIndex]={shiftedAnchor:on,angle:Un})}else io(me.numGlyphs,zt)}if(tt){Zt.clear();const pe=N.icon.placedSymbolArray;for(let me=0;me<pe.length;me++){const xe=pe.get(me);if(xe.hidden)io(xe.numGlyphs,Zt);else{const Be=fe[me];if(Be)for(let Le=0;Le<xe.numGlyphs;Le++)a.au(Zt,Be.shiftedAnchor,Be.angle);else io(xe.numGlyphs,Zt)}}N.icon.dynamicLayoutVertexBuffer.updateData(Zt)}N.text.dynamicLayoutVertexBuffer.updateData(zt)}function Gf(N,s,d){return d.iconsInText&&s?"symbolTextAndIcon":N?"symbolSDF":"symbolIcon"}function Ed(N,s,d,_,S,L,B,K,tt,ct,_t,Rt,Tt){const zt=N.context,Zt=zt.gl,fe=N.transform,pe=K==="map",me=tt==="map",xe=K!=="viewport"&&d.layout.get("symbol-placement")!=="point",Be=pe&&!me&&!xe,Le=!d.layout.get("symbol-sort-key").isConstant();let $e=!1;const We=N.getDepthModeForSublayer(0,ei.ReadOnly),Ne=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),tr=[],Ar=fe.getCircleRadiusCorrection();for(const xr of _){const Sr=s.getTile(xr),kr=Sr.getBucket(d);if(!kr)continue;const Cn=S?kr.text:kr.icon;if(!Cn||!Cn.segments.get().length||!Cn.hasVisibleVertices)continue;const En=Cn.programConfigurations.get(d.id),on=S||kr.sdfIcons,Un=S?kr.textSizeData:kr.iconSizeData,Gi=me||fe.pitch!==0,Sa=N.useProgram(Gf(on,S,kr),En),Uo=a.am(Un,fe.zoom),Ya=N.style.map.terrain&&N.style.map.terrain.getTerrainData(xr);let Ka,Da,Pa,lo,_l=[0,0],ua=null;if(S)Da=Sr.glyphAtlasTexture,Pa=Zt.LINEAR,Ka=Sr.glyphAtlasTexture.size,kr.iconsInText&&(_l=Sr.imageAtlasTexture.size,ua=Sr.imageAtlasTexture,lo=Gi||N.options.rotating||N.options.zooming||Un.kind==="composite"||Un.kind==="camera"?Zt.LINEAR:Zt.NEAREST);else{const ll=d.layout.get("icon-size").constantOr(0)!==1||kr.iconsNeedLinear;Da=Sr.imageAtlasTexture,Pa=on||N.options.rotating||N.options.zooming||ll||Gi?Zt.LINEAR:Zt.NEAREST,Ka=Sr.imageAtlasTexture.size}const Rl=a.aB(Sr,1,N.transform.zoom),sl=Kn(pe,N.transform,Rl),Ec=a.L();a.ap(Ec,sl);const Rd=Pt(me,pe,N.transform,Rl),ed=a.aC(fe,Sr,L,B),rd=fe.getProjectionData({overscaledTileID:xr,applyGlobeMatrix:!Tt,applyTerrainMatrix:!0}),Op=Ne&&kr.hasTextData(),Dp=d.layout.get("icon-text-fit")!=="none"&&Op&&kr.hasIconData();if(xe){const ll=N.style.map.terrain?(uc,Jl)=>N.style.map.terrain.getElevation(xr,uc,Jl):null,rs=d.layout.get("text-rotation-alignment")==="map";yn(kr,N,S,sl,Ec,me,ct,rs,xr.toUnwrapped(),fe.width,fe.height,ed,ll)}const Xf=S&&Ne||Dp,Tc=xe||Xf?sf:me?sl:N.transform.clipSpaceToPixelsMatrix,_h=on&&d.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let nd;nd=on?kr.iconsInText?pu(Un.kind,Uo,Be,me,xe,Xf,N,Tc,Rd,ed,Ka,_l,Ar):fu(Un.kind,Uo,Be,me,xe,Xf,N,Tc,Rd,ed,S,Ka,0,Ar):Eo(Un.kind,Uo,Be,me,xe,Xf,N,Tc,Rd,ed,S,Ka,Ar);const uf={program:Sa,buffers:Cn,uniformValues:nd,projectionData:rd,atlasTexture:Da,atlasTextureIcon:ua,atlasInterpolation:Pa,atlasInterpolationIcon:lo,isSDF:on,hasHalo:_h};if(Le&&kr.canOverlap){$e=!0;const ll=Cn.segments.get();for(const rs of ll)tr.push({segments:new a.aL([rs]),sortKey:rs.sortKey,state:uf,terrainData:Ya})}else tr.push({segments:Cn.segments,sortKey:0,state:uf,terrainData:Ya})}$e&&tr.sort(((xr,Sr)=>xr.sortKey-Sr.sortKey));for(const xr of tr){const Sr=xr.state;if(zt.activeTexture.set(Zt.TEXTURE0),Sr.atlasTexture.bind(Sr.atlasInterpolation,Zt.CLAMP_TO_EDGE),Sr.atlasTextureIcon&&(zt.activeTexture.set(Zt.TEXTURE1),Sr.atlasTextureIcon&&Sr.atlasTextureIcon.bind(Sr.atlasInterpolationIcon,Zt.CLAMP_TO_EDGE)),Sr.isSDF){const kr=Sr.uniformValues;Sr.hasHalo&&(kr.u_is_halo=1,Td(Sr.buffers,xr.segments,d,N,Sr.program,We,_t,Rt,kr,Sr.projectionData,xr.terrainData)),kr.u_is_halo=0}Td(Sr.buffers,xr.segments,d,N,Sr.program,We,_t,Rt,Sr.uniformValues,Sr.projectionData,xr.terrainData)}}function Td(N,s,d,_,S,L,B,K,tt,ct,_t){const Rt=_.context;S.draw(Rt,Rt.gl.TRIANGLES,L,B,K,pi.backCCW,tt,_t,ct,d.id,N.layoutVertexBuffer,N.indexBuffer,s,d.paint,_.transform.zoom,N.programConfigurations.get(d.id),N.dynamicLayoutVertexBuffer,N.opacityVertexBuffer)}function Wu(N,s,d,_,S){const L=N.context,B=L.gl,K=zn.disabled,tt=new Bn([B.ONE,B.ONE],a.be.transparent,[!0,!0,!0,!0]),ct=s.getBucket(d);if(!ct)return;const _t=_.key;let Rt=d.heatmapFbos.get(_t);Rt||(Rt=Yc(L,s.tileSize,s.tileSize),d.heatmapFbos.set(_t,Rt)),L.bindFramebuffer.set(Rt.framebuffer),L.viewport.set([0,0,s.tileSize,s.tileSize]),L.clear({color:a.be.transparent});const Tt=ct.programConfigurations.get(d.id),zt=N.useProgram("heatmap",Tt,!S),Zt=N.transform.getProjectionData({overscaledTileID:s.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),fe=N.style.map.terrain.getTerrainData(_);zt.draw(L,B.TRIANGLES,ei.disabled,K,tt,pi.disabled,il(s,N.transform.zoom,d.paint.get("heatmap-intensity"),1),fe,Zt,d.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,d.paint,N.transform.zoom,Tt)}function Dh(N,s,d,_,S){const L=N.context,B=L.gl,K=N.transform;L.setColorMode(N.colorModeForRenderPass());const tt=Cd(L,s),ct=d.key,_t=s.heatmapFbos.get(ct);if(!_t)return;L.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,_t.colorAttachment.get()),L.activeTexture.set(B.TEXTURE1),tt.bind(B.LINEAR,B.CLAMP_TO_EDGE);const Rt=K.getProjectionData({overscaledTileID:d,applyTerrainMatrix:S,applyGlobeMatrix:!_});N.useProgram("heatmapTexture").draw(L,B.TRIANGLES,ei.disabled,zn.disabled,N.colorModeForRenderPass(),pi.disabled,ws(N,s,0,1),null,Rt,s.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments,s.paint,K.zoom),_t.destroy(),s.heatmapFbos.delete(ct)}function Yc(N,s,d){var _,S;const L=N.gl,B=L.createTexture();L.bindTexture(L.TEXTURE_2D,B),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.LINEAR),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.LINEAR);const K=(_=N.HALF_FLOAT)!==null&&_!==void 0?_:L.UNSIGNED_BYTE,tt=(S=N.RGBA16F)!==null&&S!==void 0?S:L.RGBA;L.texImage2D(L.TEXTURE_2D,0,tt,s,d,0,L.RGBA,K,null);const ct=N.createFramebuffer(s,d,!1,!1);return ct.colorAttachment.set(B),ct}function Cd(N,s){return s.colorRampTexture||(s.colorRampTexture=new a.T(N,s.colorRamp,N.gl.RGBA)),s.colorRampTexture}function Ad(N,s,d,_,S){if(!d||!_||!_.imageAtlas)return;const L=_.imageAtlas.patternPositions;let B=L[d.to.toString()],K=L[d.from.toString()];if(!B&&K&&(B=K),!K&&B&&(K=B),!B||!K){const tt=S.getPaintProperty(s);B=L[tt],K=L[tt]}B&&K&&N.setConstantPatternPositions(B,K)}function ku(N,s,d,_,S,L,B,K){const tt=N.context.gl,ct="fill-pattern",_t=d.paint.get(ct),Rt=_t&&_t.constantOr(1),Tt=d.getCrossfadeParameters();let zt,Zt,fe,pe,me;const xe=N.transform,Be=d.paint.get("fill-translate"),Le=d.paint.get("fill-translate-anchor");B?(Zt=Rt&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",zt=tt.LINES):(Zt=Rt?"fillPattern":"fill",zt=tt.TRIANGLES);const $e=_t.constantOr(null);for(const We of _){const Ne=s.getTile(We);if(Rt&&!Ne.patternsLoaded())continue;const tr=Ne.getBucket(d);if(!tr)continue;const Ar=tr.programConfigurations.get(d.id),xr=N.useProgram(Zt,Ar),Sr=N.style.map.terrain&&N.style.map.terrain.getTerrainData(We);Rt&&(N.context.activeTexture.set(tt.TEXTURE0),Ne.imageAtlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),Ar.updatePaintBuffers(Tt)),Ad(Ar,ct,$e,Ne,d);const kr=xe.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!K,applyTerrainMatrix:!0}),Cn=a.aC(xe,Ne,Be,Le);if(B){pe=tr.indexBuffer2,me=tr.segments2;const on=[tt.drawingBufferWidth,tt.drawingBufferHeight];fe=Zt==="fillOutlinePattern"&&Rt?hu(N,Tt,Ne,on,Cn):Ja(on,Cn)}else pe=tr.indexBuffer,me=tr.segments,fe=Rt?Fo(N,Tt,Ne,Cn):{u_fill_translate:Cn};const En=N.stencilModeForClipping(We);xr.draw(N.context,zt,S,En,L,pi.backCCW,fe,Sr,kr,d.id,tr.layoutVertexBuffer,pe,me,d.paint,N.transform.zoom,Ar)}}function mu(N,s,d,_,S,L,B,K){const tt=N.context,ct=tt.gl,_t="fill-extrusion-pattern",Rt=d.paint.get(_t),Tt=Rt.constantOr(1),zt=d.getCrossfadeParameters(),Zt=d.paint.get("fill-extrusion-opacity"),fe=Rt.constantOr(null),pe=N.transform;for(const me of _){const xe=s.getTile(me),Be=xe.getBucket(d);if(!Be)continue;const Le=N.style.map.terrain&&N.style.map.terrain.getTerrainData(me),$e=Be.programConfigurations.get(d.id),We=N.useProgram(Tt?"fillExtrusionPattern":"fillExtrusion",$e);Tt&&(N.context.activeTexture.set(ct.TEXTURE0),xe.imageAtlasTexture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),$e.updatePaintBuffers(zt));const Ne=pe.getProjectionData({overscaledTileID:me,applyGlobeMatrix:!K,applyTerrainMatrix:!0});Ad($e,_t,fe,xe,d);const tr=a.aC(pe,xe,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ar=d.paint.get("fill-extrusion-vertical-gradient"),xr=Tt?So(N,Ar,Zt,tr,me,zt,xe):ql(N,Ar,Zt,tr);We.draw(tt,tt.gl.TRIANGLES,S,L,B,pi.backCCW,xr,Le,Ne,d.id,Be.layoutVertexBuffer,Be.indexBuffer,Be.segments,d.paint,N.transform.zoom,$e,N.style.map.terrain&&Be.centroidVertexBuffer)}}function wc(N,s,d,_,S,L,B,K,tt){var ct;const _t=N.style.projection,Rt=N.context,Tt=N.transform,zt=Rt.gl,Zt=[`#define NUM_ILLUMINATION_SOURCES ${d.paint.get("hillshade-highlight-color").values.length}`],fe=N.useProgram("hillshade",null,!1,Zt),pe=!N.options.moving;for(const me of _){const xe=s.getTile(me),Be=xe.fbo;if(!Be)continue;const Le=_t.getMeshFromTileID(Rt,me.canonical,K,!0,"raster"),$e=(ct=N.style.map.terrain)===null||ct===void 0?void 0:ct.getTerrainData(me);Rt.activeTexture.set(zt.TEXTURE0),zt.bindTexture(zt.TEXTURE_2D,Be.colorAttachment.get());const We=Tt.getProjectionData({overscaledTileID:me,aligned:pe,applyGlobeMatrix:!tt,applyTerrainMatrix:!0});fe.draw(Rt,zt.TRIANGLES,L,S[me.overscaledZ],B,pi.backCCW,Zs(N,xe,d),$e,We,d.id,Le.vertexBuffer,Le.indexBuffer,Le.segments)}}function Iu(N,s,d,_,S,L,B,K,tt){var ct;const _t=N.style.projection,Rt=N.context,Tt=N.transform,zt=Rt.gl,Zt=N.useProgram("colorRelief"),fe=!N.options.moving;let pe=!0;for(const me of _){const xe=s.getTile(me),Be=xe.dem;if(pe){const Ar=zt.getParameter(zt.MAX_TEXTURE_SIZE),{elevationTexture:xr,colorTexture:Sr}=d.getColorRampTextures(Rt,Ar,Be.getUnpackVector());Rt.activeTexture.set(zt.TEXTURE1),xr.bind(zt.NEAREST,zt.CLAMP_TO_EDGE),Rt.activeTexture.set(zt.TEXTURE4),Sr.bind(zt.LINEAR,zt.CLAMP_TO_EDGE),pe=!1}if(!Be||!Be.data)continue;const Le=Be.stride,$e=Be.getPixels();if(Rt.activeTexture.set(zt.TEXTURE0),Rt.pixelStoreUnpackPremultiplyAlpha.set(!1),xe.demTexture=xe.demTexture||N.getTileTexture(Le),xe.demTexture){const Ar=xe.demTexture;Ar.update($e,{premultiply:!1}),Ar.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}else xe.demTexture=new a.T(Rt,$e,zt.RGBA,{premultiply:!1}),xe.demTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE);const We=_t.getMeshFromTileID(Rt,me.canonical,K,!0,"raster"),Ne=(ct=N.style.map.terrain)===null||ct===void 0?void 0:ct.getTerrainData(me),tr=Tt.getProjectionData({overscaledTileID:me,aligned:fe,applyGlobeMatrix:!tt,applyTerrainMatrix:!0});Zt.draw(Rt,zt.TRIANGLES,L,S[me.overscaledZ],B,pi.backCCW,qu(d,xe.dem),Ne,tr,d.id,We.vertexBuffer,We.indexBuffer,We.segments)}}const ac=[new a.P(0,0),new a.P(a.$,0),new a.P(a.$,a.$),new a.P(0,a.$)];function gl(N,s,d,_,S,L,B,K,tt=!1,ct=!1){const _t=_[_.length-1].overscaledZ,Rt=N.context,Tt=Rt.gl,zt=N.useProgram("raster"),Zt=N.transform,fe=N.style.projection,pe=N.colorModeForRenderPass(),me=!N.options.moving;for(const xe of _){const Be=N.getDepthModeForSublayer(xe.overscaledZ-_t,d.paint.get("raster-opacity")===1?ei.ReadWrite:ei.ReadOnly,Tt.LESS),Le=s.getTile(xe);Le.registerFadeDuration(d.paint.get("raster-fade-duration"));const $e=s.findLoadedParent(xe,0),We=s.findLoadedSibling(xe),Ne=Dg(Le,$e||We||null,s,d,N.transform,N.style.map.terrain);let tr,Ar;const xr=d.paint.get("raster-resampling")==="nearest"?Tt.NEAREST:Tt.LINEAR;Rt.activeTexture.set(Tt.TEXTURE0),Le.texture.bind(xr,Tt.CLAMP_TO_EDGE,Tt.LINEAR_MIPMAP_NEAREST),Rt.activeTexture.set(Tt.TEXTURE1),$e?($e.texture.bind(xr,Tt.CLAMP_TO_EDGE,Tt.LINEAR_MIPMAP_NEAREST),tr=Math.pow(2,$e.tileID.overscaledZ-Le.tileID.overscaledZ),Ar=[Le.tileID.canonical.x*tr%1,Le.tileID.canonical.y*tr%1]):Le.texture.bind(xr,Tt.CLAMP_TO_EDGE,Tt.LINEAR_MIPMAP_NEAREST),Le.texture.useMipmap&&Rt.extTextureFilterAnisotropic&&N.transform.pitch>20&&Tt.texParameterf(Tt.TEXTURE_2D,Rt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Rt.extTextureFilterAnisotropicMax);const Sr=N.style.map.terrain&&N.style.map.terrain.getTerrainData(xe),kr=Zt.getProjectionData({overscaledTileID:xe,aligned:me,applyGlobeMatrix:!ct,applyTerrainMatrix:!0}),Cn=Ps(Ar||[0,0],tr||1,Ne,d,K),En=fe.getMeshFromTileID(Rt,xe.canonical,L,B,"raster");zt.draw(Rt,Tt.TRIANGLES,Be,S?S[xe.overscaledZ]:zn.disabled,pe,tt?pi.frontCCW:pi.backCCW,Cn,Sr,kr,d.id,En.vertexBuffer,En.indexBuffer,En.segments)}}function Dg(N,s,d,_,S,L){const B=_.paint.get("raster-fade-duration");if(!L&&B>0){const K=R.now(),tt=(K-N.timeAdded)/B,ct=s?(K-s.timeAdded)/B:-1,_t=d.getSource(),Rt=fr(S,{tileSize:_t.tileSize,roundZoom:_t.roundZoom}),Tt=!s||Math.abs(s.tileID.overscaledZ-Rt)>Math.abs(N.tileID.overscaledZ-Rt),zt=Tt&&N.refreshedUponExpiration?1:a.ag(Tt?tt:1-ct,0,1);return N.refreshedUponExpiration&&tt>=1&&(N.refreshedUponExpiration=!1),s?{opacity:1,mix:1-zt}:{opacity:zt,mix:0}}return{opacity:1,mix:0}}const Lp=new a.be(1,0,0,1),kd=new a.be(0,1,0,1),Mp=new a.be(0,0,1,1),Xl=new a.be(1,0,1,1),Qo=new a.be(0,1,1,1);function wa(N,s,d,_){us(N,0,s+d/2,N.transform.width,d,_)}function Wl(N,s,d,_){us(N,s-d/2,0,d,N.transform.height,_)}function us(N,s,d,_,S,L){const B=N.context,K=B.gl;K.enable(K.SCISSOR_TEST),K.scissor(s*N.pixelRatio,d*N.pixelRatio,_*N.pixelRatio,S*N.pixelRatio),B.clear({color:L}),K.disable(K.SCISSOR_TEST)}function Nc(N,s,d){const _=N.context,S=_.gl,L=N.useProgram("debug"),B=ei.disabled,K=zn.disabled,tt=N.colorModeForRenderPass(),ct="$debug",_t=N.style.map.terrain&&N.style.map.terrain.getTerrainData(d);_.activeTexture.set(S.TEXTURE0);const Rt=s.getTileByID(d.key).latestRawTileData,Tt=Math.floor((Rt&&Rt.byteLength||0)/1024),zt=s.getTile(d).tileSize,Zt=512/Math.min(zt,512)*(d.overscaledZ/N.transform.zoom)*.5;let fe=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(fe+=` => ${d.overscaledZ}`),(function(me,xe){me.initDebugOverlayCanvas();const Be=me.debugOverlayCanvas,Le=me.context.gl,$e=me.debugOverlayCanvas.getContext("2d");$e.clearRect(0,0,Be.width,Be.height),$e.shadowColor="white",$e.shadowBlur=2,$e.lineWidth=1.5,$e.strokeStyle="white",$e.textBaseline="top",$e.font="bold 36px Open Sans, sans-serif",$e.fillText(xe,5,5),$e.strokeText(xe,5,5),me.debugOverlayTexture.update(Be),me.debugOverlayTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE)})(N,`${fe} ${Tt}kB`);const pe=N.transform.getProjectionData({overscaledTileID:d,applyGlobeMatrix:!0,applyTerrainMatrix:!0});L.draw(_,S.TRIANGLES,B,K,Bn.alphaBlended,pi.disabled,Uu(a.be.transparent,Zt),null,pe,ct,N.debugBuffer,N.quadTriangleIndexBuffer,N.debugSegments),L.draw(_,S.LINE_STRIP,B,K,tt,pi.disabled,Uu(a.be.red),_t,pe,ct,N.debugBuffer,N.tileBorderIndexBuffer,N.debugSegments)}function mo(N,s,d,_){const{isRenderingGlobe:S}=_,L=N.context,B=L.gl,K=N.transform,tt=N.colorModeForRenderPass(),ct=N.getDepthModeFor3D(),_t=N.useProgram("terrain");L.bindFramebuffer.set(null),L.viewport.set([0,0,N.width,N.height]);for(const Rt of d){const Tt=s.getTerrainMesh(Rt.tileID),zt=N.renderToTexture.getTexture(Rt),Zt=s.getTerrainData(Rt.tileID);L.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,zt.texture);const fe=s.getMeshFrameDelta(K.zoom),pe=K.calculateFogMatrix(Rt.tileID.toUnwrapped()),me=Ul(fe,pe,N.style.sky,K.pitch,S),xe=K.getProjectionData({overscaledTileID:Rt.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});_t.draw(L,B.TRIANGLES,ct,zn.disabled,tt,pi.backCCW,me,Zt,xe,"terrain",Tt.vertexBuffer,Tt.indexBuffer,Tt.segments)}}function yh(N,s){if(!s.mesh){const d=new a.aK;d.emplaceBack(-1,-1),d.emplaceBack(1,-1),d.emplaceBack(1,1),d.emplaceBack(-1,1);const _=new a.aM;_.emplaceBack(0,1,2),_.emplaceBack(0,2,3),s.mesh=new nr(N.createVertexBuffer(d,rn.members),N.createIndexBuffer(_),a.aL.simpleSegment(0,0,d.length,_.length))}return s.mesh}class yl{constructor(s,d){this.context=new mi(s),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.af(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=cr.maxUnderzooming+cr.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ee}resize(s,d,_){if(this.width=Math.floor(s*_),this.height=Math.floor(d*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const S of this.style._order)this.style._layers[S].resize()}setup(){const s=this.context,d=new a.aK;d.emplaceBack(0,0),d.emplaceBack(a.$,0),d.emplaceBack(0,a.$),d.emplaceBack(a.$,a.$),this.tileExtentBuffer=s.createVertexBuffer(d,rn.members),this.tileExtentSegments=a.aL.simpleSegment(0,0,4,2);const _=new a.aK;_.emplaceBack(0,0),_.emplaceBack(a.$,0),_.emplaceBack(0,a.$),_.emplaceBack(a.$,a.$),this.debugBuffer=s.createVertexBuffer(_,rn.members),this.debugSegments=a.aL.simpleSegment(0,0,4,5);const S=new a.c5;S.emplaceBack(0,0,0,0),S.emplaceBack(a.$,0,a.$,0),S.emplaceBack(0,a.$,0,a.$),S.emplaceBack(a.$,a.$,a.$,a.$),this.rasterBoundsBuffer=s.createVertexBuffer(S,wu.members),this.rasterBoundsSegments=a.aL.simpleSegment(0,0,4,2);const L=new a.aK;L.emplaceBack(0,0),L.emplaceBack(a.$,0),L.emplaceBack(0,a.$),L.emplaceBack(a.$,a.$),this.rasterBoundsBufferPosOnly=s.createVertexBuffer(L,rn.members),this.rasterBoundsSegmentsPosOnly=a.aL.simpleSegment(0,0,4,5);const B=new a.aK;B.emplaceBack(0,0),B.emplaceBack(1,0),B.emplaceBack(0,1),B.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(B,rn.members),this.viewportSegments=a.aL.simpleSegment(0,0,4,2);const K=new a.c6;K.emplaceBack(0),K.emplaceBack(1),K.emplaceBack(3),K.emplaceBack(2),K.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(K);const tt=new a.aM;tt.emplaceBack(1,0,2),tt.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(tt);const ct=this.context.gl;this.stencilClearMode=new zn({func:ct.ALWAYS,mask:0},0,255,ct.ZERO,ct.ZERO,ct.ZERO),this.tileExtentMesh=new nr(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const s=this.context,d=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=a.L();a.bX(_,0,this.width,this.height,0,0,1),a.N(_,_,[d.drawingBufferWidth,d.drawingBufferHeight,0]);const S={mainMatrix:_,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_};this.useProgram("clippingMask",null,!0).draw(s,d.TRIANGLES,ei.disabled,this.stencilClearMode,Bn.disabled,pi.disabled,null,null,S,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,d,_){if(this.currentStencilSource===s.source||!s.isTileClipped()||!d||!d.length)return;this.currentStencilSource=s.source,this.nextStencilID+d.length>256&&this.clearStencil();const S=this.context;S.setColorMode(Bn.disabled),S.setDepthMode(ei.disabled);const L={};for(const B of d)L[B.key]=this.nextStencilID++;this._renderTileMasks(L,d,_,!0),this._renderTileMasks(L,d,_,!1),this._tileClippingMaskIDs=L}_renderTileMasks(s,d,_,S){const L=this.context,B=L.gl,K=this.style.projection,tt=this.transform,ct=this.useProgram("clippingMask");for(const _t of d){const Rt=s[_t.key],Tt=this.style.map.terrain&&this.style.map.terrain.getTerrainData(_t),zt=K.getMeshFromTileID(this.context,_t.canonical,S,!0,"stencil"),Zt=tt.getProjectionData({overscaledTileID:_t,applyGlobeMatrix:!_,applyTerrainMatrix:!0});ct.draw(L,B.TRIANGLES,ei.disabled,new zn({func:B.ALWAYS,mask:0},Rt,255,B.KEEP,B.KEEP,B.REPLACE),Bn.disabled,_?pi.disabled:pi.backCCW,null,Tt,Zt,"$clipping",zt.vertexBuffer,zt.indexBuffer,zt.segments)}}_renderTilesDepthBuffer(){const s=this.context,d=s.gl,_=this.style.projection,S=this.transform,L=this.useProgram("depth"),B=this.getDepthModeFor3D(),K=Ke(S,{tileSize:S.tileSize});for(const tt of K){const ct=this.style.map.terrain&&this.style.map.terrain.getTerrainData(tt),_t=_.getMeshFromTileID(this.context,tt.canonical,!0,!0,"raster"),Rt=S.getProjectionData({overscaledTileID:tt,applyGlobeMatrix:!0,applyTerrainMatrix:!0});L.draw(s,d.TRIANGLES,B,zn.disabled,Bn.disabled,pi.backCCW,null,ct,Rt,"$clipping",_t.vertexBuffer,_t.indexBuffer,_t.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,d=this.context.gl;return new zn({func:d.NOTEQUAL,mask:255},s,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(s){const d=this.context.gl;return new zn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,d.KEEP,d.KEEP,d.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(s){const d=this.context.gl,_=s.sort(((B,K)=>K.overscaledZ-B.overscaledZ)),S=_[_.length-1].overscaledZ,L=_[0].overscaledZ-S+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const B={};for(let K=0;K<L;K++)B[K+S]=new zn({func:d.GEQUAL,mask:255},K+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=L,[B,_]}return[{[S]:zn.disabled},_]}stencilConfigForOverlapTwoPass(s){const d=this.context.gl,_=s.sort(((B,K)=>K.overscaledZ-B.overscaledZ)),S=_[_.length-1].overscaledZ,L=_[0].overscaledZ-S+1;if(this.clearStencil(),L>1){const B={},K={};for(let tt=0;tt<L;tt++)B[tt+S]=new zn({func:d.GREATER,mask:255},L+1+tt,255,d.KEEP,d.KEEP,d.REPLACE),K[tt+S]=new zn({func:d.GREATER,mask:255},1+tt,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID=2*L+1,[B,K,_]}return this.nextStencilID=3,[{[S]:new zn({func:d.GREATER,mask:255},2,255,d.KEEP,d.KEEP,d.REPLACE)},{[S]:new zn({func:d.GREATER,mask:255},1,255,d.KEEP,d.KEEP,d.REPLACE)},_]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new Bn([s.CONSTANT_COLOR,s.ONE],new a.be(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Bn.unblended:Bn.alphaBlended}getDepthModeForSublayer(s,d,_){if(!this.opaquePassEnabledForLayer())return ei.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new ei(_||this.context.gl.LEQUAL,d,[S,S])}getDepthModeFor3D(){return new ei(this.context.gl.LEQUAL,ei.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,d){var _,S;this.style=s,this.options=d,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(R.now()),this.imageManager.beginFrame();const L=this.style._order,B=this.style.sourceCaches,K={},tt={},ct={},_t={isRenderingToTexture:!1,isRenderingGlobe:((_=s.projection)===null||_===void 0?void 0:_.transitionState)>0};for(const Tt in B){const zt=B[Tt];zt.used&&zt.prepare(this.context),K[Tt]=zt.getVisibleCoordinates(!1),tt[Tt]=K[Tt].slice().reverse(),ct[Tt]=zt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Tt=0;Tt<L.length;Tt++)if(this.style._layers[L[Tt]].is3D()){this.opaquePassCutoff=Tt;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Tt of L){const zt=this.style._layers[Tt];if(!zt.hasOffscreenPass()||zt.isHidden(this.transform.zoom))continue;const Zt=tt[zt.source];(zt.type==="custom"||Zt.length)&&this.renderLayer(this,B[zt.source],zt,Zt,_t)}if((S=this.style.projection)===null||S===void 0||S.updateGPUdependent({context:this.context,useProgram:Tt=>this.useProgram(Tt)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?a.be.black:a.be.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(Tt,zt){const Zt=Tt.context,fe=Zt.gl,pe=((We,Ne,tr)=>{const Ar=Math.cos(Ne.rollInRadians),xr=Math.sin(Ne.rollInRadians),Sr=Mt(Ne),kr=Ne.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:We.properties.get("sky-color"),u_horizon_color:We.properties.get("horizon-color"),u_horizon:[(Ne.width/2-Sr*xr)*tr,(Ne.height/2+Sr*Ar)*tr],u_horizon_normal:[-xr,Ar],u_sky_horizon_blend:We.properties.get("sky-horizon-blend")*Ne.height/2*tr,u_sky_blend:kr}})(zt,Tt.style.map.transform,Tt.pixelRatio),me=new ei(fe.LEQUAL,ei.ReadWrite,[0,1]),xe=zn.disabled,Be=Tt.colorModeForRenderPass(),Le=Tt.useProgram("sky"),$e=yh(Zt,zt);Le.draw(Zt,fe.TRIANGLES,me,xe,Be,pi.disabled,pe,null,void 0,"sky",$e.vertexBuffer,$e.indexBuffer,$e.segments)})(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){const Tt=this.style._layers[L[this.currentLayer]],zt=B[Tt.source],Zt=K[Tt.source];this._renderTileClippingMasks(Tt,Zt,!1),this.renderLayer(this,zt,Tt,Zt,_t)}this.renderPass="translucent";let Rt=!1;for(this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){const Tt=this.style._layers[L[this.currentLayer]],zt=B[Tt.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Tt,_t))continue;this.opaquePassEnabledForLayer()||Rt||(Rt=!0,_t.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Zt=(Tt.type==="symbol"?ct:tt)[Tt.source];this._renderTileClippingMasks(Tt,K[Tt.source],!!this.renderToTexture),this.renderLayer(this,zt,Tt,Zt,_t)}if(_t.isRenderingGlobe&&(function(Tt,zt,Zt){const fe=Tt.context,pe=fe.gl,me=Tt.useProgram("atmosphere"),xe=new ei(pe.LEQUAL,ei.ReadOnly,[0,1]),Be=Tt.transform,Le=(function(kr,Cn){const En=kr.properties.get("position"),on=[-En.x,-En.y,-En.z],Un=a.af(new Float64Array(16));return kr.properties.get("anchor")==="map"&&(a.b5(Un,Un,Cn.rollInRadians),a.b6(Un,Un,-Cn.pitchInRadians),a.b5(Un,Un,Cn.bearingInRadians),a.b6(Un,Un,Cn.center.lat*Math.PI/180),a.by(Un,Un,-Cn.center.lng*Math.PI/180)),a.c4(on,on,Un),on})(Zt,Tt.transform),$e=Be.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),We=zt.properties.get("atmosphere-blend")*$e.projectionTransition;if(We===0)return;const Ne=zo(Be.worldSize,Be.center.lat),tr=Be.inverseProjectionMatrix,Ar=new Float64Array(4);Ar[3]=1,a.av(Ar,Ar,Be.modelViewProjectionMatrix),Ar[0]/=Ar[3],Ar[1]/=Ar[3],Ar[2]/=Ar[3],Ar[3]=1,a.av(Ar,Ar,tr),Ar[0]/=Ar[3],Ar[1]/=Ar[3],Ar[2]/=Ar[3],Ar[3]=1;const xr=((kr,Cn,En,on,Un)=>({u_sun_pos:kr,u_atmosphere_blend:Cn,u_globe_position:En,u_globe_radius:on,u_inv_proj_matrix:Un}))(Le,We,[Ar[0],Ar[1],Ar[2]],Ne,tr),Sr=yh(fe,zt);me.draw(fe,pe.TRIANGLES,xe,zn.disabled,Bn.alphaBlended,pi.disabled,xr,null,null,"atmosphere",Sr.vertexBuffer,Sr.indexBuffer,Sr.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Tt=(function(zt,Zt){let fe=null;const pe=Object.values(zt._layers).flatMap((Le=>Le.source&&!Le.isHidden(Zt)?[zt.sourceCaches[Le.source]]:[])),me=pe.filter((Le=>Le.getSource().type==="vector")),xe=pe.filter((Le=>Le.getSource().type!=="vector")),Be=Le=>{(!fe||fe.getSource().maxzoom<Le.getSource().maxzoom)&&(fe=Le)};return me.forEach((Le=>Be(Le))),fe||xe.forEach((Le=>Be(Le))),fe})(this.style,this.transform.zoom);Tt&&(function(zt,Zt,fe){for(let pe=0;pe<fe.length;pe++)Nc(zt,Zt,fe[pe])})(this,Tt,Tt.getVisibleCoordinates())}this.options.showPadding&&(function(Tt){const zt=Tt.transform.padding;wa(Tt,Tt.transform.height-(zt.top||0),3,Lp),wa(Tt,zt.bottom||0,3,kd),Wl(Tt,zt.left||0,3,Mp),Wl(Tt,Tt.transform.width-(zt.right||0),3,Xl);const Zt=Tt.transform.centerPoint;(function(fe,pe,me,xe){us(fe,pe-1,me-10,2,20,xe),us(fe,pe-10,me-1,20,2,xe)})(Tt,Zt.x,Tt.transform.height-Zt.y,Qo)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(s){if(!this.style||!this.style.map||!this.style.map.terrain)return;const d=this.terrainFacilitator.matrix,_=this.transform.modelViewProjectionMatrix;let S=this.terrainFacilitator.dirty;S||(S=s?!a.c7(d,_):!a.c8(d,_)),S||(S=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),S&&(a.c9(d,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(L,B){const K=L.context,tt=K.gl,ct=L.transform,_t=Bn.unblended,Rt=new ei(tt.LEQUAL,ei.ReadWrite,[0,1]),Tt=B.sourceCache.getRenderableTiles(),zt=L.useProgram("terrainDepth");K.bindFramebuffer.set(B.getFramebuffer("depth").framebuffer),K.viewport.set([0,0,L.width/devicePixelRatio,L.height/devicePixelRatio]),K.clear({color:a.be.transparent,depth:1});for(const Zt of Tt){const fe=B.getTerrainMesh(Zt.tileID),pe=B.getTerrainData(Zt.tileID),me=ct.getProjectionData({overscaledTileID:Zt.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),xe={u_ele_delta:B.getMeshFrameDelta(ct.zoom)};zt.draw(K,tt.TRIANGLES,Rt,zn.disabled,_t,pi.backCCW,xe,pe,me,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}K.bindFramebuffer.set(null),K.viewport.set([0,0,L.width,L.height])})(this,this.style.map.terrain),(function(L,B){const K=L.context,tt=K.gl,ct=L.transform,_t=Bn.unblended,Rt=new ei(tt.LEQUAL,ei.ReadWrite,[0,1]),Tt=B.getCoordsTexture(),zt=B.sourceCache.getRenderableTiles(),Zt=L.useProgram("terrainCoords");K.bindFramebuffer.set(B.getFramebuffer("coords").framebuffer),K.viewport.set([0,0,L.width/devicePixelRatio,L.height/devicePixelRatio]),K.clear({color:a.be.transparent,depth:1}),B.coordsIndex=[];for(const fe of zt){const pe=B.getTerrainMesh(fe.tileID),me=B.getTerrainData(fe.tileID);K.activeTexture.set(tt.TEXTURE0),tt.bindTexture(tt.TEXTURE_2D,Tt.texture);const xe={u_terrain_coords_id:(255-B.coordsIndex.length)/255,u_texture:0,u_ele_delta:B.getMeshFrameDelta(ct.zoom)},Be=ct.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Zt.draw(K,tt.TRIANGLES,Rt,zn.disabled,_t,pi.backCCW,xe,me,Be,"terrain",pe.vertexBuffer,pe.indexBuffer,pe.segments),B.coordsIndex.push(fe.tileID.key)}K.bindFramebuffer.set(null),K.viewport.set([0,0,L.width,L.height])})(this,this.style.map.terrain))}renderLayer(s,d,_,S,L){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(S||[]).length)&&(this.id=_.id,a.ca(_)?(function(B,K,tt,ct,_t,Rt){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:Tt}=Rt,zt=zn.disabled,Zt=B.colorModeForRenderPass();(tt._unevaluatedLayout.hasValue("text-variable-anchor")||tt._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(fe,pe,me,xe,Be,Le,$e,We,Ne){const tr=pe.transform,Ar=pe.style.map.terrain,xr=Be==="map",Sr=Le==="map";for(const kr of fe){const Cn=xe.getTile(kr),En=Cn.getBucket(me);if(!En||!En.text||!En.text.segments.get().length)continue;const on=a.am(En.textSizeData,tr.zoom),Un=a.aB(Cn,1,pe.transform.zoom),Gi=Kn(xr,pe.transform,Un),Sa=me.layout.get("icon-text-fit")!=="none"&&En.hasIconData();if(on){const Uo=Math.pow(2,tr.zoom-Cn.tileID.overscaledZ),Ya=Ar?(Ka,Da)=>Ar.getElevation(kr,Ka,Da):null;qf(En,xr,Sr,Ne,tr,Gi,Uo,on,Sa,a.aC(tr,Cn,$e,We),kr.toUnwrapped(),Ya)}}})(ct,B,tt,K,tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),_t),tt.paint.get("icon-opacity").constantOr(1)!==0&&Ed(B,K,tt,ct,!1,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),tt.layout.get("icon-rotation-alignment"),tt.layout.get("icon-pitch-alignment"),tt.layout.get("icon-keep-upright"),zt,Zt,Tt),tt.paint.get("text-opacity").constantOr(1)!==0&&Ed(B,K,tt,ct,!0,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.layout.get("text-keep-upright"),zt,Zt,Tt),K.map.showCollisionBoxes&&(Hl(B,K,tt,ct,!0),Hl(B,K,tt,ct,!1))})(s,d,_,S,this.style.placement.variableOffsets,L):a.cb(_)?(function(B,K,tt,ct,_t){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:Rt}=_t,Tt=tt.paint.get("circle-opacity"),zt=tt.paint.get("circle-stroke-width"),Zt=tt.paint.get("circle-stroke-opacity"),fe=!tt.layout.get("circle-sort-key").isConstant();if(Tt.constantOr(1)===0&&(zt.constantOr(1)===0||Zt.constantOr(1)===0))return;const pe=B.context,me=pe.gl,xe=B.transform,Be=B.getDepthModeForSublayer(0,ei.ReadOnly),Le=zn.disabled,$e=B.colorModeForRenderPass(),We=[],Ne=xe.getCircleRadiusCorrection();for(let tr=0;tr<ct.length;tr++){const Ar=ct[tr],xr=K.getTile(Ar),Sr=xr.getBucket(tt);if(!Sr)continue;const kr=tt.paint.get("circle-translate"),Cn=tt.paint.get("circle-translate-anchor"),En=a.aC(xe,xr,kr,Cn),on=Sr.programConfigurations.get(tt.id),Un=B.useProgram("circle",on),Gi=Sr.layoutVertexBuffer,Sa=Sr.indexBuffer,Uo=B.style.map.terrain&&B.style.map.terrain.getTerrainData(Ar),Ya={programConfiguration:on,program:Un,layoutVertexBuffer:Gi,indexBuffer:Sa,uniformValues:$u(B,xr,tt,En,Ne),terrainData:Uo,projectionData:xe.getProjectionData({overscaledTileID:Ar,applyGlobeMatrix:!Rt,applyTerrainMatrix:!0})};if(fe){const Ka=Sr.segments.get();for(const Da of Ka)We.push({segments:new a.aL([Da]),sortKey:Da.sortKey,state:Ya})}else We.push({segments:Sr.segments,sortKey:0,state:Ya})}fe&&We.sort(((tr,Ar)=>tr.sortKey-Ar.sortKey));for(const tr of We){const{programConfiguration:Ar,program:xr,layoutVertexBuffer:Sr,indexBuffer:kr,uniformValues:Cn,terrainData:En,projectionData:on}=tr.state;xr.draw(pe,me.TRIANGLES,Be,Le,$e,pi.backCCW,Cn,En,on,tt.id,Sr,kr,tr.segments,tt.paint,B.transform.zoom,Ar)}})(s,d,_,S,L):a.cc(_)?(function(B,K,tt,ct,_t){if(tt.paint.get("heatmap-opacity")===0)return;const Rt=B.context,{isRenderingToTexture:Tt,isRenderingGlobe:zt}=_t;if(B.style.map.terrain){for(const Zt of ct){const fe=K.getTile(Zt);K.hasRenderableParent(Zt)||(B.renderPass==="offscreen"?Wu(B,fe,tt,Zt,zt):B.renderPass==="translucent"&&Dh(B,tt,Zt,Tt,zt))}Rt.viewport.set([0,0,B.width,B.height])}else B.renderPass==="offscreen"?(function(Zt,fe,pe,me){const xe=Zt.context,Be=xe.gl,Le=Zt.transform,$e=zn.disabled,We=new Bn([Be.ONE,Be.ONE],a.be.transparent,[!0,!0,!0,!0]);(function(Ne,tr,Ar){const xr=Ne.gl;Ne.activeTexture.set(xr.TEXTURE1),Ne.viewport.set([0,0,tr.width/4,tr.height/4]);let Sr=Ar.heatmapFbos.get(a.c1);Sr?(xr.bindTexture(xr.TEXTURE_2D,Sr.colorAttachment.get()),Ne.bindFramebuffer.set(Sr.framebuffer)):(Sr=Yc(Ne,tr.width/4,tr.height/4),Ar.heatmapFbos.set(a.c1,Sr))})(xe,Zt,pe),xe.clear({color:a.be.transparent});for(let Ne=0;Ne<me.length;Ne++){const tr=me[Ne];if(fe.hasRenderableParent(tr))continue;const Ar=fe.getTile(tr),xr=Ar.getBucket(pe);if(!xr)continue;const Sr=xr.programConfigurations.get(pe.id),kr=Zt.useProgram("heatmap",Sr),Cn=Le.getProjectionData({overscaledTileID:tr,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),En=Le.getCircleRadiusCorrection();kr.draw(xe,Be.TRIANGLES,ei.disabled,$e,We,pi.backCCW,il(Ar,Le.zoom,pe.paint.get("heatmap-intensity"),En),null,Cn,pe.id,xr.layoutVertexBuffer,xr.indexBuffer,xr.segments,pe.paint,Le.zoom,Sr)}xe.viewport.set([0,0,Zt.width,Zt.height])})(B,K,tt,ct):B.renderPass==="translucent"&&(function(Zt,fe){const pe=Zt.context,me=pe.gl;pe.setColorMode(Zt.colorModeForRenderPass());const xe=fe.heatmapFbos.get(a.c1);xe&&(pe.activeTexture.set(me.TEXTURE0),me.bindTexture(me.TEXTURE_2D,xe.colorAttachment.get()),pe.activeTexture.set(me.TEXTURE1),Cd(pe,fe).bind(me.LINEAR,me.CLAMP_TO_EDGE),Zt.useProgram("heatmapTexture").draw(pe,me.TRIANGLES,ei.disabled,zn.disabled,Zt.colorModeForRenderPass(),pi.disabled,ws(Zt,fe,0,1),null,null,fe.id,Zt.viewportBuffer,Zt.quadTriangleIndexBuffer,Zt.viewportSegments,fe.paint,Zt.transform.zoom))})(B,tt)})(s,d,_,S,L):a.cd(_)?(function(B,K,tt,ct,_t){if(B.renderPass!=="translucent")return;const{isRenderingToTexture:Rt}=_t,Tt=tt.paint.get("line-opacity"),zt=tt.paint.get("line-width");if(Tt.constantOr(1)===0||zt.constantOr(1)===0)return;const Zt=B.getDepthModeForSublayer(0,ei.ReadOnly),fe=B.colorModeForRenderPass(),pe=tt.paint.get("line-dasharray"),me=tt.paint.get("line-pattern"),xe=me.constantOr(1),Be=tt.paint.get("line-gradient"),Le=tt.getCrossfadeParameters(),$e=xe?"linePattern":pe?"lineSDF":Be?"lineGradient":"line",We=B.context,Ne=We.gl,tr=B.transform;let Ar=!0;for(const xr of ct){const Sr=K.getTile(xr);if(xe&&!Sr.patternsLoaded())continue;const kr=Sr.getBucket(tt);if(!kr)continue;const Cn=kr.programConfigurations.get(tt.id),En=B.context.program.get(),on=B.useProgram($e,Cn),Un=Ar||on.program!==En,Gi=B.style.map.terrain&&B.style.map.terrain.getTerrainData(xr),Sa=me.constantOr(null);if(Sa&&Sr.imageAtlas){const Pa=Sr.imageAtlas,lo=Pa.patternPositions[Sa.to.toString()],_l=Pa.patternPositions[Sa.from.toString()];lo&&_l&&Cn.setConstantPatternPositions(lo,_l)}const Uo=tr.getProjectionData({overscaledTileID:xr,applyGlobeMatrix:!Rt,applyTerrainMatrix:!0}),Ya=tr.getPixelScale(),Ka=xe?Ss(B,Sr,tt,Ya,Le):pe?Gu(B,Sr,tt,Ya,pe,Le):Be?jo(B,Sr,tt,Ya,kr.lineClipsArray.length):Gl(B,Sr,tt,Ya);if(xe)We.activeTexture.set(Ne.TEXTURE0),Sr.imageAtlasTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE),Cn.updatePaintBuffers(Le);else if(pe&&(Un||B.lineAtlas.dirty))We.activeTexture.set(Ne.TEXTURE0),B.lineAtlas.bind(We);else if(Be){const Pa=kr.gradients[tt.id];let lo=Pa.texture;if(tt.gradientVersion!==Pa.version){let _l=256;if(tt.stepInterpolant){const ua=K.getSource().maxzoom,Rl=xr.canonical.z===ua?Math.ceil(1<<B.transform.maxZoom-xr.canonical.z):1;_l=a.ag(a.c2(kr.maxLineLength/a.$*1024*Rl),256,We.maxTextureSize)}Pa.gradient=a.c3({expression:tt.gradientExpression(),evaluationKey:"lineProgress",resolution:_l,image:Pa.gradient||void 0,clips:kr.lineClipsArray}),Pa.texture?Pa.texture.update(Pa.gradient):Pa.texture=new a.T(We,Pa.gradient,Ne.RGBA),Pa.version=tt.gradientVersion,lo=Pa.texture}We.activeTexture.set(Ne.TEXTURE0),lo.bind(tt.stepInterpolant?Ne.NEAREST:Ne.LINEAR,Ne.CLAMP_TO_EDGE)}const Da=B.stencilModeForClipping(xr);on.draw(We,Ne.TRIANGLES,Zt,Da,fe,pi.disabled,Ka,Gi,Uo,tt.id,kr.layoutVertexBuffer,kr.indexBuffer,kr.segments,tt.paint,B.transform.zoom,Cn,kr.layoutVertexBuffer2),Ar=!1}})(s,d,_,S,L):a.ce(_)?(function(B,K,tt,ct,_t){const Rt=tt.paint.get("fill-color"),Tt=tt.paint.get("fill-opacity");if(Tt.constantOr(1)===0)return;const{isRenderingToTexture:zt}=_t,Zt=B.colorModeForRenderPass(),fe=tt.paint.get("fill-pattern"),pe=B.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&Rt.constantOr(a.be.transparent).a===1&&Tt.constantOr(0)===1?"opaque":"translucent";if(B.renderPass===pe){const me=B.getDepthModeForSublayer(1,B.renderPass==="opaque"?ei.ReadWrite:ei.ReadOnly);ku(B,K,tt,ct,me,Zt,!1,zt)}if(B.renderPass==="translucent"&&tt.paint.get("fill-antialias")){const me=B.getDepthModeForSublayer(tt.getPaintProperty("fill-outline-color")?2:0,ei.ReadOnly);ku(B,K,tt,ct,me,Zt,!0,zt)}})(s,d,_,S,L):a.cf(_)?(function(B,K,tt,ct,_t){const Rt=tt.paint.get("fill-extrusion-opacity");if(Rt===0)return;const{isRenderingToTexture:Tt}=_t;if(B.renderPass==="translucent"){const zt=new ei(B.context.gl.LEQUAL,ei.ReadWrite,B.depthRangeFor3D);if(Rt!==1||tt.paint.get("fill-extrusion-pattern").constantOr(1))mu(B,K,tt,ct,zt,zn.disabled,Bn.disabled,Tt),mu(B,K,tt,ct,zt,B.stencilModeFor3D(),B.colorModeForRenderPass(),Tt);else{const Zt=B.colorModeForRenderPass();mu(B,K,tt,ct,zt,zn.disabled,Zt,Tt)}}})(s,d,_,S,L):a.cg(_)?(function(B,K,tt,ct,_t){if(B.renderPass!=="offscreen"&&B.renderPass!=="translucent")return;const{isRenderingToTexture:Rt}=_t,Tt=B.context,zt=B.style.projection.useSubdivision,Zt=B.getDepthModeForSublayer(0,ei.ReadOnly),fe=B.colorModeForRenderPass();if(B.renderPass==="offscreen")(function(pe,me,xe,Be,Le,$e,We){const Ne=pe.context,tr=Ne.gl;for(const Ar of xe){const xr=me.getTile(Ar),Sr=xr.dem;if(!Sr||!Sr.data||!xr.needsHillshadePrepare)continue;const kr=Sr.dim,Cn=Sr.stride,En=Sr.getPixels();if(Ne.activeTexture.set(tr.TEXTURE1),Ne.pixelStoreUnpackPremultiplyAlpha.set(!1),xr.demTexture=xr.demTexture||pe.getTileTexture(Cn),xr.demTexture){const Un=xr.demTexture;Un.update(En,{premultiply:!1}),Un.bind(tr.NEAREST,tr.CLAMP_TO_EDGE)}else xr.demTexture=new a.T(Ne,En,tr.RGBA,{premultiply:!1}),xr.demTexture.bind(tr.NEAREST,tr.CLAMP_TO_EDGE);Ne.activeTexture.set(tr.TEXTURE0);let on=xr.fbo;if(!on){const Un=new a.T(Ne,{width:kr,height:kr,data:null},tr.RGBA);Un.bind(tr.LINEAR,tr.CLAMP_TO_EDGE),on=xr.fbo=Ne.createFramebuffer(kr,kr,!0,!1),on.colorAttachment.set(Un.texture)}Ne.bindFramebuffer.set(on.framebuffer),Ne.viewport.set([0,0,kr,kr]),pe.useProgram("hillshadePrepare").draw(Ne,tr.TRIANGLES,Le,$e,We,pi.disabled,mh(xr.tileID,Sr),null,null,Be.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments),xr.needsHillshadePrepare=!1}})(B,K,ct,tt,Zt,zn.disabled,fe),Tt.viewport.set([0,0,B.width,B.height]);else if(B.renderPass==="translucent")if(zt){const[pe,me,xe]=B.stencilConfigForOverlapTwoPass(ct);wc(B,K,tt,xe,pe,Zt,fe,!1,Rt),wc(B,K,tt,xe,me,Zt,fe,!0,Rt)}else{const[pe,me]=B.getStencilConfigForOverlapAndUpdateStencilID(ct);wc(B,K,tt,me,pe,Zt,fe,!1,Rt)}})(s,d,_,S,L):a.ch(_)?(function(B,K,tt,ct,_t){if(B.renderPass!=="translucent"||!ct.length)return;const{isRenderingToTexture:Rt}=_t,Tt=B.style.projection.useSubdivision,zt=B.getDepthModeForSublayer(0,ei.ReadOnly),Zt=B.colorModeForRenderPass();if(Tt){const[fe,pe,me]=B.stencilConfigForOverlapTwoPass(ct);Iu(B,K,tt,me,fe,zt,Zt,!1,Rt),Iu(B,K,tt,me,pe,zt,Zt,!0,Rt)}else{const[fe,pe]=B.getStencilConfigForOverlapAndUpdateStencilID(ct);Iu(B,K,tt,pe,fe,zt,Zt,!1,Rt)}})(s,d,_,S,L):a.ci(_)?(function(B,K,tt,ct,_t){if(B.renderPass!=="translucent"||tt.paint.get("raster-opacity")===0||!ct.length)return;const{isRenderingToTexture:Rt}=_t,Tt=K.getSource(),zt=B.style.projection.useSubdivision;if(Tt instanceof Ie)gl(B,K,tt,ct,null,!1,!1,Tt.tileCoords,Tt.flippedWindingOrder,Rt);else if(zt){const[Zt,fe,pe]=B.stencilConfigForOverlapTwoPass(ct);gl(B,K,tt,pe,Zt,!1,!0,ac,!1,Rt),gl(B,K,tt,pe,fe,!0,!0,ac,!1,Rt)}else{const[Zt,fe]=B.getStencilConfigForOverlapAndUpdateStencilID(ct);gl(B,K,tt,fe,Zt,!1,!0,ac,!1,Rt)}})(s,d,_,S,L):a.cj(_)?(function(B,K,tt,ct,_t){const Rt=tt.paint.get("background-color"),Tt=tt.paint.get("background-opacity");if(Tt===0)return;const{isRenderingToTexture:zt}=_t,Zt=B.context,fe=Zt.gl,pe=B.style.projection,me=B.transform,xe=me.tileSize,Be=tt.paint.get("background-pattern");if(B.isPatternMissing(Be))return;const Le=!Be&&Rt.a===1&&Tt===1&&B.opaquePassEnabledForLayer()?"opaque":"translucent";if(B.renderPass!==Le)return;const $e=zn.disabled,We=B.getDepthModeForSublayer(0,Le==="opaque"?ei.ReadWrite:ei.ReadOnly),Ne=B.colorModeForRenderPass(),tr=B.useProgram(Be?"backgroundPattern":"background"),Ar=ct||Ke(me,{tileSize:xe,terrain:B.style.map.terrain});Be&&(Zt.activeTexture.set(fe.TEXTURE0),B.imageManager.bind(B.context));const xr=tt.getCrossfadeParameters();for(const Sr of Ar){const kr=me.getProjectionData({overscaledTileID:Sr,applyGlobeMatrix:!zt,applyTerrainMatrix:!0}),Cn=Be?_c(Tt,B,Be,{tileID:Sr,tileSize:xe},xr):Al(Tt,Rt),En=B.style.map.terrain&&B.style.map.terrain.getTerrainData(Sr),on=pe.getMeshFromTileID(Zt,Sr.canonical,!1,!0,"raster");tr.draw(Zt,fe.TRIANGLES,We,$e,Ne,pi.backCCW,Cn,En,kr,tt.id,on.vertexBuffer,on.indexBuffer,on.segments)}})(s,0,_,S,L):a.ck(_)&&(function(B,K,tt,ct){const{isRenderingGlobe:_t}=ct,Rt=B.context,Tt=tt.implementation,zt=B.style.projection,Zt=B.transform,fe=Zt.getProjectionDataForCustomLayer(_t),pe={farZ:Zt.farZ,nearZ:Zt.nearZ,fov:Zt.fov*Math.PI/180,modelViewProjectionMatrix:Zt.modelViewProjectionMatrix,projectionMatrix:Zt.projectionMatrix,shaderData:{variantName:zt.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${zt.shaderPreludeCode.vertexSource}`,define:zt.shaderDefine},defaultProjectionData:fe},me=Tt.renderingMode?Tt.renderingMode:"2d";if(B.renderPass==="offscreen"){const xe=Tt.prerender;xe&&(B.setCustomLayerDefaults(),Rt.setColorMode(B.colorModeForRenderPass()),xe.call(Tt,Rt.gl,pe),Rt.setDirty(),B.setBaseState())}else if(B.renderPass==="translucent"){B.setCustomLayerDefaults(),Rt.setColorMode(B.colorModeForRenderPass()),Rt.setStencilMode(zn.disabled);const xe=me==="3d"?B.getDepthModeFor3D():B.getDepthModeForSublayer(0,ei.ReadOnly);Rt.setDepthMode(xe),Tt.render(Rt.gl,pe),Rt.setDirty(),B.setBaseState(),Rt.bindFramebuffer.set(null)}})(s,0,_,L))}saveTileTexture(s){const d=this._tileTextures[s.size[0]];d?d.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const d=this._tileTextures[s];return d&&d.length>0?d.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const d=this.imageManager.getPattern(s.from.toString()),_=this.imageManager.getPattern(s.to.toString());return!d||!_}useProgram(s,d,_=!1,S=[]){this.cache=this.cache||{};const L=!!this.style.map.terrain,B=this.style.projection,K=_?qe.projectionMercator:B.shaderPreludeCode,tt=_?pn:B.shaderDefine,ct=s+(d?d.cacheKey:"")+`/${_?un:B.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(L?"/terrain":"")+(S?`/${S.join("/")}`:"");return this.cache[ct]||(this.cache[ct]=new Su(this.context,qe[s],d,Eu[s],this._showOverdrawInspector,L,K,tt,S)),this.cache[ct]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:d}=this.context.gl;return this.width!==s||this.height!==d}}function vl(N,s){let d,_=!1,S=null,L=null;const B=()=>{S=null,_&&(N.apply(L,d),S=setTimeout(B,s),_=!1)};return(...K)=>(_=!0,L=this,d=K,S||B(),S)}class Kc{constructor(s){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let _;return d.split("&").map((S=>S.split("="))).forEach((S=>{S[0]===this._hashName&&(_=S)})),(_&&_[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(!this._isValidHash(d))return!1;const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:_,pitch:+(d[4]||0)}),!0},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{const d=this._getCurrentHash();if(d.length===0)return;const _=d.join("/");let S=_;S.split("&").length>0&&(S=S.split("&")[0]),this._hashName&&(S=`${this._hashName}=${_}`);let L=window.location.hash.replace(S,"");L.startsWith("#&")?L=L.slice(0,1)+L.slice(2):L==="#"&&(L="");let B=window.location.href.replace(/(#.+)?$/,L);B=B.replace("&&","&"),window.history.replaceState(window.history.state,null,B)},this._updateHash=vl(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(s){const d=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,S=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,S),B=Math.round(d.lng*L)/L,K=Math.round(d.lat*L)/L,tt=this._map.getBearing(),ct=this._map.getPitch();let _t="";if(_t+=s?`/${B}/${K}/${_}`:`${_}/${K}/${B}`,(tt||ct)&&(_t+="/"+Math.round(10*tt)/10),ct&&(_t+=`/${Math.round(ct)}`),this._hashName){const Rt=this._hashName;let Tt=!1;const zt=window.location.hash.slice(1).split("&").map((Zt=>{const fe=Zt.split("=")[0];return fe===Rt?(Tt=!0,`${fe}=${_t}`):Zt})).filter((Zt=>Zt));return Tt||zt.push(`${Rt}=${_t}`),`#${zt.join("&")}`}return`#${_t}`}_isValidHash(s){if(s.length<3||s.some(isNaN))return!1;try{new a.S(+s[2],+s[1])}catch{return!1}const d=+s[0],_=+(s[3]||0),S=+(s[4]||0);return d>=this._map.getMinZoom()&&d<=this._map.getMaxZoom()&&_>=-180&&_<=180&&S>=this._map.getMinPitch()&&S<=this._map.getMaxPitch()}}const td={linearity:.3,easing:a.cl(0,0,.3,1)},Zc=a.e({deceleration:2500,maxSpeed:1400},td),lf=a.e({deceleration:20,maxSpeed:1400},td),Lc=a.e({deceleration:1e3,maxSpeed:360},td),Mc=a.e({deceleration:1e3,maxSpeed:90},td),Bh=a.e({deceleration:1e3,maxSpeed:360},td);class Sc{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:R.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,d=R.now();for(;s.length>0&&d-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)d.zoom+=L.zoomDelta||0,d.bearing+=L.bearingDelta||0,d.pitch+=L.pitchDelta||0,d.roll+=L.rollDelta||0,L.panDelta&&d.pan._add(L.panDelta),L.around&&(d.around=L.around),L.pinchAround&&(d.pinchAround=L.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(d.pan.mag()){const L=Pc(d.pan.mag(),_,a.e({},Zc,s||{})),B=d.pan.mult(L.amount/d.pan.mag()),K=this._map.cameraHelper.handlePanInertia(B,this._map.transform);S.center=K.easingCenter,S.offset=K.easingOffset,Qc(S,L)}if(d.zoom){const L=Pc(d.zoom,_,lf);S.zoom=this._map.transform.zoom+L.amount,Qc(S,L)}if(d.bearing){const L=Pc(d.bearing,_,Lc);S.bearing=this._map.transform.bearing+a.ag(L.amount,-179,179),Qc(S,L)}if(d.pitch){const L=Pc(d.pitch,_,Mc);S.pitch=this._map.transform.pitch+L.amount,Qc(S,L)}if(d.roll){const L=Pc(d.roll,_,Bh);S.roll=this._map.transform.roll+a.ag(L.amount,-179,179),Qc(S,L)}if(S.zoom||S.bearing){const L=d.pinchAround===void 0?d.around:d.pinchAround;S.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),a.e(S,{noMoveStart:!0})}}function Qc(N,s){(!N.duration||N.duration<s.duration)&&(N.duration=s.duration,N.easing=s.easing)}function Pc(N,s,d){const{maxSpeed:_,linearity:S,deceleration:L}=d,B=a.ag(N*S/(s/1e3),-_,_),K=Math.abs(B)/(L*S);return{easing:d.easing,duration:1e3*K,amount:B*(K/2)}}class al extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,_,S={}){_=_ instanceof MouseEvent?_:new MouseEvent(s,_);const L=A.mousePos(d.getCanvas(),_),B=d.unproject(L);super(s,a.e({point:L,lngLat:B,originalEvent:_},S)),this._defaultPrevented=!1,this.target=d}}class oc extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,_){const S=s==="touchend"?_.changedTouches:_.touches,L=A.touchPos(d.getCanvasContainer(),S),B=L.map((tt=>d.unproject(tt))),K=L.reduce(((tt,ct,_t,Rt)=>tt.add(ct.div(Rt.length))),new a.P(0,0));super(s,{points:L,point:K,lngLats:B,lngLat:d.unproject(K),originalEvent:_}),this._defaultPrevented=!1}}class vh extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,d,_){super(s,{originalEvent:_}),this._defaultPrevented=!1}}class Yl{constructor(s,d){this._map=s,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new vh(s.type,this._map,s))}mousedown(s,d){return this._mousedownPos=d,this._firePreventable(new al(s.type,this._map,s))}mouseup(s){this._map.fire(new al(s.type,this._map,s))}click(s,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new al(s.type,this._map,s))}dblclick(s){return this._firePreventable(new al(s.type,this._map,s))}mouseover(s){this._map.fire(new al(s.type,this._map,s))}mouseout(s){this._map.fire(new al(s.type,this._map,s))}touchstart(s){return this._firePreventable(new oc(s.type,this._map,s))}touchmove(s){this._map.fire(new oc(s.type,this._map,s))}touchend(s){this._map.fire(new oc(s.type,this._map,s))}touchcancel(s){this._map.fire(new oc(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Hf{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new al(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new al("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new al(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Id{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.screenPointToLocation(a.P.convert(s),this._map.terrain)}}class Vm{constructor(s,d){this._map=s,this._tr=new Id(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,d){this.isEnabled()&&s.shiftKey&&s.button===0&&(A.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(s,d){if(!this._active)return;const _=d;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=_,this._box||(this._box=A.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const L=Math.min(S.x,_.x),B=Math.max(S.x,_.x),K=Math.min(S.y,_.y),tt=Math.max(S.y,_.y);A.setTransform(this._box,`translate(${L}px,${K}px)`),this._box.style.width=B-L+"px",this._box.style.height=tt-K+"px"}mouseupWindow(s,d){if(!this._active||s.button!==0)return;const _=this._startPos,S=d;if(this.reset(),A.suppressClick(),_.x!==S.x||_.y!==S.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:s})),{cameraAnimation:L=>L.fitScreenCoordinates(_,S,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(A.remove(this._box),this._box=null),A.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,d){return this._map.fire(new a.l(s,{originalEvent:d}))}}function Pp(N,s){if(N.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${N.length}, points ${s.length}`);const d={};for(let _=0;_<N.length;_++)d[N[_].identifier]=s[_];return d}class Bg{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,d,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),_.length===this.numTouches&&(this.centroid=(function(S){const L=new a.P(0,0);for(const B of S)L._add(B);return L.div(S.length)})(d),this.touches=Pp(_,d)))}touchmove(s,d,_){if(this.aborted||!this.centroid)return;const S=Pp(_,d);for(const L in this.touches){const B=S[L];(!B||B.dist(this.touches[L])>30)&&(this.aborted=!0)}}touchend(s,d,_){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class As{constructor(s){this.singleTap=new Bg(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,d,_){this.singleTap.touchstart(s,d,_)}touchmove(s,d,_){this.singleTap.touchmove(s,d,_)}touchend(s,d,_){const S=this.singleTap.touchend(s,d,_);if(S){const L=s.timeStamp-this.lastTime<500,B=!this.lastTap||this.lastTap.dist(S)<30;if(L&&B||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class zh{constructor(s){this._tr=new Id(s),this._zoomIn=new As({numTouches:1,numTaps:2}),this._zoomOut=new As({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,d,_){this._zoomIn.touchstart(s,d,_),this._zoomOut.touchstart(s,d,_)}touchmove(s,d,_){this._zoomIn.touchmove(s,d,_),this._zoomOut.touchmove(s,d,_)}touchend(s,d,_){const S=this._zoomIn.touchend(s,d,_),L=this._zoomOut.touchend(s,d,_),B=this._tr;return S?(this._active=!0,s.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:K=>K.easeTo({duration:300,zoom:B.zoom+1,around:B.unproject(S)},{originalEvent:s})}):L?(this._active=!0,s.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:K=>K.easeTo({duration:300,zoom:B.zoom-1,around:B.unproject(L)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bh{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const d=this._moveFunction(...s);if(d.bearingDelta||d.pitchDelta||d.rollDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(s,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=Array.isArray(d)?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,d){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const S=Array.isArray(d)?d[0]:d;return!this._moved&&S.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=S,this._move(_,S))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&A.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Ru=0,sc=2,V={[Ru]:1,[sc]:2};class Z{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const d=A.mouseButton(s);this._eventButton=d}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!(function(d,_){const S=V[_];return d.buttons===void 0||(d.buttons&S)!==S})(s,this._eventButton)}isValidEndEvent(s){return A.mouseButton(s)===this._eventButton}}class yt{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}class Lt{constructor(s=new Z({checkCorrectEvent:()=>!0}),d=new yt){this.mouseMoveStateManager=s,this.oneFingerTouchMoveStateManager=d}_executeRelevantHandler(s,d,_){return s instanceof MouseEvent?d(s):typeof TouchEvent<"u"&&s instanceof TouchEvent?_(s):void 0}startMove(s){this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.startMove(d)),(d=>this.oneFingerTouchMoveStateManager.startMove(d)))}endMove(s){this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.endMove(d)),(d=>this.oneFingerTouchMoveStateManager.endMove(d)))}isValidStartEvent(s){return this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.isValidStartEvent(d)),(d=>this.oneFingerTouchMoveStateManager.isValidStartEvent(d)))}isValidMoveEvent(s){return this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.isValidMoveEvent(d)),(d=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(d)))}isValidEndEvent(s){return this._executeRelevantHandler(s,(d=>this.mouseMoveStateManager.isValidEndEvent(d)),(d=>this.oneFingerTouchMoveStateManager.isValidEndEvent(d)))}}const Kt=N=>{N.mousedown=N.dragStart,N.mousemoveWindow=N.dragMove,N.mouseup=N.dragEnd,N.contextmenu=s=>{s.preventDefault()}};class ne{constructor(s,d){this._clickTolerance=s.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(s){return s<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(s,d,_){return this._calculateTransform(s,d,_)}touchmove(s,d,_){if(this._active){if(!this._shouldBePrevented(_.length))return s.preventDefault(),this._calculateTransform(s,d,_);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",s)}}touchend(s,d,_){this._calculateTransform(s,d,_),this._active&&this._shouldBePrevented(_.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,d,_){_.length>0&&(this._active=!0);const S=Pp(_,d),L=new a.P(0,0),B=new a.P(0,0);let K=0;for(const ct in S){const _t=S[ct],Rt=this._touches[ct];Rt&&(L._add(_t),B._add(_t.sub(Rt)),K++,S[ct]=_t)}if(this._touches=S,this._shouldBePrevented(K)||!B.mag())return;const tt=B.div(K);return this._sum._add(tt),this._sum.mag()<this._clickTolerance?void 0:{around:L.div(K),panDelta:tt}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ae{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,d,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([d[0],d[1]]))}touchmove(s,d,_){if(!this._firstTwoTouches)return;s.preventDefault();const[S,L]=this._firstTwoTouches,B=ue(_,d,S),K=ue(_,d,L);if(!B||!K)return;const tt=this._aroundCenter?null:B.add(K).div(2);return this._move([B,K],tt,s)}touchend(s,d,_){if(!this._firstTwoTouches)return;const[S,L]=this._firstTwoTouches,B=ue(_,d,S),K=ue(_,d,L);B&&K||(this._active&&A.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function ue(N,s,d){for(let _=0;_<N.length;_++)if(N[_].identifier===d)return s[_]}function ge(N,s){return Math.log(N/s)/Math.LN2}class Te extends ae{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,d){const _=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(ge(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ge(this._distance,_),pinchAround:d}}}function Ce(N,s){return 180*N.angleWith(s)/Math.PI}class Nr extends ae{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,d,_){const S=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ce(this._vector,S),pinchAround:d}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const d=25/(Math.PI*this._minDiameter)*360,_=Ce(s,this._startVector);return Math.abs(_)<d}}function Ae(N){return Math.abs(N.y)>Math.abs(N.x)}class hr extends ae{constructor(s){super(),this._currentTouchCount=0,this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,d,_){super.touchstart(s,d,_),this._currentTouchCount=_.length}_start(s){this._lastPoints=s,Ae(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,d,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const S=s[0].sub(this._lastPoints[0]),L=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(S,L,_.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(S.y+L.y)/2*-.5}):void 0}gestureBeginsVertically(s,d,_){if(this._valid!==void 0)return this._valid;const S=s.mag()>=2,L=d.mag()>=2;if(!S&&!L)return;if(!S||!L)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const B=s.y>0==d.y>0;return Ae(s)&&Ae(d)&&B}}const br={panStep:100,bearingStep:15,pitchStep:10};class Xr{constructor(s){this._tr=new Id(s);const d=br;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let d=0,_=0,S=0,L=0,B=0;switch(s.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:s.shiftKey?_=-1:(s.preventDefault(),L=-1);break;case 39:s.shiftKey?_=1:(s.preventDefault(),L=1);break;case 38:s.shiftKey?S=1:(s.preventDefault(),B=-1);break;case 40:s.shiftKey?S=-1:(s.preventDefault(),B=1);break;default:return}return this._rotationDisabled&&(_=0,S=0),{cameraAnimation:K=>{const tt=this._tr;K.easeTo({duration:300,easeId:"keyboardHandler",easing:Er,zoom:d?Math.round(tt.zoom)+d*(s.shiftKey?2:1):tt.zoom,bearing:tt.bearing+_*this._bearingStep,pitch:tt.pitch+S*this._pitchStep,offset:[-L*this._panStep,-B*this._panStep],center:tt.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Er(N){return N*(2-N)}const wr=4.000244140625,Qr=1/450;class wn{constructor(s,d){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=s,this._tr=new Id(s),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Qr}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(s){return!!this._map.cooperativeGestures.isEnabled()&&!(s.ctrlKey||this._map.cooperativeGestures.isBypassed(s))}wheel(s){if(!this.isEnabled())return;if(this._shouldBePrevented(s))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",s);let d=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const _=R.now(),S=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,d!==0&&d%wr==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(S*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),s.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=s,this._delta-=d,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=A.mousePos(this._map.getCanvas(),s),_=this._tr;this._aroundPoint=this._aroundCenter?_.transform.locationToScreenPoint(a.S.convert(_.center)):d,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const K=s.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=K),typeof this._targetZoom=="number"&&(this._targetZoom+=K)}if(this._delta!==0){const K=this._type==="wheel"&&Math.abs(this._delta)>wr?this._wheelZoomRate:this._defaultZoomRate;let tt=2/(1+Math.exp(-Math.abs(this._delta*K)));this._delta<0&&tt!==0&&(tt=1/tt);const ct=typeof this._targetZoom!="number"?s.scale:a.ae(this._targetZoom);this._targetZoom=s.getConstrained(s.getCameraLngLat(),a.aj(ct*tt)).zoom,this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom!="number"?s.zoom:this._targetZoom,_=this._startZoom,S=this._easing;let L,B=!1;if(this._type==="wheel"&&_&&S){const K=R.now()-this._lastWheelEventTime,tt=Math.min((K+5)/200,1),ct=S(tt);L=a.C.number(_,d,ct),tt<1?this._frameId||(this._frameId=!0):B=!0}else L=d,B=!0;return this._active=!0,B&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=L,{noInertia:!0,needsRenderFrame:!B,zoomDelta:L-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let d=a.cn;if(this._prevEase){const _=this._prevEase,S=(R.now()-_.start)/_.duration,L=_.easing(S+.01)-_.easing(S),B=.27/Math.sqrt(L*L+1e-4)*.01,K=Math.sqrt(.0729-B*B);d=a.cl(B,K,.25,1)}return this._prevEase={start:R.now(),duration:s,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ln{constructor(s,d){this._clickZoom=s,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ci{constructor(s){this._tr=new Id(s),this.reset()}reset(){this._active=!1}dblclick(s,d){return s.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ni{constructor(){this._tap=new As({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,d,_){if(!this._swipePoint)if(this._tapTime){const S=d[0],L=s.timeStamp-this._tapTime<500,B=this._tapPoint.dist(S)<30;L&&B?_.length>0&&(this._swipePoint=S,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(s,d,_)}touchmove(s,d,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const S=d[0],L=S.y-this._swipePoint.y;return this._swipePoint=S,s.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(s,d,_)}touchend(s,d,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const S=this._tap.touchend(s,d,_);S&&(this._tapTime=s.timeStamp,this._tapPoint=S)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zi{constructor(s,d,_){this._el=s,this._mousePan=d,this._touchPan=_}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ai{constructor(s,d,_,S){this._pitchWithRotate=s.pitchWithRotate,this._rollEnabled=s.rollEnabled,this._mouseRotate=d,this._mousePitch=_,this._mouseRoll=S}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Ea{constructor(s,d,_,S){this._el=s,this._touchZoom=d,this._touchRotate=_,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Jo{constructor(s,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=s,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const s=this._map.getCanvasContainer();s.classList.add("maplibregl-cooperative-gestures"),this._container=A.create("div","maplibregl-cooperative-gesture-screen",s);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),S=document.createElement("div");S.className="maplibregl-desktop-message",S.textContent=d,this._container.appendChild(S);const L=document.createElement("div");L.className="maplibregl-mobile-message",L.textContent=_,this._container.appendChild(L),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(A.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(s){return s[this._bypassKey]}notifyGestureBlocked(s,d){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:s,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const ji=N=>N.zoom||N.drag||N.roll||N.pitch||N.rotate;class ii extends a.l{}function Pn(N){return N.panDelta&&N.panDelta.mag()||N.zoomDelta||N.bearingDelta||N.pitchDelta||N.rollDelta}class go{constructor(s,d){this.handleWindowEvent=S=>{this.handleEvent(S,`${S.type}Window`)},this.handleEvent=(S,L)=>{if(S.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const B=S.type==="renderFrame"?void 0:S,K={needsRenderFrame:!1},tt={},ct={};for(const{handlerName:Tt,handler:zt,allowed:Zt}of this._handlers){if(!zt.isEnabled())continue;let fe;if(this._blockedByActive(ct,Zt,Tt))zt.reset();else if(zt[L||S.type]){if(a.co(S,L||S.type)){const pe=A.mousePos(this._map.getCanvas(),S);fe=zt[L||S.type](S,pe)}else if(a.cp(S,L||S.type)){const pe=this._getMapTouches(S.touches),me=A.touchPos(this._map.getCanvas(),pe);fe=zt[L||S.type](S,me,pe)}else a.cq(L||S.type)||(fe=zt[L||S.type](S));this.mergeHandlerResult(K,tt,fe,Tt,B),fe&&fe.needsRenderFrame&&this._triggerRenderFrame()}(fe||zt.isActive())&&(ct[Tt]=zt)}const _t={};for(const Tt in this._previousActiveHandlers)ct[Tt]||(_t[Tt]=B);this._previousActiveHandlers=ct,(Object.keys(_t).length||Pn(K))&&(this._changes.push([K,tt,_t]),this._triggerRenderFrame()),(Object.keys(ct).length||Pn(K))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Rt}=K;Rt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Rt(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Sc(s),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[S,L,B]of this._listeners)A.addEventListener(S,L,S===document?this.handleWindowEvent:this.handleEvent,B)}destroy(){for(const[s,d,_]of this._listeners)A.removeEventListener(s,d,s===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(s){const d=this._map,_=d.getCanvasContainer();this._add("mapEvent",new Yl(d,s));const S=d.boxZoom=new Vm(d,s);this._add("boxZoom",S),s.interactive&&s.boxZoom&&S.enable();const L=d.cooperativeGestures=new Jo(d,s.cooperativeGestures);this._add("cooperativeGestures",L),s.cooperativeGestures&&L.enable();const B=new zh(d),K=new ci(d);d.doubleClickZoom=new ln(K,B),this._add("tapZoom",B),this._add("clickZoom",K),s.interactive&&s.doubleClickZoom&&d.doubleClickZoom.enable();const tt=new ni;this._add("tapDragZoom",tt);const ct=d.touchPitch=new hr(d);this._add("touchPitch",ct),s.interactive&&s.touchPitch&&d.touchPitch.enable(s.touchPitch);const _t=()=>d.project(d.getCenter()),Rt=(function({enable:Le,clickTolerance:$e,aroundCenter:We=!0,minPixelCenterThreshold:Ne=100,rotateDegreesPerPixelMoved:tr=.8},Ar){const xr=new Z({checkCorrectEvent:Sr=>A.mouseButton(Sr)===0&&Sr.ctrlKey||A.mouseButton(Sr)===2&&!Sr.ctrlKey});return new bh({clickTolerance:$e,move:(Sr,kr)=>{const Cn=Ar();if(We&&Math.abs(Cn.y-Sr.y)>Ne)return{bearingDelta:a.cm(new a.P(Sr.x,kr.y),kr,Cn)};let En=(kr.x-Sr.x)*tr;return We&&kr.y<Cn.y&&(En=-En),{bearingDelta:En}},moveStateManager:xr,enable:Le,assignEvents:Kt})})(s,_t),Tt=(function({enable:Le,clickTolerance:$e,pitchDegreesPerPixelMoved:We=-.5}){const Ne=new Z({checkCorrectEvent:tr=>A.mouseButton(tr)===0&&tr.ctrlKey||A.mouseButton(tr)===2});return new bh({clickTolerance:$e,move:(tr,Ar)=>({pitchDelta:(Ar.y-tr.y)*We}),moveStateManager:Ne,enable:Le,assignEvents:Kt})})(s),zt=(function({enable:Le,clickTolerance:$e,rollDegreesPerPixelMoved:We=.3},Ne){const tr=new Z({checkCorrectEvent:Ar=>A.mouseButton(Ar)===2&&Ar.ctrlKey});return new bh({clickTolerance:$e,move:(Ar,xr)=>{const Sr=Ne();let kr=(xr.x-Ar.x)*We;return xr.y<Sr.y&&(kr=-kr),{rollDelta:kr}},moveStateManager:tr,enable:Le,assignEvents:Kt})})(s,_t);d.dragRotate=new ai(s,Rt,Tt,zt),this._add("mouseRotate",Rt,["mousePitch"]),this._add("mousePitch",Tt,["mouseRotate","mouseRoll"]),this._add("mouseRoll",zt,["mousePitch"]),s.interactive&&s.dragRotate&&d.dragRotate.enable();const Zt=(function({enable:Le,clickTolerance:$e}){const We=new Z({checkCorrectEvent:Ne=>A.mouseButton(Ne)===0&&!Ne.ctrlKey});return new bh({clickTolerance:$e,move:(Ne,tr)=>({around:tr,panDelta:tr.sub(Ne)}),activateOnStart:!0,moveStateManager:We,enable:Le,assignEvents:Kt})})(s),fe=new ne(s,d);d.dragPan=new zi(_,Zt,fe),this._add("mousePan",Zt),this._add("touchPan",fe,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&d.dragPan.enable(s.dragPan);const pe=new Nr,me=new Te;d.touchZoomRotate=new Ea(_,me,pe,tt),this._add("touchRotate",pe,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&d.touchZoomRotate.enable(s.touchZoomRotate);const xe=d.scrollZoom=new wn(d,(()=>this._triggerRenderFrame()));this._add("scrollZoom",xe,["mousePan"]),s.interactive&&s.scrollZoom&&d.scrollZoom.enable(s.scrollZoom);const Be=d.keyboard=new Xr(d);this._add("keyboard",Be),s.interactive&&s.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new Hf(d))}_add(s,d,_){this._handlers.push({handlerName:s,handler:d,allowed:_}),this._handlersById[s]=d}stop(s){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ji(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,d,_){for(const S in s)if(S!==_&&(!d||d.indexOf(S)<0))return!0;return!1}_getMapTouches(s){const d=[];for(const _ of s)this._el.contains(_.target)&&d.push(_);return d}mergeHandlerResult(s,d,_,S,L){if(!_)return;a.e(s,_);const B={handlerName:S,originalEvent:_.originalEvent||L};_.zoomDelta!==void 0&&(d.zoom=B),_.panDelta!==void 0&&(d.drag=B),_.rollDelta!==void 0&&(d.roll=B),_.pitchDelta!==void 0&&(d.pitch=B),_.bearingDelta!==void 0&&(d.rotate=B)}_applyChanges(){const s={},d={},_={};for(const[S,L,B]of this._changes)S.panDelta&&(s.panDelta=(s.panDelta||new a.P(0,0))._add(S.panDelta)),S.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+S.pitchDelta),S.rollDelta&&(s.rollDelta=(s.rollDelta||0)+S.rollDelta),S.around!==void 0&&(s.around=S.around),S.pinchAround!==void 0&&(s.pinchAround=S.pinchAround),S.noInertia&&(s.noInertia=S.noInertia),a.e(d,L),a.e(_,B);this._updateMapTransform(s,d,_),this._changes=[]}_updateMapTransform(s,d,_){const S=this._map,L=S._getTransformForUpdate(),B=S.terrain;if(!(Pn(s)||B&&this._terrainMovement))return this._fireEvents(d,_,!0);S._stop(!0);let{panDelta:K,zoomDelta:tt,bearingDelta:ct,pitchDelta:_t,rollDelta:Rt,around:Tt,pinchAround:zt}=s;zt!==void 0&&(Tt=zt),Tt=Tt||S.transform.centerPoint,B&&!L.isPointOnMapSurface(Tt)&&(Tt=L.centerPoint);const Zt={panDelta:K,zoomDelta:tt,rollDelta:Rt,pitchDelta:_t,bearingDelta:ct,around:Tt};this._map.cameraHelper.useGlobeControls&&!L.isPointOnMapSurface(Tt)&&(Tt=L.centerPoint);const fe=Tt.distSqr(L.centerPoint)<.01?L.center:L.screenPointToLocation(K?Tt.sub(K):Tt);B?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Zt,L),this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?L.setCenter(L.screenPointToLocation(L.centerPoint.sub(K))):this._map.cameraHelper.handleMapControlsPan(Zt,L,fe):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Zt,L,fe))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Zt,L),this._map.cameraHelper.handleMapControlsPan(Zt,L,fe)),S._applyUpdatedTransform(L),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(d,_,!0)}_fireEvents(s,d,_){const S=ji(this._eventsInProgress),L=ji(s),B={};for(const Rt in s){const{originalEvent:Tt}=s[Rt];this._eventsInProgress[Rt]||(B[`${Rt}start`]=Tt),this._eventsInProgress[Rt]=s[Rt]}!S&&L&&this._fireEvent("movestart",L.originalEvent);for(const Rt in B)this._fireEvent(Rt,B[Rt]);L&&this._fireEvent("move",L.originalEvent);for(const Rt in s){const{originalEvent:Tt}=s[Rt];this._fireEvent(Rt,Tt)}const K={};let tt;for(const Rt in this._eventsInProgress){const{handlerName:Tt,originalEvent:zt}=this._eventsInProgress[Rt];this._handlersById[Tt].isActive()||(delete this._eventsInProgress[Rt],tt=d[Tt]||zt,K[`${Rt}end`]=tt)}for(const Rt in K)this._fireEvent(Rt,K[Rt]);const ct=ji(this._eventsInProgress),_t=(S||L)&&!ct;if(_t&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Rt=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Rt.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Rt)}if(_&&_t){this._updatingCamera=!0;const Rt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Tt=zt=>zt!==0&&-this._bearingSnap<zt&&zt<this._bearingSnap;!Rt||!Rt.essential&&R.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:tt})),Tt(this._map.getBearing())&&this._map.resetNorth()):(Tt(Rt.bearing||this._map.getBearing())&&(Rt.bearing=0),Rt.freezeElevation=!0,this._map.easeTo(Rt,{originalEvent:tt})),this._updatingCamera=!1}}_fireEvent(s,d){this._map.fire(new a.l(s,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((s=>{delete this._frameId,this.handleEvent(new ii("renderFrame",{timeStamp:s})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Gn extends a.E{constructor(s,d,_){super(),this._renderFrameCallback=()=>{const S=Math.min((R.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(S)),S<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=_.bearingSnap,this.cameraHelper=d,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(s,d){s.apply(this.transform),this.transform=s,this.cameraHelper=d}getCenter(){return new a.S(this.transform.center.lng,this.transform.center.lat)}setCenter(s,d){return this.jumpTo({center:s},d)}getCenterElevation(){return this.transform.elevation}setCenterElevation(s,d){return this.jumpTo({elevation:s},d),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(s){this._centerClampedToGround=s}panBy(s,d,_){return s=a.P.convert(s).mult(-1),this.panTo(this.transform.center,a.e({offset:s},d),_)}panTo(s,d,_){return this.easeTo(a.e({center:s},d),_)}getZoom(){return this.transform.zoom}setZoom(s,d){return this.jumpTo({zoom:s},d),this}zoomTo(s,d,_){return this.easeTo(a.e({zoom:s},d),_)}zoomIn(s,d){return this.zoomTo(this.getZoom()+1,s,d),this}zoomOut(s,d){return this.zoomTo(this.getZoom()-1,s,d),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(s,d){return s!=this.transform.fov&&(this.transform.setFov(s),this.fire(new a.l("movestart",d)).fire(new a.l("move",d)).fire(new a.l("moveend",d))),this}getBearing(){return this.transform.bearing}setBearing(s,d){return this.jumpTo({bearing:s},d),this}getPadding(){return this.transform.padding}setPadding(s,d){return this.jumpTo({padding:s},d),this}rotateTo(s,d,_){return this.easeTo(a.e({bearing:s},d),_)}resetNorth(s,d){return this.rotateTo(0,a.e({duration:1e3},s),d),this}resetNorthPitch(s,d){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},s),d),this}snapToNorth(s,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,d):this}getPitch(){return this.transform.pitch}setPitch(s,d){return this.jumpTo({pitch:s},d),this}getRoll(){return this.transform.roll}setRoll(s,d){return this.jumpTo({roll:s},d),this}cameraForBounds(s,d){s=He.convert(s).adjustAntiMeridian();const _=d&&d.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),_,d)}_cameraForBoxAndBearing(s,d,_,S){const L={top:0,bottom:0,right:0,left:0};if(typeof(S=a.e({padding:L,offset:[0,0],maxZoom:this.transform.maxZoom},S)).padding=="number"){const ct=S.padding;S.padding={top:ct,bottom:ct,right:ct,left:ct}}const B=a.e(L,S.padding);S.padding=B;const K=this.transform,tt=new He(s,d);return this.cameraHelper.cameraForBoxAndBearing(S,B,tt,_,K)}fitBounds(s,d,_){return this._fitInternal(this.cameraForBounds(s,d),d,_)}fitScreenCoordinates(s,d,_,S,L){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(s)),this.transform.screenPointToLocation(a.P.convert(d)),_,S),S,L)}_fitInternal(s,d,_){return s?(delete(d=a.e(s,d)).padding,d.linear?this.easeTo(d,_):this.flyTo(d,_)):this}jumpTo(s,d){this.stop();const _=this._getTransformForUpdate();let S=!1,L=!1,B=!1;const K=_.zoom;this.cameraHelper.handleJumpToCenterZoom(_,s);const tt=_.zoom!==K;return"elevation"in s&&_.elevation!==+s.elevation&&_.setElevation(+s.elevation),"bearing"in s&&_.bearing!==+s.bearing&&(S=!0,_.setBearing(+s.bearing)),"pitch"in s&&_.pitch!==+s.pitch&&(L=!0,_.setPitch(+s.pitch)),"roll"in s&&_.roll!==+s.roll&&(B=!0,_.setRoll(+s.roll)),s.padding==null||_.isPaddingEqual(s.padding)||_.setPadding(s.padding),this._applyUpdatedTransform(_),this.fire(new a.l("movestart",d)).fire(new a.l("move",d)),tt&&this.fire(new a.l("zoomstart",d)).fire(new a.l("zoom",d)).fire(new a.l("zoomend",d)),S&&this.fire(new a.l("rotatestart",d)).fire(new a.l("rotate",d)).fire(new a.l("rotateend",d)),L&&this.fire(new a.l("pitchstart",d)).fire(new a.l("pitch",d)).fire(new a.l("pitchend",d)),B&&this.fire(new a.l("rollstart",d)).fire(new a.l("roll",d)).fire(new a.l("rollend",d)),this.fire(new a.l("moveend",d))}calculateCameraOptionsFromTo(s,d,_,S=0){const L=a.a0.fromLngLat(s,d),B=a.a0.fromLngLat(_,S),K=B.x-L.x,tt=B.y-L.y,ct=B.z-L.z,_t=Math.hypot(K,tt,ct);if(_t===0)throw new Error("Can't calculate camera options with same From and To");const Rt=Math.hypot(K,tt),Tt=a.aj(this.transform.cameraToCenterDistance/_t/this.transform.tileSize),zt=180*Math.atan2(K,-tt)/Math.PI;let Zt=180*Math.acos(Rt/_t)/Math.PI;return Zt=ct<0?90-Zt:90+Zt,{center:B.toLngLat(),elevation:S,zoom:Tt,pitch:Zt,bearing:zt}}calculateCameraOptionsFromCameraLngLatAltRotation(s,d,_,S,L){const B=this.transform.calculateCenterFromCameraLngLatAlt(s,d,_,S);return{center:B.center,elevation:B.elevation,zoom:B.zoom,bearing:_,pitch:S,roll:L}}easeTo(s,d){this._stop(!1,s.easeId),((s=a.e({offset:[0,0],duration:500,easing:a.cn},s)).animate===!1||!s.essential&&R.prefersReducedMotion)&&(s.duration=0);const _=this._getTransformForUpdate(),S=this.getBearing(),L=_.pitch,B=_.roll,K="bearing"in s?this._normalizeBearing(s.bearing,S):S,tt="pitch"in s?+s.pitch:L,ct="roll"in s?this._normalizeBearing(s.roll,B):B,_t="padding"in s?s.padding:_.padding,Rt=a.P.convert(s.offset);let Tt,zt;s.around&&(Tt=a.S.convert(s.around),zt=_.locationToScreenPoint(Tt));const Zt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},fe=this.cameraHelper.handleEaseTo(_,{bearing:K,pitch:tt,roll:ct,padding:_t,around:Tt,aroundPoint:zt,offsetAsPoint:Rt,offset:s.offset,zoom:s.zoom,center:s.center});return this._rotating=this._rotating||S!==K,this._pitching=this._pitching||tt!==L,this._rolling=this._rolling||ct!==B,this._padding=!_.isPaddingEqual(_t),this._zooming=this._zooming||fe.isZooming,this._easeId=s.easeId,this._prepareEase(d,s.noMoveStart,Zt),this.terrain&&this._prepareElevation(fe.elevationCenter),this._ease((pe=>{fe.easeFunc(pe),this.terrain&&!s.freezeElevation&&this._updateElevation(pe),this._applyUpdatedTransform(_),this._fireMoveEvents(d)}),(pe=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(d,pe)}),s),this}_prepareEase(s,d,_={}){this._moving=!0,d||_.moving||this.fire(new a.l("movestart",s)),this._zooming&&!_.zooming&&this.fire(new a.l("zoomstart",s)),this._rotating&&!_.rotating&&this.fire(new a.l("rotatestart",s)),this._pitching&&!_.pitching&&this.fire(new a.l("pitchstart",s)),this._rolling&&!_.rolling&&this.fire(new a.l("rollstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&d!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(_-(d-(_*s+this._elevationStart))/(1-s)),this._elevationTarget=d}this.transform.setElevation(a.C.number(this._elevationStart,this._elevationTarget,s))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(s){if(!this.terrain&&s.elevation>=0&&s.pitch<=90)return{};const d=s.getCameraLngLat(),_=s.getCameraAltitude(),S=this.terrain?this.terrain.getElevationForLngLatZoom(d,s.zoom):0;if(_<S){const L=this.calculateCameraOptionsFromTo(d,S,s.center,s.elevation);return{pitch:L.pitch,zoom:L.zoom}}return{}}_applyUpdatedTransform(s){const d=[];if(d.push((S=>this._elevateCameraIfInsideTerrain(S))),this.transformCameraUpdate&&d.push((S=>this.transformCameraUpdate(S))),!d.length)return;const _=s.clone();for(const S of d){const L=_.clone(),{center:B,zoom:K,roll:tt,pitch:ct,bearing:_t,elevation:Rt}=S(L);B&&L.setCenter(B),Rt!==void 0&&L.setElevation(Rt),K!==void 0&&L.setZoom(K),tt!==void 0&&L.setRoll(tt),ct!==void 0&&L.setPitch(ct),_t!==void 0&&L.setBearing(_t),_.apply(L)}this.transform.apply(_)}_fireMoveEvents(s){this.fire(new a.l("move",s)),this._zooming&&this.fire(new a.l("zoom",s)),this._rotating&&this.fire(new a.l("rotate",s)),this._pitching&&this.fire(new a.l("pitch",s)),this._rolling&&this.fire(new a.l("roll",s))}_afterEase(s,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const _=this._zooming,S=this._rotating,L=this._pitching,B=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,_&&this.fire(new a.l("zoomend",s)),S&&this.fire(new a.l("rotateend",s)),L&&this.fire(new a.l("pitchend",s)),B&&this.fire(new a.l("rollend",s)),this.fire(new a.l("moveend",s))}flyTo(s,d){if(!s.essential&&R.prefersReducedMotion){const kr=a.Q(s,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(kr,d)}this.stop(),s=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.cn},s);const _=this._getTransformForUpdate(),S=_.bearing,L=_.pitch,B=_.roll,K=_.padding,tt="bearing"in s?this._normalizeBearing(s.bearing,S):S,ct="pitch"in s?+s.pitch:L,_t="roll"in s?this._normalizeBearing(s.roll,B):B,Rt="padding"in s?s.padding:_.padding,Tt=a.P.convert(s.offset);let zt=_.centerPoint.add(Tt);const Zt=_.screenPointToLocation(zt),fe=this.cameraHelper.handleFlyTo(_,{bearing:tt,pitch:ct,roll:_t,padding:Rt,locationAtOffset:Zt,offsetAsPoint:Tt,center:s.center,minZoom:s.minZoom,zoom:s.zoom});let pe=s.curve;const me=Math.max(_.width,_.height),xe=me/fe.scaleOfZoom,Be=fe.pixelPathLength;typeof fe.scaleOfMinZoom=="number"&&(pe=Math.sqrt(me/fe.scaleOfMinZoom/Be*2));const Le=pe*pe;function $e(kr){const Cn=(xe*xe-me*me+(kr?-1:1)*Le*Le*Be*Be)/(2*(kr?xe:me)*Le*Be);return Math.log(Math.sqrt(Cn*Cn+1)-Cn)}function We(kr){return(Math.exp(kr)-Math.exp(-kr))/2}function Ne(kr){return(Math.exp(kr)+Math.exp(-kr))/2}const tr=$e(!1);let Ar=function(kr){return Ne(tr)/Ne(tr+pe*kr)},xr=function(kr){return me*((Ne(tr)*(We(Cn=tr+pe*kr)/Ne(Cn))-We(tr))/Le)/Be;var Cn},Sr=($e(!0)-tr)/pe;if(Math.abs(Be)<2e-6||!isFinite(Sr)){if(Math.abs(me-xe)<1e-6)return this.easeTo(s,d);const kr=xe<me?-1:1;Sr=Math.abs(Math.log(xe/me))/pe,xr=()=>0,Ar=Cn=>Math.exp(kr*pe*Cn)}return s.duration="duration"in s?+s.duration:1e3*Sr/("screenSpeed"in s?+s.screenSpeed/pe:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=S!==tt,this._pitching=ct!==L,this._rolling=_t!==B,this._padding=!_.isPaddingEqual(Rt),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(fe.targetCenter),this._ease((kr=>{const Cn=kr*Sr,En=1/Ar(Cn),on=xr(Cn);this._rotating&&_.setBearing(a.C.number(S,tt,kr)),this._pitching&&_.setPitch(a.C.number(L,ct,kr)),this._rolling&&_.setRoll(a.C.number(B,_t,kr)),this._padding&&(_.interpolatePadding(K,Rt,kr),zt=_.centerPoint.add(Tt)),fe.easeFunc(kr,En,on,zt),this.terrain&&!s.freezeElevation&&this._updateElevation(kr),this._applyUpdatedTransform(_),this._fireMoveEvents(d)}),(()=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(d)}),s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,d){var _;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const S=this._onEaseEnd;delete this._onEaseEnd,S.call(this,d)}return s||(_=this.handlers)===null||_===void 0||_.stop(!1),this}_ease(s,d,_){_.animate===!1||_.duration===0?(s(1),d()):(this._easeStart=R.now(),this._easeOptions=_,this._onEaseFrame=s,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,d){s=a.aN(s,-180,180);const _=Math.abs(s-d);return Math.abs(s-360-d)<_&&(s-=360),Math.abs(s+360-d)<_&&(s+=360),s}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(a.S.convert(s),this.transform.tileZoom):null}}const qi={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class to{constructor(s=qi){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options.compact,this._container=A.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=A.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=A.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){A.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,d){const _=this._map._getUIString(`AttributionControl.${d}`);s.title=_,s.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map((S=>typeof S!="string"?"":S))):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const d=this._map.style.sourceCaches;for(const S in d){const L=d[S];if(L.used||L.usedForTerrain){const B=L.getSource();B.attribution&&s.indexOf(B.attribution)<0&&s.push(B.attribution)}}s=s.filter((S=>String(S).trim())),s.sort(((S,L)=>S.length-L.length)),s=s.filter(((S,L)=>{for(let B=L+1;B<s.length;B++)if(s[B].indexOf(S)>=0)return!1;return!0}));const _=s.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,s.length?(this._innerContainer.innerHTML=A.sanitize(_),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ol{constructor(s={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const _=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=A.create("div","maplibregl-ctrl");const d=A.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){A.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Kl{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const d=++this._id;return this._queue.push({callback:s,id:d,cancelled:!1}),d}remove(s){const d=this._currentlyRunning,_=d?this._queue.concat(d):this._queue;for(const S of _)if(S.id===s)return void(S.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const _ of d)if(!_.cancelled&&(_.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var $o=a.aI([{name:"a_pos3d",type:"Int16",components:3}]);class bl extends a.E{constructor(s){super(),this._lastTilesetChange=R.now(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=s._source.tileSize*2**this.deltaZoom,s.usedForTerrain=!0,s.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,d){this.sourceCache.update(s,d),this._renderableTilesKeys=[];const _={};for(const S of Ke(s,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))_[S.key]=!0,this._renderableTilesKeys.push(S.key),this._tiles[S.key]||(S.terrainRttPosMatrix32f=new Float64Array(16),a.bX(S.terrainRttPosMatrix32f,0,a.$,a.$,0,0,1),this._tiles[S.key]=new er(S,this.tileSize),this._lastTilesetChange=R.now());for(const S in this._tiles)_[S]||delete this._tiles[S]}freeRtt(s){for(const d in this._tiles){const _=this._tiles[d];(!s||_.tileID.equals(s)||_.tileID.isChildOf(s)||s.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((s=>this.getTileByID(s)))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s,d){return d?this._getTerrainCoordsForTileRanges(s,d):this._getTerrainCoordsForRegularTile(s)}_getTerrainCoordsForRegularTile(s){const d={};for(const _ of this._renderableTilesKeys){const S=this._tiles[_].tileID,L=s.clone(),B=a.b9();if(S.canonical.equals(s.canonical))a.bX(B,0,a.$,a.$,0,0,1);else if(S.canonical.isChildOf(s.canonical)){const K=S.canonical.z-s.canonical.z,tt=S.canonical.x-(S.canonical.x>>K<<K),ct=S.canonical.y-(S.canonical.y>>K<<K),_t=a.$>>K;a.bX(B,0,_t,_t,0,0,1),a.M(B,B,[-tt*_t,-ct*_t,0])}else{if(!s.canonical.isChildOf(S.canonical))continue;{const K=s.canonical.z-S.canonical.z,tt=s.canonical.x-(s.canonical.x>>K<<K),ct=s.canonical.y-(s.canonical.y>>K<<K),_t=a.$>>K;a.bX(B,0,a.$,a.$,0,0,1),a.M(B,B,[tt*_t,ct*_t,0]),a.N(B,B,[1/2**K,1/2**K,0])}}L.terrainRttPosMatrix32f=new Float32Array(B),d[_]=L}return d}_getTerrainCoordsForTileRanges(s,d){const _={};for(const S of this._renderableTilesKeys){const L=this._tiles[S].tileID;if(!this._isWithinTileRanges(L,d))continue;const B=s.clone(),K=a.b9();if(L.canonical.z===s.canonical.z){const tt=s.canonical.x-L.canonical.x,ct=s.canonical.y-L.canonical.y;a.bX(K,0,a.$,a.$,0,0,1),a.M(K,K,[tt*a.$,ct*a.$,0])}else if(L.canonical.z>s.canonical.z){const tt=L.canonical.z-s.canonical.z,ct=L.canonical.x-(L.canonical.x>>tt<<tt),_t=L.canonical.y-(L.canonical.y>>tt<<tt),Rt=s.canonical.x-(L.canonical.x>>tt),Tt=s.canonical.y-(L.canonical.y>>tt),zt=a.$>>tt;a.bX(K,0,zt,zt,0,0,1),a.M(K,K,[-ct*zt+Rt*a.$,-_t*zt+Tt*a.$,0])}else{const tt=s.canonical.z-L.canonical.z,ct=s.canonical.x-(s.canonical.x>>tt<<tt),_t=s.canonical.y-(s.canonical.y>>tt<<tt),Rt=(s.canonical.x>>tt)-L.canonical.x,Tt=(s.canonical.y>>tt)-L.canonical.y,zt=a.$<<tt;a.bX(K,0,zt,zt,0,0,1),a.M(K,K,[ct*a.$+Rt*zt,_t*a.$+Tt*zt,0])}B.terrainRttPosMatrix32f=new Float32Array(K),_[S]=B}return _}getSourceTile(s,d){const _=this.sourceCache._source;let S=s.overscaledZ-this.deltaZoom;if(S>_.maxzoom&&(S=_.maxzoom),S<_.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(S).key);let L=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!L||!L.dem)&&d)for(;S>=_.minzoom&&(!L||!L.dem);)L=this.sourceCache.getTileByID(s.scaledTo(S--).key);return L}anyTilesAfterTime(s=Date.now()){return this._lastTilesetChange>=s}_isWithinTileRanges(s,d){return d[s.canonical.z]&&s.canonical.x>=d[s.canonical.z].minTileX&&s.canonical.x<=d[s.canonical.z].maxTileX&&s.canonical.y>=d[s.canonical.z].minTileY&&s.canonical.y<=d[s.canonical.z].maxTileY}}class cs{constructor(s,d,_){this._meshCache={},this.painter=s,this.sourceCache=new bl(d),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,d,_,S=a.$){var L;if(!(d>=0&&d<S&&_>=0&&_<S))return 0;const B=this.getTerrainData(s),K=(L=B.tile)===null||L===void 0?void 0:L.dem;if(!K)return 0;const tt=a.cr([],[d/S*a.$,_/S*a.$],B.u_terrain_matrix),ct=[tt[0]*K.dim,tt[1]*K.dim],_t=Math.floor(ct[0]),Rt=Math.floor(ct[1]),Tt=ct[0]-_t,zt=ct[1]-Rt;return K.get(_t,Rt)*(1-Tt)*(1-zt)+K.get(_t+1,Rt)*Tt*(1-zt)+K.get(_t,Rt+1)*(1-Tt)*zt+K.get(_t+1,Rt+1)*Tt*zt}getElevationForLngLatZoom(s,d){if(!a.cs(d,s.wrap()))return 0;const{tileID:_,mercatorX:S,mercatorY:L}=this._getOverscaledTileIDFromLngLatZoom(s,d);return this.getElevation(_,S%a.$,L%a.$,a.$)}getElevation(s,d,_,S=a.$){return this.getDEMElevation(s,d,_,S)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const S=this.painter.context,L=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(S,L,S.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(S,new a.R({width:1,height:1}),S.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.af([])}const d=this.sourceCache.getSourceTile(s,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const S=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new a.T(S,d.dem.getPixels(),S.gl.RGBA,{premultiply:!1}),d.demTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const _=d&&d+d.tileID.key+s.key;if(_&&!this._demMatrixCache[_]){const S=this.sourceCache.sourceCache._source.maxzoom;let L=s.canonical.z-d.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=S?L=s.canonical.z-S:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const B=s.canonical.x-(s.canonical.x>>L<<L),K=s.canonical.y-(s.canonical.y>>L<<L),tt=a.ct(new Float64Array(16),[1/(a.$<<L),1/(a.$<<L),0]);a.M(tt,tt,[B*a.$,K*a.$,0]),this._demMatrixCache[s.key]={matrix:tt,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(s){const d=this.painter,_=d.width/devicePixelRatio,S=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===S||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(d.context,{width:_,height:S,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(d.context,{width:_,height:S,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(_,S,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,_,S))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let L=0,B=0;L<this._coordsTextureSize;L++)for(let K=0;K<this._coordsTextureSize;K++,B+=4)d[B+0]=255&K,d[B+1]=255&L,d[B+2]=K>>8<<4|L>>8,d[B+3]=0;const _=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),S=new a.T(s,_,s.gl.RGBA,{premultiply:!1});return S.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=S,S}pointCoordinate(s){this.painter.maybeDrawDepthAndCoords(!0);const d=new Uint8Array(4),_=this.painter.context,S=_.gl,L=Math.round(s.x*this.painter.pixelRatio/devicePixelRatio),B=Math.round(s.y*this.painter.pixelRatio/devicePixelRatio),K=Math.round(this.painter.height/devicePixelRatio);_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),S.readPixels(L,K-B-1,1,1,S.RGBA,S.UNSIGNED_BYTE,d),_.bindFramebuffer.set(null);const tt=d[0]+(d[2]>>4<<8),ct=d[1]+((15&d[2])<<8),_t=this.coordsIndex[255-d[3]],Rt=_t&&this.sourceCache.getTileByID(_t);if(!Rt)return null;const Tt=this._coordsTextureSize,zt=(1<<Rt.tileID.canonical.z)*Tt;return new a.a0((Rt.tileID.canonical.x*Tt+tt)/zt+Rt.tileID.wrap,(Rt.tileID.canonical.y*Tt+ct)/zt,this.getElevation(Rt.tileID,tt,ct,Tt))}depthAtPoint(s){const d=new Uint8Array(4),_=this.painter.context,S=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),S.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,S.RGBA,S.UNSIGNED_BYTE,d),_.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(s){var d;const _=((d=this.painter.style.projection)===null||d===void 0?void 0:d.transitionState)>0,S=_&&s.canonical.y===0,L=_&&s.canonical.y===(1<<s.canonical.z)-1,B=`m_${S?"n":""}_${L?"s":""}`;if(this._meshCache[B])return this._meshCache[B];const K=this.painter.context,tt=new a.cu,ct=new a.aM,_t=this.meshSize,Rt=a.$/_t,Tt=_t*_t;for(let Ne=0;Ne<=_t;Ne++)for(let tr=0;tr<=_t;tr++)tt.emplaceBack(tr*Rt,Ne*Rt,0);for(let Ne=0;Ne<Tt;Ne+=_t+1)for(let tr=0;tr<_t;tr++)ct.emplaceBack(tr+Ne,_t+tr+Ne+1,_t+tr+Ne+2),ct.emplaceBack(tr+Ne,_t+tr+Ne+2,tr+Ne+1);const zt=tt.length,Zt=zt+(_t+1),fe=(_t+1)*_t,pe=S?a.bg:0,me=S?0:1,xe=L?a.bh:a.$,Be=L?0:1;for(let Ne=0;Ne<=_t;Ne++)tt.emplaceBack(Ne*Rt,pe,me);for(let Ne=0;Ne<=_t;Ne++)tt.emplaceBack(Ne*Rt,xe,Be);for(let Ne=0;Ne<_t;Ne++)ct.emplaceBack(fe+Ne,Zt+Ne,Zt+Ne+1),ct.emplaceBack(fe+Ne,Zt+Ne+1,fe+Ne+1),ct.emplaceBack(0+Ne,zt+Ne+1,zt+Ne),ct.emplaceBack(0+Ne,0+Ne+1,zt+Ne+1);const Le=tt.length,$e=Le+2*(_t+1);for(const Ne of[0,1])for(let tr=0;tr<=_t;tr++)for(const Ar of[0,1])tt.emplaceBack(Ne*a.$,tr*Rt,Ar);for(let Ne=0;Ne<2*_t;Ne+=2)ct.emplaceBack(Le+Ne,Le+Ne+1,Le+Ne+3),ct.emplaceBack(Le+Ne,Le+Ne+3,Le+Ne+2),ct.emplaceBack($e+Ne,$e+Ne+3,$e+Ne+1),ct.emplaceBack($e+Ne,$e+Ne+2,$e+Ne+3);const We=new nr(K.createVertexBuffer(tt,$o.members),K.createIndexBuffer(ct),a.aL.simpleSegment(0,0,tt.length,ct.length));return this._meshCache[B]=We,We}getMeshFrameDelta(s){return 2*Math.PI*a.bt/Math.pow(2,Math.max(s,0))/5}getMinTileElevationForLngLatZoom(s,d){var _;const{tileID:S}=this._getOverscaledTileIDFromLngLatZoom(s,d);return(_=this.getMinMaxElevation(S).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(s){const d=this.getTerrainData(s).tile,_={minElevation:null,maxElevation:null};return d&&d.dem&&(_.minElevation=d.dem.min*this.exaggeration,_.maxElevation=d.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(s,d){const _=a.a0.fromLngLat(s.wrap()),S=(1<<d)*a.$,L=_.x*S,B=_.y*S,K=Math.floor(L/a.$),tt=Math.floor(B/a.$);return{tileID:new a.Z(d,0,d,K,tt),mercatorX:L,mercatorY:B}}}class Os{constructor(s,d,_){this._context=s,this._size=d,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(_.texture),{id:s,fbo:d,texture:_,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((d=>s.id!==d)),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((s=>!s.inUse))===!1}}const gn={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class kn{constructor(s,d){this.painter=s,this.terrain=d,this.pool=new Os(s.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter((_=>!s._layers[_].isHidden(d))),this._coordsAscending={};for(const _ in s.sourceCaches){this._coordsAscending[_]={};const S=s.sourceCaches[_].getVisibleCoordinates(),L=s.sourceCaches[_].getSource(),B=L instanceof Ie?L.terrainTileRanges:null;for(const K of S){const tt=this.terrain.sourceCache.getTerrainCoords(K,B);for(const ct in tt)this._coordsAscending[_][ct]||(this._coordsAscending[_][ct]=[]),this._coordsAscending[_][ct].push(tt[ct])}}this._coordsAscendingStr={};for(const _ of s._order){const S=s._layers[_],L=S.source;if(gn[S.type]&&!this._coordsAscendingStr[L]){this._coordsAscendingStr[L]={};for(const B in this._coordsAscending[L])this._coordsAscendingStr[L][B]=this._coordsAscending[L][B].map((K=>K.key)).sort().join()}}for(const _ of this._renderableTiles)for(const S in this._coordsAscendingStr){const L=this._coordsAscendingStr[S][_.tileID.key];L&&L!==_.rttCoords[S]&&(_.rtt=[])}}renderLayer(s,d){if(s.isHidden(this.painter.transform.zoom))return!1;const _=Object.assign(Object.assign({},d),{isRenderingToTexture:!0}),S=s.type,L=this.painter,B=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(gn[S]&&(this._prevType&&gn[this._prevType]||this._stacks.push([]),this._prevType=S,this._stacks[this._stacks.length-1].push(s.id),!B))return!0;if(gn[this._prevType]||gn[S]&&B){this._prevType=S;const K=this._stacks.length-1,tt=this._stacks[K]||[];for(const ct of this._renderableTiles){if(this.pool.isFull()&&(mo(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(ct),ct.rtt[K]){const Rt=this.pool.getObjectForId(ct.rtt[K].id);if(Rt.stamp===ct.rtt[K].stamp){this.pool.useObject(Rt);continue}}const _t=this.pool.getOrCreateFreeObject();this.pool.useObject(_t),this.pool.stampObject(_t),ct.rtt[K]={id:_t.id,stamp:_t.stamp},L.context.bindFramebuffer.set(_t.fbo.framebuffer),L.context.clear({color:a.be.transparent,stencil:0}),L.currentStencilSource=void 0;for(let Rt=0;Rt<tt.length;Rt++){const Tt=L.style._layers[tt[Rt]],zt=Tt.source?this._coordsAscending[Tt.source][ct.tileID.key]:[ct.tileID];L.context.viewport.set([0,0,_t.fbo.width,_t.fbo.height]),L._renderTileClippingMasks(Tt,zt,!0),L.renderLayer(L,L.style.sourceCaches[Tt.source],Tt,zt,_),Tt.source&&(ct.rttCoords[Tt.source]=this._coordsAscendingStr[Tt.source][ct.tileID.key])}}return mo(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects(),gn[S]}return!1}}const ts={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Xa=g,Ds={hash:!1,interactive:!0,bearingSnap:7,attributionControl:qi,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},La={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Wa{constructor(s,d,_=!1){this.mousedown=L=>{this.startMove(L,A.mousePos(this.element,L)),A.addEventListener(window,"mousemove",this.mousemove),A.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.move(L,A.mousePos(this.element,L))},this.mouseup=L=>{this._rotatePitchHanlder.dragEnd(L),this.offTemp()},this.touchstart=L=>{L.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=A.touchPos(this.element,L.targetTouches)[0],this.startMove(L,this._startPos),A.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),A.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{L.targetTouches.length!==1?this.reset():(this._lastPos=A.touchPos(this.element,L.targetTouches)[0],this.move(L,this._lastPos))},this.touchend=L=>{L.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=d;const S=new Lt;this._rotatePitchHanlder=new bh({clickTolerance:3,move:(L,B)=>{const K=d.getBoundingClientRect(),tt=new a.P((K.bottom-K.top)/2,(K.right-K.left)/2);return{bearingDelta:a.cm(new a.P(L.x,B.y),B,tt),pitchDelta:_?-.5*(B.y-L.y):void 0}},moveStateManager:S,enable:!0,assignEvents:()=>{}}),this.map=s,A.addEventListener(d,"mousedown",this.mousedown),A.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),A.addEventListener(d,"touchcancel",this.reset)}startMove(s,d){this._rotatePitchHanlder.dragStart(s,d),A.disableDrag()}move(s,d){const _=this.map,{bearingDelta:S,pitchDelta:L}=this._rotatePitchHanlder.dragMove(s,d)||{};S&&_.setBearing(_.getBearing()+S),L&&_.setPitch(_.getPitch()+L)}off(){const s=this.element;A.removeEventListener(s,"mousedown",this.mousedown),A.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),A.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),A.removeEventListener(window,"touchend",this.touchend),A.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){A.enableDrag(),A.removeEventListener(window,"mousemove",this.mousemove),A.removeEventListener(window,"mouseup",this.mouseup),A.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),A.removeEventListener(window,"touchend",this.touchend)}}let Ma;function yo(N,s,d,_=!1){if(_||!d.getCoveringTilesDetailsProvider().allowWorldCopies())return N?.wrap();const S=new a.S(N.lng,N.lat);if(N=new a.S(N.lng,N.lat),s){const L=new a.S(N.lng-360,N.lat),B=new a.S(N.lng+360,N.lat),K=d.locationToScreenPoint(N).distSqr(s);d.locationToScreenPoint(L).distSqr(s)<K?N=L:d.locationToScreenPoint(B).distSqr(s)<K&&(N=B)}for(;Math.abs(N.lng-d.center.lng)>180;){const L=d.locationToScreenPoint(N);if(L.x>=0&&L.y>=0&&L.x<=d.width&&L.y<=d.height)break;N.lng>d.center.lng?N.lng-=360:N.lng+=360}return N.lng!==S.lng&&d.isPointOnMapSurface(d.locationToScreenPoint(N))?N:S}const es={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ia(N,s,d){const _=N.classList;for(const S in es)_.remove(`maplibregl-${d}-anchor-${S}`);_.add(`maplibregl-${d}-anchor-${s}`)}class Oi extends a.E{constructor(s){if(super(),this._onKeyPress=d=>{const _=d.code,S=d.charCode||d.keyCode;_!=="Space"&&_!=="Enter"&&S!==32&&S!==13||this.togglePopup()},this._onMapClick=d=>{const _=d.originalEvent.target,S=this._element;this._popup&&(_===S||S.contains(_))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();(d?.type==="terrain"||d?.type==="render"&&!_)&&this._map.once("render",this._update),this._lngLat=yo(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let S="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?S=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(S=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let L="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?L="rotateX(0deg)":this._pitchAlignment==="map"&&(L=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),A.setTransform(this._element,`${es[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${L} ${S}`),R.frameAsync(new AbortController).then((()=>{this._updateOpacity(d&&d.type==="moveend")})).catch((()=>{}))},this._onMove=d=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._subpixelPositioning=s&&s.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,this.setOpacity(s?.opacity,s?.opacityWhenCovered),s&&s.element)this._element=s.element,this._offset=a.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=A.create("div");const d=A.createNS("http://www.w3.org/2000/svg","svg"),_=41,S=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${_}px`),d.setAttributeNS(null,"width",`${S}px`),d.setAttributeNS(null,"viewBox",`0 0 ${S} ${_}`);const L=A.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");const B=A.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill-rule","nonzero");const K=A.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"transform","translate(3.0, 29.0)"),K.setAttributeNS(null,"fill","#000000");const tt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const me of tt){const xe=A.createNS("http://www.w3.org/2000/svg","ellipse");xe.setAttributeNS(null,"opacity","0.04"),xe.setAttributeNS(null,"cx","10.5"),xe.setAttributeNS(null,"cy","5.80029008"),xe.setAttributeNS(null,"rx",me.rx),xe.setAttributeNS(null,"ry",me.ry),K.appendChild(xe)}const ct=A.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"fill",this._color);const _t=A.createNS("http://www.w3.org/2000/svg","path");_t.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ct.appendChild(_t);const Rt=A.createNS("http://www.w3.org/2000/svg","g");Rt.setAttributeNS(null,"opacity","0.25"),Rt.setAttributeNS(null,"fill","#000000");const Tt=A.createNS("http://www.w3.org/2000/svg","path");Tt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Rt.appendChild(Tt);const zt=A.createNS("http://www.w3.org/2000/svg","g");zt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),zt.setAttributeNS(null,"fill","#FFFFFF");const Zt=A.createNS("http://www.w3.org/2000/svg","g");Zt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const fe=A.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#000000"),fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962");const pe=A.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#FFFFFF"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962"),Zt.appendChild(fe),Zt.appendChild(pe),B.appendChild(K),B.appendChild(ct),B.appendChild(Rt),B.appendChild(zt),B.appendChild(Zt),d.appendChild(B),d.setAttributeNS(null,"height",_*this._scale+"px"),d.setAttributeNS(null,"width",S*this._scale+"px"),this._element.appendChild(d),this._offset=a.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(d=>{d.preventDefault()})),this._element.addEventListener("mousedown",(d=>{d.preventDefault()})),ia(this._element,this._anchor,"marker"),s&&s.className)for(const d of s.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(s){return this.remove(),this._map=s,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",s._getUIString("Marker.Title")),s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),s.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),A.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=a.S.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const d=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[d,-1*(38.1-13.5+d)],"bottom-right":[-d,-1*(38.1-13.5+d)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(s){return this._subpixelPositioning=s,this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:s?(s.isOpen()?s.remove():(s.setLngLat(this._lngLat),s.addTo(this._map)),this):this}_updateOpacity(s=!1){var d,_;const S=(d=this._map)===null||d===void 0?void 0:d.terrain,L=this._map.transform.isLocationOccluded(this._lngLat);if(!S||L){const zt=L?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==zt&&(this._element.style.opacity=zt))}if(s)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const B=this._map,K=B.terrain.depthAtPoint(this._pos),tt=B.terrain.getElevationForLngLatZoom(this._lngLat,B.transform.tileZoom);if(B.transform.lngLatToCameraDepth(this._lngLat,tt)-K<.006)return void(this._element.style.opacity=this._opacity);const ct=-this._offset.y/B.transform.pixelsPerMeter,_t=Math.sin(B.getPitch()*Math.PI/180)*ct,Rt=B.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),Tt=B.transform.lngLatToCameraDepth(this._lngLat,tt+_t)-Rt>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&Tt&&this._popup.remove(),this._element.style.opacity=Tt?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(s){return this._offset=a.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(s,d){return(this._opacity===void 0||s===void 0&&d===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),s!==void 0&&(this._opacity=s),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}const Ua={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Bs=0,Co=!1;const bi={maxWidth:100,unit:"metric"};function _i(N,s,d){const _=d&&d.maxWidth||100,S=N._container.clientHeight/2,L=N._container.clientWidth/2,B=N.unproject([L-_/2,S]),K=N.unproject([L+_/2,S]),tt=Math.round(N.project(K).x-N.project(B).x),ct=Math.min(_,tt,N._container.clientWidth),_t=B.distanceTo(K);if(d&&d.unit==="imperial"){const Rt=3.2808*_t;Rt>5280?Ta(s,ct,Rt/5280,N._getUIString("ScaleControl.Miles")):Ta(s,ct,Rt,N._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Ta(s,ct,_t/1852,N._getUIString("ScaleControl.NauticalMiles")):_t>=1e3?Ta(s,ct,_t/1e3,N._getUIString("ScaleControl.Kilometers")):Ta(s,ct,_t,N._getUIString("ScaleControl.Meters"))}function Ta(N,s,d,_){const S=(function(L){const B=Math.pow(10,`${Math.floor(L)}`.length-1);let K=L/B;return K=K>=10?10:K>=5?5:K>=3?3:K>=2?2:K>=1?1:(function(tt){const ct=Math.pow(10,Math.ceil(-Math.log(tt)/Math.LN10));return Math.round(tt*ct)/ct})(K),B*K})(d);N.style.width=s*(S/d)+"px",N.innerHTML=`${S}&nbsp;${_}`}const Zl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},lc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ql(N){if(N){if(typeof N=="number"){const s=Math.round(Math.abs(N)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,N),"top-left":new a.P(s,s),"top-right":new a.P(-s,s),bottom:new a.P(0,-N),"bottom-left":new a.P(s,-s),"bottom-right":new a.P(-s,-s),left:new a.P(N,0),right:new a.P(-N,0)}}if(N instanceof a.P||Array.isArray(N)){const s=a.P.convert(N);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:a.P.convert(N.center||[0,0]),top:a.P.convert(N.top||[0,0]),"top-left":a.P.convert(N["top-left"]||[0,0]),"top-right":a.P.convert(N["top-right"]||[0,0]),bottom:a.P.convert(N.bottom||[0,0]),"bottom-left":a.P.convert(N["bottom-left"]||[0,0]),"bottom-right":a.P.convert(N["bottom-right"]||[0,0]),left:a.P.convert(N.left||[0,0]),right:a.P.convert(N.right||[0,0])}}return Ql(new a.P(0,0))}const Qs=g;u.AJAXError=a.cy,u.Event=a.l,u.Evented=a.E,u.LngLat=a.S,u.MercatorCoordinate=a.a0,u.Point=a.P,u.addProtocol=a.cz,u.config=a.a,u.removeProtocol=a.cA,u.AttributionControl=to,u.BoxZoomHandler=Vm,u.CanvasSource=ir,u.CooperativeGesturesHandler=Jo,u.DoubleClickZoomHandler=ln,u.DragPanHandler=zi,u.DragRotateHandler=ai,u.EdgeInsets=dn,u.FullscreenControl=class extends a.E{constructor(N={}){super(),this._onFullscreenChange=()=>{var s;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((s=d?.shadowRoot)===null||s===void 0)&&s.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,N&&N.container&&(N.container instanceof HTMLElement?this._container=N.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(N){return this._map=N,this._container||(this._container=this._map.getContainer()),this._controlContainer=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){A.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const N=this._fullscreenButton=A.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);A.create("span","maplibregl-ctrl-icon",N).setAttribute("aria-hidden","true"),N.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const N=this._getTitle();this._fullscreenButton.setAttribute("aria-label",N),this._fullscreenButton.title=N}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},u.GeoJSONSource=Dr,u.GeolocateControl=class extends a.E{constructor(N){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",s)),this._finish()}},this._updateCamera=s=>{const d=new a.S(s.coords.longitude,s.coords.latitude),_=s.coords.accuracy,S=this._map.getBearing(),L=a.e({bearing:S},this.options.fitBoundsOptions),B=He.fromLngLat(d,_);this._map.fitBounds(B,L,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const d=new a.S(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&Co)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(s=>s.preventDefault())),this._geolocateButton=A.create("button","maplibregl-ctrl-geolocate",this._container),A.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=s=>{if(this._map){if(s===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=A.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Oi({element:this._dotElement}),this._circleElement=A.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Oi({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))}))}},this.options=a.e({},Ua,N)}onAdd(N){return this._map=N,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return a._(this,arguments,void 0,(function*(s=!1){if(Ma!==void 0&&!s)return Ma;if(window.navigator.permissions===void 0)return Ma=!!window.navigator.geolocation,Ma;try{Ma=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ma=!!window.navigator.geolocation}return Ma}))})().then((s=>this._finishSetupUI(s))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),A.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Bs=0,Co=!1}_isOutOfMapMaxBounds(N){const s=this._map.getMaxBounds(),d=N.coords;return s&&(d.longitude<s.getWest()||d.longitude>s.getEast()||d.latitude<s.getSouth()||d.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const N=this._map.getBounds(),s=N.getSouthEast(),d=N.getNorthEast(),_=s.distanceTo(d),S=Math.ceil(this._accuracy/(_/this._map._container.clientHeight)*2);this._circleElement.style.width=`${S}px`,this._circleElement.style.height=`${S}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Bs--,Co=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let N;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Bs++,Bs>1?(N={maximumAge:6e5,timeout:0},Co=!0):(N=this.options.positionOptions,Co=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,N)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},u.GlobeControl=class{constructor(){this._toggleProjection=()=>{var N;const s=(N=this._map.getProjection())===null||N===void 0?void 0:N.type;this._map.setProjection(s!=="mercator"&&s?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var N;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((N=this._map.getProjection())===null||N===void 0?void 0:N.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(N){return this._map=N,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=A.create("button","maplibregl-ctrl-globe",this._container),A.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){A.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},u.Hash=Kc,u.ImageSource=Ie,u.KeyboardHandler=Xr,u.LngLatBounds=He,u.LogoControl=ol,u.Map=class extends Gn{constructor(N){var s,d;a.cv.mark(a.cw.create);const _=Object.assign(Object.assign(Object.assign({},Ds),N),{canvasContextAttributes:Object.assign(Object.assign({},Ds.canvasContextAttributes),N.canvasContextAttributes)});if(_.minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const S=new yi,L=new la;if(_.minZoom!==void 0&&S.setMinZoom(_.minZoom),_.maxZoom!==void 0&&S.setMaxZoom(_.maxZoom),_.minPitch!==void 0&&S.setMinPitch(_.minPitch),_.maxPitch!==void 0&&S.setMaxPitch(_.maxPitch),_.renderWorldCopies!==void 0&&S.setRenderWorldCopies(_.renderWorldCopies),super(S,L,{bearingSnap:_.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Kl,this._controls=[],this._mapId=a.a6(),this._contextLost=K=>{K.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new a.l("webglcontextlost",{originalEvent:K}))},this._contextRestored=K=>{this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:K}))},this._onMapScroll=K=>{if(K.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},_.canvasContextAttributes),this._trackResize=_.trackResize===!0,this._bearingSnap=_.bearingSnap,this._centerClampedToGround=_.centerClampedToGround,this._refreshExpiredTiles=_.refreshExpiredTiles===!0,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions===!0,this._collectResourceTiming=_.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},ts),_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=_.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=j.addThrottleControl((()=>this.isMoving())),this._requestManager=new X(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let K=!1;const tt=vl((ct=>{this._trackResize&&!this._removed&&(this.resize(ct),this.redraw())}),50);this._resizeObserver=new ResizeObserver((ct=>{K?tt(ct):K=!0})),this._resizeObserver.observe(this._container)}this.handlers=new go(this,_),this._hash=_.hash&&new Kc(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,elevation:_.elevation,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,roll:_.roll}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,a.e({},_.fitBoundsOptions,{duration:0}))));const B=typeof _.style=="string"||((d=(s=_.style)===null||s===void 0?void 0:s.projection)===null||d===void 0?void 0:d.type)!=="globe";this.resize(null,B),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new to(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new ol,_.logoPosition),this.on("style.load",(()=>{if(B||this._resizeTransform(),this.transform.unmodified){const K=a.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(K)}})),this.on("data",(K=>{this._update(K.dataType==="style"),this.fire(new a.l(`${K.dataType}data`,K))})),this.on("dataloading",(K=>{this.fire(new a.l(`${K.dataType}dataloading`,K))})),this.on("dataabort",(K=>{this.fire(new a.l("sourcedataabort",K))}))}_getMapId(){return this._mapId}setGlobalStateProperty(N,s){return this.style.setGlobalStateProperty(N,s),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(N,s){if(s===void 0&&(s=N.getDefaultPosition?N.getDefaultPosition():"top-right"),!N||!N.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=N.onAdd(this);this._controls.push(N);const _=this._controlPositions[s];return s.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this}removeControl(N){if(!N||!N.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(N);return s>-1&&this._controls.splice(s,1),N.onRemove(this),this}hasControl(N){return this._controls.indexOf(N)>-1}calculateCameraOptionsFromTo(N,s,d,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(N,s,d,_)}resize(N,s=!0){const[d,_]=this._containerDimensions(),S=this._getClampedPixelRatio(d,_);if(this._resizeCanvas(d,_,S),this.painter.resize(d,_,S),this.painter.overLimit()){const B=this.painter.context.gl;this._maxCanvasSize=[B.drawingBufferWidth,B.drawingBufferHeight];const K=this._getClampedPixelRatio(d,_);this._resizeCanvas(d,_,K),this.painter.resize(d,_,K)}this._resizeTransform(s);const L=!this._moving;return L&&(this.stop(),this.fire(new a.l("movestart",N)).fire(new a.l("move",N))),this.fire(new a.l("resize",N)),L&&this.fire(new a.l("moveend",N)),this}_resizeTransform(N=!0){var s;const[d,_]=this._containerDimensions();this.transform.resize(d,_,N),(s=this._requestedCameraState)===null||s===void 0||s.resize(d,_,N)}_getClampedPixelRatio(N,s){const{0:d,1:_}=this._maxCanvasSize,S=this.getPixelRatio(),L=N*S,B=s*S;return Math.min(L>d?d/L:1,B>_?_/B:1)*S}getPixelRatio(){var N;return(N=this._overridePixelRatio)!==null&&N!==void 0?N:devicePixelRatio}setPixelRatio(N){this._overridePixelRatio=N,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(N){return this.transform.setMaxBounds(He.convert(N)),this._update()}setMinZoom(N){if((N=N??-2)>=-2&&N<=this.transform.maxZoom)return this.transform.setMinZoom(N),this._update(),this.getZoom()<N&&this.setZoom(N),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(N){if((N=N??22)>=this.transform.minZoom)return this.transform.setMaxZoom(N),this._update(),this.getZoom()>N&&this.setZoom(N),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(N){if((N=N??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(N>=0&&N<=this.transform.maxPitch)return this.transform.setMinPitch(N),this._update(),this.getPitch()<N&&this.setPitch(N),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(N){if((N=N??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(N>=this.transform.minPitch)return this.transform.setMaxPitch(N),this._update(),this.getPitch()>N&&this.setPitch(N),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(N){return this.transform.setRenderWorldCopies(N),this._update()}project(N){return this.transform.locationToScreenPoint(a.S.convert(N),this.style&&this.terrain)}unproject(N){return this.transform.screenPointToLocation(a.P.convert(N),this.terrain)}isMoving(){var N;return this._moving||((N=this.handlers)===null||N===void 0?void 0:N.isMoving())}isZooming(){var N;return this._zooming||((N=this.handlers)===null||N===void 0?void 0:N.isZooming())}isRotating(){var N;return this._rotating||((N=this.handlers)===null||N===void 0?void 0:N.isRotating())}_createDelegatedListener(N,s,d){if(N==="mouseenter"||N==="mouseover"){let _=!1;return{layers:s,listener:d,delegates:{mousemove:S=>{const L=s.filter((K=>this.getLayer(K))),B=L.length!==0?this.queryRenderedFeatures(S.point,{layers:L}):[];B.length?_||(_=!0,d.call(this,new al(N,this,S.originalEvent,{features:B}))):_=!1},mouseout:()=>{_=!1}}}}if(N==="mouseleave"||N==="mouseout"){let _=!1;return{layers:s,listener:d,delegates:{mousemove:S=>{const L=s.filter((B=>this.getLayer(B)));(L.length!==0?this.queryRenderedFeatures(S.point,{layers:L}):[]).length?_=!0:_&&(_=!1,d.call(this,new al(N,this,S.originalEvent)))},mouseout:S=>{_&&(_=!1,d.call(this,new al(N,this,S.originalEvent)))}}}}{const _=S=>{const L=s.filter((K=>this.getLayer(K))),B=L.length!==0?this.queryRenderedFeatures(S.point,{layers:L}):[];B.length&&(S.features=B,d.call(this,S),delete S.features)};return{layers:s,listener:d,delegates:{[N]:_}}}}_saveDelegatedListener(N,s){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[N]=this._delegatedListeners[N]||[],this._delegatedListeners[N].push(s)}_removeDelegatedListener(N,s,d){if(!this._delegatedListeners||!this._delegatedListeners[N])return;const _=this._delegatedListeners[N];for(let S=0;S<_.length;S++){const L=_[S];if(L.listener===d&&L.layers.length===s.length&&L.layers.every((B=>s.includes(B)))){for(const B in L.delegates)this.off(B,L.delegates[B]);return void _.splice(S,1)}}}on(N,s,d){if(d===void 0)return super.on(N,s);const _=typeof s=="string"?[s]:s,S=this._createDelegatedListener(N,_,d);this._saveDelegatedListener(N,S);for(const L in S.delegates)this.on(L,S.delegates[L]);return{unsubscribe:()=>{this._removeDelegatedListener(N,_,d)}}}once(N,s,d){if(d===void 0)return super.once(N,s);const _=typeof s=="string"?[s]:s,S=this._createDelegatedListener(N,_,d);for(const L in S.delegates){const B=S.delegates[L];S.delegates[L]=(...K)=>{this._removeDelegatedListener(N,_,d),B(...K)}}this._saveDelegatedListener(N,S);for(const L in S.delegates)this.once(L,S.delegates[L]);return this}off(N,s,d){return d===void 0?super.off(N,s):(this._removeDelegatedListener(N,typeof s=="string"?[s]:s,d),this)}queryRenderedFeatures(N,s){if(!this.style)return[];let d;const _=N instanceof a.P||Array.isArray(N),S=_?N:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(_?{}:N)||{},S instanceof a.P||typeof S[0]=="number")d=[a.P.convert(S)];else{const L=a.P.convert(S[0]),B=a.P.convert(S[1]);d=[L,new a.P(B.x,L.y),B,new a.P(L.x,B.y),L]}return this.style.queryRenderedFeatures(d,s,this.transform)}querySourceFeatures(N,s){return this.style.querySourceFeatures(N,s)}setStyle(N,s){return(s=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&N?(this._diffStyle(N,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(N,s))}setTransformRequest(N){return this._requestManager.setTransformRequest(N),this}_getUIString(N){const s=this._locale[N];if(s==null)throw new Error(`Missing UI string '${N}'`);return s}_updateStyle(N,s){var d,_;if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(N,s)));const S=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!N)),N?(this.style=new $l(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof N=="string"?this.style.loadURL(N,s,S):this.style.loadJSON(N,s,S),this):((_=(d=this.style)===null||d===void 0?void 0:d.projection)===null||_===void 0||_.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new $l(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(N,s){if(typeof N=="string"){const d=this._requestManager.transformRequest(N,"Style");a.j(d,new AbortController).then((_=>{this._updateDiff(_.data,s)})).catch((_=>{_&&this.fire(new a.k(_))}))}else typeof N=="object"&&this._updateDiff(N,s)}_updateDiff(N,s){try{this.style.setState(N,s)&&this._update(!0)}catch(d){a.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(N,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(N,s){return this._lazyInitEmptyStyle(),this.style.addSource(N,s),this._update(!0)}isSourceLoaded(N){const s=this.style&&this.style.sourceCaches[N];if(s!==void 0)return s.loaded();this.fire(new a.k(new Error(`There is no source with ID '${N}'`)))}setTerrain(N){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),N){const s=this.style.sourceCaches[N.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${N.source}`);this.terrain===null&&s.reload();for(const d in this.style._layers){const _=this.style._layers[d];_.type==="hillshade"&&_.source===N.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),_.type==="color-relief"&&_.source===N.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new cs(this.painter,s,N),this.painter.renderToTexture=new kn(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=d=>{var _;d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==N.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((_=d.source)===null||_===void 0?void 0:_.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:N})),this}getTerrain(){var N,s;return(s=(N=this.terrain)===null||N===void 0?void 0:N.options)!==null&&s!==void 0?s:null}areTilesLoaded(){const N=this.style&&this.style.sourceCaches;for(const s in N){const d=N[s]._tiles;for(const _ in d){const S=d[_];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0}removeSource(N){return this.style.removeSource(N),this._update(!0)}getSource(N){return this.style.getSource(N)}setSourceTileLodParams(N,s,d){if(d){const _=this.getSource(d);if(!_)throw new Error(`There is no source with ID "${d}", cannot set LOD parameters`);_.calculateTileZoom=Ge(Math.max(1,N),Math.max(1,s))}else for(const _ in this.style.sourceCaches)this.style.sourceCaches[_].getSource().calculateTileZoom=Ge(Math.max(1,N),Math.max(1,s));return this._update(!0),this}refreshTiles(N,s){const d=this.style.sourceCaches[N];if(!d)throw new Error(`There is no source cache with ID "${N}", cannot refresh tile`);s===void 0?d.reload(!0):d.refreshTiles(s.map((_=>new a.a3(_.z,_.x,_.y))))}addImage(N,s,d={}){const{pixelRatio:_=1,sdf:S=!1,stretchX:L,stretchY:B,content:K,textFitWidth:tt,textFitHeight:ct}=d;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||a.b(s))){if(s.width===void 0||s.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:_t,height:Rt,data:Tt}=s,zt=s;return this.style.addImage(N,{data:new a.R({width:_t,height:Rt},new Uint8Array(Tt)),pixelRatio:_,stretchX:L,stretchY:B,content:K,textFitWidth:tt,textFitHeight:ct,sdf:S,version:0,userImage:zt}),zt.onAdd&&zt.onAdd(this,N),this}}{const{width:_t,height:Rt,data:Tt}=R.getImageData(s);this.style.addImage(N,{data:new a.R({width:_t,height:Rt},Tt),pixelRatio:_,stretchX:L,stretchY:B,content:K,textFitWidth:tt,textFitHeight:ct,sdf:S,version:0})}}updateImage(N,s){const d=this.style.getImage(N);if(!d)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=s instanceof HTMLImageElement||a.b(s)?R.getImageData(s):s,{width:S,height:L,data:B}=_;if(S===void 0||L===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==d.data.width||L!==d.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const K=!(s instanceof HTMLImageElement||a.b(s));return d.data.replace(B,K),this.style.updateImage(N,d),this}getImage(N){return this.style.getImage(N)}hasImage(N){return N?!!this.style.getImage(N):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(N){this.style.removeImage(N)}loadImage(N){return j.getImage(this._requestManager.transformRequest(N,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(N,s){return this._lazyInitEmptyStyle(),this.style.addLayer(N,s),this._update(!0)}moveLayer(N,s){return this.style.moveLayer(N,s),this._update(!0)}removeLayer(N){return this.style.removeLayer(N),this._update(!0)}getLayer(N){return this.style.getLayer(N)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(N,s,d){return this.style.setLayerZoomRange(N,s,d),this._update(!0)}setFilter(N,s,d={}){return this.style.setFilter(N,s,d),this._update(!0)}getFilter(N){return this.style.getFilter(N)}setPaintProperty(N,s,d,_={}){return this.style.setPaintProperty(N,s,d,_),this._update(!0)}getPaintProperty(N,s){return this.style.getPaintProperty(N,s)}setLayoutProperty(N,s,d,_={}){return this.style.setLayoutProperty(N,s,d,_),this._update(!0)}getLayoutProperty(N,s){return this.style.getLayoutProperty(N,s)}setGlyphs(N,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(N,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(N,s,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(N,s,d,(_=>{_||this._update(!0)})),this}removeSprite(N){return this._lazyInitEmptyStyle(),this.style.removeSprite(N),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(N,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(N,s,(d=>{d||this._update(!0)})),this}setLight(N,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(N,s),this._update(!0)}getLight(){return this.style.getLight()}setSky(N,s={}){return this._lazyInitEmptyStyle(),this.style.setSky(N,s),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(N,s){return this.style.setFeatureState(N,s),this._update()}removeFeatureState(N,s){return this.style.removeFeatureState(N,s),this._update()}getFeatureState(N){return this.style.getFeatureState(N)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let N=0,s=0;return this._container&&(N=this._container.clientWidth||400,s=this._container.clientHeight||300),[N,s]}_setupContainer(){const N=this._container;N.classList.add("maplibregl-map");const s=this._canvasContainer=A.create("div","maplibregl-canvas-container",N);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=A.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),_=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],_);const S=this._controlContainer=A.create("div","maplibregl-control-container",N),L=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((B=>{L[B]=A.create("div",`maplibregl-ctrl-${B} `,S)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(N,s,d){this._canvas.width=Math.floor(d*N),this._canvas.height=Math.floor(d*s),this._canvas.style.width=`${N}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const N=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let s=null;this._canvas.addEventListener("webglcontextcreationerror",(_=>{s={requestedAttributes:N},_&&(s.statusMessage=_.statusMessage,s.type=_.type)}),{once:!0});let d=null;if(d=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,N):this._canvas.getContext("webgl2",N)||this._canvas.getContext("webgl",N),!d){const _="Failed to initialize WebGL";throw s?(s.message=_,new Error(JSON.stringify(s))):new Error(_)}this.painter=new yl(d,this.transform),O.testSupport(d)}migrateProjection(N,s){super.migrateProjection(N,s),this.painter.transform=N,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(N){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||N,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(N){return this._update(),this._renderTaskQueue.add(N)}_cancelRenderFrame(N){this._renderTaskQueue.remove(N)}_render(N){var s,d,_,S,L;const B=this._idleTriggered?this._fadeDuration:0,K=((s=this.style.projection)===null||s===void 0?void 0:s.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(N),this._removed)return;let tt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Rt=this.transform.zoom,Tt=R.now();this.style.zoomHistory.update(Rt,Tt);const zt=new a.F(Rt,{now:Tt,fadeDuration:B,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),Zt=zt.crossFadingFactor();Zt===1&&Zt===this._crossFadingFactor||(tt=!0,this._crossFadingFactor=Zt),this.style.update(zt)}const ct=((d=this.style.projection)===null||d===void 0?void 0:d.transitionState)>0!==K;(_=this.style.projection)===null||_===void 0||_.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((S=this.style.projection)===null||S===void 0?void 0:S.transitionState,(L=this.style.projection)===null||L===void 0?void 0:L.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||ct)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,B,this._crossSourceCollisions,ct),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:B,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cv.mark(a.cw.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||tt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const _t=this._sourcesDirty||this._styleDirty||this._placementDirty;return _t||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||_t||(this._fullyLoaded=!0,a.cv.mark(a.cw.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var N;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),j.removeThrottleControl(this._imageQueueHandle),(N=this._resizeObserver)===null||N===void 0||N.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s?.loseContext&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),A.remove(this._canvasContainer),A.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cv.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,R.frame(this._frameRequest,(N=>{a.cv.frame(N),this._frameRequest=null;try{this._render(N)}catch(s){if(!a.cx(s)&&!(function(d){return d.message===Cs})(s))throw s}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(N){this._showTileBoundaries!==N&&(this._showTileBoundaries=N,this._update())}get showPadding(){return!!this._showPadding}set showPadding(N){this._showPadding!==N&&(this._showPadding=N,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(N){this._showCollisionBoxes!==N&&(this._showCollisionBoxes=N,N?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(N){this._showOverdrawInspector!==N&&(this._showOverdrawInspector=N,this._update())}get repaint(){return!!this._repaint}set repaint(N){this._repaint!==N&&(this._repaint=N,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(N){this._vertices=N,this._update()}get version(){return Xa}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(N){return this._lazyInitEmptyStyle(),this.style.setProjection(N),this._update(!0)}},u.MapMouseEvent=al,u.MapTouchEvent=oc,u.MapWheelEvent=vh,u.Marker=Oi,u.NavigationControl=class{constructor(N){this._updateZoomButtons=()=>{const s=this._map.getZoom(),d=s===this._map.getMaxZoom(),_=s===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(s,d)=>{const _=this._map._getUIString(`NavigationControl.${d}`);s.title=_,s.setAttribute("aria-label",_)},this.options=a.e({},La,N),this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(s=>s.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(s=>this._map.zoomIn({},{originalEvent:s}))),A.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(s=>this._map.zoomOut({},{originalEvent:s}))),A.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})})),this._compassIcon=A.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(N){return this._map=N,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Wa(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){A.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(N,s){const d=A.create("button",N,this._container);return d.type="button",d.addEventListener("click",s),d}},u.Popup=class extends a.E{constructor(N){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&A.remove(this._content),this._container&&(A.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=A.create("div","maplibregl-popup",this._map.getContainer()),this._tip=A.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const B of this.options.className.split(" "))this._container.classList.add(B);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=yo(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!s)return;const d=this._flatPos=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&s?s:this._map.transform.locationToScreenPoint(this._lngLat));let _=this.options.anchor;const S=Ql(this.options.offset);if(!_){const B=this._container.offsetWidth,K=this._container.offsetHeight;let tt;tt=d.y+S.bottom.y<K?["top"]:d.y>this._map.transform.height-K?["bottom"]:[],d.x<B/2?tt.push("left"):d.x>this._map.transform.width-B/2&&tt.push("right"),_=tt.length===0?"bottom":tt.join("-")}let L=d.add(S[_]);this.options.subpixelPositioning||(L=L.round()),A.setTransform(this._container,`${es[_]} translate(${L.x}px,${L.y}px)`),ia(this._container,_,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Zl),N)}addTo(N){return this._map&&this.remove(),this._map=N,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(N){return this._lngLat=a.S.convert(N),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(N){return this.setDOMContent(document.createTextNode(N))}setHTML(N){const s=document.createDocumentFragment(),d=document.createElement("body");let _;for(d.innerHTML=N;_=d.firstChild,_;)s.appendChild(_);return this.setDOMContent(s)}getMaxWidth(){var N;return(N=this._container)===null||N===void 0?void 0:N.style.maxWidth}setMaxWidth(N){return this.options.maxWidth=N,this._update(),this}setDOMContent(N){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=A.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(N),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(N){return this._container&&this._container.classList.add(N),this}removeClassName(N){return this._container&&this._container.classList.remove(N),this}setOffset(N){return this.options.offset=N,this._update(),this}toggleClassName(N){if(this._container)return this._container.classList.toggle(N)}setSubpixelPositioning(N){this.options.subpixelPositioning=N}_createCloseButton(){this.options.closeButton&&(this._closeButton=A.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const N=this._container.querySelector(lc);N&&N.focus()}},u.RasterDEMTileSource=vr,u.RasterTileSource=Vr,u.ScaleControl=class{constructor(N){this._onMove=()=>{_i(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,_i(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},bi),N)}getDefaultPosition(){return"bottom-left"}onAdd(N){return this._map=N,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-scale",N.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){A.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},u.ScrollZoomHandler=wn,u.Style=$l,u.TerrainControl=class{constructor(N){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=N}onAdd(N){return this._map=N,this._container=A.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=A.create("button","maplibregl-ctrl-terrain",this._container),A.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){A.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},u.TwoFingersTouchPitchHandler=hr,u.TwoFingersTouchRotateHandler=Nr,u.TwoFingersTouchZoomHandler=Te,u.TwoFingersTouchZoomRotateHandler=Ea,u.VectorTileSource=Jt,u.VideoSource=Mr,u.addSourceType=(N,s)=>a._(void 0,void 0,void 0,(function*(){if(Pr(N))throw new Error(`A source type called "${N}" already exists.`);((d,_)=>{Rr[d]=_})(N,s)})),u.clearPrewarmedResources=function(){const N=kt;N&&(N.isPreloaded()&&N.numActive()===1?(N.release(Ft),kt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},u.createTileMesh=_u,u.getMaxParallelImageRequests=function(){return a.a.MAX_PARALLEL_IMAGE_REQUESTS},u.getRTLTextPluginStatus=function(){return Or().getRTLTextPluginStatus()},u.getVersion=function(){return Qs},u.getWorkerCount=function(){return Et.workerCount},u.getWorkerUrl=function(){return a.a.WORKER_URL},u.importScriptInWorkers=function(N){return ie().broadcast("IS",N)},u.prewarm=function(){Nt().acquire(Ft)},u.setMaxParallelImageRequests=function(N){a.a.MAX_PARALLEL_IMAGE_REQUESTS=N},u.setRTLTextPlugin=function(N,s){return Or().setRTLTextPlugin(N,s)},u.setWorkerCount=function(N){Et.workerCount=N},u.setWorkerUrl=function(N){a.a.WORKER_URL=N}}));var o=r;return o}))})($N)),$N.exports}var ktt=Att();class Itt{registeredElements;baseLayers;firstSymbolLayer;eventHandlers;wrapper;initRegisteredElements;addNativeMaplibreFunctionsAndProps;map;style;styleJson;addSource;addControl;on;cleanup;constructor(e){const r=this;this.registeredElements={},this.baseLayers=[],this.firstSymbolLayer=void 0,this.eventHandlers={layerchange:[],viewportchange:[],addsource:[],addlayer:[]},this.wrapper={on:(n,i,o,u)=>{if(!r.eventHandlers[n])return;typeof o=="string"&&(u=o,o={}),r.eventHandlers[n].push({handler:i,options:o});const a=[n,i];u&&typeof u=="string"&&(r.initRegisteredElements(u),r.registeredElements[u].wrapperEvents.push(a))},off:(n,i)=>{r.eventHandlers[n]&&(r.eventHandlers[n]=r.eventHandlers[n].filter(o=>Object.is(o.handler,i)?!1:o))},fire:(n,i)=>{if(!r.eventHandlers[n])return;const o=i||window,u=new Event(n);r.eventHandlers[n].forEach(function(a){a.handler.call(o,u,r,i)})},layerState:[],layerStateString:"",oldLayerStateStrings:{},buildLayerObject:n=>{if(n)return{id:n.id,type:n.type,visible:n.visibility!=="none",baseLayer:r.baseLayers.indexOf(n.id)!==-1}},buildLayerObjects:()=>r.map.style._order.map(n=>r.wrapper.buildLayerObject(r.map.style._layers[n])).filter(n=>typeof n<"u"),refreshLayerState:()=>{r.wrapper.layerState=r.wrapper.buildLayerObjects(),JSON.stringify(r.wrapper.layerState)!==r.wrapper.layerStateString&&(r.wrapper.fire("layerchange"),r.wrapper.layerStateString=JSON.stringify(r.wrapper.layerState))},viewportState:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},viewportStateString:"{}",oldViewportStateString:"{}",getViewport:()=>typeof r.map.getCenter=="function"?{center:(({lng:n,lat:i})=>({lng:n,lat:i}))(r.map.getCenter()),zoom:r.map.getZoom(),bearing:r.map.getBearing(),pitch:r.map.getPitch()}:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},refreshViewport:()=>{r.wrapper.viewportState=r.wrapper.getViewport()}},this.cancelled=!1,this.initRegisteredElements=(n,i)=>{(typeof r.registeredElements[n]>"u"||typeof i<"u"&&i)&&(r.registeredElements[n]={layers:[],sources:[],images:[],events:[],controls:[],wrapperEvents:[]})},this.addLayer=(n,i,o)=>r.map.style?(o&&typeof o=="string"&&typeof n.id<"u"&&(r.initRegisteredElements(o),r.registeredElements[o].layers.push(n.id),n?.source&&typeof n?.source!="string"&&r.registeredElements[o].sources.push(n.id)),r.map.addLayer(n,i),r.wrapper.fire("addlayer",{layer_id:n.id}),this):this,this.addSource=(n,i,o)=>r.map.style?(o&&typeof o=="string"&&typeof n<"u"&&(r.initRegisteredElements(o),r.registeredElements[o].sources.push(n)),r.map.addSource(n,i),r.wrapper.fire("addsource",{source_id:n}),this):this,this.addImage=(n,i,o,u)=>r.map.style?typeof o=="string"&&typeof u>"u"?r.addImage(n,i,void 0,o):(u&&typeof u=="string"&&typeof n<"u"&&(r.initRegisteredElements(u),r.registeredElements[u].images.push(n)),r.map.addImage(n,i,o),this):this,this.on=(n,i,o,u)=>{if(typeof o=="string"&&typeof i=="function")return r.on.call(r,n,void 0,i,o);let a=[n,i,o];return i||(a=[n,o]),u&&typeof u=="string"&&(r.initRegisteredElements(u),r.registeredElements[u].events.push(a)),r.map.on(...a),this},this.addControl=(n,i,o)=>(o&&typeof o=="string"&&(r.initRegisteredElements(o),r.registeredElements[o].controls.push(n)),r.map.addControl(n,i),this),this.cleanup=n=>{r.map.style&&typeof r.registeredElements[n]<"u"&&(r.registeredElements[n].layers.forEach(i=>{r.map.style.getLayer(i)&&r.map.style.removeLayer(i)}),r.registeredElements[n].sources.forEach(i=>{r.map.style.getSource(i)&&r.map.style.removeSource(i)}),r.registeredElements[n].images.forEach(i=>{r.map.hasImage(i)&&r.map.style.removeImage(i)}),r.registeredElements[n].events.forEach(i=>{r.map.off(...i)}),r.registeredElements[n].controls.forEach(i=>{r.map.removeControl(i)}),r.registeredElements[n].wrapperEvents.forEach(i=>{r.wrapper.off(...i)}),r.initRegisteredElements(n,!0))},["moveLayer","removeLayer","removeSource","setPaintProperty","setLayoutProperty"].forEach(n=>{this[n]=(...i)=>(r.map&&r.map.style&&typeof r.map.style[n]=="function"&&r.map.style[n](...i),r.map._update?r.map._update(!0):void 0)}),["getLayer","getSource","listImages","getPaintProperty","getLayoutProperty","removeImage"].forEach(n=>{this[n]=(...i)=>r.map&&r.map.style?r.map.style[n](...i):!1}),this.addNativeMaplibreFunctionsAndProps=()=>{Object.getOwnPropertyNames(Object.getPrototypeOf(this.map)).forEach(n=>{typeof this[n]>"u"&&(this[n]=(...i)=>r.map[n](...i))}),Object.keys(this.map).forEach(n=>{typeof this[n]>"u"&&(this[n]=r.map[n])})},["getZoom","setZoom","getCenter","setCenter","getBearing","setBearing","getPitch","setPitch","jumpTo","flyTo","panTo","panBy","panBy","zoomTo","zoomIn","zoomOut","getPadding","setPadding","rotateTo","resetNorth","resetNorthPitch","snapToNorth","cameraForBounds","fitBounds","fitScreenCoordinates","getFreeCameraOptions","setFreeCameraOptions","easeTo","stop"].forEach(n=>{this[n]=(...i)=>{if(typeof r.map[n]=="function")return r.map[n].call(r.map,...i)}}),(async()=>(typeof e.mapOptions.style=="string"&&e.mapOptions.style.indexOf("mapbox://")===-1&&await fetch(e.mapOptions.style).then(n=>{if(n.ok)return n.json();throw new Error("error loading map style.json")}).then(n=>{n.layers.forEach(i=>{r.baseLayers.push(i.id),!r.firstSymbolLayer&&i.type==="symbol"&&(r.firstSymbolLayer=i.id)}),r.styleJson=n,e.mapOptions.style=n}).catch(n=>{console.log(n)}),r.map=new ktt.Map(e.mapOptions),r.addNativeMaplibreFunctionsAndProps(),r.wrapper.refreshViewport(),r.wrapper.fire("viewportchange"),r.map.on("load",()=>{r.addNativeMaplibreFunctionsAndProps()}),r.map.on("move",()=>{r.wrapper.viewportState=r.wrapper.getViewport(),r.wrapper.fire("viewportchange")}),r.map.on("idle",()=>{r.wrapper.refreshLayerState()}),r.map.on("data",()=>{r.wrapper.refreshLayerState()}),typeof e.onReady=="function"&&e.onReady(r.map,r)))()}}var xD={exports:{}},C1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD;function Rtt(){if(wD)return C1;wD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:t,type:n,key:u,ref:i!==void 0?i:null,props:o}}return C1.Fragment=e,C1.jsx=r,C1.jsxs=r,C1}var SD;function Ntt(){return SD||(SD=1,xD.exports=Rtt()),xD.exports}var yr=Ntt();function _g(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const yp="$$material";function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YE.apply(null,arguments)}function Ltt(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Mtt(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ptt=(function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Mtt(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Ltt(n);try{i.insertRule(r,i.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var n;return(n=r.parentNode)==null?void 0:n.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Rh="-ms-",KE="-moz-",ms="-webkit-",nU="comm",BM="rule",zM="decl",Ott="@import",iU="@keyframes",Dtt="@layer",Btt=Math.abs,_C=String.fromCharCode,ztt=Object.assign;function Ftt(t,e){return sh(t,0)^45?(((e<<2^sh(t,0))<<2^sh(t,1))<<2^sh(t,2))<<2^sh(t,3):0}function aU(t){return t.trim()}function jtt(t,e){return(t=e.exec(t))?t[0]:t}function ys(t,e,r){return t.replace(e,r)}function UN(t,e){return t.indexOf(e)}function sh(t,e){return t.charCodeAt(e)|0}function Q2(t,e,r){return t.slice(e,r)}function lm(t){return t.length}function FM(t){return t.length}function i5(t,e){return e.push(t),t}function Vtt(t,e){return t.map(e).join("")}var xC=1,$_=1,oU=0,yd=0,pc=0,dx="";function wC(t,e,r,n,i,o,u){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:xC,column:$_,length:u,return:""}}function A1(t,e){return ztt(wC("",null,null,"",null,null,0),t,{length:-t.length},e)}function $tt(){return pc}function Utt(){return pc=yd>0?sh(dx,--yd):0,$_--,pc===10&&($_=1,xC--),pc}function Zd(){return pc=yd<oU?sh(dx,yd++):0,$_++,pc===10&&($_=1,xC++),pc}function Cm(){return sh(dx,yd)}function oE(){return yd}function Nw(t,e){return Q2(dx,t,e)}function J2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sU(t){return xC=$_=1,oU=lm(dx=t),yd=0,[]}function lU(t){return dx="",t}function sE(t){return aU(Nw(yd-1,qN(t===91?t+2:t===40?t+1:t)))}function qtt(t){for(;(pc=Cm())&&pc<33;)Zd();return J2(t)>2||J2(pc)>3?"":" "}function Gtt(t,e){for(;--e&&Zd()&&!(pc<48||pc>102||pc>57&&pc<65||pc>70&&pc<97););return Nw(t,oE()+(e<6&&Cm()==32&&Zd()==32))}function qN(t){for(;Zd();)switch(pc){case t:return yd;case 34:case 39:t!==34&&t!==39&&qN(pc);break;case 40:t===41&&qN(t);break;case 92:Zd();break}return yd}function Htt(t,e){for(;Zd()&&t+pc!==57&&!(t+pc===84&&Cm()===47););return"/*"+Nw(e,yd-1)+"*"+_C(t===47?t:Zd())}function Xtt(t){for(;!J2(Cm());)Zd();return Nw(t,yd)}function Wtt(t){return lU(lE("",null,null,null,[""],t=sU(t),0,[0],t))}function lE(t,e,r,n,i,o,u,a,g){for(var v=0,x=0,k=u,R=0,A=0,O=0,D=1,U=1,H=1,G=0,z="",j=i,X=o,Y=n,rt=z;U;)switch(O=G,G=Zd()){case 40:if(O!=108&&sh(rt,k-1)==58){UN(rt+=ys(sE(G),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:rt+=sE(G);break;case 9:case 10:case 13:case 32:rt+=qtt(O);break;case 92:rt+=Gtt(oE()-1,7);continue;case 47:switch(Cm()){case 42:case 47:i5(Ytt(Htt(Zd(),oE()),e,r),g);break;default:rt+="/"}break;case 123*D:a[v++]=lm(rt)*H;case 125*D:case 59:case 0:switch(G){case 0:case 125:U=0;case 59+x:H==-1&&(rt=ys(rt,/\f/g,"")),A>0&&lm(rt)-k&&i5(A>32?TD(rt+";",n,r,k-1):TD(ys(rt," ","")+";",n,r,k-2),g);break;case 59:rt+=";";default:if(i5(Y=ED(rt,e,r,v,x,i,a,z,j=[],X=[],k),o),G===123)if(x===0)lE(rt,e,Y,Y,j,o,k,a,X);else switch(R===99&&sh(rt,3)===110?100:R){case 100:case 108:case 109:case 115:lE(t,Y,Y,n&&i5(ED(t,Y,Y,0,0,i,a,z,i,j=[],k),X),i,X,k,a,n?j:X);break;default:lE(rt,Y,Y,Y,[""],X,0,a,X)}}v=x=A=0,D=H=1,z=rt="",k=u;break;case 58:k=1+lm(rt),A=O;default:if(D<1){if(G==123)--D;else if(G==125&&D++==0&&Utt()==125)continue}switch(rt+=_C(G),G*D){case 38:H=x>0?1:(rt+="\f",-1);break;case 44:a[v++]=(lm(rt)-1)*H,H=1;break;case 64:Cm()===45&&(rt+=sE(Zd())),R=Cm(),x=k=lm(z=rt+=Xtt(oE())),G++;break;case 45:O===45&&lm(rt)==2&&(D=0)}}return o}function ED(t,e,r,n,i,o,u,a,g,v,x){for(var k=i-1,R=i===0?o:[""],A=FM(R),O=0,D=0,U=0;O<n;++O)for(var H=0,G=Q2(t,k+1,k=Btt(D=u[O])),z=t;H<A;++H)(z=aU(D>0?R[H]+" "+G:ys(G,/&\f/g,R[H])))&&(g[U++]=z);return wC(t,e,r,i===0?BM:a,g,v,x)}function Ytt(t,e,r){return wC(t,e,r,nU,_C($tt()),Q2(t,2,-2),0)}function TD(t,e,r,n){return wC(t,e,r,zM,Q2(t,0,n),Q2(t,n+1,-1),n)}function T_(t,e){for(var r="",n=FM(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Ktt(t,e,r,n){switch(t.type){case Dtt:if(t.children.length)break;case Ott:case zM:return t.return=t.return||t.value;case nU:return"";case iU:return t.return=t.value+"{"+T_(t.children,n)+"}";case BM:t.value=t.props.join(",")}return lm(r=T_(t.children,n))?t.return=t.value+"{"+r+"}":""}function Ztt(t){var e=FM(t);return function(r,n,i,o){for(var u="",a=0;a<e;a++)u+=t[a](r,n,i,o)||"";return u}}function Qtt(t){return function(e){e.root||(e=e.return)&&t(e)}}function uU(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Jtt=function(t,e,r){for(var n=0,i=0;n=i,i=Cm(),n===38&&i===12&&(e[r]=1),!J2(i);)Zd();return Nw(t,yd)},tet=function(t,e){var r=-1,n=44;do switch(J2(n)){case 0:n===38&&Cm()===12&&(e[r]=1),t[r]+=Jtt(yd-1,e,r);break;case 2:t[r]+=sE(n);break;case 4:if(n===44){t[++r]=Cm()===58?"&\f":"",e[r]=t[r].length;break}default:t[r]+=_C(n)}while(n=Zd());return t},eet=function(t,e){return lU(tet(sU(t),e))},CD=new WeakMap,ret=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,r=t.parent,n=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!CD.get(r))&&!n){CD.set(t,!0);for(var i=[],o=eet(e,i),u=r.props,a=0,g=0;a<o.length;a++)for(var v=0;v<u.length;v++,g++)t.props[g]=i[a]?o[a].replace(/&\f/g,u[v]):u[v]+" "+o[a]}}},net=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function cU(t,e){switch(Ftt(t,e)){case 5103:return ms+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ms+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ms+t+KE+t+Rh+t+t;case 6828:case 4268:return ms+t+Rh+t+t;case 6165:return ms+t+Rh+"flex-"+t+t;case 5187:return ms+t+ys(t,/(\w+).+(:[^]+)/,ms+"box-$1$2"+Rh+"flex-$1$2")+t;case 5443:return ms+t+Rh+"flex-item-"+ys(t,/flex-|-self/,"")+t;case 4675:return ms+t+Rh+"flex-line-pack"+ys(t,/align-content|flex-|-self/,"")+t;case 5548:return ms+t+Rh+ys(t,"shrink","negative")+t;case 5292:return ms+t+Rh+ys(t,"basis","preferred-size")+t;case 6060:return ms+"box-"+ys(t,"-grow","")+ms+t+Rh+ys(t,"grow","positive")+t;case 4554:return ms+ys(t,/([^-])(transform)/g,"$1"+ms+"$2")+t;case 6187:return ys(ys(ys(t,/(zoom-|grab)/,ms+"$1"),/(image-set)/,ms+"$1"),t,"")+t;case 5495:case 3959:return ys(t,/(image-set\([^]*)/,ms+"$1$`$1");case 4968:return ys(ys(t,/(.+:)(flex-)?(.*)/,ms+"box-pack:$3"+Rh+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ms+t+t;case 4095:case 3583:case 4068:case 2532:return ys(t,/(.+)-inline(.+)/,ms+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lm(t)-1-e>6)switch(sh(t,e+1)){case 109:if(sh(t,e+4)!==45)break;case 102:return ys(t,/(.+:)(.+)-([^]+)/,"$1"+ms+"$2-$3$1"+KE+(sh(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~UN(t,"stretch")?cU(ys(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sh(t,e+1)!==115)break;case 6444:switch(sh(t,lm(t)-3-(~UN(t,"!important")&&10))){case 107:return ys(t,":",":"+ms)+t;case 101:return ys(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ms+(sh(t,14)===45?"inline-":"")+"box$3$1"+ms+"$2$3$1"+Rh+"$2box$3")+t}break;case 5936:switch(sh(t,e+11)){case 114:return ms+t+Rh+ys(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ms+t+Rh+ys(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ms+t+Rh+ys(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ms+t+Rh+t+t}return t}var iet=function(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case zM:t.return=cU(t.value,t.length);break;case iU:return T_([A1(t,{value:ys(t.value,"@","@"+ms)})],n);case BM:if(t.length)return Vtt(t.props,function(i){switch(jtt(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return T_([A1(t,{props:[ys(i,/:(read-\w+)/,":"+KE+"$1")]})],n);case"::placeholder":return T_([A1(t,{props:[ys(i,/:(plac\w+)/,":"+ms+"input-$1")]}),A1(t,{props:[ys(i,/:(plac\w+)/,":"+KE+"$1")]}),A1(t,{props:[ys(i,/:(plac\w+)/,Rh+"input-$1")]})],n)}return""})}},aet=[iet],oet=function(t){var e=t.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(O){var D=O.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var n=t.stylisPlugins||aet,i={},o,u=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(O){for(var D=O.getAttribute("data-emotion").split(" "),U=1;U<D.length;U++)i[D[U]]=!0;u.push(O)});var a,g=[ret,net];{var v,x=[Ktt,Qtt(function(O){v.insert(O)})],k=Ztt(g.concat(n,x)),R=function(O){return T_(Wtt(O),k)};a=function(O,D,U,H){v=U,R(O?O+"{"+D.styles+"}":D.styles),H&&(A.inserted[D.name]=!0)}}var A={key:e,sheet:new Ptt({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:a};return A.sheet.hydrate(u),A},AD={exports:{}},ks={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD;function set(){if(kD)return ks;kD=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,g=t?Symbol.for("react.async_mode"):60111,v=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,k=t?Symbol.for("react.suspense"):60113,R=t?Symbol.for("react.suspense_list"):60120,A=t?Symbol.for("react.memo"):60115,O=t?Symbol.for("react.lazy"):60116,D=t?Symbol.for("react.block"):60121,U=t?Symbol.for("react.fundamental"):60117,H=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function z(X){if(typeof X=="object"&&X!==null){var Y=X.$$typeof;switch(Y){case e:switch(X=X.type,X){case g:case v:case n:case o:case i:case k:return X;default:switch(X=X&&X.$$typeof,X){case a:case x:case O:case A:case u:return X;default:return Y}}case r:return Y}}}function j(X){return z(X)===v}return ks.AsyncMode=g,ks.ConcurrentMode=v,ks.ContextConsumer=a,ks.ContextProvider=u,ks.Element=e,ks.ForwardRef=x,ks.Fragment=n,ks.Lazy=O,ks.Memo=A,ks.Portal=r,ks.Profiler=o,ks.StrictMode=i,ks.Suspense=k,ks.isAsyncMode=function(X){return j(X)||z(X)===g},ks.isConcurrentMode=j,ks.isContextConsumer=function(X){return z(X)===a},ks.isContextProvider=function(X){return z(X)===u},ks.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},ks.isForwardRef=function(X){return z(X)===x},ks.isFragment=function(X){return z(X)===n},ks.isLazy=function(X){return z(X)===O},ks.isMemo=function(X){return z(X)===A},ks.isPortal=function(X){return z(X)===r},ks.isProfiler=function(X){return z(X)===o},ks.isStrictMode=function(X){return z(X)===i},ks.isSuspense=function(X){return z(X)===k},ks.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===n||X===v||X===o||X===i||X===k||X===R||typeof X=="object"&&X!==null&&(X.$$typeof===O||X.$$typeof===A||X.$$typeof===u||X.$$typeof===a||X.$$typeof===x||X.$$typeof===U||X.$$typeof===H||X.$$typeof===G||X.$$typeof===D)},ks.typeOf=z,ks}var ID;function uet(){return ID||(ID=1,AD.exports=set()),AD.exports}var yk,RD;function cet(){if(RD)return yk;RD=1;var t=uet(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=n,o[t.Memo]=i;function u(O){return t.isMemo(O)?i:o[O.$$typeof]||e}var a=Object.defineProperty,g=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,k=Object.getPrototypeOf,R=Object.prototype;function A(O,D,U){if(typeof D!="string"){if(R){var H=k(D);H&&H!==R&&A(O,H,U)}var G=g(D);v&&(G=G.concat(v(D)));for(var z=u(O),j=u(D),X=0;X<G.length;++X){var Y=G[X];if(!r[Y]&&!(U&&U[Y])&&!(j&&j[Y])&&!(z&&z[Y])){var rt=x(D,Y);try{a(O,Y,rt)}catch{}}}}return O}return yk=A,yk}cet();var het=!0;function hU(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var jM=function(t,e,r){var n=t.key+"-"+e.name;(r===!1||het===!1)&&t.registered[n]===void 0&&(t.registered[n]=e.styles)},VM=function(t,e,r){jM(t,e,r);var n=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+n:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function det(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var fet={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pet=/[A-Z]|^ms/g,met=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dU=function(t){return t.charCodeAt(1)===45},ND=function(t){return t!=null&&typeof t!="boolean"},vk=uU(function(t){return dU(t)?t:t.replace(pet,"-$&").toLowerCase()}),LD=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(met,function(r,n,i){return um={name:n,styles:i,next:um},n})}return fet[t]!==1&&!dU(t)&&typeof e=="number"&&e!==0?e+"px":e};function tw(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return um={name:i.name,styles:i.styles,next:um},i.name;var o=r;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)um={name:u.name,styles:u.styles,next:um},u=u.next;var a=o.styles+";";return a}return get(t,e,r)}case"function":{if(t!==void 0){var g=um,v=r(t);return um=g,tw(t,e,v)}break}}var x=r;if(e==null)return x;var k=e[x];return k!==void 0?k:x}function get(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=tw(t,e,r[i])+";";else for(var o in r){var u=r[o];if(typeof u!="object"){var a=u;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":ND(a)&&(n+=vk(o)+":"+LD(o,a)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var g=0;g<u.length;g++)ND(u[g])&&(n+=vk(o)+":"+LD(o,u[g])+";");else{var v=tw(t,e,u);switch(o){case"animation":case"animationName":{n+=vk(o)+":"+v+";";break}default:n+=o+"{"+v+"}"}}}return n}var MD=/label:\s*([^\s;{]+)\s*(;|$)/g,um;function Lw(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";um=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,i+=tw(r,e,o);else{var u=o;i+=u[0]}for(var a=1;a<t.length;a++)if(i+=tw(r,e,t[a]),n){var g=o;i+=g[a]}MD.lastIndex=0;for(var v="",x;(x=MD.exec(i))!==null;)v+="-"+x[1];var k=det(i)+v;return{name:k,styles:i,next:um}}var yet=function(t){return t()},fU=ht.useInsertionEffect?ht.useInsertionEffect:!1,pU=fU||yet,PD=fU||ht.useLayoutEffect,mU=ht.createContext(typeof HTMLElement<"u"?oet({key:"css"}):null);mU.Provider;var $M=function(t){return ht.forwardRef(function(e,r){var n=ht.useContext(mU);return t(e,n,r)})},Mw=ht.createContext({}),UM={}.hasOwnProperty,GN="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vet=function(t,e){var r={};for(var n in e)UM.call(e,n)&&(r[n]=e[n]);return r[GN]=t,r},bet=function(t){var e=t.cache,r=t.serialized,n=t.isStringTag;return jM(e,r,n),pU(function(){return VM(e,r,n)}),null},_et=$M(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[GN],o=[n],u="";typeof t.className=="string"?u=hU(e.registered,o,t.className):t.className!=null&&(u=t.className+" ");var a=Lw(o,void 0,ht.useContext(Mw));u+=e.key+"-"+a.name;var g={};for(var v in t)UM.call(t,v)&&v!=="css"&&v!==GN&&(g[v]=t[v]);return g.className=u,r&&(g.ref=r),ht.createElement(ht.Fragment,null,ht.createElement(bet,{cache:e,serialized:a,isStringTag:typeof i=="string"}),ht.createElement(i,g))}),xet=_et,OD=function(t,e){var r=arguments;if(e==null||!UM.call(e,"css"))return ht.createElement.apply(void 0,r);var n=r.length,i=new Array(n);i[0]=xet,i[1]=vet(t,e);for(var o=2;o<n;o++)i[o]=r[o];return ht.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(OD||(OD={}));var wet=$M(function(t,e){var r=t.styles,n=Lw([r],void 0,ht.useContext(Mw)),i=ht.useRef();return PD(function(){var o=e.key+"-global",u=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,g=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),g!==null&&(a=!0,g.setAttribute("data-emotion",o),u.hydrate([g])),i.current=[u,a],function(){u.flush()}},[e]),PD(function(){var o=i.current,u=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&VM(e,n.next,!0),u.tags.length){var g=u.tags[u.tags.length-1].nextElementSibling;u.before=g,u.flush()}e.insert("",n,u,!1)},[e,n.name]),null});function qM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Lw(e)}function Pw(){var t=qM.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Eet=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Tet=uU(function(t){return Eet.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Cet=Tet,Aet=function(t){return t!=="theme"},DD=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Cet:Aet},BD=function(t,e,r){var n;if(e){var i=e.shouldForwardProp;n=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof n!="function"&&r&&(n=t.__emotion_forwardProp),n},ket=function(t){var e=t.cache,r=t.serialized,n=t.isStringTag;return jM(e,r,n),pU(function(){return VM(e,r,n)}),null},Iet=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,u;r!==void 0&&(o=r.label,u=r.target);var a=BD(e,r,n),g=a||DD(i),v=!g("as");return function(){var x=arguments,k=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&k.push("label:"+o+";"),x[0]==null||x[0].raw===void 0)k.push.apply(k,x);else{var R=x[0];k.push(R[0]);for(var A=x.length,O=1;O<A;O++)k.push(x[O],R[O])}var D=$M(function(U,H,G){var z=v&&U.as||i,j="",X=[],Y=U;if(U.theme==null){Y={};for(var rt in U)Y[rt]=U[rt];Y.theme=ht.useContext(Mw)}typeof U.className=="string"?j=hU(H.registered,X,U.className):U.className!=null&&(j=U.className+" ");var st=Lw(k.concat(X),H.registered,Y);j+=H.key+"-"+st.name,u!==void 0&&(j+=" "+u);var it=v&&a===void 0?DD(z):g,bt={};for(var at in U)v&&at==="as"||it(at)&&(bt[at]=U[at]);return bt.className=j,G&&(bt.ref=G),ht.createElement(ht.Fragment,null,ht.createElement(ket,{cache:H,serialized:st,isStringTag:typeof z=="string"}),ht.createElement(z,bt))});return D.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",D.defaultProps=e.defaultProps,D.__emotion_real=D,D.__emotion_base=i,D.__emotion_styles=k,D.__emotion_forwardProp=a,Object.defineProperty(D,"toString",{value:function(){return"."+u}}),D.withComponent=function(U,H){var G=t(U,YE({},r,H,{shouldForwardProp:BD(D,H,!0)}));return G.apply(void 0,k)},D}},Ret=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],HN=Iet.bind(null);Ret.forEach(function(t){HN[t]=HN(t)});var bk={exports:{}},_k,zD;function Net(){if(zD)return _k;zD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _k=t,_k}var xk,FD;function Let(){if(FD)return xk;FD=1;var t=Net();function e(){}function r(){}return r.resetWarningCache=e,xk=function(){function n(u,a,g,v,x,k){if(k!==t){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},xk}var jD;function Met(){return jD||(jD=1,bk.exports=Let()()),bk.exports}var Pet=Met();const Fn=Rw(Pet);function Oet(t){return t==null||Object.keys(t).length===0}function gU(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(Oet(i)?r:i):e;return yr.jsx(wet,{styles:n})}/**
 * @mui/styled-engine v7.3.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yU(t,e){return HN(t,e)}function Det(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const VD=[];function gy(t){return VD[0]=t,Lw(VD)}var $D={exports:{}},tl={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD;function Bet(){if(UD)return tl;UD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function O(D){if(typeof D=="object"&&D!==null){var U=D.$$typeof;switch(U){case t:switch(D=D.type,D){case r:case i:case n:case g:case v:case R:return D;default:switch(D=D&&D.$$typeof,D){case u:case a:case k:case x:return D;case o:return D;default:return U}}case e:return U}}}return tl.ContextConsumer=o,tl.ContextProvider=u,tl.Element=t,tl.ForwardRef=a,tl.Fragment=r,tl.Lazy=k,tl.Memo=x,tl.Portal=e,tl.Profiler=i,tl.StrictMode=n,tl.Suspense=g,tl.SuspenseList=v,tl.isContextConsumer=function(D){return O(D)===o},tl.isContextProvider=function(D){return O(D)===u},tl.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},tl.isForwardRef=function(D){return O(D)===a},tl.isFragment=function(D){return O(D)===r},tl.isLazy=function(D){return O(D)===k},tl.isMemo=function(D){return O(D)===x},tl.isPortal=function(D){return O(D)===e},tl.isProfiler=function(D){return O(D)===i},tl.isStrictMode=function(D){return O(D)===n},tl.isSuspense=function(D){return O(D)===g},tl.isSuspenseList=function(D){return O(D)===v},tl.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===i||D===n||D===g||D===v||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===x||D.$$typeof===u||D.$$typeof===o||D.$$typeof===a||D.$$typeof===A||D.getModuleId!==void 0)},tl.typeOf=O,tl}var qD;function zet(){return qD||(qD=1,$D.exports=Bet()),$D.exports}var vU=zet();function dm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function bU(t){if(ht.isValidElement(t)||vU.isValidElementType(t)||!dm(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=bU(t[r])}),e}function Lh(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return dm(t)&&dm(e)&&Object.keys(e).forEach(i=>{ht.isValidElement(e[i])||vU.isValidElementType(e[i])?n[i]=e[i]:dm(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&dm(t[i])?n[i]=Lh(t[i],e[i],r):r.clone?n[i]=dm(e[i])?bU(e[i]):e[i]:n[i]=e[i]}),n}const Fet=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function jet(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,o=Fet(e),u=Object.keys(o);function a(R){return`@media (min-width:${typeof e[R]=="number"?e[R]:R}${r})`}function g(R){return`@media (max-width:${(typeof e[R]=="number"?e[R]:R)-n/100}${r})`}function v(R,A){const O=u.indexOf(A);return`@media (min-width:${typeof e[R]=="number"?e[R]:R}${r}) and (max-width:${(O!==-1&&typeof e[u[O]]=="number"?e[u[O]]:A)-n/100}${r})`}function x(R){return u.indexOf(R)+1<u.length?v(R,u[u.indexOf(R)+1]):a(R)}function k(R){const A=u.indexOf(R);return A===0?a(u[1]):A===u.length-1?g(u[A]):v(R,u[u.indexOf(R)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:a,down:g,between:v,only:x,not:k,unit:r,...i}}function GD(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(n.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return r.length?r.reduce((n,i)=>{const o=e[i];return delete n[i],n[i]=o,n},{...e}):e}function Vet(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function $et(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(o)}function Uet(t){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function r(o,u){o.up=(...a)=>e(t.breakpoints.up(...a),u),o.down=(...a)=>e(t.breakpoints.down(...a),u),o.between=(...a)=>e(t.breakpoints.between(...a),u),o.only=(...a)=>e(t.breakpoints.only(...a),u),o.not=(...a)=>{const g=e(t.breakpoints.not(...a),u);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const n={},i=o=>(r(n,o),n);return r(i),{...t,containerQueries:i}}const qet={borderRadius:4};function R2(t,e){return e?Lh(t,e,{clone:!1}):t}const SC={xs:0,sm:600,md:900,lg:1200,xl:1536},HD={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${SC[t]}px)`},Get={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:SC[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function xg(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const i=n.breakpoints||HD;return e.reduce((o,u,a)=>(o[i.up(i.keys[a])]=r(e[a]),o),{})}if(typeof e=="object"){const i=n.breakpoints||HD;return Object.keys(e).reduce((o,u)=>{if(Vet(i.keys,u)){const a=$et(n.containerQueries?n:Get,u);a&&(o[a]=r(e[u],u))}else if(Object.keys(i.values||SC).includes(u)){const a=i.up(u);o[a]=r(e[u],u)}else{const a=u;o[a]=e[a]}return o},{})}return r(e)}function Het(t={}){return t.keys?.reduce((e,r)=>{const n=t.up(r);return e[n]={},e},{})||{}}function XD(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function Qn(t){if(typeof t!="string")throw new Error(_g(7));return t.charAt(0).toUpperCase()+t.slice(1)}function EC(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function ZE(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=EC(t,r)||n,e&&(i=e(i,n,t)),i}function ec(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,o=u=>{if(u[e]==null)return null;const a=u[e],g=u.theme,v=EC(g,n)||{};return xg(u,a,x=>{let k=ZE(v,i,x);return x===k&&typeof x=="string"&&(k=ZE(v,i,`${e}${x==="default"?"":Qn(x)}`,x)),r===!1?k:{[r]:k}})};return o.propTypes={},o.filterProps=[e],o}function Xet(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const Wet={m:"margin",p:"padding"},Yet={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},WD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ket=Xet(t=>{if(t.length>2)if(WD[t])t=WD[t];else return[t];const[e,r]=t.split(""),n=Wet[e],i=Yet[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),GM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],HM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...GM,...HM];function Ow(t,e,r,n){const i=EC(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),a=i[u];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:(()=>{})}function XM(t){return Ow(t,"spacing",8)}function Dw(t,e){return typeof e=="string"||e==null?e:t(e)}function Zet(t,e){return r=>t.reduce((n,i)=>(n[i]=Dw(e,r),n),{})}function Qet(t,e,r,n){if(!e.includes(r))return null;const i=Ket(r),o=Zet(i,n),u=t[r];return xg(t,u,o)}function _U(t,e){const r=XM(t.theme);return Object.keys(t).map(n=>Qet(t,e,n,r)).reduce(R2,{})}function Ou(t){return _U(t,GM)}Ou.propTypes={};Ou.filterProps=GM;function Du(t){return _U(t,HM)}Du.propTypes={};Du.filterProps=HM;function xU(t=8,e=XM({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function TC(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>e[o]?R2(i,e[o](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function _f(t){return typeof t!="number"?t:`${t}px solid`}function Vf(t,e){return ec({prop:t,themeKey:"borders",transform:e})}const Jet=Vf("border",_f),trt=Vf("borderTop",_f),ert=Vf("borderRight",_f),rrt=Vf("borderBottom",_f),nrt=Vf("borderLeft",_f),irt=Vf("borderColor"),art=Vf("borderTopColor"),ort=Vf("borderRightColor"),srt=Vf("borderBottomColor"),lrt=Vf("borderLeftColor"),urt=Vf("outline",_f),crt=Vf("outlineColor"),CC=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Ow(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Dw(e,n)});return xg(t,t.borderRadius,r)}return null};CC.propTypes={};CC.filterProps=["borderRadius"];TC(Jet,trt,ert,rrt,nrt,irt,art,ort,srt,lrt,CC,urt,crt);const AC=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Ow(t.theme,"spacing",8),r=n=>({gap:Dw(e,n)});return xg(t,t.gap,r)}return null};AC.propTypes={};AC.filterProps=["gap"];const kC=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Ow(t.theme,"spacing",8),r=n=>({columnGap:Dw(e,n)});return xg(t,t.columnGap,r)}return null};kC.propTypes={};kC.filterProps=["columnGap"];const IC=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Ow(t.theme,"spacing",8),r=n=>({rowGap:Dw(e,n)});return xg(t,t.rowGap,r)}return null};IC.propTypes={};IC.filterProps=["rowGap"];const hrt=ec({prop:"gridColumn"}),drt=ec({prop:"gridRow"}),frt=ec({prop:"gridAutoFlow"}),prt=ec({prop:"gridAutoColumns"}),mrt=ec({prop:"gridAutoRows"}),grt=ec({prop:"gridTemplateColumns"}),yrt=ec({prop:"gridTemplateRows"}),vrt=ec({prop:"gridTemplateAreas"}),brt=ec({prop:"gridArea"});TC(AC,kC,IC,hrt,drt,frt,prt,mrt,grt,yrt,vrt,brt);function C_(t,e){return e==="grey"?e:t}const _rt=ec({prop:"color",themeKey:"palette",transform:C_}),xrt=ec({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:C_}),wrt=ec({prop:"backgroundColor",themeKey:"palette",transform:C_});TC(_rt,xrt,wrt);function Yd(t){return t<=1&&t!==0?`${t*100}%`:t}const Srt=ec({prop:"width",transform:Yd}),WM=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{const n=t.theme?.breakpoints?.values?.[r]||SC[r];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Yd(r)}};return xg(t,t.maxWidth,e)}return null};WM.filterProps=["maxWidth"];const Ert=ec({prop:"minWidth",transform:Yd}),Trt=ec({prop:"height",transform:Yd}),Crt=ec({prop:"maxHeight",transform:Yd}),Art=ec({prop:"minHeight",transform:Yd});ec({prop:"size",cssProperty:"width",transform:Yd});ec({prop:"size",cssProperty:"height",transform:Yd});const krt=ec({prop:"boxSizing"});TC(Srt,WM,Ert,Trt,Crt,Art,krt);const Bw={border:{themeKey:"borders",transform:_f},borderTop:{themeKey:"borders",transform:_f},borderRight:{themeKey:"borders",transform:_f},borderBottom:{themeKey:"borders",transform:_f},borderLeft:{themeKey:"borders",transform:_f},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_f},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:CC},color:{themeKey:"palette",transform:C_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:C_},backgroundColor:{themeKey:"palette",transform:C_},p:{style:Du},pt:{style:Du},pr:{style:Du},pb:{style:Du},pl:{style:Du},px:{style:Du},py:{style:Du},padding:{style:Du},paddingTop:{style:Du},paddingRight:{style:Du},paddingBottom:{style:Du},paddingLeft:{style:Du},paddingX:{style:Du},paddingY:{style:Du},paddingInline:{style:Du},paddingInlineStart:{style:Du},paddingInlineEnd:{style:Du},paddingBlock:{style:Du},paddingBlockStart:{style:Du},paddingBlockEnd:{style:Du},m:{style:Ou},mt:{style:Ou},mr:{style:Ou},mb:{style:Ou},ml:{style:Ou},mx:{style:Ou},my:{style:Ou},margin:{style:Ou},marginTop:{style:Ou},marginRight:{style:Ou},marginBottom:{style:Ou},marginLeft:{style:Ou},marginX:{style:Ou},marginY:{style:Ou},marginInline:{style:Ou},marginInlineStart:{style:Ou},marginInlineEnd:{style:Ou},marginBlock:{style:Ou},marginBlockStart:{style:Ou},marginBlockEnd:{style:Ou},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:AC},rowGap:{style:IC},columnGap:{style:kC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yd},maxWidth:{style:WM},minWidth:{transform:Yd},height:{transform:Yd},maxHeight:{transform:Yd},minHeight:{transform:Yd},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Irt(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function Rrt(t,e){return typeof t=="function"?t(e):t}function Nrt(){function t(r,n,i,o){const u={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:g=r,themeKey:v,transform:x,style:k}=a;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const R=EC(i,v)||{};return k?k(u):xg(u,n,A=>{let O=ZE(R,x,A);return A===O&&typeof A=="string"&&(O=ZE(R,x,`${r}${A==="default"?"":Qn(A)}`,A)),g===!1?O:{[g]:O}})}function e(r){const{sx:n,theme:i={},nested:o}=r||{};if(!n)return null;const u=i.unstable_sxConfig??Bw;function a(g){let v=g;if(typeof g=="function")v=g(i);else if(typeof g!="object")return g;if(!v)return null;const x=Het(i.breakpoints),k=Object.keys(x);let R=x;return Object.keys(v).forEach(A=>{const O=Rrt(v[A],i);if(O!=null)if(typeof O=="object")if(u[A])R=R2(R,t(A,O,i,u));else{const D=xg({theme:i},O,U=>({[A]:U}));Irt(D,O)?R[A]=e({sx:O,theme:i,nested:!0}):R=R2(R,D)}else R=R2(R,t(A,O,i,u))}),!o&&i.modularCssLayers?{"@layer sx":GD(i,XD(k,R))}:GD(i,XD(k,R))}return Array.isArray(n)?n.map(a):a(n)}return e}const vy=Nrt();vy.filterProps=["sx"];function Lrt(t,e){const r=this;if(r.vars){if(!r.colorSchemes?.[t]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return r.palette.mode===t?e:{}}function RC(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:o={},...u}=t,a=jet(r),g=xU(i);let v=Lh({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:g,shape:{...qet,...o}},u);return v=Uet(v),v.applyStyles=Lrt,v=e.reduce((x,k)=>Lh(x,k),v),v.unstable_sxConfig={...Bw,...u?.unstable_sxConfig},v.unstable_sx=function(x){return vy({sx:x,theme:this})},v}function Mrt(t){return Object.keys(t).length===0}function NC(t=null){const e=ht.useContext(Mw);return!e||Mrt(e)?t:e}const Prt=RC();function zw(t=Prt){return NC(t)}function YD(t){const e=gy(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function wU({styles:t,themeId:e,defaultTheme:r={}}){const n=zw(r),i=e&&n[e]||n;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(u=>YD(typeof u=="function"?u(i):u)):o=YD(o)),yr.jsx(gU,{styles:o})}const Ort=t=>{const e={systemProps:{},otherProps:{}},r=t?.theme?.unstable_sxConfig??Bw;return Object.keys(t).forEach(n=>{r[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function YM(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=Ort(r);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...u)=>{const a=e(...u);return dm(a)?{...n,...a}:n}:o={...n,...e},{...i,sx:o}}const KD=t=>t,Drt=()=>{let t=KD;return{configure(e){t=e},generate(e){return t(e)},reset(){t=KD}}},KM=Drt();function SU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=SU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ca(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=SU(t))&&(n&&(n+=" "),n+=e);return n}function EU(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,o=yU("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(vy);return ht.forwardRef(function(u,a){const g=zw(r),{className:v,component:x="div",...k}=YM(u);return yr.jsx(o,{as:x,ref:a,className:ca(v,i?i(n):n),theme:e&&g[e]||g,...k})})}const Brt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function bs(t,e,r="Mui"){const n=Brt[e];return n?`${r}-${n}`:`${KM.generate(t)}-${e}`}function Ei(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=bs(t,i,r)}),n}const zrt=Ei("MuiBox",["root"]),Frt=EU({defaultClassName:zrt.root,generateClassName:KM.generate});function TU(t){const{variants:e,...r}=t,n={variants:e,style:gy(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=gy(i.style))}),n}const jrt=RC();function wk(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Pv(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function Vrt(t){return t?(e,r)=>r[t]:null}function $rt(t,e,r){t.theme=qrt(t.theme)?r:t.theme[e]||t.theme}function uE(t,e,r){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>uE(t,i,r));if(Array.isArray(n?.variants)){let i;if(n.isProcessed)i=r?Pv(n.style,r):n.style;else{const{variants:o,...u}=n;i=r?Pv(gy(u),r):u}return CU(t,n.variants,[i],r)}return n?.isProcessed?r?Pv(gy(n.style),r):n.style:r?Pv(gy(n),r):n}function CU(t,e,r=[],n=void 0){let i;t:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!u.props(i))continue}else for(const a in u.props)if(t[a]!==u.props[a]&&t.ownerState?.[a]!==u.props[a])continue t;typeof u.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},r.push(n?Pv(gy(u.style(i)),n):u.style(i))):r.push(n?Pv(gy(u.style),n):u.style)}return r}function AU(t={}){const{themeId:e,defaultTheme:r=jrt,rootShouldForwardProp:n=wk,slotShouldForwardProp:i=wk}=t;function o(u){$rt(u,e,r)}return(u,a={})=>{Det(u,X=>X.filter(Y=>Y!==vy));const{name:g,slot:v,skipVariantsResolver:x,skipSx:k,overridesResolver:R=Vrt(Hrt(v)),...A}=a,O=g&&g.startsWith("Mui")||v?"components":"custom",D=x!==void 0?x:v&&v!=="Root"&&v!=="root"||!1,U=k||!1;let H=wk;v==="Root"||v==="root"?H=n:v?H=i:Grt(u)&&(H=void 0);const G=yU(u,{shouldForwardProp:H,label:Urt(),...A}),z=X=>{if(X.__emotion_real===X)return X;if(typeof X=="function")return function(Y){return uE(Y,X,Y.theme.modularCssLayers?O:void 0)};if(dm(X)){const Y=TU(X);return function(rt){return Y.variants?uE(rt,Y,rt.theme.modularCssLayers?O:void 0):rt.theme.modularCssLayers?Pv(Y.style,O):Y.style}}return X},j=(...X)=>{const Y=[],rt=X.map(z),st=[];if(Y.push(o),g&&R&&st.push(function(at){const $=at.theme.components?.[g]?.styleOverrides;if(!$)return null;const dt={};for(const mt in $)dt[mt]=uE(at,$[mt],at.theme.modularCssLayers?"theme":void 0);return R(at,dt)}),g&&!D&&st.push(function(at){const $=at.theme?.components?.[g]?.variants;return $?CU(at,$,[],at.theme.modularCssLayers?"theme":void 0):null}),U||st.push(vy),Array.isArray(rt[0])){const at=rt.shift(),$=new Array(Y.length).fill(""),dt=new Array(st.length).fill("");let mt;mt=[...$,...at,...dt],mt.raw=[...$,...at.raw,...dt],Y.unshift(mt)}const it=[...Y,...rt,...st],bt=G(...it);return u.muiName&&(bt.muiName=u.muiName),bt};return G.withConfig&&(j.withConfig=G.withConfig),j}}function Urt(t,e){return void 0}function qrt(t){for(const e in t)return!1;return!0}function Grt(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Hrt(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const l0=AU();function ew(t,e,r=!1){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=i;if(o==="components"||o==="slots")n[o]={...t[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const u=t[o],a=e[o];if(!a)n[o]=u||{};else if(!u)n[o]=a;else{n[o]={...a};for(const g in u)if(Object.prototype.hasOwnProperty.call(u,g)){const v=g;n[o][v]=ew(u[v],a[v],r)}}}else o==="className"&&r&&e.className?n.className=ca(t?.className,e?.className):o==="style"&&r&&e.style?n.style={...t?.style,...e?.style}:n[o]===void 0&&(n[o]=t[o])}return n}function kU(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:ew(e.components[r].defaultProps,n)}function Xrt({props:t,name:e,defaultTheme:r,themeId:n}){let i=zw(r);return n&&(i=i[n]||i),kU({theme:i,name:e,props:t})}const Mf=typeof window<"u"?ht.useLayoutEffect:ht.useEffect;function Wrt(t,e,r,n,i){const[o,u]=ht.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return Mf(()=>{if(!r)return;const a=r(t),g=()=>{u(a.matches)};return g(),a.addEventListener("change",g),()=>{a.removeEventListener("change",g)}},[t,r]),o}const Yrt={...F_},IU=Yrt.useSyncExternalStore;function Krt(t,e,r,n,i){const o=ht.useCallback(()=>e,[e]),u=ht.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:v}=n(t);return()=>v}return o},[o,t,n,i,r]),[a,g]=ht.useMemo(()=>{if(r===null)return[o,()=>()=>{}];const v=r(t);return[()=>v.matches,x=>(v.addEventListener("change",x),()=>{v.removeEventListener("change",x)})]},[o,r,t]);return IU(g,a,u)}function RU(t={}){const{themeId:e}=t;return function(r,n={}){let i=NC();i&&e&&(i=i[e]||i);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:u=!1,matchMedia:a=o?window.matchMedia:null,ssrMatchMedia:g=null,noSsr:v=!1}=kU({name:"MuiUseMediaQuery",props:n,theme:i});let x=typeof r=="function"?r(i):r;return x=x.replace(/^@media( ?)/m,""),x.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(IU!==void 0?Krt:Wrt)(x,u,a,g,v)}}RU();function Zrt(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function ZM(t,e=0,r=1){return Zrt(t,e,r)}function Qrt(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function by(t){if(t.type)return t;if(t.charAt(0)==="#")return by(Qrt(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(_g(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(_g(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const Jrt=t=>{const e=by(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},c2=(t,e)=>{try{return Jrt(t)}catch{return t}};function LC(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function NU(t){t=by(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),u=(v,x=(v+r/30)%12)=>i-o*Math.max(Math.min(x-3,9-x,1),-1);let a="rgb";const g=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(a+="a",g.push(e[3])),LC({type:a,values:g})}function XN(t){t=by(t);let e=t.type==="hsl"||t.type==="hsla"?by(NU(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function tnt(t,e){const r=XN(t),n=XN(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function QE(t,e){return t=by(t),e=ZM(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,LC(t)}function fv(t,e,r){try{return QE(t,e)}catch{return t}}function MC(t,e){if(t=by(t),e=ZM(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return LC(t)}function Vs(t,e,r){try{return MC(t,e)}catch{return t}}function PC(t,e){if(t=by(t),e=ZM(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return LC(t)}function $s(t,e,r){try{return PC(t,e)}catch{return t}}function JE(t,e=.15){return XN(t)>.5?MC(t,e):PC(t,e)}function a5(t,e,r){try{return JE(t,e)}catch{return t}}const LU=ht.createContext(null);function QM(){return ht.useContext(LU)}const ent=typeof Symbol=="function"&&Symbol.for,rnt=ent?Symbol.for("mui.nested"):"__THEME_NESTED__";function nnt(t,e){return typeof e=="function"?e(t):{...t,...e}}function int(t){const{children:e,theme:r}=t,n=QM(),i=ht.useMemo(()=>{const o=n===null?{...r}:nnt(n,r);return o!=null&&(o[rnt]=n!==null),o},[r,n]);return yr.jsx(LU.Provider,{value:i,children:e})}const MU=ht.createContext();function ant({value:t,...e}){return yr.jsx(MU.Provider,{value:t??!0,...e})}const PU=()=>ht.useContext(MU)??!1,OU=ht.createContext(void 0);function ont({value:t,children:e}){return yr.jsx(OU.Provider,{value:t,children:e})}function snt(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?ew(i.defaultProps,n,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?ew(i,n,e.components.mergeClassNameAndStyle):n}function lnt({props:t,name:e}){const r=ht.useContext(OU);return snt({props:t,name:e,theme:{components:r}})}let ZD=0;function unt(t){const[e,r]=ht.useState(t),n=t||e;return ht.useEffect(()=>{e==null&&(ZD+=1,r(`mui-${ZD}`))},[e]),n}const cnt={...F_},QD=cnt.useId;function OC(t){if(QD!==void 0){const e=QD();return t??e}return unt(t)}function hnt(t){const e=NC(),r=OC()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Mf(()=>{const o=document.querySelector("head");if(!o)return;const u=o.firstChild;if(i){if(u&&u.hasAttribute?.("data-mui-layer-order")&&u.getAttribute("data-mui-layer-order")===r)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",r),a.textContent=i,o.prepend(a)}else o.querySelector(`style[data-mui-layer-order="${r}"]`)?.remove()},[i,r]),i?yr.jsx(wU,{styles:i}):null}const JD={};function t6(t,e,r,n=!1){return ht.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const o=r(i),u=t?{...e,[t]:o}:o;return n?()=>u:u}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function DU(t){const{children:e,theme:r,themeId:n}=t,i=NC(JD),o=QM()||JD,u=t6(n,i,r),a=t6(n,o,r,!0),g=(n?u[n]:u).direction==="rtl",v=hnt(u);return yr.jsx(int,{theme:a,children:yr.jsx(Mw.Provider,{value:u,children:yr.jsx(ant,{value:g,children:yr.jsxs(ont,{value:n?u[n].components:u.components,children:[v,e]})})})})}const e6={theme:void 0};function dnt(t){let e,r;return function(n){let i=e;return(i===void 0||n.theme!==r)&&(e6.theme=n.theme,i=TU(t(e6)),e=i,r=n.theme),i}}const JM="mode",t4="color-scheme",fnt="data-color-scheme";function pnt(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=JM,colorSchemeStorageKey:o=t4,attribute:u=fnt,colorSchemeNode:a="document.documentElement",nonce:g}=t||{};let v="",x=u;if(u==="class"&&(x=".%s"),u==="data"&&(x="[data-%s]"),x.startsWith(".")){const R=x.substring(1);v+=`${a}.classList.remove('${R}'.replace('%s', light), '${R}'.replace('%s', dark));
      ${a}.classList.add('${R}'.replace('%s', colorScheme));`}const k=x.match(/\[([^[\]]+)\]/);if(k){const[R,A]=k[1].split("=");A||(v+=`${a}.removeAttribute('${R}'.replace('%s', light));
      ${a}.removeAttribute('${R}'.replace('%s', dark));`),v+=`
      ${a}.setAttribute('${R}'.replace('%s', colorScheme), ${A?`${A}.replace('%s', colorScheme)`:'""'});`}else v+=`${a}.setAttribute('${x}', colorScheme);`;return yr.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${n}';
  const light = localStorage.getItem('${o}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function mnt(){}const gnt=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return mnt;const n=i=>{const o=i.newValue;i.key===t&&r(o)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function Sk(){}function r6(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function BU(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function ynt(t){return BU(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function vnt(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:o=JM,colorSchemeStorageKey:u=t4,storageWindow:a=typeof window>"u"?void 0:window,storageManager:g=gnt,noSsr:v=!1}=t,x=i.join(","),k=i.length>1,R=ht.useMemo(()=>g?.({key:o,storageWindow:a}),[g,o,a]),A=ht.useMemo(()=>g?.({key:`${u}-light`,storageWindow:a}),[g,u,a]),O=ht.useMemo(()=>g?.({key:`${u}-dark`,storageWindow:a}),[g,u,a]),[D,U]=ht.useState(()=>{const st=R?.get(e)||e,it=A?.get(r)||r,bt=O?.get(n)||n;return{mode:st,systemMode:r6(st),lightColorScheme:it,darkColorScheme:bt}}),[H,G]=ht.useState(v||!k);ht.useEffect(()=>{G(!0)},[]);const z=ynt(D),j=ht.useCallback(st=>{U(it=>{if(st===it.mode)return it;const bt=st??e;return R?.set(bt),{...it,mode:bt,systemMode:r6(bt)}})},[R,e]),X=ht.useCallback(st=>{st?typeof st=="string"?st&&!x.includes(st)?console.error(`\`${st}\` does not exist in \`theme.colorSchemes\`.`):U(it=>{const bt={...it};return BU(it,at=>{at==="light"&&(A?.set(st),bt.lightColorScheme=st),at==="dark"&&(O?.set(st),bt.darkColorScheme=st)}),bt}):U(it=>{const bt={...it},at=st.light===null?r:st.light,$=st.dark===null?n:st.dark;return at&&(x.includes(at)?(bt.lightColorScheme=at,A?.set(at)):console.error(`\`${at}\` does not exist in \`theme.colorSchemes\`.`)),$&&(x.includes($)?(bt.darkColorScheme=$,O?.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),bt}):U(it=>(A?.set(r),O?.set(n),{...it,lightColorScheme:r,darkColorScheme:n}))},[x,A,O,r,n]),Y=ht.useCallback(st=>{D.mode==="system"&&U(it=>{const bt=st?.matches?"dark":"light";return it.systemMode===bt?it:{...it,systemMode:bt}})},[D.mode]),rt=ht.useRef(Y);return rt.current=Y,ht.useEffect(()=>{if(typeof window.matchMedia!="function"||!k)return;const st=(...bt)=>rt.current(...bt),it=window.matchMedia("(prefers-color-scheme: dark)");return it.addListener(st),st(it),()=>{it.removeListener(st)}},[k]),ht.useEffect(()=>{if(k){const st=R?.subscribe(at=>{(!at||["light","dark","system"].includes(at))&&j(at||e)})||Sk,it=A?.subscribe(at=>{(!at||x.match(at))&&X({light:at})})||Sk,bt=O?.subscribe(at=>{(!at||x.match(at))&&X({dark:at})})||Sk;return()=>{st(),it(),bt()}}},[X,j,x,e,a,k,R,A,O]),{...D,mode:H?D.mode:void 0,systemMode:H?D.systemMode:void 0,colorScheme:H?z:void 0,setMode:j,setColorScheme:X}}const bnt="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _nt(t){const{themeId:e,theme:r={},modeStorageKey:n=JM,colorSchemeStorageKey:i=t4,disableTransitionOnChange:o=!1,defaultColorScheme:u,resolveTheme:a}=t,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=ht.createContext(void 0),x=()=>ht.useContext(v)||g,k={},R={};function A(U){const{children:H,theme:G,modeStorageKey:z=n,colorSchemeStorageKey:j=i,disableTransitionOnChange:X=o,storageManager:Y,storageWindow:rt=typeof window>"u"?void 0:window,documentNode:st=typeof document>"u"?void 0:document,colorSchemeNode:it=typeof document>"u"?void 0:document.documentElement,disableNestedContext:bt=!1,disableStyleSheetGeneration:at=!1,defaultMode:$="system",forceThemeRerender:dt=!1,noSsr:mt}=U,wt=ht.useRef(!1),pt=QM(),Ct=ht.useContext(v),vt=!!Ct&&!bt,It=ht.useMemo(()=>G||(typeof r=="function"?r():r),[G]),Ft=It[e],Et=Ft||It,{colorSchemes:lt=k,components:kt=R,cssVarPrefix:At}=Et,Nt=Object.keys(lt).filter(dr=>!!lt[dr]).join(","),qt=ht.useMemo(()=>Nt.split(","),[Nt]),ie=typeof u=="string"?u:u.light,Ht=typeof u=="string"?u:u.dark,ce=lt[ie]&&lt[Ht]?$:lt[Et.defaultColorScheme]?.palette?.mode||Et.palette?.mode,{mode:de,setMode:Se,systemMode:$t,lightColorScheme:He,darkColorScheme:ke,colorScheme:Jt,setColorScheme:Vr}=vnt({supportedColorSchemes:qt,defaultLightColorScheme:ie,defaultDarkColorScheme:Ht,modeStorageKey:z,colorSchemeStorageKey:j,defaultMode:ce,storageManager:Y,storageWindow:rt,noSsr:mt});let vr=de,Dr=Jt;vt&&(vr=Ct.mode,Dr=Ct.colorScheme);let Ie=Dr||Et.defaultColorScheme;Et.vars&&!dt&&(Ie=Et.defaultColorScheme);const Mr=ht.useMemo(()=>{const dr=Et.generateThemeVars?.()||Et.vars,ar={...Et,components:kt,colorSchemes:lt,cssVarPrefix:At,vars:dr};if(typeof ar.generateSpacing=="function"&&(ar.spacing=ar.generateSpacing()),Ie){const Or=lt[Ie];Or&&typeof Or=="object"&&Object.keys(Or).forEach(er=>{Or[er]&&typeof Or[er]=="object"?ar[er]={...ar[er],...Or[er]}:ar[er]=Or[er]})}return a?a(ar):ar},[Et,Ie,kt,lt,At]),ir=Et.colorSchemeSelector;Mf(()=>{if(Dr&&it&&ir&&ir!=="media"){const dr=ir;let ar=ir;if(dr==="class"&&(ar=".%s"),dr==="data"&&(ar="[data-%s]"),dr?.startsWith("data-")&&!dr.includes("%s")&&(ar=`[${dr}="%s"]`),ar.startsWith("."))it.classList.remove(...qt.map(Or=>ar.substring(1).replace("%s",Or))),it.classList.add(ar.substring(1).replace("%s",Dr));else{const Or=ar.replace("%s",Dr).match(/\[([^\]]+)\]/);if(Or){const[er,Fr]=Or[1].split("=");Fr||qt.forEach(Ze=>{it.removeAttribute(er.replace(Dr,Ze))}),it.setAttribute(er,Fr?Fr.replace(/"|'/g,""):"")}else it.setAttribute(ar,Dr)}}},[Dr,ir,it,qt]),ht.useEffect(()=>{let dr;if(X&&wt.current&&st){const ar=st.createElement("style");ar.appendChild(st.createTextNode(bnt)),st.head.appendChild(ar),window.getComputedStyle(st.body),dr=setTimeout(()=>{st.head.removeChild(ar)},1)}return()=>{clearTimeout(dr)}},[Dr,X,st]),ht.useEffect(()=>(wt.current=!0,()=>{wt.current=!1}),[]);const Rr=ht.useMemo(()=>({allColorSchemes:qt,colorScheme:Dr,darkColorScheme:ke,lightColorScheme:He,mode:vr,setColorScheme:Vr,setMode:Se,systemMode:$t}),[qt,Dr,ke,He,vr,Vr,Se,$t,Mr.colorSchemeSelector]);let Pr=!0;(at||Et.cssVariables===!1||vt&&pt?.cssVarPrefix===At)&&(Pr=!1);const Ir=yr.jsxs(ht.Fragment,{children:[yr.jsx(DU,{themeId:Ft?e:void 0,theme:Mr,children:H}),Pr&&yr.jsx(gU,{styles:Mr.generateStyleSheets?.()||[]})]});return vt?Ir:yr.jsx(v.Provider,{value:Rr,children:Ir})}const O=typeof u=="string"?u:u.light,D=typeof u=="string"?u:u.dark;return{CssVarsProvider:A,useColorScheme:x,getInitColorSchemeScript:U=>pnt({colorSchemeStorageKey:i,defaultLightColorScheme:O,defaultDarkColorScheme:D,modeStorageKey:n,...U})}}function xnt(t=""){function e(...r){if(!r.length)return"";const n=r[0];return typeof n=="string"&&!n.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${n}${e(...r.slice(1))})`:`, ${n}`}return(r,...n)=>`var(--${t?`${t}-`:""}${r}${e(...n)})`}const n6=(t,e,r,n=[])=>{let i=t;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=n.includes(o)?[]:{}),i=i[o])})},wnt=(t,e,r)=>{function n(i,o=[],u=[]){Object.entries(i).forEach(([a,g])=>{(!r||r&&!r([...o,a]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?n(g,[...o,a],Array.isArray(g)?[...u,a]:u):e([...o,a],g,u))})}n(t)},Snt=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Ek(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},o={},u={};return wnt(t,(a,g,v)=>{if((typeof g=="string"||typeof g=="number")&&(!n||!n(a,g))){const x=`--${r?`${r}-`:""}${a.join("-")}`,k=Snt(a,g);Object.assign(i,{[x]:k}),n6(o,a,`var(${x})`,v),n6(u,a,`var(${x}, ${k})`,v)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function Ent(t,e={}){const{getSelector:r=H,disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:o}=e,{colorSchemes:u={},components:a,defaultColorScheme:g="light",...v}=t,{vars:x,css:k,varsWithDefaults:R}=Ek(v,e);let A=R;const O={},{[g]:D,...U}=u;if(Object.entries(U||{}).forEach(([G,z])=>{const{vars:j,css:X,varsWithDefaults:Y}=Ek(z,e);A=Lh(A,Y),O[G]={css:X,vars:j}}),D){const{css:G,vars:z,varsWithDefaults:j}=Ek(D,e);A=Lh(A,j),O[g]={css:G,vars:z}}function H(G,z){let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),G){if(j==="media")return t.defaultColorScheme===G?":root":{[`@media (prefers-color-scheme: ${u[G]?.palette?.mode||G})`]:{":root":z}};if(j)return t.defaultColorScheme===G?`:root, ${j.replace("%s",String(G))}`:j.replace("%s",String(G))}return":root"}return{vars:A,generateThemeVars:()=>{let G={...x};return Object.entries(O).forEach(([,{vars:z}])=>{G=Lh(G,z)}),G},generateStyleSheets:()=>{const G=[],z=t.defaultColorScheme||"light";function j(rt,st){Object.keys(st).length&&G.push(typeof rt=="string"?{[rt]:{...st}}:rt)}j(r(void 0,{...k}),k);const{[z]:X,...Y}=O;if(X){const{css:rt}=X,st=u[z]?.palette?.mode,it=!n&&st?{colorScheme:st,...rt}:{...rt};j(r(z,{...it}),it)}return Object.entries(Y).forEach(([rt,{css:st}])=>{const it=u[rt]?.palette?.mode,bt=!n&&it?{colorScheme:it,...st}:{...st};j(r(rt,{...bt}),bt)}),o&&G.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),G}}}function Tnt(t){return function(e){return t==="media"?`@media (prefers-color-scheme: ${e})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${e}"] &`:t==="class"?`.${e} &`:t==="data"?`[data-${e}] &`:`${t.replace("%s",e)} &`:"&"}}function _s(t,e,r=void 0){const n={};for(const i in t){const o=t[i];let u="",a=!0;for(let g=0;g<o.length;g+=1){const v=o[g];v&&(u+=(a===!0?"":" ")+e(v),a=!1,r&&r[v]&&(u+=" "+r[v]))}n[i]=u}return n}function N2(t,e){return ht.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const Cnt=(t,e)=>t.filter(r=>e.includes(r)),fx=(t,e,r)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((i,o)=>{r((u,a)=>{o<=t.keys.length-1&&(o===0?Object.assign(u,a):u[t.up(t.keys[o])]=a)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Cnt(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const o=e[i];o!==void 0&&r((u,a)=>{n===i?Object.assign(u,a):u[t.up(i)]=a},o)}}):(typeof e=="number"||typeof e=="string")&&r((i,o)=>{Object.assign(i,o)},e)};function tT(t){return`--Grid-${t}Spacing`}function DC(t){return`--Grid-parent-${t}Spacing`}const i6="--Grid-columns",A_="--Grid-parent-columns",Ant=({theme:t,ownerState:e})=>{const r={};return fx(t.breakpoints,e.size,(n,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${A_}) - (var(${A_}) - ${i}) * (var(${DC("column")}) / var(${A_})))`}),n(r,o)}),r},knt=({theme:t,ownerState:e})=>{const r={};return fx(t.breakpoints,e.offset,(n,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${A_}) + var(${DC("column")}) * ${i} / var(${A_}))`}),n(r,o)}),r},Int=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={[i6]:12};return fx(t.breakpoints,e.columns,(n,i)=>{const o=i??12;n(r,{[i6]:o,"> *":{[A_]:o}})}),r},Rnt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return fx(t.breakpoints,e.rowSpacing,(n,i)=>{const o=typeof i=="string"?i:t.spacing?.(i);n(r,{[tT("row")]:o,"> *":{[DC("row")]:o}})}),r},Nnt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return fx(t.breakpoints,e.columnSpacing,(n,i)=>{const o=typeof i=="string"?i:t.spacing?.(i);n(r,{[tT("column")]:o,"> *":{[DC("column")]:o}})}),r},Lnt=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return fx(t.breakpoints,e.direction,(n,i)=>{n(r,{flexDirection:i})}),r},Mnt=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${tT("row")}) var(${tT("column")})`}}),Pnt=t=>{const e=[];return Object.entries(t).forEach(([r,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${r}-${String(n)}`)}),e},Ont=(t,e="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([i,o])=>{r(o)&&n.push(`spacing-${i}-${String(o)}`)}),n}return[]},Dnt=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(t)}`];function Bnt(t,e){const r=[];t.item!==void 0&&(delete t.item,r.push("item")),t.zeroMinWidth!==void 0&&(delete t.zeroMinWidth,r.push("zeroMinWidth")),e.keys.forEach(n=>{t[n]!==void 0&&(r.push(n),delete t[n])})}const znt=RC(),Fnt=l0("div",{name:"MuiGrid",slot:"Root"});function jnt(t){return Xrt({props:t,name:"MuiGrid",defaultTheme:znt})}function Vnt(t={}){const{createStyledComponent:e=Fnt,useThemeProps:r=jnt,useTheme:n=zw,componentName:i="MuiGrid"}=t,o=(v,x)=>{const{container:k,direction:R,spacing:A,wrap:O,size:D}=v,U={root:["root",k&&"container",O!=="wrap"&&`wrap-xs-${String(O)}`,...Dnt(R),...Pnt(D),...k?Ont(A,x.breakpoints.keys[0]):[]]};return _s(U,H=>bs(i,H),{})};function u(v,x,k=()=>!0){const R={};return v===null||(Array.isArray(v)?v.forEach((A,O)=>{A!==null&&k(A)&&x.keys[O]&&(R[x.keys[O]]=A)}):typeof v=="object"?Object.keys(v).forEach(A=>{const O=v[A];O!=null&&k(O)&&(R[A]=O)}):R[x.keys[0]]=v),R}const a=e(Int,Nnt,Rnt,Ant,Lnt,Mnt,knt),g=ht.forwardRef(function(v,x){const k=n(),R=r(v),A=YM(R);Bnt(A,k.breakpoints);const{className:O,children:D,columns:U=12,container:H=!1,component:G="div",direction:z="row",wrap:j="wrap",size:X={},offset:Y={},spacing:rt=0,rowSpacing:st=rt,columnSpacing:it=rt,unstable_level:bt=0,...at}=A,$=u(X,k.breakpoints,Ft=>Ft!==!1),dt=u(Y,k.breakpoints),mt=v.columns??(bt?void 0:U),wt=v.spacing??(bt?void 0:rt),pt=v.rowSpacing??v.spacing??(bt?void 0:st),Ct=v.columnSpacing??v.spacing??(bt?void 0:it),vt={...A,level:bt,columns:mt,container:H,direction:z,wrap:j,spacing:wt,rowSpacing:pt,columnSpacing:Ct,size:$,offset:dt},It=o(vt,k);return yr.jsx(a,{ref:x,as:G,ownerState:vt,className:ca(It.root,O),...at,children:ht.Children.map(D,Ft=>ht.isValidElement(Ft)&&N2(Ft,["Grid"])&&H&&Ft.props.container?ht.cloneElement(Ft,{unstable_level:Ft.props?.unstable_level??bt+1}):Ft)})});return g.muiName="Grid",g}const rw={black:"#000",white:"#fff"},$nt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},db={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},fb={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},k1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},pb={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},mb={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gb={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function zU(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rw.white,default:rw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const FU=zU();function jU(){return{text:{primary:rw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const WN=jU();function a6(t,e,r,n){const i=n.light||n,o=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=PC(t.main,i):e==="dark"&&(t.dark=MC(t.main,o)))}function o6(t,e,r,n,i){const o=i.light||i,u=i.dark||i*1.5;e[r]||(e.hasOwnProperty(n)?e[r]=e[n]:r==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:r==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function Unt(t="light"){return t==="dark"?{main:pb[200],light:pb[50],dark:pb[400]}:{main:pb[700],light:pb[400],dark:pb[800]}}function qnt(t="light"){return t==="dark"?{main:db[200],light:db[50],dark:db[400]}:{main:db[500],light:db[300],dark:db[700]}}function Gnt(t="light"){return t==="dark"?{main:fb[500],light:fb[300],dark:fb[700]}:{main:fb[700],light:fb[400],dark:fb[800]}}function Hnt(t="light"){return t==="dark"?{main:mb[400],light:mb[300],dark:mb[700]}:{main:mb[700],light:mb[500],dark:mb[900]}}function Xnt(t="light"){return t==="dark"?{main:gb[400],light:gb[300],dark:gb[700]}:{main:gb[800],light:gb[500],dark:gb[900]}}function Wnt(t="light"){return t==="dark"?{main:k1[400],light:k1[300],dark:k1[700]}:{main:"#ed6c02",light:k1[500],dark:k1[900]}}function Ynt(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function e4(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:i,...o}=t,u=t.primary||Unt(e),a=t.secondary||qnt(e),g=t.error||Gnt(e),v=t.info||Hnt(e),x=t.success||Xnt(e),k=t.warning||Wnt(e);function R(D){return i?Ynt(D):tnt(D,WN.text.primary)>=r?WN.text.primary:FU.text.primary}const A=({color:D,name:U,mainShade:H=500,lightShade:G=300,darkShade:z=700})=>{if(D={...D},!D.main&&D[H]&&(D.main=D[H]),!D.hasOwnProperty("main"))throw new Error(_g(11,U?` (${U})`:"",H));if(typeof D.main!="string")throw new Error(_g(12,U?` (${U})`:"",JSON.stringify(D.main)));return i?(o6(i,D,"light",G,n),o6(i,D,"dark",z,n)):(a6(D,"light",G,n),a6(D,"dark",z,n)),D.contrastText||(D.contrastText=R(D.main)),D};let O;return e==="light"?O=zU():e==="dark"&&(O=jU()),Lh({common:{...rw},mode:e,primary:A({color:u,name:"primary"}),secondary:A({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:g,name:"error"}),warning:A({color:k,name:"warning"}),info:A({color:v,name:"info"}),success:A({color:x,name:"success"}),grey:$nt,contrastThreshold:r,getContrastText:R,augmentColor:A,tonalOffset:n,...O},o)}function Knt(t){const e={};return Object.entries(t).forEach(r=>{const[n,i]=r;typeof i=="object"&&(e[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Znt(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Qnt(t){return Math.round(t*1e5)/1e5}const s6={textTransform:"uppercase"},l6='"Roboto", "Helvetica", "Arial", sans-serif';function VU(t,e){const{fontFamily:r=l6,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:a=700,htmlFontSize:g=16,allVariants:v,pxToRem:x,...k}=typeof e=="function"?e(t):e,R=n/14,A=x||(U=>`${U/g*R}rem`),O=(U,H,G,z,j)=>({fontFamily:r,fontWeight:U,fontSize:A(H),lineHeight:G,...r===l6?{letterSpacing:`${Qnt(z/H)}em`}:{},...j,...v}),D={h1:O(i,96,1.167,-1.5),h2:O(i,60,1.2,-.5),h3:O(o,48,1.167,0),h4:O(o,34,1.235,.25),h5:O(o,24,1.334,0),h6:O(u,20,1.6,.15),subtitle1:O(o,16,1.75,.15),subtitle2:O(u,14,1.57,.1),body1:O(o,16,1.5,.15),body2:O(o,14,1.43,.15),button:O(u,14,1.75,.4,s6),caption:O(o,12,1.66,.4),overline:O(o,12,2.66,1,s6),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lh({htmlFontSize:g,pxToRem:A,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:a,...D},k,{clone:!1})}const Jnt=.2,tit=.14,eit=.12;function iu(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Jnt})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${tit})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${eit})`].join(",")}const rit=["none",iu(0,2,1,-1,0,1,1,0,0,1,3,0),iu(0,3,1,-2,0,2,2,0,0,1,5,0),iu(0,3,3,-2,0,3,4,0,0,1,8,0),iu(0,2,4,-1,0,4,5,0,0,1,10,0),iu(0,3,5,-1,0,5,8,0,0,1,14,0),iu(0,3,5,-1,0,6,10,0,0,1,18,0),iu(0,4,5,-2,0,7,10,1,0,2,16,1),iu(0,5,5,-3,0,8,10,1,0,3,14,2),iu(0,5,6,-3,0,9,12,1,0,3,16,2),iu(0,6,6,-3,0,10,14,1,0,4,18,3),iu(0,6,7,-4,0,11,15,1,0,4,20,3),iu(0,7,8,-4,0,12,17,2,0,5,22,4),iu(0,7,8,-4,0,13,19,2,0,5,24,4),iu(0,7,9,-4,0,14,21,2,0,5,26,4),iu(0,8,9,-5,0,15,22,2,0,6,28,5),iu(0,8,10,-5,0,16,24,2,0,6,30,5),iu(0,8,11,-5,0,17,26,2,0,6,32,5),iu(0,9,11,-5,0,18,28,2,0,7,34,6),iu(0,9,12,-6,0,19,29,2,0,7,36,6),iu(0,10,13,-6,0,20,31,3,0,8,38,7),iu(0,10,13,-6,0,21,33,3,0,8,40,7),iu(0,10,14,-6,0,22,35,3,0,8,42,7),iu(0,11,14,-7,0,23,36,3,0,9,44,8),iu(0,11,15,-7,0,24,38,3,0,9,46,8)],nit={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$U={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u6(t){return`${Math.round(t)}ms`}function iit(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function ait(t){const e={...nit,...t.easing},r={...$U,...t.duration};return{getAutoHeightDuration:iit,create:(n=["all"],i={})=>{const{duration:o=r.standard,easing:u=e.easeInOut,delay:a=0,...g}=i;return(Array.isArray(n)?n:[n]).map(v=>`${v} ${typeof o=="string"?o:u6(o)} ${u} ${typeof a=="string"?a:u6(a)}`).join(",")},...t,easing:e,duration:r}}const oit={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function sit(t){return dm(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function UU(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let o=0;o<i.length;o++){const[u,a]=i[o];!sit(a)||u.startsWith("unstable_")?delete n[u]:dm(a)&&(n[u]={...a},r(n[u]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function c6(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const lit=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let r=0;for(let n=0;n<e.length;n+=1)r+=+e[n];return r};function uit(t){Object.assign(t,{alpha(e,r){const n=this||t;return n.colorSpace?`oklch(from ${e} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:QE(e,lit(r))},lighten(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #fff ${c6(r)})`:PC(e,r)},darken(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #000 ${c6(r)})`:MC(e,r)}})}function YN(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:o={},transitions:u={},typography:a={},shape:g,colorSpace:v,...x}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(_g(20));const k=e4({...o,colorSpace:v}),R=RC(t);let A=Lh(R,{mixins:Znt(R.breakpoints,n),palette:k,shadows:rit.slice(),typography:VU(k,a),transitions:ait(u),zIndex:{...oit}});return A=Lh(A,x),A=e.reduce((O,D)=>Lh(O,D),A),A.unstable_sxConfig={...Bw,...x?.unstable_sxConfig},A.unstable_sx=function(O){return vy({sx:O,theme:this})},A.toRuntimeSource=UU,uit(A),A}function KN(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const cit=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=KN(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function qU(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function GU(t){return t==="dark"?cit:[]}function hit(t){const{palette:e={mode:"light"},opacity:r,overlays:n,colorSpace:i,...o}=t,u=e4({...e,colorSpace:i});return{palette:u,opacity:{...qU(u.mode),...r},overlays:n||GU(u.mode),...o}}function dit(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const fit=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],pit=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return fit(t.cssVarPrefix).forEach(a=>{u[a]=r[a],delete r[a]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:u}}:o?{[o.replace("%s",e)]:u,[`${n}, ${o.replace("%s",e)}`]:r}:{[n]:{...r,...u}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(o)return o.replace("%s",String(e))}return n};function mit(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function nn(t,e,r){!t[e]&&r&&(t[e]=r)}function h2(t){return typeof t!="string"||!t.startsWith("hsl")?t:NU(t)}function rg(t,e){`${e}Channel`in t||(t[`${e}Channel`]=c2(h2(t[e])))}function git(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Qp=t=>{try{return t()}catch{}},yit=(t="mui")=>xnt(t);function Tk(t,e,r,n,i){if(!r)return;r=r===!0?{}:r;const o=i==="dark"?"dark":"light";if(!n){e[i]=hit({...r,palette:{mode:o,...r?.palette},colorSpace:t});return}const{palette:u,...a}=YN({...n,palette:{mode:o,...r?.palette},colorSpace:t});return e[i]={...r,palette:u,opacity:{...qU(o),...r?.opacity},overlays:r?.overlays||GU(o)},a}function vit(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:u=!1,shouldSkipGeneratingVar:a=dit,colorSchemeSelector:g=r.light&&r.dark?"media":void 0,rootSelector:v=":root",...x}=t,k=Object.keys(r)[0],R=n||(r.light&&k!=="light"?"light":k),A=yit(o),{[R]:O,light:D,dark:U,...H}=r,G={...H};let z=O;if((R==="dark"&&!("dark"in r)||R==="light"&&!("light"in r))&&(z=!0),!z)throw new Error(_g(21,R));let j;u&&(j="oklch");const X=Tk(j,G,z,x,R);D&&!G.light&&Tk(j,G,D,void 0,"light"),U&&!G.dark&&Tk(j,G,U,void 0,"dark");let Y={defaultColorScheme:R,...X,cssVarPrefix:o,colorSchemeSelector:g,rootSelector:v,getCssVar:A,colorSchemes:G,font:{...Knt(X.typography),...X.font},spacing:git(x.spacing)};Object.keys(Y.colorSchemes).forEach(at=>{const $=Y.colorSchemes[at].palette,dt=wt=>{const pt=wt.split("-"),Ct=pt[1],vt=pt[2];return A(wt,$[Ct][vt])};$.mode==="light"&&(nn($.common,"background","#fff"),nn($.common,"onBackground","#000")),$.mode==="dark"&&(nn($.common,"background","#000"),nn($.common,"onBackground","#fff"));function mt(wt,pt,Ct){if(j){let vt;return wt===fv&&(vt=`transparent ${((1-Ct)*100).toFixed(0)}%`),wt===Vs&&(vt=`#000 ${(Ct*100).toFixed(0)}%`),wt===$s&&(vt=`#fff ${(Ct*100).toFixed(0)}%`),`color-mix(in ${j}, ${pt}, ${vt})`}return wt(pt,Ct)}if(mit($,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),$.mode==="light"){nn($.Alert,"errorColor",mt(Vs,$.error.light,.6)),nn($.Alert,"infoColor",mt(Vs,$.info.light,.6)),nn($.Alert,"successColor",mt(Vs,$.success.light,.6)),nn($.Alert,"warningColor",mt(Vs,$.warning.light,.6)),nn($.Alert,"errorFilledBg",dt("palette-error-main")),nn($.Alert,"infoFilledBg",dt("palette-info-main")),nn($.Alert,"successFilledBg",dt("palette-success-main")),nn($.Alert,"warningFilledBg",dt("palette-warning-main")),nn($.Alert,"errorFilledColor",Qp(()=>$.getContrastText($.error.main))),nn($.Alert,"infoFilledColor",Qp(()=>$.getContrastText($.info.main))),nn($.Alert,"successFilledColor",Qp(()=>$.getContrastText($.success.main))),nn($.Alert,"warningFilledColor",Qp(()=>$.getContrastText($.warning.main))),nn($.Alert,"errorStandardBg",mt($s,$.error.light,.9)),nn($.Alert,"infoStandardBg",mt($s,$.info.light,.9)),nn($.Alert,"successStandardBg",mt($s,$.success.light,.9)),nn($.Alert,"warningStandardBg",mt($s,$.warning.light,.9)),nn($.Alert,"errorIconColor",dt("palette-error-main")),nn($.Alert,"infoIconColor",dt("palette-info-main")),nn($.Alert,"successIconColor",dt("palette-success-main")),nn($.Alert,"warningIconColor",dt("palette-warning-main")),nn($.AppBar,"defaultBg",dt("palette-grey-100")),nn($.Avatar,"defaultBg",dt("palette-grey-400")),nn($.Button,"inheritContainedBg",dt("palette-grey-300")),nn($.Button,"inheritContainedHoverBg",dt("palette-grey-A100")),nn($.Chip,"defaultBorder",dt("palette-grey-400")),nn($.Chip,"defaultAvatarColor",dt("palette-grey-700")),nn($.Chip,"defaultIconColor",dt("palette-grey-700")),nn($.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),nn($.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),nn($.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),nn($.LinearProgress,"primaryBg",mt($s,$.primary.main,.62)),nn($.LinearProgress,"secondaryBg",mt($s,$.secondary.main,.62)),nn($.LinearProgress,"errorBg",mt($s,$.error.main,.62)),nn($.LinearProgress,"infoBg",mt($s,$.info.main,.62)),nn($.LinearProgress,"successBg",mt($s,$.success.main,.62)),nn($.LinearProgress,"warningBg",mt($s,$.warning.main,.62)),nn($.Skeleton,"bg",j?mt(fv,$.text.primary,.11):`rgba(${dt("palette-text-primaryChannel")} / 0.11)`),nn($.Slider,"primaryTrack",mt($s,$.primary.main,.62)),nn($.Slider,"secondaryTrack",mt($s,$.secondary.main,.62)),nn($.Slider,"errorTrack",mt($s,$.error.main,.62)),nn($.Slider,"infoTrack",mt($s,$.info.main,.62)),nn($.Slider,"successTrack",mt($s,$.success.main,.62)),nn($.Slider,"warningTrack",mt($s,$.warning.main,.62));const wt=j?mt(Vs,$.background.default,.6825):a5($.background.default,.8);nn($.SnackbarContent,"bg",wt),nn($.SnackbarContent,"color",Qp(()=>j?WN.text.primary:$.getContrastText(wt))),nn($.SpeedDialAction,"fabHoverBg",a5($.background.paper,.15)),nn($.StepConnector,"border",dt("palette-grey-400")),nn($.StepContent,"border",dt("palette-grey-400")),nn($.Switch,"defaultColor",dt("palette-common-white")),nn($.Switch,"defaultDisabledColor",dt("palette-grey-100")),nn($.Switch,"primaryDisabledColor",mt($s,$.primary.main,.62)),nn($.Switch,"secondaryDisabledColor",mt($s,$.secondary.main,.62)),nn($.Switch,"errorDisabledColor",mt($s,$.error.main,.62)),nn($.Switch,"infoDisabledColor",mt($s,$.info.main,.62)),nn($.Switch,"successDisabledColor",mt($s,$.success.main,.62)),nn($.Switch,"warningDisabledColor",mt($s,$.warning.main,.62)),nn($.TableCell,"border",mt($s,mt(fv,$.divider,1),.88)),nn($.Tooltip,"bg",mt(fv,$.grey[700],.92))}if($.mode==="dark"){nn($.Alert,"errorColor",mt($s,$.error.light,.6)),nn($.Alert,"infoColor",mt($s,$.info.light,.6)),nn($.Alert,"successColor",mt($s,$.success.light,.6)),nn($.Alert,"warningColor",mt($s,$.warning.light,.6)),nn($.Alert,"errorFilledBg",dt("palette-error-dark")),nn($.Alert,"infoFilledBg",dt("palette-info-dark")),nn($.Alert,"successFilledBg",dt("palette-success-dark")),nn($.Alert,"warningFilledBg",dt("palette-warning-dark")),nn($.Alert,"errorFilledColor",Qp(()=>$.getContrastText($.error.dark))),nn($.Alert,"infoFilledColor",Qp(()=>$.getContrastText($.info.dark))),nn($.Alert,"successFilledColor",Qp(()=>$.getContrastText($.success.dark))),nn($.Alert,"warningFilledColor",Qp(()=>$.getContrastText($.warning.dark))),nn($.Alert,"errorStandardBg",mt(Vs,$.error.light,.9)),nn($.Alert,"infoStandardBg",mt(Vs,$.info.light,.9)),nn($.Alert,"successStandardBg",mt(Vs,$.success.light,.9)),nn($.Alert,"warningStandardBg",mt(Vs,$.warning.light,.9)),nn($.Alert,"errorIconColor",dt("palette-error-main")),nn($.Alert,"infoIconColor",dt("palette-info-main")),nn($.Alert,"successIconColor",dt("palette-success-main")),nn($.Alert,"warningIconColor",dt("palette-warning-main")),nn($.AppBar,"defaultBg",dt("palette-grey-900")),nn($.AppBar,"darkBg",dt("palette-background-paper")),nn($.AppBar,"darkColor",dt("palette-text-primary")),nn($.Avatar,"defaultBg",dt("palette-grey-600")),nn($.Button,"inheritContainedBg",dt("palette-grey-800")),nn($.Button,"inheritContainedHoverBg",dt("palette-grey-700")),nn($.Chip,"defaultBorder",dt("palette-grey-700")),nn($.Chip,"defaultAvatarColor",dt("palette-grey-300")),nn($.Chip,"defaultIconColor",dt("palette-grey-300")),nn($.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),nn($.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),nn($.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),nn($.LinearProgress,"primaryBg",mt(Vs,$.primary.main,.5)),nn($.LinearProgress,"secondaryBg",mt(Vs,$.secondary.main,.5)),nn($.LinearProgress,"errorBg",mt(Vs,$.error.main,.5)),nn($.LinearProgress,"infoBg",mt(Vs,$.info.main,.5)),nn($.LinearProgress,"successBg",mt(Vs,$.success.main,.5)),nn($.LinearProgress,"warningBg",mt(Vs,$.warning.main,.5)),nn($.Skeleton,"bg",j?mt(fv,$.text.primary,.13):`rgba(${dt("palette-text-primaryChannel")} / 0.13)`),nn($.Slider,"primaryTrack",mt(Vs,$.primary.main,.5)),nn($.Slider,"secondaryTrack",mt(Vs,$.secondary.main,.5)),nn($.Slider,"errorTrack",mt(Vs,$.error.main,.5)),nn($.Slider,"infoTrack",mt(Vs,$.info.main,.5)),nn($.Slider,"successTrack",mt(Vs,$.success.main,.5)),nn($.Slider,"warningTrack",mt(Vs,$.warning.main,.5));const wt=j?mt($s,$.background.default,.985):a5($.background.default,.98);nn($.SnackbarContent,"bg",wt),nn($.SnackbarContent,"color",Qp(()=>j?FU.text.primary:$.getContrastText(wt))),nn($.SpeedDialAction,"fabHoverBg",a5($.background.paper,.15)),nn($.StepConnector,"border",dt("palette-grey-600")),nn($.StepContent,"border",dt("palette-grey-600")),nn($.Switch,"defaultColor",dt("palette-grey-300")),nn($.Switch,"defaultDisabledColor",dt("palette-grey-600")),nn($.Switch,"primaryDisabledColor",mt(Vs,$.primary.main,.55)),nn($.Switch,"secondaryDisabledColor",mt(Vs,$.secondary.main,.55)),nn($.Switch,"errorDisabledColor",mt(Vs,$.error.main,.55)),nn($.Switch,"infoDisabledColor",mt(Vs,$.info.main,.55)),nn($.Switch,"successDisabledColor",mt(Vs,$.success.main,.55)),nn($.Switch,"warningDisabledColor",mt(Vs,$.warning.main,.55)),nn($.TableCell,"border",mt(Vs,mt(fv,$.divider,1),.68)),nn($.Tooltip,"bg",mt(fv,$.grey[700],.92))}rg($.background,"default"),rg($.background,"paper"),rg($.common,"background"),rg($.common,"onBackground"),rg($,"divider"),Object.keys($).forEach(wt=>{const pt=$[wt];wt!=="tonalOffset"&&pt&&typeof pt=="object"&&(pt.main&&nn($[wt],"mainChannel",c2(h2(pt.main))),pt.light&&nn($[wt],"lightChannel",c2(h2(pt.light))),pt.dark&&nn($[wt],"darkChannel",c2(h2(pt.dark))),pt.contrastText&&nn($[wt],"contrastTextChannel",c2(h2(pt.contrastText))),wt==="text"&&(rg($[wt],"primary"),rg($[wt],"secondary")),wt==="action"&&(pt.active&&rg($[wt],"active"),pt.selected&&rg($[wt],"selected")))})}),Y=e.reduce((at,$)=>Lh(at,$),Y);const rt={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:pit(Y),enableContrastVars:u},{vars:st,generateThemeVars:it,generateStyleSheets:bt}=Ent(Y,rt);return Y.vars=st,Object.entries(Y.colorSchemes[Y.defaultColorScheme]).forEach(([at,$])=>{Y[at]=$}),Y.generateThemeVars=it,Y.generateStyleSheets=bt,Y.generateSpacing=function(){return xU(x.spacing,XM(this))},Y.getColorSchemeSelector=Tnt(g),Y.spacing=Y.generateSpacing(),Y.shouldSkipGeneratingVar=a,Y.unstable_sxConfig={...Bw,...x?.unstable_sxConfig},Y.unstable_sx=function(at){return vy({sx:at,theme:this})},Y.toRuntimeSource=UU,Y}function h6(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:e4({...r===!0?{}:r.palette,mode:e})})}function px(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r?.mode,...u}=t,a=o||"light",g=i?.[a],v={...i,...r?{[a]:{...typeof g!="boolean"&&g,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return YN(t,...e);let x=r;"palette"in t||v[a]&&(v[a]!==!0?x=v[a].palette:a==="dark"&&(x={mode:"dark"}));const k=YN({...t,palette:x},...e);return k.defaultColorScheme=a,k.colorSchemes=v,k.palette.mode==="light"&&(k.colorSchemes.light={...v.light!==!0&&v.light,palette:k.palette},h6(k,"dark",v.dark)),k.palette.mode==="dark"&&(k.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:k.palette},h6(k,"light",v.light)),k}return!r&&!("light"in v)&&a==="light"&&(v.light=!0),vit({...u,colorSchemes:v,defaultColorScheme:a,...typeof n!="boolean"&&n},...e)}const r4=px();function Fw(){const t=zw(r4);return t[yp]||t}function BC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const rc=t=>BC(t)&&t!=="classes",qr=AU({themeId:yp,defaultTheme:r4,rootShouldForwardProp:rc});function bit({theme:t,...e}){const r=yp in t?t[yp]:void 0;return yr.jsx(DU,{...e,themeId:r?yp:void 0,theme:r||t})}const o5={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:_it}=_nt({themeId:yp,theme:()=>px({cssVariables:!0}),colorSchemeStorageKey:o5.colorSchemeStorageKey,modeStorageKey:o5.modeStorageKey,defaultColorScheme:{light:o5.defaultLightColorScheme,dark:o5.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:VU(t.palette,t.typography)};return e.unstable_sx=function(r){return vy({sx:r,theme:this})},e}}),xit=_it;function wit({theme:t,...e}){const r=ht.useMemo(()=>{if(typeof t=="function")return t;const n=yp in t?t[yp]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?yr.jsx(bit,{theme:r,...e}):yr.jsx(xit,{theme:t,...e})}const Sit=px({palette:{mode:"light"}});px({palette:{mode:"dark"}});const Eit=t=>({...Sit,palette:{mode:t,primary:{main:"#009EE0"},secondary:{main:"#747577"},text:{primary:"#000",contrast:"#fff"},topToolbar:{barColor:"#fff"},navigation:{buttonColor:"#747577",navColor:"#fff",navHover:"#f5f5f5"},GPS:{GPSActiveColor:"#009EE0",GPSInactiveColor:"#747577",GPSActiveBackgroundColor:"#fff"},compass:{compColor:"#fff",compHover:"#f5f5f5",compStroke:"#009ee0",compNorth:"#cf003f",compSouth:"#d3dcf0"}}}),Tit=t=>{const e=Eit(["light","dark"].includes(t)?t:"light");return px(e,{components:{MuiTypography:{styleOverrides:{root:{}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:e.palette.topToolbar.barColor}}},MuiButton:{variants:[{props:{variant:"navtools"},style:{minWidth:"20px",minHeight:"20px",fontWeight:600,[e.breakpoints.down("md")]:{width:"50px",height:"50px",fontSize:"1.4em"},[e.breakpoints.up("md")]:{width:"30px",height:"30px",fontSize:"1.2em"},color:e.palette.text.primary,backgroundColor:e.palette.navigation.navColor,borderRadius:"23%",margin:"0.15px",marginTop:"4px",":hover":{backgroundColor:e.palette.navigation.navHover}}}]},MuiListItemText:{styleOverrides:{primary:({ownerState:r})=>r?.variant==="layerlist"?{fontSize:"0.9rem"}:{},secondary:({ownerState:r})=>r?.variant==="layerlist"?{fontSize:"0.7rem"}:{}}}}})},Cit={sourceOptions_tiles:["https://wms.wheregroup.com/tileserver/tile/world-0-14/{z}/{x}/{y}.pbf"]},ah=[];for(let t=0;t<256;++t)ah.push((t+256).toString(16).slice(1));function Ait(t,e=0){return(ah[t[e+0]]+ah[t[e+1]]+ah[t[e+2]]+ah[t[e+3]]+"-"+ah[t[e+4]]+ah[t[e+5]]+"-"+ah[t[e+6]]+ah[t[e+7]]+"-"+ah[t[e+8]]+ah[t[e+9]]+"-"+ah[t[e+10]]+ah[t[e+11]]+ah[t[e+12]]+ah[t[e+13]]+ah[t[e+14]]+ah[t[e+15]]).toLowerCase()}let Ck;const kit=new Uint8Array(16);function Iit(){if(!Ck){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ck=crypto.getRandomValues.bind(crypto)}return Ck(kit)}const Rit=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d6={randomUUID:Rit};function n4(t,e,r){if(d6.randomUUID&&!t)return d6.randomUUID();t=t||{};const n=t.random??t.rng?.()??Iit();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ait(n)}const Nit=we.createContext({});function Lit(t){const[e,r]=we.useState([]),[n,i]=we.useState([]),[o,u]=we.useState([]),[a,g]=we.useState(Cit.sourceOptions_tiles[0]),v=ht.useMemo(()=>({layerId:"openmaptiles",sourceOptions:{type:"vector",tiles:[a]}}),[a]),x=D=>{if(!D)return;const U=[],H=[];D.layers.forEach((G,z)=>{G.type==="symbol"?H.push(G):(z===0&&(G.id=D.name||"background"),U.push(G))}),i(U),u(H)};ht.useEffect(()=>{if(e.filter(D=>!D?.id).length){const D=[...e];D.forEach(U=>{U?.id||(U.id=n4())}),r(D)}},[e]);const k=ht.useCallback((D,U)=>{const H=e?.filter?.(G=>G.id===D);if(H.length>0){const G=[...e],z=H[0],j=e.indexOf(z),X=U(j);X>=0&&X<=e.length-1&&(G.splice(j,1),G.splice(X,0,z),r(G))}},[e]),R=ht.useCallback(D=>{k(D,U=>U+1)},[k]),A=ht.useCallback(D=>{k(D,U=>U-1)},[k]),O={layers:e,setLayers:r,backgroundLayers:n,setBackgroundLayers:i,symbolLayers:o,setSymbolLayers:u,updateStyle:x,vtLayerConfig:v,tileUrl:a,setTileUrl:g,moveUp:A,moveDown:R,moveLayer:k};return yr.jsx(Nit.Provider,{value:O,children:t.children})}const zC=we.createContext({}),Mit=({children:t})=>{const[e,r]=ht.useState(void 0),[n,i]=ht.useState([]),o=ht.useRef([]),u=ht.useRef({}),a=v=>{if(v){typeof u.current[v]<"u"&&delete u.current[v];const x=o.current.indexOf(v);x>-1&&o.current.splice(x,1),i([...o.current]),o.current.length===0&&e&&r(void 0)}else a("anonymous_map")},g={map:e,setMap:v=>{if(r(v),n.length===0){const x="anonymous_map";i([...n,x]),u.current[x]=v}},maps:u.current,mapIds:n,registerMap:(v,x)=>{v&&x&&(u.current[v]=x,o.current.push(v),i([...o.current]),(!e||e?.cancelled===!0)&&r(x))},removeMap:a,mapExists:v=>v&&Object.keys(u.current).indexOf(v)===-1?!1:!(!v&&!e),getMap:v=>v&&n.indexOf(v)!==-1?u.current[v]:!v&&e?e:null};return yr.jsx(zC.Provider,{value:g,children:yr.jsx(Lit,{children:yr.jsx(wit,{theme:Tit("light"),children:t})})})},HU={mapId:void 0,options:{center:{lng:8.607,lat:53.1409349},zoom:11,container:"",style:{version:8,name:"blank",center:[0,0],zoom:0,sources:{},sprite:"https://wms.wheregroup.com/tileserver/sprites/osm-bright",glyphs:"https://wms.wheregroup.com/tileserver/fonts/{fontstack}/{range}.pbf",layers:[{id:"_background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]}}},XU=t=>{const e=ht.useRef(null),r=ht.useRef(null),n=ht.useContext(zC),i=ht.useRef(t.mapId),o=ht.useRef(!1),u=ht.useRef(t.options?.style);return ht.useEffect(()=>{const a=i.current;return()=>{o.current=!1,n.removeMap(a),e.current&&(e.current.map?.remove?.(),e.current.cancelled=!0,e.current=null)}},[]),ht.useEffect(()=>{o.current||r.current&&(o.current=!0,t?.options?.style&&(u.current=JSON.stringify(t.options.style)),e.current=new Itt({mapOptions:{style:"",...t.options,...t?.options?.style?{}:{style:HU?.options?.style},container:r.current},onReady:(a,g)=>{a.once("load",()=>{g?.cancelled?a.remove():(window._map=a,t.mapId?n.registerMap(t.mapId,g):n.setMap(g))})}}))},[t.options,t.mapId]),ht.useEffect(()=>{if(e.current?.map&&t?.options?.style){const a=JSON.stringify(t.options.style);u.current!==a&&(u.current=a,e.current.map.setStyle(t.options.style))}},[t?.options?.style]),yr.jsx("div",{ref:r,className:"mapContainer",style:t.style})};XU.defaultProps=HU;function WU(t){const e=ht.useContext(zC),r=ht.useRef(!1),n=ht.useRef(null),[i,o]=ht.useState(),u=ht.useRef(void 0),[a,g]=ht.useState([]),v=ht.useRef(""),x=ht.useRef(n4()),k=ht.useCallback(A=>!t?.filter?.includeBaseLayers&&A?.baseLayer?!1:typeof t.filter?.matchLayerIds<"u"?t.filter.matchLayerIds instanceof RegExp?t.filter.matchLayerIds.test(A.id):A.id.includes(t.filter.matchLayerIds):!0,[t.filter]),R=ht.useCallback(()=>{if(!n.current)return;const A=n.current.wrapper.layerState.filter(k),O=JSON.stringify(A);v.current!==O&&(v.current=O,g(A))},[k]);return ht.useEffect(()=>{const A=x.current;return()=>{n.current&&(n.current.cleanup(A),n.current=null),r.current=!1}},[]),ht.useEffect(()=>{if(!(!e.mapExists(t.mapId)||r.current)){if(r.current=!0,n.current=e.getMap(t.mapId),!n.current){r.current=!1;return}t?.watch?.viewport&&(o(n.current.wrapper.viewportState),n.current.wrapper.on("viewportchange",()=>{u.current!==n.current?.wrapper.viewportStateString&&o(n.current?.wrapper.viewportState)},x.current)),t?.watch?.layers&&(R(),n.current.wrapper.on("layerchange",R,{includeBaseLayers:t?.filter?.includeBaseLayers,matchLayerIds:t?.filter?.matchLayerIds},x.current))}},[e.mapIds,e,t.mapId,R,t]),{layers:a,viewport:i}}WU.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}};function i4(t){const e=ht.useContext(zC),[r,n]=ht.useState({map:void 0,ready:!1}),i=WU({mapId:t?.mapId,watch:{viewport:!1,layers:!!t?.waitForLayer,sources:!1},filter:{includeBaseLayers:!0}}),o=ht.useRef(null),u=ht.useRef(n4()),a=()=>{o.current&&o.current.cleanup(u.current)};return ht.useEffect(()=>()=>{a(),o.current=null},[]),ht.useEffect(()=>{if(o.current&&o.current.cancelled===!0&&(o.current=null,n({map:void 0,ready:!1})),!(o.current||!e.mapExists(t?.mapId))){if(t?.waitForLayer){let g=!1;if(i?.layers?.forEach(v=>{v.id===t?.waitForLayer&&(g=!0)}),!g)return}o.current=e.getMap(t?.mapId),n({map:o.current,ready:!0})}},[e.mapIds,i.layers,e,t]),{map:r.map,mapIsReady:r.ready,componentId:u.current,layers:i.layers,cleanup:a}}function f6(...t){return t.reduce((e,r)=>r==null?e:function(...n){e.apply(this,n),r.apply(this,n)},()=>{})}function Pit(t){return yr.jsx(wU,{...t,defaultTheme:r4,themeId:yp})}function Oit(t){return function(e){return yr.jsx(Pit,{styles:typeof t=="function"?r=>t({theme:r,...e}):t})}}function Dit(){return YM}const di=dnt;function Ys(t){return lnt(t)}function Bit(t){return bs("MuiSvgIcon",t)}Ei("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zit=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Qn(e)}`,`fontSize${Qn(r)}`]};return _s(i,Bit,n)},Fit=qr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Qn(r.color)}`],e[`fontSize${Qn(r.fontSize)}`]]}})(di(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),ZN=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:u="svg",fontSize:a="medium",htmlColor:g,inheritViewBox:v=!1,titleAccess:x,viewBox:k="0 0 24 24",...R}=r,A=ht.isValidElement(n)&&n.type==="svg",O={...r,color:o,component:u,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:v,viewBox:k,hasSvgAsChild:A},D={};v||(D.viewBox=k);const U=zit(O);return yr.jsxs(Fit,{as:u,className:ca(U.root,i),focusable:"false",color:g,"aria-hidden":x?void 0:!0,role:x?"img":void 0,ref:e,...D,...R,...A&&n.props,ownerState:O,children:[A?n.props.children:n,x?yr.jsx("title",{children:x}):null]})});ZN.muiName="SvgIcon";function ba(t,e){function r(n,i){return yr.jsx(ZN,{"data-testid":void 0,ref:i,...n,children:t})}return r.muiName=ZN.muiName,ht.memo(ht.forwardRef(r))}function YU(t,e=166){let r;function n(...i){const o=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(o,e)}return n.clear=()=>{clearTimeout(r)},n}function tf(t){return t&&t.ownerDocument||document}function wg(t){return tf(t).defaultView||window}function p6(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function QN(t){const{controlled:e,default:r,name:n,state:i="value"}=t,{current:o}=ht.useRef(e!==void 0),[u,a]=ht.useState(r),g=o?e:u,v=ht.useCallback(x=>{o||a(x)},[]);return[g,v]}function $v(t){const e=ht.useRef(t);return Mf(()=>{e.current=t}),ht.useRef((...r)=>(0,e.current)(...r)).current}function Uc(...t){const e=ht.useRef(void 0),r=ht.useCallback(n=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,a=u(n);return typeof a=="function"?a:()=>{u(null)}}return o.current=n,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},t);return ht.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}function jit(t,e){const r=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&r>=65&&r<=90&&typeof e=="function"}function KU(t,e){if(!t)return e;function r(u,a){const g={};return Object.keys(a).forEach(v=>{jit(v,a[v])&&typeof u[v]=="function"&&(g[v]=(...x)=>{u[v](...x),a[v](...x)})}),g}if(typeof t=="function"||typeof e=="function")return u=>{const a=typeof e=="function"?e(u):e,g=typeof t=="function"?t({...u,...a}):t,v=ca(u?.className,a?.className,g?.className),x=r(g,a);return{...a,...g,...x,...!!v&&{className:v},...a?.style&&g?.style&&{style:{...a.style,...g.style}},...a?.sx&&g?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(g.sx)?g.sx:[g.sx]]}}};const n=e,i=r(t,n),o=ca(n?.className,t?.className);return{...e,...t,...i,...!!o&&{className:o},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function a4(t,e){return()=>null}function ZU(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},JN(t,e)}function QU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,JN(t,e)}const m6={disabled:!1},eT=we.createContext(null);var Vit=function(t){return t.scrollTop},d2="unmounted",Cv="exited",Av="entering",Db="entered",tL="exiting",Cp=(function(t){QU(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var u=i,a=u&&!u.isMounting?n.enter:n.appear,g;return o.appearStatus=null,n.in?a?(g=Cv,o.appearStatus=Av):g=Db:n.unmountOnExit||n.mountOnEnter?g=d2:g=Cv,o.state={status:g},o.nextCallback=null,o}e.getDerivedStateFromProps=function(n,i){var o=n.in;return o&&i.status===d2?{status:Cv}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(n){var i=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==Av&&o!==Db&&(i=Av):(o===Av||o===Db)&&(i=tL)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var n=this.props.timeout,i,o,u;return i=o=u=n,n!=null&&typeof n!="number"&&(i=n.exit,o=n.enter,u=n.appear!==void 0?n.appear:o),{exit:i,enter:o,appear:u}},r.updateStatus=function(n,i){if(n===void 0&&(n=!1),i!==null)if(this.cancelNextCallback(),i===Av){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:fy.findDOMNode(this);o&&Vit(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cv&&this.setState({status:d2})},r.performEnter=function(n){var i=this,o=this.props.enter,u=this.context?this.context.isMounting:n,a=this.props.nodeRef?[u]:[fy.findDOMNode(this),u],g=a[0],v=a[1],x=this.getTimeouts(),k=u?x.appear:x.enter;if(!n&&!o||m6.disabled){this.safeSetState({status:Db},function(){i.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:Av},function(){i.props.onEntering(g,v),i.onTransitionEnd(k,function(){i.safeSetState({status:Db},function(){i.props.onEntered(g,v)})})})},r.performExit=function(){var n=this,i=this.props.exit,o=this.getTimeouts(),u=this.props.nodeRef?void 0:fy.findDOMNode(this);if(!i||m6.disabled){this.safeSetState({status:Cv},function(){n.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:tL},function(){n.props.onExiting(u),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:Cv},function(){n.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(n,i){i=this.setNextCallback(i),this.setState(n,i)},r.setNextCallback=function(n){var i=this,o=!0;return this.nextCallback=function(u){o&&(o=!1,i.nextCallback=null,n(u))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(n,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:fy.findDOMNode(this),u=n==null&&!this.props.addEndListener;if(!o||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],g=a[0],v=a[1];this.props.addEndListener(g,v)}n!=null&&setTimeout(this.nextCallback,n)},r.render=function(){var n=this.state.status;if(n===d2)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=ZU(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement(eT.Provider,{value:null},typeof o=="function"?o(n,u):we.cloneElement(we.Children.only(o),u))},e})(we.Component);Cp.contextType=eT;Cp.propTypes={};function yb(){}Cp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yb,onEntering:yb,onEntered:yb,onExit:yb,onExiting:yb,onExited:yb};Cp.UNMOUNTED=d2;Cp.EXITED=Cv;Cp.ENTERING=Av;Cp.ENTERED=Db;Cp.EXITING=tL;function $it(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o4(t,e){var r=function(i){return e&&ht.isValidElement(i)?e(i):i},n=Object.create(null);return t&&ht.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Uit(t,e){t=t||{},e=e||{};function r(x){return x in e?e[x]:t[x]}var n=Object.create(null),i=[];for(var o in t)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var u,a={};for(var g in e){if(n[g])for(u=0;u<n[g].length;u++){var v=n[g][u];a[n[g][u]]=r(v)}a[g]=r(g)}for(u=0;u<i.length;u++)a[i[u]]=r(i[u]);return a}function Ov(t,e,r){return r[e]!=null?r[e]:t.props[e]}function qit(t,e){return o4(t.children,function(r){return ht.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Ov(r,"appear",t),enter:Ov(r,"enter",t),exit:Ov(r,"exit",t)})})}function Git(t,e,r){var n=o4(t.children),i=Uit(e,n);return Object.keys(i).forEach(function(o){var u=i[o];if(ht.isValidElement(u)){var a=o in e,g=o in n,v=e[o],x=ht.isValidElement(v)&&!v.props.in;g&&(!a||x)?i[o]=ht.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:Ov(u,"exit",t),enter:Ov(u,"enter",t)}):!g&&a&&!x?i[o]=ht.cloneElement(u,{in:!1}):g&&a&&ht.isValidElement(v)&&(i[o]=ht.cloneElement(u,{onExited:r.bind(null,u),in:v.props.in,exit:Ov(u,"exit",t),enter:Ov(u,"enter",t)}))}}),i}var Hit=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Xit={component:"div",childFactory:function(t){return t}},s4=(function(t){QU(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var u=o.handleExited.bind($it(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(n,i){var o=i.children,u=i.handleExited,a=i.firstRender;return{children:a?qit(n,u):Git(n,o,u),firstRender:!1}},r.handleExited=function(n,i){var o=o4(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(i),this.mounted&&this.setState(function(u){var a=YE({},u.children);return delete a[n.key],{children:a}}))},r.render=function(){var n=this.props,i=n.component,o=n.childFactory,u=ZU(n,["component","childFactory"]),a=this.state.contextValue,g=Hit(this.state.children).map(o);return delete u.appear,delete u.enter,delete u.exit,i===null?we.createElement(eT.Provider,{value:a},g):we.createElement(eT.Provider,{value:a},we.createElement(i,u,g))},e})(we.Component);s4.propTypes={};s4.defaultProps=Xit;const g6={};function JU(t,e){const r=ht.useRef(g6);return r.current===g6&&(r.current=t(e)),r}const Wit=[];function Yit(t){ht.useEffect(t,Wit)}class l4{static create(){return new l4}currentId=null;start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function u4(){const t=JU(l4.create).current;return Yit(t.disposeEffect),t}a4(Fn.elementType);const tq=t=>t.scrollTop;function U_(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function Kit(t){return bs("MuiCollapse",t)}Ei("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Zit=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return _s(n,Kit,r)},Qit=qr("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(di(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Jit=qr("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),tat=qr("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),y6=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiCollapse"}),{addEndListener:n,children:i,className:o,collapsedSize:u="0px",component:a,easing:g,in:v,onEnter:x,onEntered:k,onEntering:R,onExit:A,onExited:O,onExiting:D,orientation:U="vertical",style:H,timeout:G=$U.standard,TransitionComponent:z=Cp,...j}=r,X={...r,orientation:U,collapsedSize:u},Y=Zit(X),rt=Fw(),st=u4(),it=ht.useRef(null),bt=ht.useRef(),at=typeof u=="number"?`${u}px`:u,$=U==="horizontal",dt=$?"width":"height",mt=ht.useRef(null),wt=Uc(e,mt),pt=Nt=>qt=>{if(Nt){const ie=mt.current;qt===void 0?Nt(ie):Nt(ie,qt)}},Ct=()=>it.current?it.current[$?"clientWidth":"clientHeight"]:0,vt=pt((Nt,qt)=>{it.current&&$&&(it.current.style.position="absolute"),Nt.style[dt]=at,x&&x(Nt,qt)}),It=pt((Nt,qt)=>{const ie=Ct();it.current&&$&&(it.current.style.position="");const{duration:Ht,easing:ce}=U_({style:H,timeout:G,easing:g},{mode:"enter"});if(G==="auto"){const de=rt.transitions.getAutoHeightDuration(ie);Nt.style.transitionDuration=`${de}ms`,bt.current=de}else Nt.style.transitionDuration=typeof Ht=="string"?Ht:`${Ht}ms`;Nt.style[dt]=`${ie}px`,Nt.style.transitionTimingFunction=ce,R&&R(Nt,qt)}),Ft=pt((Nt,qt)=>{Nt.style[dt]="auto",k&&k(Nt,qt)}),Et=pt(Nt=>{Nt.style[dt]=`${Ct()}px`,A&&A(Nt)}),lt=pt(O),kt=pt(Nt=>{const qt=Ct(),{duration:ie,easing:Ht}=U_({style:H,timeout:G,easing:g},{mode:"exit"});if(G==="auto"){const ce=rt.transitions.getAutoHeightDuration(qt);Nt.style.transitionDuration=`${ce}ms`,bt.current=ce}else Nt.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;Nt.style[dt]=at,Nt.style.transitionTimingFunction=Ht,D&&D(Nt)}),At=Nt=>{G==="auto"&&st.start(bt.current||0,Nt),n&&n(mt.current,Nt)};return yr.jsx(z,{in:v,onEnter:vt,onEntered:Ft,onEntering:It,onExit:Et,onExited:lt,onExiting:kt,addEndListener:At,nodeRef:mt,timeout:G==="auto"?null:G,...j,children:(Nt,{ownerState:qt,...ie})=>yr.jsx(Qit,{as:a,className:ca(Y.root,o,{entered:Y.entered,exited:!v&&at==="0px"&&Y.hidden}[Nt]),style:{[$?"minWidth":"minHeight"]:at,...H},ref:wt,ownerState:{...X,state:Nt},...ie,children:yr.jsx(Jit,{ownerState:{...X,state:Nt},className:Y.wrapper,ref:it,children:yr.jsx(tat,{ownerState:{...X,state:Nt},className:Y.wrapperInner,children:i})})})})});y6&&(y6.muiSupportAuto=!0);function v6(){return null}v6.isRequired=v6;function eat(t){return bs("MuiPaper",t)}Ei("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const rat=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return _s(o,eat,i)},nat=qr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(di(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ly=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiPaper"}),n=Fw(),{className:i,component:o="div",elevation:u=1,square:a=!1,variant:g="elevation",...v}=r,x={...r,component:o,elevation:u,square:a,variant:g},k=rat(x);return yr.jsx(nat,{as:o,ownerState:x,className:ca(k.root,i),ref:e,...v,style:{...g==="elevation"&&{"--Paper-shadow":(n.vars||n).shadows[u],...n.vars&&{"--Paper-overlay":n.vars.overlays?.[u]},...!n.vars&&n.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${QE("#fff",KN(u))}, ${QE("#fff",KN(u))})`}},...v.style}})});function q_(t){return typeof t=="string"}function eq(t,e,r){return t===void 0||q_(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function rq(t,e,r){return typeof t=="function"?t(e,r):t}function nq(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function b6(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function iq(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=t;if(!e){const A=ca(r?.className,o,i?.className,n?.className),O={...r?.style,...i?.style,...n?.style},D={...r,...i,...n};return A.length>0&&(D.className=A),Object.keys(O).length>0&&(D.style=O),{props:D,internalRef:void 0}}const u=nq({...i,...n}),a=b6(n),g=b6(i),v=e(u),x=ca(v?.className,r?.className,o,i?.className,n?.className),k={...v?.style,...r?.style,...i?.style,...n?.style},R={...v,...r,...g,...a};return x.length>0&&(R.className=x),Object.keys(k).length>0&&(R.style=k),{props:R,internalRef:v.ref}}function Qd(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:a=!1,...g}=e,{component:v,slots:x={[t]:void 0},slotProps:k={[t]:void 0},...R}=o,A=x[t]||n,O=rq(k[t],i),{props:{component:D,...U},internalRef:H}=iq({className:r,...g,externalForwardedProps:t==="root"?R:void 0,externalSlotProps:O}),G=Uc(H,O?.ref,e.ref),z=t==="root"?D||v:D,j=eq(A,{...t==="root"&&!v&&!x[t]&&u,...t!=="root"&&!x[t]&&u,...U,...z&&!a&&{as:z},...z&&a&&{component:z},ref:G},i);return[A,j]}const s5=Ei("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]);qr(Ly,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${s5.region}`]:e.region},e.root,!r.square&&e.rounded,!r.disableGutters&&e.gutters]}})(di(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${s5.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${s5.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),di(({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${s5.expanded}`]:{margin:"16px 0"}}}]})));qr("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"});qr("div",{name:"MuiAccordion",slot:"Region"})({});Fn.oneOfType([Fn.func,Fn.object]);function _6(t){try{return t.matches(":focus-visible")}catch{}return!1}class rT{static create(){return new rT}static use(){const e=JU(rT.create).current,[r,n]=ht.useState(!1);return e.shouldMount=r,e.setShouldMount=n,ht.useEffect(e.mountEffect,[r]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=aat(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function iat(){return rT.use()}function aat(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function oat(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:u,in:a,onExited:g,timeout:v}=t,[x,k]=ht.useState(!1),R=ca(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),A={width:u,height:u,top:-(u/2)+o,left:-(u/2)+i},O=ca(r.child,x&&r.childLeaving,n&&r.childPulsate);return!a&&!x&&k(!0),ht.useEffect(()=>{if(!a&&g!=null){const D=setTimeout(g,v);return()=>{clearTimeout(D)}}},[g,a,v]),yr.jsx("span",{className:R,style:A,children:yr.jsx("span",{className:O})})}const yf=Ei("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),eL=550,sat=80,lat=Pw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,uat=Pw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,cat=Pw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,hat=qr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),dat=qr(oat,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${yf.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${lat};
    animation-duration: ${eL}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${yf.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${yf.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${yf.childLeaving} {
    opacity: 0;
    animation-name: ${uat};
    animation-duration: ${eL}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${yf.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${cat};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,fat=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiTouchRipple"}),{center:n=!1,classes:i={},className:o,...u}=r,[a,g]=ht.useState([]),v=ht.useRef(0),x=ht.useRef(null);ht.useEffect(()=>{x.current&&(x.current(),x.current=null)},[a]);const k=ht.useRef(!1),R=u4(),A=ht.useRef(null),O=ht.useRef(null),D=ht.useCallback(z=>{const{pulsate:j,rippleX:X,rippleY:Y,rippleSize:rt,cb:st}=z;g(it=>[...it,yr.jsx(dat,{classes:{ripple:ca(i.ripple,yf.ripple),rippleVisible:ca(i.rippleVisible,yf.rippleVisible),ripplePulsate:ca(i.ripplePulsate,yf.ripplePulsate),child:ca(i.child,yf.child),childLeaving:ca(i.childLeaving,yf.childLeaving),childPulsate:ca(i.childPulsate,yf.childPulsate)},timeout:eL,pulsate:j,rippleX:X,rippleY:Y,rippleSize:rt},v.current)]),v.current+=1,x.current=st},[i]),U=ht.useCallback((z={},j={},X=()=>{})=>{const{pulsate:Y=!1,center:rt=n||j.pulsate,fakeElement:st=!1}=j;if(z?.type==="mousedown"&&k.current){k.current=!1;return}z?.type==="touchstart"&&(k.current=!0);const it=st?null:O.current,bt=it?it.getBoundingClientRect():{width:0,height:0,left:0,top:0};let at,$,dt;if(rt||z===void 0||z.clientX===0&&z.clientY===0||!z.clientX&&!z.touches)at=Math.round(bt.width/2),$=Math.round(bt.height/2);else{const{clientX:mt,clientY:wt}=z.touches&&z.touches.length>0?z.touches[0]:z;at=Math.round(mt-bt.left),$=Math.round(wt-bt.top)}if(rt)dt=Math.sqrt((2*bt.width**2+bt.height**2)/3),dt%2===0&&(dt+=1);else{const mt=Math.max(Math.abs((it?it.clientWidth:0)-at),at)*2+2,wt=Math.max(Math.abs((it?it.clientHeight:0)-$),$)*2+2;dt=Math.sqrt(mt**2+wt**2)}z?.touches?A.current===null&&(A.current=()=>{D({pulsate:Y,rippleX:at,rippleY:$,rippleSize:dt,cb:X})},R.start(sat,()=>{A.current&&(A.current(),A.current=null)})):D({pulsate:Y,rippleX:at,rippleY:$,rippleSize:dt,cb:X})},[n,D,R]),H=ht.useCallback(()=>{U({},{pulsate:!0})},[U]),G=ht.useCallback((z,j)=>{if(R.clear(),z?.type==="touchend"&&A.current){A.current(),A.current=null,R.start(0,()=>{G(z,j)});return}A.current=null,g(X=>X.length>0?X.slice(1):X),x.current=j},[R]);return ht.useImperativeHandle(e,()=>({pulsate:H,start:U,stop:G}),[H,U,G]),yr.jsx(hat,{className:ca(yf.root,i.root,o),ref:O,...u,children:yr.jsx(s4,{component:null,exit:!0,children:a})})});function pat(t){return bs("MuiButtonBase",t)}const mat=Ei("MuiButtonBase",["root","disabled","focusVisible"]),gat=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,o=_s({root:["root",e&&"disabled",r&&"focusVisible"]},pat,i);return r&&n&&(o.root+=` ${n}`),o},yat=qr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mat.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),u0=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiButtonBase"}),{action:n,centerRipple:i=!1,children:o,className:u,component:a="button",disabled:g=!1,disableRipple:v=!1,disableTouchRipple:x=!1,focusRipple:k=!1,focusVisibleClassName:R,LinkComponent:A="a",onBlur:O,onClick:D,onContextMenu:U,onDragLeave:H,onFocus:G,onFocusVisible:z,onKeyDown:j,onKeyUp:X,onMouseDown:Y,onMouseLeave:rt,onMouseUp:st,onTouchEnd:it,onTouchMove:bt,onTouchStart:at,tabIndex:$=0,TouchRippleProps:dt,touchRippleRef:mt,type:wt,...pt}=r,Ct=ht.useRef(null),vt=iat(),It=Uc(vt.ref,mt),[Ft,Et]=ht.useState(!1);g&&Ft&&Et(!1),ht.useImperativeHandle(n,()=>({focusVisible:()=>{Et(!0),Ct.current.focus()}}),[]);const lt=vt.shouldMount&&!v&&!g;ht.useEffect(()=>{Ft&&k&&!v&&vt.pulsate()},[v,k,Ft,vt]);const kt=ng(vt,"start",Y,x),At=ng(vt,"stop",U,x),Nt=ng(vt,"stop",H,x),qt=ng(vt,"stop",st,x),ie=ng(vt,"stop",ir=>{Ft&&ir.preventDefault(),rt&&rt(ir)},x),Ht=ng(vt,"start",at,x),ce=ng(vt,"stop",it,x),de=ng(vt,"stop",bt,x),Se=ng(vt,"stop",ir=>{_6(ir.target)||Et(!1),O&&O(ir)},!1),$t=$v(ir=>{Ct.current||(Ct.current=ir.currentTarget),_6(ir.target)&&(Et(!0),z&&z(ir)),G&&G(ir)}),He=()=>{const ir=Ct.current;return a&&a!=="button"&&!(ir.tagName==="A"&&ir.href)},ke=$v(ir=>{k&&!ir.repeat&&Ft&&ir.key===" "&&vt.stop(ir,()=>{vt.start(ir)}),ir.target===ir.currentTarget&&He()&&ir.key===" "&&ir.preventDefault(),j&&j(ir),ir.target===ir.currentTarget&&He()&&ir.key==="Enter"&&!g&&(ir.preventDefault(),D&&D(ir))}),Jt=$v(ir=>{k&&ir.key===" "&&Ft&&!ir.defaultPrevented&&vt.stop(ir,()=>{vt.pulsate(ir)}),X&&X(ir),D&&ir.target===ir.currentTarget&&He()&&ir.key===" "&&!ir.defaultPrevented&&D(ir)});let Vr=a;Vr==="button"&&(pt.href||pt.to)&&(Vr=A);const vr={};Vr==="button"?(vr.type=wt===void 0?"button":wt,vr.disabled=g):(!pt.href&&!pt.to&&(vr.role="button"),g&&(vr["aria-disabled"]=g));const Dr=Uc(e,Ct),Ie={...r,centerRipple:i,component:a,disabled:g,disableRipple:v,disableTouchRipple:x,focusRipple:k,tabIndex:$,focusVisible:Ft},Mr=gat(Ie);return yr.jsxs(yat,{as:Vr,className:ca(Mr.root,u),ownerState:Ie,onBlur:Se,onClick:D,onContextMenu:At,onFocus:$t,onKeyDown:ke,onKeyUp:Jt,onMouseDown:kt,onMouseLeave:ie,onMouseUp:qt,onDragLeave:Nt,onTouchEnd:ce,onTouchMove:de,onTouchStart:Ht,ref:Dr,tabIndex:g?-1:$,type:wt,...vr,...pt,children:[o,lt?yr.jsx(fat,{ref:It,center:i,...dt}):null]})});function ng(t,e,r,n=!1){return $v(i=>(r&&r(i),n||t[e](i),!0))}const g_=Ei("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]);qr(u0,{name:"MuiAccordionSummary",slot:"Root"})(di(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${g_.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${g_.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${g_.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${g_.expanded}`]:{minHeight:64}}}]}}));qr("span",{name:"MuiAccordionSummary",slot:"Content"})(di(({theme:t})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${g_.expanded}`]:{margin:"20px 0"}}}]})));qr("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(di(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${g_.expanded}`]:{transform:"rotate(180deg)"}})));function vat(t){return typeof t.main=="string"}function bat(t,e=[]){if(!vat(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function gc(t=[]){return([,e])=>e&&bat(e,t)}function _at(t){return bs("MuiCircularProgress",t)}Ei("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ny=44,rL=Pw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,nL=Pw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,xat=typeof rL!="string"?qM`
        animation: ${rL} 1.4s linear infinite;
      `:null,wat=typeof nL!="string"?qM`
        animation: ${nL} 1.4s ease-in-out infinite;
      `:null,Sat=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,o={root:["root",r,`color${Qn(n)}`],svg:["svg"],circle:["circle",`circle${Qn(r)}`,i&&"circleDisableShrink"]};return _s(o,_at,e)},Eat=qr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${Qn(r.color)}`]]}})(di(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:xat||{animation:`${rL} 1.4s linear infinite`}},...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Tat=qr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Cat=qr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${Qn(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(di(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:wat||{animation:`${nL} 1.4s ease-in-out infinite`}}]}))),aq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiCircularProgress"}),{className:n,color:i="primary",disableShrink:o=!1,size:u=40,style:a,thickness:g=3.6,value:v=0,variant:x="indeterminate",...k}=r,R={...r,color:i,disableShrink:o,size:u,thickness:g,value:v,variant:x},A=Sat(R),O={},D={},U={};if(x==="determinate"){const H=2*Math.PI*((ny-g)/2);O.strokeDasharray=H.toFixed(3),U["aria-valuenow"]=Math.round(v),O.strokeDashoffset=`${((100-v)/100*H).toFixed(3)}px`,D.transform="rotate(-90deg)"}return yr.jsx(Eat,{className:ca(A.root,n),style:{width:u,height:u,...D,...a},ownerState:R,ref:e,role:"progressbar",...U,...k,children:yr.jsx(Tat,{className:A.svg,ownerState:R,viewBox:`${ny/2} ${ny/2} ${ny} ${ny}`,children:yr.jsx(Cat,{className:A.circle,style:O,ownerState:R,cx:ny,cy:ny,r:(ny-g)/2,fill:"none",strokeWidth:g})})})});function Aat(t){return bs("MuiIconButton",t)}const x6=Ei("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),kat=t=>{const{classes:e,disabled:r,color:n,edge:i,size:o,loading:u}=t,a={root:["root",u&&"loading",r&&"disabled",n!=="default"&&`color${Qn(n)}`,i&&`edge${Qn(i)}`,`size${Qn(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return _s(a,Aat,e)},Iat=qr(u0,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${Qn(r.color)}`],r.edge&&e[`edge${Qn(r.edge)}`],e[`size${Qn(r.size)}`]]}})(di(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),di(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${x6.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${x6.loading}`]:{color:"transparent"}}))),Rat=qr("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),My=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiIconButton"}),{edge:n=!1,children:i,className:o,color:u="default",disabled:a=!1,disableFocusRipple:g=!1,size:v="medium",id:x,loading:k=null,loadingIndicator:R,...A}=r,O=OC(x),D=R??yr.jsx(aq,{"aria-labelledby":O,color:"inherit",size:16}),U={...r,edge:n,color:u,disabled:a,disableFocusRipple:g,loading:k,loadingIndicator:D,size:v},H=kat(U);return yr.jsxs(Iat,{id:k?O:x,className:ca(H.root,o),centerRipple:!0,focusRipple:!g,disabled:a||k,ref:e,...A,ownerState:U,children:[typeof k=="boolean"&&yr.jsx("span",{className:H.loadingWrapper,style:{display:"contents"},children:yr.jsx(Rat,{className:H.loadingIndicator,ownerState:U,children:k&&D})}),i]})});function Nat(t){return bs("MuiTypography",t)}const w6=Ei("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Lat={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Mat=Dit(),Pat=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:u}=t,a={root:["root",o,t.align!=="inherit"&&`align${Qn(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return _s(a,Nat,u)},Oat=qr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Qn(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(di(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,r])=>e!=="inherit"&&r&&typeof r=="object").map(([e,r])=>({props:{variant:e},style:r})),...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Qn(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),S6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oq=ht.forwardRef(function(t,e){const{color:r,...n}=Ys({props:t,name:"MuiTypography"}),i=!Lat[r],o=Mat({...n,...i&&{color:r}}),{align:u="inherit",className:a,component:g,gutterBottom:v=!1,noWrap:x=!1,paragraph:k=!1,variant:R="body1",variantMapping:A=S6,...O}=o,D={...o,align:u,color:r,className:a,component:g,gutterBottom:v,noWrap:x,paragraph:k,variant:R,variantMapping:A},U=g||(k?"p":A[R]||S6[R])||"span",H=Pat(D);return yr.jsx(Oat,{as:U,ref:e,className:ca(H.root,a),...O,ownerState:D,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...O.style}})});Ei("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const E6=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e;qr(Ly,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Qn(r.position)}`],e[`color${Qn(r.color)}`]]}})(di(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(gc(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?E6(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?E6(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]})));var fd="top",Pf="bottom",Of="right",pd="left",c4="auto",jw=[fd,Pf,Of,pd],G_="start",nw="end",Dat="clippingParents",sq="viewport",I1="popper",Bat="reference",T6=jw.reduce(function(t,e){return t.concat([e+"-"+G_,e+"-"+nw])},[]),lq=[].concat(jw,[c4]).reduce(function(t,e){return t.concat([e,e+"-"+G_,e+"-"+nw])},[]),zat="beforeRead",Fat="read",jat="afterRead",Vat="beforeMain",$at="main",Uat="afterMain",qat="beforeWrite",Gat="write",Hat="afterWrite",Xat=[zat,Fat,jat,Vat,$at,Uat,qat,Gat,Hat];function Mm(t){return t?(t.nodeName||"").toLowerCase():null}function ef(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Zv(t){var e=ef(t).Element;return t instanceof e||t instanceof Element}function kf(t){var e=ef(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function h4(t){if(typeof ShadowRoot>"u")return!1;var e=ef(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Wat(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!kf(o)||!Mm(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(u){var a=i[u];a===!1?o.removeAttribute(u):o.setAttribute(u,a===!0?"":a)}))})}function Yat(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},u=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=u.reduce(function(g,v){return g[v]="",g},{});!kf(i)||!Mm(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(g){i.removeAttribute(g)}))})}}const Kat={name:"applyStyles",enabled:!0,phase:"write",fn:Wat,effect:Yat,requires:["computeStyles"]};function Am(t){return t.split("-")[0]}var Uv=Math.max,nT=Math.min,H_=Math.round;function iL(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function uq(){return!/^((?!chrome|android).)*safari/i.test(iL())}function X_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&kf(t)&&(i=t.offsetWidth>0&&H_(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&H_(n.height)/t.offsetHeight||1);var u=Zv(t)?ef(t):window,a=u.visualViewport,g=!uq()&&r,v=(n.left+(g&&a?a.offsetLeft:0))/i,x=(n.top+(g&&a?a.offsetTop:0))/o,k=n.width/i,R=n.height/o;return{width:k,height:R,top:x,right:v+k,bottom:x+R,left:v,x:v,y:x}}function d4(t){var e=X_(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function cq(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&h4(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Sg(t){return ef(t).getComputedStyle(t)}function Zat(t){return["table","td","th"].indexOf(Mm(t))>=0}function Py(t){return((Zv(t)?t.ownerDocument:t.document)||window.document).documentElement}function FC(t){return Mm(t)==="html"?t:t.assignedSlot||t.parentNode||(h4(t)?t.host:null)||Py(t)}function C6(t){return!kf(t)||Sg(t).position==="fixed"?null:t.offsetParent}function Qat(t){var e=/firefox/i.test(iL()),r=/Trident/i.test(iL());if(r&&kf(t)){var n=Sg(t);if(n.position==="fixed")return null}var i=FC(t);for(h4(i)&&(i=i.host);kf(i)&&["html","body"].indexOf(Mm(i))<0;){var o=Sg(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Vw(t){for(var e=ef(t),r=C6(t);r&&Zat(r)&&Sg(r).position==="static";)r=C6(r);return r&&(Mm(r)==="html"||Mm(r)==="body"&&Sg(r).position==="static")?e:r||Qat(t)||e}function f4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function L2(t,e,r){return Uv(t,nT(e,r))}function Jat(t,e,r){var n=L2(t,e,r);return n>r?r:n}function hq(){return{top:0,right:0,bottom:0,left:0}}function dq(t){return Object.assign({},hq(),t)}function fq(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var tot=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,dq(typeof t!="number"?t:fq(t,jw))};function eot(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,u=r.modifiersData.popperOffsets,a=Am(r.placement),g=f4(a),v=[pd,Of].indexOf(a)>=0,x=v?"height":"width";if(!(!o||!u)){var k=tot(i.padding,r),R=d4(o),A=g==="y"?fd:pd,O=g==="y"?Pf:Of,D=r.rects.reference[x]+r.rects.reference[g]-u[g]-r.rects.popper[x],U=u[g]-r.rects.reference[g],H=Vw(o),G=H?g==="y"?H.clientHeight||0:H.clientWidth||0:0,z=D/2-U/2,j=k[A],X=G-R[x]-k[O],Y=G/2-R[x]/2+z,rt=L2(j,Y,X),st=g;r.modifiersData[n]=(e={},e[st]=rt,e.centerOffset=rt-Y,e)}}function rot(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||cq(e.elements.popper,i)&&(e.elements.arrow=i))}const not={name:"arrow",enabled:!0,phase:"main",fn:eot,effect:rot,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function W_(t){return t.split("-")[1]}var iot={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aot(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:H_(r*i)/i||0,y:H_(n*i)/i||0}}function A6(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,u=t.offsets,a=t.position,g=t.gpuAcceleration,v=t.adaptive,x=t.roundOffsets,k=t.isFixed,R=u.x,A=R===void 0?0:R,O=u.y,D=O===void 0?0:O,U=typeof x=="function"?x({x:A,y:D}):{x:A,y:D};A=U.x,D=U.y;var H=u.hasOwnProperty("x"),G=u.hasOwnProperty("y"),z=pd,j=fd,X=window;if(v){var Y=Vw(r),rt="clientHeight",st="clientWidth";if(Y===ef(r)&&(Y=Py(r),Sg(Y).position!=="static"&&a==="absolute"&&(rt="scrollHeight",st="scrollWidth")),Y=Y,i===fd||(i===pd||i===Of)&&o===nw){j=Pf;var it=k&&Y===X&&X.visualViewport?X.visualViewport.height:Y[rt];D-=it-n.height,D*=g?1:-1}if(i===pd||(i===fd||i===Pf)&&o===nw){z=Of;var bt=k&&Y===X&&X.visualViewport?X.visualViewport.width:Y[st];A-=bt-n.width,A*=g?1:-1}}var at=Object.assign({position:a},v&&iot),$=x===!0?aot({x:A,y:D},ef(r)):{x:A,y:D};if(A=$.x,D=$.y,g){var dt;return Object.assign({},at,(dt={},dt[j]=G?"0":"",dt[z]=H?"0":"",dt.transform=(X.devicePixelRatio||1)<=1?"translate("+A+"px, "+D+"px)":"translate3d("+A+"px, "+D+"px, 0)",dt))}return Object.assign({},at,(e={},e[j]=G?D+"px":"",e[z]=H?A+"px":"",e.transform="",e))}function oot(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,u=o===void 0?!0:o,a=r.roundOffsets,g=a===void 0?!0:a,v={placement:Am(e.placement),variation:W_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,A6(Object.assign({},v,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,A6(Object.assign({},v,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const sot={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oot,data:{}};var l5={passive:!0};function lot(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,u=n.resize,a=u===void 0?!0:u,g=ef(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&v.forEach(function(x){x.addEventListener("scroll",r.update,l5)}),a&&g.addEventListener("resize",r.update,l5),function(){o&&v.forEach(function(x){x.removeEventListener("scroll",r.update,l5)}),a&&g.removeEventListener("resize",r.update,l5)}}const uot={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lot,data:{}};var cot={left:"right",right:"left",bottom:"top",top:"bottom"};function cE(t){return t.replace(/left|right|bottom|top/g,function(e){return cot[e]})}var hot={start:"end",end:"start"};function k6(t){return t.replace(/start|end/g,function(e){return hot[e]})}function p4(t){var e=ef(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function m4(t){return X_(Py(t)).left+p4(t).scrollLeft}function dot(t,e){var r=ef(t),n=Py(t),i=r.visualViewport,o=n.clientWidth,u=n.clientHeight,a=0,g=0;if(i){o=i.width,u=i.height;var v=uq();(v||!v&&e==="fixed")&&(a=i.offsetLeft,g=i.offsetTop)}return{width:o,height:u,x:a+m4(t),y:g}}function fot(t){var e,r=Py(t),n=p4(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Uv(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=Uv(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+m4(t),g=-n.scrollTop;return Sg(i||r).direction==="rtl"&&(a+=Uv(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:u,x:a,y:g}}function g4(t){var e=Sg(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function pq(t){return["html","body","#document"].indexOf(Mm(t))>=0?t.ownerDocument.body:kf(t)&&g4(t)?t:pq(FC(t))}function M2(t,e){var r;e===void 0&&(e=[]);var n=pq(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=ef(n),u=i?[o].concat(o.visualViewport||[],g4(n)?n:[]):n,a=e.concat(u);return i?a:a.concat(M2(FC(u)))}function aL(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pot(t,e){var r=X_(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function I6(t,e,r){return e===sq?aL(dot(t,r)):Zv(e)?pot(e,r):aL(fot(Py(t)))}function mot(t){var e=M2(FC(t)),r=["absolute","fixed"].indexOf(Sg(t).position)>=0,n=r&&kf(t)?Vw(t):t;return Zv(n)?e.filter(function(i){return Zv(i)&&cq(i,n)&&Mm(i)!=="body"}):[]}function got(t,e,r,n){var i=e==="clippingParents"?mot(t):[].concat(e),o=[].concat(i,[r]),u=o[0],a=o.reduce(function(g,v){var x=I6(t,v,n);return g.top=Uv(x.top,g.top),g.right=nT(x.right,g.right),g.bottom=nT(x.bottom,g.bottom),g.left=Uv(x.left,g.left),g},I6(t,u,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function mq(t){var e=t.reference,r=t.element,n=t.placement,i=n?Am(n):null,o=n?W_(n):null,u=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,g;switch(i){case fd:g={x:u,y:e.y-r.height};break;case Pf:g={x:u,y:e.y+e.height};break;case Of:g={x:e.x+e.width,y:a};break;case pd:g={x:e.x-r.width,y:a};break;default:g={x:e.x,y:e.y}}var v=i?f4(i):null;if(v!=null){var x=v==="y"?"height":"width";switch(o){case G_:g[v]=g[v]-(e[x]/2-r[x]/2);break;case nw:g[v]=g[v]+(e[x]/2-r[x]/2);break}}return g}function iw(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,u=o===void 0?t.strategy:o,a=r.boundary,g=a===void 0?Dat:a,v=r.rootBoundary,x=v===void 0?sq:v,k=r.elementContext,R=k===void 0?I1:k,A=r.altBoundary,O=A===void 0?!1:A,D=r.padding,U=D===void 0?0:D,H=dq(typeof U!="number"?U:fq(U,jw)),G=R===I1?Bat:I1,z=t.rects.popper,j=t.elements[O?G:R],X=got(Zv(j)?j:j.contextElement||Py(t.elements.popper),g,x,u),Y=X_(t.elements.reference),rt=mq({reference:Y,element:z,placement:i}),st=aL(Object.assign({},z,rt)),it=R===I1?st:Y,bt={top:X.top-it.top+H.top,bottom:it.bottom-X.bottom+H.bottom,left:X.left-it.left+H.left,right:it.right-X.right+H.right},at=t.modifiersData.offset;if(R===I1&&at){var $=at[i];Object.keys(bt).forEach(function(dt){var mt=[Of,Pf].indexOf(dt)>=0?1:-1,wt=[fd,Pf].indexOf(dt)>=0?"y":"x";bt[dt]+=$[wt]*mt})}return bt}function yot(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,u=r.padding,a=r.flipVariations,g=r.allowedAutoPlacements,v=g===void 0?lq:g,x=W_(n),k=x?a?T6:T6.filter(function(O){return W_(O)===x}):jw,R=k.filter(function(O){return v.indexOf(O)>=0});R.length===0&&(R=k);var A=R.reduce(function(O,D){return O[D]=iw(t,{placement:D,boundary:i,rootBoundary:o,padding:u})[Am(D)],O},{});return Object.keys(A).sort(function(O,D){return A[O]-A[D]})}function vot(t){if(Am(t)===c4)return[];var e=cE(t);return[k6(t),e,k6(e)]}function bot(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,u=r.altAxis,a=u===void 0?!0:u,g=r.fallbackPlacements,v=r.padding,x=r.boundary,k=r.rootBoundary,R=r.altBoundary,A=r.flipVariations,O=A===void 0?!0:A,D=r.allowedAutoPlacements,U=e.options.placement,H=Am(U),G=H===U,z=g||(G||!O?[cE(U)]:vot(U)),j=[U].concat(z).reduce(function(At,Nt){return At.concat(Am(Nt)===c4?yot(e,{placement:Nt,boundary:x,rootBoundary:k,padding:v,flipVariations:O,allowedAutoPlacements:D}):Nt)},[]),X=e.rects.reference,Y=e.rects.popper,rt=new Map,st=!0,it=j[0],bt=0;bt<j.length;bt++){var at=j[bt],$=Am(at),dt=W_(at)===G_,mt=[fd,Pf].indexOf($)>=0,wt=mt?"width":"height",pt=iw(e,{placement:at,boundary:x,rootBoundary:k,altBoundary:R,padding:v}),Ct=mt?dt?Of:pd:dt?Pf:fd;X[wt]>Y[wt]&&(Ct=cE(Ct));var vt=cE(Ct),It=[];if(o&&It.push(pt[$]<=0),a&&It.push(pt[Ct]<=0,pt[vt]<=0),It.every(function(At){return At})){it=at,st=!1;break}rt.set(at,It)}if(st)for(var Ft=O?3:1,Et=function(At){var Nt=j.find(function(qt){var ie=rt.get(qt);if(ie)return ie.slice(0,At).every(function(Ht){return Ht})});if(Nt)return it=Nt,"break"},lt=Ft;lt>0;lt--){var kt=Et(lt);if(kt==="break")break}e.placement!==it&&(e.modifiersData[n]._skip=!0,e.placement=it,e.reset=!0)}}const _ot={name:"flip",enabled:!0,phase:"main",fn:bot,requiresIfExists:["offset"],data:{_skip:!1}};function R6(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function N6(t){return[fd,Of,Pf,pd].some(function(e){return t[e]>=0})}function xot(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,u=iw(e,{elementContext:"reference"}),a=iw(e,{altBoundary:!0}),g=R6(u,n),v=R6(a,i,o),x=N6(g),k=N6(v);e.modifiersData[r]={referenceClippingOffsets:g,popperEscapeOffsets:v,isReferenceHidden:x,hasPopperEscaped:k},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":k})}const wot={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xot};function Sot(t,e,r){var n=Am(t),i=[pd,fd].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,u=o[0],a=o[1];return u=u||0,a=(a||0)*i,[pd,Of].indexOf(n)>=0?{x:a,y:u}:{x:u,y:a}}function Eot(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,u=lq.reduce(function(x,k){return x[k]=Sot(k,e.rects,o),x},{}),a=u[e.placement],g=a.x,v=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=v),e.modifiersData[n]=u}const Tot={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Eot};function Cot(t){var e=t.state,r=t.name;e.modifiersData[r]=mq({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Aot={name:"popperOffsets",enabled:!0,phase:"read",fn:Cot,data:{}};function kot(t){return t==="x"?"y":"x"}function Iot(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,u=r.altAxis,a=u===void 0?!1:u,g=r.boundary,v=r.rootBoundary,x=r.altBoundary,k=r.padding,R=r.tether,A=R===void 0?!0:R,O=r.tetherOffset,D=O===void 0?0:O,U=iw(e,{boundary:g,rootBoundary:v,padding:k,altBoundary:x}),H=Am(e.placement),G=W_(e.placement),z=!G,j=f4(H),X=kot(j),Y=e.modifiersData.popperOffsets,rt=e.rects.reference,st=e.rects.popper,it=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,bt=typeof it=="number"?{mainAxis:it,altAxis:it}:Object.assign({mainAxis:0,altAxis:0},it),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(Y){if(o){var dt,mt=j==="y"?fd:pd,wt=j==="y"?Pf:Of,pt=j==="y"?"height":"width",Ct=Y[j],vt=Ct+U[mt],It=Ct-U[wt],Ft=A?-st[pt]/2:0,Et=G===G_?rt[pt]:st[pt],lt=G===G_?-st[pt]:-rt[pt],kt=e.elements.arrow,At=A&&kt?d4(kt):{width:0,height:0},Nt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hq(),qt=Nt[mt],ie=Nt[wt],Ht=L2(0,rt[pt],At[pt]),ce=z?rt[pt]/2-Ft-Ht-qt-bt.mainAxis:Et-Ht-qt-bt.mainAxis,de=z?-rt[pt]/2+Ft+Ht+ie+bt.mainAxis:lt+Ht+ie+bt.mainAxis,Se=e.elements.arrow&&Vw(e.elements.arrow),$t=Se?j==="y"?Se.clientTop||0:Se.clientLeft||0:0,He=(dt=at?.[j])!=null?dt:0,ke=Ct+ce-He-$t,Jt=Ct+de-He,Vr=L2(A?nT(vt,ke):vt,Ct,A?Uv(It,Jt):It);Y[j]=Vr,$[j]=Vr-Ct}if(a){var vr,Dr=j==="x"?fd:pd,Ie=j==="x"?Pf:Of,Mr=Y[X],ir=X==="y"?"height":"width",Rr=Mr+U[Dr],Pr=Mr-U[Ie],Ir=[fd,pd].indexOf(H)!==-1,dr=(vr=at?.[X])!=null?vr:0,ar=Ir?Rr:Mr-rt[ir]-st[ir]-dr+bt.altAxis,Or=Ir?Mr+rt[ir]+st[ir]-dr-bt.altAxis:Pr,er=A&&Ir?Jat(ar,Mr,Or):L2(A?ar:Rr,Mr,A?Or:Pr);Y[X]=er,$[X]=er-Mr}e.modifiersData[n]=$}}const Rot={name:"preventOverflow",enabled:!0,phase:"main",fn:Iot,requiresIfExists:["offset"]};function Not(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Lot(t){return t===ef(t)||!kf(t)?p4(t):Not(t)}function Mot(t){var e=t.getBoundingClientRect(),r=H_(e.width)/t.offsetWidth||1,n=H_(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Pot(t,e,r){r===void 0&&(r=!1);var n=kf(e),i=kf(e)&&Mot(e),o=Py(e),u=X_(t,i,r),a={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(n||!n&&!r)&&((Mm(e)!=="body"||g4(o))&&(a=Lot(e)),kf(e)?(g=X_(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):o&&(g.x=m4(o))),{x:u.left+a.scrollLeft-g.x,y:u.top+a.scrollTop-g.y,width:u.width,height:u.height}}function Oot(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var u=[].concat(o.requires||[],o.requiresIfExists||[]);u.forEach(function(a){if(!r.has(a)){var g=e.get(a);g&&i(g)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function Dot(t){var e=Oot(t);return Xat.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Bot(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function zot(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var L6={placement:"bottom",modifiers:[],strategy:"absolute"};function M6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Fot(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?L6:i;return function(u,a,g){g===void 0&&(g=o);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},L6,o),modifiersData:{},elements:{reference:u,popper:a},attributes:{},styles:{}},x=[],k=!1,R={state:v,setOptions:function(D){var U=typeof D=="function"?D(v.options):D;O(),v.options=Object.assign({},o,v.options,U),v.scrollParents={reference:Zv(u)?M2(u):u.contextElement?M2(u.contextElement):[],popper:M2(a)};var H=Dot(zot([].concat(n,v.options.modifiers)));return v.orderedModifiers=H.filter(function(G){return G.enabled}),A(),R.update()},forceUpdate:function(){if(!k){var D=v.elements,U=D.reference,H=D.popper;if(M6(U,H)){v.rects={reference:Pot(U,Vw(H),v.options.strategy==="fixed"),popper:d4(H)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(st){return v.modifiersData[st.name]=Object.assign({},st.data)});for(var G=0;G<v.orderedModifiers.length;G++){if(v.reset===!0){v.reset=!1,G=-1;continue}var z=v.orderedModifiers[G],j=z.fn,X=z.options,Y=X===void 0?{}:X,rt=z.name;typeof j=="function"&&(v=j({state:v,options:Y,name:rt,instance:R})||v)}}}},update:Bot(function(){return new Promise(function(D){R.forceUpdate(),D(v)})}),destroy:function(){O(),k=!0}};if(!M6(u,a))return R;R.setOptions(g).then(function(D){!k&&g.onFirstUpdate&&g.onFirstUpdate(D)});function A(){v.orderedModifiers.forEach(function(D){var U=D.name,H=D.options,G=H===void 0?{}:H,z=D.effect;if(typeof z=="function"){var j=z({state:v,name:U,instance:R,options:G}),X=function(){};x.push(j||X)}})}function O(){x.forEach(function(D){return D()}),x=[]}return R}}var jot=[uot,Aot,sot,Kat,Tot,_ot,Rot,not,wot],Vot=Fot({defaultModifiers:jot});function gq(t){const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=t,u=i?{}:rq(r,n),{props:a,internalRef:g}=iq({...o,externalSlotProps:u}),v=Uc(g,u?.ref,t.additionalProps?.ref);return eq(e,{...a,ref:v},n)}function $w(t){return parseInt(ht.version,10)>=19?t?.props?.ref||null:t?.ref||null}function $ot(t){return typeof t=="function"?t():t}const yq=ht.forwardRef(function(t,e){const{children:r,container:n,disablePortal:i=!1}=t,[o,u]=ht.useState(null),a=Uc(ht.isValidElement(r)?$w(r):null,e);if(Mf(()=>{i||u($ot(n)||document.body)},[n,i]),Mf(()=>{if(o&&!i)return p6(e,o),()=>{p6(e,null)}},[e,o,i]),i){if(ht.isValidElement(r)){const g={ref:a};return ht.cloneElement(r,g)}return r}return o&&RM.createPortal(r,o)});function Uot(t){return bs("MuiPopper",t)}Ei("MuiPopper",["root"]);function qot(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function oL(t){return typeof t=="function"?t():t}function Got(t){return t.nodeType!==void 0}const Hot=t=>{const{classes:e}=t;return _s({root:["root"]},Uot,e)},Xot={},Wot=ht.forwardRef(function(t,e){const{anchorEl:r,children:n,direction:i,disablePortal:o,modifiers:u,open:a,placement:g,popperOptions:v,popperRef:x,slotProps:k={},slots:R={},TransitionProps:A,ownerState:O,...D}=t,U=ht.useRef(null),H=Uc(U,e),G=ht.useRef(null),z=Uc(G,x),j=ht.useRef(z);Mf(()=>{j.current=z},[z]),ht.useImperativeHandle(x,()=>G.current,[]);const X=qot(g,i),[Y,rt]=ht.useState(X),[st,it]=ht.useState(oL(r));ht.useEffect(()=>{G.current&&G.current.forceUpdate()}),ht.useEffect(()=>{r&&it(oL(r))},[r]),Mf(()=>{if(!st||!a)return;const mt=Ct=>{rt(Ct.placement)};let wt=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Ct})=>{mt(Ct)}}];u!=null&&(wt=wt.concat(u)),v&&v.modifiers!=null&&(wt=wt.concat(v.modifiers));const pt=Vot(st,U.current,{placement:X,...v,modifiers:wt});return j.current(pt),()=>{pt.destroy(),j.current(null)}},[st,o,u,a,v,X]);const bt={placement:Y};A!==null&&(bt.TransitionProps=A);const at=Hot(t),$=R.root??"div",dt=gq({elementType:$,externalSlotProps:k.root,externalForwardedProps:D,additionalProps:{role:"tooltip",ref:H},ownerState:t,className:at.root});return yr.jsx($,{...dt,children:typeof n=="function"?n(bt):n})}),Yot=ht.forwardRef(function(t,e){const{anchorEl:r,children:n,container:i,direction:o="ltr",disablePortal:u=!1,keepMounted:a=!1,modifiers:g,open:v,placement:x="bottom",popperOptions:k=Xot,popperRef:R,style:A,transition:O=!1,slotProps:D={},slots:U={},...H}=t,[G,z]=ht.useState(!0),j=()=>{z(!1)},X=()=>{z(!0)};if(!a&&!v&&(!O||G))return null;let Y;if(i)Y=i;else if(r){const it=oL(r);Y=it&&Got(it)?tf(it).body:tf(null).body}const rt=!v&&a&&(!O||G)?"none":void 0,st=O?{in:v,onEnter:j,onExited:X}:void 0;return yr.jsx(yq,{disablePortal:u,container:Y,children:yr.jsx(Wot,{anchorEl:r,direction:o,disablePortal:u,modifiers:g,ref:e,open:O?!G:v,placement:x,popperOptions:k,popperRef:R,slotProps:D,slots:U,...H,style:{position:"fixed",top:0,left:0,display:rt,...A},TransitionProps:st,children:n})})}),Kot=qr(Yot,{name:"MuiPopper",slot:"Root"})({}),Zot=ht.forwardRef(function(t,e){const r=PU(),n=Ys({props:t,name:"MuiPopper"}),{anchorEl:i,component:o,components:u,componentsProps:a,container:g,disablePortal:v,keepMounted:x,modifiers:k,open:R,placement:A,popperOptions:O,popperRef:D,transition:U,slots:H,slotProps:G,...z}=n,j=H?.root??u?.Root,X={anchorEl:i,container:g,disablePortal:v,keepMounted:x,modifiers:k,open:R,placement:A,popperOptions:O,popperRef:D,transition:U,...z};return yr.jsx(Kot,{as:o,direction:r?"rtl":"ltr",slots:{root:j},slotProps:G??a,...X,ref:e})});function u5(t){return parseInt(t,10)||0}const Qot={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Jot(t){for(const e in t)return!1;return!0}function P6(t){return Jot(t)||t.outerHeightStyle===0&&!t.overflowing}const tst=ht.forwardRef(function(t,e){const{onChange:r,maxRows:n,minRows:i=1,style:o,value:u,...a}=t,{current:g}=ht.useRef(u!=null),v=ht.useRef(null),x=Uc(e,v),k=ht.useRef(null),R=ht.useRef(null),A=ht.useCallback(()=>{const G=v.current,z=R.current;if(!G||!z)return;const j=wg(G).getComputedStyle(G);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};z.style.width=j.width,z.value=G.value||t.placeholder||"x",z.value.slice(-1)===`
`&&(z.value+=" ");const X=j.boxSizing,Y=u5(j.paddingBottom)+u5(j.paddingTop),rt=u5(j.borderBottomWidth)+u5(j.borderTopWidth),st=z.scrollHeight;z.value="x";const it=z.scrollHeight;let bt=st;i&&(bt=Math.max(Number(i)*it,bt)),n&&(bt=Math.min(Number(n)*it,bt)),bt=Math.max(bt,it);const at=bt+(X==="border-box"?Y+rt:0),$=Math.abs(bt-st)<=1;return{outerHeightStyle:at,overflowing:$}},[n,i,t.placeholder]),O=$v(()=>{const G=v.current,z=A();if(!G||!z||P6(z))return!1;const j=z.outerHeightStyle;return k.current!=null&&k.current!==j}),D=ht.useCallback(()=>{const G=v.current,z=A();if(!G||!z||P6(z))return;const j=z.outerHeightStyle;k.current!==j&&(k.current=j,G.style.height=`${j}px`),G.style.overflow=z.overflowing?"hidden":""},[A]),U=ht.useRef(-1);Mf(()=>{const G=YU(D),z=v?.current;if(!z)return;const j=wg(z);j.addEventListener("resize",G);let X;return typeof ResizeObserver<"u"&&(X=new ResizeObserver(()=>{O()&&(X.unobserve(z),cancelAnimationFrame(U.current),D(),U.current=requestAnimationFrame(()=>{X.observe(z)}))}),X.observe(z)),()=>{G.clear(),cancelAnimationFrame(U.current),j.removeEventListener("resize",G),X&&X.disconnect()}},[A,D,O]),Mf(()=>{D()});const H=G=>{g||D();const z=G.target,j=z.value.length,X=z.value.endsWith(`
`),Y=z.selectionStart===j;X&&Y&&z.setSelectionRange(j,j),r&&r(G)};return yr.jsxs(ht.Fragment,{children:[yr.jsx("textarea",{value:u,onChange:H,ref:x,rows:i,style:o,...a}),yr.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:R,tabIndex:-1,style:{...Qot.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function jC({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const y4=ht.createContext(void 0);function Uw(){return ht.useContext(y4)}function O6(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function iT(t,e=!1){return t&&(O6(t.value)&&t.value!==""||e&&O6(t.defaultValue)&&t.defaultValue!=="")}function est(t){return t.startAdornment}function rst(t){return bs("MuiInputBase",t)}const Y_=Ei("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var D6;const VC=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Qn(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},$C=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},nst=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:o,focused:u,formControl:a,fullWidth:g,hiddenLabel:v,multiline:x,readOnly:k,size:R,startAdornment:A,type:O}=t,D={root:["root",`color${Qn(r)}`,n&&"disabled",i&&"error",g&&"fullWidth",u&&"focused",a&&"formControl",R&&R!=="medium"&&`size${Qn(R)}`,x&&"multiline",A&&"adornedStart",o&&"adornedEnd",v&&"hiddenLabel",k&&"readOnly"],input:["input",n&&"disabled",O==="search"&&"inputTypeSearch",x&&"inputMultiline",R==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",A&&"inputAdornedStart",o&&"inputAdornedEnd",k&&"readOnly"]};return _s(D,rst,e)},UC=qr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:VC})(di(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Y_.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),qC=qr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:$C})(di(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Y_.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Y_.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),B6=Oit({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),v4=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:i,autoFocus:o,className:u,color:a,components:g={},componentsProps:v={},defaultValue:x,disabled:k,disableInjectingGlobalStyles:R,endAdornment:A,error:O,fullWidth:D=!1,id:U,inputComponent:H="input",inputProps:G={},inputRef:z,margin:j,maxRows:X,minRows:Y,multiline:rt=!1,name:st,onBlur:it,onChange:bt,onClick:at,onFocus:$,onKeyDown:dt,onKeyUp:mt,placeholder:wt,readOnly:pt,renderSuffix:Ct,rows:vt,size:It,slotProps:Ft={},slots:Et={},startAdornment:lt,type:kt="text",value:At,...Nt}=r,qt=G.value!=null?G.value:At,{current:ie}=ht.useRef(qt!=null),Ht=ht.useRef(),ce=ht.useCallback(Ze=>{},[]),de=Uc(Ht,z,G.ref,ce),[Se,$t]=ht.useState(!1),He=Uw(),ke=jC({props:r,muiFormControl:He,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ke.focused=He?He.focused:Se,ht.useEffect(()=>{!He&&k&&Se&&($t(!1),it&&it())},[He,k,Se,it]);const Jt=He&&He.onFilled,Vr=He&&He.onEmpty,vr=ht.useCallback(Ze=>{iT(Ze)?Jt&&Jt():Vr&&Vr()},[Jt,Vr]);Mf(()=>{ie&&vr({value:qt})},[qt,vr,ie]);const Dr=Ze=>{$&&$(Ze),G.onFocus&&G.onFocus(Ze),He&&He.onFocus?He.onFocus(Ze):$t(!0)},Ie=Ze=>{it&&it(Ze),G.onBlur&&G.onBlur(Ze),He&&He.onBlur?He.onBlur(Ze):$t(!1)},Mr=(Ze,...rr)=>{if(!ie){const Me=Ze.target||Ht.current;if(Me==null)throw new Error(_g(1));vr({value:Me.value})}G.onChange&&G.onChange(Ze,...rr),bt&&bt(Ze,...rr)};ht.useEffect(()=>{vr(Ht.current)},[]);const ir=Ze=>{Ht.current&&Ze.currentTarget===Ze.target&&Ht.current.focus(),at&&at(Ze)};let Rr=H,Pr=G;rt&&Rr==="input"&&(vt?Pr={type:void 0,minRows:vt,maxRows:vt,...Pr}:Pr={type:void 0,maxRows:X,minRows:Y,...Pr},Rr=tst);const Ir=Ze=>{vr(Ze.animationName==="mui-auto-fill-cancel"?Ht.current:{value:"x"})};ht.useEffect(()=>{He&&He.setAdornedStart(!!lt)},[He,lt]);const dr={...r,color:ke.color||"primary",disabled:ke.disabled,endAdornment:A,error:ke.error,focused:ke.focused,formControl:He,fullWidth:D,hiddenLabel:ke.hiddenLabel,multiline:rt,size:ke.size,startAdornment:lt,type:kt},ar=nst(dr),Or=Et.root||g.Root||UC,er=Ft.root||v.root||{},Fr=Et.input||g.Input||qC;return Pr={...Pr,...Ft.input??v.input},yr.jsxs(ht.Fragment,{children:[!R&&typeof B6=="function"&&(D6||(D6=yr.jsx(B6,{}))),yr.jsxs(Or,{...er,ref:e,onClick:ir,...Nt,...!q_(Or)&&{ownerState:{...dr,...er.ownerState}},className:ca(ar.root,er.className,u,pt&&"MuiInputBase-readOnly"),children:[lt,yr.jsx(y4.Provider,{value:null,children:yr.jsx(Fr,{"aria-invalid":ke.error,"aria-describedby":n,autoComplete:i,autoFocus:o,defaultValue:x,disabled:ke.disabled,id:U,onAnimationStart:Ir,name:st,placeholder:wt,readOnly:pt,required:ke.required,rows:vt,value:qt,onKeyDown:dt,onKeyUp:mt,type:kt,...Pr,...!q_(Fr)&&{as:Rr,ownerState:{...dr,...Pr.ownerState}},ref:de,className:ca(ar.input,Pr.className,pt&&"MuiInputBase-readOnly"),onBlur:Ie,onChange:Mr,onFocus:Dr})}),A,Ct?Ct({...ke,startAdornment:lt}):null]})]})});function ist(t){return bs("MuiInput",t)}const R1={...Y_,...Ei("MuiInput",["root","underline","input"])};function ast(t){return bs("MuiOutlinedInput",t)}const Jp={...Y_,...Ei("MuiOutlinedInput",["root","notchedOutline","input"])};function ost(t){return bs("MuiFilledInput",t)}const pv={...Y_,...Ei("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},sst=ba(yr.jsx("path",{d:"M7 10l5 5 5-5z"})),lst=ba(yr.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));Ei("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);qr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],r.colorDefault&&e.colorDefault]}})(di(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]})));qr("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4});qr(lst,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});const ust=a4(Fn.element);ust.isRequired=a4(Fn.element.isRequired);const cst={entering:{opacity:1},entered:{opacity:1}},hst=ht.forwardRef(function(t,e){const r=Fw(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:u,easing:a,in:g,onEnter:v,onEntered:x,onEntering:k,onExit:R,onExited:A,onExiting:O,style:D,timeout:U=n,TransitionComponent:H=Cp,...G}=t,z=ht.useRef(null),j=Uc(z,$w(u),e),X=dt=>mt=>{if(dt){const wt=z.current;mt===void 0?dt(wt):dt(wt,mt)}},Y=X(k),rt=X((dt,mt)=>{tq(dt);const wt=U_({style:D,timeout:U,easing:a},{mode:"enter"});dt.style.webkitTransition=r.transitions.create("opacity",wt),dt.style.transition=r.transitions.create("opacity",wt),v&&v(dt,mt)}),st=X(x),it=X(O),bt=X(dt=>{const mt=U_({style:D,timeout:U,easing:a},{mode:"exit"});dt.style.webkitTransition=r.transitions.create("opacity",mt),dt.style.transition=r.transitions.create("opacity",mt),R&&R(dt)}),at=X(A),$=dt=>{i&&i(z.current,dt)};return yr.jsx(H,{appear:o,in:g,nodeRef:z,onEnter:rt,onEntered:st,onEntering:Y,onExit:bt,onExited:at,onExiting:it,addEndListener:$,timeout:U,...G,children:(dt,{ownerState:mt,...wt})=>ht.cloneElement(u,{style:{opacity:0,visibility:dt==="exited"&&!g?"hidden":void 0,...cst[dt],...D,...u.props.style},ref:j,...wt})})});function dst(t){return bs("MuiBackdrop",t)}Ei("MuiBackdrop",["root","invisible"]);const fst=t=>{const{classes:e,invisible:r}=t;return _s({root:["root",r&&"invisible"]},dst,e)},pst=qr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),vq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiBackdrop"}),{children:n,className:i,component:o="div",invisible:u=!1,open:a,components:g={},componentsProps:v={},slotProps:x={},slots:k={},TransitionComponent:R,transitionDuration:A,...O}=r,D={...r,component:o,invisible:u},U=fst(D),H={transition:R,root:g.Root,...k},G={...v,...x},z={component:o,slots:H,slotProps:G},[j,X]=Qd("root",{elementType:pst,externalForwardedProps:z,className:ca(U.root,i),ownerState:D}),[Y,rt]=Qd("transition",{elementType:hst,externalForwardedProps:z,ownerState:D});return yr.jsx(Y,{in:a,timeout:A,...O,...rt,children:yr.jsx(j,{"aria-hidden":!0,...X,classes:U,ref:e,children:n})})}),mst=Ei("MuiBox",["root"]),gst=px(),c0=EU({themeId:yp,defaultTheme:gst,defaultClassName:mst.root,generateClassName:KM.generate});function yst(t){return bs("MuiButton",t)}const mv=Ei("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),vst=ht.createContext({}),bst=ht.createContext(void 0),_st=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:o,loading:u,loadingPosition:a,classes:g}=t,v={root:["root",u&&"loading",o,`${o}${Qn(e)}`,`size${Qn(i)}`,`${o}Size${Qn(i)}`,`color${Qn(e)}`,r&&"disableElevation",n&&"fullWidth",u&&`loadingPosition${Qn(a)}`],startIcon:["icon","startIcon",`iconSize${Qn(i)}`],endIcon:["icon","endIcon",`iconSize${Qn(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},x=_s(v,yst,g);return{...g,...x}},bq=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],xst=qr(u0,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Qn(r.color)}`],e[`size${Qn(r.size)}`],e[`${r.variant}Size${Qn(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(di(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${mv.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${mv.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${mv.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${mv.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(gc()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${mv.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${mv.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${mv.loading}`]:{color:"transparent"}}}]}})),wst=qr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${Qn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...bq]})),Sst=qr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${Qn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...bq]})),Est=qr("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),z6=qr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Tst=ht.forwardRef(function(t,e){const r=ht.useContext(vst),n=ht.useContext(bst),i=ew(r,t),o=Ys({props:i,name:"MuiButton"}),{children:u,color:a="primary",component:g="button",className:v,disabled:x=!1,disableElevation:k=!1,disableFocusRipple:R=!1,endIcon:A,focusVisibleClassName:O,fullWidth:D=!1,id:U,loading:H=null,loadingIndicator:G,loadingPosition:z="center",size:j="medium",startIcon:X,type:Y,variant:rt="text",...st}=o,it=OC(U),bt=G??yr.jsx(aq,{"aria-labelledby":it,color:"inherit",size:16}),at={...o,color:a,component:g,disabled:x,disableElevation:k,disableFocusRipple:R,fullWidth:D,loading:H,loadingIndicator:bt,loadingPosition:z,size:j,type:Y,variant:rt},$=_st(at),dt=(X||H&&z==="start")&&yr.jsx(wst,{className:$.startIcon,ownerState:at,children:X||yr.jsx(z6,{className:$.loadingIconPlaceholder,ownerState:at})}),mt=(A||H&&z==="end")&&yr.jsx(Sst,{className:$.endIcon,ownerState:at,children:A||yr.jsx(z6,{className:$.loadingIconPlaceholder,ownerState:at})}),wt=n||"",pt=typeof H=="boolean"?yr.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:H&&yr.jsx(Est,{className:$.loadingIndicator,ownerState:at,children:bt})}):null;return yr.jsxs(xst,{ownerState:at,className:ca(r.className,$.root,v,wt),component:g,disabled:x||H,focusRipple:!R,focusVisibleClassName:ca($.focusVisible,O),ref:e,type:Y,id:H?it:U,...st,classes:$,children:[dt,z!=="end"&&pt,u,z==="end"&&pt,mt]})}),ja=Ei("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Cst=(t,e)=>{const{ownerState:r}=t;return[{[`& .${ja.grouped}`]:e.grouped},{[`& .${ja.grouped}`]:e[`grouped${Qn(r.orientation)}`]},{[`& .${ja.grouped}`]:e[`grouped${Qn(r.variant)}`]},{[`& .${ja.grouped}`]:e[`grouped${Qn(r.variant)}${Qn(r.orientation)}`]},{[`& .${ja.grouped}`]:e[`grouped${Qn(r.variant)}${Qn(r.color)}`]},{[`& .${ja.firstButton}`]:e.firstButton},{[`& .${ja.lastButton}`]:e.lastButton},{[`& .${ja.middleButton}`]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]};qr("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:Cst})(di(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ja.lastButton},& .${ja.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ja.lastButton},& .${ja.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderRight:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ja.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottom:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${ja.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(gc()).flatMap(([e])=>[{props:{variant:"text",color:e},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderColor:t.alpha((t.vars||t).palette[e].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${ja.lastButton},& .${ja.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${ja.lastButton},& .${ja.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${ja.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${ja.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(gc(["dark"])).map(([e])=>({props:{variant:"contained",color:e},style:{[`& .${ja.firstButton},& .${ja.middleButton}`]:{borderColor:(t.vars||t).palette[e].dark}}}))],[`& .${ja.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}})));function Ast(t){return bs("PrivateSwitchBase",t)}Ei("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const kst=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${Qn(i)}`],input:["input"]};return _s(o,Ast,e)},Ist=qr(u0,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Rst=qr("input",{name:"MuiSwitchBase",shouldForwardProp:rc})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),_q=ht.forwardRef(function(t,e){const{autoFocus:r,checked:n,checkedIcon:i,defaultChecked:o,disabled:u,disableFocusRipple:a=!1,edge:g=!1,icon:v,id:x,inputProps:k,inputRef:R,name:A,onBlur:O,onChange:D,onFocus:U,readOnly:H,required:G=!1,tabIndex:z,type:j,value:X,slots:Y={},slotProps:rt={},...st}=t,[it,bt]=QN({controlled:n,default:!!o,name:"SwitchBase",state:"checked"}),at=Uw(),$=At=>{U&&U(At),at&&at.onFocus&&at.onFocus(At)},dt=At=>{O&&O(At),at&&at.onBlur&&at.onBlur(At)},mt=At=>{if(At.nativeEvent.defaultPrevented)return;const Nt=At.target.checked;bt(Nt),D&&D(At,Nt)};let wt=u;at&&typeof wt>"u"&&(wt=at.disabled);const pt=j==="checkbox"||j==="radio",Ct={...t,checked:it,disabled:wt,disableFocusRipple:a,edge:g},vt=kst(Ct),It={slots:Y,slotProps:{input:k,...rt}},[Ft,Et]=Qd("root",{ref:e,elementType:Ist,className:vt.root,shouldForwardComponentProp:!0,externalForwardedProps:{...It,component:"span",...st},getSlotProps:At=>({...At,onFocus:Nt=>{At.onFocus?.(Nt),$(Nt)},onBlur:Nt=>{At.onBlur?.(Nt),dt(Nt)}}),ownerState:Ct,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:wt,role:void 0,tabIndex:null}}),[lt,kt]=Qd("input",{ref:R,elementType:Rst,className:vt.input,externalForwardedProps:It,getSlotProps:At=>({...At,onChange:Nt=>{At.onChange?.(Nt),mt(Nt)}}),ownerState:Ct,additionalProps:{autoFocus:r,checked:n,defaultChecked:o,disabled:wt,id:pt?x:void 0,name:A,readOnly:H,required:G,tabIndex:z,type:j,...j==="checkbox"&&X===void 0?{}:{value:X}}});return yr.jsxs(Ft,{...Et,children:[yr.jsx(lt,{...kt}),it?i:v]})}),Nst=ba(yr.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Lst=ba(yr.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Mst=ba(yr.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Pst(t){return bs("MuiCheckbox",t)}const Ak=Ei("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ost=t=>{const{classes:e,indeterminate:r,color:n,size:i}=t,o={root:["root",r&&"indeterminate",`color${Qn(n)}`,`size${Qn(i)}`]},u=_s(o,Pst,e);return{...e,...u}},Dst=qr(_q,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${Qn(r.size)}`],r.color!=="default"&&e[`color${Qn(r.color)}`]]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{[`&.${Ak.checked}, &.${Ak.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${Ak.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Bst=yr.jsx(Lst,{}),zst=yr.jsx(Nst,{}),Fst=yr.jsx(Mst,{}),xq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiCheckbox"}),{checkedIcon:n=Bst,color:i="primary",icon:o=zst,indeterminate:u=!1,indeterminateIcon:a=Fst,inputProps:g,size:v="medium",disableRipple:x=!1,className:k,slots:R={},slotProps:A={},...O}=r,D=u?a:o,U=u?a:n,H={...r,disableRipple:x,color:i,indeterminate:u,size:v},G=Ost(H),z=A.input??g,[j,X]=Qd("root",{ref:e,elementType:Dst,className:ca(G.root,k),shouldForwardComponentProp:!0,externalForwardedProps:{slots:R,slotProps:A,...O},ownerState:H,additionalProps:{type:"checkbox",icon:ht.cloneElement(D,{fontSize:D.props.fontSize??v}),checkedIcon:ht.cloneElement(U,{fontSize:U.props.fontSize??v}),disableRipple:x,slots:R,slotProps:{input:KU(typeof z=="function"?z(H):z,{"data-indeterminate":u})}}});return yr.jsx(j,{...X,classes:G})});function wq(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function jst(t){const e=tf(t);return e.body===t?wg(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function P2(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function F6(t){return parseInt(wg(t).getComputedStyle(t).paddingRight,10)||0}function Vst(t){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return e||r}function j6(t,e,r,n,i){const o=[e,r,...n];[].forEach.call(t.children,u=>{const a=!o.includes(u),g=!Vst(u);a&&g&&P2(u,i)})}function kk(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function $st(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(jst(n)){const o=wq(wg(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${F6(n)+o}px`;const u=tf(n).querySelectorAll(".mui-fixed");[].forEach.call(u,a=>{r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${F6(a)+o}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=tf(n).body;else{const o=n.parentElement,u=wg(n);i=o?.nodeName==="HTML"&&u.getComputedStyle(o).overflowY==="scroll"?o:n}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:o,property:u})=>{i?o.style.setProperty(u,i):o.style.removeProperty(u)})}}function Ust(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class qst{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&P2(e.modalRef,!1);const i=Ust(r);j6(r,e.mount,e.modalRef,i,!0);const o=kk(this.containers,u=>u.container===r);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=kk(this.containers,o=>o.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=$st(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=kk(this.containers,u=>u.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&P2(e.modalRef,r),j6(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const u=o.modals[o.modals.length-1];u.modalRef&&P2(u.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Gst=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Hst(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Xst(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function Wst(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Xst(t))}function Yst(t){const e=[],r=[];return Array.from(t.querySelectorAll(Gst)).forEach((n,i)=>{const o=Hst(n);o===-1||!Wst(n)||(o===0?e.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function Kst(){return!0}function Zst(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=Yst,isEnabled:u=Kst,open:a}=t,g=ht.useRef(!1),v=ht.useRef(null),x=ht.useRef(null),k=ht.useRef(null),R=ht.useRef(null),A=ht.useRef(!1),O=ht.useRef(null),D=Uc($w(e),O),U=ht.useRef(null);ht.useEffect(()=>{!a||!O.current||(A.current=!r)},[r,a]),ht.useEffect(()=>{if(!a||!O.current)return;const z=tf(O.current);return O.current.contains(z.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),A.current&&O.current.focus()),()=>{i||(k.current&&k.current.focus&&(g.current=!0,k.current.focus()),k.current=null)}},[a]),ht.useEffect(()=>{if(!a||!O.current)return;const z=tf(O.current),j=rt=>{U.current=rt,!(n||!u()||rt.key!=="Tab")&&z.activeElement===O.current&&rt.shiftKey&&(g.current=!0,x.current&&x.current.focus())},X=()=>{const rt=O.current;if(rt===null)return;if(!z.hasFocus()||!u()||g.current){g.current=!1;return}if(rt.contains(z.activeElement)||n&&z.activeElement!==v.current&&z.activeElement!==x.current)return;if(z.activeElement!==R.current)R.current=null;else if(R.current!==null)return;if(!A.current)return;let st=[];if((z.activeElement===v.current||z.activeElement===x.current)&&(st=o(O.current)),st.length>0){const it=!!(U.current?.shiftKey&&U.current?.key==="Tab"),bt=st[0],at=st[st.length-1];typeof bt!="string"&&typeof at!="string"&&(it?at.focus():bt.focus())}else rt.focus()};z.addEventListener("focusin",X),z.addEventListener("keydown",j,!0);const Y=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&X()},50);return()=>{clearInterval(Y),z.removeEventListener("focusin",X),z.removeEventListener("keydown",j,!0)}},[r,n,i,u,a,o]);const H=z=>{k.current===null&&(k.current=z.relatedTarget),A.current=!0,R.current=z.target;const j=e.props.onFocus;j&&j(z)},G=z=>{k.current===null&&(k.current=z.relatedTarget),A.current=!0};return yr.jsxs(ht.Fragment,{children:[yr.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:v,"data-testid":"sentinelStart"}),ht.cloneElement(e,{ref:D,onFocus:H}),yr.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:x,"data-testid":"sentinelEnd"})]})}function Qst(t){return typeof t=="function"?t():t}function Jst(t){return t?t.props.hasOwnProperty("in"):!1}const V6=()=>{},c5=new qst;function tlt(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:u,children:a,onClose:g,open:v,rootRef:x}=t,k=ht.useRef({}),R=ht.useRef(null),A=ht.useRef(null),O=Uc(A,x),[D,U]=ht.useState(!v),H=Jst(a);let G=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(G=!1);const z=()=>tf(R.current),j=()=>(k.current.modalRef=A.current,k.current.mount=R.current,k.current),X=()=>{c5.mount(j(),{disableScrollLock:n}),A.current&&(A.current.scrollTop=0)},Y=$v(()=>{const $=Qst(e)||z().body;c5.add(j(),$),A.current&&X()}),rt=()=>c5.isTopModal(j()),st=$v($=>{R.current=$,$&&(v&&rt()?X():A.current&&P2(A.current,G))}),it=ht.useCallback(()=>{c5.remove(j(),G)},[G]);ht.useEffect(()=>()=>{it()},[it]),ht.useEffect(()=>{v?Y():(!H||!i)&&it()},[v,it,H,i,Y]);const bt=$=>dt=>{$.onKeyDown?.(dt),!(dt.key!=="Escape"||dt.which===229||!rt())&&(r||(dt.stopPropagation(),g&&g(dt,"escapeKeyDown")))},at=$=>dt=>{$.onClick?.(dt),dt.target===dt.currentTarget&&g&&g(dt,"backdropClick")};return{getRootProps:($={})=>{const dt=nq(t);delete dt.onTransitionEnter,delete dt.onTransitionExited;const mt={...dt,...$};return{role:"presentation",...mt,onKeyDown:bt(mt),ref:O}},getBackdropProps:($={})=>{const dt=$;return{"aria-hidden":!0,...dt,onClick:at(dt),open:v}},getTransitionProps:()=>{const $=()=>{U(!1),o&&o()},dt=()=>{U(!0),u&&u(),i&&it()};return{onEnter:f6($,a?.props.onEnter??V6),onExited:f6(dt,a?.props.onExited??V6)}},rootRef:O,portalRef:st,isTopModal:rt,exited:D,hasTransition:H}}function elt(t){return bs("MuiModal",t)}Ei("MuiModal",["root","hidden","backdrop"]);const rlt=t=>{const{open:e,exited:r,classes:n}=t;return _s({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},elt,n)},nlt=qr("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(di(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),ilt=qr(vq,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),b4=ht.forwardRef(function(t,e){const r=Ys({name:"MuiModal",props:t}),{BackdropComponent:n=ilt,BackdropProps:i,classes:o,className:u,closeAfterTransition:a=!1,children:g,container:v,component:x,components:k={},componentsProps:R={},disableAutoFocus:A=!1,disableEnforceFocus:O=!1,disableEscapeKeyDown:D=!1,disablePortal:U=!1,disableRestoreFocus:H=!1,disableScrollLock:G=!1,hideBackdrop:z=!1,keepMounted:j=!1,onClose:X,onTransitionEnter:Y,onTransitionExited:rt,open:st,slotProps:it={},slots:bt={},theme:at,...$}=r,dt={...r,closeAfterTransition:a,disableAutoFocus:A,disableEnforceFocus:O,disableEscapeKeyDown:D,disablePortal:U,disableRestoreFocus:H,disableScrollLock:G,hideBackdrop:z,keepMounted:j},{getRootProps:mt,getBackdropProps:wt,getTransitionProps:pt,portalRef:Ct,isTopModal:vt,exited:It,hasTransition:Ft}=tlt({...dt,rootRef:e}),Et={...dt,exited:It},lt=rlt(Et),kt={};if(g.props.tabIndex===void 0&&(kt.tabIndex="-1"),Ft){const{onEnter:ce,onExited:de}=pt();kt.onEnter=ce,kt.onExited=de}const At={slots:{root:k.Root,backdrop:k.Backdrop,...bt},slotProps:{...R,...it}},[Nt,qt]=Qd("root",{ref:e,elementType:nlt,externalForwardedProps:{...At,...$,component:x},getSlotProps:mt,ownerState:Et,className:ca(u,lt?.root,!Et.open&&Et.exited&&lt?.hidden)}),[ie,Ht]=Qd("backdrop",{ref:i?.ref,elementType:n,externalForwardedProps:At,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:ce=>wt({...ce,onClick:de=>{ce?.onClick&&ce.onClick(de)}}),className:ca(i?.className,lt?.backdrop),ownerState:Et});return!j&&!st&&(!Ft||It)?null:yr.jsx(yq,{ref:Ct,container:v,disablePortal:U,children:yr.jsxs(Nt,{...qt,children:[!z&&n?yr.jsx(ie,{...Ht}):null,yr.jsx(Zst,{disableEnforceFocus:O,disableAutoFocus:A,disableRestoreFocus:H,isEnabled:vt,open:st,children:ht.cloneElement(g,kt)})]})})}),Ik=Ei("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);qr(vq,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1});qr(b4,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}});qr("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${Qn(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]});qr(Ly,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${Qn(r.scroll)}`],e[`paperWidth${Qn(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(di(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Ik.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Ik.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Ik.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]})));Ei("MuiDialogActions",["root","spacing"]);qr("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]});Ei("MuiDialogContent",["root","dividers"]);const alt=Ei("MuiDialogTitle",["root"]);qr("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(di(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${alt.root} + &`]:{paddingTop:0}}}]})));Ei("MuiDialogContentText",["root"]);qr(oq,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({});qr(oq,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"});function olt(t){return bs("MuiDivider",t)}const $6=Ei("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),slt=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:o,orientation:u,textAlign:a,variant:g}=t;return _s({root:["root",e&&"absolute",g,o&&"light",u==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&u==="vertical"&&"withChildrenVertical",a==="right"&&u!=="vertical"&&"textAlignRight",a==="left"&&u!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",u==="vertical"&&"wrapperVertical"]},olt,n)},llt=qr("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(di(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),ult=qr("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(di(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),U6=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiDivider"}),{absolute:n=!1,children:i,className:o,orientation:u="horizontal",component:a=i||u==="vertical"?"div":"hr",flexItem:g=!1,light:v=!1,role:x=a!=="hr"?"separator":void 0,textAlign:k="center",variant:R="fullWidth",...A}=r,O={...r,absolute:n,component:a,flexItem:g,light:v,orientation:u,role:x,textAlign:k,variant:R},D=slt(O);return yr.jsx(llt,{as:a,className:ca(D.root,o),role:x,ref:e,ownerState:O,"aria-orientation":x==="separator"&&(a!=="hr"||u==="vertical")?u:void 0,...A,children:i?yr.jsx(ult,{className:D.wrapper,ownerState:O,children:i}):null})});U6&&(U6.muiSkipListHighlight=!0);Ei("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Sq=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]};qr(b4,{name:"MuiDrawer",slot:"Root",overridesResolver:Sq})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})));qr("div",{shouldForwardProp:rc,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Sq})({flex:"0 0 auto"});qr(Ly,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${Qn(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${Qn(r.anchor)}`]]}})(di(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]})));function clt(t){return bs("MuiFab",t)}const q6=Ei("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),hlt=t=>{const{color:e,variant:r,classes:n,size:i}=t,o={root:["root",r,`size${Qn(i)}`,e==="inherit"?"colorInherit":e]},u=_s(o,clt,n);return{...n,...u}},dlt=qr(u0,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>rc(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${Qn(r.size)}`],r.color==="inherit"&&e.colorInherit,e[Qn(r.size)],e[r.color]]}})(di(({theme:t})=>({...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.grey[900]:t.palette.getContrastText?.(t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${q6.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]})),di(({theme:t})=>({variants:[...Object.entries(t.palette).filter(gc(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),di(({theme:t})=>({[`&.${q6.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),Eq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFab"}),{children:n,className:i,color:o="default",component:u="button",disabled:a=!1,disableFocusRipple:g=!1,focusVisibleClassName:v,size:x="large",variant:k="circular",...R}=r,A={...r,color:o,component:u,disabled:a,disableFocusRipple:g,size:x,variant:k},O=hlt(A);return yr.jsx(dlt,{className:ca(O.root,i),component:u,disabled:a,focusRipple:!g,focusVisibleClassName:ca(O.focusVisible,v),ownerState:A,ref:e,...R,classes:O,children:n})}),flt=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:u,multiline:a}=t,g={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Qn(o)}`,u&&"hiddenLabel",a&&"multiline"],input:["input"]},v=_s(g,ost,e);return{...e,...v}},plt=qr(UC,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...VC(t,e),!r.disableUnderline&&e.underline]}})(di(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${pv.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${pv.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:u})=>!u.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pv.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pv.disabled}, .${pv.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${pv.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gc()).map(([u])=>({props:{disableUnderline:!1,color:u},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[u]?.main}`}}})),{props:({ownerState:u})=>u.startAdornment,style:{paddingLeft:12}},{props:({ownerState:u})=>u.endAdornment,style:{paddingRight:12}},{props:({ownerState:u})=>u.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:u,size:a})=>u.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel&&u.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),mlt=qr(qC,{name:"MuiFilledInput",slot:"Input",overridesResolver:$C})(di(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Tq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFilledInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:u=!1,hiddenLabel:a,inputComponent:g="input",multiline:v=!1,slotProps:x,slots:k={},type:R="text",...A}=r,O={...r,disableUnderline:n,fullWidth:u,inputComponent:g,multiline:v,type:R},D=flt(r),U={root:{ownerState:O},input:{ownerState:O}},H=x??o?Lh(U,x??o):U,G=k.root??i.Root??plt,z=k.input??i.Input??mlt;return yr.jsx(v4,{slots:{root:G,input:z},slotProps:H,fullWidth:u,inputComponent:g,multiline:v,ref:e,type:R,...A,classes:D})});Tq.muiName="Input";function glt(t){return bs("MuiFormControl",t)}Ei("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ylt=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Qn(r)}`,n&&"fullWidth"]};return _s(i,glt,e)},vlt=qr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${Qn(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),blt=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFormControl"}),{children:n,className:i,color:o="primary",component:u="div",disabled:a=!1,error:g=!1,focused:v,fullWidth:x=!1,hiddenLabel:k=!1,margin:R="none",required:A=!1,size:O="medium",variant:D="outlined",...U}=r,H={...r,color:o,component:u,disabled:a,error:g,fullWidth:x,hiddenLabel:k,margin:R,required:A,size:O,variant:D},G=ylt(H),[z,j]=ht.useState(()=>{let mt=!1;return n&&ht.Children.forEach(n,wt=>{if(!N2(wt,["Input","Select"]))return;const pt=N2(wt,["Select"])?wt.props.input:wt;pt&&est(pt.props)&&(mt=!0)}),mt}),[X,Y]=ht.useState(()=>{let mt=!1;return n&&ht.Children.forEach(n,wt=>{N2(wt,["Input","Select"])&&(iT(wt.props,!0)||iT(wt.props.inputProps,!0))&&(mt=!0)}),mt}),[rt,st]=ht.useState(!1);a&&rt&&st(!1);const it=v!==void 0&&!a?v:rt;let bt;ht.useRef(!1);const at=ht.useCallback(()=>{Y(!0)},[]),$=ht.useCallback(()=>{Y(!1)},[]),dt=ht.useMemo(()=>({adornedStart:z,setAdornedStart:j,color:o,disabled:a,error:g,filled:X,focused:it,fullWidth:x,hiddenLabel:k,size:O,onBlur:()=>{st(!1)},onFocus:()=>{st(!0)},onEmpty:$,onFilled:at,registerEffect:bt,required:A,variant:D}),[z,o,a,g,X,it,x,k,bt,$,at,A,O,D]);return yr.jsx(y4.Provider,{value:dt,children:yr.jsx(vlt,{as:u,ownerState:H,className:ca(G.root,i),ref:e,...U,children:n})})}),f2=Ei("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);qr("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${f2.label}`]:e.label},e.root,e[`labelPlacement${Qn(r.labelPlacement)}`]]}})(di(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${f2.disabled}`]:{cursor:"default"},[`& .${f2.label}`]:{[`&.${f2.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]})));qr("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(di(({theme:t})=>({[`&.${f2.error}`]:{color:(t.vars||t).palette.error.main}})));Ei("MuiFormGroup",["root","row","error"]);qr("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]});const G6=Ei("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);qr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Qn(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${G6.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${G6.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]})));function _lt(t){return bs("MuiFormLabel",t)}const O2=Ei("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),xlt=t=>{const{classes:e,color:r,focused:n,disabled:i,error:o,filled:u,required:a}=t,g={root:["root",`color${Qn(r)}`,i&&"disabled",o&&"error",u&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return _s(g,_lt,e)},wlt=qr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{[`&.${O2.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${O2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${O2.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Slt=qr("span",{name:"MuiFormLabel",slot:"Asterisk"})(di(({theme:t})=>({[`&.${O2.error}`]:{color:(t.vars||t).palette.error.main}}))),Elt=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiFormLabel"}),{children:n,className:i,color:o,component:u="label",disabled:a,error:g,filled:v,focused:x,required:k,...R}=r,A=Uw(),O=jC({props:r,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),D={...r,color:O.color||"primary",component:u,disabled:O.disabled,error:O.error,filled:O.filled,focused:O.focused,required:O.required},U=xlt(D);return yr.jsxs(wlt,{as:u,ownerState:D,className:ca(U.root,i),ref:e,...R,children:[n,O.required&&yr.jsxs(Slt,{ownerState:D,"aria-hidden":!0,className:U.asterisk,children:["","*"]})]})});Vnt({createStyledComponent:qr("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>Ys({props:t,name:"MuiGrid"}),useTheme:Fw});function sL(t){return`scale(${t}, ${t**2})`}const Tlt={entering:{opacity:1,transform:sL(1)},entered:{opacity:1,transform:"none"}},Rk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),lL=ht.forwardRef(function(t,e){const{addEndListener:r,appear:n=!0,children:i,easing:o,in:u,onEnter:a,onEntered:g,onEntering:v,onExit:x,onExited:k,onExiting:R,style:A,timeout:O="auto",TransitionComponent:D=Cp,...U}=t,H=u4(),G=ht.useRef(),z=Fw(),j=ht.useRef(null),X=Uc(j,$w(i),e),Y=mt=>wt=>{if(mt){const pt=j.current;wt===void 0?mt(pt):mt(pt,wt)}},rt=Y(v),st=Y((mt,wt)=>{tq(mt);const{duration:pt,delay:Ct,easing:vt}=U_({style:A,timeout:O,easing:o},{mode:"enter"});let It;O==="auto"?(It=z.transitions.getAutoHeightDuration(mt.clientHeight),G.current=It):It=pt,mt.style.transition=[z.transitions.create("opacity",{duration:It,delay:Ct}),z.transitions.create("transform",{duration:Rk?It:It*.666,delay:Ct,easing:vt})].join(","),a&&a(mt,wt)}),it=Y(g),bt=Y(R),at=Y(mt=>{const{duration:wt,delay:pt,easing:Ct}=U_({style:A,timeout:O,easing:o},{mode:"exit"});let vt;O==="auto"?(vt=z.transitions.getAutoHeightDuration(mt.clientHeight),G.current=vt):vt=wt,mt.style.transition=[z.transitions.create("opacity",{duration:vt,delay:pt}),z.transitions.create("transform",{duration:Rk?vt:vt*.666,delay:Rk?pt:pt||vt*.333,easing:Ct})].join(","),mt.style.opacity=0,mt.style.transform=sL(.75),x&&x(mt)}),$=Y(k),dt=mt=>{O==="auto"&&H.start(G.current||0,mt),r&&r(j.current,mt)};return yr.jsx(D,{appear:n,in:u,nodeRef:j,onEnter:st,onEntered:it,onEntering:rt,onExit:at,onExited:$,onExiting:bt,addEndListener:dt,timeout:O==="auto"?null:O,...U,children:(mt,{ownerState:wt,...pt})=>ht.cloneElement(i,{style:{opacity:0,transform:sL(.75),visibility:mt==="exited"&&!u?"hidden":void 0,...Tlt[mt],...A,...i.props.style},ref:X,...pt})})});lL&&(lL.muiSupportAuto=!0);const Clt=t=>{const{classes:e,disableUnderline:r}=t,n=_s({root:["root",!r&&"underline"],input:["input"]},ist,e);return{...e,...n}},Alt=qr(UC,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...VC(t,e),!r.disableUnderline&&e.underline]}})(di(({theme:t})=>{let e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(e=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${R1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${R1.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${R1.disabled}, .${R1.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${R1.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(gc()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),klt=qr(qC,{name:"MuiInput",slot:"Input",overridesResolver:$C})({}),Cq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiInput"}),{disableUnderline:n=!1,components:i={},componentsProps:o,fullWidth:u=!1,inputComponent:a="input",multiline:g=!1,slotProps:v,slots:x={},type:k="text",...R}=r,A=Clt(r),O={root:{ownerState:{disableUnderline:n}}},D=v??o?Lh(v??o,O):O,U=x.root??i.Root??Alt,H=x.input??i.Input??klt;return yr.jsx(v4,{slots:{root:U,input:H},slotProps:D,fullWidth:u,inputComponent:a,multiline:g,ref:e,type:k,...R,classes:A})});Cq.muiName="Input";Ei("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);qr(Elt,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${O2.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(di(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]})));const k_=ht.createContext({});function Ilt(t){return bs("MuiList",t)}Ei("MuiList",["root","padding","dense","subheader"]);const Rlt=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return _s({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Ilt,e)},Nlt=qr("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),qw=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiList"}),{children:n,className:i,component:o="ul",dense:u=!1,disablePadding:a=!1,subheader:g,...v}=r,x=ht.useMemo(()=>({dense:u}),[u]),k={...r,component:o,dense:u,disablePadding:a},R=Rlt(k);return yr.jsx(k_.Provider,{value:x,children:yr.jsxs(Nlt,{as:o,className:ca(R.root,i),ref:e,ownerState:k,...v,children:[g,n]})})});function Llt(t){return bs("MuiListItem",t)}Ei("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Bb=Ei("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Mlt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]};qr(u0,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Mlt})(di(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bb.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${Bb.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${Bb.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${Bb.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bb.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]})));function Plt(t){return bs("MuiListItemSecondaryAction",t)}Ei("MuiListItemSecondaryAction",["root","disableGutters"]);const Olt=t=>{const{disableGutters:e,classes:r}=t;return _s({root:["root",e&&"disableGutters"]},Plt,r)},Dlt=qr("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),Aq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiListItemSecondaryAction"}),{className:n,...i}=r,o=ht.useContext(k_),u={...r,disableGutters:o.disableGutters},a=Olt(u);return yr.jsx(Dlt,{className:ca(a.root,n),ownerState:u,ref:e,...i})});Aq.muiName="ListItemSecondaryAction";const Blt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},zlt=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:i,disablePadding:o,divider:u,hasSecondaryAction:a}=t;return _s({root:["root",n&&"dense",!i&&"gutters",!o&&"padding",u&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},Llt,r)},Flt=qr("div",{name:"MuiListItem",slot:"Root",overridesResolver:Blt})(di(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Bb.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),jlt=qr("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),_4=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiListItem"}),{alignItems:n="center",children:i,className:o,component:u,components:a={},componentsProps:g={},ContainerComponent:v="li",ContainerProps:{className:x,...k}={},dense:R=!1,disableGutters:A=!1,disablePadding:O=!1,divider:D=!1,secondaryAction:U,slotProps:H={},slots:G={},...z}=r,j=ht.useContext(k_),X=ht.useMemo(()=>({dense:R||j.dense||!1,alignItems:n,disableGutters:A}),[n,j.dense,R,A]),Y=ht.useRef(null),rt=ht.Children.toArray(i),st=rt.length&&N2(rt[rt.length-1],["ListItemSecondaryAction"]),it={...r,alignItems:n,dense:X.dense,disableGutters:A,disablePadding:O,divider:D,hasSecondaryAction:st},bt=zlt(it),at=Uc(Y,e),$=G.root||a.Root||Flt,dt=H.root||g.root||{},mt={className:ca(bt.root,dt.className,o),...z};let wt=u||"li";return st?(wt=!mt.component&&!u?"div":wt,v==="li"&&(wt==="li"?wt="div":mt.component==="li"&&(mt.component="div")),yr.jsx(k_.Provider,{value:X,children:yr.jsxs(jlt,{as:v,className:ca(bt.container,x),ref:at,ownerState:it,...k,children:[yr.jsx($,{...dt,...!q_($)&&{as:wt,ownerState:{...it,...dt.ownerState}},...mt,children:rt}),rt.pop()]})})):yr.jsx(k_.Provider,{value:X,children:yr.jsxs($,{...dt,as:wt,ref:at,...!q_($)&&{ownerState:{...it,...dt.ownerState}},...mt,children:[rt,U&&yr.jsx(Aq,{children:U})]})})});Ei("MuiListItemAvatar",["root","alignItemsFlexStart"]);qr("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})({minWidth:56,flexShrink:0,variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]});function Vlt(t){return bs("MuiListItemIcon",t)}const H6=Ei("MuiListItemIcon",["root","alignItemsFlexStart"]),$lt=t=>{const{alignItems:e,classes:r}=t;return _s({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Vlt,r)},Ult=qr("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(di(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),x4=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiListItemIcon"}),{className:n,...i}=r,o=ht.useContext(k_),u={...r,alignItems:o.alignItems},a=$lt(u);return yr.jsx(Ult,{className:ca(a.root,n),ownerState:u,ref:e,...i})}),y_=Ei("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);qr("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${y_.primary}`]:e.primary},{[`& .${y_.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${w6.root}:where(& .${y_.primary})`]:{display:"block"},[`.${w6.root}:where(& .${y_.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]});function Nk(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function X6(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function kq(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function N1(t,e,r,n,i,o){let u=!1,a=i(t,e,e?r:!1);for(;a;){if(a===t.firstChild){if(u)return!1;u=!0}const g=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!kq(a,o)||g)a=i(t,a,r);else return a.focus(),!0}return!1}const qlt=ht.forwardRef(function(t,e){const{actions:r,autoFocus:n=!1,autoFocusItem:i=!1,children:o,className:u,disabledItemsFocusable:a=!1,disableListWrap:g=!1,onKeyDown:v,variant:x="selectedMenu",...k}=t,R=ht.useRef(null),A=ht.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Mf(()=>{n&&R.current.focus()},[n]),ht.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(G,{direction:z})=>{const j=!R.current.style.width;if(G.clientHeight<R.current.clientHeight&&j){const X=`${wq(wg(G))}px`;R.current.style[z==="rtl"?"paddingLeft":"paddingRight"]=X,R.current.style.width=`calc(100% + ${X})`}return R.current}}),[]);const O=G=>{const z=R.current,j=G.key;if(G.ctrlKey||G.metaKey||G.altKey){v&&v(G);return}const X=tf(z).activeElement;if(j==="ArrowDown")G.preventDefault(),N1(z,X,g,a,Nk);else if(j==="ArrowUp")G.preventDefault(),N1(z,X,g,a,X6);else if(j==="Home")G.preventDefault(),N1(z,null,g,a,Nk);else if(j==="End")G.preventDefault(),N1(z,null,g,a,X6);else if(j.length===1){const Y=A.current,rt=j.toLowerCase(),st=performance.now();Y.keys.length>0&&(st-Y.lastTime>500?(Y.keys=[],Y.repeating=!0,Y.previousKeyMatched=!0):Y.repeating&&rt!==Y.keys[0]&&(Y.repeating=!1)),Y.lastTime=st,Y.keys.push(rt);const it=X&&!Y.repeating&&kq(X,Y);Y.previousKeyMatched&&(it||N1(z,X,!1,a,Nk,Y))?G.preventDefault():Y.previousKeyMatched=!1}v&&v(G)},D=Uc(R,e);let U=-1;ht.Children.forEach(o,(G,z)=>{if(!ht.isValidElement(G)){U===z&&(U+=1,U>=o.length&&(U=-1));return}G.props.disabled||(x==="selectedMenu"&&G.props.selected||U===-1)&&(U=z),U===z&&(G.props.disabled||G.props.muiSkipListHighlight||G.type.muiSkipListHighlight)&&(U+=1,U>=o.length&&(U=-1))});const H=ht.Children.map(o,(G,z)=>{if(z===U){const j={};return i&&(j.autoFocus=!0),G.props.tabIndex===void 0&&x==="selectedMenu"&&(j.tabIndex=0),ht.cloneElement(G,j)}return G});return yr.jsx(qw,{role:"menu",ref:D,className:u,onKeyDown:O,tabIndex:n?0:-1,...k,children:H})});function Glt(t){return bs("MuiPopover",t)}Ei("MuiPopover",["root","paper"]);function W6(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function Y6(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function K6(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function h5(t){return typeof t=="function"?t():t}const Hlt=t=>{const{classes:e}=t;return _s({root:["root"],paper:["paper"]},Glt,e)},Xlt=qr(b4,{name:"MuiPopover",slot:"Root"})({}),Iq=qr(Ly,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wlt=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiPopover"}),{action:n,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:a="anchorEl",children:g,className:v,container:x,elevation:k=8,marginThreshold:R=16,open:A,PaperProps:O={},slots:D={},slotProps:U={},transformOrigin:H={vertical:"top",horizontal:"left"},TransitionComponent:G,transitionDuration:z="auto",TransitionProps:j={},disableScrollLock:X=!1,...Y}=r,rt=ht.useRef(),st={...r,anchorOrigin:o,anchorReference:a,elevation:k,marginThreshold:R,transformOrigin:H,TransitionComponent:G,transitionDuration:z,TransitionProps:j},it=Hlt(st),bt=ht.useCallback(()=>{if(a==="anchorPosition")return u;const ce=h5(i),de=ce&&ce.nodeType===1?ce:tf(rt.current).body,Se=de.getBoundingClientRect();return{top:Se.top+W6(Se,o.vertical),left:Se.left+Y6(Se,o.horizontal)}},[i,o.horizontal,o.vertical,u,a]),at=ht.useCallback(ce=>({vertical:W6(ce,H.vertical),horizontal:Y6(ce,H.horizontal)}),[H.horizontal,H.vertical]),$=ht.useCallback(ce=>{const de={width:ce.offsetWidth,height:ce.offsetHeight},Se=at(de);if(a==="none")return{top:null,left:null,transformOrigin:K6(Se)};const $t=bt();let He=$t.top-Se.vertical,ke=$t.left-Se.horizontal;const Jt=He+de.height,Vr=ke+de.width,vr=wg(h5(i)),Dr=vr.innerHeight-R,Ie=vr.innerWidth-R;if(R!==null&&He<R){const Mr=He-R;He-=Mr,Se.vertical+=Mr}else if(R!==null&&Jt>Dr){const Mr=Jt-Dr;He-=Mr,Se.vertical+=Mr}if(R!==null&&ke<R){const Mr=ke-R;ke-=Mr,Se.horizontal+=Mr}else if(Vr>Ie){const Mr=Vr-Ie;ke-=Mr,Se.horizontal+=Mr}return{top:`${Math.round(He)}px`,left:`${Math.round(ke)}px`,transformOrigin:K6(Se)}},[i,a,bt,at,R]),[dt,mt]=ht.useState(A),wt=ht.useCallback(()=>{const ce=rt.current;if(!ce)return;const de=$(ce);de.top!==null&&ce.style.setProperty("top",de.top),de.left!==null&&(ce.style.left=de.left),ce.style.transformOrigin=de.transformOrigin,mt(!0)},[$]);ht.useEffect(()=>(X&&window.addEventListener("scroll",wt),()=>window.removeEventListener("scroll",wt)),[i,X,wt]);const pt=()=>{wt()},Ct=()=>{mt(!1)};ht.useEffect(()=>{A&&wt()}),ht.useImperativeHandle(n,()=>A?{updatePosition:()=>{wt()}}:null,[A,wt]),ht.useEffect(()=>{if(!A)return;const ce=YU(()=>{wt()}),de=wg(h5(i));return de.addEventListener("resize",ce),()=>{ce.clear(),de.removeEventListener("resize",ce)}},[i,A,wt]);let vt=z;const It={slots:{transition:G,...D},slotProps:{transition:j,paper:O,...U}},[Ft,Et]=Qd("transition",{elementType:lL,externalForwardedProps:It,ownerState:st,getSlotProps:ce=>({...ce,onEntering:(de,Se)=>{ce.onEntering?.(de,Se),pt()},onExited:de=>{ce.onExited?.(de),Ct()}}),additionalProps:{appear:!0,in:A}});z==="auto"&&!Ft.muiSupportAuto&&(vt=void 0);const lt=x||(i?tf(h5(i)).body:void 0),[kt,{slots:At,slotProps:Nt,...qt}]=Qd("root",{ref:e,elementType:Xlt,externalForwardedProps:{...It,...Y},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:D.backdrop},slotProps:{backdrop:KU(typeof U.backdrop=="function"?U.backdrop(st):U.backdrop,{invisible:!0})},container:lt,open:A},ownerState:st,className:ca(it.root,v)}),[ie,Ht]=Qd("paper",{ref:rt,className:it.paper,elementType:Iq,externalForwardedProps:It,shouldForwardComponentProp:!0,additionalProps:{elevation:k,style:dt?void 0:{opacity:0}},ownerState:st});return yr.jsx(kt,{...qt,...!q_(kt)&&{slots:At,slotProps:Nt,disableScrollLock:X},children:yr.jsx(Ft,{...Et,timeout:vt,children:yr.jsx(ie,{...Ht,children:g})})})});function Ylt(t){return bs("MuiMenu",t)}Ei("MuiMenu",["root","paper","list"]);const Klt={vertical:"top",horizontal:"right"},Zlt={vertical:"top",horizontal:"left"},Qlt=t=>{const{classes:e}=t;return _s({root:["root"],paper:["paper"],list:["list"]},Ylt,e)},Jlt=qr(Wlt,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),tut=qr(Iq,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),eut=qr(qlt,{name:"MuiMenu",slot:"List"})({outline:0}),rut=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiMenu"}),{autoFocus:n=!0,children:i,className:o,disableAutoFocusItem:u=!1,MenuListProps:a={},onClose:g,open:v,PaperProps:x={},PopoverClasses:k,transitionDuration:R="auto",TransitionProps:{onEntering:A,...O}={},variant:D="selectedMenu",slots:U={},slotProps:H={},...G}=r,z=PU(),j={...r,autoFocus:n,disableAutoFocusItem:u,MenuListProps:a,onEntering:A,PaperProps:x,transitionDuration:R,TransitionProps:O,variant:D},X=Qlt(j),Y=n&&!u&&v,rt=ht.useRef(null),st=(vt,It)=>{rt.current&&rt.current.adjustStyleForScrollbar(vt,{direction:z?"rtl":"ltr"}),A&&A(vt,It)},it=vt=>{vt.key==="Tab"&&(vt.preventDefault(),g&&g(vt,"tabKeyDown"))};let bt=-1;ht.Children.map(i,(vt,It)=>{ht.isValidElement(vt)&&(vt.props.disabled||(D==="selectedMenu"&&vt.props.selected||bt===-1)&&(bt=It))});const at={slots:U,slotProps:{list:a,transition:O,paper:x,...H}},$=gq({elementType:U.root,externalSlotProps:H.root,ownerState:j,className:[X.root,o]}),[dt,mt]=Qd("paper",{className:X.paper,elementType:tut,externalForwardedProps:at,shouldForwardComponentProp:!0,ownerState:j}),[wt,pt]=Qd("list",{className:ca(X.list,a.className),elementType:eut,shouldForwardComponentProp:!0,externalForwardedProps:at,getSlotProps:vt=>({...vt,onKeyDown:It=>{it(It),vt.onKeyDown?.(It)}}),ownerState:j}),Ct=typeof at.slotProps.transition=="function"?at.slotProps.transition(j):at.slotProps.transition;return yr.jsx(Jlt,{onClose:g,anchorOrigin:{vertical:"bottom",horizontal:z?"right":"left"},transformOrigin:z?Klt:Zlt,slots:{root:U.root,paper:dt,backdrop:U.backdrop,...U.transition&&{transition:U.transition}},slotProps:{root:$,paper:mt,backdrop:typeof H.backdrop=="function"?H.backdrop(j):H.backdrop,transition:{...Ct,onEntering:(...vt)=>{st(...vt),Ct?.onEntering?.(...vt)}}},open:v,ref:e,transitionDuration:R,ownerState:j,...G,classes:k,children:yr.jsx(wt,{actions:rt,autoFocus:n&&(bt===-1||u),autoFocusItem:Y,variant:D,...pt,children:i})})}),L1=Ei("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nut=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]};qr(u0,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:nut})(di(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L1.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${L1.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${L1.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${L1.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${L1.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${$6.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${$6.inset}`]:{marginLeft:52},[`& .${y_.root}`]:{marginTop:0,marginBottom:0},[`& .${y_.inset}`]:{paddingLeft:36},[`& .${H6.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${H6.root} svg`]:{fontSize:"1.25rem"}}}]})));function iut(t){return bs("MuiNativeSelect",t)}const w4=Ei("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aut=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:u}=t,a={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${Qn(r)}`,o&&"iconOpen",n&&"disabled"]};return _s(a,iut,e)},Rq=qr("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${w4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),out=qr(Rq,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rc,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${w4.multiple}`]:e.multiple}]}})({}),Nq=qr("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${w4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),sut=qr(Nq,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Qn(r.variant)}`],r.open&&e.iconOpen]}})({}),lut=ht.forwardRef(function(t,e){const{className:r,disabled:n,error:i,IconComponent:o,inputRef:u,variant:a="standard",...g}=t,v={...t,disabled:n,variant:a,error:i},x=aut(v);return yr.jsxs(ht.Fragment,{children:[yr.jsx(out,{ownerState:v,className:ca(x.select,r),disabled:n,ref:u||e,...g}),t.multiple?null:yr.jsx(sut,{as:o,ownerState:v,className:x.icon})]})});var Z6;const uut=qr("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:rc})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),cut=qr("legend",{name:"MuiNotchedOutlined",shouldForwardProp:rc})(di(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function hut(t){const{children:e,classes:r,className:n,label:i,notched:o,...u}=t,a=i!=null&&i!=="",g={...t,notched:o,withLabel:a};return yr.jsx(uut,{"aria-hidden":!0,className:n,ownerState:g,...u,children:yr.jsx(cut,{ownerState:g,children:a?yr.jsx("span",{children:i}):Z6||(Z6=yr.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const dut=t=>{const{classes:e}=t,r=_s({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ast,e);return{...e,...r}},fut=qr(UC,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:VC})(di(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Jp.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Jp.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${Jp.focused} .${Jp.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(gc()).map(([r])=>({props:{color:r},style:{[`&.${Jp.focused} .${Jp.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${Jp.error} .${Jp.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Jp.disabled} .${Jp.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),put=qr(hut,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(di(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),mut=qr(qC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:$C})(di(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Lq=ht.forwardRef(function(t,e){const r=Ys({props:t,name:"MuiOutlinedInput"}),{components:n={},fullWidth:i=!1,inputComponent:o="input",label:u,multiline:a=!1,notched:g,slots:v={},slotProps:x={},type:k="text",...R}=r,A=dut(r),O=Uw(),D=jC({props:r,muiFormControl:O,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),U={...r,color:D.color||"primary",disabled:D.disabled,error:D.error,focused:D.focused,formControl:O,fullWidth:i,hiddenLabel:D.hiddenLabel,multiline:a,size:D.size,type:k},H=v.root??n.Root??fut,G=v.input??n.Input??mut,[z,j]=Qd("notchedOutline",{elementType:put,className:A.notchedOutline,shouldForwardComponentProp:!0,ownerState:U,externalForwardedProps:{slots:v,slotProps:x},additionalProps:{label:u!=null&&u!==""&&D.required?yr.jsxs(ht.Fragment,{children:[u,"","*"]}):u}});return yr.jsx(v4,{slots:{root:H,input:G},slotProps:x,renderSuffix:X=>yr.jsx(z,{...j,notched:typeof g<"u"?g:!!(X.startAdornment||X.filled||X.focused)}),fullWidth:i,inputComponent:o,multiline:a,ref:e,type:k,...R,classes:{...A,notchedOutline:null}})});Lq.muiName="Input";const gut=ba(yr.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),yut=ba(yr.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}));qr("span",{name:"MuiRadioButtonIcon",shouldForwardProp:rc})({position:"relative",display:"flex"});qr(gut,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"});qr(yut,{name:"MuiRadioButtonIcon"})(di(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));const Q6=Ei("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);qr(_q,{shouldForwardProp:t=>rc(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${Qn(r.size)}`],e[`color${Qn(r.color)}`]]}})(di(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${Q6.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${Q6.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));Ei("MuiRadioGroup",["root","row","error"]);function Mq(t){return bs("MuiSelect",t)}const M1=Ei("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var J6;const vut=qr(Rq,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${M1.select}`]:e.select},{[`&.${M1.select}`]:e[r.variant]},{[`&.${M1.error}`]:e.error},{[`&.${M1.multiple}`]:e.multiple}]}})({[`&.${M1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),but=qr(Nq,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Qn(r.variant)}`],r.open&&e.iconOpen]}})({}),_ut=qr("input",{shouldForwardProp:t=>BC(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function tB(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function xut(t){return t==null||typeof t=="string"&&!t.trim()}const wut=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:u}=t,a={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${Qn(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return _s(a,Mq,e)},Sut=ht.forwardRef(function(t,e){const{"aria-describedby":r,"aria-label":n,autoFocus:i,autoWidth:o,children:u,className:a,defaultOpen:g,defaultValue:v,disabled:x,displayEmpty:k,error:R=!1,IconComponent:A,inputRef:O,labelId:D,MenuProps:U={},multiple:H,name:G,onBlur:z,onChange:j,onClose:X,onFocus:Y,onOpen:rt,open:st,readOnly:it,renderValue:bt,required:at,SelectDisplayProps:$={},tabIndex:dt,type:mt,value:wt,variant:pt="standard",...Ct}=t,[vt,It]=QN({controlled:wt,default:v,name:"Select"}),[Ft,Et]=QN({controlled:st,default:g,name:"Select"}),lt=ht.useRef(null),kt=ht.useRef(null),[At,Nt]=ht.useState(null),{current:qt}=ht.useRef(st!=null),[ie,Ht]=ht.useState(),ce=Uc(e,O),de=ht.useCallback(Mt=>{kt.current=Mt,Mt&&Nt(Mt)},[]),Se=At?.parentNode;ht.useImperativeHandle(ce,()=>({focus:()=>{kt.current.focus()},node:lt.current,value:vt}),[vt]),ht.useEffect(()=>{g&&Ft&&At&&!qt&&(Ht(o?null:Se.clientWidth),kt.current.focus())},[At,o]),ht.useEffect(()=>{i&&kt.current.focus()},[i]),ht.useEffect(()=>{if(!D)return;const Mt=tf(kt.current).getElementById(D);if(Mt){const Bt=()=>{getSelection().isCollapsed&&kt.current.focus()};return Mt.addEventListener("click",Bt),()=>{Mt.removeEventListener("click",Bt)}}},[D]);const $t=(Mt,Bt)=>{Mt?rt&&rt(Bt):X&&X(Bt),qt||(Ht(o?null:Se.clientWidth),Et(Mt))},He=Mt=>{Mt.button===0&&(Mt.preventDefault(),kt.current.focus(),$t(!0,Mt))},ke=Mt=>{$t(!1,Mt)},Jt=ht.Children.toArray(u),Vr=Mt=>{const Bt=Jt.find(oe=>oe.props.value===Mt.target.value);Bt!==void 0&&(It(Bt.props.value),j&&j(Mt,Bt))},vr=Mt=>Bt=>{let oe;if(Bt.currentTarget.hasAttribute("tabindex")){if(H){oe=Array.isArray(vt)?vt.slice():[];const ye=vt.indexOf(Mt.props.value);ye===-1?oe.push(Mt.props.value):oe.splice(ye,1)}else oe=Mt.props.value;if(Mt.props.onClick&&Mt.props.onClick(Bt),vt!==oe&&(It(oe),j)){const ye=Bt.nativeEvent||Bt,je=new ye.constructor(ye.type,ye);Object.defineProperty(je,"target",{writable:!0,value:{value:oe,name:G}}),j(je,Mt)}H||$t(!1,Bt)}},Dr=Mt=>{it||[" ","ArrowUp","ArrowDown","Enter"].includes(Mt.key)&&(Mt.preventDefault(),$t(!0,Mt))},Ie=At!==null&&Ft,Mr=Mt=>{!Ie&&z&&(Object.defineProperty(Mt,"target",{writable:!0,value:{value:vt,name:G}}),z(Mt))};delete Ct["aria-invalid"];let ir,Rr;const Pr=[];let Ir=!1;(iT({value:vt})||k)&&(bt?ir=bt(vt):Ir=!0);const dr=Jt.map(Mt=>{if(!ht.isValidElement(Mt))return null;let Bt;if(H){if(!Array.isArray(vt))throw new Error(_g(2));Bt=vt.some(oe=>tB(oe,Mt.props.value)),Bt&&Ir&&Pr.push(Mt.props.children)}else Bt=tB(vt,Mt.props.value),Bt&&Ir&&(Rr=Mt.props.children);return ht.cloneElement(Mt,{"aria-selected":Bt?"true":"false",onClick:vr(Mt),onKeyUp:oe=>{oe.key===" "&&oe.preventDefault(),Mt.props.onKeyUp&&Mt.props.onKeyUp(oe)},role:"option",selected:Bt,value:void 0,"data-value":Mt.props.value})});Ir&&(H?Pr.length===0?ir=null:ir=Pr.reduce((Mt,Bt,oe)=>(Mt.push(Bt),oe<Pr.length-1&&Mt.push(", "),Mt),[]):ir=Rr);let ar=ie;!o&&qt&&At&&(ar=Se.clientWidth);let Or;typeof dt<"u"?Or=dt:Or=x?null:0;const er=$.id||(G?`mui-component-select-${G}`:void 0),Fr={...t,variant:pt,value:vt,open:Ie,error:R},Ze=wut(Fr),rr={...U.PaperProps,...typeof U.slotProps?.paper=="function"?U.slotProps.paper(Fr):U.slotProps?.paper},Me={...U.MenuListProps,...typeof U.slotProps?.list=="function"?U.slotProps.list(Fr):U.slotProps?.list},jt=OC();return yr.jsxs(ht.Fragment,{children:[yr.jsx(vut,{as:"div",ref:de,tabIndex:Or,role:"combobox","aria-controls":Ie?jt:void 0,"aria-disabled":x?"true":void 0,"aria-expanded":Ie?"true":"false","aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[D,er].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":at?"true":void 0,"aria-invalid":R?"true":void 0,onKeyDown:Dr,onMouseDown:x||it?null:He,onBlur:Mr,onFocus:Y,...$,ownerState:Fr,className:ca($.className,Ze.select,a),id:er,children:xut(ir)?J6||(J6=yr.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ir}),yr.jsx(_ut,{"aria-invalid":R,value:Array.isArray(vt)?vt.join(","):vt,name:G,ref:lt,"aria-hidden":!0,onChange:Vr,tabIndex:-1,disabled:x,className:Ze.nativeInput,autoFocus:i,required:at,...Ct,ownerState:Fr}),yr.jsx(but,{as:A,className:Ze.icon,ownerState:Fr}),yr.jsx(rut,{id:`menu-${G||""}`,anchorEl:Se,open:Ie,onClose:ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...U,slotProps:{...U.slotProps,list:{"aria-labelledby":D,role:"listbox","aria-multiselectable":H?"true":void 0,disableListWrap:!0,id:jt,...Me},paper:{...rr,style:{minWidth:ar,...rr!=null?rr.style:null}}},children:dr})]})}),Eut=t=>{const{classes:e}=t,r=_s({root:["root"]},Mq,e);return{...e,...r}},S4={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>rc(t)&&t!=="variant"},Tut=qr(Cq,S4)(""),Cut=qr(Lq,S4)(""),Aut=qr(Tq,S4)(""),kut=ht.forwardRef(function(t,e){const r=Ys({name:"MuiSelect",props:t}),{autoWidth:n=!1,children:i,classes:o={},className:u,defaultOpen:a=!1,displayEmpty:g=!1,IconComponent:v=sst,id:x,input:k,inputProps:R,label:A,labelId:O,MenuProps:D,multiple:U=!1,native:H=!1,onClose:G,onOpen:z,open:j,renderValue:X,SelectDisplayProps:Y,variant:rt="outlined",...st}=r,it=H?lut:Sut,bt=Uw(),at=jC({props:r,muiFormControl:bt,states:["variant","error"]}),$=at.variant||rt,dt={...r,variant:$,classes:o},mt=Eut(dt),{root:wt,...pt}=mt,Ct=k||{standard:yr.jsx(Tut,{ownerState:dt}),outlined:yr.jsx(Cut,{label:A,ownerState:dt}),filled:yr.jsx(Aut,{ownerState:dt})}[$],vt=Uc(e,$w(Ct));return yr.jsx(ht.Fragment,{children:ht.cloneElement(Ct,{inputComponent:it,inputProps:{children:i,error:at.error,IconComponent:v,variant:$,type:void 0,multiple:U,...H?{id:x}:{autoWidth:n,defaultOpen:a,displayEmpty:g,labelId:O,MenuProps:D,onClose:G,onOpen:z,open:j,renderValue:X,SelectDisplayProps:{id:x,...Y}},...R,classes:R?Lh(pt,R.classes):pt,...k?k.props.inputProps:{}},...(U&&H||g)&&$==="outlined"?{notched:!0}:{},ref:vt,className:ca(Ct.props.className,u,mt.root),...!k&&{variant:$},...st})})});kut.muiName="Select";const Tf=Ei("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Iut=t=>{const{open:e}=t;return{offset:ca(e&&Tf.valueLabelOpen),circle:Tf.valueLabelCircle,label:Tf.valueLabelLabel}};function Rut(t){const{children:e,className:r,value:n}=t,i=Iut(t);return e?ht.cloneElement(e,{className:e.props.className},yr.jsxs(ht.Fragment,{children:[e.props.children,yr.jsx("span",{className:ca(i.offset,r),"aria-hidden":!0,children:yr.jsx("span",{className:i.circle,children:yr.jsx("span",{className:i.label,children:n})})})]})):null}qr("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${Qn(r.color)}`],r.size!=="medium"&&e[`size${Qn(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(di(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Tf.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Tf.dragging}`]:{[`& .${Tf.thumb}, & .${Tf.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]})));qr("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]});qr("span",{name:"MuiSlider",slot:"Track"})(di(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]})));qr("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${Qn(r.color)}`],r.size!=="medium"&&e[`thumbSize${Qn(r.size)}`]]}})(di(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Tf.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(gc()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Tf.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Tf.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]})));qr(Rut,{name:"MuiSlider",slot:"ValueLabel"})(di(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Tf.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Tf.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})));qr("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>BC(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(di(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})));qr("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>BC(t)&&t!=="markLabelActive"})(di(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})));Ei("MuiSnackbarContent",["root","message","action"]);qr(Ly,{name:"MuiSnackbarContent",slot:"Root"})(di(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(JE(t.palette.background.default,e)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:JE(t.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}));qr("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"});qr("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8});Ei("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);qr("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`anchorOrigin${Qn(r.anchorOrigin.vertical)}${Qn(r.anchorOrigin.horizontal)}`]]}})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]})));const d5=Ei("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),iy=32,f5=16;qr("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`direction${Qn(r.direction)}`]]}})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${d5.actions}`]:{flexDirection:"column-reverse",marginBottom:-iy,paddingBottom:f5+iy}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${d5.actions}`]:{flexDirection:"column",marginTop:-iy,paddingTop:f5+iy}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${d5.actions}`]:{flexDirection:"row-reverse",marginRight:-iy,paddingRight:f5+iy}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${d5.actions}`]:{flexDirection:"row",marginLeft:-iy,paddingLeft:f5+iy}}}]})));qr(Eq,{name:"MuiSpeedDial",slot:"Fab"})({pointerEvents:"auto"});qr("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.actions,!r.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]});const Fu=Ei("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Nut(t){return Math.round(t*1e5)/1e5}qr(Zot,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(di(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Fu.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Fu.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Fu.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Fu.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Fu.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Fu.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Fu.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Fu.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]})));qr("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${Qn(r.placement.split("-")[0])}`]]}})(di(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Fu.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Fu.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Fu.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Fu.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Nut(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Fu.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Fu.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Fu.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Fu.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Fu.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Fu.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Fu.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Fu.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Fu.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Fu.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]})));qr("span",{name:"MuiTooltip",slot:"Arrow"})(di(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));const p5=Ei("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]);qr(Eq,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.fab,!r.open&&e.fabClosed]}})(di(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:JE(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]})));qr("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.staticTooltip,!r.open&&e.staticTooltipClosed,e[`tooltipPlacement${Qn(r.tooltipPlacement)}`]]}})(di(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${p5.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${p5.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${p5.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${p5.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]})));qr("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel"})(di(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})));qr("div",{name:"MuiSwipeArea",shouldForwardProp:rc})(di(({theme:t})=>({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1,variants:[{props:{anchor:"left"},style:{right:"auto"}},{props:{anchor:"right"},style:{left:"auto",right:0}},{props:{anchor:"top"},style:{bottom:"auto",right:0}},{props:{anchor:"bottom"},style:{top:"auto",bottom:0,right:0}}]})));Ei("MuiToolbar",["root","gutters","regular","dense"]);qr("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(di(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]})));Ei("MuiTextField",["root"]);qr(blt,{name:"MuiTextField",slot:"Root"})({});RU({themeId:yp});ba(yr.jsx("path",{d:"M5 15H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}));ba(yr.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}));function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}var xp=Uint8Array,Cf=Uint16Array,E4=Int32Array,T4=new xp([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),C4=new xp([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eB=new xp([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pq=function(t,e){for(var r=new Cf(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new E4(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},Oq=Pq(T4,2),Lut=Oq.b,uL=Oq.r;Lut[28]=258,uL[258]=28;var Mut=Pq(C4,0),rB=Mut.r,Dq=new Cf(32768);for(var Pl=0;Pl<32768;++Pl){var ay=(Pl&43690)>>1|(Pl&21845)<<1;ay=(ay&52428)>>2|(ay&13107)<<2,ay=(ay&61680)>>4|(ay&3855)<<4,Dq[Pl]=((ay&65280)>>8|(ay&255)<<8)>>1}var D2=(function(t,e,r){for(var n=t.length,i=0,o=new Cf(e);i<n;++i)t[i]&&++o[t[i]-1];var u=new Cf(e);for(i=1;i<e;++i)u[i]=u[i-1]+o[i-1]<<1;var a;for(a=new Cf(n),i=0;i<n;++i)t[i]&&(a[i]=Dq[u[t[i]-1]++]>>15-t[i]);return a}),Qv=new xp(288);for(var Pl=0;Pl<144;++Pl)Qv[Pl]=8;for(var Pl=144;Pl<256;++Pl)Qv[Pl]=9;for(var Pl=256;Pl<280;++Pl)Qv[Pl]=7;for(var Pl=280;Pl<288;++Pl)Qv[Pl]=8;var aT=new xp(32);for(var Pl=0;Pl<32;++Pl)aT[Pl]=5;var Put=D2(Qv,9),Out=D2(aT,5),Bq=function(t){return(t+7)/8|0},Dut=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new xp(t.subarray(e,r))},ig=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},P1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Lk=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,o=r.slice();if(!i)return{t:Fq,l:0};if(i==1){var u=new xp(r[0].s+1);return u[r[0].s]=1,{t:u,l:1}}r.sort(function(X,Y){return X.f-Y.f}),r.push({s:-1,f:25001});var a=r[0],g=r[1],v=0,x=1,k=2;for(r[0]={s:-1,f:a.f+g.f,l:a,r:g};x!=i-1;)a=r[r[v].f<r[k].f?v++:k++],g=r[v!=x&&r[v].f<r[k].f?v++:k++],r[x++]={s:-1,f:a.f+g.f,l:a,r:g};for(var R=o[0].s,n=1;n<i;++n)o[n].s>R&&(R=o[n].s);var A=new Cf(R+1),O=cL(r[x-1],A,0);if(O>e){var n=0,D=0,U=O-e,H=1<<U;for(o.sort(function(Y,rt){return A[rt.s]-A[Y.s]||Y.f-rt.f});n<i;++n){var G=o[n].s;if(A[G]>e)D+=H-(1<<O-A[G]),A[G]=e;else break}for(D>>=U;D>0;){var z=o[n].s;A[z]<e?D-=1<<e-A[z]++-1:++n}for(;n>=0&&D;--n){var j=o[n].s;A[j]==e&&(--A[j],++D)}O=e}return{t:new xp(A),l:O}},cL=function(t,e,r){return t.s==-1?Math.max(cL(t.l,e,r+1),cL(t.r,e,r+1)):e[t.s]=r},nB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Cf(++e),n=0,i=t[0],o=1,u=function(g){r[n++]=g},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(i),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(i);o=1,i=t[a]}return{c:r.subarray(0,n),n:e}},O1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},zq=function(t,e,r){var n=r.length,i=Bq(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<n;++o)t[i+o+4]=r[o];return(i+4+n)*8},iB=function(t,e,r,n,i,o,u,a,g,v,x){ig(e,x++,r),++i[256];for(var k=Lk(i,15),R=k.t,A=k.l,O=Lk(o,15),D=O.t,U=O.l,H=nB(R),G=H.c,z=H.n,j=nB(D),X=j.c,Y=j.n,rt=new Cf(19),st=0;st<G.length;++st)++rt[G[st]&31];for(var st=0;st<X.length;++st)++rt[X[st]&31];for(var it=Lk(rt,7),bt=it.t,at=it.l,$=19;$>4&&!bt[eB[$-1]];--$);var dt=v+5<<3,mt=O1(i,Qv)+O1(o,aT)+u,wt=O1(i,R)+O1(o,D)+u+14+3*$+O1(rt,bt)+2*rt[16]+3*rt[17]+7*rt[18];if(g>=0&&dt<=mt&&dt<=wt)return zq(e,x,t.subarray(g,g+v));var pt,Ct,vt,It;if(ig(e,x,1+(wt<mt)),x+=2,wt<mt){pt=D2(R,A),Ct=R,vt=D2(D,U),It=D;var Ft=D2(bt,at);ig(e,x,z-257),ig(e,x+5,Y-1),ig(e,x+10,$-4),x+=14;for(var st=0;st<$;++st)ig(e,x+3*st,bt[eB[st]]);x+=3*$;for(var Et=[G,X],lt=0;lt<2;++lt)for(var kt=Et[lt],st=0;st<kt.length;++st){var At=kt[st]&31;ig(e,x,Ft[At]),x+=bt[At],At>15&&(ig(e,x,kt[st]>>5&127),x+=kt[st]>>12)}}else pt=Put,Ct=Qv,vt=Out,It=aT;for(var st=0;st<a;++st){var Nt=n[st];if(Nt>255){var At=Nt>>18&31;P1(e,x,pt[At+257]),x+=Ct[At+257],At>7&&(ig(e,x,Nt>>23&31),x+=T4[At]);var qt=Nt&31;P1(e,x,vt[qt]),x+=It[qt],qt>3&&(P1(e,x,Nt>>5&8191),x+=C4[qt])}else P1(e,x,pt[Nt]),x+=Ct[Nt]}return P1(e,x,pt[256]),x+Ct[256]},But=new E4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fq=new xp(0),zut=function(t,e,r,n,i,o){var u=o.z||t.length,a=new xp(n+u+5*(1+Math.ceil(u/7e3))+i),g=a.subarray(n,a.length-i),v=o.l,x=(o.r||0)&7;if(e){x&&(g[0]=o.r>>3);for(var k=But[e-1],R=k>>13,A=k&8191,O=(1<<r)-1,D=o.p||new Cf(32768),U=o.h||new Cf(O+1),H=Math.ceil(r/3),G=2*H,z=function(ke){return(t[ke]^t[ke+1]<<H^t[ke+2]<<G)&O},j=new E4(25e3),X=new Cf(288),Y=new Cf(32),rt=0,st=0,it=o.i||0,bt=0,at=o.w||0,$=0;it+2<u;++it){var dt=z(it),mt=it&32767,wt=U[dt];if(D[mt]=wt,U[dt]=mt,at<=it){var pt=u-it;if((rt>7e3||bt>24576)&&(pt>423||!v)){x=iB(t,g,0,j,X,Y,st,bt,$,it-$,x),bt=rt=st=0,$=it;for(var Ct=0;Ct<286;++Ct)X[Ct]=0;for(var Ct=0;Ct<30;++Ct)Y[Ct]=0}var vt=2,It=0,Ft=A,Et=mt-wt&32767;if(pt>2&&dt==z(it-Et))for(var lt=Math.min(R,pt)-1,kt=Math.min(32767,it),At=Math.min(258,pt);Et<=kt&&--Ft&&mt!=wt;){if(t[it+vt]==t[it+vt-Et]){for(var Nt=0;Nt<At&&t[it+Nt]==t[it+Nt-Et];++Nt);if(Nt>vt){if(vt=Nt,It=Et,Nt>lt)break;for(var qt=Math.min(Et,Nt-2),ie=0,Ct=0;Ct<qt;++Ct){var Ht=it-Et+Ct&32767,ce=D[Ht],de=Ht-ce&32767;de>ie&&(ie=de,wt=Ht)}}}mt=wt,wt=D[mt],Et+=mt-wt&32767}if(It){j[bt++]=268435456|uL[vt]<<18|rB[It];var Se=uL[vt]&31,$t=rB[It]&31;st+=T4[Se]+C4[$t],++X[257+Se],++Y[$t],at=it+vt,++rt}else j[bt++]=t[it],++X[t[it]]}}for(it=Math.max(it,at);it<u;++it)j[bt++]=t[it],++X[t[it]];x=iB(t,g,v,j,X,Y,st,bt,$,it-$,x),v||(o.r=x&7|g[x/8|0]<<3,x-=7,o.h=U,o.p=D,o.i=it,o.w=at)}else{for(var it=o.w||0;it<u+v;it+=65535){var He=it+65535;He>=u&&(g[x/8|0]=v,He=u),x=zq(g,x+1,t.subarray(it,He))}o.i=u}return Dut(a,0,n+Bq(x)+i)},jq=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,o=r.length|0,u=0;u!=o;){for(var a=Math.min(u+2655,o);u<a;++u)i+=n+=r[u];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Fut=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new xp(o.length+t.length);u.set(o),u.set(t,o.length),t=u,i.w=o.length}return zut(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Vq=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},jut=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=jq();i.p(e.dictionary),Vq(t,2,i.d())}};function hL(t,e){e||(e={});var r=jq();r.p(t);var n=Fut(t,e,e.dictionary?6:2,4);return jut(n,e),Vq(n,n.length-4,r.d()),n}var Vut=typeof TextDecoder<"u"&&new TextDecoder,$ut=0;try{Vut.decode(Fq,{stream:!0}),$ut=1}catch{}function Uut(t){if(Array.isArray(t))return t}function qut(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,u,a=[],g=!0,v=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(g=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);g=!0);}catch(x){v=!0,i=x}finally{try{if(!g&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(v)throw i}}return a}}function aB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Gut(t,e){if(t){if(typeof t=="string")return aB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aB(t,e):void 0}}function Hut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(t,e){return Uut(t)||qut(t,e)||Gut(t,e)||Hut()}function sB(t,e="utf8"){return new TextDecoder(e).decode(t)}const Xut=new TextEncoder;function Wut(t){return Xut.encode(t)}const Yut=1024*8,Kut=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Mk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class A4{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Yut,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,o=e.byteLength-i;let u=i;(ArrayBuffer.isView(e)||e instanceof A4)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Mk[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+n);if(this.littleEndian===Kut&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const g=new Mk[r](a.buffer);return this.offset+=n,g.reverse(),g}const u=new Mk[r](o);return this.offset+=n,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return sB(this.readBytes(e))}decodeText(e=1,r="utf8"){return sB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Wut(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mx(t){let e=t.length;for(;--e>=0;)t[e]=0}const Zut=3,Qut=258,$q=29,Jut=256,tct=Jut+1+$q,Uq=30,ect=512,rct=new Array((tct+2)*2);mx(rct);const nct=new Array(Uq*2);mx(nct);const ict=new Array(ect);mx(ict);const act=new Array(Qut-Zut+1);mx(act);const oct=new Array($q);mx(oct);const sct=new Array(Uq);mx(sct);const lct=(t,e,r,n)=>{let i=t&65535|0,o=t>>>16&65535|0,u=0;for(;r!==0;){u=r>2e3?2e3:r,r-=u;do i=i+e[n++]|0,o=o+i|0;while(--u);i%=65521,o%=65521}return i|o<<16|0};var dL=lct;const uct=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},cct=new Uint32Array(uct()),hct=(t,e,r,n)=>{const i=cct,o=n+r;t^=-1;for(let u=n;u<o;u++)t=t>>>8^i[(t^e[u])&255];return t^-1};var tm=hct,fL={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qq={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const dct=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fct=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)dct(r,n)&&(t[n]=r[n])}}return t},pct=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let u=t[n];r.set(u,i),i+=u.length}return r},Gq={assign:fct,flattenChunks:pct};let Hq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hq=!1}const aw=new Uint8Array(256);for(let t=0;t<256;t++)aw[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;aw[254]=aw[254]=1;var mct=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,o,u=t.length,a=0;for(i=0;i<u;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<u&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<u&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const gct=(t,e)=>{if(e<65534&&t.subarray&&Hq)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var yct=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let u=t[n++];if(u<128){o[i++]=u;continue}let a=aw[u];if(a>4){o[i++]=65533,n+=a-1;continue}for(u&=a===2?31:a===3?15:7;a>1&&n<r;)u=u<<6|t[n++]&63,a--;if(a>1){o[i++]=65533;continue}u<65536?o[i++]=u:(u-=65536,o[i++]=55296|u>>10&1023,o[i++]=56320|u&1023)}return gct(o,i)},vct=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+aw[t[r]]>e?r:e},pL={string2buf:mct,buf2string:yct,utf8border:vct};function bct(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _ct=bct;const m5=16209,xct=16191;var wct=function(t,e){let r,n,i,o,u,a,g,v,x,k,R,A,O,D,U,H,G,z,j,X,Y,rt,st,it;const bt=t.state;r=t.next_in,st=t.input,n=r+(t.avail_in-5),i=t.next_out,it=t.output,o=i-(e-t.avail_out),u=i+(t.avail_out-257),a=bt.dmax,g=bt.wsize,v=bt.whave,x=bt.wnext,k=bt.window,R=bt.hold,A=bt.bits,O=bt.lencode,D=bt.distcode,U=(1<<bt.lenbits)-1,H=(1<<bt.distbits)-1;t:do{A<15&&(R+=st[r++]<<A,A+=8,R+=st[r++]<<A,A+=8),G=O[R&U];e:for(;;){if(z=G>>>24,R>>>=z,A-=z,z=G>>>16&255,z===0)it[i++]=G&65535;else if(z&16){j=G&65535,z&=15,z&&(A<z&&(R+=st[r++]<<A,A+=8),j+=R&(1<<z)-1,R>>>=z,A-=z),A<15&&(R+=st[r++]<<A,A+=8,R+=st[r++]<<A,A+=8),G=D[R&H];r:for(;;){if(z=G>>>24,R>>>=z,A-=z,z=G>>>16&255,z&16){if(X=G&65535,z&=15,A<z&&(R+=st[r++]<<A,A+=8,A<z&&(R+=st[r++]<<A,A+=8)),X+=R&(1<<z)-1,X>a){t.msg="invalid distance too far back",bt.mode=m5;break t}if(R>>>=z,A-=z,z=i-o,X>z){if(z=X-z,z>v&&bt.sane){t.msg="invalid distance too far back",bt.mode=m5;break t}if(Y=0,rt=k,x===0){if(Y+=g-z,z<j){j-=z;do it[i++]=k[Y++];while(--z);Y=i-X,rt=it}}else if(x<z){if(Y+=g+x-z,z-=x,z<j){j-=z;do it[i++]=k[Y++];while(--z);if(Y=0,x<j){z=x,j-=z;do it[i++]=k[Y++];while(--z);Y=i-X,rt=it}}}else if(Y+=x-z,z<j){j-=z;do it[i++]=k[Y++];while(--z);Y=i-X,rt=it}for(;j>2;)it[i++]=rt[Y++],it[i++]=rt[Y++],it[i++]=rt[Y++],j-=3;j&&(it[i++]=rt[Y++],j>1&&(it[i++]=rt[Y++]))}else{Y=i-X;do it[i++]=it[Y++],it[i++]=it[Y++],it[i++]=it[Y++],j-=3;while(j>2);j&&(it[i++]=it[Y++],j>1&&(it[i++]=it[Y++]))}}else if((z&64)===0){G=D[(G&65535)+(R&(1<<z)-1)];continue r}else{t.msg="invalid distance code",bt.mode=m5;break t}break}}else if((z&64)===0){G=O[(G&65535)+(R&(1<<z)-1)];continue e}else if(z&32){bt.mode=xct;break t}else{t.msg="invalid literal/length code",bt.mode=m5;break t}break}}while(r<n&&i<u);j=A>>3,r-=j,A-=j<<3,R&=(1<<A)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=i<u?257+(u-i):257-(i-u),bt.hold=R,bt.bits=A};const vb=15,lB=852,uB=592,cB=0,Pk=1,hB=2,Sct=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ect=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Tct=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Cct=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Act=(t,e,r,n,i,o,u,a)=>{const g=a.bits;let v=0,x=0,k=0,R=0,A=0,O=0,D=0,U=0,H=0,G=0,z,j,X,Y,rt,st=null,it;const bt=new Uint16Array(vb+1),at=new Uint16Array(vb+1);let $=null,dt,mt,wt;for(v=0;v<=vb;v++)bt[v]=0;for(x=0;x<n;x++)bt[e[r+x]]++;for(A=g,R=vb;R>=1&&bt[R]===0;R--);if(A>R&&(A=R),R===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(k=1;k<R&&bt[k]===0;k++);for(A<k&&(A=k),U=1,v=1;v<=vb;v++)if(U<<=1,U-=bt[v],U<0)return-1;if(U>0&&(t===cB||R!==1))return-1;for(at[1]=0,v=1;v<vb;v++)at[v+1]=at[v]+bt[v];for(x=0;x<n;x++)e[r+x]!==0&&(u[at[e[r+x]]++]=x);if(t===cB?(st=$=u,it=20):t===Pk?(st=Sct,$=Ect,it=257):(st=Tct,$=Cct,it=0),G=0,x=0,v=k,rt=o,O=A,D=0,X=-1,H=1<<A,Y=H-1,t===Pk&&H>lB||t===hB&&H>uB)return 1;for(;;){dt=v-D,u[x]+1<it?(mt=0,wt=u[x]):u[x]>=it?(mt=$[u[x]-it],wt=st[u[x]-it]):(mt=96,wt=0),z=1<<v-D,j=1<<O,k=j;do j-=z,i[rt+(G>>D)+j]=dt<<24|mt<<16|wt|0;while(j!==0);for(z=1<<v-1;G&z;)z>>=1;if(z!==0?(G&=z-1,G+=z):G=0,x++,--bt[v]===0){if(v===R)break;v=e[r+u[x]]}if(v>A&&(G&Y)!==X){for(D===0&&(D=A),rt+=k,O=v-D,U=1<<O;O+D<R&&(U-=bt[O+D],!(U<=0));)O++,U<<=1;if(H+=1<<O,t===Pk&&H>lB||t===hB&&H>uB)return 1;X=G&Y,i[X]=A<<24|O<<16|rt-o|0}}return G!==0&&(i[rt+G]=v-D<<24|64<<16|0),a.bits=A,0};var B2=Act;const kct=0,Xq=1,Wq=2,{Z_FINISH:dB,Z_BLOCK:Ict,Z_TREES:g5,Z_OK:Jv,Z_STREAM_END:Rct,Z_NEED_DICT:Nct,Z_STREAM_ERROR:wp,Z_DATA_ERROR:Yq,Z_MEM_ERROR:Kq,Z_BUF_ERROR:Lct,Z_DEFLATED:fB}=qq,GC=16180,pB=16181,mB=16182,gB=16183,yB=16184,vB=16185,bB=16186,_B=16187,xB=16188,wB=16189,oT=16190,ag=16191,Ok=16192,SB=16193,Dk=16194,EB=16195,TB=16196,CB=16197,AB=16198,y5=16199,v5=16200,kB=16201,IB=16202,RB=16203,NB=16204,LB=16205,Bk=16206,MB=16207,PB=16208,au=16209,Zq=16210,Qq=16211,Mct=852,Pct=592,Oct=15,Dct=Oct,OB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Bct(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const h0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<GC||e.mode>Qq?1:0},Jq=t=>{if(h0(t))return wp;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=GC,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Mct),e.distcode=e.distdyn=new Int32Array(Pct),e.sane=1,e.back=-1,Jv},tG=t=>{if(h0(t))return wp;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Jq(t)},eG=(t,e)=>{let r;if(h0(t))return wp;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?wp:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,tG(t))},rG=(t,e)=>{if(!t)return wp;const r=new Bct;t.state=r,r.strm=t,r.window=null,r.mode=GC;const n=eG(t,e);return n!==Jv&&(t.state=null),n},zct=t=>rG(t,Dct);let DB=!0,zk,Fk;const Fct=t=>{if(DB){zk=new Int32Array(512),Fk=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(B2(Xq,t.lens,0,288,zk,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;B2(Wq,t.lens,0,32,Fk,0,t.work,{bits:5}),DB=!1}t.lencode=zk,t.lenbits=9,t.distcode=Fk,t.distbits=5},nG=(t,e,r,n)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},jct=(t,e)=>{let r,n,i,o,u,a,g,v,x,k,R,A,O,D,U=0,H,G,z,j,X,Y,rt,st;const it=new Uint8Array(4);let bt,at;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(h0(t)||!t.output||!t.input&&t.avail_in!==0)return wp;r=t.state,r.mode===ag&&(r.mode=Ok),u=t.next_out,i=t.output,g=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,v=r.hold,x=r.bits,k=a,R=g,st=Jv;t:for(;;)switch(r.mode){case GC:if(r.wrap===0){r.mode=Ok;break}for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.wrap&2&&v===35615){r.wbits===0&&(r.wbits=15),r.check=0,it[0]=v&255,it[1]=v>>>8&255,r.check=tm(r.check,it,2,0),v=0,x=0,r.mode=pB;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((v&255)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=au;break}if((v&15)!==fB){t.msg="unknown compression method",r.mode=au;break}if(v>>>=4,x-=4,rt=(v&15)+8,r.wbits===0&&(r.wbits=rt),rt>15||rt>r.wbits){t.msg="invalid window size",r.mode=au;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=v&512?wB:ag,v=0,x=0;break;case pB:for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.flags=v,(r.flags&255)!==fB){t.msg="unknown compression method",r.mode=au;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=au;break}r.head&&(r.head.text=v>>8&1),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,r.check=tm(r.check,it,2,0)),v=0,x=0,r.mode=mB;case mB:for(;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.head&&(r.head.time=v),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,it[2]=v>>>16&255,it[3]=v>>>24&255,r.check=tm(r.check,it,4,0)),v=0,x=0,r.mode=gB;case gB:for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.head&&(r.head.xflags=v&255,r.head.os=v>>8),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,r.check=tm(r.check,it,2,0)),v=0,x=0,r.mode=yB;case yB:if(r.flags&1024){for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.length=v,r.head&&(r.head.extra_len=v),r.flags&512&&r.wrap&4&&(it[0]=v&255,it[1]=v>>>8&255,r.check=tm(r.check,it,2,0)),v=0,x=0}else r.head&&(r.head.extra=null);r.mode=vB;case vB:if(r.flags&1024&&(A=r.length,A>a&&(A=a),A&&(r.head&&(rt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+A),rt)),r.flags&512&&r.wrap&4&&(r.check=tm(r.check,n,A,o)),a-=A,o+=A,r.length-=A),r.length))break t;r.length=0,r.mode=bB;case bB:if(r.flags&2048){if(a===0)break t;A=0;do rt=n[o+A++],r.head&&rt&&r.length<65536&&(r.head.name+=String.fromCharCode(rt));while(rt&&A<a);if(r.flags&512&&r.wrap&4&&(r.check=tm(r.check,n,A,o)),a-=A,o+=A,rt)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=_B;case _B:if(r.flags&4096){if(a===0)break t;A=0;do rt=n[o+A++],r.head&&rt&&r.length<65536&&(r.head.comment+=String.fromCharCode(rt));while(rt&&A<a);if(r.flags&512&&r.wrap&4&&(r.check=tm(r.check,n,A,o)),a-=A,o+=A,rt)break t}else r.head&&(r.head.comment=null);r.mode=xB;case xB:if(r.flags&512){for(;x<16;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.wrap&4&&v!==(r.check&65535)){t.msg="header crc mismatch",r.mode=au;break}v=0,x=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ag;break;case wB:for(;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}t.adler=r.check=OB(v),v=0,x=0,r.mode=oT;case oT:if(r.havedict===0)return t.next_out=u,t.avail_out=g,t.next_in=o,t.avail_in=a,r.hold=v,r.bits=x,Nct;t.adler=r.check=1,r.mode=ag;case ag:if(e===Ict||e===g5)break t;case Ok:if(r.last){v>>>=x&7,x-=x&7,r.mode=Bk;break}for(;x<3;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}switch(r.last=v&1,v>>>=1,x-=1,v&3){case 0:r.mode=SB;break;case 1:if(Fct(r),r.mode=y5,e===g5){v>>>=2,x-=2;break t}break;case 2:r.mode=TB;break;case 3:t.msg="invalid block type",r.mode=au}v>>>=2,x-=2;break;case SB:for(v>>>=x&7,x-=x&7;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if((v&65535)!==(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=au;break}if(r.length=v&65535,v=0,x=0,r.mode=Dk,e===g5)break t;case Dk:r.mode=EB;case EB:if(A=r.length,A){if(A>a&&(A=a),A>g&&(A=g),A===0)break t;i.set(n.subarray(o,o+A),u),a-=A,o+=A,g-=A,u+=A,r.length-=A;break}r.mode=ag;break;case TB:for(;x<14;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.nlen=(v&31)+257,v>>>=5,x-=5,r.ndist=(v&31)+1,v>>>=5,x-=5,r.ncode=(v&15)+4,v>>>=4,x-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=au;break}r.have=0,r.mode=CB;case CB:for(;r.have<r.ncode;){for(;x<3;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.lens[$[r.have++]]=v&7,v>>>=3,x-=3}for(;r.have<19;)r.lens[$[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,bt={bits:r.lenbits},st=B2(kct,r.lens,0,19,r.lencode,0,r.work,bt),r.lenbits=bt.bits,st){t.msg="invalid code lengths set",r.mode=au;break}r.have=0,r.mode=AB;case AB:for(;r.have<r.nlen+r.ndist;){for(;U=r.lencode[v&(1<<r.lenbits)-1],H=U>>>24,G=U>>>16&255,z=U&65535,!(H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(z<16)v>>>=H,x-=H,r.lens[r.have++]=z;else{if(z===16){for(at=H+2;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(v>>>=H,x-=H,r.have===0){t.msg="invalid bit length repeat",r.mode=au;break}rt=r.lens[r.have-1],A=3+(v&3),v>>>=2,x-=2}else if(z===17){for(at=H+3;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=H,x-=H,rt=0,A=3+(v&7),v>>>=3,x-=3}else{for(at=H+7;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=H,x-=H,rt=0,A=11+(v&127),v>>>=7,x-=7}if(r.have+A>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=au;break}for(;A--;)r.lens[r.have++]=rt}}if(r.mode===au)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=au;break}if(r.lenbits=9,bt={bits:r.lenbits},st=B2(Xq,r.lens,0,r.nlen,r.lencode,0,r.work,bt),r.lenbits=bt.bits,st){t.msg="invalid literal/lengths set",r.mode=au;break}if(r.distbits=6,r.distcode=r.distdyn,bt={bits:r.distbits},st=B2(Wq,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,bt),r.distbits=bt.bits,st){t.msg="invalid distances set",r.mode=au;break}if(r.mode=y5,e===g5)break t;case y5:r.mode=v5;case v5:if(a>=6&&g>=258){t.next_out=u,t.avail_out=g,t.next_in=o,t.avail_in=a,r.hold=v,r.bits=x,wct(t,R),u=t.next_out,i=t.output,g=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,v=r.hold,x=r.bits,r.mode===ag&&(r.back=-1);break}for(r.back=0;U=r.lencode[v&(1<<r.lenbits)-1],H=U>>>24,G=U>>>16&255,z=U&65535,!(H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(G&&(G&240)===0){for(j=H,X=G,Y=z;U=r.lencode[Y+((v&(1<<j+X)-1)>>j)],H=U>>>24,G=U>>>16&255,z=U&65535,!(j+H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=j,x-=j,r.back+=j}if(v>>>=H,x-=H,r.back+=H,r.length=z,G===0){r.mode=LB;break}if(G&32){r.back=-1,r.mode=ag;break}if(G&64){t.msg="invalid literal/length code",r.mode=au;break}r.extra=G&15,r.mode=kB;case kB:if(r.extra){for(at=r.extra;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=IB;case IB:for(;U=r.distcode[v&(1<<r.distbits)-1],H=U>>>24,G=U>>>16&255,z=U&65535,!(H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if((G&240)===0){for(j=H,X=G,Y=z;U=r.distcode[Y+((v&(1<<j+X)-1)>>j)],H=U>>>24,G=U>>>16&255,z=U&65535,!(j+H<=x);){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}v>>>=j,x-=j,r.back+=j}if(v>>>=H,x-=H,r.back+=H,G&64){t.msg="invalid distance code",r.mode=au;break}r.offset=z,r.extra=G&15,r.mode=RB;case RB:if(r.extra){for(at=r.extra;x<at;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=au;break}r.mode=NB;case NB:if(g===0)break t;if(A=R-g,r.offset>A){if(A=r.offset-A,A>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=au;break}A>r.wnext?(A-=r.wnext,O=r.wsize-A):O=r.wnext-A,A>r.length&&(A=r.length),D=r.window}else D=i,O=u-r.offset,A=r.length;A>g&&(A=g),g-=A,r.length-=A;do i[u++]=D[O++];while(--A);r.length===0&&(r.mode=v5);break;case LB:if(g===0)break t;i[u++]=r.length,g--,r.mode=v5;break;case Bk:if(r.wrap){for(;x<32;){if(a===0)break t;a--,v|=n[o++]<<x,x+=8}if(R-=g,t.total_out+=R,r.total+=R,r.wrap&4&&R&&(t.adler=r.check=r.flags?tm(r.check,i,R,u-R):dL(r.check,i,R,u-R)),R=g,r.wrap&4&&(r.flags?v:OB(v))!==r.check){t.msg="incorrect data check",r.mode=au;break}v=0,x=0}r.mode=MB;case MB:if(r.wrap&&r.flags){for(;x<32;){if(a===0)break t;a--,v+=n[o++]<<x,x+=8}if(r.wrap&4&&v!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=au;break}v=0,x=0}r.mode=PB;case PB:st=Rct;break t;case au:st=Yq;break t;case Zq:return Kq;case Qq:default:return wp}return t.next_out=u,t.avail_out=g,t.next_in=o,t.avail_in=a,r.hold=v,r.bits=x,(r.wsize||R!==t.avail_out&&r.mode<au&&(r.mode<Bk||e!==dB))&&nG(t,t.output,t.next_out,R-t.avail_out),k-=t.avail_in,R-=t.avail_out,t.total_in+=k,t.total_out+=R,r.total+=R,r.wrap&4&&R&&(t.adler=r.check=r.flags?tm(r.check,i,R,t.next_out-R):dL(r.check,i,R,t.next_out-R)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ag?128:0)+(r.mode===y5||r.mode===Dk?256:0),(k===0&&R===0||e===dB)&&st===Jv&&(st=Lct),st},Vct=t=>{if(h0(t))return wp;let e=t.state;return e.window&&(e.window=null),t.state=null,Jv},$ct=(t,e)=>{if(h0(t))return wp;const r=t.state;return(r.wrap&2)===0?wp:(r.head=e,e.done=!1,Jv)},Uct=(t,e)=>{const r=e.length;let n,i,o;return h0(t)||(n=t.state,n.wrap!==0&&n.mode!==oT)?wp:n.mode===oT&&(i=1,i=dL(i,e,r,0),i!==n.check)?Yq:(o=nG(t,e,r,r),o?(n.mode=Zq,Kq):(n.havedict=1,Jv))};var qct=tG,Gct=eG,Hct=Jq,Xct=zct,Wct=rG,Yct=jct,Kct=Vct,Zct=$ct,Qct=Uct,Jct="pako inflate (from Nodeca project)",fg={inflateReset:qct,inflateReset2:Gct,inflateResetKeep:Hct,inflateInit:Xct,inflateInit2:Wct,inflate:Yct,inflateEnd:Kct,inflateGetHeader:Zct,inflateSetDictionary:Qct,inflateInfo:Jct};function tht(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eht=tht;const iG=Object.prototype.toString,{Z_NO_FLUSH:rht,Z_FINISH:nht,Z_OK:ow,Z_STREAM_END:jk,Z_NEED_DICT:Vk,Z_STREAM_ERROR:iht,Z_DATA_ERROR:BB,Z_MEM_ERROR:aht}=qq;function Gw(t){this.options=Gq.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _ct,this.strm.avail_out=0;let r=fg.inflateInit2(this.strm,e.windowBits);if(r!==ow)throw new Error(fL[r]);if(this.header=new eht,fg.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=pL.string2buf(e.dictionary):iG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=fg.inflateSetDictionary(this.strm,e.dictionary),r!==ow)))throw new Error(fL[r])}Gw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,u,a;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?nht:rht,iG.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=fg.inflate(r,u),o===Vk&&i&&(o=fg.inflateSetDictionary(r,i),o===ow?o=fg.inflate(r,u):o===BB&&(o=Vk));r.avail_in>0&&o===jk&&r.state.wrap>0&&t[r.next_in]!==0;)fg.inflateReset(r),o=fg.inflate(r,u);switch(o){case iht:case BB:case Vk:case aht:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||o===jk))if(this.options.to==="string"){let g=pL.utf8border(r.output,r.next_out),v=r.next_out-g,x=pL.buf2string(r.output,g);r.next_out=v,r.avail_out=n-v,v&&r.output.set(r.output.subarray(g,g+v),0),this.onData(x)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===ow&&a===0)){if(o===jk)return o=fg.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Gw.prototype.onData=function(t){this.chunks.push(t)};Gw.prototype.onEnd=function(t){t===ow&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gq.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function oht(t,e){const r=new Gw(e);if(r.push(t),r.err)throw r.msg||fL[r.err];return r.result}var sht=Gw,lht=oht,uht={Inflate:sht,inflate:lht};const{Inflate:cht,inflate:hht}=uht;var zB=cht,dht=hht;const aG=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;aG[t]=e}const FB=4294967295;function fht(t,e,r){let n=t;for(let i=0;i<r;i++)n=aG[(n^e[i])&255]^n>>>8;return n}function pht(t,e){return(fht(FB,t,e)^FB)>>>0}function jB(t,e,r){const n=t.readUint32(),i=pht(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function oG(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function sG(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function lG(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function uG(t,e,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-i]+r[o]>>1)&255}}function cG(t,e,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+mht(e[o-i],r[o],r[o-i])&255}}function mht(t,e,r){const n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),u=Math.abs(n-r);return i<=o&&i<=u?t:o<=u?e:r}function ght(t,e,r,n,i,o){switch(t){case 0:oG(e,r,i);break;case 1:sG(e,r,i,o);break;case 2:lG(e,r,n,i);break;case 3:uG(e,r,n,i,o);break;case 4:cG(e,r,n,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const yht=new Uint16Array([255]),vht=new Uint8Array(yht.buffer),bht=vht[0]===255;function _ht(t){const{data:e,width:r,height:n,channels:i,depth:o}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,g=new Uint8Array(n*r*a);let v=0;for(let x=0;x<7;x++){const k=u[x],R=Math.ceil((r-k.x)/k.xStep),A=Math.ceil((n-k.y)/k.yStep);if(R<=0||A<=0)continue;const O=R*a,D=new Uint8Array(O);for(let U=0;U<A;U++){const H=e[v++],G=e.subarray(v,v+O);v+=O;const z=new Uint8Array(O);ght(H,G,z,D,O,a),D.set(z);for(let j=0;j<R;j++){const X=k.x+j*k.xStep,Y=k.y+U*k.yStep;if(!(X>=r||Y>=n))for(let rt=0;rt<a;rt++)g[(Y*r+X)*a+rt]=z[j*a+rt]}}}if(o===16){const x=new Uint16Array(g.buffer);if(bht)for(let k=0;k<x.length;k++)x[k]=xht(x[k]);return x}else return g}function xht(t){return(t&255)<<8|t>>8&255}const wht=new Uint16Array([255]),Sht=new Uint8Array(wht.buffer),Eht=Sht[0]===255,Tht=new Uint8Array(0);function VB(t){const{data:e,width:r,height:n,channels:i,depth:o}=t,u=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*r),g=new Uint8Array(n*a);let v=Tht,x=0,k,R;for(let A=0;A<n;A++){switch(k=e.subarray(x+1,x+1+a),R=g.subarray(A*a,(A+1)*a),e[x]){case 0:oG(k,R,a);break;case 1:sG(k,R,a,u);break;case 2:lG(k,R,v,a);break;case 3:uG(k,R,v,a,u);break;case 4:cG(k,R,v,a,u);break;default:throw new Error(`Unsupported filter: ${e[x]}`)}v=R,x+=a+1}if(o===16){const A=new Uint16Array(g.buffer);if(Eht)for(let O=0;O<A.length;O++)A[O]=Cht(A[O]);return A}else return g}function Cht(t){return(t&255)<<8|t>>8&255}const hE=Uint8Array.of(137,80,78,71,13,10,26,10);function $B(t){if(!Aht(t.readBytes(hE.length)))throw new Error("wrong PNG signature")}function Aht(t){if(t.length<hE.length)return!1;for(let e=0;e<hE.length;e++)if(t[e]!==hE[e])return!1;return!0}const kht="tEXt",Iht=0,hG=new TextDecoder("latin1");function Rht(t){if(Lht(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Nht=/^[\u0000-\u00FF]*$/;function Lht(t){if(!Nht.test(t))throw new Error("invalid latin1 text")}function Mht(t,e,r){const n=dG(e);t[n]=Pht(e,r-n.length-1)}function dG(t){for(t.mark();t.readByte()!==Iht;);const e=t.offset;t.reset();const r=hG.decode(t.readBytes(e-t.offset-1));return t.skip(1),Rht(r),r}function Pht(t,e){return hG.decode(t.readBytes(e))}const qd={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$k={UNKNOWN:-1,DEFLATE:0},UB={UNKNOWN:-1,ADAPTIVE:0},Uk={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},b5={NONE:0,BACKGROUND:1,PREVIOUS:2},qk={SOURCE:0,OVER:1};class Oht extends A4{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new zB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$k.UNKNOWN,this._filterMethod=UB.UNKNOWN,this._interlaceMethod=Uk.UNKNOWN,this._colorType=qd.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($B(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for($B(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case kht:Mht(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?jB(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?jB(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Dht(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case qd.GREYSCALE:n=1;break;case qd.TRUECOLOUR:n=3;break;case qd.INDEXED_COLOUR:n=1;break;case qd.GREYSCALE_ALPHA:n=2;break;case qd.TRUECOLOUR_ALPHA:n=4;break;case qd.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==$k.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case qd.GREYSCALE:case qd.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case qd.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case qd.UNKNOWN:case qd.GREYSCALE_ALPHA:case qd.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=dG(this),n=this.readUint8();if(n!==$k.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:dht(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=VB({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case b5.NONE:break;case b5.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const u=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)n.data[u+a]=0}break;case b5.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(o,u)=>{const a=((o+r.yOffset)*this._png.width+r.xOffset+u)*this._png.channels,g=(o*r.width+u)*this._png.channels;return{index:a,frameIndex:g}};switch(r.blendOp){case qk.SOURCE:for(let o=0;o<r.height;o++)for(let u=0;u<r.width;u++){const{index:a,frameIndex:g}=i(o,u);for(let v=0;v<this._png.channels;v++)e.data[a+v]=r.data[g+v]}break;case qk.OVER:for(let o=0;o<r.height;o++)for(let u=0;u<r.width;u++){const{index:a,frameIndex:g}=i(o,u);for(let v=0;v<this._png.channels;v++){const x=r.data[g+this._png.channels-1]/n,k=v%(this._png.channels-1)===0?1:r.data[g+v],R=Math.floor(x*k+(1-x)*e.data[a+v]);e.data[a+v]+=R}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==UB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Uk.NO_INTERLACE)this._png.data=VB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Uk.ADAM7)this._png.data=_ht({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:b5.NONE,blendOp:qk.SOURCE,data:e}),this._inflator=new zB,this._writingDataChunks=!1}}function Dht(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var qB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(qB||(qB={}));function Bht(t,e){return new Oht(t,e).decode()}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 3.0.2 Built on 2025-08-26T11:48:30.930Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var pa=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Gk(){pa.console&&typeof pa.console.log=="function"&&pa.console.log.apply(pa.console,arguments)}var hl={log:Gk,warn:function(t){pa.console&&(typeof pa.console.warn=="function"?pa.console.warn.apply(pa.console,arguments):Gk.call(null,arguments))},error:function(t){pa.console&&(typeof pa.console.error=="function"?pa.console.error.apply(pa.console,arguments):Gk(t))}};function Hk(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){kv(n.response,e,r)},n.onerror=function(){hl.error("could not download file")},n.send()}function GB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function _5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var kv=pa.saveAs||((typeof window>"u"?"undefined":Ws(window))!=="object"||window!==pa?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=pa.URL||pa.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?GB(i.href)?Hk(t,e,r):_5(i,i.target="_blank"):_5(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){_5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(GB(t))Hk(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){_5(n)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Ws(o)!=="object"&&(hl.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Hk(t,e,r);var i=t.type==="application/octet-stream",o=/constructor/i.test(pa.HTMLElement)||pa.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&o)&&(typeof FileReader>"u"?"undefined":Ws(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var x=a.result;x=u?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},a.readAsDataURL(t)}else{var g=pa.URL||pa.webkitURL,v=g.createObjectURL(t);n?n.location=v:location.href=v,n=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fG(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,u=i.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),g=this.g.toString(16),v=this.b.toString(16);return a.length==1&&(a="0"+a),g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),"#"+a+g+v}}var dE=pa.atob.bind(pa),HB=pa.btoa.bind(pa);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Xk(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];r=Ch(r,n,i,o,e[0],7,-680876936),o=Ch(o,r,n,i,e[1],12,-389564586),i=Ch(i,o,r,n,e[2],17,606105819),n=Ch(n,i,o,r,e[3],22,-1044525330),r=Ch(r,n,i,o,e[4],7,-176418897),o=Ch(o,r,n,i,e[5],12,1200080426),i=Ch(i,o,r,n,e[6],17,-1473231341),n=Ch(n,i,o,r,e[7],22,-45705983),r=Ch(r,n,i,o,e[8],7,1770035416),o=Ch(o,r,n,i,e[9],12,-1958414417),i=Ch(i,o,r,n,e[10],17,-42063),n=Ch(n,i,o,r,e[11],22,-1990404162),r=Ch(r,n,i,o,e[12],7,1804603682),o=Ch(o,r,n,i,e[13],12,-40341101),i=Ch(i,o,r,n,e[14],17,-1502002290),r=Ah(r,n=Ch(n,i,o,r,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Ah(o,r,n,i,e[6],9,-1069501632),i=Ah(i,o,r,n,e[11],14,643717713),n=Ah(n,i,o,r,e[0],20,-373897302),r=Ah(r,n,i,o,e[5],5,-701558691),o=Ah(o,r,n,i,e[10],9,38016083),i=Ah(i,o,r,n,e[15],14,-660478335),n=Ah(n,i,o,r,e[4],20,-405537848),r=Ah(r,n,i,o,e[9],5,568446438),o=Ah(o,r,n,i,e[14],9,-1019803690),i=Ah(i,o,r,n,e[3],14,-187363961),n=Ah(n,i,o,r,e[8],20,1163531501),r=Ah(r,n,i,o,e[13],5,-1444681467),o=Ah(o,r,n,i,e[2],9,-51403784),i=Ah(i,o,r,n,e[7],14,1735328473),r=kh(r,n=Ah(n,i,o,r,e[12],20,-1926607734),i,o,e[5],4,-378558),o=kh(o,r,n,i,e[8],11,-2022574463),i=kh(i,o,r,n,e[11],16,1839030562),n=kh(n,i,o,r,e[14],23,-35309556),r=kh(r,n,i,o,e[1],4,-1530992060),o=kh(o,r,n,i,e[4],11,1272893353),i=kh(i,o,r,n,e[7],16,-155497632),n=kh(n,i,o,r,e[10],23,-1094730640),r=kh(r,n,i,o,e[13],4,681279174),o=kh(o,r,n,i,e[0],11,-358537222),i=kh(i,o,r,n,e[3],16,-722521979),n=kh(n,i,o,r,e[6],23,76029189),r=kh(r,n,i,o,e[9],4,-640364487),o=kh(o,r,n,i,e[12],11,-421815835),i=kh(i,o,r,n,e[15],16,530742520),r=Ih(r,n=kh(n,i,o,r,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Ih(o,r,n,i,e[7],10,1126891415),i=Ih(i,o,r,n,e[14],15,-1416354905),n=Ih(n,i,o,r,e[5],21,-57434055),r=Ih(r,n,i,o,e[12],6,1700485571),o=Ih(o,r,n,i,e[3],10,-1894986606),i=Ih(i,o,r,n,e[10],15,-1051523),n=Ih(n,i,o,r,e[1],21,-2054922799),r=Ih(r,n,i,o,e[8],6,1873313359),o=Ih(o,r,n,i,e[15],10,-30611744),i=Ih(i,o,r,n,e[6],15,-1560198380),n=Ih(n,i,o,r,e[13],21,1309151649),r=Ih(r,n,i,o,e[4],6,-145523070),o=Ih(o,r,n,i,e[11],10,-1120210379),i=Ih(i,o,r,n,e[2],15,718787259),n=Ih(n,i,o,r,e[9],21,-343485551),t[0]=my(r,t[0]),t[1]=my(n,t[1]),t[2]=my(i,t[2]),t[3]=my(o,t[3])}function HC(t,e,r,n,i,o){return e=my(my(e,t),my(n,o)),my(e<<i|e>>>32-i,r)}function Ch(t,e,r,n,i,o,u){return HC(e&r|~e&n,t,e,i,o,u)}function Ah(t,e,r,n,i,o,u){return HC(e&n|r&~n,t,e,i,o,u)}function kh(t,e,r,n,i,o,u){return HC(e^r^n,t,e,i,o,u)}function Ih(t,e,r,n,i,o,u){return HC(r^(e|~n),t,e,i,o,u)}function pG(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Xk(n,zht(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Xk(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Xk(n,i),n}function zht(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var XB="0123456789abcdef".split("");function Fht(t){for(var e="",r=0;r<4;r++)e+=XB[t>>8*r+4&15]+XB[t>>8*r&15];return e}function jht(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function mL(t){return pG(t).map(jht).join("")}var Vht=(function(t){for(var e=0;e<t.length;e++)t[e]=Fht(t[e]);return t.join("")})(pG("hello"))!="5d41402abc4b2a76b9719d911017c592";function my(t,e){if(Vht){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gL(t,e){var r,n,i,o;if(t!==r){for(var u=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],g=0;g<256;g++)a[g]=g;var v=0;for(g=0;g<256;g++){var x=a[g];v=(v+x+u.charCodeAt(g))%256,a[g]=a[v],a[v]=x}r=t,n=a}else a=n;var k=e.length,R=0,A=0,O="";for(g=0;g<k;g++)A=(A+(x=a[R=(R+1)%256]))%256,a[R]=a[A],a[A]=x,u=a[(a[R]+a[A])%256],O+=String.fromCharCode(e.charCodeAt(g)^u);return O}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WB={print:4,modify:8,copy:16,"annot-forms":32};function zb(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(WB.perm!==void 0)throw new Error("Invalid permission: "+a);i+=WB[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^i)),this.encryptionKey=mL(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=gL(this.encryptionKey,this.padding)}function Fb(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function YB(t){if(Ws(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!i],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[r]){var u=e[r][o];try{u[0].apply(t,n)}catch(a){pa.console&&hl.error("jsPDF PubSub Error",a.message,a)}u[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sT(t){if(!(this instanceof sT))return new sT(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function mG(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Lv(t,e,r,n,i){if(!(this instanceof Lv))return new Lv(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,mG.call(this,n,i)}function v_(t,e,r,n,i){if(!(this instanceof v_))return new v_(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,mG.call(this,n,i)}function Li(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],u=[],a=1,g=16,v="S",x=null;Ws(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,o=t.compress||t.compressPdf||o,(x=t.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(g=t.floatPrecision),v=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),n=n||"mm",r=(""+(r||"P")).toLowerCase();var k=t.putOnlyUsedFonts||!1,R={},A={internal:{},__private__:{}};A.__private__.PubSub=YB;var O="1.3",D=A.__private__.getPdfVersion=function(){return O};A.__private__.setPdfVersion=function(ut){O=ut};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return U};var H=A.__private__.getPageFormat=function(ut){return U[ut]};i=i||"a4";var G="compat",z="advanced",j=G;function X(){this.saveGraphicsState(),Jt(new Kr(Ze,0,0,-Ze,0,Ba()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),v="n",j=z}function Y(){this.restoreGraphicsState(),v="S",j=G}var rt=A.__private__.combineFontStyleAndFontWeight=function(ut,Yt){if(ut=="bold"&&Yt=="normal"||ut=="bold"&&Yt==400||ut=="normal"&&Yt=="italic"||ut=="bold"&&Yt=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Yt&&(ut=Yt==400||Yt==="normal"?ut==="italic"?"italic":"normal":Yt!=700&&Yt!=="bold"||ut!=="normal"?(Yt==700?"bold":Yt)+""+ut:"bold"),ut};A.advancedAPI=function(ut){var Yt=j===G;return Yt&&X.call(this),typeof ut!="function"||(ut(this),Yt&&Y.call(this)),this},A.compatAPI=function(ut){var Yt=j===z;return Yt&&Y.call(this),typeof ut!="function"||(ut(this),Yt&&X.call(this)),this},A.isAdvancedAPI=function(){return j===z};var st,it=function(ut){if(j!==z)throw new Error(ut+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},bt=A.roundToPrecision=A.__private__.roundToPrecision=function(ut,Yt){var ve=e||Yt;if(isNaN(ut)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ut.toFixed(ve).replace(/0+$/,"")};st=A.hpf=A.__private__.hpf=typeof g=="number"?function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.hpf");return bt(ut,g)}:g==="smart"?function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.hpf");return bt(ut,ut>-1&&ut<1?16:5)}:function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.hpf");return bt(ut,16)};var at=A.f2=A.__private__.f2=function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.f2");return bt(ut,2)},$=A.__private__.f3=function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.f3");return bt(ut,3)},dt=A.scale=A.__private__.scale=function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.scale");return j===G?ut*Ze:j===z?ut:void 0},mt=function(ut){return dt((function(Yt){return j===G?Ba()-Yt:j===z?Yt:void 0})(ut))};A.__private__.setPrecision=A.setPrecision=function(ut){typeof parseInt(ut,10)=="number"&&(e=parseInt(ut,10))};var wt,pt="00000000000000000000000000000000",Ct=A.__private__.getFileId=function(){return pt},vt=A.__private__.setFileId=function(ut){return pt=ut!==void 0&&/^[a-fA-F0-9]{32}$/.test(ut)?ut.toUpperCase():pt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Ko=new zb(x.userPermissions,x.userPassword,x.ownerPassword,pt)),pt};A.setFileId=function(ut){return vt(ut),this},A.getFileId=function(){return Ct()};var It=A.__private__.convertDateToPDFDate=function(ut){var Yt=ut.getTimezoneOffset(),ve=Yt<0?"+":"-",Xe=Math.floor(Math.abs(Yt/60)),pr=Math.abs(Yt%60),Yr=[ve,At(Xe),"'",At(pr),"'"].join("");return["D:",ut.getFullYear(),At(ut.getMonth()+1),At(ut.getDate()),At(ut.getHours()),At(ut.getMinutes()),At(ut.getSeconds()),Yr].join("")},Ft=A.__private__.convertPDFDateToDate=function(ut){var Yt=parseInt(ut.substr(2,4),10),ve=parseInt(ut.substr(6,2),10)-1,Xe=parseInt(ut.substr(8,2),10),pr=parseInt(ut.substr(10,2),10),Yr=parseInt(ut.substr(12,2),10),mn=parseInt(ut.substr(14,2),10);return new Date(Yt,ve,Xe,pr,Yr,mn,0)},Et=A.__private__.setCreationDate=function(ut){var Yt;if(ut===void 0&&(ut=new Date),ut instanceof Date)Yt=It(ut);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ut))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Yt=ut}return wt=Yt},lt=A.__private__.getCreationDate=function(ut){var Yt=wt;return ut==="jsDate"&&(Yt=Ft(wt)),Yt};A.setCreationDate=function(ut){return Et(ut),this},A.getCreationDate=function(ut){return lt(ut)};var kt,At=A.__private__.padd2=function(ut){return("0"+parseInt(ut)).slice(-2)},Nt=A.__private__.padd2Hex=function(ut){return("00"+(ut=ut.toString())).substr(ut.length)},qt=0,ie=[],Ht=[],ce=0,de=[],Se=[],$t=!1,He=Ht;A.__private__.setCustomOutputDestination=function(ut){$t=!0,He=ut};var ke=function(ut){$t||(He=ut)};A.__private__.resetCustomOutputDestination=function(){$t=!1,He=Ht};var Jt=A.__private__.out=function(ut){return ut=ut.toString(),ce+=ut.length+1,He.push(ut),He},Vr=A.__private__.write=function(ut){return Jt(arguments.length===1?ut.toString():Array.prototype.join.call(arguments," "))},vr=A.__private__.getArrayBuffer=function(ut){for(var Yt=ut.length,ve=new ArrayBuffer(Yt),Xe=new Uint8Array(ve);Yt--;)Xe[Yt]=ut.charCodeAt(Yt);return ve},Dr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return Dr};var Ie=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(ut){return Ie=j===z?ut/Ze:ut,this};var Mr,ir=A.__private__.getFontSize=A.getFontSize=function(){return j===G?Ie:Ie*Ze},Rr=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(ut){return Rr=ut,this},A.__private__.getR2L=A.getR2L=function(){return Rr};var Pr,Ir=A.__private__.setZoomMode=function(ut){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ut))Mr=ut;else if(isNaN(ut)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ut)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ut+'" is not recognized.');Mr=ut}else Mr=parseInt(ut,10)};A.__private__.getZoomMode=function(){return Mr};var dr,ar=A.__private__.setPageMode=function(ut){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ut)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ut+'" is not recognized.');Pr=ut};A.__private__.getPageMode=function(){return Pr};var Or=A.__private__.setLayoutMode=function(ut){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ut)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ut+'" is not recognized.');dr=ut};A.__private__.getLayoutMode=function(){return dr},A.__private__.setDisplayMode=A.setDisplayMode=function(ut,Yt,ve){return Ir(ut),Or(Yt),ar(ve),this};var er={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(ut){if(Object.keys(er).indexOf(ut)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return er[ut]},A.__private__.getDocumentProperties=function(){return er},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(ut){for(var Yt in er)er.hasOwnProperty(Yt)&&ut[Yt]&&(er[Yt]=ut[Yt]);return this},A.__private__.setDocumentProperty=function(ut,Yt){if(Object.keys(er).indexOf(ut)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return er[ut]=Yt};var Fr,Ze,rr,Me,jt,Mt={},Bt={},oe=[],ye={},je={},Ge={},Ue={},fr=null,Ke=0,Pe=[],cr=new YB(A),Oe=t.hotfixes||[],Wr={},or={},vn=[],Kr=function ut(Yt,ve,Xe,pr,Yr,mn){if(!(this instanceof ut))return new ut(Yt,ve,Xe,pr,Yr,mn);isNaN(Yt)&&(Yt=1),isNaN(ve)&&(ve=0),isNaN(Xe)&&(Xe=0),isNaN(pr)&&(pr=1),isNaN(Yr)&&(Yr=0),isNaN(mn)&&(mn=0),this._matrix=[Yt,ve,Xe,pr,Yr,mn]};Object.defineProperty(Kr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ut){this._matrix[0]=ut}}),Object.defineProperty(Kr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ut){this._matrix[1]=ut}}),Object.defineProperty(Kr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ut){this._matrix[2]=ut}}),Object.defineProperty(Kr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ut){this._matrix[3]=ut}}),Object.defineProperty(Kr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ut){this._matrix[4]=ut}}),Object.defineProperty(Kr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ut){this._matrix[5]=ut}}),Object.defineProperty(Kr.prototype,"a",{get:function(){return this._matrix[0]},set:function(ut){this._matrix[0]=ut}}),Object.defineProperty(Kr.prototype,"b",{get:function(){return this._matrix[1]},set:function(ut){this._matrix[1]=ut}}),Object.defineProperty(Kr.prototype,"c",{get:function(){return this._matrix[2]},set:function(ut){this._matrix[2]=ut}}),Object.defineProperty(Kr.prototype,"d",{get:function(){return this._matrix[3]},set:function(ut){this._matrix[3]=ut}}),Object.defineProperty(Kr.prototype,"e",{get:function(){return this._matrix[4]},set:function(ut){this._matrix[4]=ut}}),Object.defineProperty(Kr.prototype,"f",{get:function(){return this._matrix[5]},set:function(ut){this._matrix[5]=ut}}),Object.defineProperty(Kr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kr.prototype.join=function(ut){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(st).join(ut)},Kr.prototype.multiply=function(ut){var Yt=ut.sx*this.sx+ut.shy*this.shx,ve=ut.sx*this.shy+ut.shy*this.sy,Xe=ut.shx*this.sx+ut.sy*this.shx,pr=ut.shx*this.shy+ut.sy*this.sy,Yr=ut.tx*this.sx+ut.ty*this.shx+this.tx,mn=ut.tx*this.shy+ut.ty*this.sy+this.ty;return new Kr(Yt,ve,Xe,pr,Yr,mn)},Kr.prototype.decompose=function(){var ut=this.sx,Yt=this.shy,ve=this.shx,Xe=this.sy,pr=this.tx,Yr=this.ty,mn=Math.sqrt(ut*ut+Yt*Yt),$n=(ut/=mn)*ve+(Yt/=mn)*Xe;ve-=ut*$n,Xe-=Yt*$n;var ri=Math.sqrt(ve*ve+Xe*Xe);return $n/=ri,ut*(Xe/=ri)<Yt*(ve/=ri)&&(ut=-ut,Yt=-Yt,$n=-$n,mn=-mn),{scale:new Kr(mn,0,0,ri,0,0),translate:new Kr(1,0,0,1,pr,Yr),rotate:new Kr(ut,Yt,-Yt,ut,0,0),skew:new Kr(1,0,$n,1,0,0)}},Kr.prototype.toString=function(ut){return this.join(" ")},Kr.prototype.inversed=function(){var ut=this.sx,Yt=this.shy,ve=this.shx,Xe=this.sy,pr=this.tx,Yr=this.ty,mn=1/(ut*Xe-Yt*ve),$n=Xe*mn,ri=-Yt*mn,Ti=-ve*mn,Fi=ut*mn;return new Kr($n,ri,Ti,Fi,-$n*pr-Ti*Yr,-ri*pr-Fi*Yr)},Kr.prototype.applyToPoint=function(ut){var Yt=ut.x*this.sx+ut.y*this.shx+this.tx,ve=ut.x*this.shy+ut.y*this.sy+this.ty;return new _u(Yt,ve)},Kr.prototype.applyToRectangle=function(ut){var Yt=this.applyToPoint(ut),ve=this.applyToPoint(new _u(ut.x+ut.w,ut.y+ut.h));return new Ms(Yt.x,Yt.y,ve.x-Yt.x,ve.y-Yt.y)},Kr.prototype.clone=function(){var ut=this.sx,Yt=this.shy,ve=this.shx,Xe=this.sy,pr=this.tx,Yr=this.ty;return new Kr(ut,Yt,ve,Xe,pr,Yr)},A.Matrix=Kr;var Kn=A.matrixMult=function(ut,Yt){return Yt.multiply(ut)},Pt=new Kr(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Pt;var Xt=function(ut,Yt){if(!je[ut]){var ve=(Yt instanceof Lv?"Sh":"P")+(Object.keys(ye).length+1).toString(10);Yt.id=ve,je[ut]=ve,ye[ve]=Yt,cr.publish("addPattern",Yt)}};A.ShadingPattern=Lv,A.TilingPattern=v_,A.addShadingPattern=function(ut,Yt){return it("addShadingPattern()"),Xt(ut,Yt),this},A.beginTilingPattern=function(ut){it("beginTilingPattern()"),xu(ut.boundingBox[0],ut.boundingBox[1],ut.boundingBox[2]-ut.boundingBox[0],ut.boundingBox[3]-ut.boundingBox[1],ut.matrix)},A.endTilingPattern=function(ut,Yt){it("endTilingPattern()"),Yt.stream=Se[kt].join(`
`),Xt(ut,Yt),cr.publish("endTilingPattern",Yt),vn.pop().restore()};var be,ze=A.__private__.newObject=function(){var ut=Lr();return yn(ut,!0),ut},Lr=A.__private__.newObjectDeferred=function(){return qt++,ie[qt]=function(){return ce},qt},yn=function(ut,Yt){return Yt=typeof Yt=="boolean"&&Yt,ie[ut]=ce,Yt&&Jt(ut+" 0 obj"),ut},$r=A.__private__.newAdditionalObject=function(){var ut={objId:Lr(),content:""};return de.push(ut),ut},fi=Lr(),On=Lr(),li=A.__private__.decodeColorString=function(ut){var Yt=ut.split(" ");if(Yt.length!==2||Yt[1]!=="g"&&Yt[1]!=="G")Yt.length!==5||Yt[4]!=="k"&&Yt[4]!=="K"||(Yt=[(1-Yt[0])*(1-Yt[3]),(1-Yt[1])*(1-Yt[3]),(1-Yt[2])*(1-Yt[3]),"r"]);else{var ve=parseFloat(Yt[0]);Yt=[ve,ve,ve,"r"]}for(var Xe="#",pr=0;pr<3;pr++)Xe+=("0"+Math.floor(255*parseFloat(Yt[pr])).toString(16)).slice(-2);return Xe},Ki=A.__private__.encodeColorString=function(ut){var Yt;typeof ut=="string"&&(ut={ch1:ut});var ve=ut.ch1,Xe=ut.ch2,pr=ut.ch3,Yr=ut.ch4,mn=ut.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var $n=new fG(ve);if($n.ok)ve=$n.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var ri=parseInt(ve.substr(1),16);ve=ri>>16&255,Xe=ri>>8&255,pr=255&ri}if(Xe===void 0||Yr===void 0&&ve===Xe&&Xe===pr)Yt=typeof ve=="string"?ve+" "+mn[0]:ut.precision===2?at(ve/255)+" "+mn[0]:$(ve/255)+" "+mn[0];else if(Yr===void 0||Ws(Yr)==="object"){if(Yr&&!isNaN(Yr.a)&&Yr.a===0)return["1.","1.","1.",mn[1]].join(" ");Yt=typeof ve=="string"?[ve,Xe,pr,mn[1]].join(" "):ut.precision===2?[at(ve/255),at(Xe/255),at(pr/255),mn[1]].join(" "):[$(ve/255),$(Xe/255),$(pr/255),mn[1]].join(" ")}else Yt=typeof ve=="string"?[ve,Xe,pr,Yr,mn[2]].join(" "):ut.precision===2?[at(ve),at(Xe),at(pr),at(Yr),mn[2]].join(" "):[$(ve),$(Xe),$(pr),$(Yr),mn[2]].join(" ");return Yt},en=A.__private__.getFilters=function(){return u},Rn=A.__private__.putStream=function(ut){var Yt=(ut=ut||{}).data||"",ve=ut.filters||en(),Xe=ut.alreadyAppliedFilters||[],pr=ut.addLength1||!1,Yr=Yt.length,mn=ut.objectId,$n=function(Lo){return Lo};if(x!==null&&mn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&($n=Ko.encryptor(mn,0));var ri={};ve===!0&&(ve=["FlateEncode"]);var Ti=ut.additionalKeyValues||[],Fi=(ri=Li.API.processDataByFilters!==void 0?Li.API.processDataByFilters(Yt,ve):{data:Yt,reverseChain:[]}).reverseChain+(Array.isArray(Xe)?Xe.join(" "):Xe.toString());if(ri.data.length!==0&&(Ti.push({key:"Length",value:ri.data.length}),pr===!0&&Ti.push({key:"Length1",value:Yr})),Fi.length!=0)if(Fi.split("/").length-1==1)Ti.push({key:"Filter",value:Fi});else{Ti.push({key:"Filter",value:"["+Fi+"]"});for(var wi=0;wi<Ti.length;wi+=1)if(Ti[wi].key==="DecodeParms"){for(var xa=[],Pi=0;Pi<ri.reverseChain.split("/").length-1;Pi+=1)xa.push("null");xa.push(Ti[wi].value),Ti[wi].value="["+xa.join(" ")+"]"}}Jt("<<");for(var $i=0;$i<Ti.length;$i++)Jt("/"+Ti[$i].key+" "+Ti[$i].value);Jt(">>"),ri.data.length!==0&&(Jt("stream"),Jt($n(ri.data)),Jt("endstream"))},Xn=A.__private__.putPage=function(ut){var Yt=ut.number,ve=ut.data,Xe=ut.objId,pr=ut.contentsObjId;yn(Xe,!0),Jt("<</Type /Page"),Jt("/Parent "+ut.rootDictionaryObjId+" 0 R"),Jt("/Resources "+ut.resourceDictionaryObjId+" 0 R"),Jt("/MediaBox ["+parseFloat(st(ut.mediaBox.bottomLeftX))+" "+parseFloat(st(ut.mediaBox.bottomLeftY))+" "+st(ut.mediaBox.topRightX)+" "+st(ut.mediaBox.topRightY)+"]"),ut.cropBox!==null&&Jt("/CropBox ["+st(ut.cropBox.bottomLeftX)+" "+st(ut.cropBox.bottomLeftY)+" "+st(ut.cropBox.topRightX)+" "+st(ut.cropBox.topRightY)+"]"),ut.bleedBox!==null&&Jt("/BleedBox ["+st(ut.bleedBox.bottomLeftX)+" "+st(ut.bleedBox.bottomLeftY)+" "+st(ut.bleedBox.topRightX)+" "+st(ut.bleedBox.topRightY)+"]"),ut.trimBox!==null&&Jt("/TrimBox ["+st(ut.trimBox.bottomLeftX)+" "+st(ut.trimBox.bottomLeftY)+" "+st(ut.trimBox.topRightX)+" "+st(ut.trimBox.topRightY)+"]"),ut.artBox!==null&&Jt("/ArtBox ["+st(ut.artBox.bottomLeftX)+" "+st(ut.artBox.bottomLeftY)+" "+st(ut.artBox.topRightX)+" "+st(ut.artBox.topRightY)+"]"),typeof ut.userUnit=="number"&&ut.userUnit!==1&&Jt("/UserUnit "+ut.userUnit),cr.publish("putPage",{objId:Xe,pageContext:Pe[Yt],pageNumber:Yt,page:ve}),Jt("/Contents "+pr+" 0 R"),Jt(">>"),Jt("endobj");var Yr=ve.join(`
`);return j===z&&(Yr+=`
Q`),yn(pr,!0),Rn({data:Yr,filters:en(),objectId:pr}),Jt("endobj"),Xe},Ra=A.__private__.putPages=function(){var ut,Yt,ve=[];for(ut=1;ut<=Ke;ut++)Pe[ut].objId=Lr(),Pe[ut].contentsObjId=Lr();for(ut=1;ut<=Ke;ut++)ve.push(Xn({number:ut,data:Se[ut],objId:Pe[ut].objId,contentsObjId:Pe[ut].contentsObjId,mediaBox:Pe[ut].mediaBox,cropBox:Pe[ut].cropBox,bleedBox:Pe[ut].bleedBox,trimBox:Pe[ut].trimBox,artBox:Pe[ut].artBox,userUnit:Pe[ut].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:On}));yn(fi,!0),Jt("<</Type /Pages");var Xe="/Kids [";for(Yt=0;Yt<Ke;Yt++)Xe+=ve[Yt]+" 0 R ";Jt(Xe+"]"),Jt("/Count "+Ke),Jt(">>"),Jt("endobj"),cr.publish("postPutPages")},_o=function(ut){cr.publish("putFont",{font:ut,out:Jt,newObject:ze,putStream:Rn}),ut.isAlreadyPutted!==!0&&(ut.objectNumber=ze(),Jt("<<"),Jt("/Type /Font"),Jt("/BaseFont /"+Fb(ut.postScriptName)),Jt("/Subtype /Type1"),typeof ut.encoding=="string"&&Jt("/Encoding /"+ut.encoding),Jt("/FirstChar 32"),Jt("/LastChar 255"),Jt(">>"),Jt("endobj"))},Na=function(ut){ut.objectNumber=ze();var Yt=[];Yt.push({key:"Type",value:"/XObject"}),Yt.push({key:"Subtype",value:"/Form"}),Yt.push({key:"BBox",value:"["+[st(ut.x),st(ut.y),st(ut.x+ut.width),st(ut.y+ut.height)].join(" ")+"]"}),Yt.push({key:"Matrix",value:"["+ut.matrix.toString()+"]"});var ve=ut.pages[1].join(`
`);Rn({data:ve,additionalKeyValues:Yt,objectId:ut.objectNumber}),Jt("endobj")},Mn=function(ut,Yt){Yt||(Yt=21);var ve=ze(),Xe=(function(mn,$n){var ri,Ti=[],Fi=1/($n-1);for(ri=0;ri<1;ri+=Fi)Ti.push(ri);if(Ti.push(1),mn[0].offset!=0){var wi={offset:0,color:mn[0].color};mn.unshift(wi)}if(mn[mn.length-1].offset!=1){var xa={offset:1,color:mn[mn.length-1].color};mn.push(xa)}for(var Pi="",$i=0,Lo=0;Lo<Ti.length;Lo++){for(ri=Ti[Lo];ri>mn[$i+1].offset;)$i++;var Qa=mn[$i].offset,ao=(ri-Qa)/(mn[$i+1].offset-Qa),$l=mn[$i].color,wu=mn[$i+1].color;Pi+=Nt(Math.round((1-ao)*$l[0]+ao*wu[0]).toString(16))+Nt(Math.round((1-ao)*$l[1]+ao*wu[1]).toString(16))+Nt(Math.round((1-ao)*$l[2]+ao*wu[2]).toString(16))}return Pi.trim()})(ut.colors,Yt),pr=[];pr.push({key:"FunctionType",value:"0"}),pr.push({key:"Domain",value:"[0.0 1.0]"}),pr.push({key:"Size",value:"["+Yt+"]"}),pr.push({key:"BitsPerSample",value:"8"}),pr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:Xe,additionalKeyValues:pr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),Jt("endobj"),ut.objectNumber=ze(),Jt("<< /ShadingType "+ut.type),Jt("/ColorSpace /DeviceRGB");var Yr="/Coords ["+st(parseFloat(ut.coords[0]))+" "+st(parseFloat(ut.coords[1]))+" ";ut.type===2?Yr+=st(parseFloat(ut.coords[2]))+" "+st(parseFloat(ut.coords[3])):Yr+=st(parseFloat(ut.coords[2]))+" "+st(parseFloat(ut.coords[3]))+" "+st(parseFloat(ut.coords[4]))+" "+st(parseFloat(ut.coords[5])),Jt(Yr+="]"),ut.matrix&&Jt("/Matrix ["+ut.matrix.toString()+"]"),Jt("/Function "+ve+" 0 R"),Jt("/Extend [true true]"),Jt(">>"),Jt("endobj")},io=function(ut,Yt){var ve=Lr(),Xe=ze();Yt.push({resourcesOid:ve,objectOid:Xe}),ut.objectNumber=Xe;var pr=[];pr.push({key:"Type",value:"/Pattern"}),pr.push({key:"PatternType",value:"1"}),pr.push({key:"PaintType",value:"1"}),pr.push({key:"TilingType",value:"1"}),pr.push({key:"BBox",value:"["+ut.boundingBox.map(st).join(" ")+"]"}),pr.push({key:"XStep",value:st(ut.xStep)}),pr.push({key:"YStep",value:st(ut.yStep)}),pr.push({key:"Resources",value:ve+" 0 R"}),ut.matrix&&pr.push({key:"Matrix",value:"["+ut.matrix.toString()+"]"}),Rn({data:ut.stream,additionalKeyValues:pr,objectId:ut.objectNumber}),Jt("endobj")},rl=function(ut){for(var Yt in ut.objectNumber=ze(),Jt("<<"),ut)switch(Yt){case"opacity":Jt("/ca "+at(ut[Yt]));break;case"stroke-opacity":Jt("/CA "+at(ut[Yt]))}Jt(">>"),Jt("endobj")},ra=function(ut){yn(ut.resourcesOid,!0),Jt("<<"),Jt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Yt in Jt("/Font <<"),Mt)Mt.hasOwnProperty(Yt)&&(k===!1||k===!0&&R.hasOwnProperty(Yt))&&Jt("/"+Yt+" "+Mt[Yt].objectNumber+" 0 R");Jt(">>")})(),(function(){if(Object.keys(ye).length>0){for(var Yt in Jt("/Shading <<"),ye)ye.hasOwnProperty(Yt)&&ye[Yt]instanceof Lv&&ye[Yt].objectNumber>=0&&Jt("/"+Yt+" "+ye[Yt].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),Jt(">>")}})(),(function(Yt){if(Object.keys(ye).length>0){for(var ve in Jt("/Pattern <<"),ye)ye.hasOwnProperty(ve)&&ye[ve]instanceof A.TilingPattern&&ye[ve].objectNumber>=0&&ye[ve].objectNumber<Yt&&Jt("/"+ve+" "+ye[ve].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),Jt(">>")}})(ut.objectOid),(function(){if(Object.keys(Ge).length>0){var Yt;for(Yt in Jt("/ExtGState <<"),Ge)Ge.hasOwnProperty(Yt)&&Ge[Yt].objectNumber>=0&&Jt("/"+Yt+" "+Ge[Yt].objectNumber+" 0 R");cr.publish("putGStateDict"),Jt(">>")}})(),(function(){for(var Yt in Jt("/XObject <<"),Wr)Wr.hasOwnProperty(Yt)&&Wr[Yt].objectNumber>=0&&Jt("/"+Yt+" "+Wr[Yt].objectNumber+" 0 R");cr.publish("putXobjectDict"),Jt(">>")})(),Jt(">>"),Jt("endobj")},sa=function(ut){Bt[ut.fontName]=Bt[ut.fontName]||{},Bt[ut.fontName][ut.fontStyle]=ut.id},cu=function(ut,Yt,ve,Xe,pr){var Yr={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:ut,fontName:Yt,fontStyle:ve,encoding:Xe,isStandardFont:pr||!1,metadata:{}};return cr.publish("addFont",{font:Yr,instance:this}),Mt[Yr.id]=Yr,sa(Yr),Yr.id},Vi=A.__private__.pdfEscape=A.pdfEscape=function(ut,Yt){return(function(ve,Xe){var pr,Yr,mn,$n,ri,Ti,Fi,wi,xa;if(mn=(Xe=Xe||{}).sourceEncoding||"Unicode",ri=Xe.outputEncoding,(Xe.autoencode||ri)&&Mt[Fr].metadata&&Mt[Fr].metadata[mn]&&Mt[Fr].metadata[mn].encoding&&($n=Mt[Fr].metadata[mn].encoding,!ri&&Mt[Fr].encoding&&(ri=Mt[Fr].encoding),!ri&&$n.codePages&&(ri=$n.codePages[0]),typeof ri=="string"&&(ri=$n[ri]),ri)){for(Fi=!1,Ti=[],pr=0,Yr=ve.length;pr<Yr;pr++)(wi=ri[ve.charCodeAt(pr)])?Ti.push(String.fromCharCode(wi)):Ti.push(ve[pr]),Ti[pr].charCodeAt(0)>>8&&(Fi=!0);ve=Ti.join("")}for(pr=ve.length;Fi===void 0&&pr!==0;)ve.charCodeAt(pr-1)>>8&&(Fi=!0),pr--;if(!Fi)return ve;for(Ti=Xe.noBOM?[]:[254,255],pr=0,Yr=ve.length;pr<Yr;pr++){if((xa=(wi=ve.charCodeAt(pr))>>8)>>8)throw new Error("Character at position "+pr+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ti.push(xa),Ti.push(wi-(xa<<8))}return String.fromCharCode.apply(void 0,Ti)})(ut,Yt).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nl=A.__private__.beginPage=function(ut){Se[++Ke]=[],Pe[Ke]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ut[0]),topRightY:Number(ut[1])}},xs(Ke),ke(Se[kt])},Xo=function(ut,Yt){var ve,Xe,pr;switch(r=Yt||r,typeof ut=="string"&&(ve=H(ut.toLowerCase()),Array.isArray(ve)&&(Xe=ve[0],pr=ve[1])),Array.isArray(ut)&&(Xe=ut[0]*Ze,pr=ut[1]*Ze),isNaN(Xe)&&(Xe=i[0],pr=i[1]),(Xe>14400||pr>14400)&&(hl.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xe=Math.min(14400,Xe),pr=Math.min(14400,pr)),i=[Xe,pr],r.substr(0,1)){case"l":pr>Xe&&(i=[pr,Xe]);break;case"p":Xe>pr&&(i=[pr,Xe])}nl(i),Zr(ti),Jt(Ha),No!==0&&Jt(No+" J"),xo!==0&&Jt(xo+" j"),cr.publish("addPage",{pageNumber:Ke})},Mi=function(ut){ut>0&&ut<=Ke&&(Se.splice(ut,1),Pe.splice(ut,1),Ke--,kt>Ke&&(kt=Ke),this.setPage(kt))},xs=function(ut){ut>0&&ut<=Ke&&(kt=ut)},zl=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Se.length-1},Ks=function(ut,Yt,ve){var Xe,pr=void 0;return ve=ve||{},ut=ut!==void 0?ut:Mt[Fr].fontName,Yt=Yt!==void 0?Yt:Mt[Fr].fontStyle,Xe=ut.toLowerCase(),Bt[Xe]!==void 0&&Bt[Xe][Yt]!==void 0?pr=Bt[Xe][Yt]:Bt[ut]!==void 0&&Bt[ut][Yt]!==void 0?pr=Bt[ut][Yt]:ve.disableWarning===!1&&hl.warn("Unable to look up font label for font '"+ut+"', '"+Yt+"'. Refer to getFontList() for available fonts."),pr||ve.noFallback||(pr=Bt.times[Yt])==null&&(pr=Bt.times.normal),pr},Do=A.__private__.putInfo=function(){var ut=ze(),Yt=function(Xe){return Xe};for(var ve in x!==null&&(Yt=Ko.encryptor(ut,0)),Jt("<<"),Jt("/Producer ("+Vi(Yt("jsPDF "+Li.version))+")"),er)er.hasOwnProperty(ve)&&er[ve]&&Jt("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Vi(Yt(er[ve]))+")");Jt("/CreationDate ("+Vi(Yt(wt))+")"),Jt(">>"),Jt("endobj")},Fl=A.__private__.putCatalog=function(ut){var Yt=(ut=ut||{}).rootDictionaryObjId||fi;switch(ze(),Jt("<<"),Jt("/Type /Catalog"),Jt("/Pages "+Yt+" 0 R"),Mr||(Mr="fullwidth"),Mr){case"fullwidth":Jt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Jt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Jt("/OpenAction [3 0 R /Fit]");break;case"original":Jt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+Mr;ve.substr(ve.length-1)==="%"&&(Mr=parseInt(Mr)/100),typeof Mr=="number"&&Jt("/OpenAction [3 0 R /XYZ null null "+at(Mr)+"]")}switch(dr||(dr="continuous"),dr){case"continuous":Jt("/PageLayout /OneColumn");break;case"single":Jt("/PageLayout /SinglePage");break;case"two":case"twoleft":Jt("/PageLayout /TwoColumnLeft");break;case"tworight":Jt("/PageLayout /TwoColumnRight")}Pr&&Jt("/PageMode /"+Pr),cr.publish("putCatalog"),Jt(">>"),Jt("endobj")},Ga=A.__private__.putTrailer=function(){Jt("trailer"),Jt("<<"),Jt("/Size "+(qt+1)),Jt("/Root "+qt+" 0 R"),Jt("/Info "+(qt-1)+" 0 R"),x!==null&&Jt("/Encrypt "+Ko.oid+" 0 R"),Jt("/ID [ <"+pt+"> <"+pt+"> ]"),Jt(">>")},fl=A.__private__.putHeader=function(){Jt("%PDF-"+O),Jt("%")},Gc=A.__private__.putXRef=function(){var ut="0000000000";Jt("xref"),Jt("0 "+(qt+1)),Jt("0000000000 65535 f ");for(var Yt=1;Yt<=qt;Yt++)typeof ie[Yt]=="function"?Jt((ut+ie[Yt]()).slice(-10)+" 00000 n "):ie[Yt]!==void 0?Jt((ut+ie[Yt]).slice(-10)+" 00000 n "):Jt("0000000000 00000 n ")},pl=A.__private__.buildDocument=function(){var ut;qt=0,ce=0,Ht=[],ie=[],de=[],fi=Lr(),On=Lr(),ke(Ht),cr.publish("buildDocument"),fl(),Ra(),(function(){cr.publish("putAdditionalObjects");for(var ve=0;ve<de.length;ve++){var Xe=de[ve];yn(Xe.objId,!0),Jt(Xe.content),Jt("endobj")}cr.publish("postPutAdditionalObjects")})(),ut=[],(function(){for(var ve in Mt)Mt.hasOwnProperty(ve)&&(k===!1||k===!0&&R.hasOwnProperty(ve))&&_o(Mt[ve])})(),(function(){var ve;for(ve in Ge)Ge.hasOwnProperty(ve)&&rl(Ge[ve])})(),(function(){for(var ve in Wr)Wr.hasOwnProperty(ve)&&Na(Wr[ve])})(),(function(ve){var Xe;for(Xe in ye)ye.hasOwnProperty(Xe)&&(ye[Xe]instanceof Lv?Mn(ye[Xe]):ye[Xe]instanceof v_&&io(ye[Xe],ve))})(ut),cr.publish("putResources"),ut.forEach(ra),ra({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources"),x!==null&&(Ko.oid=ze(),Jt("<<"),Jt("/Filter /Standard"),Jt("/V "+Ko.v),Jt("/R "+Ko.r),Jt("/U <"+Ko.toHexString(Ko.U)+">"),Jt("/O <"+Ko.toHexString(Ko.O)+">"),Jt("/P "+Ko.P),Jt(">>"),Jt("endobj")),Do(),Fl();var Yt=ce;return Gc(),Ga(),Jt("startxref"),Jt(""+Yt),Jt("%%EOF"),ke(Se[kt]),Ht.join(`
`)},El=A.__private__.getBlob=function(ut){return new Blob([vr(ut)],{type:"application/pdf"})},Wo=A.output=A.__private__.output=(be=function(ut,Yt){switch(typeof(Yt=Yt||{})=="string"?Yt={filename:Yt}:Yt.filename=Yt.filename||"generated.pdf",ut){case void 0:return pl();case"save":A.save(Yt.filename);break;case"arraybuffer":return vr(pl());case"blob":return El(pl());case"bloburi":case"bloburl":if(pa.URL!==void 0&&typeof pa.URL.createObjectURL=="function")return pa.URL&&pa.URL.createObjectURL(El(pl()))||void 0;hl.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Xe=pl();try{ve=HB(Xe)}catch{ve=HB(unescape(encodeURIComponent(Xe)))}return"data:application/pdf;filename="+Yt.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pa)==="[object Window]"){var pr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Yr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Yt.pdfObjectUrl&&(pr=Yt.pdfObjectUrl,Yr="");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pr+'"'+Yr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Yt)+");<\/script></body></html>",$n=pa.open();return $n!==null&&$n.document.write(mn),$n}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pa)==="[object Window]"){var ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Yt.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Yt.filename+'" width="500px" height="400px" /></body></html>',Ti=pa.open();if(Ti!==null){Ti.document.write(ri);var Fi=this;Ti.document.documentElement.querySelector("#pdfViewer").onload=function(){Ti.document.title=Yt.filename,Ti.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Fi.output("bloburl"))}}return Ti}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pa)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Yt)+'"></iframe></body></html>',xa=pa.open();if(xa!==null&&(xa.document.write(wi),xa.document.title=Yt.filename),xa||typeof safari>"u")return xa;break;case"datauri":case"dataurl":return pa.document.location.href=this.output("datauristring",Yt);default:return null}},be.foo=function(){try{return be.apply(this,arguments)}catch(ve){var ut=ve.stack||"";~ut.indexOf(" at ")&&(ut=ut.split(" at ")[1]);var Yt="Error in function "+ut.split(`
`)[0].split("<")[0]+": "+ve.message;if(!pa.console)throw new Error(Yt);pa.console.error(Yt,ve),pa.alert&&alert(Yt)}},be.foo.bar=be,be.foo),Yo=function(ut){return Array.isArray(Oe)===!0&&Oe.indexOf(ut)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=Yo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var Ko=null;Et(),vt();var Zo=A.__private__.getPageInfo=A.getPageInfo=function(ut){if(isNaN(ut)||ut%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pe[ut].objId,pageNumber:ut,pageContext:Pe[ut]}},ic=A.__private__.getPageInfoByObjId=function(ut){if(isNaN(ut)||ut%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Yt in Pe)if(Pe[Yt].objId===ut)break;return Zo(Yt)},yc=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Pe[kt].objId,pageNumber:kt,pageContext:Pe[kt]}};A.addPage=function(){return Xo.apply(this,arguments),this},A.setPage=function(){return xs.apply(this,arguments),ke.call(this,Se[kt]),this},A.insertPage=function(ut){return this.addPage(),this.movePage(kt,ut),this},A.movePage=function(ut,Yt){var ve,Xe;if(ut>Yt){ve=Se[ut],Xe=Pe[ut];for(var pr=ut;pr>Yt;pr--)Se[pr]=Se[pr-1],Pe[pr]=Pe[pr-1];Se[Yt]=ve,Pe[Yt]=Xe,this.setPage(Yt)}else if(ut<Yt){ve=Se[ut],Xe=Pe[ut];for(var Yr=ut;Yr<Yt;Yr++)Se[Yr]=Se[Yr+1],Pe[Yr]=Pe[Yr+1];Se[Yt]=ve,Pe[Yt]=Xe,this.setPage(Yt)}return this},A.deletePage=function(){return Mi.apply(this,arguments),this},A.__private__.text=A.text=function(ut,Yt,ve,Xe,pr){var Yr,mn,$n,ri,Ti,Fi,wi,xa,Pi,$i=(Xe=Xe||{}).scope||this;if(typeof ut=="number"&&typeof Yt=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Lo=ve;ve=Yt,Yt=ut,ut=Lo}if(arguments[3]instanceof Kr==0?($n=arguments[4],ri=arguments[5],Ws(wi=arguments[3])==="object"&&wi!==null||(typeof $n=="string"&&(ri=$n,$n=null),typeof wi=="string"&&(ri=wi,wi=null),typeof wi=="number"&&($n=wi,wi=null),Xe={flags:wi,angle:$n,align:ri})):(it("The transform parameter of text() with a Matrix value"),Pi=pr),isNaN(Yt)||isNaN(ve)||ut==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ut.length===0)return $i;var Qa,ao="",$l=typeof Xe.lineHeightFactor=="number"?Xe.lineHeightFactor:Nn,wu=$i.internal.scaleFactor;function Ic(Vn){return Vn=Vn.split("	").join(Array(Xe.TabLen||9).join(" ")),Vi(Vn,wi)}function Ul(Vn){for(var C,m=Vn.concat(),y=[],T=m.length;T--;)typeof(C=m.shift())=="string"?y.push(C):Array.isArray(Vn)&&(C.length===1||C[1]===void 0&&C[2]===void 0)?y.push(C[0]):y.push([C[0],C[1],C[2]]);return y}function Rc(Vn,C){var m;if(typeof Vn=="string")m=C(Vn)[0];else if(Array.isArray(Vn)){for(var y,T,F=Vn.concat(),nt=[],xt=F.length;xt--;)typeof(y=F.shift())=="string"?nt.push(C(y)[0]):Array.isArray(y)&&typeof y[0]=="string"&&(T=C(y[0],y[1],y[2]),nt.push([T[0],T[1],T[2]]));m=nt}return m}var po=!1,Su=!0;if(typeof ut=="string")po=!0;else if(Array.isArray(ut)){var vc=ut.concat();mn=[];for(var ql,So=vc.length;So--;)(typeof(ql=vc.shift())!="string"||Array.isArray(ql)&&typeof ql[0]!="string")&&(Su=!1);po=Su}if(po===!1)throw new Error('Type of text must be string or Array. "'+ut+'" is not recognized.');typeof ut=="string"&&(ut=ut.match(/[\r?\n]/)?ut.split(/\r\n|\r|\n/g):[ut]);var Fo=Ie/$i.internal.scaleFactor,Ja=Fo*($l-1);switch(Xe.baseline){case"bottom":ve-=Ja;break;case"top":ve+=Fo-Ja;break;case"hanging":ve+=Fo-2*Ja;break;case"middle":ve+=Fo/2-Ja}if((Fi=Xe.maxWidth||0)>0&&(typeof ut=="string"?ut=$i.splitTextToSize(ut,Fi):Object.prototype.toString.call(ut)==="[object Array]"&&(ut=ut.reduce(function(Vn,C){return Vn.concat($i.splitTextToSize(C,Fi))},[]))),Yr={text:ut,x:Yt,y:ve,options:Xe,mutex:{pdfEscape:Vi,activeFontKey:Fr,fonts:Mt,activeFontSize:Ie}},cr.publish("preProcessText",Yr),ut=Yr.text,$n=(Xe=Yr.options).angle,Pi instanceof Kr==0&&$n&&typeof $n=="number"){$n*=Math.PI/180,Xe.rotationDirection===0&&($n=-$n),j===z&&($n=-$n);var hu=Math.cos($n),$u=Math.sin($n);Pi=new Kr(hu,$u,-$u,hu,0,0)}else $n&&$n instanceof Kr&&(Pi=$n);j!==z||Pi||(Pi=Pt),(Ti=Xe.charSpace||zn)!==void 0&&(ao+=st(dt(Ti))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xa=Xe.horizontalScale)!==void 0&&(ao+=st(100*xa)+` Tz
`),Xe.lang;var oo=-1,bc=Xe.renderingMode!==void 0?Xe.renderingMode:Xe.stroke,Uu=$i.internal.getCurrentPageInfo().pageContext;switch(bc){case 0:case!1:case"fill":oo=0;break;case 1:case!0:case"stroke":oo=1;break;case 2:case"fillThenStroke":oo=2;break;case 3:case"invisible":oo=3;break;case 4:case"fillAndAddForClipping":oo=4;break;case 5:case"strokeAndAddPathForClipping":oo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oo=6;break;case 7:case"addToPathForClipping":oo=7}var il=Uu.usedRenderingMode!==void 0?Uu.usedRenderingMode:-1;oo!==-1?ao+=oo+` Tr
`:il!==-1&&(ao+=`0 Tr
`),oo!==-1&&(Uu.usedRenderingMode=oo),ri=Xe.align||"left";var ws,Zs=Ie*$l,mh=$i.internal.pageSize.getWidth(),Hc=Mt[Fr];Ti=Xe.charSpace||zn,Fi=Xe.maxWidth||0,wi=Object.assign({autoencode:!0,noBOM:!0},Xe.flags);var qu=[],Gl=function(Vn){return $i.getStringUnitWidth(Vn,{font:Hc,charSpace:Ti,fontSize:Ie,doKerning:!1})*Ie/wu};if(Object.prototype.toString.call(ut)==="[object Array]"){var jo;mn=Ul(ut),ri!=="left"&&(ws=mn.map(Gl));var Ss,Gu=0;if(ri==="right"){Yt-=ws[0],ut=[],So=mn.length;for(var Es=0;Es<So;Es++)Es===0?(Ss=Ii(Yt),jo=Bi(ve)):(Ss=dt(Gu-ws[Es]),jo=-Zs),ut.push([mn[Es],Ss,jo]),Gu=ws[Es]}else if(ri==="center"){Yt-=ws[0]/2,ut=[],So=mn.length;for(var Hu=0;Hu<So;Hu++)Hu===0?(Ss=Ii(Yt),jo=Bi(ve)):(Ss=dt((Gu-ws[Hu])/2),jo=-Zs),ut.push([mn[Hu],Ss,jo]),Gu=ws[Hu]}else if(ri==="left"){ut=[],So=mn.length;for(var Ps=0;Ps<So;Ps++)ut.push(mn[Ps])}else if(ri==="justify"&&Hc.encoding==="Identity-H"){ut=[],So=mn.length,Fi=Fi!==0?Fi:mh;for(var du=0,Eo=0;Eo<So;Eo++)if(jo=Eo===0?Bi(ve):-Zs,Ss=Eo===0?Ii(Yt):du,Eo<So-1){var fu=dt((Fi-ws[Eo])/(mn[Eo].split(" ").length-1)),pu=mn[Eo].split(" ");ut.push([pu[0]+" ",Ss,jo]),du=0;for(var Al=1;Al<pu.length;Al++){var _c=(Gl(pu[Al-1]+" "+pu[Al])-Gl(pu[Al]))*wu+fu;Al==pu.length-1?ut.push([pu[Al],_c,0]):ut.push([pu[Al]+" ",_c,0]),du-=_c}}else ut.push([mn[Eo],Ss,jo]);ut.push(["",du,0])}else{if(ri!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ut=[],So=mn.length,Fi=Fi!==0?Fi:mh,Eo=0;Eo<So;Eo++)jo=Eo===0?Bi(ve):-Zs,Ss=Eo===0?Ii(Yt):0,Eo<So-1?qu.push(st(dt((Fi-ws[Eo])/(mn[Eo].split(" ").length-1)))):qu.push(0),ut.push([mn[Eo],Ss,jo])}}(typeof Xe.R2L=="boolean"?Xe.R2L:Rr)===!0&&(ut=Rc(ut,function(Vn,C,m){return[Vn.split("").reverse().join(""),C,m]})),Yr={text:ut,x:Yt,y:ve,options:Xe,mutex:{pdfEscape:Vi,activeFontKey:Fr,fonts:Mt,activeFontSize:Ie}},cr.publish("postProcessText",Yr),ut=Yr.text,Qa=Yr.mutex.isHex||!1;var Xc=Mt[Fr].encoding;Xc!=="WinAnsiEncoding"&&Xc!=="StandardEncoding"||(ut=Rc(ut,function(Vn,C,m){return[Ic(Vn),C,m]})),mn=Ul(ut),ut=[];for(var Eu,xc,Ts,lr=Array.isArray(mn[0])?1:0,mr="",An=function(Vn,C,m){var y="";return m instanceof Kr?(m=typeof Xe.angle=="number"?Kn(m,new Kr(1,0,0,1,Vn,C)):Kn(new Kr(1,0,0,1,Vn,C),m),j===z&&(m=Kn(new Kr(1,0,0,-1,0,0),m)),y=m.join(" ")+` Tm
`):y=st(Vn)+" "+st(C)+` Td
`,y},Dn=0;Dn<mn.length;Dn++){switch(mr="",lr){case 1:Ts=(Qa?"<":"(")+mn[Dn][0]+(Qa?">":")"),Eu=parseFloat(mn[Dn][1]),xc=parseFloat(mn[Dn][2]);break;case 0:Ts=(Qa?"<":"(")+mn[Dn]+(Qa?">":")"),Eu=Ii(Yt),xc=Bi(ve)}qu!==void 0&&qu[Dn]!==void 0&&(mr=qu[Dn]+` Tw
`),Dn===0?ut.push(mr+An(Eu,xc,Pi)+Ts):lr===0?ut.push(mr+Ts):lr===1&&ut.push(mr+An(Eu,xc,Pi)+Ts)}ut=lr===0?ut.join(` Tj
T* `):ut.join(` Tj
`),ut+=` Tj
`;var Ni=`BT
/`;return Ni+=Fr+" "+Ie+` Tf
`,Ni+=st(Ie*$l)+` TL
`,Ni+=ei+`
`,Ni+=ao,Ni+=ut,Jt(Ni+="ET"),R[Fr]=!0,$i};var Q=A.__private__.clip=A.clip=function(ut){return Jt(ut==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return Q("evenodd")},A.__private__.discardPath=A.discardPath=function(){return Jt("n"),this};var gt=A.__private__.isValidStyle=function(ut){var Yt=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ut)!==-1&&(Yt=!0),Yt};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(ut){return gt(ut)&&(v=ut),this};var ee=A.__private__.getStyle=A.getStyle=function(ut){var Yt=v;switch(ut){case"D":case"S":Yt="S";break;case"F":Yt="f";break;case"FD":case"DF":Yt="B";break;case"f":case"f*":case"B":case"B*":Yt=ut}return Yt},Re=A.close=function(){return Jt("h"),this};A.stroke=function(){return Jt("S"),this},A.fill=function(ut){return qe("f",ut),this},A.fillEvenOdd=function(ut){return qe("f*",ut),this},A.fillStroke=function(ut){return qe("B",ut),this},A.fillStrokeEvenOdd=function(ut){return qe("B*",ut),this};var qe=function(ut,Yt){Ws(Yt)==="object"?rn(Yt,ut):Jt(ut)},Fe=function(ut){ut===null||j===z&&ut===void 0||(ut=ee(ut),Jt(ut))};function nr(ut,Yt,ve,Xe,pr){var Yr=new v_(Yt||this.boundingBox,ve||this.xStep,Xe||this.yStep,this.gState,pr||this.matrix);Yr.stream=this.stream;var mn=ut+"$$"+this.cloneIndex+++"$$";return Xt(mn,Yr),Yr}var rn=function(ut,Yt){var ve=je[ut.key],Xe=ye[ve];if(Xe instanceof Lv)Jt("q"),Jt(pn(Yt)),Xe.gState&&A.setGState(Xe.gState),Jt(ut.matrix.toString()+" cm"),Jt("/"+ve+" sh"),Jt("Q");else if(Xe instanceof v_){var pr=new Kr(1,0,0,-1,0,Ba());ut.matrix&&(pr=pr.multiply(ut.matrix||Pt),ve=nr.call(Xe,ut.key,ut.boundingBox,ut.xStep,ut.yStep,pr).id),Jt("q"),Jt("/Pattern cs"),Jt("/"+ve+" scn"),Xe.gState&&A.setGState(Xe.gState),Jt(Yt),Jt("Q")}},pn=function(ut){switch(ut){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},un=A.moveTo=function(ut,Yt){return Jt(st(dt(ut))+" "+st(mt(Yt))+" m"),this},Sn=A.lineTo=function(ut,Yt){return Jt(st(dt(ut))+" "+st(mt(Yt))+" l"),this},dn=A.curveTo=function(ut,Yt,ve,Xe,pr,Yr){return Jt([st(dt(ut)),st(mt(Yt)),st(dt(ve)),st(mt(Xe)),st(dt(pr)),st(mt(Yr)),"c"].join(" ")),this};A.__private__.line=A.line=function(ut,Yt,ve,Xe,pr){if(isNaN(ut)||isNaN(Yt)||isNaN(ve)||isNaN(Xe)||!gt(pr))throw new Error("Invalid arguments passed to jsPDF.line");return j===G?this.lines([[ve-ut,Xe-Yt]],ut,Yt,[1,1],pr||"S"):this.lines([[ve-ut,Xe-Yt]],ut,Yt,[1,1]).stroke()},A.__private__.lines=A.lines=function(ut,Yt,ve,Xe,pr,Yr){var mn,$n,ri,Ti,Fi,wi,xa,Pi,$i,Lo,Qa,ao;if(typeof ut=="number"&&(ao=ve,ve=Yt,Yt=ut,ut=ao),Xe=Xe||[1,1],Yr=Yr||!1,isNaN(Yt)||isNaN(ve)||!Array.isArray(ut)||!Array.isArray(Xe)||!gt(pr)||typeof Yr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(un(Yt,ve),mn=Xe[0],$n=Xe[1],Ti=ut.length,Lo=Yt,Qa=ve,ri=0;ri<Ti;ri++)(Fi=ut[ri]).length===2?(Lo=Fi[0]*mn+Lo,Qa=Fi[1]*$n+Qa,Sn(Lo,Qa)):(wi=Fi[0]*mn+Lo,xa=Fi[1]*$n+Qa,Pi=Fi[2]*mn+Lo,$i=Fi[3]*$n+Qa,Lo=Fi[4]*mn+Lo,Qa=Fi[5]*$n+Qa,dn(wi,xa,Pi,$i,Lo,Qa));return Yr&&Re(),Fe(pr),this},A.path=function(ut){for(var Yt=0;Yt<ut.length;Yt++){var ve=ut[Yt],Xe=ve.c;switch(ve.op){case"m":un(Xe[0],Xe[1]);break;case"l":Sn(Xe[0],Xe[1]);break;case"c":dn.apply(this,Xe);break;case"h":Re()}}return this},A.__private__.rect=A.rect=function(ut,Yt,ve,Xe,pr){if(isNaN(ut)||isNaN(Yt)||isNaN(ve)||isNaN(Xe)||!gt(pr))throw new Error("Invalid arguments passed to jsPDF.rect");return j===G&&(Xe=-Xe),Jt([st(dt(ut)),st(mt(Yt)),st(dt(ve)),st(dt(Xe)),"re"].join(" ")),Fe(pr),this},A.__private__.triangle=A.triangle=function(ut,Yt,ve,Xe,pr,Yr,mn){if(isNaN(ut)||isNaN(Yt)||isNaN(ve)||isNaN(Xe)||isNaN(pr)||isNaN(Yr)||!gt(mn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-ut,Xe-Yt],[pr-ve,Yr-Xe],[ut-pr,Yt-Yr]],ut,Yt,[1,1],mn,!0),this},A.__private__.roundedRect=A.roundedRect=function(ut,Yt,ve,Xe,pr,Yr,mn){if(isNaN(ut)||isNaN(Yt)||isNaN(ve)||isNaN(Xe)||isNaN(pr)||isNaN(Yr)||!gt(mn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $n=4/3*(Math.SQRT2-1);return pr=Math.min(pr,.5*ve),Yr=Math.min(Yr,.5*Xe),this.lines([[ve-2*pr,0],[pr*$n,0,pr,Yr-Yr*$n,pr,Yr],[0,Xe-2*Yr],[0,Yr*$n,-pr*$n,Yr,-pr,Yr],[2*pr-ve,0],[-pr*$n,0,-pr,-Yr*$n,-pr,-Yr],[0,2*Yr-Xe],[0,-Yr*$n,pr*$n,-Yr,pr,-Yr]],ut+pr,Yt,[1,1],mn,!0),this},A.__private__.ellipse=A.ellipse=function(ut,Yt,ve,Xe,pr){if(isNaN(ut)||isNaN(Yt)||isNaN(ve)||isNaN(Xe)||!gt(pr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Yr=4/3*(Math.SQRT2-1)*ve,mn=4/3*(Math.SQRT2-1)*Xe;return un(ut+ve,Yt),dn(ut+ve,Yt-mn,ut+Yr,Yt-Xe,ut,Yt-Xe),dn(ut-Yr,Yt-Xe,ut-ve,Yt-mn,ut-ve,Yt),dn(ut-ve,Yt+mn,ut-Yr,Yt+Xe,ut,Yt+Xe),dn(ut+Yr,Yt+Xe,ut+ve,Yt+mn,ut+ve,Yt),Fe(pr),this},A.__private__.circle=A.circle=function(ut,Yt,ve,Xe){if(isNaN(ut)||isNaN(Yt)||isNaN(ve)||!gt(Xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ut,Yt,ve,ve,Xe)},A.setFont=function(ut,Yt,ve){return ve&&(Yt=rt(Yt,ve)),Fr=Ks(ut,Yt,{disableWarning:!1}),this};var Wn=A.__private__.getFont=A.getFont=function(){return Mt[Ks.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var ut,Yt,ve={};for(ut in Bt)if(Bt.hasOwnProperty(ut))for(Yt in ve[ut]=[],Bt[ut])Bt[ut].hasOwnProperty(Yt)&&ve[ut].push(Yt);return ve},A.addFont=function(ut,Yt,ve,Xe,pr){var Yr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Yr.indexOf(arguments[3])!==-1?pr=arguments[3]:arguments[3]&&Yr.indexOf(arguments[3])==-1&&(ve=rt(ve,Xe)),cu.call(this,ut,Yt,ve,pr=pr||"Identity-H")};var Nn,ti=t.lineWidth||.200025,jn=A.__private__.getLineWidth=A.getLineWidth=function(){return ti},Zr=A.__private__.setLineWidth=A.setLineWidth=function(ut){return ti=ut,Jt(st(dt(ut))+" w"),this};A.__private__.setLineDash=Li.API.setLineDash=Li.API.setLineDashPattern=function(ut,Yt){if(ut=ut||[],Yt=Yt||0,isNaN(Yt)||!Array.isArray(ut))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ut=ut.map(function(ve){return st(dt(ve))}).join(" "),Yt=st(dt(Yt)),Jt("["+ut+"] "+Yt+" d"),this};var Ln=A.__private__.getLineHeight=A.getLineHeight=function(){return Ie*Nn};A.__private__.getLineHeight=A.getLineHeight=function(){return Ie*Nn};var yi=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(ut){return typeof(ut=ut||1.15)=="number"&&(Nn=ut),this},na=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Nn};yi(t.lineHeight);var Ii=A.__private__.getHorizontalCoordinate=function(ut){return dt(ut)},Bi=A.__private__.getVerticalCoordinate=function(ut){return j===z?ut:Pe[kt].mediaBox.topRightY-Pe[kt].mediaBox.bottomLeftY-dt(ut)},la=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(ut){return st(Ii(ut))},Bn=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(ut){return st(Bi(ut))},Ha=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return li(Ha)},A.__private__.setStrokeColor=A.setDrawColor=function(ut,Yt,ve,Xe){return Ha=Ki({ch1:ut,ch2:Yt,ch3:ve,ch4:Xe,pdfColorType:"draw",precision:2}),Jt(Ha),this};var pi=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return li(pi)},A.__private__.setFillColor=A.setFillColor=function(ut,Yt,ve,Xe){return pi=Ki({ch1:ut,ch2:Yt,ch3:ve,ch4:Xe,pdfColorType:"fill",precision:2}),Jt(pi),this};var ei=t.textColor||"0 g",Tl=A.__private__.getTextColor=A.getTextColor=function(){return li(ei)};A.__private__.setTextColor=A.setTextColor=function(ut,Yt,ve,Xe){return ei=Ki({ch1:ut,ch2:Yt,ch3:ve,ch4:Xe,pdfColorType:"text",precision:3}),this};var zn=t.charSpace,jl=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(zn||0)};A.__private__.setCharSpace=A.setCharSpace=function(ut){if(isNaN(ut))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zn=ut,this};var No=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(ut){var Yt=A.CapJoinStyles[ut];if(Yt===void 0)throw new Error("Line cap style of '"+ut+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return No=Yt,Jt(Yt+" J"),this};var xo=0;A.__private__.setLineJoin=A.setLineJoin=function(ut){var Yt=A.CapJoinStyles[ut];if(Yt===void 0)throw new Error("Line join style of '"+ut+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xo=Yt,Jt(Yt+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(ut){if(ut=ut||0,isNaN(ut))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Jt(st(dt(ut))+" M"),this},A.GState=sT,A.setGState=function(ut){(ut=typeof ut=="string"?Ge[Ue[ut]]:fo(null,ut)).equals(fr)||(Jt("/"+ut.id+" gs"),fr=ut)};var fo=function(ut,Yt){if(!ut||!Ue[ut]){var ve=!1;for(var Xe in Ge)if(Ge.hasOwnProperty(Xe)&&Ge[Xe].equals(Yt)){ve=!0;break}if(ve)Yt=Ge[Xe];else{var pr="GS"+(Object.keys(Ge).length+1).toString(10);Ge[pr]=Yt,Yt.id=pr}return ut&&(Ue[ut]=Yt.id),cr.publish("addGState",Yt),Yt}};A.addGState=function(ut,Yt){return fo(ut,Yt),this},A.saveGraphicsState=function(){return Jt("q"),oe.push({key:Fr,size:Ie,color:ei}),this},A.restoreGraphicsState=function(){Jt("Q");var ut=oe.pop();return Fr=ut.key,Ie=ut.size,ei=ut.color,fr=null,this},A.setCurrentTransformationMatrix=function(ut){return Jt(ut.toString()+" cm"),this},A.comment=function(ut){return Jt("#"+ut),this};var _u=function(ut,Yt){var ve=ut||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Yr){isNaN(Yr)||(ve=parseFloat(Yr))}});var Xe=Yt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xe},set:function(Yr){isNaN(Yr)||(Xe=parseFloat(Yr))}});var pr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pr},set:function(Yr){pr=Yr.toString()}}),this},Ms=function(ut,Yt,ve,Xe){_u.call(this,ut,Yt),this.type="rect";var pr=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pr},set:function(mn){isNaN(mn)||(pr=parseFloat(mn))}});var Yr=Xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Yr},set:function(mn){isNaN(mn)||(Yr=parseFloat(mn))}}),this},Cl=function(){this.page=Ke,this.currentPage=kt,this.pages=Se.slice(0),this.pagesContext=Pe.slice(0),this.x=rr,this.y=Me,this.matrix=jt,this.width=wo(kt),this.height=Ba(kt),this.outputDestination=He,this.id="",this.objectNumber=-1};Cl.prototype.restore=function(){Ke=this.page,kt=this.currentPage,Pe=this.pagesContext,Se=this.pages,rr=this.x,Me=this.y,jt=this.matrix,Bo(kt,this.width),zo(kt,this.height),He=this.outputDestination};var xu=function(ut,Yt,ve,Xe,pr){vn.push(new Cl),Ke=kt=0,Se=[],rr=ut,Me=Yt,jt=pr,nl([ve,Xe])};for(var Vl in A.beginFormObject=function(ut,Yt,ve,Xe,pr){return xu(ut,Yt,ve,Xe,pr),this},A.endFormObject=function(ut){return(function(Yt){if(or[Yt])vn.pop().restore();else{var ve=new Cl,Xe="Xo"+(Object.keys(Wr).length+1).toString(10);ve.id=Xe,or[Yt]=Xe,Wr[Xe]=ve,cr.publish("addFormObject",ve),vn.pop().restore()}})(ut),this},A.doFormObject=function(ut,Yt){var ve=Wr[or[ut]];return Jt("q"),Jt(Yt.toString()+" cm"),Jt("/"+ve.id+" Do"),Jt("Q"),this},A.getFormObject=function(ut){var Yt=Wr[or[ut]];return{x:Yt.x,y:Yt.y,width:Yt.width,height:Yt.height,matrix:Yt.matrix}},A.save=function(ut,Yt){return ut=ut||"generated.pdf",(Yt=Yt||{}).returnPromise=Yt.returnPromise||!1,Yt.returnPromise===!1?(kv(El(pl()),ut),typeof kv.unload=="function"&&pa.setTimeout&&setTimeout(kv.unload,911),this):new Promise(function(ve,Xe){try{var pr=kv(El(pl()),ut);typeof kv.unload=="function"&&pa.setTimeout&&setTimeout(kv.unload,911),ve(pr)}catch(Yr){Xe(Yr.message)}})},Li.API)Li.API.hasOwnProperty(Vl)&&(Vl==="events"&&Li.API.events.length?(function(ut,Yt){var ve,Xe,pr;for(pr=Yt.length-1;pr!==-1;pr--)ve=Yt[pr][0],Xe=Yt[pr][1],ut.subscribe.apply(ut,[ve].concat(typeof Xe=="function"?[Xe]:Xe))})(cr,Li.API.events):A[Vl]=Li.API[Vl]);var wo=A.getPageWidth=function(ut){return(Pe[ut=ut||kt].mediaBox.topRightX-Pe[ut].mediaBox.bottomLeftX)/Ze},Bo=A.setPageWidth=function(ut,Yt){Pe[ut].mediaBox.topRightX=Yt*Ze+Pe[ut].mediaBox.bottomLeftX},Ba=A.getPageHeight=function(ut){return(Pe[ut=ut||kt].mediaBox.topRightY-Pe[ut].mediaBox.bottomLeftY)/Ze},zo=A.setPageHeight=function(ut,Yt){Pe[ut].mediaBox.topRightY=Yt*Ze+Pe[ut].mediaBox.bottomLeftY};return A.internal={pdfEscape:Vi,getStyle:ee,getFont:Wn,getFontSize:ir,getCharSpace:jl,getTextColor:Tl,getLineHeight:Ln,getLineHeightFactor:na,getLineWidth:jn,write:Vr,getHorizontalCoordinate:Ii,getVerticalCoordinate:Bi,getCoordinateString:la,getVerticalCoordinateString:Bn,collections:{},newObject:ze,newAdditionalObject:$r,newObjectDeferred:Lr,newObjectDeferredBegin:yn,getFilters:en,putStream:Rn,events:cr,scaleFactor:Ze,pageSize:{getWidth:function(){return wo(kt)},setWidth:function(ut){Bo(kt,ut)},getHeight:function(){return Ba(kt)},setHeight:function(ut){zo(kt,ut)}},encryptionOptions:x,encryption:Ko,getEncryptor:function(ut){return x!==null?Ko.encryptor(ut,0):function(Yt){return Yt}},output:Wo,getNumberOfPages:zl,pages:Se,out:Jt,f2:at,f3:$,getPageInfo:Zo,getPageInfoByObjId:ic,getCurrentPageInfo:yc,getPDFVersion:D,Point:_u,Rectangle:Ms,Matrix:Kr,hasHotfix:Yo},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return wo(kt)},set:function(ut){Bo(kt,ut)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Ba(kt)},set:function(ut){zo(kt,ut)},enumerable:!0,configurable:!0}),(function(ut){for(var Yt=0,ve=Dr.length;Yt<ve;Yt++){var Xe=cu.call(this,ut[Yt][0],ut[Yt][1],ut[Yt][2],Dr[Yt][3],!0);k===!1&&(R[Xe]=!0);var pr=ut[Yt][0].split("-");sa({id:Xe,fontName:pr[0],fontStyle:pr[1]||""})}cr.publish("addFonts",{fonts:Mt,dictionary:Bt})}).call(A,Dr),Fr="F1",Xo(i,r),cr.publish("initialized"),A}zb.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},zb.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zb.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},zb.prototype.processOwnerPassword=function(t,e){return gL(mL(e).substr(0,5),t)},zb.prototype.encryptor=function(t,e){var r=mL(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return gL(r,n)}},sT.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ws(t)!==Ws(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Li.API={events:[]},Li.version="3.0.2";var Vu=Li.API,k4=1,d0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bb=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ka=function(t){return t.toFixed(2)},oy=function(t){return t.toFixed(5)};Vu.__acroform__={};var xd=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},KB=function(t){return t*k4},nm=function(t){var e=new yG,r=gi.internal.getHeight(t)||0,n=gi.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ka(n)),Number(ka(r))],e},$ht=Vu.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Uht=Vu.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},qht=Vu.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Zu=Vu.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qht(t,e-1)},Qu=Vu.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $ht(t,e-1)},Ju=Vu.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Uht(t,e-1)},Ght=Vu.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],o=t[1],u=t[2],a=t[3],g={};return g.lowerLeft_X=r(i)||0,g.lowerLeft_Y=n(o+a)||0,g.upperRight_X=r(i+u)||0,g.upperRight_Y=n(o)||0,[Number(ka(g.lowerLeft_X)),Number(ka(g.lowerLeft_Y)),Number(ka(g.upperRight_X)),Number(ka(g.upperRight_Y))]},Hht=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=yL(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ka(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=nm(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},yL=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(at){return at.split(`
`)}):i.map(function(at){return[at]});var o=r,u=gi.internal.getHeight(t)||0;u=u<0?-u:u;var a=gi.internal.getWidth(t)||0;a=a<0?-a:a;var g=function(at,$,dt){if(at+1<i.length){var mt=$+" "+i[at+1][0];return x5(mt,t,dt).width<=a-4}return!1};o++;t:for(;o>0;){e="",o--;var v,x,k=x5("3",t,o).height,R=t.multiline?u-o:(u-k)/2,A=R+=2,O=0,D=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+x5(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var H="",G=0,z=0;z<i.length;z++)if(i.hasOwnProperty(z)){var j=!1;if(i[z].length!==1&&U!==i[z].length-1){if((k+2)*(G+2)+2>u)continue t;H+=i[z][U],j=!0,D=z,z--}else{H=(H+=i[z][U]+" ").substr(H.length-1)==" "?H.substr(0,H.length-1):H;var X=parseInt(z),Y=g(X,H,o),rt=z>=i.length-1;if(Y&&!rt){H+=" ",U=0;continue}if(Y||rt){if(rt)D=X;else if(t.multiline&&(k+2)*(G+2)+2>u)continue t}else{if(!t.multiline||(k+2)*(G+2)+2>u)continue t;D=X}}for(var st="",it=O;it<=D;it++){var bt=i[it];if(t.multiline){if(it===D){st+=bt[U]+" ",U=(U+1)%bt.length;continue}if(it===O){st+=bt[bt.length-1]+" ";continue}}st+=bt[0]+" "}switch(st=st.substr(st.length-1)==" "?st.substr(0,st.length-1):st,x=x5(st,t,o).width,t.textAlign){case"right":v=a-x-2;break;case"center":v=(a-x)/2;break;default:v=2}e+=ka(v)+" "+ka(A)+` Td
`,e+="("+d0(st)+`) Tj
`,e+=-ka(v)+` 0 Td
`,A=-(o+2),x=0,O=j?D:D+1,G++,H=""}break}return n.text=e,n.fontSize=o,n},x5=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Xht={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Wht=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Yht=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ap.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Xht)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");k4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new vG,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.objId=void 0,o.hasAnnotation&&Wht(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var o=!n;for(var u in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var a=n[u],g=[],v=a.Rect;if(a.Rect&&(a.Rect=Ght(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=gi.createDefaultAppearanceStream(a),Ws(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(g=a.getKeyValueListForStream()),a.Rect=v,a.hasAppearanceStream&&!a.appearanceStreamContent){var x=Hht(a);g.push({key:"AP",value:"<</N "+x+">>"}),i.internal.acroformPlugin.xForms.push(x)}if(a.appearanceStreamContent){var k="";for(var R in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(R)){var A=a.appearanceStreamContent[R];if(k+="/"+R+" ",k+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var u in A)if(A.hasOwnProperty(u)){var O=A[u];typeof O=="function"&&(O=O.call(i,a)),k+="/"+u+" "+O+" ",i.internal.acroformPlugin.xForms.indexOf(O)>=0||i.internal.acroformPlugin.xForms.push(O)}}else typeof(O=A)=="function"&&(O=O.call(i,a)),k+="/"+u+" "+O,i.internal.acroformPlugin.xForms.indexOf(O)>=0||i.internal.acroformPlugin.xForms.push(O);k+=">>"}g.push({key:"AP",value:`<<
`+k+">>"})}i.internal.putStream({additionalKeyValues:g,objectId:a.objId}),i.internal.out("endobj")}o&&(function(D,U){for(var H in D)if(D.hasOwnProperty(H)){var G=H,z=D[H];U.internal.newObjectDeferredBegin(z.objId,!0),Ws(z)==="object"&&typeof z.putStream=="function"&&z.putStream(),delete D[G]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},gG=Vu.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(u){return u};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Ws(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+d0(n(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wk=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+d0(n(t))+")"},vm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vm.prototype.toString=function(){return this.objId+" 0 R"},vm.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},vm.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:gG(i,this.objId,this.scope)}):i instanceof vm?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var yG=function(){vm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};xd(yG,vm);var vG=function(){vm.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+d0(r(t))+")"}},set:function(r){t=r}})};xd(vG,vm);var Ap=function t(){vm.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(H){if(isNaN(H))throw new Error('Invalid value "'+H+'" for attribute F supplied.');e=H}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zu(e,3)},set:function(H){H?this.F=Qu(e,3):this.F=Ju(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(H){if(isNaN(H))throw new Error('Invalid value "'+H+'" for attribute Ff supplied.');r=H}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(H){n=H!==void 0?H:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(H){n[0]=H}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(H){n[1]=H}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(H){n[2]=H}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(H){n[3]=H}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(H){switch(H){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=H;break;default:throw new Error('Invalid value "'+H+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof lT)return;o="FieldObject"+t.FieldNum++}var H=function(G){return G};return this.scope&&(H=this.scope.internal.getEncryptor(this.objId)),"("+d0(H(o))+")"},set:function(H){o=H.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(H){o=H}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(H){u=H}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(H){a=H}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(H){g=H}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/k4:v},set:function(H){v=H}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(H){x=H}});var k="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!k||this instanceof lT||this instanceof qv))return Wk(k,this.objId,this.scope)},set:function(H){H=H.toString(),k=H}});var R=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(R)return this instanceof Vc==0?Wk(R,this.objId,this.scope):R},set:function(H){H=H.toString(),R=this instanceof Vc==0?H.substr(0,1)==="("?bb(H.substr(1,H.length-2)):bb(H):H}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vc==1?bb(R.substr(1,R.length-1)):R},set:function(H){H=H.toString(),R=this instanceof Vc==1?"/"+H:H}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(H){this.V=H}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Vc==0?Wk(A,this.objId,this.scope):A},set:function(H){H=H.toString(),A=this instanceof Vc==0?H.substr(0,1)==="("?bb(H.substr(1,H.length-2)):bb(H):H}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vc==1?bb(A.substr(1,A.length-1)):A},set:function(H){H=H.toString(),A=this instanceof Vc==1?"/"+H:H}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(H){H=!!H,D=H}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(H){O=H}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,1)},set:function(H){H?this.Ff=Qu(this.Ff,1):this.Ff=Ju(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,2)},set:function(H){H?this.Ff=Qu(this.Ff,2):this.Ff=Ju(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,3)},set:function(H){H?this.Ff=Qu(this.Ff,3):this.Ff=Ju(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(H){if([0,1,2].indexOf(H)===-1)throw new Error('Invalid value "'+H+'" for attribute Q supplied.');U=H}}),Object.defineProperty(this,"textAlign",{get:function(){var H;switch(U){case 0:default:H="left";break;case 1:H="center";break;case 2:H="right"}return H},configurable:!0,enumerable:!0,set:function(H){switch(H){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};xd(Ap,vm);var I_=function(){Ap.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gG(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(o,u,a){a||(a=1);for(var g,v=[];g=u.exec(o);)v.push(g[a]);return v})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,18)},set:function(r){r?this.Ff=Qu(this.Ff,18):this.Ff=Ju(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qu(this.Ff,19):this.Ff=Ju(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,20)},set:function(r){r?(this.Ff=Qu(this.Ff,20),e.sort()):this.Ff=Ju(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,22)},set:function(r){r?this.Ff=Qu(this.Ff,22):this.Ff=Ju(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,23)},set:function(r){r?this.Ff=Qu(this.Ff,23):this.Ff=Ju(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,27)},set:function(r){r?this.Ff=Qu(this.Ff,27):this.Ff=Ju(this.Ff,27)}}),this.hasAppearanceStream=!1};xd(I_,Ap);var R_=function(){I_.call(this),this.fontName="helvetica",this.combo=!1};xd(R_,I_);var N_=function(){R_.call(this),this.combo=!0};xd(N_,R_);var fE=function(){N_.call(this),this.edit=!0};xd(fE,N_);var Vc=function(){Ap.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,15)},set:function(r){r?this.Ff=Qu(this.Ff,15):this.Ff=Ju(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,16)},set:function(r){r?this.Ff=Qu(this.Ff,16):this.Ff=Ju(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,17)},set:function(r){r?this.Ff=Qu(this.Ff,17):this.Ff=Ju(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,26)},set:function(r){r?this.Ff=Qu(this.Ff,26):this.Ff=Ju(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+d0(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ws(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};xd(Vc,Ap);var pE=function(){Vc.call(this),this.pushButton=!0};xd(pE,Vc);var L_=function(){Vc.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xd(L_,Vc);var lT=function(){var t,e;Ap.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),n)u.push("/"+o+" ("+d0(i(n[o]))+")");return u.push(">>"),u.join(`
`)},set:function(i){Ws(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gi.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xd(lT,Ap),L_.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},L_.prototype.createOption=function(t){var e=new lT;return e.Parent=this,e.optionName=t,this.Kids.push(e),Kht.call(this.scope,e),e};var mE=function(){Vc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gi.CheckBox.createAppearanceStream()};xd(mE,Vc);var qv=function(){Ap.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,13)},set:function(e){e?this.Ff=Qu(this.Ff,13):this.Ff=Ju(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,21)},set:function(e){e?this.Ff=Qu(this.Ff,21):this.Ff=Ju(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,23)},set:function(e){e?this.Ff=Qu(this.Ff,23):this.Ff=Ju(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,24)},set:function(e){e?this.Ff=Qu(this.Ff,24):this.Ff=Ju(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,25)},set:function(e){e?this.Ff=Qu(this.Ff,25):this.Ff=Ju(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,26)},set:function(e){e?this.Ff=Qu(this.Ff,26):this.Ff=Ju(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xd(qv,Ap);var gE=function(){qv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zu(this.Ff,14)},set:function(t){t?this.Ff=Qu(this.Ff,14):this.Ff=Ju(this.Ff,14)}}),this.password=!0};xd(gE,qv);var gi={CheckBox:{createAppearanceStream:function(){return{N:{On:gi.CheckBox.YesNormal},D:{On:gi.CheckBox.YesPushDown,Off:gi.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nm(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=yL(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ka(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=nm(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],o=gi.internal.getHeight(t),u=gi.internal.getWidth(t),a=yL(t,t.caption);return i.push("1 g"),i.push("0 0 "+ka(u)+" "+ka(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ka(u-1)+" "+ka(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ka(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=nm(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:gi.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=gi.RadioButton.Circle.YesNormal,e.D[t]=gi.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nm(t);e.scope=t.scope;var r=[],n=gi.internal.getWidth(t)<=gi.internal.getHeight(t)?gi.internal.getWidth(t)/4:gi.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=gi.internal.Bezier_C,o=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+oy(gi.internal.getWidth(t)/2)+" "+oy(gi.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=nm(t);e.scope=t.scope;var r=[],n=gi.internal.getWidth(t)<=gi.internal.getHeight(t)?gi.internal.getWidth(t)/4:gi.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*gi.internal.Bezier_C).toFixed(5)),u=Number((n*gi.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+oy(gi.internal.getWidth(t)/2)+" "+oy(gi.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+oy(gi.internal.getWidth(t)/2)+" "+oy(gi.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),r.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),r.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),r.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=nm(t);e.scope=t.scope;var r=[],n=gi.internal.getWidth(t)<=gi.internal.getHeight(t)?gi.internal.getWidth(t)/4:gi.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*gi.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+oy(gi.internal.getWidth(t)/2)+" "+oy(gi.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:gi.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=gi.RadioButton.Cross.YesNormal,e.D[t]=gi.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nm(t);e.scope=t.scope;var r=[],n=gi.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ka(gi.internal.getWidth(t)-2)+" "+ka(gi.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ka(n.x1.x)+" "+ka(n.x1.y)+" m"),r.push(ka(n.x2.x)+" "+ka(n.x2.y)+" l"),r.push(ka(n.x4.x)+" "+ka(n.x4.y)+" m"),r.push(ka(n.x3.x)+" "+ka(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=nm(t);e.scope=t.scope;var r=gi.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ka(gi.internal.getWidth(t)-2)+" "+ka(gi.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ka(r.x1.x)+" "+ka(r.x1.y)+" m"),n.push(ka(r.x2.x)+" "+ka(r.x2.y)+" l"),n.push(ka(r.x4.x)+" "+ka(r.x4.y)+" m"),n.push(ka(r.x3.x)+" "+ka(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=nm(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ka(gi.internal.getWidth(t))+" "+ka(gi.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};gi.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=gi.internal.getWidth(t),r=gi.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},gi.internal.getWidth=function(t){var e=0;return Ws(t)==="object"&&(e=KB(t.Rect[2])),e},gi.internal.getHeight=function(t){var e=0;return Ws(t)==="object"&&(e=KB(t.Rect[3])),e};var Kht=Vu.addField=function(t){if(Yht(this,t),!(t instanceof Ap))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Vu.AcroFormChoiceField=I_,Vu.AcroFormListBox=R_,Vu.AcroFormComboBox=N_,Vu.AcroFormEditBox=fE,Vu.AcroFormButton=Vc,Vu.AcroFormPushButton=pE,Vu.AcroFormRadioButton=L_,Vu.AcroFormCheckBox=mE,Vu.AcroFormTextField=qv,Vu.AcroFormPasswordField=gE,Vu.AcroFormAppearance=gi,Vu.AcroForm={ChoiceField:I_,ListBox:R_,ComboBox:N_,EditBox:fE,Button:Vc,PushButton:pE,RadioButton:L_,CheckBox:mE,TextField:qv,PasswordField:gE,Appearance:gi},Li.AcroForm={ChoiceField:I_,ListBox:R_,ComboBox:N_,EditBox:fE,Button:Vc,PushButton:pE,RadioButton:L_,CheckBox:mE,TextField:qv,PasswordField:gE,Appearance:gi};Li.AcroForm;function bG(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(at,$){var dt,mt,wt,pt,Ct,vt=r;if(($=$||r)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Y(at))for(Ct in n)for(wt=n[Ct],dt=0;dt<wt.length;dt+=1){for(pt=!0,mt=0;mt<wt[dt].length;mt+=1)if(wt[dt][mt]!==void 0&&wt[dt][mt]!==at[mt]){pt=!1;break}if(pt===!0){vt=Ct;break}}else for(Ct in n)for(wt=n[Ct],dt=0;dt<wt.length;dt+=1){for(pt=!0,mt=0;mt<wt[dt].length;mt+=1)if(wt[dt][mt]!==void 0&&wt[dt][mt]!==at.charCodeAt(mt)){pt=!1;break}if(pt===!0){vt=Ct;break}}return vt===r&&$!==r&&(vt=$),vt},o=function at($){for(var dt=this.internal.write,mt=this.internal.putStream,wt=(0,this.internal.getFilters)();wt.indexOf("FlateEncode")!==-1;)wt.splice(wt.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var pt=[];if(pt.push({key:"Type",value:"/XObject"}),pt.push({key:"Subtype",value:"/Image"}),pt.push({key:"Width",value:$.width}),pt.push({key:"Height",value:$.height}),$.colorSpace===H.INDEXED?pt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(pt.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===H.DEVICE_CMYK&&pt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pt.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&pt.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)){for(var Ct="",vt=0,It=$.transparency.length;vt<It;vt++)Ct+=$.transparency[vt]+" "+$.transparency[vt]+" ";pt.push({key:"Mask",value:"["+Ct+"]"})}$.sMask!==void 0&&pt.push({key:"SMask",value:$.objectId+1+" 0 R"});var Ft=$.filter!==void 0?["/"+$.filter]:void 0;if(mt({data:$.data,additionalKeyValues:pt,alreadyAppliedFilters:Ft,objectId:$.objectId}),dt("endobj"),"sMask"in $&&$.sMask!==void 0){var Et=($.predictor!=null?"/Predictor "+$.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+$.width,lt={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:$.bitsPerComponent,decodeParameters:Et,data:$.sMask};"filter"in $&&(lt.filter=$.filter),at.call(this,lt)}if($.colorSpace===H.INDEXED){var kt=this.internal.newObject();mt({data:st(new Uint8Array($.palette)),objectId:kt}),dt("endobj")}},u=function(){var at=this.internal.collections[e+"images"];for(var $ in at)o.call(this,at[$])},a=function(){var at,$=this.internal.collections[e+"images"],dt=this.internal.write;for(var mt in $)dt("/I"+(at=$[mt]).index,at.objectId,"0","R")},g=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",a))},v=function(){var at=this.internal.collections[e+"images"];return g.call(this),at},x=function(){return Object.keys(this.internal.collections[e+"images"]).length},k=function(at){return typeof t["process"+at.toUpperCase()]=="function"},R=function(at){return Ws(at)==="object"&&at.nodeType===1},A=function(at,$){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var dt=""+at.getAttribute("src");if(dt.indexOf("data:image/")===0)return dE(unescape(dt).split("base64,").pop());var mt=t.loadFile(dt,!0);if(mt!==void 0)return mt}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var wt;switch($){case"PNG":wt="image/png";break;case"WEBP":wt="image/webp";break;default:wt="image/jpeg"}return dE(at.toDataURL(wt,1).split("base64,").pop())}},O=function(at){var $=this.internal.collections[e+"images"];if($){for(var dt in $)if(at===$[dt].alias)return $[dt]}},D=function(at,$,dt){return at||$||(at=-96,$=-96),at<0&&(at=-1*dt.width*72/at/this.internal.scaleFactor),$<0&&($=-1*dt.height*72/$/this.internal.scaleFactor),at===0&&(at=$*dt.width/dt.height),$===0&&($=at*dt.height/dt.width),[at,$]},U=function(at,$,dt,mt,wt,pt){var Ct=D.call(this,dt,mt,wt),vt=this.internal.getCoordinateString,It=this.internal.getVerticalCoordinateString,Ft=v.call(this);if(dt=Ct[0],mt=Ct[1],Ft[wt.index]=wt,pt){pt*=Math.PI/180;var Et=Math.cos(pt),lt=Math.sin(pt),kt=function(Nt){return Nt.toFixed(4)},At=[kt(Et),kt(lt),kt(-1*lt),kt(Et),0,0,"cm"]}this.internal.write("q"),pt?(this.internal.write([1,"0","0",1,vt(at),It($+mt),"cm"].join(" ")),this.internal.write(At.join(" ")),this.internal.write([vt(dt),"0","0",vt(mt),"0","0","cm"].join(" "))):this.internal.write([vt(dt),"0","0",vt(mt),vt(at),It($+mt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wt.index+" Do"),this.internal.write("Q")},H=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=t.__addimage__.sHashCode=function(at){var $,dt,mt=0;if(typeof at=="string")for(dt=at.length,$=0;$<dt;$++)mt=(mt<<5)-mt+at.charCodeAt($),mt|=0;else if(Y(at))for(dt=at.byteLength/2,$=0;$<dt;$++)mt=(mt<<5)-mt+at[$],mt|=0;return mt},j=t.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var $=!0;return at.length===0&&($=!1),at.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&($=!1),$},X=t.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var $=at.indexOf(",");return $<0?null:at.substring(0,$).trim().endsWith("base64")?at.substring($+1):null};t.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},rt=t.__addimage__.binaryStringToUint8Array=function(at){for(var $=at.length,dt=new Uint8Array($),mt=0;mt<$;mt++)dt[mt]=at.charCodeAt(mt);return dt},st=t.__addimage__.arrayBufferToBinaryString=function(at){for(var $="",dt=Y(at)?at:new Uint8Array(at),mt=0;mt<dt.length;mt+=8192)$+=String.fromCharCode.apply(null,dt.subarray(mt,mt+8192));return $};t.addImage=function(){var at,$,dt,mt,wt,pt,Ct,vt,It;if(typeof arguments[1]=="number"?($=r,dt=arguments[1],mt=arguments[2],wt=arguments[3],pt=arguments[4],Ct=arguments[5],vt=arguments[6],It=arguments[7]):($=arguments[1],dt=arguments[2],mt=arguments[3],wt=arguments[4],pt=arguments[5],Ct=arguments[6],vt=arguments[7],It=arguments[8]),Ws(at=arguments[0])==="object"&&!R(at)&&"imageData"in at){var Ft=at;at=Ft.imageData,$=Ft.format||$||r,dt=Ft.x||dt||0,mt=Ft.y||mt||0,wt=Ft.w||Ft.width||wt,pt=Ft.h||Ft.height||pt,Ct=Ft.alias||Ct,vt=Ft.compression||vt,It=Ft.rotation||Ft.angle||It}var Et=this.internal.getFilters();if(vt===void 0&&Et.indexOf("FlateEncode")!==-1&&(vt="SLOW"),isNaN(dt)||isNaN(mt))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var lt=it.call(this,at,$,Ct,vt);return U.call(this,dt,mt,wt,pt,lt,It),this};var it=function(at,$,dt,mt){var wt,pt,Ct;if(typeof at=="string"&&i(at)===r){at=unescape(at);var vt=bt(at,!1);(vt!==""||(vt=t.loadFile(at,!0))!==void 0)&&(at=vt)}if(R(at)&&(at=A(at,$)),$=i(at,$),!k($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((Ct=dt)==null||Ct.length===0)&&(dt=(function(It){return typeof It=="string"||Y(It)?z(It):Y(It.data)?z(It.data):null})(at)),(wt=O.call(this,dt))||(at instanceof Uint8Array||$==="RGBA"||(pt=at,at=rt(at)),wt=this["process"+$.toUpperCase()](at,x.call(this),dt,(function(It){return It&&typeof It=="string"&&(It=It.toUpperCase()),It in t.image_compression?It:G.NONE})(mt),pt)),!wt)throw new Error("An unknown error occurred whilst processing the image.");return wt},bt=t.__addimage__.convertBase64ToBinaryString=function(at,$){$=typeof $!="boolean"||$;var dt,mt="";if(typeof at=="string"){var wt;dt=(wt=X(at))!==null&&wt!==void 0?wt:at;try{mt=dE(dt)}catch(pt){if($)throw j(dt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return mt};t.getImageProperties=function(at){var $,dt,mt="";if(R(at)&&(at=A(at)),typeof at=="string"&&i(at)===r&&((mt=bt(at,!1))===""&&(mt=t.loadFile(at)||""),at=mt),dt=i(at),!k(dt))throw new Error("addImage does not support files of type '"+dt+"', please ensure that a plugin for '"+dt+"' support is added.");if(at instanceof Uint8Array||(at=rt(at)),!($=this["process"+dt.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=dt,$}})(Li.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Li.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,o,u=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),v=r.pageContext.annotations,x=!1,k=0;k<v.length&&!x;k++)switch((n=v[k]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var R=0;R<v.length;R++){n=v[R];var A=this.internal.pdfEscape,O=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),H=this.internal.getEncryptor(D.objId),G=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+u(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+A(H(n.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+g.objId+" 0 R",o+=" /T ("+A(H(G))+") >>",D.content=o;var z=D.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+u(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+z,n.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(D.objId,"0 R",U.objId,"0 R");break;case"freetext":i="/Rect ["+u(n.bounds.x)+" "+a(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(O(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(O(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var Y=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,o,u){var a=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:g(r),y:v(n),w:g(r+i),h:v(n+o)},options:u,type:"link"})},t.textWithLink=function(r,n,i,o){var u,a,g=this.getTextWidth(r),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var x=this.splitTextToSize(r,a).length;u=Math.ceil(v*x)}else a=g,u=v;return this.text(r,n,i,o),i+=.2*v,o.align==="center"&&(n-=g/2),o.align==="right"&&(n-=g),this.link(n,i-v,a,u,o),g},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Li.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(D){return e[D.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},a=t.__arabicParser__.isArabicEndLetter=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length<=2},g=t.__arabicParser__.isArabicAlfLetter=function(D){return u(D)&&i.indexOf(D.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=1};var v=t.__arabicParser__.arabicLetterHasFinalForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length>=3};var x=t.__arabicParser__.arabicLetterHasMedialForm=function(D){return u(D)&&o(D)&&e[D.charCodeAt(0)].length==4},k=t.__arabicParser__.resolveLigatures=function(D){var U=0,H=r,G="",z=0;for(U=0;U<D.length;U+=1)H[D.charCodeAt(U)]!==void 0?(z++,typeof(H=H[D.charCodeAt(U)])=="number"&&(G+=String.fromCharCode(H),H=r,z=0),U===D.length-1&&(H=r,G+=D.charAt(U-(z-1)),U-=z-1,z=0)):(H=r,G+=D.charAt(U-z),U-=z,z=0);return G};t.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&n[D.charCodeAt(0)]!==void 0};var R=t.__arabicParser__.getCorrectForm=function(D,U,H){return u(D)?o(D)===!1?-1:!v(D)||!u(U)&&!u(H)||!u(H)&&a(U)||a(D)&&!u(U)||a(D)&&g(U)||a(D)&&a(U)?0:x(D)&&u(U)&&!a(U)&&u(H)&&v(H)?3:a(D)||!u(H)?1:2:-1},A=function(D){var U=0,H=0,G=0,z="",j="",X="",Y=(D=D||"").split("\\s+"),rt=[];for(U=0;U<Y.length;U+=1){for(rt.push(""),H=0;H<Y[U].length;H+=1)z=Y[U][H],j=Y[U][H-1],X=Y[U][H+1],u(z)?(G=R(z,j,X),rt[U]+=G!==-1?String.fromCharCode(e[z.charCodeAt(0)][G]):z):rt[U]+=z;rt[U]=k(rt[U])}return rt.join(" ")},O=t.__arabicParser__.processArabic=t.processArabic=function(){var D,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,H=[];if(Array.isArray(U)){var G=0;for(H=[],G=0;G<U.length;G+=1)Array.isArray(U[G])?H.push([A(U[G][0]),U[G][1],U[G][2]]):H.push([A(U[G])]);D=H}else D=A(U);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};t.events.push(["preProcessText",O])})(Li.API),Li.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(a){u=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Li.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(D){g=D}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(D){v=D}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(D){x=D}});var k=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return k},set:function(D){k=D}});var R=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return R},set:function(D){R=D}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(D){A=D}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(D){O=D}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(g){return n.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},t.getTextDimensions=function(g,v){n.call(this);var x=(v=v||{}).fontSize||this.getFontSize(),k=v.font||this.getFont(),R=v.scaleFactor||this.internal.scaleFactor,A=0,O=0,D=0,U=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var H=v.maxWidth;H>0?typeof g=="string"?g=this.splitTextToSize(g,H):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(z,j){return z.concat(U.splitTextToSize(j,H))},[])):g=Array.isArray(g)?g:[g];for(var G=0;G<g.length;G++)A<(D=this.getStringUnitWidth(g[G],{font:k})*x)&&(A=D);return A!==0&&(O=g.length),{w:A/=R,h:Math.max((O*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/R,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var g=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var g;g=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var v=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,k=this.internal.__cell__.margins||e,R=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===g.lineNumber?(g.x=(v.x||0)+(v.width||0),g.y=v.y||0):v.y+v.height+g.height+k.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=k.top,A&&R&&(this.printHeaderRow(g.lineNumber,!0),g.y+=R[0].height)):g.y=v.y+v.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,r===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-x,g.y+x,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+x,{align:"center",baseline:"top",maxWidth:g.width-x-x}):this.text(g.text,g.x+x,g.y+x,{align:"left",baseline:"top",maxWidth:g.width-x-x})),this.internal.__cell__.lastCell=g,this};t.table=function(g,v,x,k,R){if(n.call(this),!x)throw new Error("No data for PDF table.");var A,O,D,U,H=[],G=[],z=[],j={},X={},Y=[],rt=[],st=(R=R||{}).autoSize||!1,it=R.printHeaders!==!1,bt=R.css&&R.css["font-size"]!==void 0?16*R.css["font-size"]:R.fontSize||12,at=R.margins||Object.assign({width:this.getPageWidth()},e),$=typeof R.padding=="number"?R.padding:3,dt=R.headerBackgroundColor||"#c8c8c8",mt=R.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=it,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=bt,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=dt,this.internal.__cell__.headerTextColor=mt,this.setFontSize(bt),k==null)G=H=Object.keys(x[0]),z=H.map(function(){return"left"});else if(Array.isArray(k)&&Ws(k[0])==="object")for(H=k.map(function(Ft){return Ft.name}),G=k.map(function(Ft){return Ft.prompt||Ft.name||""}),z=k.map(function(Ft){return Ft.align||"left"}),A=0;A<k.length;A+=1)X[k[A].name]=.7499990551181103*k[A].width;else Array.isArray(k)&&typeof k[0]=="string"&&(G=H=k,z=H.map(function(){return"left"}));if(st||Array.isArray(k)&&typeof k[0]=="string")for(A=0;A<H.length;A+=1){for(j[U=H[A]]=x.map(function(Ft){return Ft[U]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(G[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=j[U],this.setFont(void 0,"normal"),D=0;D<O.length;D+=1)Y.push(this.getTextDimensions(O[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[U]=Math.max.apply(null,Y)+$+$,Y=[]}if(it){var wt={};for(A=0;A<H.length;A+=1)wt[H[A]]={},wt[H[A]].text=G[A],wt[H[A]].align=z[A];var pt=a.call(this,wt,X);rt=H.map(function(Ft){return new o(g,v,X[Ft],pt,wt[Ft].text,void 0,wt[Ft].align)}),this.setTableHeaderRow(rt),this.printHeaderRow(1,!1)}var Ct=k.reduce(function(Ft,Et){return Ft[Et.name]=Et.align,Ft},{});for(A=0;A<x.length;A+=1){"rowStart"in R&&R.rowStart instanceof Function&&R.rowStart({row:A,data:x[A]},this);var vt=a.call(this,x[A],X);for(D=0;D<H.length;D+=1){var It=x[A][H[D]];"cellStart"in R&&R.cellStart instanceof Function&&R.cellStart({row:A,col:D,data:It},this),u.call(this,new o(g,v,X[H[D]],vt,It,A+2,Ct[H[D]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=v,this};var a=function(g,v){var x=this.internal.__cell__.padding,k=this.internal.__cell__.table_font_size,R=this.internal.scaleFactor;return Object.keys(g).map(function(A){var O=g[A];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,v[A]-x-x)},this).map(function(A){return this.getLineHeightFactor()*A.length*k/R+x+x},this).reduce(function(A,O){return Math.max(A,O)},0)};t.setTableHeaderRow=function(g){n.call(this),this.internal.__cell__.tableHeaderRow=g},t.printHeaderRow=function(g,v){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var k=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(k[0],k[1],k[2],k[3],void 0,-1)}this.setFont(void 0,"bold");for(var R=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){x=this.internal.__cell__.tableHeaderRow[A].clone(),v&&(x.y=this.internal.__cell__.margins.top||0,R.push(x)),x.lineNumber=g;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,x),this.setTextColor(O)}R.length>0&&this.setTableHeaderRow(R),this.setFont(void 0,"normal"),r=!1}})(Li.API);var _G={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vL=bG(xG),wG=[100,200,300,400,500,600,700,800,900],Zht=bG(wG);function Yk(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return _G[o=o||"normal"]?o:"normal"})(t.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof vL[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function ZB(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Qht={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function JB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tz(t){return t.trimLeft()}function Jht(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function tdt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var w5,ez,rz,_b,S5,nz,iz,az,oz=["times"];function sz(t,e,r,n){var i=4,o=uz;switch(n){case Li.API.image_compression.FAST:i=1,o=lz;break;case Li.API.image_compression.MEDIUM:i=6,o=cz;break;case Li.API.image_compression.SLOW:i=9,o=hz}t=(function(a,g,v,x){for(var k,R=a.length/g,A=new Uint8Array(a.length+R),O=[edt,lz,uz,cz,hz],D=0;D<R;D+=1){var U=D*g,H=a.subarray(U,U+g);if(x)A.set(x(H,v,k),U+D);else{for(var G=O.length,z=[],j=0;j<G;j+=1)z[j]=O[j](H,v,k);var X=ndt(z.concat());A.set(z[X],U+D)}k=H}return A})(t,e,r,o);var u=hL(t,{level:i});return Li.API.__addimage__.arrayBufferToBinaryString(u)}function edt(t){var e=Array.apply([],t);return e.unshift(0),e}function lz(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var o=t[i-e]||0;n[i+1]=t[i]-o+256&255}return n}function uz(t,e,r){var n=t.length,i=[];i[0]=2;for(var o=0;o<n;o+=1){var u=r&&r[o]||0;i[o+1]=t[o]-u+256&255}return i}function cz(t,e,r){var n=t.length,i=[];i[0]=3;for(var o=0;o<n;o+=1){var u=t[o-e]||0,a=r&&r[o]||0;i[o+1]=t[o]+256-(u+a>>>1)&255}return i}function hz(t,e,r){var n=t.length,i=[];i[0]=4;for(var o=0;o<n;o+=1){var u=rdt(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);i[o+1]=t[o]-u+256&255}return i}function rdt(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=i&&n<=o?t:i<=o?e:r}function ndt(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Kk(t,e,r){var n=e*r,i=Math.floor(n/8),o=16-(n-8*i+r),u=(1<<r)-1;return SG(t,i)>>o&u}function dz(t,e,r,n){var i=r*n,o=Math.floor(i/8),u=16-(i-8*o+n),a=(1<<n)-1,g=(e&a)<<u;(function(v,x,k){if(x+1<v.byteLength)v.setUint16(x,k,!1);else{var R=k>>8&255;v.setUint8(x,R)}})(t,o,SG(t,o)&~(a<<u)&65535|g)}function SG(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function idt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,u=1<<1+(7&i);t[e++],t[e++];var a=null,g=null;o&&(a=e,g=u,e+=3*u);var v=!0,x=[],k=0,R=null,A=0,O=null;for(this.width=r,this.height=n;v&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,O=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((at=t[e++])>=0))throw Error("Invalid block size");if(at===0)break;e+=at}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var D=t[e++];k=t[e++]|t[e++]<<8,R=t[e++],1&D||(R=null),A=D>>2&7,e++;break;case 254:for(;;){if(!((at=t[e++])>=0))throw Error("Invalid block size");if(at===0)break;e+=at}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var U=t[e++]|t[e++]<<8,H=t[e++]|t[e++]<<8,G=t[e++]|t[e++]<<8,z=t[e++]|t[e++]<<8,j=t[e++],X=j>>6&1,Y=1<<1+(7&j),rt=a,st=g,it=!1;j>>7&&(it=!0,rt=e,st=Y,e+=3*Y);var bt=e;for(e++;;){var at;if(!((at=t[e++])>=0))throw Error("Invalid block size");if(at===0)break;e+=at}x.push({x:U,y:H,width:G,height:z,has_local_palette:it,palette_offset:rt,palette_size:st,data_offset:bt,data_length:e-bt,transparent_index:R,interlaced:!!X,delay:k,disposal:A});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return O},this.frameInfo=function($){if($<0||$>=x.length)throw new Error("Frame index out of range.");return x[$]},this.decodeAndBlitFrameBGRA=function($,dt){var mt=this.frameInfo($),wt=mt.width*mt.height,pt=new Uint8Array(wt);fz(t,mt.data_offset,pt,wt);var Ct=mt.palette_offset,vt=mt.transparent_index;vt===null&&(vt=256);var It=mt.width,Ft=r-It,Et=It,lt=4*(mt.y*r+mt.x),kt=4*((mt.y+mt.height)*r+mt.x),At=lt,Nt=4*Ft;mt.interlaced===!0&&(Nt+=4*r*7);for(var qt=8,ie=0,Ht=pt.length;ie<Ht;++ie){var ce=pt[ie];if(Et===0&&(Et=It,(At+=Nt)>=kt&&(Nt=4*Ft+4*r*(qt-1),At=lt+(It+Ft)*(qt<<1),qt>>=1)),ce===vt)At+=4;else{var de=t[Ct+3*ce],Se=t[Ct+3*ce+1],$t=t[Ct+3*ce+2];dt[At++]=$t,dt[At++]=Se,dt[At++]=de,dt[At++]=255}--Et}},this.decodeAndBlitFrameRGBA=function($,dt){var mt=this.frameInfo($),wt=mt.width*mt.height,pt=new Uint8Array(wt);fz(t,mt.data_offset,pt,wt);var Ct=mt.palette_offset,vt=mt.transparent_index;vt===null&&(vt=256);var It=mt.width,Ft=r-It,Et=It,lt=4*(mt.y*r+mt.x),kt=4*((mt.y+mt.height)*r+mt.x),At=lt,Nt=4*Ft;mt.interlaced===!0&&(Nt+=4*r*7);for(var qt=8,ie=0,Ht=pt.length;ie<Ht;++ie){var ce=pt[ie];if(Et===0&&(Et=It,(At+=Nt)>=kt&&(Nt=4*Ft+4*r*(qt-1),At=lt+(It+Ft)*(qt<<1),qt>>=1)),ce===vt)At+=4;else{var de=t[Ct+3*ce],Se=t[Ct+3*ce+1],$t=t[Ct+3*ce+2];dt[At++]=de,dt[At++]=Se,dt[At++]=$t,dt[At++]=255}--Et}}}function fz(t,e,r,n){for(var i=t[e++],o=1<<i,u=o+1,a=u+1,g=i+1,v=(1<<g)-1,x=0,k=0,R=0,A=t[e++],O=new Int32Array(4096),D=null;;){for(;x<16&&A!==0;)k|=t[e++]<<x,x+=8,A===1?A=t[e++]:--A;if(x<g)break;var U=k&v;if(k>>=g,x-=g,U!==o){if(U===u)break;for(var H=U<a?U:D,G=0,z=H;z>o;)z=O[z]>>8,++G;var j=z;if(R+G+(H!==U?1:0)>n)return void hl.log("Warning, gif stream longer than expected.");r[R++]=j;var X=R+=G;for(H!==U&&(r[R++]=j),z=H;G--;)z=O[z],r[--X]=255&z,z>>=8;D!==null&&a<4096&&(O[a++]=D<<8|j,a>=v+1&&g<12&&(++g,v=v<<1|1)),D=U}else a=u+1,v=(1<<(g=i+1))-1,D=null}return R!==n&&hl.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zk(t){var e,r,n,i,o,u=Math.floor,a=new Array(64),g=new Array(64),v=new Array(64),x=new Array(64),k=new Array(65535),R=new Array(65535),A=new Array(64),O=new Array(64),D=[],U=0,H=7,G=new Array(64),z=new Array(64),j=new Array(64),X=new Array(256),Y=new Array(2048),rt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],st=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],it=[0,1,2,3,4,5,6,7,8,9,10,11],bt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],dt=[0,1,2,3,4,5,6,7,8,9,10,11],mt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pt(lt,kt){for(var At=0,Nt=0,qt=new Array,ie=1;ie<=16;ie++){for(var Ht=1;Ht<=lt[ie];Ht++)qt[kt[Nt]]=[],qt[kt[Nt]][0]=At,qt[kt[Nt]][1]=ie,Nt++,At++;At*=2}return qt}function Ct(lt){for(var kt=lt[0],At=lt[1]-1;At>=0;)kt&1<<At&&(U|=1<<H),At--,--H<0&&(U==255?(vt(255),vt(0)):vt(U),H=7,U=0)}function vt(lt){D.push(lt)}function It(lt){vt(lt>>8&255),vt(255&lt)}function Ft(lt,kt,At,Nt,qt){for(var ie,Ht=qt[0],ce=qt[240],de=(function(Ie,Mr){var ir,Rr,Pr,Ir,dr,ar,Or,er,Fr,Ze,rr=0;for(Fr=0;Fr<8;++Fr){ir=Ie[rr],Rr=Ie[rr+1],Pr=Ie[rr+2],Ir=Ie[rr+3],dr=Ie[rr+4],ar=Ie[rr+5],Or=Ie[rr+6];var Me=ir+(er=Ie[rr+7]),jt=ir-er,Mt=Rr+Or,Bt=Rr-Or,oe=Pr+ar,ye=Pr-ar,je=Ir+dr,Ge=Ir-dr,Ue=Me+je,fr=Me-je,Ke=Mt+oe,Pe=Mt-oe;Ie[rr]=Ue+Ke,Ie[rr+4]=Ue-Ke;var cr=.707106781*(Pe+fr);Ie[rr+2]=fr+cr,Ie[rr+6]=fr-cr;var Oe=.382683433*((Ue=Ge+ye)-(Pe=Bt+jt)),Wr=.5411961*Ue+Oe,or=1.306562965*Pe+Oe,vn=.707106781*(Ke=ye+Bt),Kr=jt+vn,Kn=jt-vn;Ie[rr+5]=Kn+Wr,Ie[rr+3]=Kn-Wr,Ie[rr+1]=Kr+or,Ie[rr+7]=Kr-or,rr+=8}for(rr=0,Fr=0;Fr<8;++Fr){ir=Ie[rr],Rr=Ie[rr+8],Pr=Ie[rr+16],Ir=Ie[rr+24],dr=Ie[rr+32],ar=Ie[rr+40],Or=Ie[rr+48];var Pt=ir+(er=Ie[rr+56]),Xt=ir-er,be=Rr+Or,ze=Rr-Or,Lr=Pr+ar,yn=Pr-ar,$r=Ir+dr,fi=Ir-dr,On=Pt+$r,li=Pt-$r,Ki=be+Lr,en=be-Lr;Ie[rr]=On+Ki,Ie[rr+32]=On-Ki;var Rn=.707106781*(en+li);Ie[rr+16]=li+Rn,Ie[rr+48]=li-Rn;var Xn=.382683433*((On=fi+yn)-(en=ze+Xt)),Ra=.5411961*On+Xn,_o=1.306562965*en+Xn,Na=.707106781*(Ki=yn+ze),Mn=Xt+Na,io=Xt-Na;Ie[rr+40]=io+Ra,Ie[rr+24]=io-Ra,Ie[rr+8]=Mn+_o,Ie[rr+56]=Mn-_o,rr++}for(Fr=0;Fr<64;++Fr)Ze=Ie[Fr]*Mr[Fr],A[Fr]=Ze>0?Ze+.5|0:Ze-.5|0;return A})(lt,kt),Se=0;Se<64;++Se)O[rt[Se]]=de[Se];var $t=O[0]-At;At=O[0],$t==0?Ct(Nt[0]):(Ct(Nt[R[ie=32767+$t]]),Ct(k[ie]));for(var He=63;He>0&&O[He]==0;)He--;if(He==0)return Ct(Ht),At;for(var ke,Jt=1;Jt<=He;){for(var Vr=Jt;O[Jt]==0&&Jt<=He;)++Jt;var vr=Jt-Vr;if(vr>=16){ke=vr>>4;for(var Dr=1;Dr<=ke;++Dr)Ct(ce);vr&=15}ie=32767+O[Jt],Ct(qt[(vr<<4)+R[ie]]),Ct(k[ie]),Jt++}return He!=63&&Ct(Ht),At}function Et(lt){lt=Math.min(Math.max(lt,1),100),o!=lt&&((function(kt){for(var At=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Nt=0;Nt<64;Nt++){var qt=u((At[Nt]*kt+50)/100);qt=Math.min(Math.max(qt,1),255),a[rt[Nt]]=qt}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ht=0;Ht<64;Ht++){var ce=u((ie[Ht]*kt+50)/100);ce=Math.min(Math.max(ce,1),255),g[rt[Ht]]=ce}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,$t=0;$t<8;$t++)for(var He=0;He<8;He++)v[Se]=1/(a[rt[Se]]*de[$t]*de[He]*8),x[Se]=1/(g[rt[Se]]*de[$t]*de[He]*8),Se++})(lt<50?Math.floor(5e3/lt):Math.floor(200-2*lt)),o=lt)}this.encode=function(lt,kt){kt&&Et(kt),D=new Array,U=0,H=7,It(65496),It(65504),It(16),vt(74),vt(70),vt(73),vt(70),vt(0),vt(1),vt(1),vt(0),It(1),It(1),vt(0),vt(0),(function(){It(65499),It(132),vt(0);for(var Rr=0;Rr<64;Rr++)vt(a[Rr]);vt(1);for(var Pr=0;Pr<64;Pr++)vt(g[Pr])})(),(function(Rr,Pr){It(65472),It(17),vt(8),It(Pr),It(Rr),vt(3),vt(1),vt(17),vt(0),vt(2),vt(17),vt(1),vt(3),vt(17),vt(1)})(lt.width,lt.height),(function(){It(65476),It(418),vt(0);for(var Rr=0;Rr<16;Rr++)vt(st[Rr+1]);for(var Pr=0;Pr<=11;Pr++)vt(it[Pr]);vt(16);for(var Ir=0;Ir<16;Ir++)vt(bt[Ir+1]);for(var dr=0;dr<=161;dr++)vt(at[dr]);vt(1);for(var ar=0;ar<16;ar++)vt($[ar+1]);for(var Or=0;Or<=11;Or++)vt(dt[Or]);vt(17);for(var er=0;er<16;er++)vt(mt[er+1]);for(var Fr=0;Fr<=161;Fr++)vt(wt[Fr])})(),It(65498),It(12),vt(3),vt(1),vt(0),vt(2),vt(17),vt(3),vt(17),vt(0),vt(63),vt(0);var At=0,Nt=0,qt=0;U=0,H=7,this.encode.displayName="_encode_";for(var ie,Ht,ce,de,Se,$t,He,ke,Jt,Vr=lt.data,vr=lt.width,Dr=lt.height,Ie=4*vr,Mr=0;Mr<Dr;){for(ie=0;ie<Ie;){for(Se=Ie*Mr+ie,He=-1,ke=0,Jt=0;Jt<64;Jt++)$t=Se+(ke=Jt>>3)*Ie+(He=4*(7&Jt)),Mr+ke>=Dr&&($t-=Ie*(Mr+1+ke-Dr)),ie+He>=Ie&&($t-=ie+He-Ie+4),Ht=Vr[$t++],ce=Vr[$t++],de=Vr[$t++],G[Jt]=(Y[Ht]+Y[ce+256|0]+Y[de+512|0]>>16)-128,z[Jt]=(Y[Ht+768|0]+Y[ce+1024|0]+Y[de+1280|0]>>16)-128,j[Jt]=(Y[Ht+1280|0]+Y[ce+1536|0]+Y[de+1792|0]>>16)-128;At=Ft(G,v,At,e,n),Nt=Ft(z,x,Nt,r,i),qt=Ft(j,x,qt,r,i),ie+=32}Mr+=8}if(H>=0){var ir=[];ir[1]=H+1,ir[0]=(1<<H+1)-1,Ct(ir)}return It(65497),new Uint8Array(D)},t=t||50,(function(){for(var lt=String.fromCharCode,kt=0;kt<256;kt++)X[kt]=lt(kt)})(),e=pt(st,it),r=pt($,dt),n=pt(bt,at),i=pt(mt,wt),(function(){for(var lt=1,kt=2,At=1;At<=15;At++){for(var Nt=lt;Nt<kt;Nt++)R[32767+Nt]=At,k[32767+Nt]=[],k[32767+Nt][1]=At,k[32767+Nt][0]=Nt;for(var qt=-(kt-1);qt<=-lt;qt++)R[32767+qt]=At,k[32767+qt]=[],k[32767+qt][1]=At,k[32767+qt][0]=kt-1+qt;lt<<=1,kt<<=1}})(),(function(){for(var lt=0;lt<256;lt++)Y[lt]=19595*lt,Y[lt+256|0]=38470*lt,Y[lt+512|0]=7471*lt+32768,Y[lt+768|0]=-11059*lt,Y[lt+1024|0]=-21709*lt,Y[lt+1280|0]=32768*lt+8421375,Y[lt+1536|0]=-27439*lt,Y[lt+1792|0]=-5329*lt})(),Et(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function lp(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pz(t){function e(it){if(!it)throw Error("assert :P")}function r(it,bt,at){for(var $=0;4>$;$++)if(it[bt+$]!=at.charCodeAt($))return!0;return!1}function n(it,bt,at,$,dt){for(var mt=0;mt<dt;mt++)it[bt+mt]=at[$+mt]}function i(it,bt,at,$){for(var dt=0;dt<$;dt++)it[bt+dt]=at}function o(it){return new Int32Array(it)}function u(it,bt){for(var at=[],$=0;$<it;$++)at.push(new bt);return at}function a(it,bt){var at=[];return(function $(dt,mt,wt){for(var pt=wt[mt],Ct=0;Ct<pt&&(dt.push(wt.length>mt+1?[]:new bt),!(wt.length<mt+1));Ct++)$(dt[Ct],mt+1,wt)})(at,0,it),at}var g=function(){var it=this;function bt(V,Z){for(var yt=1<<Z-1>>>0;V&yt;)yt>>>=1;return yt?(V&yt-1)+yt:V}function at(V,Z,yt,Lt,Kt){e(!(Lt%yt));do V[Z+(Lt-=yt)]=Kt;while(0<Lt)}function $(V,Z,yt,Lt,Kt){if(e(2328>=Kt),512>=Kt)var ne=o(512);else if((ne=o(Kt))==null)return 0;return(function(ae,ue,ge,Te,Ce,Nr){var Ae,hr,br=ue,Xr=1<<ge,Er=o(16),wr=o(16);for(e(Ce!=0),e(Te!=null),e(ae!=null),e(0<ge),hr=0;hr<Ce;++hr){if(15<Te[hr])return 0;++Er[Te[hr]]}if(Er[0]==Ce)return 0;for(wr[1]=0,Ae=1;15>Ae;++Ae){if(Er[Ae]>1<<Ae)return 0;wr[Ae+1]=wr[Ae]+Er[Ae]}for(hr=0;hr<Ce;++hr)Ae=Te[hr],0<Te[hr]&&(Nr[wr[Ae]++]=hr);if(wr[15]==1)return(Te=new dt).g=0,Te.value=Nr[0],at(ae,br,1,Xr,Te),Xr;var Qr,wn=-1,ln=Xr-1,ci=0,ni=1,zi=1,ai=1<<ge;for(hr=0,Ae=1,Ce=2;Ae<=ge;++Ae,Ce<<=1){if(ni+=zi<<=1,0>(zi-=Er[Ae]))return 0;for(;0<Er[Ae];--Er[Ae])(Te=new dt).g=Ae,Te.value=Nr[hr++],at(ae,br+ci,Ce,ai,Te),ci=bt(ci,Ae)}for(Ae=ge+1,Ce=2;15>=Ae;++Ae,Ce<<=1){if(ni+=zi<<=1,0>(zi-=Er[Ae]))return 0;for(;0<Er[Ae];--Er[Ae]){if(Te=new dt,(ci&ln)!=wn){for(br+=ai,Qr=1<<(wn=Ae)-ge;15>wn&&!(0>=(Qr-=Er[wn]));)++wn,Qr<<=1;Xr+=ai=1<<(Qr=wn-ge),ae[ue+(wn=ci&ln)].g=Qr+ge,ae[ue+wn].value=br-ue-wn}Te.g=Ae-ge,Te.value=Nr[hr++],at(ae,br+(ci>>ge),Ce,ai,Te),ci=bt(ci,Ae)}}return ni!=2*wr[15]-1?0:Xr})(V,Z,yt,Lt,Kt,ne)}function dt(){this.value=this.g=0}function mt(){this.value=this.g=0}function wt(){this.G=u(5,dt),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Es,mt)}function pt(V,Z,yt,Lt){e(V!=null),e(Z!=null),e(2147483648>Lt),V.Ca=254,V.I=0,V.b=-8,V.Ka=0,V.oa=Z,V.pa=yt,V.Jd=Z,V.Yc=yt+Lt,V.Zc=4<=Lt?yt+Lt-4+1:yt,Ht(V)}function Ct(V,Z){for(var yt=0;0<Z--;)yt|=de(V,128)<<Z;return yt}function vt(V,Z){var yt=Ct(V,Z);return ce(V)?-yt:yt}function It(V,Z,yt,Lt){var Kt,ne=0;for(e(V!=null),e(Z!=null),e(4294967288>Lt),V.Sb=Lt,V.Ra=0,V.u=0,V.h=0,4<Lt&&(Lt=4),Kt=0;Kt<Lt;++Kt)ne+=Z[yt+Kt]<<8*Kt;V.Ra=ne,V.bb=Lt,V.oa=Z,V.pa=yt}function Ft(V){for(;8<=V.u&&V.bb<V.Sb;)V.Ra>>>=8,V.Ra+=V.oa[V.pa+V.bb]<<du-8>>>0,++V.bb,V.u-=8;Nt(V)&&(V.h=1,V.u=0)}function Et(V,Z){if(e(0<=Z),!V.h&&Z<=Ps){var yt=At(V)&Hu[Z];return V.u+=Z,Ft(V),yt}return V.h=1,V.u=0}function lt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function kt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function At(V){return V.Ra>>>(V.u&du-1)>>>0}function Nt(V){return e(V.bb<=V.Sb),V.h||V.bb==V.Sb&&V.u>du}function qt(V,Z){V.u=Z,V.h=Nt(V)}function ie(V){V.u>=Eo&&(e(V.u>=Eo),Ft(V))}function Ht(V){e(V!=null&&V.oa!=null),V.pa<V.Zc?(V.I=(V.oa[V.pa++]|V.I<<8)>>>0,V.b+=8):(e(V!=null&&V.oa!=null),V.pa<V.Yc?(V.b+=8,V.I=V.oa[V.pa++]|V.I<<8):V.Ka?V.b=0:(V.I<<=8,V.b+=8,V.Ka=1))}function ce(V){return Ct(V,1)}function de(V,Z){var yt=V.Ca;0>V.b&&Ht(V);var Lt=V.b,Kt=yt*Z>>>8,ne=(V.I>>>Lt>Kt)+0;for(ne?(yt-=Kt,V.I-=Kt+1<<Lt>>>0):yt=Kt+1,Lt=yt,Kt=0;256<=Lt;)Kt+=8,Lt>>=8;return Lt=7^Kt+fu[Lt],V.b-=Lt,V.Ca=(yt<<Lt)-1,ne}function Se(V,Z,yt){V[Z+0]=yt>>24&255,V[Z+1]=yt>>16&255,V[Z+2]=yt>>8&255,V[Z+3]=255&yt}function $t(V,Z){return V[Z+0]|V[Z+1]<<8}function He(V,Z){return $t(V,Z)|V[Z+2]<<16}function ke(V,Z){return $t(V,Z)|$t(V,Z+2)<<16}function Jt(V,Z){var yt=1<<Z;return e(V!=null),e(0<Z),V.X=o(yt),V.X==null?0:(V.Mb=32-Z,V.Xa=Z,1)}function Vr(V,Z){e(V!=null),e(Z!=null),e(V.Xa==Z.Xa),n(Z.X,0,V.X,0,1<<Z.Xa)}function vr(){this.X=[],this.Xa=this.Mb=0}function Dr(V,Z,yt,Lt){e(yt!=null),e(Lt!=null);var Kt=yt[0],ne=Lt[0];return Kt==0&&(Kt=(V*ne+Z/2)/Z),ne==0&&(ne=(Z*Kt+V/2)/V),0>=Kt||0>=ne?0:(yt[0]=Kt,Lt[0]=ne,1)}function Ie(V,Z){return V+(1<<Z)-1>>>Z}function Mr(V,Z){return((4278255360&V)+(4278255360&Z)>>>0&4278255360)+((16711935&V)+(16711935&Z)>>>0&16711935)>>>0}function ir(V,Z){it[Z]=function(yt,Lt,Kt,ne,ae,ue,ge){var Te;for(Te=0;Te<ae;++Te){var Ce=it[V](ue[ge+Te-1],Kt,ne+Te);ue[ge+Te]=Mr(yt[Lt+Te],Ce)}}}function Rr(){this.ud=this.hd=this.jd=0}function Pr(V,Z){return((4278124286&(V^Z))>>>1)+(V&Z)>>>0}function Ir(V){return 0<=V&&256>V?V:0>V?0:255<V?255:void 0}function dr(V,Z){return Ir(V+(V-Z+.5>>1))}function ar(V,Z,yt){return Math.abs(Z-yt)-Math.abs(V-yt)}function Or(V,Z,yt,Lt,Kt,ne,ae){for(Lt=ne[ae-1],yt=0;yt<Kt;++yt)ne[ae+yt]=Lt=Mr(V[Z+yt],Lt)}function er(V,Z,yt,Lt,Kt){var ne;for(ne=0;ne<yt;++ne){var ae=V[Z+ne],ue=ae>>8&255,ge=16711935&(ge=(ge=16711935&ae)+((ue<<16)+ue));Lt[Kt+ne]=(4278255360&ae)+ge>>>0}}function Fr(V,Z){Z.jd=255&V,Z.hd=V>>8&255,Z.ud=V>>16&255}function Ze(V,Z,yt,Lt,Kt,ne){var ae;for(ae=0;ae<Lt;++ae){var ue=Z[yt+ae],ge=ue>>>8,Te=ue,Ce=255&(Ce=(Ce=ue>>>16)+((V.jd<<24>>24)*(ge<<24>>24)>>>5));Te=255&(Te=(Te+=(V.hd<<24>>24)*(ge<<24>>24)>>>5)+((V.ud<<24>>24)*(Ce<<24>>24)>>>5)),Kt[ne+ae]=(4278255360&ue)+(Ce<<16)+Te}}function rr(V,Z,yt,Lt,Kt){it[Z]=function(ne,ae,ue,ge,Te,Ce,Nr,Ae,hr){for(ge=Nr;ge<Ae;++ge)for(Nr=0;Nr<hr;++Nr)Te[Ce++]=Kt(ue[Lt(ne[ae++])])},it[V]=function(ne,ae,ue,ge,Te,Ce,Nr){var Ae=8>>ne.b,hr=ne.Ea,br=ne.K[0],Xr=ne.w;if(8>Ae)for(ne=(1<<ne.b)-1,Xr=(1<<Ae)-1;ae<ue;++ae){var Er,wr=0;for(Er=0;Er<hr;++Er)Er&ne||(wr=Lt(ge[Te++])),Ce[Nr++]=Kt(br[wr&Xr]),wr>>=Ae}else it["VP8LMapColor"+yt](ge,Te,br,Xr,Ce,Nr,ae,ue,hr)}}function Me(V,Z,yt,Lt,Kt){for(yt=Z+yt;Z<yt;){var ne=V[Z++];Lt[Kt++]=ne>>16&255,Lt[Kt++]=ne>>8&255,Lt[Kt++]=255&ne}}function jt(V,Z,yt,Lt,Kt){for(yt=Z+yt;Z<yt;){var ne=V[Z++];Lt[Kt++]=ne>>16&255,Lt[Kt++]=ne>>8&255,Lt[Kt++]=255&ne,Lt[Kt++]=ne>>24&255}}function Mt(V,Z,yt,Lt,Kt){for(yt=Z+yt;Z<yt;){var ne=(ae=V[Z++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;Lt[Kt++]=ne,Lt[Kt++]=ae}}function Bt(V,Z,yt,Lt,Kt){for(yt=Z+yt;Z<yt;){var ne=(ae=V[Z++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;Lt[Kt++]=ne,Lt[Kt++]=ae}}function oe(V,Z,yt,Lt,Kt){for(yt=Z+yt;Z<yt;){var ne=V[Z++];Lt[Kt++]=255&ne,Lt[Kt++]=ne>>8&255,Lt[Kt++]=ne>>16&255}}function ye(V,Z,yt,Lt,Kt,ne){if(ne==0)for(yt=Z+yt;Z<yt;)Se(Lt,((ne=V[Z++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Kt+=32;else n(Lt,Kt,V,Z,yt)}function je(V,Z){it[Z][0]=it[V+"0"],it[Z][1]=it[V+"1"],it[Z][2]=it[V+"2"],it[Z][3]=it[V+"3"],it[Z][4]=it[V+"4"],it[Z][5]=it[V+"5"],it[Z][6]=it[V+"6"],it[Z][7]=it[V+"7"],it[Z][8]=it[V+"8"],it[Z][9]=it[V+"9"],it[Z][10]=it[V+"10"],it[Z][11]=it[V+"11"],it[Z][12]=it[V+"12"],it[Z][13]=it[V+"13"],it[Z][14]=it[V+"0"],it[Z][15]=it[V+"0"]}function Ge(V){return V==qf||V==Gf||V==Ed||V==Td}function Ue(){this.eb=[],this.size=this.A=this.fb=0}function fr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ue,this.f.kb=new fr,this.sd=null}function Pe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(V){return alert("todo:WebPSamplerProcessPlane"),V.T}function Wr(V,Z){var yt=V.T,Lt=Z.ba.f.RGBA,Kt=Lt.eb,ne=Lt.fb+V.ka*Lt.A,ae=vl[Z.ba.S],ue=V.y,ge=V.O,Te=V.f,Ce=V.N,Nr=V.ea,Ae=V.W,hr=Z.cc,br=Z.dc,Xr=Z.Mc,Er=Z.Nc,wr=V.ka,Qr=V.ka+V.T,wn=V.U,ln=wn+1>>1;for(wr==0?ae(ue,ge,null,null,Te,Ce,Nr,Ae,Te,Ce,Nr,Ae,Kt,ne,null,null,wn):(ae(Z.ec,Z.fc,ue,ge,hr,br,Xr,Er,Te,Ce,Nr,Ae,Kt,ne-Lt.A,Kt,ne,wn),++yt);wr+2<Qr;wr+=2)hr=Te,br=Ce,Xr=Nr,Er=Ae,Ce+=V.Rc,Ae+=V.Rc,ne+=2*Lt.A,ae(ue,(ge+=2*V.fa)-V.fa,ue,ge,hr,br,Xr,Er,Te,Ce,Nr,Ae,Kt,ne-Lt.A,Kt,ne,wn);return ge+=V.fa,V.j+Qr<V.o?(n(Z.ec,Z.fc,ue,ge,wn),n(Z.cc,Z.dc,Te,Ce,ln),n(Z.Mc,Z.Nc,Nr,Ae,ln),yt--):1&Qr||ae(ue,ge,null,null,Te,Ce,Nr,Ae,Te,Ce,Nr,Ae,Kt,ne+Lt.A,null,null,wn),yt}function or(V,Z,yt){var Lt=V.F,Kt=[V.J];if(Lt!=null){var ne=V.U,ae=Z.ba.S,ue=ae==sf||ae==Ed;Z=Z.ba.f.RGBA;var ge=[0],Te=V.ka;ge[0]=V.T,V.Kb&&(Te==0?--ge[0]:(--Te,Kt[0]-=V.width),V.j+V.ka+V.T==V.o&&(ge[0]=V.o-V.j-Te));var Ce=Z.eb;Te=Z.fb+Te*Z.A,V=Vo(Lt,Kt[0],V.width,ne,ge,Ce,Te+(ue?0:3),Z.A),e(yt==ge),V&&Ge(ae)&&Ui(Ce,Te,ue,ne,ge,Z.A)}return 0}function vn(V){var Z=V.ma,yt=Z.ba.S,Lt=11>yt,Kt=yt==mi||yt==Hl||yt==sf||yt==gh||yt==12||Ge(yt);if(Z.memory=null,Z.Ib=null,Z.Jb=null,Z.Nd=null,!jo(Z.Oa,V,Kt?11:12))return 0;if(Kt&&Ge(yt)&&Su(),V.da)alert("todo:use_scaling");else{if(Lt){if(Z.Ib=Oe,V.Kb){if(yt=V.U+1>>1,Z.memory=o(V.U+2*yt),Z.memory==null)return 0;Z.ec=Z.memory,Z.fc=0,Z.cc=Z.ec,Z.dc=Z.fc+V.U,Z.Mc=Z.cc,Z.Nc=Z.dc+yt,Z.Ib=Wr,Su()}}else alert("todo:EmitYUV");Kt&&(Z.Jb=or,Lt&&Rc())}if(Lt&&!vh){for(V=0;256>V;++V)Yl[V]=89858*(V-128)+Qc>>Sc,Vm[V]=-22014*(V-128)+Qc,Id[V]=-45773*(V-128),Hf[V]=113618*(V-128)+Qc>>Sc;for(V=Pc;V<al;++V)Z=76283*(V-16)+Qc>>Sc,Pp[V-Pc]=ws(Z,255),Bg[V-Pc]=ws(Z+8>>4,15);vh=1}return 1}function Kr(V){var Z=V.ma,yt=V.U,Lt=V.T;return e(!(1&V.ka)),0>=yt||0>=Lt?0:(yt=Z.Ib(V,Z),Z.Jb!=null&&Z.Jb(V,Z,yt),Z.Dc+=yt,1)}function Kn(V){V.ma.memory=null}function Pt(V,Z,yt,Lt){return Et(V,8)!=47?0:(Z[0]=Et(V,14)+1,yt[0]=Et(V,14)+1,Lt[0]=Et(V,1),Et(V,3)!=0?0:!V.h)}function Xt(V,Z){if(4>V)return V+1;var yt=V-2>>1;return(2+(1&V)<<yt)+Et(Z,yt)+1}function be(V,Z){return 120<Z?Z-120:1<=(yt=((yt=ku[Z-1])>>4)*V+(8-(15&yt)))?yt:1;var yt}function ze(V,Z,yt){var Lt=At(yt),Kt=V[Z+=255&Lt].g-8;return 0<Kt&&(qt(yt,yt.u+8),Lt=At(yt),Z+=V[Z].value,Z+=Lt&(1<<Kt)-1),qt(yt,yt.u+V[Z].g),V[Z].value}function Lr(V,Z,yt){return yt.g+=V.g,yt.value+=V.value<<Z>>>0,e(8>=yt.g),V.g}function yn(V,Z,yt){var Lt=V.xc;return e((Z=Lt==0?0:V.vc[V.md*(yt>>Lt)+(Z>>Lt)])<V.Wb),V.Ya[Z]}function $r(V,Z,yt,Lt){var Kt=V.ab,ne=V.c*Z,ae=V.C;Z=ae+Z;var ue=yt,ge=Lt;for(Lt=V.Ta,yt=V.Ua;0<Kt--;){var Te=V.gc[Kt],Ce=ae,Nr=Z,Ae=ue,hr=ge,br=(ge=Lt,ue=yt,Te.Ea);switch(e(Ce<Nr),e(Nr<=Te.nc),Te.hc){case 2:_c(Ae,hr,(Nr-Ce)*br,ge,ue);break;case 0:var Xr=Ce,Er=Nr,wr=ge,Qr=ue,wn=(ai=Te).Ea;Xr==0&&(pu(Ae,hr,null,null,1,wr,Qr),Or(Ae,hr+1,0,0,wn-1,wr,Qr+1),hr+=wn,Qr+=wn,++Xr);for(var ln=1<<ai.b,ci=ln-1,ni=Ie(wn,ai.b),zi=ai.K,ai=ai.w+(Xr>>ai.b)*ni;Xr<Er;){var Ea=zi,Jo=ai,ji=1;for(Al(Ae,hr,wr,Qr-wn,1,wr,Qr);ji<wn;){var ii=(ji&~ci)+ln;ii>wn&&(ii=wn),(0,lr[Ea[Jo++]>>8&15])(Ae,hr+ +ji,wr,Qr+ji-wn,ii-ji,wr,Qr+ji),ji=ii}hr+=wn,Qr+=wn,++Xr&ci||(ai+=ni)}Nr!=Te.nc&&n(ge,ue-br,ge,ue+(Nr-Ce-1)*br,br);break;case 1:for(br=Ae,Er=hr,wn=(Ae=Te.Ea)-(Qr=Ae&~(wr=(hr=1<<Te.b)-1)),Xr=Ie(Ae,Te.b),ln=Te.K,Te=Te.w+(Ce>>Te.b)*Xr;Ce<Nr;){for(ci=ln,ni=Te,zi=new Rr,ai=Er+Qr,Ea=Er+Ae;Er<ai;)Fr(ci[ni++],zi),mr(zi,br,Er,hr,ge,ue),Er+=hr,ue+=hr;Er<Ea&&(Fr(ci[ni++],zi),mr(zi,br,Er,wn,ge,ue),Er+=wn,ue+=wn),++Ce&wr||(Te+=Xr)}break;case 3:if(Ae==ge&&hr==ue&&0<Te.b){for(Er=ge,Ae=br=ue+(Nr-Ce)*br-(Qr=(Nr-Ce)*Ie(Te.Ea,Te.b)),hr=ge,wr=ue,Xr=[],Qr=(wn=Qr)-1;0<=Qr;--Qr)Xr[Qr]=hr[wr+Qr];for(Qr=wn-1;0<=Qr;--Qr)Er[Ae+Qr]=Xr[Qr];Xc(Te,Ce,Nr,ge,br,ge,ue)}else Xc(Te,Ce,Nr,Ae,hr,ge,ue)}ue=Lt,ge=yt}ge!=yt&&n(Lt,yt,ue,ge,ne)}function fi(V,Z){var yt=V.V,Lt=V.Ba+V.c*V.C,Kt=Z-V.C;if(e(Z<=V.l.o),e(16>=Kt),0<Kt){var ne=V.l,ae=V.Ta,ue=V.Ua,ge=ne.width;if($r(V,Kt,yt,Lt),Kt=ue=[ue],e((yt=V.C)<(Lt=Z)),e(ne.v<ne.va),Lt>ne.o&&(Lt=ne.o),yt<ne.j){var Te=ne.j-yt;yt=ne.j,Kt[0]+=Te*ge}if(yt>=Lt?yt=0:(Kt[0]+=4*ne.v,ne.ka=yt-ne.j,ne.U=ne.va-ne.v,ne.T=Lt-yt,yt=1),yt){if(ue=ue[0],11>(yt=V.ca).S){var Ce=yt.f.RGBA,Nr=(Lt=yt.S,Kt=ne.U,ne=ne.T,Te=Ce.eb,Ce.A),Ae=ne;for(Ce=Ce.fb+V.Ma*Ce.A;0<Ae--;){var hr=ae,br=ue,Xr=Kt,Er=Te,wr=Ce;switch(Lt){case Wc:An(hr,br,Xr,Er,wr);break;case mi:Dn(hr,br,Xr,Er,wr);break;case qf:Dn(hr,br,Xr,Er,wr),Ui(Er,wr,0,Xr,1,0);break;case Xu:C(hr,br,Xr,Er,wr);break;case Hl:ye(hr,br,Xr,Er,wr,1);break;case Gf:ye(hr,br,Xr,Er,wr,1),Ui(Er,wr,0,Xr,1,0);break;case sf:ye(hr,br,Xr,Er,wr,0);break;case Ed:ye(hr,br,Xr,Er,wr,0),Ui(Er,wr,1,Xr,1,0);break;case gh:Ni(hr,br,Xr,Er,wr);break;case Td:Ni(hr,br,Xr,Er,wr),$a(Er,wr,Xr,1,0);break;case Jh:Vn(hr,br,Xr,Er,wr);break;default:e(0)}ue+=ge,Ce+=Nr}V.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e(V.Ma<=yt.height)}}V.C=Z,e(V.C<=V.i)}function On(V){var Z;if(0<V.ua)return 0;for(Z=0;Z<V.Wb;++Z){var yt=V.Ya[Z].G,Lt=V.Ya[Z].H;if(0<yt[1][Lt[1]+0].g||0<yt[2][Lt[2]+0].g||0<yt[3][Lt[3]+0].g)return 0}return 1}function li(V,Z,yt,Lt,Kt,ne){if(V.Z!=0){var ae=V.qd,ue=V.rd;for(e(yl[V.Z]!=null);Z<yt;++Z)yl[V.Z](ae,ue,Lt,Kt,Lt,Kt,ne),ae=Lt,ue=Kt,Kt+=ne;V.qd=ae,V.rd=ue}}function Ki(V,Z){var yt=V.l.ma,Lt=yt.Z==0||yt.Z==1?V.l.j:V.C;if(Lt=V.C<Lt?Lt:V.C,e(Z<=V.l.o),Z>Lt){var Kt=V.l.width,ne=yt.ca,ae=yt.tb+Kt*Lt,ue=V.V,ge=V.Ba+V.c*Lt,Te=V.gc;e(V.ab==1),e(Te[0].hc==3),xc(Te[0],Lt,Z,ue,ge,ne,ae),li(yt,Lt,Z,ne,ae,Kt)}V.C=V.Ma=Z}function en(V,Z,yt,Lt,Kt,ne,ae){var ue=V.$/Lt,ge=V.$%Lt,Te=V.m,Ce=V.s,Nr=yt+V.$,Ae=Nr;Kt=yt+Lt*Kt;var hr=yt+Lt*ne,br=280+Ce.ua,Xr=V.Pb?ue:16777216,Er=0<Ce.ua?Ce.Wa:null,wr=Ce.wc,Qr=Nr<hr?yn(Ce,ge,ue):null;e(V.C<ne),e(hr<=Kt);var wn=!1;t:for(;;){for(;wn||Nr<hr;){var ln=0;if(ue>=Xr){var ci=Nr-yt;e((Xr=V).Pb),Xr.wd=Xr.m,Xr.xd=ci,0<Xr.s.ua&&Vr(Xr.s.Wa,Xr.s.vb),Xr=ue+wc}if(ge&wr||(Qr=yn(Ce,ge,ue)),e(Qr!=null),Qr.Qb&&(Z[Nr]=Qr.qb,wn=!0),!wn)if(ie(Te),Qr.jc){ln=Te,ci=Z;var ni=Nr,zi=Qr.pd[At(ln)&Es-1];e(Qr.jc),256>zi.g?(qt(ln,ln.u+zi.g),ci[ni]=zi.value,ln=0):(qt(ln,ln.u+zi.g-256),e(256<=zi.value),ln=zi.value),ln==0&&(wn=!0)}else ln=ze(Qr.G[0],Qr.H[0],Te);if(Te.h)break;if(wn||256>ln){if(!wn)if(Qr.nd)Z[Nr]=(Qr.qb|ln<<8)>>>0;else{if(ie(Te),wn=ze(Qr.G[1],Qr.H[1],Te),ie(Te),ci=ze(Qr.G[2],Qr.H[2],Te),ni=ze(Qr.G[3],Qr.H[3],Te),Te.h)break;Z[Nr]=(ni<<24|wn<<16|ln<<8|ci)>>>0}if(wn=!1,++Nr,++ge>=Lt&&(ge=0,++ue,ae!=null&&ue<=ne&&!(ue%16)&&ae(V,ue),Er!=null))for(;Ae<Nr;)ln=Z[Ae++],Er.X[(506832829*ln&4294967295)>>>Er.Mb]=ln}else if(280>ln){if(ln=Xt(ln-256,Te),ci=ze(Qr.G[4],Qr.H[4],Te),ie(Te),ci=be(Lt,ci=Xt(ci,Te)),Te.h)break;if(Nr-yt<ci||Kt-Nr<ln)break t;for(ni=0;ni<ln;++ni)Z[Nr+ni]=Z[Nr+ni-ci];for(Nr+=ln,ge+=ln;ge>=Lt;)ge-=Lt,++ue,ae!=null&&ue<=ne&&!(ue%16)&&ae(V,ue);if(e(Nr<=Kt),ge&wr&&(Qr=yn(Ce,ge,ue)),Er!=null)for(;Ae<Nr;)ln=Z[Ae++],Er.X[(506832829*ln&4294967295)>>>Er.Mb]=ln}else{if(!(ln<br))break t;for(wn=ln-280,e(Er!=null);Ae<Nr;)ln=Z[Ae++],Er.X[(506832829*ln&4294967295)>>>Er.Mb]=ln;ln=Nr,e(!(wn>>>(ci=Er).Xa)),Z[ln]=ci.X[wn],wn=!0}wn||e(Te.h==Nt(Te))}if(V.Pb&&Te.h&&Nr<Kt)e(V.m.h),V.a=5,V.m=V.wd,V.$=V.xd,0<V.s.ua&&Vr(V.s.vb,V.s.Wa);else{if(Te.h)break t;ae?.(V,ue>ne?ne:ue),V.a=0,V.$=Nr-yt}return 1}return V.a=3,0}function Rn(V){e(V!=null),V.vc=null,V.yc=null,V.Ya=null;var Z=V.Wa;Z!=null&&(Z.X=null),V.vb=null,e(V!=null)}function Xn(){var V=new xa;return V==null?null:(V.a=0,V.xb=yh,je("Predictor","VP8LPredictors"),je("Predictor","VP8LPredictors_C"),je("PredictorAdd","VP8LPredictorsAdd"),je("PredictorAdd","VP8LPredictorsAdd_C"),_c=er,mr=Ze,An=Me,Dn=jt,Ni=Mt,Vn=Bt,C=oe,it.VP8LMapColor32b=Eu,it.VP8LMapColor8b=Ts,V)}function Ra(V,Z,yt,Lt,Kt){var ne=1,ae=[V],ue=[Z],ge=Lt.m,Te=Lt.s,Ce=null,Nr=0;t:for(;;){if(yt)for(;ne&&Et(ge,1);){var Ae=ae,hr=ue,br=Lt,Xr=1,Er=br.m,wr=br.gc[br.ab],Qr=Et(Er,2);if(br.Oc&1<<Qr)ne=0;else{switch(br.Oc|=1<<Qr,wr.hc=Qr,wr.Ea=Ae[0],wr.nc=hr[0],wr.K=[null],++br.ab,e(4>=br.ab),Qr){case 0:case 1:wr.b=Et(Er,3)+2,Xr=Ra(Ie(wr.Ea,wr.b),Ie(wr.nc,wr.b),0,br,wr.K),wr.K=wr.K[0];break;case 3:var wn,ln=Et(Er,8)+1,ci=16<ln?0:4<ln?1:2<ln?2:3;if(Ae[0]=Ie(wr.Ea,ci),wr.b=ci,wn=Xr=Ra(ln,1,0,br,wr.K)){var ni,zi=ln,ai=wr,Ea=1<<(8>>ai.b),Jo=o(Ea);if(Jo==null)wn=0;else{var ji=ai.K[0],ii=ai.w;for(Jo[0]=ai.K[0][0],ni=1;ni<1*zi;++ni)Jo[ni]=Mr(ji[ii+ni],Jo[ni-1]);for(;ni<4*Ea;++ni)Jo[ni]=0;ai.K[0]=null,ai.K[0]=Jo,wn=1}}Xr=wn;break;case 2:break;default:e(0)}ne=Xr}}if(ae=ae[0],ue=ue[0],ne&&Et(ge,1)&&!(ne=1<=(Nr=Et(ge,4))&&11>=Nr)){Lt.a=3;break t}var Pn;if(Pn=ne)e:{var go,Gn,qi,to=Lt,ol=ae,Kl=ue,$o=Nr,bl=yt,cs=to.m,Os=to.s,gn=[null],kn=1,ts=0,Xa=mu[$o];r:for(;;){if(bl&&Et(cs,1)){var Ds=Et(cs,3)+2,La=Ie(ol,Ds),Wa=Ie(Kl,Ds),Ma=La*Wa;if(!Ra(La,Wa,0,to,gn))break r;for(gn=gn[0],Os.xc=Ds,go=0;go<Ma;++go){var yo=gn[go]>>8&65535;gn[go]=yo,yo>=kn&&(kn=yo+1)}}if(cs.h)break r;for(Gn=0;5>Gn;++Gn){var es=Yc[Gn];!Gn&&0<$o&&(es+=1<<$o),ts<es&&(ts=es)}var ia=u(kn*Xa,dt),Oi=kn,Ua=u(Oi,wt);if(Ua==null)var Bs=null;else e(65536>=Oi),Bs=Ua;var Co=o(ts);if(Bs==null||Co==null||ia==null){to.a=1;break r}var bi=ia;for(go=qi=0;go<kn;++go){var _i=Bs[go],Ta=_i.G,Zl=_i.H,lc=0,Ql=1,Qs=0;for(Gn=0;5>Gn;++Gn){es=Yc[Gn],Ta[Gn]=bi,Zl[Gn]=qi,!Gn&&0<$o&&(es+=1<<$o);i:{var N,s=es,d=to,_=Co,S=bi,L=qi,B=0,K=d.m,tt=Et(K,1);if(i(_,0,0,s),tt){var ct=Et(K,1)+1,_t=Et(K,1),Rt=Et(K,_t==0?1:8);_[Rt]=1,ct==2&&(_[Rt=Et(K,8)]=1);var Tt=1}else{var zt=o(19),Zt=Et(K,4)+4;if(19<Zt){d.a=3;var fe=0;break i}for(N=0;N<Zt;++N)zt[Ad[N]]=Et(K,3);var pe=void 0,me=void 0,xe=d,Be=zt,Le=s,$e=_,We=0,Ne=xe.m,tr=8,Ar=u(128,dt);n:for(;$(Ar,0,7,Be,19);){if(Et(Ne,1)){var xr=2+2*Et(Ne,3);if((pe=2+Et(Ne,xr))>Le)break n}else pe=Le;for(me=0;me<Le&&pe--;){ie(Ne);var Sr=Ar[0+(127&At(Ne))];qt(Ne,Ne.u+Sr.g);var kr=Sr.value;if(16>kr)$e[me++]=kr,kr!=0&&(tr=kr);else{var Cn=kr==16,En=kr-16,on=Dh[En],Un=Et(Ne,Wu[En])+on;if(me+Un>Le)break n;for(var Gi=Cn?tr:0;0<Un--;)$e[me++]=Gi}}We=1;break n}We||(xe.a=3),Tt=We}(Tt=Tt&&!K.h)&&(B=$(S,L,8,_,s)),Tt&&B!=0?fe=B:(d.a=3,fe=0)}if(fe==0)break r;if(Ql&&Cd[Gn]==1&&(Ql=bi[qi].g==0),lc+=bi[qi].g,qi+=fe,3>=Gn){var Sa,Uo=Co[0];for(Sa=1;Sa<es;++Sa)Co[Sa]>Uo&&(Uo=Co[Sa]);Qs+=Uo}}if(_i.nd=Ql,_i.Qb=0,Ql&&(_i.qb=(Ta[3][Zl[3]+0].value<<24|Ta[1][Zl[1]+0].value<<16|Ta[2][Zl[2]+0].value)>>>0,lc==0&&256>Ta[0][Zl[0]+0].value&&(_i.Qb=1,_i.qb+=Ta[0][Zl[0]+0].value<<8)),_i.jc=!_i.Qb&&6>Qs,_i.jc){var Ya,Ka=_i;for(Ya=0;Ya<Es;++Ya){var Da=Ya,Pa=Ka.pd[Da],lo=Ka.G[0][Ka.H[0]+Da];256<=lo.value?(Pa.g=lo.g+256,Pa.value=lo.value):(Pa.g=0,Pa.value=0,Da>>=Lr(lo,8,Pa),Da>>=Lr(Ka.G[1][Ka.H[1]+Da],16,Pa),Da>>=Lr(Ka.G[2][Ka.H[2]+Da],0,Pa),Lr(Ka.G[3][Ka.H[3]+Da],24,Pa))}}}Os.vc=gn,Os.Wb=kn,Os.Ya=Bs,Os.yc=ia,Pn=1;break e}Pn=0}if(!(ne=Pn)){Lt.a=3;break t}if(0<Nr){if(Te.ua=1<<Nr,!Jt(Te.Wa,Nr)){Lt.a=1,ne=0;break t}}else Te.ua=0;var _l=Lt,ua=ae,Rl=ue,sl=_l.s,Ec=sl.xc;if(_l.c=ua,_l.i=Rl,sl.md=Ie(ua,Ec),sl.wc=Ec==0?-1:(1<<Ec)-1,yt){Lt.xb=mo;break t}if((Ce=o(ae*ue))==null){Lt.a=1,ne=0;break t}ne=(ne=en(Lt,Ce,0,ae,ue,ue,null))&&!ge.h;break t}return ne?(Kt!=null?Kt[0]=Ce:(e(Ce==null),e(yt)),Lt.$=0,yt||Rn(Te)):Rn(Te),ne}function _o(V,Z){var yt=V.c*V.i,Lt=yt+Z+16*Z;return e(V.c<=Z),V.V=o(Lt),V.V==null?(V.Ta=null,V.Ua=0,V.a=1,0):(V.Ta=V.V,V.Ua=V.Ba+yt+Z,1)}function Na(V,Z){var yt=V.C,Lt=Z-yt,Kt=V.V,ne=V.Ba+V.c*yt;for(e(Z<=V.l.o);0<Lt;){var ae=16<Lt?16:Lt,ue=V.l.ma,ge=V.l.width,Te=ge*ae,Ce=ue.ca,Nr=ue.tb+ge*yt,Ae=V.Ta,hr=V.Ua;$r(V,ae,Kt,ne),so(Ae,hr,Ce,Nr,Te),li(ue,yt,yt+ae,Ce,Nr,ge),Lt-=ae,Kt+=ae*V.c,yt+=ae}e(yt==Z),V.C=V.Ma=Z}function Mn(){this.ub=this.yd=this.td=this.Rb=0}function io(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rl(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ra(){this.Yb=(function(){var V=[];return(function Z(yt,Lt,Kt){for(var ne=Kt[Lt],ae=0;ae<ne&&(yt.push(Kt.length>Lt+1?[]:0),!(Kt.length<Lt+1));ae++)Z(yt[ae],Lt+1,Kt)})(V,0,[3,11]),V})()}function sa(){this.jb=o(3),this.Wc=a([4,8],ra),this.Xc=a([4,17],ra)}function cu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Vi(){this.ld=this.La=this.dd=this.tc=0}function nl(){this.Na=this.la=0}function Xo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vi),this.Y=0,this.ya=Array(new Mi),this.aa=0,this.l=new Do}function zl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ks(){this.cb=this.a=0,this.sc="",this.m=new lt,this.Od=new Mn,this.Kc=new io,this.ed=new cu,this.Qa=new rl,this.Ic=this.$c=this.Aa=0,this.D=new xs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,lt),this.ia=0,this.pb=u(4,Xo),this.Pa=new sa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zl),this.Hd=0,this.rb=Array(new nl),this.sb=0,this.wa=Array(new Vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mi),this.L=this.aa=0,this.gd=a([4,2],Vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Do(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fl(){var V=new Ks;return V!=null&&(V.a=0,V.sc="OK",V.cb=0,V.Xb=0,gl||(gl=pl)),V}function Ga(V,Z,yt){return V.a==0&&(V.a=Z,V.sc=yt,V.cb=0),0}function fl(V,Z,yt){return 3<=yt&&V[Z+0]==157&&V[Z+1]==1&&V[Z+2]==42}function Gc(V,Z){if(V==null)return 0;if(V.a=0,V.sc="OK",Z==null)return Ga(V,2,"null VP8Io passed to VP8GetHeaders()");var yt=Z.data,Lt=Z.w,Kt=Z.ha;if(4>Kt)return Ga(V,7,"Truncated header.");var ne=yt[Lt+0]|yt[Lt+1]<<8|yt[Lt+2]<<16,ae=V.Od;if(ae.Rb=!(1&ne),ae.td=ne>>1&7,ae.yd=ne>>4&1,ae.ub=ne>>5,3<ae.td)return Ga(V,3,"Incorrect keyframe parameters.");if(!ae.yd)return Ga(V,4,"Frame not displayable.");Lt+=3,Kt-=3;var ue=V.Kc;if(ae.Rb){if(7>Kt)return Ga(V,7,"cannot parse picture header");if(!fl(yt,Lt,Kt))return Ga(V,3,"Bad code word");ue.c=16383&(yt[Lt+4]<<8|yt[Lt+3]),ue.Td=yt[Lt+4]>>6,ue.i=16383&(yt[Lt+6]<<8|yt[Lt+5]),ue.Ud=yt[Lt+6]>>6,Lt+=7,Kt-=7,V.za=ue.c+15>>4,V.Ub=ue.i+15>>4,Z.width=ue.c,Z.height=ue.i,Z.Da=0,Z.j=0,Z.v=0,Z.va=Z.width,Z.o=Z.height,Z.da=0,Z.ib=Z.width,Z.hb=Z.height,Z.U=Z.width,Z.T=Z.height,i((ne=V.Pa).jb,0,255,ne.jb.length),e((ne=V.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,i(ne.Zb,0,0,ne.Zb.length),i(ne.Lb,0,0,ne.Lb)}if(ae.ub>Kt)return Ga(V,7,"bad partition length");pt(ne=V.m,yt,Lt,ae.ub),Lt+=ae.ub,Kt-=ae.ub,ae.Rb&&(ue.Ld=ce(ne),ue.Kd=ce(ne)),ue=V.Qa;var ge,Te=V.Pa;if(e(ne!=null),e(ue!=null),ue.Cb=ce(ne),ue.Cb){if(ue.Bb=ce(ne),ce(ne)){for(ue.Fb=ce(ne),ge=0;4>ge;++ge)ue.Zb[ge]=ce(ne)?vt(ne,7):0;for(ge=0;4>ge;++ge)ue.Lb[ge]=ce(ne)?vt(ne,6):0}if(ue.Bb)for(ge=0;3>ge;++ge)Te.jb[ge]=ce(ne)?Ct(ne,8):255}else ue.Bb=0;if(ne.Ka)return Ga(V,3,"cannot parse segment header");if((ue=V.ed).zd=ce(ne),ue.Tb=Ct(ne,6),ue.wb=Ct(ne,3),ue.Pc=ce(ne),ue.Pc&&ce(ne)){for(Te=0;4>Te;++Te)ce(ne)&&(ue.vd[Te]=vt(ne,6));for(Te=0;4>Te;++Te)ce(ne)&&(ue.od[Te]=vt(ne,6))}if(V.L=ue.Tb==0?0:ue.zd?1:2,ne.Ka)return Ga(V,3,"cannot parse filter header");var Ce=Kt;if(Kt=ge=Lt,Lt=ge+Ce,ue=Ce,V.Xb=(1<<Ct(V.m,2))-1,Ce<3*(Te=V.Xb))yt=7;else{for(ge+=3*Te,ue-=3*Te,Ce=0;Ce<Te;++Ce){var Nr=yt[Kt+0]|yt[Kt+1]<<8|yt[Kt+2]<<16;Nr>ue&&(Nr=ue),pt(V.Jc[+Ce],yt,ge,Nr),ge+=Nr,ue-=Nr,Kt+=3}pt(V.Jc[+Te],yt,ge,ue),yt=ge<Lt?0:5}if(yt!=0)return Ga(V,yt,"cannot parse partitions");for(yt=Ct(ge=V.m,7),Kt=ce(ge)?vt(ge,4):0,Lt=ce(ge)?vt(ge,4):0,ue=ce(ge)?vt(ge,4):0,Te=ce(ge)?vt(ge,4):0,ge=ce(ge)?vt(ge,4):0,Ce=V.Qa,Nr=0;4>Nr;++Nr){if(Ce.Cb){var Ae=Ce.Zb[Nr];Ce.Fb||(Ae+=yt)}else{if(0<Nr){V.pb[Nr]=V.pb[0];continue}Ae=yt}var hr=V.pb[Nr];hr.Sc[0]=Iu[ws(Ae+Kt,127)],hr.Sc[1]=ac[ws(Ae+0,127)],hr.Eb[0]=2*Iu[ws(Ae+Lt,127)],hr.Eb[1]=101581*ac[ws(Ae+ue,127)]>>16,8>hr.Eb[1]&&(hr.Eb[1]=8),hr.Qc[0]=Iu[ws(Ae+Te,117)],hr.Qc[1]=ac[ws(Ae+ge,127)],hr.lc=Ae+ge}if(!ae.Rb)return Ga(V,4,"Not a key frame.");for(ce(ne),ae=V.Pa,yt=0;4>yt;++yt){for(Kt=0;8>Kt;++Kt)for(Lt=0;3>Lt;++Lt)for(ue=0;11>ue;++ue)Te=de(ne,Qo[yt][Kt][Lt][ue])?Ct(ne,8):Mp[yt][Kt][Lt][ue],ae.Wc[yt][Kt].Yb[Lt][ue]=Te;for(Kt=0;17>Kt;++Kt)ae.Xc[yt][Kt]=ae.Wc[yt][wa[Kt]]}return V.kc=ce(ne),V.kc&&(V.Bd=Ct(ne,8)),V.cb=1}function pl(V,Z,yt,Lt,Kt,ne,ae){var ue=Z[Kt].Yb[yt];for(yt=0;16>Kt;++Kt){if(!de(V,ue[yt+0]))return Kt;for(;!de(V,ue[yt+1]);)if(ue=Z[++Kt].Yb[0],yt=0,Kt==16)return 16;var ge=Z[Kt+1].Yb;if(de(V,ue[yt+2])){var Te=V,Ce=0;if(de(Te,(Ae=ue)[(Nr=yt)+3]))if(de(Te,Ae[Nr+6])){for(ue=0,Nr=2*(Ce=de(Te,Ae[Nr+8]))+(Ae=de(Te,Ae[Nr+9+Ce])),Ce=0,Ae=Dg[Nr];Ae[ue];++ue)Ce+=Ce+de(Te,Ae[ue]);Ce+=3+(8<<Nr)}else de(Te,Ae[Nr+7])?(Ce=7+2*de(Te,165),Ce+=de(Te,145)):Ce=5+de(Te,159);else Ce=de(Te,Ae[Nr+4])?3+de(Te,Ae[Nr+5]):2;ue=ge[2]}else Ce=1,ue=ge[1];ge=ae+Lp[Kt],0>(Te=V).b&&Ht(Te);var Nr,Ae=Te.b,hr=(Nr=Te.Ca>>1)-(Te.I>>Ae)>>31;--Te.b,Te.Ca+=hr,Te.Ca|=1,Te.I-=(Nr+1&hr)<<Ae,ne[ge]=((Ce^hr)-hr)*Lt[(0<Kt)+0]}return 16}function El(V){var Z=V.rb[V.sb-1];Z.la=0,Z.Na=0,i(V.zc,0,0,V.zc.length),V.ja=0}function Wo(V,Z,yt,Lt,Kt){Kt=V[Z+yt+32*Lt]+(Kt>>3),V[Z+yt+32*Lt]=-256&Kt?0>Kt?0:255:Kt}function Yo(V,Z,yt,Lt,Kt,ne){Wo(V,Z,0,yt,Lt+Kt),Wo(V,Z,1,yt,Lt+ne),Wo(V,Z,2,yt,Lt-ne),Wo(V,Z,3,yt,Lt-Kt)}function Ko(V){return(20091*V>>16)+V}function Zo(V,Z,yt,Lt){var Kt,ne=0,ae=o(16);for(Kt=0;4>Kt;++Kt){var ue=V[Z+0]+V[Z+8],ge=V[Z+0]-V[Z+8],Te=(35468*V[Z+4]>>16)-Ko(V[Z+12]),Ce=Ko(V[Z+4])+(35468*V[Z+12]>>16);ae[ne+0]=ue+Ce,ae[ne+1]=ge+Te,ae[ne+2]=ge-Te,ae[ne+3]=ue-Ce,ne+=4,Z++}for(Kt=ne=0;4>Kt;++Kt)ue=(V=ae[ne+0]+4)+ae[ne+8],ge=V-ae[ne+8],Te=(35468*ae[ne+4]>>16)-Ko(ae[ne+12]),Wo(yt,Lt,0,0,ue+(Ce=Ko(ae[ne+4])+(35468*ae[ne+12]>>16))),Wo(yt,Lt,1,0,ge+Te),Wo(yt,Lt,2,0,ge-Te),Wo(yt,Lt,3,0,ue-Ce),ne++,Lt+=32}function ic(V,Z,yt,Lt){var Kt=V[Z+0]+4,ne=35468*V[Z+4]>>16,ae=Ko(V[Z+4]),ue=35468*V[Z+1]>>16;Yo(yt,Lt,0,Kt+ae,V=Ko(V[Z+1]),ue),Yo(yt,Lt,1,Kt+ne,V,ue),Yo(yt,Lt,2,Kt-ne,V,ue),Yo(yt,Lt,3,Kt-ae,V,ue)}function yc(V,Z,yt,Lt,Kt){Zo(V,Z,yt,Lt),Kt&&Zo(V,Z+16,yt,Lt+4)}function Q(V,Z,yt,Lt){y(V,Z+0,yt,Lt,1),y(V,Z+32,yt,Lt+128,1)}function gt(V,Z,yt,Lt){var Kt;for(V=V[Z+0]+4,Kt=0;4>Kt;++Kt)for(Z=0;4>Z;++Z)Wo(yt,Lt,Z,Kt,V)}function ee(V,Z,yt,Lt){V[Z+0]&&nt(V,Z+0,yt,Lt),V[Z+16]&&nt(V,Z+16,yt,Lt+4),V[Z+32]&&nt(V,Z+32,yt,Lt+128),V[Z+48]&&nt(V,Z+48,yt,Lt+128+4)}function Re(V,Z,yt,Lt){var Kt,ne=o(16);for(Kt=0;4>Kt;++Kt){var ae=V[Z+0+Kt]+V[Z+12+Kt],ue=V[Z+4+Kt]+V[Z+8+Kt],ge=V[Z+4+Kt]-V[Z+8+Kt],Te=V[Z+0+Kt]-V[Z+12+Kt];ne[0+Kt]=ae+ue,ne[8+Kt]=ae-ue,ne[4+Kt]=Te+ge,ne[12+Kt]=Te-ge}for(Kt=0;4>Kt;++Kt)ae=(V=ne[0+4*Kt]+3)+ne[3+4*Kt],ue=ne[1+4*Kt]+ne[2+4*Kt],ge=ne[1+4*Kt]-ne[2+4*Kt],Te=V-ne[3+4*Kt],yt[Lt+0]=ae+ue>>3,yt[Lt+16]=Te+ge>>3,yt[Lt+32]=ae-ue>>3,yt[Lt+48]=Te-ge>>3,Lt+=64}function qe(V,Z,yt){var Lt,Kt=Z-32,ne=To,ae=255-V[Kt-1];for(Lt=0;Lt<yt;++Lt){var ue,ge=ne,Te=ae+V[Z-1];for(ue=0;ue<yt;++ue)V[Z+ue]=ge[Te+V[Kt+ue]];Z+=32}}function Fe(V,Z){qe(V,Z,4)}function nr(V,Z){qe(V,Z,8)}function rn(V,Z){qe(V,Z,16)}function pn(V,Z){var yt;for(yt=0;16>yt;++yt)n(V,Z+32*yt,V,Z-32,16)}function un(V,Z){var yt;for(yt=16;0<yt;--yt)i(V,Z,V[Z-1],16),Z+=32}function Sn(V,Z,yt){var Lt;for(Lt=0;16>Lt;++Lt)i(Z,yt+32*Lt,V,16)}function dn(V,Z){var yt,Lt=16;for(yt=0;16>yt;++yt)Lt+=V[Z-1+32*yt]+V[Z+yt-32];Sn(Lt>>5,V,Z)}function Wn(V,Z){var yt,Lt=8;for(yt=0;16>yt;++yt)Lt+=V[Z-1+32*yt];Sn(Lt>>4,V,Z)}function Nn(V,Z){var yt,Lt=8;for(yt=0;16>yt;++yt)Lt+=V[Z+yt-32];Sn(Lt>>4,V,Z)}function ti(V,Z){Sn(128,V,Z)}function jn(V,Z,yt){return V+2*Z+yt+2>>2}function Zr(V,Z){var yt,Lt=Z-32;for(Lt=new Uint8Array([jn(V[Lt-1],V[Lt+0],V[Lt+1]),jn(V[Lt+0],V[Lt+1],V[Lt+2]),jn(V[Lt+1],V[Lt+2],V[Lt+3]),jn(V[Lt+2],V[Lt+3],V[Lt+4])]),yt=0;4>yt;++yt)n(V,Z+32*yt,Lt,0,Lt.length)}function Ln(V,Z){var yt=V[Z-1],Lt=V[Z-1+32],Kt=V[Z-1+64],ne=V[Z-1+96];Se(V,Z+0,16843009*jn(V[Z-1-32],yt,Lt)),Se(V,Z+32,16843009*jn(yt,Lt,Kt)),Se(V,Z+64,16843009*jn(Lt,Kt,ne)),Se(V,Z+96,16843009*jn(Kt,ne,ne))}function yi(V,Z){var yt,Lt=4;for(yt=0;4>yt;++yt)Lt+=V[Z+yt-32]+V[Z-1+32*yt];for(Lt>>=3,yt=0;4>yt;++yt)i(V,Z+32*yt,Lt,4)}function na(V,Z){var yt=V[Z-1+0],Lt=V[Z-1+32],Kt=V[Z-1+64],ne=V[Z-1-32],ae=V[Z+0-32],ue=V[Z+1-32],ge=V[Z+2-32],Te=V[Z+3-32];V[Z+0+96]=jn(Lt,Kt,V[Z-1+96]),V[Z+1+96]=V[Z+0+64]=jn(yt,Lt,Kt),V[Z+2+96]=V[Z+1+64]=V[Z+0+32]=jn(ne,yt,Lt),V[Z+3+96]=V[Z+2+64]=V[Z+1+32]=V[Z+0+0]=jn(ae,ne,yt),V[Z+3+64]=V[Z+2+32]=V[Z+1+0]=jn(ue,ae,ne),V[Z+3+32]=V[Z+2+0]=jn(ge,ue,ae),V[Z+3+0]=jn(Te,ge,ue)}function Ii(V,Z){var yt=V[Z+1-32],Lt=V[Z+2-32],Kt=V[Z+3-32],ne=V[Z+4-32],ae=V[Z+5-32],ue=V[Z+6-32],ge=V[Z+7-32];V[Z+0+0]=jn(V[Z+0-32],yt,Lt),V[Z+1+0]=V[Z+0+32]=jn(yt,Lt,Kt),V[Z+2+0]=V[Z+1+32]=V[Z+0+64]=jn(Lt,Kt,ne),V[Z+3+0]=V[Z+2+32]=V[Z+1+64]=V[Z+0+96]=jn(Kt,ne,ae),V[Z+3+32]=V[Z+2+64]=V[Z+1+96]=jn(ne,ae,ue),V[Z+3+64]=V[Z+2+96]=jn(ae,ue,ge),V[Z+3+96]=jn(ue,ge,ge)}function Bi(V,Z){var yt=V[Z-1+0],Lt=V[Z-1+32],Kt=V[Z-1+64],ne=V[Z-1-32],ae=V[Z+0-32],ue=V[Z+1-32],ge=V[Z+2-32],Te=V[Z+3-32];V[Z+0+0]=V[Z+1+64]=ne+ae+1>>1,V[Z+1+0]=V[Z+2+64]=ae+ue+1>>1,V[Z+2+0]=V[Z+3+64]=ue+ge+1>>1,V[Z+3+0]=ge+Te+1>>1,V[Z+0+96]=jn(Kt,Lt,yt),V[Z+0+64]=jn(Lt,yt,ne),V[Z+0+32]=V[Z+1+96]=jn(yt,ne,ae),V[Z+1+32]=V[Z+2+96]=jn(ne,ae,ue),V[Z+2+32]=V[Z+3+96]=jn(ae,ue,ge),V[Z+3+32]=jn(ue,ge,Te)}function la(V,Z){var yt=V[Z+0-32],Lt=V[Z+1-32],Kt=V[Z+2-32],ne=V[Z+3-32],ae=V[Z+4-32],ue=V[Z+5-32],ge=V[Z+6-32],Te=V[Z+7-32];V[Z+0+0]=yt+Lt+1>>1,V[Z+1+0]=V[Z+0+64]=Lt+Kt+1>>1,V[Z+2+0]=V[Z+1+64]=Kt+ne+1>>1,V[Z+3+0]=V[Z+2+64]=ne+ae+1>>1,V[Z+0+32]=jn(yt,Lt,Kt),V[Z+1+32]=V[Z+0+96]=jn(Lt,Kt,ne),V[Z+2+32]=V[Z+1+96]=jn(Kt,ne,ae),V[Z+3+32]=V[Z+2+96]=jn(ne,ae,ue),V[Z+3+64]=jn(ae,ue,ge),V[Z+3+96]=jn(ue,ge,Te)}function Bn(V,Z){var yt=V[Z-1+0],Lt=V[Z-1+32],Kt=V[Z-1+64],ne=V[Z-1+96];V[Z+0+0]=yt+Lt+1>>1,V[Z+2+0]=V[Z+0+32]=Lt+Kt+1>>1,V[Z+2+32]=V[Z+0+64]=Kt+ne+1>>1,V[Z+1+0]=jn(yt,Lt,Kt),V[Z+3+0]=V[Z+1+32]=jn(Lt,Kt,ne),V[Z+3+32]=V[Z+1+64]=jn(Kt,ne,ne),V[Z+3+64]=V[Z+2+64]=V[Z+0+96]=V[Z+1+96]=V[Z+2+96]=V[Z+3+96]=ne}function Ha(V,Z){var yt=V[Z-1+0],Lt=V[Z-1+32],Kt=V[Z-1+64],ne=V[Z-1+96],ae=V[Z-1-32],ue=V[Z+0-32],ge=V[Z+1-32],Te=V[Z+2-32];V[Z+0+0]=V[Z+2+32]=yt+ae+1>>1,V[Z+0+32]=V[Z+2+64]=Lt+yt+1>>1,V[Z+0+64]=V[Z+2+96]=Kt+Lt+1>>1,V[Z+0+96]=ne+Kt+1>>1,V[Z+3+0]=jn(ue,ge,Te),V[Z+2+0]=jn(ae,ue,ge),V[Z+1+0]=V[Z+3+32]=jn(yt,ae,ue),V[Z+1+32]=V[Z+3+64]=jn(Lt,yt,ae),V[Z+1+64]=V[Z+3+96]=jn(Kt,Lt,yt),V[Z+1+96]=jn(ne,Kt,Lt)}function pi(V,Z){var yt;for(yt=0;8>yt;++yt)n(V,Z+32*yt,V,Z-32,8)}function ei(V,Z){var yt;for(yt=0;8>yt;++yt)i(V,Z,V[Z-1],8),Z+=32}function Tl(V,Z,yt){var Lt;for(Lt=0;8>Lt;++Lt)i(Z,yt+32*Lt,V,8)}function zn(V,Z){var yt,Lt=8;for(yt=0;8>yt;++yt)Lt+=V[Z+yt-32]+V[Z-1+32*yt];Tl(Lt>>4,V,Z)}function jl(V,Z){var yt,Lt=4;for(yt=0;8>yt;++yt)Lt+=V[Z+yt-32];Tl(Lt>>3,V,Z)}function No(V,Z){var yt,Lt=4;for(yt=0;8>yt;++yt)Lt+=V[Z-1+32*yt];Tl(Lt>>3,V,Z)}function xo(V,Z){Tl(128,V,Z)}function fo(V,Z,yt){var Lt=V[Z-yt],Kt=V[Z+0],ne=3*(Kt-Lt)+Au[1020+V[Z-2*yt]-V[Z+yt]],ae=Il[112+(ne+4>>3)];V[Z-yt]=To[255+Lt+Il[112+(ne+3>>3)]],V[Z+0]=To[255+Kt-ae]}function _u(V,Z,yt,Lt){var Kt=V[Z+0],ne=V[Z+yt];return Cs[255+V[Z-2*yt]-V[Z-yt]]>Lt||Cs[255+ne-Kt]>Lt}function Ms(V,Z,yt,Lt){return 4*Cs[255+V[Z-yt]-V[Z+0]]+Cs[255+V[Z-2*yt]-V[Z+yt]]<=Lt}function Cl(V,Z,yt,Lt,Kt){var ne=V[Z-3*yt],ae=V[Z-2*yt],ue=V[Z-yt],ge=V[Z+0],Te=V[Z+yt],Ce=V[Z+2*yt],Nr=V[Z+3*yt];return 4*Cs[255+ue-ge]+Cs[255+ae-Te]>Lt?0:Cs[255+V[Z-4*yt]-ne]<=Kt&&Cs[255+ne-ae]<=Kt&&Cs[255+ae-ue]<=Kt&&Cs[255+Nr-Ce]<=Kt&&Cs[255+Ce-Te]<=Kt&&Cs[255+Te-ge]<=Kt}function xu(V,Z,yt,Lt){var Kt=2*Lt+1;for(Lt=0;16>Lt;++Lt)Ms(V,Z+Lt,yt,Kt)&&fo(V,Z+Lt,yt)}function Vl(V,Z,yt,Lt){var Kt=2*Lt+1;for(Lt=0;16>Lt;++Lt)Ms(V,Z+Lt*yt,1,Kt)&&fo(V,Z+Lt*yt,1)}function wo(V,Z,yt,Lt){var Kt;for(Kt=3;0<Kt;--Kt)xu(V,Z+=4*yt,yt,Lt)}function Bo(V,Z,yt,Lt){var Kt;for(Kt=3;0<Kt;--Kt)Vl(V,Z+=4,yt,Lt)}function Ba(V,Z,yt,Lt,Kt,ne,ae,ue){for(ne=2*ne+1;0<Kt--;){if(Cl(V,Z,yt,ne,ae))if(_u(V,Z,yt,ue))fo(V,Z,yt);else{var ge=V,Te=Z,Ce=yt,Nr=ge[Te-2*Ce],Ae=ge[Te-Ce],hr=ge[Te+0],br=ge[Te+Ce],Xr=ge[Te+2*Ce],Er=27*(Qr=Au[1020+3*(hr-Ae)+Au[1020+Nr-br]])+63>>7,wr=18*Qr+63>>7,Qr=9*Qr+63>>7;ge[Te-3*Ce]=To[255+ge[Te-3*Ce]+Qr],ge[Te-2*Ce]=To[255+Nr+wr],ge[Te-Ce]=To[255+Ae+Er],ge[Te+0]=To[255+hr-Er],ge[Te+Ce]=To[255+br-wr],ge[Te+2*Ce]=To[255+Xr-Qr]}Z+=Lt}}function zo(V,Z,yt,Lt,Kt,ne,ae,ue){for(ne=2*ne+1;0<Kt--;){if(Cl(V,Z,yt,ne,ae))if(_u(V,Z,yt,ue))fo(V,Z,yt);else{var ge=V,Te=Z,Ce=yt,Nr=ge[Te-Ce],Ae=ge[Te+0],hr=ge[Te+Ce],br=Il[112+(4+(Xr=3*(Ae-Nr))>>3)],Xr=Il[112+(Xr+3>>3)],Er=br+1>>1;ge[Te-2*Ce]=To[255+ge[Te-2*Ce]+Er],ge[Te-Ce]=To[255+Nr+Xr],ge[Te+0]=To[255+Ae-br],ge[Te+Ce]=To[255+hr-Er]}Z+=Lt}}function ut(V,Z,yt,Lt,Kt,ne){Ba(V,Z,yt,1,16,Lt,Kt,ne)}function Yt(V,Z,yt,Lt,Kt,ne){Ba(V,Z,1,yt,16,Lt,Kt,ne)}function ve(V,Z,yt,Lt,Kt,ne){var ae;for(ae=3;0<ae;--ae)zo(V,Z+=4*yt,yt,1,16,Lt,Kt,ne)}function Xe(V,Z,yt,Lt,Kt,ne){var ae;for(ae=3;0<ae;--ae)zo(V,Z+=4,1,yt,16,Lt,Kt,ne)}function pr(V,Z,yt,Lt,Kt,ne,ae,ue){Ba(V,Z,Kt,1,8,ne,ae,ue),Ba(yt,Lt,Kt,1,8,ne,ae,ue)}function Yr(V,Z,yt,Lt,Kt,ne,ae,ue){Ba(V,Z,1,Kt,8,ne,ae,ue),Ba(yt,Lt,1,Kt,8,ne,ae,ue)}function mn(V,Z,yt,Lt,Kt,ne,ae,ue){zo(V,Z+4*Kt,Kt,1,8,ne,ae,ue),zo(yt,Lt+4*Kt,Kt,1,8,ne,ae,ue)}function $n(V,Z,yt,Lt,Kt,ne,ae,ue){zo(V,Z+4,1,Kt,8,ne,ae,ue),zo(yt,Lt+4,1,Kt,8,ne,ae,ue)}function ri(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ti(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fi(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wi(){this.ua=0,this.Wa=new vr,this.vb=new vr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new wt,this.yc=new dt}function xa(){this.xb=this.a=0,this.l=new Do,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new kt,this.Pb=0,this.wd=new kt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wi,this.ab=0,this.gc=u(4,Fi),this.Oc=0}function Pi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Do,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $i(V,Z,yt,Lt,Kt,ne,ae){for(V=V==null?0:V[Z+0],Z=0;Z<ae;++Z)Kt[ne+Z]=V+yt[Lt+Z]&255,V=Kt[ne+Z]}function Lo(V,Z,yt,Lt,Kt,ne,ae){var ue;if(V==null)$i(null,null,yt,Lt,Kt,ne,ae);else for(ue=0;ue<ae;++ue)Kt[ne+ue]=V[Z+ue]+yt[Lt+ue]&255}function Qa(V,Z,yt,Lt,Kt,ne,ae){if(V==null)$i(null,null,yt,Lt,Kt,ne,ae);else{var ue,ge=V[Z+0],Te=ge,Ce=ge;for(ue=0;ue<ae;++ue)Te=Ce+(ge=V[Z+ue])-Te,Ce=yt[Lt+ue]+(-256&Te?0>Te?0:255:Te)&255,Te=ge,Kt[ne+ue]=Ce}}function ao(V,Z,yt,Lt){var Kt=Z.width,ne=Z.o;if(e(V!=null&&Z!=null),0>yt||0>=Lt||yt+Lt>ne)return null;if(!V.Cc){if(V.ga==null){var ae;if(V.ga=new Pi,(ae=V.ga==null)||(ae=Z.width*Z.o,e(V.Gb.length==0),V.Gb=o(ae),V.Uc=0,V.Gb==null?ae=0:(V.mb=V.Gb,V.nb=V.Uc,V.rc=null,ae=1),ae=!ae),!ae){ae=V.ga;var ue=V.Fa,ge=V.P,Te=V.qc,Ce=V.mb,Nr=V.nb,Ae=ge+1,hr=Te-1,br=ae.l;if(e(ue!=null&&Ce!=null&&Z!=null),yl[0]=null,yl[1]=$i,yl[2]=Lo,yl[3]=Qa,ae.ca=Ce,ae.tb=Nr,ae.c=Z.width,ae.i=Z.height,e(0<ae.c&&0<ae.i),1>=Te)Z=0;else if(ae.$a=3&ue[ge+0],ae.Z=ue[ge+0]>>2&3,ae.Lc=ue[ge+0]>>4&3,ge=ue[ge+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||ge)Z=0;else if(br.put=Kr,br.ac=vn,br.bc=Kn,br.ma=ae,br.width=Z.width,br.height=Z.height,br.Da=Z.Da,br.v=Z.v,br.va=Z.va,br.j=Z.j,br.o=Z.o,ae.$a)t:{e(ae.$a==1),Z=Xn();e:for(;;){if(Z==null){Z=0;break t}if(e(ae!=null),ae.mc=Z,Z.c=ae.c,Z.i=ae.i,Z.l=ae.l,Z.l.ma=ae,Z.l.width=ae.c,Z.l.height=ae.i,Z.a=0,It(Z.m,ue,Ae,hr),!Ra(ae.c,ae.i,1,Z,null)||(Z.ab==1&&Z.gc[0].hc==3&&On(Z.s)?(ae.ic=1,ue=Z.c*Z.i,Z.Ta=null,Z.Ua=0,Z.V=o(ue),Z.Ba=0,Z.V==null?(Z.a=1,Z=0):Z=1):(ae.ic=0,Z=_o(Z,ae.c)),!Z))break e;Z=1;break t}ae.mc=null,Z=0}else Z=hr>=ae.c*ae.i;ae=!Z}if(ae)return null;V.ga.Lc!=1?V.Ga=0:Lt=ne-yt}e(V.ga!=null),e(yt+Lt<=ne);t:{if(Z=(ue=V.ga).c,ne=ue.l.o,ue.$a==0){if(Ae=V.rc,hr=V.Vc,br=V.Fa,ge=V.P+1+yt*Z,Te=V.mb,Ce=V.nb+yt*Z,e(ge<=V.P+V.qc),ue.Z!=0)for(e(yl[ue.Z]!=null),ae=0;ae<Lt;++ae)yl[ue.Z](Ae,hr,br,ge,Te,Ce,Z),Ae=Te,hr=Ce,Ce+=Z,ge+=Z;else for(ae=0;ae<Lt;++ae)n(Te,Ce,br,ge,Z),Ae=Te,hr=Ce,Ce+=Z,ge+=Z;V.rc=Ae,V.Vc=hr}else{if(e(ue.mc!=null),Z=yt+Lt,e((ae=ue.mc)!=null),e(Z<=ae.i),ae.C>=Z)Z=1;else if(ue.ic||Rc(),ue.ic){ue=ae.V,Ae=ae.Ba,hr=ae.c;var Xr=ae.i,Er=(br=1,ge=ae.$/hr,Te=ae.$%hr,Ce=ae.m,Nr=ae.s,ae.$),wr=hr*Xr,Qr=hr*Z,wn=Nr.wc,ln=Er<Qr?yn(Nr,Te,ge):null;e(Er<=wr),e(Z<=Xr),e(On(Nr));e:for(;;){for(;!Ce.h&&Er<Qr;){if(Te&wn||(ln=yn(Nr,Te,ge)),e(ln!=null),ie(Ce),256>(Xr=ze(ln.G[0],ln.H[0],Ce)))ue[Ae+Er]=Xr,++Er,++Te>=hr&&(Te=0,++ge<=Z&&!(ge%16)&&Ki(ae,ge));else{if(!(280>Xr)){br=0;break e}Xr=Xt(Xr-256,Ce);var ci,ni=ze(ln.G[4],ln.H[4],Ce);if(ie(Ce),!(Er>=(ni=be(hr,ni=Xt(ni,Ce)))&&wr-Er>=Xr)){br=0;break e}for(ci=0;ci<Xr;++ci)ue[Ae+Er+ci]=ue[Ae+Er+ci-ni];for(Er+=Xr,Te+=Xr;Te>=hr;)Te-=hr,++ge<=Z&&!(ge%16)&&Ki(ae,ge);Er<Qr&&Te&wn&&(ln=yn(Nr,Te,ge))}e(Ce.h==Nt(Ce))}Ki(ae,ge>Z?Z:ge);break e}!br||Ce.h&&Er<wr?(br=0,ae.a=Ce.h?5:3):ae.$=Er,Z=br}else Z=en(ae,ae.V,ae.Ba,ae.c,ae.i,Z,Na);if(!Z){Lt=0;break t}}yt+Lt>=ne&&(V.Cc=1),Lt=1}if(!Lt)return null;if(V.Cc&&((Lt=V.ga)!=null&&(Lt.mc=null),V.ga=null,0<V.Ga))return alert("todo:WebPDequantizeLevels"),null}return V.nb+yt*Kt}function $l(V,Z,yt,Lt,Kt,ne){for(;0<Kt--;){var ae,ue=V,ge=Z+(yt?1:0),Te=V,Ce=Z+(yt?0:3);for(ae=0;ae<Lt;++ae){var Nr=Te[Ce+4*ae];Nr!=255&&(Nr*=32897,ue[ge+4*ae+0]=ue[ge+4*ae+0]*Nr>>23,ue[ge+4*ae+1]=ue[ge+4*ae+1]*Nr>>23,ue[ge+4*ae+2]=ue[ge+4*ae+2]*Nr>>23)}Z+=ne}}function wu(V,Z,yt,Lt,Kt){for(;0<Lt--;){var ne;for(ne=0;ne<yt;++ne){var ae=V[Z+2*ne+0],ue=15&(Te=V[Z+2*ne+1]),ge=4369*ue,Te=(240&Te|Te>>4)*ge>>16;V[Z+2*ne+0]=(240&ae|ae>>4)*ge>>16&240|(15&ae|ae<<4)*ge>>16>>4&15,V[Z+2*ne+1]=240&Te|ue}Z+=Kt}}function Ic(V,Z,yt,Lt,Kt,ne,ae,ue){var ge,Te,Ce=255;for(Te=0;Te<Kt;++Te){for(ge=0;ge<Lt;++ge){var Nr=V[Z+ge];ne[ae+4*ge]=Nr,Ce&=Nr}Z+=yt,ae+=ue}return Ce!=255}function Ul(V,Z,yt,Lt,Kt){var ne;for(ne=0;ne<Kt;++ne)yt[Lt+ne]=V[Z+ne]>>8}function Rc(){Ui=$l,$a=wu,Vo=Ic,so=Ul}function po(V,Z,yt){it[V]=function(Lt,Kt,ne,ae,ue,ge,Te,Ce,Nr,Ae,hr,br,Xr,Er,wr,Qr,wn){var ln,ci=wn-1>>1,ni=ue[ge+0]|Te[Ce+0]<<16,zi=Nr[Ae+0]|hr[br+0]<<16;e(Lt!=null);var ai=3*ni+zi+131074>>2;for(Z(Lt[Kt+0],255&ai,ai>>16,Xr,Er),ne!=null&&(ai=3*zi+ni+131074>>2,Z(ne[ae+0],255&ai,ai>>16,wr,Qr)),ln=1;ln<=ci;++ln){var Ea=ue[ge+ln]|Te[Ce+ln]<<16,Jo=Nr[Ae+ln]|hr[br+ln]<<16,ji=ni+Ea+zi+Jo+524296,ii=ji+2*(Ea+zi)>>3;ai=ii+ni>>1,ni=(ji=ji+2*(ni+Jo)>>3)+Ea>>1,Z(Lt[Kt+2*ln-1],255&ai,ai>>16,Xr,Er+(2*ln-1)*yt),Z(Lt[Kt+2*ln-0],255&ni,ni>>16,Xr,Er+(2*ln-0)*yt),ne!=null&&(ai=ji+zi>>1,ni=ii+Jo>>1,Z(ne[ae+2*ln-1],255&ai,ai>>16,wr,Qr+(2*ln-1)*yt),Z(ne[ae+2*ln+0],255&ni,ni>>16,wr,Qr+(2*ln+0)*yt)),ni=Ea,zi=Jo}1&wn||(ai=3*ni+zi+131074>>2,Z(Lt[Kt+wn-1],255&ai,ai>>16,Xr,Er+(wn-1)*yt),ne!=null&&(ai=3*zi+ni+131074>>2,Z(ne[ae+wn-1],255&ai,ai>>16,wr,Qr+(wn-1)*yt)))}}function Su(){vl[Wc]=Kc,vl[mi]=Zc,vl[Xu]=td,vl[Hl]=lf,vl[sf]=Lc,vl[gh]=Mc,vl[Jh]=Bh,vl[qf]=Zc,vl[Gf]=lf,vl[Ed]=Lc,vl[Td]=Mc}function vc(V){return V&-16384?0>V?0:255:V>>oc}function ql(V,Z){return vc((19077*V>>8)+(26149*Z>>8)-14234)}function So(V,Z,yt){return vc((19077*V>>8)-(6419*Z>>8)-(13320*yt>>8)+8708)}function Fo(V,Z){return vc((19077*V>>8)+(33050*Z>>8)-17685)}function Ja(V,Z,yt,Lt,Kt){Lt[Kt+0]=ql(V,yt),Lt[Kt+1]=So(V,Z,yt),Lt[Kt+2]=Fo(V,Z)}function hu(V,Z,yt,Lt,Kt){Lt[Kt+0]=Fo(V,Z),Lt[Kt+1]=So(V,Z,yt),Lt[Kt+2]=ql(V,yt)}function $u(V,Z,yt,Lt,Kt){var ne=So(V,Z,yt);Z=ne<<3&224|Fo(V,Z)>>3,Lt[Kt+0]=248&ql(V,yt)|ne>>5,Lt[Kt+1]=Z}function oo(V,Z,yt,Lt,Kt){var ne=240&Fo(V,Z)|15;Lt[Kt+0]=240&ql(V,yt)|So(V,Z,yt)>>4,Lt[Kt+1]=ne}function bc(V,Z,yt,Lt,Kt){Lt[Kt+0]=255,Ja(V,Z,yt,Lt,Kt+1)}function Uu(V,Z,yt,Lt,Kt){hu(V,Z,yt,Lt,Kt),Lt[Kt+3]=255}function il(V,Z,yt,Lt,Kt){Ja(V,Z,yt,Lt,Kt),Lt[Kt+3]=255}function ws(V,Z){return 0>V?0:V>Z?Z:V}function Zs(V,Z,yt){it[V]=function(Lt,Kt,ne,ae,ue,ge,Te,Ce,Nr){for(var Ae=Ce+(-2&Nr)*yt;Ce!=Ae;)Z(Lt[Kt+0],ne[ae+0],ue[ge+0],Te,Ce),Z(Lt[Kt+1],ne[ae+0],ue[ge+0],Te,Ce+yt),Kt+=2,++ae,++ge,Ce+=2*yt;1&Nr&&Z(Lt[Kt+0],ne[ae+0],ue[ge+0],Te,Ce)}}function mh(V,Z,yt){return yt==0?V==0?Z==0?6:5:Z==0?4:0:yt}function Hc(V,Z,yt,Lt,Kt){switch(V>>>30){case 3:y(Z,yt,Lt,Kt,0);break;case 2:T(Z,yt,Lt,Kt);break;case 1:nt(Z,yt,Lt,Kt)}}function qu(V,Z){var yt,Lt,Kt=Z.M,ne=Z.Nb,ae=V.oc,ue=V.pc+40,ge=V.oc,Te=V.pc+584,Ce=V.oc,Nr=V.pc+600;for(yt=0;16>yt;++yt)ae[ue+32*yt-1]=129;for(yt=0;8>yt;++yt)ge[Te+32*yt-1]=129,Ce[Nr+32*yt-1]=129;for(0<Kt?ae[ue-1-32]=ge[Te-1-32]=Ce[Nr-1-32]=129:(i(ae,ue-32-1,127,21),i(ge,Te-32-1,127,9),i(Ce,Nr-32-1,127,9)),Lt=0;Lt<V.za;++Lt){var Ae=Z.ya[Z.aa+Lt];if(0<Lt){for(yt=-1;16>yt;++yt)n(ae,ue+32*yt-4,ae,ue+32*yt+12,4);for(yt=-1;8>yt;++yt)n(ge,Te+32*yt-4,ge,Te+32*yt+4,4),n(Ce,Nr+32*yt-4,Ce,Nr+32*yt+4,4)}var hr=V.Gd,br=V.Hd+Lt,Xr=Ae.ad,Er=Ae.Hc;if(0<Kt&&(n(ae,ue-32,hr[br].y,0,16),n(ge,Te-32,hr[br].f,0,8),n(Ce,Nr-32,hr[br].ea,0,8)),Ae.Za){var wr=ae,Qr=ue-32+16;for(0<Kt&&(Lt>=V.za-1?i(wr,Qr,hr[br].y[15],4):n(wr,Qr,hr[br+1].y,0,4)),yt=0;4>yt;yt++)wr[Qr+128+yt]=wr[Qr+256+yt]=wr[Qr+384+yt]=wr[Qr+0+yt];for(yt=0;16>yt;++yt,Er<<=2)wr=ae,Qr=ue+As[yt],us[Ae.Ob[yt]](wr,Qr),Hc(Er,Xr,16*+yt,wr,Qr)}else if(wr=mh(Lt,Kt,Ae.Ob[0]),Wl[wr](ae,ue),Er!=0)for(yt=0;16>yt;++yt,Er<<=2)Hc(Er,Xr,16*+yt,ae,ue+As[yt]);for(yt=Ae.Gc,wr=mh(Lt,Kt,Ae.Dd),Nc[wr](ge,Te),Nc[wr](Ce,Nr),Er=Xr,wr=ge,Qr=Te,255&(Ae=0|yt)&&(170&Ae?F(Er,256,wr,Qr):xt(Er,256,wr,Qr)),Ae=Ce,Er=Nr,255&(yt>>=8)&&(170&yt?F(Xr,320,Ae,Er):xt(Xr,320,Ae,Er)),Kt<V.Ub-1&&(n(hr[br].y,0,ae,ue+480,16),n(hr[br].f,0,ge,Te+224,8),n(hr[br].ea,0,Ce,Nr+224,8)),yt=8*ne*V.B,hr=V.sa,br=V.ta+16*Lt+16*ne*V.R,Xr=V.qa,Ae=V.ra+8*Lt+yt,Er=V.Ha,wr=V.Ia+8*Lt+yt,yt=0;16>yt;++yt)n(hr,br+yt*V.R,ae,ue+32*yt,16);for(yt=0;8>yt;++yt)n(Xr,Ae+yt*V.B,ge,Te+32*yt,8),n(Er,wr+yt*V.B,Ce,Nr+32*yt,8)}}function Gl(V,Z,yt,Lt,Kt,ne,ae,ue,ge){var Te=[0],Ce=[0],Nr=0,Ae=ge!=null?ge.kd:0,hr=ge??new Ti;if(V==null||12>yt)return 7;hr.data=V,hr.w=Z,hr.ha=yt,Z=[Z],yt=[yt],hr.gb=[hr.gb];t:{var br=Z,Xr=yt,Er=hr.gb;if(e(V!=null),e(Xr!=null),e(Er!=null),Er[0]=0,12<=Xr[0]&&!r(V,br[0],"RIFF")){if(r(V,br[0]+8,"WEBP")){Er=3;break t}var wr=ke(V,br[0]+4);if(12>wr||4294967286<wr){Er=3;break t}if(Ae&&wr>Xr[0]-8){Er=7;break t}Er[0]=wr,br[0]+=12,Xr[0]-=12}Er=0}if(Er!=0)return Er;for(wr=0<hr.gb[0],yt=yt[0];;){t:{var Qr=V;Xr=Z,Er=yt;var wn=Te,ln=Ce,ci=br=[0];if((ai=Nr=[Nr])[0]=0,8>Er[0])Er=7;else{if(!r(Qr,Xr[0],"VP8X")){if(ke(Qr,Xr[0]+4)!=10){Er=3;break t}if(18>Er[0]){Er=7;break t}var ni=ke(Qr,Xr[0]+8),zi=1+He(Qr,Xr[0]+12);if(2147483648<=zi*(Qr=1+He(Qr,Xr[0]+15))){Er=3;break t}ci!=null&&(ci[0]=ni),wn!=null&&(wn[0]=zi),ln!=null&&(ln[0]=Qr),Xr[0]+=18,Er[0]-=18,ai[0]=1}Er=0}}if(Nr=Nr[0],br=br[0],Er!=0)return Er;if(Xr=!!(2&br),!wr&&Nr)return 3;if(ne!=null&&(ne[0]=!!(16&br)),ae!=null&&(ae[0]=Xr),ue!=null&&(ue[0]=0),ae=Te[0],br=Ce[0],Nr&&Xr&&ge==null){Er=0;break}if(4>yt){Er=7;break}if(wr&&Nr||!wr&&!Nr&&!r(V,Z[0],"ALPH")){yt=[yt],hr.na=[hr.na],hr.P=[hr.P],hr.Sa=[hr.Sa];t:{ni=V,Er=Z,wr=yt;var ai=hr.gb;wn=hr.na,ln=hr.P,ci=hr.Sa,zi=22,e(ni!=null),e(wr!=null),Qr=Er[0];var Ea=wr[0];for(e(wn!=null),e(ci!=null),wn[0]=null,ln[0]=null,ci[0]=0;;){if(Er[0]=Qr,wr[0]=Ea,8>Ea){Er=7;break t}var Jo=ke(ni,Qr+4);if(4294967286<Jo){Er=3;break t}var ji=8+Jo+1&-2;if(zi+=ji,0<ai&&zi>ai){Er=3;break t}if(!r(ni,Qr,"VP8 ")||!r(ni,Qr,"VP8L")){Er=0;break t}if(Ea[0]<ji){Er=7;break t}r(ni,Qr,"ALPH")||(wn[0]=ni,ln[0]=Qr+8,ci[0]=Jo),Qr+=ji,Ea-=ji}}if(yt=yt[0],hr.na=hr.na[0],hr.P=hr.P[0],hr.Sa=hr.Sa[0],Er!=0)break}yt=[yt],hr.Ja=[hr.Ja],hr.xa=[hr.xa];t:if(ai=V,Er=Z,wr=yt,wn=hr.gb[0],ln=hr.Ja,ci=hr.xa,ni=Er[0],Qr=!r(ai,ni,"VP8 "),zi=!r(ai,ni,"VP8L"),e(ai!=null),e(wr!=null),e(ln!=null),e(ci!=null),8>wr[0])Er=7;else{if(Qr||zi){if(ai=ke(ai,ni+4),12<=wn&&ai>wn-12){Er=3;break t}if(Ae&&ai>wr[0]-8){Er=7;break t}ln[0]=ai,Er[0]+=8,wr[0]-=8,ci[0]=zi}else ci[0]=5<=wr[0]&&ai[ni+0]==47&&!(ai[ni+4]>>5),ln[0]=wr[0];Er=0}if(yt=yt[0],hr.Ja=hr.Ja[0],hr.xa=hr.xa[0],Z=Z[0],Er!=0)break;if(4294967286<hr.Ja)return 3;if(ue==null||Xr||(ue[0]=hr.xa?2:1),ae=[ae],br=[br],hr.xa){if(5>yt){Er=7;break}ue=ae,Ae=br,Xr=ne,V==null||5>yt?V=0:5<=yt&&V[Z+0]==47&&!(V[Z+4]>>5)?(wr=[0],ai=[0],wn=[0],It(ln=new kt,V,Z,yt),Pt(ln,wr,ai,wn)?(ue!=null&&(ue[0]=wr[0]),Ae!=null&&(Ae[0]=ai[0]),Xr!=null&&(Xr[0]=wn[0]),V=1):V=0):V=0}else{if(10>yt){Er=7;break}ue=br,V==null||10>yt||!fl(V,Z+3,yt-3)?V=0:(Ae=V[Z+0]|V[Z+1]<<8|V[Z+2]<<16,Xr=16383&(V[Z+7]<<8|V[Z+6]),V=16383&(V[Z+9]<<8|V[Z+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=hr.Ja||!Xr||!V?V=0:(ae&&(ae[0]=Xr),ue&&(ue[0]=V),V=1))}if(!V||(ae=ae[0],br=br[0],Nr&&(Te[0]!=ae||Ce[0]!=br)))return 3;ge!=null&&(ge[0]=hr,ge.offset=Z-ge.w,e(4294967286>Z-ge.w),e(ge.offset==ge.ha-yt));break}return Er==0||Er==7&&Nr&&ge==null?(ne!=null&&(ne[0]|=hr.na!=null&&0<hr.na.length),Lt!=null&&(Lt[0]=ae),Kt!=null&&(Kt[0]=br),0):Er}function jo(V,Z,yt){var Lt=Z.width,Kt=Z.height,ne=0,ae=0,ue=Lt,ge=Kt;if(Z.Da=V!=null&&0<V.Da,Z.Da&&(ue=V.cd,ge=V.bd,ne=V.v,ae=V.j,11>yt||(ne&=-2,ae&=-2),0>ne||0>ae||0>=ue||0>=ge||ne+ue>Lt||ae+ge>Kt))return 0;if(Z.v=ne,Z.j=ae,Z.va=ne+ue,Z.o=ae+ge,Z.U=ue,Z.T=ge,Z.da=V!=null&&0<V.da,Z.da){if(!Dr(ue,ge,yt=[V.ib],ne=[V.hb]))return 0;Z.ib=yt[0],Z.hb=ne[0]}return Z.ob=V!=null&&V.ob,Z.Kb=V==null||!V.Sd,Z.da&&(Z.ob=Z.ib<3*Lt/4&&Z.hb<3*Kt/4,Z.Kb=0),1}function Ss(V){if(V==null)return 2;if(11>V.S){var Z=V.f.RGBA;Z.fb+=(V.height-1)*Z.A,Z.A=-Z.A}else Z=V.f.kb,V=V.height,Z.O+=(V-1)*Z.fa,Z.fa=-Z.fa,Z.N+=(V-1>>1)*Z.Ab,Z.Ab=-Z.Ab,Z.W+=(V-1>>1)*Z.Db,Z.Db=-Z.Db,Z.F!=null&&(Z.J+=(V-1)*Z.lb,Z.lb=-Z.lb);return 0}function Gu(V,Z,yt,Lt){if(Lt==null||0>=V||0>=Z)return 2;if(yt!=null){if(yt.Da){var Kt=yt.cd,ne=yt.bd,ae=-2&yt.v,ue=-2&yt.j;if(0>ae||0>ue||0>=Kt||0>=ne||ae+Kt>V||ue+ne>Z)return 2;V=Kt,Z=ne}if(yt.da){if(!Dr(V,Z,Kt=[yt.ib],ne=[yt.hb]))return 2;V=Kt[0],Z=ne[0]}}Lt.width=V,Lt.height=Z;t:{var ge=Lt.width,Te=Lt.height;if(V=Lt.S,0>=ge||0>=Te||!(V>=Wc&&13>V))V=2;else{if(0>=Lt.Rd&&Lt.sd==null){ae=ne=Kt=Z=0;var Ce=(ue=ge*sc[V])*Te;if(11>V||(ne=(Te+1)/2*(Z=(ge+1)/2),V==12&&(ae=(Kt=ge)*Te)),(Te=o(Ce+2*ne+ae))==null){V=1;break t}Lt.sd=Te,11>V?((ge=Lt.f.RGBA).eb=Te,ge.fb=0,ge.A=ue,ge.size=Ce):((ge=Lt.f.kb).y=Te,ge.O=0,ge.fa=ue,ge.Fd=Ce,ge.f=Te,ge.N=0+Ce,ge.Ab=Z,ge.Cd=ne,ge.ea=Te,ge.W=0+Ce+ne,ge.Db=Z,ge.Ed=ne,V==12&&(ge.F=Te,ge.J=0+Ce+2*ne),ge.Tc=ae,ge.lb=Kt)}if(Z=1,Kt=Lt.S,ne=Lt.width,ae=Lt.height,Kt>=Wc&&13>Kt)if(11>Kt)V=Lt.f.RGBA,Z&=(ue=Math.abs(V.A))*(ae-1)+ne<=V.size,Z&=ue>=ne*sc[Kt],Z&=V.eb!=null;else{V=Lt.f.kb,ue=(ne+1)/2,Ce=(ae+1)/2,ge=Math.abs(V.fa),Te=Math.abs(V.Ab);var Nr=Math.abs(V.Db),Ae=Math.abs(V.lb),hr=Ae*(ae-1)+ne;Z&=ge*(ae-1)+ne<=V.Fd,Z&=Te*(Ce-1)+ue<=V.Cd,Z=(Z&=Nr*(Ce-1)+ue<=V.Ed)&ge>=ne&Te>=ue&Nr>=ue,Z&=V.y!=null,Z&=V.f!=null,Z&=V.ea!=null,Kt==12&&(Z&=Ae>=ne,Z&=hr<=V.Tc,Z&=V.F!=null)}else Z=0;V=Z?0:2}}return V!=0||yt!=null&&yt.fd&&(V=Ss(Lt)),V}var Es=64,Hu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ps=24,du=32,Eo=8,fu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ir("Predictor0","PredictorAdd0"),it.Predictor0=function(){return 4278190080},it.Predictor1=function(V){return V},it.Predictor2=function(V,Z,yt){return Z[yt+0]},it.Predictor3=function(V,Z,yt){return Z[yt+1]},it.Predictor4=function(V,Z,yt){return Z[yt-1]},it.Predictor5=function(V,Z,yt){return Pr(Pr(V,Z[yt+1]),Z[yt+0])},it.Predictor6=function(V,Z,yt){return Pr(V,Z[yt-1])},it.Predictor7=function(V,Z,yt){return Pr(V,Z[yt+0])},it.Predictor8=function(V,Z,yt){return Pr(Z[yt-1],Z[yt+0])},it.Predictor9=function(V,Z,yt){return Pr(Z[yt+0],Z[yt+1])},it.Predictor10=function(V,Z,yt){return Pr(Pr(V,Z[yt-1]),Pr(Z[yt+0],Z[yt+1]))},it.Predictor11=function(V,Z,yt){var Lt=Z[yt+0];return 0>=ar(Lt>>24&255,V>>24&255,(Z=Z[yt-1])>>24&255)+ar(Lt>>16&255,V>>16&255,Z>>16&255)+ar(Lt>>8&255,V>>8&255,Z>>8&255)+ar(255&Lt,255&V,255&Z)?Lt:V},it.Predictor12=function(V,Z,yt){var Lt=Z[yt+0];return(Ir((V>>24&255)+(Lt>>24&255)-((Z=Z[yt-1])>>24&255))<<24|Ir((V>>16&255)+(Lt>>16&255)-(Z>>16&255))<<16|Ir((V>>8&255)+(Lt>>8&255)-(Z>>8&255))<<8|Ir((255&V)+(255&Lt)-(255&Z)))>>>0},it.Predictor13=function(V,Z,yt){var Lt=Z[yt-1];return(dr((V=Pr(V,Z[yt+0]))>>24&255,Lt>>24&255)<<24|dr(V>>16&255,Lt>>16&255)<<16|dr(V>>8&255,Lt>>8&255)<<8|dr(255&V,255&Lt))>>>0};var pu=it.PredictorAdd0;it.PredictorAdd1=Or,ir("Predictor2","PredictorAdd2"),ir("Predictor3","PredictorAdd3"),ir("Predictor4","PredictorAdd4"),ir("Predictor5","PredictorAdd5"),ir("Predictor6","PredictorAdd6"),ir("Predictor7","PredictorAdd7"),ir("Predictor8","PredictorAdd8"),ir("Predictor9","PredictorAdd9"),ir("Predictor10","PredictorAdd10"),ir("Predictor11","PredictorAdd11"),ir("Predictor12","PredictorAdd12"),ir("Predictor13","PredictorAdd13");var Al=it.PredictorAdd2;rr("ColorIndexInverseTransform","MapARGB","32b",function(V){return V>>8&255},function(V){return V}),rr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(V){return V},function(V){return V>>8&255});var _c,Xc=it.ColorIndexInverseTransform,Eu=it.MapARGB,xc=it.VP8LColorIndexInverseTransformAlpha,Ts=it.MapAlpha,lr=it.VP8LPredictorsAdd=[];lr.length=16,(it.VP8LPredictors=[]).length=16,(it.VP8LPredictorsAdd_C=[]).length=16,(it.VP8LPredictors_C=[]).length=16;var mr,An,Dn,Ni,Vn,C,m,y,T,F,nt,xt,Dt,re,_e,sr,_r,tn,In,Zn,hi,Yn,Hn,fa,Ui,$a,Vo,so,ls=o(511),Tu=o(2041),Cu=o(225),kl=o(767),ml=0,Au=Tu,Il=Cu,To=kl,Cs=ls,Wc=0,mi=1,Xu=2,Hl=3,sf=4,gh=5,Jh=6,qf=7,Gf=8,Ed=9,Td=10,Wu=[2,3,7],Dh=[3,3,11],Yc=[280,256,256,256,40],Cd=[0,1,1,1,0],Ad=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ku=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wc=8,Iu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gl=null,Dg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xl=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],wa=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wl=[],us=[],Nc=[],mo=1,yh=2,yl=[],vl=[];po("UpsampleRgbLinePair",Ja,3),po("UpsampleBgrLinePair",hu,3),po("UpsampleRgbaLinePair",il,4),po("UpsampleBgraLinePair",Uu,4),po("UpsampleArgbLinePair",bc,4),po("UpsampleRgba4444LinePair",oo,2),po("UpsampleRgb565LinePair",$u,2);var Kc=it.UpsampleRgbLinePair,td=it.UpsampleBgrLinePair,Zc=it.UpsampleRgbaLinePair,lf=it.UpsampleBgraLinePair,Lc=it.UpsampleArgbLinePair,Mc=it.UpsampleRgba4444LinePair,Bh=it.UpsampleRgb565LinePair,Sc=16,Qc=1<<Sc-1,Pc=-227,al=482,oc=6,vh=0,Yl=o(256),Hf=o(256),Id=o(256),Vm=o(256),Pp=o(al-Pc),Bg=o(al-Pc);Zs("YuvToRgbRow",Ja,3),Zs("YuvToBgrRow",hu,3),Zs("YuvToRgbaRow",il,4),Zs("YuvToBgraRow",Uu,4),Zs("YuvToArgbRow",bc,4),Zs("YuvToRgba4444Row",oo,2),Zs("YuvToRgb565Row",$u,2);var As=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zh=[0,2,8],bh=[8,7,6,4,4,2,2,2,1,1,1,1],Ru=1;this.WebPDecodeRGBA=function(V,Z,yt,Lt,Kt){var ne=mi,ae=new ri,ue=new Ke;ae.ba=ue,ue.S=ne,ue.width=[ue.width],ue.height=[ue.height];var ge=ue.width,Te=ue.height,Ce=new Pe;if(Ce==null||V==null)var Nr=2;else e(Ce!=null),Nr=Gl(V,Z,yt,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Nr!=0?ge=0:(ge!=null&&(ge[0]=Ce.width[0]),Te!=null&&(Te[0]=Ce.height[0]),ge=1),ge){ue.width=ue.width[0],ue.height=ue.height[0],Lt!=null&&(Lt[0]=ue.width),Kt!=null&&(Kt[0]=ue.height);t:{if(Lt=new Do,(Kt=new Ti).data=V,Kt.w=Z,Kt.ha=yt,Kt.kd=1,Z=[0],e(Kt!=null),((V=Gl(Kt.data,Kt.w,Kt.ha,null,null,null,Z,null,Kt))==0||V==7)&&Z[0]&&(V=4),(Z=V)==0){if(e(ae!=null),Lt.data=Kt.data,Lt.w=Kt.w+Kt.offset,Lt.ha=Kt.ha-Kt.offset,Lt.put=Kr,Lt.ac=vn,Lt.bc=Kn,Lt.ma=ae,Kt.xa){if((V=Xn())==null){ae=1;break t}if((function(Ae,hr){var br=[0],Xr=[0],Er=[0];e:for(;;){if(Ae==null)return 0;if(hr==null)return Ae.a=2,0;if(Ae.l=hr,Ae.a=0,It(Ae.m,hr.data,hr.w,hr.ha),!Pt(Ae.m,br,Xr,Er)){Ae.a=3;break e}if(Ae.xb=yh,hr.width=br[0],hr.height=Xr[0],!Ra(br[0],Xr[0],1,Ae,null))break e;return 1}return e(Ae.a!=0),0})(V,Lt)){if(Lt=(Z=Gu(Lt.width,Lt.height,ae.Oa,ae.ba))==0){e:{Lt=V;r:for(;;){if(Lt==null){Lt=0;break e}if(e(Lt.s.yc!=null),e(Lt.s.Ya!=null),e(0<Lt.s.Wb),e((yt=Lt.l)!=null),e((Kt=yt.ma)!=null),Lt.xb!=0){if(Lt.ca=Kt.ba,Lt.tb=Kt.tb,e(Lt.ca!=null),!jo(Kt.Oa,yt,Hl)){Lt.a=2;break r}if(!_o(Lt,yt.width)||yt.da)break r;if((yt.da||Ge(Lt.ca.S))&&Rc(),11>Lt.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Lt.ca.f.kb.F!=null&&Rc()),Lt.Pb&&0<Lt.s.ua&&Lt.s.vb.X==null&&!Jt(Lt.s.vb,Lt.s.Wa.Xa)){Lt.a=1;break r}Lt.xb=0}if(!en(Lt,Lt.V,Lt.Ba,Lt.c,Lt.i,yt.o,fi))break r;Kt.Dc=Lt.Ma,Lt=1;break e}e(Lt.a!=0),Lt=0}Lt=!Lt}Lt&&(Z=V.a)}else Z=V.a}else{if((V=new Fl)==null){ae=1;break t}if(V.Fa=Kt.na,V.P=Kt.P,V.qc=Kt.Sa,Gc(V,Lt)){if((Z=Gu(Lt.width,Lt.height,ae.Oa,ae.ba))==0){if(V.Aa=0,yt=ae.Oa,e((Kt=V)!=null),yt!=null){if(0<(ge=0>(ge=yt.Md)?0:100<ge?255:255*ge/100)){for(Te=Ce=0;4>Te;++Te)12>(Nr=Kt.pb[Te]).lc&&(Nr.ia=ge*bh[0>Nr.lc?0:Nr.lc]>>3),Ce|=Nr.ia;Ce&&(alert("todo:VP8InitRandom"),Kt.ia=1)}Kt.Ga=yt.Id,100<Kt.Ga?Kt.Ga=100:0>Kt.Ga&&(Kt.Ga=0)}(function(Ae,hr){if(Ae==null)return 0;if(hr==null)return Ga(Ae,2,"NULL VP8Io parameter in VP8Decode().");if(!Ae.cb&&!Gc(Ae,hr))return 0;if(e(Ae.cb),hr.ac==null||hr.ac(hr)){hr.ob&&(Ae.L=0);var br=zh[Ae.L];if(Ae.L==2?(Ae.yb=0,Ae.zb=0):(Ae.yb=hr.v-br>>4,Ae.zb=hr.j-br>>4,0>Ae.yb&&(Ae.yb=0),0>Ae.zb&&(Ae.zb=0)),Ae.Va=hr.o+15+br>>4,Ae.Hb=hr.va+15+br>>4,Ae.Hb>Ae.za&&(Ae.Hb=Ae.za),Ae.Va>Ae.Ub&&(Ae.Va=Ae.Ub),0<Ae.L){var Xr=Ae.ed;for(br=0;4>br;++br){var Er;if(Ae.Qa.Cb){var wr=Ae.Qa.Lb[br];Ae.Qa.Fb||(wr+=Xr.Tb)}else wr=Xr.Tb;for(Er=0;1>=Er;++Er){var Qr=Ae.gd[br][Er],wn=wr;if(Xr.Pc&&(wn+=Xr.vd[0],Er&&(wn+=Xr.od[0])),0<(wn=0>wn?0:63<wn?63:wn)){var ln=wn;0<Xr.wb&&(ln=4<Xr.wb?ln>>2:ln>>1)>9-Xr.wb&&(ln=9-Xr.wb),1>ln&&(ln=1),Qr.dd=ln,Qr.tc=2*wn+ln,Qr.ld=40<=wn?2:15<=wn?1:0}else Qr.tc=0;Qr.La=Er}}}br=0}else Ga(Ae,6,"Frame setup failed"),br=Ae.a;if(br=br==0){if(br){Ae.$c=0,0<Ae.Aa||(Ae.Ic=Ru);e:{br=Ae.Ic,Xr=4*(ln=Ae.za);var ci=32*ln,ni=ln+1,zi=0<Ae.L?ln*(0<Ae.Aa?2:1):0,ai=(Ae.Aa==2?2:1)*ln;if((Qr=Xr+832+(Er=3*(16*br+zh[Ae.L])/2*ci)+(wr=Ae.Fa!=null&&0<Ae.Fa.length?Ae.Kc.c*Ae.Kc.i:0))!=Qr)br=0;else{if(Qr>Ae.Vb){if(Ae.Vb=0,Ae.Ec=o(Qr),Ae.Fc=0,Ae.Ec==null){br=Ga(Ae,1,"no memory during frame initialization.");break e}Ae.Vb=Qr}Qr=Ae.Ec,wn=Ae.Fc,Ae.Ac=Qr,Ae.Bc=wn,wn+=Xr,Ae.Gd=u(ci,zl),Ae.Hd=0,Ae.rb=u(ni+1,nl),Ae.sb=1,Ae.wa=zi?u(zi,Vi):null,Ae.Y=0,Ae.D.Nb=0,Ae.D.wa=Ae.wa,Ae.D.Y=Ae.Y,0<Ae.Aa&&(Ae.D.Y+=ln),e(!0),Ae.oc=Qr,Ae.pc=wn,wn+=832,Ae.ya=u(ai,Mi),Ae.aa=0,Ae.D.ya=Ae.ya,Ae.D.aa=Ae.aa,Ae.Aa==2&&(Ae.D.aa+=ln),Ae.R=16*ln,Ae.B=8*ln,ln=(ci=zh[Ae.L])*Ae.R,ci=ci/2*Ae.B,Ae.sa=Qr,Ae.ta=wn+ln,Ae.qa=Ae.sa,Ae.ra=Ae.ta+16*br*Ae.R+ci,Ae.Ha=Ae.qa,Ae.Ia=Ae.ra+8*br*Ae.B+ci,Ae.$c=0,wn+=Er,Ae.mb=wr?Qr:null,Ae.nb=wr?wn:null,e(wn+wr<=Ae.Fc+Ae.Vb),El(Ae),i(Ae.Ac,Ae.Bc,0,Xr),br=1}}if(br){if(hr.ka=0,hr.y=Ae.sa,hr.O=Ae.ta,hr.f=Ae.qa,hr.N=Ae.ra,hr.ea=Ae.Ha,hr.Vd=Ae.Ia,hr.fa=Ae.R,hr.Rc=Ae.B,hr.F=null,hr.J=0,!ml){for(br=-255;255>=br;++br)ls[255+br]=0>br?-br:br;for(br=-1020;1020>=br;++br)Tu[1020+br]=-128>br?-128:127<br?127:br;for(br=-112;112>=br;++br)Cu[112+br]=-16>br?-16:15<br?15:br;for(br=-255;510>=br;++br)kl[255+br]=0>br?0:255<br?255:br;ml=1}m=Re,y=yc,F=Q,nt=gt,xt=ee,T=ic,Dt=ut,re=Yt,_e=pr,sr=Yr,_r=ve,tn=Xe,In=mn,Zn=$n,hi=xu,Yn=Vl,Hn=wo,fa=Bo,us[0]=yi,us[1]=Fe,us[2]=Zr,us[3]=Ln,us[4]=na,us[5]=Bi,us[6]=Ii,us[7]=la,us[8]=Ha,us[9]=Bn,Wl[0]=dn,Wl[1]=rn,Wl[2]=pn,Wl[3]=un,Wl[4]=Wn,Wl[5]=Nn,Wl[6]=ti,Nc[0]=zn,Nc[1]=nr,Nc[2]=pi,Nc[3]=ei,Nc[4]=No,Nc[5]=jl,Nc[6]=xo,br=1}else br=0}br&&(br=(function(Ea,Jo){for(Ea.M=0;Ea.M<Ea.Va;++Ea.M){var ji,ii=Ea.Jc[Ea.M&Ea.Xb],Pn=Ea.m,go=Ea;for(ji=0;ji<go.za;++ji){var Gn=Pn,qi=go,to=qi.Ac,ol=qi.Bc+4*ji,Kl=qi.zc,$o=qi.ya[qi.aa+ji];if(qi.Qa.Bb?$o.$b=de(Gn,qi.Pa.jb[0])?2+de(Gn,qi.Pa.jb[2]):de(Gn,qi.Pa.jb[1]):$o.$b=0,qi.kc&&($o.Ad=de(Gn,qi.Bd)),$o.Za=!de(Gn,145)+0,$o.Za){var bl=$o.Ob,cs=0;for(qi=0;4>qi;++qi){var Os,gn=Kl[0+qi];for(Os=0;4>Os;++Os){gn=Xl[to[ol+Os]][gn];for(var kn=kd[de(Gn,gn[0])];0<kn;)kn=kd[2*kn+de(Gn,gn[kn])];gn=-kn,to[ol+Os]=gn}n(bl,cs,to,ol,4),cs+=4,Kl[0+qi]=gn}}else gn=de(Gn,156)?de(Gn,128)?1:3:de(Gn,163)?2:0,$o.Ob[0]=gn,i(to,ol,gn,4),i(Kl,0,gn,4);$o.Dd=de(Gn,142)?de(Gn,114)?de(Gn,183)?1:3:2:0}if(go.m.Ka)return Ga(Ea,7,"Premature end-of-partition0 encountered.");for(;Ea.ja<Ea.za;++Ea.ja){if(go=ii,Gn=(Pn=Ea).rb[Pn.sb-1],to=Pn.rb[Pn.sb+Pn.ja],ji=Pn.ya[Pn.aa+Pn.ja],ol=Pn.kc?ji.Ad:0)Gn.la=to.la=0,ji.Za||(Gn.Na=to.Na=0),ji.Hc=0,ji.Gc=0,ji.ia=0;else{var ts,Xa;if(Gn=to,to=go,ol=Pn.Pa.Xc,Kl=Pn.ya[Pn.aa+Pn.ja],$o=Pn.pb[Kl.$b],qi=Kl.ad,bl=0,cs=Pn.rb[Pn.sb-1],gn=Os=0,i(qi,bl,0,384),Kl.Za)var Ds=0,La=ol[3];else{kn=o(16);var Wa=Gn.Na+cs.Na;if(Wa=gl(to,ol[1],Wa,$o.Eb,0,kn,0),Gn.Na=cs.Na=(0<Wa)+0,1<Wa)m(kn,0,qi,bl);else{var Ma=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)qi[bl+kn]=Ma}Ds=1,La=ol[0]}var yo=15&Gn.la,es=15&cs.la;for(kn=0;4>kn;++kn){var ia=1&es;for(Ma=Xa=0;4>Ma;++Ma)yo=yo>>1|(ia=(Wa=gl(to,La,Wa=ia+(1&yo),$o.Sc,Ds,qi,bl))>Ds)<<7,Xa=Xa<<2|(3<Wa?3:1<Wa?2:qi[bl+0]!=0),bl+=16;yo>>=4,es=es>>1|ia<<7,Os=(Os<<8|Xa)>>>0}for(La=yo,Ds=es>>4,ts=0;4>ts;ts+=2){for(Xa=0,yo=Gn.la>>4+ts,es=cs.la>>4+ts,kn=0;2>kn;++kn){for(ia=1&es,Ma=0;2>Ma;++Ma)Wa=ia+(1&yo),yo=yo>>1|(ia=0<(Wa=gl(to,ol[2],Wa,$o.Qc,0,qi,bl)))<<3,Xa=Xa<<2|(3<Wa?3:1<Wa?2:qi[bl+0]!=0),bl+=16;yo>>=2,es=es>>1|ia<<5}gn|=Xa<<4*ts,La|=yo<<4<<ts,Ds|=(240&es)<<ts}Gn.la=La,cs.la=Ds,Kl.Hc=Os,Kl.Gc=gn,Kl.ia=43690&gn?0:$o.ia,ol=!(Os|gn)}if(0<Pn.L&&(Pn.wa[Pn.Y+Pn.ja]=Pn.gd[ji.$b][ji.Za],Pn.wa[Pn.Y+Pn.ja].La|=!ol),go.Ka)return Ga(Ea,7,"Premature end-of-file encountered.")}if(El(Ea),Pn=Jo,go=1,ji=(ii=Ea).D,Gn=0<ii.L&&ii.M>=ii.zb&&ii.M<=ii.Va,ii.Aa==0)e:{if(ji.M=ii.M,ji.uc=Gn,qu(ii,ji),go=1,ji=(Xa=ii.D).Nb,Gn=(gn=zh[ii.L])*ii.R,to=gn/2*ii.B,kn=16*ji*ii.R,Ma=8*ji*ii.B,ol=ii.sa,Kl=ii.ta-Gn+kn,$o=ii.qa,qi=ii.ra-to+Ma,bl=ii.Ha,cs=ii.Ia-to+Ma,es=(yo=Xa.M)==0,Os=yo>=ii.Va-1,ii.Aa==2&&qu(ii,Xa),Xa.uc)for(ia=(Wa=ii).D.M,e(Wa.D.uc),Xa=Wa.yb;Xa<Wa.Hb;++Xa){Ds=Xa,La=ia;var Oi=(Ua=(Qs=Wa).D).Nb;ts=Qs.R;var Ua=Ua.wa[Ua.Y+Ds],Bs=Qs.sa,Co=Qs.ta+16*Oi*ts+16*Ds,bi=Ua.dd,_i=Ua.tc;if(_i!=0)if(e(3<=_i),Qs.L==1)0<Ds&&Yn(Bs,Co,ts,_i+4),Ua.La&&fa(Bs,Co,ts,_i),0<La&&hi(Bs,Co,ts,_i+4),Ua.La&&Hn(Bs,Co,ts,_i);else{var Ta=Qs.B,Zl=Qs.qa,lc=Qs.ra+8*Oi*Ta+8*Ds,Ql=Qs.Ha,Qs=Qs.Ia+8*Oi*Ta+8*Ds;Oi=Ua.ld,0<Ds&&(re(Bs,Co,ts,_i+4,bi,Oi),sr(Zl,lc,Ql,Qs,Ta,_i+4,bi,Oi)),Ua.La&&(tn(Bs,Co,ts,_i,bi,Oi),Zn(Zl,lc,Ql,Qs,Ta,_i,bi,Oi)),0<La&&(Dt(Bs,Co,ts,_i+4,bi,Oi),_e(Zl,lc,Ql,Qs,Ta,_i+4,bi,Oi)),Ua.La&&(_r(Bs,Co,ts,_i,bi,Oi),In(Zl,lc,Ql,Qs,Ta,_i,bi,Oi))}}if(ii.ia&&alert("todo:DitherRow"),Pn.put!=null){if(Xa=16*yo,yo=16*(yo+1),es?(Pn.y=ii.sa,Pn.O=ii.ta+kn,Pn.f=ii.qa,Pn.N=ii.ra+Ma,Pn.ea=ii.Ha,Pn.W=ii.Ia+Ma):(Xa-=gn,Pn.y=ol,Pn.O=Kl,Pn.f=$o,Pn.N=qi,Pn.ea=bl,Pn.W=cs),Os||(yo-=gn),yo>Pn.o&&(yo=Pn.o),Pn.F=null,Pn.J=null,ii.Fa!=null&&0<ii.Fa.length&&Xa<yo&&(Pn.J=ao(ii,Pn,Xa,yo-Xa),Pn.F=ii.mb,Pn.F==null&&Pn.F.length==0)){go=Ga(ii,3,"Could not decode alpha data.");break e}Xa<Pn.j&&(gn=Pn.j-Xa,Xa=Pn.j,e(!(1&gn)),Pn.O+=ii.R*gn,Pn.N+=ii.B*(gn>>1),Pn.W+=ii.B*(gn>>1),Pn.F!=null&&(Pn.J+=Pn.width*gn)),Xa<yo&&(Pn.O+=Pn.v,Pn.N+=Pn.v>>1,Pn.W+=Pn.v>>1,Pn.F!=null&&(Pn.J+=Pn.v),Pn.ka=Xa-Pn.j,Pn.U=Pn.va-Pn.v,Pn.T=yo-Xa,go=Pn.put(Pn))}ji+1!=ii.Ic||Os||(n(ii.sa,ii.ta-Gn,ol,Kl+16*ii.R,Gn),n(ii.qa,ii.ra-to,$o,qi+8*ii.B,to),n(ii.Ha,ii.Ia-to,bl,cs+8*ii.B,to))}if(!go)return Ga(Ea,6,"Output aborted.")}return 1})(Ae,hr)),hr.bc!=null&&hr.bc(hr),br&=1}return br?(Ae.cb=0,br):0})(V,Lt)||(Z=V.a)}}else Z=V.a}Z==0&&ae.Oa!=null&&ae.Oa.fd&&(Z=Ss(ae.ba))}ae=Z}ne=ae!=0?null:11>ne?ue.f.RGBA.eb:ue.f.kb.y}else ne=null;return ne};var sc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(it,bt){for(var at="",$=0;$<4;$++)at+=String.fromCharCode(it[bt++]);return at}function x(it,bt){return it[bt+0]|it[bt+1]<<8}function k(it,bt){return(it[bt+0]|it[bt+1]<<8|it[bt+2]<<16)>>>0}function R(it,bt){return(it[bt+0]|it[bt+1]<<8|it[bt+2]<<16|it[bt+3]<<24)>>>0}new g;var A=[0],O=[0],D=[],U=new g,H=t,G=(function(it,bt){var at={},$=0,dt=!1,mt=0,wt=0;if(at.frames=[],!(function(lt,kt){for(var At=0;At<4;At++)if(lt[kt+At]!="RIFF".charCodeAt(At))return!0;return!1})(it,bt)){for(R(it,bt+=4),bt+=8;bt<it.length;){var pt=v(it,bt),Ct=R(it,bt+=4);bt+=4;var vt=Ct+(1&Ct);switch(pt){case"VP8 ":case"VP8L":at.frames[$]===void 0&&(at.frames[$]={}),(Et=at.frames[$]).src_off=dt?wt:bt-8,Et.src_size=mt+Ct+8,$++,dt&&(dt=!1,mt=0,wt=0);break;case"VP8X":(Et=at.header={}).feature_flags=it[bt];var It=bt+4;Et.canvas_width=1+k(it,It),It+=3,Et.canvas_height=1+k(it,It),It+=3;break;case"ALPH":dt=!0,mt=vt+8,wt=bt-8;break;case"ANIM":(Et=at.header).bgcolor=R(it,bt),It=bt+4,Et.loop_count=x(it,It),It+=2;break;case"ANMF":var Ft,Et;(Et=at.frames[$]={}).offset_x=2*k(it,bt),bt+=3,Et.offset_y=2*k(it,bt),bt+=3,Et.width=1+k(it,bt),bt+=3,Et.height=1+k(it,bt),bt+=3,Et.duration=k(it,bt),bt+=3,Ft=it[bt++],Et.dispose=1&Ft,Et.blend=Ft>>1&1}pt!="ANMF"&&(bt+=vt)}return at}})(H,0);G.response=H,G.rgbaoutput=!0,G.dataurl=!1;var z=G.header?G.header:null,j=G.frames?G.frames:null;if(z){z.loop_counter=z.loop_count,A=[z.canvas_height],O=[z.canvas_width];for(var X=0;X<j.length&&j[X].blend!=0;X++);}var Y=j[0],rt=U.WebPDecodeRGBA(H,Y.src_off,Y.src_size,O,A);Y.rgba=rt,Y.imgwidth=O[0],Y.imgheight=A[0];for(var st=0;st<O[0]*A[0]*4;st++)D[st]=rt[st];return this.width=O,this.height=A,this.data=D,this}(function(t){var e,r,n,i,o,u,a,g,v,x=function(lt){return lt=lt||{},this.isStrokeTransparent=lt.isStrokeTransparent||!1,this.strokeOpacity=lt.strokeOpacity||1,this.strokeStyle=lt.strokeStyle||"#000000",this.fillStyle=lt.fillStyle||"#000000",this.isFillTransparent=lt.isFillTransparent||!1,this.fillOpacity=lt.fillOpacity||1,this.font=lt.font||"10px sans-serif",this.textBaseline=lt.textBaseline||"alphabetic",this.textAlign=lt.textAlign||"left",this.lineWidth=lt.lineWidth||1,this.lineJoin=lt.lineJoin||"miter",this.lineCap=lt.lineCap||"butt",this.path=lt.path||[],this.transform=lt.transform!==void 0?lt.transform.clone():new g,this.globalCompositeOperation=lt.globalCompositeOperation||"normal",this.globalAlpha=lt.globalAlpha||1,this.clip_path=lt.clip_path||[],this.currentPoint=lt.currentPoint||new u,this.miterLimit=lt.miterLimit||10,this.lastPoint=lt.lastPoint||new u,this.lineDashOffset=lt.lineDashOffset||0,this.lineDash=lt.lineDash||[],this.margin=lt.margin||[0,0,0,0],this.prevPageLastElemOffset=lt.prevPageLastElemOffset||0,this.ignoreClearRect=typeof lt.ignoreClearRect!="boolean"||lt.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new k(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,a=this.internal.Rectangle,g=this.internal.Matrix,v=new x}]);var k=function(lt){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var kt=lt;Object.defineProperty(this,"pdf",{get:function(){return kt}});var At=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return At},set:function(ke){At=!!ke}});var Nt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Nt},set:function(ke){Nt=!!ke}});var qt=0;Object.defineProperty(this,"posX",{get:function(){return qt},set:function(ke){isNaN(ke)||(qt=ke)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ke){isNaN(ke)||(ie=ke)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(ke){var Jt;typeof ke=="number"?Jt=[ke,ke,ke,ke]:((Jt=new Array(4))[0]=ke[0],Jt[1]=ke.length>=2?ke[1]:Jt[0],Jt[2]=ke.length>=3?ke[2]:Jt[0],Jt[3]=ke.length>=4?ke[3]:Jt[1]),v.margin=Jt}});var Ht=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ht},set:function(ke){Ht=ke}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(ke){ce=ke}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(ke){de=ke}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(ke){ke instanceof x&&(v=ke)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(ke){v.path=ke}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ke){Se=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var Jt;Jt=R(ke),this.ctx.fillStyle=Jt.style,this.ctx.isFillTransparent=Jt.a===0,this.ctx.fillOpacity=Jt.a,this.pdf.setFillColor(Jt.r,Jt.g,Jt.b,{a:Jt.a}),this.pdf.setTextColor(Jt.r,Jt.g,Jt.b,{a:Jt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var Jt=R(ke);this.ctx.strokeStyle=Jt.style,this.ctx.isStrokeTransparent=Jt.a===0,this.ctx.strokeOpacity=Jt.a,Jt.a===0?this.pdf.setDrawColor(255,255,255):(Jt.a,this.pdf.setDrawColor(Jt.r,Jt.g,Jt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var $t=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(ke){$t=null,He=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var Jt;if(this.ctx.font=ke,(Jt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Vr=Jt[1];Jt[2];var vr=Jt[3],Dr=Jt[4];Jt[5];var Ie=Jt[6],Mr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Dr)[2];Dr=Math.floor(Mr==="px"?parseFloat(Dr)*this.pdf.internal.scaleFactor:Mr==="em"?parseFloat(Dr)*this.pdf.getFontSize():parseFloat(Dr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Dr);var ir=(function(Ze){var rr,Me,jt=[],Mt=Ze.trim();if(Mt==="")return oz;if(Mt in QB)return[QB[Mt]];for(;Mt!=="";){switch(Me=null,rr=(Mt=tz(Mt)).charAt(0)){case'"':case"'":Me=Jht(Mt.substring(1),rr);break;default:Me=tdt(Mt)}if(Me===null||(jt.push(Me[0]),(Mt=tz(Me[1]))!==""&&Mt.charAt(0)!==","))return oz;Mt=Mt.replace(/^,/,"")}return jt})(Ie);if(this.fontFaces){var Rr=(function(Ze,rr){if($t===null){var Me=(function(jt){var Mt=[];return Object.keys(jt).forEach(function(Bt){jt[Bt].forEach(function(oe){var ye=null;switch(oe){case"bold":ye={family:Bt,weight:"bold"};break;case"italic":ye={family:Bt,style:"italic"};break;case"bolditalic":ye={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":ye={family:Bt}}ye!==null&&(ye.ref={name:Bt,style:oe},Mt.push(ye))})}),Mt})(Ze.getFontList());$t=(function(jt){for(var Mt={},Bt=0;Bt<jt.length;++Bt){var oe=Yk(jt[Bt]),ye=oe.family,je=oe.stretch,Ge=oe.style,Ue=oe.weight;Mt[ye]=Mt[ye]||{},Mt[ye][je]=Mt[ye][je]||{},Mt[ye][je][Ge]=Mt[ye][je][Ge]||{},Mt[ye][je][Ge][Ue]=oe}return Mt})(Me.concat(rr))}return $t})(this.pdf,this.fontFaces),Pr=ir.map(function(Ze){return{family:Ze,stretch:"normal",weight:vr,style:Vr}}),Ir=(function(Ze,rr,Me){for(var jt=(Me=Me||{}).defaultFontFamily||"times",Mt=Object.assign({},Qht,Me.genericFontFamilies||{}),Bt=null,oe=null,ye=0;ye<rr.length;++ye)if(Mt[(Bt=Yk(rr[ye])).family]&&(Bt.family=Mt[Bt.family]),Ze.hasOwnProperty(Bt.family)){oe=Ze[Bt.family];break}if(!(oe=oe||Ze[jt]))throw new Error("Could not find a font-family for the rule '"+JB(Bt)+"' and default family '"+jt+"'.");if(oe=(function(je,Ge){if(Ge[je])return Ge[je];var Ue=vL[je],fr=Ue<=vL.normal?-1:1,Ke=ZB(Ge,xG,Ue,fr);if(!Ke)throw new Error("Could not find a matching font-stretch value for "+je);return Ke})(Bt.stretch,oe),oe=(function(je,Ge){if(Ge[je])return Ge[je];for(var Ue=_G[je],fr=0;fr<Ue.length;++fr)if(Ge[Ue[fr]])return Ge[Ue[fr]];throw new Error("Could not find a matching font-style for "+je)})(Bt.style,oe),!(oe=(function(je,Ge){if(Ge[je])return Ge[je];if(je===400&&Ge[500])return Ge[500];if(je===500&&Ge[400])return Ge[400];var Ue=Zht[je],fr=ZB(Ge,wG,Ue,je<400?-1:1);if(!fr)throw new Error("Could not find a matching font-weight for value "+je);return fr})(Bt.weight,oe)))throw new Error("Failed to resolve a font for the rule '"+JB(Bt)+"'.");return oe})(Rr,Pr);this.pdf.setFont(Ir.ref.name,Ir.ref.style)}else{var dr="";(vr==="bold"||parseInt(vr,10)>=700||Vr==="bold")&&(dr="bold"),Vr==="italic"&&(dr+="italic"),dr.length===0&&(dr="normal");for(var ar="",Or={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},er=0;er<ir.length;er++){if(this.pdf.internal.getFont(ir[er],dr,{noFallback:!0,disableWarning:!0})!==void 0){ar=ir[er];break}if(dr==="bolditalic"&&this.pdf.internal.getFont(ir[er],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ar=ir[er],dr="bold";else if(this.pdf.internal.getFont(ir[er],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ar=ir[er],dr="normal";break}}if(ar===""){for(var Fr=0;Fr<ir.length;Fr++)if(Or[ir[Fr]]){ar=Or[ir[Fr]];break}}ar=ar===""?"Times":ar,this.pdf.setFont(ar,dr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,Et.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,Et.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};k.prototype.setLineDash=function(lt){this.lineDash=lt},k.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},k.prototype.fill=function(){j.call(this,"fill",!1)},k.prototype.stroke=function(){j.call(this,"stroke",!1)},k.prototype.beginPath=function(){this.path=[{type:"begin"}]},k.prototype.moveTo=function(lt,kt){if(isNaN(lt)||isNaN(kt))throw hl.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var At=this.ctx.transform.applyToPoint(new u(lt,kt));this.path.push({type:"mt",x:At.x,y:At.y}),this.ctx.lastPoint=new u(lt,kt)},k.prototype.closePath=function(){var lt=new u(0,0),kt=0;for(kt=this.path.length-1;kt!==-1;kt--)if(this.path[kt].type==="begin"&&Ws(this.path[kt+1])==="object"&&typeof this.path[kt+1].x=="number"){lt=new u(this.path[kt+1].x,this.path[kt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(lt.x,lt.y)},k.prototype.lineTo=function(lt,kt){if(isNaN(lt)||isNaN(kt))throw hl.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var At=this.ctx.transform.applyToPoint(new u(lt,kt));this.path.push({type:"lt",x:At.x,y:At.y}),this.ctx.lastPoint=new u(At.x,At.y)},k.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},k.prototype.quadraticCurveTo=function(lt,kt,At,Nt){if(isNaN(At)||isNaN(Nt)||isNaN(lt)||isNaN(kt))throw hl.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var qt=this.ctx.transform.applyToPoint(new u(At,Nt)),ie=this.ctx.transform.applyToPoint(new u(lt,kt));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:qt.x,y:qt.y}),this.ctx.lastPoint=new u(qt.x,qt.y)},k.prototype.bezierCurveTo=function(lt,kt,At,Nt,qt,ie){if(isNaN(qt)||isNaN(ie)||isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt))throw hl.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ht=this.ctx.transform.applyToPoint(new u(qt,ie)),ce=this.ctx.transform.applyToPoint(new u(lt,kt)),de=this.ctx.transform.applyToPoint(new u(At,Nt));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:de.x,y2:de.y,x:Ht.x,y:Ht.y}),this.ctx.lastPoint=new u(Ht.x,Ht.y)},k.prototype.arc=function(lt,kt,At,Nt,qt,ie){if(isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt)||isNaN(qt))throw hl.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var Ht=this.ctx.transform.applyToPoint(new u(lt,kt));lt=Ht.x,kt=Ht.y;var ce=this.ctx.transform.applyToPoint(new u(0,At)),de=this.ctx.transform.applyToPoint(new u(0,0));At=Math.sqrt(Math.pow(ce.x-de.x,2)+Math.pow(ce.y-de.y,2))}Math.abs(qt-Nt)>=2*Math.PI&&(Nt=0,qt=2*Math.PI),this.path.push({type:"arc",x:lt,y:kt,radius:At,startAngle:Nt,endAngle:qt,counterclockwise:ie})},k.prototype.arcTo=function(lt,kt,At,Nt,qt){throw new Error("arcTo not implemented.")},k.prototype.rect=function(lt,kt,At,Nt){if(isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt))throw hl.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(lt,kt),this.lineTo(lt+At,kt),this.lineTo(lt+At,kt+Nt),this.lineTo(lt,kt+Nt),this.lineTo(lt,kt),this.lineTo(lt+At,kt),this.lineTo(lt,kt)},k.prototype.fillRect=function(lt,kt,At,Nt){if(isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt))throw hl.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var qt={};this.lineCap!=="butt"&&(qt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(qt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(lt,kt,At,Nt),this.fill(),qt.hasOwnProperty("lineCap")&&(this.lineCap=qt.lineCap),qt.hasOwnProperty("lineJoin")&&(this.lineJoin=qt.lineJoin)}},k.prototype.strokeRect=function(lt,kt,At,Nt){if(isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt))throw hl.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(lt,kt,At,Nt),this.stroke())},k.prototype.clearRect=function(lt,kt,At,Nt){if(isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt))throw hl.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(lt,kt,At,Nt))},k.prototype.save=function(lt){lt=typeof lt!="boolean"||lt;for(var kt=this.pdf.internal.getCurrentPageInfo().pageNumber,At=0;At<this.pdf.internal.getNumberOfPages();At++)this.pdf.setPage(At+1),this.pdf.internal.out("q");if(this.pdf.setPage(kt),lt){this.ctx.fontSize=this.pdf.internal.getFontSize();var Nt=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Nt}},k.prototype.restore=function(lt){lt=typeof lt!="boolean"||lt;for(var kt=this.pdf.internal.getCurrentPageInfo().pageNumber,At=0;At<this.pdf.internal.getNumberOfPages();At++)this.pdf.setPage(At+1),this.pdf.internal.out("Q");this.pdf.setPage(kt),lt&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},k.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var R=function(lt){var kt,At,Nt,qt;if(lt.isCanvasGradient===!0&&(lt=lt.getColor()),!lt)return{r:0,g:0,b:0,a:0,style:lt};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(lt))kt=0,At=0,Nt=0,qt=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(lt);if(ie!==null)kt=parseInt(ie[1]),At=parseInt(ie[2]),Nt=parseInt(ie[3]),qt=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(lt))!==null)kt=parseInt(ie[1]),At=parseInt(ie[2]),Nt=parseInt(ie[3]),qt=parseFloat(ie[4]);else{if(qt=1,typeof lt=="string"&&lt.charAt(0)!=="#"){var Ht=new fG(lt);lt=Ht.ok?Ht.toHex():"#000000"}lt.length===4?(kt=lt.substring(1,2),kt+=kt,At=lt.substring(2,3),At+=At,Nt=lt.substring(3,4),Nt+=Nt):(kt=lt.substring(1,3),At=lt.substring(3,5),Nt=lt.substring(5,7)),kt=parseInt(kt,16),At=parseInt(At,16),Nt=parseInt(Nt,16)}}return{r:kt,g:At,b:Nt,a:qt,style:lt}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};k.prototype.fillText=function(lt,kt,At,Nt){if(isNaN(kt)||isNaN(At)||typeof lt!="string")throw hl.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Nt=isNaN(Nt)?void 0:Nt,!A.call(this)){var qt=vt(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;$.call(this,{text:lt,x:kt,y:At,scale:ie,angle:qt,align:this.textAlign,maxWidth:Nt})}},k.prototype.strokeText=function(lt,kt,At,Nt){if(isNaN(kt)||isNaN(At)||typeof lt!="string")throw hl.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){Nt=isNaN(Nt)?void 0:Nt;var qt=vt(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;$.call(this,{text:lt,x:kt,y:At,scale:ie,renderingMode:"stroke",angle:qt,align:this.textAlign,maxWidth:Nt})}},k.prototype.measureText=function(lt){if(typeof lt!="string")throw hl.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var kt=this.pdf,At=this.pdf.internal.scaleFactor,Nt=kt.internal.getFontSize(),qt=kt.getStringUnitWidth(lt)*Nt/kt.internal.scaleFactor;return new function(ie){var Ht=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ht}}),this}({width:qt*=Math.round(96*At/72*1e4)/1e4})},k.prototype.scale=function(lt,kt){if(isNaN(lt)||isNaN(kt))throw hl.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var At=new g(lt,0,0,kt,0,0);this.ctx.transform=this.ctx.transform.multiply(At)},k.prototype.rotate=function(lt){if(isNaN(lt))throw hl.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var kt=new g(Math.cos(lt),Math.sin(lt),-Math.sin(lt),Math.cos(lt),0,0);this.ctx.transform=this.ctx.transform.multiply(kt)},k.prototype.translate=function(lt,kt){if(isNaN(lt)||isNaN(kt))throw hl.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var At=new g(1,0,0,1,lt,kt);this.ctx.transform=this.ctx.transform.multiply(At)},k.prototype.transform=function(lt,kt,At,Nt,qt,ie){if(isNaN(lt)||isNaN(kt)||isNaN(At)||isNaN(Nt)||isNaN(qt)||isNaN(ie))throw hl.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ht=new g(lt,kt,At,Nt,qt,ie);this.ctx.transform=this.ctx.transform.multiply(Ht)},k.prototype.setTransform=function(lt,kt,At,Nt,qt,ie){lt=isNaN(lt)?1:lt,kt=isNaN(kt)?0:kt,At=isNaN(At)?0:At,Nt=isNaN(Nt)?1:Nt,qt=isNaN(qt)?0:qt,ie=isNaN(ie)?0:ie,this.ctx.transform=new g(lt,kt,At,Nt,qt,ie)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};k.prototype.drawImage=function(lt,kt,At,Nt,qt,ie,Ht,ce,de){var Se=this.pdf.getImageProperties(lt),$t=1,He=1,ke=1,Jt=1;Nt!==void 0&&ce!==void 0&&(ke=ce/Nt,Jt=de/qt,$t=Se.width/Nt*ce/Nt,He=Se.height/qt*de/qt),ie===void 0&&(ie=kt,Ht=At,kt=0,At=0),Nt!==void 0&&ce===void 0&&(ce=Nt,de=qt),Nt===void 0&&ce===void 0&&(ce=Se.width,de=Se.height);for(var Vr,vr=this.ctx.transform.decompose(),Dr=vt(vr.rotate.shx),Ie=new g,Mr=(Ie=(Ie=(Ie=Ie.multiply(vr.translate)).multiply(vr.skew)).multiply(vr.scale)).applyToRectangle(new a(ie-kt*ke,Ht-At*Jt,Nt*$t,qt*He)),ir=U.call(this,Mr),Rr=[],Pr=0;Pr<ir.length;Pr+=1)Rr.indexOf(ir[Pr])===-1&&Rr.push(ir[Pr]);if(z(Rr),this.autoPaging)for(var Ir=Rr[0],dr=Rr[Rr.length-1],ar=Ir;ar<dr+1;ar++){this.pdf.setPage(ar);var Or=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],er=ar===1?this.posY+this.margin[0]:this.margin[0],Fr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rr=ar===1?0:Fr+(ar-2)*Ze;if(this.ctx.clip_path.length!==0){var Me=this.path;Vr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(Vr,this.posX+this.margin[3],-rr+er+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Me}var jt=JSON.parse(JSON.stringify(Mr));jt=G([jt],this.posX+this.margin[3],-rr+er+this.ctx.prevPageLastElemOffset)[0];var Mt=(ar>Ir||ar<dr)&&D.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Or,Ze,null).clip().discardPath()),this.pdf.addImage(lt,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,Dr),Mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(lt,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,Dr)};var U=function(lt,kt,At){var Nt=[];kt=kt||this.pdf.internal.pageSize.width,At=At||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var qt=this.posY+this.ctx.prevPageLastElemOffset;switch(lt.type){default:case"mt":case"lt":Nt.push(Math.floor((lt.y+qt)/At)+1);break;case"arc":Nt.push(Math.floor((lt.y+qt-lt.radius)/At)+1),Nt.push(Math.floor((lt.y+qt+lt.radius)/At)+1);break;case"qct":var ie=It(this.ctx.lastPoint.x,this.ctx.lastPoint.y,lt.x1,lt.y1,lt.x,lt.y);Nt.push(Math.floor((ie.y+qt)/At)+1),Nt.push(Math.floor((ie.y+ie.h+qt)/At)+1);break;case"bct":var Ht=Ft(this.ctx.lastPoint.x,this.ctx.lastPoint.y,lt.x1,lt.y1,lt.x2,lt.y2,lt.x,lt.y);Nt.push(Math.floor((Ht.y+qt)/At)+1),Nt.push(Math.floor((Ht.y+Ht.h+qt)/At)+1);break;case"rect":Nt.push(Math.floor((lt.y+qt)/At)+1),Nt.push(Math.floor((lt.y+lt.h+qt)/At)+1)}for(var ce=0;ce<Nt.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<Nt[ce];)H.call(this);return Nt},H=function(){var lt=this.fillStyle,kt=this.strokeStyle,At=this.font,Nt=this.lineCap,qt=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=lt,this.strokeStyle=kt,this.font=At,this.lineCap=Nt,this.lineWidth=qt,this.lineJoin=ie},G=function(lt,kt,At){for(var Nt=0;Nt<lt.length;Nt++)switch(lt[Nt].type){case"bct":lt[Nt].x2+=kt,lt[Nt].y2+=At;case"qct":lt[Nt].x1+=kt,lt[Nt].y1+=At;default:lt[Nt].x+=kt,lt[Nt].y+=At}return lt},z=function(lt){return lt.sort(function(kt,At){return kt-At})},j=function(lt,kt){for(var At,Nt,qt=this.fillStyle,ie=this.strokeStyle,Ht=this.lineCap,ce=this.lineWidth,de=Math.abs(ce*this.ctx.transform.scaleX),Se=this.lineJoin,$t=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),ke=[],Jt=0;Jt<He.length;Jt++)if(He[Jt].x!==void 0)for(var Vr=U.call(this,He[Jt]),vr=0;vr<Vr.length;vr+=1)ke.indexOf(Vr[vr])===-1&&ke.push(Vr[vr]);for(var Dr=0;Dr<ke.length;Dr++)for(;this.pdf.internal.getNumberOfPages()<ke[Dr];)H.call(this);if(z(ke),this.autoPaging)for(var Ie=ke[0],Mr=ke[ke.length-1],ir=Ie;ir<Mr+1;ir++){this.pdf.setPage(ir),this.fillStyle=qt,this.strokeStyle=ie,this.lineCap=Ht,this.lineWidth=de,this.lineJoin=Se;var Rr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pr=ir===1?this.posY+this.margin[0]:this.margin[0],Ir=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ar=ir===1?0:Ir+(ir-2)*dr;if(this.ctx.clip_path.length!==0){var Or=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(At,this.posX+this.margin[3],-ar+Pr+this.ctx.prevPageLastElemOffset),X.call(this,lt,!0),this.path=Or}if(Nt=JSON.parse(JSON.stringify($t)),this.path=G(Nt,this.posX+this.margin[3],-ar+Pr+this.ctx.prevPageLastElemOffset),kt===!1||ir===0){var er=(ir>Ie||ir<Mr)&&D.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rr,dr,null).clip().discardPath()),X.call(this,lt,kt),er&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=de,X.call(this,lt,kt),this.lineWidth=ce;this.path=$t},X=function(lt,kt){if((lt!=="stroke"||kt||!O.call(this))&&(lt==="stroke"||kt||!A.call(this))){for(var At,Nt,qt=[],ie=this.path,Ht=0;Ht<ie.length;Ht++){var ce=ie[Ht];switch(ce.type){case"begin":qt.push({begin:!0});break;case"close":qt.push({close:!0});break;case"mt":qt.push({start:ce,deltas:[],abs:[]});break;case"lt":var de=qt.length;if(ie[Ht-1]&&!isNaN(ie[Ht-1].x)&&(At=[ce.x-ie[Ht-1].x,ce.y-ie[Ht-1].y],de>0)){for(;de>=0;de--)if(qt[de-1].close!==!0&&qt[de-1].begin!==!0){qt[de-1].deltas.push(At),qt[de-1].abs.push(ce);break}}break;case"bct":At=[ce.x1-ie[Ht-1].x,ce.y1-ie[Ht-1].y,ce.x2-ie[Ht-1].x,ce.y2-ie[Ht-1].y,ce.x-ie[Ht-1].x,ce.y-ie[Ht-1].y],qt[qt.length-1].deltas.push(At);break;case"qct":var Se=ie[Ht-1].x+2/3*(ce.x1-ie[Ht-1].x),$t=ie[Ht-1].y+2/3*(ce.y1-ie[Ht-1].y),He=ce.x+2/3*(ce.x1-ce.x),ke=ce.y+2/3*(ce.y1-ce.y),Jt=ce.x,Vr=ce.y;At=[Se-ie[Ht-1].x,$t-ie[Ht-1].y,He-ie[Ht-1].x,ke-ie[Ht-1].y,Jt-ie[Ht-1].x,Vr-ie[Ht-1].y],qt[qt.length-1].deltas.push(At);break;case"arc":qt.push({deltas:[],abs:[],arc:!0}),Array.isArray(qt[qt.length-1].abs)&&qt[qt.length-1].abs.push(ce)}}Nt=kt?null:lt==="stroke"?"stroke":"fill";for(var vr=!1,Dr=0;Dr<qt.length;Dr++)if(qt[Dr].arc)for(var Ie=qt[Dr].abs,Mr=0;Mr<Ie.length;Mr++){var ir=Ie[Mr];ir.type==="arc"?st.call(this,ir.x,ir.y,ir.radius,ir.startAngle,ir.endAngle,ir.counterclockwise,void 0,kt,!vr):dt.call(this,ir.x,ir.y),vr=!0}else if(qt[Dr].close===!0)this.pdf.internal.out("h"),vr=!1;else if(qt[Dr].begin!==!0){var Rr=qt[Dr].start.x,Pr=qt[Dr].start.y;mt.call(this,qt[Dr].deltas,Rr,Pr),vr=!0}Nt&&it.call(this,Nt),kt&&bt.call(this)}},Y=function(lt){var kt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,At=kt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return lt-At;case"top":return lt+kt-At;case"hanging":return lt+kt-2*At;case"middle":return lt+kt/2-At;default:return lt}},rt=function(lt){return lt+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};k.prototype.createLinearGradient=function(){var lt=function(){};return lt.colorStops=[],lt.addColorStop=function(kt,At){this.colorStops.push([kt,At])},lt.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},lt.isCanvasGradient=!0,lt},k.prototype.createPattern=function(){return this.createLinearGradient()},k.prototype.createRadialGradient=function(){return this.createLinearGradient()};var st=function(lt,kt,At,Nt,qt,ie,Ht,ce,de){for(var Se=pt.call(this,At,Nt,qt,ie),$t=0;$t<Se.length;$t++){var He=Se[$t];$t===0&&(de?at.call(this,He.x1+lt,He.y1+kt):dt.call(this,He.x1+lt,He.y1+kt)),wt.call(this,lt,kt,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ce?bt.call(this):it.call(this,Ht)},it=function(lt){switch(lt){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},bt=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(lt,kt){this.pdf.internal.out(r(lt)+" "+n(kt)+" m")},$=function(lt){var kt;switch(lt.align){case"right":case"end":kt="right";break;case"center":kt="center";break;default:kt="left"}var At=this.pdf.getTextDimensions(lt.text),Nt=Y.call(this,lt.y),qt=rt.call(this,Nt)-At.h,ie=this.ctx.transform.applyToPoint(new u(lt.x,Nt)),Ht=this.ctx.transform.decompose(),ce=new g;ce=(ce=(ce=ce.multiply(Ht.translate)).multiply(Ht.skew)).multiply(Ht.scale);for(var de,Se,$t,He=this.ctx.transform.applyToRectangle(new a(lt.x,Nt,At.w,At.h)),ke=ce.applyToRectangle(new a(lt.x,qt,At.w,At.h)),Jt=U.call(this,ke),Vr=[],vr=0;vr<Jt.length;vr+=1)Vr.indexOf(Jt[vr])===-1&&Vr.push(Jt[vr]);if(z(Vr),this.autoPaging)for(var Dr=Vr[0],Ie=Vr[Vr.length-1],Mr=Dr;Mr<Ie+1;Mr++){this.pdf.setPage(Mr);var ir=Mr===1?this.posY+this.margin[0]:this.margin[0],Rr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pr=this.pdf.internal.pageSize.height-this.margin[2],Ir=Pr-this.margin[0],dr=this.pdf.internal.pageSize.width-this.margin[1],ar=dr-this.margin[3],Or=Mr===1?0:Rr+(Mr-2)*Ir;if(this.ctx.clip_path.length!==0){var er=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(de,this.posX+this.margin[3],-1*Or+ir),X.call(this,"fill",!0),this.path=er}var Fr=G([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Or+ir+this.ctx.prevPageLastElemOffset)[0];lt.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*lt.scale),$t=this.lineWidth,this.lineWidth=$t*lt.scale);var Ze=this.autoPaging!=="text";if(Ze||Fr.y+Fr.h<=Pr){if(Ze||Fr.y>=ir&&Fr.x<=dr){var rr=Ze?lt.text:this.pdf.splitTextToSize(lt.text,lt.maxWidth||dr-Fr.x)[0],Me=G([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Or+ir+this.ctx.prevPageLastElemOffset)[0],jt=Ze&&(Mr>Dr||Mr<Ie)&&D.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Ir,null).clip().discardPath()),this.pdf.text(rr,Me.x,Me.y,{angle:lt.angle,align:kt,renderingMode:lt.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Fr.y<Pr&&(this.ctx.prevPageLastElemOffset+=Pr-Fr.y);lt.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=$t)}else lt.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*lt.scale),$t=this.lineWidth,this.lineWidth=$t*lt.scale),this.pdf.text(lt.text,ie.x+this.posX,ie.y+this.posY,{angle:lt.angle,align:kt,renderingMode:lt.renderingMode,maxWidth:lt.maxWidth}),lt.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=$t)},dt=function(lt,kt,At,Nt){At=At||0,Nt=Nt||0,this.pdf.internal.out(r(lt+At)+" "+n(kt+Nt)+" l")},mt=function(lt,kt,At){return this.pdf.lines(lt,kt,At,null,null)},wt=function(lt,kt,At,Nt,qt,ie,Ht,ce){this.pdf.internal.out([e(i(At+lt)),e(o(Nt+kt)),e(i(qt+lt)),e(o(ie+kt)),e(i(Ht+lt)),e(o(ce+kt)),"c"].join(" "))},pt=function(lt,kt,At,Nt){for(var qt=2*Math.PI,ie=Math.PI/2;kt>At;)kt-=qt;var Ht=Math.abs(At-kt);Ht<qt&&Nt&&(Ht=qt-Ht);for(var ce=[],de=Nt?-1:1,Se=kt;Ht>1e-5;){var $t=Se+de*Math.min(Ht,ie);ce.push(Ct.call(this,lt,Se,$t)),Ht-=Math.abs($t-Se),Se=$t}return ce},Ct=function(lt,kt,At){var Nt=(At-kt)/2,qt=lt*Math.cos(Nt),ie=lt*Math.sin(Nt),Ht=qt,ce=-ie,de=Ht*Ht+ce*ce,Se=de+Ht*qt+ce*ie,$t=4/3*(Math.sqrt(2*de*Se)-Se)/(Ht*ie-ce*qt),He=Ht-$t*ce,ke=ce+$t*Ht,Jt=He,Vr=-ke,vr=Nt+kt,Dr=Math.cos(vr),Ie=Math.sin(vr);return{x1:lt*Math.cos(kt),y1:lt*Math.sin(kt),x2:He*Dr-ke*Ie,y2:He*Ie+ke*Dr,x3:Jt*Dr-Vr*Ie,y3:Jt*Ie+Vr*Dr,x4:lt*Math.cos(At),y4:lt*Math.sin(At)}},vt=function(lt){return 180*lt/Math.PI},It=function(lt,kt,At,Nt,qt,ie){var Ht=lt+.5*(At-lt),ce=kt+.5*(Nt-kt),de=qt+.5*(At-qt),Se=ie+.5*(Nt-ie),$t=Math.min(lt,qt,Ht,de),He=Math.max(lt,qt,Ht,de),ke=Math.min(kt,ie,ce,Se),Jt=Math.max(kt,ie,ce,Se);return new a($t,ke,He-$t,Jt-ke)},Ft=function(lt,kt,At,Nt,qt,ie,Ht,ce){var de,Se,$t,He,ke,Jt,Vr,vr,Dr,Ie,Mr,ir,Rr,Pr,Ir=At-lt,dr=Nt-kt,ar=qt-At,Or=ie-Nt,er=Ht-qt,Fr=ce-ie;for(Se=0;Se<41;Se++)Dr=(Vr=($t=lt+(de=Se/40)*Ir)+de*((ke=At+de*ar)-$t))+de*(ke+de*(qt+de*er-ke)-Vr),Ie=(vr=(He=kt+de*dr)+de*((Jt=Nt+de*Or)-He))+de*(Jt+de*(ie+de*Fr-Jt)-vr),Se==0?(Mr=Dr,ir=Ie,Rr=Dr,Pr=Ie):(Mr=Math.min(Mr,Dr),ir=Math.min(ir,Ie),Rr=Math.max(Rr,Dr),Pr=Math.max(Pr,Ie));return new a(Math.round(Mr),Math.round(ir),Math.round(Rr-Mr),Math.round(Pr-ir))},Et=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var lt,kt,At=(lt=this.ctx.lineDash,kt=this.ctx.lineDashOffset,JSON.stringify({lineDash:lt,lineDashOffset:kt}));this.prevLineDash!==At&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=At)}}})(Li.API),(function(t){var e=function(u){var a,g,v,x,k,R,A,O,D,U;for(g=[],v=0,x=(u+=a="\0\0\0\0".slice(u.length%4||4)).length;x>v;v+=4)(k=(u.charCodeAt(v)<<24)+(u.charCodeAt(v+1)<<16)+(u.charCodeAt(v+2)<<8)+u.charCodeAt(v+3))!==0?(R=(k=((k=((k=((k=(k-(U=k%85))/85)-(D=k%85))/85)-(O=k%85))/85)-(A=k%85))/85)%85,g.push(R+33,A+33,O+33,D+33,U+33)):g.push(122);return(function(H,G){for(var z=G;z>0;z--)H.pop()})(g,a.length),String.fromCharCode.apply(String,g)+"~>"},r=function(u){var a,g,v,x,k,R=String,A="length",O=255,D="charCodeAt",U="slice",H="replace";for(u[U](-2),u=u[U](0,-2)[H](/\s/g,"")[H]("z","!!!!!"),v=[],x=0,k=(u+=a="uuuuu"[U](u[A]%5||5))[A];k>x;x+=5)g=52200625*(u[D](x)-33)+614125*(u[D](x+1)-33)+7225*(u[D](x+2)-33)+85*(u[D](x+3)-33)+(u[D](x+4)-33),v.push(O&g>>24,O&g>>16,O&g>>8,O&g);return(function(G,z){for(var j=z;j>0;j--)G.pop()})(v,a[A]),R.fromCharCode.apply(R,v)},n=function(u){return u.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(u){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),a.test(u)===!1)return"";for(var g="",v=0;v<u.length;v+=2)g+=String.fromCharCode("0x"+(u[v]+u[v+1]));return g},o=function(u){for(var a=new Uint8Array(u.length),g=u.length;g--;)a[g]=u.charCodeAt(g);return(a=hL(a)).reduce(function(v,x){return v+String.fromCharCode(x)},"")};t.processDataByFilters=function(u,a){var g=0,v=u||"",x=[];for(typeof(a=a||[])=="string"&&(a=[a]),g=0;g<a.length;g+=1)switch(a[g]){case"ASCII85Decode":case"/ASCII85Decode":v=r(v),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":v=e(v),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":v=i(v),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":v=n(v),x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":v=o(v),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[g]+'" is not implemented')}return{data:v,reverseChain:x.reverse().join(" ")}}})(Li.API),(function(t){t.loadFile=function(e,r,n){return(function(i,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var a=void 0;try{a=(function(g,v,x){var k=new XMLHttpRequest,R=0,A=function(O){var D=O.length,U=[],H=String.fromCharCode;for(R=0;R<D;R+=1)U.push(H(255&O.charCodeAt(R)));return U.join("")};if(k.open("GET",g,!v),k.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(k.onload=function(){k.status===200?x(A(this.responseText)):x(void 0)}),k.send(null),v&&k.status===200)return A(k.responseText)})(i,o,u)}catch{}return a})(e,r,n)},t.loadImageFile=t.loadFile})(Li.API),(function(t){function e(){return(pa.html2canvas?Promise.resolve(pa.html2canvas):pk(()=>import("./html2canvas.esm-Dmi1NfiH-CQoT0aXb.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(pa.DOMPurify?Promise.resolve(pa.DOMPurify):pk(()=>import("./purify.es-DHbHSKL1-BBCefIrm.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var g=Ws(a);return g==="undefined"?"undefined":g==="string"||a instanceof String?"string":g==="number"||a instanceof Number?"number":g==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":g==="object"?"object":"unknown"},i=function(a,g){var v=document.createElement(a);for(var x in g.className&&(v.className=g.className),g.innerHTML&&g.dompurify&&(v.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)v.style[x]=g.style[x];return v},o=function a(g,v){for(var x=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),k=g.firstChild;k;k=k.nextSibling)v!==!0&&k.nodeType===1&&k.nodeName==="SCRIPT"||x.appendChild(a(k,v));return g.nodeType===1&&(g.nodeName==="CANVAS"?(x.width=g.width,x.height=g.height,x.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(x.value=g.value),x.addEventListener("load",function(){x.scrollTop=g.scrollTop,x.scrollLeft=g.scrollLeft},!0)),x},u=function a(g){var v=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),x=a.convert(Promise.resolve(),v);return(x=x.setProgress(1,a,1,[a])).set(g)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(a,g){return a.__proto__=g||u.prototype,a},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(a,g){return this.then(function(){switch(g=g||(function(v){switch(n(v)){case"string":return"string";case"element":return v.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),g){case"string":return this.then(r).then(function(v){return this.set({src:i("div",{innerHTML:a,dompurify:v})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},u.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(g){var v=Object.assign({},this.opt.html2canvas);return delete v.onrendered,g(this.prop.container,v)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(g){var v=this.opt.jsPDF,x=this.opt.fontFaces,k=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,R=Object.assign({async:!0,allowTaint:!0,scale:k,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete R.onrendered,v.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,v.context2d.posX=this.opt.x,v.context2d.posY=this.opt.y,v.context2d.margin=this.opt.margin,v.context2d.fontFaces=x,x)for(var A=0;A<x.length;++A){var O=x[A],D=O.src.find(function(U){return U.format==="truetype"});D&&v.addFont(D.url,O.ref.name,O.ref.style)}return R.windowHeight=R.windowHeight||0,R.windowHeight=R.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):R.windowHeight,v.context2d.save(!0),g(this.prop.container,R)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(a,g,v){return(v=v||"pdf").toLowerCase()==="img"||v.toLowerCase()==="image"?this.outputImg(a,g):this.outputPdf(a,g)},u.prototype.outputPdf=function(a,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,g)})},u.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},u.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(a){if(n(a)!=="object")return this;var g=Object.keys(a||{}).map(function(v){if(v in u.template.prop)return function(){this.prop[v]=a[v]};switch(v){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[v]=a[v]}}},this);return this.then(function(){return this.thenList(g)})},u.prototype.get=function(a,g){return this.then(function(){var v=a in u.template.prop?this.prop[a]:this.opt[a];return g?g(v):v})},u.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},u.prototype.setPageSize=function(a){function g(v,x){return Math.floor(v*x/72*96)}return this.then(function(){(a=a||Li.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:g(a.inner.width,a.k),height:g(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},u.prototype.setProgress=function(a,g,v,x){return a!=null&&(this.progress.val=a),g!=null&&(this.progress.state=g),v!=null&&(this.progress.n=v),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(a,g,v,x){return this.setProgress(a?this.progress.val+a:null,g||null,v?this.progress.n+v:null,x?this.progress.stack.concat(x):null)},u.prototype.then=function(a,g){var v=this;return this.thenCore(a,g,function(x,k){return v.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(R){return v.updateProgress(null,x),R}).then(x,k).then(function(R){return v.updateProgress(1),R})})},u.prototype.thenCore=function(a,g,v){v=v||Promise.prototype.then;var x=this;a&&(a=a.bind(x)),g&&(g=g.bind(x));var k=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?x:u.convert(Object.assign({},x),Promise.prototype),R=v.call(k,a,g);return u.convert(R,x.__proto__)},u.prototype.thenExternal=function(a,g){return Promise.prototype.then.call(this,a,g)},u.prototype.thenList=function(a){var g=this;return a.forEach(function(v){g=g.thenCore(v)}),g},u.prototype.catch=function(a){a&&(a=a.bind(this));var g=Promise.prototype.catch.call(this,a);return u.convert(g,this)},u.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},u.prototype.error=function(a){return this.then(function(){throw new Error(a)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Li.getPageSize=function(a,g,v){if(Ws(a)==="object"){var x=a;a=x.orientation,g=x.unit||g,v=x.format||v}g=g||"mm",v=v||"a4",a=(""+(a||"P")).toLowerCase();var k,R=(""+v).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=.75;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+g}var O,D=0,U=0;if(A.hasOwnProperty(R))D=A[R][1]/k,U=A[R][0]/k;else try{D=v[1],U=v[0]}catch{throw new Error("Invalid format: "+v)}if(a==="p"||a==="portrait")a="p",U>D&&(O=U,U=D,D=O);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",D>U&&(O=U,U=D,D=O)}return{width:U,height:D,unit:g,k,orientation:a}},t.html=function(a,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(Yk):null;var v=new u(g);return g.worker?v:v.from(a).doCallback()}})(Li.API),Li.API.addJS=function(t){return rz=t,this.internal.events.subscribe("postPutResources",function(){w5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(w5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ez=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rz+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){w5!==void 0&&ez!==void 0&&this.internal.out("/Names <</JavaScript "+w5+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var u=i[o],a=n.exec(u);if(a!=null){var g=a[1];r.internal.newObjectDeferredBegin(g,!1)}r.internal.write(u)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,x=[];for(o=0;o<v;o++){var k=r.internal.newObject();x.push(k);var R=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+R.objId+" 0 R /XYZ null null null]>> endobj")}var A=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<x.length;o++)r.internal.write("(page_"+(o+1)+")"+x[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+A+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,o){var u={title:i,options:o,children:[]};return n==null&&(n=this.root),n.children.push(u),u},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var u=n.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var a=this.count=this.count_r({count:0},u);if(a>0&&this.line("/Count "+a),u.options&&u.options.pageNumber){var g=r.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var v=0;v<n.children.length;v++)this.renderItems(n.children[v])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var o=0;o<i.children.length;o++)n.count++,this.count_r(n,i.children[o]);return n.count}}])})(Li.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,o,u,a){var g,v=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=u||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,g=(function(k){for(var R,A=256*k.charCodeAt(4)+k.charCodeAt(5),O=k.length,D={width:0,height:0,numcomponents:1},U=4;U<O;U+=2){if(U+=A,e.indexOf(k.charCodeAt(U+1))!==-1){R=256*k.charCodeAt(U+5)+k.charCodeAt(U+6),D={width:256*k.charCodeAt(U+7)+k.charCodeAt(U+8),height:R,numcomponents:k.charCodeAt(U+9)};break}A=256*k.charCodeAt(U+2)+k.charCodeAt(U+3)}return D})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),g.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}x={data:r,width:g.width,height:g.height,colorSpace:a,bitsPerComponent:8,filter:v,index:n,alias:i}}return x}})(Li.API),Li.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=Bht(t,{checkCrc:!0}),u=o.width,a=o.height,g=o.channels,v=o.palette,x=o.depth;i=v&&g===1?(function(rt){for(var st=rt.width,it=rt.height,bt=rt.data,at=rt.palette,$=rt.depth,dt=!1,mt=[],wt=[],pt=void 0,Ct=!1,vt=0,It=0;It<at.length;It++){var Ft=oB(at[It],4),Et=Ft[0],lt=Ft[1],kt=Ft[2],At=Ft[3];mt.push(Et,lt,kt),At!=null&&(At===0?(vt++,wt.length<1&&wt.push(It)):At<255&&(Ct=!0))}if(Ct||vt>1){dt=!0,wt=void 0;var Nt=st*it;pt=new Uint8Array(Nt);for(var qt=new DataView(bt.buffer),ie=0;ie<Nt;ie++){var Ht=Kk(qt,ie,$),ce=oB(at[Ht],4)[3];pt[ie]=ce}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:bt,alphaBytes:pt,needSMask:dt,palette:mt,mask:wt}})(o):g===2||g===4?(function(rt){for(var st=rt.data,it=rt.width,bt=rt.height,at=rt.channels,$=rt.depth,dt=at===2?"DeviceGray":"DeviceRGB",mt=at-1,wt=it*bt,pt=mt,Ct=wt*pt,vt=1*wt,It=Math.ceil(Ct*$/8),Ft=Math.ceil(vt*$/8),Et=new Uint8Array(It),lt=new Uint8Array(Ft),kt=new DataView(st.buffer),At=new DataView(Et.buffer),Nt=new DataView(lt.buffer),qt=!1,ie=0;ie<wt;ie++){for(var Ht=ie*at,ce=0;ce<pt;ce++)dz(At,Kk(kt,Ht+ce,$),ie*pt+ce,$);var de=Kk(kt,Ht+pt,$);de<(1<<$)-1&&(qt=!0),dz(Nt,de,1*ie,$)}return{colorSpace:dt,colorsPerPixel:mt,colorBytes:Et,alphaBytes:lt,needSMask:qt}})(o):(function(rt){var st=rt.data,it=rt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:it,colorsPerPixel:it==="DeviceGray"?1:3,colorBytes:st instanceof Uint8Array?st:new Uint8Array(st.buffer),needSMask:!1}})(o);var k,R,A,O=i,D=O.colorSpace,U=O.colorsPerPixel,H=O.colorBytes,G=O.alphaBytes,z=O.needSMask,j=O.palette,X=O.mask,Y=null;return n!==Li.API.image_compression.NONE&&typeof hL=="function"?(Y=(function(rt){var st;switch(rt){case Li.API.image_compression.FAST:st=11;break;case Li.API.image_compression.MEDIUM:st=13;break;case Li.API.image_compression.SLOW:st=14;break;default:st=12}return st})(n),k=this.decode.FLATE_DECODE,R="/Predictor ".concat(Y," "),t=sz(H,u*U,U,n),z&&(A=sz(G,u,1,n))):(k=void 0,R="",t=H,z&&(A=G)),R+="/Colors ".concat(U," /BitsPerComponent ").concat(x," /Columns ").concat(u),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:r,data:t,index:e,filter:k,decodeParameters:R,transparency:X,palette:j,sMask:A,predictor:Y,width:u,height:a,bitsPerComponent:x,colorSpace:D}}},(function(t){t.processGIF89A=function(e,r,n,i){var o=new idt(e),u=o.width,a=o.height,g=[];o.decodeAndBlitFrameRGBA(0,g);var v={data:g,width:u,height:a},x=new Zk(100).encode(v,100);return t.processJPEG.call(this,x,r,n,i)},t.processGIF87A=t.processGIF89A})(Li.API),lp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lp.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){hl.log("bit decode error:"+r)}},lp.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var g=this.palette[o>>7-a&1];this.data[u+4*a]=g.blue,this.data[u+4*a+1]=g.green,this.data[u+4*a+2]=g.red,this.data[u+4*a+3]=255}r!==0&&(this.pos+=4-r)}},lp.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*i*4,a=o>>4,g=15&o,v=this.palette[a];if(this.data[u]=v.blue,this.data[u+1]=v.green,this.data[u+2]=v.red,this.data[u+3]=255,2*i+1>=this.width)break;v=this.palette[g],this.data[u+4]=v.blue,this.data[u+4+1]=v.green,this.data[u+4+2]=v.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},lp.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(i<this.palette.length){var u=this.palette[i];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},lp.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,g=(o>>10&e)/e*255|0,v=o>>15?255:0,x=n*this.width*4+4*i;this.data[x]=g,this.data[x+1]=a,this.data[x+2]=u,this.data[x+3]=v}this.pos+=t}},lp.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(u&e)/e*255|0,g=(u>>5&r)/r*255|0,v=(u>>11)/e*255|0,x=i*this.width*4+4*o;this.data[x]=v,this.data[x+1]=g,this.data[x+2]=a,this.data[x+3]=255}this.pos+=t}},lp.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},lp.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=u}},lp.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var o=new lp(e,!1),u=o.width,a=o.height,g={data:o.getData(),width:u,height:a},v=new Zk(100).encode(g,100);return t.processJPEG.call(this,v,r,n,i)}})(Li.API),pz.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var o=new pz(e),u=o.width,a=o.height,g={data:o.getData(),width:u,height:a},v=new Zk(100).encode(g,100);return t.processJPEG.call(this,v,r,n,i)}})(Li.API),Li.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,o=new Uint8Array(i/4*3),u=new Uint8Array(i/4),a=0,g=0,v=0;v<i;v+=4){var x=n[v],k=n[v+1],R=n[v+2],A=n[v+3];o[a++]=x,o[a++]=k,o[a++]=R,u[g++]=A}var O=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:O,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Li.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_b=Li.API,S5=_b.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,g=a.fof?a.fof:1,v=e.kerning?e.kerning:i.metadata.Unicode.kerning,x=v.fof?v.fof:1,k=e.doKerning!==!1,R=0,A=t.length,O=0,D=a[0]||g,U=[];for(r=0;r<A;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?U.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+u*(1e3/o)||0)/1e3):(R=k&&Ws(v[n])==="object"&&!isNaN(parseInt(v[n][O],10))?v[n][O]/x:0,U.push((a[n]||D)/g+R)),O=n;return U},nz=_b.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return _b.processArabic&&(t=_b.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:S5.apply(this,arguments).reduce(function(o,u){return o+u},0)},iz=function(t,e,r,n){for(var i=[],o=0,u=t.length,a=0;o!==u&&a+e[o]<r;)a+=e[o],o++;i.push(t.slice(0,o));var g=o;for(a=0;o!==u;)a+e[o]>n&&(i.push(t.slice(g,o)),a=0,g=o),a+=e[o],o++;return g!==o&&i.push(t.slice(g,o)),i},az=function(t,e,r){r||(r={});var n,i,o,u,a,g,v,x=[],k=[x],R=r.textIndent||0,A=0,O=0,D=t.split(" "),U=S5.apply(this,[" ",r])[0];if(g=r.lineIndent===-1?D[0].length+2:r.lineIndent||0){var H=Array(g).join(" "),G=[];D.map(function(j){(j=j.split(/\s*\n/)).length>1?G=G.concat(j.map(function(X,Y){return(Y&&X.length?`
`:"")+X})):G.push(j[0])}),D=G,g=nz.apply(this,[H,r])}for(o=0,u=D.length;o<u;o++){var z=0;if(n=D[o],g&&n[0]==`
`&&(n=n.substr(1),z=1),R+A+(O=(i=S5.apply(this,[n,r])).reduce(function(j,X){return j+X},0))>e||z){if(O>e){for(a=iz.apply(this,[n,i,e-(R+A),e]),x.push(a.shift()),x=[a.pop()];a.length;)k.push([a.shift()]);O=i.slice(n.length-(x[0]?x[0].length:0)).reduce(function(j,X){return j+X},0)}else x=[n];k.push(x),R=O+g,A=U}else x.push(n),R+=A+O,A=U}return v=g?function(j,X){return(X?H:"")+j.join(" ")}:function(j){return j.join(" ")},k.map(v)},_b.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var k=this.internal.getFont(x.fontName,x.fontStyle),R="Unicode";return k.metadata[R]?{widths:k.metadata[R].widths||{0:1},kerning:k.metadata[R].kerning||{}}:{font:k.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var a,g,v=[];for(a=0,g=n.length;a<g;a++)v=v.concat(az.apply(this,[n[a],u,o]));return v},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},o=0;o<16;o++)n[r[o]]=e[o],i[e[o]]=r[o];var u=function(R){return"0x"+parseInt(R,10).toString(16)},a=t.__fontmetrics__.compress=function(R){var A,O,D,U,H=["{"];for(var G in R){if(A=R[G],isNaN(parseInt(G,10))?O="'"+G+"'":(G=parseInt(G,10),O=(O=u(G).slice(2)).slice(0,-1)+i[O.slice(-1)]),typeof A=="number")A<0?(D=u(A).slice(3),U="-"):(D=u(A).slice(2),U=""),D=U+D.slice(0,-1)+i[D.slice(-1)];else{if(Ws(A)!=="object")throw new Error("Don't know what to do with value type "+Ws(A)+".");D=a(A)}H.push(O+D)}return H.push("}"),H.join("")},g=t.__fontmetrics__.uncompress=function(R){if(typeof R!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,O,D,U,H={},G=1,z=H,j=[],X="",Y="",rt=R.length-1,st=1;st<rt;st+=1)(U=R[st])=="'"?A?(D=A.join(""),A=void 0):A=[]:A?A.push(U):U=="{"?(j.push([z,D]),z={},D=void 0):U=="}"?((O=j.pop())[0][O[1]]=z,D=void 0,z=O[0]):U=="-"?G=-1:D===void 0?n.hasOwnProperty(U)?(X+=n[U],D=parseInt(X,16)*G,G=1,X=""):X+=U:n.hasOwnProperty(U)?(Y+=n[U],z[D]=parseInt(Y,16)*G,G=1,D=void 0,Y=""):Y+=U;return H},v={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:v,"Courier-Bold":v,"Courier-BoldOblique":v,"Courier-Oblique":v,Helvetica:v,"Helvetica-Bold":v,"Helvetica-BoldOblique":v,"Helvetica-Oblique":v,"Times-Roman":v,"Times-Bold":v,"Times-BoldItalic":v,"Times-Italic":v}},k={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(R){var A=R.font,O=k.Unicode[A.postScriptName];O&&(A.metadata.Unicode={},A.metadata.Unicode.widths=O.widths,A.metadata.Unicode.kerning=O.kerning);var D=x.Unicode[A.postScriptName];D&&(A.metadata.Unicode.encoding=D,A.encoding=D.codePages[0])}])})(Li.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(u,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(dE(a)),u.metadata=t.API.TTFFont.open(a),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(i,n)}}])})(Li),Li.API.addSvgAsImage=function(t,e,r,n,i,o,u,a){if(isNaN(e)||isNaN(r))throw hl.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw hl.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=n,g.height=i;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return(pa.canvg?Promise.resolve(pa.canvg):pk(()=>import("./index.es-DCi_q8cH-Cra_lDPp.js"),[])).catch(function(R){return Promise.reject(new Error("Could not load canvg: "+R))}).then(function(R){return R.default?R.default:R}).then(function(R){return R.fromString(v,t,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(x)}).then(function(){k.addImage(g.toDataURL("image/jpeg",1),e,r,n,i,u,a)})},Li.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Li.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(u),g=[],v=0,x=0,k=0;function R(O,D){var U,H=!1;for(U=0;U<O.length;U+=1)O[U]===D&&(H=!0);return H}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=a.length;for(k=0;k<A;k+=1)r[a[k]].value=r[a[k]].defaultValue,r[a[k]].explicitSet=!1}if(Ws(t)==="object"){for(i in t)if(o=t[i],R(a,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&R(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(v=0;v<o.length;v+=1)if(n=!0,o[v].length===1&&typeof o[v][0]=="number")g.push(String(o[v]-1));else if(o[v].length>1){for(x=0;x<o[v].length;x+=1)typeof o[v][x]!="number"&&(n=!1);n===!0&&g.push([o[v][0]-1,o[v][1]-1].join(" "))}r[i].value="["+g.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,D=[];for(O in r)r[O].explicitSet===!0&&(r[O].type==="name"?D.push("/"+O+" /"+r[O].value):D.push("/"+O+" "+r[O].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),v=o.length+u.length+a.length+i.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(i+o+u+a+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Li.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,u){for(var a,g=u.metadata.Unicode.widths,v=["","0","00","000","0000"],x=[""],k=0,R=o.length;k<R;++k){if(a=u.metadata.characterToGlyph(o.charCodeAt(k)),u.metadata.glyIdsUsed.push(a),u.metadata.toUnicode[a]=o.charCodeAt(k),g.indexOf(a)==-1&&(g.push(a),g.push([parseInt(u.metadata.widthOfGlyph(a),10)])),a=="0")return x.join("");a=a.toString(16),x.push(v[4-a.length],a)}return x.join("")},n=function(o){var u,a,g,v,x,k,R;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],k=0,R=(a=Object.keys(o).sort(function(A,O){return A-O})).length;k<R;k++)u=a[k],g.length>=100&&(x+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(v=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),g.push("<"+u+"><"+v+">"));return g.length&&(x+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),x+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var a=u.font,g=u.out,v=u.newObject,x=u.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var k=a.metadata.Unicode.widths,R=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),A="",O=0;O<R.length;O++)A+=String.fromCharCode(R[O]);var D=v();x({data:A,addLength1:!0,objectId:D}),g("endobj");var U=v();x({data:n(a.metadata.toUnicode),addLength1:!0,objectId:U}),g("endobj");var H=v();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+Fb(a.fontName)),g("/FontFile2 "+D+" 0 R"),g("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),g("/Flags "+a.metadata.flags),g("/StemV "+a.metadata.stemV),g("/ItalicAngle "+a.metadata.italicAngle),g("/Ascent "+a.metadata.ascender),g("/Descent "+a.metadata.decender),g("/CapHeight "+a.metadata.capHeight),g(">>"),g("endobj");var G=v();g("<<"),g("/Type /Font"),g("/BaseFont /"+Fb(a.fontName)),g("/FontDescriptor "+H+" 0 R"),g("/W "+t.API.PDFObject.convert(k)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+a.encoding+")"),g(">>"),g(">>"),g("endobj"),a.objectNumber=v(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+U+" 0 R"),g("/BaseFont /"+Fb(a.fontName)),g("/Encoding /"+a.encoding),g("/DescendantFonts ["+G+" 0 R]"),g(">>"),g("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var a=u.font,g=u.out,v=u.newObject,x=u.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var k=a.metadata.rawData,R="",A=0;A<k.length;A++)R+=String.fromCharCode(k[A]);var O=v();x({data:R,addLength1:!0,objectId:O}),g("endobj");var D=v();x({data:n(a.metadata.toUnicode),addLength1:!0,objectId:D}),g("endobj");var U=v();g("<<"),g("/Descent "+a.metadata.decender),g("/CapHeight "+a.metadata.capHeight),g("/StemV "+a.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+O+" 0 R"),g("/Flags 96"),g("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),g("/FontName /"+Fb(a.fontName)),g("/ItalicAngle "+a.metadata.italicAngle),g("/Ascent "+a.metadata.ascender),g(">>"),g("endobj"),a.objectNumber=v();for(var H=0;H<a.metadata.hmtx.widths.length;H++)a.metadata.hmtx.widths[H]=parseInt(a.metadata.hmtx.widths[H]*(1e3/a.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+Fb(a.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),g("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var u,a=o.text||"",g=o.x,v=o.y,x=o.options||{},k=o.mutex||{},R=k.pdfEscape,A=k.activeFontKey,O=k.fonts,D=A,U="",H=0,G="",z=O[D].encoding;if(O[D].encoding!=="Identity-H")return{text:a,x:g,y:v,options:x,mutex:k};for(G=a,D=A,Array.isArray(a)&&(G=a[0]),H=0;H<G.length;H+=1)O[D].metadata.hasOwnProperty("cmap")&&(u=O[D].metadata.cmap.unicode.codeMap[G[H].charCodeAt(0)]),u||G[H].charCodeAt(0)<256&&O[D].metadata.hasOwnProperty("Unicode")?U+=G[H]:U+="";var j="";return parseInt(D.slice(1))<14||z==="WinAnsiEncoding"?j=R(U,D).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&(j=r(U,O[D])),k.isHex=!0,{text:j,x:g,y:v,options:x,mutex:k}};e.events.push(["postProcessText",function(o){var u=o.text||"",a=[],g={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var v=0;for(v=0;v<u.length;v+=1)Array.isArray(u[v])&&u[v].length===3?a.push([i(Object.assign({},g,{text:u[v][0]})).text,u[v][1],u[v][2]]):a.push(i(Object.assign({},g,{text:u[v]})).text);o.text=a}else o.text=i(Object.assign({},g,{text:u})).text}])})(Li),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Li.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,o,u,a,g,v,x,k=e,R=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],H=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,z=0;this.__bidiEngine__={};var j=function(at){var $=at.charCodeAt(),dt=$>>8,mt=D[dt];return mt!==void 0?k[256*mt+(255&$)]:dt===252||dt===253?"AL":H.test(dt)?"L":dt===8?"R":"N"},X=function(at){for(var $,dt=0;dt<at.length;dt++){if(($=j(at.charAt(dt)))==="L")return!1;if($==="R")return!0}return!1},Y=function(at,$,dt,mt){var wt,pt,Ct,vt,It=$[mt];switch(It){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(It="AN");break;case"AL":G=!0,It="R";break;case"WS":case"BN":It="N";break;case"CS":mt<1||mt+1>=$.length||(wt=dt[mt-1])!=="EN"&&wt!=="AN"||(pt=$[mt+1])!=="EN"&&pt!=="AN"?It="N":G&&(pt="AN"),It=pt===wt?pt:"N";break;case"ES":It=(wt=mt>0?dt[mt-1]:"B")==="EN"&&mt+1<$.length&&$[mt+1]==="EN"?"EN":"N";break;case"ET":if(mt>0&&dt[mt-1]==="EN"){It="EN";break}if(G){It="N";break}for(Ct=mt+1,vt=$.length;Ct<vt&&$[Ct]==="ET";)Ct++;It=Ct<vt&&$[Ct]==="EN"?"EN":"N";break;case"NSM":if(u&&!a){for(vt=$.length,Ct=mt+1;Ct<vt&&$[Ct]==="NSM";)Ct++;if(Ct<vt){var Ft=at[mt],Et=Ft>=1425&&Ft<=2303||Ft===64286;if(wt=$[Ct],Et&&(wt==="R"||wt==="AL")){It="R";break}}}It=mt<1||(wt=$[mt-1])==="B"?"N":dt[mt-1];break;case"B":G=!1,i=!0,It=z;break;case"S":o=!0,It="N"}return It},rt=function(at,$,dt){var mt=at.split("");return dt&&st(mt,dt,{hiLevel:z}),mt.reverse(),$&&$.reverse(),mt.join("")},st=function(at,$,dt){var mt,wt,pt,Ct,vt,It=-1,Ft=at.length,Et=0,lt=[],kt=z?A:R,At=[];for(G=!1,i=!1,o=!1,wt=0;wt<Ft;wt++)At[wt]=j(at[wt]);for(pt=0;pt<Ft;pt++){if(vt=Et,lt[pt]=Y(at,At,lt,pt),mt=240&(Et=kt[vt][O[lt[pt]]]),Et&=15,$[pt]=Ct=kt[Et][5],mt>0)if(mt===16){for(wt=It;wt<pt;wt++)$[wt]=1;It=-1}else It=-1;if(kt[Et][6])It===-1&&(It=pt);else if(It>-1){for(wt=It;wt<pt;wt++)$[wt]=Ct;It=-1}At[pt]==="B"&&($[pt]=0),dt.hiLevel|=Ct}o&&(function(Nt,qt,ie){for(var Ht=0;Ht<ie;Ht++)if(Nt[Ht]==="S"){qt[Ht]=z;for(var ce=Ht-1;ce>=0&&Nt[ce]==="WS";ce--)qt[ce]=z}})(At,$,Ft)},it=function(at,$,dt,mt,wt){if(!(wt.hiLevel<at)){if(at===1&&z===1&&!i)return $.reverse(),void(dt&&dt.reverse());for(var pt,Ct,vt,It,Ft=$.length,Et=0;Et<Ft;){if(mt[Et]>=at){for(vt=Et+1;vt<Ft&&mt[vt]>=at;)vt++;for(It=Et,Ct=vt-1;It<Ct;It++,Ct--)pt=$[It],$[It]=$[Ct],$[Ct]=pt,dt&&(pt=dt[It],dt[It]=dt[Ct],dt[Ct]=pt);Et=vt}Et++}}},bt=function(at,$,dt){var mt=at.split(""),wt={hiLevel:z};return dt||(dt=[]),st(mt,dt,wt),(function(pt,Ct,vt){if(vt.hiLevel!==0&&x)for(var It,Ft=0;Ft<pt.length;Ft++)Ct[Ft]===1&&(It=U.indexOf(pt[Ft]))>=0&&(pt[Ft]=U[It+1])})(mt,dt,wt),it(2,mt,$,dt,wt),it(1,mt,$,dt,wt),mt.join("")};return this.__bidiEngine__.doBidiReorder=function(at,$,dt){if((function(wt,pt){if(pt)for(var Ct=0;Ct<wt.length;Ct++)pt[Ct]=Ct;a===void 0&&(a=X(wt)),v===void 0&&(v=X(wt))})(at,$),u||!g||v)if(u&&g&&a^v)z=a?1:0,at=rt(at,$,dt);else if(!u&&g&&v)z=a?1:0,at=bt(at,$,dt),at=rt(at,$);else if(!u||a||g||v){if(u&&!g&&a^v)at=rt(at,$),a?(z=0,at=bt(at,$,dt)):(z=1,at=bt(at,$,dt),at=rt(at,$));else if(u&&a&&!g&&v)z=1,at=bt(at,$,dt),at=rt(at,$);else if(!u&&!g&&a^v){var mt=x;a?(z=1,at=bt(at,$,dt),z=0,x=!1,at=bt(at,$,dt),x=mt):(z=0,at=bt(at,$,dt),at=rt(at,$),z=1,x=!1,at=bt(at,$,dt),x=mt,at=rt(at,$))}}else z=0,at=bt(at,$,dt);else z=a?1:0,at=bt(at,$,dt);return at},this.__bidiEngine__.setOptions=function(at){at&&(u=at.isInputVisual,g=at.isOutputVisual,a=at.isInputRtl,v=at.isOutputRtl,x=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(u=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?u.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):u.push([r.doBidiReorder(i[a])]);n.text=u}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Li),Li.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new _y(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new bdt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new adt(this.contents),this.head=new sdt(this),this.name=new ddt(this),this.cmap=new EG(this),this.toUnicode={},this.hhea=new ldt(this),this.maxp=new fdt(this),this.hmtx=new pdt(this),this.post=new cdt(this),this.os2=new udt(this),this.loca=new vdt(this),this.glyf=new mdt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,a,g,v;for(v=[],u=0,a=(g=this.bbox).length;u<a;u++)e=g[u],v.push(Math.round(e*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,o,u,a;for(u=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return u*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var kp,_y=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,o,u,a,g;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),u=this.readByte(),a=this.readByte(),g=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^u)+256*(255^a)+(255^g)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*o+65536*u+256*a+g},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)r=e[n],o.push(this.writeByte(r));return o},t})(),adt=(function(){var t;function e(r){var n,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,o,u,a,g,v,x,k,R,A,O,D;for(D in A=Object.keys(r).length,g=Math.log(2),k=16*Math.floor(Math.log(A)/g),u=Math.floor(k/g),x=16*A-k,(i=new _y).writeInt(this.scalarType),i.writeShort(A),i.writeShort(k),i.writeShort(u),i.writeShort(x),o=16*A,v=i.pos+o,a=null,O=[],r)for(R=r[D],i.writeString(D),i.writeInt(t(R)),i.writeInt(v),i.writeInt(R.length),O=O.concat(R),D==="head"&&(a=v),v+=R.length;v%4;)O.push(0),v++;return i.write(O),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,o,u;for(r=TG.call(r);r.length%4;)r.push(0);for(o=new _y(r),i=0,n=0,u=r.length;n<u;n=n+=4)i+=o.readUInt32();return 4294967295&i},e})(),odt={}.hasOwnProperty,Fm=function(t,e){for(var r in e)odt.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};kp=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var sdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new _y).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),mz=(function(){function t(e,r){var n,i,o,u,a,g,v,x,k,R,A,O,D,U,H,G,z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),k=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=e.readByte();break;case 4:for(A=e.readUInt16(),R=A/2,e.pos+=6,o=(function(){var j,X;for(X=[],g=j=0;0<=R?j<R:j>R;g=0<=R?++j:--j)X.push(e.readUInt16());return X})(),e.pos+=2,D=(function(){var j,X;for(X=[],g=j=0;0<=R?j<R:j>R;g=0<=R?++j:--j)X.push(e.readUInt16());return X})(),v=(function(){var j,X;for(X=[],g=j=0;0<=R?j<R:j>R;g=0<=R?++j:--j)X.push(e.readUInt16());return X})(),x=(function(){var j,X;for(X=[],g=j=0;0<=R?j<R:j>R;g=0<=R?++j:--j)X.push(e.readUInt16());return X})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var j,X;for(X=[],g=j=0;0<=i?j<i:j>i;g=0<=i?++j:--j)X.push(e.readUInt16());return X})(),g=H=0,z=o.length;H<z;g=++H)for(U=o[g],n=G=O=D[g];O<=U?G<=U:G>=U;n=O<=U?++G:--G)x[g]===0?u=n+v[g]:(u=a[x[g]/2+(n-O)-(R-g)]||0)!==0&&(u+=v[g]),this.codeMap[n]=65535&u}e.pos=k}return t.encode=function(e,r){var n,i,o,u,a,g,v,x,k,R,A,O,D,U,H,G,z,j,X,Y,rt,st,it,bt,at,$,dt,mt,wt,pt,Ct,vt,It,Ft,Et,lt,kt,At,Nt,qt,ie,Ht,ce,de,Se,$t;switch(mt=new _y,u=Object.keys(e).sort(function(He,ke){return He-ke}),r){case"macroman":for(D=0,U=(function(){var He=[];for(O=0;O<256;++O)He.push(0);return He})(),G={0:0},o={},wt=0,It=u.length;wt<It;wt++)G[ce=e[i=u[wt]]]==null&&(G[ce]=++D),o[i]={old:e[i],new:G[e[i]]},U[i]=G[e[i]];return mt.writeUInt16(1),mt.writeUInt16(0),mt.writeUInt32(12),mt.writeUInt16(0),mt.writeUInt16(262),mt.writeUInt16(0),mt.write(U),{charMap:o,subtable:mt.data,maxGlyphID:D+1};case"unicode":for($=[],k=[],z=0,G={},n={},H=v=null,pt=0,Ft=u.length;pt<Ft;pt++)G[X=e[i=u[pt]]]==null&&(G[X]=++z),n[i]={old:X,new:G[X]},a=G[X]-i,H!=null&&a===v||(H&&k.push(H),$.push(i),v=a),H=i;for(H&&k.push(H),k.push(65535),$.push(65535),bt=2*(it=$.length),st=2*Math.pow(Math.log(it)/Math.LN2,2),R=Math.log(st/2)/Math.LN2,rt=2*it-st,g=[],Y=[],A=[],O=Ct=0,Et=$.length;Ct<Et;O=++Ct){if(at=$[O],x=k[O],at===65535){g.push(0),Y.push(0);break}if(at-(dt=n[at].new)>=32768)for(g.push(0),Y.push(2*(A.length+it-O)),i=vt=at;at<=x?vt<=x:vt>=x;i=at<=x?++vt:--vt)A.push(n[i].new);else g.push(dt-at),Y.push(0)}for(mt.writeUInt16(3),mt.writeUInt16(1),mt.writeUInt32(12),mt.writeUInt16(4),mt.writeUInt16(16+8*it+2*A.length),mt.writeUInt16(0),mt.writeUInt16(bt),mt.writeUInt16(st),mt.writeUInt16(R),mt.writeUInt16(rt),ie=0,lt=k.length;ie<lt;ie++)i=k[ie],mt.writeUInt16(i);for(mt.writeUInt16(0),Ht=0,kt=$.length;Ht<kt;Ht++)i=$[Ht],mt.writeUInt16(i);for(de=0,At=g.length;de<At;de++)a=g[de],mt.writeUInt16(a);for(Se=0,Nt=Y.length;Se<Nt;Se++)j=Y[Se],mt.writeUInt16(j);for($t=0,qt=A.length;$t<qt;$t++)D=A[$t],mt.writeUInt16(D);return{charMap:n,subtable:mt.data,maxGlyphID:z+1}}},t})(),EG=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new mz(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=mz.encode(e,r),(i=new _y).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),ldt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),udt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),cdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var u,a,g;for(g=[],o=u=0,a=this.file.maxp.numGlyphs;0<=a?u<a:u>a;o=0<=a?++u:--u)g.push(e.readUInt32());return g}).call(this)}},t})(),hdt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ddt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,o,u,a,g,v,x,k,R;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(g={},o=x=0,k=n.length;x<k;o=++x)i=n[o],e.pos=i.offset,v=e.readString(i.length),u=new hdt(v,i),g[R=i.nameID]==null&&(g[R]=[]),g[i.nameID].push(u);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},t})(),fdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),pdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,o,u,a,g;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var v,x;for(x=[],r=v=0;0<=i?v<i:v>i;r=0<=i?++v:--v)x.push(e.readInt16());return x})(),this.widths=(function(){var v,x,k,R;for(R=[],v=0,x=(k=this.metrics).length;v<x;v++)o=k[v],R.push(o.advance);return R}).call(this),n=this.widths[this.widths.length-1],g=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)g.push(this.widths.push(n));return g},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),TG=[].slice,mdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,o,u,a,g,v,x,k;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,u=(a=new _y(r.read(i))).readShort(),v=a.readShort(),k=a.readShort(),g=a.readShort(),x=a.readShort(),this.cache[e]=u===-1?new ydt(a,v,k,g,x):new gdt(a,u,v,k,g,x),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,o,u,a,g;for(u=[],o=[],a=0,g=r.length;a<g;a++)i=e[r[a]],o.push(u.length),i&&(u=u.concat(i.encode(n)));return o.push(u.length),{table:u,offsets:o}},t})(),gdt=(function(){function t(e,r,n,i,o,u){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),ydt=(function(){function t(e,r,n,i,o){var u,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;a=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&a;)u.pos+=1&a?4:2,128&a?u.pos+=8:64&a?u.pos+=4:8&a&&(u.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new _y(TG.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),vdt=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fm(t,kp),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,u=0;u<n.length;++u)if(n[u]=i,o<r.length&&r[o]==u){++o,n[u]=i;var a=this.offsets[u],g=this.offsets[u+1]-a;g>0&&(i+=g)}for(var v=new Array(4*n.length),x=0;x<n.length;++x)v[4*x+3]=255&n[x],v[4*x+2]=(65280&n[x])>>8,v[4*x+1]=(16711680&n[x])>>16,v[4*x]=(4278190080&n[x])>>24;return v},t})(),bdt=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,o;for(r in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,o,u,a,g;for(i={},u=0,a=e.length;u<a;u++)i[o=e[u]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(n=i[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in g=this.glyphsFor(r))n=g[o],i[o]=n;return i},t.prototype.encode=function(e,r){var n,i,o,u,a,g,v,x,k,R,A,O,D,U,H;for(i in n=EG.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),A={0:0},H=n.charMap)A[(g=H[i]).old]=g.new;for(O in R=n.maxGlyphID,u)O in A||(A[O]=R++);return x=(function(G){var z,j;for(z in j={},G)j[G[z]]=z;return j})(A),k=Object.keys(x).sort(function(G,z){return G-z}),D=(function(){var G,z,j;for(j=[],G=0,z=k.length;G<z;G++)a=k[G],j.push(x[a]);return j})(),o=this.font.glyf.encode(u,D,A),v=this.font.loca.encode(o.offsets,D),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},t})();Li.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,o,u;if(Array.isArray(r))return"["+(function(){var a,g,v;for(v=[],a=0,g=r.length;a<g;a++)n=r[a],v.push(e.convert(n));return v})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)u=r[i],o.push("/"+i+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+r},e})();we.createContext({});function I4(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function CG(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function AG(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function R4(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function _dt(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function xdt(t,e){var r=R4("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function bL(t){return t.replace(/_/g,".")}function p2(t,e){var r=null,n="-1";return I4(t,function(i){var o=R4("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||i.brand?!1:(r=i,n=o[3]||"-1",i.versionAlias?n=i.versionAlias:i.versionTest&&(n=xdt(i.versionTest.toLowerCase(),e)||n),n=bL(n),!0)}),{preset:r,version:n}}function E5(t,e){var r={brand:"",version:"-1"};return I4(t,function(n){var i=kG(e,n);return i?(r.brand=n.id,r.version=n.versionAlias||i.version,r.version!=="-1"):!1}),r}function kG(t,e){return CG(t,function(r){var n=r.brand;return R4(""+e.test,n.toLowerCase())})}var IG=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],RG=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],_L=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],NG=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],LG=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function MG(t){return!!p2(NG,t).preset}function wdt(t){var e=AG(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:MG(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=p2(IG,e),u=o.preset,a=o.version,g=p2(LG,e),v=g.preset,x=g.version,k=p2(RG,e);if(n.chromium=!!k.preset,n.chromiumVersion=k.version,!n.chromium){var R=p2(_L,e);n.webkit=!!R.preset,n.webkitVersion=R.version}return v&&(i.name=v.id,i.version=x,i.majorVersion=parseInt(x,10)),u&&(n.name=u.id,n.version=a,n.webview&&i.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}function Sdt(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=e.mobile||!1,i=r[0],o=(e.platform||navigator.platform).toLowerCase(),u={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!E5(NG,r).brand||MG(AG())},a={name:"unknown",version:"-1",majorVersion:-1};u.webkit=!u.chromium&&I4(_L,function(R){return kG(r,R)});var g=E5(RG,r);if(u.chromium=!!g.brand,u.chromiumVersion=g.version||"-1",!u.chromium){var v=E5(_L,r);u.webkit=!!v.brand,u.webkitVersion=v.version||"-1"}var x=CG(LG,function(R){return new RegExp(""+R.test,"g").exec(o)});a.name=x?x.id:"";{var k=E5(IG,r);u.name=k.brand||u.name,u.version=k.brand&&t?t.uaFullVersion:k.version}return u.webkit&&(a.name=n?"ios":"mac"),a.name==="ios"&&u.webview&&(u.version="-1"),a.version=bL(a.version),u.version=bL(u.version),a.majorVersion=parseInt(a.version,10),u.majorVersion=parseInt(u.version,10),{browser:u,os:a,isMobile:n,isHints:!0}}function Edt(t){return _dt()?Sdt():wdt(t)}function Tdt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}var Cdt="function",Adt="object",kdt="string",Idt="number",Rdt="undefined",Ndt=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],bm=1e-7,T5={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ldt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)n[i]=o[u];return n}function gz(t,e,r,n){return(t*n+e*r)/(r+n)}function Mdt(t){return typeof t===Rdt}function xL(t){return t&&typeof t===Adt}function PG(t){return Array.isArray(t)}function Pdt(t){return typeof t===kdt}function Odt(t){return typeof t===Idt}function Ddt(t){return typeof t===Cdt}function Bdt(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function OG(t,e,r,n,i){var o=N4(t,e,r);return o?r:zdt(t,e,r+1,n,i)}function N4(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function zdt(t,e,r,n,i){for(var o=function(v){var x=e[v].trim();if(x===t.close&&!N4(t,e,v))return{value:v};var k=v,R=uT(i,function(A){var O=A.open;return O===x});if(R&&(k=OG(R,e,v,n,i)),k===-1)return u=v,"break";v=k,u=v},u,a=r;a<n;++a){var g=o(a);if(a=u,typeof g=="object")return g.value;if(g==="break")break}return-1}function L4(t,e){var r=Pdt(e)?{separator:e}:e,n=r.separator,i=n===void 0?",":n,o=r.isSeparateFirst,u=r.isSeparateOnlyOpenClose,a=r.isSeparateOpenClose,g=a===void 0?u:a,v=r.openCloseCharacters,x=v===void 0?Ndt:v,k=x.map(function(rt){var st=rt.open,it=rt.close;return st===it?st:st+"|"+it}).join("|"),R="(\\s*"+i+"\\s*|"+k+"|\\s+)",A=new RegExp(R,"g"),O=t.split(A).filter(function(rt){return rt&&rt!=="undefined"}),D=O.length,U=[],H=[];function G(){return H.length?(U.push(H.join("")),H=[],!0):!1}for(var z=function(rt){var st=O[rt].trim(),it=rt,bt=uT(x,function(dt){var mt=dt.open;return mt===st}),at=uT(x,function(dt){var mt=dt.close;return mt===st});if(bt){if(it=OG(bt,O,rt,D,x),it!==-1&&g)return G()&&o||(U.push(O.slice(rt,it+1).join("")),rt=it,o)?(j=rt,"break"):(j=rt,"continue")}else if(at&&!N4(at,O,rt)){var $=Ldt(x);return $.splice(x.indexOf(at),1),{value:L4(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:u,isSeparateOpenClose:g,openCloseCharacters:$})}}else if(Bdt(st,i)&&!u)return G(),o?(j=rt,"break"):(j=rt,"continue");it===-1&&(it=D-1),H.push(O.slice(rt,it+1).join("")),rt=it,j=rt},j,X=0;X<D;++X){var Y=z(X);if(X=j,typeof Y=="object")return Y.value;if(Y==="break")break}return H.length&&U.push(H.join("")),U}function M4(t){return L4(t,"")}function C5(t){return L4(t,",")}function Fdt(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function DG(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],i=e[3];return{prefix:r,unit:i,value:parseFloat(n)}}function jdt(t,e){return t.replace(/([a-z])([A-Z])/g,function(r,n,i){return""+n+e+i.toLowerCase()})}function P4(t,e,r){r===void 0&&(r=-1);for(var n=t.length,i=0;i<n;++i)if(e(t[i],i,t))return i;return r}function uT(t,e,r){var n=P4(t,e);return n>-1?t[n]:r}function Vdt(t){return Object.keys(t)}function cT(t,e){var r=DG(t),n=r.value,i=r.unit;if(xL(e)){var o=e[i];if(o){if(Ddt(o))return o(n);if(T5[i])return T5[i](n,o)}}else if(i==="%")return n*e/100;return T5[i]?T5[i](n):n}function yz(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function hT(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);return i>=0?i:i+Math.PI*2}function pp(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function vz(t,e){return t.forEach(function(r,n){t[n]=pp(t[n],e)}),t}function D1(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function $dt(t,e,r,n,i,o){for(var u=0;u<i;++u){var a=r+u*i,g=n+u*i;t[a]+=t[g]*o,e[a]+=e[g]*o}}function Udt(t,e,r,n,i){for(var o=0;o<i;++o){var u=r+o*i,a=n+o*i,g=t[u],v=e[u];t[u]=t[a],t[a]=g,e[u]=e[a],e[a]=v}}function qdt(t,e,r,n,i){for(var o=0;o<n;++o){var u=r+o*n;t[u]/=i,e[u]/=i}}function sw(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=XC(e),i=0;i<e;++i){var o=e*i+i;if(!pp(r[o],bm)){for(var u=i+1;u<e;++u)if(r[e*i+u]){Udt(r,n,i,u,e);break}}if(!pp(r[o],bm))return[];qdt(r,n,i,e,r[o]);for(var u=0;u<e;++u){var a=u,g=u+i*e,v=r[g];!pp(v,bm)||i===u||$dt(r,n,a,i,e,-v)}}return n}function Gdt(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var i=0;i<e;++i)r[i*e+n]=t[e*n+i];return r}function Hdt(t,e){for(var r=XC(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function O4(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function Xdt(t,e,r){for(var n=XC(r),i=Math.min(e,r),o=0;o<i-1;++o){for(var u=0;u<i-1;++u)n[o*r+u]=t[o*e+u];n[(o+1)*r-1]=t[(o+1)*e-1],n[(r-1)*r+o]=t[(e-1)*e+o]}return n[r*r-1]=t[e*e-1],n}function If(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],i=t.length/r,o=e.length/i;if(i){if(!o)return t}else return e;for(var u=0;u<r;++u)for(var a=0;a<o;++a){n[a*r+u]=0;for(var g=0;g<i;++g)n[a*r+u]+=t[g*r+u]*e[a*i+g]}return n}function _m(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]+e[i];return n}function xm(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),i=0;i<r;++i)n[i]=n[i]-e[i];return n}function Wdt(t,e){return e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function t0(t,e,r){r===void 0&&(r=e.length);var n=If(t,e,r),i=n[r-1];return n.map(function(o){return o/i})}function Ydt(t,e){return If(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function Kdt(t,e){return If(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function Zdt(t,e){return If(t,Qdt(e,4))}function A5(t,e){var r=e[0],n=r===void 0?1:r,i=e[1],o=i===void 0?1:i,u=e[2],a=u===void 0?1:u;return If(t,[n,0,0,0,0,o,0,0,0,0,a,0,0,0,0,1],4)}function Qk(t,e){var r=e[0],n=r===void 0?0:r,i=e[1],o=i===void 0?0:i,u=e[2],a=u===void 0?0:u;return If(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,a,1],4)}function bz(t,e){return If(t,e,4)}function Qdt(t,e){var r=Math.cos(t),n=Math.sin(t),i=XC(e);return i[0]=r,i[1]=n,i[e]=-n,i[e+1]=r,i}function XC(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function Jdt(t,e,r,n,i,o,u,a){var g=t[0],v=t[1],x=e[0],k=e[1],R=r[0],A=r[1],O=n[0],D=n[1],U=i[0],H=i[1],G=o[0],z=o[1],j=u[0],X=u[1],Y=a[0],rt=a[1],st=[g,0,x,0,R,0,O,0,v,0,k,0,A,0,D,0,1,0,1,0,1,0,1,0,0,g,0,x,0,R,0,O,0,v,0,k,0,A,0,D,0,1,0,1,0,1,0,1,-U*g,-H*g,-G*x,-z*x,-j*R,-X*R,-Y*O,-rt*O,-U*v,-H*v,-G*k,-z*k,-j*A,-X*A,-Y*D,-rt*D],it=sw(st,8);if(!it.length)return[];var bt=If(it,[U,H,G,z,j,X,Y,rt],8);return bt[8]=1,Xdt(Gdt(bt),3,4)}var z2=function(){return z2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},z2.apply(this,arguments)};function tft(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function B1(t){var e=tft();return t.forEach(function(r){var n=r.matrixFunction,i=r.functionValue;n&&(e=n(e,i))}),e}function wL(t,e){e===void 0&&(e=0);var r=PG(t)?t:M4(t);return r.map(function(n){var i=Fdt(n),o=i.prefix,u=i.value,a=null,g=o,v="";if(o==="translate"||o==="translateX"||o==="translate3d"){var x=xL(e)?z2(z2({},e),{"o%":e["%"]}):{"%":e,"o%":e},k=C5(u).map(function(dt,mt){return mt===0&&"x%"in x?x["%"]=e["x%"]:mt===1&&"y%"in x?x["%"]=e["y%"]:x["%"]=e["o%"],cT(dt,x)}),R=k[0],A=k[1],O=A===void 0?0:A,D=k[2],U=D===void 0?0:D;a=Qk,v=[R,O,U]}else if(o==="translateY"){var H=xL(e)?z2({"%":e["y%"]},e):{"%":e},O=cT(u,H);a=Qk,v=[0,O,0]}else if(o==="translateZ"){var U=parseFloat(u);a=Qk,v=[0,0,U]}else if(o==="scale"||o==="scale3d"){var G=C5(u).map(function(dt){return parseFloat(dt)}),z=G[0],j=G[1],X=j===void 0?z:j,Y=G[2],rt=Y===void 0?1:Y;a=A5,v=[z,X,rt]}else if(o==="scaleX"){var z=parseFloat(u);a=A5,v=[z,1,1]}else if(o==="scaleY"){var X=parseFloat(u);a=A5,v=[1,X,1]}else if(o==="scaleZ"){var rt=parseFloat(u);a=A5,v=[1,1,rt]}else if(o==="rotate"||o==="rotateZ"||o==="rotateX"||o==="rotateY"){var st=DG(u),it=st.unit,bt=st.value,at=it==="rad"?bt:bt*Math.PI/180;o==="rotate"||o==="rotateZ"?(g="rotateZ",a=Zdt):o==="rotateX"?a=Ydt:o==="rotateY"&&(a=Kdt),v=at}else if(o==="matrix3d")a=bz,v=C5(u).map(function(dt){return parseFloat(dt)});else if(o==="matrix"){var $=C5(u).map(function(dt){return parseFloat(dt)});a=bz,v=[$[0],$[1],0,0,$[2],$[3],0,0,0,0,1,0,$[4],$[5],0,1]}else g="";return{name:o,functionName:g,value:u,matrixFunction:a,functionValue:v}})}var Ia=function(){return Ia=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ia.apply(this,arguments)};function Ol(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],u;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){u={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return o}function wm(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Hw(t,e){return Ia({events:[],props:[],name:t},e)}var eft=["n","w","s","e"],rft=["n","w","s","e","nw","ne","sw","se"],gx=Edt(),nft=gx.browser.webkit;nft&&(function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1})();gx.browser.name;var ift=parseInt(gx.browser.version,10);gx.browser.chromium;parseInt(gx.browser.chromiumVersion,10);parseInt(gx.browser.webkitVersion,10)>=612||ift>=15;var aft="moveable-";rft.map(function(t){var e="",r="",n="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(o,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(i,`;
    }`)}).join(`
`);var xy=1e-7,oft={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]};function sft(t,e,r,n,i,o){var u,a,g=(a=(u=e.gestos[o])===null||u===void 0?void 0:u.move(r,t.inputEvent))!==null&&a!==void 0?a:{},v=g.originalDatas||g.datas,x=v[o]||(v[o]={});return Ia(Ia({},g),{isPinch:!!n,parentEvent:!0,datas:x,originalDatas:t.originalDatas})}var lft=(function(){function t(e){var r;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[e]={},r)}return t.prototype.dragStart=function(e,r){this.isDrag=!1,this.isFlag=!1;var n=r.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),Ia(Ia({},this.move(e,r.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,r){return this.move([e[0]-this.prevX,e[1]-this.prevY],r)},t.prototype.move=function(e,r){var n,i,o=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],n=e[0],i=e[1],this.isFlag=!0;else{var u=this.isDrag;n=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!u&&this.isDrag&&(o=!0)}return this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:r,isFirstDrag:o,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t})();function uft(t,e){var r=e.datas,n=t.state,i=n.allMatrix,o=n.beforeMatrix,u=n.is3d,a=n.left,g=n.top,v=n.origin,x=n.offsetMatrix,k=n.targetMatrix,R=n.transformOrigin,A=u?4:3;r.is3d=u,r.matrix=i,r.targetMatrix=k,r.beforeMatrix=o,r.offsetMatrix=x,r.transformOrigin=R,r.inverseMatrix=sw(i,A),r.inverseBeforeMatrix=sw(o,A),r.absoluteOrigin=O4(_m([a,g],v),A),r.startDragBeforeDist=t0(r.inverseBeforeMatrix,r.absoluteOrigin,A),r.startDragDist=t0(r.inverseMatrix,r.absoluteOrigin,A)}function cft(t,e,r){var n=e.datas,i=e.originalDatas.beforeRenderable,o=n.transformIndex,u=i.nextTransforms,a=u.length,g=i.nextTransformAppendedIndexes,v=-1;o===-1?(v=0,v===-1&&(v=u.length),n.transformIndex=v):uT(g,function(A){return A.index===o&&A.functionName===r})?v=o:v=o+g.filter(function(A){return A.index<o}).length;var x=tpt(u,t.state,v),k=x.targetFunction,R=r;n.beforeFunctionTexts=x.beforeFunctionTexts,n.afterFunctionTexts=x.afterFunctionTexts,n.beforeTransform=x.beforeFunctionMatrix,n.beforeTransform2=x.beforeFunctionMatrix2,n.targetTansform=x.targetFunctionMatrix,n.afterTransform=x.afterFunctionMatrix,n.afterTransform2=x.afterFunctionMatrix2,n.targetAllTransform=x.allFunctionMatrix,k.functionName===R?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):a>v&&(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=wm(wm([],Ol(g),!1),[{functionName:r,index:v,isAppend:!0}],!1))}function hft(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function dft(t){var e=t.datas,r=t.distX,n=t.distY,i=Ol(BG({datas:e,distX:r,distY:n}),2),o=i[0],u=i[1],a=fft(e,Hdt([o,u],4));return t0(a,O4([0,0,0],4),4)}function fft(t,e,r){var n=t.beforeTransform,i=t.afterTransform;t.beforeTransform2,t.afterTransform2;var o=t.targetAllTransform,u=If(e,o,4),a=If(sw(n,4),u,4),g=If(a,sw(i,4),4);return g}function BG(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,u=e.startDragBeforeDist,a=e.absoluteOrigin,g=o?4:3;return xm(t0(i,_m(a,[r,n]),g),u)}function pft(t,e){var r=t.datas,n=t.distX,i=t.distY;r.inverseBeforeMatrix;var o=r.inverseMatrix,u=r.is3d;r.startDragBeforeDist;var a=r.startDragDist,g=r.absoluteOrigin,v=u?4:3;return xm(t0(o,_m(g,[n,i]),v),a)}function mft(t,e){var r=t.datas,n=t.distX,i=t.distY;r.beforeMatrix;var o=r.matrix,u=r.is3d;r.startDragBeforeDist;var a=r.startDragDist,g=r.absoluteOrigin,v=u?4:3;return xm(t0(o,_m(a,[n,i]),v),g)}function Jk(t,e){var r=(e+1)/2;return[gz(t[0][0],t[1][0],r,1-r),gz(t[0][1],t[1][1],r,1-r)]}function z1(t,e){var r=Jk([t[0],t[1]],e[0]),n=Jk([t[2],t[3]],e[0]);return Jk([r,n],e[1])}function gft(t,e){var r=Xw(e);return{setTransform:function(n,i){i===void 0&&(i=-1),r.startTransforms=PG(n)?n:M4(n),SL(t,e,i)},setTransformIndex:function(n){SL(t,e,n)}}}function yft(t,e,r){var n=Xw(e),i=n.startTransforms;SL(t,e,P4(i,function(o){return o.indexOf("".concat(r,"("))===0}))}function SL(t,e,r){var n=Xw(e),i=e.datas;if(i.transformIndex=r,r!==-1){var o=n.startTransforms[r];if(o){var u=t.state,a=wL([o],{"x%":function(g){return g/100*u.offsetWidth},"y%":function(g){return g/100*u.offsetHeight}});i.startValue=a[0].functionValue}}}function vft(t,e){var r=Xw(t);r.nextTransforms=M4(e)}function Xw(t){return t.originalDatas.beforeRenderable}function bft(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map(function(u,a){return o[a]=o[a]||{},o[a][e]=o[a][e]||{},Ia(Ia({},r),{isRequestChild:!0,datas:o[a][e],originalDatas:o[a]})})}function tI(t,e,r,n,i,o,u){var a=!!r.match(/Start$/g),g=!!r.match(/End$/g),v=i.isPinch,x=i.datas,k=bft(t,e.name,i),R=t.moveables,A=[],O=k.map(function(D,U){var H=R[U],G=H.state,z=G.gestos,j=D;if(a)j=new lft(u).dragStart(n,D),A.push(j);else{if(z[u]||(z[u]=x.childGestos[U]),!z[u])return;j=sft(D,G,n,v,o,u),A.push(j)}var X=e[r](H,Ia(Ia({},j),{parentFlag:!0}));return g&&(z[u]=null),X});return a&&(x.childGestos=R.map(function(D){return D.state.gestos[u]})),{eventParams:O,childEvents:A}}function _ft(t,e,r,n,i,o){for(var u=[],a=6;a<arguments.length;a++)u[a-6]=arguments[a];var g=hT(r,n),v=e?pp(g/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:fm.apply(void 0,wm(["line","direction",e?"edge":"",e],Ol(u),!1)),"data-rotation":v,"data-line-key":o,"data-direction":e,style:Zft(r,n,i,g)})}function xft(t,e,r,n,i){var o=r===!0?eft:r;return o.map(function(u,a){var g=Ol(oft[u],2),v=g[0],x=g[1];if(x!=null)return _ft(t,u,n[v],n[x],i,"".concat(e,"Edge").concat(a),e)}).filter(Boolean)}function wft(t,e,r){var n=t||{},i=n.position,o=i===void 0?"client":i,u=n.left,a=u===void 0?-1/0:u,g=n.top,v=g===void 0?-1/0:g,x=n.right,k=x===void 0?1/0:x,R=n.bottom,A=R===void 0?1/0:R,O={position:o,left:a,top:v,right:k,bottom:A};return{vertical:_z(O,e,!0),horizontal:_z(O,r,!1)}}function Sft(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,o=n.clientWidth,u=n.clientLeft,a=n.clientTop,g=r.snapOffset,v=g.left,x=g.top,k=g.right,R=g.bottom,A=t.props.bounds||{},O=A.position||"client",D=O==="css",U=A.left,H=U===void 0?-1/0:U,G=A.top,z=G===void 0?-1/0:G,j=A.right,X=j===void 0?D?-1/0:1/0:j,Y=A.bottom,rt=Y===void 0?D?-1/0:1/0:Y;return D&&(X=o+k-v-X,rt=i+R-x-rt),{left:H+v-u,right:X+v-u,top:z+x-a,bottom:rt+x-a}}function _z(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],o=Math.min.apply(Math,wm([],Ol(e),!1)),u=Math.max.apply(Math,wm([],Ol(e),!1)),a=[];return n+1>o&&a.push({direction:"start",isBound:!0,offset:o-n,pos:n}),i-1<u&&a.push({direction:"end",isBound:!0,offset:u-i,pos:i}),a.length||a.push({isBound:!1,offset:0,pos:0}),a.sort(function(g,v){return Oo(v.offset)-Oo(g.offset)})}var Eft=["left","right","center"],Tft=["top","bottom","middle"];function Cft(t,e){var r=t.props,n=r.snappable,i=r.bounds,o=r.innerBounds,u=r.verticalGuidelines,a=r.horizontalGuidelines,g=r.snapGridWidth,v=r.snapGridHeight,x=t.state,k=x.guidelines,R=x.enableSnap;return!n||!R||n!==!0&&n.indexOf(e)<0?!1:!!(g||v||i||o||k&&k.length||u&&u.length||a&&a.length)}function zG(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function Aft(t,e){var r=zG(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}function kft(t,e){var r=Aft(t,e),n=Tft.filter(function(o){return o in r}),i=Eft.filter(function(o){return o in r});return{horizontalNames:n,verticalNames:i,horizontal:n.map(function(o){return r[o]}),vertical:i.map(function(o){return r[o]})}}function Ift(t){var e=Ol(t,2),r=e[0],n=e[1],i=n[0]-r[0],o=n[1]-r[1];Math.abs(i)<bm&&(i=0),Math.abs(o)<bm&&(o=0);var u=0,a=0,g=0;return i?o?(u=-o/i,a=1,g=u*r[0]-r[1]):(a=1,g=-r[1]):(u=-1,g=r[0]),[u,a,g].map(function(v){return pp(v,bm)})}var Rft="snapHorizontalThreshold",Nft="snapVerticalThreshold";function Lft(t,e,r,n,i,o,u){var a;n===void 0&&(n=[]),i===void 0&&(i=[]);var g=t.props,v=((a=t.state.snapThresholdInfo)===null||a===void 0?void 0:a.multiples)||[1,1],x=Cz(u,g[Rft],5),k=Cz(o,g[Nft],5);return Mft(t.state.guidelines,e,r,n,i,x,k,v)}function Mft(t,e,r,n,i,o,u,a){return{vertical:xz(t,"vertical",e,u*a[0],n),horizontal:xz(t,"horizontal",r,o*a[1],i)}}function Pft(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,o=n.dist,u=n.guideline;return{isSnap:e,offset:i,dist:o,pos:r.pos,guideline:u}}function xz(t,e,r,n,i){var o,u;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var a=e==="vertical",g=a?0:1,v=r.map(function(k,R){var A=i[R]||"",O=t.map(function(D){var U=D.pos,H=k-U[g];return{offset:H,dist:Oo(H),guideline:D,direction:A}}).filter(function(D){var U=D.guideline,H=D.dist,G=U.type;return!(G!==e||H>n)}).sort(function(D,U){return D.dist-U.dist});return{pos:k,index:R,guidelineInfos:O,direction:A}}).filter(function(k){return k.guidelineInfos.length>0}).sort(function(k,R){return k.guidelineInfos[0].dist-R.guidelineInfos[0].dist}),x=v.length>0;return{isSnap:x,index:x?v[0].index:-1,direction:(u=(o=v[0])===null||o===void 0?void 0:o.direction)!==null&&u!==void 0?u:"",posInfos:v}}function Oft(t,e){var r=Oo(t.offset),n=Oo(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<xy?1:n<xy?-1:r-n}function wz(t,e){return t.slice().sort(function(r,n){var i=r.sign[e],o=n.sign[e],u=r.offset[e],a=n.offset[e];if(i){if(!o)return-1}else return 1;return Oft({isBound:r.isBound,isSnap:r.isSnap,offset:u},{isBound:n.isBound,isSnap:n.isSnap,offset:a})})[0]}function Dft(t,e){var r=yz([e[0][0],e[1][0]]),n=yz([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function FG(t,e){var r=Ol(e,2),n=r[0],i=r[1],o=i[0]-n[0],u=i[1]-n[1];Oo(o)<xy&&(o=0),Oo(u)<xy&&(u=0);var a,g;if(!o)a=n[0],g=t[0];else if(!u)a=n[1],g=t[1];else{var v=u/o;a=v*(t[0]-n[0])+n[1],g=t[1]}return a-g}function Bft(t,e,r,n){return n===void 0&&(n=xy),t.every(function(i){var o=FG(i,e),u=o<=0;return u===r||Oo(o)<=n})}function Sz(t,e,r,n,i){return i===void 0&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function zft(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,o=e.horizontalSign,u=e.lineConstants,a=t.props.innerBounds;if(!a)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=a.left,v=a.top,x=a.width,k=a.height,R=[[g,v],[g,v+k]],A=[[g,v],[g+x,v]],O=[[g+x,v],[g+x,v+k]],D=[[g,v+k],[g+x,v+k]];if(Bft([[g,v],[g+x,v],[g,v+k],[g+x,v+k]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var U=k5(r,u,A,i),H=k5(r,u,D,i),G=k5(r,u,R,o),z=k5(r,u,O,o),j=U.isBound&&H.isBound,X=U.isBound||H.isBound,Y=G.isBound&&z.isBound,rt=G.isBound||z.isBound,st=Z_(U.offset,H.offset),it=Z_(G.offset,z.offset),bt=[0,0],at=!1,$=!1;return Oo(it)<Oo(st)?(bt=[st,0],at=X,$=j):(bt=[0,it],at=rt,$=Y),{isAllBound:$,isVerticalBound:X,isHorizontalBound:rt,isBound:at,offset:bt}}function k5(t,e,r,n,i,o){var u=Ol(e,2),a=u[0],g=u[1],v=t[0],x=r[0],k=r[1],R=Az(k[1]-x[1]),A=Az(k[0]-x[0]),O=g,D=a,U=-a/g;if(A){if(!R)if(D){var H=(x[1]-v[1])/U+v[0];return Sz(H,x[0],k[0],n,i)}else{var G=x[1]-v[1],z=Oo(G)<=0;return{isBound:z,offset:z?G:0}}}else if(O){var j=U*(x[0]-v[0])+v[1];return Sz(j,x[1],k[1],n,i)}else{var G=x[0]-v[0],z=Oo(G)<=0;return{isBound:z,offset:z?G:0}}return{isBound:!1,offset:0}}function Fft(t,e,r){return e.map(function(n){var i=zft(t,n),o=i.isBound,u=i.offset,a=i.isVerticalBound,g=i.isHorizontalBound,v=n.multiple,x=pft({datas:r,distX:u[0],distY:u[1]}).map(function(k,R){return k*(v[R]?2/v[R]:0)});return{sign:v,isBound:o,isVerticalBound:a,isHorizontalBound:g,isSnap:!1,offset:x}})}function jft(t,e,r){var n,i=$ft(t,e).map(function(R){return Ia(Ia({},R),{multiple:R.multiple.map(function(A){return Oo(A)*2})})}),o=Fft(t,i,r),u=wz(o,0),a=wz(o,1),g=0,v=0,x=u.isVerticalBound||a.isVerticalBound,k=u.isHorizontalBound||a.isHorizontalBound;return(x||k)&&(n=Ol(mft({datas:r,distX:-u.offset[0],distY:-a.offset[1]}),2),g=n[0],v=n[1]),{vertical:{isBound:x,offset:g},horizontal:{isBound:k,offset:v}}}function Vft(t,e){var r=[];return r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function $ft(t,e,r,n){var i=t.state,o=i.allMatrix,u=i.is3d,a=Wft(o,100,100,u?4:3),g=z1(a,[0,0]);return Vft().map(function(v){var x=Ol(v,3),k=x[0],R=x[1],A=x[2],O=[z1(a,R),z1(a,A)],D=Ift(O),U=Dft(g,O),H=U.vertical,G=U.horizontal,z=FG(g,O)<=0;return{multiple:k,centerSign:z,verticalSign:H,horizontalSign:G,lineConstants:D,line:[z1(e,R),z1(e,A)]}})}function Ez(t,e){return t.isBound?t.offset:e.isSnap?Pft(e).offset:0}function Uft(t,e,r,n,i){var o=Ol(e,2),u=o[0],a=o[1],g=Ol(r,2),v=g[0],x=g[1],k=Ol(n,2),R=k[0],A=k[1],O=Ol(i,2),D=O[0],U=O[1],H=-D,G=-U;if(t&&u&&a){H=0,G=0;var z=[];if(v&&x?z.push([0,U],[D,0]):v?z.push([D,0]):x?z.push([0,U]):R&&A?z.push([0,U],[D,0]):R?z.push([D,0]):A&&z.push([0,U]),z.length){z.sort(function(rt,st){return lw(xm([u,a],rt))-lw(xm([u,a],st))});var j=z[0];if(j[0]&&Oo(u)>bm)H=-j[0],G=a*Oo(u+H)/Oo(u)-a;else if(j[1]&&Oo(a)>bm){var X=a;G=-j[1],H=u*Oo(a+G)/Oo(X)-u}if(t&&x&&v)if(Oo(H)>bm&&Oo(H)<Oo(D)){var Y=Oo(D)/Oo(H);H*=Y,G*=Y}else if(Oo(G)>bm&&Oo(G)<Oo(U)){var Y=Oo(U)/Oo(G);H*=Y,G*=Y}else H=Z_(-D,H),G=Z_(-U,G)}}else H=u||v?-D:0,G=a||x?-U:0;return[H,G]}function qft(t,e,r,n,i,o){if(!Cft(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=VG(o.absolutePoses,[e,r]),a=Yft(u),g=a.left,v=a.right,x=a.top,k=a.bottom,R={horizontal:u.map(function(mt){return mt[1]}),vertical:u.map(function(mt){return mt[0]})},A=zG(t.props.snapDirections),O=kft(A,{left:g,right:v,top:x,bottom:k,center:(g+v)/2,middle:(x+k)/2}),D=Gft(t,i,O,R),U=D.vertical,H=D.horizontal,G=jft(t,u,o),z=G.vertical,j=G.horizontal,X=U.isSnap,Y=H.isSnap,rt=U.isBound||z.isBound,st=H.isBound||j.isBound,it=Z_(U.offset,z.offset),bt=Z_(H.offset,j.offset),at=Ol(Uft(n,[e,r],[rt,st],[X,Y],[it,bt]),2),$=at[0],dt=at[1];return[{isBound:rt,isSnap:X,offset:$},{isBound:st,isSnap:Y,offset:dt}]}function Gft(t,e,r,n){n===void 0&&(n=r);var i=wft(Sft(t),n.vertical,n.horizontal),o=i.horizontal,u=i.vertical,a=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Lft(t,r.vertical,r.horizontal,void 0,void 0,void 0,void 0),g=a.horizontal,v=a.vertical,x=Ez(o[0],g),k=Ez(u[0],v),R=Oo(x),A=Oo(k);return{horizontal:{isBound:o[0].isBound,isSnap:g.isSnap,snapIndex:g.index,offset:x,dist:R,bounds:o,snap:g},vertical:{isBound:u[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:k,dist:A,bounds:u,snap:v}}}var gv={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,o=r.zoom,u=t.getState(),a=u.dragInfo,g=u.beforeOrigin;if(n||!i||!a)return[];var v=a.dist;if(!v[0]&&!v[1])return[];var x=lw(v),k=hT(v,[0,0]);return[e.createElement("div",{className:fm("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(x,"px"),transform:"translate(".concat(g[0],"px, ").concat(g[1],"px) rotate(").concat(k,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,o=t.state,u=o.gestos,a=o.style;if(u.draggable)return!1;u.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(a.left||"")||0,r.top=parseFloat(a.top||"")||0,r.bottom=parseFloat(a.bottom||"")||0,r.right=parseFloat(a.right||"")||0,r.startValue=[0,0],uft(t,e),yft(t,e,"translate"),Hft(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var g=K_(t,e,Ia({set:function(x){r.startValue=x}},gft(t,e))),v=n||dp(t,"onDragStart",g);return v!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(u.draggable=null,r.isPinch=!1),r.isDrag?g:!1},drag:function(t,e){if(e){cft(t,e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,o=e.isPinch,u=e.deltaOffset,a=e.useSnap,g=e.isRequest,v=e.isGroup,x=e.parentThrottleDrag,k=e.distX,R=e.distY,A=r.isDrag,O=r.prevDist,D=r.prevBeforeDist,U=r.startValue;if(A){u&&(k+=u[0],R+=u[1]);var H=t.props,G=H.parentMoveable,z=v?0:H.throttleDrag||x||0,j=n?0:H.throttleDragRotate||0,X=0,Y=!1,rt=!1,st=!1,it=!1;if(!n&&j>0&&(k||R)){var bt=H.startDragRotate||0,at=pp(bt+hT([0,0],[k,R])*180/Math.PI,j)-bt,$=R*Math.abs(Math.cos((at-90)/180*Math.PI)),dt=k*Math.abs(Math.cos(at/180*Math.PI)),mt=lw([dt,$]);X=at*Math.PI/180,k=mt*Math.cos(X),R=mt*Math.sin(X)}if(!o&&!n&&!i){var wt=Ol(qft(t,k,R,j,!a&&g||u,r),2),pt=wt[0],Ct=wt[1];Y=pt.isSnap,rt=pt.isBound,st=Ct.isSnap,it=Ct.isBound;var vt=pt.offset,It=Ct.offset;k+=vt,R+=It}var Ft=_m(BG({datas:r,distX:k,distY:R}),U),Et=_m(dft({datas:r,distX:k,distY:R}),U);vz(Et,xy),vz(Ft,xy),j||(!Y&&!rt&&(Et[0]=pp(Et[0],z),Ft[0]=pp(Ft[0],z)),!st&&!it&&(Et[1]=pp(Et[1],z),Ft[1]=pp(Ft[1],z)));var lt=xm(Ft,U),kt=xm(Et,U),At=xm(kt,O),Nt=xm(lt,D);r.prevDist=kt,r.prevBeforeDist=lt,r.passDelta=At,r.passDist=kt;var qt=r.left+lt[0],ie=r.top+lt[1],Ht=r.right-lt[0],ce=r.bottom-lt[1],de=hft(r,"translate(".concat(Et[0],"px, ").concat(Et[1],"px)"),"translate(".concat(kt[0],"px, ").concat(kt[1],"px)"));if(vft(e,de),t.state.dragInfo.dist=n?[0,0]:kt,!(!n&&!G&&At.every(function(Jt){return!Jt})&&Nt.some(function(Jt){return!Jt}))){var Se=t.state,$t=Se.width,He=Se.height,ke=K_(t,e,Ia({transform:de,dist:kt,delta:At,translate:Et,beforeDist:lt,beforeDelta:Nt,beforeTranslate:Ft,left:qt,top:ie,right:Ht,bottom:ce,width:$t,height:He,isPinch:o},Jft({transform:de},e)));return!n&&dp(t,"onDrag",ke),ke}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,Ia(Ia({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var i=EL(t,e,{});return!r&&dp(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r,n,i=e.datas,o=e.clientX,u=e.clientY,a=this.dragStart(t,e);if(!a)return!1;var g=tI(t,this,"dragStart",[o||0,u||0],e,!1,"draggable"),v=g.childEvents,x=g.eventParams,k=Ia(Ia({},a),{targets:t.props.targets,events:x}),R=dp(t,"onDragGroupStart",k);i.isDrag=R!==!1;var A=(n=(r=v[0])===null||r===void 0?void 0:r.datas.startValue)!==null&&n!==void 0?n:[0,0];return i.throttleOffset=[A[0]%1,A[1]%1],i.isDrag?a:!1},dragGroup:function(t,e){var r=e.datas;if(r.isDrag){var n=this.drag(t,Ia(Ia({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,o=tI(t,this,"drag",i,e,!1,"draggable").eventParams;if(n){var u=Ia({targets:t.props.targets,events:o},n);return dp(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(n.isDrag){this.dragEnd(t,e);var i=tI(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return dp(t,"onDragGroupEnd",EL(t,e,{targets:t.props.targets,events:i})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0,o=!1;return{isControl:!1,requestStart:function(u){return o=u.useSnap,{datas:e,useSnap:o}},request:function(u){return"x"in u?n=u.x-r.left:"deltaX"in u&&(n+=u.deltaX),"y"in u?i=u.y-r.top:"deltaY"in u&&(i+=u.deltaY),{datas:e,distX:n,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Hft(t,e){e.absolutePoses=Qft(t.state)}function fm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Tdt.apply(void 0,wm([aft],Ol(t),!1))}function Xft(t,e){return"".concat("matrix3d","(").concat(Wdt(t,!1).join(","),")")}function jG(t,e,r){return t0(t,O4(e,r),r)}function Wft(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(i){return jG(t,i,n)})}function Yft(t){var e=t.map(function(v){return v[0]}),r=t.map(function(v){return v[1]}),n=Math.min.apply(Math,wm([],Ol(e),!1)),i=Math.min.apply(Math,wm([],Ol(r),!1)),o=Math.max.apply(Math,wm([],Ol(e),!1)),u=Math.max.apply(Math,wm([],Ol(r),!1)),a=o-n,g=u-i;return{left:n,top:i,right:o,bottom:u,width:a,height:g}}function lw(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Kft(t,e){return lw([e[0]-t[0],e[1]-t[1]])}function Zft(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=hT(t,e));var i=Kft(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function Tz(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,o=r.reduce(function(a,g){return a+g[0]},0)/i,u=r.reduce(function(a,g){return a+g[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(u,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function VG(t,e){return[_m(e,t[0]),_m(e,t[1]),_m(e,t[2]),_m(e,t[3])]}function Qft(t){var e=t.left,r=t.top,n=t.pos1,i=t.pos2,o=t.pos3,u=t.pos4;return VG([n,i,o,u],[e,r])}function Jft(t,e){if(e){var r=Xw(e);r.nextStyle=Ia(Ia({},r.nextStyle),t)}return{style:t,cssText:Vdt(t).map(function(n){return"".concat(jdt(n,"-"),": ").concat(t[n],";")}).join("")}}function K_(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var o=Ia(Ia({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var u;(u=e.stop)===null||u===void 0||u.call(e)}});return i.isStartEvent?i.lastEvent=o:i.isStartEvent=!0,o}function EL(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),Ia(Ia({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function dp(t,e,r,n,i){return t.triggerEvent(e,r,n,i)}function Cz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Mdt(i))return i}return t[r]}function Z_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return Oo(n)-Oo(r)}),t[0]}function Az(t){return Oo(t)<=xy?0:t}function tpt(t,e,r){var n,i=wL(t,{"x%":function(X){return X/100*e.offsetWidth},"y%":function(X){return X/100*e.offsetHeight}}),o=t.slice(0,r<0?void 0:r),u=t.slice(0,r<0?void 0:r+1),a=t[r]||"",g=r<0?[]:t.slice(r),v=r<0?[]:t.slice(r+1),x=i.slice(0,r<0?void 0:r),k=i.slice(0,r<0?void 0:r+1),R=(n=i[r])!==null&&n!==void 0?n:wL([""])[0],A=r<0?[]:i.slice(r),O=r<0?[]:i.slice(r+1),D=R?[R]:[],U=B1(x),H=B1(k),G=B1(A),z=B1(O),j=If(U,G,4);return{transforms:t,beforeFunctionMatrix:U,beforeFunctionMatrix2:H,targetFunctionMatrix:B1(D),afterFunctionMatrix:G,afterFunctionMatrix2:z,allFunctionMatrix:j,beforeFunctions:x,beforeFunctions2:k,targetFunction:D[0],afterFunctions:A,afterFunctions2:O,beforeFunctionTexts:o,beforeFunctionTexts2:u,targetFunctionText:a,afterFunctionTexts:g,afterFunctionTexts2:v}}function TL(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var r=Ol(t.split(" "),2),n=r[0],i=r[1],o=TL(n||""),u=TL(i||""),a=Ia(Ia({},o),u),g={x:"50%",y:"50%"};return a.x&&(g.x=a.x),a.y&&(g.y=a.y),a.value&&(a.x&&!a.y&&(g.y=a.value),!a.x&&a.y&&(g.x=a.value)),g}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function ept(t,e,r){var n=TL(t,!0),i=n.x,o=n.y;return[cT(i,e)||0,cT(o,r)||0]}function Oo(t){return Math.abs(t)}function rpt(t){return Odt(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}Hw("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,o=e.originalDatas,u=t.props,a=u.pinchable,g=u.ables;if(!a)return!1;var v="onPinch".concat(n?"Group":"","Start"),x="drag".concat(n?"Group":"","ControlStart"),k=(a===!0?t.controlAbles:g.filter(function(D){return a.indexOf(D.name)>-1})).filter(function(D){return D.canPinch&&D[x]}),R=K_(t,e,{});n&&(R.targets=n);var A=dp(t,v,R);r.isPinch=A!==!1,r.ables=k;var O=r.isPinch;return O?(k.forEach(function(D){if(o[D.name]=o[D.name]||{},!!D[x]){var U=Ia(Ia({},e),{datas:o[D.name],parentRotate:i,isPinch:!0});D[x](t,U)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},O):!1},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,o=e.originalDatas,u=e.inputEvent,a=e.targets,g=e.angle;if(r.isPinch){var v=i*(1-1/n),x=K_(t,e,{});a&&(x.targets=a);var k="onPinch".concat(a?"Group":"");dp(t,k,x);var R=r.ables,A="drag".concat(a?"Group":"","Control");return R.forEach(function(O){O[A]&&O[A](t,Ia(Ia({},e),{datas:o[O.name],inputEvent:u,resolveMatrix:!0,pinchScale:n,parentDistance:v,parentRotate:g,isPinch:!0}))}),x}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,o=e.targets,u=e.originalDatas;if(r.isPinch){var a="onPinch".concat(o?"Group":"","End"),g=EL(t,e,{isDrag:n});o&&(g.targets=o),dp(t,a,g);var v=r.ables,x="drag".concat(o?"Group":"","ControlEnd");return v.forEach(function(k){k[x]&&k[x](t,Ia(Ia({},e),{isDrag:n,datas:u[k.name],inputEvent:i,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,Ia(Ia({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Ia(Ia({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Ia(Ia({},e),{targets:t.props.targets}))}});fm("view-dragging");Hw("origin",{props:["origin","svgOrigin"],render:function(t,e){var r=t.props,n=r.zoom,i=r.svgOrigin,o=r.groupable,u=t.getState(),a=u.beforeOrigin,g=u.rotation,v=u.svg,x=u.allMatrix,k=u.is3d,R=u.left,A=u.top,O=u.offsetWidth,D=u.offsetHeight,U;if(!o&&v&&i){var H=Ol(ept(i,O,D),2),G=H[0],z=H[1],j=k?4:3,X=jG(x,[G,z],j);U=Tz(g,n,xm(X,[R,A]))}else U=Tz(g,n,a);return[e.createElement("div",{className:fm("control","origin"),style:U,key:"beforeOrigin"})]}});Hw("padding",{props:["padding"],render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=rpt(r.padding||{}),i=n.left,o=n.top,u=n.right,a=n.bottom,g=t.getState(),v=g.renderPoses,x=g.pos1,k=g.pos2,R=g.pos3,A=g.pos4,O=[x,k,R,A],D=[];return i>0&&D.push([0,2]),o>0&&D.push([0,1]),u>0&&D.push([1,3]),a>0&&D.push([2,3]),D.map(function(U,H){var G=Ol(U,2),z=G[0],j=G[1],X=O[z],Y=O[j],rt=v[z],st=v[j],it=Jdt([0,0],[100,0],[0,100],[100,100],X,Y,rt,st);if(it.length)return e.createElement("div",{key:"padding".concat(H),className:fm("padding"),style:{transform:Xft(it)}})})}});Hw("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,o=t.isMoveableElement(i),u=!o&&t.controlBox.contains(i);if(!(!n||!i||e.isDrag||t.isMoveableElement(i)||u)){var a=r.contains(i);dp(t,"onClick",K_(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var i=t.props.targets,o=i.indexOf(n),u=o>-1,a=!1;o===-1&&(o=P4(i,function(g){return g.contains(n)}),a=o>-1),dp(t,"onClickGroup",K_(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:o,isTarget:u,containsTarget:a,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function xb(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),Ia(Ia({},t),{datas:e})}Hw("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?xft(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&D1(i,fm("direction"))&&D1(i,fm("edge"))&&D1(i,fm("edgeDraggable"))},dragStart:function(t,e){return gv.dragStart(t,xb(e))},drag:function(t,e){return gv.drag(t,xb(e))},dragEnd:function(t,e){return gv.dragEnd(t,xb(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=(r=e.inputEvent)===null||r===void 0?void 0:r.target;return!n.edgeDraggable||!i?!1:!n.draggable&&D1(i,fm("direction"))&&D1(i,fm("line"))},dragGroupStart:function(t,e){return gv.dragGroupStart(t,xb(e))},dragGroup:function(t,e){return gv.dragGroup(t,xb(e))},dragGroupEnd:function(t,e){return gv.dragGroupEnd(t,xb(e))},unset:function(t){return gv.unset(t)}});var CL={exports:{}},npt=CL.exports,kz;function ipt(){return kz||(kz=1,(function(t,e){(function(r,n){t.exports=n()})(npt,(function(){function r(C,m){(m==null||m>C.length)&&(m=C.length);for(var y=0,T=Array(m);y<m;y++)T[y]=C[y];return T}function n(C,m,y){return m=x(m),(function(T,F){if(F&&(typeof F=="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt})(T)})(C,R()?Reflect.construct(m,y||[],x(C).constructor):m.apply(C,y))}function i(C,m){if(!(C instanceof m))throw new TypeError("Cannot call a class as a function")}function o(C,m,y){if(R())return Reflect.construct.apply(null,arguments);var T=[null];T.push.apply(T,m);var F=new(C.bind.apply(C,T));return y&&A(F,y.prototype),F}function u(C,m){for(var y=0;y<m.length;y++){var T=m[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(C,U(T.key),T)}}function a(C,m,y){return m&&u(C.prototype,m),y&&u(C,y),Object.defineProperty(C,"prototype",{writable:!1}),C}function g(C,m){var y=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!y){if(Array.isArray(C)||(y=H(C))||m){y&&(C=y);var T=0,F=function(){};return{s:F,n:function(){return T>=C.length?{done:!0}:{done:!1,value:C[T++]}},e:function(re){throw re},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt,xt=!0,Dt=!1;return{s:function(){y=y.call(C)},n:function(){var re=y.next();return xt=re.done,re},e:function(re){Dt=!0,nt=re},f:function(){try{xt||y.return==null||y.return()}finally{if(Dt)throw nt}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(C,m,y){var T=(function(nt,xt){for(;!{}.hasOwnProperty.call(nt,xt)&&(nt=x(nt))!==null;);return nt})(C,m);if(T){var F=Object.getOwnPropertyDescriptor(T,m);return F.get?F.get.call(arguments.length<3?C:y):F.value}},v.apply(null,arguments)}function x(C){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},x(C)}function k(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(m&&m.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),m&&A(C,m)}function R(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(R=function(){return!!C})()}function A(C,m){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,T){return y.__proto__=T,y},A(C,m)}function O(C,m,y,T){var F=v(x(1&T?C.prototype:C),m,y);return 2&T&&typeof F=="function"?function(nt){return F.apply(y,nt)}:F}function D(C){return(function(m){if(Array.isArray(m))return r(m)})(C)||(function(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)})(C)||H(C)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function U(C){var m=(function(y,T){if(typeof y!="object"||!y)return y;var F=y[Symbol.toPrimitive];if(F!==void 0){var nt=F.call(y,T);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)})(C,"string");return typeof m=="symbol"?m:m+""}function H(C,m){if(C){if(typeof C=="string")return r(C,m);var y={}.toString.call(C).slice(8,-1);return y==="Object"&&C.constructor&&(y=C.constructor.name),y==="Map"||y==="Set"?Array.from(C):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?r(C,m):void 0}}function G(C){var m=typeof Map=="function"?new Map:void 0;return G=function(y){if(y===null||!(function(F){try{return Function.toString.call(F).indexOf("[native code]")!==-1}catch{return typeof F=="function"}})(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(y))return m.get(y);m.set(y,T)}function T(){return o(y,arguments,x(this).constructor)}return T.prototype=Object.create(y.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A(T,y)},G(C)}var z=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(m){this._quadrantSegments=m,this._quadrantSegments===0&&(this._joinStyle=C.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=C.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),m<=0&&(this._quadrantSegments=1),this._joinStyle!==C.JOIN_ROUND&&(this._quadrantSegments=C.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(m){this._joinStyle=m}},{key:"setSimplifyFactor",value:function(m){this._simplifyFactor=m<0?0:m}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(m){this._endCapStyle=m}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(m){this._mitreLimit=m}},{key:"setSingleSided",value:function(m){this._isSingleSided=m}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=C.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=C.CAP_ROUND,this._joinStyle=C.JOIN_ROUND,this._mitreLimit=C.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=C.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var m=arguments[0];this.setQuadrantSegments(m)}else if(arguments.length===2){var y=arguments[0],T=arguments[1];this.setQuadrantSegments(y),this.setEndCapStyle(T)}else if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3];this.setQuadrantSegments(F),this.setEndCapStyle(nt),this.setJoinStyle(xt),this.setMitreLimit(Dt)}}}},{key:"bufferDistanceError",value:function(m){var y=Math.PI/2/m;return 1-Math.cos(y/2)}}])})();z.CAP_ROUND=1,z.CAP_FLAT=2,z.CAP_SQUARE=3,z.JOIN_ROUND=1,z.JOIN_MITRE=2,z.JOIN_BEVEL=3,z.DEFAULT_QUADRANT_SEGMENTS=8,z.DEFAULT_MITRE_LIMIT=5,z.DEFAULT_SIMPLIFY_FACTOR=.01;var j=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({Exception:m})[0],T}return k(m,C),a(m,[{key:"toString",value:function(){return this.message}}])})(G(Error)),X=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({IllegalArgumentException:m})[0],T}return k(m,C),a(m)})(j),Y=(function(){return a((function C(){i(this,C)}),[{key:"filter",value:function(C){}}])})();function rt(){}function st(){}function it(){}var bt,at,$,dt,mt,wt,pt,Ct,vt=(function(){return a((function C(){i(this,C)}),null,[{key:"equalsWithTolerance",value:function(C,m,y){return Math.abs(C-m)<=y}}])})(),It=(function(){return a((function C(m,y){i(this,C),this.low=y||0,this.high=m||0}),null,[{key:"toBinaryString",value:function(C){var m,y="";for(m=2147483648;m>0;m>>>=1)y+=(C.high&m)===m?"1":"0";for(m=2147483648;m>0;m>>>=1)y+=(C.low&m)===m?"1":"0";return y}}])})();function Ft(){}function Et(){}Ft.NaN=NaN,Ft.isNaN=function(C){return Number.isNaN(C)},Ft.isInfinite=function(C){return!Number.isFinite(C)},Ft.MAX_VALUE=Number.MAX_VALUE,Ft.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Ft.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(wt=2146435072,pt=new Float64Array(1),Ct=new Int32Array(pt.buffer),Ft.doubleToLongBits=function(C){pt[0]=C;var m=0|Ct[0],y=0|Ct[1];return(y&wt)===wt&&1048575&y&&m!==0&&(m=0,y=2146959360),new It(y,m)},Ft.longBitsToDouble=function(C){return Ct[0]=C.low,Ct[1]=C.high,pt[0]}):(bt=1023,at=Math.log2,$=Math.floor,dt=Math.pow,mt=(function(){for(var C=53;C>0;C--){var m=dt(2,C)-1;if($(at(m))+1===C)return m}return 0})(),Ft.doubleToLongBits=function(C){var m,y,T,F,nt,xt,Dt,re,_e;if(C<0||1/C===Number.NEGATIVE_INFINITY?(xt=1<<31,C=-C):xt=0,C===0)return new It(re=xt,_e=0);if(C===1/0)return new It(re=2146435072|xt,_e=0);if(C!=C)return new It(re=2146959360,_e=0);if(F=0,_e=0,(m=$(C))>1)if(m<=mt)(F=$(at(m)))<=20?(_e=0,re=m<<20-F&1048575):(_e=m%(y=dt(2,T=F-20))<<32-T,re=m/y&1048575);else for(T=m,_e=0;(T=$(y=T/2))!==0;)F++,_e>>>=1,_e|=(1&re)<<31,re>>>=1,y!==T&&(re|=524288);if(Dt=F+bt,nt=m===0,m=C-m,F<52&&m!==0)for(T=0;;){if((y=2*m)>=1?(m=y-1,nt?(Dt--,nt=!1):(T<<=1,T|=1,F++)):(m=y,nt?--Dt==0&&(F++,nt=!1):(T<<=1,F++)),F===20)re|=T,T=0;else if(F===52){_e|=T;break}if(y===1){F<20?re|=T<<20-F:F<52&&(_e|=T<<52-F);break}}return re|=Dt<<20,new It(re|=xt,_e)},Ft.longBitsToDouble=function(C){var m,y,T,F,nt=C.high,xt=C.low,Dt=nt&1<<31?-1:1;for(T=((2146435072&nt)>>20)-bt,F=0,y=1<<19,m=1;m<=20;m++)nt&y&&(F+=dt(2,-m)),y>>>=1;for(y=1<<31,m=21;m<=52;m++)xt&y&&(F+=dt(2,-m)),y>>>=1;if(T===-1023){if(F===0)return 0*Dt;T=-1022}else{if(T===1024)return F===0?Dt/0:NaN;F+=1}return Dt*F*dt(2,T)});var lt=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({RuntimeException:m})[0],T}return k(m,C),a(m)})(j),kt=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,null,[{key:"constructor_",value:function(){if(arguments.length===0)lt.constructor_.call(this);else if(arguments.length===1){var y=arguments[0];lt.constructor_.call(this,y)}}}])})(lt),At=(function(){function C(){i(this,C)}return a(C,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)C.shouldNeverReachHere(null);else if(arguments.length===1){var m=arguments[0];throw new kt("Should never reach here"+(m!==null?": "+m:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var m=arguments[0];C.isTrue(m,null)}else if(arguments.length===2){var y=arguments[1];if(!arguments[0])throw y===null?new kt:new kt(y)}}},{key:"equals",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];C.equals(m,y,null)}else if(arguments.length===3){var T=arguments[0],F=arguments[1],nt=arguments[2];if(!F.equals(T))throw new kt("Expected "+T+" but encountered "+F+(nt!==null?": "+nt:""))}}}])})(),Nt=new ArrayBuffer(8),qt=new Float64Array(Nt),ie=new Int32Array(Nt),Ht=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getM",value:function(){return Ft.NaN}},{key:"setOrdinate",value:function(m,y){switch(m){case C.X:this.x=y;break;case C.Y:this.y=y;break;case C.Z:this.setZ(y);break;default:throw new X("Invalid ordinate index: "+m)}}},{key:"equals2D",value:function(){if(arguments.length===1){var m=arguments[0];return this.x===m.x&&this.y===m.y}if(arguments.length===2){var y=arguments[0],T=arguments[1];return!!vt.equalsWithTolerance(this.x,y.x,T)&&!!vt.equalsWithTolerance(this.y,y.y,T)}}},{key:"setM",value:function(m){throw new X("Invalid ordinate index: "+C.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(m){switch(m){case C.X:return this.x;case C.Y:return this.y;case C.Z:return this.getZ()}throw new X("Invalid ordinate index: "+m)}},{key:"equals3D",value:function(m){return this.x===m.x&&this.y===m.y&&(this.getZ()===m.getZ()||Ft.isNaN(this.getZ())&&Ft.isNaN(m.getZ()))}},{key:"equals",value:function(m){return m instanceof C&&this.equals2D(m)}},{key:"equalInZ",value:function(m,y){return vt.equalsWithTolerance(this.getZ(),m.getZ(),y)}},{key:"setX",value:function(m){this.x=m}},{key:"compareTo",value:function(m){var y=m;return this.x<y.x?-1:this.x>y.x?1:this.y<y.y?-1:this.y>y.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(m){this.z=m}},{key:"clone",value:function(){try{return null}catch(m){if(m instanceof CloneNotSupportedException)return At.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw m}}},{key:"copy",value:function(){return new C(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(m){var y=this.x-m.x,T=this.y-m.y,F=this.getZ()-m.getZ();return Math.sqrt(y*y+T*T+F*F)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(m){this.y=m}},{key:"distance",value:function(m){var y=this.x-m.x,T=this.y-m.y;return Math.sqrt(y*y+T*T)}},{key:"hashCode",value:function(){var m=17;return m=37*(m=37*m+C.hashCode(this.x))+C.hashCode(this.y)}},{key:"setCoordinate",value:function(m){this.x=m.x,this.y=m.y,this.z=m.getZ()}},{key:"interfaces_",get:function(){return[rt,st,it]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)C.constructor_.call(this,0,0);else if(arguments.length===1){var m=arguments[0];C.constructor_.call(this,m.x,m.y,m.getZ())}else if(arguments.length===2){var y=arguments[0],T=arguments[1];C.constructor_.call(this,y,T,C.NULL_ORDINATE)}else if(arguments.length===3){var F=arguments[0],nt=arguments[1],xt=arguments[2];this.x=F,this.y=nt,this.z=xt}}},{key:"hashCode",value:function(m){return qt[0]=m,ie[0]^ie[1]}}])})(),ce=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"compare",value:function(m,y){var T=C.compare(m.x,y.x);if(T!==0)return T;var F=C.compare(m.y,y.y);return F!==0?F:this._dimensionsToTest<=2?0:C.compare(m.getZ(),y.getZ())}},{key:"interfaces_",get:function(){return[Et]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)C.constructor_.call(this,2);else if(arguments.length===1){var m=arguments[0];if(m!==2&&m!==3)throw new X("only 2 or 3 dimensions may be specified");this._dimensionsToTest=m}}},{key:"compare",value:function(m,y){return m<y?-1:m>y?1:Ft.isNaN(m)?Ft.isNaN(y)?0:-1:Ft.isNaN(y)?1:0}}])})();Ht.DimensionalComparator=ce,Ht.NULL_ORDINATE=Ft.NaN,Ht.X=0,Ht.Y=1,Ht.Z=2,Ht.M=3;var de=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(m){if(!(m instanceof C))return!1;var y=m;return this.isNull()?y.isNull():this._maxx===y.getMaxX()&&this._maxy===y.getMaxY()&&this._minx===y.getMinX()&&this._miny===y.getMinY()}},{key:"intersection",value:function(m){if(this.isNull()||m.isNull()||!this.intersects(m))return new C;var y=this._minx>m._minx?this._minx:m._minx,T=this._miny>m._miny?this._miny:m._miny;return new C(y,this._maxx<m._maxx?this._maxx:m._maxx,T,this._maxy<m._maxy?this._maxy:m._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];return this.covers(m.x,m.y)}if(arguments[0]instanceof C){var y=arguments[0];return!this.isNull()&&!y.isNull()&&y.getMinX()>=this._minx&&y.getMaxX()<=this._maxx&&y.getMinY()>=this._miny&&y.getMaxY()<=this._maxy}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];return!this.isNull()&&T>=this._minx&&T<=this._maxx&&F>=this._miny&&F<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var m=arguments[0];return!this.isNull()&&!m.isNull()&&!(m._minx>this._maxx||m._maxx<this._minx||m._miny>this._maxy||m._maxy<this._miny)}if(arguments[0]instanceof Ht){var y=arguments[0];return this.intersects(y.x,y.y)}}else if(arguments.length===2){if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var T=arguments[0],F=arguments[1];return!this.isNull()&&!((T.x<F.x?T.x:F.x)>this._maxx)&&!((T.x>F.x?T.x:F.x)<this._minx)&&!((T.y<F.y?T.y:F.y)>this._maxy)&&!((T.y>F.y?T.y:F.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var nt=arguments[0],xt=arguments[1];return!this.isNull()&&!(nt>this._maxx||nt<this._minx||xt>this._maxy||xt<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var m=this.getWidth(),y=this.getHeight();return Math.sqrt(m*m+y*y)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];this.expandToInclude(m.x,m.y)}else if(arguments[0]instanceof C){var y=arguments[0];if(y.isNull())return null;this.isNull()?(this._minx=y.getMinX(),this._maxx=y.getMaxX(),this._miny=y.getMinY(),this._maxy=y.getMaxY()):(y._minx<this._minx&&(this._minx=y._minx),y._maxx>this._maxx&&(this._maxx=y._maxx),y._miny<this._miny&&(this._miny=y._miny),y._maxy>this._maxy&&(this._maxy=y._maxy))}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this.isNull()?(this._minx=T,this._maxx=T,this._miny=F,this._maxy=F):(T<this._minx&&(this._minx=T),T>this._maxx&&(this._maxx=T),F<this._miny&&(this._miny=F),F>this._maxy&&(this._maxy=F))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var m=this.getWidth(),y=this.getHeight();return m<y?m:y}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(m){var y=m;return this.isNull()?y.isNull()?0:-1:y.isNull()?1:this._minx<y._minx?-1:this._minx>y._minx?1:this._miny<y._miny?-1:this._miny>y._miny?1:this._maxx<y._maxx?-1:this._maxx>y._maxx?1:this._maxy<y._maxy?-1:this._maxy>y._maxy?1:0}},{key:"translate",value:function(m,y){if(this.isNull())return null;this.init(this.getMinX()+m,this.getMaxX()+m,this.getMinY()+y,this.getMaxY()+y)}},{key:"copy",value:function(){return new C(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(m){return!(!this.isNull()&&!m.isNull())||m._minx>this._maxx||m._maxx<this._minx||m._miny>this._maxy||m._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var m=this.getWidth(),y=this.getHeight();return m>y?m:y}},{key:"expandBy",value:function(){if(arguments.length===1){var m=arguments[0];this.expandBy(m,m)}else if(arguments.length===2){var y=arguments[0],T=arguments[1];if(this.isNull())return null;this._minx-=y,this._maxx+=y,this._miny-=T,this._maxy+=T,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var m=arguments[0];return this.covers(m)}if(arguments[0]instanceof Ht){var y=arguments[0];return this.covers(y)}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];return this.covers(T,F)}}},{key:"centre",value:function(){return this.isNull()?null:new Ht((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];this.init(m.x,m.x,m.y,m.y)}else if(arguments[0]instanceof C){var y=arguments[0];this._minx=y._minx,this._maxx=y._maxx,this._miny=y._miny,this._maxy=y._maxy}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this.init(T.x,F.x,T.y,F.y)}else if(arguments.length===4){var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=arguments[3];nt<xt?(this._minx=nt,this._maxx=xt):(this._minx=xt,this._maxx=nt),Dt<re?(this._miny=Dt,this._maxy=re):(this._miny=re,this._maxy=Dt)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(m){if(this.intersects(m))return 0;var y=0;this._maxx<m._minx?y=m._minx-this._maxx:this._minx>m._maxx&&(y=this._minx-m._maxx);var T=0;return this._maxy<m._miny?T=m._miny-this._maxy:this._miny>m._maxy&&(T=this._miny-m._maxy),y===0?T:T===0?y:Math.sqrt(y*y+T*T)}},{key:"hashCode",value:function(){var m=17;return m=37*(m=37*(m=37*(m=37*m+Ht.hashCode(this._minx))+Ht.hashCode(this._maxx))+Ht.hashCode(this._miny))+Ht.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[rt,it]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];this.init(m.x,m.x,m.y,m.y)}else if(arguments[0]instanceof C){var y=arguments[0];this.init(y)}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this.init(T.x,F.x,T.y,F.y)}else if(arguments.length===4){var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=arguments[3];this.init(nt,xt,Dt,re)}}},{key:"intersects",value:function(){if(arguments.length===3){var m=arguments[0],y=arguments[1],T=arguments[2];return T.x>=(m.x<y.x?m.x:y.x)&&T.x<=(m.x>y.x?m.x:y.x)&&T.y>=(m.y<y.y?m.y:y.y)&&T.y<=(m.y>y.y?m.y:y.y)}if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=Math.min(xt.x,Dt.x),_e=Math.max(xt.x,Dt.x),sr=Math.min(F.x,nt.x),_r=Math.max(F.x,nt.x);return!(sr>_e)&&!(_r<re)&&(re=Math.min(xt.y,Dt.y),_e=Math.max(xt.y,Dt.y),sr=Math.min(F.y,nt.y),_r=Math.max(F.y,nt.y),!(sr>_e)&&!(_r<re))}}}])})(),Se=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===C.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(m){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(m){return this===m||this.equalsExact(m,0)}},{key:"geometryChanged",value:function(){this.apply(C.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(m){return m!==null&&this.norm().equalsExact(m.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var m;if(arguments.length===1){var y=arguments[0];return m=y,this.getTypeCode()!==m.getTypeCode()?this.getTypeCode()-m.getTypeCode():this.isEmpty()&&m.isEmpty()?0:this.isEmpty()?-1:m.isEmpty()?1:this.compareToSameClass(y)}if(arguments.length===2){var T=arguments[0],F=arguments[1];return m=T,this.getTypeCode()!==m.getTypeCode()?this.getTypeCode()-m.getTypeCode():this.isEmpty()&&m.isEmpty()?0:this.isEmpty()?-1:m.isEmpty()?1:this.compareToSameClass(T,F)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(m){if(m.getTypeCode()===C.TYPECODE_GEOMETRYCOLLECTION)throw new X("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(m,y,T){return T===0?m.equals(y):m.distance(y)<=T}},{key:"norm",value:function(){var m=this.copy();return m.normalize(),m}},{key:"reverse",value:function(){var m=this.reverseInternal();return this.envelope!=null&&(m.envelope=this.envelope.copy()),m.setSRID(this.getSRID()),m}},{key:"copy",value:function(){var m=this.copyInternal();return m.envelope=this._envelope==null?null:this._envelope.copy(),m._SRID=this._SRID,m._userData=this._userData,m}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new de(this._envelope)}},{key:"setSRID",value:function(m){this._SRID=m}},{key:"setUserData",value:function(m){this._userData=m}},{key:"compare",value:function(m,y){for(var T=m.iterator(),F=y.iterator();T.hasNext()&&F.hasNext();){var nt=T.next(),xt=F.next(),Dt=nt.compareTo(xt);if(Dt!==0)return Dt}return T.hasNext()?1:F.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(m){return this.getClass()===m.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===C.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===C.TYPECODE_MULTIPOINT||this.getTypeCode()===C.TYPECODE_MULTILINESTRING||this.getTypeCode()===C.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[st,rt,it]}},{key:"getClass",value:function(){return C}}],[{key:"hasNonEmptyElements",value:function(m){for(var y=0;y<m.length;y++)if(!m[y].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(m){for(var y=0;y<m.length;y++)if(m[y]===null)return!0;return!1}}])})();Se.constructor_=function(C){C&&(this._envelope=null,this._userData=null,this._factory=C,this._SRID=C.getSRID())},Se.TYPECODE_POINT=0,Se.TYPECODE_MULTIPOINT=1,Se.TYPECODE_LINESTRING=2,Se.TYPECODE_LINEARRING=3,Se.TYPECODE_MULTILINESTRING=4,Se.TYPECODE_POLYGON=5,Se.TYPECODE_MULTIPOLYGON=6,Se.TYPECODE_GEOMETRYCOLLECTION=7,Se.TYPENAME_POINT="Point",Se.TYPENAME_MULTIPOINT="MultiPoint",Se.TYPENAME_LINESTRING="LineString",Se.TYPENAME_LINEARRING="LinearRing",Se.TYPENAME_MULTILINESTRING="MultiLineString",Se.TYPENAME_POLYGON="Polygon",Se.TYPENAME_MULTIPOLYGON="MultiPolygon",Se.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Se.geometryChangedFilter={get interfaces_(){return[Y]},filter:function(C){C.geometryChangedAction()}};var $t=(function(){function C(){i(this,C)}return a(C,null,[{key:"toLocationSymbol",value:function(m){switch(m){case C.EXTERIOR:return"e";case C.BOUNDARY:return"b";case C.INTERIOR:return"i";case C.NONE:return"-"}throw new X("Unknown location value: "+m)}}])})();$t.INTERIOR=0,$t.BOUNDARY=1,$t.EXTERIOR=2,$t.NONE=-1;var He=(function(){return a((function C(){i(this,C)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),ke=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({NoSuchElementException:m})[0],T}return k(m,C),a(m)})(j),Jt=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({UnsupportedOperationException:m})[0],T}return k(m,C),a(m)})(j),Vr=(function(C){function m(){return i(this,m),n(this,m,arguments)}return k(m,C),a(m,[{key:"contains",value:function(){}}])})(He),vr=(function(C){function m(y){var T;return i(this,m),(T=n(this,m)).map=new Map,y instanceof He&&T.addAll(y),T}return k(m,C),a(m,[{key:"contains",value:function(y){var T=y.hashCode?y.hashCode():y;return!!this.map.has(T)}},{key:"add",value:function(y){var T=y.hashCode?y.hashCode():y;return!this.map.has(T)&&!!this.map.set(T,y)}},{key:"addAll",value:function(y){var T,F=g(y);try{for(F.s();!(T=F.n()).done;){var nt=T.value;this.add(nt)}}catch(xt){F.e(xt)}finally{F.f()}return!0}},{key:"remove",value:function(){throw new Jt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Dr(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(Vr),Dr=(function(){return a((function C(m){i(this,C),this.iterator=m.values();var y=this.iterator.next(),T=y.done,F=y.value;this.done=T,this.value=F}),[{key:"next",value:function(){if(this.done)throw new ke;var C=this.value,m=this.iterator.next(),y=m.done,T=m.value;return this.done=y,this.value=T,C}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new Jt}}])})(),Ie=(function(){function C(){i(this,C)}return a(C,null,[{key:"opposite",value:function(m){return m===C.LEFT?C.RIGHT:m===C.RIGHT?C.LEFT:m}}])})();Ie.ON=0,Ie.LEFT=1,Ie.RIGHT=2;var Mr=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({EmptyStackException:m})[0],T}return k(m,C),a(m)})(j),ir=(function(C){function m(y){var T;return i(this,m),(T=n(this,m,[y])).name=Object.keys({IndexOutOfBoundsException:m})[0],T}return k(m,C),a(m)})(j),Rr=(function(C){function m(){return i(this,m),n(this,m,arguments)}return k(m,C),a(m,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(He),Pr=(function(C){function m(){var y;return i(this,m),(y=n(this,m)).array=[],y}return k(m,C),a(m,[{key:"add",value:function(y){return this.array.push(y),!0}},{key:"get",value:function(y){if(y<0||y>=this.size())throw new ir;return this.array[y]}},{key:"push",value:function(y){return this.array.push(y),y}},{key:"pop",value:function(){if(this.array.length===0)throw new Mr;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Mr;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(y){return this.array.indexOf(y)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(Rr);function Ir(C,m){return C.interfaces_&&C.interfaces_.indexOf(m)>-1}var dr=(function(){return a((function C(m){i(this,C),this.str=m}),[{key:"append",value:function(C){this.str+=C}},{key:"setCharAt",value:function(C,m){this.str=this.str.substr(0,C)+m+this.str.substr(C+1)}},{key:"toString",value:function(){return this.str}}])})(),ar=(function(){function C(m){i(this,C),this.value=m}return a(C,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(m){return this.value<m?-1:this.value>m?1:0}}],[{key:"compare",value:function(m,y){return m<y?-1:m>y?1:0}},{key:"isNan",value:function(m){return Number.isNaN(m)}},{key:"valueOf",value:function(m){return new C(m)}}])})(),Or=(function(){return a((function C(){i(this,C)}),null,[{key:"isWhitespace",value:function(C){return C<=32&&C>=0||C===127}},{key:"toUpperCase",value:function(C){return C.toUpperCase()}}])})(),er=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"le",value:function(m){return this._hi<m._hi||this._hi===m._hi&&this._lo<=m._lo}},{key:"extractSignificantDigits",value:function(m,y){var T=this.abs(),F=C.magnitude(T._hi),nt=C.TEN.pow(F);(T=T.divide(nt)).gt(C.TEN)?(T=T.divide(C.TEN),F+=1):T.lt(C.ONE)&&(T=T.multiply(C.TEN),F-=1);for(var xt=F+1,Dt=new dr,re=C.MAX_PRINT_DIGITS-1,_e=0;_e<=re;_e++){m&&_e===xt&&Dt.append(".");var sr=Math.trunc(T._hi);if(sr<0)break;var _r=!1,tn=0;sr>9?(_r=!0,tn="9"):tn="0"+sr,Dt.append(tn),T=T.subtract(C.valueOf(sr)).multiply(C.TEN),_r&&T.selfAdd(C.TEN);var In=!0,Zn=C.magnitude(T._hi);if(Zn<0&&Math.abs(Zn)>=re-_e&&(In=!1),!In)break}return y[0]=F,Dt.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof C){var m=arguments[0];return this.add(m.negate())}if(typeof arguments[0]=="number"){var y=arguments[0];return this.add(-y)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof C){var m=arguments[0];return this._hi===m._hi&&this._lo===m._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof C){var m=arguments[0];return this.isNaN()?this:this.selfAdd(-m._hi,-m._lo)}if(typeof arguments[0]=="number"){var y=arguments[0];return this.isNaN()?this:this.selfAdd(-y,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(m){return this.le(m)?this:m}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var m=arguments[0];return this.selfDivide(m._hi,m._lo)}if(typeof arguments[0]=="number"){var y=arguments[0];return this.selfDivide(y,0)}}else if(arguments.length===2){var T,F,nt,xt,Dt=arguments[0],re=arguments[1],_e=null,sr=null,_r=null,tn=null;return nt=this._hi/Dt,tn=(_e=(_r=C.SPLIT*nt)-(_e=_r-nt))*(sr=(tn=C.SPLIT*Dt)-(sr=tn-Dt))-(xt=nt*Dt)+_e*(F=Dt-sr)+(T=nt-_e)*sr+T*F,tn=nt+(_r=(this._hi-xt-tn+this._lo-nt*re)/Dt),this._hi=tn,this._lo=nt-tn+_r,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof C){var m,y,T,F,nt=arguments[0],xt=null,Dt=null,re=null,_e=null;return m=(T=this._hi/nt._hi)-(xt=(re=C.SPLIT*T)-(xt=re-T)),_e=xt*(Dt=(_e=C.SPLIT*nt._hi)-(Dt=_e-nt._hi))-(F=T*nt._hi)+xt*(y=nt._hi-Dt)+m*Dt+m*y,new C(_e=T+(re=(this._hi-F-_e+this._lo-T*nt._lo)/nt._hi),T-_e+re)}if(typeof arguments[0]=="number"){var sr=arguments[0];return Ft.isNaN(sr)?C.createNaN():C.copy(this).selfDivide(sr,0)}}},{key:"ge",value:function(m){return this._hi>m._hi||this._hi===m._hi&&this._lo>=m._lo}},{key:"pow",value:function(m){if(m===0)return C.valueOf(1);var y=new C(this),T=C.valueOf(1),F=Math.abs(m);if(F>1)for(;F>0;)F%2==1&&T.selfMultiply(y),(F/=2)>0&&(y=y.sqr());else T=y;return m<0?T.reciprocal():T}},{key:"ceil",value:function(){if(this.isNaN())return C.NaN;var m=Math.ceil(this._hi),y=0;return m===this._hi&&(y=Math.ceil(this._lo)),new C(m,y)}},{key:"compareTo",value:function(m){var y=m;return this._hi<y._hi?-1:this._hi>y._hi?1:this._lo<y._lo?-1:this._lo>y._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof C){var m=arguments[0];return this.init(m),this}if(typeof arguments[0]=="number"){var y=arguments[0];return this.init(y),this}}},{key:"max",value:function(m){return this.ge(m)?this:m}},{key:"sqrt",value:function(){if(this.isZero())return C.valueOf(0);if(this.isNegative())return C.NaN;var m=1/Math.sqrt(this._hi),y=this._hi*m,T=C.valueOf(y),F=this.subtract(T.sqr())._hi*(.5*m);return T.add(F)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var m=arguments[0];return this.selfAdd(m._hi,m._lo)}if(typeof arguments[0]=="number"){var y,T,F,nt,xt,Dt=arguments[0],re=null;return re=(F=this._hi+Dt)-(nt=F-this._hi),T=(xt=(re=Dt-nt+(this._hi-re))+this._lo)+(F-(y=F+xt)),this._hi=y+T,this._lo=T+(y-this._hi),this}}else if(arguments.length===2){var _e,sr,_r,tn,In=arguments[0],Zn=arguments[1],hi=null,Yn=null,Hn=null;_r=this._hi+In,sr=this._lo+Zn,Yn=_r-(Hn=_r-this._hi),hi=sr-(tn=sr-this._lo);var fa=(_e=_r+(Hn=(Yn=In-Hn+(this._hi-Yn))+sr))+(Hn=(hi=Zn-tn+(this._lo-hi))+(Hn+(_r-_e))),Ui=Hn+(_e-fa);return this._hi=fa,this._lo=Ui,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof C){var m=arguments[0];return this.selfMultiply(m._hi,m._lo)}if(typeof arguments[0]=="number"){var y=arguments[0];return this.selfMultiply(y,0)}}else if(arguments.length===2){var T,F,nt=arguments[0],xt=arguments[1],Dt=null,re=null,_e=null,sr=null;Dt=(_e=C.SPLIT*this._hi)-this._hi,sr=C.SPLIT*nt,Dt=_e-Dt,T=this._hi-Dt,re=sr-nt;var _r=(_e=this._hi*nt)+(sr=Dt*(re=sr-re)-_e+Dt*(F=nt-re)+T*re+T*F+(this._hi*xt+this._lo*nt)),tn=sr+(Dt=_e-_r);return this._hi=_r,this._lo=tn,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return C.NaN;var m=Math.floor(this._hi),y=0;return m===this._hi&&(y=Math.floor(this._lo)),new C(m,y)}},{key:"negate",value:function(){return this.isNaN()?this:new C(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(m){if(m instanceof CloneNotSupportedException)return null;throw m}}},{key:"multiply",value:function(){if(arguments[0]instanceof C){var m=arguments[0];return m.isNaN()?C.createNaN():C.copy(this).selfMultiply(m)}if(typeof arguments[0]=="number"){var y=arguments[0];return Ft.isNaN(y)?C.createNaN():C.copy(this).selfMultiply(y,0)}}},{key:"isNaN",value:function(){return Ft.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var m=C.magnitude(this._hi);return m>=-3&&m<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var m=this.getSpecialNumberString();if(m!==null)return m;var y=new Array(1).fill(null),T=this.extractSignificantDigits(!0,y),F=y[0]+1,nt=T;if(T.charAt(0)===".")nt="0"+T;else if(F<0)nt="0."+C.stringOfChar("0",-F)+T;else if(T.indexOf(".")===-1){var xt=F-T.length;nt=T+C.stringOfChar("0",xt)+".0"}return this.isNegative()?"-"+nt:nt}},{key:"reciprocal",value:function(){var m,y,T,F,nt=null,xt=null,Dt=null,re=null;m=(T=1/this._hi)-(nt=(Dt=C.SPLIT*T)-(nt=Dt-T)),xt=(re=C.SPLIT*this._hi)-this._hi;var _e=T+(Dt=(1-(F=T*this._hi)-(re=nt*(xt=re-xt)-F+nt*(y=this._hi-xt)+m*xt+m*y)-T*this._lo)/this._hi);return new C(_e,T-_e+Dt)}},{key:"toSciNotation",value:function(){if(this.isZero())return C.SCI_NOT_ZERO;var m=this.getSpecialNumberString();if(m!==null)return m;var y=new Array(1).fill(null),T=this.extractSignificantDigits(!1,y),F=C.SCI_NOT_EXPONENT_CHAR+y[0];if(T.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+T);var nt="";T.length>1&&(nt=T.substring(1));var xt=T.charAt(0)+"."+nt;return this.isNegative()?"-"+xt+F:xt+F}},{key:"abs",value:function(){return this.isNaN()?C.NaN:this.isNegative()?this.negate():new C(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(m){return this._hi<m._hi||this._hi===m._hi&&this._lo<m._lo}},{key:"add",value:function(){if(arguments[0]instanceof C){var m=arguments[0];return C.copy(this).selfAdd(m)}if(typeof arguments[0]=="number"){var y=arguments[0];return C.copy(this).selfAdd(y)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var m=arguments[0];this._hi=m,this._lo=0}else if(arguments[0]instanceof C){var y=arguments[0];this._hi=y._hi,this._lo=y._lo}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this._hi=T,this._lo=F}}},{key:"gt",value:function(m){return this._hi>m._hi||this._hi===m._hi&&this._lo>m._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?C.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[it,rt,st]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var m=arguments[0];this.init(m)}else if(arguments[0]instanceof C){var y=arguments[0];this.init(y)}else if(typeof arguments[0]=="string"){var T=arguments[0];C.constructor_.call(this,C.parse(T))}}else if(arguments.length===2){var F=arguments[0],nt=arguments[1];this.init(F,nt)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1],T=arguments[2],F=arguments[3];return C.determinant(C.valueOf(m),C.valueOf(y),C.valueOf(T),C.valueOf(F))}if(arguments[3]instanceof C&&arguments[2]instanceof C&&arguments[0]instanceof C&&arguments[1]instanceof C){var nt=arguments[1],xt=arguments[2],Dt=arguments[3];return arguments[0].multiply(Dt).selfSubtract(nt.multiply(xt))}}},{key:"sqr",value:function(m){return C.valueOf(m).selfMultiply(m)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var m=arguments[0];return C.parse(m)}if(typeof arguments[0]=="number")return new C(arguments[0])}},{key:"sqrt",value:function(m){return C.valueOf(m).sqrt()}},{key:"parse",value:function(m){for(var y=0,T=m.length;Or.isWhitespace(m.charAt(y));)y++;var F=!1;if(y<T){var nt=m.charAt(y);nt!=="-"&&nt!=="+"||(y++,nt==="-"&&(F=!0))}for(var xt=new C,Dt=0,re=0,_e=0,sr=!1;!(y>=T);){var _r=m.charAt(y);if(y++,Or.isDigit(_r)){var tn=_r-"0";xt.selfMultiply(C.TEN),xt.selfAdd(tn),Dt++}else{if(_r!=="."){if(_r==="e"||_r==="E"){var In=m.substring(y);try{_e=ar.parseInt(In)}catch(fa){throw fa instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+In+" in string "+m):fa}break}throw new NumberFormatException("Unexpected character '"+_r+"' at position "+y+" in string "+m)}re=Dt,sr=!0}}var Zn=xt;sr||(re=Dt);var hi=Dt-re-_e;if(hi===0)Zn=xt;else if(hi>0){var Yn=C.TEN.pow(hi);Zn=xt.divide(Yn)}else if(hi<0){var Hn=C.TEN.pow(-hi);Zn=xt.multiply(Hn)}return F?Zn.negate():Zn}},{key:"createNaN",value:function(){return new C(Ft.NaN,Ft.NaN)}},{key:"copy",value:function(m){return new C(m)}},{key:"magnitude",value:function(m){var y=Math.abs(m),T=Math.log(y)/Math.log(10),F=Math.trunc(Math.floor(T));return 10*Math.pow(10,F)<=y&&(F+=1),F}},{key:"stringOfChar",value:function(m,y){for(var T=new dr,F=0;F<y;F++)T.append(m);return T.toString()}}])})();er.PI=new er(3.141592653589793,12246467991473532e-32),er.TWO_PI=new er(6.283185307179586,24492935982947064e-32),er.PI_2=new er(1.5707963267948966,6123233995736766e-32),er.E=new er(2.718281828459045,14456468917292502e-32),er.NaN=new er(Ft.NaN,Ft.NaN),er.EPS=123259516440783e-46,er.SPLIT=134217729,er.MAX_PRINT_DIGITS=32,er.TEN=er.valueOf(10),er.ONE=er.valueOf(1),er.SCI_NOT_EXPONENT_CHAR="E",er.SCI_NOT_ZERO="0.0E0";var Fr=(function(){function C(){i(this,C)}return a(C,null,[{key:"orientationIndex",value:function(m,y,T){var F=C.orientationIndexFilter(m,y,T);if(F<=1)return F;var nt=er.valueOf(y.x).selfAdd(-m.x),xt=er.valueOf(y.y).selfAdd(-m.y),Dt=er.valueOf(T.x).selfAdd(-y.x),re=er.valueOf(T.y).selfAdd(-y.y);return nt.selfMultiply(re).selfSubtract(xt.selfMultiply(Dt)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof er&&arguments[2]instanceof er&&arguments[0]instanceof er&&arguments[1]instanceof er){var m=arguments[1],y=arguments[2],T=arguments[3];return arguments[0].multiply(T).selfSubtract(m.multiply(y)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=er.valueOf(F),_e=er.valueOf(nt),sr=er.valueOf(xt),_r=er.valueOf(Dt);return re.multiply(_r).selfSubtract(_e.multiply(sr)).signum()}}},{key:"intersection",value:function(m,y,T,F){var nt=new er(m.y).selfSubtract(y.y),xt=new er(y.x).selfSubtract(m.x),Dt=new er(m.x).selfMultiply(y.y).selfSubtract(new er(y.x).selfMultiply(m.y)),re=new er(T.y).selfSubtract(F.y),_e=new er(F.x).selfSubtract(T.x),sr=new er(T.x).selfMultiply(F.y).selfSubtract(new er(F.x).selfMultiply(T.y)),_r=xt.multiply(sr).selfSubtract(_e.multiply(Dt)),tn=re.multiply(Dt).selfSubtract(nt.multiply(sr)),In=nt.multiply(_e).selfSubtract(re.multiply(xt)),Zn=_r.selfDivide(In).doubleValue(),hi=tn.selfDivide(In).doubleValue();return Ft.isNaN(Zn)||Ft.isInfinite(Zn)||Ft.isNaN(hi)||Ft.isInfinite(hi)?null:new Ht(Zn,hi)}},{key:"orientationIndexFilter",value:function(m,y,T){var F=null,nt=(m.x-T.x)*(y.y-T.y),xt=(m.y-T.y)*(y.x-T.x),Dt=nt-xt;if(nt>0){if(xt<=0)return C.signum(Dt);F=nt+xt}else{if(!(nt<0)||xt>=0)return C.signum(Dt);F=-nt-xt}var re=C.DP_SAFE_EPSILON*F;return Dt>=re||-Dt>=re?C.signum(Dt):2}},{key:"signum",value:function(m){return m>0?1:m<0?-1:0}}])})();Fr.DP_SAFE_EPSILON=1e-15;var Ze=(function(){return a((function C(){i(this,C)}),[{key:"getM",value:function(C){if(this.hasM()){var m=this.getDimension()-this.getMeasures();return this.getOrdinate(C,m)}return Ft.NaN}},{key:"setOrdinate",value:function(C,m,y){}},{key:"getZ",value:function(C){return this.hasZ()?this.getOrdinate(C,2):Ft.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(C,m){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(C){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(C){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(C){}},{key:"copy",value:function(){}},{key:"getY",value:function(C){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[st]}}])})();Ze.X=0,Ze.Y=1,Ze.Z=2,Ze.M=3;var rr=(function(){function C(){i(this,C)}return a(C,null,[{key:"index",value:function(m,y,T){return Fr.orientationIndex(m,y,T)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var m=arguments[0],y=m.length-1;if(y<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var T=m[0],F=0,nt=1;nt<=y;nt++){var xt=m[nt];xt.y>T.y&&(T=xt,F=nt)}var Dt=F;do(Dt-=1)<0&&(Dt=y);while(m[Dt].equals2D(T)&&Dt!==F);var re=F;do re=(re+1)%y;while(m[re].equals2D(T)&&re!==F);var _e=m[Dt],sr=m[re];if(_e.equals2D(T)||sr.equals2D(T)||_e.equals2D(sr))return!1;var _r=C.index(_e,T,sr);return _r===0?_e.x>sr.x:_r>0}if(Ir(arguments[0],Ze)){var tn=arguments[0],In=tn.size()-1;if(In<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var Zn=tn.getCoordinate(0),hi=0,Yn=1;Yn<=In;Yn++){var Hn=tn.getCoordinate(Yn);Hn.y>Zn.y&&(Zn=Hn,hi=Yn)}var fa=null,Ui=hi;do(Ui-=1)<0&&(Ui=In),fa=tn.getCoordinate(Ui);while(fa.equals2D(Zn)&&Ui!==hi);var $a=null,Vo=hi;do Vo=(Vo+1)%In,$a=tn.getCoordinate(Vo);while($a.equals2D(Zn)&&Vo!==hi);if(fa.equals2D(Zn)||$a.equals2D(Zn)||fa.equals2D($a))return!1;var so=C.index(fa,Zn,$a);return so===0?fa.x>$a.x:so>0}}}])})();rr.CLOCKWISE=-1,rr.RIGHT=rr.CLOCKWISE,rr.COUNTERCLOCKWISE=1,rr.LEFT=rr.COUNTERCLOCKWISE,rr.COLLINEAR=0,rr.STRAIGHT=rr.COLLINEAR;var Me=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(C,m){var y=this.getRightmostSideOfSegment(C,m);return y<0&&(y=this.getRightmostSideOfSegment(C,m-1)),y<0&&(this._minCoord=null,this.checkForRightmostCoordinate(C)),y}},{key:"findRightmostEdgeAtVertex",value:function(){var C=this._minDe.getEdge().getCoordinates();At.isTrue(this._minIndex>0&&this._minIndex<C.length,"rightmost point expected to be interior vertex of edge");var m=C[this._minIndex-1],y=C[this._minIndex+1],T=rr.index(this._minCoord,y,m),F=!1;(m.y<this._minCoord.y&&y.y<this._minCoord.y&&T===rr.COUNTERCLOCKWISE||m.y>this._minCoord.y&&y.y>this._minCoord.y&&T===rr.CLOCKWISE)&&(F=!0),F&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(C,m){var y=C.getEdge().getCoordinates();if(m<0||m+1>=y.length||y[m].y===y[m+1].y)return-1;var T=Ie.LEFT;return y[m].y<y[m+1].y&&(T=Ie.RIGHT),T}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(C){for(var m=C.getEdge().getCoordinates(),y=0;y<m.length-1;y++)(this._minCoord===null||m[y].x>this._minCoord.x)&&(this._minDe=C,this._minIndex=y,this._minCoord=m[y])}},{key:"findRightmostEdgeAtNode",value:function(){var C=this._minDe.getNode().getEdges();this._minDe=C.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(C){for(var m=C.iterator();m.hasNext();){var y=m.next();y.isForward()&&this.checkForRightmostCoordinate(y)}At.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ie.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),jt=(function(C){function m(y,T){var F;return i(this,m),(F=n(this,m,[T?y+" [ "+T+" ]":y])).pt=T?new Ht(T):void 0,F.name=Object.keys({TopologyException:m})[0],F}return k(m,C),a(m,[{key:"getCoordinate",value:function(){return this.pt}}])})(lt),Mt=(function(){return a((function C(){i(this,C),this.array=[]}),[{key:"addLast",value:function(C){this.array.push(C)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),Bt=(function(C){function m(y){var T;return i(this,m),(T=n(this,m)).array=[],y instanceof He&&T.addAll(y),T}return k(m,C),a(m,[{key:"interfaces_",get:function(){return[Rr,He]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(y){return arguments.length===1?this.array.push(y):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(y){var T,F=g(y);try{for(F.s();!(T=F.n()).done;){var nt=T.value;this.array.push(nt)}}catch(xt){F.e(xt)}finally{F.f()}}},{key:"set",value:function(y,T){var F=this.array[y];return this.array[y]=T,F}},{key:"iterator",value:function(){return new oe(this)}},{key:"get",value:function(y){if(y<0||y>=this.size())throw new ir;return this.array[y]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(y){y?this.array.sort((function(T,F){return y.compare(T,F)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(y){for(var T=0,F=this.array.length;T<F;T++)if(this.array[T]===y)return!!this.array.splice(T,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(Rr),oe=(function(){return a((function C(m){i(this,C),this.arrayList=m,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new ke;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(C){return this.arrayList.set(this.position-1,C)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),ye=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var C=this._dirEdgeList.iterator();C.hasNext();)C.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(C){for(var m=null,y=C.getEdges().iterator();y.hasNext();){var T=y.next();if(T.isVisited()||T.getSym().isVisited()){m=T;break}}if(m===null)throw new jt("unable to find edge to compute depths at "+C.getCoordinate());C.getEdges().computeDepths(m);for(var F=C.getEdges().iterator();F.hasNext();){var nt=F.next();nt.setVisited(!0),this.copySymDepths(nt)}}},{key:"computeDepth",value:function(C){this.clearVisitedEdges();var m=this._finder.getEdge();m.getNode(),m.getLabel(),m.setEdgeDepths(Ie.RIGHT,C),this.copySymDepths(m),this.computeDepths(m)}},{key:"create",value:function(C){this.addReachable(C),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var C=this._dirEdgeList.iterator();C.hasNext();){var m=C.next();m.getDepth(Ie.RIGHT)>=1&&m.getDepth(Ie.LEFT)<=0&&!m.isInteriorAreaEdge()&&m.setInResult(!0)}}},{key:"computeDepths",value:function(C){var m=new vr,y=new Mt,T=C.getNode();for(y.addLast(T),m.add(T),C.setVisited(!0);!y.isEmpty();){var F=y.removeFirst();m.add(F),this.computeNodeDepth(F);for(var nt=F.getEdges().iterator();nt.hasNext();){var xt=nt.next().getSym();if(!xt.isVisited()){var Dt=xt.getNode();m.contains(Dt)||(y.addLast(Dt),m.add(Dt))}}}}},{key:"compareTo",value:function(C){var m=C;return this._rightMostCoord.x<m._rightMostCoord.x?-1:this._rightMostCoord.x>m._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var C=new de,m=this._dirEdgeList.iterator();m.hasNext();)for(var y=m.next().getEdge().getCoordinates(),T=0;T<y.length-1;T++)C.expandToInclude(y[T]);this._env=C}return this._env}},{key:"addReachable",value:function(C){var m=new Pr;for(m.add(C);!m.empty();){var y=m.pop();this.add(y,m)}}},{key:"copySymDepths",value:function(C){var m=C.getSym();m.setDepth(Ie.LEFT,C.getDepth(Ie.RIGHT)),m.setDepth(Ie.RIGHT,C.getDepth(Ie.LEFT))}},{key:"add",value:function(C,m){C.setVisited(!0),this._nodes.add(C);for(var y=C.getEdges().iterator();y.hasNext();){var T=y.next();this._dirEdgeList.add(T);var F=T.getSym().getNode();F.isVisited()||m.push(F)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Bt,this._nodes=new Bt,this._rightMostCoord=null,this._env=null,this._finder=new Me}}])})(),je=(function(){return a((function C(){i(this,C)}),null,[{key:"intersection",value:function(C,m,y,T){var F=C.x<m.x?C.x:m.x,nt=C.y<m.y?C.y:m.y,xt=C.x>m.x?C.x:m.x,Dt=C.y>m.y?C.y:m.y,re=y.x<T.x?y.x:T.x,_e=y.y<T.y?y.y:T.y,sr=y.x>T.x?y.x:T.x,_r=y.y>T.y?y.y:T.y,tn=((F>re?F:re)+(xt<sr?xt:sr))/2,In=((nt>_e?nt:_e)+(Dt<_r?Dt:_r))/2,Zn=C.x-tn,hi=C.y-In,Yn=m.x-tn,Hn=m.y-In,fa=y.x-tn,Ui=y.y-In,$a=T.x-tn,Vo=T.y-In,so=hi-Hn,ls=Yn-Zn,Tu=Zn*Hn-Yn*hi,Cu=Ui-Vo,kl=$a-fa,ml=fa*Vo-$a*Ui,Au=so*kl-Cu*ls,Il=(ls*ml-kl*Tu)/Au,To=(Cu*Tu-so*ml)/Au;return Ft.isNaN(Il)||Ft.isInfinite(Il)||Ft.isNaN(To)||Ft.isInfinite(To)?null:new Ht(Il+tn,To+In)}}])})(),Ge=(function(){return a((function C(){i(this,C)}),null,[{key:"arraycopy",value:function(C,m,y,T,F){for(var nt=0,xt=m;xt<m+F;xt++)y[T+nt]=C[xt],nt++}},{key:"getProperty",value:function(C){return{"line.separator":`
`}[C]}}])})(),Ue=(function(){function C(){i(this,C)}return a(C,null,[{key:"log10",value:function(m){var y=Math.log(m);return Ft.isInfinite(y)||Ft.isNaN(y)?y:y/C.LOG_10}},{key:"min",value:function(m,y,T,F){var nt=m;return y<nt&&(nt=y),T<nt&&(nt=T),F<nt&&(nt=F),nt}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1],T=arguments[2];return m<y?y:m>T?T:m}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var F=arguments[0],nt=arguments[1],xt=arguments[2];return F<nt?nt:F>xt?xt:F}}},{key:"wrap",value:function(m,y){return m<0?y- -m%y:m%y}},{key:"max",value:function(){if(arguments.length===3){var m=arguments[1],y=arguments[2],T=arguments[0];return m>T&&(T=m),y>T&&(T=y),T}if(arguments.length===4){var F=arguments[1],nt=arguments[2],xt=arguments[3],Dt=arguments[0];return F>Dt&&(Dt=F),nt>Dt&&(Dt=nt),xt>Dt&&(Dt=xt),Dt}}},{key:"average",value:function(m,y){return(m+y)/2}}])})();Ue.LOG_10=Math.log(10);var fr=(function(){function C(){i(this,C)}return a(C,null,[{key:"segmentToSegment",value:function(m,y,T,F){if(m.equals(y))return C.pointToSegment(m,T,F);if(T.equals(F))return C.pointToSegment(F,m,y);var nt=!1;if(de.intersects(m,y,T,F)){var xt=(y.x-m.x)*(F.y-T.y)-(y.y-m.y)*(F.x-T.x);if(xt===0)nt=!0;else{var Dt=(m.y-T.y)*(F.x-T.x)-(m.x-T.x)*(F.y-T.y),re=((m.y-T.y)*(y.x-m.x)-(m.x-T.x)*(y.y-m.y))/xt,_e=Dt/xt;(_e<0||_e>1||re<0||re>1)&&(nt=!0)}}else nt=!0;return nt?Ue.min(C.pointToSegment(m,T,F),C.pointToSegment(y,T,F),C.pointToSegment(T,m,y),C.pointToSegment(F,m,y)):0}},{key:"pointToSegment",value:function(m,y,T){if(y.x===T.x&&y.y===T.y)return m.distance(y);var F=(T.x-y.x)*(T.x-y.x)+(T.y-y.y)*(T.y-y.y),nt=((m.x-y.x)*(T.x-y.x)+(m.y-y.y)*(T.y-y.y))/F;if(nt<=0)return m.distance(y);if(nt>=1)return m.distance(T);var xt=((y.y-m.y)*(T.x-y.x)-(y.x-m.x)*(T.y-y.y))/F;return Math.abs(xt)*Math.sqrt(F)}},{key:"pointToLinePerpendicular",value:function(m,y,T){var F=(T.x-y.x)*(T.x-y.x)+(T.y-y.y)*(T.y-y.y),nt=((y.y-m.y)*(T.x-y.x)-(y.x-m.x)*(T.y-y.y))/F;return Math.abs(nt)*Math.sqrt(F)}},{key:"pointToSegmentString",value:function(m,y){if(y.length===0)throw new X("Line array must contain at least one vertex");for(var T=m.distance(y[0]),F=0;F<y.length-1;F++){var nt=C.pointToSegment(m,y[F],y[F+1]);nt<T&&(T=nt)}return T}}])})(),Ke=(function(){return a((function C(){i(this,C)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Ir(arguments[0],Ze);else if(arguments.length!==2&&arguments.length===3){var C=arguments[0],m=arguments[1];return this.create(C,m)}}}])})(),Pe=(function(){return a((function C(){i(this,C)}),[{key:"filter",value:function(C){}}])})(),cr=(function(){return a((function C(){i(this,C)}),null,[{key:"ofLine",value:function(C){var m=C.size();if(m<=1)return 0;var y=0,T=new Ht;C.getCoordinate(0,T);for(var F=T.x,nt=T.y,xt=1;xt<m;xt++){C.getCoordinate(xt,T);var Dt=T.x,re=T.y,_e=Dt-F,sr=re-nt;y+=Math.sqrt(_e*_e+sr*sr),F=Dt,nt=re}return y}}])})(),Oe=a((function C(){i(this,C)})),Wr=(function(){function C(){i(this,C)}return a(C,null,[{key:"copyCoord",value:function(m,y,T,F){for(var nt=Math.min(m.getDimension(),T.getDimension()),xt=0;xt<nt;xt++)T.setOrdinate(F,xt,m.getOrdinate(y,xt))}},{key:"isRing",value:function(m){var y=m.size();return y===0||!(y<=3)&&m.getOrdinate(0,Ze.X)===m.getOrdinate(y-1,Ze.X)&&m.getOrdinate(0,Ze.Y)===m.getOrdinate(y-1,Ze.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Ir(arguments[0],Ze)&&Number.isInteger(arguments[1])){var m=arguments[0],y=arguments[1];C.scroll(m,y,C.isRing(m))}else if(Ir(arguments[0],Ze)&&arguments[1]instanceof Ht){var T=arguments[0],F=arguments[1],nt=C.indexOf(F,T);if(nt<=0)return null;C.scroll(T,nt)}}else if(arguments.length===3){var xt=arguments[0],Dt=arguments[1],re=arguments[2];if(Dt<=0)return null;for(var _e=xt.copy(),sr=re?xt.size()-1:xt.size(),_r=0;_r<sr;_r++)for(var tn=0;tn<xt.getDimension();tn++)xt.setOrdinate(_r,tn,_e.getOrdinate((Dt+_r)%sr,tn));if(re)for(var In=0;In<xt.getDimension();In++)xt.setOrdinate(sr,In,xt.getOrdinate(0,In))}}},{key:"isEqual",value:function(m,y){var T=m.size();if(T!==y.size())return!1;for(var F=Math.min(m.getDimension(),y.getDimension()),nt=0;nt<T;nt++)for(var xt=0;xt<F;xt++){var Dt=m.getOrdinate(nt,xt),re=y.getOrdinate(nt,xt);if(m.getOrdinate(nt,xt)!==y.getOrdinate(nt,xt)&&(!Ft.isNaN(Dt)||!Ft.isNaN(re)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var m=arguments[0];return C.minCoordinateIndex(m,0,m.size()-1)}if(arguments.length===3){for(var y=arguments[0],T=arguments[2],F=-1,nt=null,xt=arguments[1];xt<=T;xt++){var Dt=y.getCoordinate(xt);(nt===null||nt.compareTo(Dt)>0)&&(nt=Dt,F=xt)}return F}}},{key:"extend",value:function(m,y,T){var F=m.create(T,y.getDimension()),nt=y.size();if(C.copy(y,0,F,0,nt),nt>0)for(var xt=nt;xt<T;xt++)C.copy(y,nt-1,F,xt,1);return F}},{key:"reverse",value:function(m){for(var y=m.size()-1,T=Math.trunc(y/2),F=0;F<=T;F++)C.swap(m,F,y-F)}},{key:"swap",value:function(m,y,T){if(y===T)return null;for(var F=0;F<m.getDimension();F++){var nt=m.getOrdinate(y,F);m.setOrdinate(y,F,m.getOrdinate(T,F)),m.setOrdinate(T,F,nt)}}},{key:"copy",value:function(m,y,T,F,nt){for(var xt=0;xt<nt;xt++)C.copyCoord(m,y+xt,T,F+xt)}},{key:"ensureValidRing",value:function(m,y){var T=y.size();return T===0?y:T<=3?C.createClosedRing(m,y,4):y.getOrdinate(0,Ze.X)===y.getOrdinate(T-1,Ze.X)&&y.getOrdinate(0,Ze.Y)===y.getOrdinate(T-1,Ze.Y)?y:C.createClosedRing(m,y,T+1)}},{key:"indexOf",value:function(m,y){for(var T=0;T<y.size();T++)if(m.x===y.getOrdinate(T,Ze.X)&&m.y===y.getOrdinate(T,Ze.Y))return T;return-1}},{key:"createClosedRing",value:function(m,y,T){var F=m.create(T,y.getDimension()),nt=y.size();C.copy(y,0,F,0,nt);for(var xt=nt;xt<T;xt++)C.copy(y,0,F,xt,1);return F}},{key:"minCoordinate",value:function(m){for(var y=null,T=0;T<m.size();T++){var F=m.getCoordinate(T);(y===null||y.compareTo(F)>0)&&(y=F)}return y}}])})(),or=(function(){function C(){i(this,C)}return a(C,null,[{key:"toDimensionSymbol",value:function(m){switch(m){case C.FALSE:return C.SYM_FALSE;case C.TRUE:return C.SYM_TRUE;case C.DONTCARE:return C.SYM_DONTCARE;case C.P:return C.SYM_P;case C.L:return C.SYM_L;case C.A:return C.SYM_A}throw new X("Unknown dimension value: "+m)}},{key:"toDimensionValue",value:function(m){switch(Or.toUpperCase(m)){case C.SYM_FALSE:return C.FALSE;case C.SYM_TRUE:return C.TRUE;case C.SYM_DONTCARE:return C.DONTCARE;case C.SYM_P:return C.P;case C.SYM_L:return C.L;case C.SYM_A:return C.A}throw new X("Unknown dimension symbol: "+m)}}])})();or.P=0,or.L=1,or.A=2,or.FALSE=-1,or.TRUE=-2,or.DONTCARE=-3,or.SYM_FALSE="F",or.SYM_TRUE="T",or.SYM_DONTCARE="*",or.SYM_P="0",or.SYM_L="1",or.SYM_A="2";var vn=(function(){return a((function C(){i(this,C)}),[{key:"filter",value:function(C){}}])})(),Kr=(function(){return a((function C(){i(this,C)}),[{key:"filter",value:function(C,m){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),Kn=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new de:this._points.expandEnvelope(new de)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new m(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];if(!this.isEquivalentClass(y))return!1;var F=y;if(this._points.size()!==F._points.size())return!1;for(var nt=0;nt<this._points.size();nt++)if(!this.equal(this._points.getCoordinate(nt),F._points.getCoordinate(nt),T))return!1;return!0}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var y=0;y<Math.trunc(this._points.size()/2);y++){var T=this._points.size()-1-y;if(!this._points.getCoordinate(y).equals(this._points.getCoordinate(T))){if(this._points.getCoordinate(y).compareTo(this._points.getCoordinate(T))>0){var F=this._points.copy();Wr.reverse(F),this._points=F}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?or.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var y=this._points.copy();return Wr.reverse(y),this.getFactory().createLineString(y)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return cr.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var y=arguments[0],T=0,F=0;T<this._points.size()&&F<y._points.size();){var nt=this._points.getCoordinate(T).compareTo(y._points.getCoordinate(F));if(nt!==0)return nt;T++,F++}return T<this._points.size()?1:F<y._points.size()?-1:0}if(arguments.length===2){var xt=arguments[0];return arguments[1].compare(this._points,xt._points)}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe))for(var y=arguments[0],T=0;T<this._points.size();T++)y.filter(this._points.getCoordinate(T));else if(Ir(arguments[0],Kr)){var F=arguments[0];if(this._points.size()===0)return null;for(var nt=0;nt<this._points.size()&&(F.filter(this._points,nt),!F.isDone());nt++);F.isGeometryChanged()&&this.geometryChanged()}else Ir(arguments[0],vn)?arguments[0].filter(this):Ir(arguments[0],Y)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new Jt}},{key:"isEquivalentClass",value:function(y){return y instanceof m}},{key:"getCoordinateN",value:function(y){return this._points.getCoordinate(y)}},{key:"getGeometryType",value:function(){return Se.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(y){if(y===null&&(y=this.getFactory().getCoordinateSequenceFactory().create([])),y.size()===1)throw new X("Invalid number of points in LineString (found "+y.size()+" - must be 0 or >= 2)");this._points=y}},{key:"isCoordinate",value:function(y){for(var T=0;T<this._points.size();T++)if(this._points.getCoordinate(T).equals(y))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(y){return this.getFactory().createPoint(this._points.getCoordinate(y))}},{key:"interfaces_",get:function(){return[Oe]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0&&arguments.length===2){var y=arguments[0],T=arguments[1];Se.constructor_.call(this,T),this.init(y)}}}])})(Se),Pt=a((function C(){i(this,C)})),Xt=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new de;var y=new de;return y.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),y}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new m(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];return!!this.isEquivalentClass(y)&&(!(!this.isEmpty()||!y.isEmpty())||this.isEmpty()===y.isEmpty()&&this.equal(y.getCoordinate(),this.getCoordinate(),T))}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return or.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Se.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var y=arguments[0];return this.getCoordinate().compareTo(y.getCoordinate())}if(arguments.length===2){var T=arguments[0];return arguments[1].compare(this._coordinates,T._coordinates)}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe)){var y=arguments[0];if(this.isEmpty())return null;y.filter(this.getCoordinate())}else if(Ir(arguments[0],Kr)){var T=arguments[0];if(this.isEmpty())return null;T.filter(this._coordinates,0),T.isGeometryChanged()&&this.geometryChanged()}else Ir(arguments[0],vn)?arguments[0].filter(this):Ir(arguments[0],Y)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Se.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(y){y===null&&(y=this.getFactory().getCoordinateSequenceFactory().create([])),At.isTrue(y.size()<=1),this._coordinates=y}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Pt]}}],[{key:"constructor_",value:function(){this._coordinates=null;var y=arguments[0],T=arguments[1];Se.constructor_.call(this,T),this.init(y)}}])})(Se),be=(function(){function C(){i(this,C)}return a(C,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var m=arguments[0];return Math.abs(C.ofRingSigned(m))}if(Ir(arguments[0],Ze)){var y=arguments[0];return Math.abs(C.ofRingSigned(y))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var m=arguments[0];if(m.length<3)return 0;for(var y=0,T=m[0].x,F=1;F<m.length-1;F++){var nt=m[F].x-T,xt=m[F+1].y;y+=nt*(m[F-1].y-xt)}return y/2}if(Ir(arguments[0],Ze)){var Dt=arguments[0],re=Dt.size();if(re<3)return 0;var _e=new Ht,sr=new Ht,_r=new Ht;Dt.getCoordinate(0,sr),Dt.getCoordinate(1,_r);var tn=sr.x;_r.x-=tn;for(var In=0,Zn=1;Zn<re-1;Zn++)_e.y=sr.y,sr.x=_r.x,sr.y=_r.y,Dt.getCoordinate(Zn+1,_r),_r.x-=tn,In+=sr.x*(_e.y-_r.y);return In/2}}}])})(),ze=(function(){return a((function C(){i(this,C)}),null,[{key:"sort",value:function(){var C=arguments,m=arguments[0];if(arguments.length===1)m.sort((function(tn,In){return tn.compareTo(In)}));else if(arguments.length===2)m.sort((function(tn,In){return C[1].compare(tn,In)}));else if(arguments.length===3){var y=m.slice(arguments[1],arguments[2]);y.sort();var T=m.slice(0,arguments[1]).concat(y,m.slice(arguments[2],m.length));m.splice(0,m.length);var F,nt=g(T);try{for(nt.s();!(F=nt.n()).done;){var xt=F.value;m.push(xt)}}catch(tn){nt.e(tn)}finally{nt.f()}}else if(arguments.length===4){var Dt=m.slice(arguments[1],arguments[2]);Dt.sort((function(tn,In){return C[3].compare(tn,In)}));var re=m.slice(0,arguments[1]).concat(Dt,m.slice(arguments[2],m.length));m.splice(0,m.length);var _e,sr=g(re);try{for(sr.s();!(_e=sr.n()).done;){var _r=_e.value;m.push(_r)}}catch(tn){sr.e(tn)}finally{sr.f()}}}},{key:"asList",value:function(C){var m,y=new Bt,T=g(C);try{for(T.s();!(m=T.n()).done;){var F=m.value;y.add(F)}}catch(nt){T.e(nt)}finally{T.f()}return y}},{key:"copyOf",value:function(C,m){return C.slice(0,m)}}])})(),Lr=a((function C(){i(this,C)})),yn=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var y=new Array(this.getNumPoints()).fill(null),T=-1,F=this._shell.getCoordinates(),nt=0;nt<F.length;nt++)y[++T]=F[nt];for(var xt=0;xt<this._holes.length;xt++)for(var Dt=this._holes[xt].getCoordinates(),re=0;re<Dt.length;re++)y[++T]=Dt[re];return y}},{key:"getArea",value:function(){var y=0;y+=be.ofRing(this._shell.getCoordinateSequence());for(var T=0;T<this._holes.length;T++)y-=be.ofRing(this._holes[T].getCoordinateSequence());return y}},{key:"copyInternal",value:function(){for(var y=this._shell.copy(),T=new Array(this._holes.length).fill(null),F=0;F<this._holes.length;F++)T[F]=this._holes[F].copy();return new m(y,T,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var y=this._shell.getCoordinateSequence(),T=this.getEnvelopeInternal(),F=0;F<5;F++){var nt=y.getX(F);if(nt!==T.getMinX()&&nt!==T.getMaxX())return!1;var xt=y.getY(F);if(xt!==T.getMinY()&&xt!==T.getMaxY())return!1}for(var Dt=y.getX(0),re=y.getY(0),_e=1;_e<=4;_e++){var sr=y.getX(_e),_r=y.getY(_e);if(sr!==Dt==(_r!==re))return!1;Dt=sr,re=_r}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];if(!this.isEquivalentClass(y))return!1;var F=y,nt=this._shell,xt=F._shell;if(!nt.equalsExact(xt,T)||this._holes.length!==F._holes.length)return!1;for(var Dt=0;Dt<this._holes.length;Dt++)if(!this._holes[Dt].equalsExact(F._holes[Dt],T))return!1;return!0}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var y=0;y<this._holes.length;y++)this._holes[y]=this.normalized(this._holes[y],!1);ze.sort(this._holes)}else if(arguments.length===2){var T=arguments[0],F=arguments[1];if(T.isEmpty())return null;var nt=T.getCoordinateSequence(),xt=Wr.minCoordinateIndex(nt,0,nt.size()-2);Wr.scroll(nt,xt,!0),rr.isCCW(nt)===F&&Wr.reverse(nt)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var y=this.getExteriorRing().reverse(),T=new Array(this.getNumInteriorRing()).fill(null),F=0;F<T.length;F++)T[F]=this.getInteriorRingN(F).reverse();return this.getFactory().createPolygon(y,T)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var y=0;y+=this._shell.getLength();for(var T=0;T<this._holes.length;T++)y+=this._holes[T].getLength();return y}},{key:"getNumPoints",value:function(){for(var y=this._shell.getNumPoints(),T=0;T<this._holes.length;T++)y+=this._holes[T].getNumPoints();return y}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(y,T){var F=y.copy();return this.normalize(F,T),F}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var y=arguments[0],T=this._shell,F=y._shell;return T.compareToSameClass(F)}if(arguments.length===2){var nt=arguments[1],xt=arguments[0],Dt=this._shell,re=xt._shell,_e=Dt.compareToSameClass(re,nt);if(_e!==0)return _e;for(var sr=this.getNumInteriorRing(),_r=xt.getNumInteriorRing(),tn=0;tn<sr&&tn<_r;){var In=this.getInteriorRingN(tn),Zn=xt.getInteriorRingN(tn),hi=In.compareToSameClass(Zn,nt);if(hi!==0)return hi;tn++}return tn<sr?1:tn<_r?-1:0}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe)){var y=arguments[0];this._shell.apply(y);for(var T=0;T<this._holes.length;T++)this._holes[T].apply(y)}else if(Ir(arguments[0],Kr)){var F=arguments[0];if(this._shell.apply(F),!F.isDone())for(var nt=0;nt<this._holes.length&&(this._holes[nt].apply(F),!F.isDone());nt++);F.isGeometryChanged()&&this.geometryChanged()}else if(Ir(arguments[0],vn))arguments[0].filter(this);else if(Ir(arguments[0],Y)){var xt=arguments[0];xt.filter(this),this._shell.apply(xt);for(var Dt=0;Dt<this._holes.length;Dt++)this._holes[Dt].apply(xt)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var y=new Array(this._holes.length+1).fill(null);y[0]=this._shell;for(var T=0;T<this._holes.length;T++)y[T+1]=this._holes[T];return y.length<=1?this.getFactory().createLinearRing(y[0].getCoordinateSequence()):this.getFactory().createMultiLineString(y)}},{key:"getGeometryType",value:function(){return Se.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(y){return this._holes[y]}},{key:"interfaces_",get:function(){return[Lr]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var y=arguments[0],T=arguments[1],F=arguments[2];if(Se.constructor_.call(this,F),y===null&&(y=this.getFactory().createLinearRing()),T===null&&(T=[]),Se.hasNullElements(T))throw new X("holes must not contain null elements");if(y.isEmpty()&&Se.hasNonEmptyElements(T))throw new X("shell is empty but holes are not");this._shell=y,this._holes=T}}])})(Se),$r=(function(C){function m(){return i(this,m),n(this,m,arguments)}return k(m,C),a(m)})(Vr),fi=(function(C){function m(y){var T;return i(this,m),(T=n(this,m)).array=[],y instanceof He&&T.addAll(y),T}return k(m,C),a(m,[{key:"contains",value:function(y){var T,F=g(this.array);try{for(F.s();!(T=F.n()).done;)if(T.value.compareTo(y)===0)return!0}catch(nt){F.e(nt)}finally{F.f()}return!1}},{key:"add",value:function(y){if(this.contains(y))return!1;for(var T=0,F=this.array.length;T<F;T++)if(this.array[T].compareTo(y)===1)return!!this.array.splice(T,0,y);return this.array.push(y),!0}},{key:"addAll",value:function(y){var T,F=g(y);try{for(F.s();!(T=F.n()).done;){var nt=T.value;this.add(nt)}}catch(xt){F.e(xt)}finally{F.f()}return!0}},{key:"remove",value:function(){throw new Jt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new On(this.array)}}])})($r),On=(function(){return a((function C(m){i(this,C),this.array=m,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new ke;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new Jt}}])})(),li=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"computeEnvelopeInternal",value:function(){for(var y=new de,T=0;T<this._geometries.length;T++)y.expandToInclude(this._geometries[T].getEnvelopeInternal());return y}},{key:"getGeometryN",value:function(y){return this._geometries[y]}},{key:"getCoordinates",value:function(){for(var y=new Array(this.getNumPoints()).fill(null),T=-1,F=0;F<this._geometries.length;F++)for(var nt=this._geometries[F].getCoordinates(),xt=0;xt<nt.length;xt++)y[++T]=nt[xt];return y}},{key:"getArea",value:function(){for(var y=0,T=0;T<this._geometries.length;T++)y+=this._geometries[T].getArea();return y}},{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),T=0;T<y.length;T++)y[T]=this._geometries[T].copy();return new m(y,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];if(!this.isEquivalentClass(y))return!1;var F=y;if(this._geometries.length!==F._geometries.length)return!1;for(var nt=0;nt<this._geometries.length;nt++)if(!this._geometries[nt].equalsExact(F._geometries[nt],T))return!1;return!0}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var y=0;y<this._geometries.length;y++)this._geometries[y].normalize();ze.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var y=or.FALSE,T=0;T<this._geometries.length;T++)y=Math.max(y,this._geometries[T].getBoundaryDimension());return y}},{key:"reverseInternal",value:function(){for(var y=this._geometries.length,T=new Bt(y),F=0;F<y;F++)T.add(this._geometries[F].reverse());return this.getFactory().buildGeometry(T)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var y=or.FALSE,T=0;T<this._geometries.length;T++)y=Math.max(y,this._geometries[T].getDimension());return y}},{key:"getLength",value:function(){for(var y=0,T=0;T<this._geometries.length;T++)y+=this._geometries[T].getLength();return y}},{key:"getNumPoints",value:function(){for(var y=0,T=0;T<this._geometries.length;T++)y+=this._geometries[T].getNumPoints();return y}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var y=arguments[0],T=new fi(ze.asList(this._geometries)),F=new fi(ze.asList(y._geometries));return this.compare(T,F)}if(arguments.length===2){for(var nt=arguments[1],xt=arguments[0],Dt=this.getNumGeometries(),re=xt.getNumGeometries(),_e=0;_e<Dt&&_e<re;){var sr=this.getGeometryN(_e),_r=xt.getGeometryN(_e),tn=sr.compareToSameClass(_r,nt);if(tn!==0)return tn;_e++}return _e<Dt?1:_e<re?-1:0}}},{key:"apply",value:function(){if(Ir(arguments[0],Pe))for(var y=arguments[0],T=0;T<this._geometries.length;T++)this._geometries[T].apply(y);else if(Ir(arguments[0],Kr)){var F=arguments[0];if(this._geometries.length===0)return null;for(var nt=0;nt<this._geometries.length&&(this._geometries[nt].apply(F),!F.isDone());nt++);F.isGeometryChanged()&&this.geometryChanged()}else if(Ir(arguments[0],vn)){var xt=arguments[0];xt.filter(this);for(var Dt=0;Dt<this._geometries.length;Dt++)this._geometries[Dt].apply(xt)}else if(Ir(arguments[0],Y)){var re=arguments[0];re.filter(this);for(var _e=0;_e<this._geometries.length;_e++)this._geometries[_e].apply(re)}}},{key:"getBoundary",value:function(){return Se.checkNotGeometryCollection(this),At.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Se.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var y=0;y<this._geometries.length;y++)if(!this._geometries[y].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0&&arguments.length===2){var y=arguments[0],T=arguments[1];if(Se.constructor_.call(this,T),y===null&&(y=[]),Se.hasNullElements(y))throw new X("geometries must not contain null elements");this._geometries=y}}}])})(Se),Ki=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),T=0;T<y.length;T++)y[T]=this._geometries[T].copy();return new m(y,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];return!!this.isEquivalentClass(y)&&O(m,"equalsExact",this,1).call(this,y,T)}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var y=arguments[0];return this._geometries[y].getCoordinate()}return O(m,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return or.FALSE}},{key:"getTypeCode",value:function(){return Se.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Se.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Pt]}}],[{key:"constructor_",value:function(){var y=arguments[0],T=arguments[1];li.constructor_.call(this,y,T)}}])})(li),en=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"copyInternal",value:function(){return new m(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return or.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||O(m,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var y=this._points.copy();return Wr.reverse(y),this.getFactory().createLinearRing(y)}},{key:"getTypeCode",value:function(){return Se.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!O(m,"isClosed",this,1).call(this))throw new X("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<m.MINIMUM_VALID_SIZE)throw new X("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Se.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var y=arguments[0],T=arguments[1];Kn.constructor_.call(this,y,T),this.validateConstruction()}}])})(Kn);en.MINIMUM_VALID_SIZE=4;var Rn=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"setOrdinate",value:function(y,T){switch(y){case m.X:this.x=T;break;case m.Y:this.y=T;break;default:throw new X("Invalid ordinate index: "+y)}}},{key:"getZ",value:function(){return Ht.NULL_ORDINATE}},{key:"getOrdinate",value:function(y){switch(y){case m.X:return this.x;case m.Y:return this.y}throw new X("Invalid ordinate index: "+y)}},{key:"setZ",value:function(y){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new m(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(y){this.x=y.x,this.y=y.y,this.z=y.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)Ht.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof m){var y=arguments[0];Ht.constructor_.call(this,y.x,y.y)}else if(arguments[0]instanceof Ht){var T=arguments[0];Ht.constructor_.call(this,T.x,T.y)}}else if(arguments.length===2){var F=arguments[0],nt=arguments[1];Ht.constructor_.call(this,F,nt,Ht.NULL_ORDINATE)}}}])})(Ht);Rn.X=0,Rn.Y=1,Rn.Z=-1,Rn.M=-1;var Xn=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(y,T){switch(y){case m.X:this.x=T;break;case m.Y:this.y=T;break;case m.M:this._m=T;break;default:throw new X("Invalid ordinate index: "+y)}}},{key:"setM",value:function(y){this._m=y}},{key:"getZ",value:function(){return Ht.NULL_ORDINATE}},{key:"getOrdinate",value:function(y){switch(y){case m.X:return this.x;case m.Y:return this.y;case m.M:return this._m}throw new X("Invalid ordinate index: "+y)}},{key:"setZ",value:function(y){throw new X("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new m(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(y){this.x=y.x,this.y=y.y,this.z=y.getZ(),this._m=y.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Ht.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof m){var y=arguments[0];Ht.constructor_.call(this,y.x,y.y),this._m=y._m}else if(arguments[0]instanceof Ht){var T=arguments[0];Ht.constructor_.call(this,T.x,T.y),this._m=this.getM()}}else if(arguments.length===3){var F=arguments[0],nt=arguments[1],xt=arguments[2];Ht.constructor_.call(this,F,nt,Ht.NULL_ORDINATE),this._m=xt}}}])})(Ht);Xn.X=0,Xn.Y=1,Xn.Z=-1,Xn.M=2;var Ra=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(y,T){switch(y){case Ht.X:this.x=T;break;case Ht.Y:this.y=T;break;case Ht.Z:this.z=T;break;case Ht.M:this._m=T;break;default:throw new X("Invalid ordinate index: "+y)}}},{key:"setM",value:function(y){this._m=y}},{key:"getOrdinate",value:function(y){switch(y){case Ht.X:return this.x;case Ht.Y:return this.y;case Ht.Z:return this.getZ();case Ht.M:return this.getM()}throw new X("Invalid ordinate index: "+y)}},{key:"copy",value:function(){return new m(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(y){this.x=y.x,this.y=y.y,this.z=y.getZ(),this._m=y.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Ht.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof m){var y=arguments[0];Ht.constructor_.call(this,y),this._m=y._m}else if(arguments[0]instanceof Ht){var T=arguments[0];Ht.constructor_.call(this,T),this._m=this.getM()}}else if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3];Ht.constructor_.call(this,F,nt,xt),this._m=Dt}}}])})(Ht),_o=(function(){function C(){i(this,C)}return a(C,null,[{key:"measures",value:function(m){return m instanceof Rn?0:m instanceof Xn||m instanceof Ra?1:0}},{key:"dimension",value:function(m){return m instanceof Rn?2:m instanceof Xn?3:m instanceof Ra?4:3}},{key:"create",value:function(){if(arguments.length===1){var m=arguments[0];return C.create(m,0)}if(arguments.length===2){var y=arguments[0],T=arguments[1];return y===2?new Rn:y===3&&T===0?new Ht:y===3&&T===1?new Xn:y===4&&T===1?new Ra:new Ht}}}])})(),Na=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"getCoordinate",value:function(y){return this.get(y)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Ir(arguments[0],He)){for(var y=arguments[1],T=!1,F=arguments[0].iterator();F.hasNext();)this.add(F.next(),y),T=!0;return T}return O(m,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var y=O(m,"clone",this,1).call(this),T=0;T<this.size();T++)y.add(T,this.get(T).clone());return y}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(m.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(m.coordArrayType);for(var y=this.size(),T=new Array(y).fill(null),F=0;F<y;F++)T[F]=this.get(y-F-1);return T}}},{key:"add",value:function(){if(arguments.length===1){var y=arguments[0];return O(m,"add",this,1).call(this,y)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var T=arguments[0],F=arguments[1];return this.add(T,F,!0),!0}if(arguments[0]instanceof Ht&&typeof arguments[1]=="boolean"){var nt=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(nt))return null;O(m,"add",this,1).call(this,nt)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var xt=arguments[0],Dt=arguments[1];return this.add(xt,Dt),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var re=arguments[0],_e=arguments[1];if(arguments[2])for(var sr=0;sr<re.length;sr++)this.add(re[sr],_e);else for(var _r=re.length-1;_r>=0;_r--)this.add(re[_r],_e);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ht){var tn=arguments[0],In=arguments[1];if(!arguments[2]){var Zn=this.size();if(Zn>0&&(tn>0&&this.get(tn-1).equals2D(In)||tn<Zn&&this.get(tn).equals2D(In)))return null}O(m,"add",this,1).call(this,tn,In)}}else if(arguments.length===4){var hi=arguments[0],Yn=arguments[1],Hn=arguments[2],fa=arguments[3],Ui=1;Hn>fa&&(Ui=-1);for(var $a=Hn;$a!==fa;$a+=Ui)this.add(hi[$a],Yn);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var y=this.get(0).copy();this.add(y,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var y=arguments[0];this.ensureCapacity(y.length),this.add(y,!0)}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this.ensureCapacity(T.length),this.add(T,F)}}}}])})(Bt);Na.coordArrayType=new Array(0).fill(null);var Mn=(function(){function C(){i(this,C)}return a(C,null,[{key:"isRing",value:function(m){return!(m.length<4)&&!!m[0].equals2D(m[m.length-1])}},{key:"ptNotInList",value:function(m,y){for(var T=0;T<m.length;T++){var F=m[T];if(C.indexOf(F,y)<0)return F}return null}},{key:"scroll",value:function(m,y){var T=C.indexOf(y,m);if(T<0)return null;var F=new Array(m.length).fill(null);Ge.arraycopy(m,T,F,0,m.length-T),Ge.arraycopy(m,0,F,m.length-T,T),Ge.arraycopy(F,0,m,0,m.length)}},{key:"equals",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];if(m===y)return!0;if(m===null||y===null||m.length!==y.length)return!1;for(var T=0;T<m.length;T++)if(!m[T].equals(y[T]))return!1;return!0}if(arguments.length===3){var F=arguments[0],nt=arguments[1],xt=arguments[2];if(F===nt)return!0;if(F===null||nt===null||F.length!==nt.length)return!1;for(var Dt=0;Dt<F.length;Dt++)if(xt.compare(F[Dt],nt[Dt])!==0)return!1;return!0}}},{key:"intersection",value:function(m,y){for(var T=new Na,F=0;F<m.length;F++)y.intersects(m[F])&&T.add(m[F],!0);return T.toCoordinateArray()}},{key:"measures",value:function(m){if(m===null||m.length===0)return 0;var y,T=0,F=g(m);try{for(F.s();!(y=F.n()).done;){var nt=y.value;T=Math.max(T,_o.measures(nt))}}catch(xt){F.e(xt)}finally{F.f()}return T}},{key:"hasRepeatedPoints",value:function(m){for(var y=1;y<m.length;y++)if(m[y-1].equals(m[y]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(m){return C.hasRepeatedPoints(m)?new Na(m,!1).toCoordinateArray():m}},{key:"reverse",value:function(m){for(var y=m.length-1,T=Math.trunc(y/2),F=0;F<=T;F++){var nt=m[F];m[F]=m[y-F],m[y-F]=nt}}},{key:"removeNull",value:function(m){for(var y=0,T=0;T<m.length;T++)m[T]!==null&&y++;var F=new Array(y).fill(null);if(y===0)return F;for(var nt=0,xt=0;xt<m.length;xt++)m[xt]!==null&&(F[nt++]=m[xt]);return F}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var m=arguments[0],y=new Array(m.length).fill(null),T=0;T<m.length;T++)y[T]=m[T].copy();return y}if(arguments.length===5)for(var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=arguments[4],_e=0;_e<re;_e++)xt[Dt+_e]=F[nt+_e].copy()}},{key:"isEqualReversed",value:function(m,y){for(var T=0;T<m.length;T++){var F=m[T],nt=y[m.length-T-1];if(F.compareTo(nt)!==0)return!1}return!0}},{key:"envelope",value:function(m){for(var y=new de,T=0;T<m.length;T++)y.expandToInclude(m[T]);return y}},{key:"toCoordinateArray",value:function(m){return m.toArray(C.coordArrayType)}},{key:"dimension",value:function(m){if(m===null||m.length===0)return 3;var y,T=0,F=g(m);try{for(F.s();!(y=F.n()).done;){var nt=y.value;T=Math.max(T,_o.dimension(nt))}}catch(xt){F.e(xt)}finally{F.f()}return T}},{key:"atLeastNCoordinatesOrNothing",value:function(m,y){return y.length>=m?y:[]}},{key:"indexOf",value:function(m,y){for(var T=0;T<y.length;T++)if(m.equals(y[T]))return T;return-1}},{key:"increasingDirection",value:function(m){for(var y=0;y<Math.trunc(m.length/2);y++){var T=m.length-1-y,F=m[y].compareTo(m[T]);if(F!==0)return F}return 1}},{key:"compare",value:function(m,y){for(var T=0;T<m.length&&T<y.length;){var F=m[T].compareTo(y[T]);if(F!==0)return F;T++}return T<y.length?-1:T<m.length?1:0}},{key:"minCoordinate",value:function(m){for(var y=null,T=0;T<m.length;T++)(y===null||y.compareTo(m[T])>0)&&(y=m[T]);return y}},{key:"extract",value:function(m,y,T){y=Ue.clamp(y,0,m.length);var F=(T=Ue.clamp(T,-1,m.length))-y+1;T<0&&(F=0),y>=m.length&&(F=0),T<y&&(F=0);var nt=new Array(F).fill(null);if(F===0)return nt;for(var xt=0,Dt=y;Dt<=T;Dt++)nt[xt++]=m[Dt];return nt}}])})(),io=(function(){return a((function C(){i(this,C)}),[{key:"compare",value:function(C,m){var y=C,T=m;return Mn.compare(y,T)}},{key:"interfaces_",get:function(){return[Et]}}])})(),rl=(function(){return a((function C(){i(this,C)}),[{key:"compare",value:function(C,m){var y=C,T=m;if(y.length<T.length)return-1;if(y.length>T.length)return 1;if(y.length===0)return 0;var F=Mn.compare(y,T);return Mn.isEqualReversed(y,T)?0:F}},{key:"OLDcompare",value:function(C,m){var y=C,T=m;if(y.length<T.length)return-1;if(y.length>T.length)return 1;if(y.length===0)return 0;for(var F=Mn.increasingDirection(y),nt=Mn.increasingDirection(T),xt=F>0?0:y.length-1,Dt=nt>0?0:y.length-1,re=0;re<y.length;re++){var _e=y[xt].compareTo(T[Dt]);if(_e!==0)return _e;xt+=F,Dt+=nt}return 0}},{key:"interfaces_",get:function(){return[Et]}}])})();Mn.ForwardComparator=io,Mn.BidirectionalComparator=rl,Mn.coordArrayType=new Array(0).fill(null);var ra=(function(){return a((function C(m){i(this,C),this.str=m}),[{key:"append",value:function(C){this.str+=C}},{key:"setCharAt",value:function(C,m){this.str=this.str.substr(0,C)+m+this.str.substr(C+1)}},{key:"toString",value:function(){return this.str}}])})(),sa=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getM",value:function(m){return this.hasM()?this._coordinates[m].getM():Ft.NaN}},{key:"setOrdinate",value:function(m,y,T){switch(y){case Ze.X:this._coordinates[m].x=T;break;case Ze.Y:this._coordinates[m].y=T;break;default:this._coordinates[m].setOrdinate(y,T)}}},{key:"getZ",value:function(m){return this.hasZ()?this._coordinates[m].getZ():Ft.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(m,y){switch(y){case Ze.X:return this._coordinates[m].x;case Ze.Y:return this._coordinates[m].y;default:return this._coordinates[m].getOrdinate(y)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var m=arguments[0];return this._coordinates[m]}if(arguments.length===2){var y=arguments[0];arguments[1].setCoordinate(this._coordinates[y])}}},{key:"getCoordinateCopy",value:function(m){var y=this.createCoordinate();return y.setCoordinate(this._coordinates[m]),y}},{key:"createCoordinate",value:function(){return _o.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(m){return this._coordinates[m].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(m){for(var y=0;y<this._coordinates.length;y++)m.expandToInclude(this._coordinates[y]);return m}},{key:"copy",value:function(){for(var m=new Array(this.size()).fill(null),y=0;y<this._coordinates.length;y++){var T=this.createCoordinate();T.setCoordinate(this._coordinates[y]),m[y]=T}return new C(m,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var m=new ra(17*this._coordinates.length);m.append("("),m.append(this._coordinates[0]);for(var y=1;y<this._coordinates.length;y++)m.append(", "),m.append(this._coordinates[y]);return m.append(")"),m.toString()}return"()"}},{key:"getY",value:function(m){return this._coordinates[m].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[Ze,it]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];C.constructor_.call(this,m,Mn.dimension(m),Mn.measures(m))}else if(Number.isInteger(arguments[0])){var y=arguments[0];this._coordinates=new Array(y).fill(null);for(var T=0;T<y;T++)this._coordinates[T]=new Ht}else if(Ir(arguments[0],Ze)){var F=arguments[0];if(F===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=F.getDimension(),this._measures=F.getMeasures(),this._coordinates=new Array(F.size()).fill(null);for(var nt=0;nt<this._coordinates.length;nt++)this._coordinates[nt]=F.getCoordinateCopy(nt)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var xt=arguments[0],Dt=arguments[1];C.constructor_.call(this,xt,Dt,Mn.measures(xt))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var re=arguments[0],_e=arguments[1];this._coordinates=new Array(re).fill(null),this._dimension=_e;for(var sr=0;sr<re;sr++)this._coordinates[sr]=_o.create(_e)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _r=arguments[0],tn=arguments[1],In=arguments[2];this._dimension=tn,this._measures=In,this._coordinates=_r===null?new Array(0).fill(null):_r}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Zn=arguments[0],hi=arguments[1],Yn=arguments[2];this._coordinates=new Array(Zn).fill(null),this._dimension=hi,this._measures=Yn;for(var Hn=0;Hn<Zn;Hn++)this._coordinates[Hn]=this.createCoordinate()}}}}])})(),cu=(function(){function C(){i(this,C)}return a(C,[{key:"readResolve",value:function(){return C.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new sa(arguments[0]);if(Ir(arguments[0],Ze))return new sa(arguments[0])}else{if(arguments.length===2){var m=arguments[1];return m>3&&(m=3),m<2&&(m=2),new sa(arguments[0],m)}if(arguments.length===3){var y=arguments[2],T=arguments[1]-y;return y>1&&(y=1),T>3&&(T=3),T<2&&(T=2),new sa(arguments[0],T+y,y)}}}},{key:"interfaces_",get:function(){return[Ke,it]}}],[{key:"instance",value:function(){return C.instanceObject}}])})();cu.instanceObject=new cu;var Vi=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),T=0;T<y.length;T++)y[T]=this._geometries[T].copy();return new m(y,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];return!!this.isEquivalentClass(y)&&O(m,"equalsExact",this,1).call(this,y,T)}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Se.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var y=new Bt,T=0;T<this._geometries.length;T++)for(var F=this._geometries[T].getBoundary(),nt=0;nt<F.getNumGeometries();nt++)y.add(F.getGeometryN(nt));var xt=new Array(y.size()).fill(null);return this.getFactory().createMultiLineString(y.toArray(xt))}},{key:"getGeometryType",value:function(){return Se.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Lr]}}],[{key:"constructor_",value:function(){var y=arguments[0],T=arguments[1];li.constructor_.call(this,y,T)}}])})(li),nl=(function(){return a((function C(){i(this,C)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Xo=(function(C){function m(){var y;return i(this,m),(y=n(this,m)).map=new Map,y}return k(m,C),a(m,[{key:"get",value:function(y){return this.map.get(y)||null}},{key:"put",value:function(y,T){return this.map.set(y,T),T}},{key:"values",value:function(){for(var y=new Bt,T=this.map.values(),F=T.next();!F.done;)y.add(F.value),F=T.next();return y}},{key:"entrySet",value:function(){var y=new vr;return this.map.entries().forEach((function(T){return y.add(T)})),y}},{key:"size",value:function(){return this.map.size()}}])})(nl),Mi=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"equals",value:function(m){if(!(m instanceof C))return!1;var y=m;return this._modelType===y._modelType&&this._scale===y._scale}},{key:"compareTo",value:function(m){var y=m,T=this.getMaximumSignificantDigits(),F=y.getMaximumSignificantDigits();return ar.compare(T,F)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===C.FLOATING||this._modelType===C.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var m="UNKNOWN";return this._modelType===C.FLOATING?m="Floating":this._modelType===C.FLOATING_SINGLE?m="Floating-Single":this._modelType===C.FIXED&&(m="Fixed (Scale="+this.getScale()+")"),m}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var m=arguments[0];return Ft.isNaN(m)||this._modelType===C.FLOATING_SINGLE?m:this._modelType===C.FIXED?Math.round(m*this._scale)/this._scale:m}if(arguments[0]instanceof Ht){var y=arguments[0];if(this._modelType===C.FLOATING)return null;y.x=this.makePrecise(y.x),y.y=this.makePrecise(y.y)}}},{key:"getMaximumSignificantDigits",value:function(){var m=16;return this._modelType===C.FLOATING?m=16:this._modelType===C.FLOATING_SINGLE?m=6:this._modelType===C.FIXED&&(m=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),m}},{key:"setScale",value:function(m){this._scale=Math.abs(m)}},{key:"interfaces_",get:function(){return[it,rt]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=C.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof xs){var m=arguments[0];this._modelType=m,m===C.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var y=arguments[0];this._modelType=C.FIXED,this.setScale(y)}else if(arguments[0]instanceof C){var T=arguments[0];this._modelType=T._modelType,this._scale=T._scale}}}},{key:"mostPrecise",value:function(m,y){return m.compareTo(y)>=0?m:y}}])})(),xs=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"readResolve",value:function(){return C.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){this._name=null;var m=arguments[0];this._name=m,C.nameToTypeMap.put(m,this)}}])})();xs.nameToTypeMap=new Xo,Mi.Type=xs,Mi.FIXED=new xs("FIXED"),Mi.FLOATING=new xs("FLOATING"),Mi.FLOATING_SINGLE=new xs("FLOATING SINGLE"),Mi.maximumPreciseValue=9007199254740992;var zl=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"copyInternal",value:function(){for(var y=new Array(this._geometries.length).fill(null),T=0;T<y.length;T++)y[T]=this._geometries[T].copy();return new m(y,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Se){var y=arguments[0],T=arguments[1];return!!this.isEquivalentClass(y)&&O(m,"equalsExact",this,1).call(this,y,T)}return O(m,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?or.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var y=0;y<this._geometries.length;y++)if(!this._geometries[y].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Se.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new Jt}},{key:"getGeometryType",value:function(){return Se.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Oe]}}],[{key:"constructor_",value:function(){var y=arguments[0],T=arguments[1];li.constructor_.call(this,y,T)}}])})(li),Ks=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"createEmpty",value:function(m){switch(m){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new X("Invalid dimension: "+m)}}},{key:"toGeometry",value:function(m){return m.isNull()?this.createPoint():m.getMinX()===m.getMaxX()&&m.getMinY()===m.getMaxY()?this.createPoint(new Ht(m.getMinX(),m.getMinY())):m.getMinX()===m.getMaxX()||m.getMinY()===m.getMaxY()?this.createLineString([new Ht(m.getMinX(),m.getMinY()),new Ht(m.getMaxX(),m.getMaxY())]):this.createPolygon(this.createLinearRing([new Ht(m.getMinX(),m.getMinY()),new Ht(m.getMinX(),m.getMaxY()),new Ht(m.getMaxX(),m.getMaxY()),new Ht(m.getMaxX(),m.getMinY()),new Ht(m.getMinX(),m.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];return this.createLineString(m!==null?this.getCoordinateSequenceFactory().create(m):null)}if(Ir(arguments[0],Ze))return new Kn(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new zl(null,this):arguments.length===1?new zl(arguments[0],this):void 0}},{key:"buildGeometry",value:function(m){for(var y=null,T=!1,F=!1,nt=m.iterator();nt.hasNext();){var xt=nt.next(),Dt=xt.getTypeCode();y===null&&(y=Dt),Dt!==y&&(T=!0),xt instanceof li&&(F=!0)}if(y===null)return this.createGeometryCollection();if(T||F)return this.createGeometryCollection(C.toGeometryArray(m));var re=m.iterator().next();if(m.size()>1){if(re instanceof yn)return this.createMultiPolygon(C.toPolygonArray(m));if(re instanceof Kn)return this.createMultiLineString(C.toLineStringArray(m));if(re instanceof Xt)return this.createMultiPoint(C.toPointArray(m));At.shouldNeverReachHere("Unhandled geometry type: "+re.getGeometryType())}return re}},{key:"createMultiPointFromCoords",value:function(m){return this.createMultiPoint(m!==null?this.getCoordinateSequenceFactory().create(m):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Ht){var m=arguments[0];return this.createPoint(m!==null?this.getCoordinateSequenceFactory().create([m]):null)}if(Ir(arguments[0],Ze))return new Xt(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Ir(arguments[0],Ze)){var m=arguments[0];return this.createPolygon(this.createLinearRing(m))}if(arguments[0]instanceof Array){var y=arguments[0];return this.createPolygon(this.createLinearRing(y))}if(arguments[0]instanceof en){var T=arguments[0];return this.createPolygon(T,null)}}else if(arguments.length===2)return new yn(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new li(null,this):arguments.length===1?new li(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];return this.createLinearRing(m!==null?this.getCoordinateSequenceFactory().create(m):null)}if(Ir(arguments[0],Ze))return new en(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Vi(null,this):arguments.length===1?new Vi(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Ki(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Ki(arguments[0],this);if(Ir(arguments[0],Ze)){var m=arguments[0];if(m===null)return this.createMultiPoint(new Array(0).fill(null));for(var y=new Array(m.size()).fill(null),T=0;T<m.size();T++){var F=this.getCoordinateSequenceFactory().create(1,m.getDimension(),m.getMeasures());Wr.copy(m,T,F,0,1),y[T]=this.createPoint(F)}return this.createMultiPoint(y)}}}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)C.constructor_.call(this,new Mi,0);else if(arguments.length===1){if(Ir(arguments[0],Ke)){var m=arguments[0];C.constructor_.call(this,new Mi,0,m)}else if(arguments[0]instanceof Mi){var y=arguments[0];C.constructor_.call(this,y,0,C.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];C.constructor_.call(this,T,F,C.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this._precisionModel=nt,this._coordinateSequenceFactory=Dt,this._SRID=xt}}},{key:"toMultiPolygonArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toGeometryArray",value:function(m){if(m===null)return null;var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return cu.instance()}},{key:"toMultiLineStringArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toLineStringArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toMultiPointArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toLinearRingArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toPointArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"toPolygonArray",value:function(m){var y=new Array(m.size()).fill(null);return m.toArray(y)}},{key:"createPointFromInternalCoord",value:function(m,y){return y.getPrecisionModel().makePrecise(m),y.getFactory().createPoint(m)}}])})(),Do="XY",Fl="XYZ",Ga="XYM",fl="XYZM",Gc={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},pl="EMPTY",El=1,Wo=2,Yo=3,Ko=4,Zo=5,ic=6;for(var yc in Gc)Gc[yc].toUpperCase();var Q=(function(){return a((function C(m){i(this,C),this.wkt=m,this.index_=-1}),[{key:"isAlpha_",value:function(C){return C>="a"&&C<="z"||C>="A"&&C<="Z"}},{key:"isNumeric_",value:function(C,m){return C>="0"&&C<="9"||C=="."&&!(m!==void 0&&m)}},{key:"isWhiteSpace_",value:function(C){return C==" "||C=="	"||C=="\r"||C==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var C,m=this.nextChar_(),y=this.index_,T=m;if(m=="(")C=Wo;else if(m==",")C=Zo;else if(m==")")C=Yo;else if(this.isNumeric_(m)||m=="-")C=Ko,T=this.readNumber_();else if(this.isAlpha_(m))C=El,T=this.readText_();else{if(this.isWhiteSpace_(m))return this.nextToken();if(m!=="")throw new Error("Unexpected character: "+m);C=ic}return{position:y,value:T,type:C}}},{key:"readNumber_",value:function(){var C,m=this.index_,y=!1,T=!1;do C=="."?y=!0:C!="e"&&C!="E"||(T=!0),C=this.nextChar_();while(this.isNumeric_(C,y)||!T&&(C=="e"||C=="E")||T&&(C=="-"||C=="+"));return parseFloat(this.wkt.substring(m,this.index_--))}},{key:"readText_",value:function(){var C,m=this.index_;do C=this.nextChar_();while(this.isAlpha_(C));return this.wkt.substring(m,this.index_--).toUpperCase()}}])})(),gt=(function(){return a((function C(m,y){i(this,C),this.lexer_=m,this.token_,this.layout_=Do,this.factory=y}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(C){return this.token_.type==C}},{key:"match",value:function(C){var m=this.isTokenType(C);return m&&this.consume_(),m}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var C=Do,m=this.token_;if(this.isTokenType(El)){var y=m.value;y==="Z"?C=Fl:y==="M"?C=Ga:y==="ZM"&&(C=fl),C!==Do&&this.consume_()}return C}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Wo)){var C=[];do C.push(this.parseGeometry_());while(this.match(Zo));if(this.match(Yo))return C}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Wo)){var C=this.parsePoint_();if(this.match(Yo))return C}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Wo)){var C=this.parsePointList_();if(this.match(Yo))return C}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Wo)){var C=this.parseLineStringTextList_();if(this.match(Yo))return C}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var C;if(this.match(Wo)){if(C=this.token_.type==Wo?this.parsePointTextList_():this.parsePointList_(),this.match(Yo))return C}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Wo)){var C=this.parseLineStringTextList_();if(this.match(Yo))return C}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Wo)){var C=this.parsePolygonTextList_();if(this.match(Yo))return C}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var C=[],m=this.layout_.length,y=0;y<m;++y){var T=this.token_;if(!this.match(Ko))break;C.push(T.value)}if(C.length==m)return C;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var C=[this.parsePoint_()];this.match(Zo);)C.push(this.parsePoint_());return C}},{key:"parsePointTextList_",value:function(){for(var C=[this.parsePointText_()];this.match(Zo);)C.push(this.parsePointText_());return C}},{key:"parseLineStringTextList_",value:function(){for(var C=[this.parseLineStringText_()];this.match(Zo);)C.push(this.parseLineStringText_());return C}},{key:"parsePolygonTextList_",value:function(){for(var C=[this.parsePolygonText_()];this.match(Zo);)C.push(this.parsePolygonText_());return C}},{key:"isEmptyGeometry_",value:function(){var C=this.isTokenType(El)&&this.token_.value==pl;return C&&this.consume_(),C}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var C=this.factory,m=function(hi){return o(Ht,D(hi))},y=function(hi){var Yn=hi.map((function(Hn){return C.createLinearRing(Hn.map(m))}));return Yn.length>1?C.createPolygon(Yn[0],Yn.slice(1)):C.createPolygon(Yn[0])},T=this.token_;if(this.match(El)){var F=T.value;if(this.layout_=this.parseGeometryLayout_(),F=="GEOMETRYCOLLECTION"){var nt=this.parseGeometryCollectionText_();return C.createGeometryCollection(nt)}switch(F){case"POINT":var xt=this.parsePointText_();return xt?C.createPoint(o(Ht,D(xt))):C.createPoint();case"LINESTRING":var Dt=this.parseLineStringText_().map(m);return C.createLineString(Dt);case"LINEARRING":var re=this.parseLineStringText_().map(m);return C.createLinearRing(re);case"POLYGON":var _e=this.parsePolygonText_();return _e&&_e.length!==0?y(_e):C.createPolygon();case"MULTIPOINT":var sr=this.parseMultiPointText_();if(!sr||sr.length===0)return C.createMultiPoint();var _r=sr.map(m).map((function(hi){return C.createPoint(hi)}));return C.createMultiPoint(_r);case"MULTILINESTRING":var tn=this.parseMultiLineStringText_().map((function(hi){return C.createLineString(hi.map(m))}));return C.createMultiLineString(tn);case"MULTIPOLYGON":var In=this.parseMultiPolygonText_();if(!In||In.length===0)return C.createMultiPolygon();var Zn=In.map(y);return C.createMultiPolygon(Zn);default:throw new Error("Invalid geometry type: "+F)}}throw new Error(this.formatErrorMessage_())}}])})();function ee(C){if(C.isEmpty())return"";var m=C.getCoordinate(),y=[m.x,m.y];return m.z===void 0||Number.isNaN(m.z)||y.push(m.z),m.m===void 0||Number.isNaN(m.m)||y.push(m.m),y.join(" ")}function Re(C){for(var m=C.getCoordinates().map((function(nt){var xt=[nt.x,nt.y];return nt.z===void 0||Number.isNaN(nt.z)||xt.push(nt.z),nt.m===void 0||Number.isNaN(nt.m)||xt.push(nt.m),xt})),y=[],T=0,F=m.length;T<F;++T)y.push(m[T].join(" "));return y.join(", ")}function qe(C){var m=[];m.push("("+Re(C.getExteriorRing())+")");for(var y=0,T=C.getNumInteriorRing();y<T;++y)m.push("("+Re(C.getInteriorRingN(y))+")");return m.join(", ")}var Fe={Point:ee,LineString:Re,LinearRing:Re,Polygon:qe,MultiPoint:function(C){for(var m=[],y=0,T=C.getNumGeometries();y<T;++y)m.push("("+ee(C.getGeometryN(y))+")");return m.join(", ")},MultiLineString:function(C){for(var m=[],y=0,T=C.getNumGeometries();y<T;++y)m.push("("+Re(C.getGeometryN(y))+")");return m.join(", ")},MultiPolygon:function(C){for(var m=[],y=0,T=C.getNumGeometries();y<T;++y)m.push("("+qe(C.getGeometryN(y))+")");return m.join(", ")},GeometryCollection:function(C){for(var m=[],y=0,T=C.getNumGeometries();y<T;++y)m.push(nr(C.getGeometryN(y)));return m.join(", ")}};function nr(C){var m=C.getGeometryType(),y=Fe[m];m=m.toUpperCase();var T=(function(F){var nt="";if(F.isEmpty())return nt;var xt=F.getCoordinate();return xt.z===void 0||Number.isNaN(xt.z)||(nt+="Z"),xt.m===void 0||Number.isNaN(xt.m)||(nt+="M"),nt})(C);return T.length>0&&(m+=" "+T),C.isEmpty()?m+" "+pl:m+" ("+y(C)+")"}var rn=(function(){return a((function C(m){i(this,C),this.geometryFactory=m||new Ks,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(C){var m=new Q(C);return new gt(m,this.geometryFactory).parse()}},{key:"write",value:function(C){return nr(C)}}])})(),pn=(function(){return a((function C(m){i(this,C),this.parser=new rn(m)}),[{key:"write",value:function(C){return this.parser.write(C)}}],[{key:"toLineString",value:function(C,m){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+C.x+" "+C.y+", "+m.x+" "+m.y+" )"}}])})(),un=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getIndexAlongSegment",value:function(m,y){return this.computeIntLineIndex(),this._intLineIndex[m][y]}},{key:"getTopologySummary",value:function(){var m=new ra;return this.isEndPoint()&&m.append(" endpoint"),this._isProper&&m.append(" proper"),this.isCollinear()&&m.append(" collinear"),m.toString()}},{key:"computeIntersection",value:function(m,y,T,F){this._inputLines[0][0]=m,this._inputLines[0][1]=y,this._inputLines[1][0]=T,this._inputLines[1][1]=F,this._result=this.computeIntersect(m,y,T,F)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var m=arguments[0];this.getEdgeDistance(m,0)>this.getEdgeDistance(m,1)?(this._intLineIndex[m][0]=0,this._intLineIndex[m][1]=1):(this._intLineIndex[m][0]=1,this._intLineIndex[m][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(m){this._precisionModel=m}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var m=arguments[0],y=0;y<this._result;y++)if(!this._intPt[y].equals2D(this._inputLines[m][0])&&!this._intPt[y].equals2D(this._inputLines[m][1]))return!0;return!1}}},{key:"getIntersection",value:function(m){return this._intPt[m]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==C.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(m,y){return C.computeEdgeDistance(this._intPt[y],this._inputLines[m][0],this._inputLines[m][1])}},{key:"isCollinear",value:function(){return this._result===C.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return pn.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+pn.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(m,y){return this._inputLines[m][y]}},{key:"isIntersection",value:function(m){for(var y=0;y<this._result;y++)if(this._intPt[y].equals2D(m))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(m,y){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[m][y]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ht,this._intPt[1]=new Ht,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(m,y,T){var F=Math.abs(T.x-y.x),nt=Math.abs(T.y-y.y),xt=-1;if(m.equals(y))xt=0;else if(m.equals(T))xt=F>nt?F:nt;else{var Dt=Math.abs(m.x-y.x),re=Math.abs(m.y-y.y);(xt=F>nt?Dt:re)!==0||m.equals(y)||(xt=Math.max(Dt,re))}return At.isTrue(!(xt===0&&!m.equals(y)),"Bad distance calculation"),xt}},{key:"nonRobustComputeEdgeDistance",value:function(m,y,T){var F=m.x-y.x,nt=m.y-y.y,xt=Math.sqrt(F*F+nt*nt);return At.isTrue(!(xt===0&&!m.equals(y)),"Invalid distance calculation"),xt}}])})();un.DONT_INTERSECT=0,un.DO_INTERSECT=1,un.COLLINEAR=2,un.NO_INTERSECTION=0,un.POINT_INTERSECTION=1,un.COLLINEAR_INTERSECTION=2;var Sn=(function(C){function m(){return i(this,m),n(this,m)}return k(m,C),a(m,[{key:"isInSegmentEnvelopes",value:function(y){var T=new de(this._inputLines[0][0],this._inputLines[0][1]),F=new de(this._inputLines[1][0],this._inputLines[1][1]);return T.contains(y)&&F.contains(y)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return O(m,"computeIntersection",this,1).apply(this,arguments);var y=arguments[0],T=arguments[1],F=arguments[2];if(this._isProper=!1,de.intersects(T,F,y)&&rr.index(T,F,y)===0&&rr.index(F,T,y)===0)return this._isProper=!0,(y.equals(T)||y.equals(F))&&(this._isProper=!1),this._result=un.POINT_INTERSECTION,null;this._result=un.NO_INTERSECTION}},{key:"intersection",value:function(y,T,F,nt){var xt=this.intersectionSafe(y,T,F,nt);return this.isInSegmentEnvelopes(xt)||(xt=new Ht(m.nearestEndpoint(y,T,F,nt))),this._precisionModel!==null&&this._precisionModel.makePrecise(xt),xt}},{key:"checkDD",value:function(y,T,F,nt,xt){var Dt=Fr.intersection(y,T,F,nt),re=this.isInSegmentEnvelopes(Dt);Ge.out.println("DD in env = "+re+"  --------------------- "+Dt),xt.distance(Dt)>1e-4&&Ge.out.println("Distance = "+xt.distance(Dt))}},{key:"intersectionSafe",value:function(y,T,F,nt){var xt=je.intersection(y,T,F,nt);return xt===null&&(xt=m.nearestEndpoint(y,T,F,nt)),xt}},{key:"computeCollinearIntersection",value:function(y,T,F,nt){var xt=de.intersects(y,T,F),Dt=de.intersects(y,T,nt),re=de.intersects(F,nt,y),_e=de.intersects(F,nt,T);return xt&&Dt?(this._intPt[0]=F,this._intPt[1]=nt,un.COLLINEAR_INTERSECTION):re&&_e?(this._intPt[0]=y,this._intPt[1]=T,un.COLLINEAR_INTERSECTION):xt&&re?(this._intPt[0]=F,this._intPt[1]=y,!F.equals(y)||Dt||_e?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):xt&&_e?(this._intPt[0]=F,this._intPt[1]=T,!F.equals(T)||Dt||re?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):Dt&&re?(this._intPt[0]=nt,this._intPt[1]=y,!nt.equals(y)||xt||_e?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):Dt&&_e?(this._intPt[0]=nt,this._intPt[1]=T,!nt.equals(T)||xt||re?un.COLLINEAR_INTERSECTION:un.POINT_INTERSECTION):un.NO_INTERSECTION}},{key:"computeIntersect",value:function(y,T,F,nt){if(this._isProper=!1,!de.intersects(y,T,F,nt))return un.NO_INTERSECTION;var xt=rr.index(y,T,F),Dt=rr.index(y,T,nt);if(xt>0&&Dt>0||xt<0&&Dt<0)return un.NO_INTERSECTION;var re=rr.index(F,nt,y),_e=rr.index(F,nt,T);return re>0&&_e>0||re<0&&_e<0?un.NO_INTERSECTION:xt===0&&Dt===0&&re===0&&_e===0?this.computeCollinearIntersection(y,T,F,nt):(xt===0||Dt===0||re===0||_e===0?(this._isProper=!1,y.equals2D(F)||y.equals2D(nt)?this._intPt[0]=y:T.equals2D(F)||T.equals2D(nt)?this._intPt[0]=T:xt===0?this._intPt[0]=new Ht(F):Dt===0?this._intPt[0]=new Ht(nt):re===0?this._intPt[0]=new Ht(y):_e===0&&(this._intPt[0]=new Ht(T))):(this._isProper=!0,this._intPt[0]=this.intersection(y,T,F,nt)),un.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(y,T,F,nt){var xt=y,Dt=fr.pointToSegment(y,F,nt),re=fr.pointToSegment(T,F,nt);return re<Dt&&(Dt=re,xt=T),(re=fr.pointToSegment(F,y,T))<Dt&&(Dt=re,xt=F),(re=fr.pointToSegment(nt,y,T))<Dt&&(Dt=re,xt=nt),xt}}])})(un),dn=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"countSegment",value:function(m,y){if(m.x<this._p.x&&y.x<this._p.x)return null;if(this._p.x===y.x&&this._p.y===y.y)return this._isPointOnSegment=!0,null;if(m.y===this._p.y&&y.y===this._p.y){var T=m.x,F=y.x;return T>F&&(T=y.x,F=m.x),this._p.x>=T&&this._p.x<=F&&(this._isPointOnSegment=!0),null}if(m.y>this._p.y&&y.y<=this._p.y||y.y>this._p.y&&m.y<=this._p.y){var nt=rr.index(m,y,this._p);if(nt===rr.COLLINEAR)return this._isPointOnSegment=!0,null;y.y<m.y&&(nt=-nt),nt===rr.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==$t.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?$t.BOUNDARY:this._crossingCount%2==1?$t.INTERIOR:$t.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var m=arguments[0];this._p=m}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof Ht&&Ir(arguments[1],Ze)){for(var m=arguments[1],y=new C(arguments[0]),T=new Ht,F=new Ht,nt=1;nt<m.size();nt++)if(m.getCoordinate(nt,T),m.getCoordinate(nt-1,F),y.countSegment(T,F),y.isOnSegment())return y.getLocation();return y.getLocation()}if(arguments[0]instanceof Ht&&arguments[1]instanceof Array){for(var xt=arguments[1],Dt=new C(arguments[0]),re=1;re<xt.length;re++){var _e=xt[re],sr=xt[re-1];if(Dt.countSegment(_e,sr),Dt.isOnSegment())return Dt.getLocation()}return Dt.getLocation()}}}])})(),Wn=(function(){function C(){i(this,C)}return a(C,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof Ht&&Ir(arguments[1],Ze)){for(var m=arguments[0],y=arguments[1],T=new Sn,F=new Ht,nt=new Ht,xt=y.size(),Dt=1;Dt<xt;Dt++)if(y.getCoordinate(Dt-1,F),y.getCoordinate(Dt,nt),T.computeIntersection(m,F,nt),T.hasIntersection())return!0;return!1}if(arguments[0]instanceof Ht&&arguments[1]instanceof Array){for(var re=arguments[0],_e=arguments[1],sr=new Sn,_r=1;_r<_e.length;_r++){var tn=_e[_r-1],In=_e[_r];if(sr.computeIntersection(re,tn,In),sr.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(m,y){return dn.locatePointInRing(m,y)}},{key:"isInRing",value:function(m,y){return C.locateInRing(m,y)!==$t.EXTERIOR}}])})(),Nn=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"setAllLocations",value:function(m){for(var y=0;y<this.location.length;y++)this.location[y]=m}},{key:"isNull",value:function(){for(var m=0;m<this.location.length;m++)if(this.location[m]!==$t.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(m){for(var y=0;y<this.location.length;y++)this.location[y]===$t.NONE&&(this.location[y]=m)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(m){if(m.location.length>this.location.length){var y=new Array(3).fill(null);y[Ie.ON]=this.location[Ie.ON],y[Ie.LEFT]=$t.NONE,y[Ie.RIGHT]=$t.NONE,this.location=y}for(var T=0;T<this.location.length;T++)this.location[T]===$t.NONE&&T<m.location.length&&(this.location[T]=m.location[T])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var m=this.location[Ie.LEFT];this.location[Ie.LEFT]=this.location[Ie.RIGHT],this.location[Ie.RIGHT]=m}},{key:"toString",value:function(){var m=new dr;return this.location.length>1&&m.append($t.toLocationSymbol(this.location[Ie.LEFT])),m.append($t.toLocationSymbol(this.location[Ie.ON])),this.location.length>1&&m.append($t.toLocationSymbol(this.location[Ie.RIGHT])),m.toString()}},{key:"setLocations",value:function(m,y,T){this.location[Ie.ON]=m,this.location[Ie.LEFT]=y,this.location[Ie.RIGHT]=T}},{key:"get",value:function(m){return m<this.location.length?this.location[m]:$t.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var m=0;m<this.location.length;m++)if(this.location[m]===$t.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var m=arguments[0];this.setLocation(Ie.ON,m)}else if(arguments.length===2){var y=arguments[0],T=arguments[1];this.location[y]=T}}},{key:"init",value:function(m){this.location=new Array(m).fill(null),this.setAllLocations($t.NONE)}},{key:"isEqualOnSide",value:function(m,y){return this.location[y]===m.location[y]}},{key:"allPositionsEqual",value:function(m){for(var y=0;y<this.location.length;y++)if(this.location[y]!==m)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var m=arguments[0];this.init(m.length)}else if(Number.isInteger(arguments[0])){var y=arguments[0];this.init(1),this.location[Ie.ON]=y}else if(arguments[0]instanceof C){var T=arguments[0];if(this.init(T.location.length),T!==null)for(var F=0;F<this.location.length;F++)this.location[F]=T.location[F]}}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this.init(3),this.location[Ie.ON]=nt,this.location[Ie.LEFT]=xt,this.location[Ie.RIGHT]=Dt}}}])})(),ti=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getGeometryCount",value:function(){var m=0;return this.elt[0].isNull()||m++,this.elt[1].isNull()||m++,m}},{key:"setAllLocations",value:function(m,y){this.elt[m].setAllLocations(y)}},{key:"isNull",value:function(m){return this.elt[m].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var m=arguments[0];this.setAllLocationsIfNull(0,m),this.setAllLocationsIfNull(1,m)}else if(arguments.length===2){var y=arguments[0],T=arguments[1];this.elt[y].setAllLocationsIfNull(T)}}},{key:"isLine",value:function(m){return this.elt[m].isLine()}},{key:"merge",value:function(m){for(var y=0;y<2;y++)this.elt[y]===null&&m.elt[y]!==null?this.elt[y]=new Nn(m.elt[y]):this.elt[y].merge(m.elt[y])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var m=arguments[0];return this.elt[m].get(Ie.ON)}if(arguments.length===2){var y=arguments[0],T=arguments[1];return this.elt[y].get(T)}}},{key:"toString",value:function(){var m=new dr;return this.elt[0]!==null&&(m.append("A:"),m.append(this.elt[0].toString())),this.elt[1]!==null&&(m.append(" B:"),m.append(this.elt[1].toString())),m.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var m=arguments[0];return this.elt[m].isArea()}}},{key:"isAnyNull",value:function(m){return this.elt[m].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];this.elt[m].setLocation(Ie.ON,y)}else if(arguments.length===3){var T=arguments[0],F=arguments[1],nt=arguments[2];this.elt[T].setLocation(F,nt)}}},{key:"isEqualOnSide",value:function(m,y){return this.elt[0].isEqualOnSide(m.elt[0],y)&&this.elt[1].isEqualOnSide(m.elt[1],y)}},{key:"allPositionsEqual",value:function(m,y){return this.elt[m].allPositionsEqual(y)}},{key:"toLine",value:function(m){this.elt[m].isArea()&&(this.elt[m]=new Nn(this.elt[m].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var m=arguments[0];this.elt[0]=new Nn(m),this.elt[1]=new Nn(m)}else if(arguments[0]instanceof C){var y=arguments[0];this.elt[0]=new Nn(y.elt[0]),this.elt[1]=new Nn(y.elt[1])}}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this.elt[0]=new Nn($t.NONE),this.elt[1]=new Nn($t.NONE),this.elt[T].setLocation(F)}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this.elt[0]=new Nn(nt,xt,Dt),this.elt[1]=new Nn(nt,xt,Dt)}else if(arguments.length===4){var re=arguments[0],_e=arguments[1],sr=arguments[2],_r=arguments[3];this.elt[0]=new Nn($t.NONE,$t.NONE,$t.NONE),this.elt[1]=new Nn($t.NONE,$t.NONE,$t.NONE),this.elt[re].setLocations(_e,sr,_r)}}},{key:"toLineLabel",value:function(m){for(var y=new C($t.NONE),T=0;T<2;T++)y.setLocation(T,m.getLocation(T));return y}}])})(),jn=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var C=new Array(this._pts.size()).fill(null),m=0;m<this._pts.size();m++)C[m]=this._pts.get(m);this._ring=this._geometryFactory.createLinearRing(C),this._isHole=rr.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(C){this._startDe=C;var m=C,y=!0;do{if(m===null)throw new jt("Found null DirectedEdge");if(m.getEdgeRing()===this)throw new jt("Directed Edge visited twice during ring-building at "+m.getCoordinate());this._edges.add(m);var T=m.getLabel();At.isTrue(T.isArea()),this.mergeLabel(T),this.addPoints(m.getEdge(),m.isForward(),y),y=!1,this.setEdgeRing(m,this),m=this.getNext(m)}while(m!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(C){return this._pts.get(C)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var C=this._startDe;do{var m=C.getNode().getEdges().getOutgoingDegree(this);m>this._maxNodeDegree&&(this._maxNodeDegree=m),C=this.getNext(C)}while(C!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(C,m,y){var T=C.getCoordinates();if(m){var F=1;y&&(F=0);for(var nt=F;nt<T.length;nt++)this._pts.add(T[nt])}else{var xt=T.length-2;y&&(xt=T.length-1);for(var Dt=xt;Dt>=0;Dt--)this._pts.add(T[Dt])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var C=this._startDe;do C.getEdge().setInResult(!0),C=C.getNext();while(C!==this._startDe)}},{key:"containsPoint",value:function(C){var m=this.getLinearRing();if(!m.getEnvelopeInternal().contains(C)||!Wn.isInRing(C,m.getCoordinates()))return!1;for(var y=this._holes.iterator();y.hasNext();)if(y.next().containsPoint(C))return!1;return!0}},{key:"addHole",value:function(C){this._holes.add(C)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var C=arguments[0];this.mergeLabel(C,0),this.mergeLabel(C,1)}else if(arguments.length===2){var m=arguments[1],y=arguments[0].getLocation(m,Ie.RIGHT);if(y===$t.NONE)return null;if(this._label.getLocation(m)===$t.NONE)return this._label.setLocation(m,y),null}}},{key:"setShell",value:function(C){this._shell=C,C!==null&&C.addHole(this)}},{key:"toPolygon",value:function(C){for(var m=new Array(this._holes.size()).fill(null),y=0;y<this._holes.size();y++)m[y]=this._holes.get(y).getLinearRing();return C.createPolygon(this.getLinearRing(),m)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Bt,this._pts=new Bt,this._label=new ti($t.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Bt,this._geometryFactory=null,arguments.length!==0&&arguments.length===2){var C=arguments[0],m=arguments[1];this._geometryFactory=m,this.computePoints(C),this.computeRing()}}}])})(),Zr=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"setEdgeRing",value:function(y,T){y.setMinEdgeRing(T)}},{key:"getNext",value:function(y){return y.getNextMin()}}],[{key:"constructor_",value:function(){var y=arguments[0],T=arguments[1];jn.constructor_.call(this,y,T)}}])})(jn),Ln=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"buildMinimalRings",value:function(){var y=new Bt,T=this._startDe;do{if(T.getMinEdgeRing()===null){var F=new Zr(T,this._geometryFactory);y.add(F)}T=T.getNext()}while(T!==this._startDe);return y}},{key:"setEdgeRing",value:function(y,T){y.setEdgeRing(T)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var y=this._startDe;do y.getNode().getEdges().linkMinimalDirectedEdges(this),y=y.getNext();while(y!==this._startDe)}},{key:"getNext",value:function(y){return y.getNext()}}],[{key:"constructor_",value:function(){var y=arguments[0],T=arguments[1];jn.constructor_.call(this,y,T)}}])})(jn),yi=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(C){this._isVisited=C}},{key:"setInResult",value:function(C){this._isInResult=C}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(C){this._label=C}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(C){this._isCovered=C,this._isCoveredSet=!0}},{key:"updateIM",value:function(C){At.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(C)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0&&arguments.length===1){var C=arguments[0];this._label=C}}}])})(),na=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"isIncidentEdgeInResult",value:function(){for(var y=this.getEdges().getEdges().iterator();y.hasNext();)if(y.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(y){y.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(y){}},{key:"computeMergedLocation",value:function(y,T){var F=$t.NONE;if(F=this._label.getLocation(T),!y.isNull(T)){var nt=y.getLocation(T);F!==$t.BOUNDARY&&(F=nt)}return F}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return O(m,"setLabel",this,1).apply(this,arguments);var y=arguments[0],T=arguments[1];this._label===null?this._label=new ti(y,T):this._label.setLocation(y,T)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof m){var y=arguments[0];this.mergeLabel(y._label)}else if(arguments[0]instanceof ti)for(var T=arguments[0],F=0;F<2;F++){var nt=this.computeMergedLocation(T,F);this._label.getLocation(F)===$t.NONE&&this._label.setLocation(F,nt)}}},{key:"add",value:function(y){this._edges.insert(y),y.setNode(this)}},{key:"setLabelBoundary",value:function(y){if(this._label===null)return null;var T=$t.NONE;this._label!==null&&(T=this._label.getLocation(y));var F=null;switch(T){case $t.BOUNDARY:F=$t.INTERIOR;break;case $t.INTERIOR:default:F=$t.BOUNDARY}this._label.setLocation(y,F)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var y=arguments[0],T=arguments[1];this._coord=y,this._edges=T,this._label=new ti(0,$t.NONE)}}])})(yi),Ii=(function(C){function m(){return i(this,m),n(this,m,arguments)}return k(m,C),a(m)})(nl);function Bi(C){return C==null?0:C.color}function la(C){return C==null?null:C.parent}function Bn(C,m){C!==null&&(C.color=m)}function Ha(C){return C==null?null:C.left}function pi(C){return C==null?null:C.right}var ei=(function(C){function m(){var y;return i(this,m),(y=n(this,m)).root_=null,y.size_=0,y}return k(m,C),a(m,[{key:"get",value:function(y){for(var T=this.root_;T!==null;){var F=y.compareTo(T.key);if(F<0)T=T.left;else{if(!(F>0))return T.value;T=T.right}}return null}},{key:"put",value:function(y,T){if(this.root_===null)return this.root_={key:y,value:T,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var F,nt,xt=this.root_;do if(F=xt,(nt=y.compareTo(xt.key))<0)xt=xt.left;else{if(!(nt>0)){var Dt=xt.value;return xt.value=T,Dt}xt=xt.right}while(xt!==null);var re={key:y,left:null,right:null,value:T,parent:F,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return nt<0?F.left=re:F.right=re,this.fixAfterInsertion(re),this.size_++,null}},{key:"fixAfterInsertion",value:function(y){var T;for(y.color=1;y!=null&&y!==this.root_&&y.parent.color===1;)la(y)===Ha(la(la(y)))?Bi(T=pi(la(la(y))))===1?(Bn(la(y),0),Bn(T,0),Bn(la(la(y)),1),y=la(la(y))):(y===pi(la(y))&&(y=la(y),this.rotateLeft(y)),Bn(la(y),0),Bn(la(la(y)),1),this.rotateRight(la(la(y)))):Bi(T=Ha(la(la(y))))===1?(Bn(la(y),0),Bn(T,0),Bn(la(la(y)),1),y=la(la(y))):(y===Ha(la(y))&&(y=la(y),this.rotateRight(y)),Bn(la(y),0),Bn(la(la(y)),1),this.rotateLeft(la(la(y))));this.root_.color=0}},{key:"values",value:function(){var y=new Bt,T=this.getFirstEntry();if(T!==null)for(y.add(T.value);(T=m.successor(T))!==null;)y.add(T.value);return y}},{key:"entrySet",value:function(){var y=new vr,T=this.getFirstEntry();if(T!==null)for(y.add(T);(T=m.successor(T))!==null;)y.add(T);return y}},{key:"rotateLeft",value:function(y){if(y!=null){var T=y.right;y.right=T.left,T.left!=null&&(T.left.parent=y),T.parent=y.parent,y.parent==null?this.root_=T:y.parent.left===y?y.parent.left=T:y.parent.right=T,T.left=y,y.parent=T}}},{key:"rotateRight",value:function(y){if(y!=null){var T=y.left;y.left=T.right,T.right!=null&&(T.right.parent=y),T.parent=y.parent,y.parent==null?this.root_=T:y.parent.right===y?y.parent.right=T:y.parent.left=T,T.right=y,y.parent=T}}},{key:"getFirstEntry",value:function(){var y=this.root_;if(y!=null)for(;y.left!=null;)y=y.left;return y}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(y){for(var T=this.root_;T!==null;){var F=y.compareTo(T.key);if(F<0)T=T.left;else{if(!(F>0))return!0;T=T.right}}return!1}}],[{key:"successor",value:function(y){var T;if(y===null)return null;if(y.right!==null){for(T=y.right;T.left!==null;)T=T.left;return T}T=y.parent;for(var F=y;T!==null&&F===T.right;)F=T,T=T.parent;return T}}])})(Ii),Tl=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"find",value:function(C){return this.nodeMap.get(C)}},{key:"addNode",value:function(){if(arguments[0]instanceof Ht){var C=arguments[0],m=this.nodeMap.get(C);return m===null&&(m=this.nodeFact.createNode(C),this.nodeMap.put(C,m)),m}if(arguments[0]instanceof na){var y=arguments[0],T=this.nodeMap.get(y.getCoordinate());return T===null?(this.nodeMap.put(y.getCoordinate(),y),y):(T.mergeLabel(y),T)}}},{key:"print",value:function(C){for(var m=this.iterator();m.hasNext();)m.next().print(C)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(C){for(var m=new Bt,y=this.iterator();y.hasNext();){var T=y.next();T.getLabel().getLocation(C)===$t.BOUNDARY&&m.add(T)}return m}},{key:"add",value:function(C){var m=C.getCoordinate();this.addNode(m).add(C)}}],[{key:"constructor_",value:function(){this.nodeMap=new ei,this.nodeFact=null;var C=arguments[0];this.nodeFact=C}}])})(),zn=(function(){function C(){i(this,C)}return a(C,null,[{key:"isNorthern",value:function(m){return m===C.NE||m===C.NW}},{key:"isOpposite",value:function(m,y){return m!==y&&(m-y+4)%4===2}},{key:"commonHalfPlane",value:function(m,y){if(m===y)return m;if((m-y+4)%4===2)return-1;var T=m<y?m:y;return T===0&&(m>y?m:y)===3?3:T}},{key:"isInHalfPlane",value:function(m,y){return y===C.SE?m===C.SE||m===C.SW:m===y||m===y+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1];if(m===0&&y===0)throw new X("Cannot compute the quadrant for point ( "+m+", "+y+" )");return m>=0?y>=0?C.NE:C.SE:y>=0?C.NW:C.SW}if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var T=arguments[0],F=arguments[1];if(F.x===T.x&&F.y===T.y)throw new X("Cannot compute the quadrant for two identical points "+T);return F.x>=T.x?F.y>=T.y?C.NE:C.SE:F.y>=T.y?C.NW:C.SW}}}])})();zn.NE=0,zn.NW=1,zn.SW=2,zn.SE=3;var jl=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"compareDirection",value:function(m){return this._dx===m._dx&&this._dy===m._dy?0:this._quadrant>m._quadrant?1:this._quadrant<m._quadrant?-1:rr.index(m._p0,m._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(m){this._node=m}},{key:"print",value:function(m){var y=Math.atan2(this._dy,this._dx),T=this.getClass().getName(),F=T.lastIndexOf("."),nt=T.substring(F+1);m.print("  "+nt+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+y+"   "+this._label)}},{key:"compareTo",value:function(m){var y=m;return this.compareDirection(y)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var m=Math.atan2(this._dy,this._dx),y=this.getClass().getName(),T=y.lastIndexOf(".");return"  "+y.substring(T+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+m+"   "+this._label}},{key:"computeLabel",value:function(m){}},{key:"init",value:function(m,y){this._p0=m,this._p1=y,this._dx=y.x-m.x,this._dy=y.y-m.y,this._quadrant=zn.quadrant(this._dx,this._dy),At.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var m=arguments[0];this._edge=m}else if(arguments.length===3){var y=arguments[0],T=arguments[1],F=arguments[2];C.constructor_.call(this,y,T,F,null)}else if(arguments.length===4){var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=arguments[3];C.constructor_.call(this,nt),this.init(xt,Dt),this._label=re}}}])})(),No=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(y){return this._depth[y]}},{key:"setVisited",value:function(y){this._isVisited=y}},{key:"computeDirectedLabel",value:function(){this._label=new ti(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(y,T){if(this._depth[y]!==-999&&this._depth[y]!==T)throw new jt("assigned depths do not match",this.getCoordinate());this._depth[y]=T}},{key:"isInteriorAreaEdge",value:function(){for(var y=!0,T=0;T<2;T++)this._label.isArea(T)&&this._label.getLocation(T,Ie.LEFT)===$t.INTERIOR&&this._label.getLocation(T,Ie.RIGHT)===$t.INTERIOR||(y=!1);return y}},{key:"setNextMin",value:function(y){this._nextMin=y}},{key:"print",value:function(y){O(m,"print",this,1).call(this,y),y.print(" "+this._depth[Ie.LEFT]+"/"+this._depth[Ie.RIGHT]),y.print(" ("+this.getDepthDelta()+")"),this._isInResult&&y.print(" inResult")}},{key:"setMinEdgeRing",value:function(y){this._minEdgeRing=y}},{key:"isLineEdge",value:function(){var y=this._label.isLine(0)||this._label.isLine(1),T=!this._label.isArea(0)||this._label.allPositionsEqual(0,$t.EXTERIOR),F=!this._label.isArea(1)||this._label.allPositionsEqual(1,$t.EXTERIOR);return y&&T&&F}},{key:"setEdgeRing",value:function(y){this._edgeRing=y}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var y=this._edge.getDepthDelta();return this._isForward||(y=-y),y}},{key:"setInResult",value:function(y){this._isInResult=y}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(y){this.print(y),y.print(" "),this._isForward?this._edge.print(y):this._edge.printReverse(y)}},{key:"setSym",value:function(y){this._sym=y}},{key:"setVisitedEdge",value:function(y){this.setVisited(y),this._sym.setVisited(y)}},{key:"setEdgeDepths",value:function(y,T){var F=this.getEdge().getDepthDelta();this._isForward||(F=-F);var nt=1;y===Ie.LEFT&&(nt=-1);var xt=Ie.opposite(y),Dt=T+F*nt;this.setDepth(y,T),this.setDepth(xt,Dt)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(y){this._next=y}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var y=arguments[0],T=arguments[1];if(jl.constructor_.call(this,y),this._isForward=T,T)this.init(y.getCoordinate(0),y.getCoordinate(1));else{var F=y.getNumPoints()-1;this.init(y.getCoordinate(F),y.getCoordinate(F-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(y,T){return y===$t.EXTERIOR&&T===$t.INTERIOR?1:y===$t.INTERIOR&&T===$t.EXTERIOR?-1:0}}])})(jl),xo=(function(){return a((function C(){i(this,C)}),[{key:"createNode",value:function(C){return new na(C,null)}}])})(),fo=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(C){C.println("Edges:");for(var m=0;m<this._edges.size();m++){C.println("edge "+m+":");var y=this._edges.get(m);y.print(C),y.eiList.print(C)}}},{key:"find",value:function(C){return this._nodes.find(C)}},{key:"addNode",value:function(){if(arguments[0]instanceof na){var C=arguments[0];return this._nodes.addNode(C)}if(arguments[0]instanceof Ht){var m=arguments[0];return this._nodes.addNode(m)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var C=this._nodes.iterator();C.hasNext();)C.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(C){Ge.out.println(C)}},{key:"isBoundaryNode",value:function(C,m){var y=this._nodes.find(m);if(y===null)return!1;var T=y.getLabel();return T!==null&&T.getLocation(C)===$t.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var C=this._nodes.iterator();C.hasNext();)C.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(C,m,y,T){return!!C.equals(y)&&rr.index(C,m,T)===rr.COLLINEAR&&zn.quadrant(C,m)===zn.quadrant(y,T)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(C){Ge.out.print(C)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(C,m){for(var y=0;y<this._edges.size();y++){var T=this._edges.get(y),F=T.getCoordinates();if(this.matchInSameDirection(C,m,F[0],F[1])||this.matchInSameDirection(C,m,F[F.length-1],F[F.length-2]))return T}return null}},{key:"insertEdge",value:function(C){this._edges.add(C)}},{key:"findEdgeEnd",value:function(C){for(var m=this.getEdgeEnds().iterator();m.hasNext();){var y=m.next();if(y.getEdge()===C)return y}return null}},{key:"addEdges",value:function(C){for(var m=C.iterator();m.hasNext();){var y=m.next();this._edges.add(y);var T=new No(y,!0),F=new No(y,!1);T.setSym(F),F.setSym(T),this.add(T),this.add(F)}}},{key:"add",value:function(C){this._nodes.add(C),this._edgeEndList.add(C)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(C,m){for(var y=0;y<this._edges.size();y++){var T=this._edges.get(y),F=T.getCoordinates();if(C.equals(F[0])&&m.equals(F[1]))return T}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Bt,this._nodes=null,this._edgeEndList=new Bt,arguments.length===0)this._nodes=new Tl(new xo);else if(arguments.length===1){var C=arguments[0];this._nodes=new Tl(C)}}},{key:"linkResultDirectedEdges",value:function(C){for(var m=C.iterator();m.hasNext();)m.next().getEdges().linkResultDirectedEdges()}}])})(),_u=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"sortShellsAndHoles",value:function(m,y,T){for(var F=m.iterator();F.hasNext();){var nt=F.next();nt.isHole()?T.add(nt):y.add(nt)}}},{key:"computePolygons",value:function(m){for(var y=new Bt,T=m.iterator();T.hasNext();){var F=T.next().toPolygon(this._geometryFactory);y.add(F)}return y}},{key:"placeFreeHoles",value:function(m,y){for(var T=y.iterator();T.hasNext();){var F=T.next();if(F.getShell()===null){var nt=C.findEdgeRingContaining(F,m);if(nt===null)throw new jt("unable to assign hole to a shell",F.getCoordinate(0));F.setShell(nt)}}}},{key:"buildMinimalEdgeRings",value:function(m,y,T){for(var F=new Bt,nt=m.iterator();nt.hasNext();){var xt=nt.next();if(xt.getMaxNodeDegree()>2){xt.linkDirectedEdgesForMinimalEdgeRings();var Dt=xt.buildMinimalRings(),re=this.findShell(Dt);re!==null?(this.placePolygonHoles(re,Dt),y.add(re)):T.addAll(Dt)}else F.add(xt)}return F}},{key:"buildMaximalEdgeRings",value:function(m){for(var y=new Bt,T=m.iterator();T.hasNext();){var F=T.next();if(F.isInResult()&&F.getLabel().isArea()&&F.getEdgeRing()===null){var nt=new Ln(F,this._geometryFactory);y.add(nt),nt.setInResult()}}return y}},{key:"placePolygonHoles",value:function(m,y){for(var T=y.iterator();T.hasNext();){var F=T.next();F.isHole()&&F.setShell(m)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(m){for(var y=0,T=null,F=m.iterator();F.hasNext();){var nt=F.next();nt.isHole()||(T=nt,y++)}return At.isTrue(y<=1,"found two shells in MinimalEdgeRing list"),T}},{key:"add",value:function(){if(arguments.length===1){var m=arguments[0];this.add(m.getEdgeEnds(),m.getNodes())}else if(arguments.length===2){var y=arguments[0],T=arguments[1];fo.linkResultDirectedEdges(T);var F=this.buildMaximalEdgeRings(y),nt=new Bt,xt=this.buildMinimalEdgeRings(F,this._shellList,nt);this.sortShellsAndHoles(xt,this._shellList,nt),this.placeFreeHoles(this._shellList,nt)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Bt;var m=arguments[0];this._geometryFactory=m}},{key:"findEdgeRingContaining",value:function(m,y){for(var T=m.getLinearRing(),F=T.getEnvelopeInternal(),nt=T.getCoordinateN(0),xt=null,Dt=null,re=y.iterator();re.hasNext();){var _e=re.next(),sr=_e.getLinearRing(),_r=sr.getEnvelopeInternal();if(!_r.equals(F)&&_r.contains(F)){nt=Mn.ptNotInList(T.getCoordinates(),sr.getCoordinates());var tn=!1;Wn.isInRing(nt,sr.getCoordinates())&&(tn=!0),tn&&(xt===null||Dt.contains(_r))&&(Dt=(xt=_e).getLinearRing().getEnvelopeInternal())}}return xt}}])})(),Ms=(function(){return a((function C(){i(this,C)}),[{key:"getBounds",value:function(){}}])})(),Cl=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Ms,it]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var C=arguments[0],m=arguments[1];this._bounds=C,this._item=m}}])})(),xu=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var C=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),C}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(C){for(var m=null,y=this._items.get(C);2*C<=this._size&&((m=2*C)!==this._size&&this._items.get(m+1).compareTo(this._items.get(m))<0&&m++,this._items.get(m).compareTo(y)<0);C=m)this._items.set(C,this._items.get(m));this._items.set(C,y)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(C){this._items.add(null),this._size+=1;var m=this._size;for(this._items.set(0,C);C.compareTo(this._items.get(Math.trunc(m/2)))<0;m/=2)this._items.set(m,this._items.get(Math.trunc(m/2)));this._items.set(m,C)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Bt,this._items.add(null)}}])})(),Vl=(function(){return a((function C(){i(this,C)}),[{key:"insert",value:function(C,m){}},{key:"remove",value:function(C,m){}},{key:"query",value:function(){}}])})(),wo=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(C){At.isTrue(this._bounds===null),this._childBoundables.add(C)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Ms,it]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Bt,this._bounds=null,this._level=null,arguments.length!==0&&arguments.length===1){var C=arguments[0];this._level=C}}}])})(),Bo={reverseOrder:function(){return{compare:function(C,m){return m.compareTo(C)}}},min:function(C){return Bo.sort(C),C.get(0)},sort:function(C,m){var y=C.toArray();m?ze.sort(y,m):ze.sort(y);for(var T=C.iterator(),F=0,nt=y.length;F<nt;F++)T.next(),T.set(y[F])},singletonList:function(C){var m=new Bt;return m.add(C),m}},Ba=(function(){function C(){i(this,C)}return a(C,null,[{key:"maxDistance",value:function(m,y,T,F,nt,xt,Dt,re){var _e=C.distance(m,y,nt,xt);return _e=Math.max(_e,C.distance(m,y,Dt,re)),_e=Math.max(_e,C.distance(T,F,nt,xt)),_e=Math.max(_e,C.distance(T,F,Dt,re))}},{key:"distance",value:function(m,y,T,F){var nt=T-m,xt=F-y;return Math.sqrt(nt*nt+xt*xt)}},{key:"maximumDistance",value:function(m,y){var T=Math.min(m.getMinX(),y.getMinX()),F=Math.min(m.getMinY(),y.getMinY()),nt=Math.max(m.getMaxX(),y.getMaxX()),xt=Math.max(m.getMaxY(),y.getMaxY());return C.distance(T,F,nt,xt)}},{key:"minMaxDistance",value:function(m,y){var T=m.getMinX(),F=m.getMinY(),nt=m.getMaxX(),xt=m.getMaxY(),Dt=y.getMinX(),re=y.getMinY(),_e=y.getMaxX(),sr=y.getMaxY(),_r=C.maxDistance(T,F,T,xt,Dt,re,Dt,sr);return _r=Math.min(_r,C.maxDistance(T,F,T,xt,Dt,re,_e,re)),_r=Math.min(_r,C.maxDistance(T,F,T,xt,_e,sr,Dt,sr)),_r=Math.min(_r,C.maxDistance(T,F,T,xt,_e,sr,_e,re)),_r=Math.min(_r,C.maxDistance(T,F,nt,F,Dt,re,Dt,sr)),_r=Math.min(_r,C.maxDistance(T,F,nt,F,Dt,re,_e,re)),_r=Math.min(_r,C.maxDistance(T,F,nt,F,_e,sr,Dt,sr)),_r=Math.min(_r,C.maxDistance(T,F,nt,F,_e,sr,_e,re)),_r=Math.min(_r,C.maxDistance(nt,xt,T,xt,Dt,re,Dt,sr)),_r=Math.min(_r,C.maxDistance(nt,xt,T,xt,Dt,re,_e,re)),_r=Math.min(_r,C.maxDistance(nt,xt,T,xt,_e,sr,Dt,sr)),_r=Math.min(_r,C.maxDistance(nt,xt,T,xt,_e,sr,_e,re)),_r=Math.min(_r,C.maxDistance(nt,xt,nt,F,Dt,re,Dt,sr)),_r=Math.min(_r,C.maxDistance(nt,xt,nt,F,Dt,re,_e,re)),_r=Math.min(_r,C.maxDistance(nt,xt,nt,F,_e,sr,Dt,sr)),_r=Math.min(_r,C.maxDistance(nt,xt,nt,F,_e,sr,_e,re))}}])})(),zo=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"maximumDistance",value:function(){return Ba.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(m,y){var T=C.isComposite(this._boundable1),F=C.isComposite(this._boundable2);if(T&&F)return C.area(this._boundable1)>C.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,m,y),null):(this.expand(this._boundable2,this._boundable1,!0,m,y),null);if(T)return this.expand(this._boundable1,this._boundable2,!1,m,y),null;if(F)return this.expand(this._boundable2,this._boundable1,!0,m,y),null;throw new X("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(C.isComposite(this._boundable1)||C.isComposite(this._boundable2))}},{key:"compareTo",value:function(m){var y=m;return this._distance<y._distance?-1:this._distance>y._distance?1:0}},{key:"expand",value:function(m,y,T,F,nt){for(var xt=m.getChildBoundables().iterator();xt.hasNext();){var Dt=xt.next(),re=null;(re=T?new C(y,Dt,this._itemDistance):new C(Dt,y,this._itemDistance)).getDistance()<nt&&F.add(re)}}},{key:"getBoundable",value:function(m){return m===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var m=arguments[0],y=arguments[1],T=arguments[2];this._boundable1=m,this._boundable2=y,this._itemDistance=T,this._distance=this.distance()}},{key:"area",value:function(m){return m.getBounds().getArea()}},{key:"isComposite",value:function(m){return m instanceof wo}}])})(),ut=(function(){return a((function C(){i(this,C)}),[{key:"visitItem",value:function(C){}}])})(),Yt=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"queryInternal",value:function(){if(Ir(arguments[2],ut)&&arguments[0]instanceof Object&&arguments[1]instanceof wo)for(var m=arguments[0],y=arguments[2],T=arguments[1].getChildBoundables(),F=0;F<T.size();F++){var nt=T.get(F);this.getIntersectsOp().intersects(nt.getBounds(),m)&&(nt instanceof wo?this.queryInternal(m,nt,y):nt instanceof Cl?y.visitItem(nt.getItem()):At.shouldNeverReachHere())}else if(Ir(arguments[2],Rr)&&arguments[0]instanceof Object&&arguments[1]instanceof wo)for(var xt=arguments[0],Dt=arguments[2],re=arguments[1].getChildBoundables(),_e=0;_e<re.size();_e++){var sr=re.get(_e);this.getIntersectsOp().intersects(sr.getBounds(),xt)&&(sr instanceof wo?this.queryInternal(xt,sr,Dt):sr instanceof Cl?Dt.add(sr.getItem()):At.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(m){return m.get(m.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var m=0,y=arguments[0].getChildBoundables().iterator();y.hasNext();){var T=y.next();T instanceof wo?m+=this.size(T):T instanceof Cl&&(m+=1)}return m}}},{key:"removeItem",value:function(m,y){for(var T=null,F=m.getChildBoundables().iterator();F.hasNext();){var nt=F.next();nt instanceof Cl&&nt.getItem()===y&&(T=nt)}return T!==null&&(m.getChildBoundables().remove(T),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var m=this.itemsTree(this._root);return m===null?new Bt:m}if(arguments.length===1){for(var y=arguments[0],T=new Bt,F=y.getChildBoundables().iterator();F.hasNext();){var nt=F.next();if(nt instanceof wo){var xt=this.itemsTree(nt);xt!==null&&T.add(xt)}else nt instanceof Cl?T.add(nt.getItem()):At.shouldNeverReachHere()}return T.size()<=0?null:T}}},{key:"insert",value:function(m,y){At.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Cl(m,y))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var m=arguments[0],y=new Bt;return this.boundablesAtLevel(m,this._root,y),y}if(arguments.length===3){var T=arguments[0],F=arguments[1],nt=arguments[2];if(At.isTrue(T>-2),F.getLevel()===T)return nt.add(F),null;for(var xt=F.getChildBoundables().iterator();xt.hasNext();){var Dt=xt.next();Dt instanceof wo?this.boundablesAtLevel(T,Dt,nt):(At.isTrue(Dt instanceof Cl),T===-1&&nt.add(Dt))}return null}}},{key:"query",value:function(){if(arguments.length===1){var m=arguments[0];this.build();var y=new Bt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),m)&&this.queryInternal(m,this._root,y),y}if(arguments.length===2){var T=arguments[0],F=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),T)&&this.queryInternal(T,this._root,F)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),m)&&this.remove(m,this._root,y)}if(arguments.length===3){var T=arguments[0],F=arguments[1],nt=arguments[2],xt=this.removeItem(F,nt);if(xt)return!0;for(var Dt=null,re=F.getChildBoundables().iterator();re.hasNext();){var _e=re.next();if(this.getIntersectsOp().intersects(_e.getBounds(),T)&&_e instanceof wo&&(xt=this.remove(T,_e,nt))){Dt=_e;break}}return Dt!==null&&Dt.getChildBoundables().isEmpty()&&F.getChildBoundables().remove(Dt),xt}}},{key:"createHigherLevels",value:function(m,y){At.isTrue(!m.isEmpty());var T=this.createParentBoundables(m,y+1);return T.size()===1?T.get(0):this.createHigherLevels(T,y+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var m=0,y=arguments[0].getChildBoundables().iterator();y.hasNext();){var T=y.next();if(T instanceof wo){var F=this.depth(T);F>m&&(m=F)}}return m+1}}},{key:"createParentBoundables",value:function(m,y){At.isTrue(!m.isEmpty());var T=new Bt;T.add(this.createNode(y));var F=new Bt(m);Bo.sort(F,this.getComparator());for(var nt=F.iterator();nt.hasNext();){var xt=nt.next();this.lastNode(T).getChildBoundables().size()===this.getNodeCapacity()&&T.add(this.createNode(y)),this.lastNode(T).addChildBoundable(xt)}return T}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[it]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Bt,this._nodeCapacity=null,arguments.length===0)C.constructor_.call(this,C.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var m=arguments[0];At.isTrue(m>1,"Node capacity must be greater than 1"),this._nodeCapacity=m}}},{key:"compareDoubles",value:function(m,y){return m>y?1:m<y?-1:0}}])})();Yt.IntersectsOp=function(){},Yt.DEFAULT_NODE_CAPACITY=10;var ve=(function(){return a((function C(){i(this,C)}),[{key:"distance",value:function(C,m){}}])})(),Xe=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"createParentBoundablesFromVerticalSlices",value:function(y,T){At.isTrue(y.length>0);for(var F=new Bt,nt=0;nt<y.length;nt++)F.addAll(this.createParentBoundablesFromVerticalSlice(y[nt],T));return F}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var y=arguments[0],T=arguments[1];return this.nearestNeighbourK(y,Ft.POSITIVE_INFINITY,T)}if(arguments.length===3){var F=arguments[0],nt=arguments[2],xt=arguments[1],Dt=new xu;Dt.add(F);for(var re=new xu;!Dt.isEmpty()&&xt>=0;){var _e=Dt.poll(),sr=_e.getDistance();if(sr>=xt)break;_e.isLeaves()?re.size()<nt?re.add(_e):(re.peek().getDistance()>sr&&(re.poll(),re.add(_e)),xt=re.peek().getDistance()):_e.expandToQueue(Dt,xt)}return m.getItems(re)}}},{key:"createNode",value:function(y){return new pr(y)}},{key:"size",value:function(){return arguments.length===0?O(m,"size",this,1).call(this):O(m,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof de))return O(m,"insert",this,1).apply(this,arguments);var y=arguments[0],T=arguments[1];if(y.isNull())return null;O(m,"insert",this,1).call(this,y,T)}},{key:"getIntersectsOp",value:function(){return m.intersectsOp}},{key:"verticalSlices",value:function(y,T){for(var F=Math.trunc(Math.ceil(y.size()/T)),nt=new Array(T).fill(null),xt=y.iterator(),Dt=0;Dt<T;Dt++){nt[Dt]=new Bt;for(var re=0;xt.hasNext()&&re<F;){var _e=xt.next();nt[Dt].add(_e),re++}}return nt}},{key:"query",value:function(){if(arguments.length===1){var y=arguments[0];return O(m,"query",this,1).call(this,y)}if(arguments.length===2){var T=arguments[0],F=arguments[1];O(m,"query",this,1).call(this,T,F)}}},{key:"getComparator",value:function(){return m.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(y,T){return O(m,"createParentBoundables",this,1).call(this,y,T)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof de){var y=arguments[0],T=arguments[1];return O(m,"remove",this,1).call(this,y,T)}return O(m,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?O(m,"depth",this,1).call(this):O(m,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(y,T){At.isTrue(!y.isEmpty());var F=Math.trunc(Math.ceil(y.size()/this.getNodeCapacity())),nt=new Bt(y);Bo.sort(nt,m.xComparator);var xt=this.verticalSlices(nt,Math.trunc(Math.ceil(Math.sqrt(F))));return this.createParentBoundablesFromVerticalSlices(xt,T)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Ir(arguments[0],ve)){var y=arguments[0];if(this.isEmpty())return null;var T=new zo(this.getRoot(),this.getRoot(),y);return this.nearestNeighbour(T)}if(arguments[0]instanceof zo){var F=arguments[0],nt=Ft.POSITIVE_INFINITY,xt=null,Dt=new xu;for(Dt.add(F);!Dt.isEmpty()&&nt>0;){var re=Dt.poll(),_e=re.getDistance();if(_e>=nt)break;re.isLeaves()?(nt=_e,xt=re):re.expandToQueue(Dt,nt)}return xt===null?null:[xt.getBoundable(0).getItem(),xt.getBoundable(1).getItem()]}}else{if(arguments.length===2){var sr=arguments[0],_r=arguments[1];if(this.isEmpty()||sr.isEmpty())return null;var tn=new zo(this.getRoot(),sr.getRoot(),_r);return this.nearestNeighbour(tn)}if(arguments.length===3){var In=arguments[2],Zn=new Cl(arguments[0],arguments[1]),hi=new zo(this.getRoot(),Zn,In);return this.nearestNeighbour(hi)[0]}if(arguments.length===4){var Yn=arguments[2],Hn=arguments[3],fa=new Cl(arguments[0],arguments[1]),Ui=new zo(this.getRoot(),fa,Yn);return this.nearestNeighbourK(Ui,Hn)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var y=arguments[0],T=arguments[1],F=Ft.POSITIVE_INFINITY,nt=new xu;for(nt.add(y);!nt.isEmpty();){var xt=nt.poll(),Dt=xt.getDistance();if(Dt>T)return!1;if(xt.maximumDistance()<=T)return!0;if(xt.isLeaves()){if((F=Dt)<=T)return!0}else xt.expandToQueue(nt,F)}return!1}if(arguments.length===3){var re=arguments[0],_e=arguments[1],sr=arguments[2],_r=new zo(this.getRoot(),re.getRoot(),_e);return this.isWithinDistance(_r,sr)}}},{key:"interfaces_",get:function(){return[Vl,it]}}],[{key:"constructor_",value:function(){if(arguments.length===0)m.constructor_.call(this,m.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var y=arguments[0];Yt.constructor_.call(this,y)}}},{key:"centreX",value:function(y){return m.avg(y.getMinX(),y.getMaxX())}},{key:"avg",value:function(y,T){return(y+T)/2}},{key:"getItems",value:function(y){for(var T=new Array(y.size()).fill(null),F=0;!y.isEmpty();){var nt=y.poll();T[F]=nt.getBoundable(0).getItem(),F++}return T}},{key:"centreY",value:function(y){return m.avg(y.getMinY(),y.getMaxY())}}])})(Yt),pr=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"computeBounds",value:function(){for(var y=null,T=this.getChildBoundables().iterator();T.hasNext();){var F=T.next();y===null?y=new de(F.getBounds()):y.expandToInclude(F.getBounds())}return y}}],[{key:"constructor_",value:function(){var y=arguments[0];wo.constructor_.call(this,y)}}])})(wo);Xe.STRtreeNode=pr,Xe.xComparator=new((function(){return a((function C(){i(this,C)}),[{key:"interfaces_",get:function(){return[Et]}},{key:"compare",value:function(C,m){return Yt.compareDoubles(Xe.centreX(C.getBounds()),Xe.centreX(m.getBounds()))}}])})()),Xe.yComparator=new((function(){return a((function C(){i(this,C)}),[{key:"interfaces_",get:function(){return[Et]}},{key:"compare",value:function(C,m){return Yt.compareDoubles(Xe.centreY(C.getBounds()),Xe.centreY(m.getBounds()))}}])})()),Xe.intersectsOp=new((function(){return a((function C(){i(this,C)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(C,m){return C.intersects(m)}}])})()),Xe.DEFAULT_NODE_CAPACITY=10;var Yr=(function(){function C(){i(this,C)}return a(C,null,[{key:"relativeSign",value:function(m,y){return m<y?-1:m>y?1:0}},{key:"compare",value:function(m,y,T){if(y.equals2D(T))return 0;var F=C.relativeSign(y.x,T.x),nt=C.relativeSign(y.y,T.y);switch(m){case 0:return C.compareValue(F,nt);case 1:return C.compareValue(nt,F);case 2:return C.compareValue(nt,-F);case 3:return C.compareValue(-F,nt);case 4:return C.compareValue(-F,-nt);case 5:return C.compareValue(-nt,-F);case 6:return C.compareValue(-nt,F);case 7:return C.compareValue(F,-nt)}return At.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(m,y){return m<0?-1:m>0?1:y<0?-1:y>0?1:0}}])})(),mn=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(C){C.print(this.coord),C.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(C){var m=C;return this.segmentIndex<m.segmentIndex?-1:this.segmentIndex>m.segmentIndex?1:this.coord.equals2D(m.coord)?0:this._isInterior?m._isInterior?Yr.compare(this._segmentOctant,this.coord,m.coord):1:-1}},{key:"isEndPoint",value:function(C){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===C}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var C=arguments[0],m=arguments[1],y=arguments[2],T=arguments[3];this._segString=C,this.coord=new Ht(m),this.segmentIndex=y,this._segmentOctant=T,this._isInterior=!m.equals2D(C.getCoordinate(y))}}])})(),$n=(function(){return a((function C(){i(this,C)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),ri=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var C=new Na;this.addEndpoints();for(var m=this.iterator(),y=m.next();m.hasNext();){var T=m.next();this.addEdgeCoordinates(y,T,C),y=T}return C.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var C=new Bt;this.findCollapsesFromInsertedNodes(C),this.findCollapsesFromExistingVertices(C);for(var m=C.iterator();m.hasNext();){var y=m.next().intValue();this.add(this._edge.getCoordinate(y),y)}}},{key:"createSplitEdgePts",value:function(C,m){var y=m.segmentIndex-C.segmentIndex+2;if(y===2)return[new Ht(C.coord),new Ht(m.coord)];var T=this._edge.getCoordinate(m.segmentIndex),F=m.isInterior()||!m.coord.equals2D(T);F||y--;var nt=new Array(y).fill(null),xt=0;nt[xt++]=new Ht(C.coord);for(var Dt=C.segmentIndex+1;Dt<=m.segmentIndex;Dt++)nt[xt++]=this._edge.getCoordinate(Dt);return F&&(nt[xt]=new Ht(m.coord)),nt}},{key:"print",value:function(C){C.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(C)}},{key:"findCollapsesFromExistingVertices",value:function(C){for(var m=0;m<this._edge.size()-2;m++){var y=this._edge.getCoordinate(m);this._edge.getCoordinate(m+1);var T=this._edge.getCoordinate(m+2);y.equals2D(T)&&C.add(ar.valueOf(m+1))}}},{key:"addEdgeCoordinates",value:function(C,m,y){var T=this.createSplitEdgePts(C,m);y.add(T,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(C){this.addEndpoints(),this.addCollapsedNodes();for(var m=this.iterator(),y=m.next();m.hasNext();){var T=m.next(),F=this.createSplitEdge(y,T);C.add(F),y=T}}},{key:"findCollapseIndex",value:function(C,m,y){if(!C.coord.equals2D(m.coord))return!1;var T=m.segmentIndex-C.segmentIndex;return m.isInterior()||T--,T===1&&(y[0]=C.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(C){for(var m=new Array(1).fill(null),y=this.iterator(),T=y.next();y.hasNext();){var F=y.next();this.findCollapseIndex(T,F,m)&&C.add(ar.valueOf(m[0])),T=F}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var C=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(C),C)}},{key:"createSplitEdge",value:function(C,m){var y=this.createSplitEdgePts(C,m);return new xa(y,this._edge.getData())}},{key:"add",value:function(C,m){var y=new mn(this._edge,C,m,this._edge.getSegmentOctant(m)),T=this._nodeMap.get(y);return T!==null?(At.isTrue(T.coord.equals2D(C),"Found equal nodes with different coordinates"),T):(this._nodeMap.put(y,y),y)}},{key:"checkSplitEdgesCorrectness",value:function(C){var m=this._edge.getCoordinates(),y=C.get(0).getCoordinate(0);if(!y.equals2D(m[0]))throw new lt("bad split edge start point at "+y);var T=C.get(C.size()-1).getCoordinates(),F=T[T.length-1];if(!F.equals2D(m[m.length-1]))throw new lt("bad split edge end point at "+F)}}],[{key:"constructor_",value:function(){this._nodeMap=new ei,this._edge=null;var C=arguments[0];this._edge=C}}])})(),Ti=(function(){function C(){i(this,C)}return a(C,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var m=arguments[0],y=arguments[1];if(m===0&&y===0)throw new X("Cannot compute the octant for point ( "+m+", "+y+" )");var T=Math.abs(m),F=Math.abs(y);return m>=0?y>=0?T>=F?0:1:T>=F?7:6:y>=0?T>=F?3:2:T>=F?4:5}if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var nt=arguments[0],xt=arguments[1],Dt=xt.x-nt.x,re=xt.y-nt.y;if(Dt===0&&re===0)throw new X("Cannot compute the octant for two identical points "+nt);return C.octant(Dt,re)}}}])})(),Fi=(function(){return a((function C(){i(this,C)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(C){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(C){}},{key:"getData",value:function(){}}])})(),wi=(function(){return a((function C(){i(this,C)}),[{key:"addIntersection",value:function(C,m){}},{key:"interfaces_",get:function(){return[Fi]}}])})(),xa=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(m){return this._pts[m]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(m){return m===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(m),this.getCoordinate(m+1))}},{key:"setData",value:function(m){this._data=m}},{key:"safeOctant",value:function(m,y){return m.equals2D(y)?0:Ti.octant(m,y)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var m=arguments[0],y=arguments[1];this.addIntersectionNode(m,y)}else if(arguments.length===4){var T=arguments[1],F=arguments[3],nt=new Ht(arguments[0].getIntersection(F));this.addIntersection(nt,T)}}},{key:"toString",value:function(){return pn.toLineString(new sa(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(m,y){var T=y,F=T+1;if(F<this._pts.length){var nt=this._pts[F];m.equals2D(nt)&&(T=F)}return this._nodeList.add(m,T)}},{key:"addIntersections",value:function(m,y,T){for(var F=0;F<m.getIntersectionNum();F++)this.addIntersection(m,y,T,F)}},{key:"interfaces_",get:function(){return[wi]}}],[{key:"constructor_",value:function(){this._nodeList=new ri(this),this._pts=null,this._data=null;var m=arguments[0],y=arguments[1];this._pts=m,this._data=y}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var m=arguments[0],y=new Bt;return C.getNodedSubstrings(m,y),y}if(arguments.length===2)for(var T=arguments[1],F=arguments[0].iterator();F.hasNext();)F.next().getNodeList().addSplitEdges(T)}}])})(),Pi=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof C){var m=arguments[0],y=rr.index(this.p0,this.p1,m.p0),T=rr.index(this.p0,this.p1,m.p1);return y>=0&&T>=0||y<=0&&T<=0?Math.max(y,T):0}if(arguments[0]instanceof Ht){var F=arguments[0];return rr.index(this.p0,this.p1,F)}}},{key:"toGeometry",value:function(m){return m.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(m){if(!(m instanceof C))return!1;var y=m;return this.p0.equals(y.p0)&&this.p1.equals(y.p1)}},{key:"intersection",value:function(m){var y=new Sn;return y.computeIntersection(this.p0,this.p1,m.p0,m.p1),y.hasIntersection()?y.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof Ht){var m=arguments[0];if(m.equals(this.p0)||m.equals(this.p1))return new Ht(m);var y=this.projectionFactor(m),T=new Ht;return T.x=this.p0.x+y*(this.p1.x-this.p0.x),T.y=this.p0.y+y*(this.p1.y-this.p0.y),T}if(arguments[0]instanceof C){var F=arguments[0],nt=this.projectionFactor(F.p0),xt=this.projectionFactor(F.p1);if(nt>=1&&xt>=1||nt<=0&&xt<=0)return null;var Dt=this.project(F.p0);nt<0&&(Dt=this.p0),nt>1&&(Dt=this.p1);var re=this.project(F.p1);return xt<0&&(re=this.p0),xt>1&&(re=this.p1),new C(Dt,re)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(m){return m===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(m){return fr.pointToLinePerpendicular(m,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return C.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(m){if(m.equals(this.p0))return 0;if(m.equals(this.p1))return 1;var y=this.p1.x-this.p0.x,T=this.p1.y-this.p0.y,F=y*y+T*T;return F<=0?Ft.NaN:((m.x-this.p0.x)*y+(m.y-this.p0.y)*T)/F}},{key:"closestPoints",value:function(m){var y=this.intersection(m);if(y!==null)return[y,y];var T=new Array(2).fill(null),F=Ft.MAX_VALUE,nt=null,xt=this.closestPoint(m.p0);F=xt.distance(m.p0),T[0]=xt,T[1]=m.p0;var Dt=this.closestPoint(m.p1);(nt=Dt.distance(m.p1))<F&&(F=nt,T[0]=Dt,T[1]=m.p1);var re=m.closestPoint(this.p0);(nt=re.distance(this.p0))<F&&(F=nt,T[0]=this.p0,T[1]=re);var _e=m.closestPoint(this.p1);return(nt=_e.distance(this.p1))<F&&(F=nt,T[0]=this.p1,T[1]=_e),T}},{key:"closestPoint",value:function(m){var y=this.projectionFactor(m);return y>0&&y<1?this.project(m):this.p0.distance(m)<this.p1.distance(m)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(m){var y=m,T=this.p0.compareTo(y.p0);return T!==0?T:this.p1.compareTo(y.p1)}},{key:"reverse",value:function(){var m=this.p0;this.p0=this.p1,this.p1=m}},{key:"equalsTopo",value:function(m){return this.p0.equals(m.p0)&&this.p1.equals(m.p1)||this.p0.equals(m.p1)&&this.p1.equals(m.p0)}},{key:"lineIntersection",value:function(m){return je.intersection(this.p0,this.p1,m.p0,m.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(m,y){var T=this.p0.x+m*(this.p1.x-this.p0.x),F=this.p0.y+m*(this.p1.y-this.p0.y),nt=this.p1.x-this.p0.x,xt=this.p1.y-this.p0.y,Dt=Math.sqrt(nt*nt+xt*xt),re=0,_e=0;if(y!==0){if(Dt<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");re=y*nt/Dt,_e=y*xt/Dt}return new Ht(T-_e,F+re)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var m=arguments[0];this.setCoordinates(m.p0,m.p1)}else if(arguments.length===2){var y=arguments[0],T=arguments[1];this.p0.x=y.x,this.p0.y=y.y,this.p1.x=T.x,this.p1.y=T.y}}},{key:"segmentFraction",value:function(m){var y=this.projectionFactor(m);return y<0?y=0:(y>1||Ft.isNaN(y))&&(y=1),y}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(m){var y=this.p1.getY()-this.p0.getY(),T=this.p0.getX()-this.p1.getX(),F=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),nt=y*y+T*T,xt=y*y-T*T,Dt=m.getX(),re=m.getY();return new Ht((-xt*Dt-2*y*T*re-2*y*F)/nt,(xt*re-2*y*T*Dt-2*T*F)/nt)}},{key:"distance",value:function(){if(arguments[0]instanceof C){var m=arguments[0];return fr.segmentToSegment(this.p0,this.p1,m.p0,m.p1)}if(arguments[0]instanceof Ht){var y=arguments[0];return fr.pointToSegment(y,this.p0,this.p1)}}},{key:"pointAlong",value:function(m){var y=new Ht;return y.x=this.p0.x+m*(this.p1.x-this.p0.x),y.y=this.p0.y+m*(this.p1.y-this.p0.y),y}},{key:"hashCode",value:function(){var m=Ft.doubleToLongBits(this.p0.x);m^=31*Ft.doubleToLongBits(this.p0.y);var y=Math.trunc(m)^Math.trunc(m>>32),T=Ft.doubleToLongBits(this.p1.x);return T^=31*Ft.doubleToLongBits(this.p1.y),y^(Math.trunc(T)^Math.trunc(T>>32))}},{key:"interfaces_",get:function(){return[rt,it]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)C.constructor_.call(this,new Ht,new Ht);else if(arguments.length===1){var m=arguments[0];C.constructor_.call(this,m.p0,m.p1)}else if(arguments.length===2){var y=arguments[0],T=arguments[1];this.p0=y,this.p1=T}else if(arguments.length===4){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3];C.constructor_.call(this,new Ht(F,nt),new Ht(xt,Dt))}}},{key:"midPoint",value:function(m,y){return new Ht((m.x+y.x)/2,(m.y+y.y)/2)}}])})(),$i=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2&&arguments.length===4){var C=arguments[1],m=arguments[2],y=arguments[3];arguments[0].getLineSegment(C,this._overlapSeg1),m.getLineSegment(y,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Pi,this._overlapSeg2=new Pi}}])})(),Lo=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(C,m){m.p0=this._pts[C],m.p1=this._pts[C+1]}},{key:"computeSelect",value:function(C,m,y,T){var F=this._pts[m],nt=this._pts[y];if(y-m==1)return T.select(this,m),null;if(!C.intersects(F,nt))return null;var xt=Math.trunc((m+y)/2);m<xt&&this.computeSelect(C,m,xt,T),xt<y&&this.computeSelect(C,xt,y,T)}},{key:"getCoordinates",value:function(){for(var C=new Array(this._end-this._start+1).fill(null),m=0,y=this._start;y<=this._end;y++)C[m++]=this._pts[y];return C}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var C=arguments[0],m=arguments[1];this.computeOverlaps(this._start,this._end,C,C._start,C._end,m)}else if(arguments.length===6){var y=arguments[0],T=arguments[1],F=arguments[2],nt=arguments[3],xt=arguments[4],Dt=arguments[5];if(T-y==1&&xt-nt==1)return Dt.overlap(this,y,F,nt),null;if(!this.overlaps(y,T,F,nt,xt))return null;var re=Math.trunc((y+T)/2),_e=Math.trunc((nt+xt)/2);y<re&&(nt<_e&&this.computeOverlaps(y,re,F,nt,_e,Dt),_e<xt&&this.computeOverlaps(y,re,F,_e,xt,Dt)),re<T&&(nt<_e&&this.computeOverlaps(re,T,F,nt,_e,Dt),_e<xt&&this.computeOverlaps(re,T,F,_e,xt,Dt))}}},{key:"setId",value:function(C){this._id=C}},{key:"select",value:function(C,m){this.computeSelect(C,this._start,this._end,m)}},{key:"getEnvelope",value:function(){if(this._env===null){var C=this._pts[this._start],m=this._pts[this._end];this._env=new de(C,m)}return this._env}},{key:"overlaps",value:function(C,m,y,T,F){return de.intersects(this._pts[C],this._pts[m],y._pts[T],y._pts[F])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var C=arguments[0],m=arguments[1],y=arguments[2],T=arguments[3];this._pts=C,this._start=m,this._end=y,this._context=T}}])})(),Qa=(function(){function C(){i(this,C)}return a(C,null,[{key:"findChainEnd",value:function(m,y){for(var T=y;T<m.length-1&&m[T].equals2D(m[T+1]);)T++;if(T>=m.length-1)return m.length-1;for(var F=zn.quadrant(m[T],m[T+1]),nt=y+1;nt<m.length&&!(!m[nt-1].equals2D(m[nt])&&zn.quadrant(m[nt-1],m[nt])!==F);)nt++;return nt-1}},{key:"getChains",value:function(){if(arguments.length===1){var m=arguments[0];return C.getChains(m,null)}if(arguments.length===2){var y=arguments[0],T=arguments[1],F=new Bt,nt=0;do{var xt=C.findChainEnd(y,nt),Dt=new Lo(y,nt,xt,T);F.add(Dt),nt=xt}while(nt<y.length-1);return F}}}])})(),ao=(function(){return a((function C(){i(this,C)}),[{key:"computeNodes",value:function(C){}},{key:"getNodedSubstrings",value:function(){}}])})(),$l=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(C){this._segInt=C}},{key:"interfaces_",get:function(){return[ao]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0&&arguments.length===1){var C=arguments[0];this.setSegmentIntersector(C)}}}])})(),wu=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return xa.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(y){for(var T=Qa.getChains(y.getCoordinates(),y).iterator();T.hasNext();){var F=T.next();F.setId(this._idCounter++),this._index.insert(F.getEnvelope(),F),this._monoChains.add(F)}}},{key:"computeNodes",value:function(y){this._nodedSegStrings=y;for(var T=y.iterator();T.hasNext();)this.add(T.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var y=new Ic(this._segInt),T=this._monoChains.iterator();T.hasNext();)for(var F=T.next(),nt=this._index.query(F.getEnvelope()).iterator();nt.hasNext();){var xt=nt.next();if(xt.getId()>F.getId()&&(F.computeOverlaps(xt,y),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Bt,this._index=new Xe,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0&&arguments.length===1){var y=arguments[0];$l.constructor_.call(this,y)}}}])})($l),Ic=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"overlap",value:function(){if(arguments.length!==4)return O(m,"overlap",this,1).apply(this,arguments);var y=arguments[1],T=arguments[2],F=arguments[3],nt=arguments[0].getContext(),xt=T.getContext();this._si.processIntersections(nt,y,xt,F)}}],[{key:"constructor_",value:function(){this._si=null;var y=arguments[0];this._si=y}}])})($i);wu.SegmentOverlapAction=Ic;var Ul=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"isDeletable",value:function(m,y,T,F){var nt=this._inputLine[m],xt=this._inputLine[y],Dt=this._inputLine[T];return!!this.isConcave(nt,xt,Dt)&&!!this.isShallow(nt,xt,Dt,F)&&this.isShallowSampled(nt,xt,m,T,F)}},{key:"deleteShallowConcavities",value:function(){for(var m=1,y=this.findNextNonDeletedIndex(m),T=this.findNextNonDeletedIndex(y),F=!1;T<this._inputLine.length;){var nt=!1;this.isDeletable(m,y,T,this._distanceTol)&&(this._isDeleted[y]=C.DELETE,nt=!0,F=!0),m=nt?T:y,y=this.findNextNonDeletedIndex(m),T=this.findNextNonDeletedIndex(y)}return F}},{key:"isShallowConcavity",value:function(m,y,T,F){return rr.index(m,y,T)===this._angleOrientation&&fr.pointToSegment(y,m,T)<F}},{key:"isShallowSampled",value:function(m,y,T,F,nt){var xt=Math.trunc((F-T)/C.NUM_PTS_TO_CHECK);xt<=0&&(xt=1);for(var Dt=T;Dt<F;Dt+=xt)if(!this.isShallow(m,y,this._inputLine[Dt],nt))return!1;return!0}},{key:"isConcave",value:function(m,y,T){var F=rr.index(m,y,T)===this._angleOrientation;return F}},{key:"simplify",value:function(m){this._distanceTol=Math.abs(m),m<0&&(this._angleOrientation=rr.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var y=!1;do y=this.deleteShallowConcavities();while(y);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(m){for(var y=m+1;y<this._inputLine.length&&this._isDeleted[y]===C.DELETE;)y++;return y}},{key:"isShallow",value:function(m,y,T,F){return fr.pointToSegment(y,m,T)<F}},{key:"collapseLine",value:function(){for(var m=new Na,y=0;y<this._inputLine.length;y++)this._isDeleted[y]!==C.DELETE&&m.add(this._inputLine[y]);return m.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=rr.COUNTERCLOCKWISE;var m=arguments[0];this._inputLine=m}},{key:"simplify",value:function(m,y){return new C(m).simplify(y)}}])})();Ul.INIT=0,Ul.DELETE=1,Ul.KEEP=1,Ul.NUM_PTS_TO_CHECK=10;var Rc=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getCoordinates",value:function(){return this._ptList.toArray(C.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(m){this._precisionModel=m}},{key:"addPt",value:function(m){var y=new Ht(m);if(this._precisionModel.makePrecise(y),this.isRedundant(y))return null;this._ptList.add(y)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(m,y){if(y)for(var T=0;T<m.length;T++)this.addPt(m[T]);else for(var F=m.length-1;F>=0;F--)this.addPt(m[F])}},{key:"isRedundant",value:function(m){if(this._ptList.size()<1)return!1;var y=this._ptList.get(this._ptList.size()-1);return m.distance(y)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Ks().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var m=new Ht(this._ptList.get(0)),y=this._ptList.get(this._ptList.size()-1);if(m.equals(y))return null;this._ptList.add(m)}},{key:"setMinimumVertexDistance",value:function(m){this._minimimVertexDistance=m}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Bt}}])})();Rc.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var po=(function(){function C(){i(this,C)}return a(C,null,[{key:"toDegrees",value:function(m){return 180*m/Math.PI}},{key:"normalize",value:function(m){for(;m>Math.PI;)m-=C.PI_TIMES_2;for(;m<=-Math.PI;)m+=C.PI_TIMES_2;return m}},{key:"angle",value:function(){if(arguments.length===1){var m=arguments[0];return Math.atan2(m.y,m.x)}if(arguments.length===2){var y=arguments[0],T=arguments[1],F=T.x-y.x,nt=T.y-y.y;return Math.atan2(nt,F)}}},{key:"isAcute",value:function(m,y,T){var F=m.x-y.x,nt=m.y-y.y;return F*(T.x-y.x)+nt*(T.y-y.y)>0}},{key:"isObtuse",value:function(m,y,T){var F=m.x-y.x,nt=m.y-y.y;return F*(T.x-y.x)+nt*(T.y-y.y)<0}},{key:"interiorAngle",value:function(m,y,T){var F=C.angle(y,m),nt=C.angle(y,T);return Math.abs(nt-F)}},{key:"normalizePositive",value:function(m){if(m<0){for(;m<0;)m+=C.PI_TIMES_2;m>=C.PI_TIMES_2&&(m=0)}else{for(;m>=C.PI_TIMES_2;)m-=C.PI_TIMES_2;m<0&&(m=0)}return m}},{key:"angleBetween",value:function(m,y,T){var F=C.angle(y,m),nt=C.angle(y,T);return C.diff(F,nt)}},{key:"diff",value:function(m,y){var T=null;return(T=m<y?y-m:m-y)>Math.PI&&(T=2*Math.PI-T),T}},{key:"toRadians",value:function(m){return m*Math.PI/180}},{key:"getTurn",value:function(m,y){var T=Math.sin(y-m);return T>0?C.COUNTERCLOCKWISE:T<0?C.CLOCKWISE:C.NONE}},{key:"angleBetweenOriented",value:function(m,y,T){var F=C.angle(y,m),nt=C.angle(y,T)-F;return nt<=-Math.PI?nt+C.PI_TIMES_2:nt>Math.PI?nt-C.PI_TIMES_2:nt}}])})();po.PI_TIMES_2=2*Math.PI,po.PI_OVER_2=Math.PI/2,po.PI_OVER_4=Math.PI/4,po.COUNTERCLOCKWISE=rr.COUNTERCLOCKWISE,po.CLOCKWISE=rr.CLOCKWISE,po.NONE=rr.COLLINEAR;var Su=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"addNextSegment",value:function(m,y){if(this._s0=this._s1,this._s1=this._s2,this._s2=m,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var T=rr.index(this._s0,this._s1,this._s2),F=T===rr.CLOCKWISE&&this._side===Ie.LEFT||T===rr.COUNTERCLOCKWISE&&this._side===Ie.RIGHT;T===0?this.addCollinear(y):F?this.addOutsideTurn(T,y):this.addInsideTurn(T,y)}},{key:"addLineEndCap",value:function(m,y){var T=new Pi(m,y),F=new Pi;this.computeOffsetSegment(T,Ie.LEFT,this._distance,F);var nt=new Pi;this.computeOffsetSegment(T,Ie.RIGHT,this._distance,nt);var xt=y.x-m.x,Dt=y.y-m.y,re=Math.atan2(Dt,xt);switch(this._bufParams.getEndCapStyle()){case z.CAP_ROUND:this._segList.addPt(F.p1),this.addDirectedFillet(y,re+Math.PI/2,re-Math.PI/2,rr.CLOCKWISE,this._distance),this._segList.addPt(nt.p1);break;case z.CAP_FLAT:this._segList.addPt(F.p1),this._segList.addPt(nt.p1);break;case z.CAP_SQUARE:var _e=new Ht;_e.x=Math.abs(this._distance)*Math.cos(re),_e.y=Math.abs(this._distance)*Math.sin(re);var sr=new Ht(F.p1.x+_e.x,F.p1.y+_e.y),_r=new Ht(nt.p1.x+_e.x,nt.p1.y+_e.y);this._segList.addPt(sr),this._segList.addPt(_r)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(m,y,T,F){var nt=je.intersection(y.p0,y.p1,T.p0,T.p1);if(nt!==null&&(F<=0?1:nt.distance(m)/Math.abs(F))<=this._bufParams.getMitreLimit())return this._segList.addPt(nt),null;this.addLimitedMitreJoin(y,T,F,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(m,y){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*C.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===z.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===z.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(y&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,m,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(m){this._segList.addPt(new Ht(m.x+this._distance,m.y+this._distance)),this._segList.addPt(new Ht(m.x+this._distance,m.y-this._distance)),this._segList.addPt(new Ht(m.x-this._distance,m.y-this._distance)),this._segList.addPt(new Ht(m.x-this._distance,m.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(m,y){this._segList.addPts(m,y)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(m,y,T,F,nt){var xt=y.x-m.x,Dt=y.y-m.y,re=Math.atan2(Dt,xt),_e=T.x-m.x,sr=T.y-m.y,_r=Math.atan2(sr,_e);F===rr.CLOCKWISE?re<=_r&&(re+=2*Math.PI):re>=_r&&(re-=2*Math.PI),this._segList.addPt(y),this.addDirectedFillet(m,re,_r,F,nt),this._segList.addPt(T)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(m,y,T){this._s1=m,this._s2=y,this._side=T,this._seg1.setCoordinates(m,y),this.computeOffsetSegment(this._seg1,T,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(m,y,T,F){var nt=this._seg0.p1,xt=po.angle(nt,this._seg0.p0),Dt=po.angleBetweenOriented(this._seg0.p0,nt,this._seg1.p1)/2,re=po.normalize(xt+Dt),_e=po.normalize(re+Math.PI),sr=F*T,_r=T-sr*Math.abs(Math.sin(Dt)),tn=nt.x+sr*Math.cos(_e),In=nt.y+sr*Math.sin(_e),Zn=new Ht(tn,In),hi=new Pi(nt,Zn),Yn=hi.pointAlongOffset(1,_r),Hn=hi.pointAlongOffset(1,-_r);this._side===Ie.LEFT?(this._segList.addPt(Yn),this._segList.addPt(Hn)):(this._segList.addPt(Hn),this._segList.addPt(Yn))}},{key:"addDirectedFillet",value:function(m,y,T,F,nt){var xt=F===rr.CLOCKWISE?-1:1,Dt=Math.abs(y-T),re=Math.trunc(Dt/this._filletAngleQuantum+.5);if(re<1)return null;for(var _e=Dt/re,sr=new Ht,_r=0;_r<re;_r++){var tn=y+xt*_r*_e;sr.x=m.x+nt*Math.cos(tn),sr.y=m.y+nt*Math.sin(tn),this._segList.addPt(sr)}}},{key:"computeOffsetSegment",value:function(m,y,T,F){var nt=y===Ie.LEFT?1:-1,xt=m.p1.x-m.p0.x,Dt=m.p1.y-m.p0.y,re=Math.sqrt(xt*xt+Dt*Dt),_e=nt*T*xt/re,sr=nt*T*Dt/re;F.p0.x=m.p0.x-sr,F.p0.y=m.p0.y+_e,F.p1.x=m.p1.x-sr,F.p1.y=m.p1.y+_e}},{key:"addInsideTurn",value:function(m,y){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*C.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var T=new Ht((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(T);var F=new Ht((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(F)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(m){var y=new Ht(m.x+this._distance,m.y);this._segList.addPt(y),this.addDirectedFillet(m,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(m,y){this._segList.addPt(m.p1),this._segList.addPt(y.p0)}},{key:"init",value:function(m){this._distance=m,this._maxCurveSegmentError=m*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Rc,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(m*C.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(m){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===z.JOIN_BEVEL||this._bufParams.getJoinStyle()===z.JOIN_MITRE?(m&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,rr.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Pi,this._seg1=new Pi,this._offset0=new Pi,this._offset1=new Pi,this._side=0,this._hasNarrowConcaveAngle=!1;var m=arguments[0],y=arguments[1],T=arguments[2];this._precisionModel=m,this._bufParams=y,this._li=new Sn,this._filletAngleQuantum=Math.PI/2/y.getQuadrantSegments(),y.getQuadrantSegments()>=8&&y.getJoinStyle()===z.JOIN_ROUND&&(this._closingSegLengthFactor=C.MAX_CLOSING_SEG_LEN_FACTOR),this.init(T)}}])})();Su.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Su.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Su.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Su.MAX_CLOSING_SEG_LEN_FACTOR=80;var vc=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getOffsetCurve",value:function(m,y){if(this._distance=y,y===0)return null;var T=y<0,F=Math.abs(y),nt=this.getSegGen(F);m.length<=1?this.computePointCurve(m[0],nt):this.computeOffsetCurve(m,T,nt);var xt=nt.getCoordinates();return T&&Mn.reverse(xt),xt}},{key:"computeSingleSidedBufferCurve",value:function(m,y,T){var F=this.simplifyTolerance(this._distance);if(y){T.addSegments(m,!0);var nt=Ul.simplify(m,-F),xt=nt.length-1;T.initSideSegments(nt[xt],nt[xt-1],Ie.LEFT),T.addFirstSegment();for(var Dt=xt-2;Dt>=0;Dt--)T.addNextSegment(nt[Dt],!0)}else{T.addSegments(m,!1);var re=Ul.simplify(m,F),_e=re.length-1;T.initSideSegments(re[0],re[1],Ie.LEFT),T.addFirstSegment();for(var sr=2;sr<=_e;sr++)T.addNextSegment(re[sr],!0)}T.addLastSegment(),T.closeRing()}},{key:"computeRingBufferCurve",value:function(m,y,T){var F=this.simplifyTolerance(this._distance);y===Ie.RIGHT&&(F=-F);var nt=Ul.simplify(m,F),xt=nt.length-1;T.initSideSegments(nt[xt-1],nt[0],y);for(var Dt=1;Dt<=xt;Dt++){var re=Dt!==1;T.addNextSegment(nt[Dt],re)}T.closeRing()}},{key:"computeLineBufferCurve",value:function(m,y){var T=this.simplifyTolerance(this._distance),F=Ul.simplify(m,T),nt=F.length-1;y.initSideSegments(F[0],F[1],Ie.LEFT);for(var xt=2;xt<=nt;xt++)y.addNextSegment(F[xt],!0);y.addLastSegment(),y.addLineEndCap(F[nt-1],F[nt]);var Dt=Ul.simplify(m,-T),re=Dt.length-1;y.initSideSegments(Dt[re],Dt[re-1],Ie.LEFT);for(var _e=re-2;_e>=0;_e--)y.addNextSegment(Dt[_e],!0);y.addLastSegment(),y.addLineEndCap(Dt[1],Dt[0]),y.closeRing()}},{key:"computePointCurve",value:function(m,y){switch(this._bufParams.getEndCapStyle()){case z.CAP_ROUND:y.createCircle(m);break;case z.CAP_SQUARE:y.createSquare(m)}}},{key:"getLineCurve",value:function(m,y){if(this._distance=y,this.isLineOffsetEmpty(y))return null;var T=Math.abs(y),F=this.getSegGen(T);if(m.length<=1)this.computePointCurve(m[0],F);else if(this._bufParams.isSingleSided()){var nt=y<0;this.computeSingleSidedBufferCurve(m,nt,F)}else this.computeLineBufferCurve(m,F);return F.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(m){return m*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(m,y,T){if(this._distance=T,m.length<=2)return this.getLineCurve(m,T);if(T===0)return C.copyCoordinates(m);var F=this.getSegGen(T);return this.computeRingBufferCurve(m,y,F),F.getCoordinates()}},{key:"computeOffsetCurve",value:function(m,y,T){var F=this.simplifyTolerance(this._distance);if(y){var nt=Ul.simplify(m,-F),xt=nt.length-1;T.initSideSegments(nt[xt],nt[xt-1],Ie.LEFT),T.addFirstSegment();for(var Dt=xt-2;Dt>=0;Dt--)T.addNextSegment(nt[Dt],!0)}else{var re=Ul.simplify(m,F),_e=re.length-1;T.initSideSegments(re[0],re[1],Ie.LEFT),T.addFirstSegment();for(var sr=2;sr<=_e;sr++)T.addNextSegment(re[sr],!0)}T.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(m){return m===0||m<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(m){return new Su(this._precisionModel,this._bufParams,m)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var m=arguments[0],y=arguments[1];this._precisionModel=m,this._bufParams=y}},{key:"copyCoordinates",value:function(m){for(var y=new Array(m.length).fill(null),T=0;T<y.length;T++)y[T]=new Ht(m[T]);return y}}])})(),ql=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var C=arguments[0],m=new Bt,y=this._subgraphs.iterator();y.hasNext();){var T=y.next(),F=T.getEnvelope();C.y<F.getMinY()||C.y>F.getMaxY()||this.findStabbedSegments(C,T.getDirectedEdges(),m)}return m}if(arguments.length===3){if(Ir(arguments[2],Rr)&&arguments[0]instanceof Ht&&arguments[1]instanceof No){for(var nt=arguments[0],xt=arguments[1],Dt=arguments[2],re=xt.getEdge().getCoordinates(),_e=0;_e<re.length-1;_e++)if(this._seg.p0=re[_e],this._seg.p1=re[_e+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<nt.x||this._seg.isHorizontal()||nt.y<this._seg.p0.y||nt.y>this._seg.p1.y||rr.index(this._seg.p0,this._seg.p1,nt)===rr.RIGHT)){var sr=xt.getDepth(Ie.LEFT);this._seg.p0.equals(re[_e])||(sr=xt.getDepth(Ie.RIGHT));var _r=new So(this._seg,sr);Dt.add(_r)}}else if(Ir(arguments[2],Rr)&&arguments[0]instanceof Ht&&Ir(arguments[1],Rr))for(var tn=arguments[0],In=arguments[2],Zn=arguments[1].iterator();Zn.hasNext();){var hi=Zn.next();hi.isForward()&&this.findStabbedSegments(tn,hi,In)}}}},{key:"getDepth",value:function(C){var m=this.findStabbedSegments(C);return m.size()===0?0:Bo.min(m)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Pi;var C=arguments[0];this._subgraphs=C}}])})(),So=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(C){var m=C;if(this._upwardSeg.minX()>=m._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=m._upwardSeg.minX())return-1;var y=this._upwardSeg.orientationIndex(m._upwardSeg);return y!==0||(y=-1*m._upwardSeg.orientationIndex(this._upwardSeg))!==0?y:this._upwardSeg.compareTo(m._upwardSeg)}},{key:"compareX",value:function(C,m){var y=C.p0.compareTo(m.p0);return y!==0?y:C.p1.compareTo(m.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var C=arguments[0],m=arguments[1];this._upwardSeg=new Pi(C),this._leftDepth=m}}])})();ql.DepthSegment=So;var Fo=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,null,[{key:"constructor_",value:function(){j.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(j),Ja=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getY",value:function(){var m=this.y/this.w;if(Ft.isNaN(m)||Ft.isInfinite(m))throw new Fo;return m}},{key:"getX",value:function(){var m=this.x/this.w;if(Ft.isNaN(m)||Ft.isInfinite(m))throw new Fo;return m}},{key:"getCoordinate",value:function(){var m=new Ht;return m.x=this.getX(),m.y=this.getY(),m}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var m=arguments[0];this.x=m.x,this.y=m.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var y=arguments[0],T=arguments[1];this.x=y,this.y=T,this.w=1}else if(arguments[0]instanceof C&&arguments[1]instanceof C){var F=arguments[0],nt=arguments[1];this.x=F.y*nt.w-nt.y*F.w,this.y=nt.x*F.w-F.x*nt.w,this.w=F.x*nt.y-nt.x*F.y}else if(arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var xt=arguments[0],Dt=arguments[1];this.x=xt.y-Dt.y,this.y=Dt.x-xt.x,this.w=xt.x*Dt.y-Dt.x*xt.y}}else if(arguments.length===3){var re=arguments[0],_e=arguments[1],sr=arguments[2];this.x=re,this.y=_e,this.w=sr}else if(arguments.length===4){var _r=arguments[0],tn=arguments[1],In=arguments[2],Zn=arguments[3],hi=_r.y-tn.y,Yn=tn.x-_r.x,Hn=_r.x*tn.y-tn.x*_r.y,fa=In.y-Zn.y,Ui=Zn.x-In.x,$a=In.x*Zn.y-Zn.x*In.y;this.x=Yn*$a-Ui*Hn,this.y=fa*Hn-hi*$a,this.w=hi*Ui-fa*Yn}}}])})(),hu=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"area",value:function(){return C.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return C.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(m){if(m===null)throw new X("Supplied point is null.");return C.interpolateZ(m,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return C.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return C.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return C.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return C.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return C.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return C.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var m=arguments[0],y=arguments[1],T=arguments[2];this.p0=m,this.p1=y,this.p2=T}},{key:"area",value:function(m,y,T){return Math.abs(((T.x-m.x)*(y.y-m.y)-(y.x-m.x)*(T.y-m.y))/2)}},{key:"signedArea",value:function(m,y,T){return((T.x-m.x)*(y.y-m.y)-(y.x-m.x)*(T.y-m.y))/2}},{key:"det",value:function(m,y,T,F){return m*F-y*T}},{key:"interpolateZ",value:function(m,y,T,F){var nt=y.x,xt=y.y,Dt=T.x-nt,re=F.x-nt,_e=T.y-xt,sr=F.y-xt,_r=Dt*sr-re*_e,tn=m.x-nt,In=m.y-xt,Zn=(sr*tn-re*In)/_r,hi=(-_e*tn+Dt*In)/_r;return y.getZ()+Zn*(T.getZ()-y.getZ())+hi*(F.getZ()-y.getZ())}},{key:"longestSideLength",value:function(m,y,T){var F=m.distance(y),nt=y.distance(T),xt=T.distance(m),Dt=F;return nt>Dt&&(Dt=nt),xt>Dt&&(Dt=xt),Dt}},{key:"circumcentreDD",value:function(m,y,T){var F=er.valueOf(m.x).subtract(T.x),nt=er.valueOf(m.y).subtract(T.y),xt=er.valueOf(y.x).subtract(T.x),Dt=er.valueOf(y.y).subtract(T.y),re=er.determinant(F,nt,xt,Dt).multiply(2),_e=F.sqr().add(nt.sqr()),sr=xt.sqr().add(Dt.sqr()),_r=er.determinant(nt,_e,Dt,sr),tn=er.determinant(F,_e,xt,sr),In=er.valueOf(T.x).subtract(_r.divide(re)).doubleValue(),Zn=er.valueOf(T.y).add(tn.divide(re)).doubleValue();return new Ht(In,Zn)}},{key:"isAcute",value:function(m,y,T){return!!po.isAcute(m,y,T)&&!!po.isAcute(y,T,m)&&!!po.isAcute(T,m,y)}},{key:"circumcentre",value:function(m,y,T){var F=T.x,nt=T.y,xt=m.x-F,Dt=m.y-nt,re=y.x-F,_e=y.y-nt,sr=2*C.det(xt,Dt,re,_e),_r=C.det(Dt,xt*xt+Dt*Dt,_e,re*re+_e*_e),tn=C.det(xt,xt*xt+Dt*Dt,re,re*re+_e*_e);return new Ht(F-_r/sr,nt+tn/sr)}},{key:"perpendicularBisector",value:function(m,y){var T=y.x-m.x,F=y.y-m.y,nt=new Ja(m.x+T/2,m.y+F/2,1),xt=new Ja(m.x-F+T/2,m.y+T+F/2,1);return new Ja(nt,xt)}},{key:"angleBisector",value:function(m,y,T){var F=y.distance(m),nt=F/(F+y.distance(T)),xt=T.x-m.x,Dt=T.y-m.y;return new Ht(m.x+nt*xt,m.y+nt*Dt)}},{key:"area3D",value:function(m,y,T){var F=y.x-m.x,nt=y.y-m.y,xt=y.getZ()-m.getZ(),Dt=T.x-m.x,re=T.y-m.y,_e=T.getZ()-m.getZ(),sr=nt*_e-xt*re,_r=xt*Dt-F*_e,tn=F*re-nt*Dt,In=sr*sr+_r*_r+tn*tn,Zn=Math.sqrt(In)/2;return Zn}},{key:"centroid",value:function(m,y,T){var F=(m.x+y.x+T.x)/3,nt=(m.y+y.y+T.y)/3;return new Ht(F,nt)}},{key:"inCentre",value:function(m,y,T){var F=y.distance(T),nt=m.distance(T),xt=m.distance(y),Dt=F+nt+xt,re=(F*m.x+nt*y.x+xt*T.x)/Dt,_e=(F*m.y+nt*y.y+xt*T.y)/Dt;return new Ht(re,_e)}}])})(),$u=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(C,m,y,T,F){if(m===0&&C.length<en.MINIMUM_VALID_SIZE)return null;var nt=T,xt=F;C.length>=en.MINIMUM_VALID_SIZE&&rr.isCCW(C)&&(nt=F,xt=T,y=Ie.opposite(y));var Dt=this._curveBuilder.getRingCurve(C,y,m);this.addCurve(Dt,nt,xt)}},{key:"addRingBothSides",value:function(C,m){this.addRingSide(C,m,Ie.LEFT,$t.EXTERIOR,$t.INTERIOR),this.addRingSide(C,m,Ie.RIGHT,$t.INTERIOR,$t.EXTERIOR)}},{key:"addPoint",value:function(C){if(this._distance<=0)return null;var m=C.getCoordinates(),y=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(y,$t.EXTERIOR,$t.INTERIOR)}},{key:"addPolygon",value:function(C){var m=this._distance,y=Ie.LEFT;this._distance<0&&(m=-this._distance,y=Ie.RIGHT);var T=C.getExteriorRing(),F=Mn.removeRepeatedPoints(T.getCoordinates());if(this._distance<0&&this.isErodedCompletely(T,this._distance)||this._distance<=0&&F.length<3)return null;this.addRingSide(F,m,y,$t.EXTERIOR,$t.INTERIOR);for(var nt=0;nt<C.getNumInteriorRing();nt++){var xt=C.getInteriorRingN(nt),Dt=Mn.removeRepeatedPoints(xt.getCoordinates());this._distance>0&&this.isErodedCompletely(xt,-this._distance)||this.addRingSide(Dt,m,Ie.opposite(y),$t.INTERIOR,$t.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(C,m){var y=new hu(C[0],C[1],C[2]),T=y.inCentre();return fr.pointToSegment(T,y.p0,y.p1)<Math.abs(m)}},{key:"addLineString",value:function(C){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var m=Mn.removeRepeatedPoints(C.getCoordinates());if(Mn.isRing(m)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(m,this._distance);else{var y=this._curveBuilder.getLineCurve(m,this._distance);this.addCurve(y,$t.EXTERIOR,$t.INTERIOR)}}},{key:"addCurve",value:function(C,m,y){if(C===null||C.length<2)return null;var T=new xa(C,new ti(0,$t.BOUNDARY,m,y));this._curveList.add(T)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(C){if(C.isEmpty())return null;if(C instanceof yn)this.addPolygon(C);else if(C instanceof Kn)this.addLineString(C);else if(C instanceof Xt)this.addPoint(C);else if(C instanceof Ki)this.addCollection(C);else if(C instanceof zl)this.addCollection(C);else if(C instanceof Vi)this.addCollection(C);else{if(!(C instanceof li))throw new Jt(C.getGeometryType());this.addCollection(C)}}},{key:"isErodedCompletely",value:function(C,m){var y=C.getCoordinates();if(y.length<4)return m<0;if(y.length===4)return this.isTriangleErodedCompletely(y,m);var T=C.getEnvelopeInternal(),F=Math.min(T.getHeight(),T.getWidth());return m<0&&2*Math.abs(m)>F}},{key:"addCollection",value:function(C){for(var m=0;m<C.getNumGeometries();m++){var y=C.getGeometryN(m);this.add(y)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Bt;var C=arguments[0],m=arguments[1],y=arguments[2];this._inputGeom=C,this._distance=m,this._curveBuilder=y}}])})(),oo=(function(){return a((function C(){i(this,C)}),[{key:"locate",value:function(C){}}])})(),bc=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,C.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ke;var m=this._parent.getGeometryN(this._index++);return m instanceof li?(this._subcollectionIterator=new C(m),this._subcollectionIterator.next()):m}},{key:"remove",value:function(){throw new Jt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[$n]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var m=arguments[0];this._parent=m,this._atStart=!0,this._index=0,this._max=m.getNumGeometries()}},{key:"isAtomic",value:function(m){return!(m instanceof li)}}])})(),Uu=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"locate",value:function(m){return C.locate(m,this._geom)}},{key:"interfaces_",get:function(){return[oo]}}],[{key:"constructor_",value:function(){this._geom=null;var m=arguments[0];this._geom=m}},{key:"locatePointInPolygon",value:function(m,y){if(y.isEmpty())return $t.EXTERIOR;var T=y.getExteriorRing(),F=C.locatePointInRing(m,T);if(F!==$t.INTERIOR)return F;for(var nt=0;nt<y.getNumInteriorRing();nt++){var xt=y.getInteriorRingN(nt),Dt=C.locatePointInRing(m,xt);if(Dt===$t.BOUNDARY)return $t.BOUNDARY;if(Dt===$t.INTERIOR)return $t.EXTERIOR}return $t.INTERIOR}},{key:"locatePointInRing",value:function(m,y){return y.getEnvelopeInternal().intersects(m)?Wn.locateInRing(m,y.getCoordinates()):$t.EXTERIOR}},{key:"containsPointInPolygon",value:function(m,y){return $t.EXTERIOR!==C.locatePointInPolygon(m,y)}},{key:"locateInGeometry",value:function(m,y){if(y instanceof yn)return C.locatePointInPolygon(m,y);if(y instanceof li)for(var T=new bc(y);T.hasNext();){var F=T.next();if(F!==y){var nt=C.locateInGeometry(m,F);if(nt!==$t.EXTERIOR)return nt}}return $t.EXTERIOR}},{key:"isContained",value:function(m,y){return $t.EXTERIOR!==C.locate(m,y)}},{key:"locate",value:function(m,y){return y.isEmpty()?$t.EXTERIOR:y.getEnvelopeInternal().intersects(m)?C.locateInGeometry(m,y):$t.EXTERIOR}}])})(),il=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(C){this.getEdges();var m=this._edgeList.indexOf(C),y=m-1;return m===0&&(y=this._edgeList.size()-1),this._edgeList.get(y)}},{key:"propagateSideLabels",value:function(C){for(var m=$t.NONE,y=this.iterator();y.hasNext();){var T=y.next().getLabel();T.isArea(C)&&T.getLocation(C,Ie.LEFT)!==$t.NONE&&(m=T.getLocation(C,Ie.LEFT))}if(m===$t.NONE)return null;for(var F=m,nt=this.iterator();nt.hasNext();){var xt=nt.next(),Dt=xt.getLabel();if(Dt.getLocation(C,Ie.ON)===$t.NONE&&Dt.setLocation(C,Ie.ON,F),Dt.isArea(C)){var re=Dt.getLocation(C,Ie.LEFT),_e=Dt.getLocation(C,Ie.RIGHT);if(_e!==$t.NONE){if(_e!==F)throw new jt("side location conflict",xt.getCoordinate());re===$t.NONE&&At.shouldNeverReachHere("found single null side (at "+xt.getCoordinate()+")"),F=re}else At.isTrue(Dt.getLocation(C,Ie.LEFT)===$t.NONE,"found single null side"),Dt.setLocation(C,Ie.RIGHT,F),Dt.setLocation(C,Ie.LEFT,F)}}}},{key:"getCoordinate",value:function(){var C=this.iterator();return C.hasNext()?C.next().getCoordinate():null}},{key:"print",value:function(C){Ge.out.println("EdgeEndStar:   "+this.getCoordinate());for(var m=this.iterator();m.hasNext();)m.next().print(C)}},{key:"isAreaLabelsConsistent",value:function(C){return this.computeEdgeEndLabels(C.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(C){var m=this.getEdges();if(m.size()<=0)return!0;var y=m.size()-1,T=m.get(y).getLabel().getLocation(C,Ie.LEFT);At.isTrue(T!==$t.NONE,"Found unlabelled area edge");for(var F=T,nt=this.iterator();nt.hasNext();){var xt=nt.next().getLabel();At.isTrue(xt.isArea(C),"Found non-area edge");var Dt=xt.getLocation(C,Ie.LEFT),re=xt.getLocation(C,Ie.RIGHT);if(Dt===re||re!==F)return!1;F=Dt}return!0}},{key:"findIndex",value:function(C){this.iterator();for(var m=0;m<this._edgeList.size();m++)if(this._edgeList.get(m)===C)return m;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Bt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(C,m,y){return this._ptInAreaLocation[C]===$t.NONE&&(this._ptInAreaLocation[C]=Uu.locate(m,y[C].getGeometry())),this._ptInAreaLocation[C]}},{key:"toString",value:function(){var C=new dr;C.append("EdgeEndStar:   "+this.getCoordinate()),C.append(`
`);for(var m=this.iterator();m.hasNext();){var y=m.next();C.append(y),C.append(`
`)}return C.toString()}},{key:"computeEdgeEndLabels",value:function(C){for(var m=this.iterator();m.hasNext();)m.next().computeLabel(C)}},{key:"computeLabelling",value:function(C){this.computeEdgeEndLabels(C[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var m=[!1,!1],y=this.iterator();y.hasNext();)for(var T=y.next().getLabel(),F=0;F<2;F++)T.isLine(F)&&T.getLocation(F)===$t.BOUNDARY&&(m[F]=!0);for(var nt=this.iterator();nt.hasNext();)for(var xt=nt.next(),Dt=xt.getLabel(),re=0;re<2;re++)if(Dt.isAnyNull(re)){var _e=$t.NONE;if(m[re])_e=$t.EXTERIOR;else{var sr=xt.getCoordinate();_e=this.getLocation(re,sr,C)}Dt.setAllLocationsIfNull(re,_e)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(C,m){this._edgeMap.put(C,m),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new ei,this._edgeList=null,this._ptInAreaLocation=[$t.NONE,$t.NONE]}}])})(),ws=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var y=null,T=null,F=this._SCANNING_FOR_INCOMING,nt=0;nt<this._resultAreaEdgeList.size();nt++){var xt=this._resultAreaEdgeList.get(nt),Dt=xt.getSym();if(xt.getLabel().isArea())switch(y===null&&xt.isInResult()&&(y=xt),F){case this._SCANNING_FOR_INCOMING:if(!Dt.isInResult())continue;T=Dt,F=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!xt.isInResult())continue;T.setNext(xt),F=this._SCANNING_FOR_INCOMING}}if(F===this._LINKING_TO_OUTGOING){if(y===null)throw new jt("no outgoing dirEdge found",this.getCoordinate());At.isTrue(y.isInResult(),"unable to link last incoming dirEdge"),T.setNext(y)}}},{key:"insert",value:function(y){var T=y;this.insertEdgeEnd(T,T)}},{key:"getRightmostEdge",value:function(){var y=this.getEdges(),T=y.size();if(T<1)return null;var F=y.get(0);if(T===1)return F;var nt=y.get(T-1),xt=F.getQuadrant(),Dt=nt.getQuadrant();return zn.isNorthern(xt)&&zn.isNorthern(Dt)?F:zn.isNorthern(xt)||zn.isNorthern(Dt)?F.getDy()!==0?F:nt.getDy()!==0?nt:(At.shouldNeverReachHere("found two horizontal edges incident on node"),null):nt}},{key:"print",value:function(y){Ge.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var T=this.iterator();T.hasNext();){var F=T.next();y.print("out "),F.print(y),y.println(),y.print("in "),F.getSym().print(y),y.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Bt;for(var y=this.iterator();y.hasNext();){var T=y.next();(T.isInResult()||T.getSym().isInResult())&&this._resultAreaEdgeList.add(T)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(y){for(var T=this.iterator();T.hasNext();){var F=T.next().getLabel();F.setAllLocationsIfNull(0,y.getLocation(0)),F.setAllLocationsIfNull(1,y.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var y=null,T=null,F=this._edgeList.size()-1;F>=0;F--){var nt=this._edgeList.get(F),xt=nt.getSym();T===null&&(T=xt),y!==null&&xt.setNext(y),y=nt}T.setNext(y)}},{key:"computeDepths",value:function(){if(arguments.length===1){var y=arguments[0],T=this.findIndex(y),F=y.getDepth(Ie.LEFT),nt=y.getDepth(Ie.RIGHT),xt=this.computeDepths(T+1,this._edgeList.size(),F);if(this.computeDepths(0,T,xt)!==nt)throw new jt("depth mismatch at "+y.getCoordinate())}else if(arguments.length===3){for(var Dt=arguments[1],re=arguments[2],_e=arguments[0];_e<Dt;_e++){var sr=this._edgeList.get(_e);sr.setEdgeDepths(Ie.RIGHT,re),re=sr.getDepth(Ie.LEFT)}return re}}},{key:"mergeSymLabels",value:function(){for(var y=this.iterator();y.hasNext();){var T=y.next();T.getLabel().merge(T.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(y){for(var T=null,F=null,nt=this._SCANNING_FOR_INCOMING,xt=this._resultAreaEdgeList.size()-1;xt>=0;xt--){var Dt=this._resultAreaEdgeList.get(xt),re=Dt.getSym();switch(T===null&&Dt.getEdgeRing()===y&&(T=Dt),nt){case this._SCANNING_FOR_INCOMING:if(re.getEdgeRing()!==y)continue;F=re,nt=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(Dt.getEdgeRing()!==y)continue;F.setNextMin(Dt),nt=this._SCANNING_FOR_INCOMING}}nt===this._LINKING_TO_OUTGOING&&(At.isTrue(T!==null,"found null for first outgoing dirEdge"),At.isTrue(T.getEdgeRing()===y,"unable to link last incoming dirEdge"),F.setNextMin(T))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var y=0,T=this.iterator();T.hasNext();)T.next().isInResult()&&y++;return y}if(arguments.length===1){for(var F=arguments[0],nt=0,xt=this.iterator();xt.hasNext();)xt.next().getEdgeRing()===F&&nt++;return nt}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var y=$t.NONE,T=this.iterator();T.hasNext();){var F=T.next(),nt=F.getSym();if(!F.isLineEdge()){if(F.isInResult()){y=$t.INTERIOR;break}if(nt.isInResult()){y=$t.EXTERIOR;break}}}if(y===$t.NONE)return null;for(var xt=y,Dt=this.iterator();Dt.hasNext();){var re=Dt.next(),_e=re.getSym();re.isLineEdge()?re.getEdge().setCovered(xt===$t.INTERIOR):(re.isInResult()&&(xt=$t.EXTERIOR),_e.isInResult()&&(xt=$t.INTERIOR))}}},{key:"computeLabelling",value:function(y){O(m,"computeLabelling",this,1).call(this,y),this._label=new ti($t.NONE);for(var T=this.iterator();T.hasNext();)for(var F=T.next().getEdge().getLabel(),nt=0;nt<2;nt++){var xt=F.getLocation(nt);xt!==$t.INTERIOR&&xt!==$t.BOUNDARY||this._label.setLocation(nt,$t.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(il),Zs=(function(C){function m(){return i(this,m),n(this,m)}return k(m,C),a(m,[{key:"createNode",value:function(y){return new na(y,new ws)}}])})(xo),mh=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"compareTo",value:function(m){var y=m;return C.compareOriented(this._pts,this._orientation,y._pts,y._orientation)}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var m=arguments[0];this._pts=m,this._orientation=C.orientation(m)}},{key:"orientation",value:function(m){return Mn.increasingDirection(m)===1}},{key:"compareOriented",value:function(m,y,T,F){for(var nt=y?1:-1,xt=F?1:-1,Dt=y?m.length:-1,re=F?T.length:-1,_e=y?0:m.length-1,sr=F?0:T.length-1;;){var _r=m[_e].compareTo(T[sr]);if(_r!==0)return _r;var tn=(_e+=nt)===Dt,In=(sr+=xt)===re;if(tn&&!In)return-1;if(!tn&&In)return 1;if(tn&&In)return 0}}}])})(),Hc=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"print",value:function(C){C.print("MULTILINESTRING ( ");for(var m=0;m<this._edges.size();m++){var y=this._edges.get(m);m>0&&C.print(","),C.print("(");for(var T=y.getCoordinates(),F=0;F<T.length;F++)F>0&&C.print(","),C.print(T[F].x+" "+T[F].y);C.println(")")}C.print(")  ")}},{key:"addAll",value:function(C){for(var m=C.iterator();m.hasNext();)this.add(m.next())}},{key:"findEdgeIndex",value:function(C){for(var m=0;m<this._edges.size();m++)if(this._edges.get(m).equals(C))return m;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(C){return this._edges.get(C)}},{key:"findEqualEdge",value:function(C){var m=new mh(C.getCoordinates());return this._ocaMap.get(m)}},{key:"add",value:function(C){this._edges.add(C);var m=new mh(C.getCoordinates());this._ocaMap.put(m,C)}}],[{key:"constructor_",value:function(){this._edges=new Bt,this._ocaMap=new ei}}])})(),qu=(function(){return a((function C(){i(this,C)}),[{key:"processIntersections",value:function(C,m,y,T){}},{key:"isDone",value:function(){}}])})(),Gl=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"isTrivialIntersection",value:function(m,y,T,F){if(m===T&&this._li.getIntersectionNum()===1){if(C.isAdjacentSegments(y,F))return!0;if(m.isClosed()){var nt=m.size()-1;if(y===0&&F===nt||F===0&&y===nt)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(m,y,T,F){if(m===T&&y===F)return null;this.numTests++;var nt=m.getCoordinates()[y],xt=m.getCoordinates()[y+1],Dt=T.getCoordinates()[F],re=T.getCoordinates()[F+1];this._li.computeIntersection(nt,xt,Dt,re),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(m,y,T,F)||(this._hasIntersection=!0,m.addIntersections(this._li,y,0),T.addIntersections(this._li,F,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[qu]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var m=arguments[0];this._li=m}},{key:"isAdjacentSegments",value:function(m,y){return Math.abs(m-y)===1}}])})(),jo=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(C){C.print(this.coord),C.print(" seg # = "+this.segmentIndex),C.println(" dist = "+this.dist)}},{key:"compareTo",value:function(C){var m=C;return this.compare(m.segmentIndex,m.dist)}},{key:"isEndPoint",value:function(C){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===C}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(C,m){return this.segmentIndex<C?-1:this.segmentIndex>C?1:this.dist<m?-1:this.dist>m?1:0}},{key:"interfaces_",get:function(){return[rt]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var C=arguments[0],m=arguments[1],y=arguments[2];this.coord=new Ht(C),this.segmentIndex=m,this.dist=y}}])})(),Ss=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"print",value:function(C){C.println("Intersections:");for(var m=this.iterator();m.hasNext();)m.next().print(C)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(C){this.addEndpoints();for(var m=this.iterator(),y=m.next();m.hasNext();){var T=m.next(),F=this.createSplitEdge(y,T);C.add(F),y=T}}},{key:"addEndpoints",value:function(){var C=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[C],C,0)}},{key:"createSplitEdge",value:function(C,m){var y=m.segmentIndex-C.segmentIndex+2,T=this.edge.pts[m.segmentIndex],F=m.dist>0||!m.coord.equals2D(T);F||y--;var nt=new Array(y).fill(null),xt=0;nt[xt++]=new Ht(C.coord);for(var Dt=C.segmentIndex+1;Dt<=m.segmentIndex;Dt++)nt[xt++]=this.edge.pts[Dt];return F&&(nt[xt]=m.coord),new Eo(nt,new ti(this.edge._label))}},{key:"add",value:function(C,m,y){var T=new jo(C,m,y),F=this._nodeMap.get(T);return F!==null?F:(this._nodeMap.put(T,T),T)}},{key:"isIntersection",value:function(C){for(var m=this.iterator();m.hasNext();)if(m.next().coord.equals(C))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new ei,this.edge=null;var C=arguments[0];this.edge=C}}])})(),Gu=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])||C.isTrue(this._matrix[$t.INTERIOR][$t.BOUNDARY])||C.isTrue(this._matrix[$t.BOUNDARY][$t.INTERIOR])||C.isTrue(this._matrix[$t.BOUNDARY][$t.BOUNDARY]))&&this._matrix[$t.EXTERIOR][$t.INTERIOR]===or.FALSE&&this._matrix[$t.EXTERIOR][$t.BOUNDARY]===or.FALSE}},{key:"isCoveredBy",value:function(){return(C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])||C.isTrue(this._matrix[$t.INTERIOR][$t.BOUNDARY])||C.isTrue(this._matrix[$t.BOUNDARY][$t.INTERIOR])||C.isTrue(this._matrix[$t.BOUNDARY][$t.BOUNDARY]))&&this._matrix[$t.INTERIOR][$t.EXTERIOR]===or.FALSE&&this._matrix[$t.BOUNDARY][$t.EXTERIOR]===or.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var m=arguments[0],y=0;y<m.length;y++){var T=Math.trunc(y/3),F=y%3;this._matrix[T][F]=or.toDimensionValue(m.charAt(y))}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this._matrix[nt][xt]=Dt}}},{key:"isContains",value:function(){return C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])&&this._matrix[$t.EXTERIOR][$t.INTERIOR]===or.FALSE&&this._matrix[$t.EXTERIOR][$t.BOUNDARY]===or.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var m=arguments[0],y=0;y<m.length;y++){var T=Math.trunc(y/3),F=y%3;this.setAtLeast(T,F,or.toDimensionValue(m.charAt(y)))}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1],Dt=arguments[2];this._matrix[nt][xt]<Dt&&(this._matrix[nt][xt]=Dt)}}},{key:"setAtLeastIfValid",value:function(m,y,T){m>=0&&y>=0&&this.setAtLeast(m,y,T)}},{key:"isWithin",value:function(){return C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])&&this._matrix[$t.INTERIOR][$t.EXTERIOR]===or.FALSE&&this._matrix[$t.BOUNDARY][$t.EXTERIOR]===or.FALSE}},{key:"isTouches",value:function(m,y){return m>y?this.isTouches(y,m):(m===or.A&&y===or.A||m===or.L&&y===or.L||m===or.L&&y===or.A||m===or.P&&y===or.A||m===or.P&&y===or.L)&&this._matrix[$t.INTERIOR][$t.INTERIOR]===or.FALSE&&(C.isTrue(this._matrix[$t.INTERIOR][$t.BOUNDARY])||C.isTrue(this._matrix[$t.BOUNDARY][$t.INTERIOR])||C.isTrue(this._matrix[$t.BOUNDARY][$t.BOUNDARY]))}},{key:"isOverlaps",value:function(m,y){return m===or.P&&y===or.P||m===or.A&&y===or.A?C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])&&C.isTrue(this._matrix[$t.INTERIOR][$t.EXTERIOR])&&C.isTrue(this._matrix[$t.EXTERIOR][$t.INTERIOR]):m===or.L&&y===or.L&&this._matrix[$t.INTERIOR][$t.INTERIOR]===1&&C.isTrue(this._matrix[$t.INTERIOR][$t.EXTERIOR])&&C.isTrue(this._matrix[$t.EXTERIOR][$t.INTERIOR])}},{key:"isEquals",value:function(m,y){return m===y&&C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])&&this._matrix[$t.INTERIOR][$t.EXTERIOR]===or.FALSE&&this._matrix[$t.BOUNDARY][$t.EXTERIOR]===or.FALSE&&this._matrix[$t.EXTERIOR][$t.INTERIOR]===or.FALSE&&this._matrix[$t.EXTERIOR][$t.BOUNDARY]===or.FALSE}},{key:"toString",value:function(){for(var m=new ra("123456789"),y=0;y<3;y++)for(var T=0;T<3;T++)m.setCharAt(3*y+T,or.toDimensionSymbol(this._matrix[y][T]));return m.toString()}},{key:"setAll",value:function(m){for(var y=0;y<3;y++)for(var T=0;T<3;T++)this._matrix[y][T]=m}},{key:"get",value:function(m,y){return this._matrix[m][y]}},{key:"transpose",value:function(){var m=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=m,m=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=m,m=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=m,this}},{key:"matches",value:function(m){if(m.length!==9)throw new X("Should be length 9: "+m);for(var y=0;y<3;y++)for(var T=0;T<3;T++)if(!C.matches(this._matrix[y][T],m.charAt(3*y+T)))return!1;return!0}},{key:"add",value:function(m){for(var y=0;y<3;y++)for(var T=0;T<3;T++)this.setAtLeast(y,T,m.get(y,T))}},{key:"isDisjoint",value:function(){return this._matrix[$t.INTERIOR][$t.INTERIOR]===or.FALSE&&this._matrix[$t.INTERIOR][$t.BOUNDARY]===or.FALSE&&this._matrix[$t.BOUNDARY][$t.INTERIOR]===or.FALSE&&this._matrix[$t.BOUNDARY][$t.BOUNDARY]===or.FALSE}},{key:"isCrosses",value:function(m,y){return m===or.P&&y===or.L||m===or.P&&y===or.A||m===or.L&&y===or.A?C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])&&C.isTrue(this._matrix[$t.INTERIOR][$t.EXTERIOR]):m===or.L&&y===or.P||m===or.A&&y===or.P||m===or.A&&y===or.L?C.isTrue(this._matrix[$t.INTERIOR][$t.INTERIOR])&&C.isTrue(this._matrix[$t.EXTERIOR][$t.INTERIOR]):m===or.L&&y===or.L&&this._matrix[$t.INTERIOR][$t.INTERIOR]===0}},{key:"interfaces_",get:function(){return[st]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(or.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var m=arguments[0];C.constructor_.call(this),this.set(m)}else if(arguments[0]instanceof C){var y=arguments[0];C.constructor_.call(this),this._matrix[$t.INTERIOR][$t.INTERIOR]=y._matrix[$t.INTERIOR][$t.INTERIOR],this._matrix[$t.INTERIOR][$t.BOUNDARY]=y._matrix[$t.INTERIOR][$t.BOUNDARY],this._matrix[$t.INTERIOR][$t.EXTERIOR]=y._matrix[$t.INTERIOR][$t.EXTERIOR],this._matrix[$t.BOUNDARY][$t.INTERIOR]=y._matrix[$t.BOUNDARY][$t.INTERIOR],this._matrix[$t.BOUNDARY][$t.BOUNDARY]=y._matrix[$t.BOUNDARY][$t.BOUNDARY],this._matrix[$t.BOUNDARY][$t.EXTERIOR]=y._matrix[$t.BOUNDARY][$t.EXTERIOR],this._matrix[$t.EXTERIOR][$t.INTERIOR]=y._matrix[$t.EXTERIOR][$t.INTERIOR],this._matrix[$t.EXTERIOR][$t.BOUNDARY]=y._matrix[$t.EXTERIOR][$t.BOUNDARY],this._matrix[$t.EXTERIOR][$t.EXTERIOR]=y._matrix[$t.EXTERIOR][$t.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var m=arguments[0],y=arguments[1];return y===or.SYM_DONTCARE||y===or.SYM_TRUE&&(m>=0||m===or.TRUE)||y===or.SYM_FALSE&&m===or.FALSE||y===or.SYM_P&&m===or.P||y===or.SYM_L&&m===or.L||y===or.SYM_A&&m===or.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var T=arguments[1];return new C(arguments[0]).matches(T)}}},{key:"isTrue",value:function(m){return m>=0||m===or.TRUE}}])})(),Es=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(m){return m===null||m.length===0?null:(this.ensureCapacity(this._size+m.length),Ge.arraycopy(m,0,this._data,this._size,m.length),void(this._size+=m.length))}},{key:"ensureCapacity",value:function(m){if(m<=this._data.length)return null;var y=Math.max(m,2*this._data.length);this._data=ze.copyOf(this._data,y)}},{key:"toArray",value:function(){var m=new Array(this._size).fill(null);return Ge.arraycopy(this._data,0,m,0,this._size),m}},{key:"add",value:function(m){this.ensureCapacity(this._size+1),this._data[this._size]=m,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)C.constructor_.call(this,10);else if(arguments.length===1){var m=arguments[0];this._data=new Array(m).fill(null)}}}])})(),Hu=(function(){function C(){i(this,C)}return a(C,[{key:"getChainStartIndices",value:function(m){var y=0,T=new Es(Math.trunc(m.length/2));T.add(y);do{var F=this.findChainEnd(m,y);T.add(F),y=F}while(y<m.length-1);return T.toArray()}},{key:"findChainEnd",value:function(m,y){for(var T=zn.quadrant(m[y],m[y+1]),F=y+1;F<m.length&&zn.quadrant(m[F-1],m[F])===T;)F++;return F-1}},{key:"OLDgetChainStartIndices",value:function(m){var y=0,T=new Bt;T.add(y);do{var F=this.findChainEnd(m,y);T.add(F),y=F}while(y<m.length-1);return C.toIntArray(T)}}],[{key:"toIntArray",value:function(m){for(var y=new Array(m.size()).fill(null),T=0;T<y.length;T++)y[T]=m.get(T).intValue();return y}}])})(),Ps=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(C){var m=this.pts[this.startIndex[C]].x,y=this.pts[this.startIndex[C+1]].x;return m>y?m:y}},{key:"getMinX",value:function(C){var m=this.pts[this.startIndex[C]].x,y=this.pts[this.startIndex[C+1]].x;return m<y?m:y}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var C=arguments[0],m=arguments[1],y=arguments[2],T=arguments[3];this.computeIntersectsForChain(this.startIndex[C],this.startIndex[C+1],m,m.startIndex[y],m.startIndex[y+1],T)}else if(arguments.length===6){var F=arguments[0],nt=arguments[1],xt=arguments[2],Dt=arguments[3],re=arguments[4],_e=arguments[5];if(nt-F==1&&re-Dt==1)return _e.addIntersections(this.e,F,xt.e,Dt),null;if(!this.overlaps(F,nt,xt,Dt,re))return null;var sr=Math.trunc((F+nt)/2),_r=Math.trunc((Dt+re)/2);F<sr&&(Dt<_r&&this.computeIntersectsForChain(F,sr,xt,Dt,_r,_e),_r<re&&this.computeIntersectsForChain(F,sr,xt,_r,re,_e)),sr<nt&&(Dt<_r&&this.computeIntersectsForChain(sr,nt,xt,Dt,_r,_e),_r<re&&this.computeIntersectsForChain(sr,nt,xt,_r,re,_e))}}},{key:"overlaps",value:function(C,m,y,T,F){return de.intersects(this.pts[C],this.pts[m],y.pts[T],y.pts[F])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(C,m){for(var y=0;y<this.startIndex.length-1;y++)for(var T=0;T<C.startIndex.length-1;T++)this.computeIntersectsForChain(y,C,T,m)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var C=arguments[0];this.e=C,this.pts=C.getCoordinates();var m=new Hu;this.startIndex=m.getChainStartIndices(this.pts)}}])})(),du=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"getDepth",value:function(m,y){return this._depth[m][y]}},{key:"setDepth",value:function(m,y,T){this._depth[m][y]=T}},{key:"isNull",value:function(){if(arguments.length===0){for(var m=0;m<2;m++)for(var y=0;y<3;y++)if(this._depth[m][y]!==C.NULL_VALUE)return!1;return!0}if(arguments.length===1){var T=arguments[0];return this._depth[T][1]===C.NULL_VALUE}if(arguments.length===2){var F=arguments[0],nt=arguments[1];return this._depth[F][nt]===C.NULL_VALUE}}},{key:"normalize",value:function(){for(var m=0;m<2;m++)if(!this.isNull(m)){var y=this._depth[m][1];this._depth[m][2]<y&&(y=this._depth[m][2]),y<0&&(y=0);for(var T=1;T<3;T++){var F=0;this._depth[m][T]>y&&(F=1),this._depth[m][T]=F}}}},{key:"getDelta",value:function(m){return this._depth[m][Ie.RIGHT]-this._depth[m][Ie.LEFT]}},{key:"getLocation",value:function(m,y){return this._depth[m][y]<=0?$t.EXTERIOR:$t.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var m=arguments[0],y=0;y<2;y++)for(var T=1;T<3;T++){var F=m.getLocation(y,T);F!==$t.EXTERIOR&&F!==$t.INTERIOR||(this.isNull(y,T)?this._depth[y][T]=C.depthAtLocation(F):this._depth[y][T]+=C.depthAtLocation(F))}else if(arguments.length===3){var nt=arguments[0],xt=arguments[1];arguments[2]===$t.INTERIOR&&this._depth[nt][xt]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var m=0;m<2;m++)for(var y=0;y<3;y++)this._depth[m][y]=C.NULL_VALUE}},{key:"depthAtLocation",value:function(m){return m===$t.EXTERIOR?0:m===$t.INTERIOR?1:C.NULL_VALUE}}])})();du.NULL_VALUE=-1;var Eo=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var y=new Array(2).fill(null);return y[0]=this.pts[0],y[1]=this.pts[1],new m(y,ti.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(y){this._isIsolated=y}},{key:"setName",value:function(y){this._name=y}},{key:"equals",value:function(y){if(!(y instanceof m))return!1;var T=y;if(this.pts.length!==T.pts.length)return!1;for(var F=!0,nt=!0,xt=this.pts.length,Dt=0;Dt<this.pts.length;Dt++)if(this.pts[Dt].equals2D(T.pts[Dt])||(F=!1),this.pts[Dt].equals2D(T.pts[--xt])||(nt=!1),!F&&!nt)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var y=arguments[0];return this.pts[y]}}},{key:"print",value:function(y){y.print("edge "+this._name+": "),y.print("LINESTRING (");for(var T=0;T<this.pts.length;T++)T>0&&y.print(","),y.print(this.pts[T].x+" "+this.pts[T].y);y.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(y){m.updateIM(this._label,y)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(y){y.print("edge "+this._name+": ");for(var T=this.pts.length-1;T>=0;T--)y.print(this.pts[T]+" ");y.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Ps(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new de;for(var y=0;y<this.pts.length;y++)this._env.expandToInclude(this.pts[y])}return this._env}},{key:"addIntersection",value:function(y,T,F,nt){var xt=new Ht(y.getIntersection(nt)),Dt=T,re=y.getEdgeDistance(F,nt),_e=Dt+1;if(_e<this.pts.length){var sr=this.pts[_e];xt.equals2D(sr)&&(Dt=_e,re=0)}this.eiList.add(xt,Dt,re)}},{key:"toString",value:function(){var y=new ra;y.append("edge "+this._name+": "),y.append("LINESTRING (");for(var T=0;T<this.pts.length;T++)T>0&&y.append(","),y.append(this.pts[T].x+" "+this.pts[T].y);return y.append(")  "+this._label+" "+this._depthDelta),y.toString()}},{key:"isPointwiseEqual",value:function(y){if(this.pts.length!==y.pts.length)return!1;for(var T=0;T<this.pts.length;T++)if(!this.pts[T].equals2D(y.pts[T]))return!1;return!0}},{key:"setDepthDelta",value:function(y){this._depthDelta=y}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(y,T,F){for(var nt=0;nt<y.getIntersectionNum();nt++)this.addIntersection(y,T,F,nt)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Ss(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new du,this._depthDelta=0,arguments.length===1){var y=arguments[0];m.constructor_.call(this,y,null)}else if(arguments.length===2){var T=arguments[0],F=arguments[1];this.pts=T,this._label=F}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Gu&&arguments[0]instanceof ti))return O(m,"updateIM",this).apply(this,arguments);var y=arguments[0],T=arguments[1];T.setAtLeastIfValid(y.getLocation(0,Ie.ON),y.getLocation(1,Ie.ON),1),y.isArea()&&(T.setAtLeastIfValid(y.getLocation(0,Ie.LEFT),y.getLocation(1,Ie.LEFT),2),T.setAtLeastIfValid(y.getLocation(0,Ie.RIGHT),y.getLocation(1,Ie.RIGHT),2))}}])})(yi),fu=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"setWorkingPrecisionModel",value:function(m){this._workingPrecisionModel=m}},{key:"insertUniqueEdge",value:function(m){var y=this._edgeList.findEqualEdge(m);if(y!==null){var T=y.getLabel(),F=m.getLabel();y.isPointwiseEqual(m)||(F=new ti(m.getLabel())).flip(),T.merge(F);var nt=C.depthDelta(F),xt=y.getDepthDelta()+nt;y.setDepthDelta(xt)}else this._edgeList.add(m),m.setDepthDelta(C.depthDelta(m.getLabel()))}},{key:"buildSubgraphs",value:function(m,y){for(var T=new Bt,F=m.iterator();F.hasNext();){var nt=F.next(),xt=nt.getRightmostCoordinate(),Dt=new ql(T).getDepth(xt);nt.computeDepth(Dt),nt.findResultEdges(),T.add(nt),y.add(nt.getDirectedEdges(),nt.getNodes())}}},{key:"createSubgraphs",value:function(m){for(var y=new Bt,T=m.getNodes().iterator();T.hasNext();){var F=T.next();if(!F.isVisited()){var nt=new ye;nt.create(F),y.add(nt)}}return Bo.sort(y,Bo.reverseOrder()),y}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(m){if(this._workingNoder!==null)return this._workingNoder;var y=new wu,T=new Sn;return T.setPrecisionModel(m),y.setSegmentIntersector(new Gl(T)),y}},{key:"buffer",value:function(m,y){var T=this._workingPrecisionModel;T===null&&(T=m.getPrecisionModel()),this._geomFact=m.getFactory();var F=new vc(T,this._bufParams),nt=new $u(m,y,F).getCurves();if(nt.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(nt,T),this._graph=new fo(new Zs),this._graph.addEdges(this._edgeList.getEdges());var xt=this.createSubgraphs(this._graph),Dt=new _u(this._geomFact);this.buildSubgraphs(xt,Dt);var re=Dt.getPolygons();return re.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(re)}},{key:"computeNodedEdges",value:function(m,y){var T=this.getNoder(y);T.computeNodes(m);for(var F=T.getNodedSubstrings().iterator();F.hasNext();){var nt=F.next(),xt=nt.getCoordinates();if(xt.length!==2||!xt[0].equals2D(xt[1])){var Dt=nt.getData(),re=new Eo(nt.getCoordinates(),new ti(Dt));this.insertUniqueEdge(re)}}}},{key:"setNoder",value:function(m){this._workingNoder=m}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hc;var m=arguments[0];this._bufParams=m}},{key:"depthDelta",value:function(m){var y=m.getLocation(0,Ie.LEFT),T=m.getLocation(0,Ie.RIGHT);return y===$t.INTERIOR&&T===$t.EXTERIOR?1:y===$t.EXTERIOR&&T===$t.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(m){for(var y=new Ks,T=new Bt;m.hasNext();){var F=m.next(),nt=y.createLineString(F.getCoordinates());T.add(nt)}return y.buildGeometry(T)}}])})(),pu=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"rescale",value:function(){if(Ir(arguments[0],He))for(var m=arguments[0].iterator();m.hasNext();){var y=m.next();this.rescale(y.getCoordinates())}else if(arguments[0]instanceof Array){for(var T=arguments[0],F=0;F<T.length;F++)T[F].x=T[F].x/this._scaleFactor+this._offsetX,T[F].y=T[F].y/this._scaleFactor+this._offsetY;T.length===2&&T[0].equals2D(T[1])&&Ge.out.println(T)}}},{key:"scale",value:function(){if(Ir(arguments[0],He)){for(var m=arguments[0],y=new Bt(m.size()),T=m.iterator();T.hasNext();){var F=T.next();y.add(new xa(this.scale(F.getCoordinates()),F.getData()))}return y}if(arguments[0]instanceof Array){for(var nt=arguments[0],xt=new Array(nt.length).fill(null),Dt=0;Dt<nt.length;Dt++)xt[Dt]=new Ht(Math.round((nt[Dt].x-this._offsetX)*this._scaleFactor),Math.round((nt[Dt].y-this._offsetY)*this._scaleFactor),nt[Dt].getZ());return Mn.removeRepeatedPoints(xt)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var m=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(m),m}},{key:"computeNodes",value:function(m){var y=m;this._isScaled&&(y=this.scale(m)),this._noder.computeNodes(y)}},{key:"interfaces_",get:function(){return[ao]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var m=arguments[0],y=arguments[1];C.constructor_.call(this,m,y,0,0)}else if(arguments.length===4){var T=arguments[0],F=arguments[1];this._noder=T,this._scaleFactor=F,this._isScaled=!this.isIntegerPrecision()}}}])})(),Al=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var m=this._segStrings.iterator();m.hasNext();){var y=m.next().getCoordinates();this.checkEndPtVertexIntersections(y[0],this._segStrings),this.checkEndPtVertexIntersections(y[y.length-1],this._segStrings)}else if(arguments.length===2){for(var T=arguments[0],F=arguments[1].iterator();F.hasNext();)for(var nt=F.next().getCoordinates(),xt=1;xt<nt.length-1;xt++)if(nt[xt].equals(T))throw new lt("found endpt/interior pt intersection at index "+xt+" :pt "+T)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var m=this._segStrings.iterator();m.hasNext();)for(var y=m.next(),T=this._segStrings.iterator();T.hasNext();){var F=T.next();this.checkInteriorIntersections(y,F)}else if(arguments.length===2)for(var nt=arguments[0],xt=arguments[1],Dt=nt.getCoordinates(),re=xt.getCoordinates(),_e=0;_e<Dt.length-1;_e++)for(var sr=0;sr<re.length-1;sr++)this.checkInteriorIntersections(nt,_e,xt,sr);else if(arguments.length===4){var _r=arguments[0],tn=arguments[1],In=arguments[2],Zn=arguments[3];if(_r===In&&tn===Zn)return null;var hi=_r.getCoordinates()[tn],Yn=_r.getCoordinates()[tn+1],Hn=In.getCoordinates()[Zn],fa=In.getCoordinates()[Zn+1];if(this._li.computeIntersection(hi,Yn,Hn,fa),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,hi,Yn)||this.hasInteriorIntersection(this._li,Hn,fa)))throw new lt("found non-noded intersection at "+hi+"-"+Yn+" and "+Hn+"-"+fa)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var m=this._segStrings.iterator();m.hasNext();){var y=m.next();this.checkCollapses(y)}else if(arguments.length===1)for(var T=arguments[0].getCoordinates(),F=0;F<T.length-2;F++)this.checkCollapse(T[F],T[F+1],T[F+2])}},{key:"hasInteriorIntersection",value:function(m,y,T){for(var F=0;F<m.getIntersectionNum();F++){var nt=m.getIntersection(F);if(!nt.equals(y)&&!nt.equals(T))return!0}return!1}},{key:"checkCollapse",value:function(m,y,T){if(m.equals(T))throw new lt("found non-noded collapse at "+C.fact.createLineString([m,y,T]))}}],[{key:"constructor_",value:function(){this._li=new Sn,this._segStrings=null;var m=arguments[0];this._segStrings=m}}])})();Al.fact=new Ks;var _c=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"intersectsScaled",value:function(m,y){var T=Math.min(m.x,y.x),F=Math.max(m.x,y.x),nt=Math.min(m.y,y.y),xt=Math.max(m.y,y.y),Dt=this._maxx<T||this._minx>F||this._maxy<nt||this._miny>xt;if(Dt)return!1;var re=this.intersectsToleranceSquare(m,y);return At.isTrue(!(Dt&&re),"Found bad envelope test"),re}},{key:"initCorners",value:function(m){var y=.5;this._minx=m.x-y,this._maxx=m.x+y,this._miny=m.y-y,this._maxy=m.y+y,this._corner[0]=new Ht(this._maxx,this._maxy),this._corner[1]=new Ht(this._minx,this._maxy),this._corner[2]=new Ht(this._minx,this._miny),this._corner[3]=new Ht(this._maxx,this._miny)}},{key:"intersects",value:function(m,y){return this._scaleFactor===1?this.intersectsScaled(m,y):(this.copyScaled(m,this._p0Scaled),this.copyScaled(y,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(m){return Math.round(m*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(m,y){y.x=this.scale(m.x),y.y=this.scale(m.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var m=C.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new de(this._originalPt.x-m,this._originalPt.x+m,this._originalPt.y-m,this._originalPt.y+m)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(m,y){return this._li.computeIntersection(m,y,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(m,y,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(m,y,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(m,y,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(m,y){var T=!1,F=!1;return this._li.computeIntersection(m,y,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(m,y,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(T=!0),this._li.computeIntersection(m,y,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(F=!0),this._li.computeIntersection(m,y,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!T||!F)||!!m.equals(this._pt)||!!y.equals(this._pt))))}},{key:"addSnappedNode",value:function(m,y){var T=m.getCoordinate(y),F=m.getCoordinate(y+1);return!!this.intersects(T,F)&&(m.addIntersection(this.getCoordinate(),y),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var m=arguments[0],y=arguments[1],T=arguments[2];if(this._originalPt=m,this._pt=m,this._scaleFactor=y,this._li=T,y<=0)throw new X("Scale factor must be non-zero");y!==1&&(this._pt=new Ht(this.scale(m.x),this.scale(m.y)),this._p0Scaled=new Ht,this._p1Scaled=new Ht),this.initCorners(this._pt)}}])})();_c.SAFE_ENV_EXPANSION_FACTOR=.75;var Xc=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1&&arguments.length===2){var C=arguments[1];arguments[0].getLineSegment(C,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Pi}}])})(),Eu=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var C=arguments[0];return this.snap(C,null,-1)}if(arguments.length===3){var m=arguments[0],y=arguments[1],T=arguments[2],F=m.getSafeEnvelope(),nt=new xc(m,y,T);return this._index.query(F,new((function(){return a((function xt(){i(this,xt)}),[{key:"interfaces_",get:function(){return[ut]}},{key:"visitItem",value:function(xt){xt.select(F,nt)}}])})())),nt.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var C=arguments[0];this._index=C}}])})(),xc=(function(C){function m(){var y;return i(this,m),y=n(this,m),m.constructor_.apply(y,arguments),y}return k(m,C),a(m,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Lo))return O(m,"select",this,1).apply(this,arguments);var y=arguments[1],T=arguments[0].getContext();if(this._parentEdge===T&&(y===this._hotPixelVertexIndex||y+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(T,y)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var y=arguments[0],T=arguments[1],F=arguments[2];this._hotPixel=y,this._parentEdge=T,this._hotPixelVertexIndex=F}}])})(Xc);Eu.HotPixelSnapAction=xc;var Ts=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(C,m,y,T){if(C===y&&m===T)return null;var F=C.getCoordinates()[m],nt=C.getCoordinates()[m+1],xt=y.getCoordinates()[T],Dt=y.getCoordinates()[T+1];if(this._li.computeIntersection(F,nt,xt,Dt),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var re=0;re<this._li.getIntersectionNum();re++)this._interiorIntersections.add(this._li.getIntersection(re));C.addIntersections(this._li,m,0),y.addIntersections(this._li,T,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[qu]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var C=arguments[0];this._li=C,this._interiorIntersections=new Bt}}])})(),lr=(function(){return a((function C(){i(this,C),C.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(C){var m=xa.getNodedSubstrings(C),y=new Al(m);try{y.checkValid()}catch(T){if(!(T instanceof j))throw T;T.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return xa.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(C,m){var y=this.findInteriorIntersections(C,m);this.computeIntersectionSnaps(y),this.computeVertexSnaps(C)}},{key:"findInteriorIntersections",value:function(C,m){var y=new Ts(m);return this._noder.setSegmentIntersector(y),this._noder.computeNodes(C),y.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Ir(arguments[0],He))for(var C=arguments[0].iterator();C.hasNext();){var m=C.next();this.computeVertexSnaps(m)}else if(arguments[0]instanceof xa)for(var y=arguments[0],T=y.getCoordinates(),F=0;F<T.length;F++){var nt=new _c(T[F],this._scaleFactor,this._li);this._pointSnapper.snap(nt,y,F)&&y.addIntersection(T[F],F)}}},{key:"computeNodes",value:function(C){this._nodedSegStrings=C,this._noder=new wu,this._pointSnapper=new Eu(this._noder.getIndex()),this.snapRound(C,this._li)}},{key:"computeIntersectionSnaps",value:function(C){for(var m=C.iterator();m.hasNext();){var y=m.next(),T=new _c(y,this._scaleFactor,this._li);this._pointSnapper.snap(T)}}},{key:"interfaces_",get:function(){return[ao]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var C=arguments[0];this._pm=C,this._li=new Sn,this._li.setPrecisionModel(C),this._scaleFactor=C.getScale()}}])})(),mr=(function(){function C(){i(this,C),C.constructor_.apply(this,arguments)}return a(C,[{key:"bufferFixedPrecision",value:function(m){var y=new pu(new lr(new Mi(1)),m.getScale()),T=new fu(this._bufParams);T.setWorkingPrecisionModel(m),T.setNoder(y),this._resultGeometry=T.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var m=C.MAX_PRECISION_DIGITS;m>=0;m--){try{this.bufferReducedPrecision(m)}catch(nt){if(!(nt instanceof jt))throw nt;this._saveException=nt}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var y=arguments[0],T=C.precisionScaleFactor(this._argGeom,this._distance,y),F=new Mi(T);this.bufferFixedPrecision(F)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var m=this._argGeom.getFactory().getPrecisionModel();m.getType()===Mi.FIXED?this.bufferFixedPrecision(m):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(m){this._bufParams.setQuadrantSegments(m)}},{key:"bufferOriginalPrecision",value:function(){try{var m=new fu(this._bufParams);this._resultGeometry=m.buffer(this._argGeom,this._distance)}catch(y){if(!(y instanceof lt))throw y;this._saveException=y}}},{key:"getResultGeometry",value:function(m){return this._distance=m,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(m){this._bufParams.setEndCapStyle(m)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new z,this._resultGeometry=null,this._saveException=null,arguments.length===1){var m=arguments[0];this._argGeom=m}else if(arguments.length===2){var y=arguments[0],T=arguments[1];this._argGeom=y,this._bufParams=T}}},{key:"bufferOp",value:function(){if(arguments.length===2){var m=arguments[1];return new C(arguments[0]).getResultGeometry(m)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Se&&typeof arguments[1]=="number"){var y=arguments[1],T=arguments[2],F=new C(arguments[0]);return F.setQuadrantSegments(T),F.getResultGeometry(y)}if(arguments[2]instanceof z&&arguments[0]instanceof Se&&typeof arguments[1]=="number"){var nt=arguments[1];return new C(arguments[0],arguments[2]).getResultGeometry(nt)}}else if(arguments.length===4){var xt=arguments[1],Dt=arguments[2],re=arguments[3],_e=new C(arguments[0]);return _e.setQuadrantSegments(Dt),_e.setEndCapStyle(re),_e.getResultGeometry(xt)}}},{key:"precisionScaleFactor",value:function(m,y,T){var F=m.getEnvelopeInternal(),nt=Ue.max(Math.abs(F.getMaxX()),Math.abs(F.getMaxY()),Math.abs(F.getMinX()),Math.abs(F.getMinY()))+2*(y>0?y:0),xt=T-Math.trunc(Math.log(nt)/Math.log(10)+1);return Math.pow(10,xt)}}])})();mr.CAP_ROUND=z.CAP_ROUND,mr.CAP_BUTT=z.CAP_FLAT,mr.CAP_FLAT=z.CAP_FLAT,mr.CAP_SQUARE=z.CAP_SQUARE,mr.MAX_PRECISION_DIGITS=12;var An=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Dn=(function(){return a((function C(m){i(this,C),this.geometryFactory=m||new Ks}),[{key:"read",value:function(C){var m,y=(m=typeof C=="string"?JSON.parse(C):C).type;if(!Ni[y])throw new Error("Unknown GeoJSON type: "+m.type);return An.indexOf(y)!==-1?Ni[y].call(this,m.coordinates):y==="GeometryCollection"?Ni[y].call(this,m.geometries):Ni[y].call(this,m)}},{key:"write",value:function(C){var m=C.getGeometryType();if(!Vn[m])throw new Error("Geometry is not supported");return Vn[m].call(this,C)}}])})(),Ni={Feature:function(C){var m={};for(var y in C)m[y]=C[y];if(C.geometry){var T=C.geometry.type;if(!Ni[T])throw new Error("Unknown GeoJSON type: "+C.type);m.geometry=this.read(C.geometry)}return C.bbox&&(m.bbox=Ni.bbox.call(this,C.bbox)),m},FeatureCollection:function(C){var m={};if(C.features){m.features=[];for(var y=0;y<C.features.length;++y)m.features.push(this.read(C.features[y]))}return C.bbox&&(m.bbox=this.parse.bbox.call(this,C.bbox)),m},coordinates:function(C){for(var m=[],y=0;y<C.length;++y){var T=C[y];m.push(o(Ht,D(T)))}return m},bbox:function(C){return this.geometryFactory.createLinearRing([new Ht(C[0],C[1]),new Ht(C[2],C[1]),new Ht(C[2],C[3]),new Ht(C[0],C[3]),new Ht(C[0],C[1])])},Point:function(C){var m=o(Ht,D(C));return this.geometryFactory.createPoint(m)},MultiPoint:function(C){for(var m=[],y=0;y<C.length;++y)m.push(Ni.Point.call(this,C[y]));return this.geometryFactory.createMultiPoint(m)},LineString:function(C){var m=Ni.coordinates.call(this,C);return this.geometryFactory.createLineString(m)},MultiLineString:function(C){for(var m=[],y=0;y<C.length;++y)m.push(Ni.LineString.call(this,C[y]));return this.geometryFactory.createMultiLineString(m)},Polygon:function(C){for(var m=Ni.coordinates.call(this,C[0]),y=this.geometryFactory.createLinearRing(m),T=[],F=1;F<C.length;++F){var nt=C[F],xt=Ni.coordinates.call(this,nt),Dt=this.geometryFactory.createLinearRing(xt);T.push(Dt)}return this.geometryFactory.createPolygon(y,T)},MultiPolygon:function(C){for(var m=[],y=0;y<C.length;++y){var T=C[y];m.push(Ni.Polygon.call(this,T))}return this.geometryFactory.createMultiPolygon(m)},GeometryCollection:function(C){for(var m=[],y=0;y<C.length;++y){var T=C[y];m.push(this.read(T))}return this.geometryFactory.createGeometryCollection(m)}},Vn={coordinate:function(C){var m=[C.x,C.y];return C.z&&m.push(C.z),C.m&&m.push(C.m),m},Point:function(C){return{type:"Point",coordinates:Vn.coordinate.call(this,C.getCoordinate())}},MultiPoint:function(C){for(var m=[],y=0;y<C._geometries.length;++y){var T=C._geometries[y],F=Vn.Point.call(this,T);m.push(F.coordinates)}return{type:"MultiPoint",coordinates:m}},LineString:function(C){for(var m=[],y=C.getCoordinates(),T=0;T<y.length;++T){var F=y[T];m.push(Vn.coordinate.call(this,F))}return{type:"LineString",coordinates:m}},MultiLineString:function(C){for(var m=[],y=0;y<C._geometries.length;++y){var T=C._geometries[y],F=Vn.LineString.call(this,T);m.push(F.coordinates)}return{type:"MultiLineString",coordinates:m}},Polygon:function(C){var m=[],y=Vn.LineString.call(this,C._shell);m.push(y.coordinates);for(var T=0;T<C._holes.length;++T){var F=C._holes[T],nt=Vn.LineString.call(this,F);m.push(nt.coordinates)}return{type:"Polygon",coordinates:m}},MultiPolygon:function(C){for(var m=[],y=0;y<C._geometries.length;++y){var T=C._geometries[y],F=Vn.Polygon.call(this,T);m.push(F.coordinates)}return{type:"MultiPolygon",coordinates:m}},GeometryCollection:function(C){for(var m=[],y=0;y<C._geometries.length;++y){var T=C._geometries[y],F=T.getGeometryType();m.push(Vn[F].call(this,T))}return{type:"GeometryCollection",geometries:m}}};return{BufferOp:mr,GeoJSONReader:(function(){return a((function C(m){i(this,C),this.parser=new Dn(m||new Ks)}),[{key:"read",value:function(C){return this.parser.read(C)}}])})(),GeoJSONWriter:(function(){return a((function C(){i(this,C),this.parser=new Dn(this.geometryFactory)}),[{key:"write",value:function(C){return this.parser.write(C)}}])})()}}))})(CL)),CL.exports}var apt=ipt();const opt=Rw(apt);function Oy(){return new dT}function dT(){this.reset()}dT.prototype={constructor:dT,reset:function(){this.s=this.t=0},add:function(t){Iz(I5,t,this.t),Iz(this,I5.s,this.s),this.s?this.t+=I5.t:this.s=I5.t},valueOf:function(){return this.s}};var I5=new dT;function Iz(t,e,r){var n=t.s=e+r,i=n-e,o=n-i;t.t=e-o+(r-i)}var AL=Math.PI,Rz=AL*2;Oy();Oy();Oy();function Nz(t,e){return[t>AL?t-Rz:t<-AL?t+Rz:t,e]}Nz.invert=Nz;function $G(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function spt(t){return t.length===1&&(t=lpt(t)),{left:function(e,r,n,i){for(n==null&&(n=0),i==null&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)<0?n=o+1:i=o}return n},right:function(e,r,n,i){for(n==null&&(n=0),i==null&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)>0?i=o:n=o+1}return n}}}function lpt(t){return function(e,r){return $G(t(e),r)}}spt($G);Oy();Oy();Oy();Oy();Oy();function Lz(){}Lz.prototype={constructor:Lz,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Mz(t,e){return[t,e]}Mz.invert=Mz;var{BufferOp:tPt,GeoJSONReader:ePt,GeoJSONWriter:rPt}=opt,R5={exports:{}},kL={exports:{}},upt=kL.exports,Pz;function cpt(){return Pz||(Pz=1,(function(t,e){(function(r,n){t.exports=n()})(upt,function(){function r(G,z,j,X,Y){(function rt(st,it,bt,at,$){for(;at>bt;){if(at-bt>600){var dt=at-bt+1,mt=it-bt+1,wt=Math.log(dt),pt=.5*Math.exp(2*wt/3),Ct=.5*Math.sqrt(wt*pt*(dt-pt)/dt)*(mt-dt/2<0?-1:1),vt=Math.max(bt,Math.floor(it-mt*pt/dt+Ct)),It=Math.min(at,Math.floor(it+(dt-mt)*pt/dt+Ct));rt(st,it,vt,It,$)}var Ft=st[it],Et=bt,lt=at;for(n(st,bt,it),$(st[at],Ft)>0&&n(st,bt,at);Et<lt;){for(n(st,Et,lt),Et++,lt--;$(st[Et],Ft)<0;)Et++;for(;$(st[lt],Ft)>0;)lt--}$(st[bt],Ft)===0?n(st,bt,lt):n(st,++lt,at),lt<=it&&(bt=lt+1),it<=lt&&(at=lt-1)}})(G,z,j||0,X||G.length-1,Y||i)}function n(G,z,j){var X=G[z];G[z]=G[j],G[j]=X}function i(G,z){return G<z?-1:G>z?1:0}var o=function(G){G===void 0&&(G=9),this._maxEntries=Math.max(4,G),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function u(G,z,j){if(!j)return z.indexOf(G);for(var X=0;X<z.length;X++)if(j(G,z[X]))return X;return-1}function a(G,z){g(G,0,G.children.length,z,G)}function g(G,z,j,X,Y){Y||(Y=U(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var rt=z;rt<j;rt++){var st=G.children[rt];v(Y,G.leaf?X(st):st)}return Y}function v(G,z){return G.minX=Math.min(G.minX,z.minX),G.minY=Math.min(G.minY,z.minY),G.maxX=Math.max(G.maxX,z.maxX),G.maxY=Math.max(G.maxY,z.maxY),G}function x(G,z){return G.minX-z.minX}function k(G,z){return G.minY-z.minY}function R(G){return(G.maxX-G.minX)*(G.maxY-G.minY)}function A(G){return G.maxX-G.minX+(G.maxY-G.minY)}function O(G,z){return G.minX<=z.minX&&G.minY<=z.minY&&z.maxX<=G.maxX&&z.maxY<=G.maxY}function D(G,z){return z.minX<=G.maxX&&z.minY<=G.maxY&&z.maxX>=G.minX&&z.maxY>=G.minY}function U(G){return{children:G,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H(G,z,j,X,Y){for(var rt=[z,j];rt.length;)if(!((j=rt.pop())-(z=rt.pop())<=X)){var st=z+Math.ceil((j-z)/X/2)*X;r(G,st,z,j,Y),rt.push(z,st,st,j)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(G){var z=this.data,j=[];if(!D(G,z))return j;for(var X=this.toBBox,Y=[];z;){for(var rt=0;rt<z.children.length;rt++){var st=z.children[rt],it=z.leaf?X(st):st;D(G,it)&&(z.leaf?j.push(st):O(G,it)?this._all(st,j):Y.push(st))}z=Y.pop()}return j},o.prototype.collides=function(G){var z=this.data;if(!D(G,z))return!1;for(var j=[];z;){for(var X=0;X<z.children.length;X++){var Y=z.children[X],rt=z.leaf?this.toBBox(Y):Y;if(D(G,rt)){if(z.leaf||O(G,rt))return!0;j.push(Y)}}z=j.pop()}return!1},o.prototype.load=function(G){if(!G||!G.length)return this;if(G.length<this._minEntries){for(var z=0;z<G.length;z++)this.insert(G[z]);return this}var j=this._build(G.slice(),0,G.length-1,0);if(this.data.children.length)if(this.data.height===j.height)this._splitRoot(this.data,j);else{if(this.data.height<j.height){var X=this.data;this.data=j,j=X}this._insert(j,this.data.height-j.height-1,!0)}else this.data=j;return this},o.prototype.insert=function(G){return G&&this._insert(G,this.data.height-1),this},o.prototype.clear=function(){return this.data=U([]),this},o.prototype.remove=function(G,z){if(!G)return this;for(var j,X,Y,rt=this.data,st=this.toBBox(G),it=[],bt=[];rt||it.length;){if(rt||(rt=it.pop(),X=it[it.length-1],j=bt.pop(),Y=!0),rt.leaf){var at=u(G,rt.children,z);if(at!==-1)return rt.children.splice(at,1),it.push(rt),this._condense(it),this}Y||rt.leaf||!O(rt,st)?X?(j++,rt=X.children[j],Y=!1):rt=null:(it.push(rt),bt.push(j),j=0,X=rt,rt=rt.children[0])}return this},o.prototype.toBBox=function(G){return G},o.prototype.compareMinX=function(G,z){return G.minX-z.minX},o.prototype.compareMinY=function(G,z){return G.minY-z.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(G){return this.data=G,this},o.prototype._all=function(G,z){for(var j=[];G;)G.leaf?z.push.apply(z,G.children):j.push.apply(j,G.children),G=j.pop();return z},o.prototype._build=function(G,z,j,X){var Y,rt=j-z+1,st=this._maxEntries;if(rt<=st)return a(Y=U(G.slice(z,j+1)),this.toBBox),Y;X||(X=Math.ceil(Math.log(rt)/Math.log(st)),st=Math.ceil(rt/Math.pow(st,X-1))),(Y=U([])).leaf=!1,Y.height=X;var it=Math.ceil(rt/st),bt=it*Math.ceil(Math.sqrt(st));H(G,z,j,bt,this.compareMinX);for(var at=z;at<=j;at+=bt){var $=Math.min(at+bt-1,j);H(G,at,$,it,this.compareMinY);for(var dt=at;dt<=$;dt+=it){var mt=Math.min(dt+it-1,$);Y.children.push(this._build(G,dt,mt,X-1))}}return a(Y,this.toBBox),Y},o.prototype._chooseSubtree=function(G,z,j,X){for(;X.push(z),!z.leaf&&X.length-1!==j;){for(var Y=1/0,rt=1/0,st=void 0,it=0;it<z.children.length;it++){var bt=z.children[it],at=R(bt),$=(dt=G,mt=bt,(Math.max(mt.maxX,dt.maxX)-Math.min(mt.minX,dt.minX))*(Math.max(mt.maxY,dt.maxY)-Math.min(mt.minY,dt.minY))-at);$<rt?(rt=$,Y=at<Y?at:Y,st=bt):$===rt&&at<Y&&(Y=at,st=bt)}z=st||z.children[0]}var dt,mt;return z},o.prototype._insert=function(G,z,j){var X=j?G:this.toBBox(G),Y=[],rt=this._chooseSubtree(X,this.data,z,Y);for(rt.children.push(G),v(rt,X);z>=0&&Y[z].children.length>this._maxEntries;)this._split(Y,z),z--;this._adjustParentBBoxes(X,Y,z)},o.prototype._split=function(G,z){var j=G[z],X=j.children.length,Y=this._minEntries;this._chooseSplitAxis(j,Y,X);var rt=this._chooseSplitIndex(j,Y,X),st=U(j.children.splice(rt,j.children.length-rt));st.height=j.height,st.leaf=j.leaf,a(j,this.toBBox),a(st,this.toBBox),z?G[z-1].children.push(st):this._splitRoot(j,st)},o.prototype._splitRoot=function(G,z){this.data=U([G,z]),this.data.height=G.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(G,z,j){for(var X,Y,rt,st,it,bt,at,$=1/0,dt=1/0,mt=z;mt<=j-z;mt++){var wt=g(G,0,mt,this.toBBox),pt=g(G,mt,j,this.toBBox),Ct=(Y=wt,rt=pt,st=void 0,it=void 0,bt=void 0,at=void 0,st=Math.max(Y.minX,rt.minX),it=Math.max(Y.minY,rt.minY),bt=Math.min(Y.maxX,rt.maxX),at=Math.min(Y.maxY,rt.maxY),Math.max(0,bt-st)*Math.max(0,at-it)),vt=R(wt)+R(pt);Ct<$?($=Ct,X=mt,dt=vt<dt?vt:dt):Ct===$&&vt<dt&&(dt=vt,X=mt)}return X||j-z},o.prototype._chooseSplitAxis=function(G,z,j){var X=G.leaf?this.compareMinX:x,Y=G.leaf?this.compareMinY:k;this._allDistMargin(G,z,j,X)<this._allDistMargin(G,z,j,Y)&&G.children.sort(X)},o.prototype._allDistMargin=function(G,z,j,X){G.children.sort(X);for(var Y=this.toBBox,rt=g(G,0,z,Y),st=g(G,j-z,j,Y),it=A(rt)+A(st),bt=z;bt<j-z;bt++){var at=G.children[bt];v(rt,G.leaf?Y(at):at),it+=A(rt)}for(var $=j-z-1;$>=z;$--){var dt=G.children[$];v(st,G.leaf?Y(dt):dt),it+=A(st)}return it},o.prototype._adjustParentBBoxes=function(G,z,j){for(var X=j;X>=0;X--)v(z[X],G)},o.prototype._condense=function(G){for(var z=G.length-1,j=void 0;z>=0;z--)G[z].children.length===0?z>0?(j=G[z-1].children).splice(j.indexOf(G[z]),1):this.clear():a(G[z],this.toBBox)},o})})(kL)),kL.exports}class hpt{constructor(e=[],r=dpt){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:n}=this,i=r[e];for(;e>0;){const o=e-1>>1,u=r[o];if(n(i,u)>=0)break;r[e]=u,e=o}r[e]=i}_down(e){const{data:r,compare:n}=this,i=this.length>>1,o=r[e];for(;e<i;){let u=(e<<1)+1,a=r[u];const g=u+1;if(g<this.length&&n(r[g],a)<0&&(u=g,a=r[g]),n(a,o)>=0)break;r[e]=a,e=u}r[e]=o}}function dpt(t,e){return t<e?-1:t>e?1:0}const fpt=Object.freeze(Object.defineProperty({__proto__:null,default:hpt},Symbol.toStringTag,{value:"Module"})),ppt=eU(fpt);var F1={exports:{}},Oz,Dz;function mpt(){return Dz||(Dz=1,Oz=function(t,e,r,n){var i=t[0],o=t[1],u=!1;r===void 0&&(r=0),n===void 0&&(n=e.length);for(var a=(n-r)/2,g=0,v=a-1;g<a;v=g++){var x=e[r+g*2+0],k=e[r+g*2+1],R=e[r+v*2+0],A=e[r+v*2+1],O=k>o!=A>o&&i<(R-x)*(o-k)/(A-k)+x;O&&(u=!u)}return u}),Oz}var Bz,zz;function gpt(){return zz||(zz=1,Bz=function(t,e,r,n){var i=t[0],o=t[1],u=!1;r===void 0&&(r=0),n===void 0&&(n=e.length);for(var a=n-r,g=0,v=a-1;g<a;v=g++){var x=e[g+r][0],k=e[g+r][1],R=e[v+r][0],A=e[v+r][1],O=k>o!=A>o&&i<(R-x)*(o-k)/(A-k)+x;O&&(u=!u)}return u}),Bz}var Fz;function ypt(){if(Fz)return F1.exports;Fz=1;var t=mpt(),e=gpt();return F1.exports=function(r,n,i,o){return n.length>0&&Array.isArray(n[0])?e(r,n,i,o):t(r,n,i,o)},F1.exports.nested=e,F1.exports.flat=t,F1.exports}var yE={exports:{}},vpt=yE.exports,jz;function bpt(){return jz||(jz=1,(function(t,e){(function(r,n){n(e)})(vpt,function(r){const n=33306690738754706e-32;function i(O,D,U,H,G){let z,j,X,Y,rt=D[0],st=H[0],it=0,bt=0;st>rt==st>-rt?(z=rt,rt=D[++it]):(z=st,st=H[++bt]);let at=0;if(it<O&&bt<U)for(st>rt==st>-rt?(X=z-((j=rt+z)-rt),rt=D[++it]):(X=z-((j=st+z)-st),st=H[++bt]),z=j,X!==0&&(G[at++]=X);it<O&&bt<U;)st>rt==st>-rt?(X=z-((j=z+rt)-(Y=j-z))+(rt-Y),rt=D[++it]):(X=z-((j=z+st)-(Y=j-z))+(st-Y),st=H[++bt]),z=j,X!==0&&(G[at++]=X);for(;it<O;)X=z-((j=z+rt)-(Y=j-z))+(rt-Y),rt=D[++it],z=j,X!==0&&(G[at++]=X);for(;bt<U;)X=z-((j=z+st)-(Y=j-z))+(st-Y),st=H[++bt],z=j,X!==0&&(G[at++]=X);return z===0&&at!==0||(G[at++]=z),at}function o(O){return new Float64Array(O)}const u=33306690738754716e-32,a=22204460492503146e-32,g=11093356479670487e-47,v=o(4),x=o(8),k=o(12),R=o(16),A=o(4);r.orient2d=function(O,D,U,H,G,z){const j=(D-z)*(U-G),X=(O-G)*(H-z),Y=j-X;if(j===0||X===0||j>0!=X>0)return Y;const rt=Math.abs(j+X);return Math.abs(Y)>=u*rt?Y:-(function(st,it,bt,at,$,dt,mt){let wt,pt,Ct,vt,It,Ft,Et,lt,kt,At,Nt,qt,ie,Ht,ce,de,Se,$t;const He=st-$,ke=bt-$,Jt=it-dt,Vr=at-dt;It=(ce=(lt=He-(Et=(Ft=134217729*He)-(Ft-He)))*(At=Vr-(kt=(Ft=134217729*Vr)-(Ft-Vr)))-((Ht=He*Vr)-Et*kt-lt*kt-Et*At))-(Nt=ce-(Se=(lt=Jt-(Et=(Ft=134217729*Jt)-(Ft-Jt)))*(At=ke-(kt=(Ft=134217729*ke)-(Ft-ke)))-((de=Jt*ke)-Et*kt-lt*kt-Et*At))),v[0]=ce-(Nt+It)+(It-Se),It=(ie=Ht-((qt=Ht+Nt)-(It=qt-Ht))+(Nt-It))-(Nt=ie-de),v[1]=ie-(Nt+It)+(It-de),It=($t=qt+Nt)-qt,v[2]=qt-($t-It)+(Nt-It),v[3]=$t;let vr=(function(Rr,Pr){let Ir=Pr[0];for(let dr=1;dr<Rr;dr++)Ir+=Pr[dr];return Ir})(4,v),Dr=a*mt;if(vr>=Dr||-vr>=Dr||(wt=st-(He+(It=st-He))+(It-$),Ct=bt-(ke+(It=bt-ke))+(It-$),pt=it-(Jt+(It=it-Jt))+(It-dt),vt=at-(Vr+(It=at-Vr))+(It-dt),wt===0&&pt===0&&Ct===0&&vt===0)||(Dr=g*mt+n*Math.abs(vr),(vr+=He*vt+Vr*wt-(Jt*Ct+ke*pt))>=Dr||-vr>=Dr))return vr;It=(ce=(lt=wt-(Et=(Ft=134217729*wt)-(Ft-wt)))*(At=Vr-(kt=(Ft=134217729*Vr)-(Ft-Vr)))-((Ht=wt*Vr)-Et*kt-lt*kt-Et*At))-(Nt=ce-(Se=(lt=pt-(Et=(Ft=134217729*pt)-(Ft-pt)))*(At=ke-(kt=(Ft=134217729*ke)-(Ft-ke)))-((de=pt*ke)-Et*kt-lt*kt-Et*At))),A[0]=ce-(Nt+It)+(It-Se),It=(ie=Ht-((qt=Ht+Nt)-(It=qt-Ht))+(Nt-It))-(Nt=ie-de),A[1]=ie-(Nt+It)+(It-de),It=($t=qt+Nt)-qt,A[2]=qt-($t-It)+(Nt-It),A[3]=$t;const Ie=i(4,v,4,A,x);It=(ce=(lt=He-(Et=(Ft=134217729*He)-(Ft-He)))*(At=vt-(kt=(Ft=134217729*vt)-(Ft-vt)))-((Ht=He*vt)-Et*kt-lt*kt-Et*At))-(Nt=ce-(Se=(lt=Jt-(Et=(Ft=134217729*Jt)-(Ft-Jt)))*(At=Ct-(kt=(Ft=134217729*Ct)-(Ft-Ct)))-((de=Jt*Ct)-Et*kt-lt*kt-Et*At))),A[0]=ce-(Nt+It)+(It-Se),It=(ie=Ht-((qt=Ht+Nt)-(It=qt-Ht))+(Nt-It))-(Nt=ie-de),A[1]=ie-(Nt+It)+(It-de),It=($t=qt+Nt)-qt,A[2]=qt-($t-It)+(Nt-It),A[3]=$t;const Mr=i(Ie,x,4,A,k);It=(ce=(lt=wt-(Et=(Ft=134217729*wt)-(Ft-wt)))*(At=vt-(kt=(Ft=134217729*vt)-(Ft-vt)))-((Ht=wt*vt)-Et*kt-lt*kt-Et*At))-(Nt=ce-(Se=(lt=pt-(Et=(Ft=134217729*pt)-(Ft-pt)))*(At=Ct-(kt=(Ft=134217729*Ct)-(Ft-Ct)))-((de=pt*Ct)-Et*kt-lt*kt-Et*At))),A[0]=ce-(Nt+It)+(It-Se),It=(ie=Ht-((qt=Ht+Nt)-(It=qt-Ht))+(Nt-It))-(Nt=ie-de),A[1]=ie-(Nt+It)+(It-de),It=($t=qt+Nt)-qt,A[2]=qt-($t-It)+(Nt-It),A[3]=$t;const ir=i(Mr,k,4,A,R);return R[ir-1]})(O,D,U,H,G,z,rt)},r.orient2dfast=function(O,D,U,H,G,z){return(D-z)*(U-G)-(O-G)*(H-z)},Object.defineProperty(r,"__esModule",{value:!0})})})(yE,yE.exports)),yE.exports}var Vz;function _pt(){if(Vz)return R5.exports;Vz=1;var t=cpt(),e=ppt,r=ypt(),n=bpt().orient2d;e.default&&(e=e.default),R5.exports=i,R5.exports.default=i;function i(j,X,Y){X=Math.max(0,X===void 0?2:X),Y=Y||0;var rt=A(j),st=new t(16);st.toBBox=function(lt){return{minX:lt[0],minY:lt[1],maxX:lt[0],maxY:lt[1]}},st.compareMinX=function(lt,kt){return lt[0]-kt[0]},st.compareMinY=function(lt,kt){return lt[1]-kt[1]},st.load(j);for(var it=[],bt=0,at;bt<rt.length;bt++){var $=rt[bt];st.remove($),at=O($,at),it.push(at)}var dt=new t(16);for(bt=0;bt<it.length;bt++)dt.insert(R(it[bt]));for(var mt=X*X,wt=Y*Y;it.length;){var pt=it.shift(),Ct=pt.p,vt=pt.next.p,It=D(Ct,vt);if(!(It<wt)){var Ft=It/mt;$=o(st,pt.prev.p,Ct,vt,pt.next.next.p,Ft,dt),$&&Math.min(D($,Ct),D($,vt))<=Ft&&(it.push(pt),it.push(O($,pt)),st.remove($),dt.remove(pt),dt.insert(R(pt)),dt.insert(R(pt.next)))}}pt=at;var Et=[];do Et.push(pt.p),pt=pt.next;while(pt!==at);return Et.push(pt.p),Et}function o(j,X,Y,rt,st,it,bt){for(var at=new e([],u),$=j.data;$;){for(var dt=0;dt<$.children.length;dt++){var mt=$.children[dt],wt=$.leaf?U(mt,Y,rt):a(Y,rt,mt);wt>it||at.push({node:mt,dist:wt})}for(;at.length&&!at.peek().node.children;){var pt=at.pop(),Ct=pt.node,vt=U(Ct,X,Y),It=U(Ct,rt,st);if(pt.dist<vt&&pt.dist<It&&v(Y,Ct,bt)&&v(rt,Ct,bt))return Ct}$=at.pop(),$&&($=$.node)}return null}function u(j,X){return j.dist-X.dist}function a(j,X,Y){if(g(j,Y)||g(X,Y))return 0;var rt=H(j[0],j[1],X[0],X[1],Y.minX,Y.minY,Y.maxX,Y.minY);if(rt===0)return 0;var st=H(j[0],j[1],X[0],X[1],Y.minX,Y.minY,Y.minX,Y.maxY);if(st===0)return 0;var it=H(j[0],j[1],X[0],X[1],Y.maxX,Y.minY,Y.maxX,Y.maxY);if(it===0)return 0;var bt=H(j[0],j[1],X[0],X[1],Y.minX,Y.maxY,Y.maxX,Y.maxY);return bt===0?0:Math.min(rt,st,it,bt)}function g(j,X){return j[0]>=X.minX&&j[0]<=X.maxX&&j[1]>=X.minY&&j[1]<=X.maxY}function v(j,X,Y){for(var rt=Math.min(j[0],X[0]),st=Math.min(j[1],X[1]),it=Math.max(j[0],X[0]),bt=Math.max(j[1],X[1]),at=Y.search({minX:rt,minY:st,maxX:it,maxY:bt}),$=0;$<at.length;$++)if(k(at[$].p,at[$].next.p,j,X))return!1;return!0}function x(j,X,Y){return n(j[0],j[1],X[0],X[1],Y[0],Y[1])}function k(j,X,Y,rt){return j!==rt&&X!==Y&&x(j,X,Y)>0!=x(j,X,rt)>0&&x(Y,rt,j)>0!=x(Y,rt,X)>0}function R(j){var X=j.p,Y=j.next.p;return j.minX=Math.min(X[0],Y[0]),j.minY=Math.min(X[1],Y[1]),j.maxX=Math.max(X[0],Y[0]),j.maxY=Math.max(X[1],Y[1]),j}function A(j){for(var X=j[0],Y=j[0],rt=j[0],st=j[0],it=0;it<j.length;it++){var bt=j[it];bt[0]<X[0]&&(X=bt),bt[0]>rt[0]&&(rt=bt),bt[1]<Y[1]&&(Y=bt),bt[1]>st[1]&&(st=bt)}var at=[X,Y,rt,st],$=at.slice();for(it=0;it<j.length;it++)r(j[it],at)||$.push(j[it]);return z($)}function O(j,X){var Y={p:j,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return X?(Y.next=X.next,Y.prev=X,X.next.prev=Y,X.next=Y):(Y.prev=Y,Y.next=Y),Y}function D(j,X){var Y=j[0]-X[0],rt=j[1]-X[1];return Y*Y+rt*rt}function U(j,X,Y){var rt=X[0],st=X[1],it=Y[0]-rt,bt=Y[1]-st;if(it!==0||bt!==0){var at=((j[0]-rt)*it+(j[1]-st)*bt)/(it*it+bt*bt);at>1?(rt=Y[0],st=Y[1]):at>0&&(rt+=it*at,st+=bt*at)}return it=j[0]-rt,bt=j[1]-st,it*it+bt*bt}function H(j,X,Y,rt,st,it,bt,at){var $=Y-j,dt=rt-X,mt=bt-st,wt=at-it,pt=j-st,Ct=X-it,vt=$*$+dt*dt,It=$*mt+dt*wt,Ft=mt*mt+wt*wt,Et=$*pt+dt*Ct,lt=mt*pt+wt*Ct,kt=vt*Ft-It*It,At,Nt,qt,ie,Ht=kt,ce=kt;kt===0?(Nt=0,Ht=1,ie=lt,ce=Ft):(Nt=It*lt-Ft*Et,ie=vt*lt-It*Et,Nt<0?(Nt=0,ie=lt,ce=Ft):Nt>Ht&&(Nt=Ht,ie=lt+It,ce=Ft)),ie<0?(ie=0,-Et<0?Nt=0:-Et>vt?Nt=Ht:(Nt=-Et,Ht=vt)):ie>ce&&(ie=ce,-Et+It<0?Nt=0:-Et+It>vt?Nt=Ht:(Nt=-Et+It,Ht=vt)),At=Nt===0?0:Nt/Ht,qt=ie===0?0:ie/ce;var de=(1-At)*j+At*Y,Se=(1-At)*X+At*rt,$t=(1-qt)*st+qt*bt,He=(1-qt)*it+qt*at,ke=$t-de,Jt=He-Se;return ke*ke+Jt*Jt}function G(j,X){return j[0]===X[0]?j[1]-X[1]:j[0]-X[0]}function z(j){j.sort(G);for(var X=[],Y=0;Y<j.length;Y++){for(;X.length>=2&&x(X[X.length-2],X[X.length-1],j[Y])<=0;)X.pop();X.push(j[Y])}for(var rt=[],st=j.length-1;st>=0;st--){for(;rt.length>=2&&x(rt[rt.length-2],rt[rt.length-1],j[st])<=0;)rt.pop();rt.push(j[st])}return rt.pop(),X.pop(),X.concat(rt)}return R5.exports}_pt();var IL={exports:{}},xpt=IL.exports,$z;function wpt(){return $z||($z=1,(function(t,e){(function(r,n){t.exports=n()})(xpt,(function(){var r=function(Q,gt){var ee={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},Re={on:function(Fe,nr,rn){if(ee[Fe]===void 0)throw new Error("Invalid event type: "+Fe);ee[Fe].push({selector:nr,fn:rn})},render:function(Fe){gt.store.featureChanged(Fe)}},qe=function(Fe,nr){for(var rn=ee[Fe],pn=rn.length;pn--;){var un=rn[pn];if(un.selector(nr)){un.fn.call(Re,nr)||gt.store.render(),gt.ui.updateMapClasses();break}}};return Q.start.call(Re),{render:Q.render,stop:function(){Q.stop&&Q.stop()},trash:function(){Q.trash&&(Q.trash(),gt.store.render())},combineFeatures:function(){Q.combineFeatures&&Q.combineFeatures()},uncombineFeatures:function(){Q.uncombineFeatures&&Q.uncombineFeatures()},drag:function(Fe){qe("drag",Fe)},click:function(Fe){qe("click",Fe)},mousemove:function(Fe){qe("mousemove",Fe)},mousedown:function(Fe){qe("mousedown",Fe)},mouseup:function(Fe){qe("mouseup",Fe)},mouseout:function(Fe){qe("mouseout",Fe)},keydown:function(Fe){qe("keydown",Fe)},keyup:function(Fe){qe("keyup",Fe)},touchstart:function(Fe){qe("touchstart",Fe)},touchmove:function(Fe){qe("touchmove",Fe)},touchend:function(Fe){qe("touchend",Fe)},tap:function(Fe){qe("tap",Fe)}}};function n(Q){return Q&&Q.__esModule&&Object.prototype.hasOwnProperty.call(Q,"default")?Q.default:Q}function i(Q){if(Q.__esModule)return Q;var gt=Q.default;if(typeof gt=="function"){var ee=function Re(){if(this instanceof Re){var qe=[null];qe.push.apply(qe,arguments);var Fe=Function.bind.apply(gt,qe);return new Fe}return gt.apply(this,arguments)};ee.prototype=gt.prototype}else ee={};return Object.defineProperty(ee,"__esModule",{value:!0}),Object.keys(Q).forEach((function(Re){var qe=Object.getOwnPropertyDescriptor(Q,Re);Object.defineProperty(ee,Re,qe.get?qe:{enumerable:!0,get:function(){return Q[Re]}})})),ee}var o={},u={RADIUS:6378137},a=u;function g(Q){var gt=0;if(Q&&Q.length>0){gt+=Math.abs(v(Q[0]));for(var ee=1;ee<Q.length;ee++)gt-=Math.abs(v(Q[ee]))}return gt}function v(Q){var gt,ee,Re,qe,Fe,nr,rn=0,pn=Q.length;if(pn>2){for(nr=0;nr<pn;nr++)nr===pn-2?(Re=pn-2,qe=pn-1,Fe=0):nr===pn-1?(Re=pn-1,qe=0,Fe=1):(Re=nr,qe=nr+1,Fe=nr+2),gt=Q[Re],ee=Q[qe],rn+=(x(Q[Fe][0])-x(gt[0]))*Math.sin(x(ee[1]));rn=rn*a.RADIUS*a.RADIUS/2}return rn}function x(Q){return Q*Math.PI/180}o.geometry=function Q(gt){var ee,Re=0;switch(gt.type){case"Polygon":return g(gt.coordinates);case"MultiPolygon":for(ee=0;ee<gt.coordinates.length;ee++)Re+=g(gt.coordinates[ee]);return Re;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(ee=0;ee<gt.geometries.length;ee++)Re+=Q(gt.geometries[ee]);return Re}},o.ring=v;var k={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},R={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},A={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},O={POLYGON:"polygon",LINE:"line_string",POINT:"point"},D={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},U={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},H={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},G={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},z={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},j={ACTIVE:"true",INACTIVE:"false"},X=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],Y=-85,rt=Object.freeze({__proto__:null,classes:k,sources:R,cursors:A,types:O,geojsonTypes:D,modes:U,events:H,updateActions:G,meta:z,activeStates:j,interactions:X,LAT_MIN:-90,LAT_RENDERED_MIN:Y,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),st={Point:0,LineString:1,MultiLineString:1,Polygon:2};function it(Q,gt){var ee=st[Q.geometry.type]-st[gt.geometry.type];return ee===0&&Q.geometry.type===D.POLYGON?Q.area-gt.area:ee}function bt(Q){return Q.map((function(gt){return gt.geometry.type===D.POLYGON&&(gt.area=o.geometry({type:D.FEATURE,property:{},geometry:gt.geometry})),gt})).sort(it).map((function(gt){return delete gt.area,gt}))}function at(Q,gt){return gt===void 0&&(gt=0),[[Q.point.x-gt,Q.point.y-gt],[Q.point.x+gt,Q.point.y+gt]]}function $(Q){if(this._items={},this._nums={},this._length=Q?Q.length:0,Q)for(var gt=0,ee=Q.length;gt<ee;gt++)this.add(Q[gt]),Q[gt]!==void 0&&(typeof Q[gt]=="string"?this._items[Q[gt]]=gt:this._nums[Q[gt]]=gt)}$.prototype.add=function(Q){return this.has(Q)||(this._length++,typeof Q=="string"?this._items[Q]=this._length:this._nums[Q]=this._length),this},$.prototype.delete=function(Q){return this.has(Q)===!1||(this._length--,delete this._items[Q],delete this._nums[Q]),this},$.prototype.has=function(Q){return(typeof Q=="string"||typeof Q=="number")&&(this._items[Q]!==void 0||this._nums[Q]!==void 0)},$.prototype.values=function(){var Q=this,gt=[];return Object.keys(this._items).forEach((function(ee){gt.push({k:ee,v:Q._items[ee]})})),Object.keys(this._nums).forEach((function(ee){gt.push({k:JSON.parse(ee),v:Q._nums[ee]})})),gt.sort((function(ee,Re){return ee.v-Re.v})).map((function(ee){return ee.k}))},$.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var dt=[z.FEATURE,z.MIDPOINT,z.VERTEX],mt={click:function(Q,gt,ee){return wt(Q,gt,ee,ee.options.clickBuffer)},touch:function(Q,gt,ee){return wt(Q,gt,ee,ee.options.touchBuffer)}};function wt(Q,gt,ee,Re){if(ee.map===null)return[];var qe=Q?at(Q,Re):gt,Fe={};ee.options.styles&&(Fe.layers=ee.options.styles.map((function(un){return un.id})).filter((function(un){return ee.map.getLayer(un)!=null})));var nr=ee.map.queryRenderedFeatures(qe,Fe).filter((function(un){return dt.indexOf(un.properties.meta)!==-1})),rn=new $,pn=[];return nr.forEach((function(un){var Sn=un.properties.id;rn.has(Sn)||(rn.add(Sn),pn.push(un))})),bt(pn)}function pt(Q,gt){var ee=mt.click(Q,null,gt),Re={mouse:A.NONE};return ee[0]&&(Re.mouse=ee[0].properties.active===j.ACTIVE?A.MOVE:A.POINTER,Re.feature=ee[0].properties.meta),gt.events.currentModeName().indexOf("draw")!==-1&&(Re.mouse=A.ADD),gt.ui.queueMapClasses(Re),gt.ui.updateMapClasses(),ee[0]}function Ct(Q,gt){var ee=Q.x-gt.x,Re=Q.y-gt.y;return Math.sqrt(ee*ee+Re*Re)}function vt(Q,gt,ee){ee===void 0&&(ee={});var Re=ee.fineTolerance!=null?ee.fineTolerance:4,qe=ee.grossTolerance!=null?ee.grossTolerance:12,Fe=ee.interval!=null?ee.interval:500;Q.point=Q.point||gt.point,Q.time=Q.time||gt.time;var nr=Ct(Q.point,gt.point);return nr<Re||nr<qe&&gt.time-Q.time<Fe}function It(Q,gt,ee){ee===void 0&&(ee={});var Re=ee.tolerance!=null?ee.tolerance:25,qe=ee.interval!=null?ee.interval:250;return Q.point=Q.point||gt.point,Q.time=Q.time||gt.time,Ct(Q.point,gt.point)<Re&&gt.time-Q.time<qe}var Ft={exports:{}},Et=Ft.exports=function(Q,gt){if(gt||(gt=16),Q===void 0&&(Q=128),Q<=0)return"0";for(var ee=Math.log(Math.pow(2,Q))/Math.log(gt),Re=2;ee===1/0;Re*=2)ee=Math.log(Math.pow(2,Q/Re))/Math.log(gt)*Re;var qe=ee-Math.floor(ee),Fe="";for(Re=0;Re<Math.floor(ee);Re++)Fe=Math.floor(Math.random()*gt).toString(gt)+Fe;if(qe){var nr=Math.pow(gt,qe);Fe=Math.floor(Math.random()*nr).toString(gt)+Fe}var rn=parseInt(Fe,gt);return rn!==1/0&&rn>=Math.pow(2,Q)?Et(Q,gt):Fe};Et.rack=function(Q,gt,ee){var Re=function(Fe){var nr=0;do{if(nr++>10){if(!ee)throw new Error("too many ID collisions, use more bits");Q+=ee}var rn=Et(Q,gt)}while(Object.hasOwnProperty.call(qe,rn));return qe[rn]=Fe,rn},qe=Re.hats={};return Re.get=function(Fe){return Re.hats[Fe]},Re.set=function(Fe,nr){return Re.hats[Fe]=nr,Re},Re.bits=Q||128,Re.base=gt||16,Re};var lt=n(Ft.exports),kt=function(Q,gt){this.ctx=Q,this.properties=gt.properties||{},this.coordinates=gt.geometry.coordinates,this.id=gt.id||lt(),this.type=gt.geometry.type};kt.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},kt.prototype.incomingCoords=function(Q){this.setCoordinates(Q)},kt.prototype.setCoordinates=function(Q){this.coordinates=Q,this.changed()},kt.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},kt.prototype.setProperty=function(Q,gt){this.properties[Q]=gt},kt.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:D.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},kt.prototype.internal=function(Q){var gt={id:this.id,meta:z.FEATURE,"meta:type":this.type,active:j.INACTIVE,mode:Q};if(this.ctx.options.userProperties)for(var ee in this.properties)gt["user_"+ee]=this.properties[ee];return{type:D.FEATURE,properties:gt,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var At=function(Q,gt){kt.call(this,Q,gt)};(At.prototype=Object.create(kt.prototype)).isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},At.prototype.updateCoordinate=function(Q,gt,ee){this.coordinates=arguments.length===3?[gt,ee]:[Q,gt],this.changed()},At.prototype.getCoordinate=function(){return this.getCoordinates()};var Nt=function(Q,gt){kt.call(this,Q,gt)};(Nt.prototype=Object.create(kt.prototype)).isValid=function(){return this.coordinates.length>1},Nt.prototype.addCoordinate=function(Q,gt,ee){this.changed();var Re=parseInt(Q,10);this.coordinates.splice(Re,0,[gt,ee])},Nt.prototype.getCoordinate=function(Q){var gt=parseInt(Q,10);return JSON.parse(JSON.stringify(this.coordinates[gt]))},Nt.prototype.removeCoordinate=function(Q){this.changed(),this.coordinates.splice(parseInt(Q,10),1)},Nt.prototype.updateCoordinate=function(Q,gt,ee){var Re=parseInt(Q,10);this.coordinates[Re]=[gt,ee],this.changed()};var qt=function(Q,gt){kt.call(this,Q,gt),this.coordinates=this.coordinates.map((function(ee){return ee.slice(0,-1)}))};(qt.prototype=Object.create(kt.prototype)).isValid=function(){return this.coordinates.length!==0&&this.coordinates.every((function(Q){return Q.length>2}))},qt.prototype.incomingCoords=function(Q){this.coordinates=Q.map((function(gt){return gt.slice(0,-1)})),this.changed()},qt.prototype.setCoordinates=function(Q){this.coordinates=Q,this.changed()},qt.prototype.addCoordinate=function(Q,gt,ee){this.changed();var Re=Q.split(".").map((function(qe){return parseInt(qe,10)}));this.coordinates[Re[0]].splice(Re[1],0,[gt,ee])},qt.prototype.removeCoordinate=function(Q){this.changed();var gt=Q.split(".").map((function(Re){return parseInt(Re,10)})),ee=this.coordinates[gt[0]];ee&&(ee.splice(gt[1],1),ee.length<3&&this.coordinates.splice(gt[0],1))},qt.prototype.getCoordinate=function(Q){var gt=Q.split(".").map((function(Re){return parseInt(Re,10)})),ee=this.coordinates[gt[0]];return JSON.parse(JSON.stringify(ee[gt[1]]))},qt.prototype.getCoordinates=function(){return this.coordinates.map((function(Q){return Q.concat([Q[0]])}))},qt.prototype.updateCoordinate=function(Q,gt,ee){this.changed();var Re=Q.split("."),qe=parseInt(Re[0],10),Fe=parseInt(Re[1],10);this.coordinates[qe]===void 0&&(this.coordinates[qe]=[]),this.coordinates[qe][Fe]=[gt,ee]};var ie={MultiPoint:At,MultiLineString:Nt,MultiPolygon:qt},Ht=function(Q,gt,ee,Re,qe){var Fe=ee.split("."),nr=parseInt(Fe[0],10),rn=Fe[1]?Fe.slice(1).join("."):null;return Q[nr][gt](rn,Re,qe)},ce=function(Q,gt){if(kt.call(this,Q,gt),delete this.coordinates,this.model=ie[gt.geometry.type],this.model===void 0)throw new TypeError(gt.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(gt.geometry.coordinates)};function de(Q){this.map=Q.map,this.drawConfig=JSON.parse(JSON.stringify(Q.options||{})),this._ctx=Q}(ce.prototype=Object.create(kt.prototype))._coordinatesToFeatures=function(Q){var gt=this,ee=this.model.bind(this);return Q.map((function(Re){return new ee(gt.ctx,{id:lt(),type:D.FEATURE,properties:{},geometry:{coordinates:Re,type:gt.type.replace("Multi","")}})}))},ce.prototype.isValid=function(){return this.features.every((function(Q){return Q.isValid()}))},ce.prototype.setCoordinates=function(Q){this.features=this._coordinatesToFeatures(Q),this.changed()},ce.prototype.getCoordinate=function(Q){return Ht(this.features,"getCoordinate",Q)},ce.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(Q){return Q.type===D.POLYGON?Q.getCoordinates():Q.coordinates}))))},ce.prototype.updateCoordinate=function(Q,gt,ee){Ht(this.features,"updateCoordinate",Q,gt,ee),this.changed()},ce.prototype.addCoordinate=function(Q,gt,ee){Ht(this.features,"addCoordinate",Q,gt,ee),this.changed()},ce.prototype.removeCoordinate=function(Q){Ht(this.features,"removeCoordinate",Q),this.changed()},ce.prototype.getFeatures=function(){return this.features},de.prototype.setSelected=function(Q){return this._ctx.store.setSelected(Q)},de.prototype.setSelectedCoordinates=function(Q){var gt=this;this._ctx.store.setSelectedCoordinates(Q),Q.reduce((function(ee,Re){return ee[Re.feature_id]===void 0&&(ee[Re.feature_id]=!0,gt._ctx.store.get(Re.feature_id).changed()),ee}),{})},de.prototype.getSelected=function(){return this._ctx.store.getSelected()},de.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},de.prototype.isSelected=function(Q){return this._ctx.store.isSelected(Q)},de.prototype.getFeature=function(Q){return this._ctx.store.get(Q)},de.prototype.select=function(Q){return this._ctx.store.select(Q)},de.prototype.deselect=function(Q){return this._ctx.store.deselect(Q)},de.prototype.deleteFeature=function(Q,gt){return gt===void 0&&(gt={}),this._ctx.store.delete(Q,gt)},de.prototype.addFeature=function(Q){return this._ctx.store.add(Q)},de.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},de.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},de.prototype.setActionableState=function(Q){Q===void 0&&(Q={});var gt={trash:Q.trash||!1,combineFeatures:Q.combineFeatures||!1,uncombineFeatures:Q.uncombineFeatures||!1};return this._ctx.events.actionable(gt)},de.prototype.changeMode=function(Q,gt,ee){return gt===void 0&&(gt={}),ee===void 0&&(ee={}),this._ctx.events.changeMode(Q,gt,ee)},de.prototype.updateUIClasses=function(Q){return this._ctx.ui.queueMapClasses(Q)},de.prototype.activateUIButton=function(Q){return this._ctx.ui.setActiveButton(Q)},de.prototype.featuresAt=function(Q,gt,ee){if(ee===void 0&&(ee="click"),ee!=="click"&&ee!=="touch")throw new Error("invalid buffer type");return mt[ee](Q,gt,this._ctx)},de.prototype.newFeature=function(Q){var gt=Q.geometry.type;return gt===D.POINT?new At(this._ctx,Q):gt===D.LINE_STRING?new Nt(this._ctx,Q):gt===D.POLYGON?new qt(this._ctx,Q):new ce(this._ctx,Q)},de.prototype.isInstanceOf=function(Q,gt){if(Q===D.POINT)return gt instanceof At;if(Q===D.LINE_STRING)return gt instanceof Nt;if(Q===D.POLYGON)return gt instanceof qt;if(Q==="MultiFeature")return gt instanceof ce;throw new Error("Unknown feature class: "+Q)},de.prototype.doRender=function(Q){return this._ctx.store.featureChanged(Q)},de.prototype.onSetup=function(){},de.prototype.onDrag=function(){},de.prototype.onClick=function(){},de.prototype.onMouseMove=function(){},de.prototype.onMouseDown=function(){},de.prototype.onMouseUp=function(){},de.prototype.onMouseOut=function(){},de.prototype.onKeyUp=function(){},de.prototype.onKeyDown=function(){},de.prototype.onTouchStart=function(){},de.prototype.onTouchMove=function(){},de.prototype.onTouchEnd=function(){},de.prototype.onTap=function(){},de.prototype.onStop=function(){},de.prototype.onTrash=function(){},de.prototype.onCombineFeature=function(){},de.prototype.onUncombineFeature=function(){},de.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var Se={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},$t=Object.keys(Se);function He(Q){var gt=Object.keys(Q);return function(ee,Re){Re===void 0&&(Re={});var qe={},Fe=gt.reduce((function(nr,rn){return nr[rn]=Q[rn],nr}),new de(ee));return{start:function(){var nr=this;qe=Fe.onSetup(Re),$t.forEach((function(rn){var pn,un=Se[rn],Sn=function(){return!1};Q[un]&&(Sn=function(){return!0}),nr.on(rn,Sn,(pn=un,function(dn){return Fe[pn](qe,dn)}))}))},stop:function(){Fe.onStop(qe)},trash:function(){Fe.onTrash(qe)},combineFeatures:function(){Fe.onCombineFeatures(qe)},uncombineFeatures:function(){Fe.onUncombineFeatures(qe)},render:function(nr,rn){Fe.toDisplayFeatures(qe,nr,rn)}}}}function ke(Q){return[].concat(Q).filter((function(gt){return gt!==void 0}))}function Jt(){var Q=this;if(!(Q.ctx.map&&Q.ctx.map.getSource(R.HOT)!==void 0))return pn();var gt=Q.ctx.events.currentModeName();Q.ctx.ui.queueMapClasses({mode:gt});var ee=[],Re=[];Q.isDirty?Re=Q.getAllIds():(ee=Q.getChangedIds().filter((function(un){return Q.get(un)!==void 0})),Re=Q.sources.hot.filter((function(un){return un.properties.id&&ee.indexOf(un.properties.id)===-1&&Q.get(un.properties.id)!==void 0})).map((function(un){return un.properties.id}))),Q.sources.hot=[];var qe=Q.sources.cold.length;Q.sources.cold=Q.isDirty?[]:Q.sources.cold.filter((function(un){var Sn=un.properties.id||un.properties.parent;return ee.indexOf(Sn)===-1}));var Fe=qe!==Q.sources.cold.length||Re.length>0;function nr(un,Sn){var dn=Q.get(un).internal(gt);Q.ctx.events.currentModeRender(dn,(function(Wn){Q.sources[Sn].push(Wn)}))}if(ee.forEach((function(un){return nr(un,"hot")})),Re.forEach((function(un){return nr(un,"cold")})),Fe&&Q.ctx.map.getSource(R.COLD).setData({type:D.FEATURE_COLLECTION,features:Q.sources.cold}),Q.ctx.map.getSource(R.HOT).setData({type:D.FEATURE_COLLECTION,features:Q.sources.hot}),Q._emitSelectionChange&&(Q.ctx.map.fire(H.SELECTION_CHANGE,{features:Q.getSelected().map((function(un){return un.toGeoJSON()})),points:Q.getSelectedCoordinates().map((function(un){return{type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:un.coordinates}}}))}),Q._emitSelectionChange=!1),Q._deletedFeaturesToEmit.length){var rn=Q._deletedFeaturesToEmit.map((function(un){return un.toGeoJSON()}));Q._deletedFeaturesToEmit=[],Q.ctx.map.fire(H.DELETE,{features:rn})}function pn(){Q.isDirty=!1,Q.clearChangedIds()}pn(),Q.ctx.map.fire(H.RENDER,{})}function Vr(Q){var gt,ee=this;this._features={},this._featureIds=new $,this._selectedFeatureIds=new $,this._selectedCoordinates=[],this._changedFeatureIds=new $,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=Q,this.sources={hot:[],cold:[]},this.render=function(){gt||(gt=requestAnimationFrame((function(){gt=null,Jt.call(ee)})))},this.isDirty=!1}function vr(Q,gt){var ee=Q._selectedCoordinates.filter((function(Re){return Q._selectedFeatureIds.has(Re.feature_id)}));Q._selectedCoordinates.length===ee.length||gt.silent||(Q._emitSelectionChange=!0),Q._selectedCoordinates=ee}Vr.prototype.createRenderBatch=function(){var Q=this,gt=this.render,ee=0;return this.render=function(){ee++},function(){Q.render=gt,ee>0&&Q.render()}},Vr.prototype.setDirty=function(){return this.isDirty=!0,this},Vr.prototype.featureChanged=function(Q){return this._changedFeatureIds.add(Q),this},Vr.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},Vr.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},Vr.prototype.getAllIds=function(){return this._featureIds.values()},Vr.prototype.add=function(Q){return this.featureChanged(Q.id),this._features[Q.id]=Q,this._featureIds.add(Q.id),this},Vr.prototype.delete=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),ke(Q).forEach((function(Re){ee._featureIds.has(Re)&&(ee._featureIds.delete(Re),ee._selectedFeatureIds.delete(Re),gt.silent||ee._deletedFeaturesToEmit.indexOf(ee._features[Re])===-1&&ee._deletedFeaturesToEmit.push(ee._features[Re]),delete ee._features[Re],ee.isDirty=!0)})),vr(this,gt),this},Vr.prototype.get=function(Q){return this._features[Q]},Vr.prototype.getAll=function(){var Q=this;return Object.keys(this._features).map((function(gt){return Q._features[gt]}))},Vr.prototype.select=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),ke(Q).forEach((function(Re){ee._selectedFeatureIds.has(Re)||(ee._selectedFeatureIds.add(Re),ee._changedFeatureIds.add(Re),gt.silent||(ee._emitSelectionChange=!0))})),this},Vr.prototype.deselect=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),ke(Q).forEach((function(Re){ee._selectedFeatureIds.has(Re)&&(ee._selectedFeatureIds.delete(Re),ee._changedFeatureIds.add(Re),gt.silent||(ee._emitSelectionChange=!0))})),vr(this,gt),this},Vr.prototype.clearSelected=function(Q){return Q===void 0&&(Q={}),this.deselect(this._selectedFeatureIds.values(),{silent:Q.silent}),this},Vr.prototype.setSelected=function(Q,gt){var ee=this;return gt===void 0&&(gt={}),Q=ke(Q),this.deselect(this._selectedFeatureIds.values().filter((function(Re){return Q.indexOf(Re)===-1})),{silent:gt.silent}),this.select(Q.filter((function(Re){return!ee._selectedFeatureIds.has(Re)})),{silent:gt.silent}),this},Vr.prototype.setSelectedCoordinates=function(Q){return this._selectedCoordinates=Q,this._emitSelectionChange=!0,this},Vr.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},Vr.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},Vr.prototype.getSelected=function(){var Q=this;return this._selectedFeatureIds.values().map((function(gt){return Q.get(gt)}))},Vr.prototype.getSelectedCoordinates=function(){var Q=this;return this._selectedCoordinates.map((function(gt){return{coordinates:Q.get(gt.feature_id).getCoordinate(gt.coord_path)}}))},Vr.prototype.isSelected=function(Q){return this._selectedFeatureIds.has(Q)},Vr.prototype.setFeatureProperty=function(Q,gt,ee){this.get(Q).setProperty(gt,ee),this.featureChanged(Q)},Vr.prototype.storeMapConfig=function(){var Q=this;X.forEach((function(gt){Q.ctx.map[gt]&&(Q._mapInitialConfig[gt]=Q.ctx.map[gt].isEnabled())}))},Vr.prototype.restoreMapConfig=function(){var Q=this;Object.keys(this._mapInitialConfig).forEach((function(gt){Q._mapInitialConfig[gt]?Q.ctx.map[gt].enable():Q.ctx.map[gt].disable()}))},Vr.prototype.getInitialConfigValue=function(Q){return this._mapInitialConfig[Q]===void 0||this._mapInitialConfig[Q]};var Dr=function(){for(var Q=arguments,gt={},ee=0;ee<arguments.length;ee++){var Re=Q[ee];for(var qe in Re)Ie.call(Re,qe)&&(gt[qe]=Re[qe])}return gt},Ie=Object.prototype.hasOwnProperty,Mr=n(Dr),ir=["mode","feature","mouse"];function Rr(Q){var gt=null,ee=null,Re={onRemove:function(){return Q.map.off("load",Re.connect),clearInterval(ee),Re.removeLayers(),Q.store.restoreMapConfig(),Q.ui.removeButtons(),Q.events.removeEventListeners(),Q.ui.clearMapClasses(),Q.boxZoomInitial&&Q.map.boxZoom.enable(),Q.map=null,Q.container=null,Q.store=null,gt&&gt.parentNode&&gt.parentNode.removeChild(gt),gt=null,this},connect:function(){Q.map.off("load",Re.connect),clearInterval(ee),Re.addLayers(),Q.store.storeMapConfig(),Q.events.addEventListeners()},onAdd:function(qe){var Fe=qe.fire;return qe.fire=function(nr,rn){var pn=arguments;return Fe.length===1&&arguments.length!==1&&(pn=[Mr({},{type:nr},rn)]),Fe.apply(qe,pn)},Q.map=qe,Q.events=(function(nr){var rn=Object.keys(nr.options.modes).reduce((function(Zr,Ln){return Zr[Ln]=He(nr.options.modes[Ln]),Zr}),{}),pn={},un={},Sn={},dn=null,Wn=null;Sn.drag=function(Zr,Ln){Ln({point:Zr.point,time:new Date().getTime()})?(nr.ui.queueMapClasses({mouse:A.DRAG}),Wn.drag(Zr)):Zr.originalEvent.stopPropagation()},Sn.mousedrag=function(Zr){Sn.drag(Zr,(function(Ln){return!vt(pn,Ln)}))},Sn.touchdrag=function(Zr){Sn.drag(Zr,(function(Ln){return!It(un,Ln)}))},Sn.mousemove=function(Zr){if((Zr.originalEvent.buttons!==void 0?Zr.originalEvent.buttons:Zr.originalEvent.which)===1)return Sn.mousedrag(Zr);var Ln=pt(Zr,nr);Zr.featureTarget=Ln,Wn.mousemove(Zr)},Sn.mousedown=function(Zr){pn={time:new Date().getTime(),point:Zr.point};var Ln=pt(Zr,nr);Zr.featureTarget=Ln,Wn.mousedown(Zr)},Sn.mouseup=function(Zr){var Ln=pt(Zr,nr);Zr.featureTarget=Ln,vt(pn,{point:Zr.point,time:new Date().getTime()})?Wn.click(Zr):Wn.mouseup(Zr)},Sn.mouseout=function(Zr){Wn.mouseout(Zr)},Sn.touchstart=function(Zr){if(nr.options.touchEnabled){un={time:new Date().getTime(),point:Zr.point};var Ln=mt.touch(Zr,null,nr)[0];Zr.featureTarget=Ln,Wn.touchstart(Zr)}},Sn.touchmove=function(Zr){if(nr.options.touchEnabled)return Wn.touchmove(Zr),Sn.touchdrag(Zr)},Sn.touchend=function(Zr){if(Zr.originalEvent.preventDefault(),nr.options.touchEnabled){var Ln=mt.touch(Zr,null,nr)[0];Zr.featureTarget=Ln,It(un,{time:new Date().getTime(),point:Zr.point})?Wn.tap(Zr):Wn.touchend(Zr)}};var Nn=function(Zr){return!(Zr===8||Zr===46||Zr>=48&&Zr<=57)};function ti(Zr,Ln,yi){yi===void 0&&(yi={}),Wn.stop();var na=rn[Zr];if(na===void 0)throw new Error(Zr+" is not valid");dn=Zr;var Ii=na(nr,Ln);Wn=r(Ii,nr),yi.silent||nr.map.fire(H.MODE_CHANGE,{mode:Zr}),nr.store.setDirty(),nr.store.render()}Sn.keydown=function(Zr){(Zr.srcElement||Zr.target).classList.contains("mapboxgl-canvas")&&(Zr.keyCode!==8&&Zr.keyCode!==46||!nr.options.controls.trash?Nn(Zr.keyCode)?Wn.keydown(Zr):Zr.keyCode===49&&nr.options.controls.point?ti(U.DRAW_POINT):Zr.keyCode===50&&nr.options.controls.line_string?ti(U.DRAW_LINE_STRING):Zr.keyCode===51&&nr.options.controls.polygon&&ti(U.DRAW_POLYGON):(Zr.preventDefault(),Wn.trash()))},Sn.keyup=function(Zr){Nn(Zr.keyCode)&&Wn.keyup(Zr)},Sn.zoomend=function(){nr.store.changeZoom()},Sn.data=function(Zr){if(Zr.dataType==="style"){var Ln=nr.setup,yi=nr.map,na=nr.options,Ii=nr.store;na.styles.some((function(Bi){return yi.getLayer(Bi.id)}))||(Ln.addLayers(),Ii.setDirty(),Ii.render())}};var jn={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){dn=nr.options.defaultMode,Wn=r(rn[dn](nr),nr)},changeMode:ti,actionable:function(Zr){var Ln=!1;Object.keys(Zr).forEach((function(yi){if(jn[yi]===void 0)throw new Error("Invalid action type");jn[yi]!==Zr[yi]&&(Ln=!0),jn[yi]=Zr[yi]})),Ln&&nr.map.fire(H.ACTIONABLE,{actions:jn})},currentModeName:function(){return dn},currentModeRender:function(Zr,Ln){return Wn.render(Zr,Ln)},fire:function(Zr,Ln){Sn[Zr]&&Sn[Zr](Ln)},addEventListeners:function(){nr.map.on("mousemove",Sn.mousemove),nr.map.on("mousedown",Sn.mousedown),nr.map.on("mouseup",Sn.mouseup),nr.map.on("data",Sn.data),nr.map.on("touchmove",Sn.touchmove),nr.map.on("touchstart",Sn.touchstart),nr.map.on("touchend",Sn.touchend),nr.container.addEventListener("mouseout",Sn.mouseout),nr.options.keybindings&&(nr.container.addEventListener("keydown",Sn.keydown),nr.container.addEventListener("keyup",Sn.keyup))},removeEventListeners:function(){nr.map.off("mousemove",Sn.mousemove),nr.map.off("mousedown",Sn.mousedown),nr.map.off("mouseup",Sn.mouseup),nr.map.off("data",Sn.data),nr.map.off("touchmove",Sn.touchmove),nr.map.off("touchstart",Sn.touchstart),nr.map.off("touchend",Sn.touchend),nr.container.removeEventListener("mouseout",Sn.mouseout),nr.options.keybindings&&(nr.container.removeEventListener("keydown",Sn.keydown),nr.container.removeEventListener("keyup",Sn.keyup))},trash:function(Zr){Wn.trash(Zr)},combineFeatures:function(){Wn.combineFeatures()},uncombineFeatures:function(){Wn.uncombineFeatures()},getMode:function(){return dn}}})(Q),Q.ui=(function(nr){var rn={},pn=null,un={mode:null,feature:null,mouse:null},Sn={mode:null,feature:null,mouse:null};function dn(Zr){Sn=Mr(Sn,Zr)}function Wn(){var Zr,Ln;if(nr.container){var yi=[],na=[];ir.forEach((function(Ii){Sn[Ii]!==un[Ii]&&(yi.push(Ii+"-"+un[Ii]),Sn[Ii]!==null&&na.push(Ii+"-"+Sn[Ii]))})),yi.length>0&&(Zr=nr.container.classList).remove.apply(Zr,yi),na.length>0&&(Ln=nr.container.classList).add.apply(Ln,na),un=Mr(un,Sn)}}function Nn(Zr,Ln){Ln===void 0&&(Ln={});var yi=document.createElement("button");return yi.className=k.CONTROL_BUTTON+" "+Ln.className,yi.setAttribute("title",Ln.title),Ln.container.appendChild(yi),yi.addEventListener("click",(function(na){if(na.preventDefault(),na.stopPropagation(),na.target===pn)return ti(),void Ln.onDeactivate();jn(Zr),Ln.onActivate()}),!0),yi}function ti(){pn&&(pn.classList.remove(k.ACTIVE_BUTTON),pn=null)}function jn(Zr){ti();var Ln=rn[Zr];Ln&&Ln&&Zr!=="trash"&&(Ln.classList.add(k.ACTIVE_BUTTON),pn=Ln)}return{setActiveButton:jn,queueMapClasses:dn,updateMapClasses:Wn,clearMapClasses:function(){dn({mode:null,feature:null,mouse:null}),Wn()},addButtons:function(){var Zr=nr.options.controls,Ln=document.createElement("div");return Ln.className=k.CONTROL_GROUP+" "+k.CONTROL_BASE,Zr&&(Zr[O.LINE]&&(rn[O.LINE]=Nn(O.LINE,{container:Ln,className:k.CONTROL_BUTTON_LINE,title:"LineString tool "+(nr.options.keybindings?"(l)":""),onActivate:function(){return nr.events.changeMode(U.DRAW_LINE_STRING)},onDeactivate:function(){return nr.events.trash()}})),Zr[O.POLYGON]&&(rn[O.POLYGON]=Nn(O.POLYGON,{container:Ln,className:k.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(nr.options.keybindings?"(p)":""),onActivate:function(){return nr.events.changeMode(U.DRAW_POLYGON)},onDeactivate:function(){return nr.events.trash()}})),Zr[O.POINT]&&(rn[O.POINT]=Nn(O.POINT,{container:Ln,className:k.CONTROL_BUTTON_POINT,title:"Marker tool "+(nr.options.keybindings?"(m)":""),onActivate:function(){return nr.events.changeMode(U.DRAW_POINT)},onDeactivate:function(){return nr.events.trash()}})),Zr.trash&&(rn.trash=Nn("trash",{container:Ln,className:k.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){nr.events.trash()}})),Zr.combine_features&&(rn.combine_features=Nn("combineFeatures",{container:Ln,className:k.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){nr.events.combineFeatures()}})),Zr.uncombine_features&&(rn.uncombine_features=Nn("uncombineFeatures",{container:Ln,className:k.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){nr.events.uncombineFeatures()}}))),Ln},removeButtons:function(){Object.keys(rn).forEach((function(Zr){var Ln=rn[Zr];Ln.parentNode&&Ln.parentNode.removeChild(Ln),delete rn[Zr]}))}}})(Q),Q.container=qe.getContainer(),Q.store=new Vr(Q),gt=Q.ui.addButtons(),Q.options.boxSelect&&(Q.boxZoomInitial=qe.boxZoom.isEnabled(),qe.boxZoom.disable(),qe.dragPan.disable(),qe.dragPan.enable()),qe.loaded()?Re.connect():(qe.on("load",Re.connect),ee=setInterval((function(){qe.loaded()&&Re.connect()}),16)),Q.events.start(),gt},addLayers:function(){Q.map.addSource(R.COLD,{data:{type:D.FEATURE_COLLECTION,features:[]},type:"geojson"}),Q.map.addSource(R.HOT,{data:{type:D.FEATURE_COLLECTION,features:[]},type:"geojson"}),Q.options.styles.forEach((function(qe){Q.map.addLayer(qe)})),Q.store.setDirty(!0),Q.store.render()},removeLayers:function(){Q.options.styles.forEach((function(qe){Q.map.getLayer(qe.id)&&Q.map.removeLayer(qe.id)})),Q.map.getSource(R.COLD)&&Q.map.removeSource(R.COLD),Q.map.getSource(R.HOT)&&Q.map.removeSource(R.HOT)}};return Q.setup=Re,Re}var Pr=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function Ir(Q){return function(gt){var ee=gt.featureTarget;return!!ee&&!!ee.properties&&ee.properties.meta===Q}}function dr(Q){return!!Q.originalEvent&&!!Q.originalEvent.shiftKey&&Q.originalEvent.button===0}function ar(Q){return!!Q.featureTarget&&!!Q.featureTarget.properties&&Q.featureTarget.properties.active===j.ACTIVE&&Q.featureTarget.properties.meta===z.FEATURE}function Or(Q){return!!Q.featureTarget&&!!Q.featureTarget.properties&&Q.featureTarget.properties.active===j.INACTIVE&&Q.featureTarget.properties.meta===z.FEATURE}function er(Q){return Q.featureTarget===void 0}function Fr(Q){return!!Q.featureTarget&&!!Q.featureTarget.properties&&Q.featureTarget.properties.meta===z.FEATURE}function Ze(Q){var gt=Q.featureTarget;return!!gt&&!!gt.properties&&gt.properties.meta===z.VERTEX}function rr(Q){return!!Q.originalEvent&&Q.originalEvent.shiftKey===!0}function Me(Q){return Q.keyCode===27}function jt(Q){return Q.keyCode===13}var Mt=Object.freeze({__proto__:null,isOfMetaType:Ir,isShiftMousedown:dr,isActiveFeature:ar,isInactiveFeature:Or,noTarget:er,isFeature:Fr,isVertex:Ze,isShiftDown:rr,isEscapeKey:Me,isEnterKey:jt,isTrue:function(){return!0}}),Bt=oe;function oe(Q,gt){this.x=Q,this.y=gt}oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(Q){return this.clone()._add(Q)},sub:function(Q){return this.clone()._sub(Q)},multByPoint:function(Q){return this.clone()._multByPoint(Q)},divByPoint:function(Q){return this.clone()._divByPoint(Q)},mult:function(Q){return this.clone()._mult(Q)},div:function(Q){return this.clone()._div(Q)},rotate:function(Q){return this.clone()._rotate(Q)},rotateAround:function(Q,gt){return this.clone()._rotateAround(Q,gt)},matMult:function(Q){return this.clone()._matMult(Q)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(Q){return this.x===Q.x&&this.y===Q.y},dist:function(Q){return Math.sqrt(this.distSqr(Q))},distSqr:function(Q){var gt=Q.x-this.x,ee=Q.y-this.y;return gt*gt+ee*ee},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(Q){return Math.atan2(this.y-Q.y,this.x-Q.x)},angleWith:function(Q){return this.angleWithSep(Q.x,Q.y)},angleWithSep:function(Q,gt){return Math.atan2(this.x*gt-this.y*Q,this.x*Q+this.y*gt)},_matMult:function(Q){var gt=Q[0]*this.x+Q[1]*this.y,ee=Q[2]*this.x+Q[3]*this.y;return this.x=gt,this.y=ee,this},_add:function(Q){return this.x+=Q.x,this.y+=Q.y,this},_sub:function(Q){return this.x-=Q.x,this.y-=Q.y,this},_mult:function(Q){return this.x*=Q,this.y*=Q,this},_div:function(Q){return this.x/=Q,this.y/=Q,this},_multByPoint:function(Q){return this.x*=Q.x,this.y*=Q.y,this},_divByPoint:function(Q){return this.x/=Q.x,this.y/=Q.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var Q=this.y;return this.y=this.x,this.x=-Q,this},_rotate:function(Q){var gt=Math.cos(Q),ee=Math.sin(Q),Re=gt*this.x-ee*this.y,qe=ee*this.x+gt*this.y;return this.x=Re,this.y=qe,this},_rotateAround:function(Q,gt){var ee=Math.cos(Q),Re=Math.sin(Q),qe=gt.x+ee*(this.x-gt.x)-Re*(this.y-gt.y),Fe=gt.y+Re*(this.x-gt.x)+ee*(this.y-gt.y);return this.x=qe,this.y=Fe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},oe.convert=function(Q){return Q instanceof oe?Q:Array.isArray(Q)?new oe(Q[0],Q[1]):Q};var ye=n(Bt);function je(Q,gt){var ee=gt.getBoundingClientRect();return new ye(Q.clientX-ee.left-(gt.clientLeft||0),Q.clientY-ee.top-(gt.clientTop||0))}function Ge(Q,gt,ee,Re){return{type:D.FEATURE,properties:{meta:z.VERTEX,parent:Q,coord_path:ee,active:Re?j.ACTIVE:j.INACTIVE},geometry:{type:D.POINT,coordinates:gt}}}function Ue(Q,gt,ee){var Re=gt.geometry.coordinates,qe=ee.geometry.coordinates;if(Re[1]>85||Re[1]<Y||qe[1]>85||qe[1]<Y)return null;var Fe={lng:(Re[0]+qe[0])/2,lat:(Re[1]+qe[1])/2};return{type:D.FEATURE,properties:{meta:z.MIDPOINT,parent:Q,lng:Fe.lng,lat:Fe.lat,coord_path:ee.properties.coord_path},geometry:{type:D.POINT,coordinates:[Fe.lng,Fe.lat]}}}function fr(Q,gt,ee){gt===void 0&&(gt={}),ee===void 0&&(ee=null);var Re,qe=Q.geometry,Fe=qe.type,nr=qe.coordinates,rn=Q.properties&&Q.properties.id,pn=[];function un(dn,Wn){var Nn="",ti=null;dn.forEach((function(jn,Zr){var Ln=Wn!=null?Wn+"."+Zr:String(Zr),yi=Ge(rn,jn,Ln,Sn(Ln));if(gt.midpoints&&ti){var na=Ue(rn,ti,yi);na&&pn.push(na)}ti=yi;var Ii=JSON.stringify(jn);Nn!==Ii&&pn.push(yi),Zr===0&&(Nn=Ii)}))}function Sn(dn){return!!gt.selectedPaths&&gt.selectedPaths.indexOf(dn)!==-1}return Fe===D.POINT?pn.push(Ge(rn,nr,ee,Sn(ee))):Fe===D.POLYGON?nr.forEach((function(dn,Wn){un(dn,ee!==null?ee+"."+Wn:String(Wn))})):Fe===D.LINE_STRING?un(nr,ee):Fe.indexOf(D.MULTI_PREFIX)===0&&(Re=Fe.replace(D.MULTI_PREFIX,""),nr.forEach((function(dn,Wn){var Nn={type:D.FEATURE,properties:Q.properties,geometry:{type:Re,coordinates:dn}};pn=pn.concat(fr(Nn,gt,Wn))}))),pn}var Ke={enable:function(Q){setTimeout((function(){Q.map&&Q.map.doubleClickZoom&&Q._ctx&&Q._ctx.store&&Q._ctx.store.getInitialConfigValue&&Q._ctx.store.getInitialConfigValue("doubleClickZoom")&&Q.map.doubleClickZoom.enable()}),0)},disable:function(Q){setTimeout((function(){Q.map&&Q.map.doubleClickZoom&&Q.map.doubleClickZoom.disable()}),0)}},Pe={exports:{}},cr=function(Q){if(!Q||!Q.type)return null;var gt=Oe[Q.type];if(!gt)return null;if(gt==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:Q}]};if(gt==="feature")return{type:"FeatureCollection",features:[Q]};if(gt==="featurecollection")return Q},Oe={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},Wr=n(cr),or=Object.freeze({__proto__:null,default:function Q(gt){switch(gt&&gt.type||null){case"FeatureCollection":return gt.features=gt.features.reduce((function(ee,Re){return ee.concat(Q(Re))}),[]),gt;case"Feature":return gt.geometry?Q(gt.geometry).map((function(ee){var Re={type:"Feature",properties:JSON.parse(JSON.stringify(gt.properties)),geometry:ee};return gt.id!==void 0&&(Re.id=gt.id),Re})):[gt];case"MultiPoint":return gt.coordinates.map((function(ee){return{type:"Point",coordinates:ee}}));case"MultiPolygon":return gt.coordinates.map((function(ee){return{type:"Polygon",coordinates:ee}}));case"MultiLineString":return gt.coordinates.map((function(ee){return{type:"LineString",coordinates:ee}}));case"GeometryCollection":return gt.geometries.map(Q).reduce((function(ee,Re){return ee.concat(Re)}),[]);case"Point":case"Polygon":case"LineString":return[gt]}}}),vn=cr,Kr=i(or),Kn=function(Q){return(function gt(ee){return Array.isArray(ee)&&ee.length&&typeof ee[0]=="number"?[ee]:ee.reduce((function(Re,qe){return Array.isArray(qe)&&Array.isArray(qe[0])?Re.concat(gt(qe)):(Re.push(qe),Re)}),[])})(Q)};Kr instanceof Function||(Kr=Kr.default);var Pt={exports:{}},Xt=Pt.exports=function(Q){return new be(Q)};function be(Q){this.value=Q}function ze(Q,gt,ee){var Re=[],qe=[],Fe=!0;return(function nr(rn){var pn=ee?Lr(rn):rn,un={},Sn=!0,dn={node:pn,node_:rn,path:[].concat(Re),parent:qe[qe.length-1],parents:qe,key:Re.slice(-1)[0],isRoot:Re.length===0,level:Re.length,circular:null,update:function(ti,jn){dn.isRoot||(dn.parent.node[dn.key]=ti),dn.node=ti,jn&&(Sn=!1)},delete:function(ti){delete dn.parent.node[dn.key],ti&&(Sn=!1)},remove:function(ti){fi(dn.parent.node)?dn.parent.node.splice(dn.key,1):delete dn.parent.node[dn.key],ti&&(Sn=!1)},keys:null,before:function(ti){un.before=ti},after:function(ti){un.after=ti},pre:function(ti){un.pre=ti},post:function(ti){un.post=ti},stop:function(){Fe=!1},block:function(){Sn=!1}};if(!Fe)return dn;function Wn(){if(typeof dn.node=="object"&&dn.node!==null){dn.keys&&dn.node_===dn.node||(dn.keys=yn(dn.node)),dn.isLeaf=dn.keys.length==0;for(var ti=0;ti<qe.length;ti++)if(qe[ti].node_===rn){dn.circular=qe[ti];break}}else dn.isLeaf=!0,dn.keys=null;dn.notLeaf=!dn.isLeaf,dn.notRoot=!dn.isRoot}Wn();var Nn=gt.call(dn,dn.node);return Nn!==void 0&&dn.update&&dn.update(Nn),un.before&&un.before.call(dn,dn.node),Sn&&(typeof dn.node!="object"||dn.node===null||dn.circular||(qe.push(dn),Wn(),On(dn.keys,(function(ti,jn){Re.push(ti),un.pre&&un.pre.call(dn,dn.node[ti],ti);var Zr=nr(dn.node[ti]);ee&&li.call(dn.node,ti)&&(dn.node[ti]=Zr.node),Zr.isLast=jn==dn.keys.length-1,Zr.isFirst=jn==0,un.post&&un.post.call(dn,Zr),Re.pop()})),qe.pop()),un.after&&un.after.call(dn,dn.node)),dn})(Q).node}function Lr(Q){if(typeof Q=="object"&&Q!==null){var gt;if(fi(Q))gt=[];else if($r(Q)==="[object Date]")gt=new Date(Q.getTime?Q.getTime():Q);else if((function(qe){return $r(qe)==="[object RegExp]"})(Q))gt=new RegExp(Q);else if((function(qe){return $r(qe)==="[object Error]"})(Q))gt={message:Q.message};else if((function(qe){return $r(qe)==="[object Boolean]"})(Q))gt=new Boolean(Q);else if((function(qe){return $r(qe)==="[object Number]"})(Q))gt=new Number(Q);else if((function(qe){return $r(qe)==="[object String]"})(Q))gt=new String(Q);else if(Object.create&&Object.getPrototypeOf)gt=Object.create(Object.getPrototypeOf(Q));else if(Q.constructor===Object)gt={};else{var ee=Q.constructor&&Q.constructor.prototype||Q.__proto__||{},Re=function(){};Re.prototype=ee,gt=new Re}return On(yn(Q),(function(qe){gt[qe]=Q[qe]})),gt}return Q}be.prototype.get=function(Q){for(var gt=this.value,ee=0;ee<Q.length;ee++){var Re=Q[ee];if(!gt||!li.call(gt,Re)){gt=void 0;break}gt=gt[Re]}return gt},be.prototype.has=function(Q){for(var gt=this.value,ee=0;ee<Q.length;ee++){var Re=Q[ee];if(!gt||!li.call(gt,Re))return!1;gt=gt[Re]}return!0},be.prototype.set=function(Q,gt){for(var ee=this.value,Re=0;Re<Q.length-1;Re++){var qe=Q[Re];li.call(ee,qe)||(ee[qe]={}),ee=ee[qe]}return ee[Q[Re]]=gt,gt},be.prototype.map=function(Q){return ze(this.value,Q,!0)},be.prototype.forEach=function(Q){return this.value=ze(this.value,Q,!1),this.value},be.prototype.reduce=function(Q,gt){var ee=arguments.length===1,Re=ee?this.value:gt;return this.forEach((function(qe){this.isRoot&&ee||(Re=Q.call(this,Re,qe))})),Re},be.prototype.paths=function(){var Q=[];return this.forEach((function(gt){Q.push(this.path)})),Q},be.prototype.nodes=function(){var Q=[];return this.forEach((function(gt){Q.push(this.node)})),Q},be.prototype.clone=function(){var Q=[],gt=[];return(function ee(Re){for(var qe=0;qe<Q.length;qe++)if(Q[qe]===Re)return gt[qe];if(typeof Re=="object"&&Re!==null){var Fe=Lr(Re);return Q.push(Re),gt.push(Fe),On(yn(Re),(function(nr){Fe[nr]=ee(Re[nr])})),Q.pop(),gt.pop(),Fe}return Re})(this.value)};var yn=Object.keys||function(Q){var gt=[];for(var ee in Q)gt.push(ee);return gt};function $r(Q){return Object.prototype.toString.call(Q)}var fi=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},On=function(Q,gt){if(Q.forEach)return Q.forEach(gt);for(var ee=0;ee<Q.length;ee++)gt(Q[ee],ee,Q)};On(yn(be.prototype),(function(Q){Xt[Q]=function(gt){var ee=[].slice.call(arguments,1),Re=new be(gt);return Re[Q].apply(Re,ee)}}));var li=Object.hasOwnProperty||function(Q,gt){return gt in Q},Ki=Pt.exports,en=Rn;function Rn(Q){if(!(this instanceof Rn))return new Rn(Q);this._bbox=Q||[1/0,1/0,-1/0,-1/0],this._valid=!!Q}Rn.prototype.include=function(Q){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],Q[0]),this._bbox[1]=Math.min(this._bbox[1],Q[1]),this._bbox[2]=Math.max(this._bbox[2],Q[0]),this._bbox[3]=Math.max(this._bbox[3],Q[1]),this},Rn.prototype.equals=function(Q){var gt;return gt=Q instanceof Rn?Q.bbox():Q,this._bbox[0]==gt[0]&&this._bbox[1]==gt[1]&&this._bbox[2]==gt[2]&&this._bbox[3]==gt[3]},Rn.prototype.center=function(Q){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Rn.prototype.union=function(Q){var gt;return this._valid=!0,gt=Q instanceof Rn?Q.bbox():Q,this._bbox[0]=Math.min(this._bbox[0],gt[0]),this._bbox[1]=Math.min(this._bbox[1],gt[1]),this._bbox[2]=Math.max(this._bbox[2],gt[2]),this._bbox[3]=Math.max(this._bbox[3],gt[3]),this},Rn.prototype.bbox=function(){return this._valid?this._bbox:null},Rn.prototype.contains=function(Q){if(!Q)return this._fastContains();if(!this._valid)return null;var gt=Q[0],ee=Q[1];return this._bbox[0]<=gt&&this._bbox[1]<=ee&&this._bbox[2]>=gt&&this._bbox[3]>=ee},Rn.prototype.intersect=function(Q){return this._valid?(gt=Q instanceof Rn?Q.bbox():Q,!(this._bbox[0]>gt[2]||this._bbox[2]<gt[0]||this._bbox[3]<gt[1]||this._bbox[1]>gt[3])):null;var gt},Rn.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var Q="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",Q)},Rn.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Xn=function(Q){if(!Q)return[];var gt=Kr(vn(Q)),ee=[];return gt.features.forEach((function(Re){Re.geometry&&(ee=ee.concat(Kn(Re.geometry.coordinates)))})),ee},Ra=Ki,_o=en,Na={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Mn=Object.keys(Na);function io(Q){for(var gt=_o(),ee=Xn(Q),Re=0;Re<ee.length;Re++)gt.include(ee[Re]);return gt}Pe.exports=function(Q){return io(Q).bbox()},Pe.exports.polygon=function(Q){return io(Q).polygon()},Pe.exports.bboxify=function(Q){return Ra(Q).map((function(gt){gt&&Mn.some((function(ee){return!!gt[ee]&&Na[ee].indexOf(gt.type)!==-1}))&&(gt.bbox=io(gt).bbox(),this.update(gt))}))};var rl=n(Pe.exports),ra=-90;function sa(Q,gt){var ee=ra,Re=90,qe=ra,Fe=90,nr=270,rn=-270;Q.forEach((function(un){var Sn=rl(un),dn=Sn[1],Wn=Sn[3],Nn=Sn[0],ti=Sn[2];dn>ee&&(ee=dn),Wn<Re&&(Re=Wn),Wn>qe&&(qe=Wn),dn<Fe&&(Fe=dn),Nn<nr&&(nr=Nn),ti>rn&&(rn=ti)}));var pn=gt;return ee+pn.lat>85&&(pn.lat=85-ee),qe+pn.lat>90&&(pn.lat=90-qe),Re+pn.lat<-85&&(pn.lat=-85-Re),Fe+pn.lat<ra&&(pn.lat=ra-Fe),nr+pn.lng<=-270&&(pn.lng+=360*Math.ceil(Math.abs(pn.lng)/360)),rn+pn.lng>=270&&(pn.lng-=360*Math.ceil(Math.abs(pn.lng)/360)),pn}function cu(Q,gt){var ee=sa(Q.map((function(Re){return Re.toGeoJSON()})),gt);Q.forEach((function(Re){var qe,Fe=Re.getCoordinates(),nr=function(pn){var un={lng:pn[0]+ee.lng,lat:pn[1]+ee.lat};return[un.lng,un.lat]},rn=function(pn){return pn.map((function(un){return nr(un)}))};Re.type===D.POINT?qe=nr(Fe):Re.type===D.LINE_STRING||Re.type===D.MULTI_POINT?qe=Fe.map(nr):Re.type===D.POLYGON||Re.type===D.MULTI_LINE_STRING?qe=Fe.map(rn):Re.type===D.MULTI_POLYGON&&(qe=Fe.map((function(pn){return pn.map((function(un){return rn(un)}))}))),Re.incomingCoords(qe)}))}var Vi={onSetup:function(Q){var gt=this,ee={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:Q.featureIds||[]};return this.setSelected(ee.initiallySelectedFeatureIds.filter((function(Re){return gt.getFeature(Re)!==void 0}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),ee},fireUpdate:function(){this.map.fire(H.UPDATE,{action:G.MOVE,features:this.getSelected().map((function(Q){return Q.toGeoJSON()}))})},fireActionable:function(){var Q=this,gt=this.getSelected(),ee=gt.filter((function(rn){return Q.isInstanceOf("MultiFeature",rn)})),Re=!1;if(gt.length>1){Re=!0;var qe=gt[0].type.replace("Multi","");gt.forEach((function(rn){rn.type.replace("Multi","")!==qe&&(Re=!1)}))}var Fe=ee.length>0,nr=gt.length>0;this.setActionableState({combineFeatures:Re,uncombineFeatures:Fe,trash:nr})},getUniqueIds:function(Q){return Q.length?Q.map((function(gt){return gt.properties.id})).filter((function(gt){return gt!==void 0})).reduce((function(gt,ee){return gt.add(ee),gt}),new $).values():[]},stopExtendedInteractions:function(Q){Q.boxSelectElement&&(Q.boxSelectElement.parentNode&&Q.boxSelectElement.parentNode.removeChild(Q.boxSelectElement),Q.boxSelectElement=null),this.map.dragPan.enable(),Q.boxSelecting=!1,Q.canBoxSelect=!1,Q.dragMoving=!1,Q.canDragMove=!1},onStop:function(){Ke.enable(this)},onMouseMove:function(Q,gt){return Fr(gt)&&Q.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(Q),!0},onMouseOut:function(Q){return!Q.dragMoving||this.fireUpdate()}};Vi.onTap=Vi.onClick=function(Q,gt){return er(gt)?this.clickAnywhere(Q,gt):Ir(z.VERTEX)(gt)?this.clickOnVertex(Q,gt):Fr(gt)?this.clickOnFeature(Q,gt):void 0},Vi.clickAnywhere=function(Q){var gt=this,ee=this.getSelectedIds();ee.length&&(this.clearSelectedFeatures(),ee.forEach((function(Re){return gt.doRender(Re)}))),Ke.enable(this),this.stopExtendedInteractions(Q)},Vi.clickOnVertex=function(Q,gt){this.changeMode(U.DIRECT_SELECT,{featureId:gt.featureTarget.properties.parent,coordPath:gt.featureTarget.properties.coord_path,startPos:gt.lngLat}),this.updateUIClasses({mouse:A.MOVE})},Vi.startOnActiveFeature=function(Q,gt){this.stopExtendedInteractions(Q),this.map.dragPan.disable(),this.doRender(gt.featureTarget.properties.id),Q.canDragMove=!0,Q.dragMoveLocation=gt.lngLat},Vi.clickOnFeature=function(Q,gt){var ee=this;Ke.disable(this),this.stopExtendedInteractions(Q);var Re=rr(gt),qe=this.getSelectedIds(),Fe=gt.featureTarget.properties.id,nr=this.isSelected(Fe);if(!Re&&nr&&this.getFeature(Fe).type!==D.POINT)return this.changeMode(U.DIRECT_SELECT,{featureId:Fe});nr&&Re?(this.deselect(Fe),this.updateUIClasses({mouse:A.POINTER}),qe.length===1&&Ke.enable(this)):!nr&&Re?(this.select(Fe),this.updateUIClasses({mouse:A.MOVE})):nr||Re||(qe.forEach((function(rn){return ee.doRender(rn)})),this.setSelected(Fe),this.updateUIClasses({mouse:A.MOVE})),this.doRender(Fe)},Vi.onMouseDown=function(Q,gt){return ar(gt)?this.startOnActiveFeature(Q,gt):this.drawConfig.boxSelect&&dr(gt)?this.startBoxSelect(Q,gt):void 0},Vi.startBoxSelect=function(Q,gt){this.stopExtendedInteractions(Q),this.map.dragPan.disable(),Q.boxSelectStartLocation=je(gt.originalEvent,this.map.getContainer()),Q.canBoxSelect=!0},Vi.onTouchStart=function(Q,gt){if(ar(gt))return this.startOnActiveFeature(Q,gt)},Vi.onDrag=function(Q,gt){return Q.canDragMove?this.dragMove(Q,gt):this.drawConfig.boxSelect&&Q.canBoxSelect?this.whileBoxSelect(Q,gt):void 0},Vi.whileBoxSelect=function(Q,gt){Q.boxSelecting=!0,this.updateUIClasses({mouse:A.ADD}),Q.boxSelectElement||(Q.boxSelectElement=document.createElement("div"),Q.boxSelectElement.classList.add(k.BOX_SELECT),this.map.getContainer().appendChild(Q.boxSelectElement));var ee=je(gt.originalEvent,this.map.getContainer()),Re=Math.min(Q.boxSelectStartLocation.x,ee.x),qe=Math.max(Q.boxSelectStartLocation.x,ee.x),Fe=Math.min(Q.boxSelectStartLocation.y,ee.y),nr=Math.max(Q.boxSelectStartLocation.y,ee.y),rn="translate("+Re+"px, "+Fe+"px)";Q.boxSelectElement.style.transform=rn,Q.boxSelectElement.style.WebkitTransform=rn,Q.boxSelectElement.style.width=qe-Re+"px",Q.boxSelectElement.style.height=nr-Fe+"px"},Vi.dragMove=function(Q,gt){Q.dragMoving=!0,gt.originalEvent.stopPropagation();var ee={lng:gt.lngLat.lng-Q.dragMoveLocation.lng,lat:gt.lngLat.lat-Q.dragMoveLocation.lat};cu(this.getSelected(),ee),Q.dragMoveLocation=gt.lngLat},Vi.onTouchEnd=Vi.onMouseUp=function(Q,gt){var ee=this;if(Q.dragMoving)this.fireUpdate();else if(Q.boxSelecting){var Re=[Q.boxSelectStartLocation,je(gt.originalEvent,this.map.getContainer())],qe=this.featuresAt(null,Re,"click"),Fe=this.getUniqueIds(qe).filter((function(nr){return!ee.isSelected(nr)}));Fe.length&&(this.select(Fe),Fe.forEach((function(nr){return ee.doRender(nr)})),this.updateUIClasses({mouse:A.MOVE}))}this.stopExtendedInteractions(Q)},Vi.toDisplayFeatures=function(Q,gt,ee){gt.properties.active=this.isSelected(gt.properties.id)?j.ACTIVE:j.INACTIVE,ee(gt),this.fireActionable(),gt.properties.active===j.ACTIVE&&gt.geometry.type!==D.POINT&&fr(gt).forEach(ee)},Vi.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Vi.onCombineFeatures=function(){var Q=this.getSelected();if(!(Q.length===0||Q.length<2)){for(var gt=[],ee=[],Re=Q[0].type.replace("Multi",""),qe=0;qe<Q.length;qe++){var Fe=Q[qe];if(Fe.type.replace("Multi","")!==Re)return;Fe.type.includes("Multi")?Fe.getCoordinates().forEach((function(rn){gt.push(rn)})):gt.push(Fe.getCoordinates()),ee.push(Fe.toGeoJSON())}if(ee.length>1){var nr=this.newFeature({type:D.FEATURE,properties:ee[0].properties,geometry:{type:"Multi"+Re,coordinates:gt}});this.addFeature(nr),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([nr.id]),this.map.fire(H.COMBINE_FEATURES,{createdFeatures:[nr.toGeoJSON()],deletedFeatures:ee})}this.fireActionable()}},Vi.onUncombineFeatures=function(){var Q=this,gt=this.getSelected();if(gt.length!==0){for(var ee=[],Re=[],qe=function(nr){var rn=gt[nr];Q.isInstanceOf("MultiFeature",rn)&&(rn.getFeatures().forEach((function(pn){Q.addFeature(pn),pn.properties=rn.properties,ee.push(pn.toGeoJSON()),Q.select([pn.id])})),Q.deleteFeature(rn.id,{silent:!0}),Re.push(rn.toGeoJSON()))},Fe=0;Fe<gt.length;Fe++)qe(Fe);ee.length>1&&this.map.fire(H.UNCOMBINE_FEATURES,{createdFeatures:ee,deletedFeatures:Re}),this.fireActionable()}};var nl=Ir(z.VERTEX),Xo=Ir(z.MIDPOINT),Mi={fireUpdate:function(){this.map.fire(H.UPDATE,{action:G.CHANGE_COORDINATES,features:this.getSelected().map((function(Q){return Q.toGeoJSON()}))})},fireActionable:function(Q){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:Q.selectedCoordPaths.length>0})},startDragging:function(Q,gt){this.map.dragPan.disable(),Q.canDragMove=!0,Q.dragMoveLocation=gt.lngLat},stopDragging:function(Q){this.map.dragPan.enable(),Q.dragMoving=!1,Q.canDragMove=!1,Q.dragMoveLocation=null},onVertex:function(Q,gt){this.startDragging(Q,gt);var ee=gt.featureTarget.properties,Re=Q.selectedCoordPaths.indexOf(ee.coord_path);rr(gt)||Re!==-1?rr(gt)&&Re===-1&&Q.selectedCoordPaths.push(ee.coord_path):Q.selectedCoordPaths=[ee.coord_path];var qe=this.pathsToCoordinates(Q.featureId,Q.selectedCoordPaths);this.setSelectedCoordinates(qe)},onMidpoint:function(Q,gt){this.startDragging(Q,gt);var ee=gt.featureTarget.properties;Q.feature.addCoordinate(ee.coord_path,ee.lng,ee.lat),this.fireUpdate(),Q.selectedCoordPaths=[ee.coord_path]},pathsToCoordinates:function(Q,gt){return gt.map((function(ee){return{feature_id:Q,coord_path:ee}}))},onFeature:function(Q,gt){Q.selectedCoordPaths.length===0?this.startDragging(Q,gt):this.stopDragging(Q)},dragFeature:function(Q,gt,ee){cu(this.getSelected(),ee),Q.dragMoveLocation=gt.lngLat},dragVertex:function(Q,gt,ee){for(var Re=Q.selectedCoordPaths.map((function(rn){return Q.feature.getCoordinate(rn)})),qe=sa(Re.map((function(rn){return{type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:rn}}})),ee),Fe=0;Fe<Re.length;Fe++){var nr=Re[Fe];Q.feature.updateCoordinate(Q.selectedCoordPaths[Fe],nr[0]+qe.lng,nr[1]+qe.lat)}},clickNoTarget:function(){this.changeMode(U.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(U.SIMPLE_SELECT)},clickActiveFeature:function(Q){Q.selectedCoordPaths=[],this.clearSelectedCoordinates(),Q.feature.changed()},onSetup:function(Q){var gt=Q.featureId,ee=this.getFeature(gt);if(!ee)throw new Error("You must provide a featureId to enter direct_select mode");if(ee.type===D.POINT)throw new TypeError("direct_select mode doesn't handle point features");var Re={featureId:gt,feature:ee,dragMoveLocation:Q.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:Q.coordPath?[Q.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(gt,Re.selectedCoordPaths)),this.setSelected(gt),Ke.disable(this),this.setActionableState({trash:!0}),Re},onStop:function(){Ke.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(Q,gt,ee){Q.featureId===gt.properties.id?(gt.properties.active=j.ACTIVE,ee(gt),fr(gt,{map:this.map,midpoints:!0,selectedPaths:Q.selectedCoordPaths}).forEach(ee)):(gt.properties.active=j.INACTIVE,ee(gt)),this.fireActionable(Q)},onTrash:function(Q){Q.selectedCoordPaths.sort((function(gt,ee){return ee.localeCompare(gt,"en",{numeric:!0})})).forEach((function(gt){return Q.feature.removeCoordinate(gt)})),this.fireUpdate(),Q.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(Q),Q.feature.isValid()===!1&&(this.deleteFeature([Q.featureId]),this.changeMode(U.SIMPLE_SELECT,{}))},onMouseMove:function(Q,gt){var ee=ar(gt),Re=nl(gt),qe=Xo(gt),Fe=Q.selectedCoordPaths.length===0;return ee&&Fe||Re&&!Fe?this.updateUIClasses({mouse:A.MOVE}):this.updateUIClasses({mouse:A.NONE}),(Re||ee||qe)&&Q.dragMoving&&this.fireUpdate(),this.stopDragging(Q),!0},onMouseOut:function(Q){return Q.dragMoving&&this.fireUpdate(),!0}};Mi.onTouchStart=Mi.onMouseDown=function(Q,gt){return nl(gt)?this.onVertex(Q,gt):ar(gt)?this.onFeature(Q,gt):Xo(gt)?this.onMidpoint(Q,gt):void 0},Mi.onDrag=function(Q,gt){if(Q.canDragMove===!0){Q.dragMoving=!0,gt.originalEvent.stopPropagation();var ee={lng:gt.lngLat.lng-Q.dragMoveLocation.lng,lat:gt.lngLat.lat-Q.dragMoveLocation.lat};Q.selectedCoordPaths.length>0?this.dragVertex(Q,gt,ee):this.dragFeature(Q,gt,ee),Q.dragMoveLocation=gt.lngLat}},Mi.onClick=function(Q,gt){return er(gt)?this.clickNoTarget(Q,gt):ar(gt)?this.clickActiveFeature(Q,gt):Or(gt)?this.clickInactive(Q,gt):void this.stopDragging(Q)},Mi.onTap=function(Q,gt){return er(gt)?this.clickNoTarget(Q,gt):ar(gt)?this.clickActiveFeature(Q,gt):Or(gt)?this.clickInactive(Q,gt):void 0},Mi.onTouchEnd=Mi.onMouseUp=function(Q){Q.dragMoving&&this.fireUpdate(),this.stopDragging(Q)};var xs={};function zl(Q,gt){return!!Q.lngLat&&Q.lngLat.lng===gt[0]&&Q.lngLat.lat===gt[1]}xs.onSetup=function(){var Q=this.newFeature({type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:[]}});return this.addFeature(Q),this.clearSelectedFeatures(),this.updateUIClasses({mouse:A.ADD}),this.activateUIButton(O.POINT),this.setActionableState({trash:!0}),{point:Q}},xs.stopDrawingAndRemove=function(Q){this.deleteFeature([Q.point.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)},xs.onTap=xs.onClick=function(Q,gt){this.updateUIClasses({mouse:A.MOVE}),Q.point.updateCoordinate("",gt.lngLat.lng,gt.lngLat.lat),this.map.fire(H.CREATE,{features:[Q.point.toGeoJSON()]}),this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.point.id]})},xs.onStop=function(Q){this.activateUIButton(),Q.point.getCoordinate().length||this.deleteFeature([Q.point.id],{silent:!0})},xs.toDisplayFeatures=function(Q,gt,ee){var Re=gt.properties.id===Q.point.id;if(gt.properties.active=Re?j.ACTIVE:j.INACTIVE,!Re)return ee(gt)},xs.onTrash=xs.stopDrawingAndRemove,xs.onKeyUp=function(Q,gt){if(Me(gt)||jt(gt))return this.stopDrawingAndRemove(Q,gt)};var Ks={onSetup:function(){var Q=this.newFeature({type:D.FEATURE,properties:{},geometry:{type:D.POLYGON,coordinates:[[]]}});return this.addFeature(Q),this.clearSelectedFeatures(),Ke.disable(this),this.updateUIClasses({mouse:A.ADD}),this.activateUIButton(O.POLYGON),this.setActionableState({trash:!0}),{polygon:Q,currentVertexPosition:0}},clickAnywhere:function(Q,gt){if(Q.currentVertexPosition>0&&zl(gt,Q.polygon.coordinates[0][Q.currentVertexPosition-1]))return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.polygon.id]});this.updateUIClasses({mouse:A.ADD}),Q.polygon.updateCoordinate("0."+Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Q.currentVertexPosition++,Q.polygon.updateCoordinate("0."+Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat)},clickOnVertex:function(Q){return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.polygon.id]})},onMouseMove:function(Q,gt){Q.polygon.updateCoordinate("0."+Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Ze(gt)&&this.updateUIClasses({mouse:A.POINTER})}};Ks.onTap=Ks.onClick=function(Q,gt){return Ze(gt)?this.clickOnVertex(Q,gt):this.clickAnywhere(Q,gt)},Ks.onKeyUp=function(Q,gt){Me(gt)?(this.deleteFeature([Q.polygon.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)):jt(gt)&&this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.polygon.id]})},Ks.onStop=function(Q){this.updateUIClasses({mouse:A.NONE}),Ke.enable(this),this.activateUIButton(),this.getFeature(Q.polygon.id)!==void 0&&(Q.polygon.removeCoordinate("0."+Q.currentVertexPosition),Q.polygon.isValid()?this.map.fire(H.CREATE,{features:[Q.polygon.toGeoJSON()]}):(this.deleteFeature([Q.polygon.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT,{},{silent:!0})))},Ks.toDisplayFeatures=function(Q,gt,ee){var Re=gt.properties.id===Q.polygon.id;if(gt.properties.active=Re?j.ACTIVE:j.INACTIVE,!Re)return ee(gt);if(gt.geometry.coordinates.length!==0){var qe=gt.geometry.coordinates[0].length;if(!(qe<3)){if(gt.properties.meta=z.FEATURE,ee(Ge(Q.polygon.id,gt.geometry.coordinates[0][0],"0.0",!1)),qe>3){var Fe=gt.geometry.coordinates[0].length-3;ee(Ge(Q.polygon.id,gt.geometry.coordinates[0][Fe],"0."+Fe,!1))}if(qe<=4){var nr=[[gt.geometry.coordinates[0][0][0],gt.geometry.coordinates[0][0][1]],[gt.geometry.coordinates[0][1][0],gt.geometry.coordinates[0][1][1]]];if(ee({type:D.FEATURE,properties:gt.properties,geometry:{coordinates:nr,type:D.LINE_STRING}}),qe===3)return}return ee(gt)}}},Ks.onTrash=function(Q){this.deleteFeature([Q.polygon.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)};var Do={onSetup:function(Q){var gt,ee,Re=(Q=Q||{}).featureId,qe="forward";if(Re){if(!(gt=this.getFeature(Re)))throw new Error("Could not find a feature with the provided featureId");var Fe=Q.from;if(Fe&&Fe.type==="Feature"&&Fe.geometry&&Fe.geometry.type==="Point"&&(Fe=Fe.geometry),Fe&&Fe.type==="Point"&&Fe.coordinates&&Fe.coordinates.length===2&&(Fe=Fe.coordinates),!Fe||!Array.isArray(Fe))throw new Error("Please use the `from` property to indicate which point to continue the line from");var nr=gt.coordinates.length-1;if(gt.coordinates[nr][0]===Fe[0]&&gt.coordinates[nr][1]===Fe[1])ee=nr+1,gt.addCoordinate.apply(gt,[ee].concat(gt.coordinates[nr]));else{if(gt.coordinates[0][0]!==Fe[0]||gt.coordinates[0][1]!==Fe[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");qe="backwards",ee=0,gt.addCoordinate.apply(gt,[ee].concat(gt.coordinates[0]))}}else gt=this.newFeature({type:D.FEATURE,properties:{},geometry:{type:D.LINE_STRING,coordinates:[]}}),ee=0,this.addFeature(gt);return this.clearSelectedFeatures(),Ke.disable(this),this.updateUIClasses({mouse:A.ADD}),this.activateUIButton(O.LINE),this.setActionableState({trash:!0}),{line:gt,currentVertexPosition:ee,direction:qe}},clickAnywhere:function(Q,gt){if(Q.currentVertexPosition>0&&zl(gt,Q.line.coordinates[Q.currentVertexPosition-1])||Q.direction==="backwards"&&zl(gt,Q.line.coordinates[Q.currentVertexPosition+1]))return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.line.id]});this.updateUIClasses({mouse:A.ADD}),Q.line.updateCoordinate(Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Q.direction==="forward"?(Q.currentVertexPosition++,Q.line.updateCoordinate(Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat)):Q.line.addCoordinate(0,gt.lngLat.lng,gt.lngLat.lat)},clickOnVertex:function(Q){return this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.line.id]})},onMouseMove:function(Q,gt){Q.line.updateCoordinate(Q.currentVertexPosition,gt.lngLat.lng,gt.lngLat.lat),Ze(gt)&&this.updateUIClasses({mouse:A.POINTER})}};Do.onTap=Do.onClick=function(Q,gt){if(Ze(gt))return this.clickOnVertex(Q,gt);this.clickAnywhere(Q,gt)},Do.onKeyUp=function(Q,gt){jt(gt)?this.changeMode(U.SIMPLE_SELECT,{featureIds:[Q.line.id]}):Me(gt)&&(this.deleteFeature([Q.line.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT))},Do.onStop=function(Q){Ke.enable(this),this.activateUIButton(),this.getFeature(Q.line.id)!==void 0&&(Q.line.removeCoordinate(""+Q.currentVertexPosition),Q.line.isValid()?this.map.fire(H.CREATE,{features:[Q.line.toGeoJSON()]}):(this.deleteFeature([Q.line.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT,{},{silent:!0})))},Do.onTrash=function(Q){this.deleteFeature([Q.line.id],{silent:!0}),this.changeMode(U.SIMPLE_SELECT)},Do.toDisplayFeatures=function(Q,gt,ee){var Re=gt.properties.id===Q.line.id;if(gt.properties.active=Re?j.ACTIVE:j.INACTIVE,!Re)return ee(gt);gt.geometry.coordinates.length<2||(gt.properties.meta=z.FEATURE,ee(Ge(Q.line.id,gt.geometry.coordinates[Q.direction==="forward"?gt.geometry.coordinates.length-2:1],""+(Q.direction==="forward"?gt.geometry.coordinates.length-2:1),!1)),ee(gt))};var Fl={simple_select:Vi,direct_select:Mi,draw_point:xs,draw_polygon:Ks,draw_line_string:Do},Ga={defaultMode:U.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:Pr,modes:Fl,controls:{},userProperties:!1},fl={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Gc={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function pl(Q,gt){return Q.map((function(ee){return ee.source?ee:Mr(ee,{id:ee.id+"."+gt,source:gt==="hot"?R.HOT:R.COLD})}))}var El={exports:{}};(function(Q,gt){var ee="__lodash_hash_undefined__",Re=9007199254740991,qe="[object Arguments]",Fe="[object Array]",nr="[object Boolean]",rn="[object Date]",pn="[object Error]",un="[object Function]",Sn="[object Map]",dn="[object Number]",Wn="[object Object]",Nn="[object Promise]",ti="[object RegExp]",jn="[object Set]",Zr="[object String]",Ln="[object Symbol]",yi="[object WeakMap]",na="[object ArrayBuffer]",Ii="[object DataView]",Bi=/^\[object .+?Constructor\]$/,la=/^(?:0|[1-9]\d*)$/,Bn={};Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn[qe]=Bn[Fe]=Bn[na]=Bn[nr]=Bn[Ii]=Bn[rn]=Bn[pn]=Bn[un]=Bn[Sn]=Bn[dn]=Bn[Wn]=Bn[ti]=Bn[jn]=Bn[Zr]=Bn[yi]=!1;var Ha=typeof py=="object"&&py&&py.Object===Object&&py,pi=typeof self=="object"&&self&&self.Object===Object&&self,ei=Ha||pi||Function("return this")(),Tl=gt&&!gt.nodeType&&gt,zn=Tl&&Q&&!Q.nodeType&&Q,jl=zn&&zn.exports===Tl,No=jl&&Ha.process,xo=(function(){try{return No&&No.binding&&No.binding("util")}catch{}})(),fo=xo&&xo.isTypedArray;function _u(lr,mr){for(var An=-1,Dn=lr==null?0:lr.length;++An<Dn;)if(mr(lr[An],An,lr))return!0;return!1}function Ms(lr){var mr=-1,An=Array(lr.size);return lr.forEach((function(Dn,Ni){An[++mr]=[Ni,Dn]})),An}function Cl(lr){var mr=-1,An=Array(lr.size);return lr.forEach((function(Dn){An[++mr]=Dn})),An}var xu,Vl,wo,Bo=Array.prototype,Ba=Function.prototype,zo=Object.prototype,ut=ei["__core-js_shared__"],Yt=Ba.toString,ve=zo.hasOwnProperty,Xe=(xu=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+xu:"",pr=zo.toString,Yr=RegExp("^"+Yt.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mn=jl?ei.Buffer:void 0,$n=ei.Symbol,ri=ei.Uint8Array,Ti=zo.propertyIsEnumerable,Fi=Bo.splice,wi=$n?$n.toStringTag:void 0,xa=Object.getOwnPropertySymbols,Pi=mn?mn.isBuffer:void 0,$i=(Vl=Object.keys,wo=Object,function(lr){return Vl(wo(lr))}),Lo=Ss(ei,"DataView"),Qa=Ss(ei,"Map"),ao=Ss(ei,"Promise"),$l=Ss(ei,"Set"),wu=Ss(ei,"WeakMap"),Ic=Ss(Object,"create"),Ul=Ps(Lo),Rc=Ps(Qa),po=Ps(ao),Su=Ps($l),vc=Ps(wu),ql=$n?$n.prototype:void 0,So=ql?ql.valueOf:void 0;function Fo(lr){var mr=-1,An=lr==null?0:lr.length;for(this.clear();++mr<An;){var Dn=lr[mr];this.set(Dn[0],Dn[1])}}function Ja(lr){var mr=-1,An=lr==null?0:lr.length;for(this.clear();++mr<An;){var Dn=lr[mr];this.set(Dn[0],Dn[1])}}function hu(lr){var mr=-1,An=lr==null?0:lr.length;for(this.clear();++mr<An;){var Dn=lr[mr];this.set(Dn[0],Dn[1])}}function $u(lr){var mr=-1,An=lr==null?0:lr.length;for(this.__data__=new hu;++mr<An;)this.add(lr[mr])}function oo(lr){var mr=this.__data__=new Ja(lr);this.size=mr.size}function bc(lr,mr){var An=fu(lr),Dn=!An&&Eo(lr),Ni=!An&&!Dn&&pu(lr),Vn=!An&&!Dn&&!Ni&&xc(lr),C=An||Dn||Ni||Vn,m=C?(function(F,nt){for(var xt=-1,Dt=Array(F);++xt<F;)Dt[xt]=nt(xt);return Dt})(lr.length,String):[],y=m.length;for(var T in lr)!ve.call(lr,T)||C&&(T=="length"||Ni&&(T=="offset"||T=="parent")||Vn&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||Hu(T,y))||m.push(T);return m}function Uu(lr,mr){for(var An=lr.length;An--;)if(du(lr[An][0],mr))return An;return-1}function il(lr){return lr==null?lr===void 0?"[object Undefined]":"[object Null]":wi&&wi in Object(lr)?(function(mr){var An=ve.call(mr,wi),Dn=mr[wi];try{mr[wi]=void 0;var Ni=!0}catch{}var Vn=pr.call(mr);return Ni&&(An?mr[wi]=Dn:delete mr[wi]),Vn})(lr):(function(mr){return pr.call(mr)})(lr)}function ws(lr){return Eu(lr)&&il(lr)==qe}function Zs(lr,mr,An,Dn,Ni){return lr===mr||(lr==null||mr==null||!Eu(lr)&&!Eu(mr)?lr!=lr&&mr!=mr:(function(Vn,C,m,y,T,F){var nt=fu(Vn),xt=fu(C),Dt=nt?Fe:Es(Vn),re=xt?Fe:Es(C),_e=(Dt=Dt==qe?Wn:Dt)==Wn,sr=(re=re==qe?Wn:re)==Wn,_r=Dt==re;if(_r&&pu(Vn)){if(!pu(C))return!1;nt=!0,_e=!1}if(_r&&!_e)return F||(F=new oo),nt||xc(Vn)?qu(Vn,C,m,y,T,F):(function(Yn,Hn,fa,Ui,$a,Vo,so){switch(fa){case Ii:if(Yn.byteLength!=Hn.byteLength||Yn.byteOffset!=Hn.byteOffset)return!1;Yn=Yn.buffer,Hn=Hn.buffer;case na:return!(Yn.byteLength!=Hn.byteLength||!Vo(new ri(Yn),new ri(Hn)));case nr:case rn:case dn:return du(+Yn,+Hn);case pn:return Yn.name==Hn.name&&Yn.message==Hn.message;case ti:case Zr:return Yn==Hn+"";case Sn:var ls=Ms;case jn:var Tu=1&Ui;if(ls||(ls=Cl),Yn.size!=Hn.size&&!Tu)return!1;var Cu=so.get(Yn);if(Cu)return Cu==Hn;Ui|=2,so.set(Yn,Hn);var kl=qu(ls(Yn),ls(Hn),Ui,$a,Vo,so);return so.delete(Yn),kl;case Ln:if(So)return So.call(Yn)==So.call(Hn)}return!1})(Vn,C,Dt,m,y,T,F);if(!(1&m)){var tn=_e&&ve.call(Vn,"__wrapped__"),In=sr&&ve.call(C,"__wrapped__");if(tn||In){var Zn=tn?Vn.value():Vn,hi=In?C.value():C;return F||(F=new oo),T(Zn,hi,m,y,F)}}return _r?(F||(F=new oo),(function(Yn,Hn,fa,Ui,$a,Vo){var so=1&fa,ls=Gl(Yn),Tu=ls.length,Cu=Gl(Hn).length;if(Tu!=Cu&&!so)return!1;for(var kl=Tu;kl--;){var ml=ls[kl];if(!(so?ml in Hn:ve.call(Hn,ml)))return!1}var Au=Vo.get(Yn);if(Au&&Vo.get(Hn))return Au==Hn;var Il=!0;Vo.set(Yn,Hn),Vo.set(Hn,Yn);for(var To=so;++kl<Tu;){var Cs=Yn[ml=ls[kl]],Wc=Hn[ml];if(Ui)var mi=so?Ui(Wc,Cs,ml,Hn,Yn,Vo):Ui(Cs,Wc,ml,Yn,Hn,Vo);if(!(mi===void 0?Cs===Wc||$a(Cs,Wc,fa,Ui,Vo):mi)){Il=!1;break}To||(To=ml=="constructor")}if(Il&&!To){var Xu=Yn.constructor,Hl=Hn.constructor;Xu==Hl||!("constructor"in Yn)||!("constructor"in Hn)||typeof Xu=="function"&&Xu instanceof Xu&&typeof Hl=="function"&&Hl instanceof Hl||(Il=!1)}return Vo.delete(Yn),Vo.delete(Hn),Il})(Vn,C,m,y,T,F)):!1})(lr,mr,An,Dn,Zs,Ni))}function mh(lr){return!(!Xc(lr)||(function(mr){return!!Xe&&Xe in mr})(lr))&&(Al(lr)?Yr:Bi).test(Ps(lr))}function Hc(lr){if(An=(mr=lr)&&mr.constructor,Dn=typeof An=="function"&&An.prototype||zo,mr!==Dn)return $i(lr);var mr,An,Dn,Ni=[];for(var Vn in Object(lr))ve.call(lr,Vn)&&Vn!="constructor"&&Ni.push(Vn);return Ni}function qu(lr,mr,An,Dn,Ni,Vn){var C=1&An,m=lr.length,y=mr.length;if(m!=y&&!(C&&y>m))return!1;var T=Vn.get(lr);if(T&&Vn.get(mr))return T==mr;var F=-1,nt=!0,xt=2&An?new $u:void 0;for(Vn.set(lr,mr),Vn.set(mr,lr);++F<m;){var Dt=lr[F],re=mr[F];if(Dn)var _e=C?Dn(re,Dt,F,mr,lr,Vn):Dn(Dt,re,F,lr,mr,Vn);if(_e!==void 0){if(_e)continue;nt=!1;break}if(xt){if(!_u(mr,(function(sr,_r){if(tn=_r,!xt.has(tn)&&(Dt===sr||Ni(Dt,sr,An,Dn,Vn)))return xt.push(_r);var tn}))){nt=!1;break}}else if(Dt!==re&&!Ni(Dt,re,An,Dn,Vn)){nt=!1;break}}return Vn.delete(lr),Vn.delete(mr),nt}function Gl(lr){return(function(mr,An,Dn){var Ni=An(mr);return fu(mr)?Ni:(function(Vn,C){for(var m=-1,y=C.length,T=Vn.length;++m<y;)Vn[T+m]=C[m];return Vn})(Ni,Dn(mr))})(lr,Ts,Gu)}function jo(lr,mr){var An,Dn,Ni=lr.__data__;return((Dn=typeof(An=mr))=="string"||Dn=="number"||Dn=="symbol"||Dn=="boolean"?An!=="__proto__":An===null)?Ni[typeof mr=="string"?"string":"hash"]:Ni.map}function Ss(lr,mr){var An=(function(Dn,Ni){return Dn?.[Ni]})(lr,mr);return mh(An)?An:void 0}Fo.prototype.clear=function(){this.__data__=Ic?Ic(null):{},this.size=0},Fo.prototype.delete=function(lr){var mr=this.has(lr)&&delete this.__data__[lr];return this.size-=mr?1:0,mr},Fo.prototype.get=function(lr){var mr=this.__data__;if(Ic){var An=mr[lr];return An===ee?void 0:An}return ve.call(mr,lr)?mr[lr]:void 0},Fo.prototype.has=function(lr){var mr=this.__data__;return Ic?mr[lr]!==void 0:ve.call(mr,lr)},Fo.prototype.set=function(lr,mr){var An=this.__data__;return this.size+=this.has(lr)?0:1,An[lr]=Ic&&mr===void 0?ee:mr,this},Ja.prototype.clear=function(){this.__data__=[],this.size=0},Ja.prototype.delete=function(lr){var mr=this.__data__,An=Uu(mr,lr);return!(An<0)&&(An==mr.length-1?mr.pop():Fi.call(mr,An,1),--this.size,!0)},Ja.prototype.get=function(lr){var mr=this.__data__,An=Uu(mr,lr);return An<0?void 0:mr[An][1]},Ja.prototype.has=function(lr){return Uu(this.__data__,lr)>-1},Ja.prototype.set=function(lr,mr){var An=this.__data__,Dn=Uu(An,lr);return Dn<0?(++this.size,An.push([lr,mr])):An[Dn][1]=mr,this},hu.prototype.clear=function(){this.size=0,this.__data__={hash:new Fo,map:new(Qa||Ja),string:new Fo}},hu.prototype.delete=function(lr){var mr=jo(this,lr).delete(lr);return this.size-=mr?1:0,mr},hu.prototype.get=function(lr){return jo(this,lr).get(lr)},hu.prototype.has=function(lr){return jo(this,lr).has(lr)},hu.prototype.set=function(lr,mr){var An=jo(this,lr),Dn=An.size;return An.set(lr,mr),this.size+=An.size==Dn?0:1,this},$u.prototype.add=$u.prototype.push=function(lr){return this.__data__.set(lr,ee),this},$u.prototype.has=function(lr){return this.__data__.has(lr)},oo.prototype.clear=function(){this.__data__=new Ja,this.size=0},oo.prototype.delete=function(lr){var mr=this.__data__,An=mr.delete(lr);return this.size=mr.size,An},oo.prototype.get=function(lr){return this.__data__.get(lr)},oo.prototype.has=function(lr){return this.__data__.has(lr)},oo.prototype.set=function(lr,mr){var An=this.__data__;if(An instanceof Ja){var Dn=An.__data__;if(!Qa||Dn.length<199)return Dn.push([lr,mr]),this.size=++An.size,this;An=this.__data__=new hu(Dn)}return An.set(lr,mr),this.size=An.size,this};var Gu=xa?function(lr){return lr==null?[]:(lr=Object(lr),(function(mr,An){for(var Dn=-1,Ni=mr==null?0:mr.length,Vn=0,C=[];++Dn<Ni;){var m=mr[Dn];An(m,Dn,mr)&&(C[Vn++]=m)}return C})(xa(lr),(function(mr){return Ti.call(lr,mr)})))}:function(){return[]},Es=il;function Hu(lr,mr){return!!(mr=mr??Re)&&(typeof lr=="number"||la.test(lr))&&lr>-1&&lr%1==0&&lr<mr}function Ps(lr){if(lr!=null){try{return Yt.call(lr)}catch{}try{return lr+""}catch{}}return""}function du(lr,mr){return lr===mr||lr!=lr&&mr!=mr}(Lo&&Es(new Lo(new ArrayBuffer(1)))!=Ii||Qa&&Es(new Qa)!=Sn||ao&&Es(ao.resolve())!=Nn||$l&&Es(new $l)!=jn||wu&&Es(new wu)!=yi)&&(Es=function(lr){var mr=il(lr),An=mr==Wn?lr.constructor:void 0,Dn=An?Ps(An):"";if(Dn)switch(Dn){case Ul:return Ii;case Rc:return Sn;case po:return Nn;case Su:return jn;case vc:return yi}return mr});var Eo=ws((function(){return arguments})())?ws:function(lr){return Eu(lr)&&ve.call(lr,"callee")&&!Ti.call(lr,"callee")},fu=Array.isArray,pu=Pi||function(){return!1};function Al(lr){if(!Xc(lr))return!1;var mr=il(lr);return mr==un||mr=="[object GeneratorFunction]"||mr=="[object AsyncFunction]"||mr=="[object Proxy]"}function _c(lr){return typeof lr=="number"&&lr>-1&&lr%1==0&&lr<=Re}function Xc(lr){var mr=typeof lr;return lr!=null&&(mr=="object"||mr=="function")}function Eu(lr){return lr!=null&&typeof lr=="object"}var xc=fo?(function(lr){return function(mr){return lr(mr)}})(fo):function(lr){return Eu(lr)&&_c(lr.length)&&!!Bn[il(lr)]};function Ts(lr){return(mr=lr)!=null&&_c(mr.length)&&!Al(mr)?bc(lr):Hc(lr);var mr}Q.exports=function(lr,mr){return Zs(lr,mr)}})(El,El.exports);var Wo=n(El.exports);function Yo(Q,gt){return Q.length===gt.length&&JSON.stringify(Q.map((function(ee){return ee})).sort())===JSON.stringify(gt.map((function(ee){return ee})).sort())}var Ko={Polygon:qt,LineString:Nt,Point:At,MultiPolygon:ce,MultiLineString:ce,MultiPoint:ce},Zo=Object.freeze({__proto__:null,CommonSelectors:Mt,constrainFeatureMovement:sa,createMidPoint:Ue,createSupplementaryPoints:fr,createVertex:Ge,doubleClickZoom:Ke,euclideanDistance:Ct,featuresAt:mt,getFeatureAtAndSetCursors:pt,isClick:vt,isEventAtCoordinates:zl,isTap:It,mapEventToBoundingBox:at,ModeHandler:r,moveFeatures:cu,sortFeatures:bt,stringSetsAreEqual:Yo,StringSet:$,theme:Pr,toDenseArray:ke}),ic=function(Q,gt){var ee={options:Q=(function(qe){qe===void 0&&(qe={});var Fe=Mr(qe);return qe.controls||(Fe.controls={}),qe.displayControlsDefault===!1?Fe.controls=Mr(Gc,qe.controls):Fe.controls=Mr(fl,qe.controls),(Fe=Mr(Ga,Fe)).styles=pl(Fe.styles,"cold").concat(pl(Fe.styles,"hot")),Fe})(Q)};gt=(function(qe,Fe){return Fe.modes=U,Fe.getFeatureIdsAt=function(nr){return mt.click({point:nr},null,qe).map((function(rn){return rn.properties.id}))},Fe.getSelectedIds=function(){return qe.store.getSelectedIds()},Fe.getSelected=function(){return{type:D.FEATURE_COLLECTION,features:qe.store.getSelectedIds().map((function(nr){return qe.store.get(nr)})).map((function(nr){return nr.toGeoJSON()}))}},Fe.getSelectedPoints=function(){return{type:D.FEATURE_COLLECTION,features:qe.store.getSelectedCoordinates().map((function(nr){return{type:D.FEATURE,properties:{},geometry:{type:D.POINT,coordinates:nr.coordinates}}}))}},Fe.set=function(nr){if(nr.type===void 0||nr.type!==D.FEATURE_COLLECTION||!Array.isArray(nr.features))throw new Error("Invalid FeatureCollection");var rn=qe.store.createRenderBatch(),pn=qe.store.getAllIds().slice(),un=Fe.add(nr),Sn=new $(un);return(pn=pn.filter((function(dn){return!Sn.has(dn)}))).length&&Fe.delete(pn),rn(),un},Fe.add=function(nr){var rn=JSON.parse(JSON.stringify(Wr(nr))).features.map((function(pn){if(pn.id=pn.id||lt(),pn.geometry===null)throw new Error("Invalid geometry: null");if(qe.store.get(pn.id)===void 0||qe.store.get(pn.id).type!==pn.geometry.type){var un=Ko[pn.geometry.type];if(un===void 0)throw new Error("Invalid geometry type: "+pn.geometry.type+".");var Sn=new un(qe,pn);qe.store.add(Sn)}else{var dn=qe.store.get(pn.id);dn.properties=pn.properties,Wo(dn.properties,pn.properties)||qe.store.featureChanged(dn.id),Wo(dn.getCoordinates(),pn.geometry.coordinates)||dn.incomingCoords(pn.geometry.coordinates)}return pn.id}));return qe.store.render(),rn},Fe.get=function(nr){var rn=qe.store.get(nr);if(rn)return rn.toGeoJSON()},Fe.getAll=function(){return{type:D.FEATURE_COLLECTION,features:qe.store.getAll().map((function(nr){return nr.toGeoJSON()}))}},Fe.delete=function(nr){return qe.store.delete(nr,{silent:!0}),Fe.getMode()!==U.DIRECT_SELECT||qe.store.getSelectedIds().length?qe.store.render():qe.events.changeMode(U.SIMPLE_SELECT,void 0,{silent:!0}),Fe},Fe.deleteAll=function(){return qe.store.delete(qe.store.getAllIds(),{silent:!0}),Fe.getMode()===U.DIRECT_SELECT?qe.events.changeMode(U.SIMPLE_SELECT,void 0,{silent:!0}):qe.store.render(),Fe},Fe.changeMode=function(nr,rn){return rn===void 0&&(rn={}),nr===U.SIMPLE_SELECT&&Fe.getMode()===U.SIMPLE_SELECT?(Yo(rn.featureIds||[],qe.store.getSelectedIds())||(qe.store.setSelected(rn.featureIds,{silent:!0}),qe.store.render()),Fe):(nr===U.DIRECT_SELECT&&Fe.getMode()===U.DIRECT_SELECT&&rn.featureId===qe.store.getSelectedIds()[0]||qe.events.changeMode(nr,rn,{silent:!0}),Fe)},Fe.getMode=function(){return qe.events.getMode()},Fe.trash=function(){return qe.events.trash({silent:!0}),Fe},Fe.combineFeatures=function(){return qe.events.combineFeatures({silent:!0}),Fe},Fe.uncombineFeatures=function(){return qe.events.uncombineFeatures({silent:!0}),Fe},Fe.setFeatureProperty=function(nr,rn,pn){return qe.store.setFeatureProperty(nr,rn,pn),Fe},Fe})(ee,gt),ee.api=gt;var Re=Rr(ee);return gt.onAdd=Re.onAdd,gt.onRemove=Re.onRemove,gt.types=O,gt.options=Q,gt};function yc(Q){ic(Q,this)}return yc.modes=Fl,yc.constants=rt,yc.lib=Zo,yc}))})(IL)),IL.exports}wpt();ba(yr.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}));ba(yr.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}));ba(yr.jsx("path",{d:"m2 9 4 12h12l4-12-10-7z"}));qr(qw)({marginTop:"15px"});ba(yr.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));ba(yr.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}));ba(yr.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}));ba(yr.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));l0(_4)({paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"});l0(x4)({minWidth:"30px"});l0(My)({marginRight:"0px",padding:"0px"});l0(xq)({padding:0,marginRight:"5px"});l0(Frt)(({open:t})=>({display:t?"block":"none"}));l0(qw)({marginLeft:"50px"});var od={},wb={},eI,Uz;function UG(){if(Uz)return eI;Uz=1;var t=typeof py=="object"&&py&&py.Object===Object&&py;return eI=t,eI}var rI,qz;function jm(){if(qz)return rI;qz=1;var t=UG(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return rI=r,rI}var nI,Gz;function Ww(){if(Gz)return nI;Gz=1;var t=jm(),e=t.Symbol;return nI=e,nI}var iI,Hz;function Spt(){if(Hz)return iI;Hz=1;var t=Ww(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(u){var a=r.call(u,i),g=u[i];try{u[i]=void 0;var v=!0}catch{}var x=n.call(u);return v&&(a?u[i]=g:delete u[i]),x}return iI=o,iI}var aI,Xz;function Ept(){if(Xz)return aI;Xz=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return aI=r,aI}var oI,Wz;function f0(){if(Wz)return oI;Wz=1;var t=Ww(),e=Spt(),r=Ept(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function u(a){return a==null?a===void 0?i:n:o&&o in Object(a)?e(a):r(a)}return oI=u,oI}var sI,Yz;function Ip(){if(Yz)return sI;Yz=1;var t=Array.isArray;return sI=t,sI}var lI,Kz;function Ig(){if(Kz)return lI;Kz=1;function t(e){return e!=null&&typeof e=="object"}return lI=t,lI}var uI,Zz;function Tpt(){if(Zz)return uI;Zz=1;var t=f0(),e=Ip(),r=Ig(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return uI=i,uI}var cI,Qz;function Cpt(){if(Qz)return cI;Qz=1;function t(e){return function(r,n,i){for(var o=-1,u=Object(r),a=i(r),g=a.length;g--;){var v=a[e?g:++o];if(n(u[v],v,u)===!1)break}return r}}return cI=t,cI}var hI,Jz;function Apt(){if(Jz)return hI;Jz=1;var t=Cpt(),e=t();return hI=e,hI}var dI,t8;function kpt(){if(t8)return dI;t8=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return dI=t,dI}var fI,e8;function Ipt(){if(e8)return fI;e8=1;var t=f0(),e=Ig(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return fI=n,fI}var pI,r8;function qG(){if(r8)return pI;r8=1;var t=Ipt(),e=Ig(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(u){return e(u)&&n.call(u,"callee")&&!i.call(u,"callee")};return pI=o,pI}var vE={exports:{}},mI,n8;function Rpt(){if(n8)return mI;n8=1;function t(){return!1}return mI=t,mI}vE.exports;var i8;function D4(){return i8||(i8=1,(function(t,e){var r=jm(),n=Rpt(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,u=o&&o.exports===i,a=u?r.Buffer:void 0,g=a?a.isBuffer:void 0,v=g||n;t.exports=v})(vE,vE.exports)),vE.exports}var gI,a8;function GG(){if(a8)return gI;a8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return gI=r,gI}var yI,o8;function B4(){if(o8)return yI;o8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return yI=e,yI}var vI,s8;function Npt(){if(s8)return vI;s8=1;var t=f0(),e=B4(),r=Ig(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",u="[object Date]",a="[object Error]",g="[object Function]",v="[object Map]",x="[object Number]",k="[object Object]",R="[object RegExp]",A="[object Set]",O="[object String]",D="[object WeakMap]",U="[object ArrayBuffer]",H="[object DataView]",G="[object Float32Array]",z="[object Float64Array]",j="[object Int8Array]",X="[object Int16Array]",Y="[object Int32Array]",rt="[object Uint8Array]",st="[object Uint8ClampedArray]",it="[object Uint16Array]",bt="[object Uint32Array]",at={};at[G]=at[z]=at[j]=at[X]=at[Y]=at[rt]=at[st]=at[it]=at[bt]=!0,at[n]=at[i]=at[U]=at[o]=at[H]=at[u]=at[a]=at[g]=at[v]=at[x]=at[k]=at[R]=at[A]=at[O]=at[D]=!1;function $(dt){return r(dt)&&e(dt.length)&&!!at[t(dt)]}return vI=$,vI}var bI,l8;function z4(){if(l8)return bI;l8=1;function t(e){return function(r){return e(r)}}return bI=t,bI}var bE={exports:{}};bE.exports;var u8;function F4(){return u8||(u8=1,(function(t,e){var r=UG(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,u=o&&r.process,a=(function(){try{var g=i&&i.require&&i.require("util").types;return g||u&&u.binding&&u.binding("util")}catch{}})();t.exports=a})(bE,bE.exports)),bE.exports}var _I,c8;function HG(){if(c8)return _I;c8=1;var t=Npt(),e=z4(),r=F4(),n=r&&r.isTypedArray,i=n?e(n):t;return _I=i,_I}var xI,h8;function XG(){if(h8)return xI;h8=1;var t=kpt(),e=qG(),r=Ip(),n=D4(),i=GG(),o=HG(),u=Object.prototype,a=u.hasOwnProperty;function g(v,x){var k=r(v),R=!k&&e(v),A=!k&&!R&&n(v),O=!k&&!R&&!A&&o(v),D=k||R||A||O,U=D?t(v.length,String):[],H=U.length;for(var G in v)(x||a.call(v,G))&&!(D&&(G=="length"||A&&(G=="offset"||G=="parent")||O&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||i(G,H)))&&U.push(G);return U}return xI=g,xI}var wI,d8;function j4(){if(d8)return wI;d8=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return wI=e,wI}var SI,f8;function WG(){if(f8)return SI;f8=1;function t(e,r){return function(n){return e(r(n))}}return SI=t,SI}var EI,p8;function Lpt(){if(p8)return EI;p8=1;var t=WG(),e=t(Object.keys,Object);return EI=e,EI}var TI,m8;function Mpt(){if(m8)return TI;m8=1;var t=j4(),e=Lpt(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var u=[];for(var a in Object(o))n.call(o,a)&&a!="constructor"&&u.push(a);return u}return TI=i,TI}var CI,g8;function yx(){if(g8)return CI;g8=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return CI=t,CI}var AI,y8;function YG(){if(y8)return AI;y8=1;var t=f0(),e=yx(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function u(a){if(!e(a))return!1;var g=t(a);return g==n||g==i||g==r||g==o}return AI=u,AI}var kI,v8;function WC(){if(v8)return kI;v8=1;var t=YG(),e=B4();function r(n){return n!=null&&e(n.length)&&!t(n)}return kI=r,kI}var II,b8;function Yw(){if(b8)return II;b8=1;var t=XG(),e=Mpt(),r=WC();function n(i){return r(i)?t(i):e(i)}return II=n,II}var RI,_8;function KG(){if(_8)return RI;_8=1;var t=Apt(),e=Yw();function r(n,i){return n&&t(n,i,e)}return RI=r,RI}var NI,x8;function ZG(){if(x8)return NI;x8=1;function t(e){return e}return NI=t,NI}var LI,w8;function Ppt(){if(w8)return LI;w8=1;var t=ZG();function e(r){return typeof r=="function"?r:t}return LI=e,LI}var MI,S8;function V4(){if(S8)return MI;S8=1;var t=KG(),e=Ppt();function r(n,i){return n&&t(n,e(i))}return MI=r,MI}var PI,E8;function $4(){if(E8)return PI;E8=1;var t=WG(),e=t(Object.getPrototypeOf,Object);return PI=e,PI}var OI,T8;function Opt(){if(T8)return OI;T8=1;var t=f0(),e=$4(),r=Ig(),n="[object Object]",i=Function.prototype,o=Object.prototype,u=i.toString,a=o.hasOwnProperty,g=u.call(Object);function v(x){if(!r(x)||t(x)!=n)return!1;var k=e(x);if(k===null)return!0;var R=a.call(k,"constructor")&&k.constructor;return typeof R=="function"&&R instanceof R&&u.call(R)==g}return OI=v,OI}var DI,C8;function QG(){if(C8)return DI;C8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return DI=t,DI}var BI,A8;function Dpt(){if(A8)return BI;A8=1;function t(){this.__data__=[],this.size=0}return BI=t,BI}var zI,k8;function U4(){if(k8)return zI;k8=1;function t(e,r){return e===r||e!==e&&r!==r}return zI=t,zI}var FI,I8;function YC(){if(I8)return FI;I8=1;var t=U4();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return FI=e,FI}var jI,R8;function Bpt(){if(R8)return jI;R8=1;var t=YC(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,u=t(o,i);if(u<0)return!1;var a=o.length-1;return u==a?o.pop():r.call(o,u,1),--this.size,!0}return jI=n,jI}var VI,N8;function zpt(){if(N8)return VI;N8=1;var t=YC();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return VI=e,VI}var $I,L8;function Fpt(){if(L8)return $I;L8=1;var t=YC();function e(r){return t(this.__data__,r)>-1}return $I=e,$I}var UI,M8;function jpt(){if(M8)return UI;M8=1;var t=YC();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return UI=e,UI}var qI,P8;function KC(){if(P8)return qI;P8=1;var t=Dpt(),e=Bpt(),r=zpt(),n=Fpt(),i=jpt();function o(u){var a=-1,g=u==null?0:u.length;for(this.clear();++a<g;){var v=u[a];this.set(v[0],v[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,qI=o,qI}var GI,O8;function Vpt(){if(O8)return GI;O8=1;var t=KC();function e(){this.__data__=new t,this.size=0}return GI=e,GI}var HI,D8;function $pt(){if(D8)return HI;D8=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return HI=t,HI}var XI,B8;function Upt(){if(B8)return XI;B8=1;function t(e){return this.__data__.get(e)}return XI=t,XI}var WI,z8;function qpt(){if(z8)return WI;z8=1;function t(e){return this.__data__.has(e)}return WI=t,WI}var YI,F8;function Gpt(){if(F8)return YI;F8=1;var t=jm(),e=t["__core-js_shared__"];return YI=e,YI}var KI,j8;function Hpt(){if(j8)return KI;j8=1;var t=Gpt(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return KI=r,KI}var ZI,V8;function JG(){if(V8)return ZI;V8=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return ZI=r,ZI}var QI,$8;function Xpt(){if($8)return QI;$8=1;var t=YG(),e=Hpt(),r=yx(),n=JG(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,u=Function.prototype,a=Object.prototype,g=u.toString,v=a.hasOwnProperty,x=RegExp("^"+g.call(v).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k(R){if(!r(R)||e(R))return!1;var A=t(R)?x:o;return A.test(n(R))}return QI=k,QI}var JI,U8;function Wpt(){if(U8)return JI;U8=1;function t(e,r){return e?.[r]}return JI=t,JI}var t3,q8;function p0(){if(q8)return t3;q8=1;var t=Xpt(),e=Wpt();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return t3=r,t3}var e3,G8;function q4(){if(G8)return e3;G8=1;var t=p0(),e=jm(),r=t(e,"Map");return e3=r,e3}var r3,H8;function ZC(){if(H8)return r3;H8=1;var t=p0(),e=t(Object,"create");return r3=e,r3}var n3,X8;function Ypt(){if(X8)return n3;X8=1;var t=ZC();function e(){this.__data__=t?t(null):{},this.size=0}return n3=e,n3}var i3,W8;function Kpt(){if(W8)return i3;W8=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return i3=t,i3}var a3,Y8;function Zpt(){if(Y8)return a3;Y8=1;var t=ZC(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var u=this.__data__;if(t){var a=u[o];return a===e?void 0:a}return n.call(u,o)?u[o]:void 0}return a3=i,a3}var o3,K8;function Qpt(){if(K8)return o3;K8=1;var t=ZC(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return o3=n,o3}var s3,Z8;function Jpt(){if(Z8)return s3;Z8=1;var t=ZC(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return s3=r,s3}var l3,Q8;function tmt(){if(Q8)return l3;Q8=1;var t=Ypt(),e=Kpt(),r=Zpt(),n=Qpt(),i=Jpt();function o(u){var a=-1,g=u==null?0:u.length;for(this.clear();++a<g;){var v=u[a];this.set(v[0],v[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,l3=o,l3}var u3,J8;function emt(){if(J8)return u3;J8=1;var t=tmt(),e=KC(),r=q4();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return u3=n,u3}var c3,tF;function rmt(){if(tF)return c3;tF=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return c3=t,c3}var h3,eF;function QC(){if(eF)return h3;eF=1;var t=rmt();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return h3=e,h3}var d3,rF;function nmt(){if(rF)return d3;rF=1;var t=QC();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return d3=e,d3}var f3,nF;function imt(){if(nF)return f3;nF=1;var t=QC();function e(r){return t(this,r).get(r)}return f3=e,f3}var p3,iF;function amt(){if(iF)return p3;iF=1;var t=QC();function e(r){return t(this,r).has(r)}return p3=e,p3}var m3,aF;function omt(){if(aF)return m3;aF=1;var t=QC();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return m3=e,m3}var g3,oF;function G4(){if(oF)return g3;oF=1;var t=emt(),e=nmt(),r=imt(),n=amt(),i=omt();function o(u){var a=-1,g=u==null?0:u.length;for(this.clear();++a<g;){var v=u[a];this.set(v[0],v[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,g3=o,g3}var y3,sF;function smt(){if(sF)return y3;sF=1;var t=KC(),e=q4(),r=G4(),n=200;function i(o,u){var a=this.__data__;if(a instanceof t){var g=a.__data__;if(!e||g.length<n-1)return g.push([o,u]),this.size=++a.size,this;a=this.__data__=new r(g)}return a.set(o,u),this.size=a.size,this}return y3=i,y3}var v3,lF;function H4(){if(lF)return v3;lF=1;var t=KC(),e=Vpt(),r=$pt(),n=Upt(),i=qpt(),o=smt();function u(a){var g=this.__data__=new t(a);this.size=g.size}return u.prototype.clear=e,u.prototype.delete=r,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,v3=u,v3}var b3,uF;function lmt(){if(uF)return b3;uF=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return b3=e,b3}var _3,cF;function umt(){if(cF)return _3;cF=1;function t(e){return this.__data__.has(e)}return _3=t,_3}var x3,hF;function cmt(){if(hF)return x3;hF=1;var t=G4(),e=lmt(),r=umt();function n(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new t;++o<u;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,x3=n,x3}var w3,dF;function hmt(){if(dF)return w3;dF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return w3=t,w3}var S3,fF;function dmt(){if(fF)return S3;fF=1;function t(e,r){return e.has(r)}return S3=t,S3}var E3,pF;function tH(){if(pF)return E3;pF=1;var t=cmt(),e=hmt(),r=dmt(),n=1,i=2;function o(u,a,g,v,x,k){var R=g&n,A=u.length,O=a.length;if(A!=O&&!(R&&O>A))return!1;var D=k.get(u),U=k.get(a);if(D&&U)return D==a&&U==u;var H=-1,G=!0,z=g&i?new t:void 0;for(k.set(u,a),k.set(a,u);++H<A;){var j=u[H],X=a[H];if(v)var Y=R?v(X,j,H,a,u,k):v(j,X,H,u,a,k);if(Y!==void 0){if(Y)continue;G=!1;break}if(z){if(!e(a,function(rt,st){if(!r(z,st)&&(j===rt||x(j,rt,g,v,k)))return z.push(st)})){G=!1;break}}else if(!(j===X||x(j,X,g,v,k))){G=!1;break}}return k.delete(u),k.delete(a),G}return E3=o,E3}var T3,mF;function eH(){if(mF)return T3;mF=1;var t=jm(),e=t.Uint8Array;return T3=e,T3}var C3,gF;function fmt(){if(gF)return C3;gF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return C3=t,C3}var A3,yF;function pmt(){if(yF)return A3;yF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return A3=t,A3}var k3,vF;function mmt(){if(vF)return k3;vF=1;var t=Ww(),e=eH(),r=U4(),n=tH(),i=fmt(),o=pmt(),u=1,a=2,g="[object Boolean]",v="[object Date]",x="[object Error]",k="[object Map]",R="[object Number]",A="[object RegExp]",O="[object Set]",D="[object String]",U="[object Symbol]",H="[object ArrayBuffer]",G="[object DataView]",z=t?t.prototype:void 0,j=z?z.valueOf:void 0;function X(Y,rt,st,it,bt,at,$){switch(st){case G:if(Y.byteLength!=rt.byteLength||Y.byteOffset!=rt.byteOffset)return!1;Y=Y.buffer,rt=rt.buffer;case H:return!(Y.byteLength!=rt.byteLength||!at(new e(Y),new e(rt)));case g:case v:case R:return r(+Y,+rt);case x:return Y.name==rt.name&&Y.message==rt.message;case A:case D:return Y==rt+"";case k:var dt=i;case O:var mt=it&u;if(dt||(dt=o),Y.size!=rt.size&&!mt)return!1;var wt=$.get(Y);if(wt)return wt==rt;it|=a,$.set(Y,rt);var pt=n(dt(Y),dt(rt),it,bt,at,$);return $.delete(Y),pt;case U:if(j)return j.call(Y)==j.call(rt)}return!1}return k3=X,k3}var I3,bF;function rH(){if(bF)return I3;bF=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return I3=t,I3}var R3,_F;function nH(){if(_F)return R3;_F=1;var t=rH(),e=Ip();function r(n,i,o){var u=i(n);return e(n)?u:t(u,o(n))}return R3=r,R3}var N3,xF;function gmt(){if(xF)return N3;xF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,u=[];++n<i;){var a=e[n];r(a,n,e)&&(u[o++]=a)}return u}return N3=t,N3}var L3,wF;function iH(){if(wF)return L3;wF=1;function t(){return[]}return L3=t,L3}var M3,SF;function X4(){if(SF)return M3;SF=1;var t=gmt(),e=iH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(u){return u==null?[]:(u=Object(u),t(i(u),function(a){return n.call(u,a)}))}:e;return M3=o,M3}var P3,EF;function aH(){if(EF)return P3;EF=1;var t=nH(),e=X4(),r=Yw();function n(i){return t(i,r,e)}return P3=n,P3}var O3,TF;function ymt(){if(TF)return O3;TF=1;var t=aH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,u,a,g,v,x){var k=a&e,R=t(o),A=R.length,O=t(u),D=O.length;if(A!=D&&!k)return!1;for(var U=A;U--;){var H=R[U];if(!(k?H in u:n.call(u,H)))return!1}var G=x.get(o),z=x.get(u);if(G&&z)return G==u&&z==o;var j=!0;x.set(o,u),x.set(u,o);for(var X=k;++U<A;){H=R[U];var Y=o[H],rt=u[H];if(g)var st=k?g(rt,Y,H,u,o,x):g(Y,rt,H,o,u,x);if(!(st===void 0?Y===rt||v(Y,rt,a,g,x):st)){j=!1;break}X||(X=H=="constructor")}if(j&&!X){var it=o.constructor,bt=u.constructor;it!=bt&&"constructor"in o&&"constructor"in u&&!(typeof it=="function"&&it instanceof it&&typeof bt=="function"&&bt instanceof bt)&&(j=!1)}return x.delete(o),x.delete(u),j}return O3=i,O3}var D3,CF;function vmt(){if(CF)return D3;CF=1;var t=p0(),e=jm(),r=t(e,"DataView");return D3=r,D3}var B3,AF;function bmt(){if(AF)return B3;AF=1;var t=p0(),e=jm(),r=t(e,"Promise");return B3=r,B3}var z3,kF;function _mt(){if(kF)return z3;kF=1;var t=p0(),e=jm(),r=t(e,"Set");return z3=r,z3}var F3,IF;function xmt(){if(IF)return F3;IF=1;var t=p0(),e=jm(),r=t(e,"WeakMap");return F3=r,F3}var j3,RF;function JC(){if(RF)return j3;RF=1;var t=vmt(),e=q4(),r=bmt(),n=_mt(),i=xmt(),o=f0(),u=JG(),a="[object Map]",g="[object Object]",v="[object Promise]",x="[object Set]",k="[object WeakMap]",R="[object DataView]",A=u(t),O=u(e),D=u(r),U=u(n),H=u(i),G=o;return(t&&G(new t(new ArrayBuffer(1)))!=R||e&&G(new e)!=a||r&&G(r.resolve())!=v||n&&G(new n)!=x||i&&G(new i)!=k)&&(G=function(z){var j=o(z),X=j==g?z.constructor:void 0,Y=X?u(X):"";if(Y)switch(Y){case A:return R;case O:return a;case D:return v;case U:return x;case H:return k}return j}),j3=G,j3}var V3,NF;function wmt(){if(NF)return V3;NF=1;var t=H4(),e=tH(),r=mmt(),n=ymt(),i=JC(),o=Ip(),u=D4(),a=HG(),g=1,v="[object Arguments]",x="[object Array]",k="[object Object]",R=Object.prototype,A=R.hasOwnProperty;function O(D,U,H,G,z,j){var X=o(D),Y=o(U),rt=X?x:i(D),st=Y?x:i(U);rt=rt==v?k:rt,st=st==v?k:st;var it=rt==k,bt=st==k,at=rt==st;if(at&&u(D)){if(!u(U))return!1;X=!0,it=!1}if(at&&!it)return j||(j=new t),X||a(D)?e(D,U,H,G,z,j):r(D,U,rt,H,G,z,j);if(!(H&g)){var $=it&&A.call(D,"__wrapped__"),dt=bt&&A.call(U,"__wrapped__");if($||dt){var mt=$?D.value():D,wt=dt?U.value():U;return j||(j=new t),z(mt,wt,H,G,j)}}return at?(j||(j=new t),n(D,U,H,G,z,j)):!1}return V3=O,V3}var $3,LF;function oH(){if(LF)return $3;LF=1;var t=wmt(),e=Ig();function r(n,i,o,u,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,u,r,a)}return $3=r,$3}var U3,MF;function Smt(){if(MF)return U3;MF=1;var t=H4(),e=oH(),r=1,n=2;function i(o,u,a,g){var v=a.length,x=v,k=!g;if(o==null)return!x;for(o=Object(o);v--;){var R=a[v];if(k&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++v<x;){R=a[v];var A=R[0],O=o[A],D=R[1];if(k&&R[2]){if(O===void 0&&!(A in o))return!1}else{var U=new t;if(g)var H=g(O,D,A,o,u,U);if(!(H===void 0?e(D,O,r|n,g,U):H))return!1}}return!0}return U3=i,U3}var q3,PF;function sH(){if(PF)return q3;PF=1;var t=yx();function e(r){return r===r&&!t(r)}return q3=e,q3}var G3,OF;function Emt(){if(OF)return G3;OF=1;var t=sH(),e=Yw();function r(n){for(var i=e(n),o=i.length;o--;){var u=i[o],a=n[u];i[o]=[u,a,t(a)]}return i}return G3=r,G3}var H3,DF;function lH(){if(DF)return H3;DF=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return H3=t,H3}var X3,BF;function Tmt(){if(BF)return X3;BF=1;var t=Smt(),e=Emt(),r=lH();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(u){return u===i||t(u,i,o)}}return X3=n,X3}var W3,zF;function W4(){if(zF)return W3;zF=1;var t=f0(),e=Ig(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return W3=n,W3}var Y3,FF;function Y4(){if(FF)return Y3;FF=1;var t=Ip(),e=W4(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,u){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||u!=null&&o in Object(u)}return Y3=i,Y3}var K3,jF;function Cmt(){if(jF)return K3;jF=1;var t=G4(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var u=arguments,a=i?i.apply(this,u):u[0],g=o.cache;if(g.has(a))return g.get(a);var v=n.apply(this,u);return o.cache=g.set(a,v)||g,v};return o.cache=new(r.Cache||t),o}return r.Cache=t,K3=r,K3}var Z3,VF;function Amt(){if(VF)return Z3;VF=1;var t=Cmt(),e=500;function r(n){var i=t(n,function(u){return o.size===e&&o.clear(),u}),o=i.cache;return i}return Z3=r,Z3}var Q3,$F;function kmt(){if($F)return Q3;$F=1;var t=Amt(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(u,a,g,v){o.push(g?v.replace(r,"$1"):a||u)}),o});return Q3=n,Q3}var J3,UF;function Imt(){if(UF)return J3;UF=1;var t=Ww(),e=QG(),r=Ip(),n=W4(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function u(a){if(typeof a=="string")return a;if(r(a))return e(a,u)+"";if(n(a))return o?o.call(a):"";var g=a+"";return g=="0"&&1/a==-1/0?"-0":g}return J3=u,J3}var tR,qF;function Rmt(){if(qF)return tR;qF=1;var t=Imt();function e(r){return r==null?"":t(r)}return tR=e,tR}var eR,GF;function uH(){if(GF)return eR;GF=1;var t=Ip(),e=Y4(),r=kmt(),n=Rmt();function i(o,u){return t(o)?o:e(o,u)?[o]:r(n(o))}return eR=i,eR}var rR,HF;function tA(){if(HF)return rR;HF=1;var t=W4();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return rR=e,rR}var nR,XF;function cH(){if(XF)return nR;XF=1;var t=uH(),e=tA();function r(n,i){i=t(i,n);for(var o=0,u=i.length;n!=null&&o<u;)n=n[e(i[o++])];return o&&o==u?n:void 0}return nR=r,nR}var iR,WF;function Nmt(){if(WF)return iR;WF=1;var t=cH();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return iR=e,iR}var aR,YF;function Lmt(){if(YF)return aR;YF=1;function t(e,r){return e!=null&&r in Object(e)}return aR=t,aR}var oR,KF;function Mmt(){if(KF)return oR;KF=1;var t=uH(),e=qG(),r=Ip(),n=GG(),i=B4(),o=tA();function u(a,g,v){g=t(g,a);for(var x=-1,k=g.length,R=!1;++x<k;){var A=o(g[x]);if(!(R=a!=null&&v(a,A)))break;a=a[A]}return R||++x!=k?R:(k=a==null?0:a.length,!!k&&i(k)&&n(A,k)&&(r(a)||e(a)))}return oR=u,oR}var sR,ZF;function Pmt(){if(ZF)return sR;ZF=1;var t=Lmt(),e=Mmt();function r(n,i){return n!=null&&e(n,i,t)}return sR=r,sR}var lR,QF;function Omt(){if(QF)return lR;QF=1;var t=oH(),e=Nmt(),r=Pmt(),n=Y4(),i=sH(),o=lH(),u=tA(),a=1,g=2;function v(x,k){return n(x)&&i(k)?o(u(x),k):function(R){var A=e(R,x);return A===void 0&&A===k?r(R,x):t(k,A,a|g)}}return lR=v,lR}var uR,JF;function Dmt(){if(JF)return uR;JF=1;function t(e){return function(r){return r?.[e]}}return uR=t,uR}var cR,tj;function Bmt(){if(tj)return cR;tj=1;var t=cH();function e(r){return function(n){return t(n,r)}}return cR=e,cR}var hR,ej;function zmt(){if(ej)return hR;ej=1;var t=Dmt(),e=Bmt(),r=Y4(),n=tA();function i(o){return r(o)?t(n(o)):e(o)}return hR=i,hR}var dR,rj;function Fmt(){if(rj)return dR;rj=1;var t=Tmt(),e=Omt(),r=ZG(),n=Ip(),i=zmt();function o(u){return typeof u=="function"?u:u==null?r:typeof u=="object"?n(u)?e(u[0],u[1]):t(u):i(u)}return dR=o,dR}var fR,nj;function jmt(){if(nj)return fR;nj=1;var t=WC();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var u=i.length,a=n?u:-1,g=Object(i);(n?a--:++a<u)&&o(g[a],a,g)!==!1;);return i}}return fR=e,fR}var pR,ij;function Vmt(){if(ij)return pR;ij=1;var t=KG(),e=jmt(),r=e(t);return pR=r,pR}var mR,aj;function $mt(){if(aj)return mR;aj=1;var t=Vmt(),e=WC();function r(n,i){var o=-1,u=e(n)?Array(n.length):[];return t(n,function(a,g,v){u[++o]=i(a,g,v)}),u}return mR=r,mR}var gR,oj;function Umt(){if(oj)return gR;oj=1;var t=QG(),e=Fmt(),r=$mt(),n=Ip();function i(o,u){var a=n(o)?t:r;return a(o,e(u,3))}return gR=i,gR}var sj;function qmt(){if(sj)return wb;sj=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.flattenNames=void 0;var t=Tpt(),e=g(t),r=V4(),n=g(r),i=Opt(),o=g(i),u=Umt(),a=g(u);function g(x){return x&&x.__esModule?x:{default:x}}var v=wb.flattenNames=function x(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=[];return(0,a.default)(k,function(A){Array.isArray(A)?x(A).map(function(O){return R.push(O)}):(0,o.default)(A)?(0,n.default)(A,function(O,D){O===!0&&R.push(D),R.push(D+"-"+O)}):(0,e.default)(A)&&R.push(A)}),R};return wb.default=v,wb}var Sb={},yR,lj;function Gmt(){if(lj)return yR;lj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return yR=t,yR}var vR,uj;function Hmt(){if(uj)return vR;uj=1;var t=p0(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return vR=e,vR}var bR,cj;function hH(){if(cj)return bR;cj=1;var t=Hmt();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return bR=e,bR}var _R,hj;function dH(){if(hj)return _R;hj=1;var t=hH(),e=U4(),r=Object.prototype,n=r.hasOwnProperty;function i(o,u,a){var g=o[u];(!(n.call(o,u)&&e(g,a))||a===void 0&&!(u in o))&&t(o,u,a)}return _R=i,_R}var xR,dj;function eA(){if(dj)return xR;dj=1;var t=dH(),e=hH();function r(n,i,o,u){var a=!o;o||(o={});for(var g=-1,v=i.length;++g<v;){var x=i[g],k=u?u(o[x],n[x],x,o,n):void 0;k===void 0&&(k=n[x]),a?e(o,x,k):t(o,x,k)}return o}return xR=r,xR}var wR,fj;function Xmt(){if(fj)return wR;fj=1;var t=eA(),e=Yw();function r(n,i){return n&&t(i,e(i),n)}return wR=r,wR}var SR,pj;function Wmt(){if(pj)return SR;pj=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return SR=t,SR}var ER,mj;function Ymt(){if(mj)return ER;mj=1;var t=yx(),e=j4(),r=Wmt(),n=Object.prototype,i=n.hasOwnProperty;function o(u){if(!t(u))return r(u);var a=e(u),g=[];for(var v in u)v=="constructor"&&(a||!i.call(u,v))||g.push(v);return g}return ER=o,ER}var TR,gj;function K4(){if(gj)return TR;gj=1;var t=XG(),e=Ymt(),r=WC();function n(i){return r(i)?t(i,!0):e(i)}return TR=n,TR}var CR,yj;function Kmt(){if(yj)return CR;yj=1;var t=eA(),e=K4();function r(n,i){return n&&t(i,e(i),n)}return CR=r,CR}var _E={exports:{}};_E.exports;var vj;function Zmt(){return vj||(vj=1,(function(t,e){var r=jm(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,u=o?r.Buffer:void 0,a=u?u.allocUnsafe:void 0;function g(v,x){if(x)return v.slice();var k=v.length,R=a?a(k):new v.constructor(k);return v.copy(R),R}t.exports=g})(_E,_E.exports)),_E.exports}var AR,bj;function Qmt(){if(bj)return AR;bj=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return AR=t,AR}var kR,_j;function Jmt(){if(_j)return kR;_j=1;var t=eA(),e=X4();function r(n,i){return t(n,e(n),i)}return kR=r,kR}var IR,xj;function fH(){if(xj)return IR;xj=1;var t=rH(),e=$4(),r=X4(),n=iH(),i=Object.getOwnPropertySymbols,o=i?function(u){for(var a=[];u;)t(a,r(u)),u=e(u);return a}:n;return IR=o,IR}var RR,wj;function tgt(){if(wj)return RR;wj=1;var t=eA(),e=fH();function r(n,i){return t(n,e(n),i)}return RR=r,RR}var NR,Sj;function egt(){if(Sj)return NR;Sj=1;var t=nH(),e=fH(),r=K4();function n(i){return t(i,r,e)}return NR=n,NR}var LR,Ej;function rgt(){if(Ej)return LR;Ej=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,o=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return LR=r,LR}var MR,Tj;function Z4(){if(Tj)return MR;Tj=1;var t=eH();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return MR=e,MR}var PR,Cj;function ngt(){if(Cj)return PR;Cj=1;var t=Z4();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return PR=e,PR}var OR,Aj;function igt(){if(Aj)return OR;Aj=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return OR=e,OR}var DR,kj;function agt(){if(kj)return DR;kj=1;var t=Ww(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return DR=n,DR}var BR,Ij;function ogt(){if(Ij)return BR;Ij=1;var t=Z4();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return BR=e,BR}var zR,Rj;function sgt(){if(Rj)return zR;Rj=1;var t=Z4(),e=ngt(),r=igt(),n=agt(),i=ogt(),o="[object Boolean]",u="[object Date]",a="[object Map]",g="[object Number]",v="[object RegExp]",x="[object Set]",k="[object String]",R="[object Symbol]",A="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",U="[object Float64Array]",H="[object Int8Array]",G="[object Int16Array]",z="[object Int32Array]",j="[object Uint8Array]",X="[object Uint8ClampedArray]",Y="[object Uint16Array]",rt="[object Uint32Array]";function st(it,bt,at){var $=it.constructor;switch(bt){case A:return t(it);case o:case u:return new $(+it);case O:return e(it,at);case D:case U:case H:case G:case z:case j:case X:case Y:case rt:return i(it,at);case a:return new $;case g:case k:return new $(it);case v:return r(it);case x:return new $;case R:return n(it)}}return zR=st,zR}var FR,Nj;function lgt(){if(Nj)return FR;Nj=1;var t=yx(),e=Object.create,r=(function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var o=new n;return n.prototype=void 0,o}})();return FR=r,FR}var jR,Lj;function ugt(){if(Lj)return jR;Lj=1;var t=lgt(),e=$4(),r=j4();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return jR=n,jR}var VR,Mj;function cgt(){if(Mj)return VR;Mj=1;var t=JC(),e=Ig(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return VR=n,VR}var $R,Pj;function hgt(){if(Pj)return $R;Pj=1;var t=cgt(),e=z4(),r=F4(),n=r&&r.isMap,i=n?e(n):t;return $R=i,$R}var UR,Oj;function dgt(){if(Oj)return UR;Oj=1;var t=JC(),e=Ig(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return UR=n,UR}var qR,Dj;function fgt(){if(Dj)return qR;Dj=1;var t=dgt(),e=z4(),r=F4(),n=r&&r.isSet,i=n?e(n):t;return qR=i,qR}var GR,Bj;function pgt(){if(Bj)return GR;Bj=1;var t=H4(),e=Gmt(),r=dH(),n=Xmt(),i=Kmt(),o=Zmt(),u=Qmt(),a=Jmt(),g=tgt(),v=aH(),x=egt(),k=JC(),R=rgt(),A=sgt(),O=ugt(),D=Ip(),U=D4(),H=hgt(),G=yx(),z=fgt(),j=Yw(),X=K4(),Y=1,rt=2,st=4,it="[object Arguments]",bt="[object Array]",at="[object Boolean]",$="[object Date]",dt="[object Error]",mt="[object Function]",wt="[object GeneratorFunction]",pt="[object Map]",Ct="[object Number]",vt="[object Object]",It="[object RegExp]",Ft="[object Set]",Et="[object String]",lt="[object Symbol]",kt="[object WeakMap]",At="[object ArrayBuffer]",Nt="[object DataView]",qt="[object Float32Array]",ie="[object Float64Array]",Ht="[object Int8Array]",ce="[object Int16Array]",de="[object Int32Array]",Se="[object Uint8Array]",$t="[object Uint8ClampedArray]",He="[object Uint16Array]",ke="[object Uint32Array]",Jt={};Jt[it]=Jt[bt]=Jt[At]=Jt[Nt]=Jt[at]=Jt[$]=Jt[qt]=Jt[ie]=Jt[Ht]=Jt[ce]=Jt[de]=Jt[pt]=Jt[Ct]=Jt[vt]=Jt[It]=Jt[Ft]=Jt[Et]=Jt[lt]=Jt[Se]=Jt[$t]=Jt[He]=Jt[ke]=!0,Jt[dt]=Jt[mt]=Jt[kt]=!1;function Vr(vr,Dr,Ie,Mr,ir,Rr){var Pr,Ir=Dr&Y,dr=Dr&rt,ar=Dr&st;if(Ie&&(Pr=ir?Ie(vr,Mr,ir,Rr):Ie(vr)),Pr!==void 0)return Pr;if(!G(vr))return vr;var Or=D(vr);if(Or){if(Pr=R(vr),!Ir)return u(vr,Pr)}else{var er=k(vr),Fr=er==mt||er==wt;if(U(vr))return o(vr,Ir);if(er==vt||er==it||Fr&&!ir){if(Pr=dr||Fr?{}:O(vr),!Ir)return dr?g(vr,i(Pr,vr)):a(vr,n(Pr,vr))}else{if(!Jt[er])return ir?vr:{};Pr=A(vr,er,Ir)}}Rr||(Rr=new t);var Ze=Rr.get(vr);if(Ze)return Ze;Rr.set(vr,Pr),z(vr)?vr.forEach(function(jt){Pr.add(Vr(jt,Dr,Ie,jt,vr,Rr))}):H(vr)&&vr.forEach(function(jt,Mt){Pr.set(Mt,Vr(jt,Dr,Ie,Mt,vr,Rr))});var rr=ar?dr?x:v:dr?X:j,Me=Or?void 0:rr(vr);return e(Me||vr,function(jt,Mt){Me&&(Mt=jt,jt=vr[Mt]),r(Pr,Mt,Vr(jt,Dr,Ie,Mt,vr,Rr))}),Pr}return GR=Vr,GR}var HR,zj;function mgt(){if(zj)return HR;zj=1;var t=pgt(),e=1,r=4;function n(i){return t(i,e|r)}return HR=n,HR}var Fj;function ggt(){if(Fj)return Sb;Fj=1,Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.mergeClasses=void 0;var t=V4(),e=o(t),r=mgt(),n=o(r),i=Object.assign||function(a){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(a[x]=v[x])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var u=Sb.mergeClasses=function(a){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=a.default&&(0,n.default)(a.default)||{};return g.map(function(x){var k=a[x];return k&&(0,e.default)(k,function(R,A){v[A]||(v[A]={}),v[A]=i({},v[A],k[A])}),x}),v};return Sb.default=u,Sb}var Eb={},jj;function ygt(){if(jj)return Eb;jj=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.autoprefix=void 0;var t=V4(),e=n(t),r=Object.assign||function(u){for(var a=1;a<arguments.length;a++){var g=arguments[a];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(u[v]=g[v])}return u};function n(u){return u&&u.__esModule?u:{default:u}}var i={borderRadius:function(u){return{msBorderRadius:u,MozBorderRadius:u,OBorderRadius:u,WebkitBorderRadius:u,borderRadius:u}},boxShadow:function(u){return{msBoxShadow:u,MozBoxShadow:u,OBoxShadow:u,WebkitBoxShadow:u,boxShadow:u}},userSelect:function(u){return{WebkitTouchCallout:u,KhtmlUserSelect:u,MozUserSelect:u,msUserSelect:u,WebkitUserSelect:u,userSelect:u}},flex:function(u){return{WebkitBoxFlex:u,MozBoxFlex:u,WebkitFlex:u,msFlex:u,flex:u}},flexBasis:function(u){return{WebkitFlexBasis:u,flexBasis:u}},justifyContent:function(u){return{WebkitJustifyContent:u,justifyContent:u}},transition:function(u){return{msTransition:u,MozTransition:u,OTransition:u,WebkitTransition:u,transition:u}},transform:function(u){return{msTransform:u,MozTransform:u,OTransform:u,WebkitTransform:u,transform:u}},absolute:function(u){var a=u&&u.split(" ");return{position:"absolute",top:a&&a[0],right:a&&a[1],bottom:a&&a[2],left:a&&a[3]}},extend:function(u,a){var g=a[u];return g||{extend:u}}},o=Eb.autoprefix=function(u){var a={};return(0,e.default)(u,function(g,v){var x={};(0,e.default)(g,function(k,R){var A=i[R];A?x=r({},x,A(k)):x[R]=k}),a[v]=x}),a};return Eb.default=o,Eb}var Tb={},Vj;function vgt(){if(Vj)return Tb;Vj=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.hover=void 0;var t=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(g[k]=x[k])}return g},e=we,r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function o(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function u(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var a=Tb.hover=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(x){u(k,x);function k(){var R,A,O,D;i(this,k);for(var U=arguments.length,H=Array(U),G=0;G<U;G++)H[G]=arguments[G];return D=(A=(O=o(this,(R=k.__proto__||Object.getPrototypeOf(k)).call.apply(R,[this].concat(H))),O),O.state={hover:!1},O.handleMouseOver=function(){return O.setState({hover:!0})},O.handleMouseOut=function(){return O.setState({hover:!1})},O.render=function(){return r.default.createElement(v,{onMouseOver:O.handleMouseOver,onMouseOut:O.handleMouseOut},r.default.createElement(g,t({},O.props,O.state)))},A),o(O,D)}return k})(r.default.Component)};return Tb.default=a,Tb}var Cb={},$j;function bgt(){if($j)return Cb;$j=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.active=void 0;var t=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(g[k]=x[k])}return g},e=we,r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function o(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function u(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var a=Cb.active=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(x){u(k,x);function k(){var R,A,O,D;i(this,k);for(var U=arguments.length,H=Array(U),G=0;G<U;G++)H[G]=arguments[G];return D=(A=(O=o(this,(R=k.__proto__||Object.getPrototypeOf(k)).call.apply(R,[this].concat(H))),O),O.state={active:!1},O.handleMouseDown=function(){return O.setState({active:!0})},O.handleMouseUp=function(){return O.setState({active:!1})},O.render=function(){return r.default.createElement(v,{onMouseDown:O.handleMouseDown,onMouseUp:O.handleMouseUp},r.default.createElement(g,t({},O.props,O.state)))},A),o(O,D)}return k})(r.default.Component)};return Cb.default=a,Cb}var N5={},Uj;function _gt(){if(Uj)return N5;Uj=1,Object.defineProperty(N5,"__esModule",{value:!0});var t=function(e,r){var n={},i=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=u};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};return N5.default=t,N5}var qj;function xgt(){if(qj)return od;qj=1,Object.defineProperty(od,"__esModule",{value:!0}),od.ReactCSS=od.loop=od.handleActive=od.handleHover=od.hover=void 0;var t=qmt(),e=R(t),r=ggt(),n=R(r),i=ygt(),o=R(i),u=vgt(),a=R(u),g=bgt(),v=R(g),x=_gt(),k=R(x);function R(O){return O&&O.__esModule?O:{default:O}}od.hover=a.default,od.handleHover=a.default,od.handleActive=v.default,od.loop=k.default;var A=od.ReactCSS=function(O){for(var D=arguments.length,U=Array(D>1?D-1:0),H=1;H<D;H++)U[H-1]=arguments[H];var G=(0,e.default)(U),z=(0,n.default)(O,G);return(0,o.default)(z)};return od.default=A,od}var Q4=xgt();const _a=Rw(Q4);var wgt=function(t,e,r,n,i){var o=i.clientWidth,u=i.clientHeight,a=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,v=a-(i.getBoundingClientRect().left+window.pageXOffset),x=g-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var k=void 0;if(x<0?k=0:x>u?k=1:k=Math.round(x*100/u)/100,e.a!==k)return{h:e.h,s:e.s,l:e.l,a:k,source:"rgb"}}else{var R=void 0;if(v<0?R=0:v>o?R=1:R=Math.round(v*100/o)/100,n!==R)return{h:e.h,s:e.s,l:e.l,a:R,source:"rgb"}}return null},XR={},Sgt=function(t,e,r,n){if(typeof document>"u"&&!n)return null;var i=n?new n:document.createElement("canvas");i.width=r*2,i.height=r*2;var o=i.getContext("2d");return o?(o.fillStyle=t,o.fillRect(0,0,i.width,i.height),o.fillStyle=e,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null},Egt=function(t,e,r,n){var i=t+"-"+e+"-"+r+(n?"-server":"");if(XR[i])return XR[i];var o=Sgt(t,e,r,n);return XR[i]=o,o},Gj=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx=function(t){var e=t.white,r=t.grey,n=t.size,i=t.renderers,o=t.borderRadius,u=t.boxShadow,a=t.children,g=_a({default:{grid:{borderRadius:o,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+Egt(e,r,n,i.canvas)+") center left"}}});return ht.isValidElement(a)?we.cloneElement(a,Gj({},a.props,{style:Gj({},a.props.style,g.grid)})):we.createElement("div",{style:g.grid})};vx.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Tgt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cgt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function Agt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var J4=(function(t){kgt(e,t);function e(){var r,n,i,o;Agt(this,e);for(var u=arguments.length,a=Array(u),g=0;g<u;g++)a[g]=arguments[g];return o=(n=(i=Hj(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.handleChange=function(v){var x=wgt(v,i.props.hsl,i.props.direction,i.props.a,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,v)},i.handleMouseDown=function(v){i.handleChange(v),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),Hj(i,o)}return Cgt(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,n=this.props.rgb,i=_a({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:n.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+n.r+","+n.g+","+n.b+`, 0) 0%,
           rgba(`+n.r+","+n.g+","+n.b+", 1) 100%)"},pointer:{left:0,top:n.a*100+"%"}},overwrite:Tgt({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return we.createElement("div",{style:i.alpha},we.createElement("div",{style:i.checkboard},we.createElement(vx,{renderers:this.props.renderers})),we.createElement("div",{style:i.gradient}),we.createElement("div",{style:i.container,ref:function(o){return r.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},we.createElement("div",{style:i.pointer},this.props.pointer?we.createElement(this.props.pointer,this.props):we.createElement("div",{style:i.slider}))))}}]),e})(ht.PureComponent||ht.Component),Igt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function Rgt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ngt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lgt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pgt=1,pH=38,Ogt=40,Dgt=[pH,Ogt],Bgt=function(t){return Dgt.indexOf(t)>-1},zgt=function(t){return Number(String(t).replace(/%/g,""))},Fgt=1,Ro=(function(t){Mgt(e,t);function e(r){Ngt(this,e);var n=Lgt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var o=zgt(i.target.value);if(!isNaN(o)&&Bgt(i.keyCode)){var u=n.getArrowOffset(),a=i.keyCode===pH?o+u:o-u;n.setUpdatedValue(a,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var o=Math.round(n.props.value+i.movementX);o>=0&&o<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(o),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Fgt++,n}return Igt(e,[{key:"componentDidUpdate",value:function(r,n){this.props.value!==this.state.value&&(r.value!==this.props.value||n.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Rgt({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Pgt}},{key:"setUpdatedValue",value:function(r,n){var i=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(i,n),this.setState({value:r})}},{key:"render",value:function(){var r=this,n=_a({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return we.createElement("div",{style:n.wrap},we.createElement("input",{id:this.inputId,style:n.input,ref:function(i){return r.input=i},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?we.createElement("label",{htmlFor:this.inputId,style:n.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e})(ht.PureComponent||ht.Component),jgt=function(t,e,r,n){var i=n.clientWidth,o=n.clientHeight,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,a=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=u-(n.getBoundingClientRect().left+window.pageXOffset),v=a-(n.getBoundingClientRect().top+window.pageYOffset);if(e==="vertical"){var x=void 0;if(v<0)x=359;else if(v>o)x=0;else{var k=-(v*100/o)+100;x=360*k/100}if(r.h!==x)return{h:x,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var R=void 0;if(g<0)R=0;else if(g>i)R=359;else{var A=g*100/i;R=360*A/100}if(r.h!==R)return{h:R,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Vgt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function $gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ugt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bx=(function(t){Ugt(e,t);function e(){var r,n,i,o;$gt(this,e);for(var u=arguments.length,a=Array(u),g=0;g<u;g++)a[g]=arguments[g];return o=(n=(i=Xj(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.handleChange=function(v){var x=jgt(v,i.props.direction,i.props.hsl,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,v)},i.handleMouseDown=function(v){i.handleChange(v),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),Xj(i,o)}return Vgt(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,n=this.props.direction,i=n===void 0?"horizontal":n,o=_a({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:i==="vertical"});return we.createElement("div",{style:o.hue},we.createElement("div",{className:"hue-"+i,style:o.container,ref:function(u){return r.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},we.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),we.createElement("div",{style:o.pointer},this.props.pointer?we.createElement(this.props.pointer,this.props):we.createElement("div",{style:o.slider}))))}}]),e})(ht.PureComponent||ht.Component);function qgt(){this.__data__=[],this.size=0}function Kw(t,e){return t===e||t!==t&&e!==e}function rA(t,e){for(var r=t.length;r--;)if(Kw(t[r][0],e))return r;return-1}var Ggt=Array.prototype,Hgt=Ggt.splice;function Xgt(t){var e=this.__data__,r=rA(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Hgt.call(e,r,1),--this.size,!0}function Wgt(t){var e=this.__data__,r=rA(e,t);return r<0?void 0:e[r][1]}function Ygt(t){return rA(this.__data__,t)>-1}function Kgt(t,e){var r=this.__data__,n=rA(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Rg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rg.prototype.clear=qgt;Rg.prototype.delete=Xgt;Rg.prototype.get=Wgt;Rg.prototype.has=Ygt;Rg.prototype.set=Kgt;function Zgt(){this.__data__=new Rg,this.size=0}function Qgt(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Jgt(t){return this.__data__.get(t)}function tyt(t){return this.__data__.has(t)}var mH=typeof global=="object"&&global&&global.Object===Object&&global,eyt=typeof self=="object"&&self&&self.Object===Object&&self,Rp=mH||eyt||Function("return this")(),wy=Rp.Symbol,gH=Object.prototype,ryt=gH.hasOwnProperty,nyt=gH.toString,j1=wy?wy.toStringTag:void 0;function iyt(t){var e=ryt.call(t,j1),r=t[j1];try{t[j1]=void 0;var n=!0}catch{}var i=nyt.call(t);return n&&(e?t[j1]=r:delete t[j1]),i}var ayt=Object.prototype,oyt=ayt.toString;function syt(t){return oyt.call(t)}var lyt="[object Null]",uyt="[object Undefined]",Wj=wy?wy.toStringTag:void 0;function m0(t){return t==null?t===void 0?uyt:lyt:Wj&&Wj in Object(t)?iyt(t):syt(t)}function Df(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cyt="[object AsyncFunction]",hyt="[object Function]",dyt="[object GeneratorFunction]",fyt="[object Proxy]";function tP(t){if(!Df(t))return!1;var e=m0(t);return e==hyt||e==dyt||e==cyt||e==fyt}var WR=Rp["__core-js_shared__"],Yj=(function(){var t=/[^.]+$/.exec(WR&&WR.keys&&WR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function pyt(t){return!!Yj&&Yj in t}var myt=Function.prototype,gyt=myt.toString;function g0(t){if(t!=null){try{return gyt.call(t)}catch{}try{return t+""}catch{}}return""}var yyt=/[\\^$.*+?()[\]{}|]/g,vyt=/^\[object .+?Constructor\]$/,byt=Function.prototype,_yt=Object.prototype,xyt=byt.toString,wyt=_yt.hasOwnProperty,Syt=RegExp("^"+xyt.call(wyt).replace(yyt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Eyt(t){if(!Df(t)||pyt(t))return!1;var e=tP(t)?Syt:vyt;return e.test(g0(t))}function Tyt(t,e){return t?.[e]}function y0(t,e){var r=Tyt(t,e);return Eyt(r)?r:void 0}var uw=y0(Rp,"Map"),cw=y0(Object,"create");function Cyt(){this.__data__=cw?cw(null):{},this.size=0}function Ayt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kyt="__lodash_hash_undefined__",Iyt=Object.prototype,Ryt=Iyt.hasOwnProperty;function Nyt(t){var e=this.__data__;if(cw){var r=e[t];return r===kyt?void 0:r}return Ryt.call(e,t)?e[t]:void 0}var Lyt=Object.prototype,Myt=Lyt.hasOwnProperty;function Pyt(t){var e=this.__data__;return cw?e[t]!==void 0:Myt.call(e,t)}var Oyt="__lodash_hash_undefined__";function Dyt(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=cw&&e===void 0?Oyt:e,this}function e0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}e0.prototype.clear=Cyt;e0.prototype.delete=Ayt;e0.prototype.get=Nyt;e0.prototype.has=Pyt;e0.prototype.set=Dyt;function Byt(){this.size=0,this.__data__={hash:new e0,map:new(uw||Rg),string:new e0}}function zyt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function nA(t,e){var r=t.__data__;return zyt(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Fyt(t){var e=nA(this,t).delete(t);return this.size-=e?1:0,e}function jyt(t){return nA(this,t).get(t)}function Vyt(t){return nA(this,t).has(t)}function $yt(t,e){var r=nA(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Ng(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ng.prototype.clear=Byt;Ng.prototype.delete=Fyt;Ng.prototype.get=jyt;Ng.prototype.has=Vyt;Ng.prototype.set=$yt;var Uyt=200;function qyt(t,e){var r=this.__data__;if(r instanceof Rg){var n=r.__data__;if(!uw||n.length<Uyt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ng(n)}return r.set(t,e),this.size=r.size,this}function km(t){var e=this.__data__=new Rg(t);this.size=e.size}km.prototype.clear=Zgt;km.prototype.delete=Qgt;km.prototype.get=Jgt;km.prototype.has=tyt;km.prototype.set=qyt;var fT=(function(){try{var t=y0(Object,"defineProperty");return t({},"",{}),t}catch{}})();function eP(t,e,r){e=="__proto__"&&fT?fT(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function RL(t,e,r){(r!==void 0&&!Kw(t[e],r)||r===void 0&&!(e in t))&&eP(t,e,r)}function Gyt(t){return function(e,r,n){for(var i=-1,o=Object(e),u=n(e),a=u.length;a--;){var g=u[++i];if(r(o[g],g,o)===!1)break}return e}}var yH=Gyt(),vH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Kj=vH&&typeof module=="object"&&module&&!module.nodeType&&module,Hyt=Kj&&Kj.exports===vH,Zj=Hyt?Rp.Buffer:void 0;Zj&&Zj.allocUnsafe;function Xyt(t,e){return t.slice()}var pT=Rp.Uint8Array;function Wyt(t){var e=new t.constructor(t.byteLength);return new pT(e).set(new pT(t)),e}function Yyt(t,e){var r=Wyt(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function Kyt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Qj=Object.create,Zyt=(function(){function t(){}return function(e){if(!Df(e))return{};if(Qj)return Qj(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function bH(t,e){return function(r){return t(e(r))}}var _H=bH(Object.getPrototypeOf,Object),Qyt=Object.prototype;function rP(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Qyt;return t===r}function Jyt(t){return typeof t.constructor=="function"&&!rP(t)?Zyt(_H(t)):{}}function Sy(t){return t!=null&&typeof t=="object"}var tvt="[object Arguments]";function Jj(t){return Sy(t)&&m0(t)==tvt}var xH=Object.prototype,evt=xH.hasOwnProperty,rvt=xH.propertyIsEnumerable,mT=Jj((function(){return arguments})())?Jj:function(t){return Sy(t)&&evt.call(t,"callee")&&!rvt.call(t,"callee")},rf=Array.isArray,nvt=9007199254740991;function nP(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nvt}function _x(t){return t!=null&&nP(t.length)&&!tP(t)}function ivt(t){return Sy(t)&&_x(t)}function avt(){return!1}var wH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,t7=wH&&typeof module=="object"&&module&&!module.nodeType&&module,ovt=t7&&t7.exports===wH,e7=ovt?Rp.Buffer:void 0,svt=e7?e7.isBuffer:void 0,gT=svt||avt,lvt="[object Object]",uvt=Function.prototype,cvt=Object.prototype,SH=uvt.toString,hvt=cvt.hasOwnProperty,dvt=SH.call(Object);function fvt(t){if(!Sy(t)||m0(t)!=lvt)return!1;var e=_H(t);if(e===null)return!0;var r=hvt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&SH.call(r)==dvt}var pvt="[object Arguments]",mvt="[object Array]",gvt="[object Boolean]",yvt="[object Date]",vvt="[object Error]",bvt="[object Function]",_vt="[object Map]",xvt="[object Number]",wvt="[object Object]",Svt="[object RegExp]",Evt="[object Set]",Tvt="[object String]",Cvt="[object WeakMap]",Avt="[object ArrayBuffer]",kvt="[object DataView]",Ivt="[object Float32Array]",Rvt="[object Float64Array]",Nvt="[object Int8Array]",Lvt="[object Int16Array]",Mvt="[object Int32Array]",Pvt="[object Uint8Array]",Ovt="[object Uint8ClampedArray]",Dvt="[object Uint16Array]",Bvt="[object Uint32Array]",Ml={};Ml[Ivt]=Ml[Rvt]=Ml[Nvt]=Ml[Lvt]=Ml[Mvt]=Ml[Pvt]=Ml[Ovt]=Ml[Dvt]=Ml[Bvt]=!0;Ml[pvt]=Ml[mvt]=Ml[Avt]=Ml[gvt]=Ml[kvt]=Ml[yvt]=Ml[vvt]=Ml[bvt]=Ml[_vt]=Ml[xvt]=Ml[wvt]=Ml[Svt]=Ml[Evt]=Ml[Tvt]=Ml[Cvt]=!1;function zvt(t){return Sy(t)&&nP(t.length)&&!!Ml[m0(t)]}function Fvt(t){return function(e){return t(e)}}var EH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,F2=EH&&typeof module=="object"&&module&&!module.nodeType&&module,jvt=F2&&F2.exports===EH,YR=jvt&&mH.process,r7=(function(){try{var t=F2&&F2.require&&F2.require("util").types;return t||YR&&YR.binding&&YR.binding("util")}catch{}})(),n7=r7&&r7.isTypedArray,iP=n7?Fvt(n7):zvt;function NL(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Vvt=Object.prototype,$vt=Vvt.hasOwnProperty;function Uvt(t,e,r){var n=t[e];(!($vt.call(t,e)&&Kw(n,r))||r===void 0&&!(e in t))&&eP(t,e,r)}function qvt(t,e,r,n){var i=!r;r||(r={});for(var o=-1,u=e.length;++o<u;){var a=e[o],g=void 0;g===void 0&&(g=t[a]),i?eP(r,a,g):Uvt(r,a,g)}return r}function Gvt(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Hvt=9007199254740991,Xvt=/^(?:0|[1-9]\d*)$/;function aP(t,e){var r=typeof t;return e=e??Hvt,!!e&&(r=="number"||r!="symbol"&&Xvt.test(t))&&t>-1&&t%1==0&&t<e}var Wvt=Object.prototype,Yvt=Wvt.hasOwnProperty;function TH(t,e){var r=rf(t),n=!r&&mT(t),i=!r&&!n&&gT(t),o=!r&&!n&&!i&&iP(t),u=r||n||i||o,a=u?Gvt(t.length,String):[],g=a.length;for(var v in t)(e||Yvt.call(t,v))&&!(u&&(v=="length"||i&&(v=="offset"||v=="parent")||o&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||aP(v,g)))&&a.push(v);return a}function Kvt(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Zvt=Object.prototype,Qvt=Zvt.hasOwnProperty;function Jvt(t){if(!Df(t))return Kvt(t);var e=rP(t),r=[];for(var n in t)n=="constructor"&&(e||!Qvt.call(t,n))||r.push(n);return r}function CH(t){return _x(t)?TH(t,!0):Jvt(t)}function t0t(t){return qvt(t,CH(t))}function e0t(t,e,r,n,i,o,u){var a=NL(t,r),g=NL(e,r),v=u.get(g);if(v){RL(t,r,v);return}var x=o?o(a,g,r+"",t,e,u):void 0,k=x===void 0;if(k){var R=rf(g),A=!R&&gT(g),O=!R&&!A&&iP(g);x=g,R||A||O?rf(a)?x=a:ivt(a)?x=Kyt(a):A?(k=!1,x=Xyt(g)):O?(k=!1,x=Yyt(g)):x=[]:fvt(g)||mT(g)?(x=a,mT(a)?x=t0t(a):(!Df(a)||tP(a))&&(x=Jyt(g))):k=!1}k&&(u.set(g,x),i(x,g,n,o,u),u.delete(g)),RL(t,r,x)}function AH(t,e,r,n,i){t!==e&&yH(e,function(o,u){if(i||(i=new km),Df(o))e0t(t,e,u,r,AH,n,i);else{var a=n?n(NL(t,u),o,u+"",t,e,i):void 0;a===void 0&&(a=o),RL(t,u,a)}},CH)}function iA(t){return t}function r0t(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var i7=Math.max;function n0t(t,e,r){return e=i7(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=i7(n.length-e,0),u=Array(o);++i<o;)u[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(u),r0t(t,this,a)}}function i0t(t){return function(){return t}}var a0t=fT?function(t,e){return fT(t,"toString",{configurable:!0,enumerable:!1,value:i0t(e),writable:!0})}:iA,o0t=800,s0t=16,l0t=Date.now;function u0t(t){var e=0,r=0;return function(){var n=l0t(),i=s0t-(n-r);if(r=n,i>0){if(++e>=o0t)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var c0t=u0t(a0t);function h0t(t,e){return c0t(n0t(t,e,iA),t+"")}function d0t(t,e,r){if(!Df(r))return!1;var n=typeof e;return(n=="number"?_x(r)&&aP(e,r.length):n=="string"&&e in r)?Kw(r[e],t):!1}function f0t(t){return h0t(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,u&&d0t(r[0],r[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}var wd=f0t(function(t,e,r){AH(t,e,r)}),Zw=function(t){var e=t.zDepth,r=t.radius,n=t.background,i=t.children,o=t.styles,u=o===void 0?{}:o,a=_a(wd({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+e*4+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":e===1});return we.createElement("div",{style:a.wrap},we.createElement("div",{style:a.bg}),we.createElement("div",{style:a.content},i))};Zw.propTypes={background:Fn.string,zDepth:Fn.oneOf([0,1,2,3,4,5]),radius:Fn.number,styles:Fn.object};Zw.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var KR=function(){return Rp.Date.now()},p0t=/\s/;function m0t(t){for(var e=t.length;e--&&p0t.test(t.charAt(e)););return e}var g0t=/^\s+/;function y0t(t){return t&&t.slice(0,m0t(t)+1).replace(g0t,"")}var v0t="[object Symbol]";function aA(t){return typeof t=="symbol"||Sy(t)&&m0(t)==v0t}var a7=NaN,b0t=/^[-+]0x[0-9a-f]+$/i,_0t=/^0b[01]+$/i,x0t=/^0o[0-7]+$/i,w0t=parseInt;function o7(t){if(typeof t=="number")return t;if(aA(t))return a7;if(Df(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Df(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=y0t(t);var r=_0t.test(t);return r||x0t.test(t)?w0t(t.slice(2),r?2:8):b0t.test(t)?a7:+t}var S0t="Expected a function",E0t=Math.max,T0t=Math.min;function kH(t,e,r){var n,i,o,u,a,g,v=0,x=!1,k=!1,R=!0;if(typeof t!="function")throw new TypeError(S0t);e=o7(e)||0,Df(r)&&(x=!!r.leading,k="maxWait"in r,o=k?E0t(o7(r.maxWait)||0,e):o,R="trailing"in r?!!r.trailing:R);function A(Y){var rt=n,st=i;return n=i=void 0,v=Y,u=t.apply(st,rt),u}function O(Y){return v=Y,a=setTimeout(H,e),x?A(Y):u}function D(Y){var rt=Y-g,st=Y-v,it=e-rt;return k?T0t(it,o-st):it}function U(Y){var rt=Y-g,st=Y-v;return g===void 0||rt>=e||rt<0||k&&st>=o}function H(){var Y=KR();if(U(Y))return G(Y);a=setTimeout(H,D(Y))}function G(Y){return a=void 0,R&&n?A(Y):(n=i=void 0,u)}function z(){a!==void 0&&clearTimeout(a),v=0,n=g=i=a=void 0}function j(){return a===void 0?u:G(KR())}function X(){var Y=KR(),rt=U(Y);if(n=arguments,i=this,g=Y,rt){if(a===void 0)return O(g);if(k)return clearTimeout(a),a=setTimeout(H,e),A(g)}return a===void 0&&(a=setTimeout(H,e)),u}return X.cancel=z,X.flush=j,X}var C0t="Expected a function";function A0t(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(C0t);return Df(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),kH(t,e,{leading:n,maxWait:e,trailing:i})}var k0t=function(t,e,r){var n=r.getBoundingClientRect(),i=n.width,o=n.height,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,a=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=u-(r.getBoundingClientRect().left+window.pageXOffset),v=a-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>i&&(g=i),v<0?v=0:v>o&&(v=o);var x=g/i,k=1-v/o;return{h:e.h,s:x,v:k,a:e.a,source:"hsv"}},I0t=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function R0t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N0t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function L0t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oA=(function(t){L0t(e,t);function e(r){R0t(this,e);var n=N0t(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,k0t(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var o=n.getContainerRenderWindow();o.addEventListener("mousemove",n.handleChange),o.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=A0t(function(i,o,u){i(o,u)},50),n}return I0t(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,n=window;!n.document.contains(r)&&n.parent!==n;)n=n.parent;return n}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,n=this.props.style||{},i=n.color,o=n.white,u=n.black,a=n.pointer,g=n.circle,v=_a({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:i,white:o,black:u,pointer:a,circle:g}},{custom:!!this.props.style});return we.createElement("div",{style:v.color,ref:function(x){return r.container=x},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},we.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),we.createElement("div",{style:v.white,className:"saturation-white"},we.createElement("div",{style:v.black,className:"saturation-black"}),we.createElement("div",{style:v.pointer},this.props.pointer?we.createElement(this.props.pointer,this.props):we.createElement("div",{style:v.circle}))))}}]),e})(ht.PureComponent||ht.Component);function M0t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var P0t=bH(Object.keys,Object),O0t=Object.prototype,D0t=O0t.hasOwnProperty;function B0t(t){if(!rP(t))return P0t(t);var e=[];for(var r in Object(t))D0t.call(t,r)&&r!="constructor"&&e.push(r);return e}function oP(t){return _x(t)?TH(t):B0t(t)}function z0t(t,e){return t&&yH(t,e,oP)}function F0t(t,e){return function(r,n){if(r==null)return r;if(!_x(r))return t(r,n);for(var i=r.length,o=-1,u=Object(r);++o<i&&n(u[o],o,u)!==!1;);return r}}var IH=F0t(z0t);function j0t(t){return typeof t=="function"?t:iA}function V0t(t,e){var r=rf(t)?M0t:IH;return r(t,j0t(e))}function yT(t){"@babel/helpers - typeof";return yT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yT(t)}var $0t=/^\s+/,U0t=/\s+$/;function ki(t,e){if(t=t||"",e=e||{},t instanceof ki)return t;if(!(this instanceof ki))return new ki(t,e);var r=q0t(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ki.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,r,n,i,o,u;return e=t.r/255,r=t.g/255,n=t.b/255,e<=.03928?i=e/12.92:i=Math.pow((e+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),.2126*i+.7152*o+.0722*u},setAlpha:function(t){return this._a=RH(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=l7(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l7(this._r,this._g,this._b),e=Math.round(t.h*360),r=Math.round(t.s*100),n=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=s7(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s7(this._r,this._g,this._b),e=Math.round(t.h*360),r=Math.round(t.s*100),n=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return u7(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return W0t(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(su(this._r,255)*100)+"%",g:Math.round(su(this._g,255)*100)+"%",b:Math.round(su(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(su(this._r,255)*100)+"%, "+Math.round(su(this._g,255)*100)+"%, "+Math.round(su(this._b,255)*100)+"%)":"rgba("+Math.round(su(this._r,255)*100)+"%, "+Math.round(su(this._g,255)*100)+"%, "+Math.round(su(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:obt[u7(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+c7(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=ki(t);r="#"+c7(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0,i=!e&&n&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ki(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Q0t,arguments)},brighten:function(){return this._applyModification(J0t,arguments)},darken:function(){return this._applyModification(tbt,arguments)},desaturate:function(){return this._applyModification(Y0t,arguments)},saturate:function(){return this._applyModification(K0t,arguments)},greyscale:function(){return this._applyModification(Z0t,arguments)},spin:function(){return this._applyModification(ebt,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(ibt,arguments)},complement:function(){return this._applyCombination(rbt,arguments)},monochromatic:function(){return this._applyCombination(abt,arguments)},splitcomplement:function(){return this._applyCombination(nbt,arguments)},triad:function(){return this._applyCombination(h7,[3])},tetrad:function(){return this._applyCombination(h7,[4])}};ki.fromRatio=function(t,e){if(yT(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=m2(t[n]));t=r}return ki(t,e)};function q0t(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,o=null,u=!1,a=!1;return typeof t=="string"&&(t=cbt(t)),yT(t)=="object"&&(og(t.r)&&og(t.g)&&og(t.b)?(e=G0t(t.r,t.g,t.b),u=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):og(t.h)&&og(t.s)&&og(t.v)?(n=m2(t.s),i=m2(t.v),e=X0t(t.h,n,i),u=!0,a="hsv"):og(t.h)&&og(t.s)&&og(t.l)&&(n=m2(t.s),o=m2(t.l),e=H0t(t.h,n,o),u=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=RH(r),{ok:u,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function G0t(t,e,r){return{r:su(t,255)*255,g:su(e,255)*255,b:su(r,255)*255}}function s7(t,e,r){t=su(t,255),e=su(e,255),r=su(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o,u,a=(n+i)/2;if(n==i)o=u=0;else{var g=n-i;switch(u=a>.5?g/(2-n-i):g/(n+i),n){case t:o=(e-r)/g+(e<r?6:0);break;case e:o=(r-t)/g+2;break;case r:o=(t-e)/g+4;break}o/=6}return{h:o,s:u,l:a}}function H0t(t,e,r){var n,i,o;t=su(t,360),e=su(e,100),r=su(r,100);function u(v,x,k){return k<0&&(k+=1),k>1&&(k-=1),k<1/6?v+(x-v)*6*k:k<1/2?x:k<2/3?v+(x-v)*(2/3-k)*6:v}if(e===0)n=i=o=r;else{var a=r<.5?r*(1+e):r+e-r*e,g=2*r-a;n=u(g,a,t+1/3),i=u(g,a,t),o=u(g,a,t-1/3)}return{r:n*255,g:i*255,b:o*255}}function l7(t,e,r){t=su(t,255),e=su(e,255),r=su(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o,u,a=n,g=n-i;if(u=n===0?0:g/n,n==i)o=0;else{switch(n){case t:o=(e-r)/g+(e<r?6:0);break;case e:o=(r-t)/g+2;break;case r:o=(t-e)/g+4;break}o/=6}return{h:o,s:u,v:a}}function X0t(t,e,r){t=su(t,360)*6,e=su(e,100),r=su(r,100);var n=Math.floor(t),i=t-n,o=r*(1-e),u=r*(1-i*e),a=r*(1-(1-i)*e),g=n%6,v=[r,u,o,o,a,r][g],x=[a,r,r,u,o,o][g],k=[o,o,a,r,r,u][g];return{r:v*255,g:x*255,b:k*255}}function u7(t,e,r,n){var i=[gp(Math.round(t).toString(16)),gp(Math.round(e).toString(16)),gp(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function W0t(t,e,r,n,i){var o=[gp(Math.round(t).toString(16)),gp(Math.round(e).toString(16)),gp(Math.round(r).toString(16)),gp(NH(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function c7(t,e,r,n){var i=[gp(NH(n)),gp(Math.round(t).toString(16)),gp(Math.round(e).toString(16)),gp(Math.round(r).toString(16))];return i.join("")}ki.equals=function(t,e){return!t||!e?!1:ki(t).toRgbString()==ki(e).toRgbString()};ki.random=function(){return ki.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Y0t(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.s-=e/100,r.s=sA(r.s),ki(r)}function K0t(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.s+=e/100,r.s=sA(r.s),ki(r)}function Z0t(t){return ki(t).desaturate(100)}function Q0t(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.l+=e/100,r.l=sA(r.l),ki(r)}function J0t(t,e){e=e===0?0:e||10;var r=ki(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),ki(r)}function tbt(t,e){e=e===0?0:e||10;var r=ki(t).toHsl();return r.l-=e/100,r.l=sA(r.l),ki(r)}function ebt(t,e){var r=ki(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,ki(r)}function rbt(t){var e=ki(t).toHsl();return e.h=(e.h+180)%360,ki(e)}function h7(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ki(t).toHsl(),n=[ki(t)],i=360/e,o=1;o<e;o++)n.push(ki({h:(r.h+o*i)%360,s:r.s,l:r.l}));return n}function nbt(t){var e=ki(t).toHsl(),r=e.h;return[ki(t),ki({h:(r+72)%360,s:e.s,l:e.l}),ki({h:(r+216)%360,s:e.s,l:e.l})]}function ibt(t,e,r){e=e||6,r=r||30;var n=ki(t).toHsl(),i=360/r,o=[ki(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(ki(n));return o}function abt(t,e){e=e||6;for(var r=ki(t).toHsv(),n=r.h,i=r.s,o=r.v,u=[],a=1/e;e--;)u.push(ki({h:n,s:i,v:o})),o=(o+a)%1;return u}ki.mix=function(t,e,r){r=r===0?0:r||50;var n=ki(t).toRgb(),i=ki(e).toRgb(),o=r/100,u={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return ki(u)};ki.readability=function(t,e){var r=ki(t),n=ki(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};ki.isReadable=function(t,e,r){var n=ki.readability(t,e),i,o;switch(o=!1,i=hbt(r),i.level+i.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o};ki.mostReadable=function(t,e,r){var n=null,i=0,o,u,a,g;r=r||{},u=r.includeFallbackColors,a=r.level,g=r.size;for(var v=0;v<e.length;v++)o=ki.readability(t,e[v]),o>i&&(i=o,n=ki(e[v]));return ki.isReadable(t,n,{level:a,size:g})||!u?n:(r.includeFallbackColors=!1,ki.mostReadable(t,["#fff","#000"],r))};var LL=ki.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},obt=ki.hexNames=sbt(LL);function sbt(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function RH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function su(t,e){lbt(t)&&(t="100%");var r=ubt(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function sA(t){return Math.min(1,Math.max(0,t))}function Gd(t){return parseInt(t,16)}function lbt(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function ubt(t){return typeof t=="string"&&t.indexOf("%")!=-1}function gp(t){return t.length==1?"0"+t:""+t}function m2(t){return t<=1&&(t=t*100+"%"),t}function NH(t){return Math.round(parseFloat(t)*255).toString(16)}function d7(t){return Gd(t)/255}var cp=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function og(t){return!!cp.CSS_UNIT.exec(t)}function cbt(t){t=t.replace($0t,"").replace(U0t,"").toLowerCase();var e=!1;if(LL[t])t=LL[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=cp.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=cp.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=cp.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=cp.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=cp.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=cp.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=cp.hex8.exec(t))?{r:Gd(r[1]),g:Gd(r[2]),b:Gd(r[3]),a:d7(r[4]),format:e?"name":"hex8"}:(r=cp.hex6.exec(t))?{r:Gd(r[1]),g:Gd(r[2]),b:Gd(r[3]),format:e?"name":"hex"}:(r=cp.hex4.exec(t))?{r:Gd(r[1]+""+r[1]),g:Gd(r[2]+""+r[2]),b:Gd(r[3]+""+r[3]),a:d7(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=cp.hex3.exec(t))?{r:Gd(r[1]+""+r[1]),g:Gd(r[2]+""+r[2]),b:Gd(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function hbt(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var f7=function(t){var e=["r","g","b","a","h","s","l","v"],r=0,n=0;return V0t(e,function(i){if(t[i]&&(r+=1,isNaN(t[i])||(n+=1),i==="s"||i==="l")){var o=/^\d+%$/;o.test(t[i])&&(n+=1)}}),r===n?t:!1},g2=function(t,e){var r=t.hex?ki(t.hex):ki(t),n=r.toHsl(),i=r.toHsv(),o=r.toRgb(),u=r.toHex();n.s===0&&(n.h=e||0,i.h=e||0);var a=u==="000000"&&o.a===0;return{hsl:n,hex:a?"transparent":"#"+u,rgb:o,hsv:i,oldHue:t.h||e||n.h,source:t.source}},Dy=function(t){if(t==="transparent")return!0;var e=String(t).charAt(0)==="#"?1:0;return t.length!==4+e&&t.length<7+e&&ki(t).isValid()},sP=function(t){if(!t)return"#fff";var e=g2(t);if(e.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(e.rgb.r*299+e.rgb.g*587+e.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},ZR=function(t,e){var r=t.replace("","");return ki(e+" ("+r+")")._ok},V1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dbt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function fbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pbt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mbt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sd=function(t){var e=(function(r){mbt(n,r);function n(i){fbt(this,n);var o=pbt(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o.handleChange=function(u,a){var g=f7(u);if(g){var v=g2(u,u.h||o.state.oldHue);o.setState(v),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,v,a),o.props.onChange&&o.props.onChange(v,a)}},o.handleSwatchHover=function(u,a){var g=f7(u);if(g){var v=g2(u,u.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(v,a)}},o.state=V1({},g2(i.color,0)),o.debounce=kH(function(u,a,g){u(a,g)},100),o}return dbt(n,[{key:"render",value:function(){var i={};return this.props.onSwatchHover&&(i.onSwatchHover=this.handleSwatchHover),we.createElement(t,V1({},this.props,this.state,{onChange:this.handleChange},i))}}],[{key:"getDerivedStateFromProps",value:function(i,o){return V1({},g2(i.color,o.oldHue))}}]),n})(ht.PureComponent||ht.Component);return e.propTypes=V1({},t.propTypes),e.defaultProps=V1({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),e},gbt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ybt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function vbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bbt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _bt=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(r){bbt(n,r);function n(){var i,o,u,a;vbt(this,n);for(var g=arguments.length,v=Array(g),x=0;x<g;x++)v[x]=arguments[x];return a=(o=(u=p7(this,(i=n.__proto__||Object.getPrototypeOf(n)).call.apply(i,[this].concat(v))),u),u.state={focus:!1},u.handleFocus=function(){return u.setState({focus:!0})},u.handleBlur=function(){return u.setState({focus:!1})},o),p7(u,a)}return ybt(n,[{key:"render",value:function(){return we.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},we.createElement(t,gbt({},this.props,this.state)))}}]),n})(we.Component)},m7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xbt=13,wbt=function(t){var e=t.color,r=t.style,n=t.onClick,i=n===void 0?function(){}:n,o=t.onHover,u=t.title,a=u===void 0?e:u,g=t.children,v=t.focus,x=t.focusStyle,k=x===void 0?{}:x,R=e==="transparent",A=_a({default:{swatch:m7({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,v?k:{})}}),O=function(G){return i(e,G)},D=function(G){return G.keyCode===xbt&&i(e,G)},U=function(G){return o(e,G)},H={};return o&&(H.onMouseOver=U),we.createElement("div",m7({style:A.swatch,onClick:O,title:a,tabIndex:0,onKeyDown:D},H),g,R&&we.createElement(vx,{borderRadius:A.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const v0=_bt(wbt);var Sbt=function(t){var e=t.direction,r=_a({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:e==="vertical"});return we.createElement("div",{style:r.picker})},Ebt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LH=function(t){var e=t.rgb,r=t.hsl,n=t.width,i=t.height,o=t.onChange,u=t.direction,a=t.style,g=t.renderers,v=t.pointer,x=t.className,k=x===void 0?"":x,R=_a({default:{picker:{position:"relative",width:n,height:i},alpha:{radius:"2px",style:a}}});return we.createElement("div",{style:R.picker,className:"alpha-picker "+k},we.createElement(J4,Ebt({},R.alpha,{rgb:e,hsl:r,pointer:v,renderers:g,onChange:o,direction:u})))};LH.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Sbt};Sd(LH);function MH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Tbt="__lodash_hash_undefined__";function Cbt(t){return this.__data__.set(t,Tbt),this}function Abt(t){return this.__data__.has(t)}function vT(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ng;++e<r;)this.add(t[e])}vT.prototype.add=vT.prototype.push=Cbt;vT.prototype.has=Abt;function kbt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ibt(t,e){return t.has(e)}var Rbt=1,Nbt=2;function PH(t,e,r,n,i,o){var u=r&Rbt,a=t.length,g=e.length;if(a!=g&&!(u&&g>a))return!1;var v=o.get(t),x=o.get(e);if(v&&x)return v==e&&x==t;var k=-1,R=!0,A=r&Nbt?new vT:void 0;for(o.set(t,e),o.set(e,t);++k<a;){var O=t[k],D=e[k];if(n)var U=u?n(D,O,k,e,t,o):n(O,D,k,t,e,o);if(U!==void 0){if(U)continue;R=!1;break}if(A){if(!kbt(e,function(H,G){if(!Ibt(A,G)&&(O===H||i(O,H,r,n,o)))return A.push(G)})){R=!1;break}}else if(!(O===D||i(O,D,r,n,o))){R=!1;break}}return o.delete(t),o.delete(e),R}function Lbt(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Mbt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Pbt=1,Obt=2,Dbt="[object Boolean]",Bbt="[object Date]",zbt="[object Error]",Fbt="[object Map]",jbt="[object Number]",Vbt="[object RegExp]",$bt="[object Set]",Ubt="[object String]",qbt="[object Symbol]",Gbt="[object ArrayBuffer]",Hbt="[object DataView]",g7=wy?wy.prototype:void 0,QR=g7?g7.valueOf:void 0;function Xbt(t,e,r,n,i,o,u){switch(r){case Hbt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Gbt:return!(t.byteLength!=e.byteLength||!o(new pT(t),new pT(e)));case Dbt:case Bbt:case jbt:return Kw(+t,+e);case zbt:return t.name==e.name&&t.message==e.message;case Vbt:case Ubt:return t==e+"";case Fbt:var a=Lbt;case $bt:var g=n&Pbt;if(a||(a=Mbt),t.size!=e.size&&!g)return!1;var v=u.get(t);if(v)return v==e;n|=Obt,u.set(t,e);var x=PH(a(t),a(e),n,i,o,u);return u.delete(t),x;case qbt:if(QR)return QR.call(t)==QR.call(e)}return!1}function Wbt(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ybt(t,e,r){var n=e(t);return rf(t)?n:Wbt(n,r(t))}function Kbt(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var u=t[r];e(u,r,t)&&(o[i++]=u)}return o}function Zbt(){return[]}var Qbt=Object.prototype,Jbt=Qbt.propertyIsEnumerable,y7=Object.getOwnPropertySymbols,t_t=y7?function(t){return t==null?[]:(t=Object(t),Kbt(y7(t),function(e){return Jbt.call(t,e)}))}:Zbt;function v7(t){return Ybt(t,oP,t_t)}var e_t=1,r_t=Object.prototype,n_t=r_t.hasOwnProperty;function i_t(t,e,r,n,i,o){var u=r&e_t,a=v7(t),g=a.length,v=v7(e),x=v.length;if(g!=x&&!u)return!1;for(var k=g;k--;){var R=a[k];if(!(u?R in e:n_t.call(e,R)))return!1}var A=o.get(t),O=o.get(e);if(A&&O)return A==e&&O==t;var D=!0;o.set(t,e),o.set(e,t);for(var U=u;++k<g;){R=a[k];var H=t[R],G=e[R];if(n)var z=u?n(G,H,R,e,t,o):n(H,G,R,t,e,o);if(!(z===void 0?H===G||i(H,G,r,n,o):z)){D=!1;break}U||(U=R=="constructor")}if(D&&!U){var j=t.constructor,X=e.constructor;j!=X&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof X=="function"&&X instanceof X)&&(D=!1)}return o.delete(t),o.delete(e),D}var ML=y0(Rp,"DataView"),PL=y0(Rp,"Promise"),OL=y0(Rp,"Set"),DL=y0(Rp,"WeakMap"),b7="[object Map]",a_t="[object Object]",_7="[object Promise]",x7="[object Set]",w7="[object WeakMap]",S7="[object DataView]",o_t=g0(ML),s_t=g0(uw),l_t=g0(PL),u_t=g0(OL),c_t=g0(DL),cy=m0;(ML&&cy(new ML(new ArrayBuffer(1)))!=S7||uw&&cy(new uw)!=b7||PL&&cy(PL.resolve())!=_7||OL&&cy(new OL)!=x7||DL&&cy(new DL)!=w7)&&(cy=function(t){var e=m0(t),r=e==a_t?t.constructor:void 0,n=r?g0(r):"";if(n)switch(n){case o_t:return S7;case s_t:return b7;case l_t:return _7;case u_t:return x7;case c_t:return w7}return e});var h_t=1,E7="[object Arguments]",T7="[object Array]",L5="[object Object]",d_t=Object.prototype,C7=d_t.hasOwnProperty;function f_t(t,e,r,n,i,o){var u=rf(t),a=rf(e),g=u?T7:cy(t),v=a?T7:cy(e);g=g==E7?L5:g,v=v==E7?L5:v;var x=g==L5,k=v==L5,R=g==v;if(R&&gT(t)){if(!gT(e))return!1;u=!0,x=!1}if(R&&!x)return o||(o=new km),u||iP(t)?PH(t,e,r,n,i,o):Xbt(t,e,g,r,n,i,o);if(!(r&h_t)){var A=x&&C7.call(t,"__wrapped__"),O=k&&C7.call(e,"__wrapped__");if(A||O){var D=A?t.value():t,U=O?e.value():e;return o||(o=new km),i(D,U,r,n,o)}}return R?(o||(o=new km),i_t(t,e,r,n,i,o)):!1}function lP(t,e,r,n,i){return t===e?!0:t==null||e==null||!Sy(t)&&!Sy(e)?t!==t&&e!==e:f_t(t,e,r,n,lP,i)}var p_t=1,m_t=2;function g_t(t,e,r,n){var i=r.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var u=r[i];if(u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=r[i];var a=u[0],g=t[a],v=u[1];if(u[2]){if(g===void 0&&!(a in t))return!1}else{var x=new km,k;if(!(k===void 0?lP(v,g,p_t|m_t,n,x):k))return!1}}return!0}function OH(t){return t===t&&!Df(t)}function y_t(t){for(var e=oP(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,OH(i)]}return e}function DH(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function v_t(t){var e=y_t(t);return e.length==1&&e[0][2]?DH(e[0][0],e[0][1]):function(r){return r===t||g_t(r,t,e)}}var b_t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,__t=/^\w*$/;function uP(t,e){if(rf(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||aA(t)?!0:__t.test(t)||!b_t.test(t)||e!=null&&t in Object(e)}var x_t="Expected a function";function cP(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(x_t);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var u=t.apply(this,n);return r.cache=o.set(i,u)||o,u};return r.cache=new(cP.Cache||Ng),r}cP.Cache=Ng;var w_t=500;function S_t(t){var e=cP(t,function(n){return r.size===w_t&&r.clear(),n}),r=e.cache;return e}var E_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T_t=/\\(\\)?/g,C_t=S_t(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(E_t,function(r,n,i,o){e.push(i?o.replace(T_t,"$1"):n||r)}),e}),A7=wy?wy.prototype:void 0,k7=A7?A7.toString:void 0;function BH(t){if(typeof t=="string")return t;if(rf(t))return MH(t,BH)+"";if(aA(t))return k7?k7.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function A_t(t){return t==null?"":BH(t)}function zH(t,e){return rf(t)?t:uP(t,e)?[t]:C_t(A_t(t))}function lA(t){if(typeof t=="string"||aA(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function FH(t,e){e=zH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[lA(e[r++])];return r&&r==n?t:void 0}function k_t(t,e,r){var n=t==null?void 0:FH(t,e);return n===void 0?r:n}function I_t(t,e){return t!=null&&e in Object(t)}function R_t(t,e,r){e=zH(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var u=lA(e[n]);if(!(o=t!=null&&r(t,u)))break;t=t[u]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&nP(i)&&aP(u,i)&&(rf(t)||mT(t)))}function N_t(t,e){return t!=null&&R_t(t,e,I_t)}var L_t=1,M_t=2;function P_t(t,e){return uP(t)&&OH(e)?DH(lA(t),e):function(r){var n=k_t(r,t);return n===void 0&&n===e?N_t(r,t):lP(e,n,L_t|M_t)}}function O_t(t){return function(e){return e?.[t]}}function D_t(t){return function(e){return FH(e,t)}}function B_t(t){return uP(t)?O_t(lA(t)):D_t(t)}function z_t(t){return typeof t=="function"?t:t==null?iA:typeof t=="object"?rf(t)?P_t(t[0],t[1]):v_t(t):B_t(t)}function F_t(t,e){var r=-1,n=_x(t)?Array(t.length):[];return IH(t,function(i,o,u){n[++r]=e(i,o,u)}),n}function b0(t,e){var r=rf(t)?MH:F_t;return r(t,z_t(e))}var j_t=function(t){var e=t.colors,r=t.onClick,n=t.onSwatchHover,i=_a({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return we.createElement("div",{style:i.swatches},b0(e,function(o){return we.createElement(v0,{key:o,color:o,style:i.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+o}})}),we.createElement("div",{style:i.clear}))},hP=function(t){var e=t.onChange,r=t.onSwatchHover,n=t.hex,i=t.colors,o=t.width,u=t.triangle,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=n==="transparent",R=function(O,D){Dy(O)&&e({hex:O,source:"hex"},D)},A=_a(wd({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:sP(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},g),{"hide-triangle":u==="hide"});return we.createElement("div",{style:A.card,className:"block-picker "+x},we.createElement("div",{style:A.triangle}),we.createElement("div",{style:A.head},k&&we.createElement(vx,{borderRadius:"6px 6px 0 0"}),we.createElement("div",{style:A.label},n)),we.createElement("div",{style:A.body},we.createElement(j_t,{colors:i,onClick:R,onSwatchHover:r}),we.createElement(Ro,{style:{input:A.input},value:n,onChange:R})))};hP.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),colors:Fn.arrayOf(Fn.string),triangle:Fn.oneOf(["top","hide"]),styles:Fn.object};hP.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Sd(hP);var jb={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Vb={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},$b={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Ub={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},qb={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Gb={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Hb={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xb={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Wb={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},y2={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Yb={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Kb={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Zb={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Qb={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Jb={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},t_={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},e_={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},r_={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},jH=function(t){var e=t.color,r=t.onClick,n=t.onSwatchHover,i=t.hover,o=t.active,u=t.circleSize,a=t.circleSpacing,g=_a({default:{swatch:{width:u,height:u,marginRight:a,marginBottom:a,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+e,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+e}}},{hover:i,active:o});return we.createElement("div",{style:g.swatch},we.createElement(v0,{style:g.Swatch,color:e,onClick:r,onHover:n,focusStyle:{boxShadow:g.Swatch.boxShadow+", 0 0 5px "+e}}))};jH.defaultProps={circleSize:28,circleSpacing:14};const V_t=Q4.handleHover(jH);var dP=function(t){var e=t.width,r=t.onChange,n=t.onSwatchHover,i=t.colors,o=t.hex,u=t.circleSize,a=t.styles,g=a===void 0?{}:a,v=t.circleSpacing,x=t.className,k=x===void 0?"":x,R=_a(wd({default:{card:{width:e,display:"flex",flexWrap:"wrap",marginRight:-v,marginBottom:-v}}},g)),A=function(O,D){return r({hex:O,source:"hex"},D)};return we.createElement("div",{style:R.card,className:"circle-picker "+k},b0(i,function(O){return we.createElement(V_t,{key:O,color:O,onClick:A,onSwatchHover:n,active:o===O.toLowerCase(),circleSize:u,circleSpacing:v})}))};dP.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),circleSize:Fn.number,circleSpacing:Fn.number,styles:Fn.object};dP.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[jb[500],Vb[500],$b[500],Ub[500],qb[500],Gb[500],Hb[500],Xb[500],Wb[500],y2[500],Yb[500],Kb[500],Zb[500],Qb[500],Jb[500],t_[500],e_[500],r_[500]],styles:{}};Sd(dP);function I7(t){return t===void 0}var M5={},R7;function $_t(){if(R7)return M5;R7=1,Object.defineProperty(M5,"__esModule",{value:!0});var t=Object.assign||function(u){for(var a=1;a<arguments.length;a++){var g=arguments[a];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(u[v]=g[v])}return u},e=we,r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,a){var g={};for(var v in u)a.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(u,v)&&(g[v]=u[v]);return g}var o=24;return M5.default=function(u){var a=u.fill,g=a===void 0?"currentColor":a,v=u.width,x=v===void 0?o:v,k=u.height,R=k===void 0?o:k,A=u.style,O=A===void 0?{}:A,D=i(u,["fill","width","height","style"]);return r.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:g,width:x,height:R},O)},D),r.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},M5}var U_t=$_t();const q_t=Rw(U_t);var G_t=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function H_t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X_t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W_t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var VH=(function(t){W_t(e,t);function e(r){H_t(this,e);var n=X_t(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,o){i.hex?Dy(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(I7(i.s)?n.props.hsl.s:i.s),l:Number(I7(i.l)?n.props.hsl.l:i.l),source:"hsl"},o))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return G_t(e,[{key:"render",value:function(){var r=this,n=_a({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),i=void 0;return this.state.view==="hex"?i=we.createElement("div",{style:n.fields,className:"flexbox-fix"},we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?i=we.createElement("div",{style:n.fields,className:"flexbox-fix"},we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),we.createElement("div",{style:n.alpha},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(i=we.createElement("div",{style:n.fields,className:"flexbox-fix"},we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),we.createElement("div",{style:n.field},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),we.createElement("div",{style:n.alpha},we.createElement(Ro,{style:{input:n.input,label:n.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),we.createElement("div",{style:n.wrap,className:"flexbox-fix"},i,we.createElement("div",{style:n.toggle},we.createElement("div",{style:n.icon,onClick:this.toggleViews,ref:function(o){return r.icon=o}},we.createElement(q_t,{style:n.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.hsl.a!==1&&n.view==="hex"?{view:"rgb"}:null}}]),e})(we.Component);VH.defaultProps={view:"hex"};var N7=function(){var t=_a({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return we.createElement("div",{style:t.picker})},Y_t=function(){var t=_a({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return we.createElement("div",{style:t.picker})},fP=function(t){var e=t.width,r=t.onChange,n=t.disableAlpha,i=t.rgb,o=t.hsl,u=t.hsv,a=t.hex,g=t.renderers,v=t.styles,x=v===void 0?{}:v,k=t.className,R=k===void 0?"":k,A=t.defaultView,O=_a(wd({default:{picker:{width:e,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},x),{disableAlpha:n});return we.createElement("div",{style:O.picker,className:"chrome-picker "+R},we.createElement("div",{style:O.saturation},we.createElement(oA,{style:O.Saturation,hsl:o,hsv:u,pointer:Y_t,onChange:r})),we.createElement("div",{style:O.body},we.createElement("div",{style:O.controls,className:"flexbox-fix"},we.createElement("div",{style:O.color},we.createElement("div",{style:O.swatch},we.createElement("div",{style:O.active}),we.createElement(vx,{renderers:g}))),we.createElement("div",{style:O.toggles},we.createElement("div",{style:O.hue},we.createElement(bx,{style:O.Hue,hsl:o,pointer:N7,onChange:r})),we.createElement("div",{style:O.alpha},we.createElement(J4,{style:O.Alpha,rgb:i,hsl:o,pointer:N7,renderers:g,onChange:r})))),we.createElement(VH,{rgb:i,hsl:o,hex:a,view:A,onChange:r,disableAlpha:n})))};fP.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),disableAlpha:Fn.bool,styles:Fn.object,defaultView:Fn.oneOf(["hex","rgb","hsl"])};fP.defaultProps={width:225,disableAlpha:!1,styles:{}};Sd(fP);var K_t=function(t){var e=t.color,r=t.onClick,n=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.active,u=_a({default:{color:{background:e,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:sP(e),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":e==="#FFFFFF",transparent:e==="transparent"});return we.createElement(v0,{style:u.color,color:e,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},we.createElement("div",{style:u.dot}))},Z_t=function(t){var e=t.hex,r=t.rgb,n=t.onChange,i=_a({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:e},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(u,a){u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},a):n({hex:u.hex,source:"hex"},a)};return we.createElement("div",{style:i.fields,className:"flexbox-fix"},we.createElement("div",{style:i.active}),we.createElement(Ro,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:e,onChange:o}),we.createElement(Ro,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:o}),we.createElement(Ro,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:o}),we.createElement(Ro,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:o}))},pP=function(t){var e=t.onChange,r=t.onSwatchHover,n=t.colors,i=t.hex,o=t.rgb,u=t.styles,a=u===void 0?{}:u,g=t.className,v=g===void 0?"":g,x=_a(wd({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},a)),k=function(R,A){R.hex?Dy(R.hex)&&e({hex:R.hex,source:"hex"},A):e(R,A)};return we.createElement(Zw,{style:x.Compact,styles:a},we.createElement("div",{style:x.compact,className:"compact-picker "+v},we.createElement("div",null,b0(n,function(R){return we.createElement(K_t,{key:R,color:R,active:R.toLowerCase()===i,onClick:k,onSwatchHover:r})}),we.createElement("div",{style:x.clear})),we.createElement(Z_t,{hex:i,rgb:o,onChange:k})))};pP.propTypes={colors:Fn.arrayOf(Fn.string),styles:Fn.object};pP.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Sd(pP);var Q_t=function(t){var e=t.hover,r=t.color,n=t.onClick,i=t.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=_a({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:e});return we.createElement("div",{style:u.swatch},we.createElement(v0,{color:r,onClick:n,onHover:i,focusStyle:o}))};const J_t=Q4.handleHover(Q_t);var mP=function(t){var e=t.width,r=t.colors,n=t.onChange,i=t.onSwatchHover,o=t.triangle,u=t.styles,a=u===void 0?{}:u,g=t.className,v=g===void 0?"":g,x=_a(wd({default:{card:{width:e,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},a),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),k=function(R,A){return n({hex:R,source:"hex"},A)};return we.createElement("div",{style:x.card,className:"github-picker "+v},we.createElement("div",{style:x.triangleShadow}),we.createElement("div",{style:x.triangle}),b0(r,function(R){return we.createElement(J_t,{color:R,key:R,onClick:k,onSwatchHover:i})}))};mP.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),colors:Fn.arrayOf(Fn.string),triangle:Fn.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Fn.object};mP.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Sd(mP);var txt=function(t){var e=t.direction,r=_a({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:e==="vertical"});return we.createElement("div",{style:r.picker})},ext=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gP=function(t){var e=t.width,r=t.height,n=t.onChange,i=t.hsl,o=t.direction,u=t.pointer,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=_a(wd({default:{picker:{position:"relative",width:e,height:r},hue:{radius:"2px"}}},g)),R=function(A){return n({a:1,h:A.h,l:.5,s:1})};return we.createElement("div",{style:k.picker,className:"hue-picker "+x},we.createElement(bx,ext({},k.hue,{hsl:i,pointer:u,onChange:R,direction:o})))};gP.propTypes={styles:Fn.object};gP.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:txt,styles:{}};Sd(gP);var rxt=function(t){var e=t.onChange,r=t.hex,n=t.rgb,i=t.styles,o=i===void 0?{}:i,u=t.className,a=u===void 0?"":u,g=_a(wd({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),v=function(x,k){x.hex?Dy(x.hex)&&e({hex:x.hex,source:"hex"},k):(x.r||x.g||x.b)&&e({r:x.r||n.r,g:x.g||n.g,b:x.b||n.b,source:"rgb"},k)};return we.createElement(Zw,{styles:o},we.createElement("div",{style:g.material,className:"material-picker "+a},we.createElement(Ro,{style:{wrap:g.HEXwrap,input:g.HEXinput,label:g.HEXlabel},label:"hex",value:r,onChange:v}),we.createElement("div",{style:g.split,className:"flexbox-fix"},we.createElement("div",{style:g.third},we.createElement(Ro,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"r",value:n.r,onChange:v})),we.createElement("div",{style:g.third},we.createElement(Ro,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"g",value:n.g,onChange:v})),we.createElement("div",{style:g.third},we.createElement(Ro,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"b",value:n.b,onChange:v})))))};Sd(rxt);var nxt=function(t){var e=t.onChange,r=t.rgb,n=t.hsv,i=t.hex,o=_a({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(a,g){a["#"]?Dy(a["#"])&&e({hex:a["#"],source:"hex"},g):a.r||a.g||a.b?e({r:a.r||r.r,g:a.g||r.g,b:a.b||r.b,source:"rgb"},g):(a.h||a.s||a.v)&&e({h:a.h||n.h,s:a.s||n.s,v:a.v||n.v,source:"hsv"},g)};return we.createElement("div",{style:o.fields},we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(n.h),onChange:u}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(n.s*100),onChange:u}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(n.v*100),onChange:u}),we.createElement("div",{style:o.divider}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:u}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:u}),we.createElement(Ro,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:u}),we.createElement("div",{style:o.divider}),we.createElement(Ro,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:u}),we.createElement("div",{style:o.fieldSymbols},we.createElement("div",{style:o.symbol},""),we.createElement("div",{style:o.symbol},"%"),we.createElement("div",{style:o.symbol},"%")))},ixt=function(t){var e=t.hsl,r=_a({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5});return we.createElement("div",{style:r.picker})},axt=function(){var t=_a({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return we.createElement("div",{style:t.pointer},we.createElement("div",{style:t.left},we.createElement("div",{style:t.leftInside})),we.createElement("div",{style:t.right},we.createElement("div",{style:t.rightInside})))},L7=function(t){var e=t.onClick,r=t.label,n=t.children,i=t.active,o=_a({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return we.createElement("div",{style:o.button,onClick:e},r||n)},oxt=function(t){var e=t.rgb,r=t.currentColor,n=_a({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+e.r+","+e.g+", "+e.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return we.createElement("div",null,we.createElement("div",{style:n.label},"new"),we.createElement("div",{style:n.swatches},we.createElement("div",{style:n.new}),we.createElement("div",{style:n.current})),we.createElement("div",{style:n.label},"current"))},sxt=(function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}})();function lxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uxt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cxt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yP=(function(t){cxt(e,t);function e(r){lxt(this,e);var n=uxt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return sxt(e,[{key:"render",value:function(){var r=this.props,n=r.styles,i=n===void 0?{}:n,o=r.className,u=o===void 0?"":o,a=_a(wd({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},i));return we.createElement("div",{style:a.picker,className:"photoshop-picker "+u},we.createElement("div",{style:a.head},this.props.header),we.createElement("div",{style:a.body,className:"flexbox-fix"},we.createElement("div",{style:a.saturation},we.createElement(oA,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:ixt,onChange:this.props.onChange})),we.createElement("div",{style:a.hue},we.createElement(bx,{direction:"vertical",hsl:this.props.hsl,pointer:axt,onChange:this.props.onChange})),we.createElement("div",{style:a.controls},we.createElement("div",{style:a.top,className:"flexbox-fix"},we.createElement("div",{style:a.previews},we.createElement(oxt,{rgb:this.props.rgb,currentColor:this.state.currentColor})),we.createElement("div",{style:a.actions},we.createElement(L7,{label:"OK",onClick:this.props.onAccept,active:!0}),we.createElement(L7,{label:"Cancel",onClick:this.props.onCancel}),we.createElement(nxt,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e})(we.Component);yP.propTypes={header:Fn.string,styles:Fn.object};yP.defaultProps={header:"Color Picker",styles:{}};Sd(yP);var hxt=function(t){var e=t.onChange,r=t.rgb,n=t.hsl,i=t.hex,o=t.disableAlpha,u=_a({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),a=function(g,v){g.hex?Dy(g.hex)&&e({hex:g.hex,source:"hex"},v):g.r||g.g||g.b?e({r:g.r||r.r,g:g.g||r.g,b:g.b||r.b,a:r.a,source:"rgb"},v):g.a&&(g.a<0?g.a=0:g.a>100&&(g.a=100),g.a/=100,e({h:n.h,s:n.s,l:n.l,a:g.a,source:"rgb"},v))};return we.createElement("div",{style:u.fields,className:"flexbox-fix"},we.createElement("div",{style:u.double},we.createElement(Ro,{style:{input:u.input,label:u.label},label:"hex",value:i.replace("#",""),onChange:a})),we.createElement("div",{style:u.single},we.createElement(Ro,{style:{input:u.input,label:u.label},label:"r",value:r.r,onChange:a,dragLabel:"true",dragMax:"255"})),we.createElement("div",{style:u.single},we.createElement(Ro,{style:{input:u.input,label:u.label},label:"g",value:r.g,onChange:a,dragLabel:"true",dragMax:"255"})),we.createElement("div",{style:u.single},we.createElement(Ro,{style:{input:u.input,label:u.label},label:"b",value:r.b,onChange:a,dragLabel:"true",dragMax:"255"})),we.createElement("div",{style:u.alpha},we.createElement(Ro,{style:{input:u.input,label:u.label},label:"a",value:Math.round(r.a*100),onChange:a,dragLabel:"true",dragMax:"100"})))},dxt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$H=function(t){var e=t.colors,r=t.onClick,n=r===void 0?function(){}:r,i=t.onSwatchHover,o=_a({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!e||!e.length}),u=function(a,g){n({hex:a,source:"hex"},g)};return we.createElement("div",{style:o.colors,className:"flexbox-fix"},e.map(function(a){var g=typeof a=="string"?{color:a}:a,v=""+g.color+(g.title||"");return we.createElement("div",{key:v,style:o.swatchWrap},we.createElement(v0,dxt({},g,{style:o.swatch,onClick:u,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+g.color}})))}))};$H.propTypes={colors:Fn.arrayOf(Fn.oneOfType([Fn.string,Fn.shape({color:Fn.string,title:Fn.string})])).isRequired};var fxt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vP=function(t){var e=t.width,r=t.rgb,n=t.hex,i=t.hsv,o=t.hsl,u=t.onChange,a=t.onSwatchHover,g=t.disableAlpha,v=t.presetColors,x=t.renderers,k=t.styles,R=k===void 0?{}:k,A=t.className,O=A===void 0?"":A,D=_a(wd({default:fxt({picker:{width:e,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},R),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},R),{disableAlpha:g});return we.createElement("div",{style:D.picker,className:"sketch-picker "+O},we.createElement("div",{style:D.saturation},we.createElement(oA,{style:D.Saturation,hsl:o,hsv:i,onChange:u})),we.createElement("div",{style:D.controls,className:"flexbox-fix"},we.createElement("div",{style:D.sliders},we.createElement("div",{style:D.hue},we.createElement(bx,{style:D.Hue,hsl:o,onChange:u})),we.createElement("div",{style:D.alpha},we.createElement(J4,{style:D.Alpha,rgb:r,hsl:o,renderers:x,onChange:u}))),we.createElement("div",{style:D.color},we.createElement(vx,null),we.createElement("div",{style:D.activeColor}))),we.createElement(hxt,{rgb:r,hsl:o,hex:n,onChange:u,disableAlpha:g}),we.createElement($H,{colors:v,onClick:u,onSwatchHover:a}))};vP.propTypes={disableAlpha:Fn.bool,width:Fn.oneOfType([Fn.string,Fn.number]),styles:Fn.object};vP.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Sd(vP);var $1=function(t){var e=t.hsl,r=t.offset,n=t.onClick,i=n===void 0?function(){}:n,o=t.active,u=t.first,a=t.last,g=_a({default:{swatch:{height:"12px",background:"hsl("+e.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:u,last:a}),v=function(x){return i({h:e.h,s:.5,l:r,source:"hsl"},x)};return we.createElement("div",{style:g.swatch,onClick:v})},pxt=function(t){var e=t.onClick,r=t.hsl,n=_a({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return we.createElement("div",{style:n.swatches},we.createElement("div",{style:n.swatch},we.createElement($1,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:e,first:!0})),we.createElement("div",{style:n.swatch},we.createElement($1,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:e})),we.createElement("div",{style:n.swatch},we.createElement($1,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:e})),we.createElement("div",{style:n.swatch},we.createElement($1,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:e})),we.createElement("div",{style:n.swatch},we.createElement($1,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:e,last:!0})),we.createElement("div",{style:n.clear}))},mxt=function(){var t=_a({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return we.createElement("div",{style:t.picker})},bP=function(t){var e=t.hsl,r=t.onChange,n=t.pointer,i=t.styles,o=i===void 0?{}:i,u=t.className,a=u===void 0?"":u,g=_a(wd({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return we.createElement("div",{style:g.wrap||{},className:"slider-picker "+a},we.createElement("div",{style:g.hue},we.createElement(bx,{style:g.Hue,hsl:e,pointer:n,onChange:r})),we.createElement("div",{style:g.swatches},we.createElement(pxt,{hsl:e,onClick:r})))};bP.propTypes={styles:Fn.object};bP.defaultProps={pointer:mxt,styles:{}};Sd(bP);var P5={},M7;function gxt(){if(M7)return P5;M7=1,Object.defineProperty(P5,"__esModule",{value:!0});var t=Object.assign||function(u){for(var a=1;a<arguments.length;a++){var g=arguments[a];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(u[v]=g[v])}return u},e=we,r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,a){var g={};for(var v in u)a.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(u,v)&&(g[v]=u[v]);return g}var o=24;return P5.default=function(u){var a=u.fill,g=a===void 0?"currentColor":a,v=u.width,x=v===void 0?o:v,k=u.height,R=k===void 0?o:k,A=u.style,O=A===void 0?{}:A,D=i(u,["fill","width","height","style"]);return r.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:g,width:x,height:R},O)},D),r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},P5}var yxt=gxt();const vxt=Rw(yxt);var bxt=function(t){var e=t.color,r=t.onClick,n=r===void 0?function(){}:r,i=t.onSwatchHover,o=t.first,u=t.last,a=t.active,g=_a({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:e,marginBottom:"1px"},check:{color:sP(e),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:u,active:a,"color-#FFFFFF":e==="#FFFFFF",transparent:e==="transparent"});return we.createElement(v0,{color:e,style:g.color,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+e}},we.createElement("div",{style:g.check},we.createElement(vxt,null)))},_xt=function(t){var e=t.onClick,r=t.onSwatchHover,n=t.group,i=t.active,o=_a({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return we.createElement("div",{style:o.group},b0(n,function(u,a){return we.createElement(bxt,{key:u,color:u,active:u.toLowerCase()===i,first:a===0,last:a===n.length-1,onClick:e,onSwatchHover:r})}))},_P=function(t){var e=t.width,r=t.height,n=t.onChange,i=t.onSwatchHover,o=t.colors,u=t.hex,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=_a(wd({default:{picker:{width:e,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},g)),R=function(A,O){return n({hex:A,source:"hex"},O)};return we.createElement("div",{style:k.picker,className:"swatches-picker "+x},we.createElement(Zw,null,we.createElement("div",{style:k.overflow},we.createElement("div",{style:k.body},b0(o,function(A){return we.createElement(_xt,{key:A.toString(),group:A,active:u,onClick:R,onSwatchHover:i})}),we.createElement("div",{style:k.clear})))))};_P.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),height:Fn.oneOfType([Fn.string,Fn.number]),colors:Fn.arrayOf(Fn.arrayOf(Fn.string)),styles:Fn.object};_P.defaultProps={width:320,height:240,colors:[[jb[900],jb[700],jb[500],jb[300],jb[100]],[Vb[900],Vb[700],Vb[500],Vb[300],Vb[100]],[$b[900],$b[700],$b[500],$b[300],$b[100]],[Ub[900],Ub[700],Ub[500],Ub[300],Ub[100]],[qb[900],qb[700],qb[500],qb[300],qb[100]],[Gb[900],Gb[700],Gb[500],Gb[300],Gb[100]],[Hb[900],Hb[700],Hb[500],Hb[300],Hb[100]],[Xb[900],Xb[700],Xb[500],Xb[300],Xb[100]],[Wb[900],Wb[700],Wb[500],Wb[300],Wb[100]],["#194D33",y2[700],y2[500],y2[300],y2[100]],[Yb[900],Yb[700],Yb[500],Yb[300],Yb[100]],[Kb[900],Kb[700],Kb[500],Kb[300],Kb[100]],[Zb[900],Zb[700],Zb[500],Zb[300],Zb[100]],[Qb[900],Qb[700],Qb[500],Qb[300],Qb[100]],[Jb[900],Jb[700],Jb[500],Jb[300],Jb[100]],[t_[900],t_[700],t_[500],t_[300],t_[100]],[e_[900],e_[700],e_[500],e_[300],e_[100]],[r_[900],r_[700],r_[500],r_[300],r_[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Sd(_P);var xP=function(t){var e=t.onChange,r=t.onSwatchHover,n=t.hex,i=t.colors,o=t.width,u=t.triangle,a=t.styles,g=a===void 0?{}:a,v=t.className,x=v===void 0?"":v,k=_a(wd({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},g),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right"}),R=function(A,O){Dy(A)&&e({hex:A,source:"hex"},O)};return we.createElement("div",{style:k.card,className:"twitter-picker "+x},we.createElement("div",{style:k.triangleShadow}),we.createElement("div",{style:k.triangle}),we.createElement("div",{style:k.body},b0(i,function(A,O){return we.createElement(v0,{key:O,color:A,hex:A,style:k.swatch,onClick:R,onHover:r,focusStyle:{boxShadow:"0 0 4px "+A}})}),we.createElement("div",{style:k.hash},"#"),we.createElement(Ro,{label:null,style:{input:k.input},value:n.replace("#",""),onChange:R}),we.createElement("div",{style:k.clear})))};xP.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),triangle:Fn.oneOf(["hide","top-left","top-right"]),colors:Fn.arrayOf(Fn.string),styles:Fn.object};xP.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Sd(xP);var wP=function(t){var e=_a({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return we.createElement("div",{style:e.picker})};wP.propTypes={hsl:Fn.shape({h:Fn.number,s:Fn.number,l:Fn.number,a:Fn.number})};wP.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var SP=function(t){var e=_a({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return we.createElement("div",{style:e.picker})};SP.propTypes={hsl:Fn.shape({h:Fn.number,s:Fn.number,l:Fn.number,a:Fn.number})};SP.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var xxt=function(t){var e=t.onChange,r=t.rgb,n=t.hsl,i=t.hex,o=t.hsv,u=function(k,R){if(k.hex)Dy(k.hex)&&e({hex:k.hex,source:"hex"},R);else if(k.rgb){var A=k.rgb.split(",");ZR(k.rgb,"rgb")&&e({r:A[0],g:A[1],b:A[2],a:1,source:"rgb"},R)}else if(k.hsv){var O=k.hsv.split(",");ZR(k.hsv,"hsv")&&(O[2]=O[2].replace("%",""),O[1]=O[1].replace("%",""),O[0]=O[0].replace("",""),O[1]==1?O[1]=.01:O[2]==1&&(O[2]=.01),e({h:Number(O[0]),s:Number(O[1]),v:Number(O[2]),source:"hsv"},R))}else if(k.hsl){var D=k.hsl.split(",");ZR(k.hsl,"hsl")&&(D[2]=D[2].replace("%",""),D[1]=D[1].replace("%",""),D[0]=D[0].replace("",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),e({h:Number(D[0]),s:Number(D[1]),v:Number(D[2]),source:"hsl"},R))}},a=_a({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),g=r.r+", "+r.g+", "+r.b,v=Math.round(n.h)+", "+Math.round(n.s*100)+"%, "+Math.round(n.l*100)+"%",x=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return we.createElement("div",{style:a.wrap,className:"flexbox-fix"},we.createElement("div",{style:a.fields},we.createElement("div",{style:a.double},we.createElement(Ro,{style:{input:a.input,label:a.label},label:"hex",value:i,onChange:u})),we.createElement("div",{style:a.column},we.createElement("div",{style:a.single},we.createElement(Ro,{style:{input:a.input2,label:a.label2},label:"rgb",value:g,onChange:u})),we.createElement("div",{style:a.single},we.createElement(Ro,{style:{input:a.input2,label:a.label2},label:"hsv",value:x,onChange:u})),we.createElement("div",{style:a.single},we.createElement(Ro,{style:{input:a.input2,label:a.label2},label:"hsl",value:v,onChange:u})))))},EP=function(t){var e=t.width,r=t.onChange,n=t.rgb,i=t.hsl,o=t.hsv,u=t.hex,a=t.header,g=t.styles,v=g===void 0?{}:g,x=t.className,k=x===void 0?"":x,R=_a(wd({default:{picker:{width:e,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},v));return we.createElement("div",{style:R.picker,className:"google-picker "+k},we.createElement("div",{style:R.head},a),we.createElement("div",{style:R.swatch}),we.createElement("div",{style:R.saturation},we.createElement(oA,{hsl:i,hsv:o,pointer:wP,onChange:r})),we.createElement("div",{style:R.body},we.createElement("div",{style:R.controls,className:"flexbox-fix"},we.createElement("div",{style:R.hue},we.createElement(bx,{style:R.Hue,hsl:i,radius:"4px",pointer:SP,onChange:r}))),we.createElement(xxt,{rgb:n,hsl:i,hex:u,hsv:o,onChange:r})))};EP.propTypes={width:Fn.oneOfType([Fn.string,Fn.number]),styles:Fn.object,header:Fn.string};EP.defaultProps={width:652,styles:{},header:"Color picker"};Sd(EP);qr(Ly)({marginLeft:"-100px",marginRight:"-21px",paddingLeft:"53px",borderRadius:"0px",boxShadow:"none",backgroundColor:"rgb(0, 0, 0, 0)"});qr(c0)({marginLeft:"61px"});qr(_4)(t=>({paddingRight:t?"56px":0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"}));qr(My)({padding:"4px",marginTop:"-3px"});qr(x4)({minWidth:"30px"});qr(xq)({padding:0});var P7;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(P7||(P7={}));const wxt=Object.freeze({x:0,y:0});var b_;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(b_||(b_={}));var O7;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(O7||(O7={}));var xf;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(xf||(xf={}));xf.Space,xf.Enter,xf.Esc,xf.Space,xf.Enter,xf.Tab;var D7;(function(t){t[t.RightClick=2]="RightClick"})(D7||(D7={}));var B7;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(B7||(B7={}));var z7;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(z7||(z7={}));b_.Backward+"",b_.Forward+"",b_.Backward+"",b_.Forward+"";var BL;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(BL||(BL={}));var zL;(function(t){t.Optimized="optimized"})(zL||(zL={}));BL.WhileDragging,zL.Optimized;({...wxt});var F7;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(F7||(F7={}));xf.Down,xf.Right,xf.Up,xf.Left;qr(My)({padding:"4px",marginTop:"-3px"});qr(My)({marginLeft:"20px"});yr.Fragment;ba(yr.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));qr("div")(()=>({display:"flex",alignItems:"center"}));qr(c0)(({theme:t})=>({width:30,height:6,backgroundColor:t.palette.text.primary,borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}));ba(yr.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}));ba(yr.jsx("path",{d:"M19 13H5v-2h14z"}));qr(c0)(({theme:t})=>({zIndex:1e3,cursor:"pointer",transform:"scale(1)",[t.breakpoints.down("md")]:{transform:"scale(1.6)"}}));qr(c0)(({theme:t})=>({position:"absolute",right:"-10px",top:"-52px",width:"52px",height:"52px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",[t.breakpoints.down("md")]:{right:"0px",top:"-52px"},circle:{fill:t.palette.compass.compColor,stroke:t.palette.compass.compStroke},path:{fill:t.palette.compass.compStroke},"&:hover circle":{fill:t.palette.compass.compHover}}));qr(c0)(({theme:t})=>({display:"flex",flexDirection:"row","path:nth-of-type(2)":{fill:t.palette.compass.compSouth},"path:nth-of-type(1)":{fill:t.palette.compass.compNorth}}));ba(yr.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}));ba(yr.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"}));qr(Tst)(({theme:t})=>({zIndex:1e3,color:t.palette.navigation.buttonColor,transform:"scale(1)"}));var Ao={},jc={},j7;function xx(){if(j7)return jc;j7=1;function t(H,G,z){if(z===void 0&&(z=Array.prototype),H&&typeof z.find=="function")return z.find.call(H,G);for(var j=0;j<H.length;j++)if(r(H,j)){var X=H[j];if(G.call(void 0,X,j,H))return X}}function e(H,G){return G===void 0&&(G=Object),G&&typeof G.getOwnPropertyDescriptors=="function"&&(H=G.create(null,G.getOwnPropertyDescriptors(H))),G&&typeof G.freeze=="function"?G.freeze(H):H}function r(H,G){return Object.prototype.hasOwnProperty.call(H,G)}function n(H,G){if(H===null||typeof H!="object")throw new TypeError("target is not an object");for(var z in G)r(G,z)&&(H[z]=G[z]);return H}var i=e({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0});function o(H){return r(i,H.toLowerCase())}var u=e({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a(H){return r(u,H.toLowerCase())}var g=e({script:!1,style:!1,textarea:!0,title:!0});function v(H){var G=H.toLowerCase();return r(g,G)&&!g[G]}function x(H){var G=H.toLowerCase();return r(g,G)&&g[G]}function k(H){return H===A.HTML}function R(H){return k(H)||H===A.XML_XHTML_APPLICATION}var A=e({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),O=Object.keys(A).map(function(H){return A[H]});function D(H){return O.indexOf(H)>-1}var U=e({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return jc.assign=n,jc.find=t,jc.freeze=e,jc.HTML_BOOLEAN_ATTRIBUTES=i,jc.HTML_RAW_TEXT_ELEMENTS=g,jc.HTML_VOID_ELEMENTS=u,jc.hasDefaultHTMLNamespace=R,jc.hasOwn=r,jc.isHTMLBooleanAttribute=o,jc.isHTMLRawTextElement=v,jc.isHTMLEscapableRawTextElement=x,jc.isHTMLMimeType=k,jc.isHTMLVoidElement=a,jc.isValidMimeType=D,jc.MIME_TYPE=A,jc.NAMESPACE=U,jc}var Ab={},V7;function uA(){if(V7)return Ab;V7=1;var t=xx();function e(R,A){R.prototype=Object.create(Error.prototype,{constructor:{value:R},name:{value:R.name,enumerable:!0,writable:A}})}var r=t.freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),n=Object.keys(r);function i(R){return typeof R=="number"&&R>=1&&R<=25}function o(R){return typeof R=="string"&&R.substring(R.length-r.Error.length)===r.Error}function u(R,A){i(R)?(this.name=n[R],this.message=A||""):(this.message=R,this.name=o(A)?A:r.Error),Error.captureStackTrace&&Error.captureStackTrace(this,u)}e(u,!0),Object.defineProperties(u.prototype,{code:{enumerable:!0,get:function(){var R=n.indexOf(this.name);return i(R)?R:0}}});for(var a={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},g=Object.entries(a),v=0;v<g.length;v++){var x=g[v][0];u[x]=g[v][1]}function k(R,A){this.message=R,this.locator=A,Error.captureStackTrace&&Error.captureStackTrace(this,k)}return e(k),Ab.DOMException=u,Ab.DOMExceptionName=r,Ab.ExceptionCode=a,Ab.ParseError=k,Ab}var Pu={},Fa={},$7;function UH(){if($7)return Fa;$7=1;function t(cr){try{typeof cr!="function"&&(cr=RegExp);var Oe=new cr("","u").exec("");return!!Oe&&Oe[0].length===2}catch{}return!1}var e=t();function r(cr){if(cr.source[0]!=="[")throw new Error(cr+" can not be used with chars");return cr.source.slice(1,cr.source.lastIndexOf("]"))}function n(cr,Oe){if(cr.source[0]!=="[")throw new Error("/"+cr.source+"/ can not be used with chars_without");if(!Oe||typeof Oe!="string")throw new Error(JSON.stringify(Oe)+" is not a valid search");if(cr.source.indexOf(Oe)===-1)throw new Error('"'+Oe+'" is not is /'+cr.source+"/");if(Oe==="-"&&cr.source.indexOf(Oe)!==1)throw new Error('"'+Oe+'" is not at the first postion of /'+cr.source+"/");return new RegExp(cr.source.replace(Oe,""),e?"u":"")}function i(cr){var Oe=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(Wr){var or=typeof Wr=="string";if(or&&Oe===void 0&&Wr==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return or?Wr:Wr.source}).join(""),e?"mu":"m")}function o(cr){if(arguments.length===0)throw new Error("no parameters provided");return i.apply(o,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var u="",a=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;e&&(a=i("[",r(a),"\\u{10000}-\\u{10FFFF}","]"));var g=/[\x20\x09\x0D\x0A]/,v=r(g),x=i(g,"+"),k=i(g,"*"),R=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;e&&(R=i("[",r(R),"\\u{10000}-\\u{10FFFF}","]"));var A=r(R),O=i("[",A,r(/[-.0-9\xB7]/),r(/[\u0300-\u036F\u203F-\u2040]/),"]"),D=i(R,O,"*"),U=i(O,"+"),H=i("&",D,";"),G=o(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),z=o(H,"|",G),j=i("%",D,";"),X=o(i('"',o(/[^%&"]/,"|",j,"|",z),"*",'"'),"|",i("'",o(/[^%&']/,"|",j,"|",z),"*","'")),Y=o('"',o(/[^<&"]/,"|",z),"*",'"',"|","'",o(/[^<&']/,"|",z),"*","'"),rt=n(R,":"),st=n(O,":"),it=i(rt,st,"*"),bt=i(it,o(":",it),"?"),at=i("^",bt,"$"),$=i("(",bt,")"),dt=o(/"[^"]*"|'[^']*'/),mt=i(/^<\?/,"(",D,")",o(x,"(",a,"*?)"),"?",/\?>/),wt=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,pt=o('"',wt,'*"',"|","'",n(wt,"'"),"*'"),Ct="<!--",vt="-->",It=i(Ct,o(n(a,"-"),"|",i("-",n(a,"-"))),"*",vt),Ft="#PCDATA",Et=o(i(/\(/,k,Ft,o(k,/\|/,k,bt),"*",k,/\)\*/),"|",i(/\(/,k,Ft,k,/\)/)),lt=/[?*+]?/,kt=i(/\([^>]+\)/,lt),At=o("EMPTY","|","ANY","|",Et,"|",kt),Nt="<!ELEMENT",qt=i(Nt,x,o(bt,"|",j),x,o(At,"|",j),k,">"),ie=i("NOTATION",x,/\(/,k,D,o(k,/\|/,k,D),"*",k,/\)/),Ht=i(/\(/,k,U,o(k,/\|/,k,U),"*",k,/\)/),ce=o(ie,"|",Ht),de=o(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",ce),Se=o(/#REQUIRED|#IMPLIED/,"|",o(o("#FIXED",x),"?",Y)),$t=o(x,D,x,de,x,Se),He="<!ATTLIST",ke=i(He,x,D,$t,"*",k,">"),Jt="about:legacy-compat",Vr=o('"'+Jt+'"',"|","'"+Jt+"'"),vr="SYSTEM",Dr="PUBLIC",Ie=o(o(vr,x,dt),"|",o(Dr,x,pt,x,dt)),Mr=i("^",o(o(vr,x,"(?<SystemLiteralOnly>",dt,")"),"|",o(Dr,x,"(?<PubidLiteral>",pt,")",x,"(?<SystemLiteral>",dt,")"))),ir=o(x,"NDATA",x,D),Rr=o(X,"|",o(Ie,ir,"?")),Pr="<!ENTITY",Ir=i(Pr,x,D,x,Rr,k,">"),dr=o(X,"|",Ie),ar=i(Pr,x,"%",x,D,x,dr,k,">"),Or=o(Ir,"|",ar),er=i(Dr,x,pt),Fr=i("<!NOTATION",x,D,x,o(Ie,"|",er),k,">"),Ze=i(k,"=",k),rr=/1[.]\d+/,Me=i(x,"version",Ze,o("'",rr,"'","|",'"',rr,'"')),jt=/[A-Za-z][-A-Za-z0-9._]*/,Mt=o(x,"encoding",Ze,o('"',jt,'"',"|","'",jt,"'")),Bt=o(x,"standalone",Ze,o("'",o("yes","|","no"),"'","|",'"',o("yes","|","no"),'"')),oe=i(/^<\?xml/,Me,Mt,"?",Bt,"?",k,/\?>/),ye="<!DOCTYPE",je="<![CDATA[",Ge="]]>",Ue=/<!\[CDATA\[/,fr=/\]\]>/,Ke=i(a,"*?",fr),Pe=i(Ue,Ke);return Fa.chars=r,Fa.chars_without=n,Fa.detectUnicodeSupport=t,Fa.reg=i,Fa.regg=o,Fa.ABOUT_LEGACY_COMPAT=Jt,Fa.ABOUT_LEGACY_COMPAT_SystemLiteral=Vr,Fa.AttlistDecl=ke,Fa.CDATA_START=je,Fa.CDATA_END=Ge,Fa.CDSect=Pe,Fa.Char=a,Fa.Comment=It,Fa.COMMENT_START=Ct,Fa.COMMENT_END=vt,Fa.DOCTYPE_DECL_START=ye,Fa.elementdecl=qt,Fa.EntityDecl=Or,Fa.EntityValue=X,Fa.ExternalID=Ie,Fa.ExternalID_match=Mr,Fa.Name=D,Fa.NotationDecl=Fr,Fa.Reference=z,Fa.PEReference=j,Fa.PI=mt,Fa.PUBLIC=Dr,Fa.PubidLiteral=pt,Fa.QName=bt,Fa.QName_exact=at,Fa.QName_group=$,Fa.S=x,Fa.SChar_s=v,Fa.S_OPT=k,Fa.SYSTEM=vr,Fa.SystemLiteral=dt,Fa.UNICODE_REPLACEMENT_CHARACTER=u,Fa.UNICODE_SUPPORT=e,Fa.XMLDecl=oe,Fa}var U7;function qH(){if(U7)return Pu;U7=1;var t=xx(),e=t.find,r=t.hasDefaultHTMLNamespace,n=t.hasOwn,i=t.isHTMLMimeType,o=t.isHTMLRawTextElement,u=t.isHTMLVoidElement,a=t.MIME_TYPE,g=t.NAMESPACE,v=Symbol(),x=uA(),k=x.DOMException,R=x.DOMExceptionName,A=UH();function O(Pt){if(Pt!==v)throw new TypeError("Illegal constructor")}function D(Pt){return Pt!==""}function U(Pt){return Pt?Pt.split(/[\t\n\f\r ]+/).filter(D):[]}function H(Pt,Xt){return n(Pt,Xt)||(Pt[Xt]=!0),Pt}function G(Pt){if(!Pt)return[];var Xt=U(Pt);return Object.keys(Xt.reduce(H,{}))}function z(Pt){return function(Xt){return Pt&&Pt.indexOf(Xt)!==-1}}function j(Pt){if(!A.QName_exact.test(Pt))throw new k(k.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+Pt+'"')}function X(Pt,Xt){j(Xt),Pt=Pt||null;var be=null,ze=Xt;if(Xt.indexOf(":")>=0){var Lr=Xt.split(":");be=Lr[0],ze=Lr[1]}if(be!==null&&Pt===null)throw new k(k.NAMESPACE_ERR,"prefix is non-null and namespace is null");if(be==="xml"&&Pt!==t.NAMESPACE.XML)throw new k(k.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if((be==="xmlns"||Xt==="xmlns")&&Pt!==t.NAMESPACE.XMLNS)throw new k(k.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(Pt===t.NAMESPACE.XMLNS&&be!=="xmlns"&&Xt!=="xmlns")throw new k(k.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[Pt,be,ze]}function Y(Pt,Xt){for(var be in Pt)n(Pt,be)&&(Xt[be]=Pt[be])}function rt(Pt,Xt){var be=Pt.prototype;if(!(be instanceof Xt)){let ze=function(){};ze.prototype=Xt.prototype,ze=new ze,Y(be,ze),Pt.prototype=be=ze}be.constructor!=Pt&&(typeof Pt!="function"&&console.error("unknown Class:"+Pt),be.constructor=Pt)}var st={},it=st.ELEMENT_NODE=1,bt=st.ATTRIBUTE_NODE=2,at=st.TEXT_NODE=3,$=st.CDATA_SECTION_NODE=4,dt=st.ENTITY_REFERENCE_NODE=5,mt=st.ENTITY_NODE=6,wt=st.PROCESSING_INSTRUCTION_NODE=7,pt=st.COMMENT_NODE=8,Ct=st.DOCUMENT_NODE=9,vt=st.DOCUMENT_TYPE_NODE=10,It=st.DOCUMENT_FRAGMENT_NODE=11,Ft=st.NOTATION_NODE=12,Et=t.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function lt(Pt,Xt){if(Xt.length<Pt.length)return lt(Xt,Pt);var be=null;for(var ze in Pt){if(Pt[ze]!==Xt[ze])return be;be=Pt[ze]}return be}function kt(Pt){return Pt.guid||(Pt.guid=Math.random()),Pt.guid}function At(){}At.prototype={length:0,item:function(Pt){return Pt>=0&&Pt<this.length?this[Pt]:null},toString:function(Pt){for(var Xt=[],be=0;be<this.length;be++)or(this[be],Xt,Pt);return Xt.join("")},filter:function(Pt){return Array.prototype.filter.call(this,Pt)},indexOf:function(Pt){return Array.prototype.indexOf.call(this,Pt)}},At.prototype[Symbol.iterator]=function(){var Pt=this,Xt=0;return{next:function(){return Xt<Pt.length?{value:Pt[Xt++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function Nt(Pt,Xt){this._node=Pt,this._refresh=Xt,qt(this)}function qt(Pt){var Xt=Pt._node._inc||Pt._node.ownerDocument._inc;if(Pt._inc!==Xt){var be=Pt._refresh(Pt._node);if(Kn(Pt,"length",be.length),!Pt.$$length||be.length<Pt.$$length)for(var ze=be.length;ze in Pt;ze++)n(Pt,ze)&&delete Pt[ze];Y(be,Pt),Pt._inc=Xt}}Nt.prototype.item=function(Pt){return qt(this),this[Pt]||null},rt(Nt,At);function ie(){}function Ht(Pt,Xt){for(var be=0;be<Pt.length;){if(Pt[be]===Xt)return be;be++}}function ce(Pt,Xt,be,ze){if(ze?Xt[Ht(Xt,ze)]=be:(Xt[Xt.length]=be,Xt.length++),Pt){be.ownerElement=Pt;var Lr=Pt.ownerDocument;Lr&&(ze&&vr(Lr,Pt,ze),Vr(Lr,Pt,be))}}function de(Pt,Xt,be){var ze=Ht(Xt,be);if(ze>=0){for(var Lr=Xt.length-1;ze<=Lr;)Xt[ze]=Xt[++ze];if(Xt.length=Lr,Pt){var yn=Pt.ownerDocument;yn&&vr(yn,Pt,be),be.ownerElement=null}}}ie.prototype={length:0,item:At.prototype.item,getNamedItem:function(Pt){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(Pt=Pt.toLowerCase());for(var Xt=0;Xt<this.length;){var be=this[Xt];if(be.nodeName===Pt)return be;Xt++}return null},setNamedItem:function(Pt){var Xt=Pt.ownerElement;if(Xt&&Xt!==this._ownerElement)throw new k(k.INUSE_ATTRIBUTE_ERR);var be=this.getNamedItemNS(Pt.namespaceURI,Pt.localName);return be===Pt?Pt:(ce(this._ownerElement,this,Pt,be),be)},setNamedItemNS:function(Pt){return this.setNamedItem(Pt)},removeNamedItem:function(Pt){var Xt=this.getNamedItem(Pt);if(!Xt)throw new k(k.NOT_FOUND_ERR,Pt);return de(this._ownerElement,this,Xt),Xt},removeNamedItemNS:function(Pt,Xt){var be=this.getNamedItemNS(Pt,Xt);if(!be)throw new k(k.NOT_FOUND_ERR,Pt?Pt+" : "+Xt:Xt);return de(this._ownerElement,this,be),be},getNamedItemNS:function(Pt,Xt){Pt||(Pt=null);for(var be=0;be<this.length;){var ze=this[be];if(ze.localName===Xt&&ze.namespaceURI===Pt)return ze;be++}return null}},ie.prototype[Symbol.iterator]=function(){var Pt=this,Xt=0;return{next:function(){return Xt<Pt.length?{value:Pt[Xt++],done:!1}:{done:!0}},return:function(){return{done:!0}}}};function Se(){}Se.prototype={hasFeature:function(Pt,Xt){return!0},createDocument:function(Pt,Xt,be){var ze=a.XML_APPLICATION;Pt===g.HTML?ze=a.XML_XHTML_APPLICATION:Pt===g.SVG&&(ze=a.XML_SVG_IMAGE);var Lr=new Jt(v,{contentType:ze});if(Lr.implementation=this,Lr.childNodes=new At,Lr.doctype=be||null,be&&Lr.appendChild(be),Xt){var yn=Lr.createElementNS(Pt,Xt);Lr.appendChild(yn)}return Lr},createDocumentType:function(Pt,Xt,be,ze){j(Pt);var Lr=new ye(v);return Lr.name=Pt,Lr.nodeName=Pt,Lr.publicId=Xt||"",Lr.systemId=be||"",Lr.internalSubset=ze||"",Lr.childNodes=new At,Lr},createHTMLDocument:function(Pt){var Xt=new Jt(v,{contentType:a.HTML});if(Xt.implementation=this,Xt.childNodes=new At,Pt!==!1){Xt.doctype=this.createDocumentType("html"),Xt.doctype.ownerDocument=Xt,Xt.appendChild(Xt.doctype);var be=Xt.createElement("html");Xt.appendChild(be);var ze=Xt.createElement("head");if(be.appendChild(ze),typeof Pt=="string"){var Lr=Xt.createElement("title");Lr.appendChild(Xt.createTextNode(Pt)),ze.appendChild(Lr)}be.appendChild(Xt.createElement("body"))}return Xt}};function $t(Pt){O(Pt)}$t.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var Pt=this.getRootNode();return Pt&&Pt.nodeType===Pt.DOCUMENT_NODE},contains:function(Pt){if(!Pt)return!1;var Xt=Pt;do{if(this===Xt)return!0;Xt=Pt.parentNode}while(Xt);return!1},getRootNode:function(Pt){var Xt=this;do{if(!Xt.parentNode)return Xt;Xt=Xt.parentNode}while(Xt)},isEqualNode:function(Pt){if(!Pt||this.nodeType!==Pt.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==Pt.name||this.publicId!==Pt.publicId||this.systemId!==Pt.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==Pt.namespaceURI||this.prefix!==Pt.prefix||this.localName!==Pt.localName||this.attributes.length!==Pt.attributes.length)return!1;for(var Xt=0;Xt<this.attributes.length;Xt++){var be=this.attributes.item(Xt);if(!be.isEqualNode(Pt.getAttributeNodeNS(be.namespaceURI,be.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==Pt.namespaceURI||this.localName!==Pt.localName||this.value!==Pt.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==Pt.target||this.data!==Pt.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==Pt.data)return!1;break}if(this.childNodes.length!==Pt.childNodes.length)return!1;for(var Xt=0;Xt<this.childNodes.length;Xt++)if(!this.childNodes[Xt].isEqualNode(Pt.childNodes[Xt]))return!1;return!0},isSameNode:function(Pt){return this===Pt},insertBefore:function(Pt,Xt){return Ze(this,Pt,Xt)},replaceChild:function(Pt,Xt){Ze(this,Pt,Xt,Fr),Xt&&this.removeChild(Xt)},removeChild:function(Pt){return Ie(this,Pt)},appendChild:function(Pt){return this.insertBefore(Pt,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(Pt){return Kr(this.ownerDocument||this,this,Pt)},normalize:function(){for(var Pt=this.firstChild;Pt;){var Xt=Pt.nextSibling;Xt&&Xt.nodeType==at&&Pt.nodeType==at?(this.removeChild(Xt),Pt.appendData(Xt.data)):(Pt.normalize(),Pt=Xt)}},isSupported:function(Pt,Xt){return this.ownerDocument.implementation.hasFeature(Pt,Xt)},lookupPrefix:function(Pt){for(var Xt=this;Xt;){var be=Xt._nsMap;if(be){for(var ze in be)if(n(be,ze)&&be[ze]===Pt)return ze}Xt=Xt.nodeType==bt?Xt.ownerDocument:Xt.parentNode}return null},lookupNamespaceURI:function(Pt){for(var Xt=this;Xt;){var be=Xt._nsMap;if(be&&n(be,Pt))return be[Pt];Xt=Xt.nodeType==bt?Xt.ownerDocument:Xt.parentNode}return null},isDefaultNamespace:function(Pt){var Xt=this.lookupPrefix(Pt);return Xt==null},compareDocumentPosition:function(Pt){if(this===Pt)return 0;var Xt=Pt,be=this,ze=null,Lr=null;if(Xt instanceof Me&&(ze=Xt,Xt=ze.ownerElement),be instanceof Me&&(Lr=be,be=Lr.ownerElement,ze&&Xt&&be===Xt))for(var yn=0,$r;$r=be.attributes[yn];yn++){if($r===ze)return Et.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+Et.DOCUMENT_POSITION_PRECEDING;if($r===Lr)return Et.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+Et.DOCUMENT_POSITION_FOLLOWING}if(!Xt||!be||be.ownerDocument!==Xt.ownerDocument)return Et.DOCUMENT_POSITION_DISCONNECTED+Et.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(kt(be.ownerDocument)>kt(Xt.ownerDocument)?Et.DOCUMENT_POSITION_FOLLOWING:Et.DOCUMENT_POSITION_PRECEDING);if(Lr&&Xt===be)return Et.DOCUMENT_POSITION_CONTAINS+Et.DOCUMENT_POSITION_PRECEDING;if(ze&&Xt===be)return Et.DOCUMENT_POSITION_CONTAINED_BY+Et.DOCUMENT_POSITION_FOLLOWING;for(var fi=[],On=Xt.parentNode;On;){if(!Lr&&On===be)return Et.DOCUMENT_POSITION_CONTAINED_BY+Et.DOCUMENT_POSITION_FOLLOWING;fi.push(On),On=On.parentNode}fi.reverse();for(var li=[],Ki=be.parentNode;Ki;){if(!ze&&Ki===Xt)return Et.DOCUMENT_POSITION_CONTAINS+Et.DOCUMENT_POSITION_PRECEDING;li.push(Ki),Ki=Ki.parentNode}li.reverse();var en=lt(fi,li);for(var Rn in en.childNodes){var Xn=en.childNodes[Rn];if(Xn===be)return Et.DOCUMENT_POSITION_FOLLOWING;if(Xn===Xt)return Et.DOCUMENT_POSITION_PRECEDING;if(li.indexOf(Xn)>=0)return Et.DOCUMENT_POSITION_FOLLOWING;if(fi.indexOf(Xn)>=0)return Et.DOCUMENT_POSITION_PRECEDING}return 0}};function He(Pt){return Pt=="<"&&"&lt;"||Pt==">"&&"&gt;"||Pt=="&"&&"&amp;"||Pt=='"'&&"&quot;"||"&#"+Pt.charCodeAt()+";"}Y(st,$t),Y(st,$t.prototype),Y(Et,$t),Y(Et,$t.prototype);function ke(Pt,Xt){if(Xt(Pt))return!0;if(Pt=Pt.firstChild)do if(ke(Pt,Xt))return!0;while(Pt=Pt.nextSibling)}function Jt(Pt,Xt){O(Pt);var be=Xt||{};this.ownerDocument=this,this.contentType=be.contentType||a.XML_APPLICATION,this.type=i(this.contentType)?"html":"xml"}function Vr(Pt,Xt,be){Pt&&Pt._inc++;var ze=be.namespaceURI;ze===g.XMLNS&&(Xt._nsMap[be.prefix?be.localName:""]=be.value)}function vr(Pt,Xt,be,ze){Pt&&Pt._inc++;var Lr=be.namespaceURI;Lr===g.XMLNS&&delete Xt._nsMap[be.prefix?be.localName:""]}function Dr(Pt,Xt,be){if(Pt&&Pt._inc){Pt._inc++;var ze=Xt.childNodes;if(be&&!be.nextSibling)ze[ze.length++]=be;else{for(var Lr=Xt.firstChild,yn=0;Lr;)ze[yn++]=Lr,Lr=Lr.nextSibling;ze.length=yn,delete ze[ze.length]}}}function Ie(Pt,Xt){if(Pt!==Xt.parentNode)throw new k(k.NOT_FOUND_ERR,"child's parent is not parent");var be=Xt.previousSibling,ze=Xt.nextSibling;return be?be.nextSibling=ze:Pt.firstChild=ze,ze?ze.previousSibling=be:Pt.lastChild=be,Dr(Pt.ownerDocument,Pt),Xt.parentNode=null,Xt.previousSibling=null,Xt.nextSibling=null,Xt}function Mr(Pt){return Pt&&(Pt.nodeType===$t.DOCUMENT_NODE||Pt.nodeType===$t.DOCUMENT_FRAGMENT_NODE||Pt.nodeType===$t.ELEMENT_NODE)}function ir(Pt){return Pt&&(Pt.nodeType===$t.CDATA_SECTION_NODE||Pt.nodeType===$t.COMMENT_NODE||Pt.nodeType===$t.DOCUMENT_FRAGMENT_NODE||Pt.nodeType===$t.DOCUMENT_TYPE_NODE||Pt.nodeType===$t.ELEMENT_NODE||Pt.nodeType===$t.PROCESSING_INSTRUCTION_NODE||Pt.nodeType===$t.TEXT_NODE)}function Rr(Pt){return Pt&&Pt.nodeType===$t.DOCUMENT_TYPE_NODE}function Pr(Pt){return Pt&&Pt.nodeType===$t.ELEMENT_NODE}function Ir(Pt){return Pt&&Pt.nodeType===$t.TEXT_NODE}function dr(Pt,Xt){var be=Pt.childNodes||[];if(e(be,Pr)||Rr(Xt))return!1;var ze=e(be,Rr);return!(Xt&&ze&&be.indexOf(ze)>be.indexOf(Xt))}function ar(Pt,Xt){var be=Pt.childNodes||[];function ze(yn){return Pr(yn)&&yn!==Xt}if(e(be,ze))return!1;var Lr=e(be,Rr);return!(Xt&&Lr&&be.indexOf(Lr)>be.indexOf(Xt))}function Or(Pt,Xt,be){if(!Mr(Pt))throw new k(k.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+Pt.nodeType);if(be&&be.parentNode!==Pt)throw new k(k.NOT_FOUND_ERR,"child not in parent");if(!ir(Xt)||Rr(Xt)&&Pt.nodeType!==$t.DOCUMENT_NODE)throw new k(k.HIERARCHY_REQUEST_ERR,"Unexpected node type "+Xt.nodeType+" for parent node type "+Pt.nodeType)}function er(Pt,Xt,be){var ze=Pt.childNodes||[],Lr=Xt.childNodes||[];if(Xt.nodeType===$t.DOCUMENT_FRAGMENT_NODE){var yn=Lr.filter(Pr);if(yn.length>1||e(Lr,Ir))throw new k(k.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(yn.length===1&&!dr(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Pr(Xt)&&!dr(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(Rr(Xt)){if(e(ze,Rr))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var $r=e(ze,Pr);if(be&&ze.indexOf($r)<ze.indexOf(be))throw new k(k.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!be&&$r)throw new k(k.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function Fr(Pt,Xt,be){var ze=Pt.childNodes||[],Lr=Xt.childNodes||[];if(Xt.nodeType===$t.DOCUMENT_FRAGMENT_NODE){var yn=Lr.filter(Pr);if(yn.length>1||e(Lr,Ir))throw new k(k.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(yn.length===1&&!ar(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Pr(Xt)&&!ar(Pt,be))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(Rr(Xt)){if(e(ze,function(fi){return Rr(fi)&&fi!==be}))throw new k(k.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var $r=e(ze,Pr);if(be&&ze.indexOf($r)<ze.indexOf(be))throw new k(k.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function Ze(Pt,Xt,be,ze){Or(Pt,Xt,be),Pt.nodeType===$t.DOCUMENT_NODE&&(ze||er)(Pt,Xt,be);var Lr=Xt.parentNode;if(Lr&&Lr.removeChild(Xt),Xt.nodeType===It){var yn=Xt.firstChild;if(yn==null)return Xt;var $r=Xt.lastChild}else yn=$r=Xt;var fi=be?be.previousSibling:Pt.lastChild;yn.previousSibling=fi,$r.nextSibling=be,fi?fi.nextSibling=yn:Pt.firstChild=yn,be==null?Pt.lastChild=$r:be.previousSibling=$r;do yn.parentNode=Pt;while(yn!==$r&&(yn=yn.nextSibling));return Dr(Pt.ownerDocument||Pt,Pt,Xt),Xt.nodeType==It&&(Xt.firstChild=Xt.lastChild=null),Xt}Jt.prototype={implementation:null,nodeName:"#document",nodeType:Ct,doctype:null,documentElement:null,_inc:1,insertBefore:function(Pt,Xt){if(Pt.nodeType===It){for(var be=Pt.firstChild;be;){var ze=be.nextSibling;this.insertBefore(be,Xt),be=ze}return Pt}return Ze(this,Pt,Xt),Pt.ownerDocument=this,this.documentElement===null&&Pt.nodeType===it&&(this.documentElement=Pt),Pt},removeChild:function(Pt){var Xt=Ie(this,Pt);return Xt===this.documentElement&&(this.documentElement=null),Xt},replaceChild:function(Pt,Xt){Ze(this,Pt,Xt,Fr),Pt.ownerDocument=this,Xt&&this.removeChild(Xt),Pr(Pt)&&(this.documentElement=Pt)},importNode:function(Pt,Xt){return vn(this,Pt,Xt)},getElementById:function(Pt){var Xt=null;return ke(this.documentElement,function(be){if(be.nodeType==it&&be.getAttribute("id")==Pt)return Xt=be,!0}),Xt},createElement:function(Pt){var Xt=new rr(v);Xt.ownerDocument=this,this.type==="html"&&(Pt=Pt.toLowerCase()),r(this.contentType)&&(Xt.namespaceURI=g.HTML),Xt.nodeName=Pt,Xt.tagName=Pt,Xt.localName=Pt,Xt.childNodes=new At;var be=Xt.attributes=new ie;return be._ownerElement=Xt,Xt},createDocumentFragment:function(){var Pt=new fr(v);return Pt.ownerDocument=this,Pt.childNodes=new At,Pt},createTextNode:function(Pt){var Xt=new Mt(v);return Xt.ownerDocument=this,Xt.childNodes=new At,Xt.appendData(Pt),Xt},createComment:function(Pt){var Xt=new Bt(v);return Xt.ownerDocument=this,Xt.childNodes=new At,Xt.appendData(Pt),Xt},createCDATASection:function(Pt){var Xt=new oe(v);return Xt.ownerDocument=this,Xt.childNodes=new At,Xt.appendData(Pt),Xt},createProcessingInstruction:function(Pt,Xt){var be=new Ke(v);return be.ownerDocument=this,be.childNodes=new At,be.nodeName=be.target=Pt,be.nodeValue=be.data=Xt,be},createAttribute:function(Pt){if(!A.QName_exact.test(Pt))throw new k(k.INVALID_CHARACTER_ERR,'invalid character in name "'+Pt+'"');return this.type==="html"&&(Pt=Pt.toLowerCase()),this._createAttribute(Pt)},_createAttribute:function(Pt){var Xt=new Me(v);return Xt.ownerDocument=this,Xt.childNodes=new At,Xt.name=Pt,Xt.nodeName=Pt,Xt.localName=Pt,Xt.specified=!0,Xt},createEntityReference:function(Pt){if(!A.Name.test(Pt))throw new k(k.INVALID_CHARACTER_ERR,'not a valid xml name "'+Pt+'"');if(this.type==="html")throw new k("document is an html document",R.NotSupportedError);var Xt=new Ue(v);return Xt.ownerDocument=this,Xt.childNodes=new At,Xt.nodeName=Pt,Xt},createElementNS:function(Pt,Xt){var be=X(Pt,Xt),ze=new rr(v),Lr=ze.attributes=new ie;return ze.childNodes=new At,ze.ownerDocument=this,ze.nodeName=Xt,ze.tagName=Xt,ze.namespaceURI=be[0],ze.prefix=be[1],ze.localName=be[2],Lr._ownerElement=ze,ze},createAttributeNS:function(Pt,Xt){var be=X(Pt,Xt),ze=new Me(v);return ze.ownerDocument=this,ze.childNodes=new At,ze.nodeName=Xt,ze.name=Xt,ze.specified=!0,ze.namespaceURI=be[0],ze.prefix=be[1],ze.localName=be[2],ze}},rt(Jt,$t);function rr(Pt){O(Pt),this._nsMap=Object.create(null)}rr.prototype={nodeType:it,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===g.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(Pt){return!!this.getAttributeNode(Pt)},getAttribute:function(Pt){var Xt=this.getAttributeNode(Pt);return Xt?Xt.value:null},getAttributeNode:function(Pt){return this._isInHTMLDocumentAndNamespace()&&(Pt=Pt.toLowerCase()),this.attributes.getNamedItem(Pt)},setAttribute:function(Pt,Xt){this._isInHTMLDocumentAndNamespace()&&(Pt=Pt.toLowerCase());var be=this.getAttributeNode(Pt);be?be.value=be.nodeValue=""+Xt:(be=this.ownerDocument._createAttribute(Pt),be.value=be.nodeValue=""+Xt,this.setAttributeNode(be))},removeAttribute:function(Pt){var Xt=this.getAttributeNode(Pt);Xt&&this.removeAttributeNode(Xt)},setAttributeNode:function(Pt){return this.attributes.setNamedItem(Pt)},setAttributeNodeNS:function(Pt){return this.attributes.setNamedItemNS(Pt)},removeAttributeNode:function(Pt){return this.attributes.removeNamedItem(Pt.nodeName)},removeAttributeNS:function(Pt,Xt){var be=this.getAttributeNodeNS(Pt,Xt);be&&this.removeAttributeNode(be)},hasAttributeNS:function(Pt,Xt){return this.getAttributeNodeNS(Pt,Xt)!=null},getAttributeNS:function(Pt,Xt){var be=this.getAttributeNodeNS(Pt,Xt);return be?be.value:null},setAttributeNS:function(Pt,Xt,be){var ze=X(Pt,Xt),Lr=ze[2],yn=this.getAttributeNodeNS(Pt,Lr);yn?yn.value=yn.nodeValue=""+be:(yn=this.ownerDocument.createAttributeNS(Pt,Xt),yn.value=yn.nodeValue=""+be,this.setAttributeNode(yn))},getAttributeNodeNS:function(Pt,Xt){return this.attributes.getNamedItemNS(Pt,Xt)},getElementsByClassName:function(Pt){var Xt=G(Pt);return new Nt(this,function(be){var ze=[];return Xt.length>0&&ke(be,function(Lr){if(Lr!==be&&Lr.nodeType===it){var yn=Lr.getAttribute("class");if(yn){var $r=Pt===yn;if(!$r){var fi=G(yn);$r=Xt.every(z(fi))}$r&&ze.push(Lr)}}}),ze})},getElementsByTagName:function(Pt){var Xt=(this.nodeType===Ct?this:this.ownerDocument).type==="html",be=Pt.toLowerCase();return new Nt(this,function(ze){var Lr=[];return ke(ze,function(yn){if(!(yn===ze||yn.nodeType!==it))if(Pt==="*")Lr.push(yn);else{var $r=yn.getQualifiedName(),fi=Xt&&yn.namespaceURI===g.HTML?be:Pt;$r===fi&&Lr.push(yn)}}),Lr})},getElementsByTagNameNS:function(Pt,Xt){return new Nt(this,function(be){var ze=[];return ke(be,function(Lr){Lr!==be&&Lr.nodeType===it&&(Pt==="*"||Lr.namespaceURI===Pt)&&(Xt==="*"||Lr.localName==Xt)&&ze.push(Lr)}),ze})}},Jt.prototype.getElementsByClassName=rr.prototype.getElementsByClassName,Jt.prototype.getElementsByTagName=rr.prototype.getElementsByTagName,Jt.prototype.getElementsByTagNameNS=rr.prototype.getElementsByTagNameNS,rt(rr,$t);function Me(Pt){O(Pt),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}Me.prototype.nodeType=bt,rt(Me,$t);function jt(Pt){O(Pt)}jt.prototype={data:"",substringData:function(Pt,Xt){return this.data.substring(Pt,Pt+Xt)},appendData:function(Pt){Pt=this.data+Pt,this.nodeValue=this.data=Pt,this.length=Pt.length},insertData:function(Pt,Xt){this.replaceData(Pt,0,Xt)},deleteData:function(Pt,Xt){this.replaceData(Pt,Xt,"")},replaceData:function(Pt,Xt,be){var ze=this.data.substring(0,Pt),Lr=this.data.substring(Pt+Xt);be=ze+be+Lr,this.nodeValue=this.data=be,this.length=be.length}},rt(jt,$t);function Mt(Pt){O(Pt)}Mt.prototype={nodeName:"#text",nodeType:at,splitText:function(Pt){var Xt=this.data,be=Xt.substring(Pt);Xt=Xt.substring(0,Pt),this.data=this.nodeValue=Xt,this.length=Xt.length;var ze=this.ownerDocument.createTextNode(be);return this.parentNode&&this.parentNode.insertBefore(ze,this.nextSibling),ze}},rt(Mt,jt);function Bt(Pt){O(Pt)}Bt.prototype={nodeName:"#comment",nodeType:pt},rt(Bt,jt);function oe(Pt){O(Pt)}oe.prototype={nodeName:"#cdata-section",nodeType:$},rt(oe,Mt);function ye(Pt){O(Pt)}ye.prototype.nodeType=vt,rt(ye,$t);function je(Pt){O(Pt)}je.prototype.nodeType=Ft,rt(je,$t);function Ge(Pt){O(Pt)}Ge.prototype.nodeType=mt,rt(Ge,$t);function Ue(Pt){O(Pt)}Ue.prototype.nodeType=dt,rt(Ue,$t);function fr(Pt){O(Pt)}fr.prototype.nodeName="#document-fragment",fr.prototype.nodeType=It,rt(fr,$t);function Ke(Pt){O(Pt)}Ke.prototype.nodeType=wt,rt(Ke,jt);function Pe(){}Pe.prototype.serializeToString=function(Pt,Xt){return cr.call(Pt,Xt)},$t.prototype.toString=cr;function cr(Pt){var Xt=[],be=this.nodeType===Ct&&this.documentElement||this,ze=be.prefix,Lr=be.namespaceURI;if(Lr&&ze==null){var ze=be.lookupPrefix(Lr);if(ze==null)var yn=[{namespace:Lr,prefix:null}]}return or(this,Xt,Pt,yn),Xt.join("")}function Oe(Pt,Xt,be){var ze=Pt.prefix||"",Lr=Pt.namespaceURI;if(!Lr||ze==="xml"&&Lr===g.XML||Lr===g.XMLNS)return!1;for(var yn=be.length;yn--;){var $r=be[yn];if($r.prefix===ze)return $r.namespace!==Lr}return!0}function Wr(Pt,Xt,be){Pt.push(" ",Xt,'="',be.replace(/[<>&"\t\n\r]/g,He),'"')}function or(Pt,Xt,be,ze){ze||(ze=[]);var Lr=Pt.nodeType===Ct?Pt:Pt.ownerDocument,yn=Lr.type==="html";if(be)if(Pt=be(Pt),Pt){if(typeof Pt=="string"){Xt.push(Pt);return}}else return;switch(Pt.nodeType){case it:var $r=Pt.attributes,fi=$r.length,On=Pt.firstChild,li=Pt.tagName,Ki=li;if(!yn&&!Pt.prefix&&Pt.namespaceURI){for(var en,Rn=0;Rn<$r.length;Rn++)if($r.item(Rn).name==="xmlns"){en=$r.item(Rn).value;break}if(!en)for(var Xn=ze.length-1;Xn>=0;Xn--){var Ra=ze[Xn];if(Ra.prefix===""&&Ra.namespace===Pt.namespaceURI){en=Ra.namespace;break}}if(en!==Pt.namespaceURI)for(var Xn=ze.length-1;Xn>=0;Xn--){var Ra=ze[Xn];if(Ra.namespace===Pt.namespaceURI){Ra.prefix&&(Ki=Ra.prefix+":"+li);break}}}Xt.push("<",Ki);for(var _o=0;_o<fi;_o++){var Na=$r.item(_o);Na.prefix=="xmlns"?ze.push({prefix:Na.localName,namespace:Na.value}):Na.nodeName=="xmlns"&&ze.push({prefix:"",namespace:Na.value})}for(var _o=0;_o<fi;_o++){var Na=$r.item(_o);if(Oe(Na,yn,ze)){var Mn=Na.prefix||"",io=Na.namespaceURI;Wr(Xt,Mn?"xmlns:"+Mn:"xmlns",io),ze.push({prefix:Mn,namespace:io})}or(Na,Xt,be,ze)}if(li===Ki&&Oe(Pt,yn,ze)){var Mn=Pt.prefix||"",io=Pt.namespaceURI;Wr(Xt,Mn?"xmlns:"+Mn:"xmlns",io),ze.push({prefix:Mn,namespace:io})}var rl=!On;if(rl&&(yn||Pt.namespaceURI===g.HTML)&&(rl=u(li)),rl)Xt.push("/>");else{if(Xt.push(">"),yn&&o(li))for(;On;)On.data?Xt.push(On.data):or(On,Xt,be,ze.slice()),On=On.nextSibling;else for(;On;)or(On,Xt,be,ze.slice()),On=On.nextSibling;Xt.push("</",Ki,">")}return;case Ct:case It:for(var On=Pt.firstChild;On;)or(On,Xt,be,ze.slice()),On=On.nextSibling;return;case bt:return Wr(Xt,Pt.name,Pt.value);case at:return Xt.push(Pt.data.replace(/[<&>]/g,He));case $:return Xt.push(A.CDATA_START,Pt.data,A.CDATA_END);case pt:return Xt.push(A.COMMENT_START,Pt.data,A.COMMENT_END);case vt:var ra=Pt.publicId,sa=Pt.systemId;Xt.push(A.DOCTYPE_DECL_START," ",Pt.name),ra?(Xt.push(" ",A.PUBLIC," ",ra),sa&&sa!=="."&&Xt.push(" ",sa)):sa&&sa!=="."&&Xt.push(" ",A.SYSTEM," ",sa),Pt.internalSubset&&Xt.push(" [",Pt.internalSubset,"]"),Xt.push(">");return;case wt:return Xt.push("<?",Pt.target," ",Pt.data,"?>");case dt:return Xt.push("&",Pt.nodeName,";");default:Xt.push("??",Pt.nodeName)}}function vn(Pt,Xt,be){var ze;switch(Xt.nodeType){case it:ze=Xt.cloneNode(!1),ze.ownerDocument=Pt;case It:break;case bt:be=!0;break}if(ze||(ze=Xt.cloneNode(!1)),ze.ownerDocument=Pt,ze.parentNode=null,be)for(var Lr=Xt.firstChild;Lr;)ze.appendChild(vn(Pt,Lr,be)),Lr=Lr.nextSibling;return ze}function Kr(Pt,Xt,be){var ze=new Xt.constructor(v);for(var Lr in Xt)if(n(Xt,Lr)){var yn=Xt[Lr];typeof yn!="object"&&yn!=ze[Lr]&&(ze[Lr]=yn)}switch(Xt.childNodes&&(ze.childNodes=new At),ze.ownerDocument=Pt,ze.nodeType){case it:var $r=Xt.attributes,fi=ze.attributes=new ie,On=$r.length;fi._ownerElement=ze;for(var li=0;li<On;li++)ze.setAttributeNode(Kr(Pt,$r.item(li),!0));break;case bt:be=!0}if(be)for(var Ki=Xt.firstChild;Ki;)ze.appendChild(Kr(Pt,Ki,be)),Ki=Ki.nextSibling;return ze}function Kn(Pt,Xt,be){Pt[Xt]=be}try{if(Object.defineProperty){let Pt=function(Xt){switch(Xt.nodeType){case it:case It:var be=[];for(Xt=Xt.firstChild;Xt;)Xt.nodeType!==7&&Xt.nodeType!==8&&be.push(Pt(Xt)),Xt=Xt.nextSibling;return be.join("");default:return Xt.nodeValue}};Object.defineProperty(Nt.prototype,"length",{get:function(){return qt(this),this.$$length}}),Object.defineProperty($t.prototype,"textContent",{get:function(){return Pt(this)},set:function(Xt){switch(this.nodeType){case it:case It:for(;this.firstChild;)this.removeChild(this.firstChild);(Xt||String(Xt))&&this.appendChild(this.ownerDocument.createTextNode(Xt));break;default:this.data=Xt,this.value=Xt,this.nodeValue=Xt}}}),Kn=function(Xt,be,ze){Xt["$$"+be]=ze}}}catch{}return Pu._updateLiveList=qt,Pu.Attr=Me,Pu.CDATASection=oe,Pu.CharacterData=jt,Pu.Comment=Bt,Pu.Document=Jt,Pu.DocumentFragment=fr,Pu.DocumentType=ye,Pu.DOMImplementation=Se,Pu.Element=rr,Pu.Entity=Ge,Pu.EntityReference=Ue,Pu.LiveNodeList=Nt,Pu.NamedNodeMap=ie,Pu.Node=$t,Pu.NodeList=At,Pu.Notation=je,Pu.Text=Mt,Pu.ProcessingInstruction=Ke,Pu.XMLSerializer=Pe,Pu}var yv={},q7={},G7;function Sxt(){return G7||(G7=1,(function(t){var e=xx().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(q7)),q7}var U1={},H7;function Ext(){if(H7)return U1;H7=1;var t=xx(),e=UH(),r=uA(),n=t.isHTMLEscapableRawTextElement,i=t.isHTMLMimeType,o=t.isHTMLRawTextElement,u=t.hasOwn,a=t.NAMESPACE,g=r.ParseError,v=r.DOMException,x=0,k=1,R=2,A=3,O=4,D=5,U=6,H=7;function G(){}G.prototype={parse:function(wt,pt,Ct){var vt=this.domBuilder;vt.startDocument(),it(pt,pt=Object.create(null)),j(wt,pt,Ct,vt,this.errorHandler),vt.endDocument()}};var z=/&#?\w+;?/g;function j(wt,pt,Ct,vt,It){var Ft=i(vt.mimeType);wt.indexOf(e.UNICODE_REPLACEMENT_CHARACTER)>=0&&It.warning("Unicode replacement character detected, source encoding issues?");function Et(Ze){if(Ze>65535){Ze-=65536;var rr=55296+(Ze>>10),Me=56320+(Ze&1023);return String.fromCharCode(rr,Me)}else return String.fromCharCode(Ze)}function lt(Ze){var rr=Ze[Ze.length-1]===";"?Ze:Ze+";";if(!Ft&&rr!==Ze)return It.error("EntityRef: expecting ;"),Ze;var Me=e.Reference.exec(rr);if(!Me||Me[0].length!==rr.length)return It.error("entity not matching Reference production: "+Ze),Ze;var jt=rr.slice(1,-1);return u(Ct,jt)?Ct[jt]:jt.charAt(0)==="#"?Et(parseInt(jt.substring(1).replace("x","0x"))):(It.error("entity not found:"+Ze),Ze)}function kt(Ze){if(Ze>Se){var rr=wt.substring(Se,Ze).replace(z,lt);ie&&Ht(Se),vt.characters(rr,0,Ze-Se),Se=Ze}}var At=0,Nt=0,qt=/\r\n?|\n|$/g,ie=vt.locator;function Ht(Ze,rr){for(;Ze>=Nt&&(rr=qt.exec(wt));)At=Nt,Nt=rr.index+rr[0].length,ie.lineNumber++;ie.columnNumber=Ze-At+1}for(var ce=[{currentNSMap:pt}],de=[],Se=0;;){try{var $t=wt.indexOf("<",Se);if($t<0){if(!Ft&&de.length>0)return It.fatalError("unclosed xml tag(s): "+de.join(", "));if(!wt.substring(Se).match(/^\s*$/)){var He=vt.doc,ke=He.createTextNode(wt.substring(Se));if(He.documentElement)return It.error("Extra content at the end of the document");He.appendChild(ke),vt.currentElement=ke}return}if($t>Se){var Jt=wt.substring(Se,$t);!Ft&&de.length===0&&(Jt=Jt.replace(new RegExp(e.S_OPT.source,"g"),""),Jt&&It.error("Unexpected content outside root element: '"+Jt+"'")),kt($t)}switch(wt.charAt($t+1)){case"/":var dr=wt.indexOf(">",$t+2),Vr=wt.substring($t+2,dr>0?dr:void 0);if(!Vr)return It.fatalError("end tag name missing");var vr=dr>0&&e.reg("^",e.QName_group,e.S_OPT,"$").exec(Vr);if(!vr)return It.fatalError('end tag name contains invalid characters: "'+Vr+'"');if(!vt.currentElement&&!vt.doc.documentElement)return;var Dr=de[de.length-1]||vt.currentElement.tagName||vt.doc.documentElement.tagName||"";if(Dr!==vr[1]){var Ie=vr[1].toLowerCase();if(!Ft||Dr.toLowerCase()!==Ie)return It.fatalError('Opening and ending tag mismatch: "'+Dr+'" != "'+Vr+'"')}var Mr=ce.pop();de.pop();var ir=Mr.localNSMap;if(vt.endElement(Mr.uri,Mr.localName,Dr),ir)for(var Rr in ir)u(ir,Rr)&&vt.endPrefixMapping(Rr);dr++;break;case"?":ie&&Ht($t),dr=dt(wt,$t,vt,It);break;case"!":ie&&Ht($t),dr=$(wt,$t,vt,It,Ft);break;default:ie&&Ht($t);var Pr=new mt,Ir=ce[ce.length-1].currentNSMap,dr=Y(wt,$t,Pr,Ir,lt,It,Ft),ar=Pr.length;if(Pr.closed||(Ft&&t.isHTMLVoidElement(Pr.tagName)?Pr.closed=!0:de.push(Pr.tagName)),ie&&ar){for(var Or=X(ie,{}),er=0;er<ar;er++){var Fr=Pr[er];Ht(Fr.offset),Fr.locator=X(ie,{})}vt.locator=Or,rt(Pr,vt,Ir)&&ce.push(Pr),vt.locator=ie}else rt(Pr,vt,Ir)&&ce.push(Pr);Ft&&!Pr.closed?dr=st(wt,dr,Pr.tagName,lt,vt):dr++}}catch(Ze){if(Ze instanceof g)throw Ze;if(Ze instanceof v)throw new g(Ze.name+": "+Ze.message,vt.locator,Ze);It.error("element parse error: "+Ze),dr=-1}dr>Se?Se=dr:kt(Math.max($t,Se)+1)}}function X(wt,pt){return pt.lineNumber=wt.lineNumber,pt.columnNumber=wt.columnNumber,pt}function Y(wt,pt,Ct,vt,It,Ft,Et){function lt(Ht,ce,de){if(u(Ct.attributeNames,Ht))return Ft.fatalError("Attribute "+Ht+" redefined");if(!Et&&ce.indexOf("<")>=0)return Ft.fatalError("Unescaped '<' not allowed in attributes values");Ct.addValue(Ht,ce.replace(/[\t\n\r]/g," ").replace(z,It),de)}for(var kt,At,Nt=++pt,qt=x;;){var ie=wt.charAt(Nt);switch(ie){case"=":if(qt===k)kt=wt.slice(pt,Nt),qt=A;else if(qt===R)qt=A;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(qt===A||qt===k)if(qt===k&&(Ft.warning('attribute value must after "="'),kt=wt.slice(pt,Nt)),pt=Nt+1,Nt=wt.indexOf(ie,pt),Nt>0)At=wt.slice(pt,Nt),lt(kt,At,pt-1),qt=D;else throw new Error("attribute value no end '"+ie+"' match");else if(qt==O)At=wt.slice(pt,Nt),lt(kt,At,pt),Ft.warning('attribute "'+kt+'" missed start quot('+ie+")!!"),pt=Nt+1,qt=D;else throw new Error('attribute value must after "="');break;case"/":switch(qt){case x:Ct.setTagName(wt.slice(pt,Nt));case D:case U:case H:qt=H,Ct.closed=!0;case O:case k:break;case R:Ct.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Ft.error("unexpected end of input"),qt==x&&Ct.setTagName(wt.slice(pt,Nt)),Nt;case">":switch(qt){case x:Ct.setTagName(wt.slice(pt,Nt));case D:case U:case H:break;case O:case k:At=wt.slice(pt,Nt),At.slice(-1)==="/"&&(Ct.closed=!0,At=At.slice(0,-1));case R:qt===R&&(At=kt),qt==O?(Ft.warning('attribute "'+At+'" missed quot(")!'),lt(kt,At,pt)):(Et||Ft.warning('attribute "'+At+'" missed value!! "'+At+'" instead!!'),lt(At,At,pt));break;case A:if(!Et)return Ft.fatalError(`AttValue: ' or " expected`)}return Nt;case"":ie=" ";default:if(ie<=" ")switch(qt){case x:Ct.setTagName(wt.slice(pt,Nt)),qt=U;break;case k:kt=wt.slice(pt,Nt),qt=R;break;case O:var At=wt.slice(pt,Nt);Ft.warning('attribute "'+At+'" missed quot(")!!'),lt(kt,At,pt);case D:qt=U;break}else switch(qt){case R:Et||Ft.warning('attribute "'+kt+'" missed value!! "'+kt+'" instead2!!'),lt(kt,kt,pt),pt=Nt,qt=k;break;case D:Ft.warning('attribute space is required"'+kt+'"!!');case U:qt=k,pt=Nt;break;case A:qt=O,pt=Nt;break;case H:throw new Error("elements closed character '/' and '>' must be connected to")}}Nt++}}function rt(wt,pt,Ct){for(var vt=wt.tagName,It=null,Ft=wt.length;Ft--;){var Et=wt[Ft],lt=Et.qName,kt=Et.value,ie=lt.indexOf(":");if(ie>0)var At=Et.prefix=lt.slice(0,ie),Nt=lt.slice(ie+1),qt=At==="xmlns"&&Nt;else Nt=lt,At=null,qt=lt==="xmlns"&&"";Et.localName=Nt,qt!==!1&&(It==null&&(It=Object.create(null),it(Ct,Ct=Object.create(null))),Ct[qt]=It[qt]=kt,Et.uri=a.XMLNS,pt.startPrefixMapping(qt,kt))}for(var Ft=wt.length;Ft--;)Et=wt[Ft],Et.prefix&&(Et.prefix==="xml"&&(Et.uri=a.XML),Et.prefix!=="xmlns"&&(Et.uri=Ct[Et.prefix]));var ie=vt.indexOf(":");ie>0?(At=wt.prefix=vt.slice(0,ie),Nt=wt.localName=vt.slice(ie+1)):(At=null,Nt=wt.localName=vt);var Ht=wt.uri=Ct[At||""];if(pt.startElement(Ht,Nt,vt,wt),wt.closed){if(pt.endElement(Ht,Nt,vt),It)for(At in It)u(It,At)&&pt.endPrefixMapping(At)}else return wt.currentNSMap=Ct,wt.localNSMap=It,!0}function st(wt,pt,Ct,vt,It){var Ft=n(Ct);if(Ft||o(Ct)){var Et=wt.indexOf("</"+Ct+">",pt),lt=wt.substring(pt+1,Et);return Ft&&(lt=lt.replace(z,vt)),It.characters(lt,0,lt.length),Et}return pt+1}function it(wt,pt){for(var Ct in wt)u(wt,Ct)&&(pt[Ct]=wt[Ct])}function bt(wt,pt){var Ct=pt;function vt(Nt){return Nt=Nt||0,wt.charAt(Ct+Nt)}function It(Nt){Nt=Nt||1,Ct+=Nt}function Ft(){for(var Nt=0;Ct<wt.length;){var qt=vt();if(qt!==" "&&qt!==`
`&&qt!=="	"&&qt!=="\r")return Nt;Nt++,It()}return-1}function Et(){return wt.substring(Ct)}function lt(Nt){return wt.substring(Ct,Ct+Nt.length)===Nt}function kt(Nt){return wt.substring(Ct,Ct+Nt.length).toUpperCase()===Nt.toUpperCase()}function At(Nt){var qt=e.reg("^",Nt),ie=qt.exec(Et());return ie?(It(ie[0].length),ie[0]):null}return{char:vt,getIndex:function(){return Ct},getMatch:At,getSource:function(){return wt},skip:It,skipBlanks:Ft,substringFromIndex:Et,substringStartsWith:lt,substringStartsWithCaseInsensitive:kt}}function at(wt,pt){function Ct(lt,kt){var At=e.PI.exec(lt.substringFromIndex());return At?At[1].toLowerCase()==="xml"?kt.fatalError("xml declaration is only allowed at the start of the document, but found at position "+lt.getIndex()):(lt.skip(At[0].length),At[0]):kt.fatalError("processing instruction is not well-formed at position "+lt.getIndex())}var vt=wt.getSource();if(wt.char()==="["){wt.skip(1);for(var It=wt.getIndex();wt.getIndex()<vt.length;){if(wt.skipBlanks(),wt.char()==="]"){var Ft=vt.substring(It,wt.getIndex());return wt.skip(1),Ft}var Et=null;if(wt.char()==="<"&&wt.char(1)==="!")switch(wt.char(2)){case"E":wt.char(3)==="L"?Et=wt.getMatch(e.elementdecl):wt.char(3)==="N"&&(Et=wt.getMatch(e.EntityDecl));break;case"A":Et=wt.getMatch(e.AttlistDecl);break;case"N":Et=wt.getMatch(e.NotationDecl);break;case"-":Et=wt.getMatch(e.Comment);break}else if(wt.char()==="<"&&wt.char(1)==="?")Et=Ct(wt,pt);else if(wt.char()==="%")Et=wt.getMatch(e.PEReference);else return pt.fatalError("Error detected in Markup declaration");if(!Et)return pt.fatalError("Error in internal subset at position "+wt.getIndex())}return pt.fatalError("doctype internal subset is not well-formed, missing ]")}}function $(wt,pt,Ct,vt,It){var Ft=bt(wt,pt);switch(It?Ft.char(2).toUpperCase():Ft.char(2)){case"-":var Et=Ft.getMatch(e.Comment);return Et?(Ct.comment(Et,e.COMMENT_START.length,Et.length-e.COMMENT_START.length-e.COMMENT_END.length),Ft.getIndex()):vt.fatalError("comment is not well-formed at position "+Ft.getIndex());case"[":var lt=Ft.getMatch(e.CDSect);return lt?!It&&!Ct.currentElement?vt.fatalError("CDATA outside of element"):(Ct.startCDATA(),Ct.characters(lt,e.CDATA_START.length,lt.length-e.CDATA_START.length-e.CDATA_END.length),Ct.endCDATA(),Ft.getIndex()):vt.fatalError("Invalid CDATA starting at position "+pt);case"D":{if(Ct.doc&&Ct.doc.documentElement)return vt.fatalError("Doctype not allowed inside or after documentElement at position "+Ft.getIndex());if(It?!Ft.substringStartsWithCaseInsensitive(e.DOCTYPE_DECL_START):!Ft.substringStartsWith(e.DOCTYPE_DECL_START))return vt.fatalError("Expected "+e.DOCTYPE_DECL_START+" at position "+Ft.getIndex());if(Ft.skip(e.DOCTYPE_DECL_START.length),Ft.skipBlanks()<1)return vt.fatalError("Expected whitespace after "+e.DOCTYPE_DECL_START+" at position "+Ft.getIndex());var kt={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(kt.name=Ft.getMatch(e.Name),!kt.name)return vt.fatalError("doctype name missing or contains unexpected characters at position "+Ft.getIndex());if(It&&kt.name.toLowerCase()!=="html"&&vt.warning("Unexpected DOCTYPE in HTML document at position "+Ft.getIndex()),Ft.skipBlanks(),Ft.substringStartsWith(e.PUBLIC)||Ft.substringStartsWith(e.SYSTEM)){var At=e.ExternalID_match.exec(Ft.substringFromIndex());if(!At)return vt.fatalError("doctype external id is not well-formed at position "+Ft.getIndex());At.groups.SystemLiteralOnly!==void 0?kt.systemId=At.groups.SystemLiteralOnly:(kt.systemId=At.groups.SystemLiteral,kt.publicId=At.groups.PubidLiteral),Ft.skip(At[0].length)}else if(It&&Ft.substringStartsWithCaseInsensitive(e.SYSTEM)){if(Ft.skip(e.SYSTEM.length),Ft.skipBlanks()<1)return vt.fatalError("Expected whitespace after "+e.SYSTEM+" at position "+Ft.getIndex());if(kt.systemId=Ft.getMatch(e.ABOUT_LEGACY_COMPAT_SystemLiteral),!kt.systemId)return vt.fatalError("Expected "+e.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+e.SYSTEM+" at position "+Ft.getIndex())}return It&&kt.systemId&&!e.ABOUT_LEGACY_COMPAT_SystemLiteral.test(kt.systemId)&&vt.warning("Unexpected doctype.systemId in HTML document at position "+Ft.getIndex()),It||(Ft.skipBlanks(),kt.internalSubset=at(Ft,vt)),Ft.skipBlanks(),Ft.char()!==">"?vt.fatalError("doctype not terminated with > at position "+Ft.getIndex()):(Ft.skip(1),Ct.startDTD(kt.name,kt.publicId,kt.systemId,kt.internalSubset),Ct.endDTD(),Ft.getIndex())}default:return vt.fatalError('Not well-formed XML starting with "<!" at position '+pt)}}function dt(wt,pt,Ct,vt){var It=wt.substring(pt).match(e.PI);if(!It)return vt.fatalError("Invalid processing instruction starting at position "+pt);if(It[1].toLowerCase()==="xml"){if(pt>0)return vt.fatalError("processing instruction at position "+pt+" is an xml declaration which is only at the start of the document");if(!e.XMLDecl.test(wt.substring(pt)))return vt.fatalError("xml declaration is not well-formed")}return Ct.processingInstruction(It[1],It[2]),pt+It[0].length}function mt(){this.attributeNames=Object.create(null)}return mt.prototype={setTagName:function(wt){if(!e.QName_exact.test(wt))throw new Error("invalid tagName:"+wt);this.tagName=wt},addValue:function(wt,pt,Ct){if(!e.QName_exact.test(wt))throw new Error("invalid attribute:"+wt);this.attributeNames[wt]=this.length,this[this.length++]={qName:wt,value:pt,offset:Ct}},length:0,getLocalName:function(wt){return this[wt].localName},getLocator:function(wt){return this[wt].locator},getQName:function(wt){return this[wt].qName},getURI:function(wt){return this[wt].uri},getValue:function(wt){return this[wt].value}},U1.XMLReader=G,U1.parseUtils=bt,U1.parseDoctypeCommentOrCData=$,U1}var X7;function Txt(){if(X7)return yv;X7=1;var t=xx(),e=qH(),r=uA(),n=Sxt(),i=Ext(),o=e.DOMImplementation,u=t.hasDefaultHTMLNamespace,a=t.isHTMLMimeType,g=t.isValidMimeType,v=t.MIME_TYPE,x=t.NAMESPACE,k=r.ParseError,R=i.XMLReader;function A(Y){return Y.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function O(Y){if(Y=Y||{},Y.locator===void 0&&(Y.locator=!0),this.assign=Y.assign||t.assign,this.domHandler=Y.domHandler||D,this.onError=Y.onError||Y.errorHandler,Y.errorHandler&&typeof Y.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");Y.errorHandler&&Y.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=Y.normalizeLineEndings||A,this.locator=!!Y.locator,this.xmlns=this.assign(Object.create(null),Y.xmlns)}O.prototype.parseFromString=function(Y,rt){if(!g(rt))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+rt+'" is not valid.');var st=this.assign(Object.create(null),this.xmlns),it=n.XML_ENTITIES,bt=st[""]||null;u(rt)?(it=n.HTML_ENTITIES,bt=x.HTML):rt===v.XML_SVG_IMAGE&&(bt=x.SVG),st[""]=bt,st.xml=st.xml||x.XML;var at=new this.domHandler({mimeType:rt,defaultNamespace:bt,onError:this.onError}),$=this.locator?{}:void 0;this.locator&&at.setDocumentLocator($);var dt=new R;dt.errorHandler=at,dt.domBuilder=at;var mt=!t.isHTMLMimeType(rt);return mt&&typeof Y!="string"&&dt.errorHandler.fatalError("source is not a string"),dt.parse(this.normalizeLineEndings(String(Y)),st,it),at.doc.documentElement||dt.errorHandler.fatalError("missing root element"),at.doc};function D(Y){var rt=Y||{};this.mimeType=rt.mimeType||v.XML_APPLICATION,this.defaultNamespace=rt.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=rt.onError}function U(Y,rt){rt.lineNumber=Y.lineNumber,rt.columnNumber=Y.columnNumber}D.prototype={startDocument:function(){var Y=new o;this.doc=a(this.mimeType)?Y.createHTMLDocument(!1):Y.createDocument(this.defaultNamespace,"")},startElement:function(Y,rt,st,it){var bt=this.doc,at=bt.createElementNS(Y,st||rt),$=it.length;z(this,at),this.currentElement=at,this.locator&&U(this.locator,at);for(var dt=0;dt<$;dt++){var Y=it.getURI(dt),mt=it.getValue(dt),st=it.getQName(dt),wt=bt.createAttributeNS(Y,st);this.locator&&U(it.getLocator(dt),wt),wt.value=wt.nodeValue=mt,at.setAttributeNode(wt)}},endElement:function(Y,rt,st){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Y,rt){},endPrefixMapping:function(Y){},processingInstruction:function(Y,rt){var st=this.doc.createProcessingInstruction(Y,rt);this.locator&&U(this.locator,st),z(this,st)},ignorableWhitespace:function(Y,rt,st){},characters:function(Y,rt,st){if(Y=G.apply(this,arguments),Y){if(this.cdata)var it=this.doc.createCDATASection(Y);else var it=this.doc.createTextNode(Y);this.currentElement?this.currentElement.appendChild(it):/^\s*$/.test(Y)&&this.doc.appendChild(it),this.locator&&U(this.locator,it)}},skippedEntity:function(Y){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Y){Y&&(Y.lineNumber=0),this.locator=Y},comment:function(Y,rt,st){Y=G.apply(this,arguments);var it=this.doc.createComment(Y);this.locator&&U(this.locator,it),z(this,it)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Y,rt,st,it){var bt=this.doc.implementation;if(bt&&bt.createDocumentType){var at=bt.createDocumentType(Y,rt,st,it);this.locator&&U(this.locator,at),z(this,at),this.doc.doctype=at}},reportError:function(Y,rt){if(typeof this.onError=="function")try{this.onError(Y,rt,this)}catch(st){throw new k("Reporting "+Y+' "'+rt+'" caused '+st,this.locator)}else console.error("[xmldom "+Y+"]	"+rt,H(this.locator))},warning:function(Y){this.reportError("warning",Y)},error:function(Y){this.reportError("error",Y)},fatalError:function(Y){throw this.reportError("fatalError",Y),new k(Y,this.locator)}};function H(Y){if(Y)return`
@#[line:`+Y.lineNumber+",col:"+Y.columnNumber+"]"}function G(Y,rt,st){return typeof Y=="string"?Y.substr(rt,st):Y.length>=rt+st||rt?new java.lang.String(Y,rt,st)+"":Y}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Y){D.prototype[Y]=function(){return null}});function z(Y,rt){Y.currentElement?Y.currentElement.appendChild(rt):Y.doc.appendChild(rt)}function j(Y){if(Y==="error")throw"onErrorStopParsing"}function X(){throw"onWarningStopParsing"}return yv.__DOMHandler=D,yv.DOMParser=O,yv.normalizeLineEndings=A,yv.onErrorStopParsing=j,yv.onWarningStopParsing=X,yv}var W7;function Cxt(){if(W7)return Ao;W7=1;var t=xx();Ao.assign=t.assign,Ao.hasDefaultHTMLNamespace=t.hasDefaultHTMLNamespace,Ao.isHTMLMimeType=t.isHTMLMimeType,Ao.isValidMimeType=t.isValidMimeType,Ao.MIME_TYPE=t.MIME_TYPE,Ao.NAMESPACE=t.NAMESPACE;var e=uA();Ao.DOMException=e.DOMException,Ao.DOMExceptionName=e.DOMExceptionName,Ao.ExceptionCode=e.ExceptionCode,Ao.ParseError=e.ParseError;var r=qH();Ao.Attr=r.Attr,Ao.CDATASection=r.CDATASection,Ao.CharacterData=r.CharacterData,Ao.Comment=r.Comment,Ao.Document=r.Document,Ao.DocumentFragment=r.DocumentFragment,Ao.DocumentType=r.DocumentType,Ao.DOMImplementation=r.DOMImplementation,Ao.Element=r.Element,Ao.Entity=r.Entity,Ao.EntityReference=r.EntityReference,Ao.LiveNodeList=r.LiveNodeList,Ao.NamedNodeMap=r.NamedNodeMap,Ao.Node=r.Node,Ao.NodeList=r.NodeList,Ao.Notation=r.Notation,Ao.ProcessingInstruction=r.ProcessingInstruction,Ao.Text=r.Text,Ao.XMLSerializer=r.XMLSerializer;var n=Txt();return Ao.DOMParser=n.DOMParser,Ao.normalizeLineEndings=n.normalizeLineEndings,Ao.onErrorStopParsing=n.onErrorStopParsing,Ao.onWarningStopParsing=n.onWarningStopParsing,Ao}var Axt=Cxt();(function(){const t=/\s*/g,e=/^\s*|\s*$/g,r=/\s+/;function n(z){if(!z||!z.length)return 0;for(var j=0,X=0;j<z.length;j++)X=(X<<5)-X+z.charCodeAt(j)|0;return X}function i(z,j){return z.getElementsByTagName(j)}function o(z,j){return z.getAttribute(j)}function u(z,j){return parseFloat(o(z,j))}function a(z,j){const X=i(z,j);return X.length?X[0]:null}function g(z){return z.normalize&&z.normalize(),z}function v(z){for(var j=0,X=[];j<z.length;j++)X[j]=parseFloat(z[j]);return X}function x(z){return z&&g(z),z&&z.textContent||""}function k(z,j){let X={},Y,rt;for(rt=0;rt<j.length;rt++)Y=a(z,j[rt]),Y&&(X[j[rt]]=x(Y));return X}function R(z,j){for(const X in j)z[X]=j[X]}function A(z){return v(z.replace(t,"").split(","))}function O(z){const j=z.replace(e,"").split(r),X=[];for(let Y=0;Y<j.length;Y++)X.push(A(j[Y]));return X}function D(z){let j=[u(z,"lon"),u(z,"lat")],X=a(z,"ele"),Y=a(z,"gpxtpx:hr")||a(z,"hr"),rt=a(z,"time"),st;return X&&(st=parseFloat(x(X)),isNaN(st)||j.push(st)),{coordinates:j,time:rt?x(rt):null,heartRate:Y?parseFloat(x(Y)):null}}function U(){return{type:"FeatureCollection",features:[]}}let H;if(typeof XMLSerializer<"u")H=new XMLSerializer;else{const z=typeof process=="object"&&!process.browser,j=typeof Titanium=="object";if(typeof exports=="object"&&(z||j))H=Axt.XMLSerializer;else throw new Error("Unable to initialize serializer")}function G(z){return z.xml!==void 0?z.xml:H.serializeToString(z)}return{kml:function(z){const j=U(),X={},Y={},rt={},st=["Polygon","LineString","Point","Track","gx:Track"],it=i(z,"Placemark"),bt=i(z,"Style"),at=i(z,"StyleMap");for(let Ct=0;Ct<bt.length;Ct++){const vt=n(G(bt[Ct])).toString(16);X["#"+o(bt[Ct],"id")]=vt,Y[vt]=bt[Ct]}for(let Ct=0;Ct<at.length;Ct++){X["#"+o(at[Ct],"id")]=n(G(at[Ct])).toString(16);const vt=i(at[Ct],"Pair"),It={};for(let Ft=0;Ft<vt.length;Ft++)It[x(a(vt[Ft],"key"))]=x(a(vt[Ft],"styleUrl"));rt["#"+o(at[Ct],"id")]=It}for(let Ct=0;Ct<it.length;Ct++)j.features=j.features.concat(pt(it[Ct]));function $(Ct){let vt,It;return Ct=Ct||"",Ct.substr(0,1)==="#"&&(Ct=Ct.substr(1)),(Ct.length===6||Ct.length===3)&&(vt=Ct),Ct.length===8&&(It=parseInt(Ct.substr(0,2),16)/255,vt="#"+Ct.substr(6,2)+Ct.substr(4,2)+Ct.substr(2,2)),[vt,isNaN(It)?void 0:It]}function dt(Ct){return v(Ct.split(" "))}function mt(Ct){let vt=i(Ct,"coord"),It=[],Ft=[];vt.length===0&&(vt=i(Ct,"gx:coord"));for(let lt=0;lt<vt.length;lt++)It.push(dt(x(vt[lt])));const Et=i(Ct,"when");for(let lt=0;lt<Et.length;lt++)Ft.push(x(Et[lt]));return{coords:It,times:Ft}}function wt(Ct){let vt,It,Ft,Et,lt,kt=[],At=[];if(a(Ct,"MultiGeometry"))return wt(a(Ct,"MultiGeometry"));if(a(Ct,"MultiTrack"))return wt(a(Ct,"MultiTrack"));if(a(Ct,"gx:MultiTrack"))return wt(a(Ct,"gx:MultiTrack"));for(Ft=0;Ft<st.length;Ft++)if(It=i(Ct,st[Ft]),It){for(Et=0;Et<It.length;Et++)if(vt=It[Et],st[Ft]==="Point")kt.push({type:"Point",coordinates:A(x(a(vt,"coordinates")))});else if(st[Ft]==="LineString")kt.push({type:"LineString",coordinates:O(x(a(vt,"coordinates")))});else if(st[Ft]==="Polygon"){const Nt=i(vt,"LinearRing"),qt=[];for(lt=0;lt<Nt.length;lt++)qt.push(O(x(a(Nt[lt],"coordinates"))));kt.push({type:"Polygon",coordinates:qt})}else if(st[Ft]==="Track"||st[Ft]==="gx:Track"){const Nt=mt(vt);kt.push({type:"LineString",coordinates:Nt.coords}),Nt.times.length&&At.push(Nt.times)}}return{geoms:kt,coordTimes:At}}function pt(Ct){let vt=wt(Ct),It,Ft={},Et=x(a(Ct,"name")),lt=x(a(Ct,"address")),kt=x(a(Ct,"styleUrl")),At=x(a(Ct,"description")),Nt=a(Ct,"TimeSpan"),qt=a(Ct,"TimeStamp"),ie=a(Ct,"ExtendedData"),Ht=a(Ct,"LineStyle"),ce=a(Ct,"PolyStyle"),de=a(Ct,"visibility");if(!vt.geoms.length)return[];if(Et&&(Ft.name=Et),lt&&(Ft.address=lt),kt){kt[0]!=="#"&&(kt="#"+kt),Ft.styleUrl=kt,X[kt]&&(Ft.styleHash=X[kt]),rt[kt]&&(Ft.styleMapHash=rt[kt],Ft.styleHash=X[rt[kt].normal]);const $t=Y[Ft.styleHash];if($t){Ht||(Ht=a($t,"LineStyle")),ce||(ce=a($t,"PolyStyle"));const He=a($t,"IconStyle");if(He){const ke=a(He,"Icon");if(ke){const Jt=x(a(ke,"href"));Jt&&(Ft.icon=Jt)}}}}if(At&&(Ft.description=At),Nt){const $t=x(a(Nt,"begin")),He=x(a(Nt,"end"));Ft.timespan={begin:$t,end:He}}if(qt&&(Ft.timestamp=x(a(qt,"when"))),Ht){const $t=$(x(a(Ht,"color"))),He=$t[0],ke=$t[1],Jt=parseFloat(x(a(Ht,"width")));He&&(Ft.stroke=He),isNaN(ke)||(Ft["stroke-opacity"]=ke),isNaN(Jt)||(Ft["stroke-width"]=Jt)}if(ce){const $t=$(x(a(ce,"color"))),He=$t[0],ke=$t[1],Jt=x(a(ce,"fill")),Vr=x(a(ce,"outline"));He&&(Ft.fill=He),isNaN(ke)||(Ft["fill-opacity"]=ke),Jt&&(Ft["fill-opacity"]=Jt==="1"?Ft["fill-opacity"]||1:0),Vr&&(Ft["stroke-opacity"]=Vr==="1"?Ft["stroke-opacity"]||1:0)}if(ie){const $t=i(ie,"Data"),He=i(ie,"SimpleData");for(It=0;It<$t.length;It++)Ft[$t[It].getAttribute("name")]=x(a($t[It],"value"));for(It=0;It<He.length;It++)Ft[He[It].getAttribute("name")]=x(He[It])}de&&(Ft.visibility=x(de)),vt.coordTimes.length&&(Ft.coordTimes=vt.coordTimes.length===1?vt.coordTimes[0]:vt.coordTimes);const Se={type:"Feature",geometry:vt.geoms.length===1?vt.geoms[0]:{type:"GeometryCollection",geometries:vt.geoms},properties:Ft};return o(Ct,"id")&&(Se.id=o(Ct,"id")),[Se]}return j},gpx:function(z){let j,X=i(z,"trk"),Y=i(z,"rte"),rt=i(z,"wpt"),st=U(),it;for(j=0;j<X.length;j++)it=$(X[j]),it&&st.features.push(it);for(j=0;j<Y.length;j++)it=dt(Y[j]),it&&st.features.push(it);for(j=0;j<rt.length;j++)st.features.push(mt(rt[j]));function bt(Ct,vt){for(let It=0;It<vt;It++)Ct.push(null);return Ct}function at(Ct,vt){const It=i(Ct,vt),Ft=[],Et=[],lt=[],kt=It.length;if(kt<2)return{};for(let At=0;At<kt;At++){const Nt=D(It[At]);Ft.push(Nt.coordinates),Nt.time&&Et.push(Nt.time),(Nt.heartRate||lt.length)&&(lt.length||bt(lt,At),lt.push(Nt.heartRate||null))}return{line:Ft,times:Et,heartRates:lt}}function $(Ct){let vt=i(Ct,"trkseg"),It=[],Ft=[],Et=[],lt;for(let At=0;At<vt.length;At++)if(lt=at(vt[At],"trkpt"),lt&&(lt.line&&It.push(lt.line),lt.times&&lt.times.length&&Ft.push(lt.times),Et.length||lt.heartRates&&lt.heartRates.length)){if(!Et.length)for(let Nt=0;Nt<At;Nt++)Et.push(bt([],It[Nt].length));lt.heartRates&&lt.heartRates.length?Et.push(lt.heartRates):Et.push(bt([],lt.line.length||0))}if(It.length===0)return;const kt=pt(Ct);return R(kt,wt(a(Ct,"extensions"))),Ft.length&&(kt.coordTimes=It.length===1?Ft[0]:Ft),Et.length&&(kt.heartRates=It.length===1?Et[0]:Et),{type:"Feature",properties:kt,geometry:{type:It.length===1?"LineString":"MultiLineString",coordinates:It.length===1?It[0]:It}}}function dt(Ct){const vt=at(Ct,"rtept");if(!vt.line)return;const It=pt(Ct);return R(It,wt(a(Ct,"extensions"))),{type:"Feature",properties:It,geometry:{type:"LineString",coordinates:vt.line}}}function mt(Ct){const vt=pt(Ct);return R(vt,k(Ct,["sym"])),{type:"Feature",properties:vt,geometry:{type:"Point",coordinates:D(Ct).coordinates}}}function wt(Ct){const vt={};if(Ct){const It=a(Ct,"line");if(It){const Ft=x(a(It,"color")),Et=parseFloat(x(a(It,"opacity"))),lt=parseFloat(x(a(It,"width")));Ft&&(vt.stroke=Ft),isNaN(Et)||(vt["stroke-opacity"]=Et),isNaN(lt)||(vt["stroke-width"]=lt*96/25.4)}}return vt}function pt(Ct){const vt=k(Ct,["name","cmt","desc","type","time","keywords"]),It=i(Ct,"link");It.length&&(vt.links=[]);for(let Ft=0,Et;Ft<It.length;Ft++)Et={href:o(It[Ft],"href")},R(Et,k(It[Ft],["text","type"])),vt.links.push(Et);return vt}return st}}})();const kxt=we.createContext({});kxt.Provider;const Ixt=()=>{const t=Object.fromEntries(new URLSearchParams(window.location.search));return t.layers=JSON.parse(t?.layers?t.layers:"[]"),t};Ixt();/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var co=t=>t!==void 0,GH=(t,e,r)=>e in t?t[e]:t[e]=r;const bT={ELEMENT:1,TEXT:3,CDATA_SECTION:4};function TP(t,e){return HH(t,e,[]).join("")}function HH(t,e,r){if(t.nodeType===bT.CDATA_SECTION||t.nodeType===bT.TEXT)r.push(t.nodeValue);else{var n;for(n=t.firstChild;n;n=n.nextSibling)HH(n,e,r)}return r}function Rxt(t,e,r,n){for(var i=Nxt(e);i;i=Lxt(i)){var o=i.namespaceURI||null,u=t[o];if(co(u)){var a=u[i.localName];co(a)&&a.call(n,i,r)}}}function Nxt(t){let e=t.firstElementChild||t.firstChild;for(;e&&e.nodeType!==bT.ELEMENT;)e=e.nextSibling;return e}function Lxt(t){let e=t.nextElementSibling||t.nextSibling;for(;e&&e.nodeType!==bT.ELEMENT;)e=e.nextSibling;return e}function ch(t,e,r){return Mxt(t,e,r)}function Mxt(t,e,r){var n=co(r)?r:{},i,o;for(i=0,o=t.length;i<o;++i)n[t[i]]=e;return n}function XH(t,e){return(function(r,n){var i=t.call(co(e)?e:this,r,n);if(co(i)){var o=n[n.length-1];o.push(i)}})}function hh(t,e,r,n,i){return n.push(t),Rxt(e,r,n,i),n.pop()}function Ci(t,e,r){return(function(n,i){let o=t.call(co(r)?r:this,n,i);if(co(o)){var u=i[i.length-1],a=co(e)?e:n.localName;u[a]=o}})}function sd(t,e,r){return(function(n,i){var o=t.call(co(r)?r:this,n,i);if(co(o)){var u=i[i.length-1],a=co(e)?e:n.localName,g=GH(u,a,[]);g.push(o)}})}const Pxt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Oxt(t){return t.replace(Pxt,"")}function Gv(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return co(e[1])||!1}function __(t){return gg(TP(t,!1))}function gg(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function JR(t){return _T(TP(t,!1))}function _T(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function as(t){return Oxt(TP(t,!1))}const Dxt="http://www.w3.org/1999/xlink";function CP(t){return t.getAttributeNS(Dxt,"href")}function Bxt(t,e){return hh({},u1t,t,e)}function WH(t){return[gg(t.getAttribute("minx")),gg(t.getAttribute("miny")),gg(t.getAttribute("maxx")),gg(t.getAttribute("maxy"))]}function zxt(t,e){const r=WH(t),n=[gg(t.getAttribute("resx")),gg(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS")||t.getAttribute("SRS"),extent:r,res:n}}function Fxt(t,e){const r=WH(t);if(!(!co(r[0])||!co(r[1])||!co(r[2])||!co(r[3])))return r}function jxt(t,e){const r=parseFloat(t.getAttribute("min")),n=parseFloat(t.getAttribute("max"));return{min:r,max:n}}function Vxt(t,e){const r=hh({},c1t,t,e);if(!co(r))return;const n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!co(n)||!co(i)||!co(o)||!co(u)))return[n,i,o,u]}function $xt(t,e){return hh({},n1t,t,e)}function Uxt(t,e){return hh({},i1t,t,e)}function qxt(t,e){return hh({},a1t,t,e)}function Gxt(t,e){return hh({},o1t,t,e)}function Hxt(t,e){return hh({},s1t,t,e)}function Xxt(t,e){return hh([],l1t,t,e)}function Wxt(t,e){const r=Gv(t.getAttribute("queryable"));return hh({queryable:co(r)?r:!1},ZH,t,e)}function Yxt(t,e){var r=e[e.length-1];const n=hh({},ZH,t,e);if(!co(n))return;let i=Gv(t.getAttribute("queryable"));co(i)||(i=r.queryable),n.queryable=co(i)?i:!1;let o=_T(t.getAttribute("cascaded"));co(o)||(o=r.cascaded),n.cascaded=o;let u=Gv(t.getAttribute("opaque"));co(u)||(u=r.opaque),n.opaque=co(u)?u:!1;let a=Gv(t.getAttribute("noSubsets"));co(a)||(a=r.noSubsets),n.noSubsets=co(a)?a:!1;let g=gg(t.getAttribute("fixedWidth"));co(g)||(g=r.fixedWidth),n.fixedWidth=g;let v=gg(t.getAttribute("fixedHeight"));co(v)||(v=r.fixedHeight),n.fixedHeight=v;const x=["Style","CRS","AuthorityURL"];for(let R=0,A=x.length;R<A;R++){const O=x[R],D=r[O];if(co(D)){let U=GH(n,O,[]);U=U.concat(D),n[O]=U}}const k=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let R=0,A=k.length;R<A;R++){const O=k[R],D=n[O];if(!co(D)){const U=r[O];n[O]=U}}return n}function Kxt(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Gv(t.getAttribute("multipleValues")),nearestValue:Gv(t.getAttribute("nearestValue")),current:Gv(t.getAttribute("current")),values:as(t)}}function Eg(t,e){return hh({},g1t,t,e)}function Zxt(t,e){return hh({},h1t,t,e)}function Qxt(t,e){return hh({},f1t,t,e)}function Jxt(t,e){return hh({},p1t,t,e)}function tN(t,e){return hh({},d1t,t,e)}function YH(t,e){var r=Eg(t,e);if(co(r)){const n=[_T(t.getAttribute("width")),_T(t.getAttribute("height"))];return r.size=n,r}}function t1t(t,e){var r=Eg(t,e);if(co(r))return r.name=t.getAttribute("name"),r}function e1t(t,e){var r=Eg(t,e);if(co(r))return r.type=t.getAttribute("type"),r}function r1t(t,e){return hh({},m1t,t,e)}function KH(t,e){return hh([],y1t,t,e)}const dh=[null,"http://www.opengis.net/wms"];ch(dh,{Service:Ci(Uxt),Capability:Ci($xt)});const n1t=ch(dh,{Request:Ci(Zxt),Exception:Ci(Xxt),Layer:Ci(Wxt)}),i1t=ch(dh,{Name:Ci(as),Title:Ci(as),Abstract:Ci(as),KeywordList:Ci(KH),OnlineResource:Ci(CP),ContactInformation:Ci(qxt),Fees:Ci(as),AccessConstraints:Ci(as),LayerLimit:Ci(JR),MaxWidth:Ci(JR),MaxHeight:Ci(JR)}),a1t=ch(dh,{ContactPersonPrimary:Ci(Gxt),ContactPosition:Ci(as),ContactAddress:Ci(Hxt),ContactVoiceTelephone:Ci(as),ContactFacsimileTelephone:Ci(as),ContactElectronicMailAddress:Ci(as)}),o1t=ch(dh,{ContactPerson:Ci(as),ContactOrganization:Ci(as)}),s1t=ch(dh,{AddressType:Ci(as),Address:Ci(as),City:Ci(as),StateOrProvince:Ci(as),PostCode:Ci(as),Country:Ci(as)}),l1t=ch(dh,{Format:XH(as)}),ZH=ch(dh,{Name:Ci(as),Title:Ci(as),Abstract:Ci(as),KeywordList:Ci(KH),CRS:sd(as),SRS:sd(as),EX_GeographicBoundingBox:Ci(Vxt),LatLonBoundingBox:Ci(Fxt),BoundingBox:sd(zxt),Dimension:sd(Kxt),Attribution:Ci(Bxt),AuthorityURL:sd(t1t),Identifier:sd(as),MetadataURL:sd(e1t),DataURL:sd(Eg),FeatureListURL:sd(Eg),Style:sd(r1t),MinScaleDenominator:Ci(__),MaxScaleDenominator:Ci(__),ScaleHint:Ci(jxt),Layer:sd(Yxt)}),u1t=ch(dh,{Title:Ci(as),OnlineResource:Ci(CP),LogoURL:Ci(YH)}),c1t=ch(dh,{westBoundLongitude:Ci(__),eastBoundLongitude:Ci(__),southBoundLatitude:Ci(__),northBoundLatitude:Ci(__)}),h1t=ch(dh,{GetCapabilities:Ci(tN),GetMap:Ci(tN),GetFeatureInfo:Ci(tN)}),d1t=ch(dh,{Format:sd(as),DCPType:sd(Qxt)}),f1t=ch(dh,{HTTP:Ci(Jxt)}),p1t=ch(dh,{Get:Ci(Eg),Post:Ci(Eg)}),m1t=ch(dh,{Name:Ci(as),Title:Ci(as),Abstract:Ci(as),LegendURL:sd(YH),StyleSheetURL:Ci(Eg),StyleURL:Ci(Eg)}),g1t=ch(dh,{Format:Ci(as),OnlineResource:Ci(CP)}),y1t=ch(dh,{Keyword:XH(as)});ba(yr.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}));ba(yr.jsx("path",{d:"M8 5v14l11-7z"}));ba(yr.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}));ba(yr.jsx("path",{d:"M6 6h12v12H6z"}));ba(yr.jsx("path",{d:"m4 18 8.5-6L4 6zm9-12v12l8.5-6z"}));ba(yr.jsx("path",{d:"M11 18V6l-8.5 6zm.5-6 8.5 6V6z"}));ba(yr.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}));ba([yr.jsx("circle",{cx:"7",cy:"14",r:"3"},"0"),yr.jsx("circle",{cx:"11",cy:"6",r:"3"},"1"),yr.jsx("circle",{cx:"16.6",cy:"17.6",r:"3"},"2")]);function QH(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+"]"}).join(",")+"}")}function v1t(t,e){var r=QH(t);return function(n,i){return e(r(n),i,t)}}function b1t(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var i in n)i in e||r.push(e[i]=i)}),r}function AP(t){var e=new RegExp('["'+t+`
]`),r=t.charCodeAt(0);function n(v,x){var k,R,A=i(v,function(O,D){if(k)return k(O,D-1);R=O,k=x?v1t(O,x):QH(O)});return A.columns=R,A}function i(v,x){var k={},R={},A=[],O=v.length,D=0,U=0,H,G;function z(){if(D>=O)return R;if(G)return G=!1,k;var X=D,Y;if(v.charCodeAt(X)===34){for(var rt=X;rt++<O;)if(v.charCodeAt(rt)===34){if(v.charCodeAt(rt+1)!==34)break;++rt}return D=rt+2,Y=v.charCodeAt(rt+1),Y===13?(G=!0,v.charCodeAt(rt+2)===10&&++D):Y===10&&(G=!0),v.slice(X+1,rt).replace(/""/g,'"')}for(;D<O;){var st=1;if(Y=v.charCodeAt(D++),Y===10)G=!0;else if(Y===13)G=!0,v.charCodeAt(D)===10&&(++D,++st);else if(Y!==r)continue;return v.slice(X,D-st)}return v.slice(X)}for(;(H=z())!==R;){for(var j=[];H!==k&&H!==R;)j.push(H),H=z();x&&(j=x(j,U++))==null||A.push(j)}return A}function o(v,x){return x==null&&(x=b1t(v)),[x.map(g).join(t)].concat(v.map(function(k){return x.map(function(R){return g(k[R])}).join(t)})).join(`
`)}function u(v){return v.map(a).join(`
`)}function a(v){return v.map(g).join(t)}function g(v){return v==null?"":e.test(v+="")?'"'+v.replace(/\"/g,'""')+'"':v}return{parse:n,parseRows:i,format:o,formatRows:u}}var cA=AP(","),_1t=cA.parse,x1t=cA.parseRows,w1t=cA.format,S1t=cA.formatRows,hA=AP("	"),E1t=hA.parse,T1t=hA.parseRows,C1t=hA.format,A1t=hA.formatRows;const k1t=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:w1t,csvFormatRows:S1t,csvParse:_1t,csvParseRows:x1t,dsvFormat:AP,tsvFormat:C1t,tsvFormatRows:A1t,tsvParse:E1t,tsvParseRows:T1t},Symbol.toStringTag,{value:"Module"})),I1t=eU(k1t);var vv={exports:{}},Y7;function R1t(){if(Y7)return vv.exports;Y7=1,vv.exports=t,vv.exports.pair=o,vv.exports.format=r,vv.exports.formatPair=e,vv.exports.coordToDMS=n;function t(a,g){var v=i(a,g);return v===null?null:v.val}function e(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,g){var v=n(a,g);return v.whole+" "+(v.minutes?v.minutes+"' ":"")+(v.seconds?v.seconds+'" ':"")+v.dir}function n(a,g){var v={lat:["N","S"],lon:["E","W"]}[g]||"",x=v[a>=0?0:1],k=Math.abs(a),R=Math.floor(k),A=k-R,O=A*60,D=Math.floor(O),U=Math.floor((O-D)*60);return{whole:R,minutes:D,seconds:U,dir:x}}function i(a,g){if(g||(g="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var v=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,x=a.match(v);if(!x)return null;var k=x[0],R;if(x[1]&&x[5]?(R=x[1],k=k.slice(0,-1)):R=x[1]||x[5],R&&g.indexOf(R)===-1)return null;var A=x[2]?parseFloat(x[2]):0,O=x[3]?parseFloat(x[3])/60:0,D=x[4]?parseFloat(x[4])/3600:0,U=A<0?-1:1;return(R==="S"||R==="W")&&(U*=-1),{val:(Math.abs(A)+O+D)*U,dim:R,matched:k,remain:a.slice(k.length)}}function o(a,g){a=a.trim();var v=i(a,g);if(!v)return null;a=v.remain.trim();var x=i(a,g);return!x||x.remain?null:v.dim?u(v.val,x.val,v.dim):[v.val,x.val]}function u(a,g,v){if(v==="N"||v==="S")return[a,g];if(v==="W"||v==="E")return[g,a]}return vv.exports}var eN,K7;function N1t(){if(K7)return eN;K7=1;var t=I1t,e=R1t(),r=/(Lat)(itude)?/gi,n=/(L)(on|ng)(gitude)?/i;function i(U,H){var G,z,j;for(var X in U)z=X.match(H),z&&(!G||z[0].length/X.length>j)&&(j=z[0].length/X.length,G=X);return G}function o(U){return i(U,r)}function u(U){return i(U,n)}function a(U){return!!U.match(r)}function g(U){return!!U.match(n)}function v(U){return typeof U=="object"?Object.keys(U).length:0}function x(U){var H=[",",";","	","|"],G=[];return H.forEach(function(z){var j=t.dsvFormat(z).parse(U);if(j.length>=1){for(var X=v(j[0]),Y=0;Y<j.length;Y++)if(v(j[Y])!==X)return;G.push({delimiter:z,arity:Object.keys(j[0]).length})}}),G.length?G.sort(function(z,j){return j.arity-z.arity})[0].delimiter:null}function k(U){return delete U.columns,U}function R(U){var H=x(U);return H?k(t.dsvFormat(H).parse(U)):null}function A(U,H,G){G||(G=H,H={}),H.delimiter=H.delimiter||",";var z=H.latfield||"",j=H.lonfield||"",X=H.crs||"",Y=[],rt={type:"FeatureCollection",features:Y};if(X!==""&&(rt.crs={type:"name",properties:{name:X}}),H.delimiter==="auto"&&typeof U=="string"&&(H.delimiter=x(U),!H.delimiter)){G({type:"Error",message:"Could not autodetect delimiter"});return}var st=H.numericFields?H.numericFields.split(","):null,it=typeof U=="string"?t.dsvFormat(H.delimiter).parse(U,function(vt){if(st)for(var It in vt)st.includes(It)&&(vt[It]=+vt[It]);return vt}):U;if(!it.length){G(null,rt);return}var bt=[],at;z||(z=o(it[0])),j||(j=u(it[0]));var $=!z||!j;if($){for(at=0;at<it.length;at++)Y.push({type:"Feature",properties:it[at],geometry:null});G(bt.length?bt:null,rt);return}for(at=0;at<it.length;at++)if(it[at][j]!==void 0&&it[at][z]!==void 0){var dt=it[at][j],mt=it[at][z],wt,pt,Ct;Ct=e(dt,"EW"),Ct&&(dt=Ct),Ct=e(mt,"NS"),Ct&&(mt=Ct),wt=parseFloat(dt),pt=parseFloat(mt),isNaN(wt)||isNaN(pt)?bt.push({message:"A row contained an invalid value for latitude or longitude",row:it[at],index:at}):(H.includeLatLon||(delete it[at][j],delete it[at][z]),Y.push({type:"Feature",properties:it[at],geometry:{type:"Point",coordinates:[parseFloat(wt),parseFloat(pt)]}}))}G(bt.length?bt:null,rt)}function O(U){for(var H=U.features,G={type:"Feature",geometry:{type:"LineString",coordinates:[]}},z=0;z<H.length;z++)G.geometry.coordinates.push(H[z].geometry.coordinates);return G.properties=H.reduce(function(j,X){for(var Y in X.properties)j[Y]||(j[Y]=[]),j[Y].push(X.properties[Y]);return j},{}),{type:"FeatureCollection",features:[G]}}function D(U){for(var H=U.features,G={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},z=0;z<H.length;z++)G.geometry.coordinates[0].push(H[z].geometry.coordinates);return G.properties=H.reduce(function(j,X){for(var Y in X.properties)j[Y]||(j[Y]=[]),j[Y].push(X.properties[Y]);return j},{}),{type:"FeatureCollection",features:[G]}}return eN={isLon:g,isLat:a,guessLatHeader:o,guessLonHeader:u,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:R,csv2geojson:A,toLine:O,toPolygon:D},eN}N1t();var Hh={},Z7;function Qw(){if(Z7)return Hh;Z7=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.purgeProps=t,Hh.first=e,Hh.last=r,Hh.coordsToKey=n,Hh.addToMap=i,Hh.removeFromMap=o,Hh.getFirstFromMap=u,Hh.isRing=a,Hh.ringDirection=g,Hh.pointInsidePolygon=v,Hh.strArrayArrayToFloat=x,Hh.strArrayToFloat=k;function t(R,A){if(R){const O=Object.assign({},R);if(A)for(const D of A)delete O[D];return O}return{}}function e(R){return R[0]}function r(R){return R[R.length-1]}function n(R){return R.join(",")}function i(R,A,O){const D=R[A];D?D.push(O):R[A]=[O]}function o(R,A,O){const D=R[A];let U=-1;D&&(U=D.indexOf(O)),U>=0&&D.splice(U,1)}function u(R,A){const O=R[A];return O&&O.length>0?O[0]:null}function a(R){return R.length>3&&n(e(R))===n(r(R))}function g(R,A,O){A=A||0,O=O||1;const D=R.reduce((st,it,bt)=>R[st][A||0]>it[A||0]?st:bt,0),U=D<=0?R.length-2:D-1,H=D>=R.length-1?1:D+1,G=R[U][A],z=R[D][A],j=R[H][A],X=R[U][O],Y=R[D][O],rt=R[H][O];return(z-G)*(rt-X)-(j-G)*(Y-X)<0?"clockwise":"counterclockwise"}function v(R,A,O,D){O=O||0,D=D||1;let U=!1;for(let H=0,G=A.length-1;H<A.length;G=H++)(A[H][O]<=R[O]&&R[O]<A[G][O]||A[G][O]<=R[O]&&R[O]<A[H][O])&&R[D]<(A[G][D]-A[H][D])*(R[O]-A[H][O])/(A[G][O]-A[H][O])+A[H][D]&&(U=!U);return U}function x(R){return R.map(k)}function k(R){return R.map(parseFloat)}return Hh}var q1={},Q7;function L1t(){if(Q7)return q1;Q7=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.XmlParser=void 0;function t(i){return i.match(/^(.+?)\[(.+?)\]>$/g)!==null}function e(i){const o=/^(.+?)\[(.+?)\]>$/g.exec(i);return o?{evt:o[1]+">",exp:o[2]}:{evt:i}}function r(i){const o="return "+i.replace(/(\$.+?)(?=[=!.])/g,"node.$&")+";";return new Function("node",o)}class n{constructor(o){this.queryParent=!1,this.progressive=!1,this.parentMap=new WeakMap,o&&(this.queryParent=!!o.queryParent,this.progressive=o.progressive,this.queryParent&&(this.parentMap=new WeakMap)),this.evtListeners={}}parse(o,u,a){a=a?a+".":"";const g=/<([^ >\/]+)(.*?)>/mg,v=[];let x=g.exec(o);for(;x;){const k=x[1],R={$tag:k},A=a+k,O=x[2].trim();let D=!1;(O.endsWith("/")||k.startsWith("?")||k.startsWith("!"))&&(D=!0);const U=/([^ ]+?)="(.+?)"/g,H=/([^ ]+?)='(.+?)'/g;let G=U.exec(O),z=!1;for(;G;)z=!0,R[G[1]]=G[2],G=U.exec(O);if(!z)for(G=H.exec(O);G;)z=!0,R[G[1]]=G[2],G=H.exec(O);if(!z&&O!==""&&(R.text=O),this.progressive&&this.emit(`<${A}>`,R,u),!D){const j=new RegExp(`([^]+?)</${k}>`,"g");j.lastIndex=g.lastIndex;const X=j.exec(o);if(X&&X[1]){g.lastIndex=j.lastIndex;const Y=this.parse(X[1],R,A);Y.length>0?R.$innerNodes=Y:R.$innerText=X[1]}}this.queryParent&&u&&this.parentMap.set(R,u),this.progressive&&this.emit(`</${A}>`,R,u),v.push(R),x=g.exec(o)}return v}getParent(o){return this.queryParent?this.parentMap.get(o):null}addListener(o,u){if(t(o)){const a=e(o);a.exp&&(u.condition=r(a.exp)),o=a.evt}this.$addListener(o,u)}removeListener(o,u){t(o)&&(o=e(o).evt),this.$removeListener(o,u)}on(o,u){this.addListener(o,u)}off(o,u){this.removeListener(o,u)}$addListener(o,u){const a=this.evtListeners[o];a?a.push(u):this.evtListeners[o]=[u]}$removeListener(o,u){const a=this.evtListeners[o];let g=-1;a&&(g=a.indexOf(u)),g>=0&&a.splice(g,1)}emit(o,...u){const a=this.evtListeners[o];if(a)for(const g of a)g.condition?g.condition.apply(null,u)===!0&&g.apply(null,u):g.apply(null,u)}}return q1.XmlParser=n,q1}var G1={},H1={},J7;function kP(){if(J7)return H1;J7=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.OsmObject=void 0;class t{constructor(r,n,i){this.type=r,this.id=n,this.refElems=i,this.tags={},this.props={id:this.getCompositeId()},this.refCount=0,this.hasTag=!1,i&&i.add(this.getCompositeId(),this)}addTags(r){this.tags=Object.assign(this.tags,r),this.hasTag=!0}addTag(r,n){this.tags[r]=n,this.hasTag=!0}addProp(r,n){this.props[r]=n}addProps(r){this.props=Object.assign(this.props,r)}getCompositeId(){return`${this.type}/${this.id}`}getProps(){return Object.assign(this.props,this.tags)}}return H1.OsmObject=t,H1}var t9;function JH(){if(t9)return G1;t9=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.Node=void 0;const t=kP(),e=Qw();class r extends t.OsmObject{constructor(i,o){super("node",i,o)}setLatLng(i){this.latLng=i}toFeatureArray(){return this.latLng?[{type:"Feature",id:this.getCompositeId(),properties:this.getProps(),geometry:{type:"Point",coordinates:(0,e.strArrayToFloat)([this.latLng.lon,this.latLng.lat])}}]:[]}getLatLng(){return this.latLng}}return G1.Node=r,G1}var bv={},X1={},e9;function tX(){if(e9)return X1;e9=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.LateBinder=void 0;class t{constructor(r,n,i,o){this.container=r,this.valueFunc=n,this.ctx=i,this.args=o}bind(){const r=this.valueFunc.apply(this.ctx,this.args),n=this.container.indexOf(this);if(n<0)return;const i=[n,1];r&&i.push(r),Array.prototype.splice.apply(this.container,i)}}return X1.LateBinder=t,X1}const M1t={},P1t={whitelist:["services","rest_area","escape","elevator"]},O1t={blacklist:["coastline","cliff","ridge","arete","tree_row"]},D1t={},B1t={whitelist:["riverbank","dock","boatyard","dam"]},z1t={},F1t={},j1t={whitelist:["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},V1t={whitelist:["station","turntable","roundhouse","platform"]},$1t={},U1t={},q1t={blacklist:["cutline","embankment","pipeline"]},G1t={whitelist:["plant","substation","generator","transformer"]},H1t={},X1t={},W1t={blacklist:["taxiway"]},Y1t={},K1t={},Z1t={},Q1t={},J1t={},t2t={},e2t={},r2t={},n2t={},i2t={building:M1t,highway:P1t,natural:O1t,landuse:D1t,waterway:B1t,amenity:z1t,leisure:F1t,barrier:j1t,railway:V1t,area:$1t,boundary:U1t,man_made:q1t,power:G1t,place:H1t,shop:X1t,aeroway:W1t,tourism:Y1t,historic:K1t,public_transport:Z1t,office:Q1t,"building:part":{},military:J1t,ruins:t2t,"area:highway":{},craft:e2t,golf:r2t,indoor:n2t};var r9;function eX(){if(r9)return bv;r9=1;var t=bv&&bv.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(bv,"__esModule",{value:!0}),bv.Way=void 0;const e=kP(),r=tX(),n=Qw(),i=t(i2t);class o extends e.OsmObject{constructor(a,g){super("way",a,g),this.latLngArray=[],this.isPolygon=!1}addLatLng(a){this.latLngArray.push(a)}setLatLngArray(a){this.latLngArray=a}addNodeRef(a){const g=new r.LateBinder(this.latLngArray,v=>{const x=this.refElems.get(`node/${v}`);if(x)return x.refCount++,x.getLatLng()},this,[a]);this.latLngArray.push(g),this.refElems.addBinder(g)}addTags(a){super.addTags(a);for(const[g,v]of Object.entries(a))this.analyzeTag(g,v)}addTag(a,g){super.addTag(a,g),this.analyzeTag(a,g)}toCoordsArray(){return this.latLngArray.map(a=>[a.lon,a.lat])}toFeatureArray(){let a=this.toCoordsArray();if(a.length>1){const g=(0,n.strArrayArrayToFloat)(a),v={type:"Feature",id:this.getCompositeId(),properties:this.getProps(),geometry:{type:"LineString",coordinates:g}};return this.isPolygon&&(0,n.isRing)(g)?((0,n.ringDirection)(g)!=="counterclockwise"&&g.reverse(),v.geometry={type:"Polygon",coordinates:[g]},[v]):[v]}return[]}analyzeTag(a,g){const v=i.default[a];v&&(this.isPolygon=!0,v.whitelist?this.isPolygon=v.whitelist.indexOf(g)>=0:v.blacklist&&(this.isPolygon=!(v.blacklist.indexOf(g)>=0)))}}return bv.Way=o,bv}var W1={},Y1={},n9;function a2t(){if(n9)return Y1;n9=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.WayCollection=void 0;const t=Qw();class e extends Array{constructor(){super(),this.firstMap={},this.lastMap={}}addWay(n){const i=n.toCoordsArray();i.length>0&&(this.push(i),(0,t.addToMap)(this.firstMap,(0,t.coordsToKey)((0,t.first)(i)),i),(0,t.addToMap)(this.lastMap,(0,t.coordsToKey)((0,t.last)(i)),i))}mergeWays(){const n=[];let i=this.shift();for(;i;){(0,t.removeFromMap)(this.firstMap,(0,t.coordsToKey)((0,t.first)(i)),i),(0,t.removeFromMap)(this.lastMap,(0,t.coordsToKey)((0,t.last)(i)),i);let o=i,u;do{let a=this.getNextWay(o);u=a.next;let g=a.mergeType;if(u)switch(this.splice(this.indexOf(u),1),(0,t.removeFromMap)(this.firstMap,(0,t.coordsToKey)((0,t.first)(u)),u),(0,t.removeFromMap)(this.lastMap,(0,t.coordsToKey)((0,t.last)(u)),u),g){case 0:o=o.concat(u.slice(1));break;case 1:u.reverse(),o=o.concat(u.slice(1));break;case 2:o.reverse(),o=o.concat(u.slice(1));break;case 3:o=u.concat(o.slice(1));break}}while(u);n.push((0,t.strArrayArrayToFloat)(o)),i=this.shift()}return n}getNextWay(n){const i=(0,t.coordsToKey)((0,t.last)(n)),o=(0,t.coordsToKey)((0,t.first)(n));let u=this.length>0?this[0]:null;if(u){const a=(0,t.coordsToKey)((0,t.first)(u)),g=(0,t.coordsToKey)((0,t.last)(u));if(i===a)return{next:u,mergeType:0};if(i===g)return{next:u,mergeType:1};if(o===a)return{next:u,mergeType:2};if(o===g)return{next:u,mergeType:3}}return u=(0,t.getFirstFromMap)(this.firstMap,i),u?{next:u,mergeType:0}:(u=(0,t.getFirstFromMap)(this.lastMap,i),{next:u,mergeType:1})}toRings(n){const i=this.mergeWays(),o=[];let u=i.shift();for(;u;)(0,t.isRing)(u)&&((0,t.ringDirection)(u)!==n&&u.reverse(),o.push(u)),u=i.shift();return o}}return Y1.WayCollection=e,Y1}var i9;function o2t(){if(i9)return W1;i9=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.Relation=void 0;const t=kP(),e=eX(),r=JH(),n=a2t(),i=tX(),o=Qw();class u extends t.OsmObject{constructor(g,v){super("relation",g,v),this.relations=[],this.nodes=[],this.bounds=void 0,this.ways=[],this.roles=[]}setBounds(g){this.bounds=g}addMember(g){switch(g.type){case"relation":let v=new i.LateBinder(this.relations,k=>{const R=this.refElems.get(`relation/${k}`);if(R)return R.refCount++,R},this,[g.ref]);this.relations.push(v),this.refElems.addBinder(v);break;case"way":if(g.role||(g.role=""),g.geometry){const k=new e.Way(g.ref,this.refElems);k.setLatLngArray(g.geometry),k.refCount++,this.ways.push(k),this.roles.push(g.role)}else if(g.nodes){const k=new e.Way(g.ref,this.refElems);for(const R of g.nodes)k.addNodeRef(R);k.refCount++,this.ways.push(k),this.roles.push(g.role)}else{let k=new i.LateBinder(this.ways,R=>{const A=this.refElems.get(`way/${R}`);if(A)return A.refCount++,A},this,[g.ref]);this.ways.push(k),this.roles.push(g.role),this.refElems.addBinder(k)}break;case"node":let x=null;if(g.lat&&g.lon){x=new r.Node(g.ref,this.refElems),x.setLatLng({lon:g.lon,lat:g.lat}),g.tags&&x.addTags(g.tags);for(const[k,R]of Object.entries(g))["id","type","lat","lon"].indexOf(k)<0&&x.addProp(k,R);x.refCount++,this.nodes.push(x)}else{let k=new i.LateBinder(this.nodes,R=>{const A=this.refElems.get(`node/${R}`);if(A)return A.refCount++,A},this,[g.ref]);this.nodes.push(k),this.refElems.addBinder(k)}break}}constructStringGeometry(g){const v=g?g.mergeWays():[];return v.length===0?null:{type:"MultiLineString",coordinates:v}}constructPolygonGeometry(g,v){const x=g?g.toRings("counterclockwise"):[],k=v?v.toRings("clockwise"):[];if(x.length>0){const R=[];let A;for(A of x)R.push([A]);for(A=k.shift();A;){for(const O in x)if((0,o.pointInsidePolygon)((0,o.first)(A),x[O])){R[O].push(A);break}A=k.shift()}return R.length===1?{type:"Polygon",coordinates:R[0]}:{type:"MultiPolygon",coordinates:R}}return null}toFeatureArray(){const g=[],v=[];let x=[];for(const R of this.relations)if(R)for(let A=0;A<R.ways.length;A++){const O=R.ways[A];this.ways.push(O),this.roles.push(R.roles[A])}let k={type:"Feature",id:this.getCompositeId(),bbox:this.bounds,properties:this.getProps(),geometry:null};if(this.bounds||delete k.bbox,this.roles.some(R=>R==="outer")){const R=new n.WayCollection,A=new n.WayCollection;for(let U=0;U<this.ways.length;U++){const H=this.ways[U],G=this.roles[U];G==="outer"?R.addWay(H):G==="inner"&&A.addWay(H)}let O=Object.assign({},k),D=this.constructPolygonGeometry(R,A);D&&(O.geometry=D,g.push(O))}else{const R=new n.WayCollection;for(let O of this.ways)R.addWay(O);let A=this.constructStringGeometry(R);if(A){let O=Object.assign({},k);O.geometry=A,v.push(O)}}for(let R of this.nodes)x=x.concat(R.toFeatureArray());return[...g,...v,...x]}}return W1.Relation=u,W1}var K1={},a9;function s2t(){if(a9)return K1;a9=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.RefElements=void 0;class t extends Map{constructor(){super(),this.binders=[]}add(r,n){this.set(r,n)}addBinder(r){this.binders.push(r)}bindAll(){this.binders.forEach(r=>r.bind())}}return K1.RefElements=t,K1}var rN,o9;function l2t(){if(o9)return rN;o9=1;const t=Qw(),e=L1t(),r=JH(),n=eX(),i=o2t(),o=s2t();function u(k){if(!k)return{completeFeature:!1,renderTagged:!1,excludeWay:!0};let R=k.excludeWay===void 0||k.excludeWay,A=!!k.completeFeature,O=!!k.renderTagged;return{completeFeature:A,renderTagged:O,excludeWay:R}}function a(k){return k.elements?"json":k.indexOf("<osm")>=0?"xml":k.trim().startsWith("{")?"json-raw":"invalid"}function g(k,R){for(const A of k.elements)switch(A.type){case"node":const O=new r.Node(A.id,R);A.tags&&O.addTags(A.tags),O.addProps((0,t.purgeProps)(A,["id","type","tags","lat","lon"])),O.setLatLng(A);break;case"way":const D=new n.Way(A.id,R);if(A.tags&&D.addTags(A.tags),D.addProps((0,t.purgeProps)(A,["id","type","tags","nodes","geometry"])),A.geometry)D.setLatLngArray(A.geometry);else if(A.nodes)for(const H of A.nodes)D.addNodeRef(H);break;case"relation":const U=new i.Relation(A.id,R);if(A.bounds&&U.setBounds([parseFloat(A.bounds.minlon),parseFloat(A.bounds.minlat),parseFloat(A.bounds.maxlon),parseFloat(A.bounds.maxlat)]),A.tags&&U.addTags(A.tags),U.addProps((0,t.purgeProps)(A,["id","type","tags","bounds","members"])),A.members)for(const H of A.members)U.addMember(H)}}function v(k,R){const A=new e.XmlParser({progressive:!0});A.on("</osm.node>",O=>{const D=new r.Node(O.id,R);for(const[U,H]of Object.entries(O))!U.startsWith("$")&&["id","lon","lat"].indexOf(U)<0&&D.addProp(U,H);if(D.setLatLng(O),O.$innerNodes)for(const U of O.$innerNodes)U.$tag==="tag"&&D.addTag(U.k,U.v)}),A.on("</osm.way>",O=>{const D=new n.Way(O.id,R);for(const[U,H]of Object.entries(O))!U.startsWith("$")&&["id"].indexOf(U)<0&&D.addProp(U,H);if(O.$innerNodes)for(const U of O.$innerNodes)U.$tag==="nd"?U.lon&&U.lat?D.addLatLng(U):U.ref&&D.addNodeRef(U.ref):U.$tag==="tag"&&D.addTag(U.k,U.v)}),A.on("<osm.relation>",O=>new i.Relation(O.id,R)),A.on("</osm.relation.member>",(O,D)=>{const U=R.get(`relation/${D?.id}`),H={type:O.type,role:O.role?O.role:"",ref:O.ref};if(O.lat&&O.lon){H.lat=O.lat,H.lon=O.lon,H.tags={};for(const[G,z]of Object.entries(O))!G.startsWith("$")&&["type","lat","lon"].indexOf(G)<0&&(H[G]=z)}if(O.$innerNodes){const G=[],z=[];for(const j of O.$innerNodes)j.lat&&j.lon?G.push(j):j.ref&&z.push(j.ref);G.length>0?H.geometry=G:z.length>0&&(H.nodes=z)}U.addMember(H)}),A.on("</osm.relation.bounds>",(O,D)=>{R.get(`relation/${D?.id}`).setBounds([parseFloat(O.minlon),parseFloat(O.minlat),parseFloat(O.maxlon),parseFloat(O.maxlat)])}),A.on("</osm.relation.tag>",(O,D)=>{R.get(`relation/${D?.id}`).addTag(O.k,O.v)}),A.parse(k)}function x(k,R){let{completeFeature:A,renderTagged:O,excludeWay:D}=u(R),U=a(k);const H=new o.RefElements;let G=[];U==="json-raw"&&(k=JSON.parse(k),k.elements?U="json":U="invalid"),U==="json"?g(k,H):U==="xml"&&v(k,H),H.bindAll();for(const z of H.values()){if(z.refCount>0&&(!z.hasTag||!O||z instanceof n.Way&&D))continue;const j=z.toFeatureArray();if(z instanceof i.Relation&&!A&&j.length>0)return j[0].geometry;G=G.concat(j)}return{type:"FeatureCollection",features:G}}return rN=x,rN}l2t();var s9;(function(t){t.ABSOLUTE="absolute",t.RELATIVE_TO_GROUND="relativeToGround",t.CLAMP_TO_GROUND="clampToGround",t.CLAMP_TO_SEAFLOOR="clampToSeaFloor",t.RELATIVE_TO_SEAFLOOR="relativeToSeaFloor"})(s9||(s9={}));const u2t=we.createContext({});u2t.Provider;ba(yr.jsx("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 10V8h-2v4H8l4 4 4-4z"}));ba(yr.jsx("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m-1-10v4h2v-4h3l-4-4-4 4z"}));ba(yr.jsx("path",{d:"M5 15H3v4c0 1.1.9 2 2 2h4v-2H5zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2m0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}));qr(My)({padding:"4px",marginTop:"-3px",background:"none","&:hover":{background:"none"}});ba(yr.jsx("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"}));ba([yr.jsx("path",{d:"M8 8H6v7c0 1.1.9 2 2 2h9v-2H8z"},"0"),yr.jsx("path",{d:"M20 3h-8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 8h-8V7h8zM4 12H2v7c0 1.1.9 2 2 2h9v-2H4z"},"1")]);ba(yr.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}));ba(yr.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10H7v-2h10z"}));ba(yr.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}));ba(yr.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}));ba(yr.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}));ba(yr.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"}));ba(yr.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"}));ba(yr.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}));ba(yr.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}));ba(yr.jsx("path",{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27zm3.65-11.92c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75z"}));ba(yr.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}));var l9={exports:{}},nN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u9;function c2t(){if(u9)return nN;u9=1;var t=we;function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,u=t.useMemo,a=t.useDebugValue;return nN.useSyncExternalStoreWithSelector=function(g,v,x,k,R){var A=i(null);if(A.current===null){var O={hasValue:!1,value:null};A.current=O}else O=A.current;A=u(function(){function U(X){if(!H){if(H=!0,G=X,X=k(X),R!==void 0&&O.hasValue){var Y=O.value;if(R(Y,X))return z=Y}return z=X}if(Y=z,r(G,X))return Y;var rt=k(X);return R!==void 0&&R(Y,rt)?(G=X,Y):(G=X,z=rt)}var H=!1,G,z,j=x===void 0?null:x;return[function(){return U(v())},j===null?void 0:function(){return U(j())}]},[v,x,k,R]);var D=n(g,A[0],A[1]);return o(function(){O.hasValue=!0,O.value=D},[D]),a(D),D},nN}var c9;function h2t(){return c9||(c9=1,l9.exports=c2t()),l9.exports}h2t();function oh(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var d2t=typeof Symbol=="function"&&Symbol.observable||"@@observable",h9=d2t,iN=()=>Math.random().toString(36).substring(7).split("").join("."),f2t={INIT:`@@redux/INIT${iN()}`,REPLACE:`@@redux/REPLACE${iN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iN()}`},xT=f2t;function IP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function rX(t,e,r){if(typeof t!="function")throw new Error(oh(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(oh(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(oh(1));return r(rX)(t,e)}let n=t,i=e,o=new Map,u=o,a=0,g=!1;function v(){u===o&&(u=new Map,o.forEach((D,U)=>{u.set(U,D)}))}function x(){if(g)throw new Error(oh(3));return i}function k(D){if(typeof D!="function")throw new Error(oh(4));if(g)throw new Error(oh(5));let U=!0;v();const H=a++;return u.set(H,D),function(){if(U){if(g)throw new Error(oh(6));U=!1,v(),u.delete(H),o=null}}}function R(D){if(!IP(D))throw new Error(oh(7));if(typeof D.type>"u")throw new Error(oh(8));if(typeof D.type!="string")throw new Error(oh(17));if(g)throw new Error(oh(9));try{g=!0,i=n(i,D)}finally{g=!1}return(o=u).forEach(U=>{U()}),D}function A(D){if(typeof D!="function")throw new Error(oh(10));n=D,R({type:xT.REPLACE})}function O(){const D=k;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(oh(11));function H(){const G=U;G.next&&G.next(x())}return H(),{unsubscribe:D(H)}},[h9](){return this}}}return R({type:xT.INIT}),{dispatch:R,subscribe:k,getState:x,replaceReducer:A,[h9]:O}}function p2t(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:xT.INIT})>"u")throw new Error(oh(12));if(typeof r(void 0,{type:xT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(oh(13))})}function m2t(t){const e=Object.keys(t),r={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(r[u]=t[u])}const n=Object.keys(r);let i;try{p2t(r)}catch(o){i=o}return function(o={},u){if(i)throw i;let a=!1;const g={};for(let v=0;v<n.length;v++){const x=n[v],k=r[x],R=o[x],A=k(R,u);if(typeof A>"u")throw u&&u.type,new Error(oh(14));g[x]=A,a=a||A!==R}return a=a||n.length!==Object.keys(o).length,a?g:o}}function wT(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function g2t(...t){return e=>(r,n)=>{const i=e(r,n);let o=()=>{throw new Error(oh(15))};const u={getState:i.getState,dispatch:(g,...v)=>o(g,...v)},a=t.map(g=>g(u));return o=wT(...a)(i.dispatch),{...i,dispatch:o}}}function y2t(t){return IP(t)&&"type"in t&&typeof t.type=="string"}var nX=Symbol.for("immer-nothing"),d9=Symbol.for("immer-draftable"),nf=Symbol.for("immer-state");function mp(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Q_=Object.getPrototypeOf;function r0(t){return!!t&&!!t[nf]}function Tg(t){return t?iX(t)||Array.isArray(t)||!!t[d9]||!!t.constructor?.[d9]||Jw(t)||fA(t):!1}var v2t=Object.prototype.constructor.toString();function iX(t){if(!t||typeof t!="object")return!1;const e=Q_(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===v2t}function ST(t,e){dA(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function dA(t){const e=t[nf];return e?e.type_:Array.isArray(t)?1:Jw(t)?2:fA(t)?3:0}function FL(t,e){return dA(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function aX(t,e,r){const n=dA(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function b2t(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jw(t){return t instanceof Map}function fA(t){return t instanceof Set}function Iv(t){return t.copy_||t.base_}function jL(t,e){if(Jw(t))return new Map(t);if(fA(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=iX(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[nf];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const u=i[o],a=n[u];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[u]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[u]})}return Object.create(Q_(t),n)}else{const n=Q_(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function RP(t,e=!1){return pA(t)||r0(t)||!Tg(t)||(dA(t)>1&&Object.defineProperties(t,{set:{value:O5},add:{value:O5},clear:{value:O5},delete:{value:O5}}),Object.freeze(t),e&&Object.values(t).forEach(r=>RP(r,!0))),t}function O5(){mp(2)}function pA(t){return Object.isFrozen(t)}var _2t={};function n0(t){const e=_2t[t];return e||mp(0,t),e}var hw;function oX(){return hw}function x2t(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function f9(t,e){e&&(n0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function VL(t){$L(t),t.drafts_.forEach(w2t),t.drafts_=null}function $L(t){t===hw&&(hw=t.parent_)}function p9(t){return hw=x2t(hw,t)}function w2t(t){const e=t[nf];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function m9(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[nf].modified_&&(VL(e),mp(4)),Tg(t)&&(t=ET(e,t),e.parent_||TT(e,t)),e.patches_&&n0("Patches").generateReplacementPatches_(r[nf].base_,t,e.patches_,e.inversePatches_)):t=ET(e,r,[]),VL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nX?t:void 0}function ET(t,e,r){if(pA(e))return e;const n=e[nf];if(!n)return ST(e,(i,o)=>g9(t,n,e,i,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return TT(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,u=!1;n.type_===3&&(o=new Set(i),i.clear(),u=!0),ST(o,(a,g)=>g9(t,n,i,a,g,r,u)),TT(t,i,!1),r&&t.patches_&&n0("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function g9(t,e,r,n,i,o,u){if(r0(i)){const a=o&&e&&e.type_!==3&&!FL(e.assigned_,n)?o.concat(n):void 0,g=ET(t,i,a);if(aX(r,n,g),r0(g))t.canAutoFreeze_=!1;else return}else u&&r.add(i);if(Tg(i)&&!pA(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ET(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Jw(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&TT(t,i)}}function TT(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&RP(e,r)}function S2t(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:oX(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=NP;r&&(i=[n],o=dw);const{revoke:u,proxy:a}=Proxy.revocable(i,o);return n.draft_=a,n.revoke_=u,a}var NP={get(t,e){if(e===nf)return t;const r=Iv(t);if(!FL(r,e))return E2t(t,r,e);const n=r[e];return t.finalized_||!Tg(n)?n:n===aN(t.base_,e)?(oN(t),t.copy_[e]=qL(n,t)):n},has(t,e){return e in Iv(t)},ownKeys(t){return Reflect.ownKeys(Iv(t))},set(t,e,r){const n=sX(Iv(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=aN(Iv(t),e),o=i?.[nf];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(b2t(r,i)&&(r!==void 0||FL(t.base_,e)))return!0;oN(t),UL(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return aN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,oN(t),UL(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Iv(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){mp(11)},getPrototypeOf(t){return Q_(t.base_)},setPrototypeOf(){mp(12)}},dw={};ST(NP,(t,e)=>{dw[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});dw.deleteProperty=function(t,e){return dw.set.call(this,t,e,void 0)};dw.set=function(t,e,r){return NP.set.call(this,t[0],e,r,t[0])};function aN(t,e){const r=t[nf];return(r?Iv(r):t)[e]}function E2t(t,e,r){const n=sX(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function sX(t,e){if(!(e in t))return;let r=Q_(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Q_(r)}}function UL(t){t.modified_||(t.modified_=!0,t.parent_&&UL(t.parent_))}function oN(t){t.copy_||(t.copy_=jL(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var T2t=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const u=this;return function(a=o,...g){return u.produce(a,v=>r.call(this,v,...g))}}typeof r!="function"&&mp(6),n!==void 0&&typeof n!="function"&&mp(7);let i;if(Tg(e)){const o=p9(this),u=qL(e,void 0);let a=!0;try{i=r(u),a=!1}finally{a?VL(o):$L(o)}return f9(o,n),m9(i,o)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===nX&&(i=void 0),this.autoFreeze_&&RP(i,!0),n){const o=[],u=[];n0("Patches").generateReplacementPatches_(e,i,o,u),n(o,u)}return i}else mp(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,a=>e(a,...u));let n,i;return[this.produce(e,r,(o,u)=>{n=o,i=u}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Tg(t)||mp(8),r0(t)&&(t=C2t(t));const e=p9(this),r=qL(t,void 0);return r[nf].isManual_=!0,$L(e),r}finishDraft(t,e){const r=t&&t[nf];(!r||!r.isManual_)&&mp(9);const{scope_:n}=r;return f9(n,e),m9(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=n0("Patches").applyPatches_;return r0(t)?n(t,e):this.produce(t,i=>n(i,e))}};function qL(t,e){const r=Jw(t)?n0("MapSet").proxyMap_(t,e):fA(t)?n0("MapSet").proxySet_(t,e):S2t(t,e);return(e?e.scope_:oX()).drafts_.push(r),r}function C2t(t){return r0(t)||mp(10,t),lX(t)}function lX(t){if(!Tg(t)||pA(t))return t;const e=t[nf];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=jL(t,e.scope_.immer_.useStrictShallowCopy_)}else r=jL(t,!0);return ST(r,(n,i)=>{aX(r,n,lX(i))}),e&&(e.finalized_=!1),r}var A2t=new T2t,uX=A2t.produce;function cX(t){return({dispatch:e,getState:r})=>n=>i=>typeof i=="function"?i(e,r,t):n(i)}var k2t=cX(),I2t=cX,R2t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wT:wT.apply(null,arguments)};function y9(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(vg(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>y2t(n)&&n.type===t,r}var hX=class v2 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,v2.prototype)}static get[Symbol.species](){return v2}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new v2(...e[0].concat(this)):new v2(...e.concat(this))}};function v9(t){return Tg(t)?uX(t,()=>{}):t}function D5(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function N2t(t){return typeof t=="boolean"}var L2t=()=>function(t){const{thunk:e=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let o=new hX;return e&&(N2t(e)?o.push(k2t):o.push(I2t(e.extraArgument))),o},M2t="RTK_autoBatch",b9=t=>e=>{setTimeout(e,t)},P2t=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,o=!1,u=!1;const a=new Set,g=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:b9(10):t.type==="callback"?t.queueNotification:b9(t.timeout),v=()=>{u=!1,o&&(o=!1,a.forEach(x=>x()))};return Object.assign({},n,{subscribe(x){const k=()=>i&&x(),R=n.subscribe(k);return a.add(x),()=>{R(),a.delete(x)}},dispatch(x){try{return i=!x?.meta?.[M2t],o=!i,o&&(u||(u=!0,g(v))),n.dispatch(x)}finally{i=!0}}})},O2t=t=>function(e){const{autoBatch:r=!0}=e??{};let n=new hX(t);return r&&n.push(P2t(typeof r=="object"?r:void 0)),n};function D2t(t){const e=L2t(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let a;if(typeof r=="function")a=r;else if(IP(r))a=m2t(r);else throw new Error(vg(1));let g;typeof n=="function"?g=n(e):g=e();let v=wT;i&&(v=R2t({trace:!1,...typeof i=="object"&&i}));const x=g2t(...g),k=O2t(x);let R=typeof u=="function"?u(k):k();const A=v(...R);return rX(a,o,A)}function dX(t){const e={},r=[];let n;const i={addCase(o,u){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(vg(28));if(a in e)throw new Error(vg(29));return e[a]=u,i},addAsyncThunk(o,u){return u.pending&&(e[o.pending.type]=u.pending),u.rejected&&(e[o.rejected.type]=u.rejected),u.fulfilled&&(e[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),i},addMatcher(o,u){return r.push({matcher:o,reducer:u}),i},addDefaultCase(o){return n=o,i}};return t(i),[e,r,n]}function B2t(t){return typeof t=="function"}function z2t(t,e){let[r,n,i]=dX(e),o;if(B2t(t))o=()=>v9(t());else{const a=v9(t);o=()=>a}function u(a=o(),g){let v=[r[g.type],...n.filter(({matcher:x})=>x(g)).map(({reducer:x})=>x)];return v.filter(x=>!!x).length===0&&(v=[i]),v.reduce((x,k)=>{if(k)if(r0(x)){const R=k(x,g);return R===void 0?x:R}else{if(Tg(x))return uX(x,R=>k(R,g));{const R=k(x,g);if(R===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return R}}return x},a)}return u.getInitialState=o,u}var F2t=Symbol.for("rtk-slice-createasyncthunk");function j2t(t,e){return`${t}/${e}`}function V2t({creators:t}={}){const e=t?.asyncThunk?.[F2t];return function(r){const{name:n,reducerPath:i=n}=r;if(!n)throw new Error(vg(11));const o=(typeof r.reducers=="function"?r.reducers(q2t()):r.reducers)||{},u=Object.keys(o),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(G,z){const j=typeof G=="string"?G:G.type;if(!j)throw new Error(vg(12));if(j in a.sliceCaseReducersByType)throw new Error(vg(13));return a.sliceCaseReducersByType[j]=z,g},addMatcher(G,z){return a.sliceMatchers.push({matcher:G,reducer:z}),g},exposeAction(G,z){return a.actionCreators[G]=z,g},exposeCaseReducer(G,z){return a.sliceCaseReducersByName[G]=z,g}};u.forEach(G=>{const z=o[G],j={reducerName:G,type:j2t(n,G),createNotation:typeof r.reducers=="function"};H2t(z)?W2t(j,z,g,e):G2t(j,z,g)});function v(){const[G={},z=[],j=void 0]=typeof r.extraReducers=="function"?dX(r.extraReducers):[r.extraReducers],X={...G,...a.sliceCaseReducersByType};return z2t(r.initialState,Y=>{for(let rt in X)Y.addCase(rt,X[rt]);for(let rt of a.sliceMatchers)Y.addMatcher(rt.matcher,rt.reducer);for(let rt of z)Y.addMatcher(rt.matcher,rt.reducer);j&&Y.addDefaultCase(j)})}const x=G=>G,k=new Map,R=new WeakMap;let A;function O(G,z){return A||(A=v()),A(G,z)}function D(){return A||(A=v()),A.getInitialState()}function U(G,z=!1){function j(Y){let rt=Y[G];return typeof rt>"u"&&z&&(rt=D5(R,j,D)),rt}function X(Y=x){const rt=D5(k,z,()=>new WeakMap);return D5(rt,Y,()=>{const st={};for(const[it,bt]of Object.entries(r.selectors??{}))st[it]=$2t(bt,Y,()=>D5(R,Y,D),z);return st})}return{reducerPath:G,getSelectors:X,get selectors(){return X(j)},selectSlice:j}}const H={name:n,reducer:O,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:D,...U(i),injectInto(G,{reducerPath:z,...j}={}){const X=z??i;return G.inject({reducerPath:X,reducer:O},j),{...H,...U(X,!0)}}};return H}}function $2t(t,e,r,n){function i(o,...u){let a=e(o);return typeof a>"u"&&n&&(a=r()),t(a,...u)}return i.unwrapped=t,i}var U2t=V2t();function q2t(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function G2t({type:t,reducerName:e,createNotation:r},n,i){let o,u;if("reducer"in n){if(r&&!X2t(n))throw new Error(vg(17));o=n.reducer,u=n.prepare}else o=n;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?y9(t,u):y9(t))}function H2t(t){return t._reducerDefinitionType==="asyncThunk"}function X2t(t){return t._reducerDefinitionType==="reducerWithPrepare"}function W2t({type:t,reducerName:e},r,n,i){if(!i)throw new Error(vg(18));const{payloadCreator:o,fulfilled:u,pending:a,rejected:g,settled:v,options:x}=r,k=i(t,o,x);n.exposeAction(e,k),u&&n.addCase(k.fulfilled,u),a&&n.addCase(k.pending,a),g&&n.addCase(k.rejected,g),v&&n.addMatcher(k.settled,v),n.exposeCaseReducer(e,{fulfilled:u||B5,pending:a||B5,rejected:g||B5,settled:v||B5})}function B5(){}function vg(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function fX(t,e,r){e.forEach(n=>{t(n,r),n.layers&&n.layers.length>0&&fX(t,n.layers,n)})}const Y2t={mapConfigs:{}},pX=U2t({name:"mapConfig",initialState:Y2t,reducers:{setMapConfig:(t,e)=>{const r=e.payload.mapConfig,n=e.payload.key;t.mapConfigs[n]=r},removeMapConfig:(t,e)=>{delete t.mapConfigs[e.payload.key]},setLayerInMapConfig:(t,e)=>{const{mapConfigKey:r,layer:n}=e.payload,i=t.mapConfigs[r];if(i){for(let o=0;o<i.layers.length;o++)if(i.layers[o].uuid===n.uuid){i.layers[o]=n;break}}},removeLayerFromMapConfig:(t,e)=>{const{mapConfigKey:r,layerUuid:n}=e.payload,i=t.mapConfigs[r];if(i){const o=i.layers.findIndex(u=>u.uuid===n);o!==-1&&(delete i.layers[o],fX(function(u,a){a&&a.layers&&(a.layers=a.layers.filter(g=>g.uuid!==n))},i.layerOrder))}},updateLayerOrder:(t,e)=>{const{mapConfigKey:r,newOrder:n}=e.payload,i=t.mapConfigs[r];i&&(i.layerOrder=n)},setMasterVisible(t,e){const{mapConfigKey:r,layerId:n,masterVisible:i}=e.payload,o=t.mapConfigs[r];if(o){const u=o.layers.findIndex(a=>a.uuid===n);if(u!==-1){const a=o.layers[u];if(a){const g=[...o.layers];a.type==="folder"&&o.layerOrder.forEach(v=>{v.uuid===n&&v.layers?.forEach(x=>{const k=o.layers.findIndex(A=>A.uuid===x.uuid),R=g[k];g[k]={...R,masterVisible:i},R?.type==="vt"&&R?.config?.layers&&(R.config.layers=R.config.layers.map(A=>({...A,masterVisible:i})))})}),a.type==="vt"&&a?.config?.layers&&(a.config.layers=a.config.layers.map(v=>({...v,masterVisible:i}))),t.mapConfigs[r].layers=g}}}}}});D2t({reducer:{mapConfig:pX.reducer}});const{setMapConfig:nPt,removeMapConfig:iPt,setLayerInMapConfig:aPt,removeLayerFromMapConfig:oPt,updateLayerOrder:sPt,setMasterVisible:lPt}=pX.actions;ba(yr.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}));qr(Ly)({marginLeft:"-100px",marginRight:"-21px",paddingLeft:"53px",borderRadius:"0px",boxShadow:"none",backgroundColor:"rgb(0, 0, 0, 0)"});qr(c0)({marginLeft:"61px"});qr(My)({padding:"4px",marginTop:"-3px"});qr(My)({marginLeft:"20px"});qr(_4)({paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"});qr(x4)({minWidth:"30px"});qr(My)({marginRight:"0px",padding:"0px"});qr(c0)(({open:t})=>({display:t?"block":"none"}));qr(qw)({marginLeft:"50px"});qr(qw)({marginTop:"15px"});const fw={black:"#000",white:"#fff"},kb={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ib={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rb={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Nb={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Lb={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Z1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},K2t={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Cg(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const vp="$$material";function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(null,arguments)}function Z2t(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Q2t(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var J2t=(function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Q2t(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Z2t(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t})(),Nh="-ms-",AT="-moz-",gs="-webkit-",mX="comm",LP="rule",MP="decl",twt="@import",gX="@keyframes",ewt="@layer",rwt=Math.abs,mA=String.fromCharCode,nwt=Object.assign;function iwt(t,e){return lh(t,0)^45?(((e<<2^lh(t,0))<<2^lh(t,1))<<2^lh(t,2))<<2^lh(t,3):0}function yX(t){return t.trim()}function awt(t,e){return(t=e.exec(t))?t[0]:t}function vs(t,e,r){return t.replace(e,r)}function GL(t,e){return t.indexOf(e)}function lh(t,e){return t.charCodeAt(e)|0}function pw(t,e,r){return t.slice(e,r)}function cm(t){return t.length}function PP(t){return t.length}function z5(t,e){return e.push(t),t}function owt(t,e){return t.map(e).join("")}var gA=1,J_=1,vX=0,vd=0,mc=0,wx="";function yA(t,e,r,n,i,o,u){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:gA,column:J_,length:u,return:""}}function Q1(t,e){return nwt(yA("",null,null,"",null,null,0),t,{length:-t.length},e)}function swt(){return mc}function lwt(){return mc=vd>0?lh(wx,--vd):0,J_--,mc===10&&(J_=1,gA--),mc}function Jd(){return mc=vd<vX?lh(wx,vd++):0,J_++,mc===10&&(J_=1,gA++),mc}function Im(){return lh(wx,vd)}function xE(){return vd}function tS(t,e){return pw(wx,t,e)}function mw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bX(t){return gA=J_=1,vX=cm(wx=t),vd=0,[]}function _X(t){return wx="",t}function wE(t){return yX(tS(vd-1,HL(t===91?t+2:t===40?t+1:t)))}function uwt(t){for(;(mc=Im())&&mc<33;)Jd();return mw(t)>2||mw(mc)>3?"":" "}function cwt(t,e){for(;--e&&Jd()&&!(mc<48||mc>102||mc>57&&mc<65||mc>70&&mc<97););return tS(t,xE()+(e<6&&Im()==32&&Jd()==32))}function HL(t){for(;Jd();)switch(mc){case t:return vd;case 34:case 39:t!==34&&t!==39&&HL(mc);break;case 40:t===41&&HL(t);break;case 92:Jd();break}return vd}function hwt(t,e){for(;Jd()&&t+mc!==57;)if(t+mc===84&&Im()===47)break;return"/*"+tS(e,vd-1)+"*"+mA(t===47?t:Jd())}function dwt(t){for(;!mw(Im());)Jd();return tS(t,vd)}function fwt(t){return _X(SE("",null,null,null,[""],t=bX(t),0,[0],t))}function SE(t,e,r,n,i,o,u,a,g){for(var v=0,x=0,k=u,R=0,A=0,O=0,D=1,U=1,H=1,G=0,z="",j=i,X=o,Y=n,rt=z;U;)switch(O=G,G=Jd()){case 40:if(O!=108&&lh(rt,k-1)==58){GL(rt+=vs(wE(G),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:rt+=wE(G);break;case 9:case 10:case 13:case 32:rt+=uwt(O);break;case 92:rt+=cwt(xE()-1,7);continue;case 47:switch(Im()){case 42:case 47:z5(pwt(hwt(Jd(),xE()),e,r),g);break;default:rt+="/"}break;case 123*D:a[v++]=cm(rt)*H;case 125*D:case 59:case 0:switch(G){case 0:case 125:U=0;case 59+x:H==-1&&(rt=vs(rt,/\f/g,"")),A>0&&cm(rt)-k&&z5(A>32?x9(rt+";",n,r,k-1):x9(vs(rt," ","")+";",n,r,k-2),g);break;case 59:rt+=";";default:if(z5(Y=_9(rt,e,r,v,x,i,a,z,j=[],X=[],k),o),G===123)if(x===0)SE(rt,e,Y,Y,j,o,k,a,X);else switch(R===99&&lh(rt,3)===110?100:R){case 100:case 108:case 109:case 115:SE(t,Y,Y,n&&z5(_9(t,Y,Y,0,0,i,a,z,i,j=[],k),X),i,X,k,a,n?j:X);break;default:SE(rt,Y,Y,Y,[""],X,0,a,X)}}v=x=A=0,D=H=1,z=rt="",k=u;break;case 58:k=1+cm(rt),A=O;default:if(D<1){if(G==123)--D;else if(G==125&&D++==0&&lwt()==125)continue}switch(rt+=mA(G),G*D){case 38:H=x>0?1:(rt+="\f",-1);break;case 44:a[v++]=(cm(rt)-1)*H,H=1;break;case 64:Im()===45&&(rt+=wE(Jd())),R=Im(),x=k=cm(z=rt+=dwt(xE())),G++;break;case 45:O===45&&cm(rt)==2&&(D=0)}}return o}function _9(t,e,r,n,i,o,u,a,g,v,x){for(var k=i-1,R=i===0?o:[""],A=PP(R),O=0,D=0,U=0;O<n;++O)for(var H=0,G=pw(t,k+1,k=rwt(D=u[O])),z=t;H<A;++H)(z=yX(D>0?R[H]+" "+G:vs(G,/&\f/g,R[H])))&&(g[U++]=z);return yA(t,e,r,i===0?LP:a,g,v,x)}function pwt(t,e,r){return yA(t,e,r,mX,mA(swt()),pw(t,2,-2),0)}function x9(t,e,r,n){return yA(t,e,r,MP,pw(t,0,n),pw(t,n+1,-1),n)}function M_(t,e){for(var r="",n=PP(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function mwt(t,e,r,n){switch(t.type){case ewt:if(t.children.length)break;case twt:case MP:return t.return=t.return||t.value;case mX:return"";case gX:return t.return=t.value+"{"+M_(t.children,n)+"}";case LP:t.value=t.props.join(",")}return cm(r=M_(t.children,n))?t.return=t.value+"{"+r+"}":""}function gwt(t){var e=PP(t);return function(r,n,i,o){for(var u="",a=0;a<e;a++)u+=t[a](r,n,i,o)||"";return u}}function ywt(t){return function(e){e.root||(e=e.return)&&t(e)}}function xX(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var vwt=function(e,r,n){for(var i=0,o=0;i=o,o=Im(),i===38&&o===12&&(r[n]=1),!mw(o);)Jd();return tS(e,vd)},bwt=function(e,r){var n=-1,i=44;do switch(mw(i)){case 0:i===38&&Im()===12&&(r[n]=1),e[n]+=vwt(vd-1,r,n);break;case 2:e[n]+=wE(i);break;case 4:if(i===44){e[++n]=Im()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=mA(i)}while(i=Jd());return e},_wt=function(e,r){return _X(bwt(bX(e),r))},w9=new WeakMap,xwt=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!w9.get(n))&&!i){w9.set(e,!0);for(var o=[],u=_wt(r,o),a=n.props,g=0,v=0;g<u.length;g++)for(var x=0;x<a.length;x++,v++)e.props[v]=o[g]?u[g].replace(/&\f/g,a[x]):a[x]+" "+u[g]}}},wwt=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function wX(t,e){switch(iwt(t,e)){case 5103:return gs+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gs+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gs+t+AT+t+Nh+t+t;case 6828:case 4268:return gs+t+Nh+t+t;case 6165:return gs+t+Nh+"flex-"+t+t;case 5187:return gs+t+vs(t,/(\w+).+(:[^]+)/,gs+"box-$1$2"+Nh+"flex-$1$2")+t;case 5443:return gs+t+Nh+"flex-item-"+vs(t,/flex-|-self/,"")+t;case 4675:return gs+t+Nh+"flex-line-pack"+vs(t,/align-content|flex-|-self/,"")+t;case 5548:return gs+t+Nh+vs(t,"shrink","negative")+t;case 5292:return gs+t+Nh+vs(t,"basis","preferred-size")+t;case 6060:return gs+"box-"+vs(t,"-grow","")+gs+t+Nh+vs(t,"grow","positive")+t;case 4554:return gs+vs(t,/([^-])(transform)/g,"$1"+gs+"$2")+t;case 6187:return vs(vs(vs(t,/(zoom-|grab)/,gs+"$1"),/(image-set)/,gs+"$1"),t,"")+t;case 5495:case 3959:return vs(t,/(image-set\([^]*)/,gs+"$1$`$1");case 4968:return vs(vs(t,/(.+:)(flex-)?(.*)/,gs+"box-pack:$3"+Nh+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gs+t+t;case 4095:case 3583:case 4068:case 2532:return vs(t,/(.+)-inline(.+)/,gs+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cm(t)-1-e>6)switch(lh(t,e+1)){case 109:if(lh(t,e+4)!==45)break;case 102:return vs(t,/(.+:)(.+)-([^]+)/,"$1"+gs+"$2-$3$1"+AT+(lh(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~GL(t,"stretch")?wX(vs(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(lh(t,e+1)!==115)break;case 6444:switch(lh(t,cm(t)-3-(~GL(t,"!important")&&10))){case 107:return vs(t,":",":"+gs)+t;case 101:return vs(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gs+(lh(t,14)===45?"inline-":"")+"box$3$1"+gs+"$2$3$1"+Nh+"$2box$3")+t}break;case 5936:switch(lh(t,e+11)){case 114:return gs+t+Nh+vs(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gs+t+Nh+vs(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gs+t+Nh+vs(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gs+t+Nh+t+t}return t}var Swt=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case MP:e.return=wX(e.value,e.length);break;case gX:return M_([Q1(e,{value:vs(e.value,"@","@"+gs)})],i);case LP:if(e.length)return owt(e.props,function(o){switch(awt(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return M_([Q1(e,{props:[vs(o,/:(read-\w+)/,":"+AT+"$1")]})],i);case"::placeholder":return M_([Q1(e,{props:[vs(o,/:(plac\w+)/,":"+gs+"input-$1")]}),Q1(e,{props:[vs(o,/:(plac\w+)/,":"+AT+"$1")]}),Q1(e,{props:[vs(o,/:(plac\w+)/,Nh+"input-$1")]})],i)}return""})}},Ewt=[Swt],Twt=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(D){var U=D.getAttribute("data-emotion");U.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var i=e.stylisPlugins||Ewt,o={},u,a=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(D){for(var U=D.getAttribute("data-emotion").split(" "),H=1;H<U.length;H++)o[U[H]]=!0;a.push(D)});var g,v=[xwt,wwt];{var x,k=[mwt,ywt(function(D){x.insert(D)})],R=gwt(v.concat(i,k)),A=function(U){return M_(fwt(U),R)};g=function(U,H,G,z){x=G,A(U?U+"{"+H.styles+"}":H.styles),z&&(O.inserted[H.name]=!0)}}var O={key:r,sheet:new J2t({key:r,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:g};return O.sheet.hydrate(a),O},sN={exports:{}},Is={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9;function Cwt(){if(S9)return Is;S9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,g=t?Symbol.for("react.async_mode"):60111,v=t?Symbol.for("react.concurrent_mode"):60111,x=t?Symbol.for("react.forward_ref"):60112,k=t?Symbol.for("react.suspense"):60113,R=t?Symbol.for("react.suspense_list"):60120,A=t?Symbol.for("react.memo"):60115,O=t?Symbol.for("react.lazy"):60116,D=t?Symbol.for("react.block"):60121,U=t?Symbol.for("react.fundamental"):60117,H=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function z(X){if(typeof X=="object"&&X!==null){var Y=X.$$typeof;switch(Y){case e:switch(X=X.type,X){case g:case v:case n:case o:case i:case k:return X;default:switch(X=X&&X.$$typeof,X){case a:case x:case O:case A:case u:return X;default:return Y}}case r:return Y}}}function j(X){return z(X)===v}return Is.AsyncMode=g,Is.ConcurrentMode=v,Is.ContextConsumer=a,Is.ContextProvider=u,Is.Element=e,Is.ForwardRef=x,Is.Fragment=n,Is.Lazy=O,Is.Memo=A,Is.Portal=r,Is.Profiler=o,Is.StrictMode=i,Is.Suspense=k,Is.isAsyncMode=function(X){return j(X)||z(X)===g},Is.isConcurrentMode=j,Is.isContextConsumer=function(X){return z(X)===a},Is.isContextProvider=function(X){return z(X)===u},Is.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},Is.isForwardRef=function(X){return z(X)===x},Is.isFragment=function(X){return z(X)===n},Is.isLazy=function(X){return z(X)===O},Is.isMemo=function(X){return z(X)===A},Is.isPortal=function(X){return z(X)===r},Is.isProfiler=function(X){return z(X)===o},Is.isStrictMode=function(X){return z(X)===i},Is.isSuspense=function(X){return z(X)===k},Is.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===n||X===v||X===o||X===i||X===k||X===R||typeof X=="object"&&X!==null&&(X.$$typeof===O||X.$$typeof===A||X.$$typeof===u||X.$$typeof===a||X.$$typeof===x||X.$$typeof===U||X.$$typeof===H||X.$$typeof===G||X.$$typeof===D)},Is.typeOf=z,Is}var E9;function Awt(){return E9||(E9=1,sN.exports=Cwt()),sN.exports}var lN,T9;function kwt(){if(T9)return lN;T9=1;var t=Awt(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=n,o[t.Memo]=i;function u(O){return t.isMemo(O)?i:o[O.$$typeof]||e}var a=Object.defineProperty,g=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getOwnPropertyDescriptor,k=Object.getPrototypeOf,R=Object.prototype;function A(O,D,U){if(typeof D!="string"){if(R){var H=k(D);H&&H!==R&&A(O,H,U)}var G=g(D);v&&(G=G.concat(v(D)));for(var z=u(O),j=u(D),X=0;X<G.length;++X){var Y=G[X];if(!r[Y]&&!(U&&U[Y])&&!(j&&j[Y])&&!(z&&z[Y])){var rt=x(D,Y);try{a(O,Y,rt)}catch{}}}}return O}return lN=A,lN}kwt();var Iwt=!0;function SX(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var OP=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Iwt===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},DP=function(e,r,n){OP(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Rwt(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Nwt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Lwt=/[A-Z]|^ms/g,Mwt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EX=function(e){return e.charCodeAt(1)===45},C9=function(e){return e!=null&&typeof e!="boolean"},uN=xX(function(t){return EX(t)?t:t.replace(Lwt,"-$&").toLowerCase()}),A9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Mwt,function(n,i,o){return hm={name:i,styles:o,next:hm},i})}return Nwt[e]!==1&&!EX(e)&&typeof r=="number"&&r!==0?r+"px":r};function gw(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return hm={name:i.name,styles:i.styles,next:hm},i.name;var o=r;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)hm={name:u.name,styles:u.styles,next:hm},u=u.next;var a=o.styles+";";return a}return Pwt(t,e,r)}case"function":{if(t!==void 0){var g=hm,v=r(t);return hm=g,gw(t,e,v)}break}}var x=r;if(e==null)return x;var k=e[x];return k!==void 0?k:x}function Pwt(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=gw(t,e,r[i])+";";else for(var o in r){var u=r[o];if(typeof u!="object"){var a=u;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":C9(a)&&(n+=uN(o)+":"+A9(o,a)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var g=0;g<u.length;g++)C9(u[g])&&(n+=uN(o)+":"+A9(o,u[g])+";");else{var v=gw(t,e,u);switch(o){case"animation":case"animationName":{n+=uN(o)+":"+v+";";break}default:n+=o+"{"+v+"}"}}}return n}var k9=/label:\s*([^\s;{]+)\s*(;|$)/g,hm;function eS(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";hm=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,i+=gw(r,e,o);else{var u=o;i+=u[0]}for(var a=1;a<t.length;a++)if(i+=gw(r,e,t[a]),n){var g=o;i+=g[a]}k9.lastIndex=0;for(var v="",x;(x=k9.exec(i))!==null;)v+="-"+x[1];var k=Rwt(i)+v;return{name:k,styles:i,next:hm}}var Owt=function(e){return e()},TX=F_.useInsertionEffect?F_.useInsertionEffect:!1,CX=TX||Owt,I9=TX||ht.useLayoutEffect,AX=ht.createContext(typeof HTMLElement<"u"?Twt({key:"css"}):null);AX.Provider;var BP=function(e){return ht.forwardRef(function(r,n){var i=ht.useContext(AX);return e(r,i,n)})},rS=ht.createContext({}),zP={}.hasOwnProperty,XL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Dwt=function(e,r){var n={};for(var i in r)zP.call(r,i)&&(n[i]=r[i]);return n[XL]=e,n},Bwt=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return OP(r,n,i),CX(function(){return DP(r,n,i)}),null},zwt=BP(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[XL],o=[n],u="";typeof t.className=="string"?u=SX(e.registered,o,t.className):t.className!=null&&(u=t.className+" ");var a=eS(o,void 0,ht.useContext(rS));u+=e.key+"-"+a.name;var g={};for(var v in t)zP.call(t,v)&&v!=="css"&&v!==XL&&(g[v]=t[v]);return g.className=u,r&&(g.ref=r),ht.createElement(ht.Fragment,null,ht.createElement(Bwt,{cache:e,serialized:a,isStringTag:typeof i=="string"}),ht.createElement(i,g))}),Fwt=zwt,R9=function(e,r){var n=arguments;if(r==null||!zP.call(r,"css"))return ht.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Fwt,o[1]=Dwt(e,r);for(var u=2;u<i;u++)o[u]=n[u];return ht.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(R9||(R9={}));var jwt=BP(function(t,e){var r=t.styles,n=eS([r],void 0,ht.useContext(rS)),i=ht.useRef();return I9(function(){var o=e.key+"-global",u=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,g=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),g!==null&&(a=!0,g.setAttribute("data-emotion",o),u.hydrate([g])),i.current=[u,a],function(){u.flush()}},[e]),I9(function(){var o=i.current,u=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&DP(e,n.next,!0),u.tags.length){var g=u.tags[u.tags.length-1].nextElementSibling;u.before=g,u.flush()}e.insert("",n,u,!1)},[e,n.name]),null});function FP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return eS(e)}function nS(){var t=FP.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Vwt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$wt=xX(function(t){return Vwt.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Uwt=$wt,qwt=function(e){return e!=="theme"},N9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Uwt:qwt},L9=function(e,r,n){var i;if(r){var o=r.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},Gwt=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return OP(r,n,i),CX(function(){return DP(r,n,i)}),null},Hwt=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,u;r!==void 0&&(o=r.label,u=r.target);var a=L9(e,r,n),g=a||N9(i),v=!g("as");return function(){var x=arguments,k=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&k.push("label:"+o+";"),x[0]==null||x[0].raw===void 0)k.push.apply(k,x);else{var R=x[0];k.push(R[0]);for(var A=x.length,O=1;O<A;O++)k.push(x[O],R[O])}var D=BP(function(U,H,G){var z=v&&U.as||i,j="",X=[],Y=U;if(U.theme==null){Y={};for(var rt in U)Y[rt]=U[rt];Y.theme=ht.useContext(rS)}typeof U.className=="string"?j=SX(H.registered,X,U.className):U.className!=null&&(j=U.className+" ");var st=eS(k.concat(X),H.registered,Y);j+=H.key+"-"+st.name,u!==void 0&&(j+=" "+u);var it=v&&a===void 0?N9(z):g,bt={};for(var at in U)v&&at==="as"||it(at)&&(bt[at]=U[at]);return bt.className=j,G&&(bt.ref=G),ht.createElement(ht.Fragment,null,ht.createElement(Gwt,{cache:H,serialized:st,isStringTag:typeof z=="string"}),ht.createElement(z,bt))});return D.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",D.defaultProps=e.defaultProps,D.__emotion_real=D,D.__emotion_base=i,D.__emotion_styles=k,D.__emotion_forwardProp=a,Object.defineProperty(D,"toString",{value:function(){return"."+u}}),D.withComponent=function(U,H){var G=t(U,CT({},r,H,{shouldForwardProp:L9(D,H,!0)}));return G.apply(void 0,k)},D}},Xwt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],WL=Hwt.bind(null);Xwt.forEach(function(t){WL[t]=WL(t)});function Wwt(t){return t==null||Object.keys(t).length===0}function kX(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(Wwt(i)?r:i):e;return Qt.jsx(jwt,{styles:n})}function IX(t,e){return WL(t,e)}function Ywt(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const M9=[];function yy(t){return M9[0]=t,eS(M9)}var cN={exports:{}},el={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P9;function Kwt(){if(P9)return el;P9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function O(D){if(typeof D=="object"&&D!==null){var U=D.$$typeof;switch(U){case t:switch(D=D.type,D){case r:case i:case n:case g:case v:case R:return D;default:switch(D=D&&D.$$typeof,D){case u:case a:case k:case x:return D;case o:return D;default:return U}}case e:return U}}}return el.ContextConsumer=o,el.ContextProvider=u,el.Element=t,el.ForwardRef=a,el.Fragment=r,el.Lazy=k,el.Memo=x,el.Portal=e,el.Profiler=i,el.StrictMode=n,el.Suspense=g,el.SuspenseList=v,el.isContextConsumer=function(D){return O(D)===o},el.isContextProvider=function(D){return O(D)===u},el.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},el.isForwardRef=function(D){return O(D)===a},el.isFragment=function(D){return O(D)===r},el.isLazy=function(D){return O(D)===k},el.isMemo=function(D){return O(D)===x},el.isPortal=function(D){return O(D)===e},el.isProfiler=function(D){return O(D)===i},el.isStrictMode=function(D){return O(D)===n},el.isSuspense=function(D){return O(D)===g},el.isSuspenseList=function(D){return O(D)===v},el.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===i||D===n||D===g||D===v||typeof D=="object"&&D!==null&&(D.$$typeof===k||D.$$typeof===x||D.$$typeof===u||D.$$typeof===o||D.$$typeof===a||D.$$typeof===A||D.getModuleId!==void 0)},el.typeOf=O,el}var O9;function Zwt(){return O9||(O9=1,cN.exports=Kwt()),cN.exports}var RX=Zwt();function pm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function NX(t){if(ht.isValidElement(t)||RX.isValidElementType(t)||!pm(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=NX(t[r])}),e}function $c(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return pm(t)&&pm(e)&&Object.keys(e).forEach(i=>{ht.isValidElement(e[i])||RX.isValidElementType(e[i])?n[i]=e[i]:pm(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&pm(t[i])?n[i]=$c(t[i],e[i],r):r.clone?n[i]=pm(e[i])?NX(e[i]):e[i]:n[i]=e[i]}),n}const Qwt=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function Jwt(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,o=Qwt(e),u=Object.keys(o);function a(R){return`@media (min-width:${typeof e[R]=="number"?e[R]:R}${r})`}function g(R){return`@media (max-width:${(typeof e[R]=="number"?e[R]:R)-n/100}${r})`}function v(R,A){const O=u.indexOf(A);return`@media (min-width:${typeof e[R]=="number"?e[R]:R}${r}) and (max-width:${(O!==-1&&typeof e[u[O]]=="number"?e[u[O]]:A)-n/100}${r})`}function x(R){return u.indexOf(R)+1<u.length?v(R,u[u.indexOf(R)+1]):a(R)}function k(R){const A=u.indexOf(R);return A===0?a(u[1]):A===u.length-1?g(u[A]):v(R,u[u.indexOf(R)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:a,down:g,between:v,only:x,not:k,unit:r,...i}}function D9(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(n.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return r.length?r.reduce((n,i)=>{const o=e[i];return delete n[i],n[i]=o,n},{...e}):e}function tSt(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function eSt(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(o)}function rSt(t){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function r(o,u){o.up=(...a)=>e(t.breakpoints.up(...a),u),o.down=(...a)=>e(t.breakpoints.down(...a),u),o.between=(...a)=>e(t.breakpoints.between(...a),u),o.only=(...a)=>e(t.breakpoints.only(...a),u),o.not=(...a)=>{const g=e(t.breakpoints.not(...a),u);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const n={},i=o=>(r(n,o),n);return r(i),{...t,containerQueries:i}}const nSt={borderRadius:4};function j2(t,e){return e?$c(t,e,{clone:!1}):t}const vA={xs:0,sm:600,md:900,lg:1200,xl:1536},B9={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${vA[t]}px)`},iSt={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:vA[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function Sp(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const o=n.breakpoints||B9;return e.reduce((u,a,g)=>(u[o.up(o.keys[g])]=r(e[g]),u),{})}if(typeof e=="object"){const o=n.breakpoints||B9;return Object.keys(e).reduce((u,a)=>{if(tSt(o.keys,a)){const g=eSt(n.containerQueries?n:iSt,a);g&&(u[g]=r(e[a],a))}else if(Object.keys(o.values||vA).includes(a)){const g=o.up(a);u[g]=r(e[a],a)}else{const g=a;u[g]=e[g]}return u},{})}return r(e)}function LX(t={}){return t.keys?.reduce((r,n)=>{const i=t.up(n);return r[i]={},r},{})||{}}function YL(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function aSt(t,...e){const r=LX(t),n=[r,...e].reduce((i,o)=>$c(i,o),{});return YL(Object.keys(r),n)}function oSt(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,o)=>{o<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function hN({values:t,breakpoints:e,base:r}){const n=r||oSt(t,e),i=Object.keys(n);if(i.length===0)return t;let o;return i.reduce((u,a,g)=>(Array.isArray(t)?(u[a]=t[g]!=null?t[g]:t[o],o=g):typeof t=="object"?(u[a]=t[a]!=null?t[a]:t[o],o=a):u[a]=t,u),{})}function bn(t){if(typeof t!="string")throw new Error(Cg(7));return t.charAt(0).toUpperCase()+t.slice(1)}function bA(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function kT(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=bA(t,r)||n,e&&(i=e(i,n,t)),i}function nc(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,o=u=>{if(u[e]==null)return null;const a=u[e],g=u.theme,v=bA(g,n)||{};return Sp(u,a,k=>{let R=kT(v,i,k);return k===R&&typeof k=="string"&&(R=kT(v,i,`${e}${k==="default"?"":bn(k)}`,k)),r===!1?R:{[r]:R}})};return o.propTypes={},o.filterProps=[e],o}function sSt(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const lSt={m:"margin",p:"padding"},uSt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},z9={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cSt=sSt(t=>{if(t.length>2)if(z9[t])t=z9[t];else return[t];const[e,r]=t.split(""),n=lSt[e],i=uSt[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),jP=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],VP=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...jP,...VP];function iS(t,e,r,n){const i=bA(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),a=i[u];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function _A(t){return iS(t,"spacing",8)}function i0(t,e){return typeof e=="string"||e==null?e:t(e)}function hSt(t,e){return r=>t.reduce((n,i)=>(n[i]=i0(e,r),n),{})}function dSt(t,e,r,n){if(!e.includes(r))return null;const i=cSt(r),o=hSt(i,n),u=t[r];return Sp(t,u,o)}function MX(t,e){const r=_A(t.theme);return Object.keys(t).map(n=>dSt(t,e,n,r)).reduce(j2,{})}function Bu(t){return MX(t,jP)}Bu.propTypes={};Bu.filterProps=jP;function zu(t){return MX(t,VP)}zu.propTypes={};zu.filterProps=VP;function PX(t=8,e=_A({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function xA(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>e[o]?j2(i,e[o](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function wf(t){return typeof t!="number"?t:`${t}px solid`}function $f(t,e){return nc({prop:t,themeKey:"borders",transform:e})}const fSt=$f("border",wf),pSt=$f("borderTop",wf),mSt=$f("borderRight",wf),gSt=$f("borderBottom",wf),ySt=$f("borderLeft",wf),vSt=$f("borderColor"),bSt=$f("borderTopColor"),_St=$f("borderRightColor"),xSt=$f("borderBottomColor"),wSt=$f("borderLeftColor"),SSt=$f("outline",wf),ESt=$f("outlineColor"),wA=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=iS(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:i0(e,n)});return Sp(t,t.borderRadius,r)}return null};wA.propTypes={};wA.filterProps=["borderRadius"];xA(fSt,pSt,mSt,gSt,ySt,vSt,bSt,_St,xSt,wSt,wA,SSt,ESt);const SA=t=>{if(t.gap!==void 0&&t.gap!==null){const e=iS(t.theme,"spacing",8),r=n=>({gap:i0(e,n)});return Sp(t,t.gap,r)}return null};SA.propTypes={};SA.filterProps=["gap"];const EA=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=iS(t.theme,"spacing",8),r=n=>({columnGap:i0(e,n)});return Sp(t,t.columnGap,r)}return null};EA.propTypes={};EA.filterProps=["columnGap"];const TA=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=iS(t.theme,"spacing",8),r=n=>({rowGap:i0(e,n)});return Sp(t,t.rowGap,r)}return null};TA.propTypes={};TA.filterProps=["rowGap"];const TSt=nc({prop:"gridColumn"}),CSt=nc({prop:"gridRow"}),ASt=nc({prop:"gridAutoFlow"}),kSt=nc({prop:"gridAutoColumns"}),ISt=nc({prop:"gridAutoRows"}),RSt=nc({prop:"gridTemplateColumns"}),NSt=nc({prop:"gridTemplateRows"}),LSt=nc({prop:"gridTemplateAreas"}),MSt=nc({prop:"gridArea"});xA(SA,EA,TA,TSt,CSt,ASt,kSt,ISt,RSt,NSt,LSt,MSt);function P_(t,e){return e==="grey"?e:t}const PSt=nc({prop:"color",themeKey:"palette",transform:P_}),OSt=nc({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:P_}),DSt=nc({prop:"backgroundColor",themeKey:"palette",transform:P_});xA(PSt,OSt,DSt);function Kd(t){return t<=1&&t!==0?`${t*100}%`:t}const BSt=nc({prop:"width",transform:Kd}),$P=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{const n=t.theme?.breakpoints?.values?.[r]||vA[r];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Kd(r)}};return Sp(t,t.maxWidth,e)}return null};$P.filterProps=["maxWidth"];const zSt=nc({prop:"minWidth",transform:Kd}),FSt=nc({prop:"height",transform:Kd}),jSt=nc({prop:"maxHeight",transform:Kd}),VSt=nc({prop:"minHeight",transform:Kd});nc({prop:"size",cssProperty:"width",transform:Kd});nc({prop:"size",cssProperty:"height",transform:Kd});const $St=nc({prop:"boxSizing"});xA(BSt,$P,zSt,FSt,jSt,VSt,$St);const aS={border:{themeKey:"borders",transform:wf},borderTop:{themeKey:"borders",transform:wf},borderRight:{themeKey:"borders",transform:wf},borderBottom:{themeKey:"borders",transform:wf},borderLeft:{themeKey:"borders",transform:wf},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:wf},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wA},color:{themeKey:"palette",transform:P_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:P_},backgroundColor:{themeKey:"palette",transform:P_},p:{style:zu},pt:{style:zu},pr:{style:zu},pb:{style:zu},pl:{style:zu},px:{style:zu},py:{style:zu},padding:{style:zu},paddingTop:{style:zu},paddingRight:{style:zu},paddingBottom:{style:zu},paddingLeft:{style:zu},paddingX:{style:zu},paddingY:{style:zu},paddingInline:{style:zu},paddingInlineStart:{style:zu},paddingInlineEnd:{style:zu},paddingBlock:{style:zu},paddingBlockStart:{style:zu},paddingBlockEnd:{style:zu},m:{style:Bu},mt:{style:Bu},mr:{style:Bu},mb:{style:Bu},ml:{style:Bu},mx:{style:Bu},my:{style:Bu},margin:{style:Bu},marginTop:{style:Bu},marginRight:{style:Bu},marginBottom:{style:Bu},marginLeft:{style:Bu},marginX:{style:Bu},marginY:{style:Bu},marginInline:{style:Bu},marginInlineStart:{style:Bu},marginInlineEnd:{style:Bu},marginBlock:{style:Bu},marginBlockStart:{style:Bu},marginBlockEnd:{style:Bu},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:SA},rowGap:{style:TA},columnGap:{style:EA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kd},maxWidth:{style:$P},minWidth:{transform:Kd},height:{transform:Kd},maxHeight:{transform:Kd},minHeight:{transform:Kd},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function USt(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function qSt(t,e){return typeof t=="function"?t(e):t}function GSt(){function t(r,n,i,o){const u={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:g=r,themeKey:v,transform:x,style:k}=a;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const R=bA(i,v)||{};return k?k(u):Sp(u,n,O=>{let D=kT(R,x,O);return O===D&&typeof O=="string"&&(D=kT(R,x,`${r}${O==="default"?"":bn(O)}`,O)),g===!1?D:{[g]:D}})}function e(r){const{sx:n,theme:i={},nested:o}=r||{};if(!n)return null;const u=i.unstable_sxConfig??aS;function a(g){let v=g;if(typeof g=="function")v=g(i);else if(typeof g!="object")return g;if(!v)return null;const x=LX(i.breakpoints),k=Object.keys(x);let R=x;return Object.keys(v).forEach(A=>{const O=qSt(v[A],i);if(O!=null)if(typeof O=="object")if(u[A])R=j2(R,t(A,O,i,u));else{const D=Sp({theme:i},O,U=>({[A]:U}));USt(D,O)?R[A]=e({sx:O,theme:i,nested:!0}):R=j2(R,D)}else R=j2(R,t(A,O,i,u))}),!o&&i.modularCssLayers?{"@layer sx":D9(i,YL(k,R))}:D9(i,YL(k,R))}return Array.isArray(n)?n.map(a):a(n)}return e}const Ey=GSt();Ey.filterProps=["sx"];function HSt(t,e){const r=this;if(r.vars){if(!r.colorSchemes?.[t]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return r.palette.mode===t?e:{}}function CA(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:o={},...u}=t,a=Jwt(r),g=PX(i);let v=$c({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:g,shape:{...nSt,...o}},u);return v=rSt(v),v.applyStyles=HSt,v=e.reduce((x,k)=>$c(x,k),v),v.unstable_sxConfig={...aS,...u?.unstable_sxConfig},v.unstable_sx=function(k){return Ey({sx:k,theme:this})},v}function XSt(t){return Object.keys(t).length===0}function AA(t=null){const e=ht.useContext(rS);return!e||XSt(e)?t:e}const WSt=CA();function kA(t=WSt){return AA(t)}function dN(t){const e=yy(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function OX({styles:t,themeId:e,defaultTheme:r={}}){const n=kA(r),i=e&&n[e]||n;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(u=>dN(typeof u=="function"?u(i):u)):o=dN(o)),Qt.jsx(kX,{styles:o})}const YSt=t=>{const e={systemProps:{},otherProps:{}},r=t?.theme?.unstable_sxConfig??aS;return Object.keys(t).forEach(n=>{r[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function UP(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=YSt(r);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...u)=>{const a=e(...u);return pm(a)?{...n,...a}:n}:o={...n,...e},{...i,sx:o}}const F9=t=>t,KSt=()=>{let t=F9;return{configure(e){t=e},generate(e){return t(e)},reset(){t=F9}}},DX=KSt();function BX(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=BX(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Jn(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=BX(t))&&(n&&(n+=" "),n+=e);return n}function ZSt(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,o=IX("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ey);return ht.forwardRef(function(g,v){const x=kA(r),{className:k,component:R="div",...A}=UP(g);return Qt.jsx(o,{as:R,ref:v,className:Jn(k,i?i(n):n),theme:e&&x[e]||x,...A})})}const QSt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ha(t,e,r="Mui"){const n=QSt[e];return n?`${r}-${n}`:`${DX.generate(t)}-${e}`}function aa(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=ha(t,i,r)}),n}function zX(t){const{variants:e,...r}=t,n={variants:e,style:yy(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=yy(i.style))}),n}const JSt=CA();function fN(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Dv(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function t5t(t){return t?(e,r)=>r[t]:null}function e5t(t,e,r){t.theme=n5t(t.theme)?r:t.theme[e]||t.theme}function EE(t,e,r){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>EE(t,i,r));if(Array.isArray(n?.variants)){let i;if(n.isProcessed)i=r?Dv(n.style,r):n.style;else{const{variants:o,...u}=n;i=r?Dv(yy(u),r):u}return FX(t,n.variants,[i],r)}return n?.isProcessed?r?Dv(yy(n.style),r):n.style:r?Dv(yy(n),r):n}function FX(t,e,r=[],n=void 0){let i;t:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!u.props(i))continue}else for(const a in u.props)if(t[a]!==u.props[a]&&t.ownerState?.[a]!==u.props[a])continue t;typeof u.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},r.push(n?Dv(yy(u.style(i)),n):u.style(i))):r.push(n?Dv(yy(u.style),n):u.style)}return r}function jX(t={}){const{themeId:e,defaultTheme:r=JSt,rootShouldForwardProp:n=fN,slotShouldForwardProp:i=fN}=t;function o(a){e5t(a,e,r)}return(a,g={})=>{Ywt(a,Y=>Y.filter(rt=>rt!==Ey));const{name:v,slot:x,skipVariantsResolver:k,skipSx:R,overridesResolver:A=t5t(a5t(x)),...O}=g,D=v&&v.startsWith("Mui")||x?"components":"custom",U=k!==void 0?k:x&&x!=="Root"&&x!=="root"||!1,H=R||!1;let G=fN;x==="Root"||x==="root"?G=n:x?G=i:i5t(a)&&(G=void 0);const z=IX(a,{shouldForwardProp:G,label:r5t(),...O}),j=Y=>{if(Y.__emotion_real===Y)return Y;if(typeof Y=="function")return function(st){return EE(st,Y,st.theme.modularCssLayers?D:void 0)};if(pm(Y)){const rt=zX(Y);return function(it){return rt.variants?EE(it,rt,it.theme.modularCssLayers?D:void 0):it.theme.modularCssLayers?Dv(rt.style,D):rt.style}}return Y},X=(...Y)=>{const rt=[],st=Y.map(j),it=[];if(rt.push(o),v&&A&&it.push(function(dt){const wt=dt.theme.components?.[v]?.styleOverrides;if(!wt)return null;const pt={};for(const Ct in wt)pt[Ct]=EE(dt,wt[Ct],dt.theme.modularCssLayers?"theme":void 0);return A(dt,pt)}),v&&!U&&it.push(function(dt){const wt=dt.theme?.components?.[v]?.variants;return wt?FX(dt,wt,[],dt.theme.modularCssLayers?"theme":void 0):null}),H||it.push(Ey),Array.isArray(st[0])){const $=st.shift(),dt=new Array(rt.length).fill(""),mt=new Array(it.length).fill("");let wt;wt=[...dt,...$,...mt],wt.raw=[...dt,...$.raw,...mt],rt.unshift(wt)}const bt=[...rt,...st,...it],at=z(...bt);return a.muiName&&(at.muiName=a.muiName),at};return z.withConfig&&(X.withConfig=z.withConfig),X}}function r5t(t,e){return void 0}function n5t(t){for(const e in t)return!1;return!0}function i5t(t){return typeof t=="string"&&t.charCodeAt(0)>96}function a5t(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const o5t=jX();function yw(t,e,r=!1){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=i;if(o==="components"||o==="slots")n[o]={...t[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const u=t[o],a=e[o];if(!a)n[o]=u||{};else if(!u)n[o]=a;else{n[o]={...a};for(const g in u)if(Object.prototype.hasOwnProperty.call(u,g)){const v=g;n[o][v]=yw(u[v],a[v],r)}}}else o==="className"&&r&&e.className?n.className=Jn(t?.className,e?.className):o==="style"&&r&&e.style?n.style={...t?.style,...e?.style}:n[o]===void 0&&(n[o]=t[o])}return n}function VX(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:yw(e.components[r].defaultProps,n)}function s5t({props:t,name:e,defaultTheme:r,themeId:n}){let i=kA(r);return n&&(i=i[n]||i),VX({theme:i,name:e,props:t})}const Zh=typeof window<"u"?ht.useLayoutEffect:ht.useEffect;function l5t(t,e,r,n,i){const[o,u]=ht.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return Zh(()=>{if(!r)return;const a=r(t),g=()=>{u(a.matches)};return g(),a.addEventListener("change",g),()=>{a.removeEventListener("change",g)}},[t,r]),o}const u5t={...F_},$X=u5t.useSyncExternalStore;function c5t(t,e,r,n,i){const o=ht.useCallback(()=>e,[e]),u=ht.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:x}=n(t);return()=>x}return o},[o,t,n,i,r]),[a,g]=ht.useMemo(()=>{if(r===null)return[o,()=>()=>{}];const x=r(t);return[()=>x.matches,k=>(x.addEventListener("change",k),()=>{x.removeEventListener("change",k)})]},[o,r,t]);return $X(g,a,u)}function UX(t={}){const{themeId:e}=t;return function(n,i={}){let o=AA();o&&e&&(o=o[e]||o);const u=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:g=u?window.matchMedia:null,ssrMatchMedia:v=null,noSsr:x=!1}=VX({name:"MuiUseMediaQuery",props:i,theme:o});let k=typeof n=="function"?n(o):n;return k=k.replace(/^@media( ?)/m,""),k.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),($X!==void 0?c5t:l5t)(k,a,g,v,x)}}UX();function n_(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function qP(t,e=0,r=1){return n_(t,e,r)}function h5t(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ty(t){if(t.type)return t;if(t.charAt(0)==="#")return Ty(h5t(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Cg(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Cg(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const d5t=t=>{const e=Ty(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},b2=(t,e)=>{try{return d5t(t)}catch{return t}};function IA(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function qX(t){t=Ty(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),u=(v,x=(v+r/30)%12)=>i-o*Math.max(Math.min(x-3,9-x,1),-1);let a="rgb";const g=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(a+="a",g.push(e[3])),IA({type:a,values:g})}function KL(t){t=Ty(t);let e=t.type==="hsl"||t.type==="hsla"?Ty(qX(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function f5t(t,e){const r=KL(t),n=KL(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function IT(t,e){return t=Ty(t),e=qP(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,IA(t)}function _v(t,e,r){try{return IT(t,e)}catch{return t}}function RA(t,e){if(t=Ty(t),e=qP(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return IA(t)}function Us(t,e,r){try{return RA(t,e)}catch{return t}}function NA(t,e){if(t=Ty(t),e=qP(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return IA(t)}function qs(t,e,r){try{return NA(t,e)}catch{return t}}function p5t(t,e=.15){return KL(t)>.5?RA(t,e):NA(t,e)}function F5(t,e,r){try{return p5t(t,e)}catch{return t}}const GX=ht.createContext(null);function GP(){return ht.useContext(GX)}const m5t=typeof Symbol=="function"&&Symbol.for,g5t=m5t?Symbol.for("mui.nested"):"__THEME_NESTED__";function y5t(t,e){return typeof e=="function"?e(t):{...t,...e}}function v5t(t){const{children:e,theme:r}=t,n=GP(),i=ht.useMemo(()=>{const o=n===null?{...r}:y5t(n,r);return o!=null&&(o[g5t]=n!==null),o},[r,n]);return Qt.jsx(GX.Provider,{value:i,children:e})}const HX=ht.createContext();function b5t({value:t,...e}){return Qt.jsx(HX.Provider,{value:t??!0,...e})}const Sx=()=>ht.useContext(HX)??!1,XX=ht.createContext(void 0);function _5t({value:t,children:e}){return Qt.jsx(XX.Provider,{value:t,children:e})}function x5t(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?yw(i.defaultProps,n,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?yw(i,n,e.components.mergeClassNameAndStyle):n}function w5t({props:t,name:e}){const r=ht.useContext(XX);return x5t({props:t,name:e,theme:{components:r}})}let j9=0;function S5t(t){const[e,r]=ht.useState(t),n=t||e;return ht.useEffect(()=>{e==null&&(j9+=1,r(`mui-${j9}`))},[e]),n}const E5t={...F_},V9=E5t.useId;function _0(t){if(V9!==void 0){const e=V9();return t??e}return S5t(t)}function T5t(t){const e=AA(),r=_0()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Zh(()=>{const o=document.querySelector("head");if(!o)return;const u=o.firstChild;if(i){if(u&&u.hasAttribute?.("data-mui-layer-order")&&u.getAttribute("data-mui-layer-order")===r)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",r),a.textContent=i,o.prepend(a)}else o.querySelector(`style[data-mui-layer-order="${r}"]`)?.remove()},[i,r]),i?Qt.jsx(OX,{styles:i}):null}const $9={};function U9(t,e,r,n=!1){return ht.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const o=r(i),u=t?{...e,[t]:o}:o;return n?()=>u:u}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function WX(t){const{children:e,theme:r,themeId:n}=t,i=AA($9),o=GP()||$9,u=U9(n,i,r),a=U9(n,o,r,!0),g=(n?u[n]:u).direction==="rtl",v=T5t(u);return Qt.jsx(v5t,{theme:a,children:Qt.jsx(rS.Provider,{value:u,children:Qt.jsx(b5t,{value:g,children:Qt.jsxs(_5t,{value:n?u[n].components:u.components,children:[v,e]})})})})}const q9={theme:void 0};function C5t(t){let e,r;return function(i){let o=e;return(o===void 0||i.theme!==r)&&(q9.theme=i.theme,o=zX(t(q9)),e=o,r=i.theme),o}}const HP="mode",XP="color-scheme",A5t="data-color-scheme";function k5t(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=HP,colorSchemeStorageKey:o=XP,attribute:u=A5t,colorSchemeNode:a="document.documentElement",nonce:g}=t||{};let v="",x=u;if(u==="class"&&(x=".%s"),u==="data"&&(x="[data-%s]"),x.startsWith(".")){const R=x.substring(1);v+=`${a}.classList.remove('${R}'.replace('%s', light), '${R}'.replace('%s', dark));
      ${a}.classList.add('${R}'.replace('%s', colorScheme));`}const k=x.match(/\[([^[\]]+)\]/);if(k){const[R,A]=k[1].split("=");A||(v+=`${a}.removeAttribute('${R}'.replace('%s', light));
      ${a}.removeAttribute('${R}'.replace('%s', dark));`),v+=`
      ${a}.setAttribute('${R}'.replace('%s', colorScheme), ${A?`${A}.replace('%s', colorScheme)`:'""'});`}else v+=`${a}.setAttribute('${x}', colorScheme);`;return Qt.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${n}';
  const light = localStorage.getItem('${o}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function I5t(){}const R5t=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return I5t;const n=i=>{const o=i.newValue;i.key===t&&r(o)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function pN(){}function G9(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function YX(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function N5t(t){return YX(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function L5t(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:o=HP,colorSchemeStorageKey:u=XP,storageWindow:a=typeof window>"u"?void 0:window,storageManager:g=R5t,noSsr:v=!1}=t,x=i.join(","),k=i.length>1,R=ht.useMemo(()=>g?.({key:o,storageWindow:a}),[g,o,a]),A=ht.useMemo(()=>g?.({key:`${u}-light`,storageWindow:a}),[g,u,a]),O=ht.useMemo(()=>g?.({key:`${u}-dark`,storageWindow:a}),[g,u,a]),[D,U]=ht.useState(()=>{const st=R?.get(e)||e,it=A?.get(r)||r,bt=O?.get(n)||n;return{mode:st,systemMode:G9(st),lightColorScheme:it,darkColorScheme:bt}}),[H,G]=ht.useState(v||!k);ht.useEffect(()=>{G(!0)},[]);const z=N5t(D),j=ht.useCallback(st=>{U(it=>{if(st===it.mode)return it;const bt=st??e;return R?.set(bt),{...it,mode:bt,systemMode:G9(bt)}})},[R,e]),X=ht.useCallback(st=>{st?typeof st=="string"?st&&!x.includes(st)?console.error(`\`${st}\` does not exist in \`theme.colorSchemes\`.`):U(it=>{const bt={...it};return YX(it,at=>{at==="light"&&(A?.set(st),bt.lightColorScheme=st),at==="dark"&&(O?.set(st),bt.darkColorScheme=st)}),bt}):U(it=>{const bt={...it},at=st.light===null?r:st.light,$=st.dark===null?n:st.dark;return at&&(x.includes(at)?(bt.lightColorScheme=at,A?.set(at)):console.error(`\`${at}\` does not exist in \`theme.colorSchemes\`.`)),$&&(x.includes($)?(bt.darkColorScheme=$,O?.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),bt}):U(it=>(A?.set(r),O?.set(n),{...it,lightColorScheme:r,darkColorScheme:n}))},[x,A,O,r,n]),Y=ht.useCallback(st=>{D.mode==="system"&&U(it=>{const bt=st?.matches?"dark":"light";return it.systemMode===bt?it:{...it,systemMode:bt}})},[D.mode]),rt=ht.useRef(Y);return rt.current=Y,ht.useEffect(()=>{if(typeof window.matchMedia!="function"||!k)return;const st=(...bt)=>rt.current(...bt),it=window.matchMedia("(prefers-color-scheme: dark)");return it.addListener(st),st(it),()=>{it.removeListener(st)}},[k]),ht.useEffect(()=>{if(k){const st=R?.subscribe(at=>{(!at||["light","dark","system"].includes(at))&&j(at||e)})||pN,it=A?.subscribe(at=>{(!at||x.match(at))&&X({light:at})})||pN,bt=O?.subscribe(at=>{(!at||x.match(at))&&X({dark:at})})||pN;return()=>{st(),it(),bt()}}},[X,j,x,e,a,k,R,A,O]),{...D,mode:H?D.mode:void 0,systemMode:H?D.systemMode:void 0,colorScheme:H?z:void 0,setMode:j,setColorScheme:X}}const M5t="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function P5t(t){const{themeId:e,theme:r={},modeStorageKey:n=HP,colorSchemeStorageKey:i=XP,disableTransitionOnChange:o=!1,defaultColorScheme:u,resolveTheme:a}=t,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=ht.createContext(void 0),x=()=>ht.useContext(v)||g,k={},R={};function A(H){const{children:G,theme:z,modeStorageKey:j=n,colorSchemeStorageKey:X=i,disableTransitionOnChange:Y=o,storageManager:rt,storageWindow:st=typeof window>"u"?void 0:window,documentNode:it=typeof document>"u"?void 0:document,colorSchemeNode:bt=typeof document>"u"?void 0:document.documentElement,disableNestedContext:at=!1,disableStyleSheetGeneration:$=!1,defaultMode:dt="system",forceThemeRerender:mt=!1,noSsr:wt}=H,pt=ht.useRef(!1),Ct=GP(),vt=ht.useContext(v),It=!!vt&&!at,Ft=ht.useMemo(()=>z||(typeof r=="function"?r():r),[z]),Et=Ft[e],lt=Et||Ft,{colorSchemes:kt=k,components:At=R,cssVarPrefix:Nt}=lt,qt=Object.keys(kt).filter(ar=>!!kt[ar]).join(","),ie=ht.useMemo(()=>qt.split(","),[qt]),Ht=typeof u=="string"?u:u.light,ce=typeof u=="string"?u:u.dark,de=kt[Ht]&&kt[ce]?dt:kt[lt.defaultColorScheme]?.palette?.mode||lt.palette?.mode,{mode:Se,setMode:$t,systemMode:He,lightColorScheme:ke,darkColorScheme:Jt,colorScheme:Vr,setColorScheme:vr}=L5t({supportedColorSchemes:ie,defaultLightColorScheme:Ht,defaultDarkColorScheme:ce,modeStorageKey:j,colorSchemeStorageKey:X,defaultMode:de,storageManager:rt,storageWindow:st,noSsr:wt});let Dr=Se,Ie=Vr;It&&(Dr=vt.mode,Ie=vt.colorScheme);let Mr=Ie||lt.defaultColorScheme;lt.vars&&!mt&&(Mr=lt.defaultColorScheme);const ir=ht.useMemo(()=>{const ar=lt.generateThemeVars?.()||lt.vars,Or={...lt,components:At,colorSchemes:kt,cssVarPrefix:Nt,vars:ar};if(typeof Or.generateSpacing=="function"&&(Or.spacing=Or.generateSpacing()),Mr){const er=kt[Mr];er&&typeof er=="object"&&Object.keys(er).forEach(Fr=>{er[Fr]&&typeof er[Fr]=="object"?Or[Fr]={...Or[Fr],...er[Fr]}:Or[Fr]=er[Fr]})}return a?a(Or):Or},[lt,Mr,At,kt,Nt]),Rr=lt.colorSchemeSelector;Zh(()=>{if(Ie&&bt&&Rr&&Rr!=="media"){const ar=Rr;let Or=Rr;if(ar==="class"&&(Or=".%s"),ar==="data"&&(Or="[data-%s]"),ar?.startsWith("data-")&&!ar.includes("%s")&&(Or=`[${ar}="%s"]`),Or.startsWith("."))bt.classList.remove(...ie.map(er=>Or.substring(1).replace("%s",er))),bt.classList.add(Or.substring(1).replace("%s",Ie));else{const er=Or.replace("%s",Ie).match(/\[([^\]]+)\]/);if(er){const[Fr,Ze]=er[1].split("=");Ze||ie.forEach(rr=>{bt.removeAttribute(Fr.replace(Ie,rr))}),bt.setAttribute(Fr,Ze?Ze.replace(/"|'/g,""):"")}else bt.setAttribute(Or,Ie)}}},[Ie,Rr,bt,ie]),ht.useEffect(()=>{let ar;if(Y&&pt.current&&it){const Or=it.createElement("style");Or.appendChild(it.createTextNode(M5t)),it.head.appendChild(Or),window.getComputedStyle(it.body),ar=setTimeout(()=>{it.head.removeChild(Or)},1)}return()=>{clearTimeout(ar)}},[Ie,Y,it]),ht.useEffect(()=>(pt.current=!0,()=>{pt.current=!1}),[]);const Pr=ht.useMemo(()=>({allColorSchemes:ie,colorScheme:Ie,darkColorScheme:Jt,lightColorScheme:ke,mode:Dr,setColorScheme:vr,setMode:$t,systemMode:He}),[ie,Ie,Jt,ke,Dr,vr,$t,He,ir.colorSchemeSelector]);let Ir=!0;($||lt.cssVariables===!1||It&&Ct?.cssVarPrefix===Nt)&&(Ir=!1);const dr=Qt.jsxs(ht.Fragment,{children:[Qt.jsx(WX,{themeId:Et?e:void 0,theme:ir,children:G}),Ir&&Qt.jsx(kX,{styles:ir.generateStyleSheets?.()||[]})]});return It?dr:Qt.jsx(v.Provider,{value:Pr,children:dr})}const O=typeof u=="string"?u:u.light,D=typeof u=="string"?u:u.dark;return{CssVarsProvider:A,useColorScheme:x,getInitColorSchemeScript:H=>k5t({colorSchemeStorageKey:i,defaultLightColorScheme:O,defaultDarkColorScheme:D,modeStorageKey:n,...H})}}function O5t(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const H9=(t,e,r,n=[])=>{let i=t;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=n.includes(o)?[]:{}),i=i[o])})},D5t=(t,e,r)=>{function n(i,o=[],u=[]){Object.entries(i).forEach(([a,g])=>{(!r||r&&!r([...o,a]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?n(g,[...o,a],Array.isArray(g)?[...u,a]:u):e([...o,a],g,u))})}n(t)},B5t=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function mN(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},o={},u={};return D5t(t,(a,g,v)=>{if((typeof g=="string"||typeof g=="number")&&(!n||!n(a,g))){const x=`--${r?`${r}-`:""}${a.join("-")}`,k=B5t(a,g);Object.assign(i,{[x]:k}),H9(o,a,`var(${x})`,v),H9(u,a,`var(${x}, ${k})`,v)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function z5t(t,e={}){const{getSelector:r=H,disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:o}=e,{colorSchemes:u={},components:a,defaultColorScheme:g="light",...v}=t,{vars:x,css:k,varsWithDefaults:R}=mN(v,e);let A=R;const O={},{[g]:D,...U}=u;if(Object.entries(U||{}).forEach(([j,X])=>{const{vars:Y,css:rt,varsWithDefaults:st}=mN(X,e);A=$c(A,st),O[j]={css:rt,vars:Y}}),D){const{css:j,vars:X,varsWithDefaults:Y}=mN(D,e);A=$c(A,Y),O[g]={css:j,vars:X}}function H(j,X){let Y=i;if(i==="class"&&(Y=".%s"),i==="data"&&(Y="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(Y=`[${i}="%s"]`),j){if(Y==="media")return t.defaultColorScheme===j?":root":{[`@media (prefers-color-scheme: ${u[j]?.palette?.mode||j})`]:{":root":X}};if(Y)return t.defaultColorScheme===j?`:root, ${Y.replace("%s",String(j))}`:Y.replace("%s",String(j))}return":root"}return{vars:A,generateThemeVars:()=>{let j={...x};return Object.entries(O).forEach(([,{vars:X}])=>{j=$c(j,X)}),j},generateStyleSheets:()=>{const j=[],X=t.defaultColorScheme||"light";function Y(it,bt){Object.keys(bt).length&&j.push(typeof it=="string"?{[it]:{...bt}}:it)}Y(r(void 0,{...k}),k);const{[X]:rt,...st}=O;if(rt){const{css:it}=rt,bt=u[X]?.palette?.mode,at=!n&&bt?{colorScheme:bt,...it}:{...it};Y(r(X,{...at}),at)}return Object.entries(st).forEach(([it,{css:bt}])=>{const at=u[it]?.palette?.mode,$=!n&&at?{colorScheme:at,...bt}:{...bt};Y(r(it,{...$}),$)}),o&&j.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),j}}}function F5t(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}function da(t,e,r=void 0){const n={};for(const i in t){const o=t[i];let u="",a=!0;for(let g=0;g<o.length;g+=1){const v=o[g];v&&(u+=(a===!0?"":" ")+e(v),a=!1,r&&r[v]&&(u+=" "+r[v]))}n[i]=u}return n}function TE(t,e){return ht.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}const j5t=CA(),V5t=o5t("div",{name:"MuiStack",slot:"Root"});function $5t(t){return s5t({props:t,name:"MuiStack",defaultTheme:j5t})}function U5t(t,e){const r=ht.Children.toArray(t).filter(Boolean);return r.reduce((n,i,o)=>(n.push(i),o<r.length-1&&n.push(ht.cloneElement(e,{key:`separator-${o}`})),n),[])}const q5t=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],G5t=({ownerState:t,theme:e})=>{let r={display:"flex",flexDirection:"column",...Sp({theme:e},hN({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(t.spacing){const n=_A(e),i=Object.keys(e.breakpoints.values).reduce((g,v)=>((typeof t.spacing=="object"&&t.spacing[v]!=null||typeof t.direction=="object"&&t.direction[v]!=null)&&(g[v]=!0),g),{}),o=hN({values:t.direction,base:i}),u=hN({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((g,v,x)=>{if(!o[g]){const R=v>0?o[x[v-1]]:"column";o[g]=R}}),r=$c(r,Sp({theme:e},u,(g,v)=>t.useFlexGap?{gap:i0(n,g)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${q5t(v?o[v]:t.direction)}`]:i0(n,g)}}))}return r=aSt(e.breakpoints,r),r};function H5t(t={}){const{createStyledComponent:e=V5t,useThemeProps:r=$5t,componentName:n="MuiStack"}=t,i=()=>da({root:["root"]},g=>ha(n,g),{}),o=e(G5t);return ht.forwardRef(function(g,v){const x=r(g),k=UP(x),{component:R="div",direction:A="column",spacing:O=0,divider:D,children:U,className:H,useFlexGap:G=!1,...z}=k,j={direction:A,spacing:O,useFlexGap:G},X=i();return Qt.jsx(o,{as:R,ownerState:j,ref:v,className:Jn(X.root,H),...z,children:D?U5t(U,D):U})})}function KX(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fw.white,default:fw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ZX=KX();function QX(){return{text:{primary:fw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ZL=QX();function X9(t,e,r,n){const i=n.light||n,o=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=NA(t.main,i):e==="dark"&&(t.dark=RA(t.main,o)))}function W9(t,e,r,n,i){const o=i.light||i,u=i.dark||i*1.5;e[r]||(e.hasOwnProperty(n)?e[r]=e[n]:r==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:r==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function X5t(t="light"){return t==="dark"?{main:Rb[200],light:Rb[50],dark:Rb[400]}:{main:Rb[700],light:Rb[400],dark:Rb[800]}}function W5t(t="light"){return t==="dark"?{main:Ib[200],light:Ib[50],dark:Ib[400]}:{main:Ib[500],light:Ib[300],dark:Ib[700]}}function Y5t(t="light"){return t==="dark"?{main:kb[500],light:kb[300],dark:kb[700]}:{main:kb[700],light:kb[400],dark:kb[800]}}function K5t(t="light"){return t==="dark"?{main:Nb[400],light:Nb[300],dark:Nb[700]}:{main:Nb[700],light:Nb[500],dark:Nb[900]}}function Z5t(t="light"){return t==="dark"?{main:Lb[400],light:Lb[300],dark:Lb[700]}:{main:Lb[800],light:Lb[500],dark:Lb[900]}}function Q5t(t="light"){return t==="dark"?{main:Z1[400],light:Z1[300],dark:Z1[700]}:{main:"#ed6c02",light:Z1[500],dark:Z1[900]}}function J5t(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function WP(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:i,...o}=t,u=t.primary||X5t(e),a=t.secondary||W5t(e),g=t.error||Y5t(e),v=t.info||K5t(e),x=t.success||Z5t(e),k=t.warning||Q5t(e);function R(U){return i?J5t(U):f5t(U,ZL.text.primary)>=r?ZL.text.primary:ZX.text.primary}const A=({color:U,name:H,mainShade:G=500,lightShade:z=300,darkShade:j=700})=>{if(U={...U},!U.main&&U[G]&&(U.main=U[G]),!U.hasOwnProperty("main"))throw new Error(Cg(11,H?` (${H})`:"",G));if(typeof U.main!="string")throw new Error(Cg(12,H?` (${H})`:"",JSON.stringify(U.main)));return i?(W9(i,U,"light",z,n),W9(i,U,"dark",j,n)):(X9(U,"light",z,n),X9(U,"dark",j,n)),U.contrastText||(U.contrastText=R(U.main)),U};let O;return e==="light"?O=KX():e==="dark"&&(O=QX()),$c({common:{...fw},mode:e,primary:A({color:u,name:"primary"}),secondary:A({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:g,name:"error"}),warning:A({color:k,name:"warning"}),info:A({color:v,name:"info"}),success:A({color:x,name:"success"}),grey:K2t,contrastThreshold:r,getContrastText:R,augmentColor:A,tonalOffset:n,...O},o)}function tEt(t){const e={};return Object.entries(t).forEach(n=>{const[i,o]=n;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function eEt(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function rEt(t){return Math.round(t*1e5)/1e5}const Y9={textTransform:"uppercase"},K9='"Roboto", "Helvetica", "Arial", sans-serif';function JX(t,e){const{fontFamily:r=K9,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:a=700,htmlFontSize:g=16,allVariants:v,pxToRem:x,...k}=typeof e=="function"?e(t):e,R=n/14,A=x||(U=>`${U/g*R}rem`),O=(U,H,G,z,j)=>({fontFamily:r,fontWeight:U,fontSize:A(H),lineHeight:G,...r===K9?{letterSpacing:`${rEt(z/H)}em`}:{},...j,...v}),D={h1:O(i,96,1.167,-1.5),h2:O(i,60,1.2,-.5),h3:O(o,48,1.167,0),h4:O(o,34,1.235,.25),h5:O(o,24,1.334,0),h6:O(u,20,1.6,.15),subtitle1:O(o,16,1.75,.15),subtitle2:O(u,14,1.57,.1),body1:O(o,16,1.5,.15),body2:O(o,14,1.43,.15),button:O(u,14,1.75,.4,Y9),caption:O(o,12,1.66,.4),overline:O(o,12,2.66,1,Y9),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $c({htmlFontSize:g,pxToRem:A,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:a,...D},k,{clone:!1})}const nEt=.2,iEt=.14,aEt=.12;function ou(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${nEt})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${iEt})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${aEt})`].join(",")}const oEt=["none",ou(0,2,1,-1,0,1,1,0,0,1,3,0),ou(0,3,1,-2,0,2,2,0,0,1,5,0),ou(0,3,3,-2,0,3,4,0,0,1,8,0),ou(0,2,4,-1,0,4,5,0,0,1,10,0),ou(0,3,5,-1,0,5,8,0,0,1,14,0),ou(0,3,5,-1,0,6,10,0,0,1,18,0),ou(0,4,5,-2,0,7,10,1,0,2,16,1),ou(0,5,5,-3,0,8,10,1,0,3,14,2),ou(0,5,6,-3,0,9,12,1,0,3,16,2),ou(0,6,6,-3,0,10,14,1,0,4,18,3),ou(0,6,7,-4,0,11,15,1,0,4,20,3),ou(0,7,8,-4,0,12,17,2,0,5,22,4),ou(0,7,8,-4,0,13,19,2,0,5,24,4),ou(0,7,9,-4,0,14,21,2,0,5,26,4),ou(0,8,9,-5,0,15,22,2,0,6,28,5),ou(0,8,10,-5,0,16,24,2,0,6,30,5),ou(0,8,11,-5,0,17,26,2,0,6,32,5),ou(0,9,11,-5,0,18,28,2,0,7,34,6),ou(0,9,12,-6,0,19,29,2,0,7,36,6),ou(0,10,13,-6,0,20,31,3,0,8,38,7),ou(0,10,13,-6,0,21,33,3,0,8,40,7),ou(0,10,14,-6,0,22,35,3,0,8,42,7),ou(0,11,14,-7,0,23,36,3,0,9,44,8),ou(0,11,15,-7,0,24,38,3,0,9,46,8)],sEt={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},tW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Z9(t){return`${Math.round(t)}ms`}function lEt(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function uEt(t){const e={...sEt,...t.easing},r={...tW,...t.duration};return{getAutoHeightDuration:lEt,create:(i=["all"],o={})=>{const{duration:u=r.standard,easing:a=e.easeInOut,delay:g=0,...v}=o;return(Array.isArray(i)?i:[i]).map(x=>`${x} ${typeof u=="string"?u:Z9(u)} ${a} ${typeof g=="string"?g:Z9(g)}`).join(",")},...t,easing:e,duration:r}}const cEt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function hEt(t){return pm(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function eW(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let o=0;o<i.length;o++){const[u,a]=i[o];!hEt(a)||u.startsWith("unstable_")?delete n[u]:pm(a)&&(n[u]={...a},r(n[u]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Q9(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const dEt=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let r=0;for(let n=0;n<e.length;n+=1)r+=+e[n];return r};function fEt(t){Object.assign(t,{alpha(e,r){const n=this||t;return n.colorSpace?`oklch(from ${e} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:IT(e,dEt(r))},lighten(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #fff ${Q9(r)})`:NA(e,r)},darken(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #000 ${Q9(r)})`:RA(e,r)}})}function QL(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:o={},transitions:u={},typography:a={},shape:g,colorSpace:v,...x}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Cg(20));const k=WP({...o,colorSpace:v}),R=CA(t);let A=$c(R,{mixins:eEt(R.breakpoints,n),palette:k,shadows:oEt.slice(),typography:JX(k,a),transitions:uEt(u),zIndex:{...cEt}});return A=$c(A,x),A=e.reduce((O,D)=>$c(O,D),A),A.unstable_sxConfig={...aS,...x?.unstable_sxConfig},A.unstable_sx=function(D){return Ey({sx:D,theme:this})},A.toRuntimeSource=eW,fEt(A),A}function JL(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const pEt=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=JL(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function rW(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function nW(t){return t==="dark"?pEt:[]}function mEt(t){const{palette:e={mode:"light"},opacity:r,overlays:n,colorSpace:i,...o}=t,u=WP({...e,colorSpace:i});return{palette:u,opacity:{...rW(u.mode),...r},overlays:n||nW(u.mode),...o}}function gEt(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const yEt=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],vEt=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return yEt(t.cssVarPrefix).forEach(a=>{u[a]=r[a],delete r[a]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:u}}:o?{[o.replace("%s",e)]:u,[`${n}, ${o.replace("%s",e)}`]:r}:{[n]:{...r,...u}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(o)return o.replace("%s",String(e))}return n};function bEt(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function an(t,e,r){!t[e]&&r&&(t[e]=r)}function _2(t){return typeof t!="string"||!t.startsWith("hsl")?t:qX(t)}function sg(t,e){`${e}Channel`in t||(t[`${e}Channel`]=b2(_2(t[e])))}function _Et(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const em=t=>{try{return t()}catch{}},xEt=(t="mui")=>O5t(t);function gN(t,e,r,n,i){if(!r)return;r=r===!0?{}:r;const o=i==="dark"?"dark":"light";if(!n){e[i]=mEt({...r,palette:{mode:o,...r?.palette},colorSpace:t});return}const{palette:u,...a}=QL({...n,palette:{mode:o,...r?.palette},colorSpace:t});return e[i]={...r,palette:u,opacity:{...rW(o),...r?.opacity},overlays:r?.overlays||nW(o)},a}function wEt(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:u=!1,shouldSkipGeneratingVar:a=gEt,colorSchemeSelector:g=r.light&&r.dark?"media":void 0,rootSelector:v=":root",...x}=t,k=Object.keys(r)[0],R=n||(r.light&&k!=="light"?"light":k),A=xEt(o),{[R]:O,light:D,dark:U,...H}=r,G={...H};let z=O;if((R==="dark"&&!("dark"in r)||R==="light"&&!("light"in r))&&(z=!0),!z)throw new Error(Cg(21,R));let j;u&&(j="oklch");const X=gN(j,G,z,x,R);D&&!G.light&&gN(j,G,D,void 0,"light"),U&&!G.dark&&gN(j,G,U,void 0,"dark");let Y={defaultColorScheme:R,...X,cssVarPrefix:o,colorSchemeSelector:g,rootSelector:v,getCssVar:A,colorSchemes:G,font:{...tEt(X.typography),...X.font},spacing:_Et(x.spacing)};Object.keys(Y.colorSchemes).forEach(at=>{const $=Y.colorSchemes[at].palette,dt=wt=>{const pt=wt.split("-"),Ct=pt[1],vt=pt[2];return A(wt,$[Ct][vt])};$.mode==="light"&&(an($.common,"background","#fff"),an($.common,"onBackground","#000")),$.mode==="dark"&&(an($.common,"background","#000"),an($.common,"onBackground","#fff"));function mt(wt,pt,Ct){if(j){let vt;return wt===_v&&(vt=`transparent ${((1-Ct)*100).toFixed(0)}%`),wt===Us&&(vt=`#000 ${(Ct*100).toFixed(0)}%`),wt===qs&&(vt=`#fff ${(Ct*100).toFixed(0)}%`),`color-mix(in ${j}, ${pt}, ${vt})`}return wt(pt,Ct)}if(bEt($,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),$.mode==="light"){an($.Alert,"errorColor",mt(Us,$.error.light,.6)),an($.Alert,"infoColor",mt(Us,$.info.light,.6)),an($.Alert,"successColor",mt(Us,$.success.light,.6)),an($.Alert,"warningColor",mt(Us,$.warning.light,.6)),an($.Alert,"errorFilledBg",dt("palette-error-main")),an($.Alert,"infoFilledBg",dt("palette-info-main")),an($.Alert,"successFilledBg",dt("palette-success-main")),an($.Alert,"warningFilledBg",dt("palette-warning-main")),an($.Alert,"errorFilledColor",em(()=>$.getContrastText($.error.main))),an($.Alert,"infoFilledColor",em(()=>$.getContrastText($.info.main))),an($.Alert,"successFilledColor",em(()=>$.getContrastText($.success.main))),an($.Alert,"warningFilledColor",em(()=>$.getContrastText($.warning.main))),an($.Alert,"errorStandardBg",mt(qs,$.error.light,.9)),an($.Alert,"infoStandardBg",mt(qs,$.info.light,.9)),an($.Alert,"successStandardBg",mt(qs,$.success.light,.9)),an($.Alert,"warningStandardBg",mt(qs,$.warning.light,.9)),an($.Alert,"errorIconColor",dt("palette-error-main")),an($.Alert,"infoIconColor",dt("palette-info-main")),an($.Alert,"successIconColor",dt("palette-success-main")),an($.Alert,"warningIconColor",dt("palette-warning-main")),an($.AppBar,"defaultBg",dt("palette-grey-100")),an($.Avatar,"defaultBg",dt("palette-grey-400")),an($.Button,"inheritContainedBg",dt("palette-grey-300")),an($.Button,"inheritContainedHoverBg",dt("palette-grey-A100")),an($.Chip,"defaultBorder",dt("palette-grey-400")),an($.Chip,"defaultAvatarColor",dt("palette-grey-700")),an($.Chip,"defaultIconColor",dt("palette-grey-700")),an($.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),an($.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),an($.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),an($.LinearProgress,"primaryBg",mt(qs,$.primary.main,.62)),an($.LinearProgress,"secondaryBg",mt(qs,$.secondary.main,.62)),an($.LinearProgress,"errorBg",mt(qs,$.error.main,.62)),an($.LinearProgress,"infoBg",mt(qs,$.info.main,.62)),an($.LinearProgress,"successBg",mt(qs,$.success.main,.62)),an($.LinearProgress,"warningBg",mt(qs,$.warning.main,.62)),an($.Skeleton,"bg",j?mt(_v,$.text.primary,.11):`rgba(${dt("palette-text-primaryChannel")} / 0.11)`),an($.Slider,"primaryTrack",mt(qs,$.primary.main,.62)),an($.Slider,"secondaryTrack",mt(qs,$.secondary.main,.62)),an($.Slider,"errorTrack",mt(qs,$.error.main,.62)),an($.Slider,"infoTrack",mt(qs,$.info.main,.62)),an($.Slider,"successTrack",mt(qs,$.success.main,.62)),an($.Slider,"warningTrack",mt(qs,$.warning.main,.62));const wt=j?mt(Us,$.background.default,.6825):F5($.background.default,.8);an($.SnackbarContent,"bg",wt),an($.SnackbarContent,"color",em(()=>j?ZL.text.primary:$.getContrastText(wt))),an($.SpeedDialAction,"fabHoverBg",F5($.background.paper,.15)),an($.StepConnector,"border",dt("palette-grey-400")),an($.StepContent,"border",dt("palette-grey-400")),an($.Switch,"defaultColor",dt("palette-common-white")),an($.Switch,"defaultDisabledColor",dt("palette-grey-100")),an($.Switch,"primaryDisabledColor",mt(qs,$.primary.main,.62)),an($.Switch,"secondaryDisabledColor",mt(qs,$.secondary.main,.62)),an($.Switch,"errorDisabledColor",mt(qs,$.error.main,.62)),an($.Switch,"infoDisabledColor",mt(qs,$.info.main,.62)),an($.Switch,"successDisabledColor",mt(qs,$.success.main,.62)),an($.Switch,"warningDisabledColor",mt(qs,$.warning.main,.62)),an($.TableCell,"border",mt(qs,mt(_v,$.divider,1),.88)),an($.Tooltip,"bg",mt(_v,$.grey[700],.92))}if($.mode==="dark"){an($.Alert,"errorColor",mt(qs,$.error.light,.6)),an($.Alert,"infoColor",mt(qs,$.info.light,.6)),an($.Alert,"successColor",mt(qs,$.success.light,.6)),an($.Alert,"warningColor",mt(qs,$.warning.light,.6)),an($.Alert,"errorFilledBg",dt("palette-error-dark")),an($.Alert,"infoFilledBg",dt("palette-info-dark")),an($.Alert,"successFilledBg",dt("palette-success-dark")),an($.Alert,"warningFilledBg",dt("palette-warning-dark")),an($.Alert,"errorFilledColor",em(()=>$.getContrastText($.error.dark))),an($.Alert,"infoFilledColor",em(()=>$.getContrastText($.info.dark))),an($.Alert,"successFilledColor",em(()=>$.getContrastText($.success.dark))),an($.Alert,"warningFilledColor",em(()=>$.getContrastText($.warning.dark))),an($.Alert,"errorStandardBg",mt(Us,$.error.light,.9)),an($.Alert,"infoStandardBg",mt(Us,$.info.light,.9)),an($.Alert,"successStandardBg",mt(Us,$.success.light,.9)),an($.Alert,"warningStandardBg",mt(Us,$.warning.light,.9)),an($.Alert,"errorIconColor",dt("palette-error-main")),an($.Alert,"infoIconColor",dt("palette-info-main")),an($.Alert,"successIconColor",dt("palette-success-main")),an($.Alert,"warningIconColor",dt("palette-warning-main")),an($.AppBar,"defaultBg",dt("palette-grey-900")),an($.AppBar,"darkBg",dt("palette-background-paper")),an($.AppBar,"darkColor",dt("palette-text-primary")),an($.Avatar,"defaultBg",dt("palette-grey-600")),an($.Button,"inheritContainedBg",dt("palette-grey-800")),an($.Button,"inheritContainedHoverBg",dt("palette-grey-700")),an($.Chip,"defaultBorder",dt("palette-grey-700")),an($.Chip,"defaultAvatarColor",dt("palette-grey-300")),an($.Chip,"defaultIconColor",dt("palette-grey-300")),an($.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),an($.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),an($.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),an($.LinearProgress,"primaryBg",mt(Us,$.primary.main,.5)),an($.LinearProgress,"secondaryBg",mt(Us,$.secondary.main,.5)),an($.LinearProgress,"errorBg",mt(Us,$.error.main,.5)),an($.LinearProgress,"infoBg",mt(Us,$.info.main,.5)),an($.LinearProgress,"successBg",mt(Us,$.success.main,.5)),an($.LinearProgress,"warningBg",mt(Us,$.warning.main,.5)),an($.Skeleton,"bg",j?mt(_v,$.text.primary,.13):`rgba(${dt("palette-text-primaryChannel")} / 0.13)`),an($.Slider,"primaryTrack",mt(Us,$.primary.main,.5)),an($.Slider,"secondaryTrack",mt(Us,$.secondary.main,.5)),an($.Slider,"errorTrack",mt(Us,$.error.main,.5)),an($.Slider,"infoTrack",mt(Us,$.info.main,.5)),an($.Slider,"successTrack",mt(Us,$.success.main,.5)),an($.Slider,"warningTrack",mt(Us,$.warning.main,.5));const wt=j?mt(qs,$.background.default,.985):F5($.background.default,.98);an($.SnackbarContent,"bg",wt),an($.SnackbarContent,"color",em(()=>j?ZX.text.primary:$.getContrastText(wt))),an($.SpeedDialAction,"fabHoverBg",F5($.background.paper,.15)),an($.StepConnector,"border",dt("palette-grey-600")),an($.StepContent,"border",dt("palette-grey-600")),an($.Switch,"defaultColor",dt("palette-grey-300")),an($.Switch,"defaultDisabledColor",dt("palette-grey-600")),an($.Switch,"primaryDisabledColor",mt(Us,$.primary.main,.55)),an($.Switch,"secondaryDisabledColor",mt(Us,$.secondary.main,.55)),an($.Switch,"errorDisabledColor",mt(Us,$.error.main,.55)),an($.Switch,"infoDisabledColor",mt(Us,$.info.main,.55)),an($.Switch,"successDisabledColor",mt(Us,$.success.main,.55)),an($.Switch,"warningDisabledColor",mt(Us,$.warning.main,.55)),an($.TableCell,"border",mt(Us,mt(_v,$.divider,1),.68)),an($.Tooltip,"bg",mt(_v,$.grey[700],.92))}sg($.background,"default"),sg($.background,"paper"),sg($.common,"background"),sg($.common,"onBackground"),sg($,"divider"),Object.keys($).forEach(wt=>{const pt=$[wt];wt!=="tonalOffset"&&pt&&typeof pt=="object"&&(pt.main&&an($[wt],"mainChannel",b2(_2(pt.main))),pt.light&&an($[wt],"lightChannel",b2(_2(pt.light))),pt.dark&&an($[wt],"darkChannel",b2(_2(pt.dark))),pt.contrastText&&an($[wt],"contrastTextChannel",b2(_2(pt.contrastText))),wt==="text"&&(sg($[wt],"primary"),sg($[wt],"secondary")),wt==="action"&&(pt.active&&sg($[wt],"active"),pt.selected&&sg($[wt],"selected")))})}),Y=e.reduce((at,$)=>$c(at,$),Y);const rt={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:vEt(Y),enableContrastVars:u},{vars:st,generateThemeVars:it,generateStyleSheets:bt}=z5t(Y,rt);return Y.vars=st,Object.entries(Y.colorSchemes[Y.defaultColorScheme]).forEach(([at,$])=>{Y[at]=$}),Y.generateThemeVars=it,Y.generateStyleSheets=bt,Y.generateSpacing=function(){return PX(x.spacing,_A(this))},Y.getColorSchemeSelector=F5t(g),Y.spacing=Y.generateSpacing(),Y.shouldSkipGeneratingVar=a,Y.unstable_sxConfig={...aS,...x?.unstable_sxConfig},Y.unstable_sx=function($){return Ey({sx:$,theme:this})},Y.toRuntimeSource=eW,Y}function J9(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:WP({...r===!0?{}:r.palette,mode:e})})}function LA(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r?.mode,...u}=t,a=o||"light",g=i?.[a],v={...i,...r?{[a]:{...typeof g!="boolean"&&g,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return QL(t,...e);let x=r;"palette"in t||v[a]&&(v[a]!==!0?x=v[a].palette:a==="dark"&&(x={mode:"dark"}));const k=QL({...t,palette:x},...e);return k.defaultColorScheme=a,k.colorSchemes=v,k.palette.mode==="light"&&(k.colorSchemes.light={...v.light!==!0&&v.light,palette:k.palette},J9(k,"dark",v.dark)),k.palette.mode==="dark"&&(k.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:k.palette},J9(k,"light",v.light)),k}return!r&&!("light"in v)&&a==="light"&&(v.light=!0),wEt({...u,colorSchemes:v,defaultColorScheme:a,...typeof n!="boolean"&&n},...e)}const YP=LA();function Lg(){const t=kA(YP);return t[vp]||t}function MA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Oh=t=>MA(t)&&t!=="classes",Tn=jX({themeId:vp,defaultTheme:YP,rootShouldForwardProp:Oh});function SEt({theme:t,...e}){const r=vp in t?t[vp]:void 0;return Qt.jsx(WX,{...e,themeId:r?vp:void 0,theme:r||t})}const j5={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:EEt}=P5t({themeId:vp,theme:()=>LA({cssVariables:!0}),colorSchemeStorageKey:j5.colorSchemeStorageKey,modeStorageKey:j5.modeStorageKey,defaultColorScheme:{light:j5.defaultLightColorScheme,dark:j5.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:JX(t.palette,t.typography)};return e.unstable_sx=function(n){return Ey({sx:n,theme:this})},e}}),TEt=EEt;function CEt({theme:t,...e}){const r=ht.useMemo(()=>{if(typeof t=="function")return t;const n=vp in t?t[vp]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?Qt.jsx(SEt,{theme:r,...e}):Qt.jsx(TEt,{theme:t,...e})}function tV(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function AEt(t){return Qt.jsx(OX,{...t,defaultTheme:YP,themeId:vp})}function KP(t){return function(r){return Qt.jsx(AEt,{styles:typeof t=="function"?n=>t({theme:n,...r}):t})}}function kEt(){return UP}const Qi=C5t;function ga(t){return w5t(t)}function IEt(t){return ha("MuiSvgIcon",t)}aa("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const REt=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${bn(e)}`,`fontSize${bn(r)}`]};return da(i,IEt,n)},NEt=Tn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${bn(r.color)}`],e[`fontSize${bn(r.fontSize)}`]]}})(Qi(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),tM=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:a="svg",fontSize:g="medium",htmlColor:v,inheritViewBox:x=!1,titleAccess:k,viewBox:R="0 0 24 24",...A}=n,O=ht.isValidElement(i)&&i.type==="svg",D={...n,color:u,component:a,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:R,hasSvgAsChild:O},U={};x||(U.viewBox=R);const H=REt(D);return Qt.jsxs(NEt,{as:a,className:Jn(H.root,o),focusable:"false",color:v,"aria-hidden":k?void 0:!0,role:k?"img":void 0,ref:r,...U,...A,...O&&i.props,ownerState:D,children:[O?i.props.children:i,k?Qt.jsx("title",{children:k}):null]})});tM.muiName="SvgIcon";function Bl(t,e){function r(n,i){return Qt.jsx(tM,{"data-testid":void 0,ref:i,...n,children:t})}return r.muiName=tM.muiName,ht.memo(ht.forwardRef(r))}function ZP(t,e=166){let r;function n(...i){const o=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(o,e)}return n.clear=()=>{clearTimeout(r)},n}function uh(t){return t&&t.ownerDocument||document}function Ep(t){return uh(t).defaultView||window}function eV(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function tx(t){const{controlled:e,default:r,name:n,state:i="value"}=t,{current:o}=ht.useRef(e!==void 0),[u,a]=ht.useState(r),g=o?e:u,v=ht.useCallback(x=>{o||a(x)},[]);return[g,v]}function Rf(t){const e=ht.useRef(t);return Zh(()=>{e.current=t}),ht.useRef((...r)=>(0,e.current)(...r)).current}function uu(...t){const e=ht.useRef(void 0),r=ht.useCallback(n=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,a=u(n);return typeof a=="function"?a:()=>{u(null)}}return o.current=n,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},t);return ht.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}function LEt(t,e){const r=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&r>=65&&r<=90&&typeof e=="function"}function QP(t,e){if(!t)return e;function r(u,a){const g={};return Object.keys(a).forEach(v=>{LEt(v,a[v])&&typeof u[v]=="function"&&(g[v]=(...x)=>{u[v](...x),a[v](...x)})}),g}if(typeof t=="function"||typeof e=="function")return u=>{const a=typeof e=="function"?e(u):e,g=typeof t=="function"?t({...u,...a}):t,v=Jn(u?.className,a?.className,g?.className),x=r(g,a);return{...a,...g,...x,...!!v&&{className:v},...a?.style&&g?.style&&{style:{...a.style,...g.style}},...a?.sx&&g?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(g.sx)?g.sx:[g.sx]]}}};const n=e,i=r(t,n),o=Jn(n?.className,t?.className);return{...e,...t,...i,...!!o&&{className:o},...n?.style&&t?.style&&{style:{...n.style,...t.style}},...n?.sx&&t?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function iW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eM(t,e){return eM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},eM(t,e)}function aW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eM(t,e)}const rV={disabled:!1},RT=we.createContext(null);var MEt=function(e){return e.scrollTop},x2="unmounted",Rv="exited",Nv="entering",i_="entered",rM="exiting",Uf=(function(t){aW(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var u=i,a=u&&!u.isMounting?n.enter:n.appear,g;return o.appearStatus=null,n.in?a?(g=Rv,o.appearStatus=Nv):g=i_:n.unmountOnExit||n.mountOnEnter?g=x2:g=Rv,o.state={status:g},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===x2?{status:Rv}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Nv&&u!==i_&&(o=Nv):(u===Nv||u===i_)&&(o=rM)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,u,a;return o=u=a=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,a=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Nv){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:fy.findDOMNode(this);u&&MEt(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rv&&this.setState({status:x2})},r.performEnter=function(i){var o=this,u=this.props.enter,a=this.context?this.context.isMounting:i,g=this.props.nodeRef?[a]:[fy.findDOMNode(this),a],v=g[0],x=g[1],k=this.getTimeouts(),R=a?k.appear:k.enter;if(!i&&!u||rV.disabled){this.safeSetState({status:i_},function(){o.props.onEntered(v)});return}this.props.onEnter(v,x),this.safeSetState({status:Nv},function(){o.props.onEntering(v,x),o.onTransitionEnd(R,function(){o.safeSetState({status:i_},function(){o.props.onEntered(v,x)})})})},r.performExit=function(){var i=this,o=this.props.exit,u=this.getTimeouts(),a=this.props.nodeRef?void 0:fy.findDOMNode(this);if(!o||rV.disabled){this.safeSetState({status:Rv},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:rM},function(){i.props.onExiting(a),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Rv},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(a){u&&(u=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:fy.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!u||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],v=g[0],x=g[1];this.props.addEndListener(v,x)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===x2)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=iW(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return we.createElement(RT.Provider,{value:null},typeof u=="function"?u(i,a):we.cloneElement(we.Children.only(u),a))},e})(we.Component);Uf.contextType=RT;Uf.propTypes={};function Mb(){}Uf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mb,onEntering:Mb,onEntered:Mb,onExit:Mb,onExiting:Mb,onExited:Mb};Uf.UNMOUNTED=x2;Uf.EXITED=Rv;Uf.ENTERING=Nv;Uf.ENTERED=i_;Uf.EXITING=rM;function PEt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JP(t,e){var r=function(o){return e&&ht.isValidElement(o)?e(o):o},n=Object.create(null);return t&&ht.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function OEt(t,e){t=t||{},e=e||{};function r(x){return x in e?e[x]:t[x]}var n=Object.create(null),i=[];for(var o in t)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var u,a={};for(var g in e){if(n[g])for(u=0;u<n[g].length;u++){var v=n[g][u];a[n[g][u]]=r(v)}a[g]=r(g)}for(u=0;u<i.length;u++)a[i[u]]=r(i[u]);return a}function Bv(t,e,r){return r[e]!=null?r[e]:t.props[e]}function DEt(t,e){return JP(t.children,function(r){return ht.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Bv(r,"appear",t),enter:Bv(r,"enter",t),exit:Bv(r,"exit",t)})})}function BEt(t,e,r){var n=JP(t.children),i=OEt(e,n);return Object.keys(i).forEach(function(o){var u=i[o];if(ht.isValidElement(u)){var a=o in e,g=o in n,v=e[o],x=ht.isValidElement(v)&&!v.props.in;g&&(!a||x)?i[o]=ht.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:Bv(u,"exit",t),enter:Bv(u,"enter",t)}):!g&&a&&!x?i[o]=ht.cloneElement(u,{in:!1}):g&&a&&ht.isValidElement(v)&&(i[o]=ht.cloneElement(u,{onExited:r.bind(null,u),in:v.props.in,exit:Bv(u,"exit",t),enter:Bv(u,"enter",t)}))}}),i}var zEt=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},FEt={component:"div",childFactory:function(e){return e}},tO=(function(t){aW(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var u=o.handleExited.bind(PEt(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var u=o.children,a=o.handleExited,g=o.firstRender;return{children:g?DEt(i,a):BEt(i,u,a),firstRender:!1}},r.handleExited=function(i,o){var u=JP(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var g=CT({},a.children);return delete g[i.key],{children:g}}))},r.render=function(){var i=this.props,o=i.component,u=i.childFactory,a=iW(i,["component","childFactory"]),g=this.state.contextValue,v=zEt(this.state.children).map(u);return delete a.appear,delete a.enter,delete a.exit,o===null?we.createElement(RT.Provider,{value:g},v):we.createElement(RT.Provider,{value:g},we.createElement(o,a,v))},e})(we.Component);tO.propTypes={};tO.defaultProps=FEt;const nV={};function oW(t,e){const r=ht.useRef(nV);return r.current===nV&&(r.current=t(e)),r}const jEt=[];function VEt(t){ht.useEffect(t,jEt)}class PA{static create(){return new PA}currentId=null;start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function zv(){const t=oW(PA.create).current;return VEt(t.disposeEffect),t}const eO=t=>t.scrollTop;function Cy(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function $Et(t){return ha("MuiCollapse",t)}aa("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const UEt=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return da(n,$Et,r)},qEt=Tn("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(Qi(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),GEt=Tn("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),HEt=Tn("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),NT=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:u,collapsedSize:a="0px",component:g,easing:v,in:x,onEnter:k,onEntered:R,onEntering:A,onExit:O,onExited:D,onExiting:U,orientation:H="vertical",style:G,timeout:z=tW.standard,TransitionComponent:j=Uf,...X}=n,Y={...n,orientation:H,collapsedSize:a},rt=UEt(Y),st=Lg(),it=zv(),bt=ht.useRef(null),at=ht.useRef(),$=typeof a=="number"?`${a}px`:a,dt=H==="horizontal",mt=dt?"width":"height",wt=ht.useRef(null),pt=uu(r,wt),Ct=qt=>ie=>{if(qt){const Ht=wt.current;ie===void 0?qt(Ht):qt(Ht,ie)}},vt=()=>bt.current?bt.current[dt?"clientWidth":"clientHeight"]:0,It=Ct((qt,ie)=>{bt.current&&dt&&(bt.current.style.position="absolute"),qt.style[mt]=$,k&&k(qt,ie)}),Ft=Ct((qt,ie)=>{const Ht=vt();bt.current&&dt&&(bt.current.style.position="");const{duration:ce,easing:de}=Cy({style:G,timeout:z,easing:v},{mode:"enter"});if(z==="auto"){const Se=st.transitions.getAutoHeightDuration(Ht);qt.style.transitionDuration=`${Se}ms`,at.current=Se}else qt.style.transitionDuration=typeof ce=="string"?ce:`${ce}ms`;qt.style[mt]=`${Ht}px`,qt.style.transitionTimingFunction=de,A&&A(qt,ie)}),Et=Ct((qt,ie)=>{qt.style[mt]="auto",R&&R(qt,ie)}),lt=Ct(qt=>{qt.style[mt]=`${vt()}px`,O&&O(qt)}),kt=Ct(D),At=Ct(qt=>{const ie=vt(),{duration:Ht,easing:ce}=Cy({style:G,timeout:z,easing:v},{mode:"exit"});if(z==="auto"){const de=st.transitions.getAutoHeightDuration(ie);qt.style.transitionDuration=`${de}ms`,at.current=de}else qt.style.transitionDuration=typeof Ht=="string"?Ht:`${Ht}ms`;qt.style[mt]=$,qt.style.transitionTimingFunction=ce,U&&U(qt)}),Nt=qt=>{z==="auto"&&it.start(at.current||0,qt),i&&i(wt.current,qt)};return Qt.jsx(j,{in:x,onEnter:It,onEntered:Et,onEntering:Ft,onExit:lt,onExited:kt,onExiting:At,addEndListener:Nt,nodeRef:wt,timeout:z==="auto"?null:z,...X,children:(qt,{ownerState:ie,...Ht})=>Qt.jsx(qEt,{as:g,className:Jn(rt.root,u,{entered:rt.entered,exited:!x&&$==="0px"&&rt.hidden}[qt]),style:{[dt?"minWidth":"minHeight"]:$,...G},ref:pt,ownerState:{...Y,state:qt},...Ht,children:Qt.jsx(GEt,{ownerState:{...Y,state:qt},className:rt.wrapper,ref:bt,children:Qt.jsx(HEt,{ownerState:{...Y,state:qt},className:rt.wrapperInner,children:o})})})})});NT&&(NT.muiSupportAuto=!0);function XEt(t){return ha("MuiPaper",t)}aa("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const WEt=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return da(o,XEt,i)},YEt=Tn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(Qi(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ex=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiPaper"}),i=Lg(),{className:o,component:u="div",elevation:a=1,square:g=!1,variant:v="elevation",...x}=n,k={...n,component:u,elevation:a,square:g,variant:v},R=WEt(k);return Qt.jsx(YEt,{as:u,ownerState:k,className:Jn(R.root,o),ref:r,...x,style:{...v==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${IT("#fff",JL(a))}, ${IT("#fff",JL(a))})`}},...x.style}})});function Rm(t){return typeof t=="string"}function sW(t,e,r){return t===void 0||Rm(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function lW(t,e,r){return typeof t=="function"?t(e,r):t}function V2(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function iV(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function uW(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=t;if(!e){const A=Jn(r?.className,o,i?.className,n?.className),O={...r?.style,...i?.style,...n?.style},D={...r,...i,...n};return A.length>0&&(D.className=A),Object.keys(O).length>0&&(D.style=O),{props:D,internalRef:void 0}}const u=V2({...i,...n}),a=iV(n),g=iV(i),v=e(u),x=Jn(v?.className,r?.className,o,i?.className,n?.className),k={...v?.style,...r?.style,...i?.style,...n?.style},R={...v,...r,...g,...a};return x.length>0&&(R.className=x),Object.keys(k).length>0&&(R.style=k),{props:R,internalRef:v.ref}}function ma(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:a=!1,...g}=e,{component:v,slots:x={[t]:void 0},slotProps:k={[t]:void 0},...R}=o,A=x[t]||n,O=lW(k[t],i),{props:{component:D,...U},internalRef:H}=uW({className:r,...g,externalForwardedProps:t==="root"?R:void 0,externalSlotProps:O}),G=uu(H,O?.ref,e.ref),z=t==="root"?D||v:D,j=sW(A,{...t==="root"&&!v&&!x[t]&&u,...t!=="root"&&!x[t]&&u,...U,...z&&!a&&{as:z},...z&&a&&{component:z},ref:G},i);return[A,j]}function ex(t){try{return t.matches(":focus-visible")}catch{}return!1}class LT{static create(){return new LT}static use(){const e=oW(LT.create).current,[r,n]=ht.useState(!1);return e.shouldMount=r,e.setShouldMount=n,ht.useEffect(e.mountEffect,[r]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=ZEt(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function KEt(){return LT.use()}function ZEt(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function QEt(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:u,in:a,onExited:g,timeout:v}=t,[x,k]=ht.useState(!1),R=Jn(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),A={width:u,height:u,top:-(u/2)+o,left:-(u/2)+i},O=Jn(r.child,x&&r.childLeaving,n&&r.childPulsate);return!a&&!x&&k(!0),ht.useEffect(()=>{if(!a&&g!=null){const D=setTimeout(g,v);return()=>{clearTimeout(D)}}},[g,a,v]),Qt.jsx("span",{className:R,style:A,children:Qt.jsx("span",{className:O})})}const vf=aa("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),nM=550,JEt=80,tTt=nS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,eTt=nS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,rTt=nS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,nTt=Tn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),iTt=Tn(QEt,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${vf.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${tTt};
    animation-duration: ${nM}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${vf.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${vf.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${vf.childLeaving} {
    opacity: 0;
    animation-name: ${eTt};
    animation-duration: ${nM}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${vf.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${rTt};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,aTt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:u,...a}=n,[g,v]=ht.useState([]),x=ht.useRef(0),k=ht.useRef(null);ht.useEffect(()=>{k.current&&(k.current(),k.current=null)},[g]);const R=ht.useRef(!1),A=zv(),O=ht.useRef(null),D=ht.useRef(null),U=ht.useCallback(j=>{const{pulsate:X,rippleX:Y,rippleY:rt,rippleSize:st,cb:it}=j;v(bt=>[...bt,Qt.jsx(iTt,{classes:{ripple:Jn(o.ripple,vf.ripple),rippleVisible:Jn(o.rippleVisible,vf.rippleVisible),ripplePulsate:Jn(o.ripplePulsate,vf.ripplePulsate),child:Jn(o.child,vf.child),childLeaving:Jn(o.childLeaving,vf.childLeaving),childPulsate:Jn(o.childPulsate,vf.childPulsate)},timeout:nM,pulsate:X,rippleX:Y,rippleY:rt,rippleSize:st},x.current)]),x.current+=1,k.current=it},[o]),H=ht.useCallback((j={},X={},Y=()=>{})=>{const{pulsate:rt=!1,center:st=i||X.pulsate,fakeElement:it=!1}=X;if(j?.type==="mousedown"&&R.current){R.current=!1;return}j?.type==="touchstart"&&(R.current=!0);const bt=it?null:D.current,at=bt?bt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,dt,mt;if(st||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)$=Math.round(at.width/2),dt=Math.round(at.height/2);else{const{clientX:wt,clientY:pt}=j.touches&&j.touches.length>0?j.touches[0]:j;$=Math.round(wt-at.left),dt=Math.round(pt-at.top)}if(st)mt=Math.sqrt((2*at.width**2+at.height**2)/3),mt%2===0&&(mt+=1);else{const wt=Math.max(Math.abs((bt?bt.clientWidth:0)-$),$)*2+2,pt=Math.max(Math.abs((bt?bt.clientHeight:0)-dt),dt)*2+2;mt=Math.sqrt(wt**2+pt**2)}j?.touches?O.current===null&&(O.current=()=>{U({pulsate:rt,rippleX:$,rippleY:dt,rippleSize:mt,cb:Y})},A.start(JEt,()=>{O.current&&(O.current(),O.current=null)})):U({pulsate:rt,rippleX:$,rippleY:dt,rippleSize:mt,cb:Y})},[i,U,A]),G=ht.useCallback(()=>{H({},{pulsate:!0})},[H]),z=ht.useCallback((j,X)=>{if(A.clear(),j?.type==="touchend"&&O.current){O.current(),O.current=null,A.start(0,()=>{z(j,X)});return}O.current=null,v(Y=>Y.length>0?Y.slice(1):Y),k.current=X},[A]);return ht.useImperativeHandle(r,()=>({pulsate:G,start:H,stop:z}),[G,H,z]),Qt.jsx(nTt,{className:Jn(vf.root,o.root,u),ref:D,...a,children:Qt.jsx(tO,{component:null,exit:!0,children:g})})});function oTt(t){return ha("MuiButtonBase",t)}const sTt=aa("MuiButtonBase",["root","disabled","focusVisible"]),lTt=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,u=da({root:["root",e&&"disabled",r&&"focusVisible"]},oTt,i);return r&&n&&(u.root+=` ${n}`),u},uTt=Tn("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${sTt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ay=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:u,className:a,component:g="button",disabled:v=!1,disableRipple:x=!1,disableTouchRipple:k=!1,focusRipple:R=!1,focusVisibleClassName:A,LinkComponent:O="a",onBlur:D,onClick:U,onContextMenu:H,onDragLeave:G,onFocus:z,onFocusVisible:j,onKeyDown:X,onKeyUp:Y,onMouseDown:rt,onMouseLeave:st,onMouseUp:it,onTouchEnd:bt,onTouchMove:at,onTouchStart:$,tabIndex:dt=0,TouchRippleProps:mt,touchRippleRef:wt,type:pt,...Ct}=n,vt=ht.useRef(null),It=KEt(),Ft=uu(It.ref,wt),[Et,lt]=ht.useState(!1);v&&Et&&lt(!1),ht.useImperativeHandle(i,()=>({focusVisible:()=>{lt(!0),vt.current.focus()}}),[]);const kt=It.shouldMount&&!x&&!v;ht.useEffect(()=>{Et&&R&&!x&&It.pulsate()},[x,R,Et,It]);const At=lg(It,"start",rt,k),Nt=lg(It,"stop",H,k),qt=lg(It,"stop",G,k),ie=lg(It,"stop",it,k),Ht=lg(It,"stop",Rr=>{Et&&Rr.preventDefault(),st&&st(Rr)},k),ce=lg(It,"start",$,k),de=lg(It,"stop",bt,k),Se=lg(It,"stop",at,k),$t=lg(It,"stop",Rr=>{ex(Rr.target)||lt(!1),D&&D(Rr)},!1),He=Rf(Rr=>{vt.current||(vt.current=Rr.currentTarget),ex(Rr.target)&&(lt(!0),j&&j(Rr)),z&&z(Rr)}),ke=()=>{const Rr=vt.current;return g&&g!=="button"&&!(Rr.tagName==="A"&&Rr.href)},Jt=Rf(Rr=>{R&&!Rr.repeat&&Et&&Rr.key===" "&&It.stop(Rr,()=>{It.start(Rr)}),Rr.target===Rr.currentTarget&&ke()&&Rr.key===" "&&Rr.preventDefault(),X&&X(Rr),Rr.target===Rr.currentTarget&&ke()&&Rr.key==="Enter"&&!v&&(Rr.preventDefault(),U&&U(Rr))}),Vr=Rf(Rr=>{R&&Rr.key===" "&&Et&&!Rr.defaultPrevented&&It.stop(Rr,()=>{It.pulsate(Rr)}),Y&&Y(Rr),U&&Rr.target===Rr.currentTarget&&ke()&&Rr.key===" "&&!Rr.defaultPrevented&&U(Rr)});let vr=g;vr==="button"&&(Ct.href||Ct.to)&&(vr=O);const Dr={};vr==="button"?(Dr.type=pt===void 0?"button":pt,Dr.disabled=v):(!Ct.href&&!Ct.to&&(Dr.role="button"),v&&(Dr["aria-disabled"]=v));const Ie=uu(r,vt),Mr={...n,centerRipple:o,component:g,disabled:v,disableRipple:x,disableTouchRipple:k,focusRipple:R,tabIndex:dt,focusVisible:Et},ir=lTt(Mr);return Qt.jsxs(uTt,{as:vr,className:Jn(ir.root,a),ownerState:Mr,onBlur:$t,onClick:U,onContextMenu:Nt,onFocus:He,onKeyDown:Jt,onKeyUp:Vr,onMouseDown:At,onMouseLeave:Ht,onMouseUp:ie,onDragLeave:qt,onTouchEnd:de,onTouchMove:Se,onTouchStart:ce,ref:Ie,tabIndex:v?-1:dt,type:pt,...Dr,...Ct,children:[u,kt?Qt.jsx(aTt,{ref:Ft,center:o,...mt}):null]})});function lg(t,e,r,n=!1){return Rf(i=>(r&&r(i),n||t[e](i),!0))}function cTt(t){return typeof t.main=="string"}function hTt(t,e=[]){if(!cTt(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function lu(t=[]){return([,e])=>e&&hTt(e,t)}function dTt(t){return ha("MuiAlert",t)}const aV=aa("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function fTt(t){return ha("MuiCircularProgress",t)}aa("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const up=44,iM=nS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,aM=nS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,pTt=typeof iM!="string"?FP`
        animation: ${iM} 1.4s linear infinite;
      `:null,mTt=typeof aM!="string"?FP`
        animation: ${aM} 1.4s ease-in-out infinite;
      `:null,gTt=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,o={root:["root",r,`color${bn(n)}`],svg:["svg"],track:["track"],circle:["circle",`circle${bn(r)}`,i&&"circleDisableShrink"]};return da(o,fTt,e)},yTt=Tn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${bn(r.color)}`]]}})(Qi(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:pTt||{animation:`${iM} 1.4s linear infinite`}},...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),vTt=Tn("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),bTt=Tn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${bn(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(Qi(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:mTt||{animation:`${aM} 1.4s ease-in-out infinite`}}]}))),_Tt=Tn("circle",{name:"MuiCircularProgress",slot:"Track"})(Qi(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),MT=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:u=!1,enableTrackSlot:a=!1,size:g=40,style:v,thickness:x=3.6,value:k=0,variant:R="indeterminate",...A}=n,O={...n,color:o,disableShrink:u,size:g,thickness:x,value:k,variant:R,enableTrackSlot:a},D=gTt(O),U={},H={},G={};if(R==="determinate"){const z=2*Math.PI*((up-x)/2);U.strokeDasharray=z.toFixed(3),G["aria-valuenow"]=Math.round(k),U.strokeDashoffset=`${((100-k)/100*z).toFixed(3)}px`,H.transform="rotate(-90deg)"}return Qt.jsx(yTt,{className:Jn(D.root,i),style:{width:g,height:g,...H,...v},ownerState:O,ref:r,role:"progressbar",...G,...A,children:Qt.jsxs(vTt,{className:D.svg,ownerState:O,viewBox:`${up/2} ${up/2} ${up} ${up}`,children:[a?Qt.jsx(_Tt,{className:D.track,ownerState:O,cx:up,cy:up,r:(up-x)/2,fill:"none",strokeWidth:x,"aria-hidden":"true"}):null,Qt.jsx(bTt,{className:D.circle,style:U,ownerState:O,cx:up,cy:up,r:(up-x)/2,fill:"none",strokeWidth:x})]})})});function xTt(t){return ha("MuiIconButton",t)}const oV=aa("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),wTt=t=>{const{classes:e,disabled:r,color:n,edge:i,size:o,loading:u}=t,a={root:["root",u&&"loading",r&&"disabled",n!=="default"&&`color${bn(n)}`,i&&`edge${bn(i)}`,`size${bn(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return da(a,xTt,e)},STt=Tn(Ay,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${bn(r.color)}`],r.edge&&e[`edge${bn(r.edge)}`],e[`size${bn(r.size)}`]]}})(Qi(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Qi(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${oV.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${oV.loading}`]:{color:"transparent"}}))),ETt=Tn("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Xd=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:u,color:a="default",disabled:g=!1,disableFocusRipple:v=!1,size:x="medium",id:k,loading:R=null,loadingIndicator:A,...O}=n,D=_0(k),U=A??Qt.jsx(MT,{"aria-labelledby":D,color:"inherit",size:16}),H={...n,edge:i,color:a,disabled:g,disableFocusRipple:v,loading:R,loadingIndicator:U,size:x},G=wTt(H);return Qt.jsxs(STt,{id:R?D:k,className:Jn(G.root,u),centerRipple:!0,focusRipple:!v,disabled:g||R,ref:r,...O,ownerState:H,children:[typeof R=="boolean"&&Qt.jsx("span",{className:G.loadingWrapper,style:{display:"contents"},children:Qt.jsx(ETt,{className:G.loadingIndicator,ownerState:H,children:R&&U})}),o]})}),TTt=Bl(Qt.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),CTt=Bl(Qt.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),ATt=Bl(Qt.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),kTt=Bl(Qt.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),ITt=Bl(Qt.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),RTt=t=>{const{variant:e,color:r,severity:n,classes:i}=t,o={root:["root",`color${bn(r||n)}`,`${e}${bn(r||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return da(o,dTt,i)},NTt=Tn(Ex,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${bn(r.color||r.severity)}`]]}})(Qi(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,r=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(lu(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:r(t.palette[n].light,.9),[`& .${aV.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(lu(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${aV.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(lu(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),LTt=Tn("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),MTt=Tn("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),PTt=Tn("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),sV={success:Qt.jsx(TTt,{fontSize:"inherit"}),warning:Qt.jsx(CTt,{fontSize:"inherit"}),error:Qt.jsx(ATt,{fontSize:"inherit"}),info:Qt.jsx(kTt,{fontSize:"inherit"})},OTt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiAlert"}),{action:i,children:o,className:u,closeText:a="Close",color:g,components:v={},componentsProps:x={},icon:k,iconMapping:R=sV,onClose:A,role:O="alert",severity:D="success",slotProps:U={},slots:H={},variant:G="standard",...z}=n,j={...n,color:g,severity:D,variant:G,colorSeverity:g||D},X=RTt(j),Y={slots:{closeButton:v.CloseButton,closeIcon:v.CloseIcon,...H},slotProps:{...x,...U}},[rt,st]=ma("root",{ref:r,shouldForwardComponentProp:!0,className:Jn(X.root,u),elementType:NTt,externalForwardedProps:{...Y,...z},ownerState:j,additionalProps:{role:O,elevation:0}}),[it,bt]=ma("icon",{className:X.icon,elementType:LTt,externalForwardedProps:Y,ownerState:j}),[at,$]=ma("message",{className:X.message,elementType:MTt,externalForwardedProps:Y,ownerState:j}),[dt,mt]=ma("action",{className:X.action,elementType:PTt,externalForwardedProps:Y,ownerState:j}),[wt,pt]=ma("closeButton",{elementType:Xd,externalForwardedProps:Y,ownerState:j}),[Ct,vt]=ma("closeIcon",{elementType:ITt,externalForwardedProps:Y,ownerState:j});return Qt.jsxs(rt,{...st,children:[k!==!1?Qt.jsx(it,{...bt,children:k||R[D]||sV[D]}):null,Qt.jsx(at,{...$,children:o}),i!=null?Qt.jsx(dt,{...mt,children:i}):null,i==null&&A?Qt.jsx(dt,{...mt,children:Qt.jsx(wt,{size:"small","aria-label":a,title:a,color:"inherit",onClick:A,...pt,children:Qt.jsx(Ct,{fontSize:"small",...vt})})}):null]})});function DTt(t){return ha("MuiTypography",t)}const lV=aa("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),BTt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},zTt=kEt(),FTt=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:u}=t,a={root:["root",o,t.align!=="inherit"&&`align${bn(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return da(a,DTt,u)},jTt=Tn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${bn(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(Qi(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,r])=>e!=="inherit"&&r&&typeof r=="object").map(([e,r])=>({props:{variant:e},style:r})),...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${bn(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),uV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Io=ht.forwardRef(function(e,r){const{color:n,...i}=ga({props:e,name:"MuiTypography"}),o=!BTt[n],u=zTt({...i,...o&&{color:n}}),{align:a="inherit",className:g,component:v,gutterBottom:x=!1,noWrap:k=!1,paragraph:R=!1,variant:A="body1",variantMapping:O=uV,...D}=u,U={...u,align:a,color:n,className:g,component:v,gutterBottom:x,noWrap:k,paragraph:R,variant:A,variantMapping:O},H=v||(R?"p":O[A]||uV[A])||"span",G=FTt(U);return Qt.jsx(jTt,{as:H,ref:r,className:Jn(G.root,g),...D,ownerState:U,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...D.style}})});function VTt(t){return ha("MuiAppBar",t)}aa("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const $Tt=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${bn(e)}`,`position${bn(r)}`]};return da(i,VTt,n)},cV=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,UTt=Tn(Ex,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${bn(r.position)}`],e[`color${bn(r.color)}`]]}})(Qi(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(lu(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?cV(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?cV(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),qTt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:u=!1,position:a="fixed",...g}=n,v={...n,color:o,position:a,enableColorOnDark:u},x=$Tt(v);return Qt.jsx(UTt,{square:!0,component:"header",ownerState:v,elevation:4,className:Jn(x.root,i,a==="fixed"&&"mui-fixed"),ref:r,...g})});var md="top",Bf="bottom",zf="right",gd="left",rO="auto",oS=[md,Bf,zf,gd],rx="start",vw="end",GTt="clippingParents",cW="viewport",J1="popper",HTt="reference",hV=oS.reduce(function(t,e){return t.concat([e+"-"+rx,e+"-"+vw])},[]),hW=[].concat(oS,[rO]).reduce(function(t,e){return t.concat([e,e+"-"+rx,e+"-"+vw])},[]),XTt="beforeRead",WTt="read",YTt="afterRead",KTt="beforeMain",ZTt="main",QTt="afterMain",JTt="beforeWrite",tCt="write",eCt="afterWrite",rCt=[XTt,WTt,YTt,KTt,ZTt,QTt,JTt,tCt,eCt];function Pm(t){return t?(t.nodeName||"").toLowerCase():null}function af(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function a0(t){var e=af(t).Element;return t instanceof e||t instanceof Element}function Nf(t){var e=af(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function nO(t){if(typeof ShadowRoot>"u")return!1;var e=af(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function nCt(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!Nf(o)||!Pm(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(u){var a=i[u];a===!1?o.removeAttribute(u):o.setAttribute(u,a===!0?"":a)}))})}function iCt(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},u=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=u.reduce(function(g,v){return g[v]="",g},{});!Nf(i)||!Pm(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(g){i.removeAttribute(g)}))})}}const aCt={name:"applyStyles",enabled:!0,phase:"write",fn:nCt,effect:iCt,requires:["computeStyles"]};function Nm(t){return t.split("-")[0]}var Hv=Math.max,PT=Math.min,nx=Math.round;function oM(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dW(){return!/^((?!chrome|android).)*safari/i.test(oM())}function ix(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&Nf(t)&&(i=t.offsetWidth>0&&nx(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&nx(n.height)/t.offsetHeight||1);var u=a0(t)?af(t):window,a=u.visualViewport,g=!dW()&&r,v=(n.left+(g&&a?a.offsetLeft:0))/i,x=(n.top+(g&&a?a.offsetTop:0))/o,k=n.width/i,R=n.height/o;return{width:k,height:R,top:x,right:v+k,bottom:x+R,left:v,x:v,y:x}}function iO(t){var e=ix(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function fW(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&nO(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ag(t){return af(t).getComputedStyle(t)}function oCt(t){return["table","td","th"].indexOf(Pm(t))>=0}function By(t){return((a0(t)?t.ownerDocument:t.document)||window.document).documentElement}function OA(t){return Pm(t)==="html"?t:t.assignedSlot||t.parentNode||(nO(t)?t.host:null)||By(t)}function dV(t){return!Nf(t)||Ag(t).position==="fixed"?null:t.offsetParent}function sCt(t){var e=/firefox/i.test(oM()),r=/Trident/i.test(oM());if(r&&Nf(t)){var n=Ag(t);if(n.position==="fixed")return null}var i=OA(t);for(nO(i)&&(i=i.host);Nf(i)&&["html","body"].indexOf(Pm(i))<0;){var o=Ag(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function sS(t){for(var e=af(t),r=dV(t);r&&oCt(r)&&Ag(r).position==="static";)r=dV(r);return r&&(Pm(r)==="html"||Pm(r)==="body"&&Ag(r).position==="static")?e:r||sCt(t)||e}function aO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $2(t,e,r){return Hv(t,PT(e,r))}function lCt(t,e,r){var n=$2(t,e,r);return n>r?r:n}function pW(){return{top:0,right:0,bottom:0,left:0}}function mW(t){return Object.assign({},pW(),t)}function gW(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var uCt=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,mW(typeof e!="number"?e:gW(e,oS))};function cCt(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,u=r.modifiersData.popperOffsets,a=Nm(r.placement),g=aO(a),v=[gd,zf].indexOf(a)>=0,x=v?"height":"width";if(!(!o||!u)){var k=uCt(i.padding,r),R=iO(o),A=g==="y"?md:gd,O=g==="y"?Bf:zf,D=r.rects.reference[x]+r.rects.reference[g]-u[g]-r.rects.popper[x],U=u[g]-r.rects.reference[g],H=sS(o),G=H?g==="y"?H.clientHeight||0:H.clientWidth||0:0,z=D/2-U/2,j=k[A],X=G-R[x]-k[O],Y=G/2-R[x]/2+z,rt=$2(j,Y,X),st=g;r.modifiersData[n]=(e={},e[st]=rt,e.centerOffset=rt-Y,e)}}function hCt(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||fW(e.elements.popper,i)&&(e.elements.arrow=i))}const dCt={name:"arrow",enabled:!0,phase:"main",fn:cCt,effect:hCt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ax(t){return t.split("-")[1]}var fCt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pCt(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:nx(r*i)/i||0,y:nx(n*i)/i||0}}function fV(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,u=t.offsets,a=t.position,g=t.gpuAcceleration,v=t.adaptive,x=t.roundOffsets,k=t.isFixed,R=u.x,A=R===void 0?0:R,O=u.y,D=O===void 0?0:O,U=typeof x=="function"?x({x:A,y:D}):{x:A,y:D};A=U.x,D=U.y;var H=u.hasOwnProperty("x"),G=u.hasOwnProperty("y"),z=gd,j=md,X=window;if(v){var Y=sS(r),rt="clientHeight",st="clientWidth";if(Y===af(r)&&(Y=By(r),Ag(Y).position!=="static"&&a==="absolute"&&(rt="scrollHeight",st="scrollWidth")),Y=Y,i===md||(i===gd||i===zf)&&o===vw){j=Bf;var it=k&&Y===X&&X.visualViewport?X.visualViewport.height:Y[rt];D-=it-n.height,D*=g?1:-1}if(i===gd||(i===md||i===Bf)&&o===vw){z=zf;var bt=k&&Y===X&&X.visualViewport?X.visualViewport.width:Y[st];A-=bt-n.width,A*=g?1:-1}}var at=Object.assign({position:a},v&&fCt),$=x===!0?pCt({x:A,y:D},af(r)):{x:A,y:D};if(A=$.x,D=$.y,g){var dt;return Object.assign({},at,(dt={},dt[j]=G?"0":"",dt[z]=H?"0":"",dt.transform=(X.devicePixelRatio||1)<=1?"translate("+A+"px, "+D+"px)":"translate3d("+A+"px, "+D+"px, 0)",dt))}return Object.assign({},at,(e={},e[j]=G?D+"px":"",e[z]=H?A+"px":"",e.transform="",e))}function mCt(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,u=o===void 0?!0:o,a=r.roundOffsets,g=a===void 0?!0:a,v={placement:Nm(e.placement),variation:ax(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fV(Object.assign({},v,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fV(Object.assign({},v,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const gCt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mCt,data:{}};var V5={passive:!0};function yCt(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,u=n.resize,a=u===void 0?!0:u,g=af(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&v.forEach(function(x){x.addEventListener("scroll",r.update,V5)}),a&&g.addEventListener("resize",r.update,V5),function(){o&&v.forEach(function(x){x.removeEventListener("scroll",r.update,V5)}),a&&g.removeEventListener("resize",r.update,V5)}}const vCt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yCt,data:{}};var bCt={left:"right",right:"left",bottom:"top",top:"bottom"};function CE(t){return t.replace(/left|right|bottom|top/g,function(e){return bCt[e]})}var _Ct={start:"end",end:"start"};function pV(t){return t.replace(/start|end/g,function(e){return _Ct[e]})}function oO(t){var e=af(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function sO(t){return ix(By(t)).left+oO(t).scrollLeft}function xCt(t,e){var r=af(t),n=By(t),i=r.visualViewport,o=n.clientWidth,u=n.clientHeight,a=0,g=0;if(i){o=i.width,u=i.height;var v=dW();(v||!v&&e==="fixed")&&(a=i.offsetLeft,g=i.offsetTop)}return{width:o,height:u,x:a+sO(t),y:g}}function wCt(t){var e,r=By(t),n=oO(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Hv(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=Hv(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+sO(t),g=-n.scrollTop;return Ag(i||r).direction==="rtl"&&(a+=Hv(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:u,x:a,y:g}}function lO(t){var e=Ag(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function yW(t){return["html","body","#document"].indexOf(Pm(t))>=0?t.ownerDocument.body:Nf(t)&&lO(t)?t:yW(OA(t))}function U2(t,e){var r;e===void 0&&(e=[]);var n=yW(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=af(n),u=i?[o].concat(o.visualViewport||[],lO(n)?n:[]):n,a=e.concat(u);return i?a:a.concat(U2(OA(u)))}function sM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function SCt(t,e){var r=ix(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function mV(t,e,r){return e===cW?sM(xCt(t,r)):a0(e)?SCt(e,r):sM(wCt(By(t)))}function ECt(t){var e=U2(OA(t)),r=["absolute","fixed"].indexOf(Ag(t).position)>=0,n=r&&Nf(t)?sS(t):t;return a0(n)?e.filter(function(i){return a0(i)&&fW(i,n)&&Pm(i)!=="body"}):[]}function TCt(t,e,r,n){var i=e==="clippingParents"?ECt(t):[].concat(e),o=[].concat(i,[r]),u=o[0],a=o.reduce(function(g,v){var x=mV(t,v,n);return g.top=Hv(x.top,g.top),g.right=PT(x.right,g.right),g.bottom=PT(x.bottom,g.bottom),g.left=Hv(x.left,g.left),g},mV(t,u,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function vW(t){var e=t.reference,r=t.element,n=t.placement,i=n?Nm(n):null,o=n?ax(n):null,u=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,g;switch(i){case md:g={x:u,y:e.y-r.height};break;case Bf:g={x:u,y:e.y+e.height};break;case zf:g={x:e.x+e.width,y:a};break;case gd:g={x:e.x-r.width,y:a};break;default:g={x:e.x,y:e.y}}var v=i?aO(i):null;if(v!=null){var x=v==="y"?"height":"width";switch(o){case rx:g[v]=g[v]-(e[x]/2-r[x]/2);break;case vw:g[v]=g[v]+(e[x]/2-r[x]/2);break}}return g}function bw(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,u=o===void 0?t.strategy:o,a=r.boundary,g=a===void 0?GTt:a,v=r.rootBoundary,x=v===void 0?cW:v,k=r.elementContext,R=k===void 0?J1:k,A=r.altBoundary,O=A===void 0?!1:A,D=r.padding,U=D===void 0?0:D,H=mW(typeof U!="number"?U:gW(U,oS)),G=R===J1?HTt:J1,z=t.rects.popper,j=t.elements[O?G:R],X=TCt(a0(j)?j:j.contextElement||By(t.elements.popper),g,x,u),Y=ix(t.elements.reference),rt=vW({reference:Y,element:z,placement:i}),st=sM(Object.assign({},z,rt)),it=R===J1?st:Y,bt={top:X.top-it.top+H.top,bottom:it.bottom-X.bottom+H.bottom,left:X.left-it.left+H.left,right:it.right-X.right+H.right},at=t.modifiersData.offset;if(R===J1&&at){var $=at[i];Object.keys(bt).forEach(function(dt){var mt=[zf,Bf].indexOf(dt)>=0?1:-1,wt=[md,Bf].indexOf(dt)>=0?"y":"x";bt[dt]+=$[wt]*mt})}return bt}function CCt(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,u=r.padding,a=r.flipVariations,g=r.allowedAutoPlacements,v=g===void 0?hW:g,x=ax(n),k=x?a?hV:hV.filter(function(O){return ax(O)===x}):oS,R=k.filter(function(O){return v.indexOf(O)>=0});R.length===0&&(R=k);var A=R.reduce(function(O,D){return O[D]=bw(t,{placement:D,boundary:i,rootBoundary:o,padding:u})[Nm(D)],O},{});return Object.keys(A).sort(function(O,D){return A[O]-A[D]})}function ACt(t){if(Nm(t)===rO)return[];var e=CE(t);return[pV(t),e,pV(e)]}function kCt(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,u=r.altAxis,a=u===void 0?!0:u,g=r.fallbackPlacements,v=r.padding,x=r.boundary,k=r.rootBoundary,R=r.altBoundary,A=r.flipVariations,O=A===void 0?!0:A,D=r.allowedAutoPlacements,U=e.options.placement,H=Nm(U),G=H===U,z=g||(G||!O?[CE(U)]:ACt(U)),j=[U].concat(z).reduce(function(At,Nt){return At.concat(Nm(Nt)===rO?CCt(e,{placement:Nt,boundary:x,rootBoundary:k,padding:v,flipVariations:O,allowedAutoPlacements:D}):Nt)},[]),X=e.rects.reference,Y=e.rects.popper,rt=new Map,st=!0,it=j[0],bt=0;bt<j.length;bt++){var at=j[bt],$=Nm(at),dt=ax(at)===rx,mt=[md,Bf].indexOf($)>=0,wt=mt?"width":"height",pt=bw(e,{placement:at,boundary:x,rootBoundary:k,altBoundary:R,padding:v}),Ct=mt?dt?zf:gd:dt?Bf:md;X[wt]>Y[wt]&&(Ct=CE(Ct));var vt=CE(Ct),It=[];if(o&&It.push(pt[$]<=0),a&&It.push(pt[Ct]<=0,pt[vt]<=0),It.every(function(At){return At})){it=at,st=!1;break}rt.set(at,It)}if(st)for(var Ft=O?3:1,Et=function(Nt){var qt=j.find(function(ie){var Ht=rt.get(ie);if(Ht)return Ht.slice(0,Nt).every(function(ce){return ce})});if(qt)return it=qt,"break"},lt=Ft;lt>0;lt--){var kt=Et(lt);if(kt==="break")break}e.placement!==it&&(e.modifiersData[n]._skip=!0,e.placement=it,e.reset=!0)}}const ICt={name:"flip",enabled:!0,phase:"main",fn:kCt,requiresIfExists:["offset"],data:{_skip:!1}};function gV(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function yV(t){return[md,zf,Bf,gd].some(function(e){return t[e]>=0})}function RCt(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,u=bw(e,{elementContext:"reference"}),a=bw(e,{altBoundary:!0}),g=gV(u,n),v=gV(a,i,o),x=yV(g),k=yV(v);e.modifiersData[r]={referenceClippingOffsets:g,popperEscapeOffsets:v,isReferenceHidden:x,hasPopperEscaped:k},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":x,"data-popper-escaped":k})}const NCt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RCt};function LCt(t,e,r){var n=Nm(t),i=[gd,md].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,u=o[0],a=o[1];return u=u||0,a=(a||0)*i,[gd,zf].indexOf(n)>=0?{x:a,y:u}:{x:u,y:a}}function MCt(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,u=hW.reduce(function(x,k){return x[k]=LCt(k,e.rects,o),x},{}),a=u[e.placement],g=a.x,v=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=v),e.modifiersData[n]=u}const PCt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MCt};function OCt(t){var e=t.state,r=t.name;e.modifiersData[r]=vW({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const DCt={name:"popperOffsets",enabled:!0,phase:"read",fn:OCt,data:{}};function BCt(t){return t==="x"?"y":"x"}function zCt(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,u=r.altAxis,a=u===void 0?!1:u,g=r.boundary,v=r.rootBoundary,x=r.altBoundary,k=r.padding,R=r.tether,A=R===void 0?!0:R,O=r.tetherOffset,D=O===void 0?0:O,U=bw(e,{boundary:g,rootBoundary:v,padding:k,altBoundary:x}),H=Nm(e.placement),G=ax(e.placement),z=!G,j=aO(H),X=BCt(j),Y=e.modifiersData.popperOffsets,rt=e.rects.reference,st=e.rects.popper,it=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,bt=typeof it=="number"?{mainAxis:it,altAxis:it}:Object.assign({mainAxis:0,altAxis:0},it),at=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(Y){if(o){var dt,mt=j==="y"?md:gd,wt=j==="y"?Bf:zf,pt=j==="y"?"height":"width",Ct=Y[j],vt=Ct+U[mt],It=Ct-U[wt],Ft=A?-st[pt]/2:0,Et=G===rx?rt[pt]:st[pt],lt=G===rx?-st[pt]:-rt[pt],kt=e.elements.arrow,At=A&&kt?iO(kt):{width:0,height:0},Nt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:pW(),qt=Nt[mt],ie=Nt[wt],Ht=$2(0,rt[pt],At[pt]),ce=z?rt[pt]/2-Ft-Ht-qt-bt.mainAxis:Et-Ht-qt-bt.mainAxis,de=z?-rt[pt]/2+Ft+Ht+ie+bt.mainAxis:lt+Ht+ie+bt.mainAxis,Se=e.elements.arrow&&sS(e.elements.arrow),$t=Se?j==="y"?Se.clientTop||0:Se.clientLeft||0:0,He=(dt=at?.[j])!=null?dt:0,ke=Ct+ce-He-$t,Jt=Ct+de-He,Vr=$2(A?PT(vt,ke):vt,Ct,A?Hv(It,Jt):It);Y[j]=Vr,$[j]=Vr-Ct}if(a){var vr,Dr=j==="x"?md:gd,Ie=j==="x"?Bf:zf,Mr=Y[X],ir=X==="y"?"height":"width",Rr=Mr+U[Dr],Pr=Mr-U[Ie],Ir=[md,gd].indexOf(H)!==-1,dr=(vr=at?.[X])!=null?vr:0,ar=Ir?Rr:Mr-rt[ir]-st[ir]-dr+bt.altAxis,Or=Ir?Mr+rt[ir]+st[ir]-dr-bt.altAxis:Pr,er=A&&Ir?lCt(ar,Mr,Or):$2(A?ar:Rr,Mr,A?Or:Pr);Y[X]=er,$[X]=er-Mr}e.modifiersData[n]=$}}const FCt={name:"preventOverflow",enabled:!0,phase:"main",fn:zCt,requiresIfExists:["offset"]};function jCt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function VCt(t){return t===af(t)||!Nf(t)?oO(t):jCt(t)}function $Ct(t){var e=t.getBoundingClientRect(),r=nx(e.width)/t.offsetWidth||1,n=nx(e.height)/t.offsetHeight||1;return r!==1||n!==1}function UCt(t,e,r){r===void 0&&(r=!1);var n=Nf(e),i=Nf(e)&&$Ct(e),o=By(e),u=ix(t,i,r),a={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(n||!n&&!r)&&((Pm(e)!=="body"||lO(o))&&(a=VCt(e)),Nf(e)?(g=ix(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):o&&(g.x=sO(o))),{x:u.left+a.scrollLeft-g.x,y:u.top+a.scrollTop-g.y,width:u.width,height:u.height}}function qCt(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var u=[].concat(o.requires||[],o.requiresIfExists||[]);u.forEach(function(a){if(!r.has(a)){var g=e.get(a);g&&i(g)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function GCt(t){var e=qCt(t);return rCt.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function HCt(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function XCt(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var vV={placement:"bottom",modifiers:[],strategy:"absolute"};function bV(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function WCt(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?vV:i;return function(a,g,v){v===void 0&&(v=o);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},vV,o),modifiersData:{},elements:{reference:a,popper:g},attributes:{},styles:{}},k=[],R=!1,A={state:x,setOptions:function(H){var G=typeof H=="function"?H(x.options):H;D(),x.options=Object.assign({},o,x.options,G),x.scrollParents={reference:a0(a)?U2(a):a.contextElement?U2(a.contextElement):[],popper:U2(g)};var z=GCt(XCt([].concat(n,x.options.modifiers)));return x.orderedModifiers=z.filter(function(j){return j.enabled}),O(),A.update()},forceUpdate:function(){if(!R){var H=x.elements,G=H.reference,z=H.popper;if(bV(G,z)){x.rects={reference:UCt(G,sS(z),x.options.strategy==="fixed"),popper:iO(z)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach(function(bt){return x.modifiersData[bt.name]=Object.assign({},bt.data)});for(var j=0;j<x.orderedModifiers.length;j++){if(x.reset===!0){x.reset=!1,j=-1;continue}var X=x.orderedModifiers[j],Y=X.fn,rt=X.options,st=rt===void 0?{}:rt,it=X.name;typeof Y=="function"&&(x=Y({state:x,options:st,name:it,instance:A})||x)}}}},update:HCt(function(){return new Promise(function(U){A.forceUpdate(),U(x)})}),destroy:function(){D(),R=!0}};if(!bV(a,g))return A;A.setOptions(v).then(function(U){!R&&v.onFirstUpdate&&v.onFirstUpdate(U)});function O(){x.orderedModifiers.forEach(function(U){var H=U.name,G=U.options,z=G===void 0?{}:G,j=U.effect;if(typeof j=="function"){var X=j({state:x,name:H,instance:A,options:z}),Y=function(){};k.push(X||Y)}})}function D(){k.forEach(function(U){return U()}),k=[]}return A}}var YCt=[vCt,DCt,gCt,aCt,PCt,ICt,FCt,dCt,NCt],KCt=WCt({defaultModifiers:YCt});function am(t){const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...o}=t,u=i?{}:lW(r,n),{props:a,internalRef:g}=uW({...o,externalSlotProps:u}),v=uu(g,u?.ref,t.additionalProps?.ref);return sW(e,{...a,ref:v},n)}function x0(t){return parseInt(ht.version,10)>=19?t?.props?.ref||null:t?.ref||null}function ZCt(t){return typeof t=="function"?t():t}const bW=ht.forwardRef(function(e,r){const{children:n,container:i,disablePortal:o=!1}=e,[u,a]=ht.useState(null),g=uu(ht.isValidElement(n)?x0(n):null,r);if(Zh(()=>{o||a(ZCt(i)||document.body)},[i,o]),Zh(()=>{if(u&&!o)return eV(r,u),()=>{eV(r,null)}},[r,u,o]),o){if(ht.isValidElement(n)){const v={ref:g};return ht.cloneElement(n,v)}return n}return u&&RM.createPortal(n,u)});function QCt(t){return ha("MuiPopper",t)}aa("MuiPopper",["root"]);function JCt(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function lM(t){return typeof t=="function"?t():t}function tAt(t){return t.nodeType!==void 0}const eAt=t=>{const{classes:e}=t;return da({root:["root"]},QCt,e)},rAt={},nAt=ht.forwardRef(function(e,r){const{anchorEl:n,children:i,direction:o,disablePortal:u,modifiers:a,open:g,placement:v,popperOptions:x,popperRef:k,slotProps:R={},slots:A={},TransitionProps:O,ownerState:D,...U}=e,H=ht.useRef(null),G=uu(H,r),z=ht.useRef(null),j=uu(z,k),X=ht.useRef(j);Zh(()=>{X.current=j},[j]),ht.useImperativeHandle(k,()=>z.current,[]);const Y=JCt(v,o),[rt,st]=ht.useState(Y),[it,bt]=ht.useState(lM(n));ht.useEffect(()=>{z.current&&z.current.forceUpdate()}),ht.useEffect(()=>{n&&bt(lM(n))},[n]),Zh(()=>{if(!it||!g)return;const wt=vt=>{st(vt.placement)};let pt=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:vt})=>{wt(vt)}}];a!=null&&(pt=pt.concat(a)),x&&x.modifiers!=null&&(pt=pt.concat(x.modifiers));const Ct=KCt(it,H.current,{placement:Y,...x,modifiers:pt});return X.current(Ct),()=>{Ct.destroy(),X.current(null)}},[it,u,a,g,x,Y]);const at={placement:rt};O!==null&&(at.TransitionProps=O);const $=eAt(e),dt=A.root??"div",mt=am({elementType:dt,externalSlotProps:R.root,externalForwardedProps:U,additionalProps:{role:"tooltip",ref:G},ownerState:e,className:$.root});return Qt.jsx(dt,{...mt,children:typeof i=="function"?i(at):i})}),iAt=ht.forwardRef(function(e,r){const{anchorEl:n,children:i,container:o,direction:u="ltr",disablePortal:a=!1,keepMounted:g=!1,modifiers:v,open:x,placement:k="bottom",popperOptions:R=rAt,popperRef:A,style:O,transition:D=!1,slotProps:U={},slots:H={},...G}=e,[z,j]=ht.useState(!0),X=()=>{j(!1)},Y=()=>{j(!0)};if(!g&&!x&&(!D||z))return null;let rt;if(o)rt=o;else if(n){const bt=lM(n);rt=bt&&tAt(bt)?uh(bt).body:uh(null).body}const st=!x&&g&&(!D||z)?"none":void 0,it=D?{in:x,onEnter:X,onExited:Y}:void 0;return Qt.jsx(bW,{disablePortal:a,container:rt,children:Qt.jsx(nAt,{anchorEl:n,direction:u,disablePortal:a,modifiers:v,ref:r,open:D?!z:x,placement:k,popperOptions:R,popperRef:A,slotProps:U,slots:H,...G,style:{position:"fixed",top:0,left:0,display:st,...O},TransitionProps:it,children:i})})}),aAt=Tn(iAt,{name:"MuiPopper",slot:"Root"})({}),_W=ht.forwardRef(function(e,r){const n=Sx(),i=ga({props:e,name:"MuiPopper"}),{anchorEl:o,component:u,components:a,componentsProps:g,container:v,disablePortal:x,keepMounted:k,modifiers:R,open:A,placement:O,popperOptions:D,popperRef:U,transition:H,slots:G,slotProps:z,...j}=i,X=G?.root??a?.Root,Y={anchorEl:o,container:v,disablePortal:x,keepMounted:k,modifiers:R,open:A,placement:O,popperOptions:D,popperRef:U,transition:H,...j};return Qt.jsx(aAt,{as:u,direction:n?"rtl":"ltr",slots:{root:X},slotProps:z??g,...Y,ref:r})}),oAt=Bl(Qt.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function sAt(t){return ha("MuiChip",t)}const uo=aa("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),lAt=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:o,onDelete:u,clickable:a,variant:g}=t,v={root:["root",g,r&&"disabled",`size${bn(n)}`,`color${bn(i)}`,a&&"clickable",a&&`clickableColor${bn(i)}`,u&&"deletable",u&&`deletableColor${bn(i)}`,`${g}${bn(i)}`],label:["label",`label${bn(n)}`],avatar:["avatar",`avatar${bn(n)}`,`avatarColor${bn(i)}`],icon:["icon",`icon${bn(n)}`,`iconColor${bn(o)}`],deleteIcon:["deleteIcon",`deleteIcon${bn(n)}`,`deleteIconColor${bn(i)}`,`deleteIcon${bn(g)}Color${bn(i)}`]};return da(v,sAt,e)},uAt=Tn("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:o,onDelete:u,size:a,variant:g}=r;return[{[`& .${uo.avatar}`]:e.avatar},{[`& .${uo.avatar}`]:e[`avatar${bn(a)}`]},{[`& .${uo.avatar}`]:e[`avatarColor${bn(n)}`]},{[`& .${uo.icon}`]:e.icon},{[`& .${uo.icon}`]:e[`icon${bn(a)}`]},{[`& .${uo.icon}`]:e[`iconColor${bn(i)}`]},{[`& .${uo.deleteIcon}`]:e.deleteIcon},{[`& .${uo.deleteIcon}`]:e[`deleteIcon${bn(a)}`]},{[`& .${uo.deleteIcon}`]:e[`deleteIconColor${bn(n)}`]},{[`& .${uo.deleteIcon}`]:e[`deleteIcon${bn(g)}Color${bn(n)}`]},e.root,e[`size${bn(a)}`],e[`color${bn(n)}`],o&&e.clickable,o&&n!=="default"&&e[`clickableColor${bn(n)})`],u&&e.deletable,u&&n!=="default"&&e[`deletableColor${bn(n)}`],e[g],e[`${g}${bn(n)}`]]}})(Qi(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${uo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${uo.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${uo.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${uo.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${uo.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${uo.icon}`]:{marginLeft:5,marginRight:-6},[`& .${uo.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${uo.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${uo.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(lu(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,[`& .${uo.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${uo.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${uo.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${uo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(lu(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${uo.focusVisible}`]:{background:(t.vars||t).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${uo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(lu(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${uo.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${uo.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${uo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${uo.avatar}`]:{marginLeft:4},[`& .${uo.avatarSmall}`]:{marginLeft:2},[`& .${uo.icon}`]:{marginLeft:4},[`& .${uo.iconSmall}`]:{marginLeft:2},[`& .${uo.deleteIcon}`]:{marginRight:5},[`& .${uo.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(lu()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:`1px solid ${t.alpha((t.vars||t).palette[r].main,.7)}`,[`&.${uo.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${uo.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.focusOpacity)},[`& .${uo.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}))]}})),cAt=Tn("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${bn(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function _V(t){return t.key==="Backspace"||t.key==="Delete"}const q2=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:u,color:a="default",component:g,deleteIcon:v,disabled:x=!1,icon:k,label:R,onClick:A,onDelete:O,onKeyDown:D,onKeyUp:U,size:H="medium",variant:G="filled",tabIndex:z,skipFocusWhenDisabled:j=!1,slots:X={},slotProps:Y={},...rt}=n,st=ht.useRef(null),it=uu(st,r),bt=qt=>{qt.stopPropagation(),O&&O(qt)},at=qt=>{qt.currentTarget===qt.target&&_V(qt)&&qt.preventDefault(),D&&D(qt)},$=qt=>{qt.currentTarget===qt.target&&O&&_V(qt)&&O(qt),U&&U(qt)},dt=u!==!1&&A?!0:u,mt=dt||O?Ay:g||"div",wt={...n,component:mt,disabled:x,size:H,color:a,iconColor:ht.isValidElement(k)&&k.props.color||a,onDelete:!!O,clickable:dt,variant:G},pt=lAt(wt),Ct=mt===Ay?{component:g||"div",focusVisibleClassName:pt.focusVisible,...O&&{disableRipple:!0}}:{};let vt=null;O&&(vt=v&&ht.isValidElement(v)?ht.cloneElement(v,{className:Jn(v.props.className,pt.deleteIcon),onClick:bt}):Qt.jsx(oAt,{className:pt.deleteIcon,onClick:bt}));let It=null;i&&ht.isValidElement(i)&&(It=ht.cloneElement(i,{className:Jn(pt.avatar,i.props.className)}));let Ft=null;k&&ht.isValidElement(k)&&(Ft=ht.cloneElement(k,{className:Jn(pt.icon,k.props.className)}));const Et={slots:X,slotProps:Y},[lt,kt]=ma("root",{elementType:uAt,externalForwardedProps:{...Et,...rt},ownerState:wt,shouldForwardComponentProp:!0,ref:it,className:Jn(pt.root,o),additionalProps:{disabled:dt&&x?!0:void 0,tabIndex:j&&x?-1:z,...Ct},getSlotProps:qt=>({...qt,onClick:ie=>{qt.onClick?.(ie),A?.(ie)},onKeyDown:ie=>{qt.onKeyDown?.(ie),at(ie)},onKeyUp:ie=>{qt.onKeyUp?.(ie),$(ie)}})}),[At,Nt]=ma("label",{elementType:cAt,externalForwardedProps:Et,ownerState:wt,className:pt.label});return Qt.jsxs(lt,{as:mt,...kt,children:[It||Ft,Qt.jsx(At,{...Nt,children:R}),vt]})});function $5(t){return parseInt(t,10)||0}const hAt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dAt(t){for(const e in t)return!1;return!0}function xV(t){return dAt(t)||t.outerHeightStyle===0&&!t.overflowing}const fAt=ht.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:o=1,style:u,value:a,...g}=e,{current:v}=ht.useRef(a!=null),x=ht.useRef(null),k=uu(r,x),R=ht.useRef(null),A=ht.useRef(null),O=ht.useCallback(()=>{const z=x.current,j=A.current;if(!z||!j)return;const Y=Ep(z).getComputedStyle(z);if(Y.width==="0px")return{outerHeightStyle:0,overflowing:!1};j.style.width=Y.width,j.value=z.value||e.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const rt=Y.boxSizing,st=$5(Y.paddingBottom)+$5(Y.paddingTop),it=$5(Y.borderBottomWidth)+$5(Y.borderTopWidth),bt=j.scrollHeight;j.value="x";const at=j.scrollHeight;let $=bt;o&&($=Math.max(Number(o)*at,$)),i&&($=Math.min(Number(i)*at,$)),$=Math.max($,at);const dt=$+(rt==="border-box"?st+it:0),mt=Math.abs($-bt)<=1;return{outerHeightStyle:dt,overflowing:mt}},[i,o,e.placeholder]),D=Rf(()=>{const z=x.current,j=O();if(!z||!j||xV(j))return!1;const X=j.outerHeightStyle;return R.current!=null&&R.current!==X}),U=ht.useCallback(()=>{const z=x.current,j=O();if(!z||!j||xV(j))return;const X=j.outerHeightStyle;R.current!==X&&(R.current=X,z.style.height=`${X}px`),z.style.overflow=j.overflowing?"hidden":""},[O]),H=ht.useRef(-1);Zh(()=>{const z=ZP(U),j=x?.current;if(!j)return;const X=Ep(j);X.addEventListener("resize",z);let Y;return typeof ResizeObserver<"u"&&(Y=new ResizeObserver(()=>{D()&&(Y.unobserve(j),cancelAnimationFrame(H.current),U(),H.current=requestAnimationFrame(()=>{Y.observe(j)}))}),Y.observe(j)),()=>{z.clear(),cancelAnimationFrame(H.current),X.removeEventListener("resize",z),Y&&Y.disconnect()}},[O,U,D]),Zh(()=>{U()});const G=z=>{v||U();const j=z.target,X=j.value.length,Y=j.value.endsWith(`
`),rt=j.selectionStart===X;Y&&rt&&j.setSelectionRange(X,X),n&&n(z)};return Qt.jsxs(ht.Fragment,{children:[Qt.jsx("textarea",{value:a,onChange:G,ref:k,rows:o,style:u,...g}),Qt.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:A,tabIndex:-1,style:{...hAt.shadow,...u,paddingTop:0,paddingBottom:0}})]})});function Tx({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const uO=ht.createContext(void 0);function w0(){return ht.useContext(uO)}function wV(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function OT(t,e=!1){return t&&(wV(t.value)&&t.value!==""||e&&wV(t.defaultValue)&&t.defaultValue!=="")}function pAt(t){return t.startAdornment}function mAt(t){return ha("MuiInputBase",t)}const ox=aa("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var SV;const DA=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${bn(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},BA=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},gAt=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:o,focused:u,formControl:a,fullWidth:g,hiddenLabel:v,multiline:x,readOnly:k,size:R,startAdornment:A,type:O}=t,D={root:["root",`color${bn(r)}`,n&&"disabled",i&&"error",g&&"fullWidth",u&&"focused",a&&"formControl",R&&R!=="medium"&&`size${bn(R)}`,x&&"multiline",A&&"adornedStart",o&&"adornedEnd",v&&"hiddenLabel",k&&"readOnly"],input:["input",n&&"disabled",O==="search"&&"inputTypeSearch",x&&"inputMultiline",R==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",A&&"inputAdornedStart",o&&"inputAdornedEnd",k&&"readOnly"]};return da(D,mAt,e)},zA=Tn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:DA})(Qi(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ox.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),FA=Tn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:BA})(Qi(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ox.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${ox.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),EV=KP({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),cO=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:u,className:a,color:g,components:v={},componentsProps:x={},defaultValue:k,disabled:R,disableInjectingGlobalStyles:A,endAdornment:O,error:D,fullWidth:U=!1,id:H,inputComponent:G="input",inputProps:z={},inputRef:j,margin:X,maxRows:Y,minRows:rt,multiline:st=!1,name:it,onBlur:bt,onChange:at,onClick:$,onFocus:dt,onKeyDown:mt,onKeyUp:wt,placeholder:pt,readOnly:Ct,renderSuffix:vt,rows:It,size:Ft,slotProps:Et={},slots:lt={},startAdornment:kt,type:At="text",value:Nt,...qt}=n,ie=z.value!=null?z.value:Nt,{current:Ht}=ht.useRef(ie!=null),ce=ht.useRef(),de=ht.useCallback(rr=>{},[]),Se=uu(ce,j,z.ref,de),[$t,He]=ht.useState(!1),ke=w0(),Jt=Tx({props:n,muiFormControl:ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Jt.focused=ke?ke.focused:$t,ht.useEffect(()=>{!ke&&R&&$t&&(He(!1),bt&&bt())},[ke,R,$t,bt]);const Vr=ke&&ke.onFilled,vr=ke&&ke.onEmpty,Dr=ht.useCallback(rr=>{OT(rr)?Vr&&Vr():vr&&vr()},[Vr,vr]);Zh(()=>{Ht&&Dr({value:ie})},[ie,Dr,Ht]);const Ie=rr=>{dt&&dt(rr),z.onFocus&&z.onFocus(rr),ke&&ke.onFocus?ke.onFocus(rr):He(!0)},Mr=rr=>{bt&&bt(rr),z.onBlur&&z.onBlur(rr),ke&&ke.onBlur?ke.onBlur(rr):He(!1)},ir=(rr,...Me)=>{if(!Ht){const jt=rr.target||ce.current;if(jt==null)throw new Error(Cg(1));Dr({value:jt.value})}z.onChange&&z.onChange(rr,...Me),at&&at(rr,...Me)};ht.useEffect(()=>{Dr(ce.current)},[]);const Rr=rr=>{ce.current&&rr.currentTarget===rr.target&&ce.current.focus(),$&&$(rr)};let Pr=G,Ir=z;st&&Pr==="input"&&(It?Ir={type:void 0,minRows:It,maxRows:It,...Ir}:Ir={type:void 0,maxRows:Y,minRows:rt,...Ir},Pr=fAt);const dr=rr=>{Dr(rr.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};ht.useEffect(()=>{ke&&ke.setAdornedStart(!!kt)},[ke,kt]);const ar={...n,color:Jt.color||"primary",disabled:Jt.disabled,endAdornment:O,error:Jt.error,focused:Jt.focused,formControl:ke,fullWidth:U,hiddenLabel:Jt.hiddenLabel,multiline:st,size:Jt.size,startAdornment:kt,type:At},Or=gAt(ar),er=lt.root||v.Root||zA,Fr=Et.root||x.root||{},Ze=lt.input||v.Input||FA;return Ir={...Ir,...Et.input??x.input},Qt.jsxs(ht.Fragment,{children:[!A&&typeof EV=="function"&&(SV||(SV=Qt.jsx(EV,{}))),Qt.jsxs(er,{...Fr,ref:r,onClick:Rr,...qt,...!Rm(er)&&{ownerState:{...ar,...Fr.ownerState}},className:Jn(Or.root,Fr.className,a,Ct&&"MuiInputBase-readOnly"),children:[kt,Qt.jsx(uO.Provider,{value:null,children:Qt.jsx(Ze,{"aria-invalid":Jt.error,"aria-describedby":i,autoComplete:o,autoFocus:u,defaultValue:k,disabled:Jt.disabled,id:H,onAnimationStart:dr,name:it,placeholder:pt,readOnly:Ct,required:Jt.required,rows:It,value:ie,onKeyDown:mt,onKeyUp:wt,type:At,...Ir,...!Rm(Ze)&&{as:Pr,ownerState:{...ar,...Ir.ownerState}},ref:Se,className:Jn(Or.input,Ir.className,Ct&&"MuiInputBase-readOnly"),onBlur:Mr,onChange:ir,onFocus:Ie})}),O,vt?vt({...Jt,startAdornment:kt}):null]})]})});function yAt(t){return ha("MuiInput",t)}const t2={...ox,...aa("MuiInput",["root","underline","input"])};function vAt(t){return ha("MuiOutlinedInput",t)}const rm={...ox,...aa("MuiOutlinedInput",["root","notchedOutline","input"])};function bAt(t){return ha("MuiFilledInput",t)}const xv={...ox,...aa("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},_At=Bl(Qt.jsx("path",{d:"M7 10l5 5 5-5z"})),xAt={entering:{opacity:1},entered:{opacity:1}},uM=ht.forwardRef(function(e,r){const n=Lg(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:u=!0,children:a,easing:g,in:v,onEnter:x,onEntered:k,onEntering:R,onExit:A,onExited:O,onExiting:D,style:U,timeout:H=i,TransitionComponent:G=Uf,...z}=e,j=ht.useRef(null),X=uu(j,x0(a),r),Y=mt=>wt=>{if(mt){const pt=j.current;wt===void 0?mt(pt):mt(pt,wt)}},rt=Y(R),st=Y((mt,wt)=>{eO(mt);const pt=Cy({style:U,timeout:H,easing:g},{mode:"enter"});mt.style.webkitTransition=n.transitions.create("opacity",pt),mt.style.transition=n.transitions.create("opacity",pt),x&&x(mt,wt)}),it=Y(k),bt=Y(D),at=Y(mt=>{const wt=Cy({style:U,timeout:H,easing:g},{mode:"exit"});mt.style.webkitTransition=n.transitions.create("opacity",wt),mt.style.transition=n.transitions.create("opacity",wt),A&&A(mt)}),$=Y(O),dt=mt=>{o&&o(j.current,mt)};return Qt.jsx(G,{appear:u,in:v,nodeRef:j,onEnter:st,onEntered:it,onEntering:rt,onExit:at,onExited:$,onExiting:bt,addEndListener:dt,timeout:H,...z,children:(mt,{ownerState:wt,...pt})=>ht.cloneElement(a,{style:{opacity:0,visibility:mt==="exited"&&!v?"hidden":void 0,...xAt[mt],...U,...a.props.style},ref:X,...pt})})});function wAt(t){return ha("MuiBackdrop",t)}aa("MuiBackdrop",["root","invisible"]);const SAt=t=>{const{classes:e,invisible:r}=t;return da({root:["root",r&&"invisible"]},wAt,e)},EAt=Tn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),hO=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:u="div",invisible:a=!1,open:g,components:v={},componentsProps:x={},slotProps:k={},slots:R={},TransitionComponent:A,transitionDuration:O,...D}=n,U={...n,component:u,invisible:a},H=SAt(U),G={transition:A,root:v.Root,...R},z={...x,...k},j={component:u,slots:G,slotProps:z},[X,Y]=ma("root",{elementType:EAt,externalForwardedProps:j,className:Jn(H.root,o),ownerState:U}),[rt,st]=ma("transition",{elementType:uM,externalForwardedProps:j,ownerState:U});return Qt.jsx(rt,{in:g,timeout:O,...D,...st,children:Qt.jsx(X,{"aria-hidden":!0,...Y,classes:H,ref:r,children:i})})}),TAt=aa("MuiBox",["root"]),CAt=LA(),no=ZSt({themeId:vp,defaultTheme:CAt,defaultClassName:TAt.root,generateClassName:DX.generate});function AAt(t){return ha("MuiButton",t)}const wv=aa("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),kAt=ht.createContext({}),IAt=ht.createContext(void 0),RAt=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:o,loading:u,loadingPosition:a,classes:g}=t,v={root:["root",u&&"loading",o,`${o}${bn(e)}`,`size${bn(i)}`,`${o}Size${bn(i)}`,`color${bn(e)}`,r&&"disableElevation",n&&"fullWidth",u&&`loadingPosition${bn(a)}`],startIcon:["icon","startIcon",`iconSize${bn(i)}`],endIcon:["icon","endIcon",`iconSize${bn(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},x=da(v,AAt,g);return{...g,...x}},xW=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],NAt=Tn(Ay,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${bn(r.color)}`],e[`size${bn(r.size)}`],e[`${r.variant}Size${bn(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(Qi(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${wv.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${wv.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${wv.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${wv.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(lu()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${wv.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${wv.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${wv.loading}`]:{color:"transparent"}}}]}})),LAt=Tn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${bn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...xW]})),MAt=Tn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${bn(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...xW]})),PAt=Tn("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),TV=Tn("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),CV=ht.forwardRef(function(e,r){const n=ht.useContext(kAt),i=ht.useContext(IAt),o=yw(n,e),u=ga({props:o,name:"MuiButton"}),{children:a,color:g="primary",component:v="button",className:x,disabled:k=!1,disableElevation:R=!1,disableFocusRipple:A=!1,endIcon:O,focusVisibleClassName:D,fullWidth:U=!1,id:H,loading:G=null,loadingIndicator:z,loadingPosition:j="center",size:X="medium",startIcon:Y,type:rt,variant:st="text",...it}=u,bt=_0(H),at=z??Qt.jsx(MT,{"aria-labelledby":bt,color:"inherit",size:16}),$={...u,color:g,component:v,disabled:k,disableElevation:R,disableFocusRipple:A,fullWidth:U,loading:G,loadingIndicator:at,loadingPosition:j,size:X,type:rt,variant:st},dt=RAt($),mt=(Y||G&&j==="start")&&Qt.jsx(LAt,{className:dt.startIcon,ownerState:$,children:Y||Qt.jsx(TV,{className:dt.loadingIconPlaceholder,ownerState:$})}),wt=(O||G&&j==="end")&&Qt.jsx(MAt,{className:dt.endIcon,ownerState:$,children:O||Qt.jsx(TV,{className:dt.loadingIconPlaceholder,ownerState:$})}),pt=i||"",Ct=typeof G=="boolean"?Qt.jsx("span",{className:dt.loadingWrapper,style:{display:"contents"},children:G&&Qt.jsx(PAt,{className:dt.loadingIndicator,ownerState:$,children:at})}):null;return Qt.jsxs(NAt,{ownerState:$,className:Jn(n.className,dt.root,x,pt),component:v,disabled:k||G,focusRipple:!A,focusVisibleClassName:Jn(dt.focusVisible,D),ref:r,type:rt,id:G?bt:H,...it,classes:dt,children:[mt,j!=="end"&&Ct,a,j==="end"&&Ct,wt]})});function OAt(t){return ha("PrivateSwitchBase",t)}aa("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const DAt=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${bn(i)}`],input:["input"]};return da(o,OAt,e)},BAt=Tn(Ay,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),zAt=Tn("input",{name:"MuiSwitchBase",shouldForwardProp:Oh})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),FAt=ht.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:o,defaultChecked:u,disabled:a,disableFocusRipple:g=!1,edge:v=!1,icon:x,id:k,inputProps:R,inputRef:A,name:O,onBlur:D,onChange:U,onFocus:H,readOnly:G,required:z=!1,tabIndex:j,type:X,value:Y,slots:rt={},slotProps:st={},...it}=e,[bt,at]=tx({controlled:i,default:!!u,name:"SwitchBase",state:"checked"}),$=w0(),dt=Nt=>{H&&H(Nt),$&&$.onFocus&&$.onFocus(Nt)},mt=Nt=>{D&&D(Nt),$&&$.onBlur&&$.onBlur(Nt)},wt=Nt=>{if(Nt.nativeEvent.defaultPrevented)return;const qt=Nt.target.checked;at(qt),U&&U(Nt,qt)};let pt=a;$&&typeof pt>"u"&&(pt=$.disabled);const Ct=X==="checkbox"||X==="radio",vt={...e,checked:bt,disabled:pt,disableFocusRipple:g,edge:v},It=DAt(vt),Ft={slots:rt,slotProps:{input:R,...st}},[Et,lt]=ma("root",{ref:r,elementType:BAt,className:It.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Ft,component:"span",...it},getSlotProps:Nt=>({...Nt,onFocus:qt=>{Nt.onFocus?.(qt),dt(qt)},onBlur:qt=>{Nt.onBlur?.(qt),mt(qt)}}),ownerState:vt,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:pt,role:void 0,tabIndex:null}}),[kt,At]=ma("input",{ref:A,elementType:zAt,className:It.input,externalForwardedProps:Ft,getSlotProps:Nt=>({...Nt,onChange:qt=>{Nt.onChange?.(qt),wt(qt)}}),ownerState:vt,additionalProps:{autoFocus:n,checked:i,defaultChecked:u,disabled:pt,id:Ct?k:void 0,name:O,readOnly:G,required:z,tabIndex:j,type:X,...X==="checkbox"&&Y===void 0?{}:{value:Y}}});return Qt.jsxs(Et,{...lt,children:[Qt.jsx(kt,{...At}),bt?o:x]})}),jAt=Bl(Qt.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),VAt=Bl(Qt.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),$At=Bl(Qt.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function UAt(t){return ha("MuiCheckbox",t)}const yN=aa("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),qAt=t=>{const{classes:e,indeterminate:r,color:n,size:i}=t,o={root:["root",r&&"indeterminate",`color${bn(n)}`,`size${bn(i)}`]},u=da(o,UAt,e);return{...e,...u}},GAt=Tn(FAt,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${bn(r.size)}`],r.color!=="default"&&e[`color${bn(r.color)}`]]}})(Qi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{[`&.${yN.checked}, &.${yN.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${yN.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),HAt=Qt.jsx(VAt,{}),XAt=Qt.jsx(jAt,{}),WAt=Qt.jsx($At,{}),AV=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiCheckbox"}),{checkedIcon:i=HAt,color:o="primary",icon:u=XAt,indeterminate:a=!1,indeterminateIcon:g=WAt,inputProps:v,size:x="medium",disableRipple:k=!1,className:R,slots:A={},slotProps:O={},...D}=n,U=a?g:u,H=a?g:i,G={...n,disableRipple:k,color:o,indeterminate:a,size:x},z=qAt(G),j=O.input??v,[X,Y]=ma("root",{ref:r,elementType:GAt,className:Jn(z.root,R),shouldForwardComponentProp:!0,externalForwardedProps:{slots:A,slotProps:O,...D},ownerState:G,additionalProps:{type:"checkbox",icon:ht.cloneElement(U,{fontSize:U.props.fontSize??x}),checkedIcon:ht.cloneElement(H,{fontSize:H.props.fontSize??x}),disableRipple:k,slots:A,slotProps:{input:QP(typeof j=="function"?j(G):j,{"data-indeterminate":a})}}});return Qt.jsx(X,{...Y,classes:z})}),cM=typeof KP({})=="function",YAt=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),KAt=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),wW=(t,e=!1)=>{const r={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([o,u])=>{const a=t.getColorSchemeSelector(o);a.startsWith("@")?r[a]={":root":{colorScheme:u.palette?.mode}}:r[a.replace(/\s*&/,"")]={colorScheme:u.palette?.mode}});let n={html:YAt(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...KAt(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...r};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(n=[n,i]),n},AE="mui-ecs",ZAt=t=>{const e=wW(t,!1),r=Array.isArray(e)?e[0]:e;return!t.vars&&r&&(r.html[`:root:has(${AE})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([n,i])=>{const o=t.getColorSchemeSelector(n);o.startsWith("@")?r[o]={[`:root:not(:has(.${AE}))`]:{colorScheme:i.palette?.mode}}:r[o.replace(/\s*&/,"")]={[`&:not(:has(.${AE}))`]:{colorScheme:i.palette?.mode}}}),e},QAt=KP(cM?({theme:t,enableColorScheme:e})=>wW(t,e):({theme:t})=>ZAt(t));function JAt(t){const e=ga({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=e;return Qt.jsxs(ht.Fragment,{children:[cM&&Qt.jsx(QAt,{enableColorScheme:n}),!cM&&!n&&Qt.jsx("span",{className:AE,style:{display:"none"}}),r]})}function SW(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function tkt(t){const e=uh(t);return e.body===t?Ep(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function G2(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function kV(t){return parseInt(Ep(t).getComputedStyle(t).paddingRight,10)||0}function ekt(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function IV(t,e,r,n,i){const o=[e,r,...n];[].forEach.call(t.children,u=>{const a=!o.includes(u),g=!ekt(u);a&&g&&G2(u,i)})}function vN(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function rkt(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(tkt(n)){const u=SW(Ep(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${kV(n)+u}px`;const a=uh(n).querySelectorAll(".mui-fixed");[].forEach.call(a,g=>{r.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${kV(g)+u}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=uh(n).body;else{const u=n.parentElement,a=Ep(n);o=u?.nodeName==="HTML"&&a.getComputedStyle(u).overflowY==="scroll"?u:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:u,property:a})=>{o?u.style.setProperty(a,o):u.style.removeProperty(a)})}}function nkt(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class ikt{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&G2(e.modalRef,!1);const i=nkt(r);IV(r,e.mount,e.modalRef,i,!0);const o=vN(this.containers,u=>u.container===r);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=vN(this.containers,o=>o.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=rkt(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=vN(this.containers,u=>u.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&G2(e.modalRef,r),IV(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const u=o.modals[o.modals.length-1];u.modalRef&&G2(u.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const akt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function okt(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function skt(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function lkt(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||skt(t))}function ukt(t){const e=[],r=[];return Array.from(t.querySelectorAll(akt)).forEach((n,i)=>{const o=okt(n);o===-1||!lkt(n)||(o===0?e.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function ckt(){return!0}function hkt(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=ukt,isEnabled:u=ckt,open:a}=t,g=ht.useRef(!1),v=ht.useRef(null),x=ht.useRef(null),k=ht.useRef(null),R=ht.useRef(null),A=ht.useRef(!1),O=ht.useRef(null),D=uu(x0(e),O),U=ht.useRef(null);ht.useEffect(()=>{!a||!O.current||(A.current=!r)},[r,a]),ht.useEffect(()=>{if(!a||!O.current)return;const z=uh(O.current);return O.current.contains(z.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),A.current&&O.current.focus()),()=>{i||(k.current&&k.current.focus&&(g.current=!0,k.current.focus()),k.current=null)}},[a]),ht.useEffect(()=>{if(!a||!O.current)return;const z=uh(O.current),j=rt=>{U.current=rt,!(n||!u()||rt.key!=="Tab")&&z.activeElement===O.current&&rt.shiftKey&&(g.current=!0,x.current&&x.current.focus())},X=()=>{const rt=O.current;if(rt===null)return;if(!z.hasFocus()||!u()||g.current){g.current=!1;return}if(rt.contains(z.activeElement)||n&&z.activeElement!==v.current&&z.activeElement!==x.current)return;if(z.activeElement!==R.current)R.current=null;else if(R.current!==null)return;if(!A.current)return;let st=[];if((z.activeElement===v.current||z.activeElement===x.current)&&(st=o(O.current)),st.length>0){const it=!!(U.current?.shiftKey&&U.current?.key==="Tab"),bt=st[0],at=st[st.length-1];typeof bt!="string"&&typeof at!="string"&&(it?at.focus():bt.focus())}else rt.focus()};z.addEventListener("focusin",X),z.addEventListener("keydown",j,!0);const Y=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&X()},50);return()=>{clearInterval(Y),z.removeEventListener("focusin",X),z.removeEventListener("keydown",j,!0)}},[r,n,i,u,a,o]);const H=z=>{k.current===null&&(k.current=z.relatedTarget),A.current=!0,R.current=z.target;const j=e.props.onFocus;j&&j(z)},G=z=>{k.current===null&&(k.current=z.relatedTarget),A.current=!0};return Qt.jsxs(ht.Fragment,{children:[Qt.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:v,"data-testid":"sentinelStart"}),ht.cloneElement(e,{ref:D,onFocus:H}),Qt.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:x,"data-testid":"sentinelEnd"})]})}function dkt(t){return typeof t=="function"?t():t}function fkt(t){return t?t.props.hasOwnProperty("in"):!1}const RV=()=>{},U5=new ikt;function pkt(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:u,children:a,onClose:g,open:v,rootRef:x}=t,k=ht.useRef({}),R=ht.useRef(null),A=ht.useRef(null),O=uu(A,x),[D,U]=ht.useState(!v),H=fkt(a);let G=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(G=!1);const z=()=>uh(R.current),j=()=>(k.current.modalRef=A.current,k.current.mount=R.current,k.current),X=()=>{U5.mount(j(),{disableScrollLock:n}),A.current&&(A.current.scrollTop=0)},Y=Rf(()=>{const wt=dkt(e)||z().body;U5.add(j(),wt),A.current&&X()}),rt=()=>U5.isTopModal(j()),st=Rf(wt=>{R.current=wt,wt&&(v&&rt()?X():A.current&&G2(A.current,G))}),it=ht.useCallback(()=>{U5.remove(j(),G)},[G]);ht.useEffect(()=>()=>{it()},[it]),ht.useEffect(()=>{v?Y():(!H||!i)&&it()},[v,it,H,i,Y]);const bt=wt=>pt=>{wt.onKeyDown?.(pt),!(pt.key!=="Escape"||pt.which===229||!rt())&&(r||(pt.stopPropagation(),g&&g(pt,"escapeKeyDown")))},at=wt=>pt=>{wt.onClick?.(pt),pt.target===pt.currentTarget&&g&&g(pt,"backdropClick")};return{getRootProps:(wt={})=>{const pt=V2(t);delete pt.onTransitionEnter,delete pt.onTransitionExited;const Ct={...pt,...wt};return{role:"presentation",...Ct,onKeyDown:bt(Ct),ref:O}},getBackdropProps:(wt={})=>{const pt=wt;return{"aria-hidden":!0,...pt,onClick:at(pt),open:v}},getTransitionProps:()=>{const wt=()=>{U(!1),o&&o()},pt=()=>{U(!0),u&&u(),i&&it()};return{onEnter:tV(wt,a?.props.onEnter??RV),onExited:tV(pt,a?.props.onExited??RV)}},rootRef:O,portalRef:st,isTopModal:rt,exited:D,hasTransition:H}}function mkt(t){return ha("MuiModal",t)}aa("MuiModal",["root","hidden","backdrop"]);const gkt=t=>{const{open:e,exited:r,classes:n}=t;return da({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},mkt,n)},ykt=Tn("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(Qi(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),vkt=Tn(hO,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),dO=ht.forwardRef(function(e,r){const n=ga({name:"MuiModal",props:e}),{BackdropComponent:i=vkt,BackdropProps:o,classes:u,className:a,closeAfterTransition:g=!1,children:v,container:x,component:k,components:R={},componentsProps:A={},disableAutoFocus:O=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:U=!1,disablePortal:H=!1,disableRestoreFocus:G=!1,disableScrollLock:z=!1,hideBackdrop:j=!1,keepMounted:X=!1,onClose:Y,onTransitionEnter:rt,onTransitionExited:st,open:it,slotProps:bt={},slots:at={},theme:$,...dt}=n,mt={...n,closeAfterTransition:g,disableAutoFocus:O,disableEnforceFocus:D,disableEscapeKeyDown:U,disablePortal:H,disableRestoreFocus:G,disableScrollLock:z,hideBackdrop:j,keepMounted:X},{getRootProps:wt,getBackdropProps:pt,getTransitionProps:Ct,portalRef:vt,isTopModal:It,exited:Ft,hasTransition:Et}=pkt({...mt,rootRef:r}),lt={...mt,exited:Ft},kt=gkt(lt),At={};if(v.props.tabIndex===void 0&&(At.tabIndex="-1"),Et){const{onEnter:de,onExited:Se}=Ct();At.onEnter=de,At.onExited=Se}const Nt={slots:{root:R.Root,backdrop:R.Backdrop,...at},slotProps:{...A,...bt}},[qt,ie]=ma("root",{ref:r,elementType:ykt,externalForwardedProps:{...Nt,...dt,component:k},getSlotProps:wt,ownerState:lt,className:Jn(a,kt?.root,!lt.open&&lt.exited&&kt?.hidden)}),[Ht,ce]=ma("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:Nt,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:de=>pt({...de,onClick:Se=>{de?.onClick&&de.onClick(Se)}}),className:Jn(o?.className,kt?.backdrop),ownerState:lt});return!X&&!it&&(!Et||Ft)?null:Qt.jsx(bW,{ref:vt,container:x,disablePortal:H,children:Qt.jsxs(qt,{...ie,children:[!j&&i?Qt.jsx(Ht,{...ce}):null,Qt.jsx(hkt,{disableEnforceFocus:D,disableAutoFocus:O,disableRestoreFocus:G,isEnabled:It,open:it,children:ht.cloneElement(v,At)})]})})});function bkt(t){return ha("MuiDialog",t)}const bN=aa("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),EW=ht.createContext({}),_kt=Tn(hO,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),xkt=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:o}=t,u={root:["root"],container:["container",`scroll${bn(r)}`],paper:["paper",`paperScroll${bn(r)}`,`paperWidth${bn(String(n))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return da(u,bkt,e)},wkt=Tn(dO,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Skt=Tn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${bn(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Ekt=Tn(Ex,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${bn(r.scroll)}`],e[`paperWidth${bn(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(Qi(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${bN.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${bN.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${bN.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Tkt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiDialog"}),i=Lg(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":a,"aria-modal":g=!0,BackdropComponent:v,BackdropProps:x,children:k,className:R,disableEscapeKeyDown:A=!1,fullScreen:O=!1,fullWidth:D=!1,maxWidth:U="sm",onClick:H,onClose:G,open:z,PaperComponent:j=Ex,PaperProps:X={},scroll:Y="paper",slots:rt={},slotProps:st={},TransitionComponent:it=uM,transitionDuration:bt=o,TransitionProps:at,...$}=n,dt={...n,disableEscapeKeyDown:A,fullScreen:O,fullWidth:D,maxWidth:U,scroll:Y},mt=xkt(dt),wt=ht.useRef(),pt=He=>{wt.current=He.target===He.currentTarget},Ct=He=>{H&&H(He),wt.current&&(wt.current=null,G&&G(He,"backdropClick"))},vt=_0(a),It=ht.useMemo(()=>({titleId:vt}),[vt]),Ft={transition:it,...rt},Et={transition:at,paper:X,backdrop:x,...st},lt={slots:Ft,slotProps:Et},[kt,At]=ma("root",{elementType:wkt,shouldForwardComponentProp:!0,externalForwardedProps:lt,ownerState:dt,className:Jn(mt.root,R),ref:r}),[Nt,qt]=ma("backdrop",{elementType:_kt,shouldForwardComponentProp:!0,externalForwardedProps:lt,ownerState:dt}),[ie,Ht]=ma("paper",{elementType:Ekt,shouldForwardComponentProp:!0,externalForwardedProps:lt,ownerState:dt,className:Jn(mt.paper,X.className)}),[ce,de]=ma("container",{elementType:Skt,externalForwardedProps:lt,ownerState:dt,className:mt.container}),[Se,$t]=ma("transition",{elementType:uM,externalForwardedProps:lt,ownerState:dt,additionalProps:{appear:!0,in:z,timeout:bt,role:"presentation"}});return Qt.jsx(kt,{closeAfterTransition:!0,slots:{backdrop:Nt},slotProps:{backdrop:{transitionDuration:bt,as:v,...qt}},disableEscapeKeyDown:A,onClose:G,open:z,onClick:Ct,...At,...$,children:Qt.jsx(Se,{...$t,children:Qt.jsx(ce,{onMouseDown:pt,...de,children:Qt.jsx(ie,{as:j,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":vt,"aria-modal":g,...Ht,children:Qt.jsx(EW.Provider,{value:It,children:k})})})})})});function Ckt(t){return ha("MuiDialogActions",t)}aa("MuiDialogActions",["root","spacing"]);const Akt=t=>{const{classes:e,disableSpacing:r}=t;return da({root:["root",!r&&"spacing"]},Ckt,e)},kkt=Tn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ikt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...u}=n,a={...n,disableSpacing:o},g=Akt(a);return Qt.jsx(kkt,{className:Jn(g.root,i),ownerState:a,ref:r,...u})});function Rkt(t){return ha("MuiDialogContent",t)}aa("MuiDialogContent",["root","dividers"]);function Nkt(t){return ha("MuiDialogTitle",t)}const Lkt=aa("MuiDialogTitle",["root"]),Mkt=t=>{const{classes:e,dividers:r}=t;return da({root:["root",r&&"dividers"]},Rkt,e)},Pkt=Tn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(Qi(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Lkt.root} + &`]:{paddingTop:0}}}]}))),Okt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...u}=n,a={...n,dividers:o},g=Mkt(a);return Qt.jsx(Pkt,{className:Jn(g.root,i),ownerState:a,ref:r,...u})}),Dkt=t=>{const{classes:e}=t;return da({root:["root"]},Nkt,e)},Bkt=Tn(Io,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),zkt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...u}=n,a=n,g=Dkt(a),{titleId:v=o}=ht.useContext(EW);return Qt.jsx(Bkt,{component:"h2",className:Jn(g.root,i),ownerState:a,ref:r,variant:"h6",id:o??v,...u})});function Fkt(t){return ha("MuiDivider",t)}const NV=aa("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),jkt=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:o,orientation:u,textAlign:a,variant:g}=t;return da({root:["root",e&&"absolute",g,o&&"light",u==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&u==="vertical"&&"withChildrenVertical",a==="right"&&u!=="vertical"&&"textAlignRight",a==="left"&&u!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",u==="vertical"&&"wrapperVertical"]},Fkt,n)},Vkt=Tn("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(Qi(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),$kt=Tn("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(Qi(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Fv=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:u,orientation:a="horizontal",component:g=o||a==="vertical"?"div":"hr",flexItem:v=!1,light:x=!1,role:k=g!=="hr"?"separator":void 0,textAlign:R="center",variant:A="fullWidth",...O}=n,D={...n,absolute:i,component:g,flexItem:v,light:x,orientation:a,role:k,textAlign:R,variant:A},U=jkt(D);return Qt.jsx(Vkt,{as:g,className:Jn(U.root,u),role:k,ref:r,ownerState:D,"aria-orientation":k==="separator"&&(g!=="hr"||a==="vertical")?a:void 0,...O,children:o?Qt.jsx($kt,{className:U.wrapper,ownerState:D,children:o}):null})});Fv&&(Fv.muiSkipListHighlight=!0);function Ukt(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),o=Ep(e);let u;if(e.fakeTransform)u=e.fakeTransform;else{const v=o.getComputedStyle(e);u=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let a=0,g=0;if(u&&u!=="none"&&typeof u=="string"){const v=u.split("(")[1].split(")")[0].split(",");a=parseInt(v[4],10),g=parseInt(v[5],10)}return t==="left"?i?`translateX(${i.right+a-n.left}px)`:`translateX(${o.innerWidth+a-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-a}px)`:`translateX(-${n.left+n.width-a}px)`:t==="up"?i?`translateY(${i.bottom+g-n.top}px)`:`translateY(${o.innerHeight+g-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-g}px)`:`translateY(-${n.top+n.height-g}px)`}function qkt(t){return typeof t=="function"?t():t}function q5(t,e,r){const n=qkt(r),i=Ukt(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const Gkt=ht.forwardRef(function(e,r){const n=Lg(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:u,appear:a=!0,children:g,container:v,direction:x="down",easing:k=i,in:R,onEnter:A,onEntered:O,onEntering:D,onExit:U,onExited:H,onExiting:G,style:z,timeout:j=o,TransitionComponent:X=Uf,...Y}=e,rt=ht.useRef(null),st=uu(x0(g),rt,r),it=vt=>It=>{vt&&(It===void 0?vt(rt.current):vt(rt.current,It))},bt=it((vt,It)=>{q5(x,vt,v),eO(vt),A&&A(vt,It)}),at=it((vt,It)=>{const Ft=Cy({timeout:j,style:z,easing:k},{mode:"enter"});vt.style.webkitTransition=n.transitions.create("-webkit-transform",{...Ft}),vt.style.transition=n.transitions.create("transform",{...Ft}),vt.style.webkitTransform="none",vt.style.transform="none",D&&D(vt,It)}),$=it(O),dt=it(G),mt=it(vt=>{const It=Cy({timeout:j,style:z,easing:k},{mode:"exit"});vt.style.webkitTransition=n.transitions.create("-webkit-transform",It),vt.style.transition=n.transitions.create("transform",It),q5(x,vt,v),U&&U(vt)}),wt=it(vt=>{vt.style.webkitTransition="",vt.style.transition="",H&&H(vt)}),pt=vt=>{u&&u(rt.current,vt)},Ct=ht.useCallback(()=>{rt.current&&q5(x,rt.current,v)},[x,v]);return ht.useEffect(()=>{if(R||x==="down"||x==="right")return;const vt=ZP(()=>{rt.current&&q5(x,rt.current,v)}),It=Ep(rt.current);return It.addEventListener("resize",vt),()=>{vt.clear(),It.removeEventListener("resize",vt)}},[x,R,v]),ht.useEffect(()=>{R||Ct()},[R,Ct]),Qt.jsx(X,{nodeRef:rt,onEnter:bt,onEntered:$,onEntering:at,onExit:mt,onExited:wt,onExiting:dt,addEndListener:pt,appear:a,in:R,timeout:j,...Y,children:(vt,{ownerState:It,...Ft})=>ht.cloneElement(g,{ref:st,style:{visibility:vt==="exited"&&!R?"hidden":void 0,...z,...g.props.style},...Ft})})});function Hkt(t){return ha("MuiDrawer",t)}aa("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const TW=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},Xkt=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root",`anchor${bn(r)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${bn(r)}`,n!=="temporary"&&`paperAnchorDocked${bn(r)}`]};return da(i,Hkt,e)},Wkt=Tn(dO,{name:"MuiDrawer",slot:"Root",overridesResolver:TW})(Qi(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),Ykt=Tn("div",{shouldForwardProp:Oh,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:TW})({flex:"0 0 auto"}),Kkt=Tn(Ex,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${bn(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${bn(r.anchor)}`]]}})(Qi(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),CW={left:"right",right:"left",top:"down",bottom:"up"};function Zkt(t){return["left","right"].includes(t)}function Qkt({direction:t},e){return t==="rtl"&&Zkt(e)?CW[e]:e}const AW=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiDrawer"}),i=Lg(),o=Sx(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:g,children:v,className:x,elevation:k=16,hideBackdrop:R=!1,ModalProps:{BackdropProps:A,...O}={},onClose:D,open:U=!1,PaperProps:H={},SlideProps:G,TransitionComponent:z,transitionDuration:j=u,variant:X="temporary",slots:Y={},slotProps:rt={},...st}=n,it=ht.useRef(!1);ht.useEffect(()=>{it.current=!0},[]);const bt=Qkt({direction:o?"rtl":"ltr"},a),$={...n,anchor:a,elevation:k,open:U,variant:X,...st},dt=Xkt($),mt={slots:{transition:z,...Y},slotProps:{paper:H,transition:G,...rt,backdrop:QP(rt.backdrop||{...g,...A},{transitionDuration:j})}},[wt,pt]=ma("root",{ref:r,elementType:Wkt,className:Jn(dt.root,dt.modal,x),shouldForwardComponentProp:!0,ownerState:$,externalForwardedProps:{...mt,...st,...O},additionalProps:{open:U,onClose:D,hideBackdrop:R,slots:{backdrop:mt.slots.backdrop},slotProps:{backdrop:mt.slotProps.backdrop}}}),[Ct,vt]=ma("paper",{elementType:Kkt,shouldForwardComponentProp:!0,className:Jn(dt.paper,H.className),ownerState:$,externalForwardedProps:mt,additionalProps:{elevation:X==="temporary"?k:0,square:!0,...X==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[It,Ft]=ma("docked",{elementType:Ykt,ref:r,className:Jn(dt.root,dt.docked,x),ownerState:$,externalForwardedProps:mt,additionalProps:st}),[Et,lt]=ma("transition",{elementType:Gkt,ownerState:$,externalForwardedProps:mt,additionalProps:{in:U,direction:CW[bt],timeout:j,appear:it.current}}),kt=Qt.jsx(Ct,{...vt,children:v});if(X==="permanent")return Qt.jsx(It,{...Ft,children:kt});const At=Qt.jsx(Et,{...lt,children:kt});return X==="persistent"?Qt.jsx(It,{...Ft,children:At}):Qt.jsx(wt,{...pt,children:At})}),Jkt=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:o,hiddenLabel:u,multiline:a}=t,g={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${bn(o)}`,u&&"hiddenLabel",a&&"multiline"],input:["input"]},v=da(g,bAt,e);return{...e,...v}},tIt=Tn(zA,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...DA(t,e),!r.disableUnderline&&e.underline]}})(Qi(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${xv.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${xv.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:u})=>!u.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xv.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xv.disabled}, .${xv.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${xv.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(lu()).map(([u])=>({props:{disableUnderline:!1,color:u},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[u]?.main}`}}})),{props:({ownerState:u})=>u.startAdornment,style:{paddingLeft:12}},{props:({ownerState:u})=>u.endAdornment,style:{paddingRight:12}},{props:({ownerState:u})=>u.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:u,size:a})=>u.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel&&u.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),eIt=Tn(FA,{name:"MuiFilledInput",slot:"Input",overridesResolver:BA})(Qi(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),fO=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:u,fullWidth:a=!1,hiddenLabel:g,inputComponent:v="input",multiline:x=!1,slotProps:k,slots:R={},type:A="text",...O}=n,D={...n,disableUnderline:i,fullWidth:a,inputComponent:v,multiline:x,type:A},U=Jkt(n),H={root:{ownerState:D},input:{ownerState:D}},G=k??u?$c(H,k??u):H,z=R.root??o.Root??tIt,j=R.input??o.Input??eIt;return Qt.jsx(cO,{slots:{root:z,input:j},slotProps:G,fullWidth:a,inputComponent:v,multiline:x,ref:r,type:A,...O,classes:U})});fO.muiName="Input";function rIt(t){return ha("MuiFormControl",t)}aa("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const nIt=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${bn(r)}`,n&&"fullWidth"]};return da(i,rIt,e)},iIt=Tn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${bn(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),hM=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiFormControl"}),{children:i,className:o,color:u="primary",component:a="div",disabled:g=!1,error:v=!1,focused:x,fullWidth:k=!1,hiddenLabel:R=!1,margin:A="none",required:O=!1,size:D="medium",variant:U="outlined",...H}=n,G={...n,color:u,component:a,disabled:g,error:v,fullWidth:k,hiddenLabel:R,margin:A,required:O,size:D,variant:U},z=nIt(G),[j,X]=ht.useState(()=>{let wt=!1;return i&&ht.Children.forEach(i,pt=>{if(!TE(pt,["Input","Select"]))return;const Ct=TE(pt,["Select"])?pt.props.input:pt;Ct&&pAt(Ct.props)&&(wt=!0)}),wt}),[Y,rt]=ht.useState(()=>{let wt=!1;return i&&ht.Children.forEach(i,pt=>{TE(pt,["Input","Select"])&&(OT(pt.props,!0)||OT(pt.props.inputProps,!0))&&(wt=!0)}),wt}),[st,it]=ht.useState(!1);g&&st&&it(!1);const bt=x!==void 0&&!g?x:st;let at;ht.useRef(!1);const $=ht.useCallback(()=>{rt(!0)},[]),dt=ht.useCallback(()=>{rt(!1)},[]),mt=ht.useMemo(()=>({adornedStart:j,setAdornedStart:X,color:u,disabled:g,error:v,filled:Y,focused:bt,fullWidth:k,hiddenLabel:R,size:D,onBlur:()=>{it(!1)},onFocus:()=>{it(!0)},onEmpty:dt,onFilled:$,registerEffect:at,required:O,variant:U}),[j,u,g,v,Y,bt,k,R,at,dt,$,O,D,U]);return Qt.jsx(uO.Provider,{value:mt,children:Qt.jsx(iIt,{as:a,ownerState:G,className:Jn(z.root,o),ref:r,...H,children:i})})});function aIt(t){return ha("MuiFormHelperText",t)}const LV=aa("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var MV;const oIt=t=>{const{classes:e,contained:r,size:n,disabled:i,error:o,filled:u,focused:a,required:g}=t,v={root:["root",i&&"disabled",o&&"error",n&&`size${bn(n)}`,r&&"contained",a&&"focused",u&&"filled",g&&"required"]};return da(v,aIt,e)},sIt=Tn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${bn(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(Qi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${LV.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${LV.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),lIt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:u="p",disabled:a,error:g,filled:v,focused:x,margin:k,required:R,variant:A,...O}=n,D=w0(),U=Tx({props:n,muiFormControl:D,states:["variant","size","disabled","error","filled","focused","required"]}),H={...n,component:u,contained:U.variant==="filled"||U.variant==="outlined",variant:U.variant,size:U.size,disabled:U.disabled,error:U.error,filled:U.filled,focused:U.focused,required:U.required};delete H.ownerState;const G=oIt(H);return Qt.jsx(sIt,{as:u,className:Jn(G.root,o),ref:r,...O,ownerState:H,children:i===" "?MV||(MV=Qt.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function uIt(t){return ha("MuiFormLabel",t)}const H2=aa("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cIt=t=>{const{classes:e,color:r,focused:n,disabled:i,error:o,filled:u,required:a}=t,g={root:["root",`color${bn(r)}`,i&&"disabled",o&&"error",u&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return da(g,uIt,e)},hIt=Tn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(Qi(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{[`&.${H2.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${H2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${H2.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),dIt=Tn("span",{name:"MuiFormLabel",slot:"Asterisk"})(Qi(({theme:t})=>({[`&.${H2.error}`]:{color:(t.vars||t).palette.error.main}}))),fIt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:u,component:a="label",disabled:g,error:v,filled:x,focused:k,required:R,...A}=n,O=w0(),D=Tx({props:n,muiFormControl:O,states:["color","required","focused","disabled","error","filled"]}),U={...n,color:D.color||"primary",component:a,disabled:D.disabled,error:D.error,filled:D.filled,focused:D.focused,required:D.required},H=cIt(U);return Qt.jsxs(hIt,{as:a,ownerState:U,className:Jn(H.root,o),ref:r,...A,children:[i,D.required&&Qt.jsxs(dIt,{ownerState:U,"aria-hidden":!0,className:H.asterisk,children:["","*"]})]})});function dM(t){return`scale(${t}, ${t**2})`}const pIt={entering:{opacity:1,transform:dM(1)},entered:{opacity:1,transform:"none"}},_N=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),DT=ht.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:o,easing:u,in:a,onEnter:g,onEntered:v,onEntering:x,onExit:k,onExited:R,onExiting:A,style:O,timeout:D="auto",TransitionComponent:U=Uf,...H}=e,G=zv(),z=ht.useRef(),j=Lg(),X=ht.useRef(null),Y=uu(X,x0(o),r),rt=wt=>pt=>{if(wt){const Ct=X.current;pt===void 0?wt(Ct):wt(Ct,pt)}},st=rt(x),it=rt((wt,pt)=>{eO(wt);const{duration:Ct,delay:vt,easing:It}=Cy({style:O,timeout:D,easing:u},{mode:"enter"});let Ft;D==="auto"?(Ft=j.transitions.getAutoHeightDuration(wt.clientHeight),z.current=Ft):Ft=Ct,wt.style.transition=[j.transitions.create("opacity",{duration:Ft,delay:vt}),j.transitions.create("transform",{duration:_N?Ft:Ft*.666,delay:vt,easing:It})].join(","),g&&g(wt,pt)}),bt=rt(v),at=rt(A),$=rt(wt=>{const{duration:pt,delay:Ct,easing:vt}=Cy({style:O,timeout:D,easing:u},{mode:"exit"});let It;D==="auto"?(It=j.transitions.getAutoHeightDuration(wt.clientHeight),z.current=It):It=pt,wt.style.transition=[j.transitions.create("opacity",{duration:It,delay:Ct}),j.transitions.create("transform",{duration:_N?It:It*.666,delay:_N?Ct:Ct||It*.333,easing:vt})].join(","),wt.style.opacity=0,wt.style.transform=dM(.75),k&&k(wt)}),dt=rt(R),mt=wt=>{D==="auto"&&G.start(z.current||0,wt),n&&n(X.current,wt)};return Qt.jsx(U,{appear:i,in:a,nodeRef:X,onEnter:it,onEntered:bt,onEntering:st,onExit:$,onExited:dt,onExiting:at,addEndListener:mt,timeout:D==="auto"?null:D,...H,children:(wt,{ownerState:pt,...Ct})=>ht.cloneElement(o,{style:{opacity:0,transform:dM(.75),visibility:wt==="exited"&&!a?"hidden":void 0,...pIt[wt],...O,...o.props.style},ref:Y,...Ct})})});DT&&(DT.muiSupportAuto=!0);const mIt=t=>{const{classes:e,disableUnderline:r}=t,i=da({root:["root",!r&&"underline"],input:["input"]},yAt,e);return{...e,...i}},gIt=Tn(zA,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...DA(t,e),!r.disableUnderline&&e.underline]}})(Qi(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${t2.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${t2.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${t2.disabled}, .${t2.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${t2.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(lu()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),yIt=Tn(FA,{name:"MuiInput",slot:"Input",overridesResolver:BA})({}),pO=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:u,fullWidth:a=!1,inputComponent:g="input",multiline:v=!1,slotProps:x,slots:k={},type:R="text",...A}=n,O=mIt(n),U={root:{ownerState:{disableUnderline:i}}},H=x??u?$c(x??u,U):U,G=k.root??o.Root??gIt,z=k.input??o.Input??yIt;return Qt.jsx(cO,{slots:{root:G,input:z},slotProps:H,fullWidth:a,inputComponent:g,multiline:v,ref:r,type:R,...A,classes:O})});pO.muiName="Input";function vIt(t){return ha("MuiInputLabel",t)}aa("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const bIt=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:o,variant:u,required:a}=t,g={root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&n!=="medium"&&`size${bn(n)}`,u],asterisk:[a&&"asterisk"]},v=da(g,vIt,e);return{...e,...v}},_It=Tn(fIt,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${H2.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(Qi(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),fM=ht.forwardRef(function(e,r){const n=ga({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:u,variant:a,className:g,...v}=n,x=w0();let k=u;typeof k>"u"&&x&&(k=x.filled||x.focused||x.adornedStart);const R=Tx({props:n,muiFormControl:x,states:["size","variant","required","focused"]}),A={...n,disableAnimation:i,formControl:x,shrink:k,size:R.size,variant:R.variant,required:R.required,focused:R.focused},O=bIt(A);return Qt.jsx(_It,{"data-shrink":k,ref:r,className:Jn(O.root,g),...v,ownerState:A,classes:O})}),Lm=ht.createContext({});function xIt(t){return ha("MuiList",t)}aa("MuiList",["root","padding","dense","subheader"]);const wIt=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return da({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},xIt,e)},SIt=Tn("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),_w=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiList"}),{children:i,className:o,component:u="ul",dense:a=!1,disablePadding:g=!1,subheader:v,...x}=n,k=ht.useMemo(()=>({dense:a}),[a]),R={...n,component:u,dense:a,disablePadding:g},A=wIt(R);return Qt.jsx(Lm.Provider,{value:k,children:Qt.jsxs(SIt,{as:u,className:Jn(A.root,o),ref:r,ownerState:R,...x,children:[v,i]})})});function EIt(t){return ha("MuiListItem",t)}aa("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function TIt(t){return ha("MuiListItemButton",t)}const a_=aa("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),CIt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},AIt=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:o,divider:u,selected:a}=t,v=da({root:["root",n&&"dense",!o&&"gutters",u&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},TIt,r);return{...r,...v}},kIt=Tn(Ay,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:CIt})(Qi(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${a_.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${a_.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${a_.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${a_.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${a_.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),IIt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:u="div",children:a,dense:g=!1,disableGutters:v=!1,divider:x=!1,focusVisibleClassName:k,selected:R=!1,className:A,...O}=n,D=ht.useContext(Lm),U=ht.useMemo(()=>({dense:g||D.dense||!1,alignItems:i,disableGutters:v}),[i,D.dense,g,v]),H=ht.useRef(null);Zh(()=>{o&&H.current&&H.current.focus()},[o]);const G={...n,alignItems:i,dense:U.dense,disableGutters:v,divider:x,selected:R},z=AIt(G),j=uu(H,r);return Qt.jsx(Lm.Provider,{value:U,children:Qt.jsx(kIt,{ref:j,href:O.href||O.to,component:(O.href||O.to)&&u==="div"?"button":u,focusVisibleClassName:Jn(z.focusVisible,k),ownerState:G,className:Jn(z.root,A),...O,classes:z,children:a})})});function RIt(t){return ha("MuiListItemSecondaryAction",t)}aa("MuiListItemSecondaryAction",["root","disableGutters"]);const NIt=t=>{const{disableGutters:e,classes:r}=t;return da({root:["root",e&&"disableGutters"]},RIt,r)},LIt=Tn("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),kW=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...o}=n,u=ht.useContext(Lm),a={...n,disableGutters:u.disableGutters},g=NIt(a);return Qt.jsx(LIt,{className:Jn(g.root,i),ownerState:a,ref:r,...o})});kW.muiName="ListItemSecondaryAction";const MIt=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},PIt=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:i,disablePadding:o,divider:u,hasSecondaryAction:a}=t;return da({root:["root",n&&"dense",!i&&"gutters",!o&&"padding",u&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},EIt,r)},OIt=Tn("div",{name:"MuiListItem",slot:"Root",overridesResolver:MIt})(Qi(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${a_.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),DIt=Tn("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),kE=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiListItem"}),{alignItems:i="center",children:o,className:u,component:a,components:g={},componentsProps:v={},ContainerComponent:x="li",ContainerProps:{className:k,...R}={},dense:A=!1,disableGutters:O=!1,disablePadding:D=!1,divider:U=!1,secondaryAction:H,slotProps:G={},slots:z={},...j}=n,X=ht.useContext(Lm),Y=ht.useMemo(()=>({dense:A||X.dense||!1,alignItems:i,disableGutters:O}),[i,X.dense,A,O]),rt=ht.useRef(null),st=ht.Children.toArray(o),it=st.length&&TE(st[st.length-1],["ListItemSecondaryAction"]),bt={...n,alignItems:i,dense:Y.dense,disableGutters:O,disablePadding:D,divider:U,hasSecondaryAction:it},at=PIt(bt),$=uu(rt,r),dt=z.root||g.Root||OIt,mt=G.root||v.root||{},wt={className:Jn(at.root,mt.className,u),...j};let pt=a||"li";return it?(pt=!wt.component&&!a?"div":pt,x==="li"&&(pt==="li"?pt="div":wt.component==="li"&&(wt.component="div")),Qt.jsx(Lm.Provider,{value:Y,children:Qt.jsxs(DIt,{as:x,className:Jn(at.container,k),ref:$,ownerState:bt,...R,children:[Qt.jsx(dt,{...mt,...!Rm(dt)&&{as:pt,ownerState:{...bt,...mt.ownerState}},...wt,children:st}),st.pop()]})})):Qt.jsx(Lm.Provider,{value:Y,children:Qt.jsxs(dt,{...mt,as:pt,ref:$,...!Rm(dt)&&{ownerState:{...bt,...mt.ownerState}},...wt,children:[st,H&&Qt.jsx(kW,{children:H})]})})}),PV=aa("MuiListItemIcon",["root","alignItemsFlexStart"]);function BIt(t){return ha("MuiListItemText",t)}const x_=aa("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),zIt=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:o}=t;return da({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},BIt,e)},FIt=Tn("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${x_.primary}`]:e.primary},{[`& .${x_.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${lV.root}:where(& .${x_.primary})`]:{display:"block"},[`.${lV.root}:where(& .${x_.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),IE=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:u=!1,inset:a=!1,primary:g,primaryTypographyProps:v,secondary:x,secondaryTypographyProps:k,slots:R={},slotProps:A={},...O}=n,{dense:D}=ht.useContext(Lm);let U=g??i,H=x;const G={...n,disableTypography:u,inset:a,primary:!!U,secondary:!!H,dense:D},z=zIt(G),j={slots:R,slotProps:{primary:v,secondary:k,...A}},[X,Y]=ma("root",{className:Jn(z.root,o),elementType:FIt,externalForwardedProps:{...j,...O},ownerState:G,ref:r}),[rt,st]=ma("primary",{className:z.primary,elementType:Io,externalForwardedProps:j,ownerState:G}),[it,bt]=ma("secondary",{className:z.secondary,elementType:Io,externalForwardedProps:j,ownerState:G});return U!=null&&U.type!==Io&&!u&&(U=Qt.jsx(rt,{variant:D?"body2":"body1",component:st?.variant?void 0:"span",...st,children:U})),H!=null&&H.type!==Io&&!u&&(H=Qt.jsx(it,{variant:"body2",color:"textSecondary",...bt,children:H})),Qt.jsxs(X,{...Y,children:[U,H]})});function xN(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function OV(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function IW(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function e2(t,e,r,n,i,o){let u=!1,a=i(t,e,e?r:!1);for(;a;){if(a===t.firstChild){if(u)return!1;u=!0}const g=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!IW(a,o)||g)a=i(t,a,r);else return a.focus(),!0}return!1}const jIt=ht.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:u,className:a,disabledItemsFocusable:g=!1,disableListWrap:v=!1,onKeyDown:x,variant:k="selectedMenu",...R}=e,A=ht.useRef(null),O=ht.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Zh(()=>{i&&A.current.focus()},[i]),ht.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(z,{direction:j})=>{const X=!A.current.style.width;if(z.clientHeight<A.current.clientHeight&&X){const Y=`${SW(Ep(z))}px`;A.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=Y,A.current.style.width=`calc(100% + ${Y})`}return A.current}}),[]);const D=z=>{const j=A.current,X=z.key;if(z.ctrlKey||z.metaKey||z.altKey){x&&x(z);return}const rt=uh(j).activeElement;if(X==="ArrowDown")z.preventDefault(),e2(j,rt,v,g,xN);else if(X==="ArrowUp")z.preventDefault(),e2(j,rt,v,g,OV);else if(X==="Home")z.preventDefault(),e2(j,null,v,g,xN);else if(X==="End")z.preventDefault(),e2(j,null,v,g,OV);else if(X.length===1){const st=O.current,it=X.toLowerCase(),bt=performance.now();st.keys.length>0&&(bt-st.lastTime>500?(st.keys=[],st.repeating=!0,st.previousKeyMatched=!0):st.repeating&&it!==st.keys[0]&&(st.repeating=!1)),st.lastTime=bt,st.keys.push(it);const at=rt&&!st.repeating&&IW(rt,st);st.previousKeyMatched&&(at||e2(j,rt,!1,g,xN,st))?z.preventDefault():st.previousKeyMatched=!1}x&&x(z)},U=uu(A,r);let H=-1;ht.Children.forEach(u,(z,j)=>{if(!ht.isValidElement(z)){H===j&&(H+=1,H>=u.length&&(H=-1));return}z.props.disabled||(k==="selectedMenu"&&z.props.selected||H===-1)&&(H=j),H===j&&(z.props.disabled||z.props.muiSkipListHighlight||z.type.muiSkipListHighlight)&&(H+=1,H>=u.length&&(H=-1))});const G=ht.Children.map(u,(z,j)=>{if(j===H){const X={};return o&&(X.autoFocus=!0),z.props.tabIndex===void 0&&k==="selectedMenu"&&(X.tabIndex=0),ht.cloneElement(z,X)}return z});return Qt.jsx(_w,{role:"menu",ref:U,className:a,onKeyDown:D,tabIndex:i?0:-1,...R,children:G})});function VIt(t){return ha("MuiPopover",t)}aa("MuiPopover",["root","paper"]);function DV(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function BV(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function zV(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function G5(t){return typeof t=="function"?t():t}const $It=t=>{const{classes:e}=t;return da({root:["root"],paper:["paper"]},VIt,e)},UIt=Tn(dO,{name:"MuiPopover",slot:"Root"})({}),RW=Tn(Ex,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qIt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:g="anchorEl",children:v,className:x,container:k,elevation:R=8,marginThreshold:A=16,open:O,PaperProps:D={},slots:U={},slotProps:H={},transformOrigin:G={vertical:"top",horizontal:"left"},TransitionComponent:z,transitionDuration:j="auto",TransitionProps:X={},disableScrollLock:Y=!1,...rt}=n,st=ht.useRef(),it={...n,anchorOrigin:u,anchorReference:g,elevation:R,marginThreshold:A,transformOrigin:G,TransitionComponent:z,transitionDuration:j,TransitionProps:X},bt=$It(it),at=ht.useCallback(()=>{if(g==="anchorPosition")return a;const de=G5(o),$t=(de&&de.nodeType===1?de:uh(st.current).body).getBoundingClientRect();return{top:$t.top+DV($t,u.vertical),left:$t.left+BV($t,u.horizontal)}},[o,u.horizontal,u.vertical,a,g]),$=ht.useCallback(de=>({vertical:DV(de,G.vertical),horizontal:BV(de,G.horizontal)}),[G.horizontal,G.vertical]),dt=ht.useCallback(de=>{const Se={width:de.offsetWidth,height:de.offsetHeight},$t=$(Se);if(g==="none")return{top:null,left:null,transformOrigin:zV($t)};const He=at();let ke=He.top-$t.vertical,Jt=He.left-$t.horizontal;const Vr=ke+Se.height,vr=Jt+Se.width,Dr=Ep(G5(o)),Ie=Dr.innerHeight-A,Mr=Dr.innerWidth-A;if(A!==null&&ke<A){const ir=ke-A;ke-=ir,$t.vertical+=ir}else if(A!==null&&Vr>Ie){const ir=Vr-Ie;ke-=ir,$t.vertical+=ir}if(A!==null&&Jt<A){const ir=Jt-A;Jt-=ir,$t.horizontal+=ir}else if(vr>Mr){const ir=vr-Mr;Jt-=ir,$t.horizontal+=ir}return{top:`${Math.round(ke)}px`,left:`${Math.round(Jt)}px`,transformOrigin:zV($t)}},[o,g,at,$,A]),[mt,wt]=ht.useState(O),pt=ht.useCallback(()=>{const de=st.current;if(!de)return;const Se=dt(de);Se.top!==null&&de.style.setProperty("top",Se.top),Se.left!==null&&(de.style.left=Se.left),de.style.transformOrigin=Se.transformOrigin,wt(!0)},[dt]);ht.useEffect(()=>(Y&&window.addEventListener("scroll",pt),()=>window.removeEventListener("scroll",pt)),[o,Y,pt]);const Ct=()=>{pt()},vt=()=>{wt(!1)};ht.useEffect(()=>{O&&pt()}),ht.useImperativeHandle(i,()=>O?{updatePosition:()=>{pt()}}:null,[O,pt]),ht.useEffect(()=>{if(!O)return;const de=ZP(()=>{pt()}),Se=Ep(G5(o));return Se.addEventListener("resize",de),()=>{de.clear(),Se.removeEventListener("resize",de)}},[o,O,pt]);let It=j;const Ft={slots:{transition:z,...U},slotProps:{transition:X,paper:D,...H}},[Et,lt]=ma("transition",{elementType:DT,externalForwardedProps:Ft,ownerState:it,getSlotProps:de=>({...de,onEntering:(Se,$t)=>{de.onEntering?.(Se,$t),Ct()},onExited:Se=>{de.onExited?.(Se),vt()}}),additionalProps:{appear:!0,in:O}});j==="auto"&&!Et.muiSupportAuto&&(It=void 0);const kt=k||(o?uh(G5(o)).body:void 0),[At,{slots:Nt,slotProps:qt,...ie}]=ma("root",{ref:r,elementType:UIt,externalForwardedProps:{...Ft,...rt},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:U.backdrop},slotProps:{backdrop:QP(typeof H.backdrop=="function"?H.backdrop(it):H.backdrop,{invisible:!0})},container:kt,open:O},ownerState:it,className:Jn(bt.root,x)}),[Ht,ce]=ma("paper",{ref:st,className:bt.paper,elementType:RW,externalForwardedProps:Ft,shouldForwardComponentProp:!0,additionalProps:{elevation:R,style:mt?void 0:{opacity:0}},ownerState:it});return Qt.jsx(At,{...ie,...!Rm(At)&&{slots:Nt,slotProps:qt,disableScrollLock:Y},children:Qt.jsx(Et,{...lt,timeout:It,children:Qt.jsx(Ht,{...ce,children:v})})})});function GIt(t){return ha("MuiMenu",t)}aa("MuiMenu",["root","paper","list"]);const HIt={vertical:"top",horizontal:"right"},XIt={vertical:"top",horizontal:"left"},WIt=t=>{const{classes:e}=t;return da({root:["root"],paper:["paper"],list:["list"]},GIt,e)},YIt=Tn(qIt,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),KIt=Tn(RW,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ZIt=Tn(jIt,{name:"MuiMenu",slot:"List"})({outline:0}),QIt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:u,disableAutoFocusItem:a=!1,MenuListProps:g={},onClose:v,open:x,PaperProps:k={},PopoverClasses:R,transitionDuration:A="auto",TransitionProps:{onEntering:O,...D}={},variant:U="selectedMenu",slots:H={},slotProps:G={},...z}=n,j=Sx(),X={...n,autoFocus:i,disableAutoFocusItem:a,MenuListProps:g,onEntering:O,PaperProps:k,transitionDuration:A,TransitionProps:D,variant:U},Y=WIt(X),rt=i&&!a&&x,st=ht.useRef(null),it=(It,Ft)=>{st.current&&st.current.adjustStyleForScrollbar(It,{direction:j?"rtl":"ltr"}),O&&O(It,Ft)},bt=It=>{It.key==="Tab"&&(It.preventDefault(),v&&v(It,"tabKeyDown"))};let at=-1;ht.Children.map(o,(It,Ft)=>{ht.isValidElement(It)&&(It.props.disabled||(U==="selectedMenu"&&It.props.selected||at===-1)&&(at=Ft))});const $={slots:H,slotProps:{list:g,transition:D,paper:k,...G}},dt=am({elementType:H.root,externalSlotProps:G.root,ownerState:X,className:[Y.root,u]}),[mt,wt]=ma("paper",{className:Y.paper,elementType:KIt,externalForwardedProps:$,shouldForwardComponentProp:!0,ownerState:X}),[pt,Ct]=ma("list",{className:Jn(Y.list,g.className),elementType:ZIt,shouldForwardComponentProp:!0,externalForwardedProps:$,getSlotProps:It=>({...It,onKeyDown:Ft=>{bt(Ft),It.onKeyDown?.(Ft)}}),ownerState:X}),vt=typeof $.slotProps.transition=="function"?$.slotProps.transition(X):$.slotProps.transition;return Qt.jsx(YIt,{onClose:v,anchorOrigin:{vertical:"bottom",horizontal:j?"right":"left"},transformOrigin:j?HIt:XIt,slots:{root:H.root,paper:mt,backdrop:H.backdrop,...H.transition&&{transition:H.transition}},slotProps:{root:dt,paper:wt,backdrop:typeof G.backdrop=="function"?G.backdrop(X):G.backdrop,transition:{...vt,onEntering:(...It)=>{it(...It),vt?.onEntering?.(...It)}}},open:x,ref:r,transitionDuration:A,ownerState:X,...z,classes:R,children:Qt.jsx(pt,{actions:st,autoFocus:i&&(at===-1||a),autoFocusItem:rt,variant:U,...Ct,children:o})})});function JIt(t){return ha("MuiMenuItem",t)}const r2=aa("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),t3t=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},e3t=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:o,classes:u}=t,g=da({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},JIt,u);return{...u,...g}},r3t=Tn(Ay,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:t3t})(Qi(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${r2.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${r2.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${r2.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${r2.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${r2.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${NV.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${NV.inset}`]:{marginLeft:52},[`& .${x_.root}`]:{marginTop:0,marginBottom:0},[`& .${x_.inset}`]:{paddingLeft:36},[`& .${PV.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${PV.root} svg`]:{fontSize:"1.25rem"}}}]}))),H5=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:u=!1,divider:a=!1,disableGutters:g=!1,focusVisibleClassName:v,role:x="menuitem",tabIndex:k,className:R,...A}=n,O=ht.useContext(Lm),D=ht.useMemo(()=>({dense:u||O.dense||!1,disableGutters:g}),[O.dense,u,g]),U=ht.useRef(null);Zh(()=>{i&&U.current&&U.current.focus()},[i]);const H={...n,dense:D.dense,divider:a,disableGutters:g},G=e3t(n),z=uu(U,r);let j;return n.disabled||(j=k!==void 0?k:-1),Qt.jsx(Lm.Provider,{value:D,children:Qt.jsx(r3t,{ref:z,role:x,tabIndex:j,component:o,focusVisibleClassName:Jn(G.focusVisible,v),className:Jn(G.root,R),...A,ownerState:H,classes:G})})});function n3t(t){return ha("MuiNativeSelect",t)}const mO=aa("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),i3t=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:u}=t,a={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${bn(r)}`,o&&"iconOpen",n&&"disabled"]};return da(a,n3t,e)},NW=Tn("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${mO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),a3t=Tn(NW,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Oh,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${mO.multiple}`]:e.multiple}]}})({}),LW=Tn("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${mO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),o3t=Tn(LW,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${bn(r.variant)}`],r.open&&e.iconOpen]}})({}),s3t=ht.forwardRef(function(e,r){const{className:n,disabled:i,error:o,IconComponent:u,inputRef:a,variant:g="standard",...v}=e,x={...e,disabled:i,variant:g,error:o},k=i3t(x);return Qt.jsxs(ht.Fragment,{children:[Qt.jsx(a3t,{ownerState:x,className:Jn(k.select,n),disabled:i,ref:a||r,...v}),e.multiple?null:Qt.jsx(o3t,{as:u,ownerState:x,className:k.icon})]})});var FV;const l3t=Tn("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Oh})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),u3t=Tn("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Oh})(Qi(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function c3t(t){const{children:e,classes:r,className:n,label:i,notched:o,...u}=t,a=i!=null&&i!=="",g={...t,notched:o,withLabel:a};return Qt.jsx(l3t,{"aria-hidden":!0,className:n,ownerState:g,...u,children:Qt.jsx(u3t,{ownerState:g,children:a?Qt.jsx("span",{children:i}):FV||(FV=Qt.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const h3t=t=>{const{classes:e}=t,n=da({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},vAt,e);return{...e,...n}},d3t=Tn(zA,{shouldForwardProp:t=>Oh(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:DA})(Qi(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${rm.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${rm.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}},[`&.${rm.focused} .${rm.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(lu()).map(([r])=>({props:{color:r},style:{[`&.${rm.focused} .${rm.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${rm.error} .${rm.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${rm.disabled} .${rm.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),f3t=Tn(c3t,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Qi(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):e}})),p3t=Tn(FA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:BA})(Qi(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),gO=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:u="input",label:a,multiline:g=!1,notched:v,slots:x={},slotProps:k={},type:R="text",...A}=n,O=h3t(n),D=w0(),U=Tx({props:n,muiFormControl:D,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),H={...n,color:U.color||"primary",disabled:U.disabled,error:U.error,focused:U.focused,formControl:D,fullWidth:o,hiddenLabel:U.hiddenLabel,multiline:g,size:U.size,type:R},G=x.root??i.Root??d3t,z=x.input??i.Input??p3t,[j,X]=ma("notchedOutline",{elementType:f3t,className:O.notchedOutline,shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{slots:x,slotProps:k},additionalProps:{label:a!=null&&a!==""&&U.required?Qt.jsxs(ht.Fragment,{children:[a,"","*"]}):a}});return Qt.jsx(cO,{slots:{root:G,input:z},slotProps:k,renderSuffix:Y=>Qt.jsx(j,{...X,notched:typeof v<"u"?v:!!(Y.startAdornment||Y.filled||Y.focused)}),fullWidth:o,inputComponent:u,multiline:g,ref:r,type:R,...A,classes:{...O,notchedOutline:null}})});gO.muiName="Input";function m3t(t){return ha("MuiPagination",t)}aa("MuiPagination",["root","ul","outlined","text"]);function g3t(t={}){const{boundaryCount:e=1,componentName:r="usePagination",count:n=1,defaultPage:i=1,disabled:o=!1,hideNextButton:u=!1,hidePrevButton:a=!1,onChange:g,page:v,showFirstButton:x=!1,showLastButton:k=!1,siblingCount:R=1,...A}=t,[O,D]=tx({controlled:v,default:i,name:r,state:"page"}),U=(it,bt)=>{v||D(bt),g&&g(it,bt)},H=(it,bt)=>{const at=bt-it+1;return Array.from({length:at},($,dt)=>it+dt)},G=H(1,Math.min(e,n)),z=H(Math.max(n-e+1,e+1),n),j=Math.max(Math.min(O-R,n-e-R*2-1),e+2),X=Math.min(Math.max(O+R,e+R*2+2),n-e-1),Y=[...x?["first"]:[],...a?[]:["previous"],...G,...j>e+2?["start-ellipsis"]:e+1<n-e?[e+1]:[],...H(j,X),...X<n-e-1?["end-ellipsis"]:n-e>e?[n-e]:[],...z,...u?[]:["next"],...k?["last"]:[]],rt=it=>{switch(it){case"first":return 1;case"previous":return O-1;case"next":return O+1;case"last":return n;default:return null}};return{items:Y.map(it=>typeof it=="number"?{onClick:bt=>{U(bt,it)},type:"page",page:it,selected:it===O,disabled:o,"aria-current":it===O?"page":void 0}:{onClick:bt=>{U(bt,rt(it))},type:it,page:rt(it),selected:!1,disabled:o||!it.includes("ellipsis")&&(it==="next"||it==="last"?O>=n:O<=1)}),...A}}function y3t(t){return ha("MuiPaginationItem",t)}const Xh=aa("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),v3t=Bl(Qt.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),b3t=Bl(Qt.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),_3t=Bl(Qt.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),x3t=Bl(Qt.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),MW=(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${bn(r.size)}`],r.variant==="text"&&e[`text${bn(r.color)}`],r.variant==="outlined"&&e[`outlined${bn(r.color)}`],r.shape==="rounded"&&e.rounded,r.type==="page"&&e.page,(r.type==="start-ellipsis"||r.type==="end-ellipsis")&&e.ellipsis,(r.type==="previous"||r.type==="next")&&e.previousNext,(r.type==="first"||r.type==="last")&&e.firstLast]},w3t=t=>{const{classes:e,color:r,disabled:n,selected:i,size:o,shape:u,type:a,variant:g}=t,v={root:["root",`size${bn(o)}`,g,u,r!=="standard"&&`color${bn(r)}`,r!=="standard"&&`${g}${bn(r)}`,n&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return da(v,y3t,e)},S3t=Tn("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:MW})(Qi(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${Xh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),E3t=Tn(Ay,{name:"MuiPaginationItem",slot:"Root",overridesResolver:MW})(Qi(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${Xh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Xh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xh.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Xh.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${Xh.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Xh.selected}`]:{[`&.${Xh.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${Xh.selected}`]:{[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(lu(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${Xh.selected}`]:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}},[`&.${Xh.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e].dark},[`&.${Xh.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(lu(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${Xh.selected}`]:{color:(t.vars||t).palette[e].main,border:`1px solid ${t.alpha((t.vars||t).palette[e].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xh.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[e].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),T3t=Tn("div",{name:"MuiPaginationItem",slot:"Icon"})(Qi(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),C3t=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:u,components:a={},disabled:g=!1,page:v,selected:x=!1,shape:k="circular",size:R="medium",slots:A={},slotProps:O={},type:D="page",variant:U="text",...H}=n,G={...n,color:o,disabled:g,selected:x,shape:k,size:R,type:D,variant:U},z=Sx(),j=w3t(G),X={slots:{previous:A.previous??a.previous,next:A.next??a.next,first:A.first??a.first,last:A.last??a.last},slotProps:O},[Y,rt]=ma("previous",{elementType:_3t,externalForwardedProps:X,ownerState:G}),[st,it]=ma("next",{elementType:x3t,externalForwardedProps:X,ownerState:G}),[bt,at]=ma("first",{elementType:v3t,externalForwardedProps:X,ownerState:G}),[$,dt]=ma("last",{elementType:b3t,externalForwardedProps:X,ownerState:G}),mt=z?{previous:"next",next:"previous",first:"last",last:"first"}[D]:D,wt={previous:Y,next:st,first:bt,last:$}[mt],pt={previous:rt,next:it,first:at,last:dt}[mt];return D==="start-ellipsis"||D==="end-ellipsis"?Qt.jsx(S3t,{ref:r,ownerState:G,className:Jn(j.root,i),children:""}):Qt.jsxs(E3t,{ref:r,ownerState:G,component:u,disabled:g,className:Jn(j.root,i),...H,children:[D==="page"&&v,wt?Qt.jsx(T3t,{...pt,className:j.icon,as:wt}):null]})}),A3t=t=>{const{classes:e,variant:r}=t;return da({root:["root",r],ul:["ul"]},m3t,e)},k3t=Tn("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant]]}})({}),I3t=Tn("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function R3t(t,e,r){return t==="page"?`${r?"":"Go to "}page ${e}`:`Go to ${t} page`}const N3t=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:u="standard",count:a=1,defaultPage:g=1,disabled:v=!1,getItemAriaLabel:x=R3t,hideNextButton:k=!1,hidePrevButton:R=!1,onChange:A,page:O,renderItem:D=bt=>Qt.jsx(C3t,{...bt}),shape:U="circular",showFirstButton:H=!1,showLastButton:G=!1,siblingCount:z=1,size:j="medium",variant:X="text",...Y}=n,{items:rt}=g3t({...n,componentName:"Pagination"}),st={...n,boundaryCount:i,color:u,count:a,defaultPage:g,disabled:v,getItemAriaLabel:x,hideNextButton:k,hidePrevButton:R,renderItem:D,shape:U,showFirstButton:H,showLastButton:G,siblingCount:z,size:j,variant:X},it=A3t(st);return Qt.jsx(k3t,{"aria-label":"pagination navigation",className:Jn(it.root,o),ownerState:st,ref:r,...Y,children:Qt.jsx(I3t,{className:it.ul,ownerState:st,children:rt.map((bt,at)=>Qt.jsx("li",{children:D({...bt,color:u,"aria-label":x(bt.type,bt.page,bt.selected),shape:U,size:j,variant:X})},at))})})}),L3t={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function PW(t){return ha("MuiSelect",t)}const n2=aa("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var jV;const M3t=Tn(NW,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${n2.select}`]:e.select},{[`&.${n2.select}`]:e[r.variant]},{[`&.${n2.error}`]:e.error},{[`&.${n2.multiple}`]:e.multiple}]}})({[`&.${n2.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),P3t=Tn(LW,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${bn(r.variant)}`],r.open&&e.iconOpen]}})({}),O3t=Tn("input",{shouldForwardProp:t=>MA(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function VV(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function D3t(t){return t==null||typeof t=="string"&&!t.trim()}const B3t=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:o,error:u}=t,a={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${bn(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return da(a,PW,e)},z3t=ht.forwardRef(function(e,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:u,children:a,className:g,defaultOpen:v,defaultValue:x,disabled:k,displayEmpty:R,error:A=!1,IconComponent:O,inputRef:D,labelId:U,MenuProps:H={},multiple:G,name:z,onBlur:j,onChange:X,onClose:Y,onFocus:rt,onOpen:st,open:it,readOnly:bt,renderValue:at,required:$,SelectDisplayProps:dt={},tabIndex:mt,type:wt,value:pt,variant:Ct="standard",...vt}=e,[It,Ft]=tx({controlled:pt,default:x,name:"Select"}),[Et,lt]=tx({controlled:it,default:v,name:"Select"}),kt=ht.useRef(null),At=ht.useRef(null),[Nt,qt]=ht.useState(null),{current:ie}=ht.useRef(it!=null),[Ht,ce]=ht.useState(),de=uu(r,D),Se=ht.useCallback(Bt=>{At.current=Bt,Bt&&qt(Bt)},[]),$t=Nt?.parentNode;ht.useImperativeHandle(de,()=>({focus:()=>{At.current.focus()},node:kt.current,value:It}),[It]),ht.useEffect(()=>{v&&Et&&Nt&&!ie&&(ce(u?null:$t.clientWidth),At.current.focus())},[Nt,u]),ht.useEffect(()=>{o&&At.current.focus()},[o]),ht.useEffect(()=>{if(!U)return;const Bt=uh(At.current).getElementById(U);if(Bt){const oe=()=>{getSelection().isCollapsed&&At.current.focus()};return Bt.addEventListener("click",oe),()=>{Bt.removeEventListener("click",oe)}}},[U]);const He=(Bt,oe)=>{Bt?st&&st(oe):Y&&Y(oe),ie||(ce(u?null:$t.clientWidth),lt(Bt))},ke=Bt=>{Bt.button===0&&(Bt.preventDefault(),At.current.focus(),He(!0,Bt))},Jt=Bt=>{He(!1,Bt)},Vr=ht.Children.toArray(a),vr=Bt=>{const oe=Vr.find(ye=>ye.props.value===Bt.target.value);oe!==void 0&&(Ft(oe.props.value),X&&X(Bt,oe))},Dr=Bt=>oe=>{let ye;if(oe.currentTarget.hasAttribute("tabindex")){if(G){ye=Array.isArray(It)?It.slice():[];const je=It.indexOf(Bt.props.value);je===-1?ye.push(Bt.props.value):ye.splice(je,1)}else ye=Bt.props.value;if(Bt.props.onClick&&Bt.props.onClick(oe),It!==ye&&(Ft(ye),X)){const je=oe.nativeEvent||oe,Ge=new je.constructor(je.type,je);Object.defineProperty(Ge,"target",{writable:!0,value:{value:ye,name:z}}),X(Ge,Bt)}G||He(!1,oe)}},Ie=Bt=>{bt||[" ","ArrowUp","ArrowDown","Enter"].includes(Bt.key)&&(Bt.preventDefault(),He(!0,Bt))},Mr=Nt!==null&&Et,ir=Bt=>{!Mr&&j&&(Object.defineProperty(Bt,"target",{writable:!0,value:{value:It,name:z}}),j(Bt))};delete vt["aria-invalid"];let Rr,Pr;const Ir=[];let dr=!1;(OT({value:It})||R)&&(at?Rr=at(It):dr=!0);const ar=Vr.map(Bt=>{if(!ht.isValidElement(Bt))return null;let oe;if(G){if(!Array.isArray(It))throw new Error(Cg(2));oe=It.some(ye=>VV(ye,Bt.props.value)),oe&&dr&&Ir.push(Bt.props.children)}else oe=VV(It,Bt.props.value),oe&&dr&&(Pr=Bt.props.children);return ht.cloneElement(Bt,{"aria-selected":oe?"true":"false",onClick:Dr(Bt),onKeyUp:ye=>{ye.key===" "&&ye.preventDefault(),Bt.props.onKeyUp&&Bt.props.onKeyUp(ye)},role:"option",selected:oe,value:void 0,"data-value":Bt.props.value})});dr&&(G?Ir.length===0?Rr=null:Rr=Ir.reduce((Bt,oe,ye)=>(Bt.push(oe),ye<Ir.length-1&&Bt.push(", "),Bt),[]):Rr=Pr);let Or=Ht;!u&&ie&&Nt&&(Or=$t.clientWidth);let er;typeof mt<"u"?er=mt:er=k?null:0;const Fr=dt.id||(z?`mui-component-select-${z}`:void 0),Ze={...e,variant:Ct,value:It,open:Mr,error:A},rr=B3t(Ze),Me={...H.PaperProps,...typeof H.slotProps?.paper=="function"?H.slotProps.paper(Ze):H.slotProps?.paper},jt={...H.MenuListProps,...typeof H.slotProps?.list=="function"?H.slotProps.list(Ze):H.slotProps?.list},Mt=_0();return Qt.jsxs(ht.Fragment,{children:[Qt.jsx(M3t,{as:"div",ref:Se,tabIndex:er,role:"combobox","aria-controls":Mr?Mt:void 0,"aria-disabled":k?"true":void 0,"aria-expanded":Mr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[U,Fr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":$?"true":void 0,"aria-invalid":A?"true":void 0,onKeyDown:Ie,onMouseDown:k||bt?null:ke,onBlur:ir,onFocus:rt,...dt,ownerState:Ze,className:Jn(dt.className,rr.select,g),id:Fr,children:D3t(Rr)?jV||(jV=Qt.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Rr}),Qt.jsx(O3t,{"aria-invalid":A,value:Array.isArray(It)?It.join(","):It,name:z,ref:kt,"aria-hidden":!0,onChange:vr,tabIndex:-1,disabled:k,className:rr.nativeInput,autoFocus:o,required:$,...vt,ownerState:Ze}),Qt.jsx(P3t,{as:O,className:rr.icon,ownerState:Ze}),Qt.jsx(QIt,{id:`menu-${z||""}`,anchorEl:$t,open:Mr,onClose:Jt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...H,slotProps:{...H.slotProps,list:{"aria-labelledby":U,role:"listbox","aria-multiselectable":G?"true":void 0,disableListWrap:!0,id:Mt,...jt},paper:{...Me,style:{minWidth:Or,...Me!=null?Me.style:null}}},children:ar})]})}),F3t=t=>{const{classes:e}=t,n=da({root:["root"]},PW,e);return{...e,...n}},yO={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Oh(t)&&t!=="variant"},j3t=Tn(pO,yO)(""),V3t=Tn(gO,yO)(""),$3t=Tn(fO,yO)(""),BT=ht.forwardRef(function(e,r){const n=ga({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:u={},className:a,defaultOpen:g=!1,displayEmpty:v=!1,IconComponent:x=_At,id:k,input:R,inputProps:A,label:O,labelId:D,MenuProps:U,multiple:H=!1,native:G=!1,onClose:z,onOpen:j,open:X,renderValue:Y,SelectDisplayProps:rt,variant:st="outlined",...it}=n,bt=G?s3t:z3t,at=w0(),$=Tx({props:n,muiFormControl:at,states:["variant","error"]}),dt=$.variant||st,mt={...n,variant:dt,classes:u},wt=F3t(mt),{root:pt,...Ct}=wt,vt=R||{standard:Qt.jsx(j3t,{ownerState:mt}),outlined:Qt.jsx(V3t,{label:O,ownerState:mt}),filled:Qt.jsx($3t,{ownerState:mt})}[dt],It=uu(r,x0(vt));return Qt.jsx(ht.Fragment,{children:ht.cloneElement(vt,{inputComponent:bt,inputProps:{children:o,error:$.error,IconComponent:x,variant:dt,type:void 0,multiple:H,...G?{id:k}:{autoWidth:i,defaultOpen:g,displayEmpty:v,labelId:D,MenuProps:U,onClose:z,onOpen:j,open:X,renderValue:Y,SelectDisplayProps:{id:k,...rt}},...A,classes:A?$c(Ct,A.classes):Ct,...R?R.props.inputProps:{}},...(H&&G||v)&&dt==="outlined"?{notched:!0}:{},ref:It,className:Jn(vt.props.className,a,wt.root),...!R&&{variant:dt},...it})})});BT.muiName="Select";function U3t(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const q3t=2;function Pb(t,e,r,n,i){return r===1?Math.min(t+e,i):Math.max(t-e,n)}function OW(t,e){return t-e}function $V(t,e){const{index:r}=t.reduce((n,i,o)=>{const u=Math.abs(e-i);return n===null||u<n.distance||u===n.distance?{distance:u,index:o}:n},null)??{};return r}function X5(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function zT(t,e,r){return(t-e)*100/(r-e)}function G3t(t,e,r){return(r-e)*t+e}function H3t(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function X3t(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(H3t(e)))}function UV({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(OW)}function W5({sliderRef:t,activeIndex:e,setActive:r}){const n=uh(t.current);(!t.current?.contains(n.activeElement)||Number(n?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),r&&r(e)}function Y5(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?U3t(t,e):!1}const W3t={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Y3t=t=>t;let K5;function qV(){return K5===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?K5=CSS.supports("touch-action","none"):K5=!0),K5}function K3t(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:o=!1,marks:u=!1,max:a=100,min:g=0,name:v,onChange:x,onChangeCommitted:k,orientation:R="horizontal",rootRef:A,scale:O=Y3t,step:D=1,shiftStep:U=10,tabIndex:H,value:G}=t,z=ht.useRef(void 0),[j,X]=ht.useState(-1),[Y,rt]=ht.useState(-1),[st,it]=ht.useState(!1),bt=ht.useRef(0),at=ht.useRef(null),[$,dt]=tx({controlled:G,default:r??g,name:"Slider"}),mt=x&&((dr,ar,Or)=>{const er=dr.nativeEvent||dr,Fr=new er.constructor(er.type,er);Object.defineProperty(Fr,"target",{writable:!0,value:{value:ar,name:v}}),at.current=ar,x(Fr,ar,Or)}),wt=Array.isArray($);let pt=wt?$.slice().sort(OW):[$];pt=pt.map(dr=>dr==null?g:n_(dr,g,a));const Ct=u===!0&&D!==null?[...Array(Math.floor((a-g)/D)+1)].map((dr,ar)=>({value:g+D*ar})):u||[],vt=Ct.map(dr=>dr.value),[It,Ft]=ht.useState(-1),Et=ht.useRef(null),lt=uu(A,Et),kt=dr=>ar=>{const Or=Number(ar.currentTarget.getAttribute("data-index"));ex(ar.target)&&Ft(Or),rt(Or),dr?.onFocus?.(ar)},At=dr=>ar=>{ex(ar.target)||Ft(-1),rt(-1),dr?.onBlur?.(ar)},Nt=(dr,ar)=>{const Or=Number(dr.currentTarget.getAttribute("data-index")),er=pt[Or],Fr=vt.indexOf(er);let Ze=ar;if(Ct&&D==null){const rr=vt[vt.length-1];Ze>=rr?Ze=rr:Ze<=vt[0]?Ze=vt[0]:Ze=Ze<er?vt[Fr-1]:vt[Fr+1]}if(Ze=n_(Ze,g,a),wt){i&&(Ze=n_(Ze,pt[Or-1]||-1/0,pt[Or+1]||1/0));const rr=Ze;Ze=UV({values:pt,newValue:Ze,index:Or});let Me=Or;i||(Me=Ze.indexOf(rr)),W5({sliderRef:Et,activeIndex:Me})}dt(Ze),Ft(Or),mt&&!Y5(Ze,$)&&mt(dr,Ze,Or),k&&k(dr,at.current??Ze)},qt=dr=>ar=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ar.key)){ar.preventDefault();const Or=Number(ar.currentTarget.getAttribute("data-index")),er=pt[Or];let Fr=null;if(D!=null){const Ze=ar.shiftKey?U:D;switch(ar.key){case"ArrowUp":Fr=Pb(er,Ze,1,g,a);break;case"ArrowRight":Fr=Pb(er,Ze,o?-1:1,g,a);break;case"ArrowDown":Fr=Pb(er,Ze,-1,g,a);break;case"ArrowLeft":Fr=Pb(er,Ze,o?1:-1,g,a);break;case"PageUp":Fr=Pb(er,U,1,g,a);break;case"PageDown":Fr=Pb(er,U,-1,g,a);break;case"Home":Fr=g;break;case"End":Fr=a;break}}else if(Ct){const Ze=vt[vt.length-1],rr=vt.indexOf(er),Me=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],jt=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Me.includes(ar.key)?rr===0?Fr=vt[0]:Fr=vt[rr-1]:jt.includes(ar.key)&&(rr===vt.length-1?Fr=Ze:Fr=vt[rr+1])}Fr!=null&&Nt(ar,Fr)}dr?.onKeyDown?.(ar)};Zh(()=>{n&&Et.current.contains(document.activeElement)&&document.activeElement?.blur()},[n]),n&&j!==-1&&X(-1),n&&It!==-1&&Ft(-1);const ie=dr=>ar=>{dr.onChange?.(ar),Nt(ar,ar.target.valueAsNumber)},Ht=ht.useRef(void 0);let ce=R;o&&R==="horizontal"&&(ce+="-reverse");const de=({finger:dr,move:ar=!1})=>{const{current:Or}=Et,{width:er,height:Fr,bottom:Ze,left:rr}=Or.getBoundingClientRect();let Me;ce.startsWith("vertical")?Me=(Ze-dr.y)/Fr:Me=(dr.x-rr)/er,ce.includes("-reverse")&&(Me=1-Me);let jt;if(jt=G3t(Me,g,a),D)jt=X3t(jt,D,g);else{const Bt=$V(vt,jt);jt=vt[Bt]}jt=n_(jt,g,a);let Mt=0;if(wt){ar?Mt=Ht.current:Mt=$V(pt,jt),i&&(jt=n_(jt,pt[Mt-1]||-1/0,pt[Mt+1]||1/0));const Bt=jt;jt=UV({values:pt,newValue:jt,index:Mt}),i&&ar||(Mt=jt.indexOf(Bt),Ht.current=Mt)}return{newValue:jt,activeIndex:Mt}},Se=Rf(dr=>{const ar=X5(dr,z);if(!ar)return;if(bt.current+=1,dr.type==="mousemove"&&dr.buttons===0){$t(dr);return}const{newValue:Or,activeIndex:er}=de({finger:ar,move:!0});W5({sliderRef:Et,activeIndex:er,setActive:X}),dt(Or),!st&&bt.current>q3t&&it(!0),mt&&!Y5(Or,$)&&mt(dr,Or,er)}),$t=Rf(dr=>{const ar=X5(dr,z);if(it(!1),!ar)return;const{newValue:Or}=de({finger:ar,move:!0});X(-1),dr.type==="touchend"&&rt(-1),k&&k(dr,at.current??Or),z.current=void 0,ke()}),He=Rf(dr=>{if(n)return;qV()||dr.preventDefault();const ar=dr.changedTouches[0];ar!=null&&(z.current=ar.identifier);const Or=X5(dr,z);if(Or!==!1){const{newValue:Fr,activeIndex:Ze}=de({finger:Or});W5({sliderRef:Et,activeIndex:Ze,setActive:X}),dt(Fr),mt&&!Y5(Fr,$)&&mt(dr,Fr,Ze)}bt.current=0;const er=uh(Et.current);er.addEventListener("touchmove",Se,{passive:!0}),er.addEventListener("touchend",$t,{passive:!0})}),ke=ht.useCallback(()=>{const dr=uh(Et.current);dr.removeEventListener("mousemove",Se),dr.removeEventListener("mouseup",$t),dr.removeEventListener("touchmove",Se),dr.removeEventListener("touchend",$t)},[$t,Se]);ht.useEffect(()=>{const{current:dr}=Et;return dr.addEventListener("touchstart",He,{passive:qV()}),()=>{dr.removeEventListener("touchstart",He),ke()}},[ke,He]),ht.useEffect(()=>{n&&ke()},[n,ke]);const Jt=dr=>ar=>{if(dr.onMouseDown?.(ar),n||ar.defaultPrevented||ar.button!==0)return;ar.preventDefault();const Or=X5(ar,z);if(Or!==!1){const{newValue:Fr,activeIndex:Ze}=de({finger:Or});W5({sliderRef:Et,activeIndex:Ze,setActive:X}),dt(Fr),mt&&!Y5(Fr,$)&&mt(ar,Fr,Ze)}bt.current=0;const er=uh(Et.current);er.addEventListener("mousemove",Se,{passive:!0}),er.addEventListener("mouseup",$t)},Vr=zT(wt?pt[0]:g,g,a),vr=zT(pt[pt.length-1],g,a)-Vr,Dr=(dr={})=>{const ar=V2(dr),Or={onMouseDown:Jt(ar||{})},er={...ar,...Or};return{...dr,ref:lt,...er}},Ie=dr=>ar=>{dr.onMouseOver?.(ar);const Or=Number(ar.currentTarget.getAttribute("data-index"));rt(Or)},Mr=dr=>ar=>{dr.onMouseLeave?.(ar),rt(-1)},ir=(dr={})=>{const ar=V2(dr),Or={onMouseOver:Ie(ar||{}),onMouseLeave:Mr(ar||{})};return{...dr,...ar,...Or}},Rr=dr=>({pointerEvents:j!==-1&&j!==dr?"none":void 0});let Pr;return R==="vertical"&&(Pr=o?"vertical-rl":"vertical-lr"),{active:j,axis:ce,axisProps:W3t,dragging:st,focusedThumbIndex:It,getHiddenInputProps:(dr={})=>{const ar=V2(dr),Or={onChange:ie(ar||{}),onFocus:kt(ar||{}),onBlur:At(ar||{}),onKeyDown:qt(ar||{})},er={...ar,...Or};return{tabIndex:H,"aria-labelledby":e,"aria-orientation":R,"aria-valuemax":O(a),"aria-valuemin":O(g),name:v,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:n,...dr,...er,style:{...L3t,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Pr}}},getRootProps:Dr,getThumbProps:ir,marks:Ct,open:Y,range:wt,rootRef:lt,trackLeap:vr,trackOffset:Vr,values:pt,getThumbStyle:Rr}}const Z3t=t=>!t||!Rm(t);function Q3t(t){return ha("MuiSlider",t)}const Af=aa("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),J3t=t=>{const{open:e}=t;return{offset:Jn(e&&Af.valueLabelOpen),circle:Af.valueLabelCircle,label:Af.valueLabelLabel}};function tRt(t){const{children:e,className:r,value:n}=t,i=J3t(t);return e?ht.cloneElement(e,{className:e.props.className},Qt.jsxs(ht.Fragment,{children:[e.props.children,Qt.jsx("span",{className:Jn(i.offset,r),"aria-hidden":!0,children:Qt.jsx("span",{className:i.circle,children:Qt.jsx("span",{className:i.label,children:n})})})]})):null}function GV(t){return t}const eRt=Tn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${bn(r.color)}`],r.size!=="medium"&&e[`size${bn(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(Qi(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Af.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Af.dragging}`]:{[`& .${Af.thumb}, & .${Af.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),rRt=Tn("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),nRt=Tn("span",{name:"MuiSlider",slot:"Track"})(Qi(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:t.lighten(t.palette[e].main,.62),borderColor:t.lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:t.darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:t.darken(t.palette[e].main,.5)})}}}))]}))),iRt=Tn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${bn(r.color)}`],r.size!=="medium"&&e[`thumbSize${bn(r.size)}`]]}})(Qi(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Af.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(lu()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Af.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.alpha((t.vars||t).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Af.active}`]:{boxShadow:`0px 0px 0px 14px ${t.alpha((t.vars||t).palette[e].main,.16)}`}}}))]}))),aRt=Tn(tRt,{name:"MuiSlider",slot:"ValueLabel"})(Qi(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Af.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Af.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),oRt=Tn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>MA(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(Qi(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),sRt=Tn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>MA(t)&&t!=="markLabelActive"})(Qi(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),lRt=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:o,classes:u,color:a,size:g}=t,v={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",a&&`color${bn(a)}`,g&&`size${bn(g)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",g&&`thumbSize${bn(g)}`,a&&`thumbColor${bn(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return da(v,Q3t,u)},uRt=({children:t})=>t,cRt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiSlider"}),i=Sx(),{"aria-label":o,"aria-valuetext":u,"aria-labelledby":a,component:g="span",components:v={},componentsProps:x={},color:k="primary",classes:R,className:A,disableSwap:O=!1,disabled:D=!1,getAriaLabel:U,getAriaValueText:H,marks:G=!1,max:z=100,min:j=0,name:X,onChange:Y,onChangeCommitted:rt,orientation:st="horizontal",shiftStep:it=10,size:bt="medium",step:at=1,scale:$=GV,slotProps:dt,slots:mt,tabIndex:wt,track:pt="normal",value:Ct,valueLabelDisplay:vt="off",valueLabelFormat:It=GV,...Ft}=n,Et={...n,isRtl:i,max:z,min:j,classes:R,disabled:D,disableSwap:O,orientation:st,marks:G,color:k,size:bt,step:at,shiftStep:it,scale:$,track:pt,valueLabelDisplay:vt,valueLabelFormat:It},{axisProps:lt,getRootProps:kt,getHiddenInputProps:At,getThumbProps:Nt,open:qt,active:ie,axis:Ht,focusedThumbIndex:ce,range:de,dragging:Se,marks:$t,values:He,trackOffset:ke,trackLeap:Jt,getThumbStyle:Vr}=K3t({...Et,rootRef:r});Et.marked=$t.length>0&&$t.some(Ke=>Ke.label),Et.dragging=Se,Et.focusedThumbIndex=ce;const vr=lRt(Et),Dr=mt?.root??v.Root??eRt,Ie=mt?.rail??v.Rail??rRt,Mr=mt?.track??v.Track??nRt,ir=mt?.thumb??v.Thumb??iRt,Rr=mt?.valueLabel??v.ValueLabel??aRt,Pr=mt?.mark??v.Mark??oRt,Ir=mt?.markLabel??v.MarkLabel??sRt,dr=mt?.input??v.Input??"input",ar=dt?.root??x.root,Or=dt?.rail??x.rail,er=dt?.track??x.track,Fr=dt?.thumb??x.thumb,Ze=dt?.valueLabel??x.valueLabel,rr=dt?.mark??x.mark,Me=dt?.markLabel??x.markLabel,jt=dt?.input??x.input,Mt=am({elementType:Dr,getSlotProps:kt,externalSlotProps:ar,externalForwardedProps:Ft,additionalProps:{...Z3t(Dr)&&{as:g}},ownerState:{...Et,...ar?.ownerState},className:[vr.root,A]}),Bt=am({elementType:Ie,externalSlotProps:Or,ownerState:Et,className:vr.rail}),oe=am({elementType:Mr,externalSlotProps:er,additionalProps:{style:{...lt[Ht].offset(ke),...lt[Ht].leap(Jt)}},ownerState:{...Et,...er?.ownerState},className:vr.track}),ye=am({elementType:ir,getSlotProps:Nt,externalSlotProps:Fr,ownerState:{...Et,...Fr?.ownerState},className:vr.thumb}),je=am({elementType:Rr,externalSlotProps:Ze,ownerState:{...Et,...Ze?.ownerState},className:vr.valueLabel}),Ge=am({elementType:Pr,externalSlotProps:rr,ownerState:Et,className:vr.mark}),Ue=am({elementType:Ir,externalSlotProps:Me,ownerState:Et,className:vr.markLabel}),fr=am({elementType:dr,getSlotProps:At,externalSlotProps:jt,ownerState:Et});return Qt.jsxs(Dr,{...Mt,children:[Qt.jsx(Ie,{...Bt}),Qt.jsx(Mr,{...oe}),$t.filter(Ke=>Ke.value>=j&&Ke.value<=z).map((Ke,Pe)=>{const cr=zT(Ke.value,j,z),Oe=lt[Ht].offset(cr);let Wr;return pt===!1?Wr=He.includes(Ke.value):Wr=pt==="normal"&&(de?Ke.value>=He[0]&&Ke.value<=He[He.length-1]:Ke.value<=He[0])||pt==="inverted"&&(de?Ke.value<=He[0]||Ke.value>=He[He.length-1]:Ke.value>=He[0]),Qt.jsxs(ht.Fragment,{children:[Qt.jsx(Pr,{"data-index":Pe,...Ge,...!Rm(Pr)&&{markActive:Wr},style:{...Oe,...Ge.style},className:Jn(Ge.className,Wr&&vr.markActive)}),Ke.label!=null?Qt.jsx(Ir,{"aria-hidden":!0,"data-index":Pe,...Ue,...!Rm(Ir)&&{markLabelActive:Wr},style:{...Oe,...Ue.style},className:Jn(vr.markLabel,Ue.className,Wr&&vr.markLabelActive),children:Ke.label}):null]},Pe)}),He.map((Ke,Pe)=>{const cr=zT(Ke,j,z),Oe=lt[Ht].offset(cr),Wr=vt==="off"?uRt:Rr;return Qt.jsx(Wr,{...!Rm(Wr)&&{valueLabelFormat:It,valueLabelDisplay:vt,value:typeof It=="function"?It($(Ke),Pe):It,index:Pe,open:qt===Pe||ie===Pe||vt==="on",disabled:D},...je,children:Qt.jsx(ir,{"data-index":Pe,...ye,className:Jn(vr.thumb,ye.className,ie===Pe&&vr.active,ce===Pe&&vr.focusVisible),style:{...Oe,...Vr(Pe),...ye.style},children:Qt.jsx(dr,{"data-index":Pe,"aria-label":U?U(Pe):o,"aria-valuenow":$(Ke),"aria-labelledby":a,"aria-valuetext":H?H($(Ke),Pe):u,value:He[Pe],...fr})})},Pe)})]})});function hRt(t){return ha("MuiTooltip",t)}const ju=aa("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function dRt(t){return Math.round(t*1e5)/1e5}const fRt=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:i,placement:o}=t,u={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${bn(o.split("-")[0])}`],arrow:["arrow"]};return da(u,hRt,e)},pRt=Tn(_W,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(Qi(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${ju.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ju.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ju.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ju.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ju.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ju.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ju.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ju.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),mRt=Tn("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${bn(r.placement.split("-")[0])}`]]}})(Qi(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${ju.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ju.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ju.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ju.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${dRt(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${ju.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ju.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${ju.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ju.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${ju.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ju.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${ju.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ju.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ju.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ju.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),gRt=Tn("span",{name:"MuiTooltip",slot:"Arrow"})(Qi(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Z5=!1;const HV=new PA;let i2={x:0,y:0};function Q5(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const a2=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:u,components:a={},componentsProps:g={},describeChild:v=!1,disableFocusListener:x=!1,disableHoverListener:k=!1,disableInteractive:R=!1,disableTouchListener:A=!1,enterDelay:O=100,enterNextDelay:D=0,enterTouchDelay:U=700,followCursor:H=!1,id:G,leaveDelay:z=0,leaveTouchDelay:j=1500,onClose:X,onOpen:Y,open:rt,placement:st="bottom",PopperComponent:it,PopperProps:bt={},slotProps:at={},slots:$={},title:dt,TransitionComponent:mt,TransitionProps:wt,...pt}=n,Ct=ht.isValidElement(o)?o:Qt.jsx("span",{children:o}),vt=Lg(),It=Sx(),[Ft,Et]=ht.useState(),[lt,kt]=ht.useState(null),At=ht.useRef(!1),Nt=R||H,qt=zv(),ie=zv(),Ht=zv(),ce=zv(),[de,Se]=tx({controlled:rt,default:!1,name:"Tooltip",state:"open"});let $t=de;const He=_0(G),ke=ht.useRef(),Jt=Rf(()=>{ke.current!==void 0&&(document.body.style.WebkitUserSelect=ke.current,ke.current=void 0),ce.clear()});ht.useEffect(()=>Jt,[Jt]);const Vr=or=>{HV.clear(),Z5=!0,Se(!0),Y&&!$t&&Y(or)},vr=Rf(or=>{HV.start(800+z,()=>{Z5=!1}),Se(!1),X&&$t&&X(or),qt.start(vt.transitions.duration.shortest,()=>{At.current=!1})}),Dr=or=>{At.current&&or.type!=="touchstart"||(Ft&&Ft.removeAttribute("title"),ie.clear(),Ht.clear(),O||Z5&&D?ie.start(Z5?D:O,()=>{Vr(or)}):Vr(or))},Ie=or=>{ie.clear(),Ht.start(z,()=>{vr(or)})},[,Mr]=ht.useState(!1),ir=or=>{ex(or.target)||(Mr(!1),Ie(or))},Rr=or=>{Ft||Et(or.currentTarget),ex(or.target)&&(Mr(!0),Dr(or))},Pr=or=>{At.current=!0;const vn=Ct.props;vn.onTouchStart&&vn.onTouchStart(or)},Ir=or=>{Pr(or),Ht.clear(),qt.clear(),Jt(),ke.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(U,()=>{document.body.style.WebkitUserSelect=ke.current,Dr(or)})},dr=or=>{Ct.props.onTouchEnd&&Ct.props.onTouchEnd(or),Jt(),Ht.start(j,()=>{vr(or)})};ht.useEffect(()=>{if(!$t)return;function or(vn){vn.key==="Escape"&&vr(vn)}return document.addEventListener("keydown",or),()=>{document.removeEventListener("keydown",or)}},[vr,$t]);const ar=uu(x0(Ct),Et,r);!dt&&dt!==0&&($t=!1);const Or=ht.useRef(),er=or=>{const vn=Ct.props;vn.onMouseMove&&vn.onMouseMove(or),i2={x:or.clientX,y:or.clientY},Or.current&&Or.current.update()},Fr={},Ze=typeof dt=="string";v?(Fr.title=!$t&&Ze&&!k?dt:null,Fr["aria-describedby"]=$t?He:null):(Fr["aria-label"]=Ze?dt:null,Fr["aria-labelledby"]=$t&&!Ze?He:null);const rr={...Fr,...pt,...Ct.props,className:Jn(pt.className,Ct.props.className),onTouchStart:Pr,ref:ar,...H?{onMouseMove:er}:{}},Me={};A||(rr.onTouchStart=Ir,rr.onTouchEnd=dr),k||(rr.onMouseOver=Q5(Dr,rr.onMouseOver),rr.onMouseLeave=Q5(Ie,rr.onMouseLeave),Nt||(Me.onMouseOver=Dr,Me.onMouseLeave=Ie)),x||(rr.onFocus=Q5(Rr,rr.onFocus),rr.onBlur=Q5(ir,rr.onBlur),Nt||(Me.onFocus=Rr,Me.onBlur=ir));const jt={...n,isRtl:It,arrow:i,disableInteractive:Nt,placement:st,PopperComponentProp:it,touch:At.current},Mt=typeof at.popper=="function"?at.popper(jt):at.popper,Bt=ht.useMemo(()=>{let or=[{name:"arrow",enabled:!!lt,options:{element:lt,padding:4}}];return bt.popperOptions?.modifiers&&(or=or.concat(bt.popperOptions.modifiers)),Mt?.popperOptions?.modifiers&&(or=or.concat(Mt.popperOptions.modifiers)),{...bt.popperOptions,...Mt?.popperOptions,modifiers:or}},[lt,bt.popperOptions,Mt?.popperOptions]),oe=fRt(jt),ye=typeof at.transition=="function"?at.transition(jt):at.transition,je={slots:{popper:a.Popper,transition:a.Transition??mt,tooltip:a.Tooltip,arrow:a.Arrow,...$},slotProps:{arrow:at.arrow??g.arrow,popper:{...bt,...Mt??g.popper},tooltip:at.tooltip??g.tooltip,transition:{...wt,...ye??g.transition}}},[Ge,Ue]=ma("popper",{elementType:pRt,externalForwardedProps:je,ownerState:jt,className:Jn(oe.popper,bt?.className)}),[fr,Ke]=ma("transition",{elementType:DT,externalForwardedProps:je,ownerState:jt}),[Pe,cr]=ma("tooltip",{elementType:mRt,className:oe.tooltip,externalForwardedProps:je,ownerState:jt}),[Oe,Wr]=ma("arrow",{elementType:gRt,className:oe.arrow,externalForwardedProps:je,ownerState:jt,ref:kt});return Qt.jsxs(ht.Fragment,{children:[ht.cloneElement(Ct,rr),Qt.jsx(Ge,{as:it??_W,placement:st,anchorEl:H?{getBoundingClientRect:()=>({top:i2.y,left:i2.x,right:i2.x,bottom:i2.y,width:0,height:0})}:Ft,popperRef:Or,open:Ft?$t:!1,id:He,transition:!0,...Me,...Ue,popperOptions:Bt,children:({TransitionProps:or})=>Qt.jsx(fr,{timeout:vt.transitions.duration.shorter,...or,...Ke,children:Qt.jsxs(Pe,{...cr,children:[dt,i?Qt.jsx(Oe,{...Wr}):null]})})})]})}),RE=H5t({createStyledComponent:Tn("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>ga({props:t,name:"MuiStack"})});function yRt(t){return ha("MuiToolbar",t)}aa("MuiToolbar",["root","gutters","regular","dense"]);const vRt=t=>{const{classes:e,disableGutters:r,variant:n}=t;return da({root:["root",!r&&"gutters",n]},yRt,e)},bRt=Tn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(Qi(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),_Rt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:u=!1,variant:a="regular",...g}=n,v={...n,component:o,disableGutters:u,variant:a},x=vRt(v);return Qt.jsx(bRt,{as:o,className:Jn(x.root,i),ref:r,ownerState:v,...g})});function xRt(t){return ha("MuiTextField",t)}aa("MuiTextField",["root"]);const wRt={standard:pO,filled:fO,outlined:gO},SRt=t=>{const{classes:e}=t;return da({root:["root"]},xRt,e)},ERt=Tn(hM,{name:"MuiTextField",slot:"Root"})({}),TRt=ht.forwardRef(function(e,r){const n=ga({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:u,className:a,color:g="primary",defaultValue:v,disabled:x=!1,error:k=!1,FormHelperTextProps:R,fullWidth:A=!1,helperText:O,id:D,InputLabelProps:U,inputProps:H,InputProps:G,inputRef:z,label:j,maxRows:X,minRows:Y,multiline:rt=!1,name:st,onBlur:it,onChange:bt,onFocus:at,placeholder:$,required:dt=!1,rows:mt,select:wt=!1,SelectProps:pt,slots:Ct={},slotProps:vt={},type:It,value:Ft,variant:Et="outlined",...lt}=n,kt={...n,autoFocus:o,color:g,disabled:x,error:k,fullWidth:A,multiline:rt,required:dt,select:wt,variant:Et},At=SRt(kt),Nt=_0(D),qt=O&&Nt?`${Nt}-helper-text`:void 0,ie=j&&Nt?`${Nt}-label`:void 0,Ht=wRt[Et],ce={slots:Ct,slotProps:{input:G,inputLabel:U,htmlInput:H,formHelperText:R,select:pt,...vt}},de={},Se=ce.slotProps.inputLabel;Et==="outlined"&&(Se&&typeof Se.shrink<"u"&&(de.notched=Se.shrink),de.label=j),wt&&((!pt||!pt.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[$t,He]=ma("root",{elementType:ERt,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...lt},ownerState:kt,className:Jn(At.root,a),ref:r,additionalProps:{disabled:x,error:k,fullWidth:A,required:dt,color:g,variant:Et}}),[ke,Jt]=ma("input",{elementType:Ht,externalForwardedProps:ce,additionalProps:de,ownerState:kt}),[Vr,vr]=ma("inputLabel",{elementType:fM,externalForwardedProps:ce,ownerState:kt}),[Dr,Ie]=ma("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:kt}),[Mr,ir]=ma("formHelperText",{elementType:lIt,externalForwardedProps:ce,ownerState:kt}),[Rr,Pr]=ma("select",{elementType:BT,externalForwardedProps:ce,ownerState:kt}),Ir=Qt.jsx(ke,{"aria-describedby":qt,autoComplete:i,autoFocus:o,defaultValue:v,fullWidth:A,multiline:rt,name:st,rows:mt,maxRows:X,minRows:Y,type:It,value:Ft,id:Nt,inputRef:z,onBlur:it,onChange:bt,onFocus:at,placeholder:$,inputProps:Ie,slots:{input:Ct.htmlInput?Dr:void 0},...Jt});return Qt.jsxs($t,{...He,children:[j!=null&&j!==""&&Qt.jsx(Vr,{htmlFor:Nt,id:ie,...vr,children:j}),wt?Qt.jsx(Rr,{"aria-describedby":qt,id:Nt,labelId:ie,value:Ft,input:Ir,...Pr,children:u}):Ir,O&&Qt.jsx(Mr,{id:qt,...ir,children:O})]})}),CRt=UX({themeId:vp}),ARt=Bl(Qt.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),kRt=Bl(Qt.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),XV=Bl(Qt.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"})),IRt=Bl(Qt.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),pM=Bl(Qt.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),DW=Bl(Qt.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),RRt=Bl(Qt.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),NRt=Bl(Qt.jsx("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"})),BW=Bl(Qt.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"})),LRt=Bl(Qt.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),zW=Bl([Qt.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),Qt.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")]);function MRt(){return console.log("Rendering Map component"),Qt.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:Qt.jsx(XU,{mapId:"map-1",options:{center:[-98,39],zoom:3,style:{version:8,sources:{"osm-tiles":{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},layers:[{id:"osm-tiles-layer",type:"raster",source:"osm-tiles",minzoom:0,maxzoom:19}]}}})})}const WV=t=>{let e;const r=new Set,n=(v,x)=>{const k=typeof v=="function"?v(e):v;if(!Object.is(k,e)){const R=e;e=x??(typeof k!="object"||k===null)?k:Object.assign({},e,k),r.forEach(A=>A(e,R))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>g,subscribe:v=>(r.add(v),()=>r.delete(v))},g=e=t(n,i,a);return a},PRt=(t=>t?WV(t):WV),ORt=t=>t;function DRt(t,e=ORt){const r=we.useSyncExternalStore(t.subscribe,we.useCallback(()=>e(t.getState()),[t,e]),we.useCallback(()=>e(t.getInitialState()),[t,e]));return we.useDebugValue(r),r}const YV=t=>{const e=PRt(t),r=n=>DRt(e,n);return Object.assign(r,e),r},BRt=(t=>t?YV(t):YV),Xv=BRt(t=>({wmsServices:[],mapBounds:null,zoomToExtent:null,addWMSService:e=>t(r=>r.wmsServices.some(i=>i.id===e.id)?(console.log(" Service already exists, not adding:",e.id),r):(console.log(" Adding WMS service:",e.id,"Total services will be:",r.wmsServices.length+1),{wmsServices:[...r.wmsServices,e]})),removeWMSService:e=>t(r=>(console.log(" Removing WMS service:",e,"Total services will be:",r.wmsServices.length-1),{wmsServices:r.wmsServices.filter(n=>n.id!==e)})),toggleWMSService:e=>t(r=>({wmsServices:r.wmsServices.map(n=>n.id===e?{...n,visible:!n.visible}:n)})),toggleWMSLayer:(e,r)=>t(n=>({wmsServices:n.wmsServices.map(i=>i.id===e?{...i,layers:i.layers.map(o=>o.id===r?{...o,visible:!o.visible}:o)}:i)})),updateWMSOpacity:(e,r)=>t(n=>({wmsServices:n.wmsServices.map(i=>i.id===e?{...i,opacity:r}:i)})),setMapBounds:e=>t({mapBounds:e}),setZoomToExtent:e=>t({zoomToExtent:e})})),KV=t=>Symbol.iterator in t,ZV=t=>"entries"in t,QV=(t,e)=>{const r=t instanceof Map?t:new Map(t.entries()),n=e instanceof Map?e:new Map(e.entries());if(r.size!==n.size)return!1;for(const[i,o]of r)if(!n.has(i)||!Object.is(o,n.get(i)))return!1;return!0},zRt=(t,e)=>{const r=t[Symbol.iterator](),n=e[Symbol.iterator]();let i=r.next(),o=n.next();for(;!i.done&&!o.done;){if(!Object.is(i.value,o.value))return!1;i=r.next(),o=n.next()}return!!i.done&&!!o.done};function FRt(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e)?!1:KV(t)&&KV(e)?ZV(t)&&ZV(e)?QV(t,e):zRt(t,e):QV({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})}function jRt(t){const e=we.useRef(void 0);return r=>{const n=t(r);return FRt(e.current,n)?e.current:e.current=n}}function VRt({service:t}){const e=i4({mapId:"map-1"}),r=ht.useRef(e.map),n=ht.useRef("");ht.useEffect(()=>{r.current=e.map},[e.map]);const i=ht.useMemo(()=>t.layers.map(o=>`${o.id}:${o.name}:${o.visible}`).join("|"),[t.layers]);return ht.useLayoutEffect(()=>{if(!e.map)return;const o=e.map,u=()=>{if(!o)return;console.log("=== Syncing layers for service:",t.id),console.log("Service visible:",t.visible),console.log("Layers config:",t.layers.map(D=>({id:D.id,name:D.name,visible:D.visible})));const a=t.visible?t.layers.filter(D=>D.visible).map(D=>D.name):[];console.log("Visible layer names:",a);const g=`${t.id}-source`,v=`${t.id}-layer`;if(!t.visible||a.length===0){try{o.getLayer(v)&&(o.removeLayer(v),console.log("Removed layer:",v)),o.getSource(g)&&(o.removeSource(g),console.log("Removed source:",g)),n.current=""}catch(D){console.warn("Error removing layer/source:",D)}return}const x=a.join(",");if(console.log("Current layers on map:",n.current),console.log("New layers param:",x),!(n.current!==x)&&o.getLayer(v)){o.getPaintProperty(v,"raster-opacity")!==t.opacity?(o.setPaintProperty(v,"raster-opacity",t.opacity),console.log("Updated opacity only:",t.opacity)):console.log("No changes needed, layers already correct");return}const R=t.version||"1.1.1",A=R>="1.3.0"?"CRS":"SRS",O=`${t.url}?SERVICE=WMS&VERSION=${R}&REQUEST=GetMap&FORMAT=image/png&TRANSPARENT=TRUE&LAYERS=${x}&STYLES=&${A}=EPSG:3857&WIDTH=256&HEIGHT=256&BBOX={bbox-epsg-3857}`;try{o.getLayer(v)&&o.removeLayer(v),o.getSource(g)&&o.removeSource(g);const D={type:"raster",tiles:[O],tileSize:256};t.attribution&&(D.attribution=t.attribution),o.addSource(g,D),console.log("Added/updated source with layers:",x),o.addLayer({id:v,type:"raster",source:g,paint:{"raster-opacity":t.opacity}}),console.log("Added/updated layer with opacity:",t.opacity),n.current=x}catch(D){console.warn("Error syncing layer:",D)}};if(!o.isStyleLoaded()){const a=()=>{o.off("styledata",a),setTimeout(()=>{r.current&&u()},0)};return o.on("styledata",a),()=>{o.off("styledata",a)}}u()},[e.map,t.id,t.visible,t.opacity,t.url,i]),ht.useEffect(()=>{const o=t.id;return()=>{const u=r.current;if(!u)return;const a=`${o}-layer`,g=`${o}-source`;console.log("Cleaning up service:",o);try{u.getLayer(a)&&(u.removeLayer(a),console.log("Removed layer:",a))}catch(v){console.warn("Error removing layer:",v)}try{u.getSource(g)&&(u.removeSource(g),console.log("Removed source:",g))}catch(v){console.warn("Error removing source:",v)}n.current=""}},[]),null}function $Rt(){const t=i4({mapId:"map-1"}),e=Xv(i=>i.setMapBounds),r=Xv(i=>i.zoomToExtent),n=Xv(i=>i.setZoomToExtent);return ht.useEffect(()=>{if(!t.map)return;const i=()=>{const o=t.map?.getBounds();if(o){const u=o.getSouthWest(),a=o.getNorthEast();e([u.lng,u.lat,a.lng,a.lat])}};return t.map.on("load",i),t.map.on("moveend",i),()=>{t.map?.off("load",i),t.map?.off("moveend",i)}},[t.map,e]),ht.useEffect(()=>{if(!t.map||!r)return;const[i,o,u,a]=r;t.map.fitBounds([[i,o],[u,a]],{padding:50}),n(null)},[t.map,r,n]),null}const FW=ht.memo(()=>{const t=Xv(jRt(e=>e.wmsServices));return console.log("MapContent rendering with services:",t.map(e=>({id:e.id,title:e.title}))),Qt.jsxs(Qt.Fragment,{children:[Qt.jsx($Rt,{}),t.map(e=>Qt.jsx(VRt,{service:e},e.id))]})});FW.displayName="MapContent";/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var ho=t=>t!==void 0,jW=(t,e,r)=>e in t?t[e]:t[e]=r;const xw={ELEMENT:1,TEXT:3,CDATA_SECTION:4};class URt{constructor(e){this._parser=new e}toDocument(e){return this._parser.parseFromString(e,"application/xml")}getAllTextContent(e,r){return jA(e,r).join("")}}function jA(t,e){return VW(t,e,[]).join("")}function VW(t,e,r){if(t.nodeType===xw.CDATA_SECTION||t.nodeType===xw.TEXT)e?r.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(t.nodeValue);else{var n;for(n=t.firstChild;n;n=n.nextSibling)VW(n,e,r)}return r}function qRt(t,e,r,n){for(var i=GRt(e);i;i=HRt(i)){var o=i.namespaceURI||null,u=t[o];if(ho(u)){var a=u[i.localName];ho(a)&&a.call(n,i,r)}}}function GRt(t){let e=t.firstElementChild||t.firstChild;for(;e&&e.nodeType!==xw.ELEMENT;)e=e.nextSibling;return e}function HRt(t){let e=t.nextElementSibling||t.nextSibling;for(;e&&e.nodeType!==xw.ELEMENT;)e=e.nextSibling;return e}function fh(t,e,r){return XRt(t,e,r)}function XRt(t,e,r){var n=ho(r)?r:{},i,o;for(i=0,o=t.length;i<o;++i)n[t[i]]=e;return n}function $W(t,e){return(function(r,n){var i=t.call(ho(e)?e:this,r,n);if(ho(i)){var o=n[n.length-1];o.push(i)}})}function qc(t,e,r,n,i){return n.push(t),qRt(e,r,n,i),n.pop()}function Ai(t,e,r){return(function(n,i){let o=t.call(ho(r)?r:this,n,i);if(ho(o)){var u=i[i.length-1],a=ho(e)?e:n.localName;u[a]=o}})}function ld(t,e,r){return(function(n,i){var o=t.call(ho(r)?r:this,n,i);if(ho(o)){var u=i[i.length-1],a=ho(e)?e:n.localName,g=jW(u,a,[]);g.push(o)}})}const WRt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function YRt(t){return t.replace(WRt,"")}function Wv(t){const e=/^\s*(true|1)|(false|0)\s*$/.exec(t);if(e)return ho(e[1])||!1}function w_(t){return yg(jA(t,!1))}function yg(t){const e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(e)return parseFloat(e[1])}function wN(t){return FT(jA(t,!1))}function FT(t){const e=/^\s*(\d+)\s*$/.exec(t);if(e)return parseInt(e[1],10)}function os(t){return YRt(jA(t,!1))}const KRt="http://www.w3.org/1999/xlink";function vO(t){return t.getAttributeNS(KRt,"href")}function ZRt(t,e){return qc({},ENt,t,e)}function UW(t){return[yg(t.getAttribute("minx")),yg(t.getAttribute("miny")),yg(t.getAttribute("maxx")),yg(t.getAttribute("maxy"))]}function QRt(t,e){const r=UW(t),n=[yg(t.getAttribute("resx")),yg(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS")||t.getAttribute("SRS"),extent:r,res:n}}function JRt(t,e){const r=UW(t);if(!(!ho(r[0])||!ho(r[1])||!ho(r[2])||!ho(r[3])))return r}function tNt(t,e){const r=parseFloat(t.getAttribute("min")),n=parseFloat(t.getAttribute("max"));return{min:r,max:n}}function eNt(t,e){const r=qc({},TNt,t,e);if(!ho(r))return;const n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!ho(n)||!ho(i)||!ho(o)||!ho(u)))return[n,i,o,u]}function rNt(t,e){return qc({},vNt,t,e)}function nNt(t,e){return qc({},bNt,t,e)}function iNt(t,e){return qc({},_Nt,t,e)}function aNt(t,e){return qc({},xNt,t,e)}function oNt(t,e){return qc({},wNt,t,e)}function sNt(t,e){return qc([],SNt,t,e)}function lNt(t,e){const r=Wv(t.getAttribute("queryable"));return qc({queryable:ho(r)?r:!1},HW,t,e)}function uNt(t,e){var r=e[e.length-1];const n=qc({},HW,t,e);if(!ho(n))return;let i=Wv(t.getAttribute("queryable"));ho(i)||(i=r.queryable),n.queryable=ho(i)?i:!1;let o=FT(t.getAttribute("cascaded"));ho(o)||(o=r.cascaded),n.cascaded=o;let u=Wv(t.getAttribute("opaque"));ho(u)||(u=r.opaque),n.opaque=ho(u)?u:!1;let a=Wv(t.getAttribute("noSubsets"));ho(a)||(a=r.noSubsets),n.noSubsets=ho(a)?a:!1;let g=yg(t.getAttribute("fixedWidth"));ho(g)||(g=r.fixedWidth),n.fixedWidth=g;let v=yg(t.getAttribute("fixedHeight"));ho(v)||(v=r.fixedHeight),n.fixedHeight=v;const x=["Style","CRS","AuthorityURL"];for(let R=0,A=x.length;R<A;R++){const O=x[R],D=r[O];if(ho(D)){let U=jW(n,O,[]);U=U.concat(D),n[O]=U}}const k=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let R=0,A=k.length;R<A;R++){const O=k[R],D=n[O];if(!ho(D)){const U=r[O];n[O]=U}}return n}function cNt(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Wv(t.getAttribute("multipleValues")),nearestValue:Wv(t.getAttribute("nearestValue")),current:Wv(t.getAttribute("current")),values:os(t)}}function kg(t,e){return qc({},NNt,t,e)}function hNt(t,e){return qc({},CNt,t,e)}function dNt(t,e){return qc({},kNt,t,e)}function fNt(t,e){return qc({},INt,t,e)}function SN(t,e){return qc({},ANt,t,e)}function qW(t,e){var r=kg(t,e);if(ho(r)){const n=[FT(t.getAttribute("width")),FT(t.getAttribute("height"))];return r.size=n,r}}function pNt(t,e){var r=kg(t,e);if(ho(r))return r.name=t.getAttribute("name"),r}function mNt(t,e){var r=kg(t,e);if(ho(r))return r.type=t.getAttribute("type"),r}function gNt(t,e){return qc({},RNt,t,e)}function GW(t,e){return qc([],LNt,t,e)}const ph=[null,"http://www.opengis.net/wms"],yNt=fh(ph,{Service:Ai(nNt),Capability:Ai(rNt)}),vNt=fh(ph,{Request:Ai(hNt),Exception:Ai(sNt),Layer:Ai(lNt)}),bNt=fh(ph,{Name:Ai(os),Title:Ai(os),Abstract:Ai(os),KeywordList:Ai(GW),OnlineResource:Ai(vO),ContactInformation:Ai(iNt),Fees:Ai(os),AccessConstraints:Ai(os),LayerLimit:Ai(wN),MaxWidth:Ai(wN),MaxHeight:Ai(wN)}),_Nt=fh(ph,{ContactPersonPrimary:Ai(aNt),ContactPosition:Ai(os),ContactAddress:Ai(oNt),ContactVoiceTelephone:Ai(os),ContactFacsimileTelephone:Ai(os),ContactElectronicMailAddress:Ai(os)}),xNt=fh(ph,{ContactPerson:Ai(os),ContactOrganization:Ai(os)}),wNt=fh(ph,{AddressType:Ai(os),Address:Ai(os),City:Ai(os),StateOrProvince:Ai(os),PostCode:Ai(os),Country:Ai(os)}),SNt=fh(ph,{Format:$W(os)}),HW=fh(ph,{Name:Ai(os),Title:Ai(os),Abstract:Ai(os),KeywordList:Ai(GW),CRS:ld(os),SRS:ld(os),EX_GeographicBoundingBox:Ai(eNt),LatLonBoundingBox:Ai(JRt),BoundingBox:ld(QRt),Dimension:ld(cNt),Attribution:Ai(ZRt),AuthorityURL:ld(pNt),Identifier:ld(os),MetadataURL:ld(mNt),DataURL:ld(kg),FeatureListURL:ld(kg),Style:ld(gNt),MinScaleDenominator:Ai(w_),MaxScaleDenominator:Ai(w_),ScaleHint:Ai(tNt),Layer:ld(uNt)}),ENt=fh(ph,{Title:Ai(os),OnlineResource:Ai(vO),LogoURL:Ai(qW)}),TNt=fh(ph,{westBoundLongitude:Ai(w_),eastBoundLongitude:Ai(w_),southBoundLatitude:Ai(w_),northBoundLatitude:Ai(w_)}),CNt=fh(ph,{GetCapabilities:Ai(SN),GetMap:Ai(SN),GetFeatureInfo:Ai(SN)}),ANt=fh(ph,{Format:ld(os),DCPType:ld(dNt)}),kNt=fh(ph,{HTTP:Ai(fNt)}),INt=fh(ph,{Get:Ai(kg),Post:Ai(kg)}),RNt=fh(ph,{Name:Ai(os),Title:Ai(os),Abstract:Ai(os),LegendURL:ld(qW),StyleSheetURL:Ai(kg),StyleURL:Ai(kg)}),NNt=fh(ph,{Format:Ai(os),OnlineResource:Ai(vO)}),LNt=fh(ph,{Keyword:$W(os)});class MNt{constructor(e,r){!r&&typeof window<"u"&&(r=window.DOMParser),this.version=void 0,this._parser=new URt(r),this._data=e}data(e){return this._data=e,this}toJSON(e){return e=e||this._data,this.parse(e)}parse(e){return this.readFromDocument(this._parser.toDocument(e))}readFromDocument(e){for(let r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==xw.ELEMENT)return this.readFromNode(r);return null}readFromNode(e){return this.version=e.getAttribute("version"),qc({version:this.version},yNt,e,[])||null}}async function PNt(t){const e=`${t}?service=WMS&request=GetCapabilities`;try{const r=await fetch(e,{mode:"cors",cache:"no-cache"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.text();return new MNt(n,DOMParser).toJSON()}catch(r){throw console.warn("Failed to fetch WMS capabilities (likely CORS issue):",r),new Error("Unable to fetch service capabilities. The WMS server may not support CORS. You can still add the service, but layers must be manually specified.")}}function ONt(t){const e=t.Service||{},r=t.version||"1.1.1",n=[],i=g=>{g.Name&&n.push({id:g.Name,name:g.Name,title:g.Title||g.Name,abstract:g.Abstract,visible:n.length<3}),g.Layer&&(Array.isArray(g.Layer)?g.Layer:[g.Layer]).forEach(x=>i(x))};t.Capability?.Layer&&i(t.Capability.Layer);let o;const u=g=>{if(g.EX_GeographicBoundingBox){const v=g.EX_GeographicBoundingBox;return o=[v.westBoundLongitude,v.southBoundLatitude,v.eastBoundLongitude,v.northBoundLatitude],!0}if(g.Layer){const v=Array.isArray(g.Layer)?g.Layer:[g.Layer];for(const x of v)if(u(x))return!0}return!1};t.Capability?.Layer&&u(t.Capability.Layer);let a;return e.ContactInformation?.ContactPersonPrimary?.ContactOrganization?a=e.ContactInformation.ContactPersonPrimary.ContactOrganization:e.ContactInformation?.ContactOrganization&&(a=e.ContactInformation.ContactOrganization),{name:e.Title||"WMS Service",title:e.Title||"WMS Service",visible:!0,opacity:1,layers:n,extent:o,version:r,abstract:e.Abstract,attribution:a}}function va(t,e,r,n){function i(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function a(x){try{v(n.next(x))}catch(k){u(k)}}function g(x){try{v(n.throw(x))}catch(k){u(k)}}function v(x){x.done?o(x.value):i(x.value).then(a,g)}v((n=n.apply(t,e||[])).next())})}function JV(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Va(t){return this instanceof Va?(this.v=t,this):new Va(t)}function Sm(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(A){return function(O){return Promise.resolve(O).then(A,k)}}function a(A,O){n[A]&&(i[A]=function(D){return new Promise(function(U,H){o.push([A,D,U,H])>1||g(A,D)})},O&&(i[A]=O(i[A])))}function g(A,O){try{v(n[A](O))}catch(D){R(o[0][3],D)}}function v(A){A.value instanceof Va?Promise.resolve(A.value.v).then(x,k):R(o[0][2],A)}function x(A){g("next",A)}function k(A){g("throw",A)}function R(A,O){A(O),o.shift(),o.length&&g(o[0][0],o[0][1])}}function NE(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(u){return(r=!r)?{value:Va(t[i](u)),done:!1}:o?o(u):u}:o}}function Yv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof JV=="function"?JV(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(u){return new Promise(function(a,g){u=t[o](u),i(a,g,u.done,u.value)})}}function i(o,u,a,g){Promise.resolve(g).then(function(v){o({value:v,done:a})},u)}}const DNt=new TextDecoder("utf-8"),mM=t=>DNt.decode(t),BNt=new TextEncoder,bO=t=>BNt.encode(t),zNt=t=>typeof t=="number",XW=t=>typeof t=="boolean",Ac=t=>typeof t=="function",bd=t=>t!=null&&Object(t)===t,o0=t=>bd(t)&&Ac(t.then),lS=t=>bd(t)&&Ac(t[Symbol.iterator]),Cx=t=>bd(t)&&Ac(t[Symbol.asyncIterator]),gM=t=>bd(t)&&bd(t.schema),WW=t=>bd(t)&&"done"in t&&"value"in t,YW=t=>bd(t)&&Ac(t.stat)&&zNt(t.fd),KW=t=>bd(t)&&_O(t.body),VA=t=>"_getDOMStream"in t&&"_getNodeStream"in t,FNt=t=>bd(t)&&Ac(t.abort)&&Ac(t.getWriter)&&!VA(t),_O=t=>bd(t)&&Ac(t.cancel)&&Ac(t.getReader)&&!VA(t),jNt=t=>bd(t)&&Ac(t.end)&&Ac(t.write)&&XW(t.writable)&&!VA(t),ZW=t=>bd(t)&&Ac(t.read)&&Ac(t.pipe)&&XW(t.readable)&&!VA(t),VNt=t=>bd(t)&&Ac(t.clear)&&Ac(t.bytes)&&Ac(t.position)&&Ac(t.setPosition)&&Ac(t.capacity)&&Ac(t.getBufferIdentifier)&&Ac(t.createLong),xO=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function $Nt(t){const e=t[0]?[t[0]]:[];let r,n,i,o;for(let u,a,g=0,v=0,x=t.length;++g<x;){if(u=e[v],a=t[g],!u||!a||u.buffer!==a.buffer||a.byteOffset<u.byteOffset){a&&(e[++v]=a);continue}if({byteOffset:r,byteLength:i}=u,{byteOffset:n,byteLength:o}=a,r+i<n||n+o<r){a&&(e[++v]=a);continue}e[v]=new Uint8Array(u.buffer,r,n-r+o)}return e}function t$(t,e,r=0,n=e.byteLength){const i=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,i),u=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,i));return o.set(u,r),t}function Om(t,e){const r=$Nt(t),n=r.reduce((x,k)=>x+k.byteLength,0);let i,o,u,a=0,g=-1;const v=Math.min(e||Number.POSITIVE_INFINITY,n);for(const x=r.length;++g<x;){if(i=r[g],o=i.subarray(0,Math.min(i.length,v-a)),v<=a+o.length){o.length<i.length?r[g]=i.subarray(o.length):o.length===i.length&&g++,u?t$(u,o,a):u=o;break}t$(u||(u=new Uint8Array(v)),o,a),a+=o.length}return[u||new Uint8Array(0),r.slice(g),n-(u?u.byteLength:0)]}function Xs(t,e){let r=WW(e)?e.value:e;return r instanceof t?t===Uint8Array?new t(r.buffer,r.byteOffset,r.byteLength):r:r?(typeof r=="string"&&(r=bO(r)),r instanceof ArrayBuffer?new t(r):r instanceof xO?new t(r):VNt(r)?Xs(t,r.bytes()):ArrayBuffer.isView(r)?r.byteLength<=0?new t(0):new t(r.buffer,r.byteOffset,r.byteLength/t.BYTES_PER_ELEMENT):t.from(r)):new t(0)}const o2=t=>Xs(Int32Array,t),e$=t=>Xs(BigInt64Array,t),ko=t=>Xs(Uint8Array,t),yM=t=>(t.next(),t);function*UNt(t,e){const r=function*(i){yield i},n=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof xO?r(e):lS(e)?e:r(e);return yield*yM((function*(i){let o=null;do o=i.next(yield Xs(t,o));while(!o.done)})(n[Symbol.iterator]())),new t}const qNt=t=>UNt(Uint8Array,t);function QW(t,e){return Sm(this,arguments,function*(){if(o0(e))return yield Va(yield Va(yield*NE(Yv(QW(t,yield Va(e))))));const n=function(u){return Sm(this,arguments,function*(){yield yield Va(yield Va(u))})},i=function(u){return Sm(this,arguments,function*(){yield Va(yield*NE(Yv(yM((function*(a){let g=null;do g=a.next(yield g?.value);while(!g.done)})(u[Symbol.iterator]())))))})},o=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof xO?n(e):lS(e)?i(e):Cx(e)?e:n(e);return yield Va(yield*NE(Yv(yM((function(u){return Sm(this,arguments,function*(){let a=null;do a=yield Va(u.next(yield yield Va(Xs(t,a))));while(!a.done)})})(o[Symbol.asyncIterator]()))))),yield Va(new t)})}const GNt=t=>QW(Uint8Array,t);function JW(t,e,r){if(t!==0){r=r.slice(0,e);for(let n=-1,i=r.length;++n<i;)r[n]+=t}return r.subarray(0,e)}function HNt(t,e){let r=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do if(t[r]!==e[r])return!1;while(++r<n);return!0}const bf={fromIterable(t){return J5(XNt(t))},fromAsyncIterable(t){return J5(WNt(t))},fromDOMStream(t){return J5(YNt(t))},fromNodeStream(t){return J5(ZNt(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},J5=t=>(t.next(),t);function*XNt(t){let e,r=!1,n=[],i,o,u,a=0;function g(){return o==="peek"?Om(n,u)[0]:([i,n,a]=Om(n,u),i)}({cmd:o,size:u}=(yield null)||{cmd:"read",size:0});const v=qNt(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(u-a)?v.next():v.next(u-a),!e&&i.byteLength>0&&(n.push(i),a+=i.byteLength),e||u<=a)do({cmd:o,size:u}=yield g());while(u<a);while(!e)}catch(x){(r=!0)&&typeof v.throw=="function"&&v.throw(x)}finally{r===!1&&typeof v.return=="function"&&v.return(null)}return null}function WNt(t){return Sm(this,arguments,function*(){let r,n=!1,i=[],o,u,a,g=0;function v(){return u==="peek"?Om(i,a)[0]:([o,i,g]=Om(i,a),o)}({cmd:u,size:a}=(yield yield Va(null))||{cmd:"read",size:0});const x=GNt(t)[Symbol.asyncIterator]();try{do if({done:r,value:o}=Number.isNaN(a-g)?yield Va(x.next()):yield Va(x.next(a-g)),!r&&o.byteLength>0&&(i.push(o),g+=o.byteLength),r||a<=g)do({cmd:u,size:a}=yield yield Va(v()));while(a<g);while(!r)}catch(k){(n=!0)&&typeof x.throw=="function"&&(yield Va(x.throw(k)))}finally{n===!1&&typeof x.return=="function"&&(yield Va(x.return(new Uint8Array(0))))}return yield Va(null)})}function YNt(t){return Sm(this,arguments,function*(){let r=!1,n=!1,i=[],o,u,a,g=0;function v(){return u==="peek"?Om(i,a)[0]:([o,i,g]=Om(i,a),o)}({cmd:u,size:a}=(yield yield Va(null))||{cmd:"read",size:0});const x=new KNt(t);try{do if({done:r,value:o}=Number.isNaN(a-g)?yield Va(x.read()):yield Va(x.read(a-g)),!r&&o.byteLength>0&&(i.push(ko(o)),g+=o.byteLength),r||a<=g)do({cmd:u,size:a}=yield yield Va(v()));while(a<g);while(!r)}catch(k){(n=!0)&&(yield Va(x.cancel(k)))}finally{n===!1?yield Va(x.cancel()):t.locked&&x.releaseLock()}return yield Va(null)})}class KNt{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return va(this,void 0,void 0,function*(){const{reader:r,source:n}=this;r&&(yield r.cancel(e).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(e){return va(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const r=yield this.reader.read();return!r.done&&(r.value=ko(r)),r})}}const EN=(t,e)=>{const r=i=>n([e,i]);let n;return[e,r,new Promise(i=>(n=i)&&t.once(e,r))]};function ZNt(t){return Sm(this,arguments,function*(){const r=[];let n="error",i=!1,o=null,u,a,g=0,v=[],x;function k(){return u==="peek"?Om(v,a)[0]:([x,v,g]=Om(v,a),x)}if({cmd:u,size:a}=(yield yield Va(null))||{cmd:"read",size:0},t.isTTY)return yield yield Va(new Uint8Array(0)),yield Va(null);try{r[0]=EN(t,"end"),r[1]=EN(t,"error");do{if(r[2]=EN(t,"readable"),[n,o]=yield Va(Promise.race(r.map(A=>A[2]))),n==="error")break;if((i=n==="end")||(Number.isFinite(a-g)?(x=ko(t.read(a-g)),x.byteLength<a-g&&(x=ko(t.read()))):x=ko(t.read()),x.byteLength>0&&(v.push(x),g+=x.byteLength)),i||a<=g)do({cmd:u,size:a}=yield yield Va(k()));while(a<g)}while(!i)}finally{yield Va(R(r,n==="error"?o:null))}return yield Va(null);function R(A,O){return x=v=null,new Promise((D,U)=>{for(const[H,G]of A)t.off(H,G);try{const H=t.destroy;H&&H.call(t,O),O=void 0}catch(H){O=H||O}finally{O!=null?U(O):D()}})}})}var tc;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(tc||(tc={}));var Ph;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Ph||(Ph={}));var Mh;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Mh||(Mh={}));var Ff;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(Ff||(Ff={}));var Zi;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(Zi||(Zi={}));var Dm;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Dm||(Dm={}));const TN=2,mm=4,pg=4,Ls=4,hy=new Int32Array(2),r$=new Float32Array(hy.buffer),n$=new Float64Array(hy.buffer),tE=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var vM;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(vM||(vM={}));let sx=class tY{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new tY(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return hy[0]=this.readInt32(e),r$[0]}readFloat64(e){return hy[tE?0:1]=this.readInt32(e),hy[tE?1:0]=this.readInt32(e+4),n$[0]}writeInt8(e,r){this.bytes_[e]=r}writeUint8(e,r){this.bytes_[e]=r}writeInt16(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8}writeUint16(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8}writeInt32(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8,this.bytes_[e+2]=r>>16,this.bytes_[e+3]=r>>24}writeUint32(e,r){this.bytes_[e]=r,this.bytes_[e+1]=r>>8,this.bytes_[e+2]=r>>16,this.bytes_[e+3]=r>>24}writeInt64(e,r){this.writeInt32(e,Number(BigInt.asIntN(32,r))),this.writeInt32(e+4,Number(BigInt.asIntN(32,r>>BigInt(32))))}writeUint64(e,r){this.writeUint32(e,Number(BigInt.asUintN(32,r))),this.writeUint32(e+4,Number(BigInt.asUintN(32,r>>BigInt(32))))}writeFloat32(e,r){r$[0]=r,this.writeInt32(e,hy[0])}writeFloat64(e,r){n$[0]=r,this.writeInt32(e,hy[tE?0:1]),this.writeInt32(e+4,hy[tE?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+mm+pg)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let r=0;r<pg;r++)e+=String.fromCharCode(this.readInt8(this.position_+mm+r));return e}__offset(e,r){const n=e-this.readInt32(e);return r<this.readInt16(n)?this.readInt16(n+r):0}__union(e,r){return e.bb_pos=r+this.readInt32(r),e.bb=this,e}__string(e,r){e+=this.readInt32(e);const n=this.readInt32(e);e+=mm;const i=this.bytes_.subarray(e,e+n);return r===vM.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,r){return typeof e=="string"?this.__string(r):this.__union(e,r)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+mm}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=pg)throw new Error("FlatBuffers: file identifier must be length "+pg);for(let r=0;r<pg;r++)if(e.charCodeAt(r)!=this.readInt8(this.position()+mm+r))return!1;return!0}createScalarList(e,r){const n=[];for(let i=0;i<r;++i){const o=e(i);o!==null&&n.push(o)}return n}createObjList(e,r){const n=[];for(let i=0;i<r;++i){const o=e(i);o!==null&&n.push(o.unpack())}return n}},eY=class rY{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let r;e?r=e:r=1024,this.bb=sx.allocate(r),this.space=r}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,r){e>this.minalign&&(this.minalign=e);const n=~(this.bb.capacity()-this.space+r)+1&e-1;for(;this.space<n+e+r;){const i=this.bb.capacity();this.bb=rY.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)}pad(e){for(let r=0;r<e;r++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,r,n){(this.force_defaults||r!=n)&&(this.addInt8(r),this.slot(e))}addFieldInt16(e,r,n){(this.force_defaults||r!=n)&&(this.addInt16(r),this.slot(e))}addFieldInt32(e,r,n){(this.force_defaults||r!=n)&&(this.addInt32(r),this.slot(e))}addFieldInt64(e,r,n){(this.force_defaults||r!==n)&&(this.addInt64(r),this.slot(e))}addFieldFloat32(e,r,n){(this.force_defaults||r!=n)&&(this.addFloat32(r),this.slot(e))}addFieldFloat64(e,r,n){(this.force_defaults||r!=n)&&(this.addFloat64(r),this.slot(e))}addFieldOffset(e,r,n){(this.force_defaults||r!=n)&&(this.addOffset(r),this.slot(e))}addFieldStruct(e,r,n){r!=n&&(this.nested(r),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const r=e.capacity();if(r&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=r<<1,i=sx.allocate(n);return i.setPosition(n-r),i.bytes().set(e.bytes(),n-r),i}addOffset(e){this.prep(mm,0),this.writeInt32(this.offset()-e+mm)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let r=0;r<e;r++)this.vtable[r]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let r=this.vtable_in_use-1;for(;r>=0&&this.vtable[r]==0;r--);const n=r+1;for(;r>=0;r--)this.addInt16(this.vtable[r]!=0?e-this.vtable[r]:0);const i=2;this.addInt16(e-this.object_start);const o=(n+i)*TN;this.addInt16(o);let u=0;const a=this.space;t:for(r=0;r<this.vtables.length;r++){const g=this.bb.capacity()-this.vtables[r];if(o==this.bb.readInt16(g)){for(let v=TN;v<o;v+=TN)if(this.bb.readInt16(a+v)!=this.bb.readInt16(g+v))continue t;u=this.vtables[r];break}}return u?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,u-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,r,n){const i=n?Ls:0;if(r){const o=r;if(this.prep(this.minalign,mm+pg+i),o.length!=pg)throw new TypeError("FlatBuffers: file identifier must be length "+pg);for(let u=pg-1;u>=0;u--)this.writeInt8(o.charCodeAt(u))}this.prep(this.minalign,mm+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,r){this.finish(e,r,!0)}requiredField(e,r){const n=this.bb.capacity()-e,i=n-this.bb.readInt32(n);if(!(r<this.bb.readInt16(i)&&this.bb.readInt16(i+r)!=0))throw new TypeError("FlatBuffers: field "+r+" must be set")}startVector(e,r,n){this.notNested(),this.vector_num_elems=r,this.prep(mm,e*r),this.prep(n,e*r)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const r=this.createString(e);return this.string_maps.set(e,r),r}createString(e){if(e==null)return 0;let r;return e instanceof Uint8Array?r=e:r=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,r.length,1),this.bb.setPosition(this.space-=r.length),this.bb.bytes().set(r,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const r=[];for(let n=0;n<e.length;++n){const i=e[n];if(i!==null)r.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return r}createStructOffsetList(e,r){return r(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var jT;(function(t){t[t.BUFFER=0]="BUFFER"})(jT||(jT={}));var VT;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(VT||(VT={}));class dy{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsBodyCompression(e,r){return(r||new dy).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,r){return e.setPosition(e.position()+Ls),(r||new dy).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):VT.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):jT.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,r){e.addFieldInt8(0,r,VT.LZ4_FRAME)}static addMethod(e,r){e.addFieldInt8(1,r,jT.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,r,n){return dy.startBodyCompression(e),dy.addCodec(e,r),dy.addMethod(e,n),dy.endBodyCompression(e)}}class nY{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,r,n){return e.prep(8,16),e.writeInt64(BigInt(n??0)),e.writeInt64(BigInt(r??0)),e.offset()}}let iY=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,r,n){return e.prep(8,16),e.writeInt64(BigInt(n??0)),e.writeInt64(BigInt(r??0)),e.offset()}},cg=class bM{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsRecordBatch(e,r){return(r||new bM).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,r){return e.setPosition(e.position()+Ls),(r||new bM).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,r){const n=this.bb.__offset(this.bb_pos,6);return n?(r||new iY).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,r){const n=this.bb.__offset(this.bb_pos,8);return n?(r||new nY).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new dy).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,r){e.addFieldInt64(0,r,BigInt("0"))}static addNodes(e,r){e.addFieldOffset(1,r,0)}static startNodesVector(e,r){e.startVector(16,r,8)}static addBuffers(e,r){e.addFieldOffset(2,r,0)}static startBuffersVector(e,r){e.startVector(16,r,8)}static addCompression(e,r){e.addFieldOffset(3,r,0)}static endRecordBatch(e){return e.endObject()}},o_=class _M{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDictionaryBatch(e,r){return(r||new _M).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,r){return e.setPosition(e.position()+Ls),(r||new _M).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new cg).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,r){e.addFieldInt64(0,r,BigInt("0"))}static addData(e,r){e.addFieldOffset(1,r,0)}static addIsDelta(e,r){e.addFieldInt8(2,+r,0)}static endDictionaryBatch(e){return e.endObject()}};var lx;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(lx||(lx={}));var $T;(function(t){t[t.DenseArray=0]="DenseArray"})($T||($T={}));class Wd{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsInt(e,r){return(r||new Wd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,r){return e.setPosition(e.position()+Ls),(r||new Wd).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,r){e.addFieldInt32(0,r,0)}static addIsSigned(e,r){e.addFieldInt8(1,+r,0)}static endInt(e){return e.endObject()}static createInt(e,r,n){return Wd.startInt(e),Wd.addBitWidth(e,r),Wd.addIsSigned(e,n),Wd.endInt(e)}}class mg{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDictionaryEncoding(e,r){return(r||new mg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,r){return e.setPosition(e.position()+Ls),(r||new mg).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Wd).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):$T.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,r){e.addFieldInt64(0,r,BigInt("0"))}static addIndexType(e,r){e.addFieldOffset(1,r,0)}static addIsOrdered(e,r){e.addFieldInt8(2,+r,0)}static addDictionaryKind(e,r){e.addFieldInt16(3,r,$T.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class kc{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsKeyValue(e,r){return(r||new kc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,r){return e.setPosition(e.position()+Ls),(r||new kc).__init(e.readInt32(e.position())+e.position(),e)}key(e){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb_pos+r,e):null}value(e){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__string(this.bb_pos+r,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,r){e.addFieldOffset(0,r,0)}static addValue(e,r){e.addFieldOffset(1,r,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,r,n){return kc.startKeyValue(e),kc.addKey(e,r),kc.addValue(e,n),kc.endKeyValue(e)}}let i$=class w2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsBinary(e,r){return(r||new w2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,r){return e.setPosition(e.position()+Ls),(r||new w2).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return w2.startBinary(e),w2.endBinary(e)}},a$=class S2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsBool(e,r){return(r||new S2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,r){return e.setPosition(e.position()+Ls),(r||new S2).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return S2.startBool(e),S2.endBool(e)}},LE=class s_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDate(e,r){return(r||new s_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,r){return e.setPosition(e.position()+Ls),(r||new s_).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ff.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,r){e.addFieldInt16(0,r,Ff.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,r){return s_.startDate(e),s_.addUnit(e,r),s_.endDate(e)}},l_=class ly{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDecimal(e,r){return(r||new ly).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,r){return e.setPosition(e.position()+Ls),(r||new ly).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,r){e.addFieldInt32(0,r,0)}static addScale(e,r){e.addFieldInt32(1,r,0)}static addBitWidth(e,r){e.addFieldInt32(2,r,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,r,n,i){return ly.startDecimal(e),ly.addPrecision(e,r),ly.addScale(e,n),ly.addBitWidth(e,i),ly.endDecimal(e)}},ME=class u_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsDuration(e,r){return(r||new u_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,r){return e.setPosition(e.position()+Ls),(r||new u_).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Zi.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,r){e.addFieldInt16(0,r,Zi.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,r){return u_.startDuration(e),u_.addUnit(e,r),u_.endDuration(e)}},PE=class c_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFixedSizeBinary(e,r){return(r||new c_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,r){return e.setPosition(e.position()+Ls),(r||new c_).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,r){e.addFieldInt32(0,r,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,r){return c_.startFixedSizeBinary(e),c_.addByteWidth(e,r),c_.endFixedSizeBinary(e)}},OE=class h_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFixedSizeList(e,r){return(r||new h_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,r){return e.setPosition(e.position()+Ls),(r||new h_).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,r){e.addFieldInt32(0,r,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,r){return h_.startFixedSizeList(e),h_.addListSize(e,r),h_.endFixedSizeList(e)}};class gm{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFloatingPoint(e,r){return(r||new gm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,r){return e.setPosition(e.position()+Ls),(r||new gm).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Mh.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,r){e.addFieldInt16(0,r,Mh.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,r){return gm.startFloatingPoint(e),gm.addPrecision(e,r),gm.endFloatingPoint(e)}}class ym{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsInterval(e,r){return(r||new ym).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,r){return e.setPosition(e.position()+Ls),(r||new ym).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Dm.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,r){e.addFieldInt16(0,r,Dm.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,r){return ym.startInterval(e),ym.addUnit(e,r),ym.endInterval(e)}}let o$=class E2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsLargeBinary(e,r){return(r||new E2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,r){return e.setPosition(e.position()+Ls),(r||new E2).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return E2.startLargeBinary(e),E2.endLargeBinary(e)}},s$=class T2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsLargeUtf8(e,r){return(r||new T2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,r){return e.setPosition(e.position()+Ls),(r||new T2).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return T2.startLargeUtf8(e),T2.endLargeUtf8(e)}},l$=class C2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsList(e,r){return(r||new C2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,r){return e.setPosition(e.position()+Ls),(r||new C2).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return C2.startList(e),C2.endList(e)}},DE=class d_{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsMap(e,r){return(r||new d_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,r){return e.setPosition(e.position()+Ls),(r||new d_).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,r){e.addFieldInt8(0,+r,0)}static endMap(e){return e.endObject()}static createMap(e,r){return d_.startMap(e),d_.addKeysSorted(e,r),d_.endMap(e)}},u$=class A2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsNull(e,r){return(r||new A2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,r){return e.setPosition(e.position()+Ls),(r||new A2).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return A2.startNull(e),A2.endNull(e)}};class jv{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsStruct_(e,r){return(r||new jv).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,r){return e.setPosition(e.position()+Ls),(r||new jv).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return jv.startStruct_(e),jv.endStruct_(e)}}class Sf{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsTime(e,r){return(r||new Sf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,r){return e.setPosition(e.position()+Ls),(r||new Sf).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Zi.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,r){e.addFieldInt16(0,r,Zi.MILLISECOND)}static addBitWidth(e,r){e.addFieldInt32(1,r,32)}static endTime(e){return e.endObject()}static createTime(e,r,n){return Sf.startTime(e),Sf.addUnit(e,r),Sf.addBitWidth(e,n),Sf.endTime(e)}}class Ef{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsTimestamp(e,r){return(r||new Ef).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,r){return e.setPosition(e.position()+Ls),(r||new Ef).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Zi.SECOND}timezone(e){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.__string(this.bb_pos+r,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,r){e.addFieldInt16(0,r,Zi.SECOND)}static addTimezone(e,r){e.addFieldOffset(1,r,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,r,n){return Ef.startTimestamp(e),Ef.addUnit(e,r),Ef.addTimezone(e,n),Ef.endTimestamp(e)}}class cd{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsUnion(e,r){return(r||new cd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,r){return e.setPosition(e.position()+Ls),(r||new cd).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ph.Sparse}typeIds(e){const r=this.bb.__offset(this.bb_pos,6);return r?this.bb.readInt32(this.bb.__vector(this.bb_pos+r)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,r){e.addFieldInt16(0,r,Ph.Sparse)}static addTypeIds(e,r){e.addFieldOffset(1,r,0)}static createTypeIdsVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addInt32(r[n]);return e.endVector()}static startTypeIdsVector(e,r){e.startVector(4,r,4)}static endUnion(e){return e.endObject()}static createUnion(e,r,n){return cd.startUnion(e),cd.addMode(e,r),cd.addTypeIds(e,n),cd.endUnion(e)}}let c$=class k2{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsUtf8(e,r){return(r||new k2).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,r){return e.setPosition(e.position()+Ls),(r||new k2).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return k2.startUtf8(e),k2.endUtf8(e)}};var Sl;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(Sl||(Sl={}));let gf=class BE{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsField(e,r){return(r||new BE).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,r){return e.setPosition(e.position()+Ls),(r||new BE).__init(e.readInt32(e.position())+e.position(),e)}name(e){const r=this.bb.__offset(this.bb_pos,4);return r?this.bb.__string(this.bb_pos+r,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Sl.NONE}type(e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__union(e,this.bb_pos+r):null}dictionary(e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new mg).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}children(e,r){const n=this.bb.__offset(this.bb_pos,14);return n?(r||new BE).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,16);return n?(r||new kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,r){e.addFieldOffset(0,r,0)}static addNullable(e,r){e.addFieldInt8(1,+r,0)}static addTypeType(e,r){e.addFieldInt8(2,r,Sl.NONE)}static addType(e,r){e.addFieldOffset(3,r,0)}static addDictionary(e,r){e.addFieldOffset(4,r,0)}static addChildren(e,r){e.addFieldOffset(5,r,0)}static createChildrenVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startChildrenVector(e,r){e.startVector(4,r,4)}static addCustomMetadata(e,r){e.addFieldOffset(6,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static endField(e){return e.endObject()}},om=class ug{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsSchema(e,r){return(r||new ug).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,r){return e.setPosition(e.position()+Ls),(r||new ug).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):lx.Little}fields(e,r){const n=this.bb.__offset(this.bb_pos,6);return n?(r||new gf).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,8);return n?(r||new kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.readInt64(this.bb.__vector(this.bb_pos+r)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,r){e.addFieldInt16(0,r,lx.Little)}static addFields(e,r){e.addFieldOffset(1,r,0)}static createFieldsVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startFieldsVector(e,r){e.startVector(4,r,4)}static addCustomMetadata(e,r){e.addFieldOffset(2,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static addFeatures(e,r){e.addFieldOffset(3,r,0)}static createFeaturesVector(e,r){e.startVector(8,r.length,8);for(let n=r.length-1;n>=0;n--)e.addInt64(r[n]);return e.endVector()}static startFeaturesVector(e,r){e.startVector(8,r,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,r){e.finish(r)}static finishSizePrefixedSchemaBuffer(e,r){e.finish(r,void 0,!0)}static createSchema(e,r,n,i,o){return ug.startSchema(e),ug.addEndianness(e,r),ug.addFields(e,n),ug.addCustomMetadata(e,i),ug.addFeatures(e,o),ug.endSchema(e)}};var ss;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(ss||(ss={}));var Qe;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(Qe||(Qe={}));var hg;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(hg||(hg={}));const QNt=void 0;function ww(t){if(t===null)return"null";if(t===QNt)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>ww(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,r)=>typeof r=="bigint"?`${r}`:r)}function dl(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function aY(t,e){return dl(t/e)+dl(t%e)/dl(e)}const JNt=Symbol.for("isArrowBigNum");function Np(t,...e){return e.length===0?Object.setPrototypeOf(Xs(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Np.prototype[JNt]=!0;Np.prototype.toJSON=function(){return`"${Ew(this)}"`};Np.prototype.valueOf=function(t){return oY(this,t)};Np.prototype.toString=function(){return Ew(this)};Np.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return oY(this);case"string":return Ew(this);case"default":return rLt(this)}return Ew(this)};function O_(...t){return Np.apply(this,t)}function D_(...t){return Np.apply(this,t)}function Sw(...t){return Np.apply(this,t)}Object.setPrototypeOf(O_.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(D_.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Sw.prototype,Object.create(Uint32Array.prototype));Object.assign(O_.prototype,Np.prototype,{constructor:O_,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(D_.prototype,Np.prototype,{constructor:D_,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Sw.prototype,Np.prototype,{constructor:Sw,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const tLt=BigInt(4294967296)*BigInt(4294967296),eLt=tLt-BigInt(1);function oY(t,e){const{buffer:r,byteOffset:n,byteLength:i,signed:o}=t,u=new BigUint64Array(r,n,i/8),a=o&&u.at(-1)&BigInt(1)<<BigInt(63);let g=BigInt(0),v=0;if(a){for(const x of u)g|=(x^eLt)*(BigInt(1)<<BigInt(64*v++));g*=BigInt(-1),g-=BigInt(1)}else for(const x of u)g|=x*(BigInt(1)<<BigInt(64*v++));if(typeof e=="number"){const x=BigInt(Math.pow(10,e)),k=g/x,R=g%x;return dl(k)+dl(R)/dl(x)}return dl(g)}function Ew(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return CN(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return CN(t);e=e.slice();let n=1;for(let o=0;o<e.length;o++){const u=e[o],a=~u+n;e[o]=a,n&=u===0?1:0}return`-${CN(e)}`}function rLt(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Ew(t)}function CN(t){let e="";const r=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let o=-1;const u=n.length-1;do{for(r[0]=n[o=0];o<u;)n[o++]=r[1]=r[0]/10,r[0]=(r[0]-r[1]*10<<16)+n[o];n[o]=r[1]=r[0]/10,r[0]=r[0]-r[1]*10,e=`${r[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class wO{static new(e,r){switch(r){case!0:return new O_(e);case!1:return new D_(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new O_(e)}return e.byteLength===16?new Sw(e):new D_(e)}static signed(e){return new O_(e)}static unsigned(e){return new D_(e)}static decimal(e){return new Sw(e)}constructor(e,r){return wO.new(e,r)}}var sY,lY,uY,cY,hY,dY,fY,pY,mY,gY,yY,vY,bY,_Y,xY,wY,SY,EY,TY,CY,AY,kY;class Ri{static isNull(e){return e?.typeId===Qe.Null}static isInt(e){return e?.typeId===Qe.Int}static isFloat(e){return e?.typeId===Qe.Float}static isBinary(e){return e?.typeId===Qe.Binary}static isLargeBinary(e){return e?.typeId===Qe.LargeBinary}static isUtf8(e){return e?.typeId===Qe.Utf8}static isLargeUtf8(e){return e?.typeId===Qe.LargeUtf8}static isBool(e){return e?.typeId===Qe.Bool}static isDecimal(e){return e?.typeId===Qe.Decimal}static isDate(e){return e?.typeId===Qe.Date}static isTime(e){return e?.typeId===Qe.Time}static isTimestamp(e){return e?.typeId===Qe.Timestamp}static isInterval(e){return e?.typeId===Qe.Interval}static isDuration(e){return e?.typeId===Qe.Duration}static isList(e){return e?.typeId===Qe.List}static isStruct(e){return e?.typeId===Qe.Struct}static isUnion(e){return e?.typeId===Qe.Union}static isFixedSizeBinary(e){return e?.typeId===Qe.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===Qe.FixedSizeList}static isMap(e){return e?.typeId===Qe.Map}static isDictionary(e){return e?.typeId===Qe.Dictionary}static isDenseUnion(e){return Ri.isUnion(e)&&e.mode===Ph.Dense}static isSparseUnion(e){return Ri.isUnion(e)&&e.mode===Ph.Sparse}constructor(e){this.typeId=e}}sY=Symbol.toStringTag;Ri[sY]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(Ri.prototype);class ky extends Ri{constructor(){super(Qe.Null)}toString(){return"Null"}}lY=Symbol.toStringTag;ky[lY]=(t=>t[Symbol.toStringTag]="Null")(ky.prototype);class s0 extends Ri{constructor(e,r){super(Qe.Int),this.isSigned=e,this.bitWidth=r}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}uY=Symbol.toStringTag;s0[uY]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(s0.prototype);class Tw extends s0{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Tw.prototype,"ArrayType",{value:Int32Array});class UT extends Ri{constructor(e){super(Qe.Float),this.precision=e}get ArrayType(){switch(this.precision){case Mh.HALF:return Uint16Array;case Mh.SINGLE:return Float32Array;case Mh.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}cY=Symbol.toStringTag;UT[cY]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(UT.prototype);class qT extends Ri{constructor(){super(Qe.Binary)}toString(){return"Binary"}}hY=Symbol.toStringTag;qT[hY]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(qT.prototype);class GT extends Ri{constructor(){super(Qe.LargeBinary)}toString(){return"LargeBinary"}}dY=Symbol.toStringTag;GT[dY]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(GT.prototype);class HT extends Ri{constructor(){super(Qe.Utf8)}toString(){return"Utf8"}}fY=Symbol.toStringTag;HT[fY]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(HT.prototype);class XT extends Ri{constructor(){super(Qe.LargeUtf8)}toString(){return"LargeUtf8"}}pY=Symbol.toStringTag;XT[pY]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(XT.prototype);class WT extends Ri{constructor(){super(Qe.Bool)}toString(){return"Bool"}}mY=Symbol.toStringTag;WT[mY]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(WT.prototype);class YT extends Ri{constructor(e,r,n=128){super(Qe.Decimal),this.scale=e,this.precision=r,this.bitWidth=n}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}gY=Symbol.toStringTag;YT[gY]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(YT.prototype);class KT extends Ri{constructor(e){super(Qe.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${Ff[this.unit]}>`}get ArrayType(){return this.unit===Ff.DAY?Int32Array:BigInt64Array}}yY=Symbol.toStringTag;KT[yY]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(KT.prototype);class ZT extends Ri{constructor(e,r){super(Qe.Time),this.unit=e,this.bitWidth=r}toString(){return`Time${this.bitWidth}<${Zi[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}vY=Symbol.toStringTag;ZT[vY]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(ZT.prototype);class QT extends Ri{constructor(e,r){super(Qe.Timestamp),this.unit=e,this.timezone=r}toString(){return`Timestamp<${Zi[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}bY=Symbol.toStringTag;QT[bY]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(QT.prototype);class JT extends Ri{constructor(e){super(Qe.Interval),this.unit=e}toString(){return`Interval<${Dm[this.unit]}>`}}_Y=Symbol.toStringTag;JT[_Y]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(JT.prototype);class tC extends Ri{constructor(e){super(Qe.Duration),this.unit=e}toString(){return`Duration<${Zi[this.unit]}>`}}xY=Symbol.toStringTag;tC[xY]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(tC.prototype);class eC extends Ri{constructor(e){super(Qe.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}wY=Symbol.toStringTag;eC[wY]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(eC.prototype);class Yh extends Ri{constructor(e){super(Qe.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}SY=Symbol.toStringTag;Yh[SY]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Yh.prototype);class rC extends Ri{constructor(e,r,n){super(Qe.Union),this.mode=e,this.children=n,this.typeIds=r=Int32Array.from(r),this.typeIdToChildIndex=r.reduce((i,o,u)=>(i[o]=u)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}EY=Symbol.toStringTag;rC[EY]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(rC.prototype);class nC extends Ri{constructor(e){super(Qe.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}TY=Symbol.toStringTag;nC[TY]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(nC.prototype);class iC extends Ri{constructor(e,r){super(Qe.FixedSizeList),this.listSize=e,this.children=[r]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}CY=Symbol.toStringTag;iC[CY]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(iC.prototype);class aC extends Ri{constructor(e,r=!1){var n,i,o;if(super(Qe.Map),this.children=[e],this.keysSorted=r,e&&(e.name="entries",!((n=e?.type)===null||n===void 0)&&n.children)){const u=(i=e?.type)===null||i===void 0?void 0:i.children[0];u&&(u.name="key");const a=(o=e?.type)===null||o===void 0?void 0:o.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}AY=Symbol.toStringTag;aC[AY]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(aC.prototype);const nLt=(t=>()=>++t)(-1);class ux extends Ri{constructor(e,r,n,i){super(Qe.Dictionary),this.indices=r,this.dictionary=e,this.isOrdered=i||!1,this.id=n==null?nLt():dl(n)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}kY=Symbol.toStringTag;ux[kY]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(ux.prototype);function dg(t){const e=t;switch(t.typeId){case Qe.Decimal:return t.bitWidth/32;case Qe.Interval:return 1+e.unit;case Qe.FixedSizeList:return e.listSize;case Qe.FixedSizeBinary:return e.byteWidth;default:return 1}}class Za{visitMany(e,...r){return e.map((n,i)=>this.visit(n,...r.map(o=>o[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,r=!0){return iLt(this,e,r)}getVisitFnByTypeId(e,r=!0){return f_(this,e,r)}visitNull(e,...r){return null}visitBool(e,...r){return null}visitInt(e,...r){return null}visitFloat(e,...r){return null}visitUtf8(e,...r){return null}visitLargeUtf8(e,...r){return null}visitBinary(e,...r){return null}visitLargeBinary(e,...r){return null}visitFixedSizeBinary(e,...r){return null}visitDate(e,...r){return null}visitTimestamp(e,...r){return null}visitTime(e,...r){return null}visitDecimal(e,...r){return null}visitList(e,...r){return null}visitStruct(e,...r){return null}visitUnion(e,...r){return null}visitDictionary(e,...r){return null}visitInterval(e,...r){return null}visitDuration(e,...r){return null}visitFixedSizeList(e,...r){return null}visitMap(e,...r){return null}}function iLt(t,e,r=!0){return typeof e=="number"?f_(t,e,r):typeof e=="string"&&e in Qe?f_(t,Qe[e],r):e&&e instanceof Ri?f_(t,h$(e),r):e?.type&&e.type instanceof Ri?f_(t,h$(e.type),r):f_(t,Qe.NONE,r)}function f_(t,e,r=!0){let n=null;switch(e){case Qe.Null:n=t.visitNull;break;case Qe.Bool:n=t.visitBool;break;case Qe.Int:n=t.visitInt;break;case Qe.Int8:n=t.visitInt8||t.visitInt;break;case Qe.Int16:n=t.visitInt16||t.visitInt;break;case Qe.Int32:n=t.visitInt32||t.visitInt;break;case Qe.Int64:n=t.visitInt64||t.visitInt;break;case Qe.Uint8:n=t.visitUint8||t.visitInt;break;case Qe.Uint16:n=t.visitUint16||t.visitInt;break;case Qe.Uint32:n=t.visitUint32||t.visitInt;break;case Qe.Uint64:n=t.visitUint64||t.visitInt;break;case Qe.Float:n=t.visitFloat;break;case Qe.Float16:n=t.visitFloat16||t.visitFloat;break;case Qe.Float32:n=t.visitFloat32||t.visitFloat;break;case Qe.Float64:n=t.visitFloat64||t.visitFloat;break;case Qe.Utf8:n=t.visitUtf8;break;case Qe.LargeUtf8:n=t.visitLargeUtf8;break;case Qe.Binary:n=t.visitBinary;break;case Qe.LargeBinary:n=t.visitLargeBinary;break;case Qe.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case Qe.Date:n=t.visitDate;break;case Qe.DateDay:n=t.visitDateDay||t.visitDate;break;case Qe.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case Qe.Timestamp:n=t.visitTimestamp;break;case Qe.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case Qe.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case Qe.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case Qe.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case Qe.Time:n=t.visitTime;break;case Qe.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case Qe.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case Qe.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case Qe.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case Qe.Decimal:n=t.visitDecimal;break;case Qe.List:n=t.visitList;break;case Qe.Struct:n=t.visitStruct;break;case Qe.Union:n=t.visitUnion;break;case Qe.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case Qe.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case Qe.Dictionary:n=t.visitDictionary;break;case Qe.Interval:n=t.visitInterval;break;case Qe.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case Qe.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case Qe.Duration:n=t.visitDuration;break;case Qe.DurationSecond:n=t.visitDurationSecond||t.visitDuration;break;case Qe.DurationMillisecond:n=t.visitDurationMillisecond||t.visitDuration;break;case Qe.DurationMicrosecond:n=t.visitDurationMicrosecond||t.visitDuration;break;case Qe.DurationNanosecond:n=t.visitDurationNanosecond||t.visitDuration;break;case Qe.FixedSizeList:n=t.visitFixedSizeList;break;case Qe.Map:n=t.visitMap;break}if(typeof n=="function")return n;if(!r)return()=>null;throw new Error(`Unrecognized type '${Qe[e]}'`)}function h$(t){switch(t.typeId){case Qe.Null:return Qe.Null;case Qe.Int:{const{bitWidth:e,isSigned:r}=t;switch(e){case 8:return r?Qe.Int8:Qe.Uint8;case 16:return r?Qe.Int16:Qe.Uint16;case 32:return r?Qe.Int32:Qe.Uint32;case 64:return r?Qe.Int64:Qe.Uint64}return Qe.Int}case Qe.Float:switch(t.precision){case Mh.HALF:return Qe.Float16;case Mh.SINGLE:return Qe.Float32;case Mh.DOUBLE:return Qe.Float64}return Qe.Float;case Qe.Binary:return Qe.Binary;case Qe.LargeBinary:return Qe.LargeBinary;case Qe.Utf8:return Qe.Utf8;case Qe.LargeUtf8:return Qe.LargeUtf8;case Qe.Bool:return Qe.Bool;case Qe.Decimal:return Qe.Decimal;case Qe.Time:switch(t.unit){case Zi.SECOND:return Qe.TimeSecond;case Zi.MILLISECOND:return Qe.TimeMillisecond;case Zi.MICROSECOND:return Qe.TimeMicrosecond;case Zi.NANOSECOND:return Qe.TimeNanosecond}return Qe.Time;case Qe.Timestamp:switch(t.unit){case Zi.SECOND:return Qe.TimestampSecond;case Zi.MILLISECOND:return Qe.TimestampMillisecond;case Zi.MICROSECOND:return Qe.TimestampMicrosecond;case Zi.NANOSECOND:return Qe.TimestampNanosecond}return Qe.Timestamp;case Qe.Date:switch(t.unit){case Ff.DAY:return Qe.DateDay;case Ff.MILLISECOND:return Qe.DateMillisecond}return Qe.Date;case Qe.Interval:switch(t.unit){case Dm.DAY_TIME:return Qe.IntervalDayTime;case Dm.YEAR_MONTH:return Qe.IntervalYearMonth}return Qe.Interval;case Qe.Duration:switch(t.unit){case Zi.SECOND:return Qe.DurationSecond;case Zi.MILLISECOND:return Qe.DurationMillisecond;case Zi.MICROSECOND:return Qe.DurationMicrosecond;case Zi.NANOSECOND:return Qe.DurationNanosecond}return Qe.Duration;case Qe.Map:return Qe.Map;case Qe.List:return Qe.List;case Qe.Struct:return Qe.Struct;case Qe.Union:switch(t.mode){case Ph.Dense:return Qe.DenseUnion;case Ph.Sparse:return Qe.SparseUnion}return Qe.Union;case Qe.FixedSizeBinary:return Qe.FixedSizeBinary;case Qe.FixedSizeList:return Qe.FixedSizeList;case Qe.Dictionary:return Qe.Dictionary}throw new Error(`Unrecognized type '${Qe[t.typeId]}'`)}Za.prototype.visitInt8=null;Za.prototype.visitInt16=null;Za.prototype.visitInt32=null;Za.prototype.visitInt64=null;Za.prototype.visitUint8=null;Za.prototype.visitUint16=null;Za.prototype.visitUint32=null;Za.prototype.visitUint64=null;Za.prototype.visitFloat16=null;Za.prototype.visitFloat32=null;Za.prototype.visitFloat64=null;Za.prototype.visitDateDay=null;Za.prototype.visitDateMillisecond=null;Za.prototype.visitTimestampSecond=null;Za.prototype.visitTimestampMillisecond=null;Za.prototype.visitTimestampMicrosecond=null;Za.prototype.visitTimestampNanosecond=null;Za.prototype.visitTimeSecond=null;Za.prototype.visitTimeMillisecond=null;Za.prototype.visitTimeMicrosecond=null;Za.prototype.visitTimeNanosecond=null;Za.prototype.visitDenseUnion=null;Za.prototype.visitSparseUnion=null;Za.prototype.visitIntervalDayTime=null;Za.prototype.visitIntervalYearMonth=null;Za.prototype.visitDuration=null;Za.prototype.visitDurationSecond=null;Za.prototype.visitDurationMillisecond=null;Za.prototype.visitDurationMicrosecond=null;Za.prototype.visitDurationNanosecond=null;const IY=new Float64Array(1),Ob=new Uint32Array(IY.buffer);function RY(t){const e=(t&31744)>>10,r=(t&1023)/1024,n=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return n*(r?Number.NaN:1/0);case 0:return n*(r?6103515625e-14*r:0)}return n*Math.pow(2,e-15)*(1+r)}function aLt(t){if(t!==t)return 32256;IY[0]=t;const e=(Ob[1]&2147483648)>>16&65535;let r=Ob[1]&2146435072,n=0;return r>=1089470464?Ob[0]>0?r=31744:(r=(r&2080374784)>>16,n=(Ob[1]&1048575)>>10):r<=1056964608?(n=1048576+(Ob[1]&1048575),n=1048576+(n<<(r>>20)-998)>>21,r=0):(r=r-1056964608>>10,n=(Ob[1]&1048575)+512>>10),e|r|n&65535}class Ji extends Za{}function oa(t){return(e,r,n)=>{if(e.setValid(r,n!=null))return t(e,r,n)}}const oLt=(t,e,r)=>{t[e]=Math.floor(r/864e5)},NY=(t,e,r,n)=>{if(r+1<e.length){const i=dl(e[r]),o=dl(e[r+1]);t.set(n.subarray(0,o-i),i)}},sLt=({offset:t,values:e},r,n)=>{const i=t+r;n?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Mg=({values:t},e,r)=>{t[e]=r},SO=({values:t},e,r)=>{t[e]=r},LY=({values:t},e,r)=>{t[e]=aLt(r)},lLt=(t,e,r)=>{switch(t.type.precision){case Mh.HALF:return LY(t,e,r);case Mh.SINGLE:case Mh.DOUBLE:return SO(t,e,r)}},MY=({values:t},e,r)=>{oLt(t,e,r.valueOf())},PY=({values:t},e,r)=>{t[e]=BigInt(r)},uLt=({stride:t,values:e},r,n)=>{e.set(n.subarray(0,t),t*r)},OY=({values:t,valueOffsets:e},r,n)=>NY(t,e,r,n),DY=({values:t,valueOffsets:e},r,n)=>NY(t,e,r,bO(n)),cLt=(t,e,r)=>{t.type.unit===Ff.DAY?MY(t,e,r):PY(t,e,r)},BY=({values:t},e,r)=>{t[e]=BigInt(r/1e3)},zY=({values:t},e,r)=>{t[e]=BigInt(r)},FY=({values:t},e,r)=>{t[e]=BigInt(r*1e3)},jY=({values:t},e,r)=>{t[e]=BigInt(r*1e6)},hLt=(t,e,r)=>{switch(t.type.unit){case Zi.SECOND:return BY(t,e,r);case Zi.MILLISECOND:return zY(t,e,r);case Zi.MICROSECOND:return FY(t,e,r);case Zi.NANOSECOND:return jY(t,e,r)}},VY=({values:t},e,r)=>{t[e]=r},$Y=({values:t},e,r)=>{t[e]=r},UY=({values:t},e,r)=>{t[e]=r},qY=({values:t},e,r)=>{t[e]=r},dLt=(t,e,r)=>{switch(t.type.unit){case Zi.SECOND:return VY(t,e,r);case Zi.MILLISECOND:return $Y(t,e,r);case Zi.MICROSECOND:return UY(t,e,r);case Zi.NANOSECOND:return qY(t,e,r)}},fLt=({values:t,stride:e},r,n)=>{t.set(n.subarray(0,e),e*r)},pLt=(t,e,r)=>{const n=t.children[0],i=t.valueOffsets,o=jf.getVisitFn(n);if(Array.isArray(r))for(let u=-1,a=i[e],g=i[e+1];a<g;)o(n,a++,r[++u]);else for(let u=-1,a=i[e],g=i[e+1];a<g;)o(n,a++,r.get(++u))},mLt=(t,e,r)=>{const n=t.children[0],{valueOffsets:i}=t,o=jf.getVisitFn(n);let{[e]:u,[e+1]:a}=i;const g=r instanceof Map?r.entries():Object.entries(r);for(const v of g)if(o(n,u,v),++u>=a)break},gLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e[o]),yLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e.get(o)),vLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e.get(i.name)),bLt=(t,e)=>(r,n,i,o)=>n&&r(n,t,e[i.name]),_Lt=(t,e,r)=>{const n=t.type.children.map(o=>jf.getVisitFn(o.type)),i=r instanceof Map?vLt(e,r):r instanceof Rs?yLt(e,r):Array.isArray(r)?gLt(e,r):bLt(e,r);t.type.children.forEach((o,u)=>i(n[u],t.children[u],o,u))},xLt=(t,e,r)=>{t.type.mode===Ph.Dense?GY(t,e,r):HY(t,e,r)},GY=(t,e,r)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];jf.visit(i,t.valueOffsets[e],r)},HY=(t,e,r)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[n];jf.visit(i,e,r)},wLt=(t,e,r)=>{var n;(n=t.dictionary)===null||n===void 0||n.set(t.values[e],r)},SLt=(t,e,r)=>{t.type.unit===Dm.DAY_TIME?XY(t,e,r):WY(t,e,r)},XY=({values:t},e,r)=>{t.set(r.subarray(0,2),2*e)},WY=({values:t},e,r)=>{t[e]=r[0]*12+r[1]%12},YY=({values:t},e,r)=>{t[e]=r},KY=({values:t},e,r)=>{t[e]=r},ZY=({values:t},e,r)=>{t[e]=r},QY=({values:t},e,r)=>{t[e]=r},ELt=(t,e,r)=>{switch(t.type.unit){case Zi.SECOND:return YY(t,e,r);case Zi.MILLISECOND:return KY(t,e,r);case Zi.MICROSECOND:return ZY(t,e,r);case Zi.NANOSECOND:return QY(t,e,r)}},TLt=(t,e,r)=>{const{stride:n}=t,i=t.children[0],o=jf.getVisitFn(i);if(Array.isArray(r))for(let u=-1,a=e*n;++u<n;)o(i,a+u,r[u]);else for(let u=-1,a=e*n;++u<n;)o(i,a+u,r.get(u))};Ji.prototype.visitBool=oa(sLt);Ji.prototype.visitInt=oa(Mg);Ji.prototype.visitInt8=oa(Mg);Ji.prototype.visitInt16=oa(Mg);Ji.prototype.visitInt32=oa(Mg);Ji.prototype.visitInt64=oa(Mg);Ji.prototype.visitUint8=oa(Mg);Ji.prototype.visitUint16=oa(Mg);Ji.prototype.visitUint32=oa(Mg);Ji.prototype.visitUint64=oa(Mg);Ji.prototype.visitFloat=oa(lLt);Ji.prototype.visitFloat16=oa(LY);Ji.prototype.visitFloat32=oa(SO);Ji.prototype.visitFloat64=oa(SO);Ji.prototype.visitUtf8=oa(DY);Ji.prototype.visitLargeUtf8=oa(DY);Ji.prototype.visitBinary=oa(OY);Ji.prototype.visitLargeBinary=oa(OY);Ji.prototype.visitFixedSizeBinary=oa(uLt);Ji.prototype.visitDate=oa(cLt);Ji.prototype.visitDateDay=oa(MY);Ji.prototype.visitDateMillisecond=oa(PY);Ji.prototype.visitTimestamp=oa(hLt);Ji.prototype.visitTimestampSecond=oa(BY);Ji.prototype.visitTimestampMillisecond=oa(zY);Ji.prototype.visitTimestampMicrosecond=oa(FY);Ji.prototype.visitTimestampNanosecond=oa(jY);Ji.prototype.visitTime=oa(dLt);Ji.prototype.visitTimeSecond=oa(VY);Ji.prototype.visitTimeMillisecond=oa($Y);Ji.prototype.visitTimeMicrosecond=oa(UY);Ji.prototype.visitTimeNanosecond=oa(qY);Ji.prototype.visitDecimal=oa(fLt);Ji.prototype.visitList=oa(pLt);Ji.prototype.visitStruct=oa(_Lt);Ji.prototype.visitUnion=oa(xLt);Ji.prototype.visitDenseUnion=oa(GY);Ji.prototype.visitSparseUnion=oa(HY);Ji.prototype.visitDictionary=oa(wLt);Ji.prototype.visitInterval=oa(SLt);Ji.prototype.visitIntervalDayTime=oa(XY);Ji.prototype.visitIntervalYearMonth=oa(WY);Ji.prototype.visitDuration=oa(ELt);Ji.prototype.visitDurationSecond=oa(YY);Ji.prototype.visitDurationMillisecond=oa(KY);Ji.prototype.visitDurationMicrosecond=oa(ZY);Ji.prototype.visitDurationNanosecond=oa(QY);Ji.prototype.visitFixedSizeList=oa(TLt);Ji.prototype.visitMap=oa(mLt);const jf=new Ji,hp=Symbol.for("parent"),B_=Symbol.for("rowIndex");class EO{constructor(e,r){return this[hp]=e,this[B_]=r,new Proxy(this,new ALt)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[B_],r=this[hp],n=r.type.children,i={};for(let o=-1,u=n.length;++o<u;)i[n[o].name]=_d.visit(r.children[o],e);return i}toString(){return`{${[...this].map(([e,r])=>`${ww(e)}: ${ww(r)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new CLt(this[hp],this[B_])}}class CLt{constructor(e,r){this.childIndex=0,this.children=e.children,this.rowIndex=r,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,_d.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(EO.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[hp]:{writable:!0,enumerable:!1,configurable:!1,value:null},[B_]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ALt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[hp].type.children.map(r=>r.name)}has(e,r){return e[hp].type.children.findIndex(n=>n.name===r)!==-1}getOwnPropertyDescriptor(e,r){if(e[hp].type.children.findIndex(n=>n.name===r)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,r){if(Reflect.has(e,r))return e[r];const n=e[hp].type.children.findIndex(i=>i.name===r);if(n!==-1){const i=_d.visit(e[hp].children[n],e[B_]);return Reflect.set(e,r,i),i}}set(e,r,n){const i=e[hp].type.children.findIndex(o=>o.name===r);return i!==-1?(jf.visit(e[hp].children[i],e[B_],n),Reflect.set(e,r,n)):Reflect.has(e,r)||typeof r=="symbol"?Reflect.set(e,r,n):!1}}class Hi extends Za{}function ta(t){return(e,r)=>e.getValid(r)?t(e,r):null}const kLt=(t,e)=>864e5*t[e],ILt=(t,e)=>null,JY=(t,e,r)=>{if(r+1>=e.length)return null;const n=dl(e[r]),i=dl(e[r+1]);return t.subarray(n,i)},RLt=({offset:t,values:e},r)=>{const n=t+r;return(e[n>>3]&1<<n%8)!==0},tK=({values:t},e)=>kLt(t,e),eK=({values:t},e)=>dl(t[e]),zy=({stride:t,values:e},r)=>e[t*r],NLt=({stride:t,values:e},r)=>RY(e[t*r]),rK=({values:t},e)=>t[e],LLt=({stride:t,values:e},r)=>e.subarray(t*r,t*(r+1)),nK=({values:t,valueOffsets:e},r)=>JY(t,e,r),iK=({values:t,valueOffsets:e},r)=>{const n=JY(t,e,r);return n!==null?mM(n):null},MLt=({values:t},e)=>t[e],PLt=({type:t,values:e},r)=>t.precision!==Mh.HALF?e[r]:RY(e[r]),OLt=(t,e)=>t.type.unit===Ff.DAY?tK(t,e):eK(t,e),aK=({values:t},e)=>1e3*dl(t[e]),oK=({values:t},e)=>dl(t[e]),sK=({values:t},e)=>aY(t[e],BigInt(1e3)),lK=({values:t},e)=>aY(t[e],BigInt(1e6)),DLt=(t,e)=>{switch(t.type.unit){case Zi.SECOND:return aK(t,e);case Zi.MILLISECOND:return oK(t,e);case Zi.MICROSECOND:return sK(t,e);case Zi.NANOSECOND:return lK(t,e)}},uK=({values:t},e)=>t[e],cK=({values:t},e)=>t[e],hK=({values:t},e)=>t[e],dK=({values:t},e)=>t[e],BLt=(t,e)=>{switch(t.type.unit){case Zi.SECOND:return uK(t,e);case Zi.MILLISECOND:return cK(t,e);case Zi.MICROSECOND:return hK(t,e);case Zi.NANOSECOND:return dK(t,e)}},zLt=({values:t,stride:e},r)=>wO.decimal(t.subarray(e*r,e*(r+1))),FLt=(t,e)=>{const{valueOffsets:r,stride:n,children:i}=t,{[e*n]:o,[e*n+1]:u}=r,g=i[0].slice(o,u-o);return new Rs([g])},jLt=(t,e)=>{const{valueOffsets:r,children:n}=t,{[e]:i,[e+1]:o}=r,u=n[0];return new TO(u.slice(i,o-i))},VLt=(t,e)=>new EO(t,e),$Lt=(t,e)=>t.type.mode===Ph.Dense?fK(t,e):pK(t,e),fK=(t,e)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];return _d.visit(n,t.valueOffsets[e])},pK=(t,e)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];return _d.visit(n,e)},ULt=(t,e)=>{var r;return(r=t.dictionary)===null||r===void 0?void 0:r.get(t.values[e])},qLt=(t,e)=>t.type.unit===Dm.DAY_TIME?mK(t,e):gK(t,e),mK=({values:t},e)=>t.subarray(2*e,2*(e+1)),gK=({values:t},e)=>{const r=t[e],n=new Int32Array(2);return n[0]=Math.trunc(r/12),n[1]=Math.trunc(r%12),n},yK=({values:t},e)=>t[e],vK=({values:t},e)=>t[e],bK=({values:t},e)=>t[e],_K=({values:t},e)=>t[e],GLt=(t,e)=>{switch(t.type.unit){case Zi.SECOND:return yK(t,e);case Zi.MILLISECOND:return vK(t,e);case Zi.MICROSECOND:return bK(t,e);case Zi.NANOSECOND:return _K(t,e)}},HLt=(t,e)=>{const{stride:r,children:n}=t,o=n[0].slice(e*r,r);return new Rs([o])};Hi.prototype.visitNull=ta(ILt);Hi.prototype.visitBool=ta(RLt);Hi.prototype.visitInt=ta(MLt);Hi.prototype.visitInt8=ta(zy);Hi.prototype.visitInt16=ta(zy);Hi.prototype.visitInt32=ta(zy);Hi.prototype.visitInt64=ta(rK);Hi.prototype.visitUint8=ta(zy);Hi.prototype.visitUint16=ta(zy);Hi.prototype.visitUint32=ta(zy);Hi.prototype.visitUint64=ta(rK);Hi.prototype.visitFloat=ta(PLt);Hi.prototype.visitFloat16=ta(NLt);Hi.prototype.visitFloat32=ta(zy);Hi.prototype.visitFloat64=ta(zy);Hi.prototype.visitUtf8=ta(iK);Hi.prototype.visitLargeUtf8=ta(iK);Hi.prototype.visitBinary=ta(nK);Hi.prototype.visitLargeBinary=ta(nK);Hi.prototype.visitFixedSizeBinary=ta(LLt);Hi.prototype.visitDate=ta(OLt);Hi.prototype.visitDateDay=ta(tK);Hi.prototype.visitDateMillisecond=ta(eK);Hi.prototype.visitTimestamp=ta(DLt);Hi.prototype.visitTimestampSecond=ta(aK);Hi.prototype.visitTimestampMillisecond=ta(oK);Hi.prototype.visitTimestampMicrosecond=ta(sK);Hi.prototype.visitTimestampNanosecond=ta(lK);Hi.prototype.visitTime=ta(BLt);Hi.prototype.visitTimeSecond=ta(uK);Hi.prototype.visitTimeMillisecond=ta(cK);Hi.prototype.visitTimeMicrosecond=ta(hK);Hi.prototype.visitTimeNanosecond=ta(dK);Hi.prototype.visitDecimal=ta(zLt);Hi.prototype.visitList=ta(FLt);Hi.prototype.visitStruct=ta(VLt);Hi.prototype.visitUnion=ta($Lt);Hi.prototype.visitDenseUnion=ta(fK);Hi.prototype.visitSparseUnion=ta(pK);Hi.prototype.visitDictionary=ta(ULt);Hi.prototype.visitInterval=ta(qLt);Hi.prototype.visitIntervalDayTime=ta(mK);Hi.prototype.visitIntervalYearMonth=ta(gK);Hi.prototype.visitDuration=ta(GLt);Hi.prototype.visitDurationSecond=ta(yK);Hi.prototype.visitDurationMillisecond=ta(vK);Hi.prototype.visitDurationMicrosecond=ta(bK);Hi.prototype.visitDurationNanosecond=ta(_K);Hi.prototype.visitFixedSizeList=ta(HLt);Hi.prototype.visitMap=ta(jLt);const _d=new Hi,p_=Symbol.for("keys"),z_=Symbol.for("vals"),m_=Symbol.for("kKeysAsStrings"),xM=Symbol.for("_kKeysAsStrings");class TO{constructor(e){return this[p_]=new Rs([e.children[0]]).memoize(),this[z_]=e.children[1],new Proxy(this,new WLt)}get[m_](){return this[xM]||(this[xM]=Array.from(this[p_].toArray(),String))}[Symbol.iterator](){return new XLt(this[p_],this[z_])}get size(){return this[p_].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[p_],r=this[z_],n={};for(let i=-1,o=e.length;++i<o;)n[e.get(i)]=_d.visit(r,i);return n}toString(){return`{${[...this].map(([e,r])=>`${ww(e)}: ${ww(r)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class XLt{constructor(e,r){this.keys=e,this.vals=r,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),_d.visit(this.vals,e)]})}}class WLt{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[m_]}has(e,r){return e[m_].includes(r)}getOwnPropertyDescriptor(e,r){if(e[m_].indexOf(r)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,r){if(Reflect.has(e,r))return e[r];const n=e[m_].indexOf(r);if(n!==-1){const i=_d.visit(Reflect.get(e,z_),n);return Reflect.set(e,r,i),i}}set(e,r,n){const i=e[m_].indexOf(r);return i!==-1?(jf.visit(Reflect.get(e,z_),i,n),Reflect.set(e,r,n)):Reflect.has(e,r)?Reflect.set(e,r,n):!1}}Object.defineProperties(TO.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[p_]:{writable:!0,enumerable:!1,configurable:!1,value:null},[z_]:{writable:!0,enumerable:!1,configurable:!1,value:null},[xM]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let d$;function xK(t,e,r,n){const{length:i=0}=t;let o=typeof e!="number"?0:e,u=typeof r!="number"?i:r;return o<0&&(o=(o%i+i)%i),u<0&&(u=(u%i+i)%i),u<o&&(d$=o,o=u,u=d$),u>i&&(u=i),n?n(t,o,u):[o,u]}const CO=(t,e)=>t<0?e+t:t,f$=t=>t!==t;function Ax(t){if(typeof t!=="object"||t===null)return f$(t)?f$:r=>r===t;if(t instanceof Date){const r=t.valueOf();return n=>n instanceof Date?n.valueOf()===r:!1}return ArrayBuffer.isView(t)?r=>r?HNt(t,r):!1:t instanceof Map?KLt(t):Array.isArray(t)?YLt(t):t instanceof Rs?ZLt(t):QLt(t,!0)}function YLt(t){const e=[];for(let r=-1,n=t.length;++r<n;)e[r]=Ax(t[r]);return $A(e)}function KLt(t){let e=-1;const r=[];for(const n of t.values())r[++e]=Ax(n);return $A(r)}function ZLt(t){const e=[];for(let r=-1,n=t.length;++r<n;)e[r]=Ax(t.get(r));return $A(e)}function QLt(t,e=!1){const r=Object.keys(t);if(!e&&r.length===0)return()=>!1;const n=[];for(let i=-1,o=r.length;++i<o;)n[i]=Ax(t[r[i]]);return $A(n,r)}function $A(t,e){return r=>{if(!r||typeof r!="object")return!1;switch(r.constructor){case Array:return JLt(t,r);case Map:return p$(t,r,r.keys());case TO:case EO:case Object:case void 0:return p$(t,r,e||Object.keys(r))}return r instanceof Rs?tMt(t,r):!1}}function JLt(t,e){const r=t.length;if(e.length!==r)return!1;for(let n=-1;++n<r;)if(!t[n](e[n]))return!1;return!0}function tMt(t,e){const r=t.length;if(e.length!==r)return!1;for(let n=-1;++n<r;)if(!t[n](e.get(n)))return!1;return!0}function p$(t,e,r){const n=r[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let u=0;const a=t.length;let g=o.next(),v=n.next(),x=i.next();for(;u<a&&!v.done&&!x.done&&!g.done&&!(v.value!==x.value||!t[u](g.value));++u,v=n.next(),x=i.next(),g=o.next());return u===a&&v.done&&x.done&&g.done?!0:(n.return&&n.return(),i.return&&i.return(),o.return&&o.return(),!1)}function wK(t,e,r,n){return(r&1<<n)!==0}function eMt(t,e,r,n){return(r&1<<n)>>n}function oC(t,e,r){const n=r.byteLength+7&-8;if(t>0||r.byteLength<n){const i=new Uint8Array(n);return i.set(t%8===0?r.subarray(t>>3):sC(new AO(r,t,e,null,wK)).subarray(0,n)),i}return r}function sC(t){const e=[];let r=0,n=0,i=0;for(const u of t)u&&(i|=1<<n),++n===8&&(e[r++]=i,i=n=0);(r===0||n>0)&&(e[r++]=i);const o=new Uint8Array(e.length+7&-8);return o.set(e),o}class AO{constructor(e,r,n,i,o){this.bytes=e,this.length=n,this.context=i,this.get=o,this.bit=r%8,this.byteIndex=r>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function wM(t,e,r){if(r-e<=0)return 0;if(r-e<8){let o=0;for(const u of new AO(t,e,r-e,t,eMt))o+=u;return o}const n=r>>3<<3,i=e+(e%8===0?0:8-e%8);return wM(t,e,i)+wM(t,n,r)+rMt(t,i>>3,n-i>>3)}function rMt(t,e,r){let n=0,i=Math.trunc(e);const o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=r===void 0?t.byteLength:i+r;for(;u-i>=4;)n+=AN(o.getUint32(i)),i+=4;for(;u-i>=2;)n+=AN(o.getUint16(i)),i+=2;for(;u-i>=1;)n+=AN(o.getUint8(i)),i+=1;return n}function AN(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const nMt=-1;class Gs{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return Ri.isSparseUnion(e)?this.children.some(r=>r.nullable):Ri.isDenseUnion(e)?this.children.some(r=>r.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:r,values:n,nullBitmap:i,typeIds:o}=this;return r&&(e+=r.byteLength),n&&(e+=n.byteLength),i&&(e+=i.byteLength),o&&(e+=o.byteLength),this.children.reduce((u,a)=>u+a.byteLength,e)}get nullCount(){if(Ri.isUnion(this.type))return this.children.reduce((n,i)=>n+i.nullCount,0);let e=this._nullCount,r;return e<=nMt&&(r=this.nullBitmap)&&(this._nullCount=e=r.length===0?0:this.length-wM(r,this.offset,this.offset+this.length)),e}constructor(e,r,n,i,o,u=[],a){this.type=e,this.children=u,this.dictionary=a,this.offset=Math.floor(Math.max(r||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let g;o instanceof Gs?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=dg(e),o&&((g=o[0])&&(this.valueOffsets=g),(g=o[1])&&(this.values=g),(g=o[2])&&(this.nullBitmap=g),(g=o[3])&&(this.typeIds=g)))}getValid(e){const{type:r}=this;if(Ri.isUnion(r)){const n=r,i=this.children[n.typeIdToChildIndex[this.typeIds[e]]],o=n.mode===Ph.Dense?this.valueOffsets[e]:e;return i.getValid(o)}if(this.nullable&&this.nullCount>0){const n=this.offset+e;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(e,r){let n;const{type:i}=this;if(Ri.isUnion(i)){const o=i,u=this.children[o.typeIdToChildIndex[this.typeIds[e]]],a=o.mode===Ph.Dense?this.valueOffsets[e]:e;n=u.getValid(a),u.setValid(a,r)}else{let{nullBitmap:o}=this;const{offset:u,length:a}=this,g=u+e,v=1<<g%8,x=g>>3;(!o||o.byteLength<=x)&&(o=new Uint8Array((u+a+63&-64)>>3).fill(255),this.nullCount>0?(o.set(oC(u,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:o})):Object.assign(this,{nullBitmap:o,_nullCount:0}));const k=o[x];n=(k&v)!==0,o[x]=r?k|v:k&~v}return n!==!!r&&(this._nullCount=this.nullCount+(r?-1:1)),r}clone(e=this.type,r=this.offset,n=this.length,i=this._nullCount,o=this,u=this.children){return new Gs(e,r,n,i,o,u,this.dictionary)}slice(e,r){const{stride:n,typeId:i,children:o}=this,u=+(this._nullCount===0)-1,a=i===16?n:1,g=this._sliceBuffers(e,r,n,i);return this.clone(this.type,this.offset+e,r,u,g,o.length===0||this.valueOffsets?o:this._sliceChildren(o,a*e,a*r))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===Qe.Null)return this.clone(this.type,0,e,0);const{length:r,nullCount:n}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,r>>3);i[r>>3]=(1<<r-(r&-8))-1,n>0&&i.set(oC(this.offset,r,this.nullBitmap),0);const o=this.buffers;return o[hg.VALIDITY]=i,this.clone(this.type,0,e,n+(e-r),o)}_sliceBuffers(e,r,n,i){let o;const{buffers:u}=this;return(o=u[hg.TYPE])&&(u[hg.TYPE]=o.subarray(e,e+r)),(o=u[hg.OFFSET])&&(u[hg.OFFSET]=o.subarray(e,e+r+1))||(o=u[hg.DATA])&&(u[hg.DATA]=i===6?o:o.subarray(n*e,n*(e+r))),u}_sliceChildren(e,r,n){return e.map(i=>i.slice(r,n))}}Gs.prototype.children=Object.freeze([]);class X2 extends Za{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:r,["offset"]:n=0,["length"]:i=0}=e;return new Gs(r,n,i,i)}visitBool(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitInt(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitFloat(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitUtf8(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.data),o=ko(e.nullBitmap),u=o2(e.valueOffsets),{["length"]:a=u.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[u,i,o])}visitLargeUtf8(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.data),o=ko(e.nullBitmap),u=e$(e.valueOffsets),{["length"]:a=u.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[u,i,o])}visitBinary(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.data),o=ko(e.nullBitmap),u=o2(e.valueOffsets),{["length"]:a=u.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[u,i,o])}visitLargeBinary(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.data),o=ko(e.nullBitmap),u=e$(e.valueOffsets),{["length"]:a=u.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[u,i,o])}visitFixedSizeBinary(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitDate(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitTimestamp(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitTime(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitDecimal(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitList(e){const{["type"]:r,["offset"]:n=0,["child"]:i}=e,o=ko(e.nullBitmap),u=o2(e.valueOffsets),{["length"]:a=u.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[u,void 0,o],[i])}visitStruct(e){const{["type"]:r,["offset"]:n=0,["children"]:i=[]}=e,o=ko(e.nullBitmap),{length:u=i.reduce((g,{length:v})=>Math.max(g,v),0),nullCount:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,void 0,o],i)}visitUnion(e){const{["type"]:r,["offset"]:n=0,["children"]:i=[]}=e,o=Xs(r.ArrayType,e.typeIds),{["length"]:u=o.length,["nullCount"]:a=-1}=e;if(Ri.isSparseUnion(r))return new Gs(r,n,u,a,[void 0,void 0,void 0,o],i);const g=o2(e.valueOffsets);return new Gs(r,n,u,a,[g,void 0,void 0,o],i)}visitDictionary(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.indices.ArrayType,e.data),{["dictionary"]:u=new Rs([new X2().visit({type:r.dictionary})])}=e,{["length"]:a=o.length,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[void 0,o,i],[],u)}visitInterval(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitDuration(e){const{["type"]:r,["offset"]:n=0}=e,i=ko(e.nullBitmap),o=Xs(r.ArrayType,e.data),{["length"]:u=o.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,o,i])}visitFixedSizeList(e){const{["type"]:r,["offset"]:n=0,["child"]:i=new X2().visit({type:r.valueType})}=e,o=ko(e.nullBitmap),{["length"]:u=i.length/dg(r),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Gs(r,n,u,a,[void 0,void 0,o],[i])}visitMap(e){const{["type"]:r,["offset"]:n=0,["child"]:i=new X2().visit({type:r.childType})}=e,o=ko(e.nullBitmap),u=o2(e.valueOffsets),{["length"]:a=u.length-1,["nullCount"]:g=e.nullBitmap?-1:0}=e;return new Gs(r,n,a,g,[u,void 0,o],[i])}}const iMt=new X2;function ro(t){return iMt.visit(t)}class m${constructor(e=0,r){this.numChunks=e,this.getChunkIterator=r,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function aMt(t){return t.some(e=>e.nullable)}function SK(t){return t.reduce((e,r)=>e+r.nullCount,0)}function EK(t){return t.reduce((e,r,n)=>(e[n+1]=e[n]+r.length,e),new Uint32Array(t.length+1))}function TK(t,e,r,n){const i=[];for(let o=-1,u=t.length;++o<u;){const a=t[o],g=e[o],{length:v}=a;if(g>=n)break;if(r>=g+v)continue;if(g>=r&&g+v<=n){i.push(a);continue}const x=Math.max(0,r-g),k=Math.min(n-g,v);i.push(a.slice(x,k-x))}return i.length===0&&i.push(t[0].slice(0,0)),i}function kO(t,e,r,n){let i=0,o=0,u=e.length-1;do{if(i>=u-1)return r<e[u]?n(t,i,r-e[i]):null;o=i+Math.trunc((u-i)*.5),r<e[o]?u=o:i=o}while(i<u)}function IO(t,e){return t.getValid(e)}function lC(t){function e(r,n,i){return t(r[n],i)}return function(r){const n=this.data;return kO(n,this._offsets,r,e)}}function CK(t){let e;function r(n,i,o){return t(n[i],o,e)}return function(n,i){const o=this.data;e=i;const u=kO(o,this._offsets,n,r);return e=void 0,u}}function AK(t){let e;function r(n,i,o){let u=o,a=0,g=0;for(let v=i-1,x=n.length;++v<x;){const k=n[v];if(~(a=t(k,e,u)))return g+a;u=0,g+=k.length}return-1}return function(n,i){e=n;const o=this.data,u=typeof i!="number"?r(o,0,0):kO(o,this._offsets,i,r);return e=void 0,u}}class Xi extends Za{}function oMt(t,e){return e===null&&t.length>0?0:-1}function sMt(t,e){const{nullBitmap:r}=t;if(!r||t.nullCount<=0)return-1;let n=0;for(const i of new AO(r,t.offset+(e||0),t.length,r,wK)){if(!i)return n;++n}return-1}function ya(t,e,r){if(e===void 0)return-1;if(e===null)switch(t.typeId){case Qe.Union:break;case Qe.Dictionary:break;default:return sMt(t,r)}const n=_d.getVisitFn(t),i=Ax(e);for(let o=(r||0)-1,u=t.length;++o<u;)if(i(n(t,o)))return o;return-1}function kK(t,e,r){const n=_d.getVisitFn(t),i=Ax(e);for(let o=(r||0)-1,u=t.length;++o<u;)if(i(n(t,o)))return o;return-1}Xi.prototype.visitNull=oMt;Xi.prototype.visitBool=ya;Xi.prototype.visitInt=ya;Xi.prototype.visitInt8=ya;Xi.prototype.visitInt16=ya;Xi.prototype.visitInt32=ya;Xi.prototype.visitInt64=ya;Xi.prototype.visitUint8=ya;Xi.prototype.visitUint16=ya;Xi.prototype.visitUint32=ya;Xi.prototype.visitUint64=ya;Xi.prototype.visitFloat=ya;Xi.prototype.visitFloat16=ya;Xi.prototype.visitFloat32=ya;Xi.prototype.visitFloat64=ya;Xi.prototype.visitUtf8=ya;Xi.prototype.visitLargeUtf8=ya;Xi.prototype.visitBinary=ya;Xi.prototype.visitLargeBinary=ya;Xi.prototype.visitFixedSizeBinary=ya;Xi.prototype.visitDate=ya;Xi.prototype.visitDateDay=ya;Xi.prototype.visitDateMillisecond=ya;Xi.prototype.visitTimestamp=ya;Xi.prototype.visitTimestampSecond=ya;Xi.prototype.visitTimestampMillisecond=ya;Xi.prototype.visitTimestampMicrosecond=ya;Xi.prototype.visitTimestampNanosecond=ya;Xi.prototype.visitTime=ya;Xi.prototype.visitTimeSecond=ya;Xi.prototype.visitTimeMillisecond=ya;Xi.prototype.visitTimeMicrosecond=ya;Xi.prototype.visitTimeNanosecond=ya;Xi.prototype.visitDecimal=ya;Xi.prototype.visitList=ya;Xi.prototype.visitStruct=ya;Xi.prototype.visitUnion=ya;Xi.prototype.visitDenseUnion=kK;Xi.prototype.visitSparseUnion=kK;Xi.prototype.visitDictionary=ya;Xi.prototype.visitInterval=ya;Xi.prototype.visitIntervalDayTime=ya;Xi.prototype.visitIntervalYearMonth=ya;Xi.prototype.visitDuration=ya;Xi.prototype.visitDurationSecond=ya;Xi.prototype.visitDurationMillisecond=ya;Xi.prototype.visitDurationMicrosecond=ya;Xi.prototype.visitDurationNanosecond=ya;Xi.prototype.visitFixedSizeList=ya;Xi.prototype.visitMap=ya;const uC=new Xi;class Wi extends Za{}function ea(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(Ri.isInt(e)&&e.bitWidth!==64||Ri.isTime(e)&&e.bitWidth!==64||Ri.isFloat(e)&&e.precision!==Mh.HALF))return new m$(t.data.length,n=>{const i=t.data[n];return i.values.subarray(0,i.length)[Symbol.iterator]()});let r=0;return new m$(t.data.length,n=>{const o=t.data[n].length,u=t.slice(r,r+o);return r+=o,new lMt(u)})}class lMt{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Wi.prototype.visitNull=ea;Wi.prototype.visitBool=ea;Wi.prototype.visitInt=ea;Wi.prototype.visitInt8=ea;Wi.prototype.visitInt16=ea;Wi.prototype.visitInt32=ea;Wi.prototype.visitInt64=ea;Wi.prototype.visitUint8=ea;Wi.prototype.visitUint16=ea;Wi.prototype.visitUint32=ea;Wi.prototype.visitUint64=ea;Wi.prototype.visitFloat=ea;Wi.prototype.visitFloat16=ea;Wi.prototype.visitFloat32=ea;Wi.prototype.visitFloat64=ea;Wi.prototype.visitUtf8=ea;Wi.prototype.visitLargeUtf8=ea;Wi.prototype.visitBinary=ea;Wi.prototype.visitLargeBinary=ea;Wi.prototype.visitFixedSizeBinary=ea;Wi.prototype.visitDate=ea;Wi.prototype.visitDateDay=ea;Wi.prototype.visitDateMillisecond=ea;Wi.prototype.visitTimestamp=ea;Wi.prototype.visitTimestampSecond=ea;Wi.prototype.visitTimestampMillisecond=ea;Wi.prototype.visitTimestampMicrosecond=ea;Wi.prototype.visitTimestampNanosecond=ea;Wi.prototype.visitTime=ea;Wi.prototype.visitTimeSecond=ea;Wi.prototype.visitTimeMillisecond=ea;Wi.prototype.visitTimeMicrosecond=ea;Wi.prototype.visitTimeNanosecond=ea;Wi.prototype.visitDecimal=ea;Wi.prototype.visitList=ea;Wi.prototype.visitStruct=ea;Wi.prototype.visitUnion=ea;Wi.prototype.visitDenseUnion=ea;Wi.prototype.visitSparseUnion=ea;Wi.prototype.visitDictionary=ea;Wi.prototype.visitInterval=ea;Wi.prototype.visitIntervalDayTime=ea;Wi.prototype.visitIntervalYearMonth=ea;Wi.prototype.visitDuration=ea;Wi.prototype.visitDurationSecond=ea;Wi.prototype.visitDurationMillisecond=ea;Wi.prototype.visitDurationMicrosecond=ea;Wi.prototype.visitDurationNanosecond=ea;Wi.prototype.visitFixedSizeList=ea;Wi.prototype.visitMap=ea;const RO=new Wi;var IK;const RK={},NK={};class Rs{constructor(e){var r,n,i;const o=e[0]instanceof Rs?e.flatMap(a=>a.data):e;if(o.length===0||o.some(a=>!(a instanceof Gs)))throw new TypeError("Vector constructor expects an Array of Data instances.");const u=(r=o[0])===null||r===void 0?void 0:r.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:g,indexOf:v}=RK[u.typeId],x=o[0];this.isValid=k=>IO(x,k),this.get=k=>a(x,k),this.set=(k,R)=>g(x,k,R),this.indexOf=k=>v(x,k),this._offsets=[0,x.length];break}default:Object.setPrototypeOf(this,NK[u.typeId]),this._offsets=EK(o);break}this.data=o,this.type=u,this.stride=dg(u),this.numChildren=(i=(n=u.children)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,r)=>e+r.byteLength,0)}get nullable(){return aMt(this.data)}get nullCount(){return SK(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Qe[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(CO(e,this.length))}set(e,r){}indexOf(e,r){return-1}includes(e,r){return this.indexOf(e,r)>-1}[Symbol.iterator](){return RO.visit(this)}concat(...e){return new Rs(this.data.concat(e.flatMap(r=>r.data).flat(Number.POSITIVE_INFINITY)))}slice(e,r){return new Rs(xK(this,e,r,({data:n,_offsets:i},o,u)=>TK(n,i,o,u)))}toJSON(){return[...this]}toArray(){const{type:e,data:r,length:n,stride:i,ArrayType:o}=this;switch(e.typeId){case Qe.Int:case Qe.Float:case Qe.Decimal:case Qe.Time:case Qe.Timestamp:switch(r.length){case 0:return new o;case 1:return r[0].values.subarray(0,n*i);default:return r.reduce((u,{values:a,length:g})=>(u.array.set(a.subarray(0,g*i),u.offset),u.offset+=g*i,u),{array:new o(n*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var r;return this.getChildAt((r=this.type.children)===null||r===void 0?void 0:r.findIndex(n=>n.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Rs(this.data.map(({children:r})=>r[e])):null}get isMemoized(){return Ri.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Ri.isDictionary(this.type)){const e=new cC(this.data[0].dictionary),r=this.data.map(n=>{const i=n.clone();return i.dictionary=e,i});return new Rs(r)}return new cC(this)}unmemoize(){if(Ri.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),r=this.data.map(n=>{const i=n.clone();return i.dictionary=e,i});return new Rs(r)}return this}}IK=Symbol.toStringTag;Rs[IK]=(t=>{t.type=Ri.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(Qe).map(r=>Qe[r]).filter(r=>typeof r=="number"&&r!==Qe.NONE);for(const r of e){const n=_d.getVisitFnByTypeId(r),i=jf.getVisitFnByTypeId(r),o=uC.getVisitFnByTypeId(r);RK[r]={get:n,set:i,indexOf:o},NK[r]=Object.create(t,{isValid:{value:lC(IO)},get:{value:lC(_d.getVisitFnByTypeId(r))},set:{value:CK(jf.getVisitFnByTypeId(r))},indexOf:{value:AK(uC.getVisitFnByTypeId(r))}})}return"Vector"})(Rs.prototype);class cC extends Rs{constructor(e){super(e.data);const r=this.get,n=this.set,i=this.slice,o=new Array(this.length);Object.defineProperty(this,"get",{value(u){const a=o[u];if(a!==void 0)return a;const g=r.call(this,u);return o[u]=g,g}}),Object.defineProperty(this,"set",{value(u,a){n.call(this,u,a),o[u]=a}}),Object.defineProperty(this,"slice",{value:(u,a)=>new cC(i.call(this,u,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Rs(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class SM{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,r,n,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(n),e.writeInt64(BigInt(r??0)),e.offset()}}class Hd{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsFooter(e,r){return(r||new Hd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,r){return e.setPosition(e.position()+Ls),(r||new Hd).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tc.V1}schema(e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new om).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}dictionaries(e,r){const n=this.bb.__offset(this.bb_pos,8);return n?(r||new SM).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,r){const n=this.bb.__offset(this.bb_pos,10);return n?(r||new SM).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,12);return n?(r||new kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,r){e.addFieldInt16(0,r,tc.V1)}static addSchema(e,r){e.addFieldOffset(1,r,0)}static addDictionaries(e,r){e.addFieldOffset(2,r,0)}static startDictionariesVector(e,r){e.startVector(24,r,8)}static addRecordBatches(e,r){e.addFieldOffset(3,r,0)}static startRecordBatchesVector(e,r){e.startVector(24,r,8)}static addCustomMetadata(e,r){e.addFieldOffset(4,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,r){e.finish(r)}static finishSizePrefixedFooterBuffer(e,r){e.finish(r,void 0,!0)}}class Ns{constructor(e=[],r,n,i=tc.V5){this.fields=e||[],this.metadata=r||new Map,n||(n=EM(this.fields)),this.dictionaries=n,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,r)=>`${r}: ${e}`).join(", ")} }>`}select(e){const r=new Set(e),n=this.fields.filter(i=>r.has(i.name));return new Ns(n,this.metadata)}selectAt(e){const r=e.map(n=>this.fields[n]).filter(Boolean);return new Ns(r,this.metadata)}assign(...e){const r=e[0]instanceof Ns?e[0]:Array.isArray(e[0])?new Ns(e[0]):new Ns(e),n=[...this.fields],i=eE(eE(new Map,this.metadata),r.metadata),o=r.fields.filter(a=>{const g=n.findIndex(v=>v.name===a.name);return~g?(n[g]=a.clone({metadata:eE(eE(new Map,n[g].metadata),a.metadata)}))&&!1:!0}),u=EM(o,new Map);return new Ns([...n,...o],i,new Map([...this.dictionaries,...u]))}}Ns.prototype.fields=null;Ns.prototype.metadata=null;Ns.prototype.dictionaries=null;class Dl{static new(...e){let[r,n,i,o]=e;return e[0]&&typeof e[0]=="object"&&({name:r}=e[0],n===void 0&&(n=e[0].type),i===void 0&&(i=e[0].nullable),o===void 0&&(o=e[0].metadata)),new Dl(`${r}`,n,i,o)}constructor(e,r,n=!1,i){this.name=e,this.type=r,this.nullable=n,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[r,n,i,o]=e;return!e[0]||typeof e[0]!="object"?[r=this.name,n=this.type,i=this.nullable,o=this.metadata]=e:{name:r=this.name,type:n=this.type,nullable:i=this.nullable,metadata:o=this.metadata}=e[0],Dl.new(r,n,i,o)}}Dl.prototype.type=null;Dl.prototype.name=null;Dl.prototype.nullable=null;Dl.prototype.metadata=null;function eE(t,e){return new Map([...t||new Map,...e||new Map])}function EM(t,e=new Map){for(let r=-1,n=t.length;++r<n;){const o=t[r].type;if(Ri.isDictionary(o)){if(!e.has(o.id))e.set(o.id,o.dictionary);else if(e.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&EM(o.children,e)}return e}var uMt=eY,cMt=sx;class Cw{static decode(e){e=new cMt(ko(e));const r=Hd.getRootAsFooter(e),n=Ns.decode(r.schema(),new Map,r.version());return new hMt(n,r)}static encode(e){const r=new uMt,n=Ns.encode(r,e.schema);Hd.startRecordBatchesVector(r,e.numRecordBatches);for(const u of[...e.recordBatches()].slice().reverse())Iy.encode(r,u);const i=r.endVector();Hd.startDictionariesVector(r,e.numDictionaries);for(const u of[...e.dictionaryBatches()].slice().reverse())Iy.encode(r,u);const o=r.endVector();return Hd.startFooter(r),Hd.addSchema(r,n),Hd.addVersion(r,tc.V5),Hd.addRecordBatches(r,i),Hd.addDictionaries(r,o),Hd.finishFooterBuffer(r,Hd.endFooter(r)),r.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,r=tc.V5,n,i){this.schema=e,this.version=r,n&&(this._recordBatches=n),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,r=-1,n=this.numRecordBatches;++r<n;)(e=this.getRecordBatch(r))&&(yield e)}*dictionaryBatches(){for(let e,r=-1,n=this.numDictionaries;++r<n;)(e=this.getDictionaryBatch(r))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class hMt extends Cw{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,r){super(e,r.version()),this._footer=r}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const r=this._footer.recordBatches(e);if(r)return Iy.decode(r)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const r=this._footer.dictionaries(e);if(r)return Iy.decode(r)}return null}}class Iy{static decode(e){return new Iy(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,r){const{metaDataLength:n}=r,i=BigInt(r.offset),o=BigInt(r.bodyLength);return SM.createBlock(e,i,n,o)}constructor(e,r,n){this.metaDataLength=e,this.offset=dl(n),this.bodyLength=dl(r)}}const vu=Object.freeze({done:!0,value:void 0});class g${constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class NO{tee(){return this._getDOMStream().tee()}pipe(e,r){return this._getNodeStream().pipe(e,r)}pipeTo(e,r){return this._getDOMStream().pipeTo(e,r)}pipeThrough(e,r){return this._getDOMStream().pipeThrough(e,r)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class dMt extends NO{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return va(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(vu);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return bf.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return bf.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return va(this,void 0,void 0,function*(){return yield this.abort(e),vu})}return(e){return va(this,void 0,void 0,function*(){return yield this.close(),vu})}read(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((r,n)=>{this.resolvers.push({resolve:r,reject:n})}):Promise.resolve(vu)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class zE extends dMt{write(e){if((e=ko(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?mM(this.toUint8Array(!0)):this.toUint8Array(!1).then(mM)}toUint8Array(e=!1){return e?Om(this._values)[0]:va(this,void 0,void 0,function*(){var r,n,i,o;const u=[];let a=0;try{for(var g=!0,v=Yv(this),x;x=yield v.next(),r=x.done,!r;g=!0){o=x.value,g=!1;const k=o;u.push(k),a+=k.byteLength}}catch(k){n={error:k}}finally{try{!g&&!r&&(i=v.return)&&(yield i.call(v))}finally{if(n)throw n.error}}return Om(u,a)[0]})}}class hC{constructor(e){e&&(this.source=new fMt(bf.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class cx{constructor(e){e instanceof cx?this.source=e.source:e instanceof zE?this.source=new Sv(bf.fromAsyncIterable(e)):ZW(e)?this.source=new Sv(bf.fromNodeStream(e)):_O(e)?this.source=new Sv(bf.fromDOMStream(e)):KW(e)?this.source=new Sv(bf.fromDOMStream(e.body)):lS(e)?this.source=new Sv(bf.fromIterable(e)):o0(e)?this.source=new Sv(bf.fromAsyncIterable(e)):Cx(e)&&(this.source=new Sv(bf.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class fMt{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,r="read"){return this.source.next({cmd:r,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||vu)}return(e){return Object.create(this.source.return&&this.source.return(e)||vu)}}class Sv{constructor(e){this.source=e,this._closedPromise=new Promise(r=>this._closedPromiseResolve=r)}cancel(e){return va(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return va(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return va(this,arguments,void 0,function*(r,n="read"){return yield this.source.next({cmd:n,size:r})})}throw(e){return va(this,void 0,void 0,function*(){const r=this.source.throw&&(yield this.source.throw(e))||vu;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(r)})}return(e){return va(this,void 0,void 0,function*(){const r=this.source.return&&(yield this.source.return(e))||vu;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(r)})}}class y$ extends hC{constructor(e,r){super(),this.position=0,this.buffer=ko(e),this.size=r===void 0?this.buffer.byteLength:r}readInt32(e){const{buffer:r,byteOffset:n}=this.readAt(e,4);return new DataView(r,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:r,size:n,position:i}=this;return r&&i<n?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(n,i+Math.min(n-i,e)),r.subarray(i,this.position)):null}readAt(e,r){const n=this.buffer,i=Math.min(this.size,e+r);return n?n.subarray(e,i):new Uint8Array(r)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class dC extends cx{constructor(e,r){super(),this.position=0,this._handle=e,typeof r=="number"?this.size=r:this._pending=va(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return va(this,void 0,void 0,function*(){const{buffer:r,byteOffset:n}=yield this.readAt(e,4);return new DataView(r,n).getInt32(0,!0)})}seek(e){return va(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return va(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:n,position:i}=this;if(r&&i<n){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let o=i,u=0,a=0;const g=Math.min(n,o+Math.min(n-o,e)),v=new Uint8Array(Math.max(0,(this.position=g)-o));for(;(o+=a)<g&&(u+=a)<v.byteLength;)({bytesRead:a}=yield r.read(v,u,v.byteLength-u,o));return v}return null})}readAt(e,r){return va(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i}=this;if(n&&e+r<i){const o=Math.min(i,e+r),u=new Uint8Array(o-e);return(yield n.read(u,0,r,e)).buffer}return new Uint8Array(r)})}close(){return va(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return va(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return va(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const pMt=65536;function S_(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const hx=8,LO=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class LK{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const r=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=r[3]*n[3];this.buffer[0]=i&65535;let o=i>>>16;return i=r[2]*n[3],o+=i,i=r[3]*n[2]>>>0,o+=i,this.buffer[0]+=o<<16,this.buffer[1]=o>>>0<i?pMt:0,this.buffer[1]+=o>>>16,this.buffer[1]+=r[1]*n[3]+r[2]*n[2]+r[3]*n[1],this.buffer[1]+=r[0]*n[3]+r[1]*n[2]+r[2]*n[1]+r[3]*n[0]<<16,this}_plus(e){const r=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],r<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=r}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${S_(this.buffer[1])} ${S_(this.buffer[0])}`}}class Hs extends LK{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,r=new Uint32Array(2)){return Hs.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(2)){return Hs.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(2)){const n=e.length,i=new Hs(r);for(let o=0;o<n;){const u=hx<n-o?hx:n-o,a=new Hs(new Uint32Array([Number.parseInt(e.slice(o,o+u),10),0])),g=new Hs(new Uint32Array([LO[u],0]));i.times(g),i.plus(a),o+=u}return i}static convertArray(e){const r=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)Hs.from(e[n],new Uint32Array(r.buffer,r.byteOffset+2*n*4,2));return r}static multiply(e,r){return new Hs(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new Hs(new Uint32Array(e.buffer)).plus(r)}}class ud extends LK{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const r=this.buffer[1]<<0,n=e.buffer[1]<<0;return r<n||r===n&&this.buffer[0]<e.buffer[0]}static from(e,r=new Uint32Array(2)){return ud.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(2)){return ud.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(2)){const n=e.startsWith("-"),i=e.length,o=new ud(r);for(let u=n?1:0;u<i;){const a=hx<i-u?hx:i-u,g=new ud(new Uint32Array([Number.parseInt(e.slice(u,u+a),10),0])),v=new ud(new Uint32Array([LO[a],0]));o.times(v),o.plus(g),u+=a}return n?o.negate():o}static convertArray(e){const r=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)ud.from(e[n],new Uint32Array(r.buffer,r.byteOffset+2*n*4,2));return r}static multiply(e,r){return new ud(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new ud(new Uint32Array(e.buffer)).plus(r)}}class sm{constructor(e){this.buffer=e}high(){return new ud(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ud(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const r=new Hs(new Uint32Array([this.buffer[3],0])),n=new Hs(new Uint32Array([this.buffer[2],0])),i=new Hs(new Uint32Array([this.buffer[1],0])),o=new Hs(new Uint32Array([this.buffer[0],0])),u=new Hs(new Uint32Array([e.buffer[3],0])),a=new Hs(new Uint32Array([e.buffer[2],0])),g=new Hs(new Uint32Array([e.buffer[1],0])),v=new Hs(new Uint32Array([e.buffer[0],0]));let x=Hs.multiply(o,v);this.buffer[0]=x.low();const k=new Hs(new Uint32Array([x.high(),0]));return x=Hs.multiply(i,v),k.plus(x),x=Hs.multiply(o,g),k.plus(x),this.buffer[1]=k.low(),this.buffer[3]=k.lessThan(x)?1:0,this.buffer[2]=k.high(),new Hs(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Hs.multiply(n,v)).plus(Hs.multiply(i,g)).plus(Hs.multiply(o,a)),this.buffer[3]+=Hs.multiply(r,v).plus(Hs.multiply(n,g)).plus(Hs.multiply(i,a)).plus(Hs.multiply(o,u)).low(),this}plus(e){const r=new Uint32Array(4);return r[3]=this.buffer[3]+e.buffer[3]>>>0,r[2]=this.buffer[2]+e.buffer[2]>>>0,r[1]=this.buffer[1]+e.buffer[1]>>>0,r[0]=this.buffer[0]+e.buffer[0]>>>0,r[0]<this.buffer[0]>>>0&&++r[1],r[1]<this.buffer[1]>>>0&&++r[2],r[2]<this.buffer[2]>>>0&&++r[3],this.buffer[3]=r[3],this.buffer[2]=r[2],this.buffer[1]=r[1],this.buffer[0]=r[0],this}hex(){return`${S_(this.buffer[3])} ${S_(this.buffer[2])} ${S_(this.buffer[1])} ${S_(this.buffer[0])}`}static multiply(e,r){return new sm(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new sm(new Uint32Array(e.buffer)).plus(r)}static from(e,r=new Uint32Array(4)){return sm.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(4)){return sm.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(4)){const n=e.startsWith("-"),i=e.length,o=new sm(r);for(let u=n?1:0;u<i;){const a=hx<i-u?hx:i-u,g=new sm(new Uint32Array([Number.parseInt(e.slice(u,u+a),10),0,0,0])),v=new sm(new Uint32Array([LO[a],0,0,0]));o.times(v),o.plus(g),u+=a}return n?o.negate():o}static convertArray(e){const r=new Uint32Array(e.length*4);for(let n=-1,i=e.length;++n<i;)sm.from(e[n],new Uint32Array(r.buffer,r.byteOffset+16*n,4));return r}}class MK extends Za{constructor(e,r,n,i,o=tc.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=r,this.buffers=n,this.dictionaries=i,this.metadataVersion=o}visit(e){return super.visit(e instanceof Dl?e.type:e)}visitNull(e,{length:r}=this.nextFieldNode()){return ro({type:e,length:r})}visitBool(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitInt(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFloat(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitUtf8(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDate(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTimestamp(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTime(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDecimal(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitList(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),children:this.visitMany(e.children)})}visitUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return this.metadataVersion<tc.V5&&this.readNullBitmap(e,n),e.mode===Ph.Sparse?this.visitSparseUnion(e,{length:r,nullCount:n}):this.visitDenseUnion(e,{length:r,nullCount:n})}visitDenseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDuration(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFixedSizeList(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),child:this.visit(e.children[0])})}visitMap(e,{length:r,nullCount:n}=this.nextFieldNode()){return ro({type:e,length:r,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,r,n=this.nextBufferRange()){return r>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,r){return this.readData(e,r)}readTypeIds(e,r){return this.readData(e,r)}readData(e,{length:r,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+r)}readDictionary(e){return this.dictionaries.get(e.id)}}class mMt extends MK{constructor(e,r,n,i,o){super(new Uint8Array(0),r,n,i,o),this.sources=e}readNullBitmap(e,r,{offset:n}=this.nextBufferRange()){return r<=0?new Uint8Array(0):sC(this.sources[n])}readOffsets(e,{offset:r}=this.nextBufferRange()){return Xs(Uint8Array,Xs(e.OffsetArrayType,this.sources[r]))}readTypeIds(e,{offset:r}=this.nextBufferRange()){return Xs(Uint8Array,Xs(e.ArrayType,this.sources[r]))}readData(e,{offset:r}=this.nextBufferRange()){const{sources:n}=this;return Ri.isTimestamp(e)||(Ri.isInt(e)||Ri.isTime(e))&&e.bitWidth===64||Ri.isDuration(e)||Ri.isDate(e)&&e.unit===Ff.MILLISECOND?Xs(Uint8Array,ud.convertArray(n[r])):Ri.isDecimal(e)?Xs(Uint8Array,sm.convertArray(n[r])):Ri.isBinary(e)||Ri.isLargeBinary(e)||Ri.isFixedSizeBinary(e)?gMt(n[r]):Ri.isBool(e)?sC(n[r]):Ri.isUtf8(e)||Ri.isLargeUtf8(e)?bO(n[r].join("")):Xs(Uint8Array,Xs(e.ArrayType,n[r].map(i=>+i)))}}function gMt(t){const e=t.join(""),r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n>>1]=Number.parseInt(e.slice(n,n+2),16);return r}class Yi extends Za{compareSchemas(e,r){return e===r||r instanceof e.constructor&&this.compareManyFields(e.fields,r.fields)}compareManyFields(e,r){return e===r||Array.isArray(e)&&Array.isArray(r)&&e.length===r.length&&e.every((n,i)=>this.compareFields(n,r[i]))}compareFields(e,r){return e===r||r instanceof e.constructor&&e.name===r.name&&e.nullable===r.nullable&&this.visit(e.type,r.type)}}function Qh(t,e){return e instanceof t.constructor}function S0(t,e){return t===e||Qh(t,e)}function Pg(t,e){return t===e||Qh(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function UA(t,e){return t===e||Qh(t,e)&&t.precision===e.precision}function yMt(t,e){return t===e||Qh(t,e)&&t.byteWidth===e.byteWidth}function MO(t,e){return t===e||Qh(t,e)&&t.unit===e.unit}function uS(t,e){return t===e||Qh(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function cS(t,e){return t===e||Qh(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function vMt(t,e){return t===e||Qh(t,e)&&t.children.length===e.children.length&&Ry.compareManyFields(t.children,e.children)}function bMt(t,e){return t===e||Qh(t,e)&&t.children.length===e.children.length&&Ry.compareManyFields(t.children,e.children)}function PO(t,e){return t===e||Qh(t,e)&&t.mode===e.mode&&t.typeIds.every((r,n)=>r===e.typeIds[n])&&Ry.compareManyFields(t.children,e.children)}function _Mt(t,e){return t===e||Qh(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Ry.visit(t.indices,e.indices)&&Ry.visit(t.dictionary,e.dictionary)}function OO(t,e){return t===e||Qh(t,e)&&t.unit===e.unit}function hS(t,e){return t===e||Qh(t,e)&&t.unit===e.unit}function xMt(t,e){return t===e||Qh(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Ry.compareManyFields(t.children,e.children)}function wMt(t,e){return t===e||Qh(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Ry.compareManyFields(t.children,e.children)}Yi.prototype.visitNull=S0;Yi.prototype.visitBool=S0;Yi.prototype.visitInt=Pg;Yi.prototype.visitInt8=Pg;Yi.prototype.visitInt16=Pg;Yi.prototype.visitInt32=Pg;Yi.prototype.visitInt64=Pg;Yi.prototype.visitUint8=Pg;Yi.prototype.visitUint16=Pg;Yi.prototype.visitUint32=Pg;Yi.prototype.visitUint64=Pg;Yi.prototype.visitFloat=UA;Yi.prototype.visitFloat16=UA;Yi.prototype.visitFloat32=UA;Yi.prototype.visitFloat64=UA;Yi.prototype.visitUtf8=S0;Yi.prototype.visitLargeUtf8=S0;Yi.prototype.visitBinary=S0;Yi.prototype.visitLargeBinary=S0;Yi.prototype.visitFixedSizeBinary=yMt;Yi.prototype.visitDate=MO;Yi.prototype.visitDateDay=MO;Yi.prototype.visitDateMillisecond=MO;Yi.prototype.visitTimestamp=uS;Yi.prototype.visitTimestampSecond=uS;Yi.prototype.visitTimestampMillisecond=uS;Yi.prototype.visitTimestampMicrosecond=uS;Yi.prototype.visitTimestampNanosecond=uS;Yi.prototype.visitTime=cS;Yi.prototype.visitTimeSecond=cS;Yi.prototype.visitTimeMillisecond=cS;Yi.prototype.visitTimeMicrosecond=cS;Yi.prototype.visitTimeNanosecond=cS;Yi.prototype.visitDecimal=S0;Yi.prototype.visitList=vMt;Yi.prototype.visitStruct=bMt;Yi.prototype.visitUnion=PO;Yi.prototype.visitDenseUnion=PO;Yi.prototype.visitSparseUnion=PO;Yi.prototype.visitDictionary=_Mt;Yi.prototype.visitInterval=OO;Yi.prototype.visitIntervalDayTime=OO;Yi.prototype.visitIntervalYearMonth=OO;Yi.prototype.visitDuration=hS;Yi.prototype.visitDurationSecond=hS;Yi.prototype.visitDurationMillisecond=hS;Yi.prototype.visitDurationMicrosecond=hS;Yi.prototype.visitDurationNanosecond=hS;Yi.prototype.visitFixedSizeList=xMt;Yi.prototype.visitMap=wMt;const Ry=new Yi;function TM(t,e){return Ry.compareSchemas(t,e)}function kN(t,e){return SMt(t,e.map(r=>r.data.concat()))}function SMt(t,e){const r=[...t.fields],n=[],i={numBatches:e.reduce((k,R)=>Math.max(k,R.length),0)};let o=0,u=0,a=-1;const g=e.length;let v,x=[];for(;i.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,a=-1;++a<g;)x[a]=v=e[a].shift(),u=Math.min(u,v?v.length:u);Number.isFinite(u)&&(x=EMt(r,u,x,e,i),u>0&&(n[o++]=ro({type:new Yh(r),length:u,nullCount:0,children:x.slice()})))}return[t=t.assign(r),n.map(k=>new hd(t,k))]}function EMt(t,e,r,n,i){var o;const u=(e+63&-64)>>3;for(let a=-1,g=n.length;++a<g;){const v=r[a],x=v?.length;if(x>=e)x===e?r[a]=v:(r[a]=v.slice(0,e),i.numBatches=Math.max(i.numBatches,n[a].unshift(v.slice(e,x-e))));else{const k=t[a];t[a]=k.clone({nullable:!0}),r[a]=(o=v?._changeLengthAndBackfillNullBitmap(e))!==null&&o!==void 0?o:ro({type:k.type,length:e,nullCount:e,nullBitmap:new Uint8Array(u)})}}return r}var PK;class Wh{constructor(...e){var r,n;if(e.length===0)return this.batches=[],this.schema=new Ns([]),this._offsets=[0],this;let i,o;e[0]instanceof Ns&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(o=e.pop());const u=g=>{if(g){if(g instanceof hd)return[g];if(g instanceof Wh)return g.batches;if(g instanceof Gs){if(g.type instanceof Yh)return[new hd(new Ns(g.type.children),g)]}else{if(Array.isArray(g))return g.flatMap(v=>u(v));if(typeof g[Symbol.iterator]=="function")return[...g].flatMap(v=>u(v));if(typeof g=="object"){const v=Object.keys(g),x=v.map(A=>new Rs([g[A]])),k=i??new Ns(v.map((A,O)=>new Dl(String(A),x[O].type,x[O].nullable))),[,R]=kN(k,x);return R.length===0?[new hd(g)]:R}}}return[]},a=e.flatMap(g=>u(g));if(i=(n=i??((r=a[0])===null||r===void 0?void 0:r.schema))!==null&&n!==void 0?n:new Ns([]),!(i instanceof Ns))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const g of a){if(!(g instanceof hd))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!TM(i,g.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=o??EK(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,r)=>e+r.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=SK(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(CO(e,this.numRows))}set(e,r){}indexOf(e,r){return-1}[Symbol.iterator](){return this.batches.length>0?RO.visit(new Rs(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const r=this.schema,n=this.data.concat(e.flatMap(({data:i})=>i));return new Wh(r,n.map(i=>new hd(r,i)))}slice(e,r){const n=this.schema;[e,r]=xK({length:this.numRows},e,r);const i=TK(this.data,this._offsets,e,r);return new Wh(n,i.map(o=>new hd(n,o)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(r=>r.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const r=this.data.map(n=>n.children[e]);if(r.length===0){const{type:n}=this.schema.fields[e],i=ro({type:n,length:0,nullCount:0});r.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Rs(r)}return null}setChild(e,r){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===e),r)}setChildAt(e,r){let n=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){r||(r=new Rs([ro({type:new ky,length:this.numRows})]));const o=n.fields.slice(),u=o[e].clone({type:r.type}),a=this.schema.fields.map((g,v)=>this.getChildAt(v));[o[e],a[e]]=[u,r],[n,i]=kN(n,a)}return new Wh(n,i)}select(e){const r=this.schema.fields.reduce((n,i,o)=>n.set(i.name,o),new Map);return this.selectAt(e.map(n=>r.get(n)).filter(n=>n>-1))}selectAt(e){const r=this.schema.selectAt(e),n=this.batches.map(i=>i.selectAt(e));return new Wh(r,n)}assign(e){const r=this.schema.fields,[n,i]=e.schema.fields.reduce((a,g,v)=>{const[x,k]=a,R=r.findIndex(A=>A.name===g.name);return~R?k[R]=v:x.push(v),a},[[],[]]),o=this.schema.assign(e.schema),u=[...r.map((a,g)=>[g,i[g]]).map(([a,g])=>g===void 0?this.getChildAt(a):e.getChildAt(g)),...n.map(a=>e.getChildAt(a))].filter(Boolean);return new Wh(...kN(o,u))}}PK=Symbol.toStringTag;Wh[PK]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=lC(IO),t.get=lC(_d.getVisitFn(Qe.Struct)),t.set=CK(jf.getVisitFn(Qe.Struct)),t.indexOf=AK(uC.getVisitFn(Qe.Struct)),"Table"))(Wh.prototype);var OK;let hd=class I2{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Ns))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ro({nullCount:0,type:new Yh(this.schema.fields),children:this.schema.fields.map(r=>ro({type:r.type,nullCount:0}))})]=e,!(this.data instanceof Gs))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=v$(this.schema,this.data.children);break}case 1:{const[r]=e,{fields:n,children:i,length:o}=Object.keys(r).reduce((g,v,x)=>(g.children[x]=r[v],g.length=Math.max(g.length,r[v].length),g.fields[x]=Dl.new({name:v,type:r[v].type,nullable:!0}),g),{length:0,fields:new Array,children:new Array}),u=new Ns(n),a=ro({type:new Yh(n),length:o,children:i,nullCount:0});[this.schema,this.data]=v$(u,a.children,o);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=DK(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return _d.visit(this.data,e)}at(e){return this.get(CO(e,this.numRows))}set(e,r){return jf.visit(this.data,e,r)}indexOf(e,r){return uC.visit(this.data,e,r)}[Symbol.iterator](){return RO.visit(new Rs([this.data]))}toArray(){return[...this]}concat(...e){return new Wh(this.schema,[this,...e])}slice(e,r){const[n]=new Rs([this.data]).slice(e,r).data;return new I2(this.schema,n)}getChild(e){var r;return this.getChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(n=>n.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Rs([this.data.children[e]]):null}setChild(e,r){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===e),r)}setChildAt(e,r){let n=this.schema,i=this.data;if(e>-1&&e<this.numCols){r||(r=new Rs([ro({type:new ky,length:this.numRows})]));const o=n.fields.slice(),u=i.children.slice(),a=o[e].clone({type:r.type});[o[e],u[e]]=[a,r.data[0]],n=new Ns(o,new Map(this.schema.metadata)),i=ro({type:new Yh(o),children:u})}return new I2(n,i)}select(e){const r=this.schema.select(e),n=new Yh(r.fields),i=[];for(const o of e){const u=this.schema.fields.findIndex(a=>a.name===o);~u&&(i[u]=this.data.children[u])}return new I2(r,ro({type:n,length:this.numRows,children:i}))}selectAt(e){const r=this.schema.selectAt(e),n=e.map(o=>this.data.children[o]).filter(Boolean),i=ro({type:new Yh(r.fields),length:this.numRows,children:n});return new I2(r,i)}};OK=Symbol.toStringTag;hd[OK]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(hd.prototype);function v$(t,e,r=e.reduce((n,i)=>Math.max(n,i.length),0)){var n;const i=[...t.fields],o=[...e],u=(r+63&-64)>>3;for(const[a,g]of t.fields.entries()){const v=e[a];(!v||v.length!==r)&&(i[a]=g.clone({nullable:!0}),o[a]=(n=v?._changeLengthAndBackfillNullBitmap(r))!==null&&n!==void 0?n:ro({type:g.type,length:r,nullCount:r,nullBitmap:new Uint8Array(u)}))}return[t.assign(i),ro({type:new Yh(i),length:r,children:o})]}function DK(t,e,r=new Map){var n,i;if(((n=t?.length)!==null&&n!==void 0?n:0)>0&&t?.length===e?.length)for(let o=-1,u=t.length;++o<u;){const{type:a}=t[o],g=e[o];for(const v of[g,...((i=g?.dictionary)===null||i===void 0?void 0:i.data)||[]])DK(a.children,v?.children,r);if(Ri.isDictionary(a)){const{id:v}=a;if(!r.has(v))g?.dictionary&&r.set(v,g.dictionary);else if(r.get(v)!==g.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return r}class DO extends hd{constructor(e){const r=e.fields.map(i=>ro({type:i.type})),n=ro({type:new Yh(e.fields),nullCount:0,children:r});super(e,n)}}let sy=class im{constructor(){this.bb=null,this.bb_pos=0}__init(e,r){return this.bb_pos=e,this.bb=r,this}static getRootAsMessage(e,r){return(r||new im).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,r){return e.setPosition(e.position()+Ls),(r||new im).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tc.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):ss.NONE}header(e){const r=this.bb.__offset(this.bb_pos,8);return r?this.bb.__union(e,this.bb_pos+r):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,r){const n=this.bb.__offset(this.bb_pos,12);return n?(r||new kc).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,r){e.addFieldInt16(0,r,tc.V1)}static addHeaderType(e,r){e.addFieldInt8(1,r,ss.NONE)}static addHeader(e,r){e.addFieldOffset(2,r,0)}static addBodyLength(e,r){e.addFieldInt64(3,r,BigInt("0"))}static addCustomMetadata(e,r){e.addFieldOffset(4,r,0)}static createCustomMetadataVector(e,r){e.startVector(4,r.length,4);for(let n=r.length-1;n>=0;n--)e.addOffset(r[n]);return e.endVector()}static startCustomMetadataVector(e,r){e.startVector(4,r,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,r){e.finish(r)}static finishSizePrefixedMessageBuffer(e,r){e.finish(r,void 0,!0)}static createMessage(e,r,n,i,o,u){return im.startMessage(e),im.addVersion(e,r),im.addHeaderType(e,n),im.addHeader(e,i),im.addBodyLength(e,o),im.addCustomMetadata(e,u),im.endMessage(e)}};class TMt extends Za{visit(e,r){return e==null||r==null?void 0:super.visit(e,r)}visitNull(e,r){return u$.startNull(r),u$.endNull(r)}visitInt(e,r){return Wd.startInt(r),Wd.addBitWidth(r,e.bitWidth),Wd.addIsSigned(r,e.isSigned),Wd.endInt(r)}visitFloat(e,r){return gm.startFloatingPoint(r),gm.addPrecision(r,e.precision),gm.endFloatingPoint(r)}visitBinary(e,r){return i$.startBinary(r),i$.endBinary(r)}visitLargeBinary(e,r){return o$.startLargeBinary(r),o$.endLargeBinary(r)}visitBool(e,r){return a$.startBool(r),a$.endBool(r)}visitUtf8(e,r){return c$.startUtf8(r),c$.endUtf8(r)}visitLargeUtf8(e,r){return s$.startLargeUtf8(r),s$.endLargeUtf8(r)}visitDecimal(e,r){return l_.startDecimal(r),l_.addScale(r,e.scale),l_.addPrecision(r,e.precision),l_.addBitWidth(r,e.bitWidth),l_.endDecimal(r)}visitDate(e,r){return LE.startDate(r),LE.addUnit(r,e.unit),LE.endDate(r)}visitTime(e,r){return Sf.startTime(r),Sf.addUnit(r,e.unit),Sf.addBitWidth(r,e.bitWidth),Sf.endTime(r)}visitTimestamp(e,r){const n=e.timezone&&r.createString(e.timezone)||void 0;return Ef.startTimestamp(r),Ef.addUnit(r,e.unit),n!==void 0&&Ef.addTimezone(r,n),Ef.endTimestamp(r)}visitInterval(e,r){return ym.startInterval(r),ym.addUnit(r,e.unit),ym.endInterval(r)}visitDuration(e,r){return ME.startDuration(r),ME.addUnit(r,e.unit),ME.endDuration(r)}visitList(e,r){return l$.startList(r),l$.endList(r)}visitStruct(e,r){return jv.startStruct_(r),jv.endStruct_(r)}visitUnion(e,r){cd.startTypeIdsVector(r,e.typeIds.length);const n=cd.createTypeIdsVector(r,e.typeIds);return cd.startUnion(r),cd.addMode(r,e.mode),cd.addTypeIds(r,n),cd.endUnion(r)}visitDictionary(e,r){const n=this.visit(e.indices,r);return mg.startDictionaryEncoding(r),mg.addId(r,BigInt(e.id)),mg.addIsOrdered(r,e.isOrdered),n!==void 0&&mg.addIndexType(r,n),mg.endDictionaryEncoding(r)}visitFixedSizeBinary(e,r){return PE.startFixedSizeBinary(r),PE.addByteWidth(r,e.byteWidth),PE.endFixedSizeBinary(r)}visitFixedSizeList(e,r){return OE.startFixedSizeList(r),OE.addListSize(r,e.listSize),OE.endFixedSizeList(r)}visitMap(e,r){return DE.startMap(r),DE.addKeysSorted(r,e.keysSorted),DE.endMap(r)}}const IN=new TMt;function CMt(t,e=new Map){return new Ns(kMt(t,e),FE(t.metadata),e)}function BK(t){return new of(t.count,zK(t.columns),FK(t.columns))}function AMt(t){return new Bm(BK(t.data),t.id,t.isDelta)}function kMt(t,e){return(t.fields||[]).filter(Boolean).map(r=>Dl.fromJSON(r,e))}function b$(t,e){return(t.children||[]).filter(Boolean).map(r=>Dl.fromJSON(r,e))}function zK(t){return(t||[]).reduce((e,r)=>[...e,new Ny(r.count,IMt(r.VALIDITY)),...zK(r.children)],[])}function FK(t,e=[]){for(let r=-1,n=(t||[]).length;++r<n;){const i=t[r];i.VALIDITY&&e.push(new Em(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new Em(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new Em(e.length,i.OFFSET.length)),i.DATA&&e.push(new Em(e.length,i.DATA.length)),e=FK(i.children,e)}return e}function IMt(t){return(t||[]).reduce((e,r)=>e+ +(r===0),0)}function RMt(t,e){let r,n,i,o,u,a;return!e||!(o=t.dictionary)?(u=x$(t,b$(t,e)),i=new Dl(t.name,u,t.nullable,FE(t.metadata))):e.has(r=o.id)?(n=(n=o.indexType)?_$(n):new Tw,a=new ux(e.get(r),n,r,o.isOrdered),i=new Dl(t.name,a,t.nullable,FE(t.metadata))):(n=(n=o.indexType)?_$(n):new Tw,e.set(r,u=x$(t,b$(t,e))),a=new ux(u,n,r,o.isOrdered),i=new Dl(t.name,a,t.nullable,FE(t.metadata))),i||null}function FE(t=[]){return new Map(t.map(({key:e,value:r})=>[e,r]))}function _$(t){return new s0(t.isSigned,t.bitWidth)}function x$(t,e){const r=t.type.name;switch(r){case"NONE":return new ky;case"null":return new ky;case"binary":return new qT;case"largebinary":return new GT;case"utf8":return new HT;case"largeutf8":return new XT;case"bool":return new WT;case"list":return new eC((e||[])[0]);case"struct":return new Yh(e||[]);case"struct_":return new Yh(e||[])}switch(r){case"int":{const n=t.type;return new s0(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=t.type;return new UT(Mh[n.precision])}case"decimal":{const n=t.type;return new YT(n.scale,n.precision,n.bitWidth)}case"date":{const n=t.type;return new KT(Ff[n.unit])}case"time":{const n=t.type;return new ZT(Zi[n.unit],n.bitWidth)}case"timestamp":{const n=t.type;return new QT(Zi[n.unit],n.timezone)}case"interval":{const n=t.type;return new JT(Dm[n.unit])}case"duration":{const n=t.type;return new tC(Zi[n.unit])}case"union":{const n=t.type,[i,...o]=(n.mode+"").toLowerCase(),u=i.toUpperCase()+o.join("");return new rC(Ph[u],n.typeIds||[],e||[])}case"fixedsizebinary":{const n=t.type;return new nC(n.byteWidth)}case"fixedsizelist":{const n=t.type;return new iC(n.listSize,(e||[])[0])}case"map":{const n=t.type;return new aC((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${r}"`)}var NMt=eY,LMt=sx;class Kh{static fromJSON(e,r){const n=new Kh(0,tc.V5,r);return n._createHeader=MMt(e,r),n}static decode(e){e=new LMt(ko(e));const r=sy.getRootAsMessage(e),n=r.bodyLength(),i=r.version(),o=r.headerType(),u=new Kh(n,i,o);return u._createHeader=PMt(r,o),u}static encode(e){const r=new NMt;let n=-1;return e.isSchema()?n=Ns.encode(r,e.header()):e.isRecordBatch()?n=of.encode(r,e.header()):e.isDictionaryBatch()&&(n=Bm.encode(r,e.header())),sy.startMessage(r),sy.addVersion(r,tc.V5),sy.addHeader(r,n),sy.addHeaderType(r,e.headerType),sy.addBodyLength(r,BigInt(e.bodyLength)),sy.finishMessageBuffer(r,sy.endMessage(r)),r.asUint8Array()}static from(e,r=0){if(e instanceof Ns)return new Kh(0,tc.V5,ss.Schema,e);if(e instanceof of)return new Kh(r,tc.V5,ss.RecordBatch,e);if(e instanceof Bm)return new Kh(r,tc.V5,ss.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ss.Schema}isRecordBatch(){return this.headerType===ss.RecordBatch}isDictionaryBatch(){return this.headerType===ss.DictionaryBatch}constructor(e,r,n,i){this._version=r,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=dl(e)}}class of{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,r,n){this._nodes=r,this._buffers=n,this._length=dl(e)}}class Bm{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,r,n=!1){this._data=e,this._isDelta=n,this._id=dl(r)}}class Em{constructor(e,r){this.offset=dl(e),this.length=dl(r)}}class Ny{constructor(e,r){this.length=dl(e),this.nullCount=dl(r)}}function MMt(t,e){return(()=>{switch(e){case ss.Schema:return Ns.fromJSON(t);case ss.RecordBatch:return of.fromJSON(t);case ss.DictionaryBatch:return Bm.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${ss[e]}, type: ${e} }`)})}function PMt(t,e){return(()=>{switch(e){case ss.Schema:return Ns.decode(t.header(new om),new Map,t.version());case ss.RecordBatch:return of.decode(t.header(new cg),t.version());case ss.DictionaryBatch:return Bm.decode(t.header(new o_),t.version())}throw new Error(`Unrecognized Message type: { name: ${ss[e]}, type: ${e} }`)})}Dl.encode=GMt;Dl.decode=UMt;Dl.fromJSON=RMt;Ns.encode=qMt;Ns.decode=OMt;Ns.fromJSON=CMt;of.encode=HMt;of.decode=DMt;of.fromJSON=BK;Bm.encode=XMt;Bm.decode=BMt;Bm.fromJSON=AMt;Ny.encode=WMt;Ny.decode=FMt;Em.encode=YMt;Em.decode=zMt;function OMt(t,e=new Map,r=tc.V5){const n=$Mt(t,e);return new Ns(n,jE(t),e,r)}function DMt(t,e=tc.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new of(t.length(),jMt(t),VMt(t,e))}function BMt(t,e=tc.V5){return new Bm(of.decode(t.data(),e),t.id(),t.isDelta())}function zMt(t){return new Em(t.offset(),t.length())}function FMt(t){return new Ny(t.length(),t.nullCount())}function jMt(t){const e=[];for(let r,n=-1,i=-1,o=t.nodesLength();++n<o;)(r=t.nodes(n))&&(e[++i]=Ny.decode(r));return e}function VMt(t,e){const r=[];for(let n,i=-1,o=-1,u=t.buffersLength();++i<u;)(n=t.buffers(i))&&(e<tc.V4&&(n.bb_pos+=8*(i+1)),r[++o]=Em.decode(n));return r}function $Mt(t,e){const r=[];for(let n,i=-1,o=-1,u=t.fieldsLength();++i<u;)(n=t.fields(i))&&(r[++o]=Dl.decode(n,e));return r}function w$(t,e){const r=[];for(let n,i=-1,o=-1,u=t.childrenLength();++i<u;)(n=t.children(i))&&(r[++o]=Dl.decode(n,e));return r}function UMt(t,e){let r,n,i,o,u,a;return!e||!(a=t.dictionary())?(i=E$(t,w$(t,e)),n=new Dl(t.name(),i,t.nullable(),jE(t))):e.has(r=dl(a.id()))?(o=(o=a.indexType())?S$(o):new Tw,u=new ux(e.get(r),o,r,a.isOrdered()),n=new Dl(t.name(),u,t.nullable(),jE(t))):(o=(o=a.indexType())?S$(o):new Tw,e.set(r,i=E$(t,w$(t,e))),u=new ux(i,o,r,a.isOrdered()),n=new Dl(t.name(),u,t.nullable(),jE(t))),n||null}function jE(t){const e=new Map;if(t)for(let r,n,i=-1,o=Math.trunc(t.customMetadataLength());++i<o;)(r=t.customMetadata(i))&&(n=r.key())!=null&&e.set(n,r.value());return e}function S$(t){return new s0(t.isSigned(),t.bitWidth())}function E$(t,e){const r=t.typeType();switch(r){case Sl.NONE:return new ky;case Sl.Null:return new ky;case Sl.Binary:return new qT;case Sl.LargeBinary:return new GT;case Sl.Utf8:return new HT;case Sl.LargeUtf8:return new XT;case Sl.Bool:return new WT;case Sl.List:return new eC((e||[])[0]);case Sl.Struct_:return new Yh(e||[])}switch(r){case Sl.Int:{const n=t.type(new Wd);return new s0(n.isSigned(),n.bitWidth())}case Sl.FloatingPoint:{const n=t.type(new gm);return new UT(n.precision())}case Sl.Decimal:{const n=t.type(new l_);return new YT(n.scale(),n.precision(),n.bitWidth())}case Sl.Date:{const n=t.type(new LE);return new KT(n.unit())}case Sl.Time:{const n=t.type(new Sf);return new ZT(n.unit(),n.bitWidth())}case Sl.Timestamp:{const n=t.type(new Ef);return new QT(n.unit(),n.timezone())}case Sl.Interval:{const n=t.type(new ym);return new JT(n.unit())}case Sl.Duration:{const n=t.type(new ME);return new tC(n.unit())}case Sl.Union:{const n=t.type(new cd);return new rC(n.mode(),n.typeIdsArray()||[],e||[])}case Sl.FixedSizeBinary:{const n=t.type(new PE);return new nC(n.byteWidth())}case Sl.FixedSizeList:{const n=t.type(new OE);return new iC(n.listSize(),(e||[])[0])}case Sl.Map:{const n=t.type(new DE);return new aC((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Sl[r]}" (${r})`)}function qMt(t,e){const r=e.fields.map(o=>Dl.encode(t,o));om.startFieldsVector(t,r.length);const n=om.createFieldsVector(t,r),i=e.metadata&&e.metadata.size>0?om.createCustomMetadataVector(t,[...e.metadata].map(([o,u])=>{const a=t.createString(`${o}`),g=t.createString(`${u}`);return kc.startKeyValue(t),kc.addKey(t,a),kc.addValue(t,g),kc.endKeyValue(t)})):-1;return om.startSchema(t),om.addFields(t,n),om.addEndianness(t,KMt?lx.Little:lx.Big),i!==-1&&om.addCustomMetadata(t,i),om.endSchema(t)}function GMt(t,e){let r=-1,n=-1,i=-1;const o=e.type;let u=e.typeId;Ri.isDictionary(o)?(u=o.dictionary.typeId,i=IN.visit(o,t),n=IN.visit(o.dictionary,t)):n=IN.visit(o,t);const a=(o.children||[]).map(x=>Dl.encode(t,x)),g=gf.createChildrenVector(t,a),v=e.metadata&&e.metadata.size>0?gf.createCustomMetadataVector(t,[...e.metadata].map(([x,k])=>{const R=t.createString(`${x}`),A=t.createString(`${k}`);return kc.startKeyValue(t),kc.addKey(t,R),kc.addValue(t,A),kc.endKeyValue(t)})):-1;return e.name&&(r=t.createString(e.name)),gf.startField(t),gf.addType(t,n),gf.addTypeType(t,u),gf.addChildren(t,g),gf.addNullable(t,!!e.nullable),r!==-1&&gf.addName(t,r),i!==-1&&gf.addDictionary(t,i),v!==-1&&gf.addCustomMetadata(t,v),gf.endField(t)}function HMt(t,e){const r=e.nodes||[],n=e.buffers||[];cg.startNodesVector(t,r.length);for(const u of r.slice().reverse())Ny.encode(t,u);const i=t.endVector();cg.startBuffersVector(t,n.length);for(const u of n.slice().reverse())Em.encode(t,u);const o=t.endVector();return cg.startRecordBatch(t),cg.addLength(t,BigInt(e.length)),cg.addNodes(t,i),cg.addBuffers(t,o),cg.endRecordBatch(t)}function XMt(t,e){const r=of.encode(t,e.data);return o_.startDictionaryBatch(t),o_.addId(t,BigInt(e.id)),o_.addIsDelta(t,e.isDelta),o_.addData(t,r),o_.endDictionaryBatch(t)}function WMt(t,e){return iY.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function YMt(t,e){return nY.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const KMt=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),BO=t=>`Expected ${ss[t]} Message in stream, but was null or length 0.`,zO=t=>`Header pointer of flatbuffer-encoded ${ss[t]} Message is null or length 0.`,jK=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,VK=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class $K{constructor(e){this.source=e instanceof hC?e:new hC(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?vu:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let r;if((r=this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error(BO(e));return r.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const r=ko(this.source.read(e));if(r.byteLength<e)throw new Error(VK(e,r.byteLength));return r.byteOffset%8===0&&r.byteOffset+r.byteLength<=r.buffer.byteLength?r:r.slice()}readSchema(e=!1){const r=ss.Schema,n=this.readMessage(r),i=n?.header();if(e&&!i)throw new Error(zO(r));return i}readMetadataLength(){const e=this.source.read(qA),r=e&&new sx(e),n=r?.readInt32(0)||0;return{done:n===0,value:n}}readMetadata(e){const r=this.source.read(e);if(!r)return vu;if(r.byteLength<e)throw new Error(jK(e,r.byteLength));return{done:!1,value:Kh.decode(r)}}}class ZMt{constructor(e,r){this.source=e instanceof cx?e:YW(e)?new dC(e,r):new cx(e)}[Symbol.asyncIterator](){return this}next(){return va(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?vu:e})}throw(e){return va(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return va(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return va(this,void 0,void 0,function*(){let r;if((r=yield this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error(BO(e));return r.value})}readMessageBody(e){return va(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const r=ko(yield this.source.read(e));if(r.byteLength<e)throw new Error(VK(e,r.byteLength));return r.byteOffset%8===0&&r.byteOffset+r.byteLength<=r.buffer.byteLength?r:r.slice()})}readSchema(){return va(this,arguments,void 0,function*(e=!1){const r=ss.Schema,n=yield this.readMessage(r),i=n?.header();if(e&&!i)throw new Error(zO(r));return i})}readMetadataLength(){return va(this,void 0,void 0,function*(){const e=yield this.source.read(qA),r=e&&new sx(e),n=r?.readInt32(0)||0;return{done:n===0,value:n}})}readMetadata(e){return va(this,void 0,void 0,function*(){const r=yield this.source.read(e);if(!r)return vu;if(r.byteLength<e)throw new Error(jK(e,r.byteLength));return{done:!1,value:Kh.decode(r)}})}}class QMt extends $K{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof g$?e:new g$(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Kh.fromJSON(e.schema,ss.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const r=e.dictionaries[this._dictionaryIndex++];return this._body=r.data.columns,{done:!1,value:Kh.fromJSON(r,ss.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const r=e.batches[this._batchIndex++];return this._body=r.columns,{done:!1,value:Kh.fromJSON(r,ss.RecordBatch)}}return this._body=[],vu}readMessageBody(e){return r(this._body);function r(n){return(n||[]).reduce((i,o)=>[...i,...o.VALIDITY&&[o.VALIDITY]||[],...o.TYPE_ID&&[o.TYPE_ID]||[],...o.OFFSET&&[o.OFFSET]||[],...o.DATA&&[o.DATA]||[],...r(o.children)],[])}}readMessage(e){let r;if((r=this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error(BO(e));return r.value}readSchema(){const e=ss.Schema,r=this.readMessage(e),n=r?.header();if(!r||!n)throw new Error(zO(e));return n}}const qA=4,CM="ARROW1",Aw=new Uint8Array(CM.length);for(let t=0;t<CM.length;t+=1)Aw[t]=CM.codePointAt(t);function FO(t,e=0){for(let r=-1,n=Aw.length;++r<n;)if(Aw[r]!==t[e+r])return!1;return!0}const dS=Aw.length,UK=dS+qA,JMt=dS*2+qA;class Lf extends NO{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const r=this._impl.open(e);return o0(r)?r.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return bf.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return bf.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,r){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Lf?e:gM(e)?n4t(e):YW(e)?o4t(e):o0(e)?va(this,void 0,void 0,function*(){return yield Lf.from(yield e)}):KW(e)||_O(e)||ZW(e)||Cx(e)?a4t(new cx(e)):i4t(new hC(e))}static readAll(e){return e instanceof Lf?e.isSync()?T$(e):C$(e):gM(e)||ArrayBuffer.isView(e)||lS(e)||WW(e)?T$(e):C$(e)}}class fC extends Lf{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Sm(this,arguments,function*(){yield Va(yield*NE(Yv(this[Symbol.iterator]())))})}}class pC extends Lf{constructor(e){super(e),this._impl=e}readAll(){return va(this,void 0,void 0,function*(){var e,r,n,i;const o=new Array;try{for(var u=!0,a=Yv(this),g;g=yield a.next(),e=g.done,!e;u=!0){i=g.value,u=!1;const v=i;o.push(v)}}catch(v){r={error:v}}finally{try{!u&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class qK extends fC{constructor(e){super(e),this._impl=e}}class t4t extends pC{constructor(e){super(e),this._impl=e}}class GK{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,r){const n=this._loadVectors(e,r,this.schema.fields),i=ro({type:new Yh(this.schema.fields),length:e.length,children:n});return new hd(this.schema,i)}_loadDictionaryBatch(e,r){const{id:n,isDelta:i}=e,{dictionaries:o,schema:u}=this,a=o.get(n),g=u.dictionaries.get(n),v=this._loadVectors(e.data,r,[g]);return(a&&i?a.concat(new Rs(v)):new Rs(v)).memoize()}_loadVectors(e,r,n){return new MK(r,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}class mC extends GK{constructor(e,r){super(r),this._reader=gM(e)?new QMt(this._handle=e):new $K(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=XK(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):vu}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):vu}next(){if(this.closed)return vu;let e;const{_reader:r}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const n=e.header(),i=r.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const n=e.header(),i=r.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new DO(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class gC extends GK{constructor(e,r){super(r),this._reader=new ZMt(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return va(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return va(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=XK(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return va(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):vu})}return(e){return va(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):vu})}next(){return va(this,void 0,void 0,function*(){if(this.closed)return vu;let e;const{_reader:r}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const n=e.header(),i=yield r.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const n=e.header(),i=yield r.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new DO(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return va(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class HK extends mC{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,r){super(e instanceof y$?e:new y$(e),r)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var r;if(this.closed)return null;this._footer||this.open();const n=(r=this._footer)===null||r===void 0?void 0:r.getRecordBatch(e);if(n&&this._handle.seek(n.offset)){const i=this._reader.readMessage(ss.RecordBatch);if(i?.isRecordBatch()){const o=i.header(),u=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,u)}}return null}_readDictionaryBatch(e){var r;const n=(r=this._footer)===null||r===void 0?void 0:r.getDictionaryBatch(e);if(n&&this._handle.seek(n.offset)){const i=this._reader.readMessage(ss.DictionaryBatch);if(i?.isDictionaryBatch()){const o=i.header(),u=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(o,u);this.dictionaries.set(o.id,a)}}}_readFooter(){const{_handle:e}=this,r=e.size-UK,n=e.readInt32(r),i=e.readAt(r-n,n);return Cw.decode(i)}_readNextMessageAndValidate(e){var r;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(r=this._footer)===null||r===void 0?void 0:r.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(e)}return null}}class e4t extends gC{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...r){const n=typeof r[0]!="number"?r.shift():void 0,i=r[0]instanceof Map?r.shift():void 0;super(e instanceof dC?e:new dC(e,n),i)}isFile(){return!0}isAsync(){return!0}open(e){const r=Object.create(null,{open:{get:()=>super.open}});return va(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield r.open.call(this,e)})}readRecordBatch(e){return va(this,void 0,void 0,function*(){var r;if(this.closed)return null;this._footer||(yield this.open());const n=(r=this._footer)===null||r===void 0?void 0:r.getRecordBatch(e);if(n&&(yield this._handle.seek(n.offset))){const i=yield this._reader.readMessage(ss.RecordBatch);if(i?.isRecordBatch()){const o=i.header(),u=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(o,u)}}return null})}_readDictionaryBatch(e){return va(this,void 0,void 0,function*(){var r;const n=(r=this._footer)===null||r===void 0?void 0:r.getDictionaryBatch(e);if(n&&(yield this._handle.seek(n.offset))){const i=yield this._reader.readMessage(ss.DictionaryBatch);if(i?.isDictionaryBatch()){const o=i.header(),u=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(o,u);this.dictionaries.set(o.id,a)}}})}_readFooter(){return va(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const r=e.size-UK,n=yield e.readInt32(r),i=yield e.readAt(r-n,n);return Cw.decode(i)})}_readNextMessageAndValidate(e){return va(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=this._footer.getRecordBatch(this._recordBatchIndex);if(r&&(yield this._handle.seek(r.offset)))return yield this._reader.readMessage(e)}return null})}}class r4t extends mC{constructor(e,r){super(e,r)}_loadVectors(e,r,n){return new mMt(r,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}}function XK(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*T$(t){const e=Lf.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function C$(t){return Sm(this,arguments,function*(){const r=yield Va(Lf.from(t));try{if(!(yield Va(r.open({autoDestroy:!1}))).closed)do yield yield Va(r);while(!(yield Va(r.reset().open())).closed)}finally{yield Va(r.cancel())}})}function n4t(t){return new fC(new r4t(t))}function i4t(t){const e=t.peek(dS+7&-8);return e&&e.byteLength>=4?FO(e)?new qK(new HK(t.read())):new fC(new mC(t)):new fC(new mC((function*(){})()))}function a4t(t){return va(this,void 0,void 0,function*(){const e=yield t.peek(dS+7&-8);return e&&e.byteLength>=4?FO(e)?new qK(new HK(yield t.read())):new pC(new gC(t)):new pC(new gC((function(){return Sm(this,arguments,function*(){})})()))})}function o4t(t){return va(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),r=new dC(t,e);return e>=JMt&&FO(yield r.readAt(0,dS+7&-8))?new t4t(new e4t(r)):new pC(new gC(r))})}class bu extends Za{static assemble(...e){const r=i=>i.flatMap(o=>Array.isArray(o)?r(o):o instanceof hd?o.data.children:o.data),n=new bu;return n.visitMany(r(e)),n}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Rs)return this.visitMany(e.data),this;const{type:r}=e;if(!Ri.isDictionary(r)){const{length:n}=e;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Ri.isUnion(r))this.nodes.push(new Ny(n,0));else{const{nullCount:i}=e;Ri.isNull(r)||bp.call(this,i<=0?new Uint8Array(0):oC(e.offset,n,e.nullBitmap)),this.nodes.push(new Ny(n,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function bp(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new Em(this._byteLength,e)),this._byteLength+=e,this}function s4t(t){var e;const{type:r,length:n,typeIds:i,valueOffsets:o}=t;if(bp.call(this,i),r.mode===Ph.Sparse)return AM.call(this,t);if(r.mode===Ph.Dense){if(t.offset<=0)return bp.call(this,o),AM.call(this,t);{const u=new Int32Array(n),a=Object.create(null),g=Object.create(null);for(let v,x,k=-1;++k<n;)(v=i[k])!==void 0&&((x=a[v])===void 0&&(x=a[v]=o[k]),u[k]=o[k]-x,g[v]=((e=g[v])!==null&&e!==void 0?e:0)+1);bp.call(this,u),this.visitMany(t.children.map((v,x)=>{const k=r.typeIds[x],R=a[k],A=g[k];return v.slice(R,Math.min(n,A))}))}}return this}function l4t(t){let e;return t.nullCount>=t.length?bp.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?bp.call(this,oC(t.offset,t.length,e)):bp.call(this,sC(t.values))}function Og(t){return bp.call(this,t.values.subarray(0,t.length*t.stride))}function GA(t){const{length:e,values:r,valueOffsets:n}=t,i=dl(n[0]),o=dl(n[e]),u=Math.min(o-i,r.byteLength-i);return bp.call(this,JW(-i,e+1,n)),bp.call(this,r.subarray(i,i+u)),this}function jO(t){const{length:e,valueOffsets:r}=t;if(r){const{[0]:n,[e]:i}=r;return bp.call(this,JW(-n,e+1,r)),this.visit(t.children[0].slice(n,i-n))}return this.visit(t.children[0])}function AM(t){return this.visitMany(t.type.children.map((e,r)=>t.children[r]).filter(Boolean))[0]}bu.prototype.visitBool=l4t;bu.prototype.visitInt=Og;bu.prototype.visitFloat=Og;bu.prototype.visitUtf8=GA;bu.prototype.visitLargeUtf8=GA;bu.prototype.visitBinary=GA;bu.prototype.visitLargeBinary=GA;bu.prototype.visitFixedSizeBinary=Og;bu.prototype.visitDate=Og;bu.prototype.visitTimestamp=Og;bu.prototype.visitTime=Og;bu.prototype.visitDecimal=Og;bu.prototype.visitList=jO;bu.prototype.visitStruct=AM;bu.prototype.visitUnion=s4t;bu.prototype.visitInterval=Og;bu.prototype.visitDuration=Og;bu.prototype.visitFixedSizeList=jO;bu.prototype.visitMap=jO;class WK extends NO{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,r){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new zE,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,bd(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return o0(e)?e.then(r=>this.writeAll(r)):Cx(e)?qO(this,e):UO(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,r=null){return e===this._sink||e instanceof zE?this._sink=e:(this._sink=new zE,e&&FNt(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&jNt(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!r||!TM(r,this._schema))&&(r==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=r,this._writeSchema(r))),this}write(e){let r=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Wh&&!(r=e.schema))return this.finish()&&void 0;if(e instanceof hd&&!(r=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(r&&!TM(r,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,r)}e instanceof hd?e instanceof DO||this._writeRecordBatch(e):e instanceof Wh?this.writeAll(e.batches):lS(e)&&this.writeAll(e)}_writeMessage(e,r=8){const n=r-1,i=Kh.encode(e),o=i.byteLength,u=this._writeLegacyIpcFormat?4:8,a=o+u+n&~n,g=a-o-u;return e.headerType===ss.RecordBatch?this._recordBatchBlocks.push(new Iy(a,e.bodyLength,this._position)):e.headerType===ss.DictionaryBatch&&this._dictionaryBlocks.push(new Iy(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-u)),o>0&&this._write(i),this._writePadding(g)}_write(e){if(this._started){const r=ko(e);r&&r.byteLength>0&&(this._sink.write(r),this._position+=r.byteLength)}return this}_writeSchema(e){return this._writeMessage(Kh.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Aw)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:r,nodes:n,bufferRegions:i,buffers:o}=bu.assemble(e),u=new of(e.numRows,n,i),a=Kh.from(u,r);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(o)}_writeDictionaryBatch(e,r,n=!1){const{byteLength:i,nodes:o,bufferRegions:u,buffers:a}=bu.assemble(new Rs([e])),g=new of(e.length,o,u),v=new Bm(g,r,n),x=Kh.from(v,i);return this._writeMessage(x)._writeBodyBuffers(a)}_writeBodyBuffers(e){let r,n,i;for(let o=-1,u=e.length;++o<u;)(r=e[o])&&(n=r.byteLength)>0&&(this._write(r),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}_writeDictionaries(e){var r,n;for(const[i,o]of e.dictionaries){const u=(r=o?.data)!==null&&r!==void 0?r:[],a=this._seenDictionaries.get(i),g=(n=this._dictionaryDeltaOffsets.get(i))!==null&&n!==void 0?n:0;if(!a||a.data[0]!==u[0])for(const[v,x]of u.entries())this._writeDictionaryBatch(x,i,v>0);else if(g<u.length)for(const v of u.slice(g))this._writeDictionaryBatch(v,i,!0);this._seenDictionaries.set(i,o),this._dictionaryDeltaOffsets.set(i,u.length)}return this}}class VO extends WK{static writeAll(e,r){const n=new VO(r);return o0(e)?e.then(i=>n.writeAll(i)):Cx(e)?qO(n,e):UO(n,e)}}class $O extends WK{static writeAll(e){const r=new $O;return o0(e)?e.then(n=>r.writeAll(n)):Cx(e)?qO(r,e):UO(r,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,r,n=!1){if(!n&&this._seenDictionaries.has(r))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,r,n)}_writeFooter(e){const r=Cw.encode(new Cw(e,tc.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(r)._write(Int32Array.of(r.byteLength))._writeMagic()}}function UO(t,e){let r=e;e instanceof Wh&&(r=e.batches,t.reset(void 0,e.schema));for(const n of r)t.write(n);return t.finish()}function qO(t,e){return va(this,void 0,void 0,function*(){var r,n,i,o,u,a,g;try{for(r=!0,n=Yv(e);i=yield n.next(),o=i.done,!o;r=!0){g=i.value,r=!1;const v=g;t.write(v)}}catch(v){u={error:v}}finally{try{!r&&!o&&(a=n.return)&&(yield a.call(n))}finally{if(u)throw u.error}}return t.finish()})}function u4t(t,e="stream"){return(e==="stream"?VO:$O).writeAll(t).toUint8Array(!0)}var c4t=Object.create,YK=Object.defineProperty,h4t=Object.getOwnPropertyDescriptor,d4t=Object.getOwnPropertyNames,f4t=Object.getPrototypeOf,p4t=Object.prototype.hasOwnProperty,m4t=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),g4t=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of d4t(e))!p4t.call(t,i)&&i!==r&&YK(t,i,{get:()=>e[i],enumerable:!(n=h4t(e,i))||n.enumerable});return t},y4t=(t,e,r)=>(r=t!=null?c4t(f4t(t)):{},g4t(!t||!t.__esModule?YK(r,"default",{value:t,enumerable:!0}):r,t)),v4t=m4t((t,e)=>{e.exports=Worker}),b4t=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(b4t||{}),_4t=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(_4t||{}),x4t=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(x4t||{}),w4t=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(w4t||{}),S4t=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(S4t||{}),E4t=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(E4t||{}),T4t=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}},C4t=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",t[t.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",t))(C4t||{}),A4t=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),r=Lf.from(e);return console.assert(r.isSync(),"Reader is not sync"),console.assert(r.isFile(),"Reader is not file"),new Wh(r)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let r=await this._bindings.startPendingQuery(this._conn,t,e);for(;r==null;)r=await this._bindings.pollPendingQuery(this._conn);let n=new KK(this._bindings,this._conn,r),i=await Lf.from(n);return console.assert(i.isAsync()),console.assert(i.isStream()),i}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new k4t(this._bindings,this._conn,e)}async insertArrowTable(t,e){let r=u4t(t,"stream");await this.insertArrowFromIPCStream(r,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},KK=class{constructor(t,e,r){this.db=t,this.conn=e,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(this._inFlight!=null&&(t=await this._inFlight,this._inFlight=null);t==null;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},k4t=class{constructor(t,e,r){this.bindings=t,this.connectionId=e,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),r=Lf.from(e);return console.assert(r.isSync()),console.assert(r.isFile()),new Wh(r)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),r=new KK(this.bindings,this.connectionId,e),n=await Lf.from(r);return console.assert(n.isAsync()),console.assert(n.isStream()),n}},I4t=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(I4t||{}),R4t=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(R4t||{}),Po=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((r,n)=>{this.promiseResolver=r,this.promiseRejecter=n})}};function VE(t){switch(t.typeId){case Qe.Binary:return{sqlType:"binary"};case Qe.Bool:return{sqlType:"bool"};case Qe.Date:return{sqlType:"date"};case Qe.DateDay:return{sqlType:"date32[d]"};case Qe.DateMillisecond:return{sqlType:"date64[ms]"};case Qe.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case Qe.Float:return{sqlType:"float"};case Qe.Float16:return{sqlType:"float16"};case Qe.Float32:return{sqlType:"float32"};case Qe.Float64:return{sqlType:"float64"};case Qe.Int:return{sqlType:"int32"};case Qe.Int16:return{sqlType:"int16"};case Qe.Int32:return{sqlType:"int32"};case Qe.Int64:return{sqlType:"int64"};case Qe.Uint16:return{sqlType:"uint16"};case Qe.Uint32:return{sqlType:"uint32"};case Qe.Uint64:return{sqlType:"uint64"};case Qe.Uint8:return{sqlType:"uint8"};case Qe.IntervalDayTime:return{sqlType:"interval[dt]"};case Qe.IntervalYearMonth:return{sqlType:"interval[m]"};case Qe.List:return{sqlType:"list",valueType:VE(t.valueType)};case Qe.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case Qe.Null:return{sqlType:"null"};case Qe.Utf8:return{sqlType:"utf8"};case Qe.Struct:return{sqlType:"struct",fields:t.children.map(e=>kM(e.name,e.type))};case Qe.Map:{let e=t;return{sqlType:"map",keyType:VE(e.keyType),valueType:VE(e.valueType)}}case Qe.Time:return{sqlType:"time[s]"};case Qe.TimeMicrosecond:return{sqlType:"time[us]"};case Qe.TimeMillisecond:return{sqlType:"time[ms]"};case Qe.TimeNanosecond:return{sqlType:"time[ns]"};case Qe.TimeSecond:return{sqlType:"time[s]"};case Qe.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case Qe.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case Qe.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case Qe.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case Qe.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function kM(t,e){let r=VE(e);return r.name=t,r}var N4t=new TextEncoder,L4t=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,r)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let r=this._nextMessageId++;return this._pendingRequests.set(r,t),this._worker.postMessage({messageId:r,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let r=t.data;switch(r.type){case"PROGRESS_UPDATE":{for(let i of this._onExecutionProgress)i(r.data);return}case"LOG":{this._logger.log(r.data);return}case"INSTANTIATE_PROGRESS":{for(let i of this._onInstantiationProgress)i(r.data);return}}let n=this._pendingRequests.get(r.requestId);if(!n){console.warn("unassociated response: [".concat(r.requestId,", ").concat(r.type.toString(),"]"));return}if(this._pendingRequests.delete(r.requestId),r.type=="ERROR"){let i=new Error(r.data.message);i.name=r.data.name,(e=Object.getOwnPropertyDescriptor(i,"stack"))!=null&&e.writable&&(i.stack=r.data.stack),n.promiseRejecter(i);return}switch(n.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(r.type=="OK"){n.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],r.type=="OK"){n.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if(r.type=="FILE_INFOS"){n.promiseResolver(r.data);return}break;case"GET_VERSION":if(r.type=="VERSION_STRING"){n.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if(r.type=="FEATURE_FLAGS"){n.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if(r.type=="TABLE_NAMES"){n.promiseResolver(r.data);return}break;case"TOKENIZE":if(r.type=="SCRIPT_TOKENS"){n.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if(r.type=="FILE_BUFFER"){n.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if(r.type=="FILE_STATISTICS"){n.promiseResolver(r.data);return}break;case"CONNECT":if(r.type=="CONNECTION_INFO"){n.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(r.type=="QUERY_RESULT"){n.promiseResolver(r.data);return}break;case"SEND_PREPARED":if(r.type=="QUERY_RESULT_HEADER"){n.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(r.data);return}break;case"POLL_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){n.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],r.type=="SUCCESS"){n.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if(r.type=="QUERY_RESULT_CHUNK"){n.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if(r.type=="PREPARED_STATEMENT_ID"){n.promiseResolver(r.data);return}break}n.promiseRejecter(new Error("unexpected response type: ".concat(r.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let t=new Po("RESET",null);return await this.postTask(t)}async ping(){let t=new Po("PING",null);await this.postTask(t)}async dropFile(t){let e=new Po("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new Po("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new Po("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,r=n=>{}){this._onInstantiationProgress.push(r);let n=new Po("INSTANTIATE",[t,e]);return await this.postTask(n)}async getVersion(){let t=new Po("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new Po("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new Po("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new Po("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new Po("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new A4t(this,t)}async disconnect(t){let e=new Po("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let r=new Po("RUN_QUERY",[t,e]);return await this.postTask(r)}async startPendingQuery(t,e,r=!1){let n=new Po("START_PENDING_QUERY",[t,e,r]);return await this.postTask(n)}async pollPendingQuery(t){let e=new Po("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new Po("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new Po("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let r=new Po("GET_TABLE_NAMES",[t,e]);return await this.postTask(r)}async createPrepared(t,e){let r=new Po("CREATE_PREPARED",[t,e]);return await this.postTask(r)}async closePrepared(t,e){let r=new Po("CLOSE_PREPARED",[t,e]);await this.postTask(r)}async runPrepared(t,e,r){let n=new Po("RUN_PREPARED",[t,e,r]);return await this.postTask(n)}async sendPrepared(t,e,r){let n=new Po("SEND_PREPARED",[t,e,r]);return await this.postTask(n)}async globFiles(t){let e=new Po("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let r=N4t.encode(e);await this.registerFileBuffer(t,r)}async registerFileURL(t,e,r,n){e===void 0&&(e=t);let i=new Po("REGISTER_FILE_URL",[t,e,r,n]);await this.postTask(i)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let r=new Po("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(r,[e.buffer])}async registerFileHandle(t,e,r,n){let i=new Po("REGISTER_FILE_HANDLE",[t,e,r,n]);await this.postTask(i,[])}async registerOPFSFileName(t){let e=new Po("REGISTER_OPFS_FILE_NAME",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let r=new Po("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(r,[])}async exportFileStatistics(t){let e=new Po("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new Po("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let r=new Po("COPY_FILE_TO_PATH",[t,e]);await this.postTask(r)}async insertArrowFromIPCStream(t,e,r){if(e.length==0)return;let n=new Po("INSERT_ARROW_FROM_IPC_STREAM",[t,e,r]);await this.postTask(n,[e.buffer])}async insertCSVFromPath(t,e,r){if(r.columns!==void 0){let i=[];for(let o in r.columns){let u=r.columns[o];i.push(kM(o,u))}r.columnsFlat=i,delete r.columns}let n=new Po("IMPORT_CSV_FROM_PATH",[t,e,r]);await this.postTask(n)}async insertJSONFromPath(t,e,r){if(r.columns!==void 0){let i=[];for(let o in r.columns){let u=r.columns[o];i.push(kM(o,u))}r.columnsFlat=i,delete r.columns}let n=new Po("IMPORT_JSON_FROM_PATH",[t,e,r]);await this.postTask(n)}};function M4t(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}M4t();var P4t=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(P4t||{}),O4t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),D4t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),B4t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),z4t=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),GO={name:"@duckdb/duckdb-wasm",version:"1.30.0"},F4t=GO.name,j4t=GO.version,HO=GO.version.split(".");HO[0];HO[1];HO[2];var V4t=()=>typeof navigator>"u";function $4t(){let t="https://cdn.jsdelivr.net/npm/".concat(F4t,"@").concat(j4t,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var RN=null,NN=null,LN=null,MN=null,PN=null;async function U4t(){return RN==null&&(RN=typeof BigInt64Array<"u"),NN==null&&(NN=await D4t()),LN==null&&(LN=await z4t()),MN==null&&(MN=await B4t()),PN==null&&(PN=await O4t()),{bigInt64Array:RN,crossOriginIsolated:V4t()||globalThis.crossOriginIsolated||!1,wasmExceptions:NN,wasmSIMD:MN,wasmThreads:LN,wasmBulkMemory:PN}}async function q4t(t){let e=await U4t();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}y4t(v4t());let Ev=null,Tv=null,A$=!1,rE=null;async function HA(){return A$&&Ev&&Tv?{db:Ev,conn:Tv}:rE||(rE=(async()=>{const t=$4t(),e=await q4t(t),r=URL.createObjectURL(new Blob([`importScripts("${e.mainWorker}");`],{type:"text/javascript"})),n=new Worker(r),i=new T4t;Ev=new L4t(i,n),await Ev.instantiate(e.mainModule,e.pthreadWorker),URL.revokeObjectURL(r),Tv=await Ev.connect(),await Tv.query("INSTALL spatial;"),await Tv.query("LOAD spatial;");const u=await(await fetch("/wms_unrestricted.duckdb")).arrayBuffer();return await Ev.registerFileBuffer("wms_unrestricted.duckdb",new Uint8Array(u)),await Tv.query("ATTACH 'wms_unrestricted.duckdb' AS wms (READ_ONLY);"),A$=!0,{db:Ev,conn:Tv}})(),rE)}function $E(t){return t.replace(/'/g,"''")}async function G4t(t="",e="all",r="all",n=5,i=0){const{conn:o}=await HA(),u=[];if(t){const U=$E(t.toLowerCase());u.push(`(LOWER(name) LIKE '%${U}%' OR LOWER(description) LIKE '%${U}%')`)}if(e!=="all"){const U=$E(e);u.push(`category = '${U}'`)}if(r!=="all"){const U=$E(r);u.push(`country = '${U}'`)}const a=u.length>0?`WHERE ${u.join(" AND ")}`:"",g=`SELECT COUNT(*) as total FROM wms.wms_resources ${a}`,x=(await o.query(g)).toArray()[0].total,k=Number(x),R=`
    SELECT 
      id,
      name,
      url,
      category,
      country,
      description,
      ST_XMin(geom) as minx,
      ST_YMin(geom) as miny,
      ST_XMax(geom) as maxx,
      ST_YMax(geom) as maxy
    FROM wms.wms_resources 
    ${a}
    ORDER BY name
    LIMIT ${n} OFFSET ${i}
  `;return{data:(await o.query(R)).toArray().map(U=>({id:U.id,name:U.name,url:U.url,category:U.category,country:U.country,description:U.description,extent:U.minx!==null?[U.minx,U.miny,U.maxx,U.maxy]:void 0})),total:k}}async function H4t(){const{conn:t}=await HA();return(await t.query(`
    SELECT DISTINCT category 
    FROM wms.wms_resources 
    WHERE category IS NOT NULL 
    ORDER BY category
  `)).toArray().map(r=>r.category)}async function X4t(){const{conn:t}=await HA();return(await t.query(`
    SELECT DISTINCT country 
    FROM wms.wms_resources 
    WHERE country IS NOT NULL 
    ORDER BY country
  `)).toArray().map(r=>r.country)}async function W4t(t){const{conn:e}=await HA(),r=$E(t),i=(await e.query(`
    SELECT 
      id,
      name,
      url,
      category,
      country,
      description,
      ST_XMin(geom) as minx,
      ST_YMin(geom) as miny,
      ST_XMax(geom) as maxx,
      ST_YMax(geom) as maxy
    FROM wms.wms_resources
    WHERE id = '${r}'
  `)).toArray();if(i.length===0)return null;const o=i[0];return{id:o.id,name:o.name,url:o.url,category:o.category,country:o.country,description:o.description,extent:o.minx!==null?[o.minx,o.miny,o.maxx,o.maxy]:void 0}}function Y4t({open:t=!1,onClose:e,embedded:r=!1}){const[n,i]=ht.useState(""),[o,u]=ht.useState("all"),[a,g]=ht.useState("all"),[v,x]=ht.useState(null),[k,R]=ht.useState(null),[A,O]=ht.useState(1),[D,U]=ht.useState(!0),[H,G]=ht.useState([]),[z,j]=ht.useState([]),[X,Y]=ht.useState([]),[rt,st]=ht.useState(0),it=5,{addWMSService:bt,mapBounds:at,wmsServices:$,setZoomToExtent:dt}=Xv();ht.useEffect(()=>{async function vt(){try{const[It,Ft]=await Promise.all([H4t(),X4t()]);G(It),j(Ft)}catch(It){console.error("Failed to load filters:",It),R("Failed to load database filters")}}vt()},[]),ht.useEffect(()=>{async function vt(){U(!0);try{const It=(A-1)*it,Ft=await G4t(n,o,a,it,It);Y(Ft.data),st(Ft.total)}catch(It){console.error("Failed to load services:",It),R("Failed to load WMS services from database"),Y([]),st(0)}finally{U(!1)}}vt()},[n,o,a,A,it]),ht.useEffect(()=>{O(1)},[n,o,a]);const mt=async vt=>{x(vt.id),R(null);try{const It=await PNt(vt.url),Ft=ONt(It);bt({id:vt.id,url:vt.url,...Ft,extent:vt.extent||Ft.extent}),x(null)}catch(It){console.warn(`Could not fetch capabilities for ${vt.name}, adding with default config:`,It),bt({id:vt.id,url:vt.url,name:vt.name,title:vt.name,visible:!0,opacity:1,layers:[{id:"default-layer",name:"default-layer",title:"Default Layer (capabilities unavailable)",abstract:"Capabilities could not be fetched. You may need to configure layer names manually.",visible:!0}],extent:vt.extent,version:"1.1.1"}),x(null),R(`Added ${vt.name} with default configuration. The server doesn't support CORS for capabilities, but tiles should still work. You may need to manually configure layer names.`),setTimeout(()=>R(null),5e3)}},wt=vt=>{if(!vt||!at||!Array.isArray(vt)||vt.length!==4)return!0;const[It,Ft,Et,lt]=vt,[kt,At,Nt,qt]=at;return!(Et<kt||It>Nt||lt<At||Ft>qt)},pt=Math.ceil(rt/it),Ct=Qt.jsxs(no,{sx:{display:"flex",flexDirection:"column",height:"100%",minHeight:"100%"},children:[!r&&Qt.jsxs(no,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:1,borderColor:"divider",flexShrink:0},children:[Qt.jsxs(no,{sx:{display:"flex",alignItems:"center",gap:1},children:[Qt.jsx(BW,{}),Qt.jsx(Io,{variant:"h6",children:"WMS Library"})]}),Qt.jsx(Xd,{onClick:e,children:Qt.jsx(kRt,{})})]}),Qt.jsxs(no,{sx:{p:r?1.5:2,borderBottom:1,borderColor:"divider",flexShrink:0},children:[Qt.jsx(TRt,{fullWidth:!0,size:"small",placeholder:"Search services...",value:n,onChange:vt=>i(vt.target.value),sx:{mb:r?1:2}}),Qt.jsxs(no,{sx:{display:"flex",gap:1},children:[Qt.jsxs(hM,{size:"small",fullWidth:!0,children:[Qt.jsx(fM,{children:"Category"}),Qt.jsxs(BT,{value:o,label:"Category",onChange:vt=>u(vt.target.value),children:[Qt.jsx(H5,{value:"all",children:"All Categories"}),H.map(vt=>Qt.jsx(H5,{value:vt,children:vt},vt))]})]}),Qt.jsxs(hM,{size:"small",fullWidth:!0,children:[Qt.jsx(fM,{children:"Country"}),Qt.jsxs(BT,{value:a,label:"Country",onChange:vt=>g(vt.target.value),children:[Qt.jsx(H5,{value:"all",children:"All Countries"}),z.map(vt=>Qt.jsx(H5,{value:vt,children:vt},vt))]})]})]})]}),k&&Qt.jsx(OTt,{severity:"error",onClose:()=>R(null),sx:{m:r?1:2,flexShrink:0},children:k}),D&&Qt.jsx(no,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:4},children:Qt.jsx(MT,{})}),!D&&Qt.jsxs(no,{sx:{flexGrow:1,overflowY:"auto",overflowX:"hidden",minHeight:0},children:[Qt.jsx(_w,{dense:r,sx:{overflowX:"hidden"},children:X.map(vt=>{const It=wt(vt.extent),Ft=$.some(Et=>Et.id===vt.id);return Qt.jsxs(no,{sx:{overflowX:"hidden"},children:[Qt.jsx(kE,{disablePadding:!0,sx:{overflowX:"hidden"},secondaryAction:Qt.jsxs(no,{sx:{display:"flex",gap:.5},children:[vt.extent&&Qt.jsx(Xd,{size:"small",color:"primary",onClick:()=>dt(vt.extent),title:"Zoom to extent",sx:r?{p:.25}:{},children:Qt.jsx(zW,{fontSize:r?"small":"medium"})}),Qt.jsx(Xd,{size:"small",color:"primary",onClick:()=>mt(vt),disabled:v===vt.id||Ft,title:Ft?"Service added":"Add service",sx:r?{p:.25}:{},children:v===vt.id?Qt.jsx(MT,{size:20}):Qt.jsx(ARt,{fontSize:r?"small":"medium"})})]}),children:Qt.jsx(IIt,{dense:r,sx:{overflowX:"hidden",pr:r?8:10},children:Qt.jsx(IE,{primary:vt.name,secondary:Qt.jsxs(Qt.Fragment,{children:[vt.description&&!r&&Qt.jsx(Io,{component:"span",variant:"caption",display:"block",sx:{mb:.5},children:vt.description}),Qt.jsxs(no,{component:"span",sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:r?.25:0},children:[Qt.jsx(q2,{label:vt.category,size:"small",sx:r?{height:18,fontSize:"0.65rem"}:{}}),Qt.jsx(q2,{label:vt.country,size:"small",color:"primary",sx:r?{height:18,fontSize:"0.65rem"}:{}}),at&&!r&&Qt.jsx(q2,{label:It?"In View":"Out of View",size:"small",color:It?"success":"default"})]})]}),primaryTypographyProps:r?{variant:"caption",fontSize:"0.75rem",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}:{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},secondaryTypographyProps:{component:"div"}})})}),Qt.jsx(Fv,{})]},vt.id)})}),X.length===0&&Qt.jsx(no,{sx:{p:r?1:2,textAlign:"center"},children:Qt.jsx(Io,{variant:"body2",color:"text.secondary",fontSize:r?"0.75rem":void 0,children:"No services found matching your criteria."})})]}),rt>0&&!D&&Qt.jsxs(no,{sx:{p:r?1:2,borderTop:1,borderColor:"divider",flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[Qt.jsxs(Io,{variant:"caption",color:"text.secondary",children:["Showing ",(A-1)*it+1,"-",Math.min(A*it,rt)," of ",rt," services"]}),Qt.jsx(RE,{spacing:2,children:Qt.jsx(N3t,{count:pt,page:A,onChange:(vt,It)=>O(It),color:"primary",size:r?"small":"medium"})})]})]});return r?Ct:Qt.jsx(AW,{anchor:"left",open:t,onClose:e,sx:{"& .MuiDrawer-paper":{width:400,boxSizing:"border-box"}},children:Ct})}function K4t({service:t}){const[e,r]=ht.useState(!0),[n,i]=ht.useState(!1),[o,u]=ht.useState(null),[a,g]=ht.useState(!1),v=i4({mapId:"map-1"}),{toggleWMSService:x,toggleWMSLayer:k,removeWMSService:R,updateWMSOpacity:A}=Xv(),O=()=>{if(t.extent&&v.map){const[G,z,j,X]=t.extent;v.map.fitBounds([[G,z],[j,X]],{padding:50,duration:1e3})}},D=async()=>{if(i(!0),!o){g(!0);try{const G=await W4t(t.id);u(G)}catch(G){console.error("Failed to load WMS details:",G)}finally{g(!1)}}},U=G=>{navigator.clipboard.writeText(G)},H=`${t.url}?service=WMS&request=GetCapabilities`;return Qt.jsxs(no,{sx:{borderBottom:1,borderColor:"divider",overflowX:"hidden"},children:[Qt.jsxs(kE,{dense:!0,sx:{py:.25,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"},overflowX:"hidden"},children:[Qt.jsx(AV,{edge:"start",checked:t.visible,onChange:()=>x(t.id),size:"small",sx:{py:0}}),Qt.jsx(IE,{primary:t.title,secondary:`${t.layers.length} layer(s)`,primaryTypographyProps:{variant:"caption",fontSize:"0.8rem",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}},secondaryTypographyProps:{variant:"caption",fontSize:"0.7rem"}}),Qt.jsx(a2,{title:"Service info",children:Qt.jsx(Xd,{size:"small",onClick:D,sx:{p:.5},children:Qt.jsx(RRt,{fontSize:"small"})})}),t.extent&&Qt.jsx(a2,{title:"Zoom to extent",children:Qt.jsx(Xd,{size:"small",onClick:O,sx:{p:.5},children:Qt.jsx(zW,{fontSize:"small"})})}),Qt.jsx(a2,{title:"Remove service",children:Qt.jsx(Xd,{size:"small",onClick:()=>R(t.id),color:"error",sx:{p:.5},children:Qt.jsx(IRt,{fontSize:"small"})})}),Qt.jsx(Xd,{size:"small",onClick:()=>r(!e),sx:{p:.5},children:e?Qt.jsx(pM,{fontSize:"small"}):Qt.jsx(DW,{fontSize:"small"})})]}),Qt.jsxs(Tkt,{open:n,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[Qt.jsx(zkt,{children:Qt.jsxs(no,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Qt.jsx(Io,{variant:"h6",children:t.title}),Qt.jsx(Xd,{size:"small",onClick:()=>i(!1),children:Qt.jsx(pM,{})})]})}),Qt.jsx(Okt,{children:Qt.jsxs(RE,{spacing:2,children:[t.abstract&&Qt.jsxs(no,{children:[Qt.jsx(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Description"}),Qt.jsx(Io,{variant:"body2",color:"text.secondary",children:t.abstract})]}),a&&Qt.jsx(Io,{variant:"body2",color:"text.secondary",children:"Loading details..."}),o&&Qt.jsxs(Qt.Fragment,{children:[o.description&&Qt.jsxs(no,{children:[Qt.jsx(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Additional Info"}),Qt.jsx(Io,{variant:"body2",color:"text.secondary",children:o.description})]}),Qt.jsx(no,{children:Qt.jsxs(RE,{direction:"row",spacing:1,children:[Qt.jsx(q2,{label:o.category,size:"small"}),Qt.jsx(q2,{label:o.country,size:"small",color:"primary"})]})})]}),Qt.jsx(Fv,{}),Qt.jsxs(no,{children:[Qt.jsx(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Technical Details"}),Qt.jsxs(RE,{spacing:1,children:[t.version&&Qt.jsxs(Io,{variant:"body2",children:[Qt.jsx("strong",{children:"WMS Version:"})," ",t.version]}),Qt.jsxs(Io,{variant:"body2",children:[Qt.jsx("strong",{children:"Layers:"})," ",t.layers.length]}),t.extent&&Qt.jsxs(Io,{variant:"body2",children:[Qt.jsx("strong",{children:"Extent:"})," [",t.extent.map(G=>G.toFixed(2)).join(", "),"]"]})]})]}),t.attribution&&Qt.jsxs(Qt.Fragment,{children:[Qt.jsx(Fv,{}),Qt.jsxs(no,{children:[Qt.jsx(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Attribution"}),Qt.jsx(Io,{variant:"body2",color:"text.secondary",children:t.attribution})]})]}),Qt.jsx(Fv,{}),Qt.jsxs(no,{children:[Qt.jsxs(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:["Available Layers (",t.layers.length,")"]}),Qt.jsx(_w,{dense:!0,disablePadding:!0,sx:{maxHeight:200,overflowY:"auto"},children:t.layers.map(G=>Qt.jsx(kE,{sx:{px:0,py:.5},children:Qt.jsx(IE,{primary:Qt.jsx(Io,{variant:"body2",fontWeight:"medium",children:G.title}),secondary:Qt.jsxs(Qt.Fragment,{children:[Qt.jsxs(Io,{variant:"caption",component:"span",display:"block",color:"text.secondary",children:["Name: ",G.name]}),G.abstract&&Qt.jsx(Io,{variant:"caption",component:"span",display:"block",color:"text.secondary",children:G.abstract})]})})},G.id))})]}),Qt.jsx(Fv,{}),Qt.jsxs(no,{children:[Qt.jsx(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"GetCapabilities URL"}),Qt.jsxs(no,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[Qt.jsx(Io,{variant:"body2",sx:{flexGrow:1,wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.75rem",bgcolor:"action.hover",p:1,borderRadius:1},children:H}),Qt.jsx(a2,{title:"Copy to clipboard",children:Qt.jsx(Xd,{size:"small",onClick:()=>U(H),children:Qt.jsx(XV,{fontSize:"small"})})})]}),Qt.jsx(no,{sx:{mt:1},children:Qt.jsx(CV,{size:"small",variant:"outlined",onClick:()=>window.open(H,"_blank"),fullWidth:!0,children:"Open Capabilities in New Tab"})})]}),Qt.jsxs(no,{children:[Qt.jsx(Io,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Service URL"}),Qt.jsxs(no,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[Qt.jsx(Io,{variant:"body2",sx:{flexGrow:1,wordBreak:"break-all",fontFamily:"monospace",fontSize:"0.75rem",bgcolor:"action.hover",p:1,borderRadius:1},children:t.url}),Qt.jsx(a2,{title:"Copy to clipboard",children:Qt.jsx(Xd,{size:"small",onClick:()=>U(t.url),children:Qt.jsx(XV,{fontSize:"small"})})})]})]})]})}),Qt.jsx(Ikt,{children:Qt.jsx(CV,{onClick:()=>i(!1),children:"Close"})})]}),Qt.jsx(NT,{in:e,timeout:0,unmountOnExit:!0,children:Qt.jsxs(no,{sx:{pl:3,pr:1.5,py:.5,bgcolor:"action.hover",overflowX:"hidden"},children:[Qt.jsxs(no,{sx:{mb:.5},children:[Qt.jsx(Io,{variant:"caption",fontSize:"0.7rem",gutterBottom:!0,display:"block",children:"Opacity"}),Qt.jsx(cRt,{value:t.opacity,onChange:(G,z)=>A(t.id,z),min:0,max:1,step:.1,valueLabelDisplay:"auto",size:"small",sx:{mt:.5}})]}),Qt.jsx(_w,{dense:!0,disablePadding:!0,children:t.layers.map(G=>Qt.jsxs(kE,{sx:{py:.15,pl:0,overflowX:"hidden"},children:[Qt.jsx(AV,{edge:"start",checked:G.visible,onChange:()=>k(t.id,G.id),size:"small",sx:{py:0,flexShrink:0}}),Qt.jsx(IE,{primary:G.title,secondary:G.abstract,primaryTypographyProps:{variant:"caption",fontSize:"0.75rem",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},secondaryTypographyProps:{variant:"caption",sx:{fontSize:"0.65rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"}}})]},G.id))})]})})]})}function Z4t({open:t}){const{wmsServices:e}=Xv(),[r,n]=ht.useState(!0);return Qt.jsx(AW,{variant:"persistent",anchor:"left",open:t,sx:{width:t?{xs:"100%",sm:320,md:350}:0,flexShrink:0,"& .MuiDrawer-paper":{width:{xs:"100%",sm:320,md:350},maxWidth:{xs:"85vw",sm:350},boxSizing:"border-box",top:48,height:"calc(100% - 48px)",border:"none",borderRight:1,borderColor:"divider",transition:"width 0.3s ease-in-out",overflowX:"hidden",overflowY:"auto"}},children:Qt.jsxs(no,{sx:{height:"100%",minHeight:"fit-content",bgcolor:"background.default",display:"flex",flexDirection:"column",overflow:"hidden"},children:[Qt.jsxs(no,{sx:{display:"flex",flexDirection:"column",flexGrow:r?1:0,minHeight:r?0:"auto",overflow:"hidden"},children:[Qt.jsxs(no,{sx:{p:1.5,borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",gap:1,bgcolor:"primary.main",color:"primary.contrastText",cursor:"pointer",flexShrink:0,"&:hover":{bgcolor:"primary.dark"}},onClick:()=>n(!r),children:[Qt.jsx(BW,{fontSize:"small"}),Qt.jsx(Io,{variant:"subtitle2",fontSize:"0.9rem",sx:{flexGrow:1},children:"WMS Library"}),Qt.jsx(Xd,{size:"small",sx:{color:"inherit",p:.5},children:r?Qt.jsx(pM,{fontSize:"small"}):Qt.jsx(DW,{fontSize:"small"})})]}),Qt.jsx(NT,{in:r,timeout:300,sx:{flexGrow:1,minHeight:0},children:Qt.jsx(no,{sx:{height:"100%",overflow:"hidden",borderBottom:1,borderColor:"divider",display:"flex",flexDirection:"column"},children:Qt.jsx(Y4t,{embedded:!0})})})]}),Qt.jsxs(no,{sx:{p:1.5,borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",gap:1,bgcolor:"background.paper",flexShrink:0},children:[Qt.jsx(NRt,{fontSize:"small"}),Qt.jsx(Io,{variant:"subtitle2",fontSize:"0.9rem",children:"Active Layers"})]}),Qt.jsx(no,{sx:{flexGrow:r?0:1,flexShrink:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:e.length===0?Qt.jsx(no,{sx:{p:1.5,textAlign:"center"},children:Qt.jsx(Io,{variant:"caption",color:"text.secondary",children:"No layers added yet. Use the WMS Library above to add services."})}):Qt.jsx(_w,{disablePadding:!0,sx:{overflowX:"hidden"},children:e.map(i=>Qt.jsx(K4t,{service:i},i.id))})})]})})}function Q4t(){const t=Lg(),e=CRt(t.breakpoints.down("md")),[r,n]=ht.useState(!e);ht.useEffect(()=>{n(!e)},[e]);const i=()=>{n(!r)},o=()=>{e&&n(!1)};return Qt.jsxs(no,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[Qt.jsx(qTt,{position:"static",elevation:2,sx:{zIndex:u=>u.zIndex.drawer+1,bgcolor:"primary.main"},children:Qt.jsxs(_Rt,{variant:"dense",sx:{minHeight:48},children:[Qt.jsx(Xd,{color:"inherit","aria-label":"toggle sidebar",edge:"start",onClick:i,sx:{mr:2},children:Qt.jsx(LRt,{})}),Qt.jsxs(no,{sx:{display:"flex",alignItems:"center",gap:1},children:[Qt.jsx(Io,{variant:"h6",component:"div",sx:{fontSize:{xs:"0.95rem",sm:"1.1rem"},display:{xs:"none",sm:"block"}},children:"WMS Map Viewer"}),Qt.jsx(Io,{variant:"h6",component:"div",sx:{fontSize:"0.95rem",display:{xs:"block",sm:"none"}},children:"Map Viewer"})]})]})}),Qt.jsxs(no,{sx:{display:"flex",flexGrow:1,overflow:"hidden",position:"relative"},children:[Qt.jsx(Z4t,{open:r}),e&&Qt.jsx(hO,{open:r,onClick:o,sx:{zIndex:u=>u.zIndex.drawer-1,top:48,bgcolor:"rgba(0, 0, 0, 0.5)"}}),Qt.jsxs(no,{sx:{flexGrow:1,position:"relative"},children:[Qt.jsx(MRt,{}),Qt.jsx(FW,{})]})]})]})}const J4t=LA({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}});sZ.createRoot(document.getElementById("root")).render(Qt.jsx(ht.StrictMode,{children:Qt.jsxs(CEt,{theme:J4t,children:[Qt.jsx(JAt,{}),Qt.jsx(Mit,{children:Qt.jsx(Q4t,{})})]})}));export{py as T,Ws as Z,Rw as d};
